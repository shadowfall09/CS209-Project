{"items":[{"tags":["java","binding","dagger-2","dagger"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1661798678,"post_id":73507120,"comment_id":129852747,"body_markdown":"Duped against [a previous question I answered](https://stackoverflow.com/questions/50483569/default-implementation-using-dagger-if-named-not-found) (which I recently edited with this question in mind). If this isn&#39;t applicable to your case, let me know and I can reopen.","body":"Duped against <a href=\"https://stackoverflow.com/questions/50483569/default-implementation-using-dagger-if-named-not-found\">a previous question I answered</a> (which I recently edited with this question in mind). If this isn&#39;t applicable to your case, let me know and I can reopen."},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":0,"creation_date":1661881329,"post_id":73507120,"comment_id":129875811,"body_markdown":"This is the the case. My case is different. I want dagger to inject default binding if Named is NOT specified. If Named is specified use that","body":"This is the the case. My case is different. I want dagger to inject default binding if Named is NOT specified. If Named is specified use that"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1661883031,"post_id":73507120,"comment_id":129876348,"body_markdown":"Reopened as requested, but the case isn&#39;t different. `@Poison Apple` and `Apple` are as independent as `Apple` and `Orange`. It&#39;s just another binding to provide.","body":"Reopened as requested, but the case isn&#39;t different. <code>@Poison Apple</code> and <code>Apple</code> are as independent as <code>Apple</code> and <code>Orange</code>. It&#39;s just another binding to provide."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661882885,"creation_date":1661882885,"answer_id":73546813,"question_id":73507120,"body_markdown":"This is the same case as [the dupe I had linked](https://stackoverflow.com/questions/50483569/default-implementation-using-dagger-if-named-not-found): `@Named(&quot;B&quot;) Base` and `Base` are entirely different bindings to Dagger, so there&#39;s no &quot;default&quot; to set, just a different injection to bind.\r\n\r\nThe best you can do is to use `@Binds` or `@Provides` to bind `Base`, which won&#39;t conflict with `@Named(&quot;B&quot;) Base`.\r\n\r\n```\r\n// Base injections without a @Named annotation should act as if they&#39;re @Named(&quot;B&quot;).\r\n@Binds abstract Base bindBase(@Named(&quot;B&quot;) Base bBase);\r\n```","title":"Use one binding as default when multiple bindings are present in Dagger","body":"<p>This is the same case as <a href=\"https://stackoverflow.com/questions/50483569/default-implementation-using-dagger-if-named-not-found\">the dupe I had linked</a>: <code>@Named(&quot;B&quot;) Base</code> and <code>Base</code> are entirely different bindings to Dagger, so there's no &quot;default&quot; to set, just a different injection to bind.</p>\n<p>The best you can do is to use <code>@Binds</code> or <code>@Provides</code> to bind <code>Base</code>, which won't conflict with <code>@Named(&quot;B&quot;) Base</code>.</p>\n<pre><code>// Base injections without a @Named annotation should act as if they're @Named(&quot;B&quot;).\n@Binds abstract Base bindBase(@Named(&quot;B&quot;) Base bBase);\n</code></pre>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661882885,"creation_date":1661554235,"question_id":73507120,"body_markdown":"I have two bindings for a single BaseClass. For example\r\n\r\n    class Base{\r\n    }\r\n    \r\n    class A extends Base{}\r\n    \r\n    class C extends Base{}\r\n    \r\n    @Provides\r\n    @Singleton\r\n    @Named(&quot;b&quot;\r\n    Base provideA(){\r\n      return A;\r\n    }\r\n    \r\n    @Provides\r\n    @Singleton\r\n    @Named(&quot;b&quot;)\r\n    Base provideB(){\r\n     return B;\r\n    }\r\n\r\nI dont want to sepcify @Named(&quot;b&quot;) in all the places which needs Base as dependency, but bidining named &quot;B&quot; should be used by default unless explicitly @Named is specified.\r\n\r\n        class BaseUSer{\r\n        \r\n         //I dont want to annotate base variable in all places @Named, but by default it should use @Named b\r\n    @Inject\r\n         public BaseUser(Base /*should use b*/ b, Base @Named(&quot;a&quot;) a){\r\n          \r\n         }\r\n\r\n\r\n","title":"Use one binding as default when multiple bindings are present in Dagger","body":"<p>I have two bindings for a single BaseClass. For example</p>\n<pre><code>class Base{\n}\n\nclass A extends Base{}\n\nclass C extends Base{}\n\n@Provides\n@Singleton\n@Named(&quot;b&quot;\nBase provideA(){\n  return A;\n}\n\n@Provides\n@Singleton\n@Named(&quot;b&quot;)\nBase provideB(){\n return B;\n}\n</code></pre>\n<p>I dont want to sepcify @Named(&quot;b&quot;) in all the places which needs Base as dependency, but bidining named &quot;B&quot; should be used by default unless explicitly @Named is specified.</p>\n<pre><code>    class BaseUSer{\n    \n     //I dont want to annotate base variable in all places @Named, but by default it should use @Named b\n@Inject\n     public BaseUser(Base /*should use b*/ b, Base @Named(&quot;a&quot;) a){\n      \n     }\n</code></pre>\n"},{"tags":["java","java-8","functional-interface"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1423515193,"post_id":28417262,"comment_id":45171406,"body_markdown":"Each Page of the API Doc has a link labelled “USE” at the top which you can click for [`Consumer`](http://docs.oracle.com/javase/8/docs/api/java/util/function/class-use/Consumer.html) and [`Supplier`](http://docs.oracle.com/javase/8/docs/api/java/util/function/class-use/Supplier.html) You may also search the [tutorial](http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) for `Consumer`…","body":"Each Page of the API Doc has a link labelled “USE” at the top which you can click for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/class-use/Consumer.html\" rel=\"nofollow noreferrer\"><code>Consumer</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/class-use/Supplier.html\" rel=\"nofollow noreferrer\"><code>Supplier</code></a> You may also search the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">tutorial</a> for <code>Consumer</code>…"},{"owner":{"account_id":291702,"reputation":989,"user_id":1232197,"accept_rate":73,"display_name":"anton1980"},"score":15,"creation_date":1550279360,"post_id":28417262,"comment_id":96223446,"body_markdown":"I love the answer by Stuart Marks. And I think most people who answered below missed the point. The question is not &quot;how&quot; to write Suppliers, Consumers and Functions. It is &quot;why&quot; in the world would you want to? For a person who is not used to them, they make the code much more complex. But the benefit of using them is not clear.","body":"I love the answer by Stuart Marks. And I think most people who answered below missed the point. The question is not &quot;how&quot; to write Suppliers, Consumers and Functions. It is &quot;why&quot; in the world would you want to? For a person who is not used to them, they make the code much more complex. But the benefit of using them is not clear."},{"owner":{"account_id":7690023,"reputation":744,"user_id":5826609,"accept_rate":20,"display_name":"Trunk"},"score":0,"creation_date":1562503781,"post_id":28417262,"comment_id":100386913,"body_markdown":"As far as I can see (and I share your frustration with the tangential descriptions) it&#39;s just a slick way of abstracting both object-type and object-treatment from an object used in a piece of code. This allows application of this same code to many different types of object by simply defining different new classes and injecting them into the Supplier and Consumer interfaces. So, in a police record system, the same superficial code is used for all suspects but the final printout for each depends on each suspect&#39;s classification, e.g. &#39;citizen&#39;, &#39;petty&#39;, &#39;larcen&#39;, &#39;felon&#39;, &#39;hardened&#39;, etc.","body":"As far as I can see (and I share your frustration with the tangential descriptions) it&#39;s just a slick way of abstracting both object-type and object-treatment from an object used in a piece of code. This allows application of this same code to many different types of object by simply defining different new classes and injecting them into the Supplier and Consumer interfaces. So, in a police record system, the same superficial code is used for all suspects but the final printout for each depends on each suspect&#39;s classification, e.g. &#39;citizen&#39;, &#39;petty&#39;, &#39;larcen&#39;, &#39;felon&#39;, &#39;hardened&#39;, etc."}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":2,"up_vote_count":119,"is_accepted":true,"score":117,"last_activity_date":1638732595,"creation_date":1423511014,"answer_id":28417951,"question_id":28417262,"body_markdown":"This is Supplier:\r\n\r\n    public Integer getInteger() {\r\n        return new Random().nextInt();\r\n    }\r\n\r\nThis is Consumer:\r\n\r\n    public void sum(Integer a, Integer b) {\r\n        System.out.println(a + b);\r\n    }\r\n\r\nSo in layman terms, a supplier is a method that returns some value (as in its return value). Whereas, a consumer is a method that consumes some value (as in method argument), and does some operations on them.\r\n\r\nThose will transform to something like these:\r\n\r\n    // new operator itself is a supplier, of the reference to the newly created object\r\n    Supplier&lt;List&lt;String&gt;&gt; listSupplier = ArrayList::new;\r\n    Consumer&lt;String&gt; printConsumer = a1 -&gt; System.out.println(a1);\r\n    BiConsumer&lt;Integer, Integer&gt; sumConsumer = (a1, a2) -&gt; System.out.println(a1 + a2);\r\n\r\nAs for usage, the very basic example would be: [`Stream#forEach(Consumer)`][1] method. It takes a Consumer, which consumes the element from the stream you&#39;re iterating upon, and performs some action on each of them. Probably print them.\r\n\r\n    Consumer&lt;String&gt; stringConsumer = (s) -&gt; System.out.println(s.length());\r\n    Arrays.asList(&quot;ab&quot;, &quot;abc&quot;, &quot;a&quot;, &quot;abcd&quot;).stream().forEach(stringConsumer);\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>This is Supplier:</p>\n<pre><code>public Integer getInteger() {\n    return new Random().nextInt();\n}\n</code></pre>\n<p>This is Consumer:</p>\n<pre><code>public void sum(Integer a, Integer b) {\n    System.out.println(a + b);\n}\n</code></pre>\n<p>So in layman terms, a supplier is a method that returns some value (as in its return value). Whereas, a consumer is a method that consumes some value (as in method argument), and does some operations on them.</p>\n<p>Those will transform to something like these:</p>\n<pre><code>// new operator itself is a supplier, of the reference to the newly created object\nSupplier&lt;List&lt;String&gt;&gt; listSupplier = ArrayList::new;\nConsumer&lt;String&gt; printConsumer = a1 -&gt; System.out.println(a1);\nBiConsumer&lt;Integer, Integer&gt; sumConsumer = (a1, a2) -&gt; System.out.println(a1 + a2);\n</code></pre>\n<p>As for usage, the very basic example would be: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"noreferrer\"><code>Stream#forEach(Consumer)</code></a> method. It takes a Consumer, which consumes the element from the stream you're iterating upon, and performs some action on each of them. Probably print them.</p>\n<pre><code>Consumer&lt;String&gt; stringConsumer = (s) -&gt; System.out.println(s.length());\nArrays.asList(&quot;ab&quot;, &quot;abc&quot;, &quot;a&quot;, &quot;abcd&quot;).stream().forEach(stringConsumer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":214,"is_accepted":false,"score":214,"last_activity_date":1423529650,"creation_date":1423529650,"answer_id":28422318,"question_id":28417262,"body_markdown":"The reason you&#39;re having difficulty grasping the meaning of functional interfaces such as those in `java.util.function` is that the interfaces defined here do not have any meaning! They are present primarily to represent *structure*, not *semantics*.\r\n\r\nThis is atypical for most Java APIs. The typical Java API, such as a class or interface, has meaning, and you can develop a mental model for what it represents and use that to understand the operations on it. Consider `java.util.List` for example. A `List` is a container of other objects. They have a sequence and an index. The number of objects contained in the list is returned by `size()`. Each object has an index in the range 0..size-1 (inclusive). The object at index *i* can be retrieved by calling `list.get(i)`. And so forth.\r\n\r\nThe functional interfaces in `java.util.function` don&#39;t have any such meaning. Instead, they&#39;re interfaces that merely represent the *structure* of a function, such as the number of arguments, the number of return values, and (sometimes) whether an argument or return value is a primitive. Thus we have something like `Function&lt;T,R&gt;` which represents a function that takes a single argument of type *T* and returns a value of type *R*. That&#39;s it. What does that function do? Well, it can do anything ... as long as it takes a single argument and returns a single value. That&#39;s why the specification for `Function&lt;T,R&gt;` is little more than &quot;Represents a function that accepts one argument and produces a result.&quot;\r\n\r\nClearly, when we&#39;re writing code, it has meaning, and that meaning has to come from somewhere. In the case of the functional interfaces, the meaning comes from the context in which they&#39;re used. The interface `Function&lt;T,R&gt;` has no meaning in isolation. However, in the `java.util.Map&lt;K,V&gt;` API, there is the following:\r\n\r\n    V computeIfAbsent(K key, Function&lt;K,V&gt; mappingFunction)\r\n\r\n(wildcards elided for brevity)\r\n\r\nAh, this use of `Function` is as a &quot;mapping function&quot;. What does that do? In this context, if `key` is not already present in the map, the mapping function is called and is handed the key and is expected to produce a value, and the resulting key-value pair is inserted into the map.\r\n\r\nSo you can&#39;t look at the specification for `Function` (or any of the other functional interfaces, for that matter) and attempt to discern what they mean. You have to look at where they&#39;re used in other APIs to understand what they mean, and that meaning applies only to that context.","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>The reason you're having difficulty grasping the meaning of functional interfaces such as those in <code>java.util.function</code> is that the interfaces defined here do not have any meaning! They are present primarily to represent <em>structure</em>, not <em>semantics</em>.</p>\n\n<p>This is atypical for most Java APIs. The typical Java API, such as a class or interface, has meaning, and you can develop a mental model for what it represents and use that to understand the operations on it. Consider <code>java.util.List</code> for example. A <code>List</code> is a container of other objects. They have a sequence and an index. The number of objects contained in the list is returned by <code>size()</code>. Each object has an index in the range 0..size-1 (inclusive). The object at index <em>i</em> can be retrieved by calling <code>list.get(i)</code>. And so forth.</p>\n\n<p>The functional interfaces in <code>java.util.function</code> don't have any such meaning. Instead, they're interfaces that merely represent the <em>structure</em> of a function, such as the number of arguments, the number of return values, and (sometimes) whether an argument or return value is a primitive. Thus we have something like <code>Function&lt;T,R&gt;</code> which represents a function that takes a single argument of type <em>T</em> and returns a value of type <em>R</em>. That's it. What does that function do? Well, it can do anything ... as long as it takes a single argument and returns a single value. That's why the specification for <code>Function&lt;T,R&gt;</code> is little more than \"Represents a function that accepts one argument and produces a result.\"</p>\n\n<p>Clearly, when we're writing code, it has meaning, and that meaning has to come from somewhere. In the case of the functional interfaces, the meaning comes from the context in which they're used. The interface <code>Function&lt;T,R&gt;</code> has no meaning in isolation. However, in the <code>java.util.Map&lt;K,V&gt;</code> API, there is the following:</p>\n\n<pre><code>V computeIfAbsent(K key, Function&lt;K,V&gt; mappingFunction)\n</code></pre>\n\n<p>(wildcards elided for brevity)</p>\n\n<p>Ah, this use of <code>Function</code> is as a \"mapping function\". What does that do? In this context, if <code>key</code> is not already present in the map, the mapping function is called and is handed the key and is expected to produce a value, and the resulting key-value pair is inserted into the map.</p>\n\n<p>So you can't look at the specification for <code>Function</code> (or any of the other functional interfaces, for that matter) and attempt to discern what they mean. You have to look at where they're used in other APIs to understand what they mean, and that meaning applies only to that context.</p>\n"},{"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1558313736,"creation_date":1423625050,"answer_id":28446048,"question_id":28417262,"body_markdown":"A `Supplier` is any method which takes no arguments and returns a value. Its job is literally to supply an instance of an expected class. For instance, every reference to a &#39;getter&#39; method is a `Supplier`\r\n\r\n    public Integer getCount(){\r\n        return this.count;\r\n    }\r\n\r\nIts instance method reference `myClass::getCount` is an instance of `Supplier&lt;Integer&gt;`.\r\n\r\nA `Consumer` is any method which takes arguments and returns nothing. It is invoked for its side-effects. In Java terms, a `Consumer` is an idiom for a `void` method. &#39;setter&#39; methods are a good example:\r\n\r\n    public void setCount(int count){\r\n        this.count = count;\r\n    }\r\n\r\nIts instance method reference `myClass::setCount` is an instance of `Consumer&lt;Integer&gt;` and `IntConsumer`.\r\n\r\nA `Function&lt;A,B&gt;` is any method which takes an argument of one type, and returns another. This can be referred to as a &#39;transformation&#39;. The `Function&lt;A,B&gt;` takes an `A` and returns a `B`. Notable is that for a given value of `A`, the function should always return a specific value of `B`. `A` and `B` can in fact be the same type, such as the following:\r\n\r\n    public Integer addTwo(int i){\r\n        return i+2;\r\n    }\r\n\r\nIts instance method reference `myClass:addTwo` is a `Function&lt;Integer, Integer&gt;` and a `ToIntFunction&lt;Integer&gt;`.\r\n\r\nA Class method reference to a getter is another example of a function.\r\n\r\n    public Integer getCount(){\r\n        return this.count;\r\n    }\r\n\r\nIts class method reference `MyClass::getCount` is an instance of `Function&lt;MyClass,Integer&gt;` and `ToIntFunction&lt;MyClass&gt;`.","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>A <code>Supplier</code> is any method which takes no arguments and returns a value. Its job is literally to supply an instance of an expected class. For instance, every reference to a 'getter' method is a <code>Supplier</code></p>\n\n<pre><code>public Integer getCount(){\n    return this.count;\n}\n</code></pre>\n\n<p>Its instance method reference <code>myClass::getCount</code> is an instance of <code>Supplier&lt;Integer&gt;</code>.</p>\n\n<p>A <code>Consumer</code> is any method which takes arguments and returns nothing. It is invoked for its side-effects. In Java terms, a <code>Consumer</code> is an idiom for a <code>void</code> method. 'setter' methods are a good example:</p>\n\n<pre><code>public void setCount(int count){\n    this.count = count;\n}\n</code></pre>\n\n<p>Its instance method reference <code>myClass::setCount</code> is an instance of <code>Consumer&lt;Integer&gt;</code> and <code>IntConsumer</code>.</p>\n\n<p>A <code>Function&lt;A,B&gt;</code> is any method which takes an argument of one type, and returns another. This can be referred to as a 'transformation'. The <code>Function&lt;A,B&gt;</code> takes an <code>A</code> and returns a <code>B</code>. Notable is that for a given value of <code>A</code>, the function should always return a specific value of <code>B</code>. <code>A</code> and <code>B</code> can in fact be the same type, such as the following:</p>\n\n<pre><code>public Integer addTwo(int i){\n    return i+2;\n}\n</code></pre>\n\n<p>Its instance method reference <code>myClass:addTwo</code> is a <code>Function&lt;Integer, Integer&gt;</code> and a <code>ToIntFunction&lt;Integer&gt;</code>.</p>\n\n<p>A Class method reference to a getter is another example of a function.</p>\n\n<pre><code>public Integer getCount(){\n    return this.count;\n}\n</code></pre>\n\n<p>Its class method reference <code>MyClass::getCount</code> is an instance of <code>Function&lt;MyClass,Integer&gt;</code> and <code>ToIntFunction&lt;MyClass&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":4727881,"reputation":1345,"user_id":3824267,"display_name":"Dhruv Rai Puri"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1556799405,"creation_date":1450529833,"answer_id":34371025,"question_id":28417262,"body_markdown":"**Why are Consumer/Supplier/other functional interfaces defined in java.util.function package**: Consumer and Supplier are two, among many, of the in-built functional interfaces provided in Java 8. The purpose of all these in-built functional interfaces is to provide a ready &quot;template&quot; for functional interfaces having common function descriptors(functional method signatures/definitions).\r\n\r\nLets say we have a required to convert a type T to another type R. If we were to pass *any* function defined like this as a parameter to a method, then that method would need to define a Functional Interface whose functional/abstract method takes parameter of type T as input and gives a parameter of type R as output. Now, there could be many scenarios like this and the programmer(s) would end up defining multiple functional interfaces for their needs. To avoid this kind of a scenario, ease programming &amp; bring a common standard in usage of functional interfaces, a set of in-built functional interfaces such as Predicate, Function, Consumer &amp; Supplier have been defined.\r\n\r\n**What does Consumer do**: Consumer functional interface accepts an input, does something with that input and does not give any output. Its definition is like this (from Java Source) - \r\n\r\n    @FunctionalInterface\r\n    public interface Consumer&lt;T&gt; {\r\n     void accept(T t);\r\n    }\r\nHere accept() is the functional\\abstract method which does takes an input and returns no output. So, if you want to input an Integer, do something with it with no output then instead of defining your own interface use an instance of Consumer&lt;Integer&gt;. \r\n\r\n**What does Supplier do**: Supplier functional interface does not take any input but returns an output. Its defined like this(from Java Source) - \r\n\r\n    @FunctionalInterface\r\n    public interface Supplier&lt;T&gt; {\r\n      T get();\r\n    }\r\nWherever you need a function which returns something, say an Integer, but takes no output use an instance of Supplier&lt;Integer&gt;.\r\n\r\nIn case more clarity, along with example usage, of Consumer &amp; Supplier interfaces is needed then you can refer my blog posts on the same - http://www.javabrahman.com/java-8/java-8-java-util-function-consumer-tutorial-with-examples/ **and** http://www.javabrahman.com/java-8/java-8-java-util-function-supplier-tutorial-with-examples/","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p><strong>Why are Consumer/Supplier/other functional interfaces defined in java.util.function package</strong>: Consumer and Supplier are two, among many, of the in-built functional interfaces provided in Java 8. The purpose of all these in-built functional interfaces is to provide a ready \"template\" for functional interfaces having common function descriptors(functional method signatures/definitions).</p>\n\n<p>Lets say we have a required to convert a type T to another type R. If we were to pass <em>any</em> function defined like this as a parameter to a method, then that method would need to define a Functional Interface whose functional/abstract method takes parameter of type T as input and gives a parameter of type R as output. Now, there could be many scenarios like this and the programmer(s) would end up defining multiple functional interfaces for their needs. To avoid this kind of a scenario, ease programming &amp; bring a common standard in usage of functional interfaces, a set of in-built functional interfaces such as Predicate, Function, Consumer &amp; Supplier have been defined.</p>\n\n<p><strong>What does Consumer do</strong>: Consumer functional interface accepts an input, does something with that input and does not give any output. Its definition is like this (from Java Source) - </p>\n\n<pre><code>@FunctionalInterface\npublic interface Consumer&lt;T&gt; {\n void accept(T t);\n}\n</code></pre>\n\n<p>Here accept() is the functional\\abstract method which does takes an input and returns no output. So, if you want to input an Integer, do something with it with no output then instead of defining your own interface use an instance of Consumer. </p>\n\n<p><strong>What does Supplier do</strong>: Supplier functional interface does not take any input but returns an output. Its defined like this(from Java Source) - </p>\n\n<pre><code>@FunctionalInterface\npublic interface Supplier&lt;T&gt; {\n  T get();\n}\n</code></pre>\n\n<p>Wherever you need a function which returns something, say an Integer, but takes no output use an instance of Supplier.</p>\n\n<p>In case more clarity, along with example usage, of Consumer &amp; Supplier interfaces is needed then you can refer my blog posts on the same - <a href=\"http://www.javabrahman.com/java-8/java-8-java-util-function-consumer-tutorial-with-examples/\" rel=\"noreferrer\">http://www.javabrahman.com/java-8/java-8-java-util-function-consumer-tutorial-with-examples/</a> <strong>and</strong> <a href=\"http://www.javabrahman.com/java-8/java-8-java-util-function-supplier-tutorial-with-examples/\" rel=\"noreferrer\">http://www.javabrahman.com/java-8/java-8-java-util-function-supplier-tutorial-with-examples/</a></p>\n"},{"tags":[],"owner":{"account_id":4159728,"reputation":469,"user_id":3410093,"display_name":"lalitbhagtani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1486468050,"creation_date":1486468050,"answer_id":42089111,"question_id":28417262,"body_markdown":"In Laymen terms,\r\n\r\nsupplier will supply data but without consuming any data. In programming terms a method which doesn&#39;t take any argument but return a value. It is used to generate new values.\r\n\r\nhttp://codedestine.com/java-8-supplier-interface/\r\n\r\nconsumer will consume data and but do not return any data. In programming terms a method which takes multiple argument and does not return any value. \r\n\r\nhttp://codedestine.com/java-8-consumer-interface/\r\n\r\n","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>In Laymen terms,</p>\n\n<p>supplier will supply data but without consuming any data. In programming terms a method which doesn't take any argument but return a value. It is used to generate new values.</p>\n\n<p><a href=\"http://codedestine.com/java-8-supplier-interface/\" rel=\"nofollow noreferrer\">http://codedestine.com/java-8-supplier-interface/</a></p>\n\n<p>consumer will consume data and but do not return any data. In programming terms a method which takes multiple argument and does not return any value. </p>\n\n<p><a href=\"http://codedestine.com/java-8-consumer-interface/\" rel=\"nofollow noreferrer\">http://codedestine.com/java-8-consumer-interface/</a></p>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1491915275,"creation_date":1491915275,"answer_id":43346537,"question_id":28417262,"body_markdown":"1. Meaning\r\n----------\r\n\r\nSee my answers to my question [here][1] and also another [here][2], but in short these new Interfaces provide **convention** and **descriptiveness** for everyone to use (+ funky method chaining such as `.forEach(someMethod().andThen(otherMethod()))`\r\n \r\n  \r\n\r\n2. Differences\r\n--\r\n\r\n**Consumer**:  Takes something, does something, returns nothing: `void accept(T t)`\r\n\r\n**Supplier:**  Takes nothing, returns something :   `T get()` (reverse of Consumer, basically a universal &#39;getter&#39; method)\r\n\r\n\r\n\r\n3. Usage\r\n--\r\n\r\n    // Consumer: It takes something (a String) and does something (prints it) \r\n        List&lt;Person&gt; personList = getPersons();\r\n        \r\n         personList.stream()\r\n                        .map(Person::getName)    \r\n                        .forEach(System.out::println); \r\n\r\nSupplier: wrap repetitive code, e.g. code execution timing\r\n\r\n    public class SupplierExample {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // Imagine a class Calculate with some methods\r\n            Double result1 = timeMe(Calculate::doHeavyComputation);\r\n            Double result2 = timeMe(Calculate::doMoreComputation);\r\n        }\r\n        private static Double timeMe(Supplier&lt;Double&gt; code) {\r\n    \r\n            Instant start = Instant.now();\r\n            // Supplier method .get() just invokes whatever it is passed\r\n            Double result = code.get();\r\n            Instant end = Instant.now();\r\n    \r\n            Duration elapsed = Duration.between(start,end);\r\n            System.out.println(&quot;Computation took:&quot; + elapsed.toMillis());\r\n    \r\n            return result;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43050679/purpose-of-functional-interfaces-in-java8\r\n  [2]: https://stackoverflow.com/questions/36881826/what-is-use-of-functional-interface-in-java-8\r\n\r\n\r\n","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<h2>1. Meaning</h2>\n\n<p>See my answers to my question <a href=\"https://stackoverflow.com/questions/43050679/purpose-of-functional-interfaces-in-java8\">here</a> and also another <a href=\"https://stackoverflow.com/questions/36881826/what-is-use-of-functional-interface-in-java-8\">here</a>, but in short these new Interfaces provide <strong>convention</strong> and <strong>descriptiveness</strong> for everyone to use (+ funky method chaining such as <code>.forEach(someMethod().andThen(otherMethod()))</code></p>\n\n<h2>2. Differences</h2>\n\n<p><strong>Consumer</strong>:  Takes something, does something, returns nothing: <code>void accept(T t)</code></p>\n\n<p><strong>Supplier:</strong>  Takes nothing, returns something :   <code>T get()</code> (reverse of Consumer, basically a universal 'getter' method)</p>\n\n<h2>3. Usage</h2>\n\n<pre><code>// Consumer: It takes something (a String) and does something (prints it) \n    List&lt;Person&gt; personList = getPersons();\n\n     personList.stream()\n                    .map(Person::getName)    \n                    .forEach(System.out::println); \n</code></pre>\n\n<p>Supplier: wrap repetitive code, e.g. code execution timing</p>\n\n<pre><code>public class SupplierExample {\n\n    public static void main(String[] args) {\n\n        // Imagine a class Calculate with some methods\n        Double result1 = timeMe(Calculate::doHeavyComputation);\n        Double result2 = timeMe(Calculate::doMoreComputation);\n    }\n    private static Double timeMe(Supplier&lt;Double&gt; code) {\n\n        Instant start = Instant.now();\n        // Supplier method .get() just invokes whatever it is passed\n        Double result = code.get();\n        Instant end = Instant.now();\n\n        Duration elapsed = Duration.between(start,end);\n        System.out.println(\"Computation took:\" + elapsed.toMillis());\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5440948,"reputation":257,"user_id":4329067,"display_name":"Ankit Sood"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1492672897,"creation_date":1492672897,"answer_id":43512791,"question_id":28417262,"body_markdown":"Consumer and supplier are the interfaces provided by java. Consumer is use for iterate over the list elements and supplier is use for supply object&#39;s \r\n\r\nyou can easily understand with code demonstration.\r\n\r\n**Consumer**\r\n    \r\n    package com.java.java8;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Consumer;\r\n    \r\n    /**\r\n     * The Class ConsumerDemo.\r\n     *\r\n     * @author Ankit Sood Apr 20, 2017\r\n     */\r\n    public class ConsumerDemo {\r\n    \r\n        /**\r\n         * The main method.\r\n         *\r\n         * @param args\r\n         *            the arguments\r\n         */\r\n        public static void main(String[] args) {\r\n    \r\n    \tList&lt;String&gt; str = new ArrayList&lt;&gt;();\r\n    \tstr.add(&quot;DEMO&quot;);\r\n    \tstr.add(&quot;DEMO2&quot;);\r\n    \tstr.add(&quot;DEMO3&quot;);\r\n    \r\n    \t/* Consumer is use for iterate over the List */\r\n    \tConsumer&lt;String&gt; consumer = new Consumer&lt;String&gt;() {\r\n    \t    @Override\r\n    \t    public void accept(String t) {\r\n    \r\n    \t\t/* Print list element on consile */\r\n    \t\tSystem.out.println(t);\r\n    \t    }\r\n    \t};\r\n    \r\n    \tstr.forEach(consumer);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**Supplier**\r\n\r\n    package com.java.java8;\r\n    \r\n    import java.util.function.Supplier;\r\n    \r\n    /**\r\n     * The Class SupplierDemo.\r\n     *\r\n     * @author Ankit Sood Apr 20, 2017\r\n     */\r\n    public class SupplierDemo {\r\n    \r\n        /**\r\n         * The main method.\r\n         *\r\n         * @param args\r\n         *            the arguments\r\n         */\r\n        public static void main(String[] args) {\r\n    \tgetValue(() -&gt; &quot;Output1&quot;);\r\n    \tgetValue(() -&gt; &quot;OutPut2&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Gets the value.\r\n         *\r\n         * @param supplier\r\n         *            the supplier\r\n         * @return the value\r\n         */\r\n        public static void getValue(Supplier&lt;?&gt; supplier) {\r\n    \tSystem.out.println(supplier.get());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>Consumer and supplier are the interfaces provided by java. Consumer is use for iterate over the list elements and supplier is use for supply object's </p>\n\n<p>you can easily understand with code demonstration.</p>\n\n<p><strong>Consumer</strong></p>\n\n<pre><code>package com.java.java8;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\n/**\n * The Class ConsumerDemo.\n *\n * @author Ankit Sood Apr 20, 2017\n */\npublic class ConsumerDemo {\n\n    /**\n     * The main method.\n     *\n     * @param args\n     *            the arguments\n     */\n    public static void main(String[] args) {\n\n    List&lt;String&gt; str = new ArrayList&lt;&gt;();\n    str.add(\"DEMO\");\n    str.add(\"DEMO2\");\n    str.add(\"DEMO3\");\n\n    /* Consumer is use for iterate over the List */\n    Consumer&lt;String&gt; consumer = new Consumer&lt;String&gt;() {\n        @Override\n        public void accept(String t) {\n\n        /* Print list element on consile */\n        System.out.println(t);\n        }\n    };\n\n    str.forEach(consumer);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Supplier</strong></p>\n\n<pre><code>package com.java.java8;\n\nimport java.util.function.Supplier;\n\n/**\n * The Class SupplierDemo.\n *\n * @author Ankit Sood Apr 20, 2017\n */\npublic class SupplierDemo {\n\n    /**\n     * The main method.\n     *\n     * @param args\n     *            the arguments\n     */\n    public static void main(String[] args) {\n    getValue(() -&gt; \"Output1\");\n    getValue(() -&gt; \"OutPut2\");\n    }\n\n    /**\n     * Gets the value.\n     *\n     * @param supplier\n     *            the supplier\n     * @return the value\n     */\n    public static void getValue(Supplier&lt;?&gt; supplier) {\n    System.out.println(supplier.get());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1051059,"reputation":11277,"user_id":1054992,"accept_rate":71,"display_name":"james emanon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94777,"favorite_count":0,"down_vote_count":1,"up_vote_count":137,"accepted_answer_id":28417951,"answer_count":7,"score":136,"last_activity_date":1661882647,"creation_date":1423508446,"question_id":28417262,"body_markdown":"As a non-Java programmer learning Java, I am reading about `Supplier` and `Consumer` interfaces at the moment. And I can&#39;t wrap my head around their usage and meaning. \r\n\r\nWhen and why you would use these interfaces? Can someone give me a simple layperson example of this? \r\n\r\nI&#39;m finding the Doc examples not succinct enough for my understanding.","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>As a non-Java programmer learning Java, I am reading about <code>Supplier</code> and <code>Consumer</code> interfaces at the moment. And I can't wrap my head around their usage and meaning.</p>\n<p>When and why you would use these interfaces? Can someone give me a simple layperson example of this?</p>\n<p>I'm finding the Doc examples not succinct enough for my understanding.</p>\n"},{"tags":["java","vaadin8"],"answers":[{"tags":[],"owner":{"account_id":14527719,"reputation":373,"user_id":10493440,"display_name":"Eisenknurr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549375615,"creation_date":1549375615,"answer_id":54536227,"question_id":54535455,"body_markdown":"You extend download\r\n\r\n        fileDownloader.extend(download);\r\nbut try to remove the extension from fileDownloader\r\n\r\n     downloadButton.removeExtension(fileDownloader);\r\n\r\nThat is a mismatch. (Assuming that is a typo though.)\r\n\r\nYou can remove the button and then create a new Button, a new downloader and then extend that. Some extensions can&#39;t be removed though.\r\n\r\nHowever, you don&#39;t need that. You can just update the StreamResource and not touch the binding at all.\r\n\r\nA more elaborate example is the OnDemandDownloader from [https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile.html][1]\r\n\r\n\r\n         /**\r\n         * This specializes {@link FileDownloader} in a way, such that both the file name and content can be determined\r\n         * on-demand, i.e. when the user has clicked the component.\r\n         */\r\n        public class OnDemandFileDownloader extends FileDownloader {\r\n        \r\n          /**\r\n           * Provide both the {@link StreamSource} and the filename in an on-demand way.\r\n           */\r\n          public interface OnDemandStreamResource extends StreamSource {\r\n            String getFilename ();\r\n          }\r\n        \r\n          private static final long serialVersionUID = 1L;\r\n          private final OnDemandStreamResource onDemandStreamResource;\r\n        \r\n          public OnDemandFileDownloader (OnDemandStreamResource onDemandStreamResource) {\r\n            super(new StreamResource(onDemandStreamResource, &quot;&quot;));\r\n            this.onDemandStreamResource = checkNotNull(onDemandStreamResource,\r\n              &quot;The given on-demand stream resource may never be null!&quot;);\r\n          }\r\n        \r\n          @Override\r\n          public boolean handleConnectorRequest (VaadinRequest request, VaadinResponse response, String path)\r\n              throws IOException {\r\n            getResource().setFilename(onDemandStreamResource.getFilename());\r\n            return super.handleConnectorRequest(request, response, path);\r\n          }\r\n        \r\n          private StreamResource getResource () {\r\n            return (StreamResource) this.getResource(&quot;dl&quot;);\r\n          }\r\n        }\r\n\r\n  [1]: https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile.html\r\n","title":"vaadin FileDownloader reset extension","body":"<p>You extend download</p>\n\n<pre><code>    fileDownloader.extend(download);\n</code></pre>\n\n<p>but try to remove the extension from fileDownloader</p>\n\n<pre><code> downloadButton.removeExtension(fileDownloader);\n</code></pre>\n\n<p>That is a mismatch. (Assuming that is a typo though.)</p>\n\n<p>You can remove the button and then create a new Button, a new downloader and then extend that. Some extensions can't be removed though.</p>\n\n<p>However, you don't need that. You can just update the StreamResource and not touch the binding at all.</p>\n\n<p>A more elaborate example is the OnDemandDownloader from <a href=\"https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile.html\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile.html</a></p>\n\n<pre><code>     /**\n     * This specializes {@link FileDownloader} in a way, such that both the file name and content can be determined\n     * on-demand, i.e. when the user has clicked the component.\n     */\n    public class OnDemandFileDownloader extends FileDownloader {\n\n      /**\n       * Provide both the {@link StreamSource} and the filename in an on-demand way.\n       */\n      public interface OnDemandStreamResource extends StreamSource {\n        String getFilename ();\n      }\n\n      private static final long serialVersionUID = 1L;\n      private final OnDemandStreamResource onDemandStreamResource;\n\n      public OnDemandFileDownloader (OnDemandStreamResource onDemandStreamResource) {\n        super(new StreamResource(onDemandStreamResource, \"\"));\n        this.onDemandStreamResource = checkNotNull(onDemandStreamResource,\n          \"The given on-demand stream resource may never be null!\");\n      }\n\n      @Override\n      public boolean handleConnectorRequest (VaadinRequest request, VaadinResponse response, String path)\n          throws IOException {\n        getResource().setFilename(onDemandStreamResource.getFilename());\n        return super.handleConnectorRequest(request, response, path);\n      }\n\n      private StreamResource getResource () {\n        return (StreamResource) this.getResource(\"dl\");\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26201126,"reputation":1,"user_id":19881485,"display_name":"Richie Ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661882454,"creation_date":1661882454,"answer_id":73546729,"question_id":54535455,"body_markdown":"You can do a little trick:\r\n\r\n    downloadButton.removeExtension(downloadButton.getExtensions().iterator().next());\r\n\r\nthis worked for me when I was trying to add a different new download to the button and I wanted to remove the old download.","title":"vaadin FileDownloader reset extension","body":"<p>You can do a little trick:</p>\n<pre><code>downloadButton.removeExtension(downloadButton.getExtensions().iterator().next());\n</code></pre>\n<p>this worked for me when I was trying to add a different new download to the button and I wanted to remove the old download.</p>\n"}],"owner":{"account_id":3464846,"reputation":1474,"user_id":2900725,"accept_rate":42,"display_name":"zond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54536227,"answer_count":2,"score":0,"last_activity_date":1661882454,"creation_date":1549373051,"question_id":54535455,"body_markdown":"As we know, we have to extend `FileDownloader` with button to be able to download file.\r\n     \r\n    //\r\n    Button downloadButton = new Button(&quot;download&quot;);\r\n\r\n    private void  updateFileForDownload(){\r\n        ...       \r\n        StreamResource sr = getFileStream();\r\n        FileDownloader fileDownloader = new FileDownloader(sr);\r\n        fileDownloader.extend(downloadButton);\r\n        ...\r\n    }\r\n    private StreamResource getFileStream() {\r\n        StreamResource.StreamSource source = () -&gt; new ByteArrayInputStream(binderDocument.getBean().getFile());\r\n        StreamResource resource = new StreamResource(source, binderDocument.getBean().getFilename());\r\n        return resource;\r\n    }\r\n\r\nI have some problem in my application. If i call method `updateFileForDownload` more than one time a get more than one file by clicking on `downloadButton`. I need reset extension for Button or for `FileDownloader`. I tried both:\r\n\r\n     downloadButton.removeExtension(fileDownloader);\r\n\r\n Here we get \r\n\r\n&gt; java.lang.IllegalArgumentException: This connector is not the parent for given extension\r\n\tat com.vaadin.server.AbstractClientConnector.removeExtension(AbstractClientConnector.java:595)\r\n    \r\n    fileDownloader.removeExtension(downloadButton); \r\n\r\n and  here we cannot apply Button to Extension\r\n\r\nHow can I reset `FileDownloader` for Button?","title":"vaadin FileDownloader reset extension","body":"<p>As we know, we have to extend <code>FileDownloader</code> with button to be able to download file.</p>\n\n<pre><code>//\nButton downloadButton = new Button(\"download\");\n\nprivate void  updateFileForDownload(){\n    ...       \n    StreamResource sr = getFileStream();\n    FileDownloader fileDownloader = new FileDownloader(sr);\n    fileDownloader.extend(downloadButton);\n    ...\n}\nprivate StreamResource getFileStream() {\n    StreamResource.StreamSource source = () -&gt; new ByteArrayInputStream(binderDocument.getBean().getFile());\n    StreamResource resource = new StreamResource(source, binderDocument.getBean().getFilename());\n    return resource;\n}\n</code></pre>\n\n<p>I have some problem in my application. If i call method <code>updateFileForDownload</code> more than one time a get more than one file by clicking on <code>downloadButton</code>. I need reset extension for Button or for <code>FileDownloader</code>. I tried both:</p>\n\n<pre><code> downloadButton.removeExtension(fileDownloader);\n</code></pre>\n\n<p>Here we get </p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: This connector is not the parent for given extension\n      at com.vaadin.server.AbstractClientConnector.removeExtension(AbstractClientConnector.java:595)</p>\n</blockquote>\n\n<pre><code>fileDownloader.removeExtension(downloadButton); \n</code></pre>\n\n<p>and  here we cannot apply Button to Extension</p>\n\n<p>How can I reset <code>FileDownloader</code> for Button?</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":16923735,"reputation":155,"user_id":12239887,"display_name":"rubalvjaiswal"},"score":0,"creation_date":1661882145,"post_id":73417410,"comment_id":129876065,"body_markdown":"I found a solution to by writing the custom instrumentation by extending SimpleInstrumentation from graphql-java\n\n```","body":"I found a solution to by writing the custom instrumentation by extending SimpleInstrumentation from graphql-java  ```"}],"answers":[{"tags":[],"owner":{"account_id":16923735,"reputation":155,"user_id":12239887,"display_name":"rubalvjaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661882254,"creation_date":1661882254,"answer_id":73546687,"question_id":73417410,"body_markdown":"I found a solution to by writing the custom instrumentation by extending SimpleInstrumentation from graphql-java\r\n\r\nInstrumentation class as below\r\n```\r\npublic class MaxQueryCountInstrumentation extends SimpleInstrumentation {\r\n\r\n   private int maxQueryCount;\r\n   public MaxQueryCountInstrumentation(int maxqueryCount) {\r\n        this.maxQueryCount=maxqueryCount;\r\n    }\r\n\r\n\r\n    @Override\r\n    public InstrumentationContext&lt;ExecutionResult&gt; beginExecuteOperation(InstrumentationExecuteOperationParameters parameters) {\r\n        int size = ((OperationDefinition) parameters.getExecutionContext().getDocument().getDefinitions().get(0)).getSelectionSet().getSelections().size();\r\n        if (maxQueryCount &lt; size)\r\n            throw new AbortExecutionException(&quot;Maximum query count exceeded &quot; + size + &quot; &gt; &quot; + maxQueryCount);\r\n        return SimpleInstrumentationContext.noOp();\r\n    }\r\n\r\n}\r\n```\r\n\r\nConfig as below:\r\n\r\n```\r\n@Bean\r\n    @ConditionalOnMissingBean\r\n    @ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-count&quot;)\r\n    public MaxQueryCountInstrumentation maxQueryCountComplexity(@Value(&quot;${spring.graphql.instrumentation.max-query-count}&quot;) int maxqueryCount) {\r\n        return new MaxQueryCountInstrumentation(maxqueryCount);\r\n    }\r\n```","title":"How to create intrumentation for add contraint on number of queries executed in single API call?","body":"<p>I found a solution to by writing the custom instrumentation by extending SimpleInstrumentation from graphql-java</p>\n<p>Instrumentation class as below</p>\n<pre><code>public class MaxQueryCountInstrumentation extends SimpleInstrumentation {\n\n   private int maxQueryCount;\n   public MaxQueryCountInstrumentation(int maxqueryCount) {\n        this.maxQueryCount=maxqueryCount;\n    }\n\n\n    @Override\n    public InstrumentationContext&lt;ExecutionResult&gt; beginExecuteOperation(InstrumentationExecuteOperationParameters parameters) {\n        int size = ((OperationDefinition) parameters.getExecutionContext().getDocument().getDefinitions().get(0)).getSelectionSet().getSelections().size();\n        if (maxQueryCount &lt; size)\n            throw new AbortExecutionException(&quot;Maximum query count exceeded &quot; + size + &quot; &gt; &quot; + maxQueryCount);\n        return SimpleInstrumentationContext.noOp();\n    }\n\n}\n</code></pre>\n<p>Config as below:</p>\n<pre><code>@Bean\n    @ConditionalOnMissingBean\n    @ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-count&quot;)\n    public MaxQueryCountInstrumentation maxQueryCountComplexity(@Value(&quot;${spring.graphql.instrumentation.max-query-count}&quot;) int maxqueryCount) {\n        return new MaxQueryCountInstrumentation(maxqueryCount);\n    }\n</code></pre>\n"}],"owner":{"account_id":16923735,"reputation":155,"user_id":12239887,"display_name":"rubalvjaiswal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661882254,"creation_date":1660915059,"question_id":73417410,"body_markdown":"I&#39;m using spring-graphql 1.0.1 version, looking to add custom instrumentation to deny user to query if he tries to execute queries &gt; n. It will help to protect graphql server by serving limited number of queries per request.\r\n\r\nTo add the maxQueryComplexity and maxQueryDepth instrumentation are available, which I have configured as follows. Is there any way to create a custom instrumentation to for maxQueries \r\n```\r\n@Bean\r\n@ConditionalOnMissingBean\r\n@ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-complexity&quot;)\r\npublic MaxQueryComplexityInstrumentation maxQueryComplexityInstrumentation(@Value(&quot;${spring.graphql.instrumentation.max-query-complexity}&quot;) int maxComplexity) {\r\n    return new MaxQueryComplexityInstrumentation(maxComplexity);\r\n}\r\n\r\n@Bean\r\n@ConditionalOnMissingBean\r\n@ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-depth&quot;)\r\npublic MaxQueryDepthInstrumentation maxQueryDepthInstrumentation(@Value(&quot;${spring.graphql.instrumentation.max-query-depth}&quot;) int maxDepth) {\r\n    return new MaxQueryDepthInstrumentation(maxDepth);\r\n}\r\n```","title":"How to create intrumentation for add contraint on number of queries executed in single API call?","body":"<p>I'm using spring-graphql 1.0.1 version, looking to add custom instrumentation to deny user to query if he tries to execute queries &gt; n. It will help to protect graphql server by serving limited number of queries per request.</p>\n<p>To add the maxQueryComplexity and maxQueryDepth instrumentation are available, which I have configured as follows. Is there any way to create a custom instrumentation to for maxQueries</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean\n@ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-complexity&quot;)\npublic MaxQueryComplexityInstrumentation maxQueryComplexityInstrumentation(@Value(&quot;${spring.graphql.instrumentation.max-query-complexity}&quot;) int maxComplexity) {\n    return new MaxQueryComplexityInstrumentation(maxComplexity);\n}\n\n@Bean\n@ConditionalOnMissingBean\n@ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-depth&quot;)\npublic MaxQueryDepthInstrumentation maxQueryDepthInstrumentation(@Value(&quot;${spring.graphql.instrumentation.max-query-depth}&quot;) int maxDepth) {\n    return new MaxQueryDepthInstrumentation(maxDepth);\n}\n</code></pre>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"score":0,"creation_date":1537963920,"post_id":52515406,"comment_id":91974374,"body_markdown":"You should first compile your java project.","body":"You should first compile your java project."},{"owner":{"account_id":4020814,"reputation":716,"user_id":3311245,"accept_rate":0,"display_name":"Pavan T"},"score":0,"creation_date":1569497201,"post_id":52515406,"comment_id":102620673,"body_markdown":"You just have to provide &quot;target&quot; e.g sonar.java.binaries = target. It&#39;s working for me.","body":"You just have to provide &quot;target&quot; e.g sonar.java.binaries = target. It&#39;s working for me."}],"answers":[{"tags":[],"owner":{"account_id":14527987,"reputation":11,"user_id":10493642,"display_name":"Darrin Robinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539571566,"creation_date":1539571566,"answer_id":52809097,"question_id":52515406,"body_markdown":"I&#39;m sure that you figured this out already.  However, here&#39;s what you need to do for Java projects built using Maven.\r\n\r\nIf you&#39;re using the path &quot;**/target/classes&quot; then let&#39;s assume that you&#39;re using Maven for your builds.  You would perform a &quot;mvn clean package&quot; for your Sonarqube Scanner to work.   \r\n\r\nOnce you have used maven to compile and package into the standard directory (&quot;./target/classes&quot;) then just pass the appropriate setting to the scanner (either through a configuration file or the command line).  An example of passing through the command line is below.\r\n\r\n    \t\t${scanner_home}/bin/sonar-scanner \r\n\t\t\t\t-Dsonar.login=&lt;SONAR KEY&gt;\r\n\t\t\t\t-Dsonar.projectKey=&lt;PROJECT KEY&gt;\r\n\t\t\t\t-Dsonar.branch.name=&lt;BRANCH_NAME&gt;\r\n\t\t\t\t-Dsonar.branch.target=&lt;RELEASABLE BRANCH&gt;\r\n\t\t\t\t-Dsonar.sources=./src\r\n                -Dsonar.java.binaries=./target/classes\r\n\r\nNotice that I&#39;m using a relative path for the sonar.sources and sonar.java.binaries settings.  I do this in a Jenkins build pipeline and made this configurable since I also build PHP and use Composer, Gulp, npm, and other tool in my build process.  (If you&#39;re using the SonarQube Scanner for Maven, then you would put this into a property file.)","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>I'm sure that you figured this out already.  However, here's what you need to do for Java projects built using Maven.</p>\n\n<p>If you're using the path \"**/target/classes\" then let's assume that you're using Maven for your builds.  You would perform a \"mvn clean package\" for your Sonarqube Scanner to work.   </p>\n\n<p>Once you have used maven to compile and package into the standard directory (\"./target/classes\") then just pass the appropriate setting to the scanner (either through a configuration file or the command line).  An example of passing through the command line is below.</p>\n\n<pre><code>        ${scanner_home}/bin/sonar-scanner \n            -Dsonar.login=&lt;SONAR KEY&gt;\n            -Dsonar.projectKey=&lt;PROJECT KEY&gt;\n            -Dsonar.branch.name=&lt;BRANCH_NAME&gt;\n            -Dsonar.branch.target=&lt;RELEASABLE BRANCH&gt;\n            -Dsonar.sources=./src\n            -Dsonar.java.binaries=./target/classes\n</code></pre>\n\n<p>Notice that I'm using a relative path for the sonar.sources and sonar.java.binaries settings.  I do this in a Jenkins build pipeline and made this configurable since I also build PHP and use Composer, Gulp, npm, and other tool in my build process.  (If you're using the SonarQube Scanner for Maven, then you would put this into a property file.)</p>\n"},{"tags":[],"owner":{"account_id":304046,"reputation":4566,"user_id":613339,"accept_rate":81,"display_name":"bsautner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564764891,"creation_date":1564764891,"answer_id":57330706,"question_id":52515406,"body_markdown":"for the poor lost soul who finds themselves on this thread, you may encounter this error when migrating from gradle 4.x to 5.x as the classes folder is renamed from `classes` to `app_classes` and it&#39;s no longer `variant/flavor` it&#39;s `variantFlavor` - you can verify by building your app and looking in the build folder\r\n\r\n\r\nI had to change this sonarqube property in my build.gradle\r\n\r\n ``property &quot;sonar.java.binaries&quot;, &quot;build/intermediates/app_classes/betaDebug,build/tmp/kotlin-classes/betaDebug&quot;``","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>for the poor lost soul who finds themselves on this thread, you may encounter this error when migrating from gradle 4.x to 5.x as the classes folder is renamed from <code>classes</code> to <code>app_classes</code> and it's no longer <code>variant/flavor</code> it's <code>variantFlavor</code> - you can verify by building your app and looking in the build folder</p>\n\n<p>I had to change this sonarqube property in my build.gradle</p>\n\n<p><code>property \"sonar.java.binaries\", \"build/intermediates/app_classes/betaDebug,build/tmp/kotlin-classes/betaDebug\"</code></p>\n"},{"tags":[],"owner":{"account_id":454394,"reputation":4041,"user_id":851951,"accept_rate":32,"display_name":"Dani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578570890,"creation_date":1578570890,"answer_id":59663430,"question_id":52515406,"body_markdown":"Sometimes some modules could not generate sources, for example, working with Maven, those modules packaging as &#39;pom&#39;.\r\n\r\nTo avoid sonar analysing them, specify in your **sonar.properties** the property **sonar.modules** with the ones are generating sources.","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>Sometimes some modules could not generate sources, for example, working with Maven, those modules packaging as 'pom'.</p>\n\n<p>To avoid sonar analysing them, specify in your <strong>sonar.properties</strong> the property <strong>sonar.modules</strong> with the ones are generating sources.</p>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1585915764,"creation_date":1585915366,"answer_id":61011486,"question_id":52515406,"body_markdown":"One of the reasons might be that Sonar cannot find that directory if you do analysis before building your project.\r\nThe `target/classes` directory does not exist before you started building the project using maven.\r\n\r\nTry this value to workaround:\r\n\r\n    sonar.java.binaries=target\r\n\r\nor\r\n\r\n    sonar.java.binaries=.\r\n\r\n","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>One of the reasons might be that Sonar cannot find that directory if you do analysis before building your project.\nThe <code>target/classes</code> directory does not exist before you started building the project using maven.</p>\n\n<p>Try this value to workaround:</p>\n\n<pre><code>sonar.java.binaries=target\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sonar.java.binaries=.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5183476,"reputation":126,"user_id":4148452,"display_name":"Cristhian Camilo G&#243;mez Narv&#225;ez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661881543,"creation_date":1610491389,"answer_id":65693162,"question_id":52515406,"body_markdown":"The Answer from @bsaunter works.\r\nI have to add that you may encounter this error also when migrating from **gradle 5.x to 6.x**,\r\ngot to your build/intermediate/javac/debug folder and look what is generating sonarqube, the name of the folder could be &quot;classes&quot;\r\n\r\nLook for this property &quot;sonar.java.binaries&quot; on wherever file in your project folder and replace the value for the correct generated folder by sonarqube.","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>The Answer from @bsaunter works.\nI have to add that you may encounter this error also when migrating from <strong>gradle 5.x to 6.x</strong>,\ngot to your build/intermediate/javac/debug folder and look what is generating sonarqube, the name of the folder could be &quot;classes&quot;</p>\n<p>Look for this property &quot;sonar.java.binaries&quot; on wherever file in your project folder and replace the value for the correct generated folder by sonarqube.</p>\n"}],"owner":{"display_name":"user7128116"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21781,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1661881543,"creation_date":1537957151,"question_id":52515406,"body_markdown":"I&#39;m performing an analysis with Sonar but I get the following error:\r\n\r\n    Error during SonarQube Scanner execution\r\n    java.lang.IllegalStateException: No files nor directories matching &#39;target/classes&#39;\r\n\r\n\r\nIn my project I&#39;ve the target directory but no classes directory or files, what should be in there for the analysis to work?","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>I'm performing an analysis with Sonar but I get the following error:</p>\n\n<pre><code>Error during SonarQube Scanner execution\njava.lang.IllegalStateException: No files nor directories matching 'target/classes'\n</code></pre>\n\n<p>In my project I've the target directory but no classes directory or files, what should be in there for the analysis to work?</p>\n"},{"tags":["java","github","serial-port","apple-m1","gradlew"],"comments":[{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1661934203,"post_id":73546521,"comment_id":129887114,"body_markdown":"Hi, have you tried to execute the command as superuser?","body":"Hi, have you tried to execute the command as superuser?"},{"owner":{"account_id":26158011,"reputation":1,"user_id":19844994,"display_name":"AlexMad"},"score":0,"creation_date":1661935097,"post_id":73546521,"comment_id":129887465,"body_markdown":"Hi! Tried it right now, at first it started the download, and then the same problem occurred","body":"Hi! Tried it right now, at first it started the download, and then the same problem occurred"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1661951514,"post_id":73546521,"comment_id":129893551,"body_markdown":"My second guess would be that this is a problem with the M1 of the Macbook but I develope on Windows so this is not my expertiese. Since the M1 is an ARM architecture it could be that you need a special version of the JDK but I don&#39;t know","body":"My second guess would be that this is a problem with the M1 of the Macbook but I develope on Windows so this is not my expertiese. Since the M1 is an ARM architecture it could be that you need a special version of the JDK but I don&#39;t know"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1661951634,"post_id":73546521,"comment_id":129893608,"body_markdown":"Maybe https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip question can help you here","body":"Maybe <a href=\"https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip\" title=\"java jdk for the apple m1 chip\">stackoverflow.com/questions/64788005/&hellip;</a> question can help you here"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1661952007,"post_id":73546521,"comment_id":129893746,"body_markdown":"After looking at the open Issues of the GitHub page it seems this is in developement right now. See https://github.com/NeuronRobotics/nrjavaserial/issues/195","body":"After looking at the open Issues of the GitHub page it seems this is in developement right now. See <a href=\"https://github.com/NeuronRobotics/nrjavaserial/issues/195\" rel=\"nofollow noreferrer\">github.com/NeuronRobotics/nrjavaserial/issues/195</a>"}],"owner":{"account_id":26158011,"reputation":1,"user_id":19844994,"display_name":"AlexMad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661881333,"creation_date":1661881333,"question_id":73546521,"body_markdown":"I want to install COM port to connect my &quot;Extended&quot; controller (stabilization solution) but the software when plugged in, doesn&#39;t show any COM 3 ports. Found this solution https://github.com/NeuronRobotics/nrjavaserial\r\n\r\nMy steps: using the command git clone, after it is downloaded, I changed the directory to the folder it created.\r\n$ cd nrjavaserial\r\n\r\nAfter that, I tried to use this command.\r\n$./gradlew build      But it failed. Leaving this messagge in terminal : \r\n\r\n* What went wrong:\r\nCould not initialize class org.codehaus.groovy.runtime.InvokerHelper\r\n&gt; Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache [in thread &quot;Daemon worker&quot;]\r\n\r\nAny ideas? My guess is that java is not installed correctly or something is missing. Or support for this is not there.. Thank you in advance.\r\n\r\nUsing JAVA JDK jdk-18.0.2.1.jdk\r\nM1 Macbook Air.","title":"When trying to build &quot;./gradlew build&quot; but it says build failed","body":"<p>I want to install COM port to connect my &quot;Extended&quot; controller (stabilization solution) but the software when plugged in, doesn't show any COM 3 ports. Found this solution <a href=\"https://github.com/NeuronRobotics/nrjavaserial\" rel=\"nofollow noreferrer\">https://github.com/NeuronRobotics/nrjavaserial</a></p>\n<p>My steps: using the command git clone, after it is downloaded, I changed the directory to the folder it created.\n$ cd nrjavaserial</p>\n<p>After that, I tried to use this command.\n$./gradlew build      But it failed. Leaving this messagge in terminal :</p>\n<ul>\n<li>What went wrong:\nCould not initialize class org.codehaus.groovy.runtime.InvokerHelper</li>\n</ul>\n<blockquote>\n<p>Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache [in thread &quot;Daemon worker&quot;]</p>\n</blockquote>\n<p>Any ideas? My guess is that java is not installed correctly or something is missing. Or support for this is not there.. Thank you in advance.</p>\n<p>Using JAVA JDK jdk-18.0.2.1.jdk\nM1 Macbook Air.</p>\n"},{"tags":["java","yaml","quarkus","microprofile","smallrye"],"answers":[{"tags":[],"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661881241,"creation_date":1661881241,"answer_id":73546497,"question_id":73128085,"body_markdown":"My recommendation is to use the following mapping strategy:\r\n\r\n```java\r\n@ConfigMapping(prefix = &quot;my.filter&quot;)\r\ninterface RangesMapping {\r\n    List&lt;Ranges&gt; numberRange();\r\n\r\n    interface Ranges {\r\n        Range range();\r\n\r\n        interface Range {\r\n            String from();\r\n\r\n            String to();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis does not require any specific `Converter`. Everything is handled for you automatically.\r\n\r\nWhat you currently see is a legacy feature that provided the value of the parent property `my.filter` tree, so users could use a Converter, because there was no automatic conversion support for `List` or `Map`. That is not the case anymore and such property value will be removed.","title":"Quarkus converter for microprofile configMapping not giving full object","body":"<p>My recommendation is to use the following mapping strategy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigMapping(prefix = &quot;my.filter&quot;)\ninterface RangesMapping {\n    List&lt;Ranges&gt; numberRange();\n\n    interface Ranges {\n        Range range();\n\n        interface Range {\n            String from();\n\n            String to();\n        }\n    }\n}\n</code></pre>\n<p>This does not require any specific <code>Converter</code>. Everything is handled for you automatically.</p>\n<p>What you currently see is a legacy feature that provided the value of the parent property <code>my.filter</code> tree, so users could use a Converter, because there was no automatic conversion support for <code>List</code> or <code>Map</code>. That is not the case anymore and such property value will be removed.</p>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661881241,"creation_date":1658859626,"question_id":73128085,"body_markdown":"I have the following configuration:\r\n\r\n```\r\nmy:\r\n  filter:\r\n      number-range:\r\n        - range:\r\n              from: +994700110000\r\n              to: +994700110002\r\n```\r\n\r\nThe ConfigMapping is: \r\n\r\n```\r\n@ConfigMapping(prefix = &quot;my.filter&quot;)\r\npublic interface SmsGatewayFilterListConfig {\r\n\r\n    List&lt;RangeWrapper&gt; numberRange();\r\n}\r\n```\r\n\r\nwith pojos:\r\n\r\n```\r\n\r\npublic record RangeWrapper(Range range) {\r\n}\r\n\r\npublic record Range(String from,\r\n                    String to) {\r\n}\r\n\r\n```\r\n\r\nAnd my converter (registered in `META-INF/services/org.eclipse.microprofile.config.spi.Converter` ):\r\n\r\n```\r\nimport org.eclipse.microprofile.config.spi.Converter;\r\nimport org.yaml.snakeyaml.Yaml;\r\n\r\npublic class RangeWrapperConverter implements Converter&lt;RangeWrapper&gt; {\r\n    @Override\r\n    public RangeWrapper convert(String s) throws IllegalArgumentException, NullPointerException {\r\n        System.out.println(&quot;Got: &quot; + s);\r\n        return new Yaml().loadAs(s, RangeWrapper.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have the `quarkus-config-yaml` dependency set, and am using application.yml\r\n\r\n\r\nWhen i try to startup my quarkus app, I am getting parsing issues however, as the string which is passed to my converter is being:\r\n\r\n`{&quot;number-range&quot;: [{&quot;range&quot;: {&quot;from&quot;: &quot;+994700110000&quot;`\r\n\r\nThis seems to somehow be in json format, and even then not providing the full content of my yaml. What can be wrong please? ","title":"Quarkus converter for microprofile configMapping not giving full object","body":"<p>I have the following configuration:</p>\n<pre><code>my:\n  filter:\n      number-range:\n        - range:\n              from: +994700110000\n              to: +994700110002\n</code></pre>\n<p>The ConfigMapping is:</p>\n<pre><code>@ConfigMapping(prefix = &quot;my.filter&quot;)\npublic interface SmsGatewayFilterListConfig {\n\n    List&lt;RangeWrapper&gt; numberRange();\n}\n</code></pre>\n<p>with pojos:</p>\n<pre><code>\npublic record RangeWrapper(Range range) {\n}\n\npublic record Range(String from,\n                    String to) {\n}\n\n</code></pre>\n<p>And my converter (registered in <code>META-INF/services/org.eclipse.microprofile.config.spi.Converter</code> ):</p>\n<pre><code>import org.eclipse.microprofile.config.spi.Converter;\nimport org.yaml.snakeyaml.Yaml;\n\npublic class RangeWrapperConverter implements Converter&lt;RangeWrapper&gt; {\n    @Override\n    public RangeWrapper convert(String s) throws IllegalArgumentException, NullPointerException {\n        System.out.println(&quot;Got: &quot; + s);\n        return new Yaml().loadAs(s, RangeWrapper.class);\n    }\n}\n\n</code></pre>\n<p>I have the <code>quarkus-config-yaml</code> dependency set, and am using application.yml</p>\n<p>When i try to startup my quarkus app, I am getting parsing issues however, as the string which is passed to my converter is being:</p>\n<p><code>{&quot;number-range&quot;: [{&quot;range&quot;: {&quot;from&quot;: &quot;+994700110000&quot;</code></p>\n<p>This seems to somehow be in json format, and even then not providing the full content of my yaml. What can be wrong please?</p>\n"},{"tags":["java","maven","pom.xml","maven-failsafe-plugin","cucumber-serenity"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1590683948,"post_id":62069572,"comment_id":109779872,"body_markdown":"First remove the `surefire-junit47` from maven-surefire-plugin. Furthermore If I correctly remember the docs of cucumber it supports only JUnit 4 which means you have to add at minimum a dependency to junit 4 to your project.","body":"First remove the <code>surefire-junit47</code> from maven-surefire-plugin. Furthermore If I correctly remember the docs of cucumber it supports only JUnit 4 which means you have to add at minimum a dependency to junit 4 to your project."},{"owner":{"account_id":17983812,"reputation":35,"user_id":13069526,"display_name":"JagadeesanV"},"score":0,"creation_date":1590684867,"post_id":62069572,"comment_id":109780425,"body_markdown":"@khmarbaise - I added the surefire because of the answer in the post. https://stackoverflow.com/questions/19716619/maven-failsafe-plugin-doesnt-run-parallel-test\n\nI have the JUNIT dependency to 4.12. Thanks","body":"@khmarbaise - I added the surefire because of the answer in the post. <a href=\"https://stackoverflow.com/questions/19716619/maven-failsafe-plugin-doesnt-run-parallel-test\" title=\"maven failsafe plugin doesnt run parallel test\">stackoverflow.com/questions/19716619/&hellip;</a>  I have the JUNIT dependency to 4.12. Thanks"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1590685798,"post_id":62069572,"comment_id":109780942,"body_markdown":"First the mentioned post is 7 years old and was wrong at time of writing as it is today (has a dependency to the provider? etc. The question was about parallelisation). The JUnit 4.12 dependency is not visible in the posted pom? Furthermore a full working example on github or alike would be very helpful.","body":"First the mentioned post is 7 years old and was wrong at time of writing as it is today (has a dependency to the provider? etc. The question was about parallelisation). The JUnit 4.12 dependency is not visible in the posted pom? Furthermore a full working example on github or alike would be very helpful."}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661880609,"creation_date":1590705801,"answer_id":62075740,"question_id":62069572,"body_markdown":"You&#39;re using the wrong value for `parallel`. You have to set it to methods or both. Otherwise Surefire will run all tests of your runner class serially. \r\n\r\n&gt; https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit\r\n&gt;\r\n&gt; Cucumber JUnit supports parallel execution of feature files across multiple threads. To enable this with maven set the parallel property to either methods or both.\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;!-- Use 2.22.1 or higher --&gt;\r\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;  \r\n            &lt;configuration&gt;\r\n                &lt;parallel&gt;both&lt;/parallel&gt;\r\n                &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Maven - Failsafe plugin is not running cucumber tests in parallel","body":"<p>You're using the wrong value for <code>parallel</code>. You have to set it to methods or both. Otherwise Surefire will run all tests of your runner class serially.</p>\n<blockquote>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit</a></p>\n<p>Cucumber JUnit supports parallel execution of feature files across multiple threads. To enable this with maven set the parallel property to either methods or both.</p>\n</blockquote>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;!-- Use 2.22.1 or higher --&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;  \n            &lt;configuration&gt;\n                &lt;parallel&gt;both&lt;/parallel&gt;\n                &lt;threadCount&gt;4&lt;/threadCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":17983812,"reputation":35,"user_id":13069526,"display_name":"JagadeesanV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62075740,"answer_count":1,"score":1,"last_activity_date":1661880609,"creation_date":1590682770,"question_id":62069572,"body_markdown":"I am trying to setup serenity cucumber tests to run in parallel \r\n\r\nI have added all the necessary configuration that have been mentioned but for some reason tests are executed in a single thread. I tried various combinations with forkCount, threadCount, parallel, useUnlimitedThreadCounts etc nothing seems to work.\r\n\r\nAlso tried having a dependency for JUnit 4 and 5 which didnt work as well.\r\n\r\n**Pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;serenity.version&gt;2.2.5&lt;/serenity.version&gt;\r\n        &lt;serenity.maven.version&gt;2.2.5&lt;/serenity.maven.version&gt;\r\n        &lt;serenity.cucumber5.version&gt;2.2.2&lt;/serenity.cucumber5.version&gt;\r\n        &lt;cucumber.version&gt;5.6.0&lt;/cucumber.version&gt;\r\n        &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Cucumber --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Serenity --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-cucumber5&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.cucumber5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Selenium --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\r\n                    &lt;threadCount&gt;2&lt;/threadCount&gt;\r\n                    &lt;forkCount&gt;2C&lt;/forkCount&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThe maven debug logs for verify indicates parallelMavenExecution is set to false for some reason.\r\n```\r\n[DEBUG] Configuring mojo org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4:integration-test from plugin realm ClassRealm[plugin&gt;org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4, parent: jdk.internal.loader.ClassLoaders$AppClassLoader@4f8e5cde]\r\n[DEBUG] Configuring mojo &#39;org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4:integration-test&#39; with basic configurator --&gt;\r\n[DEBUG]   (s) additionalClasspathElements = []\r\n[DEBUG]   (s) basedir = /Users/vinothraj/IdeaProjects/hiscox-usa-portal-testsuite\r\n[DEBUG]   (s) childDelegation = false\r\n[DEBUG]   (s) classpathDependencyExcludes = []\r\n[DEBUG]   (s) defaultClassesDirectory = /target/classes\r\n[DEBUG]   (s) dependenciesToScan = []\r\n[DEBUG]   (s) disableXmlReport = false\r\n[DEBUG]   (s) enableAssertions = true\r\n[DEBUG]   (f) excludedEnvironmentVariables = []\r\n[DEBUG]   (f) forkCount = 2C\r\n[DEBUG]   (s) forkMode = once\r\n[DEBUG]   (s) forkedProcessExitTimeoutInSeconds = 30\r\n[DEBUG]   (s) junitArtifactName = junit:junit\r\n[DEBUG]   (s) localRepository =       id: local\r\n      url: file:///.m2/repository/\r\n   layout: default\r\nsnapshots: [enabled =&gt; true, update =&gt; always]\r\n releases: [enabled =&gt; true, update =&gt; always]\r\n\r\n[DEBUG]   (s) parallel = classes\r\n[DEBUG]   (f) parallelMavenExecution = false\r\n[DEBUG]   (s) parallelOptimized = true\r\n[DEBUG]   (s) perCoreThreadCount = true\r\n```\r\n\r\nThanks in advance.\r\n","title":"Maven - Failsafe plugin is not running cucumber tests in parallel","body":"<p>I am trying to setup serenity cucumber tests to run in parallel </p>\n\n<p>I have added all the necessary configuration that have been mentioned but for some reason tests are executed in a single thread. I tried various combinations with forkCount, threadCount, parallel, useUnlimitedThreadCounts etc nothing seems to work.</p>\n\n<p>Also tried having a dependency for JUnit 4 and 5 which didnt work as well.</p>\n\n<p><strong>Pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;properties&gt;\n        &lt;serenity.version&gt;2.2.5&lt;/serenity.version&gt;\n        &lt;serenity.maven.version&gt;2.2.5&lt;/serenity.maven.version&gt;\n        &lt;serenity.cucumber5.version&gt;2.2.2&lt;/serenity.cucumber5.version&gt;\n        &lt;cucumber.version&gt;5.6.0&lt;/cucumber.version&gt;\n        &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Cucumber --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Serenity --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-cucumber5&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.cucumber5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Selenium --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\n                    &lt;threadCount&gt;2&lt;/threadCount&gt;\n                    &lt;forkCount&gt;2C&lt;/forkCount&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n\n<p>The maven debug logs for verify indicates parallelMavenExecution is set to false for some reason.</p>\n\n<pre><code>[DEBUG] Configuring mojo org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4:integration-test from plugin realm ClassRealm[plugin&gt;org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4, parent: jdk.internal.loader.ClassLoaders$AppClassLoader@4f8e5cde]\n[DEBUG] Configuring mojo 'org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4:integration-test' with basic configurator --&gt;\n[DEBUG]   (s) additionalClasspathElements = []\n[DEBUG]   (s) basedir = /Users/vinothraj/IdeaProjects/hiscox-usa-portal-testsuite\n[DEBUG]   (s) childDelegation = false\n[DEBUG]   (s) classpathDependencyExcludes = []\n[DEBUG]   (s) defaultClassesDirectory = /target/classes\n[DEBUG]   (s) dependenciesToScan = []\n[DEBUG]   (s) disableXmlReport = false\n[DEBUG]   (s) enableAssertions = true\n[DEBUG]   (f) excludedEnvironmentVariables = []\n[DEBUG]   (f) forkCount = 2C\n[DEBUG]   (s) forkMode = once\n[DEBUG]   (s) forkedProcessExitTimeoutInSeconds = 30\n[DEBUG]   (s) junitArtifactName = junit:junit\n[DEBUG]   (s) localRepository =       id: local\n      url: file:///.m2/repository/\n   layout: default\nsnapshots: [enabled =&gt; true, update =&gt; always]\n releases: [enabled =&gt; true, update =&gt; always]\n\n[DEBUG]   (s) parallel = classes\n[DEBUG]   (f) parallelMavenExecution = false\n[DEBUG]   (s) parallelOptimized = true\n[DEBUG]   (s) perCoreThreadCount = true\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","xml","xslt","jar"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1661862667,"post_id":73541926,"comment_id":129868181,"body_markdown":"If you load the XSLT code from a string with `factory.newTransformer(new StreamSource(new StringReader(xslt)));`, how do you expect it to resolve a relative URI like `functions.xslt`?","body":"If you load the XSLT code from a string with <code>factory.newTransformer(new StreamSource(new StringReader(xslt)));</code>, how do you expect it to resolve a relative URI like <code>functions.xslt</code>?"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":2,"creation_date":1661862825,"post_id":73541926,"comment_id":129868233,"body_markdown":"Consider to provide a base URI/system id https://docs.oracle.com/javase/7/docs/api/javax/xml/transform/stream/StreamSource.html#StreamSource(java.io.Reader,%20java.lang.String)","body":"Consider to provide a base URI/system id <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/transform/stream/StreamSource.html#StreamSource(java.io.Reader,%20java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/xml/transform/stream&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"score":0,"creation_date":1661866510,"post_id":73541926,"comment_id":129869766,"body_markdown":"@MartinHonnen thanks I did not think of it that way. I will give it a try","body":"@MartinHonnen thanks I did not think of it that way. I will give it a try"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661880406,"creation_date":1661880406,"answer_id":73546375,"question_id":73541926,"body_markdown":"The XSLT processor cannot resolve a relative URI in xsl:include/xsl:import unless it knows the base URI of the stylesheet. If you supply the input as a StreamSource wrapping an InputStream, without also supplying a SystemId, then the base URI will be unknown.\r\n\r\nIn your example the XSLT processor has no idea where the stylesheet code came from.","title":"Unable find href within XSLT, when transforming XML. Java","body":"<p>The XSLT processor cannot resolve a relative URI in xsl:include/xsl:import unless it knows the base URI of the stylesheet. If you supply the input as a StreamSource wrapping an InputStream, without also supplying a SystemId, then the base URI will be unknown.</p>\n<p>In your example the XSLT processor has no idea where the stylesheet code came from.</p>\n"}],"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73546375,"answer_count":1,"score":1,"last_activity_date":1661880406,"creation_date":1661859974,"question_id":73541926,"body_markdown":"Some background... I am transforming a xml (condensedModel) file using a xslt (deployments.xslt). \r\n\r\nI have a **deployments.xslt** file that is using a **functions.xslt** file that is included using href.\r\nThis is where the problem looks to be. It seems to not be able to find the functions.xslt file I made and am referencing within that file.\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot;\r\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;text&quot; omit-xml-declaration=&quot;yes&quot; indent=&quot;no&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;lowercase&quot; select=&quot;&#39;abcdefghijklmnopqrstuvwxyz-_&#39;&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;uppercase&quot; select=&quot;&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ. &#39;&quot;/&gt;\r\n    &lt;!--    &lt;xsl:variable name=&quot;kubename&quot; select=&quot;&#39;name&#39;&quot;/&gt;--&gt;\r\n    &lt;xsl:variable name=&quot;kubename&quot; select=&quot;&#39;app.kubernetes.io/name&#39;&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;quot&quot;&gt;&quot;&lt;/xsl:variable&gt;\r\n    &lt;xsl:variable name=&quot;apos&quot;&gt;&#39;&lt;/xsl:variable&gt;\r\n    &lt;xsl:include href=&quot;functions.xslt&quot;/&gt;\r\n\r\n\r\n\r\nJava:\r\n\r\n\r\n\r\n      private TransformerFactory factory = TransformerFactory.newInstance();\r\n      private Transformer transformer;\r\n\r\n      private void init(String xslt) throws IOException, TransformerConfigurationException, AggregatorException {\r\n       if (xslt == null || xslt.isEmpty()) {\r\n         throw new AggregatorException(&quot;XSLT was null or empty. Unable to transform condensed model to yaml&quot;);\r\n       }\r\n       transformer = factory.newTransformer(new StreamSource(new StringReader(xslt)));\r\n\r\n       Security.addProvider(new BouncyCastleProvider()); \r\n     }\r\n\r\n      public String transform(TransformingYamlEnum transformerToUse) throws TransformerException, IOException, AggregatorException {\r\n        String xslt = determineXsltToUse(transformerToUse);\r\n        init(xslt);\r\n    \r\n        try (ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\r\n          InputStream inputStream = new ByteArrayInputStream(condensedModel.getBytes(StandardCharsets.UTF_8));\r\n          process(inputStream, bos);\r\n    \r\n          return bos.toString(&quot;UTF-8&quot;);\r\n        }\r\n      }\r\n\r\n      private void process(InputStream inputStream, OutputStream outputStream) throws TransformerException {\r\n        transformer.transform(\r\n            new StreamSource(inputStream),\r\n            new StreamResult(outputStream));\r\n      }\r\n\r\nThis is obviously within a jar and the deployments.xslt is being loaded in within my init(). The actual transformation takes place when I call trasform().\r\n\r\nIt does work when I hard code the path to let&#39;s say the desktop and manually place the functions.xslt file on the desktop. But as you can imagine, this is not a viable option. Any ideas about what I am doing wrong?","title":"Unable find href within XSLT, when transforming XML. Java","body":"<p>Some background... I am transforming a xml (condensedModel) file using a xslt (deployments.xslt).</p>\n<p>I have a <strong>deployments.xslt</strong> file that is using a <strong>functions.xslt</strong> file that is included using href.\nThis is where the problem looks to be. It seems to not be able to find the functions.xslt file I made and am referencing within that file.</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot;\n            xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;text&quot; omit-xml-declaration=&quot;yes&quot; indent=&quot;no&quot;/&gt;\n&lt;xsl:variable name=&quot;lowercase&quot; select=&quot;'abcdefghijklmnopqrstuvwxyz-_'&quot;/&gt;\n&lt;xsl:variable name=&quot;uppercase&quot; select=&quot;'ABCDEFGHIJKLMNOPQRSTUVWXYZ. '&quot;/&gt;\n&lt;!--    &lt;xsl:variable name=&quot;kubename&quot; select=&quot;'name'&quot;/&gt;--&gt;\n&lt;xsl:variable name=&quot;kubename&quot; select=&quot;'app.kubernetes.io/name'&quot;/&gt;\n&lt;xsl:variable name=&quot;quot&quot;&gt;&quot;&lt;/xsl:variable&gt;\n&lt;xsl:variable name=&quot;apos&quot;&gt;'&lt;/xsl:variable&gt;\n&lt;xsl:include href=&quot;functions.xslt&quot;/&gt;\n</code></pre>\n<p>Java:</p>\n<pre><code>  private TransformerFactory factory = TransformerFactory.newInstance();\n  private Transformer transformer;\n\n  private void init(String xslt) throws IOException, TransformerConfigurationException, AggregatorException {\n   if (xslt == null || xslt.isEmpty()) {\n     throw new AggregatorException(&quot;XSLT was null or empty. Unable to transform condensed model to yaml&quot;);\n   }\n   transformer = factory.newTransformer(new StreamSource(new StringReader(xslt)));\n\n   Security.addProvider(new BouncyCastleProvider()); \n }\n\n  public String transform(TransformingYamlEnum transformerToUse) throws TransformerException, IOException, AggregatorException {\n    String xslt = determineXsltToUse(transformerToUse);\n    init(xslt);\n\n    try (ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\n      InputStream inputStream = new ByteArrayInputStream(condensedModel.getBytes(StandardCharsets.UTF_8));\n      process(inputStream, bos);\n\n      return bos.toString(&quot;UTF-8&quot;);\n    }\n  }\n\n  private void process(InputStream inputStream, OutputStream outputStream) throws TransformerException {\n    transformer.transform(\n        new StreamSource(inputStream),\n        new StreamResult(outputStream));\n  }\n</code></pre>\n<p>This is obviously within a jar and the deployments.xslt is being loaded in within my init(). The actual transformation takes place when I call trasform().</p>\n<p>It does work when I hard code the path to let's say the desktop and manually place the functions.xslt file on the desktop. But as you can imagine, this is not a viable option. Any ideas about what I am doing wrong?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1661880151,"post_id":73546332,"comment_id":129875395,"body_markdown":"Check if that folder exists on your machine.","body":"Check if that folder exists on your machine."},{"owner":{"account_id":10376986,"reputation":146,"user_id":10962675,"display_name":"Auvee"},"score":0,"creation_date":1661880235,"post_id":73546332,"comment_id":129875425,"body_markdown":"it does exist. I did the java --version.","body":"it does exist. I did the java --version."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1661880336,"post_id":73546332,"comment_id":129875471,"body_markdown":"@Auvee that doesn&#39;t prove the directory exists. It only proves you have a `java.exe` executable in your path","body":"@Auvee that doesn&#39;t prove the directory exists. It only proves you have a <code>java.exe</code> executable in your path"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1661880338,"post_id":73546332,"comment_id":129875473,"body_markdown":"`java --version` tells you that the `java` command exists somewhere, but it doesn&#39;t tell you where. You need to check that the folder exists.","body":"<code>java --version</code> tells you that the <code>java</code> command exists somewhere, but it doesn&#39;t tell you where. You need to check that the folder exists."},{"owner":{"account_id":10376986,"reputation":146,"user_id":10962675,"display_name":"Auvee"},"score":0,"creation_date":1661880736,"post_id":73546332,"comment_id":129875594,"body_markdown":"So how can I check or what should I check?","body":"So how can I check or what should I check?"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1661880775,"post_id":73546332,"comment_id":129875609,"body_markdown":"Also, since you have %JAVA_HOME%\\bin in the list you don&#39;t need to also include the full path to the jdk&#39;s \\bin directory that you have listed above it (nor the full path to the jre), as that&#39;s redundant.","body":"Also, since you have %JAVA_HOME%\\bin in the list you don&#39;t need to also include the full path to the jdk&#39;s \\bin directory that you have listed above it (nor the full path to the jre), as that&#39;s redundant."},{"owner":{"account_id":10376986,"reputation":146,"user_id":10962675,"display_name":"Auvee"},"score":0,"creation_date":1661880783,"post_id":73546332,"comment_id":129875612,"body_markdown":"No but I am trying to figure it out @Woodchuck","body":"No but I am trying to figure it out @Woodchuck"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1661880924,"post_id":73546332,"comment_id":129875653,"body_markdown":"What do you get if you run this?: where java","body":"What do you get if you run this?: where java"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1661881005,"post_id":73546332,"comment_id":129875681,"body_markdown":"hit windows+R, then enter that path (C:\\Program Files\\Java\\jdk1.8.0_202\\bin). Does it open a folder?","body":"hit windows+R, then enter that path (C:\\Program Files\\Java\\jdk1.8.0_202\\bin). Does it open a folder?"},{"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"score":2,"creation_date":1661881093,"post_id":73546332,"comment_id":129875713,"body_markdown":"What is the output of `echo %JAVA_HOME%`?","body":"What is the output of <code>echo %JAVA_HOME%</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661880345,"creation_date":1661880345,"answer_id":73546367,"question_id":73546332,"body_markdown":"`JAVA_HOME` shouldn’t point to the `bin` directory. It should point to the JDK installation path. \r\n\r\nIt should be: `C:\\Program Files\\Java\\jdk1.8.0_202`, also you don&#39;t need JRE if you already have `%JAVA_HOME%\\bin`, see https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux\r\n","title":"JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_202\\bin","body":"<p><code>JAVA_HOME</code> shouldn’t point to the <code>bin</code> directory. It should point to the JDK installation path.</p>\n<p>It should be: <code>C:\\Program Files\\Java\\jdk1.8.0_202</code>, also you don't need JRE if you already have <code>%JAVA_HOME%\\bin</code>, see <a href=\"https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux</a></p>\n"}],"owner":{"account_id":10376986,"reputation":146,"user_id":10962675,"display_name":"Auvee"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661944234,"accepted_answer_id":73546367,"answer_count":1,"score":0,"last_activity_date":1661880345,"creation_date":1661880077,"question_id":73546332,"body_markdown":"I am trying to run a React native app with this command \r\n\r\n    npx react-native run-android --variant=stagingDebug --appId com.ursafe_staging\r\n\r\nBut getting this wrong environment path error\r\n\r\n    ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_202\\bin\r\n    \r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n    \r\n    error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\n    Error: Command failed: gradlew.bat app:installStagingDebug -PreactNativeDevServerPort=8081\r\n\r\nHere is my environment path looks like\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand this one \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DKA28.png\r\n  [2]: https://i.stack.imgur.com/ZonSy.png\r\n\r\n\r\nStill getting the error when I run the command.","title":"JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_202\\bin","body":"<p>I am trying to run a React native app with this command</p>\n<pre><code>npx react-native run-android --variant=stagingDebug --appId com.ursafe_staging\n</code></pre>\n<p>But getting this wrong environment path error</p>\n<pre><code>ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_202\\bin\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installStagingDebug -PreactNativeDevServerPort=8081\n</code></pre>\n<p>Here is my environment path looks like</p>\n<p><a href=\"https://i.stack.imgur.com/DKA28.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKA28.png\" alt=\"enter image description here\" /></a></p>\n<p>and this one</p>\n<p><a href=\"https://i.stack.imgur.com/ZonSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZonSy.png\" alt=\"enter image description here\" /></a></p>\n<p>Still getting the error when I run the command.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661880142,"creation_date":1661880142,"answer_id":73546337,"question_id":73534832,"body_markdown":"You can construct the `AuthenticationManager` yourself, for example:\r\n\r\n```java\r\n@Bean\r\nAuthenticationManager apiAuthenticationManager(InMemoryUserDetailsManager users) {\r\n    DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n    provider.setUserDetailsService(users);\r\n    return new ProviderManager(provider);\r\n}\r\n```","title":"Spring security Expose Multiple Authentication Managers without WebSecurityConfigurerAdapter","body":"<p>You can construct the <code>AuthenticationManager</code> yourself, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nAuthenticationManager apiAuthenticationManager(InMemoryUserDetailsManager users) {\n    DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n    provider.setUserDetailsService(users);\n    return new ProviderManager(provider);\n}\n</code></pre>\n"}],"owner":{"account_id":16508870,"reputation":57,"user_id":11928210,"display_name":"Doug Yachera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73546337,"answer_count":1,"score":0,"last_activity_date":1661880142,"creation_date":1661808318,"question_id":73534832,"body_markdown":"Now that ```WebSecurityConfigurerAdapter``` has been deprecated I am trying to update my code to use the new ways to set up authentication based off : https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n\r\nI currently use ldap authentication as well as in memory authentication.  In my app I need to expose the AuthenticationManagers as beans for each.  My old code this was done aby creating two separate WebSecurityConfigurerAdapter:\r\n```\r\n@Configuration\r\n@Order(1)\r\npublic class APIWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n\t\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth\r\n\t\t\t.inMemoryAuthentication()\r\n\t\t\t.withUser(ApiRolesUsers.API_VIEW_ALL).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_VIEW_ALL)).roles(ApiRolesUsers.API_VIEW_ALL)\r\n\t\t\t.and()\r\n\t\t\t.withUser(ApiRolesUsers.API_UPDATE_ALL).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_UPDATE_ALL)).roles(ApiRolesUsers.API_UPDATE_ALL)\r\n\t\t\t.and()\r\n\t\t\t.withUser(ApiRolesUsers.API_EDL_UPDATE).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_EDL_UPDATE)).roles(ApiRolesUsers.API_EDL_UPDATE);\r\n\t\t}\r\n...\r\n        @Bean( name = &quot;apiAuthenticationManager&quot;)\r\n\t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t\treturn super.authenticationManagerBean();\r\n\t\t}\r\n...\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\n    @Configuration\r\n\t@Order(2)\r\n\tpublic class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n        @Autowired\r\n\t\t@Override\r\n\t\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth\r\n\t\t\t.ldapAuthentication()\r\n\t\t\t.userSearchBase(ldapUserSearchBase)\r\n\t\t\t.userSearchFilter(ldapUserSearchFilter)\r\n\t\t\t.groupSearchBase(ldapGroupSearchBase)\r\n\t\t\t.contextSource(ldapContextSource);\r\n...\r\n        @Bean( name = &quot;authenticationManager&quot;)\r\n\t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t\treturn super.authenticationManagerBean();\r\n\t\t}\r\n...\r\n}\r\n```\r\n\r\nFrom there I could then autowire both &quot;authenticationManager&quot; and &quot;apiAuthenticationManager&quot;. I am able to recreate the &quot;authenticationManager&quot; part without ```WebSecurityConfigurerAdapter ``` in the new format with:\r\n\r\n```\r\n\t@Bean(name = &quot;authenticationManager&quot;)\r\n\tAuthenticationManager ldapAuthenticationManager(\r\n\t\t\tLdapContextSource contextSource) {\r\n\t\tLdapBindAuthenticationManagerFactory factory = \r\n\t\t\t\tnew LdapBindAuthenticationManagerFactory(contextSource);\r\n\t\tfactory.setUserSearchBase(ldapUserSearchBase);\r\n\t\tfactory.setUserSearchFilter(ldapUserSearchFilter);\r\n\t\treturn factory.createAuthenticationManager();\r\n\t}\r\n```\r\n\r\nBased off new spring documentation I am able to create the in memory part with:\r\n```\r\n    //How do I expose AuthenticationManager for this???\r\n\tpublic InMemoryUserDetailsManager inMemoryUserDetailsManager(AuthenticationConfiguration providerManager) {\r\n\t\t\r\n\t\tUserDetails apiViewAll = User.builder()\r\n\t\t\t\t.username(ApiRolesUsers.API_VIEW_ALL)\r\n\t\t\t\t.password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_VIEW_ALL))\r\n\t\t\t\t.roles(ApiRolesUsers.API_VIEW_ALL)\r\n\t\t\t\t.build();\r\n\r\n\t\tUserDetails updateAll = User.builder()\r\n\t\t\t\t.username(ApiRolesUsers.API_UPDATE_ALL)\r\n\t\t\t\t.password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_UPDATE_ALL))\r\n\t\t\t\t.roles(ApiRolesUsers.API_UPDATE_ALL)\r\n\t\t\t\t.build();\r\n\r\n\t\tUserDetails edlUpdate = User.builder()\r\n\t\t\t\t.username(ApiRolesUsers.API_EDL_UPDATE)\r\n\t\t\t\t.password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_EDL_UPDATE))\r\n\t\t\t\t.roles(ApiRolesUsers.API_EDL_UPDATE)\r\n\t\t\t\t.build();\r\n\t\t\r\n\t\tInMemoryUserDetailsManager manager = new InMemoryUserDetailsManager(apiViewAll, updateAll, edlUpdate);\r\n\t\t\r\n\t\treturn manager;\r\n\t}\r\n```\r\nIn the above I need to expose the related AuthenticationManager that ```WebSecurityConfigurerAdapter ``` was able to do before they deprecated it.\r\nDoing something like this only returns the ldap authentication...\r\n```\r\n@Bean(name = &quot;apiAuthenticationManager&quot;) {\r\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration \r\n     authenticationConfiguration) throws Exception {\r\n     return authenticationConfiguration.getAuthenticationManager();\r\n}\r\n```\r\n\r\nDoes anyone know how I can implement and expose both AuthenticationManagers without the use of ```WebSecurityConfigurerAdapter ```\r\n","title":"Spring security Expose Multiple Authentication Managers without WebSecurityConfigurerAdapter","body":"<p>Now that <code>WebSecurityConfigurerAdapter</code> has been deprecated I am trying to update my code to use the new ways to set up authentication based off : <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a></p>\n<p>I currently use ldap authentication as well as in memory authentication.  In my app I need to expose the AuthenticationManagers as beans for each.  My old code this was done aby creating two separate WebSecurityConfigurerAdapter:</p>\n<pre><code>@Configuration\n@Order(1)\npublic class APIWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth\n            .inMemoryAuthentication()\n            .withUser(ApiRolesUsers.API_VIEW_ALL).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_VIEW_ALL)).roles(ApiRolesUsers.API_VIEW_ALL)\n            .and()\n            .withUser(ApiRolesUsers.API_UPDATE_ALL).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_UPDATE_ALL)).roles(ApiRolesUsers.API_UPDATE_ALL)\n            .and()\n            .withUser(ApiRolesUsers.API_EDL_UPDATE).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_EDL_UPDATE)).roles(ApiRolesUsers.API_EDL_UPDATE);\n        }\n...\n        @Bean( name = &quot;apiAuthenticationManager&quot;)\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n...\n}\n</code></pre>\n<p>and</p>\n<pre><code>    @Configuration\n    @Order(2)\n    public class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n        @Autowired\n        @Override\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth\n            .ldapAuthentication()\n            .userSearchBase(ldapUserSearchBase)\n            .userSearchFilter(ldapUserSearchFilter)\n            .groupSearchBase(ldapGroupSearchBase)\n            .contextSource(ldapContextSource);\n...\n        @Bean( name = &quot;authenticationManager&quot;)\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n...\n}\n</code></pre>\n<p>From there I could then autowire both &quot;authenticationManager&quot; and &quot;apiAuthenticationManager&quot;. I am able to recreate the &quot;authenticationManager&quot; part without <code>WebSecurityConfigurerAdapter </code> in the new format with:</p>\n<pre><code>    @Bean(name = &quot;authenticationManager&quot;)\n    AuthenticationManager ldapAuthenticationManager(\n            LdapContextSource contextSource) {\n        LdapBindAuthenticationManagerFactory factory = \n                new LdapBindAuthenticationManagerFactory(contextSource);\n        factory.setUserSearchBase(ldapUserSearchBase);\n        factory.setUserSearchFilter(ldapUserSearchFilter);\n        return factory.createAuthenticationManager();\n    }\n</code></pre>\n<p>Based off new spring documentation I am able to create the in memory part with:</p>\n<pre><code>    //How do I expose AuthenticationManager for this???\n    public InMemoryUserDetailsManager inMemoryUserDetailsManager(AuthenticationConfiguration providerManager) {\n        \n        UserDetails apiViewAll = User.builder()\n                .username(ApiRolesUsers.API_VIEW_ALL)\n                .password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_VIEW_ALL))\n                .roles(ApiRolesUsers.API_VIEW_ALL)\n                .build();\n\n        UserDetails updateAll = User.builder()\n                .username(ApiRolesUsers.API_UPDATE_ALL)\n                .password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_UPDATE_ALL))\n                .roles(ApiRolesUsers.API_UPDATE_ALL)\n                .build();\n\n        UserDetails edlUpdate = User.builder()\n                .username(ApiRolesUsers.API_EDL_UPDATE)\n                .password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_EDL_UPDATE))\n                .roles(ApiRolesUsers.API_EDL_UPDATE)\n                .build();\n        \n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager(apiViewAll, updateAll, edlUpdate);\n        \n        return manager;\n    }\n</code></pre>\n<p>In the above I need to expose the related AuthenticationManager that <code>WebSecurityConfigurerAdapter </code> was able to do before they deprecated it.\nDoing something like this only returns the ldap authentication...</p>\n<pre><code>@Bean(name = &quot;apiAuthenticationManager&quot;) {\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration \n     authenticationConfiguration) throws Exception {\n     return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<p>Does anyone know how I can implement and expose both AuthenticationManagers without the use of <code>WebSecurityConfigurerAdapter </code></p>\n"},{"tags":["java","kotlin","mocking","stub","wiremock"],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661880042,"creation_date":1661880042,"answer_id":73546322,"question_id":73544313,"body_markdown":"[WireMock has a specific path requirement.][1]\r\n\r\n&gt; To read the body content from a file, place the file under the __files directory. By default this is expected to be under src/test/resources when running from the JUnit rule. \r\n\r\nMake sure your file is located at `src/test/resources/__files/something.json`.\r\n\r\n  [1]: https://wiremock.org/docs/stubbing/#specifying-the-response-body","title":"Wiremock - how to read response from json file?","body":"<p><a href=\"https://wiremock.org/docs/stubbing/#specifying-the-response-body\" rel=\"nofollow noreferrer\">WireMock has a specific path requirement.</a></p>\n<blockquote>\n<p>To read the body content from a file, place the file under the __files directory. By default this is expected to be under src/test/resources when running from the JUnit rule.</p>\n</blockquote>\n<p>Make sure your file is located at <code>src/test/resources/__files/something.json</code>.</p>\n"}],"owner":{"account_id":19973429,"reputation":25,"user_id":14638359,"display_name":"sugo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661880042,"creation_date":1661870458,"question_id":73544313,"body_markdown":"I am trying to use wiremock, using this dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n    &lt;version&gt;2.33.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI intend to read responses from json files. However, nothing I do works. The test passes without reading the file (I&#39;ve attempted to use random file names and it always works). What could be wrong here?\r\n\r\n\r\n```\r\n@SpringBootTest\r\n@TestExecutionListeners\r\n@ContextConfiguration(initializers = [WireMockContextInitializer::class])\r\n@AutoConfigureWebTestClient\r\nclass EndpointsTest {\r\n\r\n    @Autowired\r\n    private lateinit var wireMockServer: WireMockServer\r\n\r\n    @AfterEach\r\n    fun afterEach() {\r\n        wireMockServer.resetAll()\r\n    }\r\n\r\n    @Test\r\n    fun anything() {\r\n        wireMockServer = WireMockServer()\r\n        wireMockServer.stubFor(post(&quot;/some-endpoint&quot;).willReturn(aResponse().withBodyFile(&quot;something.json&quot;)))\r\n        ...\r\n    }\r\n}\r\n```\r\n","title":"Wiremock - how to read response from json file?","body":"<p>I am trying to use wiremock, using this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n    &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n    &lt;version&gt;2.33.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I intend to read responses from json files. However, nothing I do works. The test passes without reading the file (I've attempted to use random file names and it always works). What could be wrong here?</p>\n<pre><code>@SpringBootTest\n@TestExecutionListeners\n@ContextConfiguration(initializers = [WireMockContextInitializer::class])\n@AutoConfigureWebTestClient\nclass EndpointsTest {\n\n    @Autowired\n    private lateinit var wireMockServer: WireMockServer\n\n    @AfterEach\n    fun afterEach() {\n        wireMockServer.resetAll()\n    }\n\n    @Test\n    fun anything() {\n        wireMockServer = WireMockServer()\n        wireMockServer.stubFor(post(&quot;/some-endpoint&quot;).willReturn(aResponse().withBodyFile(&quot;something.json&quot;)))\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","parameters","jenkins","testng"],"answers":[{"tags":[],"owner":{"account_id":390524,"reputation":5786,"user_id":750650,"display_name":"Łukasz Rżanek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413374128,"creation_date":1413374128,"answer_id":26381946,"question_id":26380231,"body_markdown":"Jenkins have a [built-in parameters handling](https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Build), which is quite flexible in it&#39;s own way. But in this case, since you want to pass a filename as parameter, you can easily combine that functionality with a [Filesystem List Parameter](https://wiki.jenkins-ci.org/display/JENKINS/Filesystem+List+Parameter+Plug-in), which can build the list based on a regexp that will parse list of files. \r\n\r\nIf you use Maven or Ant, you can embed that parameter within your build process, in a form similar to this:\r\n\r\n      &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;systemPropertyVariables&gt;\r\n                    &lt;environment&gt;${env.PARAM}&lt;/environment&gt;\r\n                &lt;/systemPropertyVariables&gt;\r\n                &lt;suiteXmlFiles&gt; \r\n                    &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\r\n                &lt;/suiteXmlFiles&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\nWith this you can read the parameter that was passed on to Maven - in Jenkins using it&#39;s internal caller, and on command line with:\r\n\r\n    mvn install -Denv.PARAM=VALUE\r\n\r\nSo it should work either way...","title":"Jenkins pass parameters to testNG Java","body":"<p>Jenkins have a <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Build\" rel=\"nofollow\">built-in parameters handling</a>, which is quite flexible in it's own way. But in this case, since you want to pass a filename as parameter, you can easily combine that functionality with a <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Filesystem+List+Parameter+Plug-in\" rel=\"nofollow\">Filesystem List Parameter</a>, which can build the list based on a regexp that will parse list of files. </p>\n\n<p>If you use Maven or Ant, you can embed that parameter within your build process, in a form similar to this:</p>\n\n<pre><code>  &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;systemPropertyVariables&gt;\n                &lt;environment&gt;${env.PARAM}&lt;/environment&gt;\n            &lt;/systemPropertyVariables&gt;\n            &lt;suiteXmlFiles&gt; \n                &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n            &lt;/suiteXmlFiles&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>With this you can read the parameter that was passed on to Maven - in Jenkins using it's internal caller, and on command line with:</p>\n\n<pre><code>mvn install -Denv.PARAM=VALUE\n</code></pre>\n\n<p>So it should work either way...</p>\n"}],"owner":{"account_id":1387346,"reputation":531,"user_id":1319067,"accept_rate":86,"display_name":"Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26381946,"answer_count":1,"score":1,"last_activity_date":1661880042,"creation_date":1413368780,"question_id":26380231,"body_markdown":"I am working on a test automation framework using testNG, Selenium and Jenkins. The code is working fine, it reads one or more csv files and uses that as test data. I run the test from Jenkins.\r\n\r\n&lt;code class=&#39;prettyprint&#39; lang-java&gt;\r\n    \r\n\r\n    package test;\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.lang.reflect.Method;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.ie.InternetExplorerDriver;\r\n    import org.testng.annotations.AfterClass;\r\n    import org.testng.annotations.AfterMethod;\r\n    import org.testng.annotations.AfterSuite;\r\n    import org.testng.annotations.BeforeClass;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.BeforeSuite;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Test;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.AfterTest;\r\n    \r\n    public class runTest {\r\n    private WebDriver myDriver = null;\r\n    \t\r\n    \t@BeforeTest\r\n    \tpublic void openBrowser(){\r\n    \t\tSystem.out.println(&quot;This test automation framework is created by --- for ---&quot;);\r\n    \t\t//Set browser\r\n    \t\t//System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Temp//chromedriver.exe&quot;);\r\n    \t\t//System.setProperty(&quot;webdriver.ie.driver&quot;, &quot;C://Temp//IEDriverServer.exe&quot;);\r\n    \t\t\r\n    \t\t//Instantiate new WebDriver object with browser of choice\r\n    \t\tmyDriver = new FirefoxDriver();\r\n    \t\t//myDriver = new InternetExplorerDriver();\r\n    \t\t//myDriver = new ChromeDriver();\r\n    \t\tmyDriver.get(&quot;http://localhost/tests/&quot;);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Test (dataProvider=&quot;provideData&quot;)\r\n    \tpublic void csvTest(String stepNr, String timeWaitMil, String waitForElement, String clickOnCssNameXpathLink, \r\n    \t\t\t\t\t\tString valueInTextBox, String backspaceText, String assertReturnTrueFalse, \r\n    \t\t\t\t\t\tString assertBy, String getUrl, \r\n    \t\t\t\t\t\tString deleteCookie, String snapshot, String specialSnapshot){\r\n    \t\t\r\n    \t\t\r\n    \t\t\t\t\r\n    \t\t// Click on a something based on css, name xpath or link\r\n    \t\tif (!&quot;-&quot;.equals(clickOnCssNameXpathLink)){\r\n    \t\t\tmyDriver.findElement(By.name(clickOnCssNameXpathLink)).click();\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Enter value in textbox\r\n    \t\tif (!&quot;-&quot;.equals(valueInTextBox)){\r\n    \t\t\tmyDriver.findElement(By.name(clickOnCssNameXpathLink)).sendKeys(valueInTextBox);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t// Delete cookies\r\n    \t\tif (!&quot;-&quot;.equals(deleteCookie)){\r\n    \t\t\tmyDriver.manage().deleteAllCookies();\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Make snapshot of whole page\r\n    \t\tif (snapshot.equalsIgnoreCase(&quot;true&quot;)){\r\n    \t\t\t// take the screenshot of full page\r\n    \t        File scrFile = ((TakesScreenshot)myDriver).getScreenshotAs(OutputType.FILE);\r\n    \t        // prepare date to use in filename\r\n    \t        Date d = new Date();\r\n    \t        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH-mm-ss&quot;);\r\n    \t        // Save screenshot\r\n    \t        try {\r\n    \t\t\t\tFileUtils.copyFile(scrFile, new File(&quot;c:\\\\Temp\\\\screenshots\\\\full_page_&quot; +dateFormat.format(d)+ &quot;.png&quot;));\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tSystem.out.println(&quot;Could not make screenshot&quot;);\r\n    \t\t\t}\t\t\r\n    \t\t}\r\n\r\n    \t} \r\n    \t\r\n    \t\r\n    \t@DataProvider\r\n    \tpublic Iterator&lt;Object []&gt; provideData() throws InterruptedException, IOException\r\n        {\r\n    \t\t//Array with multiple csv&#39;s\r\n    \t\tString csvFiles[] = {&quot;C:/Users/---/Desktop/JES2.0/testingSelenium/testNG/data.csv&quot;, &quot;C:/Users/---/Desktop/JES2.0/testingSelenium/testNG/data2.csv&quot;};\r\n    \t\t\r\n    \t\tList&lt;Object []&gt; testCases = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\t//loop through csv files\r\n    \t\tfor(String csvFile:csvFiles){\r\n    \t\t        String[] data= null;\r\n    \t\t\t\t//read csv file\r\n    \t\t        BufferedReader br = new BufferedReader(new FileReader(csvFile));\r\n    \t\t        \r\n    \t\t        //Skip first line in the csv file, because that only contains the column names\r\n    \t\t        String line = br.readLine();\r\n    \t\t\t\t\r\n    \t\t        //loop through csv and split parameters by comma sign ,\r\n    \t\t        while ((line = br.readLine()) != null) {\r\n    \t\t            // use comma as separator\r\n    \t\t            data= line.split(&quot;,&quot;);\r\n    \t\t            testCases.add(data);\r\n    \t\t        }//end of while loop\r\n    \t\t\t\r\n    \t\t\t}// end of for loop\r\n            return testCases.iterator();\t\t\r\n        }\r\n    \r\n    \r\n    \t@AfterTest\r\n    \tpublic void closeBrowser(){\r\n    \t\t//close browser\r\n    \t\tmyDriver.quit();\r\n    \t}\r\n    \r\n    }\r\n&lt;/code&gt;\r\n\r\nAs you can see, the browser, the url and the CSV files are hardcoded. I want to be able to pass these as parameters. What is the best way to do this? Is it possible to pass them through Jenkins?\r\n\r\nI am thinking of building a dashboard where I can specify what tests (csv files) to run using which browser. \r\n\r\nThis is the Jenkins batch command I am running\r\n\r\n    java -cp C:\\Users\\---\\Desktop\\JES2.0\\testingSelenium\\testNG\\libs\\selenium-server-standalone-2.43.1.jar;C:\\Users\\---\\Desktop\\JES2.0\\testingSelenium\\testNG\\bin org.testng.TestNG testng.xml","title":"Jenkins pass parameters to testNG Java","body":"<p>I am working on a test automation framework using testNG, Selenium and Jenkins. The code is working fine, it reads one or more csv files and uses that as test data. I run the test from Jenkins.</p>\n\n<p></p>\n\n<pre><code>package test;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.lang.reflect.Method;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.ie.InternetExplorerDriver;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.AfterTest;\n\npublic class runTest {\nprivate WebDriver myDriver = null;\n\n    @BeforeTest\n    public void openBrowser(){\n        System.out.println(\"This test automation framework is created by --- for ---\");\n        //Set browser\n        //System.setProperty(\"webdriver.chrome.driver\", \"C://Temp//chromedriver.exe\");\n        //System.setProperty(\"webdriver.ie.driver\", \"C://Temp//IEDriverServer.exe\");\n\n        //Instantiate new WebDriver object with browser of choice\n        myDriver = new FirefoxDriver();\n        //myDriver = new InternetExplorerDriver();\n        //myDriver = new ChromeDriver();\n        myDriver.get(\"http://localhost/tests/\");\n    }\n\n\n    @Test (dataProvider=\"provideData\")\n    public void csvTest(String stepNr, String timeWaitMil, String waitForElement, String clickOnCssNameXpathLink, \n                        String valueInTextBox, String backspaceText, String assertReturnTrueFalse, \n                        String assertBy, String getUrl, \n                        String deleteCookie, String snapshot, String specialSnapshot){\n\n\n\n        // Click on a something based on css, name xpath or link\n        if (!\"-\".equals(clickOnCssNameXpathLink)){\n            myDriver.findElement(By.name(clickOnCssNameXpathLink)).click();\n        }\n\n        // Enter value in textbox\n        if (!\"-\".equals(valueInTextBox)){\n            myDriver.findElement(By.name(clickOnCssNameXpathLink)).sendKeys(valueInTextBox);\n        }\n\n\n        // Delete cookies\n        if (!\"-\".equals(deleteCookie)){\n            myDriver.manage().deleteAllCookies();           \n        }\n\n        // Make snapshot of whole page\n        if (snapshot.equalsIgnoreCase(\"true\")){\n            // take the screenshot of full page\n            File scrFile = ((TakesScreenshot)myDriver).getScreenshotAs(OutputType.FILE);\n            // prepare date to use in filename\n            Date d = new Date();\n            SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy HH-mm-ss\");\n            // Save screenshot\n            try {\n                FileUtils.copyFile(scrFile, new File(\"c:\\\\Temp\\\\screenshots\\\\full_page_\" +dateFormat.format(d)+ \".png\"));\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n                System.out.println(\"Could not make screenshot\");\n            }       \n        }\n\n    } \n\n\n    @DataProvider\n    public Iterator&lt;Object []&gt; provideData() throws InterruptedException, IOException\n    {\n        //Array with multiple csv's\n        String csvFiles[] = {\"C:/Users/---/Desktop/JES2.0/testingSelenium/testNG/data.csv\", \"C:/Users/---/Desktop/JES2.0/testingSelenium/testNG/data2.csv\"};\n\n        List&lt;Object []&gt; testCases = new ArrayList&lt;&gt;();\n\n        //loop through csv files\n        for(String csvFile:csvFiles){\n                String[] data= null;\n                //read csv file\n                BufferedReader br = new BufferedReader(new FileReader(csvFile));\n\n                //Skip first line in the csv file, because that only contains the column names\n                String line = br.readLine();\n\n                //loop through csv and split parameters by comma sign ,\n                while ((line = br.readLine()) != null) {\n                    // use comma as separator\n                    data= line.split(\",\");\n                    testCases.add(data);\n                }//end of while loop\n\n            }// end of for loop\n        return testCases.iterator();        \n    }\n\n\n    @AfterTest\n    public void closeBrowser(){\n        //close browser\n        myDriver.quit();\n    }\n\n}\n</code></pre>\n\n<p></p>\n\n<p>As you can see, the browser, the url and the CSV files are hardcoded. I want to be able to pass these as parameters. What is the best way to do this? Is it possible to pass them through Jenkins?</p>\n\n<p>I am thinking of building a dashboard where I can specify what tests (csv files) to run using which browser. </p>\n\n<p>This is the Jenkins batch command I am running</p>\n\n<pre><code>java -cp C:\\Users\\---\\Desktop\\JES2.0\\testingSelenium\\testNG\\libs\\selenium-server-standalone-2.43.1.jar;C:\\Users\\---\\Desktop\\JES2.0\\testingSelenium\\testNG\\bin org.testng.TestNG testng.xml\n</code></pre>\n"},{"tags":["java","instanceof","reflection"],"comments":[{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":17,"creation_date":1343592922,"post_id":496928,"comment_id":15537254,"body_markdown":"For the records, isInstance() is the most convenient method to check whether an object can be casted into a class type (for more details, see: http://tshikatshikaaa.blogspot.nl/2012/07/java-instanceof-isassignablefrom-or.html)","body":"For the records, isInstance() is the most convenient method to check whether an object can be casted into a class type (for more details, see: <a href=\"http://tshikatshikaaa.blogspot.nl/2012/07/java-instanceof-isassignablefrom-or.html\" rel=\"nofollow noreferrer\">tshikatshikaaa.blogspot.nl/2012/07/&hellip;</a>)"},{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":1,"creation_date":1637675177,"post_id":496928,"comment_id":123885505,"body_markdown":"To counter what @J&#233;r&#244;meVerstrynge suggested: *The instanceof construction is a preferred way to check whether a variable can be cast to some type statically* because a compile-time error will occur in case of incompatible types. The method isInstance() from java.lang.Class works differently and does type check at runtime only, incompatible types will therefore not be detected early in the development, potentially resulting in dead code. The isInstance() method should only be used in dynamic cases when the instanceof operator can’t be used.","body":"To counter what @J&#233;r&#244;meVerstrynge suggested: <i>The instanceof construction is a preferred way to check whether a variable can be cast to some type statically</i> because a compile-time error will occur in case of incompatible types. The method isInstance() from java.lang.Class works differently and does type check at runtime only, incompatible types will therefore not be detected early in the development, potentially resulting in dead code. The isInstance() method should only be used in dynamic cases when the instanceof operator can’t be used."}],"answers":[{"tags":[],"owner":{"account_id":5807,"reputation":392461,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"down_vote_count":4,"up_vote_count":225,"is_accepted":false,"score":221,"last_activity_date":1233345196,"creation_date":1233345196,"answer_id":496968,"question_id":496928,"body_markdown":"`instanceof` can only be used with reference types, not primitive types.  `isAssignableFrom()` can be used with any class objects:\r\n\r\n    a instanceof int  // syntax error\r\n    3 instanceof Foo  // syntax error\r\n    int.class.isAssignableFrom(int.class)  // true\r\n\r\nSee &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)&quot;&gt;http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)&lt;/a&gt;.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p><code>instanceof</code> can only be used with reference types, not primitive types.  <code>isAssignableFrom()</code> can be used with any class objects:</p>\n\n<pre><code>a instanceof int  // syntax error\n3 instanceof Foo  // syntax error\nint.class.isAssignableFrom(int.class)  // true\n</code></pre>\n\n<p>See <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)\" rel=\"noreferrer\"><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)</a></a>.</p>\n"},{"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"down_vote_count":4,"up_vote_count":557,"is_accepted":true,"score":553,"last_activity_date":1475438673,"creation_date":1233345498,"answer_id":497001,"question_id":496928,"body_markdown":"When using `instanceof`, you need to know the class of `B` at compile time.  When using `isAssignableFrom()` it can be dynamic and change during runtime.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>When using <code>instanceof</code>, you need to know the class of <code>B</code> at compile time.  When using <code>isAssignableFrom()</code> it can be dynamic and change during runtime.</p>\n"},{"tags":[],"owner":{"account_id":601435,"reputation":57,"user_id":296886,"display_name":"algebra"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1268943266,"creation_date":1268942638,"answer_id":2472999,"question_id":496928,"body_markdown":"Consider following situation. Suppose you want to check whether type A is a super class of the type of obj, you can go either\r\n\r\n...\r\nA.class.isAssignableFrom(obj.getClass())\r\n...\r\n\r\nOR\r\n\r\n...\r\nobj instanceof A\r\n...\r\n\r\nBut the isAssignableFrom solution requires that the type of obj be visible here. If this is not the case (e.g., the type of obj might be of a private inner class), this option is out. However, the instanceof solution would always work.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Consider following situation. Suppose you want to check whether type A is a super class of the type of obj, you can go either</p>\n\n<p>...\nA.class.isAssignableFrom(obj.getClass())\n...</p>\n\n<p>OR</p>\n\n<p>...\nobj instanceof A\n...</p>\n\n<p>But the isAssignableFrom solution requires that the type of obj be visible here. If this is not the case (e.g., the type of obj might be of a private inner class), this option is out. However, the instanceof solution would always work.</p>\n"},{"tags":[],"owner":{"account_id":644354,"reputation":5,"user_id":430081,"display_name":"Milan"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1431686653,"creation_date":1282687549,"answer_id":3561415,"question_id":496928,"body_markdown":"some tests we did in our team show that `A.class.isAssignableFrom(B.getClass())` works faster than `B instanceof A`. this can be very useful if you need to check this on large number of elements.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>some tests we did in our team show that <code>A.class.isAssignableFrom(B.getClass())</code> works faster than <code>B instanceof A</code>. this can be very useful if you need to check this on large number of elements.</p>\n"},{"tags":[],"owner":{"account_id":650957,"reputation":359,"user_id":441359,"display_name":"Ashish Arya"},"down_vote_count":7,"up_vote_count":37,"is_accepted":false,"score":30,"last_activity_date":1299513876,"creation_date":1283856690,"answer_id":3657960,"question_id":496928,"body_markdown":"Apart from basic differences mentioned above, there is a core subtle difference between instanceof operator and isAssignableFrom method in Class.\r\n\r\nRead `instanceof` as “is this (the left part) the instance of this or any subclass of this (the right part)” and read `x.getClass().isAssignableFrom(Y.class)` as “Can I write `X x = new Y()`”. In other words, instanceof operator checks if the left object is same or subclass of right class, while `isAssignableFrom` checks if we can assign object of the parameter class (from) to the reference of the class on which the method is called.  \r\nNote that both of these consider the actual instance not the reference type.\r\n \r\nConsider an example of 3 classes A, B and C where C extends B and B extends A.\r\n\r\n    B b = new C();\r\n    \r\n    System.out.println(b instanceof A); //is b (which is actually class C object) instance of A, yes. This will return true.  \r\n    System.out.println(b instanceof B); // is b (which is actually class C object) instance of B, yes. This will return true.  \r\n    System.out.println(b instanceof C); // is b (which is actually class C object) instance of C, yes. This will return true. If the first statement would be B b = new B(), this would have been false.\r\n    System.out.println(b.getClass().isAssignableFrom(A.class));//Can I write C c = new A(), no. So this is false.\r\n    System.out.println(b.getClass().isAssignableFrom(B.class)); //Can I write C c = new B(), no. So this is false.\r\n    System.out.println(b.getClass().isAssignableFrom(C.class)); //Can I write C c = new C(), Yes. So this is true.\r\n\r\n","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Apart from basic differences mentioned above, there is a core subtle difference between instanceof operator and isAssignableFrom method in Class.</p>\n\n<p>Read <code>instanceof</code> as “is this (the left part) the instance of this or any subclass of this (the right part)” and read <code>x.getClass().isAssignableFrom(Y.class)</code> as “Can I write <code>X x = new Y()</code>”. In other words, instanceof operator checks if the left object is same or subclass of right class, while <code>isAssignableFrom</code> checks if we can assign object of the parameter class (from) to the reference of the class on which the method is called.<br>\nNote that both of these consider the actual instance not the reference type.</p>\n\n<p>Consider an example of 3 classes A, B and C where C extends B and B extends A.</p>\n\n<pre><code>B b = new C();\n\nSystem.out.println(b instanceof A); //is b (which is actually class C object) instance of A, yes. This will return true.  \nSystem.out.println(b instanceof B); // is b (which is actually class C object) instance of B, yes. This will return true.  \nSystem.out.println(b instanceof C); // is b (which is actually class C object) instance of C, yes. This will return true. If the first statement would be B b = new B(), this would have been false.\nSystem.out.println(b.getClass().isAssignableFrom(A.class));//Can I write C c = new A(), no. So this is false.\nSystem.out.println(b.getClass().isAssignableFrom(B.class)); //Can I write C c = new B(), no. So this is false.\nSystem.out.println(b.getClass().isAssignableFrom(C.class)); //Can I write C c = new C(), Yes. So this is true.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":587073,"reputation":167,"user_id":265270,"display_name":"S. Ali Tokmen"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1320166801,"creation_date":1291991836,"answer_id":4409848,"question_id":496928,"body_markdown":"There is also another difference:\r\n\r\nnull instanceof X is `false` no matter what X is\r\n\r\nnull.getClass().isAssignableFrom(X) will throw a NullPointerException","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>There is also another difference:</p>\n\n<p>null instanceof X is <code>false</code> no matter what X is</p>\n\n<p>null.getClass().isAssignableFrom(X) will throw a NullPointerException</p>\n"},{"tags":[],"owner":{"account_id":700196,"reputation":131,"user_id":589287,"display_name":"tkalmijn"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1295972170,"creation_date":1295972170,"answer_id":4795955,"question_id":496928,"body_markdown":"There is yet another difference. If the type (Class) to test against is dynamic, e.g. passed as a method parameter, then instanceof won&#39;t cut it for you.\r\n\r\n    boolean test(Class clazz) {\r\n       return (this instanceof clazz); // clazz cannot be resolved to a type.\r\n    }\r\n\r\nbut you can do:\r\n\r\n    boolean test(Class clazz) {\r\n       return (clazz.isAssignableFrom(this.getClass())); // okidoki\r\n    }\r\n\r\nOops, I see this answer is already covered. Maybe this example is helpful to someone.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>There is yet another difference. If the type (Class) to test against is dynamic, e.g. passed as a method parameter, then instanceof won't cut it for you.</p>\n\n<pre><code>boolean test(Class clazz) {\n   return (this instanceof clazz); // clazz cannot be resolved to a type.\n}\n</code></pre>\n\n<p>but you can do:</p>\n\n<pre><code>boolean test(Class clazz) {\n   return (clazz.isAssignableFrom(this.getClass())); // okidoki\n}\n</code></pre>\n\n<p>Oops, I see this answer is already covered. Maybe this example is helpful to someone.</p>\n"},{"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1313441933,"creation_date":1313441933,"answer_id":7070786,"question_id":496928,"body_markdown":"A more direct equivalent to `a instanceof B` is\r\n\r\n    B.class.isInstance(a)\r\n\r\nThis works (returns false) when `a` is `null` too.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>A more direct equivalent to <code>a instanceof B</code> is</p>\n\n<pre><code>B.class.isInstance(a)\n</code></pre>\n\n<p>This works (returns false) when <code>a</code> is <code>null</code> too.</p>\n"},{"tags":[],"owner":{"account_id":1094134,"reputation":71,"user_id":1088111,"display_name":"Owen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1323370046,"creation_date":1323360259,"answer_id":8433889,"question_id":496928,"body_markdown":"This thread provided me some insight into how `instanceof` differed from `isAssignableFrom`, so I thought I&#39;d share something of my own.\r\n\r\nI have found that using `isAssignableFrom` to be the only (probably not the only, but possibly the easiest) way to ask one&#39;s self if a reference of one class can take instances of another, when one has instances of neither class to do the comparison.\r\n\r\nHence, I didn&#39;t find using the `instanceof` operator to compare assignability to be a good idea when all I had were classes, unless I contemplated creating an instance from one of the classes; I thought this would be sloppy.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>This thread provided me some insight into how <code>instanceof</code> differed from <code>isAssignableFrom</code>, so I thought I'd share something of my own.</p>\n\n<p>I have found that using <code>isAssignableFrom</code> to be the only (probably not the only, but possibly the easiest) way to ask one's self if a reference of one class can take instances of another, when one has instances of neither class to do the comparison.</p>\n\n<p>Hence, I didn't find using the <code>instanceof</code> operator to compare assignability to be a good idea when all I had were classes, unless I contemplated creating an instance from one of the classes; I thought this would be sloppy.</p>\n"},{"tags":[],"owner":{"account_id":1606038,"reputation":12017,"user_id":1486125,"accept_rate":54,"display_name":"JBE"},"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1532706129,"creation_date":1345800109,"answer_id":12106524,"question_id":496928,"body_markdown":"Talking in terms of performance :\r\n\r\n**TL;DR**\r\n\r\nUse **isInstance** or **instanceof** which have similar performance. **isAssignableFrom** is slightly slower.\r\n\r\nSorted by performance:\r\n\r\n 1. **isInstance**\r\n 2. **instanceof** (+ 0.5%)\r\n 3. **isAssignableFrom** (+ 2.7%)\r\n\r\n*Based on a benchmark of 2000 iterations on JAVA 8 Windows x64, with 20 warmup iterations.*\r\n\r\n**In theory**\r\n\r\nUsing a soft like [bytecode viewer](http://bytecodeviewer.com/) we can translate each operator into bytecode.\r\n\r\nIn the context of:\r\n\r\n    package foo;\r\n\r\n    public class Benchmark\r\n    {\r\n      public static final Object a = new A();\r\n      public static final Object b = new B();\r\n    \r\n      ...\r\n\r\n    }\r\n\r\nJAVA:\r\n\r\n    b instanceof A;\r\n\r\nBytecode:\r\n\r\n    getstatic foo/Benchmark.b:java.lang.Object\r\n    instanceof foo/A\r\n\r\nJAVA:\r\n\r\n    A.class.isInstance(b);\r\n\r\nBytecode:\r\n\r\n    ldc Lfoo/A; (org.objectweb.asm.Type)\r\n    getstatic foo/Benchmark.b:java.lang.Object\r\n    invokevirtual java/lang/Class isInstance((Ljava/lang/Object;)Z);\r\n\r\nJAVA:\r\n\r\n    A.class.isAssignableFrom(b.getClass());\r\n\r\nBytecode:\r\n\r\n    ldc Lfoo/A; (org.objectweb.asm.Type)\r\n    getstatic foo/Benchmark.b:java.lang.Object\r\n    invokevirtual java/lang/Object getClass(()Ljava/lang/Class;);\r\n    invokevirtual java/lang/Class isAssignableFrom((Ljava/lang/Class;)Z);\r\n\r\nMeasuring how many bytecode instructions are used by each operator, we could expect **instanceof** and **isInstance** to be faster than **isAssignableFrom**. However, the actual performance is NOT determined by the bytecode but by the machine code (which is platform dependent). Let&#39;s do a micro benchmark for each of the operators.\r\n\r\n**The benchmark**\r\n\r\nCredit: As advised by @aleksandr-dubinsky, and thanks to @yura for providing the base code, here is a [JMH](http://openjdk.java.net/projects/code-tools/jmh/) benchmark (see this [tuning guide](http://java-performance.info/jmh/)):\r\n\r\n    class A {}\r\n    class B extends A {}\r\n    \r\n    public class Benchmark {\r\n    \r\n    \tpublic static final Object a = new A();\r\n    \tpublic static final Object b = new B();\r\n    \r\n    \t@Benchmark\r\n    \t@BenchmarkMode(Mode.Throughput)\r\n    \t@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    \tpublic boolean testInstanceOf()\r\n    \t{\r\n    \t\treturn b instanceof A;\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \t@BenchmarkMode(Mode.Throughput)\r\n    \t@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    \tpublic boolean testIsInstance()\r\n    \t{\r\n    \t\treturn A.class.isInstance(b);\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \t@BenchmarkMode(Mode.Throughput)\r\n    \t@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    \tpublic boolean testIsAssignableFrom()\r\n    \t{\r\n    \t\treturn A.class.isAssignableFrom(b.getClass());\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws RunnerException {\r\n    \t\tOptions opt = new OptionsBuilder()\r\n    \t\t\t\t.include(TestPerf2.class.getSimpleName())\r\n    \t\t\t\t.warmupIterations(20)\r\n    \t\t\t\t.measurementIterations(2000)\r\n    \t\t\t\t.forks(1)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tnew Runner(opt).run();\r\n    \t}\r\n    }\r\n\r\nGave the following results (score is *a number of operations in a time unit*, so the higher the score the better):\r\n\r\n    Benchmark                       Mode   Cnt    Score   Error   Units\r\n    Benchmark.testIsInstance        thrpt  2000  373,061 &#177; 0,115  ops/us\r\n    Benchmark.testInstanceOf        thrpt  2000  371,047 &#177; 0,131  ops/us\r\n    Benchmark.testIsAssignableFrom  thrpt  2000  363,648 &#177; 0,289  ops/us\r\n\r\n**Warning**\r\n\r\n- the benchmark is JVM and platform dependent. Since there are no significant differences between each operation, it might be possible to get a different result (and maybe different order!) on a different JAVA version and/or platforms like Solaris, Mac or Linux.\r\n- the benchmark compares the performance of &quot;is B an instance of A&quot; when &quot;B extends A&quot; directly. If the class hierarchy is deeper and more complex (like B extends X which extends Y which extends Z which extends A), results might be different.\r\n- it is usually advised to write the code first picking one of the operators (the most convenient) and then profile your code to check if there are a performance bottleneck. Maybe this operator is negligible in the context of your code, or maybe...\r\n- in relation to the previous point, `instanceof` in the context of your code might get optimized more easily than an `isInstance` for example... \r\n\r\nTo give you an example, take the following loop:\r\n\r\n    class A{}\r\n    class B extends A{}\r\n    \r\n    A b = new B();\r\n    \r\n    boolean execute(){\r\n      return A.class.isAssignableFrom(b.getClass());\r\n      // return A.class.isInstance(b);\r\n      // return b instanceof A;\r\n    }\r\n    \r\n    // Warmup the code\r\n    for (int i = 0; i &lt; 100; ++i)\r\n      execute();\r\n    \r\n    // Time it\r\n    int count = 100000;\r\n    final long start = System.nanoTime();\r\n    for(int i=0; i&lt;count; i++){\r\n       execute();\r\n    }\r\n    final long elapsed = System.nanoTime() - start;\r\n\r\nThanks to the JIT, the code is optimized at some point and we get:\r\n\r\n- instanceof: 6ms \r\n- isInstance: 12ms\r\n- isAssignableFrom : 15ms\r\n\r\n**Note**\r\n\r\nOriginally this post was doing its own benchmark using a *for* loop in raw JAVA, which gave unreliable results as some optimization like Just In Time can eliminate the loop. So it was mostly measuring how long did the JIT compiler take to optimize the loop: see https://stackoverflow.com/questions/12106799/performance-test-independent-of-the-number-of-iterations for more details\r\n\r\n**Related questions**\r\n\r\n- https://stackoverflow.com/questions/4973359/does-instanceof-operator-generate-a-lot-of-overhead-why\r\n- https://stackoverflow.com/questions/14190189/how-instanceof-is-implemented-inside-java\r\n- https://stackoverflow.com/questions/103564/the-performance-impact-of-using-instanceof-in-java","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Talking in terms of performance :</p>\n\n<p><strong>TL;DR</strong></p>\n\n<p>Use <strong>isInstance</strong> or <strong>instanceof</strong> which have similar performance. <strong>isAssignableFrom</strong> is slightly slower.</p>\n\n<p>Sorted by performance:</p>\n\n<ol>\n<li><strong>isInstance</strong></li>\n<li><strong>instanceof</strong> (+ 0.5%)</li>\n<li><strong>isAssignableFrom</strong> (+ 2.7%)</li>\n</ol>\n\n<p><em>Based on a benchmark of 2000 iterations on JAVA 8 Windows x64, with 20 warmup iterations.</em></p>\n\n<p><strong>In theory</strong></p>\n\n<p>Using a soft like <a href=\"http://bytecodeviewer.com/\" rel=\"noreferrer\">bytecode viewer</a> we can translate each operator into bytecode.</p>\n\n<p>In the context of:</p>\n\n<pre><code>package foo;\n\npublic class Benchmark\n{\n  public static final Object a = new A();\n  public static final Object b = new B();\n\n  ...\n\n}\n</code></pre>\n\n<p>JAVA:</p>\n\n<pre><code>b instanceof A;\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>getstatic foo/Benchmark.b:java.lang.Object\ninstanceof foo/A\n</code></pre>\n\n<p>JAVA:</p>\n\n<pre><code>A.class.isInstance(b);\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>ldc Lfoo/A; (org.objectweb.asm.Type)\ngetstatic foo/Benchmark.b:java.lang.Object\ninvokevirtual java/lang/Class isInstance((Ljava/lang/Object;)Z);\n</code></pre>\n\n<p>JAVA:</p>\n\n<pre><code>A.class.isAssignableFrom(b.getClass());\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>ldc Lfoo/A; (org.objectweb.asm.Type)\ngetstatic foo/Benchmark.b:java.lang.Object\ninvokevirtual java/lang/Object getClass(()Ljava/lang/Class;);\ninvokevirtual java/lang/Class isAssignableFrom((Ljava/lang/Class;)Z);\n</code></pre>\n\n<p>Measuring how many bytecode instructions are used by each operator, we could expect <strong>instanceof</strong> and <strong>isInstance</strong> to be faster than <strong>isAssignableFrom</strong>. However, the actual performance is NOT determined by the bytecode but by the machine code (which is platform dependent). Let's do a micro benchmark for each of the operators.</p>\n\n<p><strong>The benchmark</strong></p>\n\n<p>Credit: As advised by @aleksandr-dubinsky, and thanks to @yura for providing the base code, here is a <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a> benchmark (see this <a href=\"http://java-performance.info/jmh/\" rel=\"noreferrer\">tuning guide</a>):</p>\n\n<pre><code>class A {}\nclass B extends A {}\n\npublic class Benchmark {\n\n    public static final Object a = new A();\n    public static final Object b = new B();\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public boolean testInstanceOf()\n    {\n        return b instanceof A;\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public boolean testIsInstance()\n    {\n        return A.class.isInstance(b);\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public boolean testIsAssignableFrom()\n    {\n        return A.class.isAssignableFrom(b.getClass());\n    }\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(TestPerf2.class.getSimpleName())\n                .warmupIterations(20)\n                .measurementIterations(2000)\n                .forks(1)\n                .build();\n\n        new Runner(opt).run();\n    }\n}\n</code></pre>\n\n<p>Gave the following results (score is <em>a number of operations in a time unit</em>, so the higher the score the better):</p>\n\n<pre><code>Benchmark                       Mode   Cnt    Score   Error   Units\nBenchmark.testIsInstance        thrpt  2000  373,061 ± 0,115  ops/us\nBenchmark.testInstanceOf        thrpt  2000  371,047 ± 0,131  ops/us\nBenchmark.testIsAssignableFrom  thrpt  2000  363,648 ± 0,289  ops/us\n</code></pre>\n\n<p><strong>Warning</strong></p>\n\n<ul>\n<li>the benchmark is JVM and platform dependent. Since there are no significant differences between each operation, it might be possible to get a different result (and maybe different order!) on a different JAVA version and/or platforms like Solaris, Mac or Linux.</li>\n<li>the benchmark compares the performance of \"is B an instance of A\" when \"B extends A\" directly. If the class hierarchy is deeper and more complex (like B extends X which extends Y which extends Z which extends A), results might be different.</li>\n<li>it is usually advised to write the code first picking one of the operators (the most convenient) and then profile your code to check if there are a performance bottleneck. Maybe this operator is negligible in the context of your code, or maybe...</li>\n<li>in relation to the previous point, <code>instanceof</code> in the context of your code might get optimized more easily than an <code>isInstance</code> for example... </li>\n</ul>\n\n<p>To give you an example, take the following loop:</p>\n\n<pre><code>class A{}\nclass B extends A{}\n\nA b = new B();\n\nboolean execute(){\n  return A.class.isAssignableFrom(b.getClass());\n  // return A.class.isInstance(b);\n  // return b instanceof A;\n}\n\n// Warmup the code\nfor (int i = 0; i &lt; 100; ++i)\n  execute();\n\n// Time it\nint count = 100000;\nfinal long start = System.nanoTime();\nfor(int i=0; i&lt;count; i++){\n   execute();\n}\nfinal long elapsed = System.nanoTime() - start;\n</code></pre>\n\n<p>Thanks to the JIT, the code is optimized at some point and we get:</p>\n\n<ul>\n<li>instanceof: 6ms </li>\n<li>isInstance: 12ms</li>\n<li>isAssignableFrom : 15ms</li>\n</ul>\n\n<p><strong>Note</strong></p>\n\n<p>Originally this post was doing its own benchmark using a <em>for</em> loop in raw JAVA, which gave unreliable results as some optimization like Just In Time can eliminate the loop. So it was mostly measuring how long did the JIT compiler take to optimize the loop: see <a href=\"https://stackoverflow.com/questions/12106799/performance-test-independent-of-the-number-of-iterations\">Performance test independent of the number of iterations</a> for more details</p>\n\n<p><strong>Related questions</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4973359/does-instanceof-operator-generate-a-lot-of-overhead-why\">Does instanceof operator generate a lot of overhead ? Why?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14190189/how-instanceof-is-implemented-inside-java\">How instanceof is implemented inside JAVA?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/103564/the-performance-impact-of-using-instanceof-in-java\">The performance impact of using instanceof in Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1452026985,"creation_date":1378755032,"answer_id":18705541,"question_id":496928,"body_markdown":"instanceof cannot be used with primitive types or generic types either.  As in the following code:\r\n\r\n    //Define Class&lt; T &gt; type ... \r\n\r\n    Object e = new Object();\r\n    \r\n    if(e instanceof T) {\r\n      // Do something.\r\n    }\r\n\r\nThe error is: Cannot perform instanceof check against type parameter T.  Use it&#39;s erasure Object instead since further generic type information will be erased at runtime.\r\n\r\nDoes not compile due to type erasure removing the runtime reference.  However, the code below will compile:\r\n\r\n    if( type.isAssignableFrom(e.getClass())){\r\n      // Do something.\r\n    }\r\n\r\n","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>instanceof cannot be used with primitive types or generic types either.  As in the following code:</p>\n\n<pre><code>//Define Class&lt; T &gt; type ... \n\nObject e = new Object();\n\nif(e instanceof T) {\n  // Do something.\n}\n</code></pre>\n\n<p>The error is: Cannot perform instanceof check against type parameter T.  Use it's erasure Object instead since further generic type information will be erased at runtime.</p>\n\n<p>Does not compile due to type erasure removing the runtime reference.  However, the code below will compile:</p>\n\n<pre><code>if( type.isAssignableFrom(e.getClass())){\n  // Do something.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2788691,"reputation":21,"user_id":2798292,"display_name":"Stephan Korsholm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460491225,"creation_date":1458309570,"answer_id":36086355,"question_id":496928,"body_markdown":"    isAssignableFrom(A, B) =\r\n    \r\n    if (A == B) return true\r\n    else if (B == java.lang.Object) return false\r\n    else return isAssignableFrom(A, getSuperClass(B))\r\n\r\nThe pseudo code above is a definition of, if references of type/class A is assignable from references of type/class B. It is a recursive definition. To some it may be helpful, for others it may be confusing. I add it in case somebody should find it useful. This is just an attempt to capture my understanding, it is not the official definition. It is used in a certain Java VM implementation and works for many example programs, so while I cannot guarentee that it captures all aspects of isAssignableFrom, it is not completely off.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<pre><code>isAssignableFrom(A, B) =\n\nif (A == B) return true\nelse if (B == java.lang.Object) return false\nelse return isAssignableFrom(A, getSuperClass(B))\n</code></pre>\n\n<p>The pseudo code above is a definition of, if references of type/class A is assignable from references of type/class B. It is a recursive definition. To some it may be helpful, for others it may be confusing. I add it in case somebody should find it useful. This is just an attempt to capture my understanding, it is not the official definition. It is used in a certain Java VM implementation and works for many example programs, so while I cannot guarentee that it captures all aspects of isAssignableFrom, it is not completely off.</p>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503248704,"creation_date":1503248704,"answer_id":45784735,"question_id":496928,"body_markdown":"Talking in terms of performance &quot;2&quot; (with JMH):\r\n\r\n    class A{}\r\n    class B extends A{}\r\n\t\r\n    public class InstanceOfTest {\r\n\r\n\tpublic static final Object a = new A();\r\n\tpublic static final Object b = new B();\r\n\r\n\t@Benchmark\r\n\t@BenchmarkMode(Mode.AverageTime)\r\n\t@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n\tpublic boolean testInstanceOf()\r\n\t{\r\n\t\treturn b instanceof A;\r\n\t}\r\n\r\n\t@Benchmark\r\n\t@BenchmarkMode(Mode.AverageTime)\r\n\t@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n\tpublic boolean testIsInstance()\r\n\t{\r\n\t\treturn A.class.isInstance(b);\r\n\t}\r\n\r\n\t@Benchmark\r\n\t@BenchmarkMode(Mode.AverageTime)\r\n\t@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n\tpublic boolean testIsAssignableFrom()\r\n\t{\r\n\t\treturn A.class.isAssignableFrom(b.getClass());\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws RunnerException {\r\n\t\tOptions opt = new OptionsBuilder()\r\n\t\t\t\t.include(InstanceOfTest.class.getSimpleName())\r\n\t\t\t\t.warmupIterations(5)\r\n\t\t\t\t.measurementIterations(5)\r\n\t\t\t\t.forks(1)\r\n\t\t\t\t.build();\r\n\r\n\t\tnew Runner(opt).run();\r\n\t}\r\n    }\r\n\r\nIt gives:\r\n\r\n    Benchmark                            Mode  Cnt  Score   Error  Units\r\n    InstanceOfTest.testInstanceOf        avgt    5  1,972 ? 0,002  ns/op\r\n    InstanceOfTest.testIsAssignableFrom  avgt    5  1,991 ? 0,004  ns/op\r\n    InstanceOfTest.testIsInstance        avgt    5  1,972 ? 0,003  ns/op\r\n \r\nSo that we can conclude: **instanceof** as fast as **isInstance()** and **isAssignableFrom()** not far away (+0.9% executon time). So no real difference whatever you choose","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Talking in terms of performance \"2\" (with JMH):</p>\n\n<pre><code>class A{}\nclass B extends A{}\n\npublic class InstanceOfTest {\n\npublic static final Object a = new A();\npublic static final Object b = new B();\n\n@Benchmark\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\npublic boolean testInstanceOf()\n{\n    return b instanceof A;\n}\n\n@Benchmark\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\npublic boolean testIsInstance()\n{\n    return A.class.isInstance(b);\n}\n\n@Benchmark\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\npublic boolean testIsAssignableFrom()\n{\n    return A.class.isAssignableFrom(b.getClass());\n}\n\npublic static void main(String[] args) throws RunnerException {\n    Options opt = new OptionsBuilder()\n            .include(InstanceOfTest.class.getSimpleName())\n            .warmupIterations(5)\n            .measurementIterations(5)\n            .forks(1)\n            .build();\n\n    new Runner(opt).run();\n}\n}\n</code></pre>\n\n<p>It gives:</p>\n\n<pre><code>Benchmark                            Mode  Cnt  Score   Error  Units\nInstanceOfTest.testInstanceOf        avgt    5  1,972 ? 0,002  ns/op\nInstanceOfTest.testIsAssignableFrom  avgt    5  1,991 ? 0,004  ns/op\nInstanceOfTest.testIsInstance        avgt    5  1,972 ? 0,003  ns/op\n</code></pre>\n\n<p>So that we can conclude: <strong>instanceof</strong> as fast as <strong>isInstance()</strong> and <strong>isAssignableFrom()</strong> not far away (+0.9% executon time). So no real difference whatever you choose</p>\n"},{"tags":[],"owner":{"account_id":5300832,"reputation":2123,"user_id":4230520,"display_name":"Sagan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586798988,"creation_date":1586798988,"answer_id":61193297,"question_id":496928,"body_markdown":"How about some examples to show it in action...\r\n\r\n    @Test\r\n    public void isInstanceOf() {\r\n        Exception anEx1 = new Exception(&quot;ex&quot;);\r\n        Exception anEx2 = new RuntimeException(&quot;ex&quot;);\r\n        RuntimeException anEx3 = new RuntimeException(&quot;ex&quot;);\r\n\r\n        //Base case, handles inheritance\r\n        Assert.assertTrue(anEx1 instanceof Exception);\r\n        Assert.assertTrue(anEx2 instanceof Exception);\r\n        Assert.assertTrue(anEx3 instanceof Exception);\r\n\r\n        //Other cases\r\n        Assert.assertFalse(anEx1 instanceof RuntimeException);\r\n        Assert.assertTrue(anEx2 instanceof RuntimeException);\r\n        Assert.assertTrue(anEx3 instanceof RuntimeException);\r\n    }\r\n\r\n    @Test\r\n    public void isAssignableFrom() {\r\n        Exception anEx1 = new Exception(&quot;ex&quot;);\r\n        Exception anEx2 = new RuntimeException(&quot;ex&quot;);\r\n        RuntimeException anEx3 = new RuntimeException(&quot;ex&quot;);\r\n\r\n        //Correct usage = The base class goes first\r\n        Assert.assertTrue(Exception.class.isAssignableFrom(anEx1.getClass()));\r\n        Assert.assertTrue(Exception.class.isAssignableFrom(anEx2.getClass()));\r\n        Assert.assertTrue(Exception.class.isAssignableFrom(anEx3.getClass()));\r\n\r\n        //Incorrect usage = Method parameter is used in the wrong order\r\n        Assert.assertTrue(anEx1.getClass().isAssignableFrom(Exception.class));\r\n        Assert.assertFalse(anEx2.getClass().isAssignableFrom(Exception.class));\r\n        Assert.assertFalse(anEx3.getClass().isAssignableFrom(Exception.class));\r\n    }","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>How about some examples to show it in action...</p>\n\n<pre><code>@Test\npublic void isInstanceOf() {\n    Exception anEx1 = new Exception(\"ex\");\n    Exception anEx2 = new RuntimeException(\"ex\");\n    RuntimeException anEx3 = new RuntimeException(\"ex\");\n\n    //Base case, handles inheritance\n    Assert.assertTrue(anEx1 instanceof Exception);\n    Assert.assertTrue(anEx2 instanceof Exception);\n    Assert.assertTrue(anEx3 instanceof Exception);\n\n    //Other cases\n    Assert.assertFalse(anEx1 instanceof RuntimeException);\n    Assert.assertTrue(anEx2 instanceof RuntimeException);\n    Assert.assertTrue(anEx3 instanceof RuntimeException);\n}\n\n@Test\npublic void isAssignableFrom() {\n    Exception anEx1 = new Exception(\"ex\");\n    Exception anEx2 = new RuntimeException(\"ex\");\n    RuntimeException anEx3 = new RuntimeException(\"ex\");\n\n    //Correct usage = The base class goes first\n    Assert.assertTrue(Exception.class.isAssignableFrom(anEx1.getClass()));\n    Assert.assertTrue(Exception.class.isAssignableFrom(anEx2.getClass()));\n    Assert.assertTrue(Exception.class.isAssignableFrom(anEx3.getClass()));\n\n    //Incorrect usage = Method parameter is used in the wrong order\n    Assert.assertTrue(anEx1.getClass().isAssignableFrom(Exception.class));\n    Assert.assertFalse(anEx2.getClass().isAssignableFrom(Exception.class));\n    Assert.assertFalse(anEx3.getClass().isAssignableFrom(Exception.class));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661879775,"creation_date":1661879775,"answer_id":73546274,"question_id":496928,"body_markdown":"It all depends on what you have available at that point in the code. I would not recommend to use `isAssignableFrom` if you are working with an actual object — there is a better option. Here is a ranked list of recommendations, based on what you have available:\r\n\r\n - If you have an object `a` and you know the type `B` at compile time:\r\n\r\n   `a instanceof B`\r\n - If you have an object `a` and you don&#39;t know the type `B`, but you have an object `b`:\r\n\r\n   `b.getClass().isInstance(a)`\r\n - If you have an object `a` and you don&#39;t have a type at compile time OR an instantiated object, but you do have a class object `Class&lt;?&gt; someBClass`:\r\n\r\n   `someBClass.isInstance(a)`\r\n - If you have no instantiated objects, but you have two `Class&lt;?&gt;` objects:\r\n\r\n   `someBClass.isAssignableFrom(someAClass)`.\r\n\r\nAssuming you start at the top of the list and work down, each one of these is the simplest way to accomplish your goal, and based on my own research _I believe_ that you will also get the best possible performance.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>It all depends on what you have available at that point in the code. I would not recommend to use <code>isAssignableFrom</code> if you are working with an actual object — there is a better option. Here is a ranked list of recommendations, based on what you have available:</p>\n<ul>\n<li><p>If you have an object <code>a</code> and you know the type <code>B</code> at compile time:</p>\n<p><code>a instanceof B</code></p>\n</li>\n<li><p>If you have an object <code>a</code> and you don't know the type <code>B</code>, but you have an object <code>b</code>:</p>\n<p><code>b.getClass().isInstance(a)</code></p>\n</li>\n<li><p>If you have an object <code>a</code> and you don't have a type at compile time OR an instantiated object, but you do have a class object <code>Class&lt;?&gt; someBClass</code>:</p>\n<p><code>someBClass.isInstance(a)</code></p>\n</li>\n<li><p>If you have no instantiated objects, but you have two <code>Class&lt;?&gt;</code> objects:</p>\n<p><code>someBClass.isAssignableFrom(someAClass)</code>.</p>\n</li>\n</ul>\n<p>Assuming you start at the top of the list and work down, each one of these is the simplest way to accomplish your goal, and based on my own research <em>I believe</em> that you will also get the best possible performance.</p>\n"}],"owner":{"account_id":22128,"reputation":6277,"user_id":54318,"accept_rate":100,"display_name":"Megamug"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282182,"favorite_count":0,"down_vote_count":0,"up_vote_count":506,"accepted_answer_id":497001,"answer_count":15,"score":506,"last_activity_date":1661879775,"creation_date":1233344664,"question_id":496928,"body_markdown":"Which of the following is better?\r\n\r\n    a instanceof B\r\n\r\nor\r\n\r\n    B.class.isAssignableFrom(a.getClass())\r\n\r\nThe only difference that I know of is, when &#39;a&#39; is null, the first returns false, while the second throws an exception. Other than that, do they always give the same result?","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Which of the following is better?</p>\n\n<pre><code>a instanceof B\n</code></pre>\n\n<p>or</p>\n\n<pre><code>B.class.isAssignableFrom(a.getClass())\n</code></pre>\n\n<p>The only difference that I know of is, when 'a' is null, the first returns false, while the second throws an exception. Other than that, do they always give the same result?</p>\n"},{"tags":["java","graph","tree","jgrapht"],"comments":[{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1661832018,"post_id":73531442,"comment_id":129858660,"body_markdown":"Please include a [MRE], and add some details about what you try to accomplish. What assumptions are you making in terms of the input graph? Is the graph directed? Does the graph contain cycles? If so, how do you want to deal with that in terms of edges?","body":"Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and add some details about what you try to accomplish. What assumptions are you making in terms of the input graph? Is the graph directed? Does the graph contain cycles? If so, how do you want to deal with that in terms of edges?"},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1661832517,"post_id":73531442,"comment_id":129858733,"body_markdown":"Also, what `Tree` are you specifically referring to? A [TreeMap](https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html) or something else? And what would be the purpose of it (you might be better off with some of jGraphT&#39;s functionality)?","body":"Also, what <code>Tree</code> are you specifically referring to? A <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a> or something else? And what would be the purpose of it (you might be better off with some of jGraphT&#39;s functionality)?"},{"owner":{"account_id":323468,"reputation":341,"user_id":643503,"accept_rate":60,"display_name":"Neill Lima"},"score":0,"creation_date":1661848017,"post_id":73531442,"comment_id":129862696,"body_markdown":"Thanks @JorisKinable, I&#39;ve edit the question and I hope it&#39;s enough for the context. Thanks for looking at it.","body":"Thanks @JorisKinable, I&#39;ve edit the question and I hope it&#39;s enough for the context. Thanks for looking at it."},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1662097613,"post_id":73531442,"comment_id":129931396,"body_markdown":"Did my answer answer your question? If not, please update your question, else hit accept and up vote so I know this has been resolved.","body":"Did my answer answer your question? If not, please update your question, else hit accept and up vote so I know this has been resolved."}],"answers":[{"tags":[],"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661879753,"creation_date":1661879753,"answer_id":73546269,"question_id":73531442,"body_markdown":"You can directly construct the tree based on your data structure by iterating recursively over the nodes in the graphs as follows.\r\n\r\n```\r\npublic static void main(String[] args){\r\n    //Construct the example graph.\r\n    Graph&lt;String, DefaultEdge&gt; graph = new SimpleDirectedGraph&lt;&gt;(DefaultEdge.class);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Car&quot;, &quot;Trunk&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Trunk&quot;, &quot;Engine&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Engine&quot;, &quot;Valve&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Valve&quot;, &quot;Bolt&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Trunk&quot;, &quot;Engine&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Car&quot;, &quot;Battery&quot;);\r\n\r\n    //OPTIONAL: Test whether the graph contains a directed cycle. This would prevent us from constructing a tree\r\n    CycleDetector&lt;String, DefaultEdge&gt; cycleDetector = new CycleDetector&lt;&gt;(graph);\r\n    if(cycleDetector.detectCycles())\r\n        throw new RuntimeException(&quot;Graph cannot contain cycles, i.e. graph must be acyclic!&quot;);\r\n\r\n    //Construct the Tree\r\n    Tree&lt;String&gt; tree = Tree.of(&quot;Car&quot;);\r\n    buildSubtree(graph, tree);\r\n\r\n    System.out.println(&quot;Tree: \\n&quot;+tree);\r\n}\r\n\r\nprivate static void buildSubtree(Graph&lt;String, DefaultEdge&gt; graph, Tree&lt;String&gt; root){\r\n    for(DefaultEdge arc : graph.outgoingEdgesOf(root.value)){\r\n        Tree&lt;String&gt; child = root.addChild(graph.getEdgeTarget(arc));\r\n        buildSubtree(graph, child);\r\n    }\r\n}\r\n```\r\nI made a few minor modifications to the Tree class:\r\n```\r\npublic class Tree&lt;T&gt; {\r\n    public final T value;\r\n    private List&lt;Tree&lt;T&gt;&gt; children;\r\n\r\n    private Tree(T value){\r\n        this.value=value;\r\n        this.children = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public static &lt;T&gt; Tree&lt;T&gt; of(T value){\r\n        return new Tree&lt;&gt;(value);\r\n    }\r\n\r\n    public Tree&lt;T&gt; addChild(T value){\r\n        Tree&lt;T&gt; newChild = new Tree&lt;&gt;(value);\r\n        children.add(newChild);\r\n        return newChild;\r\n    }\r\n\r\n    public String toString(){\r\n        String s =&quot;node: &quot;+value+&quot; - children: (&quot;+\r\n                children.stream().map(child -&gt; child.value.toString()).collect(Collectors.joining(&quot;,&quot;))+\r\n                &quot;)\\n&quot;;\r\n        for(Tree&lt;T&gt; child : children)\r\n            s+=child.toString();\r\n        return s;\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nTree: \r\nnode: Car - children: (Trunk,Battery)\r\nnode: Trunk - children: (Engine)\r\nnode: Engine - children: (Valve)\r\nnode: Valve - children: (Bolt)\r\nnode: Bolt - children: ()\r\nnode: Battery - children: ()\r\n```\r\n**Note**: From the question I cannot deduce why this particular Tree structure has any advantage over the much richer data structures offered by JGraphT. It is questionable whether using this Tree structure is a good idea.","title":"Transform jgrapht graph into a Tree","body":"<p>You can directly construct the tree based on your data structure by iterating recursively over the nodes in the graphs as follows.</p>\n<pre><code>public static void main(String[] args){\n    //Construct the example graph.\n    Graph&lt;String, DefaultEdge&gt; graph = new SimpleDirectedGraph&lt;&gt;(DefaultEdge.class);\n    Graphs.addEdgeWithVertices(graph, &quot;Car&quot;, &quot;Trunk&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Trunk&quot;, &quot;Engine&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Engine&quot;, &quot;Valve&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Valve&quot;, &quot;Bolt&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Trunk&quot;, &quot;Engine&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Car&quot;, &quot;Battery&quot;);\n\n    //OPTIONAL: Test whether the graph contains a directed cycle. This would prevent us from constructing a tree\n    CycleDetector&lt;String, DefaultEdge&gt; cycleDetector = new CycleDetector&lt;&gt;(graph);\n    if(cycleDetector.detectCycles())\n        throw new RuntimeException(&quot;Graph cannot contain cycles, i.e. graph must be acyclic!&quot;);\n\n    //Construct the Tree\n    Tree&lt;String&gt; tree = Tree.of(&quot;Car&quot;);\n    buildSubtree(graph, tree);\n\n    System.out.println(&quot;Tree: \\n&quot;+tree);\n}\n\nprivate static void buildSubtree(Graph&lt;String, DefaultEdge&gt; graph, Tree&lt;String&gt; root){\n    for(DefaultEdge arc : graph.outgoingEdgesOf(root.value)){\n        Tree&lt;String&gt; child = root.addChild(graph.getEdgeTarget(arc));\n        buildSubtree(graph, child);\n    }\n}\n</code></pre>\n<p>I made a few minor modifications to the Tree class:</p>\n<pre><code>public class Tree&lt;T&gt; {\n    public final T value;\n    private List&lt;Tree&lt;T&gt;&gt; children;\n\n    private Tree(T value){\n        this.value=value;\n        this.children = new ArrayList&lt;&gt;();\n    }\n\n    public static &lt;T&gt; Tree&lt;T&gt; of(T value){\n        return new Tree&lt;&gt;(value);\n    }\n\n    public Tree&lt;T&gt; addChild(T value){\n        Tree&lt;T&gt; newChild = new Tree&lt;&gt;(value);\n        children.add(newChild);\n        return newChild;\n    }\n\n    public String toString(){\n        String s =&quot;node: &quot;+value+&quot; - children: (&quot;+\n                children.stream().map(child -&gt; child.value.toString()).collect(Collectors.joining(&quot;,&quot;))+\n                &quot;)\\n&quot;;\n        for(Tree&lt;T&gt; child : children)\n            s+=child.toString();\n        return s;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Tree: \nnode: Car - children: (Trunk,Battery)\nnode: Trunk - children: (Engine)\nnode: Engine - children: (Valve)\nnode: Valve - children: (Bolt)\nnode: Bolt - children: ()\nnode: Battery - children: ()\n</code></pre>\n<p><strong>Note</strong>: From the question I cannot deduce why this particular Tree structure has any advantage over the much richer data structures offered by JGraphT. It is questionable whether using this Tree structure is a good idea.</p>\n"}],"owner":{"account_id":323468,"reputation":341,"user_id":643503,"accept_rate":60,"display_name":"Neill Lima"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73546269,"answer_count":1,"score":1,"last_activity_date":1661879753,"creation_date":1661788489,"question_id":73531442,"body_markdown":"I would like to know if JGraphT has any built-in feature that allows one to export a generated graph into an infinite Tree (parent node/parent children) format. \r\n\r\n**Tree class**\r\n\r\n```\r\npublic class Tree&lt;T&gt; {\r\n\r\n  private T value;\r\n  private List&lt;Tree&lt;T&gt;&gt; children;\r\n\r\n  private Tree(T value) {\r\n    this.value = value;\r\n    this.children = new ArrayList&lt;&gt;();\r\n  }\r\n\r\n  public static &lt;T&gt; Tree&lt;T&gt; of(T value) {\r\n    return new Tree&lt;&gt;(value);\r\n  }\r\n\r\n  public Tree&lt;T&gt; addChild(T value) {\r\n    Tree&lt;T&gt; newChild = new Tree&lt;&gt;(value);\r\n    children.add(newChild);\r\n    return newChild;\r\n  }\r\n}\r\n```\r\n\r\n**The data sample**\r\n\r\nI&#39;m experimenting with a tree of components, in which a component can have `n` children based on a root component. The nodes can only relate to one another in descending order.\r\n\r\nE.g (Rough draft). \r\n\r\n```\r\nCar &gt; Trunk &gt; Engine &gt; Valve &gt; Bolt \r\nCar &gt; Trunk &gt; Battery \r\n```\r\n\r\nAnd so on. Of course, the list of components should grow indefinitely based on the complexity of the root component in question.\r\n\r\n**The graph**\r\n\r\nI&#39;ve created a `DirectedPseudograph&lt;Component, DefaultEdge&gt;` and added all the components as vertexes and added the edges between them, that part is working well. I can get the root components and traverse the graph using DFS and BFS to list the relationship between the nodes. \r\n\r\n**The Goal**\r\n\r\nI would like to export this into a Java object to use it further in the system. I&#39;ve played a bit with the JSONExporter but I wasn&#39;t able to get it into a sort of Object tree. Hence the question here is to see if there is a specific way to achieve this. I&#39;m flexible with the data type (`class Tree&lt;T&gt;` above) as long as I can generate nested objects. I would be okay generating a nested JSON object and marshaling it into POJO if needed as well, although that would mean a lot of extra code, so I wanted to take the shortcut.\r\n\r\nI&#39;ve been playing with the `.vertexSet()` and `.edgeSet()` functions, but generating a tree out of it would require a lot of boilerplate code. \r\n\r\nShould I leverage a BFS Iterator to go over all nodes/connections and craft a tree out of it manually?\r\n\r\nBest,\r\n\r\nNeill","title":"Transform jgrapht graph into a Tree","body":"<p>I would like to know if JGraphT has any built-in feature that allows one to export a generated graph into an infinite Tree (parent node/parent children) format.</p>\n<p><strong>Tree class</strong></p>\n<pre><code>public class Tree&lt;T&gt; {\n\n  private T value;\n  private List&lt;Tree&lt;T&gt;&gt; children;\n\n  private Tree(T value) {\n    this.value = value;\n    this.children = new ArrayList&lt;&gt;();\n  }\n\n  public static &lt;T&gt; Tree&lt;T&gt; of(T value) {\n    return new Tree&lt;&gt;(value);\n  }\n\n  public Tree&lt;T&gt; addChild(T value) {\n    Tree&lt;T&gt; newChild = new Tree&lt;&gt;(value);\n    children.add(newChild);\n    return newChild;\n  }\n}\n</code></pre>\n<p><strong>The data sample</strong></p>\n<p>I'm experimenting with a tree of components, in which a component can have <code>n</code> children based on a root component. The nodes can only relate to one another in descending order.</p>\n<p>E.g (Rough draft).</p>\n<pre><code>Car &gt; Trunk &gt; Engine &gt; Valve &gt; Bolt \nCar &gt; Trunk &gt; Battery \n</code></pre>\n<p>And so on. Of course, the list of components should grow indefinitely based on the complexity of the root component in question.</p>\n<p><strong>The graph</strong></p>\n<p>I've created a <code>DirectedPseudograph&lt;Component, DefaultEdge&gt;</code> and added all the components as vertexes and added the edges between them, that part is working well. I can get the root components and traverse the graph using DFS and BFS to list the relationship between the nodes.</p>\n<p><strong>The Goal</strong></p>\n<p>I would like to export this into a Java object to use it further in the system. I've played a bit with the JSONExporter but I wasn't able to get it into a sort of Object tree. Hence the question here is to see if there is a specific way to achieve this. I'm flexible with the data type (<code>class Tree&lt;T&gt;</code> above) as long as I can generate nested objects. I would be okay generating a nested JSON object and marshaling it into POJO if needed as well, although that would mean a lot of extra code, so I wanted to take the shortcut.</p>\n<p>I've been playing with the <code>.vertexSet()</code> and <code>.edgeSet()</code> functions, but generating a tree out of it would require a lot of boilerplate code.</p>\n<p>Should I leverage a BFS Iterator to go over all nodes/connections and craft a tree out of it manually?</p>\n<p>Best,</p>\n<p>Neill</p>\n"},{"tags":["java","rabbitmq","message-queue","producer-consumer","rabbitmq-exchange"],"comments":[{"owner":{"account_id":23435245,"reputation":894,"user_id":17493431,"display_name":"Ethan"},"score":1,"creation_date":1661878989,"post_id":73544820,"comment_id":129874925,"body_markdown":"Do not vandalize your posts. By posting on this site, you&#39;ve irrevocably granted the Stack Exchange network the right to distribute that content under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/) for as long as it sees fit to do so. For alternatives to deletion, see: [I&#39;ve thought better of my question; can I delete it?](https://&lt;sitename&gt;.com/help/what-to-do-instead-of-deleting-question)","body":"Do not vandalize your posts. By posting on this site, you&#39;ve irrevocably granted the Stack Exchange network the right to distribute that content under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a> for as long as it sees fit to do so. For alternatives to deletion, see: <a href=\"https://&lt;sitename&gt;.com/help/what-to-do-instead-of-deleting-question\" rel=\"nofollow noreferrer\">I&#39;ve thought better of my question; can I delete it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661875689,"creation_date":1661875689,"answer_id":73545443,"question_id":73544820,"body_markdown":"I think you close connection without waiting message. Nothing stop your code to close all and that&#39;s kill consumer thread that is launch.\r\n\r\nSo you need waiting in a while loop : \r\n\r\n    private static final volatile boolean NO_LEFT = true;    \r\n        public void tamagoReceiveDish() throws IOException, TimeoutException  {\r\n        String sushiDishEx = &quot;sushiDishExchange&quot;;\r\n        String tamagoKey = &quot;tamagoDishKey&quot;;\r\n        \r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        try (Connection con = factory.newConnection()) {  // added a try clause \r\n        Channel chan = con.createChannel();\r\n       chan.exchangeDeclare(sushiDishEx, &quot;direct&quot;); // direct exchange\r\n        \r\n        String queueName = chan.queueDeclare().getQueue();  \r\n        chan.queueBind(queueName, sushiDishEx, tamagoKey); \r\n        \r\n        \r\n        chan.basicConsume(queueName, true, (x, msg)-&gt;{\r\n        byte[] byteArray = msg.getBody();\r\n        try {\r\n            Sushi sushi = (Sushi) deserialize(byteArray);\r\n            System.out.println(&quot;CUSTOMER &quot; + this.custNo + &quot; (ordered Tamago Sushi): Received &quot; + sushi.sushiName + &quot;.&quot;);\r\n            System.out.println(&quot;CUSTOMER &quot; + this.custNo + &quot;: Left the restaurant.&quot;);\r\n            NO_LEFT = false;\r\n            \r\n        } catch (Exception e) {}\r\n        }, x-&gt;{}\r\n        );\r\n       while(NO_LEFT){\r\n         Thread.sleep(100);\r\n        }\r\n        }}","title":"RabbitMQ direct exchange is not consuming messages","body":"<p>I think you close connection without waiting message. Nothing stop your code to close all and that's kill consumer thread that is launch.</p>\n<p>So you need waiting in a while loop :</p>\n<pre><code>private static final volatile boolean NO_LEFT = true;    \n    public void tamagoReceiveDish() throws IOException, TimeoutException  {\n    String sushiDishEx = &quot;sushiDishExchange&quot;;\n    String tamagoKey = &quot;tamagoDishKey&quot;;\n    \n    ConnectionFactory factory = new ConnectionFactory();\n    try (Connection con = factory.newConnection()) {  // added a try clause \n    Channel chan = con.createChannel();\n   chan.exchangeDeclare(sushiDishEx, &quot;direct&quot;); // direct exchange\n    \n    String queueName = chan.queueDeclare().getQueue();  \n    chan.queueBind(queueName, sushiDishEx, tamagoKey); \n    \n    \n    chan.basicConsume(queueName, true, (x, msg)-&gt;{\n    byte[] byteArray = msg.getBody();\n    try {\n        Sushi sushi = (Sushi) deserialize(byteArray);\n        System.out.println(&quot;CUSTOMER &quot; + this.custNo + &quot; (ordered Tamago Sushi): Received &quot; + sushi.sushiName + &quot;.&quot;);\n        System.out.println(&quot;CUSTOMER &quot; + this.custNo + &quot;: Left the restaurant.&quot;);\n        NO_LEFT = false;\n        \n    } catch (Exception e) {}\n    }, x-&gt;{}\n    );\n   while(NO_LEFT){\n     Thread.sleep(100);\n    }\n    }}\n</code></pre>\n"}],"owner":{"account_id":18777764,"reputation":105,"user_id":13693125,"display_name":"cloud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73545443,"answer_count":1,"score":1,"last_activity_date":1661879558,"creation_date":1661872593,"question_id":73544820,"body_markdown":"edit: edited to make it more generalized \r\n\r\nI have a producer thread wanting to send a message to the consumer threads in Java using RabbitMQ direct exchange, but my consumer are not receiving the dish. Below is the method my producer uses to publish the message:\r\n\r\nNote that `key` was passed as a parameter and was determined in a previous if-else statement to be either `&quot;key1&quot;` or `&quot;key2&quot;` string.\r\n\r\n    public void producerSend (Object object, String key) throws IOException, TimeoutException {\r\n        \r\n        String exchange = &quot;directExchange&quot;;\r\n        \r\n        System.out.println(&quot;PRODUCER: Sent message);\r\n        \r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        byte[] byteArray = getByteArray(object);\r\n        try (Connection con = factory.newConnection()){\r\n            Channel chan = con.createChannel();\r\n            chan.exchangeDeclare (exchange, BuiltinExchangeType.DIRECT);\r\n            chan.basicPublish(exchange, key, null, byteArray);\r\n        }\r\n    }\r\n\r\nBelow is the method my consumers use to consume the message:\r\n\r\n    public void consumerReceive() throws IOException, TimeoutException  {\r\n    String exchange = &quot;directExchange&quot;;\r\n    String key = &quot;key1&quot;;\r\n        \r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        try (Connection con = factory.newConnection()) {  // added a try clause \r\n        Channel chan = con.createChannel();\r\n       chan.exchangeDeclare(exchange, &quot;direct&quot;); // direct exchange\r\n        \r\n        String queueName = chan.queueDeclare().getQueue();  \r\n        chan.queueBind(queueName, exchange, key); \r\n        \r\n        \r\n        chan.basicConsume(queueName, true, (x, msg)-&gt;{\r\n        byte[] byteArray = msg.getBody();\r\n        try {\r\n            Object object = (Object) deserialize(byteArray);\r\n            System.out.println(&quot;CONSUMER: Received message. Bye!&quot;);\r\n           \r\n            \r\n        } catch (Exception e) {}\r\n        }, x-&gt;{}\r\n        );\r\n        }\r\n    }\r\n\r\nNote that I added a `try clause` when creating a new connection for the consumer as there were many consumers (threads) that are continuously created to order and obtain a message, and I want them to only connect ONCE with the producer to obtain the message, then stop connection (consumer says bye). \r\n\r\nBefore, when I did not add the `try clause`, so the consumers were able to receive the message and leave, but when the next consumer joins and waits for their message, the producer ends up sending the message to ALL of the consumers who had previously received their message because the connection was still open with the previous consumers. That&#39;s why I added the `try clause`, but I&#39;m not sure why after adding it, the consumers no longer receive any dish (the consumer connection is not created?).\r\n\r\nI&#39;d really appreciate it if anyone could help me resolve this problem. I only want one unique consumer to receive each message and leave (close the connection with that consumer?)","title":"RabbitMQ direct exchange is not consuming messages","body":"<p>edit: edited to make it more generalized</p>\n<p>I have a producer thread wanting to send a message to the consumer threads in Java using RabbitMQ direct exchange, but my consumer are not receiving the dish. Below is the method my producer uses to publish the message:</p>\n<p>Note that <code>key</code> was passed as a parameter and was determined in a previous if-else statement to be either <code>&quot;key1&quot;</code> or <code>&quot;key2&quot;</code> string.</p>\n<pre><code>public void producerSend (Object object, String key) throws IOException, TimeoutException {\n    \n    String exchange = &quot;directExchange&quot;;\n    \n    System.out.println(&quot;PRODUCER: Sent message);\n    \n    ConnectionFactory factory = new ConnectionFactory();\n    byte[] byteArray = getByteArray(object);\n    try (Connection con = factory.newConnection()){\n        Channel chan = con.createChannel();\n        chan.exchangeDeclare (exchange, BuiltinExchangeType.DIRECT);\n        chan.basicPublish(exchange, key, null, byteArray);\n    }\n}\n</code></pre>\n<p>Below is the method my consumers use to consume the message:</p>\n<pre><code>public void consumerReceive() throws IOException, TimeoutException  {\nString exchange = &quot;directExchange&quot;;\nString key = &quot;key1&quot;;\n    \n    ConnectionFactory factory = new ConnectionFactory();\n    try (Connection con = factory.newConnection()) {  // added a try clause \n    Channel chan = con.createChannel();\n   chan.exchangeDeclare(exchange, &quot;direct&quot;); // direct exchange\n    \n    String queueName = chan.queueDeclare().getQueue();  \n    chan.queueBind(queueName, exchange, key); \n    \n    \n    chan.basicConsume(queueName, true, (x, msg)-&gt;{\n    byte[] byteArray = msg.getBody();\n    try {\n        Object object = (Object) deserialize(byteArray);\n        System.out.println(&quot;CONSUMER: Received message. Bye!&quot;);\n       \n        \n    } catch (Exception e) {}\n    }, x-&gt;{}\n    );\n    }\n}\n</code></pre>\n<p>Note that I added a <code>try clause</code> when creating a new connection for the consumer as there were many consumers (threads) that are continuously created to order and obtain a message, and I want them to only connect ONCE with the producer to obtain the message, then stop connection (consumer says bye).</p>\n<p>Before, when I did not add the <code>try clause</code>, so the consumers were able to receive the message and leave, but when the next consumer joins and waits for their message, the producer ends up sending the message to ALL of the consumers who had previously received their message because the connection was still open with the previous consumers. That's why I added the <code>try clause</code>, but I'm not sure why after adding it, the consumers no longer receive any dish (the consumer connection is not created?).</p>\n<p>I'd really appreciate it if anyone could help me resolve this problem. I only want one unique consumer to receive each message and leave (close the connection with that consumer?)</p>\n"},{"tags":["python","java","intellij-idea","jython","scriptengine"],"answers":[{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661856531,"creation_date":1661856531,"answer_id":73541192,"question_id":73540502,"body_markdown":"I have not worked with Jython library but its seems that it helps to get python libraries/interpreter in java code.\r\nYour code looks like you want to execute some python class and get result in Java. You can simply execute it as a shell command and get its result like following utility function:\r\n\r\n\t\r\n\r\n    public static String runSystemCommand(String fileToRun) throws IOException\r\n    \t{\r\n    \t\tProcess p = Runtime.getRuntime().exec(fileToRun);\r\n    \t\tBufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \r\n    \t\tString result = input.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    \r\n    \t\tinput.close();\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tSystem.out.println(runSystemCommand(&quot;python /home/saad/shell.py&quot;));\r\n    \t}\r\n\r\n","title":"How do I run Python Scripts in Java with the ScriptEngine?","body":"<p>I have not worked with Jython library but its seems that it helps to get python libraries/interpreter in java code.\nYour code looks like you want to execute some python class and get result in Java. You can simply execute it as a shell command and get its result like following utility function:</p>\n<pre><code>public static String runSystemCommand(String fileToRun) throws IOException\n    {\n        Process p = Runtime.getRuntime().exec(fileToRun);\n        BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n        String result = input.lines().collect(Collectors.joining(&quot;\\n&quot;));\n\n        input.close();\n\n        return result;\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        System.out.println(runSystemCommand(&quot;python /home/saad/shell.py&quot;));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26181592,"reputation":3,"user_id":19864896,"display_name":"Skyliam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661879151,"creation_date":1661879151,"answer_id":73546163,"question_id":73540502,"body_markdown":"I found a workaround using the ProcessBuilder. Its running my python script in the shell like @saadeez showed me.\r\n\r\n    @Test\r\n      public void givenPythonScript_whenPythonProcessInvoked_thenSuccess() throws Exception {\r\n      ProcessBuilder processBuilder = new ProcessBuilder(&quot;python&quot;, &quot;C:.py&quot;);\r\n      processBuilder.redirectErrorStream(true);\r\n\r\n      Process process = processBuilder.start();\r\n      List&lt;String&gt; results = readProcessOutput(process.getInputStream());\r\n      System.out.println(results);\r\n      int exitCode = process.waitFor();\r\n      assertEquals(&quot;0&quot;, &quot;&quot;+exitCode);}\r\n\r\n\r\n    public static String runSystemCommand(String fileToRun) throws IOException\r\n    {\r\n        Process p = Runtime.getRuntime().exec(fileToRun);\r\n        BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n        String result = input.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n\r\n        input.close();\r\n\r\n        return result;}\r\n    ","title":"How do I run Python Scripts in Java with the ScriptEngine?","body":"<p>I found a workaround using the ProcessBuilder. Its running my python script in the shell like @saadeez showed me.</p>\n<pre><code>@Test\n  public void givenPythonScript_whenPythonProcessInvoked_thenSuccess() throws Exception {\n  ProcessBuilder processBuilder = new ProcessBuilder(&quot;python&quot;, &quot;C:.py&quot;);\n  processBuilder.redirectErrorStream(true);\n\n  Process process = processBuilder.start();\n  List&lt;String&gt; results = readProcessOutput(process.getInputStream());\n  System.out.println(results);\n  int exitCode = process.waitFor();\n  assertEquals(&quot;0&quot;, &quot;&quot;+exitCode);}\n\n\npublic static String runSystemCommand(String fileToRun) throws IOException\n{\n    Process p = Runtime.getRuntime().exec(fileToRun);\n    BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n    String result = input.lines().collect(Collectors.joining(&quot;\\n&quot;));\n\n    input.close();\n\n    return result;}\n</code></pre>\n"}],"owner":{"account_id":26181592,"reputation":3,"user_id":19864896,"display_name":"Skyliam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73541192,"answer_count":2,"score":0,"last_activity_date":1661879151,"creation_date":1661853321,"question_id":73540502,"body_markdown":"I&#39;m trying to run Python Scripts in my Java Application with Jyton/ScriptEngine but it&#39;s not working.\r\nScriptEngine does not find JythonScriptEngine.\r\n\r\n    public static void main(String[] Args) throws FileNotFoundException, ScriptException {\r\n        PySystemState engineSys = new PySystemState();\r\n        engineSys.path.append(Py.newString(&quot;C:/Users/User/AppData/Local/jython2.7.2/jython.jar&quot;));\r\n        Py.setSystemState(engineSys);\r\n        StringWriter writer = new StringWriter();\r\n        ScriptContext context = new SimpleScriptContext();\r\n        context.setWriter(writer);\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\r\n        engine.eval(new FileReader(&quot;C:/*/MyScript.py&quot;), context);\r\n        System.out.println(engine.get(&quot;value&quot;));}\r\n\r\nI added Jython into my Project Libary.\r\n\r\nBut it didnt work.\r\n\r\nI hope somebody can help me.\r\nThank you in advance. :D\r\n\r\n","title":"How do I run Python Scripts in Java with the ScriptEngine?","body":"<p>I'm trying to run Python Scripts in my Java Application with Jyton/ScriptEngine but it's not working.\nScriptEngine does not find JythonScriptEngine.</p>\n<pre><code>public static void main(String[] Args) throws FileNotFoundException, ScriptException {\n    PySystemState engineSys = new PySystemState();\n    engineSys.path.append(Py.newString(&quot;C:/Users/User/AppData/Local/jython2.7.2/jython.jar&quot;));\n    Py.setSystemState(engineSys);\n    StringWriter writer = new StringWriter();\n    ScriptContext context = new SimpleScriptContext();\n    context.setWriter(writer);\n    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\n    engine.eval(new FileReader(&quot;C:/*/MyScript.py&quot;), context);\n    System.out.println(engine.get(&quot;value&quot;));}\n</code></pre>\n<p>I added Jython into my Project Libary.</p>\n<p>But it didnt work.</p>\n<p>I hope somebody can help me.\nThank you in advance. :D</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661879112,"creation_date":1661879112,"answer_id":73546159,"question_id":53330463,"body_markdown":"There is one, https://www.tornadovm.org/ but not sure how mature.\r\n\r\nTornadoVM can currently execute on multi-core CPUs, dedicated GPUs (Nvidia, AMD), integrated GPUs (Intel HD Graphics and ARM Mali), and FPGAs (Intel and Xilinx).\r\n\r\n```\r\nBackend wise (not all OSes support all these):\r\n--opencl: Enables the OpenCL backend (requires OpenCL drivers)\r\n--ptx: Enables the PTX backend (requires NVIDIA CUDA drivers)\r\n--spirv: Enables the SPIRV backend (requires Intel Level Zero drivers)\r\n```","title":"What JVM can run on CPU and GPU?","body":"<p>There is one, <a href=\"https://www.tornadovm.org/\" rel=\"nofollow noreferrer\">https://www.tornadovm.org/</a> but not sure how mature.</p>\n<p>TornadoVM can currently execute on multi-core CPUs, dedicated GPUs (Nvidia, AMD), integrated GPUs (Intel HD Graphics and ARM Mali), and FPGAs (Intel and Xilinx).</p>\n<pre><code>Backend wise (not all OSes support all these):\n--opencl: Enables the OpenCL backend (requires OpenCL drivers)\n--ptx: Enables the PTX backend (requires NVIDIA CUDA drivers)\n--spirv: Enables the SPIRV backend (requires Intel Level Zero drivers)\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1848,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73546159,"answer_count":1,"score":5,"last_activity_date":1661879112,"creation_date":1542334109,"question_id":53330463,"body_markdown":"What JVM runs on a CPU + GPU? \r\n\r\nI know JVM like *Oracle*, *Zulu*, *OpenJDK* but none is designed to offload processing to  GPU.  ","title":"What JVM can run on CPU and GPU?","body":"<p>What JVM runs on a CPU + GPU? </p>\n\n<p>I know JVM like <em>Oracle</em>, <em>Zulu</em>, <em>OpenJDK</em> but none is designed to offload processing to  GPU.  </p>\n"},{"tags":["java","gzip","zlib"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661837905,"post_id":73537322,"comment_id":129859583,"body_markdown":"&quot;the required 32Kb of previous decompressed data required to start inflating a new block&quot;: where did you get that idea?","body":"&quot;the required 32Kb of previous decompressed data required to start inflating a new block&quot;: where did you get that idea?"},{"owner":{"account_id":9022207,"reputation":11,"user_id":6722892,"display_name":"A. Eglin"},"score":0,"creation_date":1661872661,"post_id":73537322,"comment_id":129872431,"body_markdown":"https://github.com/madler/zlib/blob/master/examples/zran.c#L22-L23","body":"<a href=\"https://github.com/madler/zlib/blob/master/examples/zran.c#L22-L23\" rel=\"nofollow noreferrer\">github.com/madler/zlib/blob/master/examples/zran.c#L22-L23</a>"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1661876562,"post_id":73537322,"comment_id":129873989,"body_markdown":"@user207421 The OP is correct.","body":"@user207421 The OP is correct."}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661878134,"creation_date":1661878134,"answer_id":73545963,"question_id":73537322,"body_markdown":"You are correct that the Java `Inflater` (spelled wrong) class does not provide an interface to the zlib capabilities required for your application. You would need to link to the zlib library in C directly.\r\n\r\n[zran.c][1] provides a working example of what you&#39;re looking for. You use the `Z_BLOCK` flush value with `inflate()` to stop inflation at the next deflate block boundary. On return, `data_type` will tell you how many bits of the last consumed byte of input are part of the next block. You will need to track the offset of the next full byte to consume, and maintain your own buffer of the last 32K of uncompressed data.\r\n\r\nNow you can deliver that offset into the file, the number of bits from the preceding byte to use for the next block, and the 32K of uncompressed data. You can start a new raw inflation with `inflateInit2()`, using `inflatePrime()` to insert those initial 0 to 7 bits from the byte that precedes the first full byte of the next block, and using `inflateSetDictionary()` to set the 32K (or less) of preceding uncompressed data. Then call `inflate()` and you&#39;re off to the races.\r\n\r\nSince you are decoding a gzip stream, and since you need to use raw inflate to start decoding in the middle, you will also need to keep track of two more things. Those are the running total number of uncompressed bytes and the running CRC-32 of the uncompressed data. They are needed to perform the integrity check using the trailer at the end of the gzip stream, which contains the final values of those. zlib also provides the `crc32()` function for that calculation.\r\n\r\nFor the start of the gzip stream, you can either decode the gzip header yourself, which is straightforward referencing [RFC 1952][2], or you can use `inflateInit2()` requesting gzip encoding and `inflate()` with `Z_BLOCK` to decode the header.\r\n\r\nNote that a concatenation of valid gzip streams is a valid gzip stream. If you get to the end of a gzip trailer, and there is still more input from the gzip file, then start over with the decoding of a gzip header.\r\n\r\n  [1]: https://github.com/madler/zlib/blob/master/examples/zran.c\r\n  [2]: https://www.rfc-editor.org/rfc/rfc1952","title":"Java GZIP/ZLib inflate only one block at a time and return a checkpoint that can be used to start the next inflation","body":"<p>You are correct that the Java <code>Inflater</code> (spelled wrong) class does not provide an interface to the zlib capabilities required for your application. You would need to link to the zlib library in C directly.</p>\n<p><a href=\"https://github.com/madler/zlib/blob/master/examples/zran.c\" rel=\"nofollow noreferrer\">zran.c</a> provides a working example of what you're looking for. You use the <code>Z_BLOCK</code> flush value with <code>inflate()</code> to stop inflation at the next deflate block boundary. On return, <code>data_type</code> will tell you how many bits of the last consumed byte of input are part of the next block. You will need to track the offset of the next full byte to consume, and maintain your own buffer of the last 32K of uncompressed data.</p>\n<p>Now you can deliver that offset into the file, the number of bits from the preceding byte to use for the next block, and the 32K of uncompressed data. You can start a new raw inflation with <code>inflateInit2()</code>, using <code>inflatePrime()</code> to insert those initial 0 to 7 bits from the byte that precedes the first full byte of the next block, and using <code>inflateSetDictionary()</code> to set the 32K (or less) of preceding uncompressed data. Then call <code>inflate()</code> and you're off to the races.</p>\n<p>Since you are decoding a gzip stream, and since you need to use raw inflate to start decoding in the middle, you will also need to keep track of two more things. Those are the running total number of uncompressed bytes and the running CRC-32 of the uncompressed data. They are needed to perform the integrity check using the trailer at the end of the gzip stream, which contains the final values of those. zlib also provides the <code>crc32()</code> function for that calculation.</p>\n<p>For the start of the gzip stream, you can either decode the gzip header yourself, which is straightforward referencing <a href=\"https://www.rfc-editor.org/rfc/rfc1952\" rel=\"nofollow noreferrer\">RFC 1952</a>, or you can use <code>inflateInit2()</code> requesting gzip encoding and <code>inflate()</code> with <code>Z_BLOCK</code> to decode the header.</p>\n<p>Note that a concatenation of valid gzip streams is a valid gzip stream. If you get to the end of a gzip trailer, and there is still more input from the gzip file, then start over with the decoding of a gzip header.</p>\n"}],"owner":{"account_id":9022207,"reputation":11,"user_id":6722892,"display_name":"A. Eglin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661878134,"creation_date":1661835445,"question_id":73537322,"body_markdown":"As the title says. I&#39;m looking for a way to decompress a gzip file in such a way that I can stop decompressing on one host, upload the current location in the file and the required 32Kb of previous decompressed data required to start inflating a new block, and then pick up inflation again on another host. Ideally with existing Java packages but I can import from C if required. \r\n\r\nI&#39;ve already looked at https://github.com/madler/zlib and https://docs.oracle.com/javase/8/docs/api/java/util/zip/Inflater.html . I find the zlib library very confusing and difficult to understand but I have a vague semblance of an idea that it can be used for my needs here. Any help in the right direction would be appreciated. Currently I&#39;ve gotten so far as to parse a GZIP files headers &amp; get to the first inflate block, but the Java ZLib library doesn&#39;t allow you to inflate only one block at a time and doesn&#39;t return any sort of checkpoints along the way.","title":"Java GZIP/ZLib inflate only one block at a time and return a checkpoint that can be used to start the next inflation","body":"<p>As the title says. I'm looking for a way to decompress a gzip file in such a way that I can stop decompressing on one host, upload the current location in the file and the required 32Kb of previous decompressed data required to start inflating a new block, and then pick up inflation again on another host. Ideally with existing Java packages but I can import from C if required.</p>\n<p>I've already looked at <a href=\"https://github.com/madler/zlib\" rel=\"nofollow noreferrer\">https://github.com/madler/zlib</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/Inflater.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/zip/Inflater.html</a> . I find the zlib library very confusing and difficult to understand but I have a vague semblance of an idea that it can be used for my needs here. Any help in the right direction would be appreciated. Currently I've gotten so far as to parse a GZIP files headers &amp; get to the first inflate block, but the Java ZLib library doesn't allow you to inflate only one block at a time and doesn't return any sort of checkpoints along the way.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1631965140,"post_id":69233447,"comment_id":122369021,"body_markdown":"the linked program does not compile. Where is the connection to Elasticsearch configured? Anyway it&#39;s not a good idea to use the same entity for a relational database and for a document store like Elasticsearch.","body":"the linked program does not compile. Where is the connection to Elasticsearch configured? Anyway it&#39;s not a good idea to use the same entity for a relational database and for a document store like Elasticsearch."}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661877806,"creation_date":1631960246,"answer_id":69233722,"question_id":69233447,"body_markdown":"java.util.Set is an interface not a class.\r\nInterfaces do not have constructors, they are joined to a class that &quot;implements&quot; (has the operating code methods of) the interface.\r\nAll method signatures in an interface are abstract , they have no code, only the signature of methods supplied by the implementing class.\r\ne.g. HashSet is a class that implements java.util.Set\r\nSee the API documentation at the top of its page for &quot;all known implementing classes&quot;\r\n\r\nYour HashSet is **private**  *it must use private methods to call on it e.g. set or get e.t.c.*\r\n\r\nTo hazard a guess the List must become a Set but List is instantiated and Set is a variable waiting.\r\nSomewhere in the code in private methods this goes like (figuratively)...\r\n\r\n    private Set&lt;Address&gt; addresses = (Set&lt;Address&gt;)(Collection&lt;Address&gt;)elasticsearchTemplate.search(nativeSearchQuery, Customer.class);\r\n\r\nNote that in that line they are all interfaces but to have an instantiated interface means there is a class attached that implements the interface List , however the class should also be able to use interface Set.\r\nI just presume the List returned is actually in a HashSet and the instantiation is simply reserving space in memory like &quot;C&quot; language, just a helper that is not required to have any class instantiated at that time.\r\n**A HashSet takes a Collection in its constructor and a Collection can be either a Set or a List.**\r\n","title":"Spring data elasticsearch:throws MappingInstantiationException: Failed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments","body":"<p>java.util.Set is an interface not a class.\nInterfaces do not have constructors, they are joined to a class that &quot;implements&quot; (has the operating code methods of) the interface.\nAll method signatures in an interface are abstract , they have no code, only the signature of methods supplied by the implementing class.\ne.g. HashSet is a class that implements java.util.Set\nSee the API documentation at the top of its page for &quot;all known implementing classes&quot;</p>\n<p>Your HashSet is <strong>private</strong>  <em>it must use private methods to call on it e.g. set or get e.t.c.</em></p>\n<p>To hazard a guess the List must become a Set but List is instantiated and Set is a variable waiting.\nSomewhere in the code in private methods this goes like (figuratively)...</p>\n<pre><code>private Set&lt;Address&gt; addresses = (Set&lt;Address&gt;)(Collection&lt;Address&gt;)elasticsearchTemplate.search(nativeSearchQuery, Customer.class);\n</code></pre>\n<p>Note that in that line they are all interfaces but to have an instantiated interface means there is a class attached that implements the interface List , however the class should also be able to use interface Set.\nI just presume the List returned is actually in a HashSet and the instantiation is simply reserving space in memory like &quot;C&quot; language, just a helper that is not required to have any class instantiated at that time.\n<strong>A HashSet takes a Collection in its constructor and a Collection can be either a Set or a List.</strong></p>\n"}],"owner":{"account_id":22788505,"reputation":11,"user_id":16943217,"display_name":"Ma Va"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661877806,"creation_date":1631958097,"question_id":69233447,"body_markdown":"I am in process of migrating an application to the latest spring boot version (using gradle spring-boot-dependencies with version 2.5.4).\r\n\r\nI have an entity called `Customer` which is annotated with `@Document(indexName = &quot;customer&quot;)`; and another entity `Address` which is annotated with `@Document(indexName = &quot;address&quot;)`. Customer class has `private Set&lt;Address&gt; addresses = new HashSet&lt;&gt;()`.\r\n\r\nGetting the below error, while calling **List&lt;Customer&gt; hits = elasticsearchTemplate\r\n            .search(nativeSearchQuery, Customer.class)** from the repository. \r\n\r\n&gt; **org.springframework.data.mapping.model.MappingInstantiationException:\r\n&gt; Failed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments**. \r\n\t\t\t\r\n\t\t\t\r\nIt is working if I follow similar MONGO suggestion https://stackoverflow.com/questions/46223496/failed-to-instantiate-java-util-set-using-constructor-no-constructor-with-argume and make the declaration `private HashSet&lt;Address&gt; addresses = new HashSet&lt;&gt;()`. I can&#39;t follow this as we have hundreds of entities and their JPA criteria mappings built with JPA Metamodel are failing.\r\n\r\n\r\nplease note that I have already reviewed the below 2  threads and feel it&#39;s different:\r\n1. https://stackoverflow.com/questions/67558754/indexing-problem-with-spring-data-elastic-migration-from-3-x-to-4-x/69232630#69232630\r\n2. https://stackoverflow.com/questions/69172866/spring-data-elasticsearch-using-document-annotation-on-pojo-interface-class-no\r\n\r\nif you are looking for a sample repository: https://gitlab.com/mvallapuneni/spring-es-sample\r\n\r\n\r\nAny help is appreciated...\r\n","title":"Spring data elasticsearch:throws MappingInstantiationException: Failed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments","body":"<p>I am in process of migrating an application to the latest spring boot version (using gradle spring-boot-dependencies with version 2.5.4).</p>\n<p>I have an entity called <code>Customer</code> which is annotated with <code>@Document(indexName = &quot;customer&quot;)</code>; and another entity <code>Address</code> which is annotated with <code>@Document(indexName = &quot;address&quot;)</code>. Customer class has <code>private Set&lt;Address&gt; addresses = new HashSet&lt;&gt;()</code>.</p>\n<p>Getting the below error, while calling <strong>List hits = elasticsearchTemplate\n.search(nativeSearchQuery, Customer.class)</strong> from the repository.</p>\n<blockquote>\n<p><strong>org.springframework.data.mapping.model.MappingInstantiationException:\nFailed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments</strong>.</p>\n</blockquote>\n<p>It is working if I follow similar MONGO suggestion <a href=\"https://stackoverflow.com/questions/46223496/failed-to-instantiate-java-util-set-using-constructor-no-constructor-with-argume\">Failed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments</a> and make the declaration <code>private HashSet&lt;Address&gt; addresses = new HashSet&lt;&gt;()</code>. I can't follow this as we have hundreds of entities and their JPA criteria mappings built with JPA Metamodel are failing.</p>\n<p>please note that I have already reviewed the below 2  threads and feel it's different:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/67558754/indexing-problem-with-spring-data-elastic-migration-from-3-x-to-4-x/69232630#69232630\">Indexing problem with Spring Data Elastic migration from 3.x to 4.x</a></li>\n<li><a href=\"https://stackoverflow.com/questions/69172866/spring-data-elasticsearch-using-document-annotation-on-pojo-interface-class-no\">Spring data elasticsearch: Using @Document annotation on POJO interface class not working</a></li>\n</ol>\n<p>if you are looking for a sample repository: <a href=\"https://gitlab.com/mvallapuneni/spring-es-sample\" rel=\"nofollow noreferrer\">https://gitlab.com/mvallapuneni/spring-es-sample</a></p>\n<p>Any help is appreciated...</p>\n"},{"tags":["java","json","compression","tiled"],"comments":[{"owner":{"account_id":362976,"reputation":35565,"user_id":706456,"accept_rate":77,"display_name":"oleksii"},"score":0,"creation_date":1661817979,"post_id":73530807,"comment_id":129856954,"body_markdown":"It&#39;s hard to know where the bug is. Try writing some test for the code. Isolate the problem to a couple of specific functions: compress/decompress, read/write, encode/decode. Compression algorithms themselves will not be a problem, but most likely the code that passes data to them. Check that you read and write data correctly from the source. Check that data is saved with the expected encoding. If this isn&#39;t helpful, try narrowing down the question.","body":"It&#39;s hard to know where the bug is. Try writing some test for the code. Isolate the problem to a couple of specific functions: compress/decompress, read/write, encode/decode. Compression algorithms themselves will not be a problem, but most likely the code that passes data to them. Check that you read and write data correctly from the source. Check that data is saved with the expected encoding. If this isn&#39;t helpful, try narrowing down the question."}],"answers":[{"tags":[],"owner":{"account_id":9546953,"reputation":309,"user_id":11484157,"display_name":"Zizzyzizzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661877774,"creation_date":1661877774,"answer_id":73545891,"question_id":73530807,"body_markdown":"eshiya in the Tiled forums got me pointed in the right direction to solve this.\r\n\r\nFirst I changed the unzip method to use bytes instead, but that still returned the same result. I paid very close attention this time and noticed that the unzip method was returning only 526 bytes of the 1024 bytes I was expecting (16 x 16 x 4). This seemed to indicate improper handling of the unzipped data, so I googled around to find the proper way to unzip gzipped byte data.\r\n\r\nTwo quick source code changes later and it&#39;s working fine now!\r\n\r\nFirst, have the method properly use only byte arrays, and an actual buffer:\r\n\r\n\r\n```\r\n    public static byte[] unzip(String b64) {\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n        try {\r\n            byte[] bytes = Base64.getDecoder().decode(b64);\r\n            GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(bytes));\r\n            byte[] buffer = new byte[1024];\r\n            int len;\r\n            while ((len = gis.read(buffer)) != -1){\r\n                os.write(buffer, 0, len);\r\n            }\r\n            os.close();\r\n            gis.close();\r\n            return os.toByteArray();\r\n        } catch (Exception e) {\r\n            return new byte[1];\r\n        }\r\n    }\r\n```\r\nNext, change the return variable to the unzip call to match the method change:\r\n\r\n```\r\n                        case &quot;gzip&quot;:\r\n                            try {\r\n                                decoded = unzip(chunkData);\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            break;\r\n```","title":"Problem with Tiled map chunk data after decompression","body":"<p>eshiya in the Tiled forums got me pointed in the right direction to solve this.</p>\n<p>First I changed the unzip method to use bytes instead, but that still returned the same result. I paid very close attention this time and noticed that the unzip method was returning only 526 bytes of the 1024 bytes I was expecting (16 x 16 x 4). This seemed to indicate improper handling of the unzipped data, so I googled around to find the proper way to unzip gzipped byte data.</p>\n<p>Two quick source code changes later and it's working fine now!</p>\n<p>First, have the method properly use only byte arrays, and an actual buffer:</p>\n<pre><code>    public static byte[] unzip(String b64) {\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        try {\n            byte[] bytes = Base64.getDecoder().decode(b64);\n            GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(bytes));\n            byte[] buffer = new byte[1024];\n            int len;\n            while ((len = gis.read(buffer)) != -1){\n                os.write(buffer, 0, len);\n            }\n            os.close();\n            gis.close();\n            return os.toByteArray();\n        } catch (Exception e) {\n            return new byte[1];\n        }\n    }\n</code></pre>\n<p>Next, change the return variable to the unzip call to match the method change:</p>\n<pre><code>                        case &quot;gzip&quot;:\n                            try {\n                                decoded = unzip(chunkData);\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                            break;\n</code></pre>\n"}],"owner":{"account_id":9546953,"reputation":309,"user_id":11484157,"display_name":"Zizzyzizzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661877774,"creation_date":1661785403,"question_id":73530807,"body_markdown":"I have a very specific use case for reading Tiled Map Editor data that doesn&#39;t require the entire (and often outdated) libtiled library.\r\n\r\nJSON is my preferred format, since it&#39;s really easy to work with in Java. The code I have is working perfectly for raw, uncompressed chunk data that is base64 encoded. As soon as I change the setting in Tiled to gzip or zlib, I start to get completely invalid numbers after a couple of correct tile GID&#39;s are extracted from the base64 decoded string:\r\n\r\n**RAW/UNCOMPRESSED (Correct data):**\r\n\r\n    Layer Name: Floor\r\n    Width, Height: 96,48 \r\n    Start X,Y: -80,-48\r\n    Encoding: base64\r\n    Compression: \r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,1099,1100,1101,691,692,693,694,695,696,697,1207,1208,700,701,\r\n    0,0,708,709,1243,1244,1245,713,714,1297,1298,1299,718,719,720,721,\r\n\r\n\r\n\r\n**GZIP:**\r\n\r\n    Layer Name: Floor\r\n    Width, Height: 96,48 \r\n    Start X,Y: -80,-48\r\n    Encoding: base64\r\n    Compression: gzip\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,1099,1100,1101,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,\r\n    1213,79544303,-1074855936,701,45989871,0,0,-1074855936,701,45989871,-1074855936,1213,79544303,-1074855936,1213,45989871,\r\n\r\n**ZLIB:**\r\n \r\n\r\n    Layer Name: Floor\r\n    Width, Height: 96,48 \r\n    Start X,Y: -80,-48\r\n    Encoding: base64\r\n    Compression: zlib\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,1099,1100,1101,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,\r\n    1213,79544303,-1074855936,701,45989871,0,0,-1074855936,701,45989871,-1074855936,1213,79544303,-1074855936,1213,45989871,\r\n\r\nWorking source code is here:\r\nhttps://paste.ee/p/uRgnQ\r\n\r\nExported Raw, gzip and zlib JSON data are here:\r\nhttps://paste.ee/p/lUsbq","title":"Problem with Tiled map chunk data after decompression","body":"<p>I have a very specific use case for reading Tiled Map Editor data that doesn't require the entire (and often outdated) libtiled library.</p>\n<p>JSON is my preferred format, since it's really easy to work with in Java. The code I have is working perfectly for raw, uncompressed chunk data that is base64 encoded. As soon as I change the setting in Tiled to gzip or zlib, I start to get completely invalid numbers after a couple of correct tile GID's are extracted from the base64 decoded string:</p>\n<p><strong>RAW/UNCOMPRESSED (Correct data):</strong></p>\n<pre><code>Layer Name: Floor\nWidth, Height: 96,48 \nStart X,Y: -80,-48\nEncoding: base64\nCompression: \n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,1099,1100,1101,691,692,693,694,695,696,697,1207,1208,700,701,\n0,0,708,709,1243,1244,1245,713,714,1297,1298,1299,718,719,720,721,\n</code></pre>\n<p><strong>GZIP:</strong></p>\n<pre><code>Layer Name: Floor\nWidth, Height: 96,48 \nStart X,Y: -80,-48\nEncoding: base64\nCompression: gzip\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,1099,1100,1101,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,\n1213,79544303,-1074855936,701,45989871,0,0,-1074855936,701,45989871,-1074855936,1213,79544303,-1074855936,1213,45989871,\n</code></pre>\n<p><strong>ZLIB:</strong></p>\n<pre><code>Layer Name: Floor\nWidth, Height: 96,48 \nStart X,Y: -80,-48\nEncoding: base64\nCompression: zlib\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,1099,1100,1101,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,\n1213,79544303,-1074855936,701,45989871,0,0,-1074855936,701,45989871,-1074855936,1213,79544303,-1074855936,1213,45989871,\n</code></pre>\n<p>Working source code is here:\n<a href=\"https://paste.ee/p/uRgnQ\" rel=\"nofollow noreferrer\">https://paste.ee/p/uRgnQ</a></p>\n<p>Exported Raw, gzip and zlib JSON data are here:\n<a href=\"https://paste.ee/p/lUsbq\" rel=\"nofollow noreferrer\">https://paste.ee/p/lUsbq</a></p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1661811105,"post_id":73534932,"comment_id":129855918,"body_markdown":"Try saving it somewhere else for each user.","body":"Try saving it somewhere else for each user."},{"owner":{"display_name":"user19874174"},"score":0,"creation_date":1661811201,"post_id":73534932,"comment_id":129855934,"body_markdown":"I need to save all users inside &quot;Partecipanti&quot;. Any tip? @AliasCartellano","body":"I need to save all users inside &quot;Partecipanti&quot;. Any tip? @AliasCartellano"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1661811513,"post_id":73534932,"comment_id":129855992,"body_markdown":"Add another child to &quot;Partecipanti&quot; for each new user.","body":"Add another child to &quot;Partecipanti&quot; for each new user."},{"owner":{"display_name":"user19874174"},"score":0,"creation_date":1661811711,"post_id":73534932,"comment_id":129856025,"body_markdown":"Like what, can you explain with code?","body":"Like what, can you explain with code?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1661812087,"post_id":73534932,"comment_id":129856084,"body_markdown":"Try [pushing](https://stackoverflow.com/a/44320600/16653700) the userids into &quot;partecipanti&quot;.","body":"Try <a href=\"https://stackoverflow.com/a/44320600/16653700\">pushing</a> the userids into &quot;partecipanti&quot;."},{"owner":{"display_name":"user19874174"},"score":0,"creation_date":1661812440,"post_id":73534932,"comment_id":129856138,"body_markdown":"Like this? `reference.child(&quot;Partecipanti&quot;).push().setValue(hashMap1);`","body":"Like this? <code>reference.child(&quot;Partecipanti&quot;).push().setValue(hashMap1);</code>"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1661812590,"post_id":73534932,"comment_id":129856176,"body_markdown":"I think that&#39;ll work.","body":"I think that&#39;ll work."},{"owner":{"display_name":"user19874174"},"score":0,"creation_date":1661812822,"post_id":73534932,"comment_id":129856209,"body_markdown":"Not work, look: https://imgur.com/a/HUkaQR0 I need all the users in &quot;Partecipanti&quot; just the users","body":"Not work, look: <a href=\"https://imgur.com/a/HUkaQR0\" rel=\"nofollow noreferrer\">imgur.com/a/HUkaQR0</a> I need all the users in &quot;Partecipanti&quot; just the users"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1661813251,"post_id":73534932,"comment_id":129856286,"body_markdown":"You may need to take the `HashMap` from firebase and add to the `HashMap` retrieved before uploading.","body":"You may need to take the <code>HashMap</code> from firebase and add to the <code>HashMap</code> retrieved before uploading."},{"owner":{"display_name":"user19874174"},"score":0,"creation_date":1661813351,"post_id":73534932,"comment_id":129856301,"body_markdown":"How can i do this thing with code?","body":"How can i do this thing with code?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1661813570,"post_id":73534932,"comment_id":129856330,"body_markdown":"[Retrieve the data](https://firebase.google.com/docs/firestore/query-data/get-data?adlt=strict&amp;toWww=1&amp;redig=36B6BDC13DA84F37AC523F23772B337D#java_6) then store the id to the `HashMap` and upload the `HashMap`.","body":"<a href=\"https://firebase.google.com/docs/firestore/query-data/get-data?adlt=strict&amp;toWww=1&amp;redig=36B6BDC13DA84F37AC523F23772B337D#java_6\" rel=\"nofollow noreferrer\">Retrieve the data</a> then store the id to the <code>HashMap</code> and upload the <code>HashMap</code>."},{"owner":{"display_name":"user19874174"},"score":0,"creation_date":1661813699,"post_id":73534932,"comment_id":129856346,"body_markdown":"Could you make an answer for this?","body":"Could you make an answer for this?"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661877712,"creation_date":1661835291,"answer_id":73537304,"question_id":73534932,"body_markdown":"While @AliasCartellano&#39;s solution to pushing data into the Realtime Database will work, please note a pushed ID it&#39;s not the best option to identify a user. Why? Because every time you call [push()][1], another unique key is generated.\r\n\r\nSince I see in your screenshot that you store some long IDs, other than the pushed IDs, the ones that start with `-` (minus), I assume you&#39;re using authentication. That being said, a more recommended way to store user data would be like this:\r\n\r\n    Firebase-root\r\n      |\r\n      --- users\r\n           |\r\n           --- $uid\r\n                |\r\n                --- //user data\r\n\r\nAnd to add data to such a structure, you should use the following lines of code:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    reference.child(&quot;Partecipanti&quot;).child(uid).setValue(hashMap1);\r\n\r\nThis means, that each user will write data under a separate location since each UID is unique. So in this way, you cannot overwrite the data.\r\n\r\n**Edit:**\r\n\r\n    Firebase-root\r\n      |\r\n      --- users\r\n           |\r\n           --- $uid: true\r\n           |\r\n           --- $uid: true\r\n\r\nAnd in code:\r\n\r\n    reference.child(&quot;Partecipanti&quot;).child(uid).setValue(true);\r\n\r\n**Edit2:**\r\n\r\nTo be able to write an object that looks like this, please use the following lines code:\r\n\r\n    Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n    data.put(&quot;addressorganizz&quot;, &quot;messina&quot;);\r\n    data.put(&quot;cittaorg&quot;, &quot;messin&quot;);\r\n    //As as much data as you need.\r\n    reference.child(&quot;Partecipanti&quot;).child(uid).setValue(data);\r\n\r\n**Edit3:**\r\n\r\n    //Data\r\n    Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n    data.put(&quot;addressorganizz&quot;, &quot;messina&quot;);\r\n    data.put(&quot;cittaorg&quot;, &quot;messin&quot;);\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid(); \r\n    DatabaseReference reference = FirebaseDatabase.getInstance()\r\n        .getReference(&quot;Incontro&quot;)\r\n        .child(incontro.getIncontroidId())\r\n        .child(uid);  \r\n    reference.setValue(data);\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#push()","title":"Firebase realtime Database Hashmap overwrites data","body":"<p>While @AliasCartellano's solution to pushing data into the Realtime Database will work, please note a pushed ID it's not the best option to identify a user. Why? Because every time you call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#push()\" rel=\"nofollow noreferrer\">push()</a>, another unique key is generated.</p>\n<p>Since I see in your screenshot that you store some long IDs, other than the pushed IDs, the ones that start with <code>-</code> (minus), I assume you're using authentication. That being said, a more recommended way to store user data would be like this:</p>\n<pre><code>Firebase-root\n  |\n  --- users\n       |\n       --- $uid\n            |\n            --- //user data\n</code></pre>\n<p>And to add data to such a structure, you should use the following lines of code:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nreference.child(&quot;Partecipanti&quot;).child(uid).setValue(hashMap1);\n</code></pre>\n<p>This means, that each user will write data under a separate location since each UID is unique. So in this way, you cannot overwrite the data.</p>\n<p><strong>Edit:</strong></p>\n<pre><code>Firebase-root\n  |\n  --- users\n       |\n       --- $uid: true\n       |\n       --- $uid: true\n</code></pre>\n<p>And in code:</p>\n<pre><code>reference.child(&quot;Partecipanti&quot;).child(uid).setValue(true);\n</code></pre>\n<p><strong>Edit2:</strong></p>\n<p>To be able to write an object that looks like this, please use the following lines code:</p>\n<pre><code>Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\ndata.put(&quot;addressorganizz&quot;, &quot;messina&quot;);\ndata.put(&quot;cittaorg&quot;, &quot;messin&quot;);\n//As as much data as you need.\nreference.child(&quot;Partecipanti&quot;).child(uid).setValue(data);\n</code></pre>\n<p><strong>Edit3:</strong></p>\n<pre><code>//Data\nMap&lt;String, Object&gt; data = new HashMap&lt;&gt;();\ndata.put(&quot;addressorganizz&quot;, &quot;messina&quot;);\ndata.put(&quot;cittaorg&quot;, &quot;messin&quot;);\n\nString uid = FirebaseAuth.getInstance().getCurrentUser().getUid(); \nDatabaseReference reference = FirebaseDatabase.getInstance()\n    .getReference(&quot;Incontro&quot;)\n    .child(incontro.getIncontroidId())\n    .child(uid);  \nreference.setValue(data);\n</code></pre>\n"}],"owner":{"display_name":"user19874174"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73537304,"answer_count":1,"score":0,"last_activity_date":1661877712,"creation_date":1661809028,"question_id":73534932,"body_markdown":"In short, when I click on the marker it must register the user id of the user who clicked on &quot;Partecipanti&quot;. The problem is that if the first user is saved regularly when a second user clicks, this overwrites the first one. How can I solve it?\r\n\r\n     @Override\r\n    public void onInfoWindowClick(@NonNull Marker marker) {\r\n\r\n        LatLng latLon = marker.getPosition();\r\n    \r\n        for(Incontro incontro : Incontri) {\r\n            if (latLon.equals(incontro.getLatlng())) {\r\n\r\n                if(){\r\n                    Toast.makeText(Cercaincontro.this, &quot;You are already attending this event&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n\r\n                    DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Incontro&quot;).child(incontro.getIncontroidId());\r\n                    HashMap&lt;String, Object&gt; hashMap1 = new HashMap&lt;&gt;();\r\n                    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                    hashMap1.put(&quot;userid&quot;, firebaseUser.getUid());\r\n\r\n                    reference.child(&quot;Partecipanti&quot;).child(uid).setValue(true);\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }","title":"Firebase realtime Database Hashmap overwrites data","body":"<p>In short, when I click on the marker it must register the user id of the user who clicked on &quot;Partecipanti&quot;. The problem is that if the first user is saved regularly when a second user clicks, this overwrites the first one. How can I solve it?</p>\n<pre><code> @Override\npublic void onInfoWindowClick(@NonNull Marker marker) {\n\n    LatLng latLon = marker.getPosition();\n\n    for(Incontro incontro : Incontri) {\n        if (latLon.equals(incontro.getLatlng())) {\n\n            if(){\n                Toast.makeText(Cercaincontro.this, &quot;You are already attending this event&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else {\n\n                DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Incontro&quot;).child(incontro.getIncontroidId());\n                HashMap&lt;String, Object&gt; hashMap1 = new HashMap&lt;&gt;();\n                String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n                hashMap1.put(&quot;userid&quot;, firebaseUser.getUid());\n\n                reference.child(&quot;Partecipanti&quot;).child(uid).setValue(true);\n\n            }\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","oval"],"answers":[{"tags":[],"owner":{"account_id":9118599,"reputation":457,"user_id":6784881,"display_name":"Talos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661877586,"creation_date":1661877586,"answer_id":73545854,"question_id":73517686,"body_markdown":"After some digging in the superclass I have found that you can override method\r\n* `configure`\r\n\r\nThis method gets as the only parameter the annotation that is currently being checked at the field.&lt;br&gt;\r\nYou can then read the `myValue`.\r\n\r\n```java\r\npublic class MyCheck extends AbstractAnnotationCheck&lt;CustomAnnotation&gt; {\r\n\r\n    private String myValue;\r\n\r\n    @Override\r\n    public void configure(CustomAnnotation customAnnotation) {\r\n        super.configure(customAnnotation);\r\n        this.myValue = customAnnotation.myValue();\r\n    }\r\n\r\n    @Override\r\n    public boolean isSatisfied(Object validatedObject, Object valueToValidate, OValContext context,\r\n                               Validator validator) throws OValException {\r\n        if (myValue.equals(&quot;a&quot;)) {}\r\n        else if (myValue.equals(&quot;b&quot;)){}\r\n        else {}\r\n}\r\n```\r\n","title":"Access annotation attributes from custom oval annotation","body":"<p>After some digging in the superclass I have found that you can override method</p>\n<ul>\n<li><code>configure</code></li>\n</ul>\n<p>This method gets as the only parameter the annotation that is currently being checked at the field.<br>\nYou can then read the <code>myValue</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCheck extends AbstractAnnotationCheck&lt;CustomAnnotation&gt; {\n\n    private String myValue;\n\n    @Override\n    public void configure(CustomAnnotation customAnnotation) {\n        super.configure(customAnnotation);\n        this.myValue = customAnnotation.myValue();\n    }\n\n    @Override\n    public boolean isSatisfied(Object validatedObject, Object valueToValidate, OValContext context,\n                               Validator validator) throws OValException {\n        if (myValue.equals(&quot;a&quot;)) {}\n        else if (myValue.equals(&quot;b&quot;)){}\n        else {}\n}\n</code></pre>\n"}],"owner":{"account_id":9118599,"reputation":457,"user_id":6784881,"display_name":"Talos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73545854,"answer_count":1,"score":5,"last_activity_date":1661877586,"creation_date":1661680617,"question_id":73517686,"body_markdown":"Is it possible, when using custom oval annotation and custom class for check, to access the annotation and retrieve the used annotation attributes ?\r\n\r\nReference for oval: https://sebthom.github.io/oval/USERGUIDE.html#custom-constraint-annotations\r\n\r\n&lt;hr&gt;\r\n\r\n**Minimal example**\r\n\r\nLets assume we have class `Foo`.\r\nIt has two annotated fields.&lt;br&gt;\r\nEach time, the annotation has a different `myValue` – `a` and `b`.\r\n```Java\r\nclass Foo {\r\n  @CustomAnnotation(myValue = &quot;a&quot;)\r\n  public String first;\r\n\r\n  @CustomAnnotation(myValue = &quot;b&quot;)\r\n  public String second;\r\n}\r\n```\r\n\r\nThis is the annotation.&lt;br&gt;\r\nIt is noted that a check should be performed using `MyCheck.class`, also setting some default value for `myValue`.\r\n```Java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.PARAMETER, ElementType.METHOD})\r\n@Constraint(checkWith = MyCheck.class)\r\npublic @interface CustomAnnotation {\r\n    String myValue() default &quot;&quot;;\r\n}\r\n```\r\n\r\nNow we want to use oval to validate this field.&lt;br&gt;\r\nMost importantly, we want to extract the value `a` or `b` from the annotation&#39;s `myValue` and use it inside our validation logic.\r\n```java\r\npublic class MyCheck extends AbstractAnnotationCheck&lt;CustomAnnotation&gt; {\r\n\r\n\r\n    @Override\r\n    public boolean isSatisfied(Object validatedObject, Object valueToValidate, OValContext context,\r\n                               Validator validator) throws OValException {\r\n  // how to get the value of `myValue`, which is `a` or `b` or empty string as default\r\n  }\r\n}\r\n```\r\nWhat I have tried and failed:\r\n1. `validatedObject` is `Foo.class`. You can easily get its fields and annotations. However, there is no way to differentiate between the two annotations.\r\n2. `valueToValidate` is in this case `String` value – what `first` or `second` holds.\r\n3. `context` not useful, you can get compile time type from it, which is `String`\r\n4. `validator` not useful ?\r\n\r\n","title":"Access annotation attributes from custom oval annotation","body":"<p>Is it possible, when using custom oval annotation and custom class for check, to access the annotation and retrieve the used annotation attributes ?</p>\n<p>Reference for oval: <a href=\"https://sebthom.github.io/oval/USERGUIDE.html#custom-constraint-annotations\" rel=\"noreferrer\">https://sebthom.github.io/oval/USERGUIDE.html#custom-constraint-annotations</a></p>\n<hr>\n<p><strong>Minimal example</strong></p>\n<p>Lets assume we have class <code>Foo</code>.\nIt has two annotated fields.<br>\nEach time, the annotation has a different <code>myValue</code> – <code>a</code> and <code>b</code>.</p>\n<pre><code>class Foo {\n  @CustomAnnotation(myValue = &quot;a&quot;)\n  public String first;\n\n  @CustomAnnotation(myValue = &quot;b&quot;)\n  public String second;\n}\n</code></pre>\n<p>This is the annotation.<br>\nIt is noted that a check should be performed using <code>MyCheck.class</code>, also setting some default value for <code>myValue</code>.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.PARAMETER, ElementType.METHOD})\n@Constraint(checkWith = MyCheck.class)\npublic @interface CustomAnnotation {\n    String myValue() default &quot;&quot;;\n}\n</code></pre>\n<p>Now we want to use oval to validate this field.<br>\nMost importantly, we want to extract the value <code>a</code> or <code>b</code> from the annotation's <code>myValue</code> and use it inside our validation logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCheck extends AbstractAnnotationCheck&lt;CustomAnnotation&gt; {\n\n\n    @Override\n    public boolean isSatisfied(Object validatedObject, Object valueToValidate, OValContext context,\n                               Validator validator) throws OValException {\n  // how to get the value of `myValue`, which is `a` or `b` or empty string as default\n  }\n}\n</code></pre>\n<p>What I have tried and failed:</p>\n<ol>\n<li><code>validatedObject</code> is <code>Foo.class</code>. You can easily get its fields and annotations. However, there is no way to differentiate between the two annotations.</li>\n<li><code>valueToValidate</code> is in this case <code>String</code> value – what <code>first</code> or <code>second</code> holds.</li>\n<li><code>context</code> not useful, you can get compile time type from it, which is <code>String</code></li>\n<li><code>validator</code> not useful ?</li>\n</ol>\n"},{"tags":["java","spring-boot","rest","exception","model-view-controller"],"comments":[{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":1,"creation_date":1661877322,"post_id":73545416,"comment_id":129874289,"body_markdown":"There is no rule where you can throw an exception. Throwing at the controller layer or the service layer is a team decision. I can say for myself that I never accept a merge request that throws exception in the controller layer. Theoretically, the controller shouldn&#39;t have any rules. The Service owns the data, so it is responsible for handling errors.","body":"There is no rule where you can throw an exception. Throwing at the controller layer or the service layer is a team decision. I can say for myself that I never accept a merge request that throws exception in the controller layer. Theoretically, the controller shouldn&#39;t have any rules. The Service owns the data, so it is responsible for handling errors."}],"answers":[{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661877369,"creation_date":1661877369,"answer_id":73545800,"question_id":73545416,"body_markdown":"The exceptions you throw from your service layer are should ideally be related to the business logic of your domain. For example you will maybe throw an `IllegalArgumentException` if someone wanted to update a `User` object that did not exist. In general you only want to throw *custom exceptions* &quot;if they do have useful information for client code&quot; (see this [answer][1]). \r\n\r\nIf there are complications on the Controller layer, e.g., an invalid value provided by the client for a custom header, then you are perfectly fine throwing an exception in the controller layer, too. \r\n\r\nAs you have already mentioned, in general you then want to have one or more global exception handlers, which can convert the thrown Exceptions into a more useful http response for the client, probably in json format and with a proper HTTP Status Code (e.g., internal server error) and maybe a descriptive message. But you can also be more specific than that and return different http status code and payloads in different scenarios. For example, maybe in the case where someone wanted to update a user that did not exist you want to return a 404 status code. Check out the more flexible `ResponseEntity` return type for that.\r\n\r\nRegarding error codes, you have to ask yourself if the client is benefiting from that or if they are more happy with a short message or do not care at all.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22698673/16560836","title":"REST API | Exception Handling | Identify Layer","body":"<p>The exceptions you throw from your service layer are should ideally be related to the business logic of your domain. For example you will maybe throw an <code>IllegalArgumentException</code> if someone wanted to update a <code>User</code> object that did not exist. In general you only want to throw <em>custom exceptions</em> &quot;if they do have useful information for client code&quot; (see this <a href=\"https://stackoverflow.com/a/22698673/16560836\">answer</a>).</p>\n<p>If there are complications on the Controller layer, e.g., an invalid value provided by the client for a custom header, then you are perfectly fine throwing an exception in the controller layer, too.</p>\n<p>As you have already mentioned, in general you then want to have one or more global exception handlers, which can convert the thrown Exceptions into a more useful http response for the client, probably in json format and with a proper HTTP Status Code (e.g., internal server error) and maybe a descriptive message. But you can also be more specific than that and return different http status code and payloads in different scenarios. For example, maybe in the case where someone wanted to update a user that did not exist you want to return a 404 status code. Check out the more flexible <code>ResponseEntity</code> return type for that.</p>\n<p>Regarding error codes, you have to ask yourself if the client is benefiting from that or if they are more happy with a short message or do not care at all.</p>\n"}],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661877369,"creation_date":1661875539,"question_id":73545416,"body_markdown":"We are building multiple services using `springboot`. Need to understand the design about Exception handling. For now currently we are handling and trhowing Exception in service layer.\r\n\r\nWe have **Custom Exceptions in place**, and in few services we have `@ControllerAdvice` to handle exception globally.\r\n\r\nIn few service we *throw exception from Controller layer* also.\r\n\r\nNeed to undersatnd is it a good design to throw exception from controller layer, or shall we replace with some custom Error codes ?\r\n\r\nThese services can be used internally or hosted as well to be consued by 3rd party.\r\n\r\n\r\n","title":"REST API | Exception Handling | Identify Layer","body":"<p>We are building multiple services using <code>springboot</code>. Need to understand the design about Exception handling. For now currently we are handling and trhowing Exception in service layer.</p>\n<p>We have <strong>Custom Exceptions in place</strong>, and in few services we have <code>@ControllerAdvice</code> to handle exception globally.</p>\n<p>In few service we <em>throw exception from Controller layer</em> also.</p>\n<p>Need to undersatnd is it a good design to throw exception from controller layer, or shall we replace with some custom Error codes ?</p>\n<p>These services can be used internally or hosted as well to be consued by 3rd party.</p>\n"},{"tags":["java","jasper-reports","blob","ireport","clob"],"answers":[{"tags":[],"owner":{"account_id":2744625,"reputation":8577,"user_id":2365297,"accept_rate":36,"display_name":"Salah"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1396273635,"creation_date":1396273635,"answer_id":22763273,"question_id":22762910,"body_markdown":"I had the same problem, and i found the following solutions.\r\n\r\n**First**\r\n\r\none is placing the following statement in the `Textfield` expression. catch to this is the field should be free of carriage returns and line feeds to show the complete field value. I populate the field through `sql` query.\r\n\r\n    new BufferedReader(new InputStreamReader($F{FIELD_NAME})).readLine()\r\n\r\n**Second**\r\n\r\ncreating a method in a class where in the `InputStream` is converted to `ByteArrayOutputStream` and converting it to `String` and then calling this method in the `Textfield` expression with `CLOB` value passed in.\r\n\r\nIn both cases the field should be declared as `java.io.InputStream`.\r\n\r\nFor more [details][1].\r\n\r\n\r\n  [1]: http://community.jaspersoft.com/questions/507517/handling-oracle-clobs","title":"How to display CLOB (or BLOB) String in iReport?","body":"<p>I had the same problem, and i found the following solutions.</p>\n\n<p><strong>First</strong></p>\n\n<p>one is placing the following statement in the <code>Textfield</code> expression. catch to this is the field should be free of carriage returns and line feeds to show the complete field value. I populate the field through <code>sql</code> query.</p>\n\n<pre><code>new BufferedReader(new InputStreamReader($F{FIELD_NAME})).readLine()\n</code></pre>\n\n<p><strong>Second</strong></p>\n\n<p>creating a method in a class where in the <code>InputStream</code> is converted to <code>ByteArrayOutputStream</code> and converting it to <code>String</code> and then calling this method in the <code>Textfield</code> expression with <code>CLOB</code> value passed in.</p>\n\n<p>In both cases the field should be declared as <code>java.io.InputStream</code>.</p>\n\n<p>For more <a href=\"http://community.jaspersoft.com/questions/507517/handling-oracle-clobs\">details</a>.</p>\n"},{"tags":[],"owner":{"account_id":19435681,"reputation":1,"user_id":14215194,"display_name":"Ahmed.Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599143928,"creation_date":1599139362,"answer_id":63724585,"question_id":22762910,"body_markdown":"After looking everywhere, finally, I have found out how to fix this issue.\r\nSimply If you are using Ireport Designer Go to `Report Inspector section -&gt; Fields -&gt; click` the field to be modified from Properties change Filed Class to `java.lang.String`  ","title":"How to display CLOB (or BLOB) String in iReport?","body":"<p>After looking everywhere, finally, I have found out how to fix this issue.\nSimply If you are using Ireport Designer Go to <code>Report Inspector section -&gt; Fields -&gt; click</code> the field to be modified from Properties change Filed Class to <code>java.lang.String</code></p>\n"}],"owner":{"account_id":1213083,"reputation":648,"user_id":1181250,"accept_rate":73,"display_name":"Bahattin Ungormus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9941,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":22763273,"answer_count":2,"score":3,"last_activity_date":1661877317,"creation_date":1396272717,"question_id":22762910,"body_markdown":"I need to display a CLOB field with longer than 4000 characters in a text field using in iReport. I am using iReport version 5.5.0, I tried converting the CLOB to InputStream but it did not work, all I get is:\r\n\r\n    java.io.ByteArrayInputStream@43842a66\r\n\r\nI tried getSubString(long,int) but it only works for strings smaller than 4000 chars. stringValue() and toString() also did not work.\r\n\r\nThanks for any help.\r\n\r\n**EDIT:**\r\n\r\nClob.getSubString(long,int) method worked fine in my latter tests, I don&#39;t know why it didn&#39;t work before. So I used:\r\n\r\n    $F{FIELD}.getSubString( (long)1, (int)$F{FIELD}.length() )\r\n\r\neventually. It may not be the best option, but I figured max length of a String (2147483647) is more than enough for the field.","title":"How to display CLOB (or BLOB) String in iReport?","body":"<p>I need to display a CLOB field with longer than 4000 characters in a text field using in iReport. I am using iReport version 5.5.0, I tried converting the CLOB to InputStream but it did not work, all I get is:</p>\n\n<pre><code>java.io.ByteArrayInputStream@43842a66\n</code></pre>\n\n<p>I tried getSubString(long,int) but it only works for strings smaller than 4000 chars. stringValue() and toString() also did not work.</p>\n\n<p>Thanks for any help.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Clob.getSubString(long,int) method worked fine in my latter tests, I don't know why it didn't work before. So I used:</p>\n\n<pre><code>$F{FIELD}.getSubString( (long)1, (int)$F{FIELD}.length() )\n</code></pre>\n\n<p>eventually. It may not be the best option, but I figured max length of a String (2147483647) is more than enough for the field.</p>\n"},{"tags":["java","generics","classcastexception"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1661875276,"post_id":73545284,"comment_id":129873516,"body_markdown":"You can&#39;t, because generics aren&#39;t reified at runtime (their type information gets reduced (usually to `Object`) at runtime). Either take in a `Class&lt;T&gt;` in your constructor and use `clazz.cast()` or rewrite your code to remove all unchecked cast (and raw type) warnings.","body":"You can&#39;t, because generics aren&#39;t reified at runtime (their type information gets reduced (usually to <code>Object</code>) at runtime). Either take in a <code>Class&lt;T&gt;</code> in your constructor and use <code>clazz.cast()</code> or rewrite your code to remove all unchecked cast (and raw type) warnings."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661952315,"post_id":73545284,"comment_id":129893880,"body_markdown":"There doesn’t seem to be a real advantage in providing the `double[]` overload, as it’s doing exactly the same as the generic code, including all overhead of boxing operations. And what’s the point of this `Double encoding;`  holding an ascending number? If all you’re doing, is `++`, why don’t you use an `int`?","body":"There doesn’t seem to be a real advantage in providing the <code>double[]</code> overload, as it’s doing exactly the same as the generic code, including all overhead of boxing operations. And what’s the point of this <code>Double encoding;</code>  holding an ascending number? If all you’re doing, is <code>++</code>, why don’t you use an <code>int</code>?"}],"answers":[{"tags":[],"owner":{"account_id":17369618,"reputation":61,"user_id":12584023,"display_name":"archetypon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661876869,"creation_date":1661876869,"answer_id":73545700,"question_id":73545284,"body_markdown":"Since you are doing `new double[] {3,4,5}` you are doing an implicit casting to double, so you are actually passing an array of double to the method, thus you can&#39;t expect a ClassCastException.\r\nFurthermore you can&#39;t expect an Exception from a casting to generic, is a perfectly legitimate casting.\r\nIf you want to throw an exception you should try something like:\r\n```\r\nif(!(label instanceof Double))\r\n    throw new Exception(&quot;Not a Double&quot;);\r\n```\r\nPlease provide further detail on what you are trying to achieve, because is not clear to me.","title":"How to throw a ClassCastException when a Double variable is cast to the generic type T?","body":"<p>Since you are doing <code>new double[] {3,4,5}</code> you are doing an implicit casting to double, so you are actually passing an array of double to the method, thus you can't expect a ClassCastException.\nFurthermore you can't expect an Exception from a casting to generic, is a perfectly legitimate casting.\nIf you want to throw an exception you should try something like:</p>\n<pre><code>if(!(label instanceof Double))\n    throw new Exception(&quot;Not a Double&quot;);\n</code></pre>\n<p>Please provide further detail on what you are trying to achieve, because is not clear to me.</p>\n"}],"owner":{"account_id":26186989,"reputation":1,"user_id":19869400,"display_name":"Cloudy1225"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661876869,"creation_date":1661874891,"question_id":73545284,"body_markdown":"I&#39;m implementing a generics class `LabelEncoder&lt;T&gt;` in Java, referring to `sklearn.preprocessing.LabelEncoder`.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nBesides providing the method `void fit(T[] labels, boolean natural)`, this class also provides another method `void fit(double[] labels, boolean natural)`, which is more frequently used than `void fit(Double[] labels, boolean natural`. It&#39;s expected that this method will throw a ClassCastException if `T` is not `Double`. But to my surprise, nothing happened when testing.\r\n&lt;br&gt;\r\n&lt;br&gt;Here is my code below: \r\n```\r\n/**\r\n * Encodes target labels with value between 0 and n_classes-1.\r\n * If T is comparable, this class supports encoding by &quot;natural-order&quot; or by &quot;index-order&quot;.\r\n * Otherwise, this class only supports encoding by &quot;index-order&quot;.\r\n *\r\n * @param &lt;T&gt; the Java Class of labels\r\n * @author Cloudy1225\r\n */\r\npublic class LabelEncoder &lt;T&gt; extends Encoder&lt;T&gt;{\r\n\r\n    /**\r\n     * Holds the mapping between labels and encodings.\r\n     */\r\n    public Map&lt;T, Double&gt; encodingMap;\r\n\r\n    /**\r\n     * Whether this encoder has already been fitted.\r\n     */\r\n    private boolean fitted;\r\n\r\n\r\n    /**\r\n     * Creates a LabelEncoder.\r\n     */\r\n    public LabelEncoder() {}\r\n\r\n    /**\r\n     * Fits the label encoder by &quot;natural-order&quot; or by &quot;index-order&quot;.\r\n     *\r\n     * @param labels a double array of target values.\r\n     * @param natural true: encode by &quot;natural-order&quot;; false: encode by &quot;index-order&quot;\r\n     * @throws ClassCastException if the generic type of this class is not Double\r\n     */\r\n    public void fit(double[] labels, boolean natural) {\r\n        this.reset(natural);\r\n        Double encoding = 0.0;\r\n        for (Double label: labels) {\r\n************T l = (T) label;************\r\n            Double oldValue = this.encodingMap.put(l, encoding);\r\n            if (oldValue == null) { // It denotes that the label hadn&#39;t been in the map.\r\n                encoding++;\r\n            }\r\n        }\r\n        this.fitted = true;\r\n    }\r\n\r\n     /**\r\n     * Fits the label encoder by &quot;natural-order&quot; or by &quot;index-order&quot;.\r\n     * If given labels are not comparable, &quot;natural&quot; will be automatically set false.\r\n     *\r\n     * @param labels an array of target values.\r\n     * @param natural true: encode by &quot;natural-order&quot;; false: encode by &quot;index-order&quot;\r\n     */\r\n    public void fit(T[] labels, boolean natural) {\r\n        if (!(labels instanceof Comparable[])) {\r\n            natural = false;\r\n        }\r\n        this.reset(natural);\r\n        Double encoding = 0.0;\r\n        for (T label: labels) {\r\n            Double oldValue = this.encodingMap.put(label, encoding);\r\n            if (oldValue == null) { \r\n                encoding++;\r\n            }\r\n        }\r\n        this.fitted = true;\r\n    }\r\n\r\n     /**\r\n     * Resets or initializes before being fitted.\r\n     *\r\n     * @param natural true: encode by &quot;natural-order&quot;; false: encode by &quot;index-order&quot;\r\n     */\r\n    private void reset(boolean natural) {\r\n        // Sorting is implemented by TreeMap or by LinkedHashMap.\r\n        if (natural) {\r\n            this.encodingMap = new TreeMap&lt;T, Double&gt;();\r\n        } else {\r\n            this.encodingMap = new LinkedHashMap&lt;T, Double&gt;();\r\n        }\r\n        this.fitted = false;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        LabelEncoder&lt;String&gt; encoder = new LabelEncoder&lt;&gt;();\r\n        encoder.fit(new double[] {3,4,5}); // It&#39;s expected that a ClassCastException will be thrown here.\r\n        Map&lt;String, Double&gt; map = encoder.encodingMap;\r\n        System.out.println(map);\r\n    }\r\n}\r\n```\r\n\r\nThe test result is as follows:\r\n```\r\n{3.0=0.0, 4.0=1.0, 5.0=2.0}\r\n```\r\nSo how to throw a ClassCastException when executing `T l = (T) label;` ?\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nThanks in advance!","title":"How to throw a ClassCastException when a Double variable is cast to the generic type T?","body":"<p>I'm implementing a generics class <code>LabelEncoder&lt;T&gt;</code> in Java, referring to <code>sklearn.preprocessing.LabelEncoder</code>.\n<br>\n<br>\nBesides providing the method <code>void fit(T[] labels, boolean natural)</code>, this class also provides another method <code>void fit(double[] labels, boolean natural)</code>, which is more frequently used than <code>void fit(Double[] labels, boolean natural</code>. It's expected that this method will throw a ClassCastException if <code>T</code> is not <code>Double</code>. But to my surprise, nothing happened when testing.\n<br>\n<br>Here is my code below:</p>\n<pre><code>/**\n * Encodes target labels with value between 0 and n_classes-1.\n * If T is comparable, this class supports encoding by &quot;natural-order&quot; or by &quot;index-order&quot;.\n * Otherwise, this class only supports encoding by &quot;index-order&quot;.\n *\n * @param &lt;T&gt; the Java Class of labels\n * @author Cloudy1225\n */\npublic class LabelEncoder &lt;T&gt; extends Encoder&lt;T&gt;{\n\n    /**\n     * Holds the mapping between labels and encodings.\n     */\n    public Map&lt;T, Double&gt; encodingMap;\n\n    /**\n     * Whether this encoder has already been fitted.\n     */\n    private boolean fitted;\n\n\n    /**\n     * Creates a LabelEncoder.\n     */\n    public LabelEncoder() {}\n\n    /**\n     * Fits the label encoder by &quot;natural-order&quot; or by &quot;index-order&quot;.\n     *\n     * @param labels a double array of target values.\n     * @param natural true: encode by &quot;natural-order&quot;; false: encode by &quot;index-order&quot;\n     * @throws ClassCastException if the generic type of this class is not Double\n     */\n    public void fit(double[] labels, boolean natural) {\n        this.reset(natural);\n        Double encoding = 0.0;\n        for (Double label: labels) {\n************T l = (T) label;************\n            Double oldValue = this.encodingMap.put(l, encoding);\n            if (oldValue == null) { // It denotes that the label hadn't been in the map.\n                encoding++;\n            }\n        }\n        this.fitted = true;\n    }\n\n     /**\n     * Fits the label encoder by &quot;natural-order&quot; or by &quot;index-order&quot;.\n     * If given labels are not comparable, &quot;natural&quot; will be automatically set false.\n     *\n     * @param labels an array of target values.\n     * @param natural true: encode by &quot;natural-order&quot;; false: encode by &quot;index-order&quot;\n     */\n    public void fit(T[] labels, boolean natural) {\n        if (!(labels instanceof Comparable[])) {\n            natural = false;\n        }\n        this.reset(natural);\n        Double encoding = 0.0;\n        for (T label: labels) {\n            Double oldValue = this.encodingMap.put(label, encoding);\n            if (oldValue == null) { \n                encoding++;\n            }\n        }\n        this.fitted = true;\n    }\n\n     /**\n     * Resets or initializes before being fitted.\n     *\n     * @param natural true: encode by &quot;natural-order&quot;; false: encode by &quot;index-order&quot;\n     */\n    private void reset(boolean natural) {\n        // Sorting is implemented by TreeMap or by LinkedHashMap.\n        if (natural) {\n            this.encodingMap = new TreeMap&lt;T, Double&gt;();\n        } else {\n            this.encodingMap = new LinkedHashMap&lt;T, Double&gt;();\n        }\n        this.fitted = false;\n    }\n\n    public static void main(String[] args) {\n        LabelEncoder&lt;String&gt; encoder = new LabelEncoder&lt;&gt;();\n        encoder.fit(new double[] {3,4,5}); // It's expected that a ClassCastException will be thrown here.\n        Map&lt;String, Double&gt; map = encoder.encodingMap;\n        System.out.println(map);\n    }\n}\n</code></pre>\n<p>The test result is as follows:</p>\n<pre><code>{3.0=0.0, 4.0=1.0, 5.0=2.0}\n</code></pre>\n<p>So how to throw a ClassCastException when executing <code>T l = (T) label;</code> ?\n<br>\n<br>\nThanks in advance!</p>\n"},{"tags":["java","byte","bytebuffer"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1661873193,"post_id":73544780,"comment_id":129872709,"body_markdown":"**Everything is alright.** Signed bytes are just a numerical interpretation of the bits. (byte)-63 == (byte)193. So your short or even unsigned short remain undisturbed. For instance the short 511 is {(byte)-1, (byte)1} = 255+1*256.","body":"<b>Everything is alright.</b> Signed bytes are just a numerical interpretation of the bits. (byte)-63 == (byte)193. So your short or even unsigned short remain undisturbed. For instance the short 511 is {(byte)-1, (byte)1} = 255+1*256."},{"owner":{"account_id":1640666,"reputation":1912,"user_id":1513171,"accept_rate":69,"display_name":"user1513171"},"score":0,"creation_date":1661873921,"post_id":73544780,"comment_id":129873015,"body_markdown":"I&#39;m sending this as a DatagramPacket, so that packet has the value -63 instead of 193. You&#39;re saying that on the other end they are going to know this is 193 and not -63? I&#39;m not sure if that&#39;s true because I have the same code working in Javascript using nodejs Buffer Class. That allows me to write 193, 148, etc. That works when I make the request, but my Java code does not.","body":"I&#39;m sending this as a DatagramPacket, so that packet has the value -63 instead of 193. You&#39;re saying that on the other end they are going to know this is 193 and not -63? I&#39;m not sure if that&#39;s true because I have the same code working in Javascript using nodejs Buffer Class. That allows me to write 193, 148, etc. That works when I make the request, but my Java code does not."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661876690,"creation_date":1661874362,"answer_id":73545200,"question_id":73544780,"body_markdown":"I can assure that a signed java byte will be read correctly in the two bytes of a short. I have simplified the code, writing the fields one after the other in linear fashion, with message fields in front. Also just used one ByteBuffer.\r\n\r\n(Maybe there is some small error like a wrong offset.)\r\n\r\nAlso I send the text bytes as being in UTF-8. You used the implicit platform encoding, which may differ on every computer.\r\n\r\n        byte[] text = value.getBytes(StandardCharsets.UTF_8);\r\n        int textLength = text.length;\r\n\r\n        int length = 2 + 2 + 2 + 2 + 2 + textLength;\r\n        ByteBuffer buffer = ByteBuffer.allocate(length)\r\n            .order(ByteOrder.LITTLE_ENDIAN);\r\n\r\n        short control = 0x00;\r\n        control |= rhTally &lt;&lt; 0;\r\n        control |= textTally &lt;&lt; 2;\r\n        control |= lhTally &lt;&lt; 4;\r\n        control |= brightness &lt;&lt; 6;\r\n        buffer.putShort(/*CONTROL_POS,*/ control);\r\n\r\n        short msgLength = (short) (length - 2);\r\n        buffer.putShort(/*PBC_POS,*/ msgLength);\r\n\r\n        buffer.putShort(/*SCREEN_POS,*/ screen);\r\n        buffer.putShort(/*INDEX_POS,*/ index);\r\n        buffer.putShort(/*LENGTH_POS,*/ (short)textLength);\r\n        buffer.put(text, 0, textLength);\r\n\r\n        return new DatagramPacket(buffer.array(), length, ip, 9000);","title":"Writing shorts greater than 127 to a ByteBuffer in Java","body":"<p>I can assure that a signed java byte will be read correctly in the two bytes of a short. I have simplified the code, writing the fields one after the other in linear fashion, with message fields in front. Also just used one ByteBuffer.</p>\n<p>(Maybe there is some small error like a wrong offset.)</p>\n<p>Also I send the text bytes as being in UTF-8. You used the implicit platform encoding, which may differ on every computer.</p>\n<pre><code>    byte[] text = value.getBytes(StandardCharsets.UTF_8);\n    int textLength = text.length;\n\n    int length = 2 + 2 + 2 + 2 + 2 + textLength;\n    ByteBuffer buffer = ByteBuffer.allocate(length)\n        .order(ByteOrder.LITTLE_ENDIAN);\n\n    short control = 0x00;\n    control |= rhTally &lt;&lt; 0;\n    control |= textTally &lt;&lt; 2;\n    control |= lhTally &lt;&lt; 4;\n    control |= brightness &lt;&lt; 6;\n    buffer.putShort(/*CONTROL_POS,*/ control);\n\n    short msgLength = (short) (length - 2);\n    buffer.putShort(/*PBC_POS,*/ msgLength);\n\n    buffer.putShort(/*SCREEN_POS,*/ screen);\n    buffer.putShort(/*INDEX_POS,*/ index);\n    buffer.putShort(/*LENGTH_POS,*/ (short)textLength);\n    buffer.put(text, 0, textLength);\n\n    return new DatagramPacket(buffer.array(), length, ip, 9000);\n</code></pre>\n"}],"owner":{"account_id":1640666,"reputation":1912,"user_id":1513171,"accept_rate":69,"display_name":"user1513171"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73545200,"answer_count":1,"score":0,"last_activity_date":1661876690,"creation_date":1661872480,"question_id":73544780,"body_markdown":"I have an application in which I&#39;m trying to send UDP messages using TSLv5. The protocol is somewhat complicated, but to do it I need to write 16 bit values as little-endian and then send that via UDP.\r\n\r\nHere&#39;s my code doing just that:\r\n\r\n```java\r\n        buffer.order(ByteOrder.LITTLE_ENDIAN);\r\n\r\n        buffer.putShort(SCREEN_POS, screen);\r\n        buffer.putShort(INDEX_POS, index);\r\n\r\n        ByteBuffer text = ByteBuffer.wrap(value.getBytes());\r\n        short textLength = (short) value.getBytes().length;\r\n        buffer.putShort(LENGTH_POS, textLength);\r\n\r\n        ByteBuffer combined = ByteBufferUtils.concat(buffer, text);\r\n\r\n        short control = 0x00;\r\n        control |= rhTally &lt;&lt; 0;\r\n        control |= textTally &lt;&lt; 2;\r\n        control |= lhTally &lt;&lt; 4;\r\n        control |= brightness &lt;&lt; 6;\r\n\r\n        combined.putShort(CONTROL_POS, control);\r\n\r\n        short msgLength = (short) (combined.array().length - 2);\r\n        combined.putShort(PBC_POS, msgLength);\r\n\r\n        return new DatagramPacket(combined.array(), combined.array().length, ip, 9000);\r\n    \r\n```\r\n\r\nThis mostly works, but the problem is when I have values that are greater than 127. \r\n\r\nFor example, my index is `148` and when all is said and done, my control comes out to be `193`. When I write those values to the ByteBuffer they become `-108` and `-63`, respectively.\r\n\r\nI know why this happens, a ByteBuffer is an array of bytes and bytes can&#39;t be greater than 127. What I don&#39;t know is how I can achieve this? The protocol does not work if I send signed values, it has to be the exact number.","title":"Writing shorts greater than 127 to a ByteBuffer in Java","body":"<p>I have an application in which I'm trying to send UDP messages using TSLv5. The protocol is somewhat complicated, but to do it I need to write 16 bit values as little-endian and then send that via UDP.</p>\n<p>Here's my code doing just that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        buffer.order(ByteOrder.LITTLE_ENDIAN);\n\n        buffer.putShort(SCREEN_POS, screen);\n        buffer.putShort(INDEX_POS, index);\n\n        ByteBuffer text = ByteBuffer.wrap(value.getBytes());\n        short textLength = (short) value.getBytes().length;\n        buffer.putShort(LENGTH_POS, textLength);\n\n        ByteBuffer combined = ByteBufferUtils.concat(buffer, text);\n\n        short control = 0x00;\n        control |= rhTally &lt;&lt; 0;\n        control |= textTally &lt;&lt; 2;\n        control |= lhTally &lt;&lt; 4;\n        control |= brightness &lt;&lt; 6;\n\n        combined.putShort(CONTROL_POS, control);\n\n        short msgLength = (short) (combined.array().length - 2);\n        combined.putShort(PBC_POS, msgLength);\n\n        return new DatagramPacket(combined.array(), combined.array().length, ip, 9000);\n    \n</code></pre>\n<p>This mostly works, but the problem is when I have values that are greater than 127.</p>\n<p>For example, my index is <code>148</code> and when all is said and done, my control comes out to be <code>193</code>. When I write those values to the ByteBuffer they become <code>-108</code> and <code>-63</code>, respectively.</p>\n<p>I know why this happens, a ByteBuffer is an array of bytes and bytes can't be greater than 127. What I don't know is how I can achieve this? The protocol does not work if I send signed values, it has to be the exact number.</p>\n"},{"tags":["java","multithreading","hashmap","parallelstream"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1661864428,"post_id":73542648,"comment_id":129868891,"body_markdown":"Do you mean to `stream()` over `toAdd` in your second code sample?","body":"Do you mean to <code>stream()</code> over <code>toAdd</code> in your second code sample?"},{"owner":{"account_id":1903556,"reputation":123,"user_id":14415840,"display_name":"Nizbel99"},"score":0,"creation_date":1661864586,"post_id":73542648,"comment_id":129868943,"body_markdown":"Yes sorry for the mistake in my original post. I have updated it.","body":"Yes sorry for the mistake in my original post. I have updated it."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1663752599,"post_id":73542648,"comment_id":130311383,"body_markdown":"This seems to be a safe operation but at the same time, it seems to be of no benefit. The operation itself is so trivial that you’d need a humongous set to compensate the initial overhead of initiating a parallel operation. But when you use a Stream, you should use it in the intended way, e.g. `Preconditions .checkState(toAdd.stream().allMatch(stuff -&gt; map.getOrDefault(stuff, NO_EXIST)&lt;id));`","body":"This seems to be a safe operation but at the same time, it seems to be of no benefit. The operation itself is so trivial that you’d need a humongous set to compensate the initial overhead of initiating a parallel operation. But when you use a Stream, you should use it in the intended way, e.g. <code>Preconditions .checkState(toAdd.stream().allMatch(stuff -&gt; map.getOrDefault(stuff, NO_EXIST)&lt;id));</code>"}],"owner":{"account_id":1903556,"reputation":123,"user_id":14415840,"display_name":"Nizbel99"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661876433,"creation_date":1661863337,"question_id":73542648,"body_markdown":"I have a Java HashMap that is normally read and modified by a single thread. When the thread writes to this map via put, I have the following bit of code that validates some preconditions:\r\n\r\n    void put(Set&lt;Stuff&gt; toAdd, long id) {\r\n    \r\n    /// ....\r\n    \r\n    toAdd.forEach(stuff -&gt; {\r\n       long prevId = map.getOrDefault(stuff, NO_EXIST)\r\n       Preconditions.checkState(prevId &lt; id);\r\n    })\r\n    \r\n    /// Update map here\r\n    toAdd.forEach(stuff -&gt; {\r\n        map.put(stuff, id);   \r\n    })\r\n    \r\n    /// ...\r\n    \r\n    }\r\n\r\nEven though this is a regular HashMap, I was wondering if it was safe to use a parallelStream here as follows to help speed things up:\r\n\r\n    void put(Set&lt;Stuff&gt; toAdd, long id) {\r\n    \r\n    /// ....\r\n    \r\n    toAdd.parallelStream().forEach(stuff -&gt; {\r\n       long prevId = map.getOrDefault(stuff, NO_EXIST)\r\n       Preconditions.checkState(prevId &lt; id);\r\n    })\r\n    \r\n    /// Update map here\r\n    toAdd.forEach(stuff -&gt; {\r\n        map.put(stuff, id);   \r\n    })\r\n\r\n    /// ...\r\n    \r\n    }\r\n\r\nI have read in previous posts that multiple concurrent readers should not be an issue, and in this case, the map is only accessible to the calling (single) thread for modifications, and this will not occur until after the preconditions are validated. Likewise, if this thread wants to do another put, no other thread will be performing any operations on that map. Hence, outside this parallel stream (which only contains reads), there are no concurrent operations ever. Are there any correctness implications or potential visibility issues for doing this?\r\n\r\nSimilar question: https://stackoverflow.com/questions/42380668/java-hashmap-readonly-thread-safety","title":"Java HashMap and Synchronization With ParallelStream","body":"<p>I have a Java HashMap that is normally read and modified by a single thread. When the thread writes to this map via put, I have the following bit of code that validates some preconditions:</p>\n<pre><code>void put(Set&lt;Stuff&gt; toAdd, long id) {\n\n/// ....\n\ntoAdd.forEach(stuff -&gt; {\n   long prevId = map.getOrDefault(stuff, NO_EXIST)\n   Preconditions.checkState(prevId &lt; id);\n})\n\n/// Update map here\ntoAdd.forEach(stuff -&gt; {\n    map.put(stuff, id);   \n})\n\n/// ...\n\n}\n</code></pre>\n<p>Even though this is a regular HashMap, I was wondering if it was safe to use a parallelStream here as follows to help speed things up:</p>\n<pre><code>void put(Set&lt;Stuff&gt; toAdd, long id) {\n\n/// ....\n\ntoAdd.parallelStream().forEach(stuff -&gt; {\n   long prevId = map.getOrDefault(stuff, NO_EXIST)\n   Preconditions.checkState(prevId &lt; id);\n})\n\n/// Update map here\ntoAdd.forEach(stuff -&gt; {\n    map.put(stuff, id);   \n})\n\n/// ...\n\n}\n</code></pre>\n<p>I have read in previous posts that multiple concurrent readers should not be an issue, and in this case, the map is only accessible to the calling (single) thread for modifications, and this will not occur until after the preconditions are validated. Likewise, if this thread wants to do another put, no other thread will be performing any operations on that map. Hence, outside this parallel stream (which only contains reads), there are no concurrent operations ever. Are there any correctness implications or potential visibility issues for doing this?</p>\n<p>Similar question: <a href=\"https://stackoverflow.com/questions/42380668/java-hashmap-readonly-thread-safety\">Java hashmap readonly thread safety</a></p>\n"},{"tags":["java","android","fractions"],"comments":[{"owner":{"account_id":958617,"reputation":4858,"user_id":983430,"accept_rate":100,"display_name":"Amos M. Carpenter"},"score":1,"creation_date":1340850682,"post_id":11237152,"comment_id":14764421,"body_markdown":"... and that, children, is why the rest of the world (except US and UK) has gone metric... ;-)","body":"... and that, children, is why the rest of the world (except US and UK) has gone metric... ;-)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1340855103,"post_id":11237152,"comment_id":14765022,"body_markdown":"@aamos - ermm ... the UK went metric many years ago.  http://en.wikipedia.org/wiki/Metrication_in_the_United_Kingdom#Current_usage  Now admittedly a lot of people didn&#39;t like it ... but you can&#39;t please everyone.","body":"@aamos - ermm ... the UK went metric many years ago.  <a href=\"http://en.wikipedia.org/wiki/Metrication_in_the_United_Kingdom#Current_usage\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>  Now admittedly a lot of people didn&#39;t like it ... but you can&#39;t please everyone."},{"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1661876115,"post_id":11237152,"comment_id":129873824,"body_markdown":"The US also went metric in 1975","body":"The US also went metric in 1975"}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340849687,"creation_date":1340849687,"answer_id":11237242,"question_id":11237152,"body_markdown":"Here&#39;s how you&#39;d figure out the feet and inches in Java:\r\n\r\n    double resultInInches; // you start with inches...\r\n    int feet = (int)(resultInInches / 12);\r\n    double rest = (resultInInches / 12) - feet;\r\n    int wholeInches = (int)rest;\r\n    rest = rest-wholeInches; // rest now holds the fraction of the inch, eg 0.4141\r\n\r\nNow all that&#39;s left to do is display `rest` as a fraction. I&#39;m not familiar with what is or is not permitted in the Android SDK, and there&#39;s a bunch of ways to do this (see [this answer](https://stackoverflow.com/questions/474535/best-way-to-represent-a-fraction-in-java)).","title":"how do i take a measurement like 5&#39; 3&quot;1/2 and then multiply it by 1.414 and display answer in same format on android java","body":"<p>Here's how you'd figure out the feet and inches in Java:</p>\n\n<pre><code>double resultInInches; // you start with inches...\nint feet = (int)(resultInInches / 12);\ndouble rest = (resultInInches / 12) - feet;\nint wholeInches = (int)rest;\nrest = rest-wholeInches; // rest now holds the fraction of the inch, eg 0.4141\n</code></pre>\n\n<p>Now all that's left to do is display <code>rest</code> as a fraction. I'm not familiar with what is or is not permitted in the Android SDK, and there's a bunch of ways to do this (see <a href=\"https://stackoverflow.com/questions/474535/best-way-to-represent-a-fraction-in-java\">this answer</a>).</p>\n"}],"owner":{"account_id":1607490,"reputation":1,"user_id":1487268,"display_name":"Queduin R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661876090,"creation_date":1340848672,"question_id":11237152,"body_markdown":"what I&#39;m doing is this, I leave the 5&#39; alone then I turn 3&quot; into a decimal of a foot by dividing by 12 then I divide the numerator by the denominator then I add it all up and multiply by 1.414 it works but I dont know how I would display the foot inches and fraction of a inch\r\n\r\n        c2c_fdecimal = f_num / f_den;\r\n\t\tc2c_fdeci_fft = c2c_fdecimal / 12.0;\r\n\t\tdeci_of_foot = inchs / 12.0;\r\n\t\ttotal_travel= feet + c2c_fdeci_fft + deci_of_foot;\r\n\t\t\r\n\t\ttoff_ftodeci = tkoff_numa / tkoff_dena;\r\n\t\ttkoff_inch = tkoff_inch / 12.0;\r\n\t\tsub_toff = toff_ftodeci / 12.0 + tkoff_inch;\r\n\t\tans = (total_travel * ffformula) - sub_toff;\r\n\t\t//print out measurement format\r\n\t\tansint = (int)ans;\r\n\t\tstrip_inches = (int) ((ans - ansint) * 12.0); \r\n\t\t//print answer\r\n\t\teditText2.setText(ansint + &quot; ft&quot; + strip_inches + &quot; in&quot;);","title":"how do i take a measurement like 5&#39; 3&quot;1/2 and then multiply it by 1.414 and display answer in same format on android java","body":"<p>what I'm doing is this, I leave the 5' alone then I turn 3\" into a decimal of a foot by dividing by 12 then I divide the numerator by the denominator then I add it all up and multiply by 1.414 it works but I dont know how I would display the foot inches and fraction of a inch</p>\n\n<pre><code>    c2c_fdecimal = f_num / f_den;\n    c2c_fdeci_fft = c2c_fdecimal / 12.0;\n    deci_of_foot = inchs / 12.0;\n    total_travel= feet + c2c_fdeci_fft + deci_of_foot;\n\n    toff_ftodeci = tkoff_numa / tkoff_dena;\n    tkoff_inch = tkoff_inch / 12.0;\n    sub_toff = toff_ftodeci / 12.0 + tkoff_inch;\n    ans = (total_travel * ffformula) - sub_toff;\n    //print out measurement format\n    ansint = (int)ans;\n    strip_inches = (int) ((ans - ansint) * 12.0); \n    //print answer\n    editText2.setText(ansint + \" ft\" + strip_inches + \" in\");\n</code></pre>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661876042,"creation_date":1661876042,"answer_id":73545523,"question_id":73544434,"body_markdown":"**Yes.**\r\n\r\n----------\r\n\r\nLonger answer:\r\n\r\nThe project job scheduling example is arguably our most convoluted example. We&#39;ll soon build a simpler job shop scheduling quickstart.\r\n\r\nAs for the &quot;consider different successor dependency types&quot; constraint, please spec it out clearly in a separate question.","title":"Can OptaPlanner be used for project schedule optimization (MS-Project style)?","body":"<p><strong>Yes.</strong></p>\n<hr />\n<p>Longer answer:</p>\n<p>The project job scheduling example is arguably our most convoluted example. We'll soon build a simpler job shop scheduling quickstart.</p>\n<p>As for the &quot;consider different successor dependency types&quot; constraint, please spec it out clearly in a separate question.</p>\n"}],"owner":{"account_id":26199340,"reputation":11,"user_id":19879987,"display_name":"Itay-fsw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661876042,"creation_date":1661870975,"question_id":73544434,"body_markdown":"Assuming a project schedule model with tasks (with start/end dates), and dependencies of type FS, FF, SS, SF, can OptaPlanner be used for project schedule optimization?\r\ne.g. when the date of the schedule start task changes, use OptaPlanner to re-calculate the dates of all its successor tasks based on their dependency type. Similar to MS-Project auto scheduling functionality.\r\nThe OptaPlanner &quot;project job scheduling&quot; example seems the most relevant but it doesn&#39;t consider different successor dependency types. Also the example initial data structure is not clear. \r\nAny suggestions will be appreciated. Thanks.\r\n","title":"Can OptaPlanner be used for project schedule optimization (MS-Project style)?","body":"<p>Assuming a project schedule model with tasks (with start/end dates), and dependencies of type FS, FF, SS, SF, can OptaPlanner be used for project schedule optimization?\ne.g. when the date of the schedule start task changes, use OptaPlanner to re-calculate the dates of all its successor tasks based on their dependency type. Similar to MS-Project auto scheduling functionality.\nThe OptaPlanner &quot;project job scheduling&quot; example seems the most relevant but it doesn't consider different successor dependency types. Also the example initial data structure is not clear.\nAny suggestions will be appreciated. Thanks.</p>\n"},{"tags":["java","android","simpledateformat","datetime-format","date-parsing"],"answers":[{"tags":[],"owner":{"account_id":544847,"reputation":3281,"user_id":914427,"accept_rate":89,"display_name":"Rajesh Rajaram"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1345184545,"creation_date":1345184545,"answer_id":12000719,"question_id":12000673,"body_markdown":"        private String convertDate(String cdate)\r\n\t{\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm:ss:SSSSSSS&quot;);\r\n\t\tSimpleDateFormat postFormater = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tDate convertedDate;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconvertedDate = dateFormat.parse(cdate);\r\n\t\t\tcdate = postFormater.format(convertedDate);\r\n\t\t}\r\n\t\tcatch (ParseException e)\r\n\t\t{\r\n\t\t\tToast.makeText(getApplicationContext(),e.toString(),Toast.LENGTH_SHORT).show();\r\n\t\t}\r\n\t\treturn cdate;\r\n\t}\r\n\r\n\r\nTry this.","title":"String-Date conversion with nanoseconds ","body":"<pre><code>    private String convertDate(String cdate)\n{\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd.MM.yyyy HH:mm:ss:SSSSSSS\");\n    SimpleDateFormat postFormater = new SimpleDateFormat(\"yyyy-MM-dd\");\n    Date convertedDate;\n    try\n    {\n        convertedDate = dateFormat.parse(cdate);\n        cdate = postFormater.format(convertedDate);\n    }\n    catch (ParseException e)\n    {\n        Toast.makeText(getApplicationContext(),e.toString(),Toast.LENGTH_SHORT).show();\n    }\n    return cdate;\n}\n</code></pre>\n\n<p>Try this.</p>\n"},{"tags":[],"owner":{"account_id":1545009,"reputation":67059,"user_id":1438733,"accept_rate":100,"display_name":"Cat"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1345184731,"creation_date":1345184731,"answer_id":12000749,"question_id":12000673,"body_markdown":"The result you are getting is absolutely right.\r\n\r\nLet&#39;s analyze this:\r\n\r\n    17.08.2012 05:35:19:7600000\r\n\r\n- 17: Day of month (17th)\r\n- 08: Month of year (August)\r\n- 2012: Year (2012)\r\n- 05: Hour of day (5am)\r\n- 35: Minute of hour (:35)\r\n- 19: Second of minute (:19)\r\n- 7600000: Milliseconds of second (7,600,000)\r\n\r\nNow, the way the VM sees this is that you are declaring the time of day as 5:35:19am, then adding 7,600,000 milliseconds to it. 7,600,000 milliseconds = 7,600 seconds = 2 hours, 6 minutes, 40 seconds. 5:35:19am + 02:06:40 = 7:41:59am (and 0 milliseconds). This is the result you are getting. (It also appears that you are not setting the timezone properly, so the GMT string is 3 hours behind your result.)\r\n\r\nIf you want to retain the `:7600000`, to my knowledge this is not possible. As this can be simplified into seconds, the VM will automatically reduce it into the other time increments. The milliseconds (the `SSSS`) should be for storing values &lt;1000.\r\n\r\nI&#39;d suggest you create a new `SimpleDateFormat` for your output; but remember that the milliseconds will be absorbed into the other times (since they are all stored as a single `long` in the `Date` object).","title":"String-Date conversion with nanoseconds ","body":"<p>The result you are getting is absolutely right.</p>\n\n<p>Let's analyze this:</p>\n\n<pre><code>17.08.2012 05:35:19:7600000\n</code></pre>\n\n<ul>\n<li>17: Day of month (17th)</li>\n<li>08: Month of year (August)</li>\n<li>2012: Year (2012)</li>\n<li>05: Hour of day (5am)</li>\n<li>35: Minute of hour (:35)</li>\n<li>19: Second of minute (:19)</li>\n<li>7600000: Milliseconds of second (7,600,000)</li>\n</ul>\n\n<p>Now, the way the VM sees this is that you are declaring the time of day as 5:35:19am, then adding 7,600,000 milliseconds to it. 7,600,000 milliseconds = 7,600 seconds = 2 hours, 6 minutes, 40 seconds. 5:35:19am + 02:06:40 = 7:41:59am (and 0 milliseconds). This is the result you are getting. (It also appears that you are not setting the timezone properly, so the GMT string is 3 hours behind your result.)</p>\n\n<p>If you want to retain the <code>:7600000</code>, to my knowledge this is not possible. As this can be simplified into seconds, the VM will automatically reduce it into the other time increments. The milliseconds (the <code>SSSS</code>) should be for storing values &lt;1000.</p>\n\n<p>I'd suggest you create a new <code>SimpleDateFormat</code> for your output; but remember that the milliseconds will be absorbed into the other times (since they are all stored as a single <code>long</code> in the <code>Date</code> object).</p>\n"},{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1431446180,"creation_date":1431446180,"answer_id":30195916,"question_id":12000673,"body_markdown":"This is what you need (but it will loose millisecond information):\r\n\r\n    &quot;dd.MM.yyyy HH:mm:ss.&#39;000000&#39;&quot;\r\n\r\nIf you used `&quot;dd.MM.yyyy HH:mm:ss.SSSSSS&quot;`, then would get three leading zeros for your milliseconds.\r\n\r\nIf you used `&quot;dd.MM.yyyy HH:mm:ss.SSS&#39;000&#39;&quot;`, then you could format a date, but not parse any date.\r\n\r\nTry it out:\r\n\r\n\tpublic static void main(String[] args) throws ParseException {\r\n\t\tprintDate(&quot;dd.MM.yyyy HH:mm:ss.SSS&quot;);//02.05.2010 21:45:58.073\r\n\t\tprintDate(&quot;dd.MM.yyyy HH:mm:ss.SSSSSS&quot;);//02.05.2010 21:45:58.000073\r\n\t\tprintDate(&quot;dd.MM.yyyy HH:mm:ss.SSS&#39;000&#39;&quot;);//02.05.2010 21:45:58.073000\r\n\t\tprintDate(&quot;dd.MM.yyyy HH:mm:ss.&#39;000000&#39;&quot;);//02.05.2010 21:45:58.000000\r\n\t\t\r\n\t\ttryToParseDate(&quot;dd.MM.yyyy HH:mm:ss.SSS&quot;);//good\r\n\t\ttryToParseDate(&quot;dd.MM.yyyy HH:mm:ss.SSSSSS&quot;);//good\r\n\t\ttryToParseDate(&quot;dd.MM.yyyy HH:mm:ss.SSS&#39;000&#39;&quot;);//bad\r\n\t\ttryToParseDate(&quot;dd.MM.yyyy HH:mm:ss.&#39;000000&#39;&quot;);//good\r\n\t}\r\n\r\n\tprivate static void printDate(String formatString) {\r\n\t\tDate now = new Date();\r\n\t\tSimpleDateFormat format = new SimpleDateFormat(formatString);\r\n\t\tString formattedDate = format.format(now);\r\n\t\t\r\n\t\t// print that date\r\n\t\tSystem.out.println(formattedDate);\r\n\t}\r\n\t\r\n\tprivate static void tryToParseDate(String formatString) {\r\n\t\tDate now = new Date();\r\n\t\tSimpleDateFormat format = new SimpleDateFormat(formatString);\r\n\t\tString formattedDate = format.format(now);\r\n\t\t\r\n\t\t// try to parse it again\r\n\t\ttry {\r\n\t\t\tformat.parse(formattedDate);\r\n\t\t\tSystem.out.println(&quot;good&quot;);\r\n\t\t} catch (ParseException e) {\r\n\t\t\tSystem.out.println(&quot;bad&quot;);\r\n\t\t}\r\n\t}\r\n","title":"String-Date conversion with nanoseconds ","body":"<p>This is what you need (but it will loose millisecond information):</p>\n\n<pre><code>\"dd.MM.yyyy HH:mm:ss.'000000'\"\n</code></pre>\n\n<p>If you used <code>\"dd.MM.yyyy HH:mm:ss.SSSSSS\"</code>, then would get three leading zeros for your milliseconds.</p>\n\n<p>If you used <code>\"dd.MM.yyyy HH:mm:ss.SSS'000'\"</code>, then you could format a date, but not parse any date.</p>\n\n<p>Try it out:</p>\n\n<pre><code>public static void main(String[] args) throws ParseException {\n    printDate(\"dd.MM.yyyy HH:mm:ss.SSS\");//02.05.2010 21:45:58.073\n    printDate(\"dd.MM.yyyy HH:mm:ss.SSSSSS\");//02.05.2010 21:45:58.000073\n    printDate(\"dd.MM.yyyy HH:mm:ss.SSS'000'\");//02.05.2010 21:45:58.073000\n    printDate(\"dd.MM.yyyy HH:mm:ss.'000000'\");//02.05.2010 21:45:58.000000\n\n    tryToParseDate(\"dd.MM.yyyy HH:mm:ss.SSS\");//good\n    tryToParseDate(\"dd.MM.yyyy HH:mm:ss.SSSSSS\");//good\n    tryToParseDate(\"dd.MM.yyyy HH:mm:ss.SSS'000'\");//bad\n    tryToParseDate(\"dd.MM.yyyy HH:mm:ss.'000000'\");//good\n}\n\nprivate static void printDate(String formatString) {\n    Date now = new Date();\n    SimpleDateFormat format = new SimpleDateFormat(formatString);\n    String formattedDate = format.format(now);\n\n    // print that date\n    System.out.println(formattedDate);\n}\n\nprivate static void tryToParseDate(String formatString) {\n    Date now = new Date();\n    SimpleDateFormat format = new SimpleDateFormat(formatString);\n    String formattedDate = format.format(now);\n\n    // try to parse it again\n    try {\n        format.parse(formattedDate);\n        System.out.println(\"good\");\n    } catch (ParseException e) {\n        System.out.println(\"bad\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":369032,"reputation":2990,"user_id":716177,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583862395,"creation_date":1583862395,"answer_id":60623204,"question_id":12000673,"body_markdown":"To drop the nanoseconds, use: \r\n\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.&quot;)","title":"String-Date conversion with nanoseconds ","body":"<p>To drop the nanoseconds, use: </p>\n\n<pre><code>new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661875989,"creation_date":1661874463,"answer_id":73545219,"question_id":12000673,"body_markdown":"# Update: *java.time*\r\n\r\nThe Question and other Answers use terrible date-time classes that are now legacy. These flawed classes were years ago supplanted by the modern *java.time* classes defined in JSR 310. Avoid `Calendar`, `DateFormat`, `Date`, etc.\r\n\r\nDefine a formatting pattern with `DateTimeFormatter`.\r\n\r\n```java\r\nString input = &quot;17.08.2012 05:35:19:7600000&quot;;\r\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd.MM.uuuu HH:mm:ss:SSSSSSS&quot; );\r\n```\r\n\r\nParse.\r\n\r\n```java\r\nLocalDateTime ldt = LocalDateTime.parse( input , f ) ;\r\n```\r\n\r\nA `LocalDateTime` object represents a date with a time of day, but lacks the context of a time zone or offset from UTC. \r\n\r\nIf you are certain the input text is intended to represent a moment as seen in UTC, having an offset of zero hours-minutes-seconds, then assign a `ZoneOffset` to produce an `OffsetDateTime` object.\r\n\r\n```java\r\nOffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ;\r\n```\r\n\r\nSee this [code run live at Ideone.com][1]. \r\n\r\n# ISO 8601\r\n\r\nI suggest you educate the publisher of your data about the use of ISO 8601 standard formats when serializing date-time values to text. \r\n\r\nThe *java.time* classes use ISO 8601 formats by default when parsing/generating text.\r\n\r\n\r\n  [1]: https://ideone.com/darOPH","title":"String-Date conversion with nanoseconds ","body":"<h1>Update: <em>java.time</em></h1>\n<p>The Question and other Answers use terrible date-time classes that are now legacy. These flawed classes were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Avoid <code>Calendar</code>, <code>DateFormat</code>, <code>Date</code>, etc.</p>\n<p>Define a formatting pattern with <code>DateTimeFormatter</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;17.08.2012 05:35:19:7600000&quot;;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd.MM.uuuu HH:mm:ss:SSSSSSS&quot; );\n</code></pre>\n<p>Parse.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime ldt = LocalDateTime.parse( input , f ) ;\n</code></pre>\n<p>A <code>LocalDateTime</code> object represents a date with a time of day, but lacks the context of a time zone or offset from UTC.</p>\n<p>If you are certain the input text is intended to represent a moment as seen in UTC, having an offset of zero hours-minutes-seconds, then assign a <code>ZoneOffset</code> to produce an <code>OffsetDateTime</code> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/darOPH\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<h1>ISO 8601</h1>\n<p>I suggest you educate the publisher of your data about the use of ISO 8601 standard formats when serializing date-time values to text.</p>\n<p>The <em>java.time</em> classes use ISO 8601 formats by default when parsing/generating text.</p>\n"}],"owner":{"account_id":439477,"reputation":243,"user_id":828427,"display_name":"Rhadoozooz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65685,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":12000749,"answer_count":5,"score":24,"last_activity_date":1661875989,"creation_date":1345184201,"question_id":12000673,"body_markdown":"I&#39;ve been struggling for a while with this piece of code for an Android app and I can&#39;t get the hang of it. I&#39;ve read and tried every solution I found on stackoverflow and other places, but still no luck. \r\n\r\nWhat I want to do is have a function to convert a string like `&quot;17.08.2012 05:35:19:7600000&quot;` to a UTC date and a function that takes an `UTC date` and converts it to a string like that. \r\n\r\n    String value = &quot;17.08.2012 05:35:19:7600000&quot;;\r\n    DateFormat df = new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm:ss:SSSSSSS&quot;);\r\n    try\r\n    {\r\n      Date today = df.parse(value);\r\n      System.out.println(&quot;Today = &quot; + df.format(today) + &quot; &quot; + today.toGMTString());\r\n    } \r\n    catch (ParseException e)\r\n    {\r\n      e.printStackTrace();\r\n    }\r\n\r\nThis results in : `Today = 17.08.2012 07:41:59:0000000 17 Aug 2012 04:41:59 GMT` which are both wrong. \r\n\r\nI tried setting `SDF&#39;s timezone` to `UTC`, no luck.   \r\nAnother thing that I noticed:   if I do `df.setLenient(false);`  \r\nIt gives me : `java.text.ParseException: Unparseable date: &quot;17.08.2012 05:35:19:7600000&quot;` . \r\n\r\nIf anyone can provide me with some explanations / sample code, I would be very grateful. Thanks in advance","title":"String-Date conversion with nanoseconds ","body":"<p>I've been struggling for a while with this piece of code for an Android app and I can't get the hang of it. I've read and tried every solution I found on stackoverflow and other places, but still no luck. </p>\n\n<p>What I want to do is have a function to convert a string like <code>\"17.08.2012 05:35:19:7600000\"</code> to a UTC date and a function that takes an <code>UTC date</code> and converts it to a string like that. </p>\n\n<pre><code>String value = \"17.08.2012 05:35:19:7600000\";\nDateFormat df = new SimpleDateFormat(\"dd.MM.yyyy HH:mm:ss:SSSSSSS\");\ntry\n{\n  Date today = df.parse(value);\n  System.out.println(\"Today = \" + df.format(today) + \" \" + today.toGMTString());\n} \ncatch (ParseException e)\n{\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>This results in : <code>Today = 17.08.2012 07:41:59:0000000 17 Aug 2012 04:41:59 GMT</code> which are both wrong. </p>\n\n<p>I tried setting <code>SDF's timezone</code> to <code>UTC</code>, no luck.<br>\nAnother thing that I noticed:   if I do <code>df.setLenient(false);</code><br>\nIt gives me : <code>java.text.ParseException: Unparseable date: \"17.08.2012 05:35:19:7600000\"</code> . </p>\n\n<p>If anyone can provide me with some explanations / sample code, I would be very grateful. Thanks in advance</p>\n"},{"tags":["java","maven","kotlin","gradle","groovy"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1661870119,"post_id":73544185,"comment_id":129871406,"body_markdown":"Are the classes in the jar? How did you publish it?","body":"Are the classes in the jar? How did you publish it?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1661870145,"post_id":73544185,"comment_id":129871417,"body_markdown":"&quot;Some classes don&#39;t exist&quot; isn&#39;t particularly diagnostic; if the up-to-date artifact is published locally the normal Maven/Gradle resolution rules apply just fine. I would first (a) check your assumptions on what&#39;s been published and (b) check your assumptions for its transitive dependency config.","body":"&quot;Some classes don&#39;t exist&quot; isn&#39;t particularly diagnostic; if the up-to-date artifact is published locally the normal Maven/Gradle resolution rules apply just fine. I would first (a) check your assumptions on what&#39;s been published and (b) check your assumptions for its transitive dependency config."},{"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"score":0,"creation_date":1661872860,"post_id":73544185,"comment_id":129872543,"body_markdown":"I&#39;m pretty sure that the library is published locally properly. I wouldn&#39;t rule out that it contains transitive dependencies. How can I ensure all dependencies are included? Even transitive","body":"I&#39;m pretty sure that the library is published locally properly. I wouldn&#39;t rule out that it contains transitive dependencies. How can I ensure all dependencies are included? Even transitive"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1661873397,"post_id":73544185,"comment_id":129872791,"body_markdown":"By properly specifying dependencies in the published library. There&#39;s no way to diagnose further since we don&#39;t even know if the &quot;missing classes&quot; are supposed to be part of the published artifact or not, or if what&#39;s published is the most recent built artifact, etc. The version number is insufficient since that&#39;s often human-generated.","body":"By properly specifying dependencies in the published library. There&#39;s no way to diagnose further since we don&#39;t even know if the &quot;missing classes&quot; are supposed to be part of the published artifact or not, or if what&#39;s published is the most recent built artifact, etc. The version number is insufficient since that&#39;s often human-generated."},{"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"score":0,"creation_date":1661873712,"post_id":73544185,"comment_id":129872934,"body_markdown":"The &quot;missing classes&quot; ARE supposed to be part of the published artifact. So, my guess it doesn&#39;t include transitive dependencies. \n\nI know it&#39;s the most recent built artifact since I can see the datetime. \n\n(Your questions are making me understand the problem better. Thank you)","body":"The &quot;missing classes&quot; ARE supposed to be part of the published artifact. So, my guess it doesn&#39;t include transitive dependencies.   I know it&#39;s the most recent built artifact since I can see the datetime.   (Your questions are making me understand the problem better. Thank you)"}],"answers":[{"tags":[],"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661875360,"creation_date":1661875360,"answer_id":73545388,"question_id":73544185,"body_markdown":"The [buildscript block][1] configures the configuration of the gradle build itself. So by declaring the repositories in it, you are only affecting the buildscript. Try it outside of the `buildscript`\r\n\r\n```gradle\r\nrepositories {\r\n     mavenLocal()\r\n}\r\n\r\n\r\ndependencies {\r\n   implementation(&#39;com.mycompany:my-library:1.0&#39;)\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17774000/16358266","title":"How to pick a dependency from local Maven repository","body":"<p>The <a href=\"https://stackoverflow.com/a/17774000/16358266\">buildscript block</a> configures the configuration of the gradle build itself. So by declaring the repositories in it, you are only affecting the buildscript. Try it outside of the <code>buildscript</code></p>\n<pre><code>repositories {\n     mavenLocal()\n}\n\n\ndependencies {\n   implementation('com.mycompany:my-library:1.0')\n}\n</code></pre>\n"}],"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661875360,"creation_date":1661869885,"question_id":73544185,"body_markdown":"I&#39;ve published a dependency locally. The dependency is located on path\r\n \r\n`C:\\Users\\myusername\\.m2\\repository\\com\\mycompany\\my-library\\1.0\\*`\r\n    \r\nwhich I think is the default path on Windows.\r\n\r\nNow, on a different project I try to consume this library.\r\nMy `build.gradle` looks like this(among other dependencies)\r\n\r\n\r\n    ...\r\n    buildscript {\r\n      repositories {\r\n         mavenLocal()\r\n      }\r\n    }\r\n    ...\r\n    dependencies {\r\n       implementation(&#39;com.mycompany:my-library:1.0&#39;)\r\n    }\r\n\r\nI&#39;m getting build errors that some classes do not exist etc...\r\n\r\nShouldn&#39;t this be enough to identify the dependency from local repository? \r\n\r\nI also use a remote repository for other dependencies but the artifact name+version is unique(com.mycompany:my-library:1.0). I would expect to find this dependency from the local repository. Instead, I&#39;m getting build errors that some classes do not exists etc...\r\n\r\nEDIT:\r\n \r\nThe classes should be in the aforementioned library. I used `./gradlew publishToMavenLocal` to publish the library locally, and I can see that it&#39;s there. Is is generated with the correct version etc.. ","title":"How to pick a dependency from local Maven repository","body":"<p>I've published a dependency locally. The dependency is located on path</p>\n<p><code>C:\\Users\\myusername\\.m2\\repository\\com\\mycompany\\my-library\\1.0\\*</code></p>\n<p>which I think is the default path on Windows.</p>\n<p>Now, on a different project I try to consume this library.\nMy <code>build.gradle</code> looks like this(among other dependencies)</p>\n<pre><code>...\nbuildscript {\n  repositories {\n     mavenLocal()\n  }\n}\n...\ndependencies {\n   implementation('com.mycompany:my-library:1.0')\n}\n</code></pre>\n<p>I'm getting build errors that some classes do not exist etc...</p>\n<p>Shouldn't this be enough to identify the dependency from local repository?</p>\n<p>I also use a remote repository for other dependencies but the artifact name+version is unique(com.mycompany:my-library:1.0). I would expect to find this dependency from the local repository. Instead, I'm getting build errors that some classes do not exists etc...</p>\n<p>EDIT:</p>\n<p>The classes should be in the aforementioned library. I used <code>./gradlew publishToMavenLocal</code> to publish the library locally, and I can see that it's there. Is is generated with the correct version etc..</p>\n"},{"tags":["java","maven","gradle","jar","repository"],"comments":[{"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"score":0,"creation_date":1661873223,"post_id":73544886,"comment_id":129872723,"body_markdown":"Have you actually looked into the generated jar? `test` classes and resources are not included by default, so unless you changed something it should already be correct.","body":"Have you actually looked into the generated jar? <code>test</code> classes and resources are not included by default, so unless you changed something it should already be correct."},{"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"score":0,"creation_date":1661874505,"post_id":73544886,"comment_id":129873233,"body_markdown":"Damn you right, they were not included. Like I said I am new to java. Figured what ever was listed in the classes folder was included on the JAR. Thanks, could you submit your comment as an Answer so I can accept it","body":"Damn you right, they were not included. Like I said I am new to java. Figured what ever was listed in the classes folder was included on the JAR. Thanks, could you submit your comment as an Answer so I can accept it"}],"answers":[{"tags":[],"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661875131,"creation_date":1661875131,"answer_id":73545327,"question_id":73544886,"body_markdown":"Gradle does the right thing by default, there is no need to manually exclude `test` classes/resources from the `jar`.","title":"Exclude Test folder and Resources from Gradle Jar build","body":"<p>Gradle does the right thing by default, there is no need to manually exclude <code>test</code> classes/resources from the <code>jar</code>.</p>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73545327,"answer_count":1,"score":0,"last_activity_date":1661875131,"creation_date":1661872889,"question_id":73544886,"body_markdown":"I am trying to create a Jar to be used as a Maven Repository\r\n\r\nI have everything built out and all the classes are ready to go. Only problem is that the gradlew ./build is including the classes and resources from the test folder. I don&#39;t want these as part of the jar, especially the resource files under test.\r\n\r\nSo my question is, How do I exclude these files from my jar build task. I tried\r\n```\r\ntasks.named(&#39;jar&#39;){\r\n    exclude(&#39;PATH/src/test/&#39;)\r\n```\r\nin my build.gradle but that didn&#39;t work\r\n\r\nI am a newbiew at gradle and maven so any insight would help. Thanks!\r\n\r\nReference Material\r\n\r\n**build.gradle**\r\n```\r\nplugins {\r\n    // Apply the java-library plugin for API and implementation separation.\r\n    id &#39;java-library&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\ngroup = &#39;com.project.tools&#39;\r\nversion = &#39;1.0.0&#39;\r\n\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    api &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n\r\n    implementation &#39;com.google.guava:guava:31.0.1-jre&#39;\r\n\r\n    implementation platform(&#39;io.cucumber:cucumber-bom:7.1.0&#39;)\r\n    implementation &#39;io.cucumber:cucumber-java&#39;\r\n    implementation &#39;io.cucumber:cucumber-junit-platform-engine&#39;\r\n    implementation &#39;io.cucumber:cucumber-junit&#39;\r\n\r\n    implementation &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;\r\n\r\n}\r\n\r\ntasks.named(&#39;jar&#39;){\r\n    manifest {\r\n        attributes(&#39;Implementation-Title&#39;: project.name,\r\n                &#39;Implementation-Version&#39;: project.version)\r\n    }\r\n}\r\n\r\n```\r\n\r\n**File Structure**\r\n```\r\nproject/\r\n├─ tools/\r\n│  ├─ build/\r\n│  │  ├─ classes/\r\n│  │  │  ├─ new_folder/\r\n│  │  │  │  ├─ main/\r\n│  │  │  │  ├─ test/  #I Don&#39;t Want This Here, This Classes Do Not Need To Be Accessible\r\n│  │  ├─ generated/\r\n│  │  ├─ libs/\r\n│  │  ├─ reports/\r\n│  │  ├─ resources/\r\n│  │  │  ├─ test/  #Would rather not have this entire folder\r\n│  │  │  │  ├─ com.project.tools/\r\n│  │  │  │  ├─ test.properties  # Definitely Do Not Want This Included\r\n│  │  ├─ test-results/\r\n│  │  ├─ tmp/\r\n│  ├─ src/\r\n│  │  ├─ main/\r\n│  │  │  ├─ java/\r\n│  │  │  │  ├─ com.project.tools/\r\n│  │  │  │  │  ├─ MyClasses.java\r\n│  │  │  ├─ resources/\r\n│  │  ├─ test/\r\n│  │  │  ├─ java/\r\n│  │  │  │  ├─ com.project.tools/\r\n│  │  │  │  │  ├─ MyTestClasses.java\r\n│  │  │  ├─ resources/\r\n│  ├─ build.gradle\r\n\r\n```","title":"Exclude Test folder and Resources from Gradle Jar build","body":"<p>I am trying to create a Jar to be used as a Maven Repository</p>\n<p>I have everything built out and all the classes are ready to go. Only problem is that the gradlew ./build is including the classes and resources from the test folder. I don't want these as part of the jar, especially the resource files under test.</p>\n<p>So my question is, How do I exclude these files from my jar build task. I tried</p>\n<pre><code>tasks.named('jar'){\n    exclude('PATH/src/test/')\n</code></pre>\n<p>in my build.gradle but that didn't work</p>\n<p>I am a newbiew at gradle and maven so any insight would help. Thanks!</p>\n<p>Reference Material</p>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    // Apply the java-library plugin for API and implementation separation.\n    id 'java-library'\n    id 'maven-publish'\n}\n\ngroup = 'com.project.tools'\nversion = '1.0.0'\n\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    api 'org.apache.commons:commons-math3:3.6.1'\n\n    implementation 'com.google.guava:guava:31.0.1-jre'\n\n    implementation platform('io.cucumber:cucumber-bom:7.1.0')\n    implementation 'io.cucumber:cucumber-java'\n    implementation 'io.cucumber:cucumber-junit-platform-engine'\n    implementation 'io.cucumber:cucumber-junit'\n\n    implementation 'com.googlecode.json-simple:json-simple:1.1.1'\n\n}\n\ntasks.named('jar'){\n    manifest {\n        attributes('Implementation-Title': project.name,\n                'Implementation-Version': project.version)\n    }\n}\n\n</code></pre>\n<p><strong>File Structure</strong></p>\n<pre><code>project/\n├─ tools/\n│  ├─ build/\n│  │  ├─ classes/\n│  │  │  ├─ new_folder/\n│  │  │  │  ├─ main/\n│  │  │  │  ├─ test/  #I Don't Want This Here, This Classes Do Not Need To Be Accessible\n│  │  ├─ generated/\n│  │  ├─ libs/\n│  │  ├─ reports/\n│  │  ├─ resources/\n│  │  │  ├─ test/  #Would rather not have this entire folder\n│  │  │  │  ├─ com.project.tools/\n│  │  │  │  ├─ test.properties  # Definitely Do Not Want This Included\n│  │  ├─ test-results/\n│  │  ├─ tmp/\n│  ├─ src/\n│  │  ├─ main/\n│  │  │  ├─ java/\n│  │  │  │  ├─ com.project.tools/\n│  │  │  │  │  ├─ MyClasses.java\n│  │  │  ├─ resources/\n│  │  ├─ test/\n│  │  │  ├─ java/\n│  │  │  │  ├─ com.project.tools/\n│  │  │  │  │  ├─ MyTestClasses.java\n│  │  │  ├─ resources/\n│  ├─ build.gradle\n\n</code></pre>\n"},{"tags":["java","performance","final"],"comments":[{"owner":{"account_id":122494,"reputation":14696,"user_id":316343,"accept_rate":62,"display_name":"Jahan Zinedine"},"score":0,"creation_date":1290705060,"post_id":4279420,"comment_id":4640876,"body_markdown":"I don&#39;t think so pal, method dispatching(call site caching and ...) is an issue in dynamic languages not in static type languages","body":"I don&#39;t think so pal, method dispatching(call site caching and ...) is an issue in dynamic languages not in static type languages"},{"owner":{"account_id":114391,"reputation":6296,"user_id":300829,"accept_rate":59,"display_name":"Abhishek Jain"},"score":0,"creation_date":1290705464,"post_id":4279420,"comment_id":4640946,"body_markdown":"If I run my PMD tool (plugin to eclipse) used for reviewing purpose, it suggest to make changes for variable in case as shown above. But I did not understand its concept. Really the performance hits so much??","body":"If I run my PMD tool (plugin to eclipse) used for reviewing purpose, it suggest to make changes for variable in case as shown above. But I did not understand its concept. Really the performance hits so much??"},{"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"score":5,"creation_date":1290715029,"post_id":4279420,"comment_id":4642319,"body_markdown":"I thought this was a typical exam question. I remember that final *does* have influence on performance, IIRC final classes can be optimized by the JRE in some way because they cannot be subclassed.","body":"I thought this was a typical exam question. I remember that final <i>does</i> have influence on performance, IIRC final classes can be optimized by the JRE in some way because they cannot be subclassed."},{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":0,"creation_date":1391187147,"post_id":4279420,"comment_id":32429856,"body_markdown":"I actually had this tested. On all JVMs I tested the use of final on local variables *did* improve performance (slightly, but nevertheless can be a factor in utility methods). The source code is in my answer below.","body":"I actually had this tested. On all JVMs I tested the use of final on local variables <i>did</i> improve performance (slightly, but nevertheless can be a factor in utility methods). The source code is in my answer below."},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1440831069,"post_id":4279420,"comment_id":52444988,"body_markdown":"When doing performance checks, it&#39;s best to use a tool like Caliper for microbenchmarks.","body":"When doing performance checks, it&#39;s best to use a tool like Caliper for microbenchmarks."},{"owner":{"account_id":5625118,"reputation":56,"user_id":4453786,"display_name":"Ivan Zaitsau"},"score":0,"creation_date":1479679249,"post_id":4279420,"comment_id":68647831,"body_markdown":"The only case where performance gains of using final are significant enough to bother about is: you have some really small method like &#39;long xor(long v1, long v2) {return v1^v2;};&#39; which on other hand takes significant portion of cpu time. By marking v1 and v2 as final you avoid unnecessary copying of these variables (which, obviously, takes more time than operation itself)","body":"The only case where performance gains of using final are significant enough to bother about is: you have some really small method like &#39;long xor(long v1, long v2) {return v1^v2;};&#39; which on other hand takes significant portion of cpu time. By marking v1 and v2 as final you avoid unnecessary copying of these variables (which, obviously, takes more time than operation itself)"},{"owner":{"account_id":5625118,"reputation":56,"user_id":4453786,"display_name":"Ivan Zaitsau"},"score":0,"creation_date":1479679835,"post_id":4279420,"comment_id":68648011,"body_markdown":"And even in the case written above HotSpot usually makes such methods &quot;inline&quot;","body":"And even in the case written above HotSpot usually makes such methods &quot;inline&quot;"},{"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"score":3,"creation_date":1513120638,"post_id":4279420,"comment_id":82527624,"body_markdown":"&quot;premature optimization is the root of all evil&quot;. Just let the compiler do its work. Write readable and good commented code. That&#39;s always the best choice!","body":"&quot;premature optimization is the root of all evil&quot;. Just let the compiler do its work. Write readable and good commented code. That&#39;s always the best choice!"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":327,"is_accepted":true,"score":326,"last_activity_date":1290706555,"creation_date":1290705101,"answer_id":4279442,"question_id":4279420,"body_markdown":"Usually not. For virtual methods, HotSpot keeps track of whether the method has *actually* been overridden, and is able to perform optimizations such as inlining on the *assumption* that a method hasn&#39;t been overridden - until it loads a class which overrides the method, at which point it can undo (or partially undo) those optimizations.\r\n\r\n(Of course, this is assuming you&#39;re using HotSpot - but it&#39;s by far the most common JVM, so...)\r\n\r\nTo my mind you should use `final` based on clear design and readability rather than for performance reasons. If you want to change anything for performance reasons, you should perform appropriate measurements before bending the clearest code out of shape - that way you can decide whether any extra performance achieved is worth the poorer readability/design. (In my experience it&#39;s almost never worth it; YMMV.)\r\n\r\nEDIT: As final fields have been mentioned, it&#39;s worth bringing up that they are often a good idea anyway, in terms of clear design. They also change the guaranteed behaviour in terms of cross-thread visibility: after a constructor has completed, any final fields are guaranteed to be visible in other threads immediately. This is probably the most common use of `final` in my experience, although as a supporter of Josh Bloch&#39;s &quot;design for inheritance or prohibit it&quot; rule of thumb, I should probably use `final` more often for classes...","title":"Does use of final keyword in Java improve the performance?","body":"<p>Usually not. For virtual methods, HotSpot keeps track of whether the method has <em>actually</em> been overridden, and is able to perform optimizations such as inlining on the <em>assumption</em> that a method hasn't been overridden - until it loads a class which overrides the method, at which point it can undo (or partially undo) those optimizations.</p>\n\n<p>(Of course, this is assuming you're using HotSpot - but it's by far the most common JVM, so...)</p>\n\n<p>To my mind you should use <code>final</code> based on clear design and readability rather than for performance reasons. If you want to change anything for performance reasons, you should perform appropriate measurements before bending the clearest code out of shape - that way you can decide whether any extra performance achieved is worth the poorer readability/design. (In my experience it's almost never worth it; YMMV.)</p>\n\n<p>EDIT: As final fields have been mentioned, it's worth bringing up that they are often a good idea anyway, in terms of clear design. They also change the guaranteed behaviour in terms of cross-thread visibility: after a constructor has completed, any final fields are guaranteed to be visible in other threads immediately. This is probably the most common use of <code>final</code> in my experience, although as a supporter of Josh Bloch's \"design for inheritance or prohibit it\" rule of thumb, I should probably use <code>final</code> more often for classes...</p>\n"},{"tags":[],"owner":{"account_id":68445,"reputation":5675,"user_id":199684,"accept_rate":91,"display_name":"wmitchell"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1290705248,"creation_date":1290705248,"answer_id":4279469,"question_id":4279420,"body_markdown":"According to IBM - it doesnt for classes or methods.\r\n\r\nhttp://www.ibm.com/developerworks/java/library/j-jtp04223.html","title":"Does use of final keyword in Java improve the performance?","body":"<p>According to IBM - it doesnt for classes or methods.</p>\n\n<p><a href=\"http://www.ibm.com/developerworks/java/library/j-jtp04223.html\" rel=\"noreferrer\">http://www.ibm.com/developerworks/java/library/j-jtp04223.html</a></p>\n"},{"tags":[],"owner":{"account_id":214817,"reputation":2991,"user_id":469026,"accept_rate":70,"display_name":"Neowizard"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1290705410,"creation_date":1290705410,"answer_id":4279486,"question_id":4279420,"body_markdown":"*Note: Not a java expert*\r\n\r\nIf I remember my java correctly, there would be very little way to improve performance using the final keyword. \r\nI&#39;ve always known it to exist for &quot;good code&quot; - design and readability. ","title":"Does use of final keyword in Java improve the performance?","body":"<p><em>Note: Not a java expert</em></p>\n\n<p>If I remember my java correctly, there would be very little way to improve performance using the final keyword. \nI've always known it to exist for \"good code\" - design and readability. </p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1290705555,"creation_date":1290705555,"answer_id":4279507,"question_id":4279420,"body_markdown":"You are really asking about two (at least) different cases:\r\n\r\n 1. `final` for local variables\r\n 2. `final` for methods/classes\r\n\r\nJon Skeet has already answered 2). About 1):\r\n\r\nI don&#39;t think it makes a difference; for local variables, the compiler can deduce whether the variable is final or not (simply by checking whether it is assigned more than once). So if the compiler wanted to optimize variables that are only assigned once, it can do so no matter whether the variable is actually declared `final` or not.\r\n\r\n`final` *might* make a difference for protected/public class fields; there it&#39;s very difficult for the compiler to find out if the field is being set more than once, as it could happen from a different class (which may not even have been loaded). But even then the JVM could use the technique Jon describes (optimize optimistically, revert if a class is loaded which does change the field).\r\n\r\nIn summary, I don&#39;t see any reason why it should help performance.\r\nSo this kind of micro-optimization is unlikely to help. You could try benchmarking it to make sure, but I doubt it will make a difference.\r\n\r\n*Edit:*\r\n\r\nActually, according to Timo Westk&#228;mper&#39;s answer, `final` *can* improve performance for class fields in some cases. I stand corrected.","title":"Does use of final keyword in Java improve the performance?","body":"<p>You are really asking about two (at least) different cases:</p>\n\n<ol>\n<li><code>final</code> for local variables</li>\n<li><code>final</code> for methods/classes</li>\n</ol>\n\n<p>Jon Skeet has already answered 2). About 1):</p>\n\n<p>I don't think it makes a difference; for local variables, the compiler can deduce whether the variable is final or not (simply by checking whether it is assigned more than once). So if the compiler wanted to optimize variables that are only assigned once, it can do so no matter whether the variable is actually declared <code>final</code> or not.</p>\n\n<p><code>final</code> <em>might</em> make a difference for protected/public class fields; there it's very difficult for the compiler to find out if the field is being set more than once, as it could happen from a different class (which may not even have been loaded). But even then the JVM could use the technique Jon describes (optimize optimistically, revert if a class is loaded which does change the field).</p>\n\n<p>In summary, I don't see any reason why it should help performance.\nSo this kind of micro-optimization is unlikely to help. You could try benchmarking it to make sure, but I doubt it will make a difference.</p>\n\n<p><em>Edit:</em></p>\n\n<p>Actually, according to Timo Westkämper's answer, <code>final</code> <em>can</em> improve performance for class fields in some cases. I stand corrected.</p>\n"},{"tags":[],"owner":{"account_id":92109,"reputation":44036,"user_id":252591,"accept_rate":64,"display_name":"Crozin"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1290705737,"creation_date":1290705737,"answer_id":4279527,"question_id":4279420,"body_markdown":"I&#39;m not an expert but I suppose you should add `final` keyword to the class or method if it won&#39;t be overwritten and leave variables alone. If there will be any way to optimize such things the compiler will do that for you.","title":"Does use of final keyword in Java improve the performance?","body":"<p>I'm not an expert but I suppose you should add <code>final</code> keyword to the class or method if it won't be overwritten and leave variables alone. If there will be any way to optimize such things the compiler will do that for you.</p>\n"},{"tags":[],"owner":{"account_id":1798955,"reputation":19,"user_id":1637720,"display_name":"adityaraj"},"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1396002123,"creation_date":1346388112,"answer_id":12209028,"question_id":4279420,"body_markdown":"`final` keyword can be used in five ways in Java.\r\n\r\n 1. A class is final\r\n 2. A reference variable is final\r\n 3. A local variable is final\r\n 4. A method is final\r\n\r\n\r\nA class is final: a class is final means we cannot be extended or inheritance means inheritance is not possible.\r\n\r\nSimilarly - A object is final: some time we does not modified the internal state of object so in such case we can specify the object is final object.object final means not variable also final.\r\n\r\nOnce reference variable is made final, it cannot be reassigned to other object. But can change the contents of the object as long as its fields are not final\r\n\r\n\r\n","title":"Does use of final keyword in Java improve the performance?","body":"<p><code>final</code> keyword can be used in five ways in Java.</p>\n\n<ol>\n<li>A class is final</li>\n<li>A reference variable is final</li>\n<li>A local variable is final</li>\n<li>A method is final</li>\n</ol>\n\n<p>A class is final: a class is final means we cannot be extended or inheritance means inheritance is not possible.</p>\n\n<p>Similarly - A object is final: some time we does not modified the internal state of object so in such case we can specify the object is final object.object final means not variable also final.</p>\n\n<p>Once reference variable is made final, it cannot be reassigned to other object. But can change the contents of the object as long as its fields are not final</p>\n"},{"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"down_vote_count":4,"up_vote_count":91,"is_accepted":false,"score":87,"last_activity_date":1613702374,"creation_date":1372311189,"answer_id":17335215,"question_id":4279420,"body_markdown":"**YES it can. Here is an instance where final can boost performance:**\r\n\r\n**Conditional compilation** is a technique in which lines of code are not compiled into the class file based on a particular condition. This can be used to remove tons of debugging code in a production build. \r\n\r\nconsider the following:\r\n\r\n    public class ConditionalCompile {\r\n    \r\n      private final static boolean doSomething= false;\r\n    \r\n        if (doSomething) {\r\n           // do first part. \r\n        }\r\n    \r\n        if (doSomething) {\r\n         // do second part. \r\n        }\r\n    \r\n        if (doSomething) {     \r\n          // do third part. \r\n        }\r\n    \r\n        if (doSomething) {\r\n        // do finalization part. \r\n        }\r\n    }\r\n\r\nBy converting the doSomething attribute into a final attribute, you have told the compiler that whenever it sees doSomething, it should replace it with false as per the compile-time substitution rules. The first pass of the compiler changes the code to *something* like this:\r\n\r\n\r\n    public class ConditionalCompile {\r\n    \r\n      private final static boolean doSomething= false;\r\n    \r\n        if (false){\r\n           // do first part. \r\n        }\r\n    \r\n        if (false){\r\n         // do second part. \r\n        }\r\n     \r\n        if (false){\r\n          // do third part. \r\n        }\r\n       \r\n        if (false){\r\n        // do finalization part. \r\n    \r\n        }\r\n    }\r\n\r\nOnce this is done, the compiler takes another look at it and sees that there are unreachable statements in the code. Since you are working with a top-quality compiler, it doesn&#39;t like all those unreachable byte codes. So it removes them, and you end up with this:\r\n\r\n\r\n    public class ConditionalCompile {\r\n    \r\n    \r\n      private final static boolean doSomething= false;\r\n    \r\n      public static void someMethodBetter( ) {\r\n    \r\n        // do first part. \r\n    \r\n        // do second part. \r\n    \r\n        // do third part. \r\n    \r\n        // do finalization part. \r\n    \r\n      }\r\n    }\r\n\r\n**thus reducing any excessive codes, or any unnecessary conditional checking.**\r\n\r\nEdit:\r\nAs an example, let&#39;s take the following code:\r\n\r\n    public class Test {\r\n    \tpublic static final void main(String[] args) {\r\n    \t\tboolean x = false;\r\n    \t\tif (x) {\r\n    \t\t\tSystem.out.println(&quot;x&quot;);\r\n    \t\t}\r\n    \t\tfinal boolean y = false;\r\n    \t\tif (y) {\r\n    \t\t\tSystem.out.println(&quot;y&quot;);\r\n    \t\t}\r\n    \t\tif (false) {\r\n    \t\t\tSystem.out.println(&quot;z&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWhen compiling this code with Java 8 and decompiling with `javap -c Test.class` we get:\r\n\r\n    public class Test {\r\n      public Test();\r\n        Code:\r\n           0: aload_0\r\n           1: invokespecial #8                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n           4: return\r\n    \r\n      public static final void main(java.lang.String[]);\r\n        Code:\r\n           0: iconst_0\r\n           1: istore_1\r\n           2: iload_1\r\n           3: ifeq          14\r\n           6: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n           9: ldc           #22                 // String x\r\n          11: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n          14: iconst_0\r\n          15: istore_2\r\n          16: return\r\n    }\r\n\r\nWe can note that compiled code includes only the non-final variable `x`.\r\nThis prooves that final variables have impact on performances, at least for this simple case.","title":"Does use of final keyword in Java improve the performance?","body":"<p><strong>YES it can. Here is an instance where final can boost performance:</strong></p>\n<p><strong>Conditional compilation</strong> is a technique in which lines of code are not compiled into the class file based on a particular condition. This can be used to remove tons of debugging code in a production build.</p>\n<p>consider the following:</p>\n<pre><code>public class ConditionalCompile {\n\n  private final static boolean doSomething= false;\n\n    if (doSomething) {\n       // do first part. \n    }\n\n    if (doSomething) {\n     // do second part. \n    }\n\n    if (doSomething) {     \n      // do third part. \n    }\n\n    if (doSomething) {\n    // do finalization part. \n    }\n}\n</code></pre>\n<p>By converting the doSomething attribute into a final attribute, you have told the compiler that whenever it sees doSomething, it should replace it with false as per the compile-time substitution rules. The first pass of the compiler changes the code to <em>something</em> like this:</p>\n<pre><code>public class ConditionalCompile {\n\n  private final static boolean doSomething= false;\n\n    if (false){\n       // do first part. \n    }\n\n    if (false){\n     // do second part. \n    }\n \n    if (false){\n      // do third part. \n    }\n   \n    if (false){\n    // do finalization part. \n\n    }\n}\n</code></pre>\n<p>Once this is done, the compiler takes another look at it and sees that there are unreachable statements in the code. Since you are working with a top-quality compiler, it doesn't like all those unreachable byte codes. So it removes them, and you end up with this:</p>\n<pre><code>public class ConditionalCompile {\n\n\n  private final static boolean doSomething= false;\n\n  public static void someMethodBetter( ) {\n\n    // do first part. \n\n    // do second part. \n\n    // do third part. \n\n    // do finalization part. \n\n  }\n}\n</code></pre>\n<p><strong>thus reducing any excessive codes, or any unnecessary conditional checking.</strong></p>\n<p>Edit:\nAs an example, let's take the following code:</p>\n<pre><code>public class Test {\n    public static final void main(String[] args) {\n        boolean x = false;\n        if (x) {\n            System.out.println(&quot;x&quot;);\n        }\n        final boolean y = false;\n        if (y) {\n            System.out.println(&quot;y&quot;);\n        }\n        if (false) {\n            System.out.println(&quot;z&quot;);\n        }\n    }\n}\n</code></pre>\n<p>When compiling this code with Java 8 and decompiling with <code>javap -c Test.class</code> we get:</p>\n<pre><code>public class Test {\n  public Test();\n    Code:\n       0: aload_0\n       1: invokespecial #8                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static final void main(java.lang.String[]);\n    Code:\n       0: iconst_0\n       1: istore_1\n       2: iload_1\n       3: ifeq          14\n       6: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\n       9: ldc           #22                 // String x\n      11: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      14: iconst_0\n      15: istore_2\n      16: return\n}\n</code></pre>\n<p>We can note that compiled code includes only the non-final variable <code>x</code>.\nThis prooves that final variables have impact on performances, at least for this simple case.</p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":5,"up_vote_count":118,"is_accepted":false,"score":113,"last_activity_date":1530798763,"creation_date":1391186263,"answer_id":21485260,"question_id":4279420,"body_markdown":"Short answer: don&#39;t worry about it!\r\n\r\nLong answer:\r\n\r\nWhen talking about *final local variables* keep in mind that using the keyword `final` will help the compiler optimize the code *statically*, which may in the end result in faster code. For example, the final Strings `a + b` in the example below are concatenated statically (at compile time).\r\n\r\n    public class FinalTest {\r\n    \r\n    \tpublic static final int N_ITERATIONS = 1000000;\r\n    \r\n    \tpublic static String testFinal() {\r\n    \t\tfinal String a = &quot;a&quot;;\r\n    \t\tfinal String b = &quot;b&quot;;\r\n    \t\treturn a + b;\r\n    \t}\r\n    \r\n    \tpublic static String testNonFinal() {\r\n    \t\tString a = &quot;a&quot;;\r\n    \t\tString b = &quot;b&quot;;\r\n    \t\treturn a + b;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlong tStart, tElapsed;\r\n    \r\n    \t\ttStart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; N_ITERATIONS; i++)\r\n    \t\t\ttestFinal();\r\n    \t\ttElapsed = System.currentTimeMillis() - tStart;\r\n    \t\tSystem.out.println(&quot;Method with finals took &quot; + tElapsed + &quot; ms&quot;);\r\n\r\n    \t\ttStart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; N_ITERATIONS; i++)\r\n    \t\t\ttestNonFinal();\r\n    \t\ttElapsed = System.currentTimeMillis() - tStart;\r\n    \t\tSystem.out.println(&quot;Method without finals took &quot; + tElapsed + &quot; ms&quot;);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThe result?\r\n\r\n    Method with finals took 5 ms\r\n    Method without finals took 273 ms\r\n\r\nTested on Java Hotspot VM 1.7.0_45-b18.\r\n\r\nSo how much is the actual performance improvement? I don&#39;t dare say. In most cases probably marginal (~270 nanoseconds in this synthetic test because the string concatenation is avoided altogether - a rare case), but in highly optimized utility code it *might* be a factor. In any case the answer to the original question is *yes, it might improve performance, but marginally at best*.\r\n\r\nCompile-time benefits aside, I could not find any evidence that the use of the keyword `final` has any measurable effect on performance.","title":"Does use of final keyword in Java improve the performance?","body":"<p>Short answer: don't worry about it!</p>\n\n<p>Long answer:</p>\n\n<p>When talking about <em>final local variables</em> keep in mind that using the keyword <code>final</code> will help the compiler optimize the code <em>statically</em>, which may in the end result in faster code. For example, the final Strings <code>a + b</code> in the example below are concatenated statically (at compile time).</p>\n\n<pre><code>public class FinalTest {\n\n    public static final int N_ITERATIONS = 1000000;\n\n    public static String testFinal() {\n        final String a = \"a\";\n        final String b = \"b\";\n        return a + b;\n    }\n\n    public static String testNonFinal() {\n        String a = \"a\";\n        String b = \"b\";\n        return a + b;\n    }\n\n    public static void main(String[] args) {\n        long tStart, tElapsed;\n\n        tStart = System.currentTimeMillis();\n        for (int i = 0; i &lt; N_ITERATIONS; i++)\n            testFinal();\n        tElapsed = System.currentTimeMillis() - tStart;\n        System.out.println(\"Method with finals took \" + tElapsed + \" ms\");\n\n        tStart = System.currentTimeMillis();\n        for (int i = 0; i &lt; N_ITERATIONS; i++)\n            testNonFinal();\n        tElapsed = System.currentTimeMillis() - tStart;\n        System.out.println(\"Method without finals took \" + tElapsed + \" ms\");\n\n    }\n\n}\n</code></pre>\n\n<p>The result?</p>\n\n<pre><code>Method with finals took 5 ms\nMethod without finals took 273 ms\n</code></pre>\n\n<p>Tested on Java Hotspot VM 1.7.0_45-b18.</p>\n\n<p>So how much is the actual performance improvement? I don't dare say. In most cases probably marginal (~270 nanoseconds in this synthetic test because the string concatenation is avoided altogether - a rare case), but in highly optimized utility code it <em>might</em> be a factor. In any case the answer to the original question is <em>yes, it might improve performance, but marginally at best</em>.</p>\n\n<p>Compile-time benefits aside, I could not find any evidence that the use of the keyword <code>final</code> has any measurable effect on performance.</p>\n"},{"tags":[],"owner":{"account_id":4506691,"reputation":209,"user_id":3663845,"display_name":"user3663845"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1426367837,"creation_date":1426367090,"answer_id":29054188,"question_id":4279420,"body_markdown":"Actually, while testing some OpenGL-related code, I found that using the final modifier on a private field can **degrade** performance. Here is the start of the class I tested:\r\n\r\n    public class ShaderInput {\r\n\r\n        private /* final */ float[] input;\r\n\t    private /* final */ int[] strides;\r\n\r\n\r\n        public ShaderInput()\r\n        {\r\n            this.input = new float[10];\r\n            this.strides = new int[] { 0, 4, 8 };\r\n        }\r\n\r\n\r\n        public ShaderInput x(int stride, float val)\r\n        {\r\n            input[strides[stride] + 0] = val;\r\n            return this;\r\n        }\r\n\r\n        // more stuff ...\r\n\r\n\r\n\r\nAnd this is the method I used to test the performance of various alternatives, amongst which the ShaderInput class:\r\n\r\n\tpublic static void test4()\r\n\t{\r\n\t\tint arraySize = 10;\r\n\t\tfloat[] fb = new float[arraySize];\r\n\t\tfor (int i = 0; i &lt; arraySize; i++) {\r\n\t\t\tfb[i] = random.nextFloat();\r\n\t\t}\r\n\t\tint times = 1000000000;\r\n\t\tfor (int i = 0; i &lt; 10; ++i) {\r\n\t\t\tfloatVectorTest(times, fb);\r\n\t\t\tarrayCopyTest(times, fb);\r\n\t\t\tshaderInputTest(times, fb);\r\n\t\t\tdirectFloatArrayTest(times, fb);\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.gc();\r\n\t\t}\r\n\t}\r\n\r\n\r\nAfter the 3rd iteration, with the VM warmed up, I consistently got these figures **without** the final key word:\r\n\r\n    Simple array copy took   : 02.64\r\n    System.arrayCopy took    : 03.20\r\n    ShaderInput took         : 00.77\r\n    Unsafe float array took  : 05.47\r\n\r\n**With** the final keyword:\r\n\r\n    Simple array copy took   : 02.66\r\n    System.arrayCopy took    : 03.20\r\n    ShaderInput took         : 02.59\r\n    Unsafe float array took  : 06.24\r\n\r\nNote the figures for the ShaderInput test.\r\n\r\nIt didn&#39;t matter whether I made the fields public or private.\r\n\r\nIncidentally, there are a few more baffling things. The ShaderInput class outperforms all other variants, even with the final keyword. This is remarkable b/c it basically is a class wrapping a float array, while the other tests **directly** manipulate the array. Have to figure this one out. May have something to do with ShaderInput&#39;s fluent interface.\r\n\r\nAlso System.arrayCopy actually apparently is somewhat slower for small arrays than simply copying elements from one array to the other in a for loop. And using sun.misc.Unsafe (as well as direct java.nio.FloatBuffer, not shown here) performs abysmally.\r\n","title":"Does use of final keyword in Java improve the performance?","body":"<p>Actually, while testing some OpenGL-related code, I found that using the final modifier on a private field can <strong>degrade</strong> performance. Here is the start of the class I tested:</p>\n\n<pre><code>public class ShaderInput {\n\n    private /* final */ float[] input;\n    private /* final */ int[] strides;\n\n\n    public ShaderInput()\n    {\n        this.input = new float[10];\n        this.strides = new int[] { 0, 4, 8 };\n    }\n\n\n    public ShaderInput x(int stride, float val)\n    {\n        input[strides[stride] + 0] = val;\n        return this;\n    }\n\n    // more stuff ...\n</code></pre>\n\n<p>And this is the method I used to test the performance of various alternatives, amongst which the ShaderInput class:</p>\n\n<pre><code>public static void test4()\n{\n    int arraySize = 10;\n    float[] fb = new float[arraySize];\n    for (int i = 0; i &lt; arraySize; i++) {\n        fb[i] = random.nextFloat();\n    }\n    int times = 1000000000;\n    for (int i = 0; i &lt; 10; ++i) {\n        floatVectorTest(times, fb);\n        arrayCopyTest(times, fb);\n        shaderInputTest(times, fb);\n        directFloatArrayTest(times, fb);\n        System.out.println();\n        System.gc();\n    }\n}\n</code></pre>\n\n<p>After the 3rd iteration, with the VM warmed up, I consistently got these figures <strong>without</strong> the final key word:</p>\n\n<pre><code>Simple array copy took   : 02.64\nSystem.arrayCopy took    : 03.20\nShaderInput took         : 00.77\nUnsafe float array took  : 05.47\n</code></pre>\n\n<p><strong>With</strong> the final keyword:</p>\n\n<pre><code>Simple array copy took   : 02.66\nSystem.arrayCopy took    : 03.20\nShaderInput took         : 02.59\nUnsafe float array took  : 06.24\n</code></pre>\n\n<p>Note the figures for the ShaderInput test.</p>\n\n<p>It didn't matter whether I made the fields public or private.</p>\n\n<p>Incidentally, there are a few more baffling things. The ShaderInput class outperforms all other variants, even with the final keyword. This is remarkable b/c it basically is a class wrapping a float array, while the other tests <strong>directly</strong> manipulate the array. Have to figure this one out. May have something to do with ShaderInput's fluent interface.</p>\n\n<p>Also System.arrayCopy actually apparently is somewhat slower for small arrays than simply copying elements from one array to the other in a for loop. And using sun.misc.Unsafe (as well as direct java.nio.FloatBuffer, not shown here) performs abysmally.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1600828580,"creation_date":1521669741,"answer_id":49417253,"question_id":4279420,"body_markdown":"I am amazed that no one has actually posted some real code that is de-compiled to prove that there is at least some minor difference.\r\n\r\n For the reference this has been tested against `javac` version `8`, `9` and `10`.\r\n\r\nSuppose this method:\r\n\r\n    public static int test() {\r\n        /* final */ Object left = new Object();\r\n        Object right = new Object();\r\n\r\n        return left.hashCode() + right.hashCode();\r\n    }\r\n\r\n\r\nCompiling this code as it is, produces the *exact* same byte code as when `final` would have been present (`final Object left = new Object();`).\r\n\r\nBut this one:\r\n\r\n    public static int test() {\r\n        /* final */ int left = 11;\r\n        int right = 12;\r\n        return left + right;\r\n    }\r\n\r\nProduces:\r\n\r\n       0: bipush        11\r\n       2: istore_0\r\n       3: bipush        12\r\n       5: istore_1\r\n       6: iload_0\r\n       7: iload_1\r\n       8: iadd\r\n       9: ireturn\r\n\r\nLeaving `final` to be present produces:\r\n\r\n\r\n       0: bipush        12\r\n       2: istore_1\r\n       3: bipush        11\r\n       5: iload_1\r\n       6: iadd\r\n       7: ireturn\r\n \r\nThe code is pretty much self-explanatory, in case there is a compile time constant, it will be loaded directly onto the operand stack (it will not be stored into local variables array like the previous example does via `bipush 12; istore_0; iload_0`) - which sort of makes sense since no one can change it. \r\n\r\nOn the other hand why in the second case the compiler does not produce `istore_0 ... iload_0` is beyond me, it&#39;s not like that slot `0` is used in any way (it could shrink the variables array this way, but may be Im missing some internals details, can&#39;t tell for sure)\r\n\r\nI was surprised to see such an optimization, considering how little ones `javac` does. As to should we always use `final`? I&#39;m not even going to write a `JMH` test (which I wanted to initially), I am sure that the diff is in the order of `ns` (if possible to be captured at all). The only place this could be a problem, is when a method could not be inlined because of it&#39;s size (and declaring `final` would shrink that size by a few bytes).  \r\n\r\nThere are two more `final`s that need to be addressed. First is when a method is `final` (from a `JIT` perspective), such a method is *monomorphic* - and these are [the most beloved][1] ones by the `JVM`.\r\n\r\nThen there are `final` instance variables (that must be set in every constructor); these are important as they will guarantee a correctly published reference, [as touched a bit here][2] and also specified exactly by the `JLS`.  \r\n\r\n\r\n---\r\n\r\nThat being said : there is one more thing that is invisible to every single answer here: `garbage collection`. It is going to take a lot of time to explain, but when you _read_ a variable, a `GC` has a so-called `barrier` for that read. Every `aload` and `getField` is &quot;protected&quot; via such a barrier, [a lot more details here][3]. In theory, `final` fields do not need such a &quot;protection&quot; (they can skip the barrier entirely). So if a GC does that - `final` will improve performance. \r\n\r\n\r\n  [1]: https://shipilev.net/jvm-anatomy-park/16-megamorphic-virtual-calls/\r\n  [2]: https://stackoverflow.com/a/45161526/1059372\r\n  [3]: https://stackoverflow.com/questions/14435354/how-does-a-copying-garbage-collector-ensure-objects-are-not-accessed-while-copie/59141618#59141618","title":"Does use of final keyword in Java improve the performance?","body":"<p>I am amazed that no one has actually posted some real code that is de-compiled to prove that there is at least some minor difference.</p>\n<p>For the reference this has been tested against <code>javac</code> version <code>8</code>, <code>9</code> and <code>10</code>.</p>\n<p>Suppose this method:</p>\n<pre><code>public static int test() {\n    /* final */ Object left = new Object();\n    Object right = new Object();\n\n    return left.hashCode() + right.hashCode();\n}\n</code></pre>\n<p>Compiling this code as it is, produces the <em>exact</em> same byte code as when <code>final</code> would have been present (<code>final Object left = new Object();</code>).</p>\n<p>But this one:</p>\n<pre><code>public static int test() {\n    /* final */ int left = 11;\n    int right = 12;\n    return left + right;\n}\n</code></pre>\n<p>Produces:</p>\n<pre><code>   0: bipush        11\n   2: istore_0\n   3: bipush        12\n   5: istore_1\n   6: iload_0\n   7: iload_1\n   8: iadd\n   9: ireturn\n</code></pre>\n<p>Leaving <code>final</code> to be present produces:</p>\n<pre><code>   0: bipush        12\n   2: istore_1\n   3: bipush        11\n   5: iload_1\n   6: iadd\n   7: ireturn\n</code></pre>\n<p>The code is pretty much self-explanatory, in case there is a compile time constant, it will be loaded directly onto the operand stack (it will not be stored into local variables array like the previous example does via <code>bipush 12; istore_0; iload_0</code>) - which sort of makes sense since no one can change it.</p>\n<p>On the other hand why in the second case the compiler does not produce <code>istore_0 ... iload_0</code> is beyond me, it's not like that slot <code>0</code> is used in any way (it could shrink the variables array this way, but may be Im missing some internals details, can't tell for sure)</p>\n<p>I was surprised to see such an optimization, considering how little ones <code>javac</code> does. As to should we always use <code>final</code>? I'm not even going to write a <code>JMH</code> test (which I wanted to initially), I am sure that the diff is in the order of <code>ns</code> (if possible to be captured at all). The only place this could be a problem, is when a method could not be inlined because of it's size (and declaring <code>final</code> would shrink that size by a few bytes).</p>\n<p>There are two more <code>final</code>s that need to be addressed. First is when a method is <code>final</code> (from a <code>JIT</code> perspective), such a method is <em>monomorphic</em> - and these are <a href=\"https://shipilev.net/jvm-anatomy-park/16-megamorphic-virtual-calls/\" rel=\"noreferrer\">the most beloved</a> ones by the <code>JVM</code>.</p>\n<p>Then there are <code>final</code> instance variables (that must be set in every constructor); these are important as they will guarantee a correctly published reference, <a href=\"https://stackoverflow.com/a/45161526/1059372\">as touched a bit here</a> and also specified exactly by the <code>JLS</code>.</p>\n<hr />\n<p>That being said : there is one more thing that is invisible to every single answer here: <code>garbage collection</code>. It is going to take a lot of time to explain, but when you <em>read</em> a variable, a <code>GC</code> has a so-called <code>barrier</code> for that read. Every <code>aload</code> and <code>getField</code> is &quot;protected&quot; via such a barrier, <a href=\"https://stackoverflow.com/questions/14435354/how-does-a-copying-garbage-collector-ensure-objects-are-not-accessed-while-copie/59141618#59141618\">a lot more details here</a>. In theory, <code>final</code> fields do not need such a &quot;protection&quot; (they can skip the barrier entirely). So if a GC does that - <code>final</code> will improve performance.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579830218,"creation_date":1579830218,"answer_id":59889384,"question_id":4279420,"body_markdown":"Final (At least for member variables and parameters) is more for humans then it is for the machine.\r\n\r\nIt&#39;s good practice to make variables final wherever possible.  I wish Java had made &quot;variables&quot; final by default and had a &quot;Mutable&quot; keyword to allow changes.  Immutable classes lead to much better threaded code, and just glancing at a class with &quot;final&quot; in front of each member will quickly show it to be immutable.\r\n\r\nAnother case--I&#39;ve been converting a lot of code to use @NonNull/@Nullable annotations (You can say a method parameter must not be null then the IDE can warn you every place you pass a variable that isn&#39;t tagged @NonNull--the whole thing spreads to a ridiculous degree).  It&#39;s much easier to prove a member variable or parameter can&#39;t be null when it&#39;s tagged final since you know it&#39;s not being re-assigned anywhere else.\r\n\r\nMy suggestion is to get in the habit of applying final for members and parameters by default, It&#39;s just a few characters but will nudge you towards improving your coding style if nothing else.\r\n\r\nFinal for methods or classes is another concept since it disallows a very valid form of reuse and doesn&#39;t really tell the reader much.  The best use is probably the way they made String and the other intrinsic types final so you could rely on consistent behavior everywhere--That prevented a lot of bugs (although there are times I would have LOVED to extend string.... oh the possibilities)","title":"Does use of final keyword in Java improve the performance?","body":"<p>Final (At least for member variables and parameters) is more for humans then it is for the machine.</p>\n\n<p>It's good practice to make variables final wherever possible.  I wish Java had made \"variables\" final by default and had a \"Mutable\" keyword to allow changes.  Immutable classes lead to much better threaded code, and just glancing at a class with \"final\" in front of each member will quickly show it to be immutable.</p>\n\n<p>Another case--I've been converting a lot of code to use @NonNull/@Nullable annotations (You can say a method parameter must not be null then the IDE can warn you every place you pass a variable that isn't tagged @NonNull--the whole thing spreads to a ridiculous degree).  It's much easier to prove a member variable or parameter can't be null when it's tagged final since you know it's not being re-assigned anywhere else.</p>\n\n<p>My suggestion is to get in the habit of applying final for members and parameters by default, It's just a few characters but will nudge you towards improving your coding style if nothing else.</p>\n\n<p>Final for methods or classes is another concept since it disallows a very valid form of reuse and doesn't really tell the reader much.  The best use is probably the way they made String and the other intrinsic types final so you could rely on consistent behavior everywhere--That prevented a lot of bugs (although there are times I would have LOVED to extend string.... oh the possibilities)</p>\n"},{"tags":[],"owner":{"account_id":18854542,"reputation":56,"user_id":13752845,"display_name":"user13752845"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592264387,"creation_date":1592264387,"answer_id":62398717,"question_id":4279420,"body_markdown":"As mentioned elsewhere, &#39;final&#39; for a local variable, and to a slightly lesser extent a member variable, is more a matter of style.\r\n\r\n&#39;final&#39; is a statement that you intend the variable to not change (i.e., the variable won&#39;t vary!). The compiler can then help you out by complaining if you violate your own constraint.\r\n\r\nI share the sentiment that Java would have been a better language if identifiers (I&#39;m sorry, I just cannot call a non-varying thing a &#39;variable&#39;) were final by default, and required you to explicitly say that they were variables. But having said that, I don&#39;t generally use &#39;final&#39; on local variables that are initialized and never assigned; it just seems too noisy.\r\n\r\n(I do use final on member variables)\r\n\r\n","title":"Does use of final keyword in Java improve the performance?","body":"<p>As mentioned elsewhere, 'final' for a local variable, and to a slightly lesser extent a member variable, is more a matter of style.</p>\n\n<p>'final' is a statement that you intend the variable to not change (i.e., the variable won't vary!). The compiler can then help you out by complaining if you violate your own constraint.</p>\n\n<p>I share the sentiment that Java would have been a better language if identifiers (I'm sorry, I just cannot call a non-varying thing a 'variable') were final by default, and required you to explicitly say that they were variables. But having said that, I don't generally use 'final' on local variables that are initialized and never assigned; it just seems too noisy.</p>\n\n<p>(I do use final on member variables)</p>\n"},{"tags":[],"owner":{"account_id":24239279,"reputation":134,"user_id":18191906,"display_name":"Samanja Cartagena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654236421,"creation_date":1654236421,"answer_id":72485335,"question_id":4279420,"body_markdown":"I cannot say it is uncommon because as far as I know it is the only way of declaring a constant in java. As a javascript developer, I know how important the keyword constant is. If you are working in production level, and you have values that can never be changed even accidentally by other coders, values such as SSN number or even names. Then you have to use the final keyword to declare variables. Sometimes it can be very troublesome if certain classes can be inherited. Because if many people are working in a team someone can inherit a class, extend it and even make changes to the variables and methods of the parent class. This can be stopped with the keyword final because even static variables can be changed unless the final keyword is used. As far as your question is concerned I do not think the final keyword can affect the performance of the code, but it can definitely prevent human errors by making sure that other team members do not accidentally modify anything that needs to remain constant. ","title":"Does use of final keyword in Java improve the performance?","body":"<p>I cannot say it is uncommon because as far as I know it is the only way of declaring a constant in java. As a javascript developer, I know how important the keyword constant is. If you are working in production level, and you have values that can never be changed even accidentally by other coders, values such as SSN number or even names. Then you have to use the final keyword to declare variables. Sometimes it can be very troublesome if certain classes can be inherited. Because if many people are working in a team someone can inherit a class, extend it and even make changes to the variables and methods of the parent class. This can be stopped with the keyword final because even static variables can be changed unless the final keyword is used. As far as your question is concerned I do not think the final keyword can affect the performance of the code, but it can definitely prevent human errors by making sure that other team members do not accidentally modify anything that needs to remain constant.</p>\n"},{"tags":[],"owner":{"account_id":6678507,"reputation":334,"user_id":5152432,"display_name":"Marco Carlo Moriggi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1661874900,"creation_date":1660232778,"answer_id":73323532,"question_id":4279420,"body_markdown":"In Java we make things immutable with the `final` keyword and there are at least 3 ways in which immutability can make some real difference in code performance. Those 3 points have their common origin in making the compiler or the developer doing better assumptions:\r\n\r\n1. More reliable code\r\n2. More performant code\r\n3. More efficient memory allocation and garbage collection\r\n\r\n# More reliable code\r\n\r\nAs stated by many of the other replies and comments, making classes immutable leads to cleaner and more maintainable code, and making objects immutable makes them easier to handle, because they can be in exactly one state, so this translates to easier concurrency and an optimization of the time needed to accomplish tasks.\r\n\r\nFurthermore the compiler warns you about the usage of an uninitialized variable and won&#39;t let you reassign it with a new value.\r\n\r\nIf we talk about method parameters, declaring them `final` would make the compiler complaint if you accidentally use the same name for a variable, or reassign it&#39;s value (making the parameter no more accessible).\r\n\r\n# More performant code\r\n\r\nA simple analysis of the generated bytecode should put the last world to the performance question: using a minimally modified version of the code posted by @rustyx in [his reply](#21485260), you can see that the generated bytecode is different when the compiler knows that objects won&#39;t mutate their value.\r\n\r\nThat&#39;s the code:\r\n\r\n```java\r\npublic class FinalTest {\r\n\r\n    private static final int N_ITERATIONS = 1000000;\r\n\r\n    private static String testFinal() {\r\n        final String a = &quot;a&quot;;\r\n        final String b = &quot;b&quot;;\r\n        return a + b;\r\n    }\r\n\r\n    private static String testNonFinal() {\r\n        String a = &quot;a&quot;;\r\n        String b = &quot;b&quot;;\r\n        return a + b;\r\n    }\r\n\t\r\n\tprivate static String testSomeFinal() {\r\n        final String a = &quot;a&quot;;\r\n        String b = &quot;b&quot;;\r\n        return a + b;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\t\tmeasure(&quot;testFinal&quot;, FinalTest::testFinal);\r\n\t\tmeasure(&quot;testSomeFinal&quot;, FinalTest::testSomeFinal);\r\n\t\tmeasure(&quot;testNonFinal&quot;, FinalTest::testNonFinal);\r\n    }\r\n\t\r\n\tprivate static void measure(String testName, Runnable singleTest){\r\n\t\tfinal long tStart = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; N_ITERATIONS; i++)\r\n            singleTest.run();\r\n        final long tElapsed = System.currentTimeMillis() - tStart;\r\n\t\t\r\n        System.out.printf(&quot;Method %s took %d ms%n&quot;, testName, tElapsed);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\ncompiling it with openjdk17: `javac FinalTest.java`\r\n\r\nthen decompiling: `javap -c -p FinalTest.class`\r\n\r\nlead to this bytecode:\r\n\r\n```bytecode\r\n  private static java.lang.String testFinal();\r\n    Code:\r\n       0: ldc           #7                  // String ab\r\n       2: areturn\r\n\r\n  private static java.lang.String testNonFinal();\r\n    Code:\r\n       0: ldc           #9                  // String a\r\n       2: astore_0\r\n       3: ldc           #11                 // String b\r\n       5: astore_1\r\n       6: aload_0\r\n       7: aload_1\r\n       8: invokedynamic #13,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\r\n      13: areturn\r\n\r\n  private static java.lang.String testSomeFinal();\r\n    Code:\r\n       0: ldc           #11                 // String b\r\n       2: astore_0\r\n       3: aload_0\r\n       4: invokedynamic #17,  0             // InvokeDynamic #1:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;\r\n       9: areturn\r\n\r\n// omitted bytecode for the measure() method, which is not interesting\r\n```\r\n\r\nAs you can see, there are cases where the `final` keyword makes a difference.\r\n\r\nFor the sake of completeness those are the measured times:\r\n\r\n&gt; Method testFinal took 5 ms \\\r\n&gt; Method testSomeFinal took 13 ms \\\r\n&gt; Method testNonFinal took 20 ms\r\n\r\nThose times seems to be irrelevant (given that we accomplished 1 million tasks), but I think that, after some while, JIT optimization is doing it&#39;s magic and smooths out the differences, but even with that said, 4x is not that negligible, considering that, when it comes to `testNonFinal` turn, the JVM is warmed up by the previous tests, and the common code should yet be optimized.\r\n\r\n### Easier inlining\r\n\r\nLess bytecode translates also to easier and shorter inlining, and so better usage of the resources and better performance.\r\n\r\n### Embedded devices\r\n\r\nJava developers can potentially write code that runs on servers, desktops and small or embedded devices, so making code more efficient at compile time (and not completely relying on the JVM optimizations) can save memory, time and energy on **all** the runtimes and lead to less concurrency problems and errors.\r\n\r\n# More efficient memory allocation and garbage collection\r\n\r\nIf objects have final or immutable fields, their state can&#39;t change and the memory they need is more easily estimated when they are created (so this lead to fewer relocations) and need less defensive copies: in a getter I can directly share an immutable object, without creating a defensive copy.\r\n\r\nFinally there&#39;s another point about future possibilities: when project Valhalla will see the sunlight and &quot;value classes&quot; will be available, having applied immutability to objects&#39; fields will be a significant simpification for those who want to use them, and take advantage of numerous JIT-compiler optimizations that could came out.\r\n\r\n## A personal note about immutability\r\n\r\nIf variables, objects&#39; properties and methods&#39; parameters had been immutable _by default_ in Java (like in Rust), the developers would have been forced to write cleaner and better performing code, and explicitly declaring `mutable` all the objects which can mutate their value would have made developers more conscious about possible errors.\r\n\r\nI don&#39;t know if for `final class`es would be the same, because `mutable class` does not sound that meaningful to me","title":"Does use of final keyword in Java improve the performance?","body":"<p>In Java we make things immutable with the <code>final</code> keyword and there are at least 3 ways in which immutability can make some real difference in code performance. Those 3 points have their common origin in making the compiler or the developer doing better assumptions:</p>\n<ol>\n<li>More reliable code</li>\n<li>More performant code</li>\n<li>More efficient memory allocation and garbage collection</li>\n</ol>\n<h1>More reliable code</h1>\n<p>As stated by many of the other replies and comments, making classes immutable leads to cleaner and more maintainable code, and making objects immutable makes them easier to handle, because they can be in exactly one state, so this translates to easier concurrency and an optimization of the time needed to accomplish tasks.</p>\n<p>Furthermore the compiler warns you about the usage of an uninitialized variable and won't let you reassign it with a new value.</p>\n<p>If we talk about method parameters, declaring them <code>final</code> would make the compiler complaint if you accidentally use the same name for a variable, or reassign it's value (making the parameter no more accessible).</p>\n<h1>More performant code</h1>\n<p>A simple analysis of the generated bytecode should put the last world to the performance question: using a minimally modified version of the code posted by @rustyx in his reply, you can see that the generated bytecode is different when the compiler knows that objects won't mutate their value.</p>\n<p>That's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FinalTest {\n\n    private static final int N_ITERATIONS = 1000000;\n\n    private static String testFinal() {\n        final String a = &quot;a&quot;;\n        final String b = &quot;b&quot;;\n        return a + b;\n    }\n\n    private static String testNonFinal() {\n        String a = &quot;a&quot;;\n        String b = &quot;b&quot;;\n        return a + b;\n    }\n    \n    private static String testSomeFinal() {\n        final String a = &quot;a&quot;;\n        String b = &quot;b&quot;;\n        return a + b;\n    }\n\n    public static void main(String[] args) {\n        measure(&quot;testFinal&quot;, FinalTest::testFinal);\n        measure(&quot;testSomeFinal&quot;, FinalTest::testSomeFinal);\n        measure(&quot;testNonFinal&quot;, FinalTest::testNonFinal);\n    }\n    \n    private static void measure(String testName, Runnable singleTest){\n        final long tStart = System.currentTimeMillis();\n        for (int i = 0; i &lt; N_ITERATIONS; i++)\n            singleTest.run();\n        final long tElapsed = System.currentTimeMillis() - tStart;\n        \n        System.out.printf(&quot;Method %s took %d ms%n&quot;, testName, tElapsed);\n    }\n    \n}\n</code></pre>\n<p>compiling it with openjdk17: <code>javac FinalTest.java</code></p>\n<p>then decompiling: <code>javap -c -p FinalTest.class</code></p>\n<p>lead to this bytecode:</p>\n<pre><code>  private static java.lang.String testFinal();\n    Code:\n       0: ldc           #7                  // String ab\n       2: areturn\n\n  private static java.lang.String testNonFinal();\n    Code:\n       0: ldc           #9                  // String a\n       2: astore_0\n       3: ldc           #11                 // String b\n       5: astore_1\n       6: aload_0\n       7: aload_1\n       8: invokedynamic #13,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\n      13: areturn\n\n  private static java.lang.String testSomeFinal();\n    Code:\n       0: ldc           #11                 // String b\n       2: astore_0\n       3: aload_0\n       4: invokedynamic #17,  0             // InvokeDynamic #1:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;\n       9: areturn\n\n// omitted bytecode for the measure() method, which is not interesting\n</code></pre>\n<p>As you can see, there are cases where the <code>final</code> keyword makes a difference.</p>\n<p>For the sake of completeness those are the measured times:</p>\n<blockquote>\n<p>Method testFinal took 5 ms <br />\nMethod testSomeFinal took 13 ms <br />\nMethod testNonFinal took 20 ms</p>\n</blockquote>\n<p>Those times seems to be irrelevant (given that we accomplished 1 million tasks), but I think that, after some while, JIT optimization is doing it's magic and smooths out the differences, but even with that said, 4x is not that negligible, considering that, when it comes to <code>testNonFinal</code> turn, the JVM is warmed up by the previous tests, and the common code should yet be optimized.</p>\n<h3>Easier inlining</h3>\n<p>Less bytecode translates also to easier and shorter inlining, and so better usage of the resources and better performance.</p>\n<h3>Embedded devices</h3>\n<p>Java developers can potentially write code that runs on servers, desktops and small or embedded devices, so making code more efficient at compile time (and not completely relying on the JVM optimizations) can save memory, time and energy on <strong>all</strong> the runtimes and lead to less concurrency problems and errors.</p>\n<h1>More efficient memory allocation and garbage collection</h1>\n<p>If objects have final or immutable fields, their state can't change and the memory they need is more easily estimated when they are created (so this lead to fewer relocations) and need less defensive copies: in a getter I can directly share an immutable object, without creating a defensive copy.</p>\n<p>Finally there's another point about future possibilities: when project Valhalla will see the sunlight and &quot;value classes&quot; will be available, having applied immutability to objects' fields will be a significant simpification for those who want to use them, and take advantage of numerous JIT-compiler optimizations that could came out.</p>\n<h2>A personal note about immutability</h2>\n<p>If variables, objects' properties and methods' parameters had been immutable <em>by default</em> in Java (like in Rust), the developers would have been forced to write cleaner and better performing code, and explicitly declaring <code>mutable</code> all the objects which can mutate their value would have made developers more conscious about possible errors.</p>\n<p>I don't know if for <code>final class</code>es would be the same, because <code>mutable class</code> does not sound that meaningful to me</p>\n"}],"owner":{"account_id":114391,"reputation":6296,"user_id":300829,"accept_rate":59,"display_name":"Abhishek Jain"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117477,"favorite_count":0,"down_vote_count":0,"up_vote_count":412,"accepted_answer_id":4279442,"answer_count":14,"score":412,"last_activity_date":1661874900,"creation_date":1290704930,"question_id":4279420,"body_markdown":"In Java we see lots of places where the `final` keyword can be used but its use is uncommon. \r\n\r\nFor example:\r\n\r\n    String str = &quot;abc&quot;;\r\n    System.out.println(str);\r\n\r\nIn the above case, `str` can be `final` but this is commonly left off. \r\n\r\nWhen a method is never going to be overridden we can use final keyword. Similarly in case of a class which is not going to be inherited.\r\n\r\nDoes the use of final keyword in any or all of these cases really improve performance? If so, then how? Please explain. If the proper use of `final` really matters for performance, what habits should a Java programmer develop to make best use of the keyword?","title":"Does use of final keyword in Java improve the performance?","body":"<p>In Java we see lots of places where the <code>final</code> keyword can be used but its use is uncommon. </p>\n\n<p>For example:</p>\n\n<pre><code>String str = \"abc\";\nSystem.out.println(str);\n</code></pre>\n\n<p>In the above case, <code>str</code> can be <code>final</code> but this is commonly left off. </p>\n\n<p>When a method is never going to be overridden we can use final keyword. Similarly in case of a class which is not going to be inherited.</p>\n\n<p>Does the use of final keyword in any or all of these cases really improve performance? If so, then how? Please explain. If the proper use of <code>final</code> really matters for performance, what habits should a Java programmer develop to make best use of the keyword?</p>\n"},{"tags":["java","enums","jax-rs","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":6893227,"reputation":171,"user_id":5295979,"display_name":"Matthias Miro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661874872,"creation_date":1661874872,"answer_id":73545281,"question_id":66589561,"body_markdown":"You can get rid of your unwanted `RANGE_` prefix by **adding the flag** `removeEnumValuePrefix=false` to the `additionalProperties` part of your OpenAPI generator `configuration`.\r\n\r\n\r\n----------\r\n\r\n\r\nComplete example (maven):\r\n---------------------------------------\r\n\r\n    &lt;execution&gt;\r\n        &lt;id&gt;generate-id&lt;/id&gt;\r\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;generate&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n            &lt;additionalProperties&gt;\r\n                removeEnumValuePrefix=false\r\n            &lt;/additionalProperties&gt;\r\n            &lt;inputSpec&gt;spec.yaml&lt;/inputSpec&gt;\r\n            &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n            &lt;configOptions&gt;\r\n                &lt;identifierNamingConvention&gt;snake_case&lt;/identifierNamingConvention&gt;\r\n            &lt;/configOptions&gt;\r\n            &lt;output&gt;${project.build.directory}/generated-sources/output&lt;/output&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/execution&gt;","title":"OpenAPI generator jaxrs-spec stop shorterning my enum values","body":"<p>You can get rid of your unwanted <code>RANGE_</code> prefix by <strong>adding the flag</strong> <code>removeEnumValuePrefix=false</code> to the <code>additionalProperties</code> part of your OpenAPI generator <code>configuration</code>.</p>\n<hr />\n<h2>Complete example (maven):</h2>\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;generate-id&lt;/id&gt;\n    &lt;phase&gt;generate-sources&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;generate&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;configuration&gt;\n        &lt;additionalProperties&gt;\n            removeEnumValuePrefix=false\n        &lt;/additionalProperties&gt;\n        &lt;inputSpec&gt;spec.yaml&lt;/inputSpec&gt;\n        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n        &lt;configOptions&gt;\n            &lt;identifierNamingConvention&gt;snake_case&lt;/identifierNamingConvention&gt;\n        &lt;/configOptions&gt;\n        &lt;output&gt;${project.build.directory}/generated-sources/output&lt;/output&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n"}],"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1661874872,"creation_date":1615492242,"question_id":66589561,"body_markdown":"Given this OpenAPI specification for the `sizeRange` field of a **Project** model:\r\n\r\n```yaml\r\nsize:\r\n  type: string\r\n  description: Size range for this project\r\n  enum: [RANGE_0_10M,RANGE_10M_50M,RANGE_50M_100M]\r\n  example: RANGE_10M_50M\r\n```\r\n\r\nThe `jaxrs-spec` OpenAPI generator results in a **Project.class** like:\r\n\r\n\r\n```java\r\npublic enum SizeEnum {\r\n_0_10M(String.valueOf(&quot;RANGE_0_10M&quot;)), _10M_50M(String.valueOf(&quot;RANGE_10M_50M&quot;)), _50M_100M(String.valueOf(&quot;RANGE_50M_100M&quot;));\r\n```\r\n\r\nThe resulting enum values are shortened (for use in Java):\r\n\r\n```java\r\nProject.SizeEnum._0_10M\r\n```\r\n\r\nI was prepared to ignore this inconvenience, but it&#39;s resulting in an exception in this case:\r\n\r\n```java\r\nEnum.valueOf(Project.SizeEnum.class, &quot;RANGE_0_10M&quot;);\r\n\r\nNo enum constant com.mycompany.my_project.Project.SizeEnum.RANGE_0_10M\r\n```\r\n\r\n### Notes\r\n\r\nIf I add a value into the enum that begins with something other than `RANGE_` this causes all of the enum values to appear correctly. I infer that some process is automagically shortening all of them because they share a prefix. \r\n\r\n***Is this an OpenAPI generator configuration I have access to?*** I can&#39;t find it:\r\n\r\n   * https://openapi-generator.tech/docs/configuration/\r\n   * https://openapi-generator.tech/docs/generators/jaxrs-spec","title":"OpenAPI generator jaxrs-spec stop shorterning my enum values","body":"<p>Given this OpenAPI specification for the <code>sizeRange</code> field of a <strong>Project</strong> model:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>size:\n  type: string\n  description: Size range for this project\n  enum: [RANGE_0_10M,RANGE_10M_50M,RANGE_50M_100M]\n  example: RANGE_10M_50M\n</code></pre>\n<p>The <code>jaxrs-spec</code> OpenAPI generator results in a <strong>Project.class</strong> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum SizeEnum {\n_0_10M(String.valueOf(&quot;RANGE_0_10M&quot;)), _10M_50M(String.valueOf(&quot;RANGE_10M_50M&quot;)), _50M_100M(String.valueOf(&quot;RANGE_50M_100M&quot;));\n</code></pre>\n<p>The resulting enum values are shortened (for use in Java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Project.SizeEnum._0_10M\n</code></pre>\n<p>I was prepared to ignore this inconvenience, but it's resulting in an exception in this case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Enum.valueOf(Project.SizeEnum.class, &quot;RANGE_0_10M&quot;);\n\nNo enum constant com.mycompany.my_project.Project.SizeEnum.RANGE_0_10M\n</code></pre>\n<h3>Notes</h3>\n<p>If I add a value into the enum that begins with something other than <code>RANGE_</code> this causes all of the enum values to appear correctly. I infer that some process is automagically shortening all of them because they share a prefix.</p>\n<p><em><strong>Is this an OpenAPI generator configuration I have access to?</strong></em> I can't find it:</p>\n<ul>\n<li><a href=\"https://openapi-generator.tech/docs/configuration/\" rel=\"noreferrer\">https://openapi-generator.tech/docs/configuration/</a></li>\n<li><a href=\"https://openapi-generator.tech/docs/generators/jaxrs-spec\" rel=\"noreferrer\">https://openapi-generator.tech/docs/generators/jaxrs-spec</a></li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1661871411,"post_id":73544372,"comment_id":129871918,"body_markdown":"There is no need to create 2D array since you can sort list of rows directly `lines.sort(Comparator.comparingDouble(row -&gt; Double.parseDouble(row[2])))`. You just need to declare list to be list of String[] like `List&lt;String[]&gt; lines` so compiler could safely assume that `row` is `String[]` and allow to use `arr[2]`. BUT better solution would be creating class like Product and create `List&lt;Product&gt;`. Then your code could look like `products.sort(Comparator.comparingDouble(Product::getPrice))` where `getPrice` would return `double`. Such code would be more readable.","body":"There is no need to create 2D array since you can sort list of rows directly <code>lines.sort(Comparator.comparingDouble(row -&gt; Double.parseDouble(row[2])))</code>. You just need to declare list to be list of String[] like <code>List&lt;String[]&gt; lines</code> so compiler could safely assume that <code>row</code> is <code>String[]</code> and allow to use <code>arr[2]</code>. BUT better solution would be creating class like Product and create <code>List&lt;Product&gt;</code>. Then your code could look like <code>products.sort(Comparator.comparingDouble(Product::getPrice))</code> where <code>getPrice</code> would return <code>double</code>. Such code would be more readable."}],"answers":[{"tags":[],"owner":{"account_id":13177851,"reputation":557,"user_id":9518232,"display_name":"Euklios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661871522,"creation_date":1661871522,"answer_id":73544553,"question_id":73544372,"body_markdown":"There is a helper function `Arrays.sort` ([Docs](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-)).\r\n\r\nIt takes two arguments, an array of things (technically objects, in practice, anything including other arrays), and a custom comparator as a second parameter.\r\n\r\nTherefore, you can create a custom comparator like this:\r\n\r\n```java\r\npublic class MyProductComparator implements Comparator&lt;String[]&gt; {\r\n \r\n    @Override\r\n    public int compare(String[] prod1, String[] prod2) {\r\n        // Compare the element at index 2 of both arrays\r\n        return prod1[2].compareTo(prod2[2]);\r\n    }\r\n}\r\n```\r\n\r\nAfterward, you can use it like this:\r\n```java\r\nArrays.sort(strings, new MyProductComparator());\r\n```\r\n\r\nAdditionally, java already provides some standard comparator implementations, for example, one that takes two elements and compares them based on a predefined key.\r\nThis is quite useful and simplifies your code greatly.\r\n```java\r\n// compare using  the second element\r\nArrays.sort(strings, Comparator.comparing(o -&gt; o[2]))\r\n```","title":"Compare and sort java 2Darray using an element from the subarray","body":"<p>There is a helper function <code>Arrays.sort</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-\" rel=\"nofollow noreferrer\">Docs</a>).</p>\n<p>It takes two arguments, an array of things (technically objects, in practice, anything including other arrays), and a custom comparator as a second parameter.</p>\n<p>Therefore, you can create a custom comparator like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyProductComparator implements Comparator&lt;String[]&gt; {\n \n    @Override\n    public int compare(String[] prod1, String[] prod2) {\n        // Compare the element at index 2 of both arrays\n        return prod1[2].compareTo(prod2[2]);\n    }\n}\n</code></pre>\n<p>Afterward, you can use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(strings, new MyProductComparator());\n</code></pre>\n<p>Additionally, java already provides some standard comparator implementations, for example, one that takes two elements and compares them based on a predefined key.\nThis is quite useful and simplifies your code greatly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// compare using  the second element\nArrays.sort(strings, Comparator.comparing(o -&gt; o[2]))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661874734,"creation_date":1661872800,"answer_id":73544866,"question_id":73544372,"body_markdown":"`Files.lines` will read in the file and put each line in a stream for processing.  The lines can then be sorted before collecting into a list.\r\n\r\n- map the lines to an `Abstract.SimpleEntry` to hold the actual line as the key and the double as the value on which to sort.\r\n- The value is split on comma, trimmed of whitespace and retrieved as item 2.  Then converted to a Double.\r\n- then sort the stream using the entry&#39;s value.\r\n```\r\nvoid sortPrice () throws IOException {\r\n   list = Files.lines(Path.of(&quot;f:/items.txt&quot;))\r\n\t\t.map(item -&gt; new SimpleEntry&lt;String, Double&gt;(item,\r\n\t\t\t\tDouble.parseDouble(\r\n\t\t\t\t\t\titem.split(&quot;,&quot;)[2].trim())))\r\n\t\t.sorted(Entry.comparingByValue()).map(Entry::getKey)\r\n\t\t.toList();\r\n}\r\n\r\nlist.forEach(System.out::println);\r\n\r\n```\r\nprints\r\n```\r\nI005-2015, Harman Kardon, 3.5, Earbud\r\nI003-1992, Samsung Galaxy S22, 4.5\r\n001-2001, Dell XPS 17,5.5, Laptop\r\nPhone I004-1999, Iphone 13 PM, 7.5, Phone\r\nI002-1988, Macbook Pro 15, 8.5, Laptop\r\n```\r\n**Note:**  if you are going to make use of these fields, it would be best to create a class to hold them in their final converted types. ","title":"Compare and sort java 2Darray using an element from the subarray","body":"<p><code>Files.lines</code> will read in the file and put each line in a stream for processing.  The lines can then be sorted before collecting into a list.</p>\n<ul>\n<li>map the lines to an <code>Abstract.SimpleEntry</code> to hold the actual line as the key and the double as the value on which to sort.</li>\n<li>The value is split on comma, trimmed of whitespace and retrieved as item 2.  Then converted to a Double.</li>\n<li>then sort the stream using the entry's value.</li>\n</ul>\n<pre><code>void sortPrice () throws IOException {\n   list = Files.lines(Path.of(&quot;f:/items.txt&quot;))\n        .map(item -&gt; new SimpleEntry&lt;String, Double&gt;(item,\n                Double.parseDouble(\n                        item.split(&quot;,&quot;)[2].trim())))\n        .sorted(Entry.comparingByValue()).map(Entry::getKey)\n        .toList();\n}\n\nlist.forEach(System.out::println);\n\n</code></pre>\n<p>prints</p>\n<pre><code>I005-2015, Harman Kardon, 3.5, Earbud\nI003-1992, Samsung Galaxy S22, 4.5\n001-2001, Dell XPS 17,5.5, Laptop\nPhone I004-1999, Iphone 13 PM, 7.5, Phone\nI002-1988, Macbook Pro 15, 8.5, Laptop\n</code></pre>\n<p><strong>Note:</strong>  if you are going to make use of these fields, it would be best to create a class to hold them in their final converted types.</p>\n"}],"owner":{"account_id":23569492,"reputation":1,"user_id":17609802,"display_name":"Trong Duong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661874734,"creation_date":1661870724,"question_id":73544372,"body_markdown":"\r\n\r\n    void sortPrice () throws IOException {\r\n                //create a bufferedReader and user scanner\r\n                BufferedReader br = new BufferedReader(new FileReader(&quot;items.txt&quot;));\r\n                Scanner sc = new Scanner(System.in);\r\n                List lines = new ArrayList();\r\n                //create a 2D arrayList and append each line of the txt file into a sub-array in the 2D array\r\n                for(String line = br.readLine(); line != null; line = br.readLine()){\r\n                    String[] currentLine = line.split(&quot;,&quot;);\r\n                    lines.add(currentLine);\r\n                }\r\n    String[][] strings = (String[][]) lines.toArray(new String[lines.size()][]);\r\nI have this code that read from items.txt file and turn it into 2d array\r\n\r\n&gt;I001-2001, Dell XPS 17,5.5, Laptop\r\n\r\n&gt;I002-1988, Macbook Pro 15, 8.5, Laptop\r\n\r\n&gt;I003-1992, Samsung Galaxy S22, 4.5, Phone\r\n&gt;I004-1999, Iphone 13 PM, 7.5, Phone\r\n\r\n&gt;I005-2015, Harman Kardon, 3.5, Earbud\r\n\r\n\r\nThis is what inside the file TXT. I want to sort the item by the third element inside this sub-array which is the price for the item, but since I created the array as the String, it cannot be sort with interger value, I&#39;m new to java so sorry for any techinicality.","title":"Compare and sort java 2Darray using an element from the subarray","body":"<pre><code>void sortPrice () throws IOException {\n            //create a bufferedReader and user scanner\n            BufferedReader br = new BufferedReader(new FileReader(&quot;items.txt&quot;));\n            Scanner sc = new Scanner(System.in);\n            List lines = new ArrayList();\n            //create a 2D arrayList and append each line of the txt file into a sub-array in the 2D array\n            for(String line = br.readLine(); line != null; line = br.readLine()){\n                String[] currentLine = line.split(&quot;,&quot;);\n                lines.add(currentLine);\n            }\nString[][] strings = (String[][]) lines.toArray(new String[lines.size()][]);\n</code></pre>\n<p>I have this code that read from items.txt file and turn it into 2d array</p>\n<blockquote>\n<p>I001-2001, Dell XPS 17,5.5, Laptop</p>\n</blockquote>\n<blockquote>\n<p>I002-1988, Macbook Pro 15, 8.5, Laptop</p>\n</blockquote>\n<blockquote>\n<p>I003-1992, Samsung Galaxy S22, 4.5, Phone\nI004-1999, Iphone 13 PM, 7.5, Phone</p>\n</blockquote>\n<blockquote>\n<p>I005-2015, Harman Kardon, 3.5, Earbud</p>\n</blockquote>\n<p>This is what inside the file TXT. I want to sort the item by the third element inside this sub-array which is the price for the item, but since I created the array as the String, it cannot be sort with interger value, I'm new to java so sorry for any techinicality.</p>\n"},{"tags":["java","intellij-idea","code-formatting","intellij-idea-2016"],"comments":[{"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"score":0,"creation_date":1473353343,"post_id":39396319,"comment_id":66118651,"body_markdown":"Is the first picture before formatting, and the 2nd is your ideal format?","body":"Is the first picture before formatting, and the 2nd is your ideal format?"},{"owner":{"account_id":559196,"reputation":343,"user_id":921541,"display_name":"bernerbrau"},"score":0,"creation_date":1473353392,"post_id":39396319,"comment_id":66118686,"body_markdown":"No, the 2nd is the best I&#39;ve been able to do so far messing with code style settings. Let me edit to add what I would like to see.","body":"No, the 2nd is the best I&#39;ve been able to do so far messing with code style settings. Let me edit to add what I would like to see."}],"answers":[{"tags":[],"owner":{"account_id":1873703,"reputation":5364,"user_id":1695393,"display_name":"dubes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473355593,"creation_date":1473355593,"answer_id":39396945,"question_id":39396319,"body_markdown":"Now it must be possible to import &quot;Code style&quot; in intellij from checkstyle configuration. \r\n\r\nBelow is the excerpt from the [official response][1] to the [feature request][2]\r\n\r\n&gt; 1. Please install CheckStyle-IDEA plugin (http://plugins.jetbrains.com/plugin/1065?pr=idea), it can be found via plug-in repository (Settings|Plugins|Browse repositories).\r\n2. Go to Settings|Editor|Code Style, choose a code style you want to import CheckStyle configuration to.\r\n3. Click Manage...|Import.., choose &quot;CheckStyle Configuration&quot; and select a corresponding CheckStyle configuration file. Click OK.\r\nAt the end you will see a message &quot;CheckStyle configuration settings were imported to ...  scheme&quot;.\r\n\r\n\r\nWith this, Idea should be maintaining the formatting rules that checkstyle defines.\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-61520#comment=27-1292600\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-61520","title":"Is there a way to get IntelliJ to back-indent method declaration parameters?","body":"<p>Now it must be possible to import \"Code style\" in intellij from checkstyle configuration. </p>\n\n<p>Below is the excerpt from the <a href=\"https://youtrack.jetbrains.com/issue/IDEA-61520#comment=27-1292600\" rel=\"nofollow\">official response</a> to the <a href=\"https://youtrack.jetbrains.com/issue/IDEA-61520\" rel=\"nofollow\">feature request</a></p>\n\n<blockquote>\n  <ol>\n  <li>Please install CheckStyle-IDEA plugin (<a href=\"http://plugins.jetbrains.com/plugin/1065?pr=idea\" rel=\"nofollow\">http://plugins.jetbrains.com/plugin/1065?pr=idea</a>), it can be found via plug-in repository (Settings|Plugins|Browse repositories).</li>\n  <li>Go to Settings|Editor|Code Style, choose a code style you want to import CheckStyle configuration to.</li>\n  <li>Click Manage...|Import.., choose \"CheckStyle Configuration\" and select a corresponding CheckStyle configuration file. Click OK.\n  At the end you will see a message \"CheckStyle configuration settings were imported to ...  scheme\".</li>\n  </ol>\n</blockquote>\n\n<p>With this, Idea should be maintaining the formatting rules that checkstyle defines.</p>\n"},{"tags":[],"owner":{"account_id":3638330,"reputation":203,"user_id":5799987,"display_name":"Jozef Mikušinec"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661874392,"creation_date":1661874392,"answer_id":73545205,"question_id":39396319,"body_markdown":"You can find the relevant setting in:\r\n\r\n**Settings/Preferences &gt; Editor &gt; Code Style &gt; [Your Language, eg. Java]**\r\n\r\nLook for a checkbox labeled &quot;Align when multiline&quot;, and unselect it.\r\n\r\n(Answer taken from [here](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004301220-Parameters-indentation-on-new-line-?page=1#community_comment_360000636919).)","title":"Is there a way to get IntelliJ to back-indent method declaration parameters?","body":"<p>You can find the relevant setting in:</p>\n<p><strong>Settings/Preferences &gt; Editor &gt; Code Style &gt; [Your Language, eg. Java]</strong></p>\n<p>Look for a checkbox labeled &quot;Align when multiline&quot;, and unselect it.</p>\n<p>(Answer taken from <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004301220-Parameters-indentation-on-new-line-?page=1#community_comment_360000636919\" rel=\"nofollow noreferrer\">here</a>.)</p>\n"}],"owner":{"account_id":559196,"reputation":343,"user_id":921541,"display_name":"bernerbrau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2441,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1661874392,"creation_date":1473353074,"question_id":39396319,"body_markdown":"This is for IntelliJ 2016.2.\r\n\r\nI&#39;m cleaning up some code that&#39;s causing CheckStyle violations and halting our CI build, and it appears to be happening because of IntelliJ&#39;s code style rules. I can fix these manually, but there are two problems with that: the editor applies these rules indiscriminately and it&#39;s a lot to fix manually. And if anyone runs code formatting again, it sets the indentation back the way it wants.\r\n\r\nSpecifically, the indentation on multiline method signatures looks like this:\r\n\r\n[![indentation for multiline method signatures][1]][1]\r\n\r\nAnd I would like the parameters on subsequent lines to be indented 4 spaces to the right of the *start of the previous line*, not the opening parenthesis.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nInterestingly, format-as-you-type does this correctly for me, but when I use the code formatter it reformats it as above.\r\n\r\nI can get some of the way by going to Tabs and Indents in the preferences and setting &quot;continuation indent&quot; to 0:\r\n\r\n[![indentation with continuation=0][3]][3]\r\n\r\nBut this rule gets applied universally, making other stuff look really bad, and it doesn&#39;t accept negative values.\r\n\r\nI&#39;ve gone to &quot;Editor.Code Style.Java.Wrapping and Braces.Method declaration parameters&quot; in the preferences and tried just about everything there. I have &quot;Chop down if long&quot;, but because of the indentation rule, this makes the line **longer**. Nowhere do I see a way to specify where it should start the indentation from or how much it should indent the line. \r\n\r\nThis, combined with the observation that formatting for method *calls* exhibit expected behavior (but, aggravatingly, not *constructor* calls!), makes me think that this is a bug. IntelliJ&#39;s formatter appears to be hard-coded to use the continuation indent from the open parenthesis, and not the method declaration itself.\r\n\r\nIs there anything I have missed or some viable workaround?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Mdhe7.png\r\n  [2]: http://i.stack.imgur.com/84uET.png\r\n  [3]: http://i.stack.imgur.com/oLz7w.png","title":"Is there a way to get IntelliJ to back-indent method declaration parameters?","body":"<p>This is for IntelliJ 2016.2.</p>\n\n<p>I'm cleaning up some code that's causing CheckStyle violations and halting our CI build, and it appears to be happening because of IntelliJ's code style rules. I can fix these manually, but there are two problems with that: the editor applies these rules indiscriminately and it's a lot to fix manually. And if anyone runs code formatting again, it sets the indentation back the way it wants.</p>\n\n<p>Specifically, the indentation on multiline method signatures looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mdhe7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Mdhe7.png\" alt=\"indentation for multiline method signatures\"></a></p>\n\n<p>And I would like the parameters on subsequent lines to be indented 4 spaces to the right of the <em>start of the previous line</em>, not the opening parenthesis.</p>\n\n<p><a href=\"https://i.stack.imgur.com/84uET.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/84uET.png\" alt=\"enter image description here\"></a></p>\n\n<p>Interestingly, format-as-you-type does this correctly for me, but when I use the code formatter it reformats it as above.</p>\n\n<p>I can get some of the way by going to Tabs and Indents in the preferences and setting \"continuation indent\" to 0:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oLz7w.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oLz7w.png\" alt=\"indentation with continuation=0\"></a></p>\n\n<p>But this rule gets applied universally, making other stuff look really bad, and it doesn't accept negative values.</p>\n\n<p>I've gone to \"Editor.Code Style.Java.Wrapping and Braces.Method declaration parameters\" in the preferences and tried just about everything there. I have \"Chop down if long\", but because of the indentation rule, this makes the line <strong>longer</strong>. Nowhere do I see a way to specify where it should start the indentation from or how much it should indent the line. </p>\n\n<p>This, combined with the observation that formatting for method <em>calls</em> exhibit expected behavior (but, aggravatingly, not <em>constructor</em> calls!), makes me think that this is a bug. IntelliJ's formatter appears to be hard-coded to use the continuation indent from the open parenthesis, and not the method declaration itself.</p>\n\n<p>Is there anything I have missed or some viable workaround?</p>\n"},{"tags":["java","spring-boot","logging","logback","slf4j"],"answers":[{"tags":[],"owner":{"account_id":9824858,"reputation":121,"user_id":7278190,"display_name":"WPW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661874345,"creation_date":1661871883,"answer_id":73544646,"question_id":73544458,"body_markdown":"Here is an example of setting it up log to a specific file &quot;Custom-Errors.txt&quot;, and to have the logs be deleted if they reach a certain size 20MB or 182 days elapse\r\n    \r\n     &lt;appender name=&quot;Custom_Logger \r\n      class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n                              \r\n\t\t &lt;file&gt;Custom-Errors.txt&lt;/file&gt;\r\n\t\t \r\n\t\t &lt;rollingPolicy \r\n           class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n\t    \r\n\t       &lt;fileNamePattern&gt;Custom-Errors-%d{yyyy-MM-dd}.%i.txt&lt;/fileNamePattern&gt;\r\n\t       &lt;!-- each file should be at most 20MB, keep 182 days worth of history,but \r\n             at most 500MB --&gt;\r\n\t       &lt;maxFileSize&gt;20MB&lt;/maxFileSize&gt;    \r\n\t       &lt;maxHistory&gt;182&lt;/maxHistory&gt;\r\n\t       &lt;totalSizeCap&gt;500MB&lt;/totalSizeCap&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        \r\n\t\t&lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n\t\t\t&lt;level&gt;INFO, DEBUG, TRACE&lt;/level&gt;\r\n\t\t&lt;/filter&gt;\r\n\t\t&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n\t\t\t&lt;Pattern&gt;\r\n\t\t\t\t%date %level [%thread] [%file:%line] %msg%n%throwable\r\n\t\t\t&lt;/Pattern&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\r\n    &lt;logger name=&quot;CUSTOM_LOGGER&quot; additivity=&quot;false&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;Custom_Logger&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\r\n\r\n\r\nThen in your java class make a private variable to use the logger like this\r\n\r\n      private static final Logger CUSTOM_LOGGER = \r\n                                          LoggerFactory.getLogger(&quot;CUSTOM_LOGGER&quot;);\r\n\r\n\r\nlogging a dependency, or use to log anything you want based on package\r\n    \r\n    here is an example of logging a library\r\n      &lt;appender name=&quot;ConsoleOutForSpring&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n       &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n          &lt;level&gt;INFO&lt;/level&gt;\r\n       &lt;/filter&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n   \r\n    &lt;logger name=&quot;org.springframework&quot; additivity=&quot;false&quot;&gt;\r\n         &lt;appender-ref ref=&quot;ConsoleOutForSpring&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n\r\nI do admit there are a lot of tags and settings to this logger that are kind of complicated, but reading docs and looking at others examples has helped me.\r\n\r\nHere were some docs I noted in my logback.xml\r\n\r\n&lt;!-- Here are the docs, its a little dry to read but it helped me to get this set up --&gt;\r\n    \r\n    &lt;!-- http://logback.qos.ch/manual/configuration.html  this helped me with this weird looking stuff i.e. ===&gt;  %date %level [%thread] [%file:%line] %msg%n%throwable   --&gt;\r\n    \r\n    &lt;!-- http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy \r\n       \r\n         helped me set this up:\r\n\t\t\t\t\t\t        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t\t\t\t\t       &lt;fileNamePattern&gt;Errors-%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n\t\t\t\t\t\t\t       &lt;maxFileSize&gt;20MB&lt;/maxFileSize&gt;    \r\n\t\t\t\t\t\t\t       &lt;maxHistory&gt;182&lt;/maxHistory&gt;\r\n\t\t\t\t\t\t\t       &lt;totalSizeCap&gt;500MB&lt;/totalSizeCap&gt;\r\n\t\t\t\t\t\t        &lt;/rollingPolicy&gt;\r\n   ","title":"How to log specific log to text file with logback in Spring?","body":"<p>Here is an example of setting it up log to a specific file &quot;Custom-Errors.txt&quot;, and to have the logs be deleted if they reach a certain size 20MB or 182 days elapse</p>\n<pre><code> &lt;appender name=&quot;Custom_Logger \n  class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n                          \n     &lt;file&gt;Custom-Errors.txt&lt;/file&gt;\n     \n     &lt;rollingPolicy \n       class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n    \n       &lt;fileNamePattern&gt;Custom-Errors-%d{yyyy-MM-dd}.%i.txt&lt;/fileNamePattern&gt;\n       &lt;!-- each file should be at most 20MB, keep 182 days worth of history,but \n         at most 500MB --&gt;\n       &lt;maxFileSize&gt;20MB&lt;/maxFileSize&gt;    \n       &lt;maxHistory&gt;182&lt;/maxHistory&gt;\n       &lt;totalSizeCap&gt;500MB&lt;/totalSizeCap&gt;\n    &lt;/rollingPolicy&gt;\n    \n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n        &lt;level&gt;INFO, DEBUG, TRACE&lt;/level&gt;\n    &lt;/filter&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;Pattern&gt;\n            %date %level [%thread] [%file:%line] %msg%n%throwable\n        &lt;/Pattern&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n\n&lt;logger name=&quot;CUSTOM_LOGGER&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;Custom_Logger&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>Then in your java class make a private variable to use the logger like this</p>\n<pre><code>  private static final Logger CUSTOM_LOGGER = \n                                      LoggerFactory.getLogger(&quot;CUSTOM_LOGGER&quot;);\n</code></pre>\n<p>logging a dependency, or use to log anything you want based on package</p>\n<pre><code>here is an example of logging a library\n  &lt;appender name=&quot;ConsoleOutForSpring&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n   &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n      &lt;level&gt;INFO&lt;/level&gt;\n   &lt;/filter&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;Pattern&gt;\n            %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\n        &lt;/Pattern&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;logger name=&quot;org.springframework&quot; additivity=&quot;false&quot;&gt;\n     &lt;appender-ref ref=&quot;ConsoleOutForSpring&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>I do admit there are a lot of tags and settings to this logger that are kind of complicated, but reading docs and looking at others examples has helped me.</p>\n<p>Here were some docs I noted in my logback.xml</p>\n\n<pre><code>&lt;!-- http://logback.qos.ch/manual/configuration.html  this helped me with this weird looking stuff i.e. ===&gt;  %date %level [%thread] [%file:%line] %msg%n%throwable   --&gt;\n\n&lt;!-- http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy \n   \n     helped me set this up:\n                            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n                               &lt;fileNamePattern&gt;Errors-%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n                               &lt;maxFileSize&gt;20MB&lt;/maxFileSize&gt;    \n                               &lt;maxHistory&gt;182&lt;/maxHistory&gt;\n                               &lt;totalSizeCap&gt;500MB&lt;/totalSizeCap&gt;\n                            &lt;/rollingPolicy&gt;\n</code></pre>\n"}],"owner":{"account_id":19015121,"reputation":162,"user_id":16180016,"display_name":"zakpruitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73544646,"answer_count":1,"score":0,"last_activity_date":1661874345,"creation_date":1661871106,"question_id":73544458,"body_markdown":"I have my current logback file, which to my understanding is a classic logback implementation:\r\n```\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;Hello %d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\nI have a specific log:\r\n```\r\nlog.info(String.format(&quot;ProxyICA %s has an integrity violation. %s.&quot;,\r\n                        processorId.getProxyIca(),\r\n                        fkViolationMsg)\r\n         );\r\n```\r\nthat I am trying to get in a text file. The only configuration I need in my logback is to put every instance of this log into a text file. Every other log can default log to the console (which it was doing without the logback.xml). \r\n\r\nThank you in advanced!","title":"How to log specific log to text file with logback in Spring?","body":"<p>I have my current logback file, which to my understanding is a classic logback implementation:</p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;Hello %d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;debug&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I have a specific log:</p>\n<pre><code>log.info(String.format(&quot;ProxyICA %s has an integrity violation. %s.&quot;,\n                        processorId.getProxyIca(),\n                        fkViolationMsg)\n         );\n</code></pre>\n<p>that I am trying to get in a text file. The only configuration I need in my logback is to put every instance of this log into a text file. Every other log can default log to the console (which it was doing without the logback.xml).</p>\n<p>Thank you in advanced!</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661874147,"creation_date":1661874147,"answer_id":73545160,"question_id":73544091,"body_markdown":"As long as you&#39;re interested only in **field errors** you can call `getFieldErrors()` method on `BindingResult` instead of `getAllErrors()`, which will return collection of `FieldError`s instead of `ObjectError`s. \r\n \r\n`FieldError` provides access to field name and rejected value, so you can achieve your goal like that:\r\n\r\n```java\r\nbindingResult.getFieldErrors()\r\n                .forEach(e -&gt; System.out.println(\r\n                        &quot;field: &quot; + e.getField() + &quot;, rejected value: &quot; + e.getRejectedValue()));\r\n```","title":"Get values and fields from BindingResult","body":"<p>As long as you're interested only in <strong>field errors</strong> you can call <code>getFieldErrors()</code> method on <code>BindingResult</code> instead of <code>getAllErrors()</code>, which will return collection of <code>FieldError</code>s instead of <code>ObjectError</code>s.</p>\n<p><code>FieldError</code> provides access to field name and rejected value, so you can achieve your goal like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>bindingResult.getFieldErrors()\n                .forEach(e -&gt; System.out.println(\n                        &quot;field: &quot; + e.getField() + &quot;, rejected value: &quot; + e.getRejectedValue()));\n</code></pre>\n"}],"owner":{"account_id":23976372,"reputation":29,"user_id":17988386,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73545160,"answer_count":1,"score":0,"last_activity_date":1661874147,"creation_date":1661869478,"question_id":73544091,"body_markdown":"I have method which have BindingResult. \r\n\r\n    @PostMapping(&quot;/spare-create&quot;)\r\n    \tpublic String saveSpare(@Valid Spares spares, BindingResult bindingResult, RedirectAttributes attributes) {\r\n    \t\tif (bindingResult.hasErrors()) {\r\n    \t\t\tattributes.addAttribute(&quot;orderNumberError&quot;, spares.getOrderNumber());\r\n    \t\t\tattributes.addAttribute(&quot;orderMarkError&quot;, spares.getOrderMark());\t\t\t\r\n    \t\t\tList&lt;ObjectError&gt; errors = bindingResult.getAllErrors();\r\n    \t\t\terrors.forEach(element -&gt; System.out.print(errors + &quot;&quot;));\r\n    \t\t\t\r\n    \t\t\treturn &quot;redirect:/ab2&quot;;\r\n    \t\t} else {\r\n    \t\t\tsparesServiceImpl.saveSpares(spares);\r\n    \t\t\treturn &quot;redirect:/new-docs&quot;;\r\n    \t\t}\r\n    \t}\r\nI tried to get all errors, but get output like \r\n\r\n    [Field error in object &#39;spares&#39; on field &#39;orderNumber&#39;: rejected value [12345]; codes [Size.spares.orderNumber,Size.orderNumber,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [spares.orderNumber,orderNumber]; arguments []; default message [orderNumber],2147483647,6]; default message [размер должен находиться в диапазоне от 6 до 2147483647]]\r\nHow can I get data in format like: &quot;Field and value&quot;?","title":"Get values and fields from BindingResult","body":"<p>I have method which have BindingResult.</p>\n<pre><code>@PostMapping(&quot;/spare-create&quot;)\n    public String saveSpare(@Valid Spares spares, BindingResult bindingResult, RedirectAttributes attributes) {\n        if (bindingResult.hasErrors()) {\n            attributes.addAttribute(&quot;orderNumberError&quot;, spares.getOrderNumber());\n            attributes.addAttribute(&quot;orderMarkError&quot;, spares.getOrderMark());           \n            List&lt;ObjectError&gt; errors = bindingResult.getAllErrors();\n            errors.forEach(element -&gt; System.out.print(errors + &quot;&quot;));\n            \n            return &quot;redirect:/ab2&quot;;\n        } else {\n            sparesServiceImpl.saveSpares(spares);\n            return &quot;redirect:/new-docs&quot;;\n        }\n    }\n</code></pre>\n<p>I tried to get all errors, but get output like</p>\n<pre><code>[Field error in object 'spares' on field 'orderNumber': rejected value [12345]; codes [Size.spares.orderNumber,Size.orderNumber,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [spares.orderNumber,orderNumber]; arguments []; default message [orderNumber],2147483647,6]; default message [размер должен находиться в диапазоне от 6 до 2147483647]]\n</code></pre>\n<p>How can I get data in format like: &quot;Field and value&quot;?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":16095471,"reputation":2336,"user_id":11617754,"display_name":"Mohamed Rejeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661874144,"creation_date":1661874144,"answer_id":73545159,"question_id":73544405,"body_markdown":"Yes you can do it,\r\n\r\n1- Create a public function in your `MainActivity` that closes the fragment container:\r\n\r\n    public void closeFragment() {\r\n        fragmentContainerView.setVisibility(View.GONE);\r\n    }\r\n\r\n2- Call that function from your fragment when you need it:\r\n\r\n    // getActivity() will return the activity linked to that fragment so this fragment should be linked MainActivity\r\n    MainActivity activity = (MainActivity) getActivity();\r\n    acitvity.closeFragment();","title":"Can I Close a FragmentContainerView from Inside a Fragment?","body":"<p>Yes you can do it,</p>\n<p>1- Create a public function in your <code>MainActivity</code> that closes the fragment container:</p>\n<pre><code>public void closeFragment() {\n    fragmentContainerView.setVisibility(View.GONE);\n}\n</code></pre>\n<p>2- Call that function from your fragment when you need it:</p>\n<pre><code>// getActivity() will return the activity linked to that fragment so this fragment should be linked MainActivity\nMainActivity activity = (MainActivity) getActivity();\nacitvity.closeFragment();\n</code></pre>\n"}],"owner":{"account_id":20995350,"reputation":77,"user_id":15427321,"display_name":"Jason W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661874144,"creation_date":1661870834,"question_id":73544405,"body_markdown":"This is my first time using Fragments and I&#39;m rather new to Android. I&#39;m using Fragments to manage a settings menu for my app. \r\n\r\nI have a MainActivity with a FragmentContainerView, the XML is like so:\r\n\r\n```\r\n &lt;androidx.fragment.app.FragmentContainerView\r\n            android:visibility=&quot;gone&quot;\r\n            android:id=&quot;@+id/main_activity_fragment_container&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\r\n``` \r\n\r\nIn the MainActivity.java File I have a method assigned to a button to make the FragmentContainerView visible, like so:\r\n\r\n```\r\nprivate void showFragments(FragmentContainerView fragmentContainerView) {\r\n\r\n    fragmentContainerView.setVisibility(View.VISIBLE);\r\n    // There is more to this method, but I don&#39;t think it is necessary for this example\r\n}\r\n```\r\n\r\nI&#39;m able to navigate all around the settings menu: inflate fragments, replace fragments, update Shared Preferences, use Browser Intent, etc.  - everything I need to do for a settings menu. \r\n\r\nWhat I haven&#39;t been able to figure out is how to closeout the Settings Menu (close the FragmentContainerView in the MainActivity) after a selection has been made (and thus return to the game). I can create a &quot;close&quot; button in every fragment - but I can&#39;t figure out a method to close (setVisibility to GONE) the MainActivity&#39;s FragmentContainerView.\r\n\r\n***Once I&#39;m in a Fragment - is it even possible to access the FragmentContainerView the fragment resides inside of?*** I&#39;ve tried a number of ways to access it and set the visibility to GONE, but I just get a crash.\r\n\r\nInside a fragment:\r\n\r\n```\r\nFragmentContainerView mainActivityFragmentContainer = (FragmentContainerView) view.findViewById(R.id.main_activity_fragment_container);\r\n\r\n\r\npublic void closeFragment(FragmentContainerView mainActivityFragmentContainer) {\r\n     \r\n        mainActivityFragmentContainer.setVisibility(View.GONE); \r\n       // This causes a crash, the error log states:\r\n       // NullPointerException: Attempt to invoke virtual method &#39;void androidx.fragment.app.FragmentContainerView.setVisibility(int)&#39; on a null object reference\r\n\r\n}\r\n```\r\n\r\nI know a workaround where I don&#39;t have the fragmentContainerView fill up the entire screen and leave space for an external close button - but this solution seems inefficient.Any advice would be helpful!","title":"Can I Close a FragmentContainerView from Inside a Fragment?","body":"<p>This is my first time using Fragments and I'm rather new to Android. I'm using Fragments to manage a settings menu for my app.</p>\n<p>I have a MainActivity with a FragmentContainerView, the XML is like so:</p>\n<pre><code> &lt;androidx.fragment.app.FragmentContainerView\n            android:visibility=&quot;gone&quot;\n            android:id=&quot;@+id/main_activity_fragment_container&quot;\n            android:background=&quot;@color/white&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\n</code></pre>\n<p>In the MainActivity.java File I have a method assigned to a button to make the FragmentContainerView visible, like so:</p>\n<pre><code>private void showFragments(FragmentContainerView fragmentContainerView) {\n\n    fragmentContainerView.setVisibility(View.VISIBLE);\n    // There is more to this method, but I don't think it is necessary for this example\n}\n</code></pre>\n<p>I'm able to navigate all around the settings menu: inflate fragments, replace fragments, update Shared Preferences, use Browser Intent, etc.  - everything I need to do for a settings menu.</p>\n<p>What I haven't been able to figure out is how to closeout the Settings Menu (close the FragmentContainerView in the MainActivity) after a selection has been made (and thus return to the game). I can create a &quot;close&quot; button in every fragment - but I can't figure out a method to close (setVisibility to GONE) the MainActivity's FragmentContainerView.</p>\n<p><em><strong>Once I'm in a Fragment - is it even possible to access the FragmentContainerView the fragment resides inside of?</strong></em> I've tried a number of ways to access it and set the visibility to GONE, but I just get a crash.</p>\n<p>Inside a fragment:</p>\n<pre><code>FragmentContainerView mainActivityFragmentContainer = (FragmentContainerView) view.findViewById(R.id.main_activity_fragment_container);\n\n\npublic void closeFragment(FragmentContainerView mainActivityFragmentContainer) {\n     \n        mainActivityFragmentContainer.setVisibility(View.GONE); \n       // This causes a crash, the error log states:\n       // NullPointerException: Attempt to invoke virtual method 'void androidx.fragment.app.FragmentContainerView.setVisibility(int)' on a null object reference\n\n}\n</code></pre>\n<p>I know a workaround where I don't have the fragmentContainerView fill up the entire screen and leave space for an external close button - but this solution seems inefficient.Any advice would be helpful!</p>\n"},{"tags":["java","jmeter","server-sent-events"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661867708,"creation_date":1661867708,"answer_id":73543655,"question_id":73543461,"body_markdown":" 1. Put your .jar to &quot;lib/ext&quot; folder of your JMeter installation\r\n 2. **Restart JMeter to pick it up**\r\n 3. No other actions are required, i.e. don&#39;t amend [Classpath][1], don&#39;t include it in Test Plan, etc. \r\n\r\nIf you want reference implementation you can take a look at [RSAEncrypt.java][2] and [RSADecrypt.java][3]\r\n\r\nIf you follow installation instructions from [Beanshell vs. JSR223 vs. Java For JMeter: Complete Showdown][4] article you should see the next 2 guys there:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nIf you see them - then there is something wrong with your jar, take a look at [jmeter.log file][6] and see if there are any suspicious entries there. \r\n\r\nIf you don&#39;t see them - then something is wrong with your JMeter installation, it&#39;s better to reinstall it from scratch. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#classpath\r\n  [2]: https://github.com/aboyfromipanema/java-sampler-rsa-encryption/blob/main/src/main/java/com/blazemeter/jmeter/scripting/RSAEncrypt.java\r\n  [3]: https://github.com/aboyfromipanema/java-sampler-rsa-encryption/blob/main/src/main/java/com/blazemeter/jmeter/scripting/RSADecrypt.java\r\n  [4]: https://www.blazemeter.com/blog/beanshell-vs-jsr223-vs-jmeter\r\n  [5]: https://i.stack.imgur.com/peHO2.png\r\n  [6]: https://jmeter.apache.org/usermanual/get-started.html#logging","title":"JMeter ClassNotFoundException on Java Request Sampler class","body":"<ol>\n<li>Put your .jar to &quot;lib/ext&quot; folder of your JMeter installation</li>\n<li><strong>Restart JMeter to pick it up</strong></li>\n<li>No other actions are required, i.e. don't amend <a href=\"https://jmeter.apache.org/usermanual/get-started.html#classpath\" rel=\"nofollow noreferrer\">Classpath</a>, don't include it in Test Plan, etc.</li>\n</ol>\n<p>If you want reference implementation you can take a look at <a href=\"https://github.com/aboyfromipanema/java-sampler-rsa-encryption/blob/main/src/main/java/com/blazemeter/jmeter/scripting/RSAEncrypt.java\" rel=\"nofollow noreferrer\">RSAEncrypt.java</a> and <a href=\"https://github.com/aboyfromipanema/java-sampler-rsa-encryption/blob/main/src/main/java/com/blazemeter/jmeter/scripting/RSADecrypt.java\" rel=\"nofollow noreferrer\">RSADecrypt.java</a></p>\n<p>If you follow installation instructions from <a href=\"https://www.blazemeter.com/blog/beanshell-vs-jsr223-vs-jmeter\" rel=\"nofollow noreferrer\">Beanshell vs. JSR223 vs. Java For JMeter: Complete Showdown</a> article you should see the next 2 guys there:</p>\n<p><a href=\"https://i.stack.imgur.com/peHO2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peHO2.png\" alt=\"enter image description here\" /></a></p>\n<p>If you see them - then there is something wrong with your jar, take a look at <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a> and see if there are any suspicious entries there.</p>\n<p>If you don't see them - then something is wrong with your JMeter installation, it's better to reinstall it from scratch.</p>\n"}],"owner":{"account_id":14578427,"reputation":3,"user_id":10529668,"display_name":"MWski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73543655,"answer_count":1,"score":0,"last_activity_date":1661873645,"creation_date":1661866866,"question_id":73543461,"body_markdown":"JMeter (5.5) doesn&#39;t see sampler class in Java request despite steps below being done:\r\n\r\n - Sampler is in uber jar\r\n - Jar was added to &lt;jmeter path&gt;/lib and &lt;jmeter path&gt;/lib/ext\r\n - jmeter.properties user.classpath and search_path were tested (no luck)\r\n - [Jar was added in test plan in GUI][1]\r\n - Sampler is extending AbstractJavaSamplerClient\r\n\r\n   \r\n```\r\n2022-08-30 15:27:34,324 ERROR o.a.j.p.j.c.g.JavaConfigGui: Error creating class:&#39;package.SseSampler&#39; in JavaSampler ${__threadNum}  SSE ${Username}, check for a missing jar in your jmeter &#39;search_paths&#39; and &#39;plugin_dependency_paths&#39; properties\r\njava.lang.ClassNotFoundException: package.SseSampler\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\tat java.lang.Class.forName0(Native Method) ~[?:?]\r\n\tat java.lang.Class.forName(Class.java:467) ~[?:?]\r\n\tat org.apache.jmeter.protocol.java.config.gui.JavaConfigGui.classOk(JavaConfigGui.java:272) ~[ApacheJMeter_java.jar:5.5]\r\n\tat org.apache.jmeter.protocol.java.config.gui.JavaConfigGui.configure(JavaConfigGui.java:260) ~[ApacheJMeter_java.jar:5.5]\r\n\tat org.apache.jmeter.protocol.java.control.gui.JavaTestSamplerGui.configure(JavaTestSamplerGui.java:89) ~[ApacheJMeter_java.jar:5.5]\r\n\tat org.apache.jmeter.gui.GuiPackage.refreshCurrentGui(GuiPackage.java:468) ~[ApacheJMeter_core.jar:5.5]\r\n\tat org.apache.jmeter.gui.GuiPackage.updateCurrentGui(GuiPackage.java:452) ~[ApacheJMeter_core.jar:5.5]\r\n\tat org.apache.jmeter.gui.action.ActionRouter.performAction(ActionRouter.java:79) ~[ApacheJMeter_core.jar:5.5]\r\n\tat org.apache.jmeter.gui.action.ActionRouter.doActionNow(ActionRouter.java:124) ~[ApacheJMeter_core.jar:5.5]\r\n\tat org.apache.jmeter.gui.MainFrame.actionPerformed(MainFrame.java:899) ~[ApacheJMeter_core.jar:5.5]\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972) ~[?:?]\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313) ~[?:?]\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405) ~[?:?]\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262) ~[?:?]\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279) ~[?:?]\r\n\tat com.github.weisj.darklaf.ui.button.DarkButtonListener.mouseReleased(DarkButtonListener.java:72) ~[darklaf-core-2.7.3.jar:2.7.3]\r\n\tat java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297) ~[?:?]\r\n\tat java.awt.Component.processMouseEvent(Component.java:6626) ~[?:?]\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3389) ~[?:?]\r\n\tat java.awt.Component.processEvent(Component.java:6391) ~[?:?]\r\n\tat java.awt.Container.processEvent(Container.java:2266) ~[?:?]\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:5001) ~[?:?]\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2324) ~[?:?]\r\n\tat java.awt.Component.dispatchEvent(Component.java:4833) ~[?:?]\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948) ~[?:?]\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575) ~[?:?]\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516) ~[?:?]\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2310) ~[?:?]\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2780) ~[?:?]\r\n\tat java.awt.Component.dispatchEvent(Component.java:4833) ~[?:?]\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773) ~[?:?]\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:722) ~[?:?]\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:716) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86) ~[?:?]\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97) ~[?:?]\r\n\tat java.awt.EventQueue$5.run(EventQueue.java:746) ~[?:?]\r\n\tat java.awt.EventQueue$5.run(EventQueue.java:744) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86) ~[?:?]\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:743) ~[?:?]\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203) ~[?:?]\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124) ~[?:?]\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113) ~[?:?]\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109) ~[?:?]\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101) ~[?:?]\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:90) ~[?:?]\r\n\r\n```\r\n\r\n\r\nEverything worked in 5.4.1 version, but for some reason it cannot run right now on my machine, so I would like to try use newest one.\r\n\r\nEnv:\r\n\r\n - Windows 10 Enterprise \r\n - Java 11 openjdk version &quot;11.0.14&quot; 2022-01-18 LTS\r\n\r\n  [1]: https://i.stack.imgur.com/AnvCk.png","title":"JMeter ClassNotFoundException on Java Request Sampler class","body":"<p>JMeter (5.5) doesn't see sampler class in Java request despite steps below being done:</p>\n<ul>\n<li>Sampler is in uber jar</li>\n<li>Jar was added to /lib and /lib/ext</li>\n<li>jmeter.properties user.classpath and search_path were tested (no luck)</li>\n<li><a href=\"https://i.stack.imgur.com/AnvCk.png\" rel=\"nofollow noreferrer\">Jar was added in test plan in GUI</a></li>\n<li>Sampler is extending AbstractJavaSamplerClient</li>\n</ul>\n<pre><code>2022-08-30 15:27:34,324 ERROR o.a.j.p.j.c.g.JavaConfigGui: Error creating class:'package.SseSampler' in JavaSampler ${__threadNum}  SSE ${Username}, check for a missing jar in your jmeter 'search_paths' and 'plugin_dependency_paths' properties\njava.lang.ClassNotFoundException: package.SseSampler\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at java.lang.Class.forName0(Native Method) ~[?:?]\n    at java.lang.Class.forName(Class.java:467) ~[?:?]\n    at org.apache.jmeter.protocol.java.config.gui.JavaConfigGui.classOk(JavaConfigGui.java:272) ~[ApacheJMeter_java.jar:5.5]\n    at org.apache.jmeter.protocol.java.config.gui.JavaConfigGui.configure(JavaConfigGui.java:260) ~[ApacheJMeter_java.jar:5.5]\n    at org.apache.jmeter.protocol.java.control.gui.JavaTestSamplerGui.configure(JavaTestSamplerGui.java:89) ~[ApacheJMeter_java.jar:5.5]\n    at org.apache.jmeter.gui.GuiPackage.refreshCurrentGui(GuiPackage.java:468) ~[ApacheJMeter_core.jar:5.5]\n    at org.apache.jmeter.gui.GuiPackage.updateCurrentGui(GuiPackage.java:452) ~[ApacheJMeter_core.jar:5.5]\n    at org.apache.jmeter.gui.action.ActionRouter.performAction(ActionRouter.java:79) ~[ApacheJMeter_core.jar:5.5]\n    at org.apache.jmeter.gui.action.ActionRouter.doActionNow(ActionRouter.java:124) ~[ApacheJMeter_core.jar:5.5]\n    at org.apache.jmeter.gui.MainFrame.actionPerformed(MainFrame.java:899) ~[ApacheJMeter_core.jar:5.5]\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972) ~[?:?]\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313) ~[?:?]\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405) ~[?:?]\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262) ~[?:?]\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279) ~[?:?]\n    at com.github.weisj.darklaf.ui.button.DarkButtonListener.mouseReleased(DarkButtonListener.java:72) ~[darklaf-core-2.7.3.jar:2.7.3]\n    at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297) ~[?:?]\n    at java.awt.Component.processMouseEvent(Component.java:6626) ~[?:?]\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3389) ~[?:?]\n    at java.awt.Component.processEvent(Component.java:6391) ~[?:?]\n    at java.awt.Container.processEvent(Container.java:2266) ~[?:?]\n    at java.awt.Component.dispatchEventImpl(Component.java:5001) ~[?:?]\n    at java.awt.Container.dispatchEventImpl(Container.java:2324) ~[?:?]\n    at java.awt.Component.dispatchEvent(Component.java:4833) ~[?:?]\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948) ~[?:?]\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575) ~[?:?]\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516) ~[?:?]\n    at java.awt.Container.dispatchEventImpl(Container.java:2310) ~[?:?]\n    at java.awt.Window.dispatchEventImpl(Window.java:2780) ~[?:?]\n    at java.awt.Component.dispatchEvent(Component.java:4833) ~[?:?]\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773) ~[?:?]\n    at java.awt.EventQueue$4.run(EventQueue.java:722) ~[?:?]\n    at java.awt.EventQueue$4.run(EventQueue.java:716) ~[?:?]\n    at java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86) ~[?:?]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97) ~[?:?]\n    at java.awt.EventQueue$5.run(EventQueue.java:746) ~[?:?]\n    at java.awt.EventQueue$5.run(EventQueue.java:744) ~[?:?]\n    at java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86) ~[?:?]\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:743) ~[?:?]\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203) ~[?:?]\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124) ~[?:?]\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113) ~[?:?]\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109) ~[?:?]\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101) ~[?:?]\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:90) ~[?:?]\n\n</code></pre>\n<p>Everything worked in 5.4.1 version, but for some reason it cannot run right now on my machine, so I would like to try use newest one.</p>\n<p>Env:</p>\n<ul>\n<li>Windows 10 Enterprise</li>\n<li>Java 11 openjdk version &quot;11.0.14&quot; 2022-01-18 LTS</li>\n</ul>\n"},{"tags":["java","multithreading","asynchronous","concurrency","synchronization"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661585085,"post_id":73508501,"comment_id":129811105,"body_markdown":"Some example code would help this Question. In particular, I doubt your &quot;getter method that is synchronized&quot; is actually thread-safe, but I can only guess.","body":"Some example code would help this Question. In particular, I doubt your &quot;getter method that is synchronized&quot; is actually thread-safe, but I can only guess."},{"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"score":0,"creation_date":1661601153,"post_id":73508501,"comment_id":129813611,"body_markdown":"@BasilBourque Well I store a concurrent map filled with Data objects each of those Data objects contain a LinkedList with a synchronized getter that returns the LinkedList. I will always be accessing the same Object instance via that map and since it’s only one internal synchronized call and is the only way to reference that LinkedList it should be thread safe. But really my question above is about trying to find a new / better way do this to avoid synchronization overhead.","body":"@BasilBourque Well I store a concurrent map filled with Data objects each of those Data objects contain a LinkedList with a synchronized getter that returns the LinkedList. I will always be accessing the same Object instance via that map and since it’s only one internal synchronized call and is the only way to reference that LinkedList it should be thread safe. But really my question above is about trying to find a new / better way do this to avoid synchronization overhead."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661873432,"creation_date":1661616136,"answer_id":73512499,"question_id":73508501,"body_markdown":"# Premature optimization\r\n\r\nIt sounds like you are overly worried about the cost of synchronization. Doing a dozen, or a hundred, or even a thousand synchronizations once an hour is not going to impact the performance of your app by any significant amount. \r\n\r\nIf your concern has not yet been validated by careful study with a profiling tool, you’ve fallen into the common trap of *premature optimization*.\r\n\r\n# `AtomicReference`\r\n\r\nNevertheless, I can suggest an alternative approach. \r\n\r\nYou want to replace a list once an hour. If you do not mind letting any threads continue using the current list already accessed while you swap out for a new list, then use [`AtomicReference`][1]. An object of this class holds the reference to another object of a specified type.\r\n\r\nI generally like the `Atomic…` classes for thread-safety work because they scream out to the reader that a concurrency problem is at hand. \r\n\r\n    AtomicReference &lt; List &lt; Task &gt; &gt; listRef = new AtomicReference&lt;&gt;( originalList ) ;\r\n\r\nA different thread is able to replace that reference to the old list with a reference to the new list. \r\n\r\n    listRef.set( newList ) ;\r\n\r\nAccess by the other thread:\r\n\r\n    List&lt; Task &gt; list = listRef.get() ; \r\n\r\nNote that this approach does *not* make thread-safe the payload, the list itself. But you claim that only a single thread will ever be manipulating the content of the list. You claim a different thread will only replace the entire list. So this `AtomicReference` serves the purpose of replacing the list in a thread-safe manner while making the issue of concurrency quite obvious. \r\n\r\n# `volatile`\r\n\r\nUsing `AtomicReference` accomplishes the same goal as `volatile`. I’m wary of `volatile` because (a) its use may go unnoticed by the reader, and (b) I suspect many Java programmers do not understand `volatile`, especially since its meaning was redefined. \r\n\r\n----------\r\n\r\n\r\nFor more info about why plain reference assignment is not thread-safe, see [this Question](https://stackoverflow.com/q/13032766/642706).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html","title":"Java prioritizing threads","body":"<h1>Premature optimization</h1>\n<p>It sounds like you are overly worried about the cost of synchronization. Doing a dozen, or a hundred, or even a thousand synchronizations once an hour is not going to impact the performance of your app by any significant amount.</p>\n<p>If your concern has not yet been validated by careful study with a profiling tool, you’ve fallen into the common trap of <em>premature optimization</em>.</p>\n<h1><code>AtomicReference</code></h1>\n<p>Nevertheless, I can suggest an alternative approach.</p>\n<p>You want to replace a list once an hour. If you do not mind letting any threads continue using the current list already accessed while you swap out for a new list, then use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a>. An object of this class holds the reference to another object of a specified type.</p>\n<p>I generally like the <code>Atomic…</code> classes for thread-safety work because they scream out to the reader that a concurrency problem is at hand.</p>\n<pre><code>AtomicReference &lt; List &lt; Task &gt; &gt; listRef = new AtomicReference&lt;&gt;( originalList ) ;\n</code></pre>\n<p>A different thread is able to replace that reference to the old list with a reference to the new list.</p>\n<pre><code>listRef.set( newList ) ;\n</code></pre>\n<p>Access by the other thread:</p>\n<pre><code>List&lt; Task &gt; list = listRef.get() ; \n</code></pre>\n<p>Note that this approach does <em>not</em> make thread-safe the payload, the list itself. But you claim that only a single thread will ever be manipulating the content of the list. You claim a different thread will only replace the entire list. So this <code>AtomicReference</code> serves the purpose of replacing the list in a thread-safe manner while making the issue of concurrency quite obvious.</p>\n<h1><code>volatile</code></h1>\n<p>Using <code>AtomicReference</code> accomplishes the same goal as <code>volatile</code>. I’m wary of <code>volatile</code> because (a) its use may go unnoticed by the reader, and (b) I suspect many Java programmers do not understand <code>volatile</code>, especially since its meaning was redefined.</p>\n<hr />\n<p>For more info about why plain reference assignment is not thread-safe, see <a href=\"https://stackoverflow.com/q/13032766/642706\">this Question</a>.</p>\n"}],"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661873432,"creation_date":1661576598,"question_id":73508501,"body_markdown":"My main thread has a private LinkedList which contains task objects for the players in my game. I then have a separate thread that runs every hour that accesses and clears that LinkedList and runs my algorithm which randomly adds new uncompleted tasks to every players LinkedList. Right now I made a getter method that is synchronized so that I dont run into any concurrency issues. This works fine but the synchronized keyword has a lot of overhead especially since its accessed a ton from the main thread while only accessed hourly from my second thread. \r\n\r\nI am wondering if there is a way to prioritize the main thread? For example on that 2nd thread I could loop through the players then make a new LinkedList then run my algorithm and add all the tasks to that LinkedList then quickly assign the old LinkedList equal to the new one. This would slightly increase memory usage on the stack while improving main thread speed.\r\n\r\n Basically I am trying to avoid making my main thread use synchronization when it will only be used once an hour at most and I am willing to greatly degrade the performance of the 2nd thread to keep the main threads speed. Is there a way I can use the 2nd thread to notify the 1st that it will be locking a method instead of having the 1st thread physically have to go through all of the synchronization over head steps? I feel like this would be possible since if that 2nd thread shares a cache with the main thread and it could change a boolean denoting that the main thread has to wait till that variable is changed back. The main thread would have to check that boolean every time it tries run that method and if the 2nd thread is telling it to wait the main thread will then freeze till the boolean is changed.\r\n\r\nOf course the 2nd thread would have to specify which object and method has the lock along with a binary 0 or 1 denoting if its locked or not. Then the main thread would just need to check its shared cache for the object and the binary boolean value once it reaches that method which seems way faster than normal synchronization. Anyways this would then result in them main thread running at normal speed while the 2nd thread handles a bunch of work behind the scenes without degrading main thread performance. Does this exist if so how can I do it and if it does not exist how hard would it actually be to implement? ","title":"Java prioritizing threads","body":"<p>My main thread has a private LinkedList which contains task objects for the players in my game. I then have a separate thread that runs every hour that accesses and clears that LinkedList and runs my algorithm which randomly adds new uncompleted tasks to every players LinkedList. Right now I made a getter method that is synchronized so that I dont run into any concurrency issues. This works fine but the synchronized keyword has a lot of overhead especially since its accessed a ton from the main thread while only accessed hourly from my second thread.</p>\n<p>I am wondering if there is a way to prioritize the main thread? For example on that 2nd thread I could loop through the players then make a new LinkedList then run my algorithm and add all the tasks to that LinkedList then quickly assign the old LinkedList equal to the new one. This would slightly increase memory usage on the stack while improving main thread speed.</p>\n<p>Basically I am trying to avoid making my main thread use synchronization when it will only be used once an hour at most and I am willing to greatly degrade the performance of the 2nd thread to keep the main threads speed. Is there a way I can use the 2nd thread to notify the 1st that it will be locking a method instead of having the 1st thread physically have to go through all of the synchronization over head steps? I feel like this would be possible since if that 2nd thread shares a cache with the main thread and it could change a boolean denoting that the main thread has to wait till that variable is changed back. The main thread would have to check that boolean every time it tries run that method and if the 2nd thread is telling it to wait the main thread will then freeze till the boolean is changed.</p>\n<p>Of course the 2nd thread would have to specify which object and method has the lock along with a binary 0 or 1 denoting if its locked or not. Then the main thread would just need to check its shared cache for the object and the binary boolean value once it reaches that method which seems way faster than normal synchronization. Anyways this would then result in them main thread running at normal speed while the 2nd thread handles a bunch of work behind the scenes without degrading main thread performance. Does this exist if so how can I do it and if it does not exist how hard would it actually be to implement?</p>\n"},{"tags":["java","spring","kotlin","validation","javax.validation"],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661873176,"creation_date":1661872864,"answer_id":73544880,"question_id":73544589,"body_markdown":"As I can see on the example above, you added two constraint violation message but in the different `if` cases. For a getting several checks and violation messages from one validator you should have not placed `return` after each `if` cases, instead of this you can create a local boolean variable and set its value from each of `if` statement cases, and after all make `return` that variable.\r\n\r\nPay attention to a little thing: it is important for your validator to set a temporary boolean variable correctly, because if once your `if` was set into `false` that means ultimate return value should be `false`. Cuz there is a principle `anyMatch(false)` or `allMatch(true)`","title":"Javax validation message according to condition","body":"<p>As I can see on the example above, you added two constraint violation message but in the different <code>if</code> cases. For a getting several checks and violation messages from one validator you should have not placed <code>return</code> after each <code>if</code> cases, instead of this you can create a local boolean variable and set its value from each of <code>if</code> statement cases, and after all make <code>return</code> that variable.</p>\n<p>Pay attention to a little thing: it is important for your validator to set a temporary boolean variable correctly, because if once your <code>if</code> was set into <code>false</code> that means ultimate return value should be <code>false</code>. Cuz there is a principle <code>anyMatch(false)</code> or <code>allMatch(true)</code></p>\n"}],"owner":{"account_id":1559584,"reputation":1313,"user_id":1449791,"accept_rate":67,"display_name":"Leonardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661873176,"creation_date":1661871673,"question_id":73544589,"body_markdown":"I have a Spring Boot project in Kotlin which uses a custom locale interceptor to know from which `.properties` file it load messages.\r\nThis works pretty fine. Also I have a custom annotation which is simple and has a default message value, as follow:\r\n\r\n    @Target(AnnotationTarget.Field)\r\n    @Constraint(validatedBy = [MyCustomValidator::class])\r\n    annotation class MyAnnotation(\r\n        val message: String = &quot;{javax.validation.constraints.MyAnnotation.message}&quot;,\r\n        val groups: Array&lt;KClass&lt;*&gt;&gt; = [],\r\n        val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = []\r\n    )\r\n    \r\n    class MyCustomValidator : ConstraintValidator&lt;MyAnnotation, String&gt; {\r\n        override fun isValid(value: String, context: ConstraintValidatorContext) {\r\n            return true //Just to make it easy\r\n        }\r\n    }\r\n\r\nThe locale properties files contains the key `MyAnnotation.value=This field is required` and shows as the exception message.\r\n\r\nThe problem is when I want to add more validations and so, custom messages according to each condition. I read that I should disable the default constraint validator and add the messages, but it is not working. \r\n\r\nFor example, if I want to create a key at locale file as `MyAnnotation.conditionOne`, it still prints the message from `MyAnnotation.value`.\r\n\r\n    //The only thing that changes in MyAnnotation is that message: String = &quot;&quot;\r\n    //Assuming that ConditionOne and ConditionTwo has a isValid static method\r\n\r\n    class MyCustomValidator : ConstraintValidator&lt;MyAnnotation, String&gt; {\r\n        override fun isValid(value: String, context: ConstraintValidatorContext): Boolean {\r\n            context.disableDefaultConstraintViolation()\r\n            return if (!ConditionOne.isValid(value)) {\r\n                context\r\n                    .buildConstraintViolationWithTemplate(&quot;{javax.validation.constraints.MyAnnotation.conditionOne}&quot;)\r\n                    .addConstraintViolation()\r\n                false\r\n            }\r\n            else if (!ConditonTwo.isValid(value)) {\r\n                context\r\n                    .buildConstraintViolationWithTemplate(&quot;{javax.validation.constraints.MyAnnotation.message}&quot;)\r\n                    .addConstraintViolation()\r\n                false               \r\n            }\r\n            else\r\n                true\r\n        }\r\n    }\r\n\r\nIs this the right way to set the message?","title":"Javax validation message according to condition","body":"<p>I have a Spring Boot project in Kotlin which uses a custom locale interceptor to know from which <code>.properties</code> file it load messages.\nThis works pretty fine. Also I have a custom annotation which is simple and has a default message value, as follow:</p>\n<pre><code>@Target(AnnotationTarget.Field)\n@Constraint(validatedBy = [MyCustomValidator::class])\nannotation class MyAnnotation(\n    val message: String = &quot;{javax.validation.constraints.MyAnnotation.message}&quot;,\n    val groups: Array&lt;KClass&lt;*&gt;&gt; = [],\n    val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = []\n)\n\nclass MyCustomValidator : ConstraintValidator&lt;MyAnnotation, String&gt; {\n    override fun isValid(value: String, context: ConstraintValidatorContext) {\n        return true //Just to make it easy\n    }\n}\n</code></pre>\n<p>The locale properties files contains the key <code>MyAnnotation.value=This field is required</code> and shows as the exception message.</p>\n<p>The problem is when I want to add more validations and so, custom messages according to each condition. I read that I should disable the default constraint validator and add the messages, but it is not working.</p>\n<p>For example, if I want to create a key at locale file as <code>MyAnnotation.conditionOne</code>, it still prints the message from <code>MyAnnotation.value</code>.</p>\n<pre><code>//The only thing that changes in MyAnnotation is that message: String = &quot;&quot;\n//Assuming that ConditionOne and ConditionTwo has a isValid static method\n\nclass MyCustomValidator : ConstraintValidator&lt;MyAnnotation, String&gt; {\n    override fun isValid(value: String, context: ConstraintValidatorContext): Boolean {\n        context.disableDefaultConstraintViolation()\n        return if (!ConditionOne.isValid(value)) {\n            context\n                .buildConstraintViolationWithTemplate(&quot;{javax.validation.constraints.MyAnnotation.conditionOne}&quot;)\n                .addConstraintViolation()\n            false\n        }\n        else if (!ConditonTwo.isValid(value)) {\n            context\n                .buildConstraintViolationWithTemplate(&quot;{javax.validation.constraints.MyAnnotation.message}&quot;)\n                .addConstraintViolation()\n            false               \n        }\n        else\n            true\n    }\n}\n</code></pre>\n<p>Is this the right way to set the message?</p>\n"},{"tags":["java","spring","maven","visual-studio-code"],"comments":[{"owner":{"account_id":26199448,"reputation":3,"user_id":19880078,"display_name":"aftermath"},"score":0,"creation_date":1661871439,"post_id":73544490,"comment_id":129871926,"body_markdown":"I have configured the location of JDK and Maven in vscode","body":"I have configured the location of JDK and Maven in vscode"}],"answers":[{"tags":[],"owner":{"account_id":1485868,"reputation":676,"user_id":1394172,"display_name":"hillel_guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661873060,"creation_date":1661873060,"answer_id":73544925,"question_id":73544490,"body_markdown":"You have a duplicate dependency in lines 96 &amp; 171\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\r\n            &lt;version&gt;${aliyun-sdk-oss.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Running Java Maven project with vscode encountered some errors","body":"<p>You have a duplicate dependency in lines 96 &amp; 171</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\n            &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\n            &lt;version&gt;${aliyun-sdk-oss.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26199448,"reputation":3,"user_id":19880078,"display_name":"aftermath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73544925,"answer_count":1,"score":0,"last_activity_date":1661873060,"creation_date":1661871213,"question_id":73544490,"body_markdown":"Here is my error\r\n\r\n&gt; Project build error: Non-resolvable parent POM for com.aftermath:guli_parent:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:2.2.1.RELEASE failed to transfer from http://maven.aliyun.com/nexus/content/groups/public during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of alimaven has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.2.1.RELEASE from/to alimaven (http://maven.aliyun.com/nexus/content/groups/public): Connect timed out and &#39;parent.relativePath&#39; points at no local POMJava(0)\r\n\r\nHere is my code\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;service&lt;/module&gt;\r\n        &lt;module&gt;commom&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.aftermath&lt;/groupId&gt;\r\n    &lt;artifactId&gt;guli_parent&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;guli_parent&lt;/name&gt;\r\n    &lt;description&gt;guli_parent&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;guli.version&gt;0.0.1-SNAPSHOT&lt;/guli.version&gt;\r\n        &lt;mybatis-plus.version&gt;3.0.5&lt;/mybatis-plus.version&gt;\r\n        &lt;velocity.version&gt;2.3&lt;/velocity.version&gt;\r\n        &lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\r\n        &lt;aliyun.oss.version&gt;2.8.3&lt;/aliyun.oss.version&gt;\r\n        &lt;jodatime.version&gt;2.10.1&lt;/jodatime.version&gt;\r\n        &lt;poi.version&gt;5.2.2&lt;/poi.version&gt;\r\n        &lt;commons-fileupload.version&gt;1.4&lt;/commons-fileupload.version&gt;\r\n        &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\r\n        &lt;httpclient.version&gt;4.5.13&lt;/httpclient.version&gt;\r\n        &lt;jwt.version&gt;0.7.0&lt;/jwt.version&gt;\r\n        &lt;aliyun-java-sdk-core.version&gt;4.3.3&lt;/aliyun-java-sdk-core.version&gt;\r\n        &lt;aliyun-sdk-oss.version&gt;3.1.0&lt;/aliyun-sdk-oss.version&gt;\r\n        &lt;aliyun-java-sdk-vod.version&gt;2.15.2&lt;/aliyun-java-sdk-vod.version&gt;\r\n        &lt;aliyun-java-vod-upload.version&gt;1.4.11&lt;/aliyun-java-vod-upload.version&gt;\r\n        &lt;aliyun-sdk-vod-upload.version&gt;1.4.11&lt;/aliyun-sdk-vod-upload.version&gt;\r\n        &lt;fastjson.version&gt;2.0.11.graal&lt;/fastjson.version&gt;\r\n        &lt;gson.version&gt;2.9.0&lt;/gson.version&gt;\r\n        &lt;json.version&gt;20170516&lt;/json.version&gt;\r\n        &lt;commons-dbutils.version&gt;1.7&lt;/commons-dbutils.version&gt;\r\n        &lt;canal.client.version&gt;1.1.0&lt;/canal.client.version&gt;\r\n        &lt;docker.image.prefix&gt;zx&lt;/docker.image.prefix&gt;\r\n        &lt;cloud-alibaba.version&gt;0.2.2.RELEASE&lt;/cloud-alibaba.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Spring Cloud--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;Hoxton.RELEASE&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${cloud-alibaba.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--mybatis-plus 持久层--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${mybatis-plus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- velocity 模板引擎, Mybatis Plus 代码生成器需要 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n            &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${velocity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--swagger--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--swagger ui--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--aliyunOSS--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- no more than 2.3.3--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--日期时间工具--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n            &lt;version&gt;${jodatime.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--xls--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;${poi.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--xlsx--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;${poi.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--文件上传--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-fileupload.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--commons-io--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-io.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--httpclient--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;${httpclient.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;${gson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- JWT --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;${jwt.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--aliyun--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-java-sdk-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${aliyun-java-sdk-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\r\n            &lt;version&gt;${aliyun-sdk-oss.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-java-sdk-vod&lt;/artifactId&gt;\r\n            &lt;version&gt;${aliyun-java-sdk-vod.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-java-vod-upload&lt;/artifactId&gt;\r\n            &lt;version&gt;${aliyun-java-vod-upload.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-sdk-vod-upload&lt;/artifactId&gt;\r\n            &lt;version&gt;${aliyun-sdk-vod-upload.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;${fastjson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;${json.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-dbutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-dbutils.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba.otter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;canal.client&lt;/artifactId&gt;\r\n            &lt;version&gt;${canal.client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI found a similar error and tried command `mvn dependency:purge-local-repository` but also encountered an error\r\n\r\n&gt; [INFO] Scanning for projects...\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[WARNING] &#39;dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)&#39; must be unique: com.aliyun.oss:aliyun-sdk-oss:jar -&gt; duplicate declaration of version 3.1.0 @ com.aftermath:guli_parent:0.0.1-SNAPSHOT, D:\\code\\atguigu\\gulixueyuan\\guli_parent\\pom.xml, line 169, column 21\r\n[ERROR] &#39;modules.module[2]&#39; specifies duplicate child module service_oss @ line 17, column 17\r\n[WARNING] &#39;dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)&#39; must be unique: com.aliyun.oss:aliyun-sdk-oss:jar -&gt; duplicate declaration of version 3.1.0 @ line 169, column 21\r\n @\r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]   \r\n[ERROR]   The project com.aftermath:service:0.0.1-SNAPSHOT (D:\\code\\atguigu\\gulixueyuan\\guli_parent\\service\\pom.xml) has 1 error\r\n[ERROR]     &#39;modules.module[2]&#39; specifies duplicate child module service_oss @ line 17, column 17\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n\r\nI don&#39;t know what to do next. This is the first time I use vscode to run Java Maven project. Is there any configuration missing? Ask for help","title":"Running Java Maven project with vscode encountered some errors","body":"<p>Here is my error</p>\n<blockquote>\n<p>Project build error: Non-resolvable parent POM for com.aftermath:guli_parent:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:2.2.1.RELEASE failed to transfer from <a href=\"http://maven.aliyun.com/nexus/content/groups/public\" rel=\"nofollow noreferrer\">http://maven.aliyun.com/nexus/content/groups/public</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of alimaven has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.2.1.RELEASE from/to alimaven (<a href=\"http://maven.aliyun.com/nexus/content/groups/public\" rel=\"nofollow noreferrer\">http://maven.aliyun.com/nexus/content/groups/public</a>): Connect timed out and 'parent.relativePath' points at no local POMJava(0)</p>\n</blockquote>\n<p>Here is my code</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;modules&gt;\n        &lt;module&gt;service&lt;/module&gt;\n        &lt;module&gt;commom&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.aftermath&lt;/groupId&gt;\n    &lt;artifactId&gt;guli_parent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;guli_parent&lt;/name&gt;\n    &lt;description&gt;guli_parent&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;guli.version&gt;0.0.1-SNAPSHOT&lt;/guli.version&gt;\n        &lt;mybatis-plus.version&gt;3.0.5&lt;/mybatis-plus.version&gt;\n        &lt;velocity.version&gt;2.3&lt;/velocity.version&gt;\n        &lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\n        &lt;aliyun.oss.version&gt;2.8.3&lt;/aliyun.oss.version&gt;\n        &lt;jodatime.version&gt;2.10.1&lt;/jodatime.version&gt;\n        &lt;poi.version&gt;5.2.2&lt;/poi.version&gt;\n        &lt;commons-fileupload.version&gt;1.4&lt;/commons-fileupload.version&gt;\n        &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\n        &lt;httpclient.version&gt;4.5.13&lt;/httpclient.version&gt;\n        &lt;jwt.version&gt;0.7.0&lt;/jwt.version&gt;\n        &lt;aliyun-java-sdk-core.version&gt;4.3.3&lt;/aliyun-java-sdk-core.version&gt;\n        &lt;aliyun-sdk-oss.version&gt;3.1.0&lt;/aliyun-sdk-oss.version&gt;\n        &lt;aliyun-java-sdk-vod.version&gt;2.15.2&lt;/aliyun-java-sdk-vod.version&gt;\n        &lt;aliyun-java-vod-upload.version&gt;1.4.11&lt;/aliyun-java-vod-upload.version&gt;\n        &lt;aliyun-sdk-vod-upload.version&gt;1.4.11&lt;/aliyun-sdk-vod-upload.version&gt;\n        &lt;fastjson.version&gt;2.0.11.graal&lt;/fastjson.version&gt;\n        &lt;gson.version&gt;2.9.0&lt;/gson.version&gt;\n        &lt;json.version&gt;20170516&lt;/json.version&gt;\n        &lt;commons-dbutils.version&gt;1.7&lt;/commons-dbutils.version&gt;\n        &lt;canal.client.version&gt;1.1.0&lt;/canal.client.version&gt;\n        &lt;docker.image.prefix&gt;zx&lt;/docker.image.prefix&gt;\n        &lt;cloud-alibaba.version&gt;0.2.2.RELEASE&lt;/cloud-alibaba.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Spring Cloud--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;Hoxton.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${cloud-alibaba.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--mybatis-plus 持久层--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${mybatis-plus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- velocity 模板引擎, Mybatis Plus 代码生成器需要 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt;\n            &lt;version&gt;${velocity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--swagger--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--swagger ui--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--aliyunOSS--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\n            &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- no more than 2.3.3--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--日期时间工具--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;${jodatime.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--xls--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;${poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--xlsx--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;${poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--文件上传--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;${commons-fileupload.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--commons-io--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;${commons-io.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--httpclient--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;${httpclient.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;${gson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- JWT --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;${jwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--aliyun--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\n            &lt;artifactId&gt;aliyun-java-sdk-core&lt;/artifactId&gt;\n            &lt;version&gt;${aliyun-java-sdk-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\n            &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\n            &lt;version&gt;${aliyun-sdk-oss.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\n            &lt;artifactId&gt;aliyun-java-sdk-vod&lt;/artifactId&gt;\n            &lt;version&gt;${aliyun-java-sdk-vod.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\n            &lt;artifactId&gt;aliyun-java-vod-upload&lt;/artifactId&gt;\n            &lt;version&gt;${aliyun-java-vod-upload.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\n            &lt;artifactId&gt;aliyun-sdk-vod-upload&lt;/artifactId&gt;\n            &lt;version&gt;${aliyun-sdk-vod-upload.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;${fastjson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;${json.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt;\n            &lt;version&gt;${commons-dbutils.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.otter&lt;/groupId&gt;\n            &lt;artifactId&gt;canal.client&lt;/artifactId&gt;\n            &lt;version&gt;${canal.client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I found a similar error and tried command <code>mvn dependency:purge-local-repository</code> but also encountered an error</p>\n<blockquote>\n<p>[INFO] Scanning for projects...\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: com.aliyun.oss:aliyun-sdk-oss:jar -&gt; duplicate declaration of version 3.1.0 @ com.aftermath:guli_parent:0.0.1-SNAPSHOT, D:\\code\\atguigu\\gulixueyuan\\guli_parent\\pom.xml, line 169, column 21\n[ERROR] 'modules.module[2]' specifies duplicate child module service_oss @ line 17, column 17\n[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: com.aliyun.oss:aliyun-sdk-oss:jar -&gt; duplicate declaration of version 3.1.0 @ line 169, column 21\n@\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]<br />\n[ERROR]   The project com.aftermath:service:0.0.1-SNAPSHOT (D:\\code\\atguigu\\gulixueyuan\\guli_parent\\service\\pom.xml) has 1 error\n[ERROR]     'modules.module[2]' specifies duplicate child module service_oss @ line 17, column 17\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException</a></p>\n</blockquote>\n<p>I don't know what to do next. This is the first time I use vscode to run Java Maven project. Is there any configuration missing? Ask for help</p>\n"},{"tags":["java","spring-boot","rest","maven","tomcat"],"comments":[{"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1587499480,"post_id":61352089,"comment_id":108535230,"body_markdown":"Does it help to use `@GetMapping(&quot;/systems&quot;)`, using leading slash","body":"Does it help to use <code>@GetMapping(&quot;&#47;systems&quot;)</code>, using leading slash"},{"owner":{"account_id":7703144,"reputation":122,"user_id":5834929,"display_name":"bmck2006"},"score":0,"creation_date":1587573646,"post_id":61352089,"comment_id":108566743,"body_markdown":"No that didn&#39;t end up being the issue, as the application works fine when running directly from spring-boot run command. I did try manipulating the mappings for troubleshooting though. My answer below solved thd issue for me.","body":"No that didn&#39;t end up being the issue, as the application works fine when running directly from spring-boot run command. I did try manipulating the mappings for troubleshooting though. My answer below solved thd issue for me."}],"answers":[{"tags":[],"owner":{"account_id":7703144,"reputation":122,"user_id":5834929,"display_name":"bmck2006"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587502540,"creation_date":1587502540,"answer_id":61353076,"question_id":61352089,"body_markdown":"Removing the ServletInitializer.java class and updating my application file to the following resolved the issue (extending SpringBootServletInitializer and overriding the configure method). Note that I tried this before, but built the application using both Eclipse and InteliJ. Both times the same issue still occurred. This final time I built using `mvnw package` and the WAR generated in the target directory worked. \r\n\r\n    package com.blank.systemshare;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    \r\n    @SpringBootApplication\r\n    public class SystemshareApplication extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SystemshareApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(SystemshareApplication.class);\r\n    \t}\r\n    \r\n    }","title":"Spring Boot 404 on REST API calls only","body":"<p>Removing the ServletInitializer.java class and updating my application file to the following resolved the issue (extending SpringBootServletInitializer and overriding the configure method). Note that I tried this before, but built the application using both Eclipse and InteliJ. Both times the same issue still occurred. This final time I built using <code>mvnw package</code> and the WAR generated in the target directory worked. </p>\n\n<pre><code>package com.blank.systemshare;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class SystemshareApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SystemshareApplication.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(SystemshareApplication.class);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16079702,"reputation":39,"user_id":11605967,"display_name":"anil reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661872959,"creation_date":1661872959,"answer_id":73544904,"question_id":61352089,"body_markdown":"Try `server.servlet.context-path` instead of `server.servlet.contextPath`.","title":"Spring Boot 404 on REST API calls only","body":"<p>Try <code>server.servlet.context-path</code> instead of <code>server.servlet.contextPath</code>.</p>\n"}],"owner":{"account_id":7703144,"reputation":122,"user_id":5834929,"display_name":"bmck2006"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661872959,"creation_date":1587498875,"question_id":61352089,"body_markdown":"Issue:\r\n------\r\n\r\nI&#39;m working on a Spring-Boot Web Application that needs to be deployed on tomcat (WAR file). When running the application as Java (right click application.java file and run as Java in Eclipse) or running via mvnw.cmd spring-boot:run, everything works PERFECTLY (home page shows, all CRUD operations work). \r\n\r\nWhen I export a WAR file and deploy to tomcat, my static web content and homepage still load fine, but any API calls return a 404 response. \r\n\r\nThis project was created using Spring Initializr. I&#39;ve tried exporting via Eclipse war export, and mvnw.cmd package. Placed the WAR file in webapps directory on server and ran. \r\n\r\nDirectory structure:\r\n--------------------\r\n\r\n[![enter image description here][1]][1]\r\n\r\nApplication file:\r\n-----------------\r\n\r\n    package com.blank.systemshare;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class SystemshareApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SystemshareApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/duJ5h.png\r\n\r\nServletInitializer:\r\n-------------------\r\n\r\n    package com.blank.systemshare;\r\n    \r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    \r\n    public class ServletInitializer extends SpringBootServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(SystemshareApplication.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nController:\r\n-----------\r\n\r\n    package com.blank.systemshare.controller;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import javax.validation.Valid;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.blank.systemshare.exception.ResourceNotFoundException;\r\n    import com.blank.systemshare.model.System;\r\n    import com.blank.systemshare.repository.SystemRepository;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/&quot;)\r\n    public class SystemController {\r\n    \r\n        @Autowired\r\n        private SystemRepository systemRepository;\r\n    \r\n        // get systems\r\n    \r\n        @GetMapping(&quot;systems&quot;)\r\n        public List&lt;System&gt; getSystems() {\r\n            return this.systemRepository.findAllByOrderByVersionDesc();\r\n        }\r\n    \r\n        // create system\r\n        @PostMapping(&quot;systems&quot;)\r\n        public System createSystem(@RequestBody System system) {\r\n            return this.systemRepository.save(system);\r\n        }\r\n    \r\n        // update system\r\n        @PutMapping(&quot;systems/{id}&quot;)\r\n        public ResponseEntity&lt;System&gt; updateSystem(@PathVariable(value = &quot;id&quot;) Long systemId,\r\n                                                   @Valid @RequestBody System systemDetails) throws ResourceNotFoundException {\r\n    \r\n            System system = systemRepository.findById(systemId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;System not found - ID: &quot; + systemId));\r\n    \r\n            system.setVersion(systemDetails.getVersion());\r\n            system.setUrl(systemDetails.getUrl());\r\n            system.setCredentials(systemDetails.getCredentials());\r\n            system.setFrameworks(systemDetails.getFrameworks());\r\n            system.setFw_credentials(systemDetails.getFw_credentials());\r\n            system.setNotes(systemDetails.getNotes());\r\n            system.setOwner(systemDetails.getOwner());\r\n    \r\n            return ResponseEntity.ok(this.systemRepository.save(system));\r\n        }\r\n    \r\n        //delete system\r\n        @DeleteMapping(&quot;systems/{id}&quot;)\r\n        public  Map&lt;String, Boolean&gt; deleteSystem(@PathVariable(value = &quot;id&quot;) Long systemId) throws ResourceNotFoundException {\r\n    \r\n            System system = systemRepository.findById(systemId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;System not found - ID: &quot; + systemId));\r\n    \r\n            this.systemRepository.delete(system);\r\n    \r\n            Map&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\r\n            response.put(&quot;deleted&quot;,  Boolean.TRUE);\r\n    \r\n            return response;\r\n        }\r\n    \r\n    }\r\n\r\nRepository:\r\n-----------\r\n\r\n    package com.blank.systemshare.repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.blank.systemshare.model.System;\r\n    \r\n    @Repository\r\n    public interface SystemRepository extends JpaRepository&lt;System, Long&gt;{\r\n        public List&lt;System&gt; findAllByOrderByVersionDesc();\r\n    }\r\n\r\nApp.js\r\n------\r\n\r\n    var systemShareApp = angular.module(&#39;systemShareApp&#39;, [])\r\n    .controller(&#39;mainController&#39;, ($scope, $http, $window) =&gt; {\r\n\r\n        $scope.version = &#39;1.0&#39;;\r\n        $scope.systemData = {};\r\n        $scope.createSystemFormData = {};\r\n        $scope.editSystemFormData = {};\r\n        \r\n        $scope.dbErrorStatus = false;\r\n        \r\n        \r\n      \r\n        // Get all systems\r\n        var getAllSystems = function() {\r\n        \t$http.get(&#39;/systemshare/api/v1/systems&#39;)\r\n            .success((data) =&gt; {\r\n                $scope.systemData = data;\r\n                $scope.dbErrorStatus = false;\r\n                console.log(data);\r\n            })\r\n            .error((error) =&gt; {\r\n                console.log(&#39;Error: &#39; + error);\r\n                $scope.dbErrorStatus = true;\r\n            });\r\n        };\r\n        \r\n      //initial load of page - get systems.\r\n        getAllSystems();\r\n        \r\n        \r\n\r\n        \r\n        // Create a new system\r\n        $scope.createSystem = () =&gt; {\r\n\r\n            $http.post(&#39;/systemshare/api/v1/systems&#39;, $scope.createSystemFormData)\r\n                .success((data) =&gt; {\r\n                \t$scope.createSystemFormData = {};\r\n                \tgetAllSystems();\r\n                })\r\n                .error((error) =&gt; {\r\n                    console.log(&#39;Error: &#39; + error);\r\n                });\r\n        };\r\n       \r\n        \r\n        // Delete a system\r\n        $scope.deleteSystem = (systemID) =&gt; {\r\n            $http.delete(&#39;/systemshare/api/v1/systems/&#39; + systemID)\r\n                .success((data) =&gt; {\r\n                \tgetAllSystems();\r\n                })\r\n                .error((data) =&gt; {\r\n                    console.log(&#39;Error: &#39; + data);\r\n                });\r\n        };\r\n        \r\n        // Update a system\r\n        $scope.updateSystem = (systemID) =&gt; {\r\n            $http.put(&#39;/systemshare/api/v1/systems/&#39; + systemID, $scope.editSystemFormData)\r\n                .success((data) =&gt; {\r\n                \t$scope.editSystemFormData = {};\r\n                \tgetAllSystems();\r\n                })\r\n                .error((data) =&gt; {\r\n                    console.log(&#39;Error: &#39; + data);\r\n                });\r\n        };\r\n\r\n        //select system function for transfer of object data in list to modal. \r\n        $scope.selectSystem = function(system) {\r\n            \r\n            $scope.thisSystem = system;\r\n            //editSystemFormData Modal updates:\r\n            $scope.editSystemFormData.owner = system.owner;\r\n            $scope.editSystemFormData.version = system.version;\r\n            $scope.editSystemFormData.url = system.url;\r\n            $scope.editSystemFormData.credentials = system.credentials;\r\n            $scope.editSystemFormData.frameworks = system.frameworks;\r\n            $scope.editSystemFormData.fw_credentials = system.fw_credentials;\r\n            $scope.editSystemFormData.notes = system.notes;\r\n        };\r\n    });\r\n\r\nApplication.properties\r\n----------------------\r\n\r\n\r\n    spring.datasource.url=jdbc:postgresql://xx.xx.xxx.xxx:5432/systemshare\r\n    spring.datasource.username=xx\r\n    spring.datasource.password=xx\r\n    spring.jpa.show-sql=true\r\n    \r\n    ## Hibernate Properties\r\n    # The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n    \r\n    # Hibernate ddl auto (create, create-drop, validate, update)\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    server.servlet.contextPath=/systemshare\r\n\r\npom.xml\r\n-------\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \t&lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n        \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        \t&lt;/parent&gt;\r\n        \t&lt;groupId&gt;com.blank&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;systemshare&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n        \t&lt;name&gt;systemshare&lt;/name&gt;\r\n        \t&lt;description&gt;System Share Project&lt;/description&gt;\r\n        \r\n        \t&lt;properties&gt;\r\n        \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n        \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n        \r\n        \t&lt;build&gt;\r\n        \t\t&lt;plugins&gt;\r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \t\t&lt;/plugins&gt;\r\n        \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nmvnw.cmd spring-boot:run output (working scenario)\r\n--------------------------------------------------\r\n\r\n    mvnw.cmd spring-boot:run\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------&lt; com.blank:systemshare &gt;------------------------\r\n    [INFO] Building systemshare 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ war ]---------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; spring-boot-maven-plugin:2.2.6.RELEASE:run (default-cli) &gt; test-compile @ systemshare &gt;&gt;&gt;\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ systemshare ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 4 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ systemshare ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 8 source files to C:\\Users\\user\\Documents\\JavaProjects\\systemshare\\target\\classes\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ systemshare ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\user\\Documents\\JavaProjects\\systemshare\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ systemshare ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to C:\\Users\\user\\Documents\\JavaProjects\\systemshare\\target\\test-classes\r\n    [INFO]\r\n    [INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.2.6.RELEASE:run (default-cli) &lt; test-compile @ systemshare &lt;&lt;&lt;\r\n    [INFO]\r\n    [INFO]\r\n    [INFO] --- spring-boot-maven-plugin:2.2.6.RELEASE:run (default-cli) @ systemshare ---\r\n    [INFO] Attaching agents: []\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.6.RELEASE)\r\n    \r\n    2020-04-21 14:50:58.430  INFO 19748 --- [  restartedMain] c.p.systemshare.SystemshareApplication   : Starting SystemshareApplication on L37853WUS with PID 19748 (C:\\Users\\user\\Documents\\JavaProjects\\systemshare\\target\\classes started by userin C:\\Users\\mck\r\n    eb2\\Documents\\JavaProjects\\systemshare)\r\n    2020-04-21 14:50:58.435  INFO 19748 --- [  restartedMain] c.p.systemshare.SystemshareApplication   : No active profile set, falling back to default profiles: default\r\n    2020-04-21 14:50:58.513  INFO 19748 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\user\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.2\\jaxb-runtime-2.3.2.jar referenced one or more files th\r\n    at do not exist: file:/C:/Users/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/user/.m2/repository/org/glassfi\r\n    sh/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/U\r\n    sers/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar\r\n    2020-04-21 14:50:58.513  INFO 19748 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2020-04-21 14:50:58.513  INFO 19748 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2020-04-21 14:50:59.303  INFO 19748 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2020-04-21 14:50:59.383  INFO 19748 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71ms. Found 1 JPA repository interfaces.\r\n    2020-04-21 14:51:00.475  INFO 19748 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2020-04-21 14:51:00.489  INFO 19748 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2020-04-21 14:51:00.490  INFO 19748 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.33]\r\n    2020-04-21 14:51:00.674  INFO 19748 --- [  restartedMain] o.a.c.c.C.[.[localhost].[/systemshare]   : Initializing Spring embedded WebApplicationContext\r\n    2020-04-21 14:51:00.675  INFO 19748 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2161 ms\r\n    2020-04-21 14:51:00.858  INFO 19748 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2020-04-21 14:51:00.942  INFO 19748 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.12.Final\r\n    2020-04-21 14:51:01.117  INFO 19748 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    2020-04-21 14:51:01.228  INFO 19748 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2020-04-21 14:51:01.603  INFO 19748 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2020-04-21 14:51:01.621  INFO 19748 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    2020-04-21 14:51:02.803  INFO 19748 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2020-04-21 14:51:02.810  INFO 19748 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2020-04-21 14:51:02.825  INFO 19748 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2020-04-21 14:51:03.186  WARN 19748 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view\r\n    to disable this warning\r\n    2020-04-21 14:51:03.334  INFO 19748 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2020-04-21 14:51:03.402  INFO 19748 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\r\n    2020-04-21 14:51:03.571  INFO 19748 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;/systemshare&#39;\r\n    2020-04-21 14:51:03.575  INFO 19748 --- [  restartedMain] c.p.systemshare.SystemshareApplication   : Started SystemshareApplication in 5.624 seconds (JVM running for 6.47)\r\n    2020-04-21 14:51:17.737  INFO 19748 --- [nio-8080-exec-1] o.a.c.c.C.[.[localhost].[/systemshare]   : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2020-04-21 14:51:17.737  INFO 19748 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2020-04-21 14:51:17.745  INFO 19748 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms\r\n\r\n\r\nWAR deployed on tomcat (non-working scenario)\r\n---------------------------------------------\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.6.RELEASE)\r\n    \r\n    2020-04-21 14:55:49.434  INFO 12280 --- [ost-startStop-1] com.blank.systemshare.ServletInitializer  : Starting ServletInitializer v0.0.1-SNAPSHOT on L37853WUS with PID 12280 (C:\\Users\\user\\Documents\\Software\\apache-tomcat-8.5.29\\webapps\\systemshare\\WEB-INF\\classes started by user in C:\\Users\\user\\Documents\\Software\\apache-tomcat-8.5.29\\bin)\r\n    2020-04-21 14:55:49.451  INFO 12280 --- [ost-startStop-1] com.blank.systemshare.ServletInitializer  : No active profile set, falling back to default profiles: default\r\n    2020-04-21 14:55:52.213  INFO 12280 --- [ost-startStop-1] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2020-04-21 14:55:52.458  INFO 12280 --- [ost-startStop-1] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 200ms. Found 1 JPA repository interfaces.\r\n    2020-04-21 14:55:53.923  INFO 12280 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4212 ms\r\n    2020-04-21 14:55:55.125  INFO 12280 --- [ost-startStop-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2020-04-21 14:55:55.675  INFO 12280 --- [ost-startStop-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.12.Final\r\n    2020-04-21 14:55:56.461  INFO 12280 --- [ost-startStop-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    2020-04-21 14:55:57.051  INFO 12280 --- [ost-startStop-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2020-04-21 14:55:57.633  INFO 12280 --- [ost-startStop-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2020-04-21 14:55:57.728  INFO 12280 --- [ost-startStop-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    2020-04-21 14:56:01.538  INFO 12280 --- [ost-startStop-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2020-04-21 14:56:01.578  INFO 12280 --- [ost-startStop-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2020-04-21 14:56:03.216  WARN 12280 --- [ost-startStop-1] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2020-04-21 14:56:03.699  INFO 12280 --- [ost-startStop-1] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2020-04-21 14:56:04.075  INFO 12280 --- [ost-startStop-1] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\r\n    2020-04-21 14:56:04.472  INFO 12280 --- [ost-startStop-1] com.blank.systemshare.ServletInitializer  : Started ServletInitializer in 16.741 seconds (JVM running for 32.139)\r\n    21-Apr-2020 14:56:04.517 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [C:\\Users\\user\\Documents\\Software\\apache-tomcat-8.5.29\\webapps\\systemshare.war] has finished in [25,067] ms\r\n\r\nSpecific 404 error message from Chrome devtools:\r\n------------------------------------------------\r\n\r\n    {\r\n    &quot;timestamp&quot;:&quot;2020-04-21T19:50:27.749+0000&quot;,\r\n    &quot;status&quot;:404,\r\n    &quot;error&quot;:&quot;Not Found&quot;,\r\n    &quot;message&quot;:&quot;No message available&quot;,\r\n    &quot;path&quot;:&quot;/systemshare/api/v1/systems&quot;\r\n    }\r\n\r\nAlso, tomcat logs don&#39;t show anything useful. \r\n\r\n","title":"Spring Boot 404 on REST API calls only","body":"<h2>Issue:</h2>\n\n<p>I'm working on a Spring-Boot Web Application that needs to be deployed on tomcat (WAR file). When running the application as Java (right click application.java file and run as Java in Eclipse) or running via mvnw.cmd spring-boot:run, everything works PERFECTLY (home page shows, all CRUD operations work). </p>\n\n<p>When I export a WAR file and deploy to tomcat, my static web content and homepage still load fine, but any API calls return a 404 response. </p>\n\n<p>This project was created using Spring Initializr. I've tried exporting via Eclipse war export, and mvnw.cmd package. Placed the WAR file in webapps directory on server and ran. </p>\n\n<h2>Directory structure:</h2>\n\n<p><a href=\"https://i.stack.imgur.com/duJ5h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/duJ5h.png\" alt=\"enter image description here\"></a></p>\n\n<h2>Application file:</h2>\n\n<pre><code>package com.blank.systemshare;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SystemshareApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SystemshareApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<h2>ServletInitializer:</h2>\n\n<pre><code>package com.blank.systemshare;\n\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(SystemshareApplication.class);\n    }\n\n}\n</code></pre>\n\n<h2>Controller:</h2>\n\n<pre><code>package com.blank.systemshare.controller;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.validation.Valid;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.blank.systemshare.exception.ResourceNotFoundException;\nimport com.blank.systemshare.model.System;\nimport com.blank.systemshare.repository.SystemRepository;\n\n@RestController\n@RequestMapping(\"/api/v1/\")\npublic class SystemController {\n\n    @Autowired\n    private SystemRepository systemRepository;\n\n    // get systems\n\n    @GetMapping(\"systems\")\n    public List&lt;System&gt; getSystems() {\n        return this.systemRepository.findAllByOrderByVersionDesc();\n    }\n\n    // create system\n    @PostMapping(\"systems\")\n    public System createSystem(@RequestBody System system) {\n        return this.systemRepository.save(system);\n    }\n\n    // update system\n    @PutMapping(\"systems/{id}\")\n    public ResponseEntity&lt;System&gt; updateSystem(@PathVariable(value = \"id\") Long systemId,\n                                               @Valid @RequestBody System systemDetails) throws ResourceNotFoundException {\n\n        System system = systemRepository.findById(systemId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(\"System not found - ID: \" + systemId));\n\n        system.setVersion(systemDetails.getVersion());\n        system.setUrl(systemDetails.getUrl());\n        system.setCredentials(systemDetails.getCredentials());\n        system.setFrameworks(systemDetails.getFrameworks());\n        system.setFw_credentials(systemDetails.getFw_credentials());\n        system.setNotes(systemDetails.getNotes());\n        system.setOwner(systemDetails.getOwner());\n\n        return ResponseEntity.ok(this.systemRepository.save(system));\n    }\n\n    //delete system\n    @DeleteMapping(\"systems/{id}\")\n    public  Map&lt;String, Boolean&gt; deleteSystem(@PathVariable(value = \"id\") Long systemId) throws ResourceNotFoundException {\n\n        System system = systemRepository.findById(systemId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(\"System not found - ID: \" + systemId));\n\n        this.systemRepository.delete(system);\n\n        Map&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\n        response.put(\"deleted\",  Boolean.TRUE);\n\n        return response;\n    }\n\n}\n</code></pre>\n\n<h2>Repository:</h2>\n\n<pre><code>package com.blank.systemshare.repository;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.blank.systemshare.model.System;\n\n@Repository\npublic interface SystemRepository extends JpaRepository&lt;System, Long&gt;{\n    public List&lt;System&gt; findAllByOrderByVersionDesc();\n}\n</code></pre>\n\n<h2>App.js</h2>\n\n<pre><code>var systemShareApp = angular.module('systemShareApp', [])\n.controller('mainController', ($scope, $http, $window) =&gt; {\n\n    $scope.version = '1.0';\n    $scope.systemData = {};\n    $scope.createSystemFormData = {};\n    $scope.editSystemFormData = {};\n\n    $scope.dbErrorStatus = false;\n\n\n\n    // Get all systems\n    var getAllSystems = function() {\n        $http.get('/systemshare/api/v1/systems')\n        .success((data) =&gt; {\n            $scope.systemData = data;\n            $scope.dbErrorStatus = false;\n            console.log(data);\n        })\n        .error((error) =&gt; {\n            console.log('Error: ' + error);\n            $scope.dbErrorStatus = true;\n        });\n    };\n\n  //initial load of page - get systems.\n    getAllSystems();\n\n\n\n\n    // Create a new system\n    $scope.createSystem = () =&gt; {\n\n        $http.post('/systemshare/api/v1/systems', $scope.createSystemFormData)\n            .success((data) =&gt; {\n                $scope.createSystemFormData = {};\n                getAllSystems();\n            })\n            .error((error) =&gt; {\n                console.log('Error: ' + error);\n            });\n    };\n\n\n    // Delete a system\n    $scope.deleteSystem = (systemID) =&gt; {\n        $http.delete('/systemshare/api/v1/systems/' + systemID)\n            .success((data) =&gt; {\n                getAllSystems();\n            })\n            .error((data) =&gt; {\n                console.log('Error: ' + data);\n            });\n    };\n\n    // Update a system\n    $scope.updateSystem = (systemID) =&gt; {\n        $http.put('/systemshare/api/v1/systems/' + systemID, $scope.editSystemFormData)\n            .success((data) =&gt; {\n                $scope.editSystemFormData = {};\n                getAllSystems();\n            })\n            .error((data) =&gt; {\n                console.log('Error: ' + data);\n            });\n    };\n\n    //select system function for transfer of object data in list to modal. \n    $scope.selectSystem = function(system) {\n\n        $scope.thisSystem = system;\n        //editSystemFormData Modal updates:\n        $scope.editSystemFormData.owner = system.owner;\n        $scope.editSystemFormData.version = system.version;\n        $scope.editSystemFormData.url = system.url;\n        $scope.editSystemFormData.credentials = system.credentials;\n        $scope.editSystemFormData.frameworks = system.frameworks;\n        $scope.editSystemFormData.fw_credentials = system.fw_credentials;\n        $scope.editSystemFormData.notes = system.notes;\n    };\n});\n</code></pre>\n\n<h2>Application.properties</h2>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://xx.xx.xxx.xxx:5432/systemshare\nspring.datasource.username=xx\nspring.datasource.password=xx\nspring.jpa.show-sql=true\n\n## Hibernate Properties\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n\n# Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto=update\n\nserver.servlet.contextPath=/systemshare\n</code></pre>\n\n<h2>pom.xml</h2>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.blank&lt;/groupId&gt;\n        &lt;artifactId&gt;systemshare&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;war&lt;/packaging&gt;\n        &lt;name&gt;systemshare&lt;/name&gt;\n        &lt;description&gt;System Share Project&lt;/description&gt;\n\n        &lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;/properties&gt;\n\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<h2>mvnw.cmd spring-boot:run output (working scenario)</h2>\n\n<pre><code>mvnw.cmd spring-boot:run\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------&lt; com.blank:systemshare &gt;------------------------\n[INFO] Building systemshare 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; spring-boot-maven-plugin:2.2.6.RELEASE:run (default-cli) &gt; test-compile @ systemshare &gt;&gt;&gt;\n[INFO]\n[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ systemshare ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 4 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ systemshare ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 8 source files to C:\\Users\\user\\Documents\\JavaProjects\\systemshare\\target\\classes\n[INFO]\n[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ systemshare ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\user\\Documents\\JavaProjects\\systemshare\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ systemshare ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to C:\\Users\\user\\Documents\\JavaProjects\\systemshare\\target\\test-classes\n[INFO]\n[INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.2.6.RELEASE:run (default-cli) &lt; test-compile @ systemshare &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- spring-boot-maven-plugin:2.2.6.RELEASE:run (default-cli) @ systemshare ---\n[INFO] Attaching agents: []\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.6.RELEASE)\n\n2020-04-21 14:50:58.430  INFO 19748 --- [  restartedMain] c.p.systemshare.SystemshareApplication   : Starting SystemshareApplication on L37853WUS with PID 19748 (C:\\Users\\user\\Documents\\JavaProjects\\systemshare\\target\\classes started by userin C:\\Users\\mck\neb2\\Documents\\JavaProjects\\systemshare)\n2020-04-21 14:50:58.435  INFO 19748 --- [  restartedMain] c.p.systemshare.SystemshareApplication   : No active profile set, falling back to default profiles: default\n2020-04-21 14:50:58.513  INFO 19748 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\user\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.2\\jaxb-runtime-2.3.2.jar referenced one or more files th\nat do not exist: file:/C:/Users/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/user/.m2/repository/org/glassfi\nsh/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/U\nsers/user/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar\n2020-04-21 14:50:58.513  INFO 19748 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2020-04-21 14:50:58.513  INFO 19748 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2020-04-21 14:50:59.303  INFO 19748 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-04-21 14:50:59.383  INFO 19748 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71ms. Found 1 JPA repository interfaces.\n2020-04-21 14:51:00.475  INFO 19748 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-04-21 14:51:00.489  INFO 19748 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-04-21 14:51:00.490  INFO 19748 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.33]\n2020-04-21 14:51:00.674  INFO 19748 --- [  restartedMain] o.a.c.c.C.[.[localhost].[/systemshare]   : Initializing Spring embedded WebApplicationContext\n2020-04-21 14:51:00.675  INFO 19748 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2161 ms\n2020-04-21 14:51:00.858  INFO 19748 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2020-04-21 14:51:00.942  INFO 19748 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.12.Final\n2020-04-21 14:51:01.117  INFO 19748 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2020-04-21 14:51:01.228  INFO 19748 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2020-04-21 14:51:01.603  INFO 19748 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2020-04-21 14:51:01.621  INFO 19748 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2020-04-21 14:51:02.803  INFO 19748 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2020-04-21 14:51:02.810  INFO 19748 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2020-04-21 14:51:02.825  INFO 19748 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2020-04-21 14:51:03.186  WARN 19748 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view\nto disable this warning\n2020-04-21 14:51:03.334  INFO 19748 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2020-04-21 14:51:03.402  INFO 19748 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\n2020-04-21 14:51:03.571  INFO 19748 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/systemshare'\n2020-04-21 14:51:03.575  INFO 19748 --- [  restartedMain] c.p.systemshare.SystemshareApplication   : Started SystemshareApplication in 5.624 seconds (JVM running for 6.47)\n2020-04-21 14:51:17.737  INFO 19748 --- [nio-8080-exec-1] o.a.c.c.C.[.[localhost].[/systemshare]   : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2020-04-21 14:51:17.737  INFO 19748 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2020-04-21 14:51:17.745  INFO 19748 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms\n</code></pre>\n\n<h2>WAR deployed on tomcat (non-working scenario)</h2>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.6.RELEASE)\n\n2020-04-21 14:55:49.434  INFO 12280 --- [ost-startStop-1] com.blank.systemshare.ServletInitializer  : Starting ServletInitializer v0.0.1-SNAPSHOT on L37853WUS with PID 12280 (C:\\Users\\user\\Documents\\Software\\apache-tomcat-8.5.29\\webapps\\systemshare\\WEB-INF\\classes started by user in C:\\Users\\user\\Documents\\Software\\apache-tomcat-8.5.29\\bin)\n2020-04-21 14:55:49.451  INFO 12280 --- [ost-startStop-1] com.blank.systemshare.ServletInitializer  : No active profile set, falling back to default profiles: default\n2020-04-21 14:55:52.213  INFO 12280 --- [ost-startStop-1] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-04-21 14:55:52.458  INFO 12280 --- [ost-startStop-1] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 200ms. Found 1 JPA repository interfaces.\n2020-04-21 14:55:53.923  INFO 12280 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4212 ms\n2020-04-21 14:55:55.125  INFO 12280 --- [ost-startStop-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2020-04-21 14:55:55.675  INFO 12280 --- [ost-startStop-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.12.Final\n2020-04-21 14:55:56.461  INFO 12280 --- [ost-startStop-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2020-04-21 14:55:57.051  INFO 12280 --- [ost-startStop-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2020-04-21 14:55:57.633  INFO 12280 --- [ost-startStop-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2020-04-21 14:55:57.728  INFO 12280 --- [ost-startStop-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2020-04-21 14:56:01.538  INFO 12280 --- [ost-startStop-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2020-04-21 14:56:01.578  INFO 12280 --- [ost-startStop-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2020-04-21 14:56:03.216  WARN 12280 --- [ost-startStop-1] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2020-04-21 14:56:03.699  INFO 12280 --- [ost-startStop-1] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2020-04-21 14:56:04.075  INFO 12280 --- [ost-startStop-1] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\n2020-04-21 14:56:04.472  INFO 12280 --- [ost-startStop-1] com.blank.systemshare.ServletInitializer  : Started ServletInitializer in 16.741 seconds (JVM running for 32.139)\n21-Apr-2020 14:56:04.517 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [C:\\Users\\user\\Documents\\Software\\apache-tomcat-8.5.29\\webapps\\systemshare.war] has finished in [25,067] ms\n</code></pre>\n\n<h2>Specific 404 error message from Chrome devtools:</h2>\n\n<pre><code>{\n\"timestamp\":\"2020-04-21T19:50:27.749+0000\",\n\"status\":404,\n\"error\":\"Not Found\",\n\"message\":\"No message available\",\n\"path\":\"/systemshare/api/v1/systems\"\n}\n</code></pre>\n\n<p>Also, tomcat logs don't show anything useful. </p>\n"},{"tags":["java","android","browser","webview","httprequest"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1661882127,"post_id":73544719,"comment_id":129876060,"body_markdown":"A browser does not receive http requests. A browser sends http requests. And if it posts key=value pairs it can do so while the html source contained a form with such input tags.","body":"A browser does not receive http requests. A browser sends http requests. And if it posts key=value pairs it can do so while the html source contained a form with such input tags."},{"owner":{"account_id":24559840,"reputation":11,"user_id":18467779,"display_name":"Seif Ashraf"},"score":0,"creation_date":1661882546,"post_id":73544719,"comment_id":129876185,"body_markdown":"ok ok now i am executing javascript code which gives me the value of each input type and i cant find any of the values ​​that the browser sends","body":"ok ok now i am executing javascript code which gives me the value of each input type and i cant find any of the values ​​that the browser sends"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1661882749,"post_id":73544719,"comment_id":129876249,"body_markdown":"If you once logged in at stackoverflow then the next day after pc restart the browser will send login username and password without you typed them in in form input fields. So where would they come from?","body":"If you once logged in at stackoverflow then the next day after pc restart the browser will send login username and password without you typed them in in form input fields. So where would they come from?"},{"owner":{"account_id":24559840,"reputation":11,"user_id":18467779,"display_name":"Seif Ashraf"},"score":0,"creation_date":1661883180,"post_id":73544719,"comment_id":129876413,"body_markdown":"From cookies and my problem not in just login some post requests need other parameters","body":"From cookies and my problem not in just login some post requests need other parameters"}],"owner":{"account_id":24559840,"reputation":11,"user_id":18467779,"display_name":"Seif Ashraf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661872415,"creation_date":1661872234,"question_id":73544719,"body_markdown":"Hi I have some problems trying to handle http requests on my own and show them on screen using **webview**\r\n\r\nUsing the \r\n**shouldInterceptRequest**\r\nfunction in **WebViewClient**\r\n\r\nSo far, things are fine. I handle the matter well and receive cookies from the response headers and send them again in the next request.\r\n\r\nBut I&#39;m having problems processing post requests\r\n\r\nAs the server expects some information from me in the request body, such as the password, email, and some other parameters that differ from one site to another.\r\n\r\nNow my problem is how do I know what parameters are required from the server, such as the browser, as the browser handles these requests with ease and dwarfs sending all the required parameters\r\n\r\nI tried to monitor requests via **DevTools** in PC **chrome** and I saw what parameters are required to login in only one site\r\n\r\nI managed to get these parameters with **javascript** via\r\n\r\n    wb.loadUrl(&quot;javascript:const formData = new FormData(document.querySelector(&#39;form&#39;)); for(var pair of formData.entries()){INTER.putForms(pair[0],pair[1]); }&quot;);\r\n\r\nI made a **javainterface** and put in it a putforms function that receives the information and puts it in a hashmap\r\n\r\nNow I have solved the problem in one site, what about the rest of the sites? This method is not easy at all, I have to know how the browser deals with these requests\r\n\r\nPlease Help","title":"How does browser handle http requests","body":"<p>Hi I have some problems trying to handle http requests on my own and show them on screen using <strong>webview</strong></p>\n<p>Using the\n<strong>shouldInterceptRequest</strong>\nfunction in <strong>WebViewClient</strong></p>\n<p>So far, things are fine. I handle the matter well and receive cookies from the response headers and send them again in the next request.</p>\n<p>But I'm having problems processing post requests</p>\n<p>As the server expects some information from me in the request body, such as the password, email, and some other parameters that differ from one site to another.</p>\n<p>Now my problem is how do I know what parameters are required from the server, such as the browser, as the browser handles these requests with ease and dwarfs sending all the required parameters</p>\n<p>I tried to monitor requests via <strong>DevTools</strong> in PC <strong>chrome</strong> and I saw what parameters are required to login in only one site</p>\n<p>I managed to get these parameters with <strong>javascript</strong> via</p>\n<pre><code>wb.loadUrl(&quot;javascript:const formData = new FormData(document.querySelector('form')); for(var pair of formData.entries()){INTER.putForms(pair[0],pair[1]); }&quot;);\n</code></pre>\n<p>I made a <strong>javainterface</strong> and put in it a putforms function that receives the information and puts it in a hashmap</p>\n<p>Now I have solved the problem in one site, what about the rest of the sites? This method is not easy at all, I have to know how the browser deals with these requests</p>\n<p>Please Help</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1661872382,"post_id":73544350,"comment_id":129872316,"body_markdown":"You can trigger a refreshEvent https://stackoverflow.com/questions/59105699/how-to-trigger-a-refresh-event","body":"You can trigger a refreshEvent <a href=\"https://stackoverflow.com/questions/59105699/how-to-trigger-a-refresh-event\" title=\"how to trigger a refresh event\">stackoverflow.com/questions/59105699/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1661933412,"post_id":73544350,"comment_id":129886788,"body_markdown":"`@RefreshScope` will work and isn&#39;t related to an endpoint. You could even have a file watcher and when detecting a change automatically refresh. If this is a Spring Boot application you only need to configure your `DataSource` the rest you can use from auto configuration.","body":"<code>@RefreshScope</code> will work and isn&#39;t related to an endpoint. You could even have a file watcher and when detecting a change automatically refresh. If this is a Spring Boot application you only need to configure your <code>DataSource</code> the rest you can use from auto configuration."}],"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661872321,"creation_date":1661870620,"question_id":73544350,"body_markdown":"I have an application with a UI which will manage some facets of a Spring Boot application while it is live.  \r\n\r\nFirst of all, there will be an INI file name passed in when the application starts which will have a username, password and host for the DB connection.  \r\n\r\nI have successfully implemented this dynamic database capability by starting the Spring Boot application after the initial INI file load.  \r\nHowever, I need to be able to change the @Primary data source on-the-fly during execution.  \r\n\r\nThe user will click a button in the UI, the INI file will load from a specified source in the UI and I want the DB connection to drop, switch to the new properties read in from the INI file and restart the connection.  \r\n\r\nIt seems to me that @RefreshScope + actuator method will not work for me since I am refreshing from a UI in the application and not an endpoint. \r\n\r\nAbstractRoutingDatasource seems like it requires you to know the DB connection properties for the various sources at compile time and furthermore it&#39;s a lot more complex than I think is necessary to solve a simple problem such as this.  I would think there should be some class which will allow a simple reload by telling it to call `getDataSource` again and reinitialize.\r\n\r\nConfiguration class:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;smsEntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;smsTransactionManager&quot;,\r\n            basePackages = { &quot;com.conceptualsystems.sms.db.repository&quot; })\r\n    public class JpaConfig {\r\n        @Bean(name=&quot;SMSX&quot;)\r\n        @Primary\r\n        public DataSource getDataSource() {\r\n            Logger logger = LoggerFactory.getLogger(this.getClass());\r\n            logger.error(&quot;DATABASE INITIALIZING: getDataSource() called!&quot;);\r\n    \r\n            DataSourceBuilder builder = DataSourceBuilder.create();\r\n            builder.driverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            builder.username(IniSettings.getInstance().getIniFile().getDbUser());\r\n            builder.password(IniSettings.getInstance().getIniFile().getDbPassword());\r\n            String host = IniSettings.getInstance().getIniFile().getDbPath();\r\n            String db = IniSettings.getInstance().getIniFile().getDbName();\r\n            String connectionString = &quot;jdbc:sqlserver://&quot; + host + &quot;;databaseName=&quot; + db;\r\n            logger.info(&quot;Connecting [&quot; + connectionString +&quot;] as [&quot; +\r\n                    IniSettings.getInstance().getIniFile().getDbUser() + &quot;:&quot; +\r\n                    IniSettings.getInstance().getIniFile().getDbPassword() + &quot;]&quot;);\r\n            builder.url(connectionString);\r\n            return builder.build();\r\n        }\r\n    \r\n        @Bean(name = &quot;smsEntityManagerFactory&quot;)\r\n        @Primary\r\n        public LocalContainerEntityManagerFactoryBean smsEntityManagerFactory(\r\n                EntityManagerFactoryBuilder builder,\r\n                @Qualifier(&quot;SMSX&quot;) DataSource dataSource) {\r\n            return builder\r\n                    .dataSource(dataSource)\r\n                    .persistenceUnit(&quot;smsEntityManagerFactory&quot;)\r\n                    .packages(&quot;com.conceptualsystems.sms.db.entity&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(name = &quot;smsTransactionManager&quot;)\r\n        @Primary\r\n        public PlatformTransactionManager smsTransactionManager(\r\n                @Qualifier(&quot;smsEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n            return new JpaTransactionManager(entityManagerFactory);\r\n        }\r\n    }\r\n\r\nmain entry point:\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            UIManager.setLookAndFeel( new FlatLightLaf() );\r\n        } catch( Exception ex ) {\r\n            System.err.println( &quot;Failed to initialize LaF&quot; );\r\n        }\r\n\r\n        javax.swing.SwingUtilities.invokeLater(() -&gt; createAndShowSplash());\r\n\r\n        System.out.println(&quot;Scrap Management System v&quot; + VERSION);\r\n\r\n        String iniFilename = null;\r\n        String user = null;\r\n        String pass = null;\r\n\r\n        for(String arg : args) {\r\n            if(arg.startsWith(ARG_HELP)) {\r\n                System.out.println(HELP_TEXT);\r\n                System.exit(0);\r\n            }\r\n            if(arg.startsWith(ARG_INI)) {\r\n                iniFilename = arg.substring(ARG_INI.length());\r\n                System.out.println(&quot;User entered INI file location on command line: &quot; + iniFilename);\r\n            }\r\n            if(arg.startsWith(ARG_USER)) {\r\n                user = arg.substring(ARG_USER.length());\r\n                System.out.println(&quot;User entered DB username on command line: &quot; + user);\r\n            }\r\n            if(arg.startsWith(ARG_PSWD)) {\r\n                pass = arg.substring(ARG_PSWD.length());\r\n                System.out.println(&quot;User entered DB password on command line: [****]&quot;);\r\n            }\r\n        }\r\n\r\n        mIniFile = new IniFile(iniFilename);\r\n\r\n        try {\r\n            mIniFile.load();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error loading INI file!&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        IniSettings.getInstance().setIniFile(mIniFile);\r\n        System.out.println(&quot;INI file set completed, starting Spring Boot Application context...&quot;);\r\n\r\n        SplashFrame.getInstance().enableSiteSelection();\r\n\r\n        mApplicationContext = new SpringApplicationBuilder(Main.class)\r\n                .web(WebApplicationType.SERVLET)\r\n                .headless(false)\r\n                .bannerMode(Banner.Mode.LOG)\r\n                .run(args);\r\n\r\n        try {\r\n            IniSettings.getInstance().setIniSource(new IniJPA());\r\n            IniSettings.getInstance().load();\r\n        } catch(Exception e) {\r\n            System.out.println(&quot;Unable to setup INI from database!&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Spring Boot force reload DB connection on INI file read","body":"<p>I have an application with a UI which will manage some facets of a Spring Boot application while it is live.</p>\n<p>First of all, there will be an INI file name passed in when the application starts which will have a username, password and host for the DB connection.</p>\n<p>I have successfully implemented this dynamic database capability by starting the Spring Boot application after the initial INI file load.<br />\nHowever, I need to be able to change the @Primary data source on-the-fly during execution.</p>\n<p>The user will click a button in the UI, the INI file will load from a specified source in the UI and I want the DB connection to drop, switch to the new properties read in from the INI file and restart the connection.</p>\n<p>It seems to me that @RefreshScope + actuator method will not work for me since I am refreshing from a UI in the application and not an endpoint.</p>\n<p>AbstractRoutingDatasource seems like it requires you to know the DB connection properties for the various sources at compile time and furthermore it's a lot more complex than I think is necessary to solve a simple problem such as this.  I would think there should be some class which will allow a simple reload by telling it to call <code>getDataSource</code> again and reinitialize.</p>\n<p>Configuration class:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;smsEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;smsTransactionManager&quot;,\n        basePackages = { &quot;com.conceptualsystems.sms.db.repository&quot; })\npublic class JpaConfig {\n    @Bean(name=&quot;SMSX&quot;)\n    @Primary\n    public DataSource getDataSource() {\n        Logger logger = LoggerFactory.getLogger(this.getClass());\n        logger.error(&quot;DATABASE INITIALIZING: getDataSource() called!&quot;);\n\n        DataSourceBuilder builder = DataSourceBuilder.create();\n        builder.driverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        builder.username(IniSettings.getInstance().getIniFile().getDbUser());\n        builder.password(IniSettings.getInstance().getIniFile().getDbPassword());\n        String host = IniSettings.getInstance().getIniFile().getDbPath();\n        String db = IniSettings.getInstance().getIniFile().getDbName();\n        String connectionString = &quot;jdbc:sqlserver://&quot; + host + &quot;;databaseName=&quot; + db;\n        logger.info(&quot;Connecting [&quot; + connectionString +&quot;] as [&quot; +\n                IniSettings.getInstance().getIniFile().getDbUser() + &quot;:&quot; +\n                IniSettings.getInstance().getIniFile().getDbPassword() + &quot;]&quot;);\n        builder.url(connectionString);\n        return builder.build();\n    }\n\n    @Bean(name = &quot;smsEntityManagerFactory&quot;)\n    @Primary\n    public LocalContainerEntityManagerFactoryBean smsEntityManagerFactory(\n            EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;SMSX&quot;) DataSource dataSource) {\n        return builder\n                .dataSource(dataSource)\n                .persistenceUnit(&quot;smsEntityManagerFactory&quot;)\n                .packages(&quot;com.conceptualsystems.sms.db.entity&quot;)\n                .build();\n    }\n\n    @Bean(name = &quot;smsTransactionManager&quot;)\n    @Primary\n    public PlatformTransactionManager smsTransactionManager(\n            @Qualifier(&quot;smsEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n}\n</code></pre>\n<p>main entry point:</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        UIManager.setLookAndFeel( new FlatLightLaf() );\n    } catch( Exception ex ) {\n        System.err.println( &quot;Failed to initialize LaF&quot; );\n    }\n\n    javax.swing.SwingUtilities.invokeLater(() -&gt; createAndShowSplash());\n\n    System.out.println(&quot;Scrap Management System v&quot; + VERSION);\n\n    String iniFilename = null;\n    String user = null;\n    String pass = null;\n\n    for(String arg : args) {\n        if(arg.startsWith(ARG_HELP)) {\n            System.out.println(HELP_TEXT);\n            System.exit(0);\n        }\n        if(arg.startsWith(ARG_INI)) {\n            iniFilename = arg.substring(ARG_INI.length());\n            System.out.println(&quot;User entered INI file location on command line: &quot; + iniFilename);\n        }\n        if(arg.startsWith(ARG_USER)) {\n            user = arg.substring(ARG_USER.length());\n            System.out.println(&quot;User entered DB username on command line: &quot; + user);\n        }\n        if(arg.startsWith(ARG_PSWD)) {\n            pass = arg.substring(ARG_PSWD.length());\n            System.out.println(&quot;User entered DB password on command line: [****]&quot;);\n        }\n    }\n\n    mIniFile = new IniFile(iniFilename);\n\n    try {\n        mIniFile.load();\n    } catch (Exception e) {\n        System.out.println(&quot;Error loading INI file!&quot;);\n        e.printStackTrace();\n    }\n\n    IniSettings.getInstance().setIniFile(mIniFile);\n    System.out.println(&quot;INI file set completed, starting Spring Boot Application context...&quot;);\n\n    SplashFrame.getInstance().enableSiteSelection();\n\n    mApplicationContext = new SpringApplicationBuilder(Main.class)\n            .web(WebApplicationType.SERVLET)\n            .headless(false)\n            .bannerMode(Banner.Mode.LOG)\n            .run(args);\n\n    try {\n        IniSettings.getInstance().setIniSource(new IniJPA());\n        IniSettings.getInstance().load();\n    } catch(Exception e) {\n        System.out.println(&quot;Unable to setup INI from database!&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","reflection","java-stream"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1661729094,"post_id":73522915,"comment_id":129834379,"body_markdown":"What if the field is not comparable? Like `Scanner`?","body":"What if the field is not comparable? Like <code>Scanner</code>?"},{"owner":{"account_id":24469430,"reputation":141,"user_id":18389384,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1661729240,"post_id":73522915,"comment_id":129834409,"body_markdown":"@Michael -&gt; all of the fields will be **comparable** 100 percent.","body":"@Michael -&gt; all of the fields will be <b>comparable</b> 100 percent."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1661730474,"post_id":73522915,"comment_id":129834583,"body_markdown":"Note Michael&#39;s answer will create a **new** (sorted) list, rather than sort the given `apples` list in-place. You may want that, but I thought I&#39;d mention it just in case you don&#39;t (and if you don&#39;t then use `List#sort(Comparator)`).","body":"Note Michael&#39;s answer will create a <b>new</b> (sorted) list, rather than sort the given <code>apples</code> list in-place. You may want that, but I thought I&#39;d mention it just in case you don&#39;t (and if you don&#39;t then use <code>List#sort(Comparator)</code>)."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661729384,"creation_date":1661729384,"answer_id":73522964,"question_id":73522915,"body_markdown":"Something like this. It will throw a ClassCastException if the field can&#39;t be compared.\r\n\r\nBit ugly, but isn&#39;t reflection always.\r\n\r\n    &lt;T extends Comparable&lt;T&gt;&gt; List&lt;Apple&gt; sortApplesByFieldName(List&lt;Apple&gt; apples, String fieldName)\r\n            throws NoSuchFieldException {\r\n        Field field = Apple.class.getDeclaredField(fieldName);\r\n\r\n        return apples.stream()\r\n            .sorted(Comparator.comparing(apple -&gt; {\r\n                try {\r\n                    return (T) field.get(apple);\r\n                }\r\n                catch (IllegalAccessException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }))\r\n            .collect(Collectors.toList());\r\n    }","title":"How to sort a collection based on java.lang.reflect.Field?","body":"<p>Something like this. It will throw a ClassCastException if the field can't be compared.</p>\n<p>Bit ugly, but isn't reflection always.</p>\n<pre><code>&lt;T extends Comparable&lt;T&gt;&gt; List&lt;Apple&gt; sortApplesByFieldName(List&lt;Apple&gt; apples, String fieldName)\n        throws NoSuchFieldException {\n    Field field = Apple.class.getDeclaredField(fieldName);\n\n    return apples.stream()\n        .sorted(Comparator.comparing(apple -&gt; {\n            try {\n                return (T) field.get(apple);\n            }\n            catch (IllegalAccessException e) {\n                throw new RuntimeException(e);\n            }\n        }))\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":24469430,"reputation":141,"user_id":18389384,"display_name":"Stefan Jankovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73522964,"answer_count":1,"score":0,"last_activity_date":1661871832,"creation_date":1661728537,"question_id":73522915,"body_markdown":"I&#39;m stuck in a situation where I only got *Fields* (java.lang.reflect) of a given class.\r\n\r\nTo help you better imagine, let&#39;s say we have code:\r\n\r\n    List&lt;Apple&gt; sortApplesByFieldName(List&lt;Apple&gt; apples, String fieldName) {\r\n        Field field = Apple.class.getDeclaredField(fieldName);\r\n\r\n        // some stream logic for sorting using this var\r\n        return apples;\r\n    }\r\n\r\nNote, the class Apple is a regular POJO with private fields and public getters/setters.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73516275/get-a-getter-method-from-field-name-to-avoid-if-else","title":"How to sort a collection based on java.lang.reflect.Field?","body":"<p>I'm stuck in a situation where I only got <em>Fields</em> (java.lang.reflect) of a given class.</p>\n<p>To help you better imagine, let's say we have code:</p>\n<pre><code>List&lt;Apple&gt; sortApplesByFieldName(List&lt;Apple&gt; apples, String fieldName) {\n    Field field = Apple.class.getDeclaredField(fieldName);\n\n    // some stream logic for sorting using this var\n    return apples;\n}\n</code></pre>\n<p>Note, the class Apple is a regular POJO with private fields and public getters/setters.</p>\n"},{"tags":["java","android","radio-button","radio-group"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1661864257,"post_id":73542783,"comment_id":129868811,"body_markdown":"https://stackoverflow.com/questions/37313559/how-to-set-only-one-radiobutton-can-be-selected-at-the-time-in-radiogroup","body":"<a href=\"https://stackoverflow.com/questions/37313559/how-to-set-only-one-radiobutton-can-be-selected-at-the-time-in-radiogroup\" title=\"how to set only one radiobutton can be selected at the time in radiogroup\">stackoverflow.com/questions/37313559/&hellip;</a>"},{"owner":{"account_id":26164570,"reputation":13,"user_id":19850576,"display_name":"rrezz"},"score":0,"creation_date":1661864528,"post_id":73542783,"comment_id":129868923,"body_markdown":"I need one with two radiogroups","body":"I need one with two radiogroups"},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1661864826,"post_id":73542783,"comment_id":129869041,"body_markdown":"Please share you code here...","body":"Please share you code here..."},{"owner":{"account_id":26164570,"reputation":13,"user_id":19850576,"display_name":"rrezz"},"score":0,"creation_date":1661865168,"post_id":73542783,"comment_id":129869176,"body_markdown":"Just posted the code","body":"Just posted the code"},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1661865339,"post_id":73542783,"comment_id":129869239,"body_markdown":"So you want one button to be clicked out of six? Or row wise one?","body":"So you want one button to be clicked out of six? Or row wise one?"},{"owner":{"account_id":26164570,"reputation":13,"user_id":19850576,"display_name":"rrezz"},"score":0,"creation_date":1661865508,"post_id":73542783,"comment_id":129869318,"body_markdown":"yes one out of 6,but since there are two radiogroups if you click on another one then you are able to have two radiobuttons clicked and I do not want to allow that in my app","body":"yes one out of 6,but since there are two radiogroups if you click on another one then you are able to have two radiobuttons clicked and I do not want to allow that in my app"},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":1,"creation_date":1661865571,"post_id":73542783,"comment_id":129869338,"body_markdown":"Then why have you taken 2 radio groups?","body":"Then why have you taken 2 radio groups?"},{"owner":{"account_id":26164570,"reputation":13,"user_id":19850576,"display_name":"rrezz"},"score":0,"creation_date":1661865625,"post_id":73542783,"comment_id":129869357,"body_markdown":"there was no other way to have two rows with radiobuttons other than linear layout which was even worse than radiogroup cuz it allowed all of them to be clicked","body":"there was no other way to have two rows with radiobuttons other than linear layout which was even worse than radiogroup cuz it allowed all of them to be clicked"},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1661865681,"post_id":73542783,"comment_id":129869384,"body_markdown":"You can use recyclerview if it is the only thing that you want.","body":"You can use recyclerview if it is the only thing that you want."},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1661865755,"post_id":73542783,"comment_id":129869409,"body_markdown":"Or else you can add manual condition in your code to remove selection of other group&#39;s radio button if it is checked","body":"Or else you can add manual condition in your code to remove selection of other group&#39;s radio button if it is checked"},{"owner":{"account_id":26164570,"reputation":13,"user_id":19850576,"display_name":"rrezz"},"score":0,"creation_date":1661865819,"post_id":73542783,"comment_id":129869441,"body_markdown":"I just need them to be in two rows and only one clickable","body":"I just need them to be in two rows and only one clickable"},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1661865856,"post_id":73542783,"comment_id":129869458,"body_markdown":"Share you Java/Kotlin code here also, I will help you do this.","body":"Share you Java/Kotlin code here also, I will help you do this."},{"owner":{"account_id":26164570,"reputation":13,"user_id":19850576,"display_name":"rrezz"},"score":0,"creation_date":1661866027,"post_id":73542783,"comment_id":129869538,"body_markdown":"I don&#39;t have Java code,that&#39;s why I wanted to ask","body":"I don&#39;t have Java code,that&#39;s why I wanted to ask"},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1661866087,"post_id":73542783,"comment_id":129869566,"body_markdown":"I need you activity&#39;s code","body":"I need you activity&#39;s code"},{"owner":{"account_id":26164570,"reputation":13,"user_id":19850576,"display_name":"rrezz"},"score":0,"creation_date":1661866226,"post_id":73542783,"comment_id":129869629,"body_markdown":"RadioGroup rg1 = findViewById(R.id.rg1);\n        RadioGroup rg2 = findViewById(R.id.rg2);\n        rg1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                rg2.clearCheck();\n            }\n        });  I tried this one but it didn&#39;t work","body":"RadioGroup rg1 = findViewById(R.id.rg1);         RadioGroup rg2 = findViewById(R.id.rg2);         rg1.setOnClickListener(new View.OnClickListener() {             @Override             public void onClick(View v) {                 rg2.clearCheck();             }         });  I tried this one but it didn&#39;t work"},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1661866265,"post_id":73542783,"comment_id":129869648,"body_markdown":"Add full code for that activity","body":"Add full code for that activity"},{"owner":{"account_id":26164570,"reputation":13,"user_id":19850576,"display_name":"rrezz"},"score":0,"creation_date":1661866463,"post_id":73542783,"comment_id":129869736,"body_markdown":"It&#39;s a big project so I can&#39;t add all the code but I am interested in only this part","body":"It&#39;s a big project so I can&#39;t add all the code but I am interested in only this part"}],"answers":[{"tags":[],"owner":{"account_id":20521366,"reputation":119,"user_id":15060875,"display_name":"pykereaper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661871587,"creation_date":1661871587,"answer_id":73544568,"question_id":73542783,"body_markdown":"You can solve your problem by listening to changes to both `RadioGroups`.\r\n\r\nWhen a `RadioButton` in one `RadioGroup` is checked, just un-check all `RadioButtons` in the second `RadioGroup`. This is tricky, as the un-checking triggers the listener again, crashing your app. In order to prevent that, you have to add an additional condition: That the `RadioButton` that triggered the event got checked, not un-checked.\r\n\r\nHere&#39;s the code:\r\n\r\n\r\n```kotlin\r\nval groupOne = findViewById&lt;RadioGroup&gt;(R.id.radio_group_one)\r\nval groupTwo = findViewById&lt;RadioGroup&gt;(R.id.radio_group_two)\r\n\r\nval checkedChangeListener =\r\n    RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\r\n        val checkedButton = group.findViewById&lt;RadioButton&gt;(checkedId)\r\n        if (group == groupOne &amp;&amp; checkedButton?.isChecked == true) {\r\n            groupTwo.clearCheck()\r\n        }\r\n        if (group == groupTwo &amp;&amp; checkedButton?.isChecked == true) {\r\n            groupOne.clearCheck()\r\n        }\r\n    }\r\n\r\ngroupOne.setOnCheckedChangeListener(checkedChangeListener)\r\ngroupTwo.setOnCheckedChangeListener(checkedChangeListener)\r\n```\r\n","title":"How can I check only one radiobutton in two groups if I have two radiogroups with radiobuttons","body":"<p>You can solve your problem by listening to changes to both <code>RadioGroups</code>.</p>\n<p>When a <code>RadioButton</code> in one <code>RadioGroup</code> is checked, just un-check all <code>RadioButtons</code> in the second <code>RadioGroup</code>. This is tricky, as the un-checking triggers the listener again, crashing your app. In order to prevent that, you have to add an additional condition: That the <code>RadioButton</code> that triggered the event got checked, not un-checked.</p>\n<p>Here's the code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val groupOne = findViewById&lt;RadioGroup&gt;(R.id.radio_group_one)\nval groupTwo = findViewById&lt;RadioGroup&gt;(R.id.radio_group_two)\n\nval checkedChangeListener =\n    RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\n        val checkedButton = group.findViewById&lt;RadioButton&gt;(checkedId)\n        if (group == groupOne &amp;&amp; checkedButton?.isChecked == true) {\n            groupTwo.clearCheck()\n        }\n        if (group == groupTwo &amp;&amp; checkedButton?.isChecked == true) {\n            groupOne.clearCheck()\n        }\n    }\n\ngroupOne.setOnCheckedChangeListener(checkedChangeListener)\ngroupTwo.setOnCheckedChangeListener(checkedChangeListener)\n</code></pre>\n"}],"owner":{"account_id":26164570,"reputation":13,"user_id":19850576,"display_name":"rrezz"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73544568,"answer_count":1,"score":-1,"last_activity_date":1661871587,"creation_date":1661863900,"question_id":73542783,"body_markdown":"I have two horizontal radiogroups with radiobuttons and I want to check only one of the radiobuttons but since they are in different radiogroups it allows the radiobutton from the other group to be checked too!Is there any way that when I check only one radiobutton from both groups?\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EpRMc.png\r\n\r\n\r\nHere is the code below:\r\n\r\n``` \r\n&lt;RadioGroup\r\n        android:id=&quot;@+id/rgSatisfied&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/rg1&quot;\r\n            android:layout_width=&quot;383dp&quot;\r\n            android:layout_height=&quot;47dp&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton3&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n\r\n        &lt;/RadioGroup&gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/rg2&quot;\r\n            android:layout_width=&quot;378dp&quot;\r\n            android:layout_height=&quot;49dp&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/rg1&quot;&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton4&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton5&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/other&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:text=&quot;Other&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n    &lt;/RadioGroup&gt;\r\n\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/rgSomewhat&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/rg3&quot;\r\n            android:layout_width=&quot;383dp&quot;\r\n            android:layout_height=&quot;47dp&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton7&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Sample1&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton8&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:text=&quot;Sample2&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton9&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:text=&quot;Sample3&quot; /&gt;\r\n\r\n\r\n        &lt;/RadioGroup&gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/rg4&quot;\r\n            android:layout_width=&quot;378dp&quot;\r\n            android:layout_height=&quot;49dp&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/rg1&quot;&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton10&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Sample4&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton11&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:text=&quot;Sample5&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/other2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:text=&quot;Other&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n    &lt;/RadioGroup&gt;\r\n\r\n\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/rgDissatisfied&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/rg5&quot;\r\n            android:layout_width=&quot;383dp&quot;\r\n            android:layout_height=&quot;47dp&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton13&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton14&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton15&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n\r\n        &lt;/RadioGroup&gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/rg6&quot;\r\n            android:layout_width=&quot;378dp&quot;\r\n            android:layout_height=&quot;49dp&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/rg1&quot;&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton16&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton17&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:text=&quot;RadioButton&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/other3&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:text=&quot;Other&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n    &lt;/RadioGroup&gt;\r\n```","title":"How can I check only one radiobutton in two groups if I have two radiogroups with radiobuttons","body":"<p>I have two horizontal radiogroups with radiobuttons and I want to check only one of the radiobuttons but since they are in different radiogroups it allows the radiobutton from the other group to be checked too!Is there any way that when I check only one radiobutton from both groups?</p>\n<p><a href=\"https://i.stack.imgur.com/EpRMc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EpRMc.png\" alt=\"\" /></a></p>\n<p>Here is the code below:</p>\n<pre><code>&lt;RadioGroup\n        android:id=&quot;@+id/rgSatisfied&quot;\n        android:visibility=&quot;invisible&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\n\n        &lt;RadioGroup\n            android:id=&quot;@+id/rg1&quot;\n            android:layout_width=&quot;383dp&quot;\n            android:layout_height=&quot;47dp&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton3&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n\n        &lt;/RadioGroup&gt;\n\n        &lt;RadioGroup\n            android:id=&quot;@+id/rg2&quot;\n            android:layout_width=&quot;378dp&quot;\n            android:layout_height=&quot;49dp&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:layout_marginTop=&quot;4dp&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/rg1&quot;&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton4&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton5&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/other&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:text=&quot;Other&quot; /&gt;\n        &lt;/RadioGroup&gt;\n    &lt;/RadioGroup&gt;\n\n    &lt;RadioGroup\n        android:id=&quot;@+id/rgSomewhat&quot;\n        android:visibility=&quot;invisible&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\n\n        &lt;RadioGroup\n            android:id=&quot;@+id/rg3&quot;\n            android:layout_width=&quot;383dp&quot;\n            android:layout_height=&quot;47dp&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton7&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Sample1&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton8&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:text=&quot;Sample2&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton9&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:text=&quot;Sample3&quot; /&gt;\n\n\n        &lt;/RadioGroup&gt;\n\n        &lt;RadioGroup\n            android:id=&quot;@+id/rg4&quot;\n            android:layout_width=&quot;378dp&quot;\n            android:layout_height=&quot;49dp&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:layout_marginTop=&quot;4dp&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/rg1&quot;&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton10&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Sample4&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton11&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:text=&quot;Sample5&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/other2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:text=&quot;Other&quot; /&gt;\n        &lt;/RadioGroup&gt;\n    &lt;/RadioGroup&gt;\n\n\n    &lt;RadioGroup\n        android:id=&quot;@+id/rgDissatisfied&quot;\n        android:visibility=&quot;invisible&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\n\n        &lt;RadioGroup\n            android:id=&quot;@+id/rg5&quot;\n            android:layout_width=&quot;383dp&quot;\n            android:layout_height=&quot;47dp&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton13&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton14&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton15&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n\n        &lt;/RadioGroup&gt;\n\n        &lt;RadioGroup\n            android:id=&quot;@+id/rg6&quot;\n            android:layout_width=&quot;378dp&quot;\n            android:layout_height=&quot;49dp&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:layout_marginTop=&quot;4dp&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.515&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/rg1&quot;&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton16&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioButton17&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:text=&quot;RadioButton&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/other3&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:text=&quot;Other&quot; /&gt;\n        &lt;/RadioGroup&gt;\n    &lt;/RadioGroup&gt;\n</code></pre>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1661869144,"post_id":73543915,"comment_id":129870982,"body_markdown":"I think you could do this with reflection","body":"I think you could do this with reflection"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1661871486,"post_id":73543915,"comment_id":129871946,"body_markdown":"There are databases with several levels of encryption, also on columns. With encryption you can forget queries, similarity searches and such. You could store an entire name+address+contact info block encrypted. Everything else is unnecessary overhead. With lazy conversion.","body":"There are databases with several levels of encryption, also on columns. With encryption you can forget queries, similarity searches and such. You could store an entire name+address+contact info block encrypted. Everything else is unnecessary overhead. With lazy conversion."}],"answers":[{"tags":[],"owner":{"account_id":2328976,"reputation":4965,"user_id":2042827,"accept_rate":47,"display_name":"ikos23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661871287,"creation_date":1661870550,"answer_id":73544337,"question_id":73543915,"body_markdown":"Not sure there is a way to do that easily (kinda out-of-the-box way), but maybe you could try to implement something yourself using JPA lifecycle events and `EntityListener`.\r\n\r\nFor example:\r\n\r\n```java\r\n// this is going to be our EntityListener\r\npublic class SensitiveDataListener {\r\n \r\n    @PrePersist\r\n    void beforeAnyPersist(Customer customer) {\r\n        // encrypt what you need and set\r\n        // e.g. customer.setName(encrytionService.doEncrypt(customer.getName()));\r\n    }\r\n   \r\n    // after an entity has been loaded\r\n    @PostLoad\r\n    void afterLoad(Customer customer) {\r\n        // decrypt what you need\r\n    }\r\n}\r\n\r\n// and this is how you add it to your entity\r\n@EntityListeners(SensitiveDataListener.class)\r\n@Entity\r\npublic class Customer {\r\n    //...\r\n}\r\n```\r\n\r\nA good question here would be - ok I have multiple entities, what do I do - create multiple `**Listener` classes? In general, no. Your listener can &quot;handle&quot; multiple entities, but how to make it happen - depends on what you need - for instance, if you need to encrypt/decrypt different fields in different entity that&#39;s one case, and if you need encrypt/decrypt let&#39;s say `name` and you have this field in different entities, that would be another case and another solution. Also, you might want to encrypt everything and again that would be a different solution because it is yet another use case.\r\n\r\nIf it is the same field you could probably &quot;unify&quot; you entities (but keep in mind sometimes it is not a good idea when your entities implement some interfaces):\r\n\r\n```java\r\npublic interface Sensitive {\r\n\tvoid setName(final Date date);\r\n}\r\n\r\n@EntityListeners(SensitiveDataListener.class)\r\n@Entity\r\npublic class Entity1 implements Sensitive {\r\n    // override setName\r\n}\r\n\r\n@EntityListeners(SensitiveDataListener.class)\r\n@Entity\r\npublic class Entity2 implements Sensitive {\r\n    // override setName\r\n}\r\n\r\n// but then your SensitiveDataListener will look like this\r\npublic class SensitiveDataListener {\r\n \r\n    @PrePersist\r\n    void beforeAnyPersist(Sensitive entity) {\r\n        // encrypt what you need and set\r\n        // e.g. entity.setName(encrytionService.doEncrypt(entity.getName()));\r\n    }\r\n   \r\n    // after an entity has been loaded\r\n    @PostLoad\r\n    void afterLoad(Sensitive entity) {\r\n        // decrypt what you need\r\n    }\r\n}\r\n```\r\n\r\nMaybe you could also use [AttributeConverter](https://docs.oracle.com/javaee/7/api/javax/persistence/AttributeConverter.html), assuming your field is `String` and encoded value is also `String` you could create converter which will encode/decode your stuff, but then you need to add it to every field (in every entity) you want to encode. \r\n\r\nSomething like this:\r\n\r\n```java\r\n@Convert(converter = MyAttributeConverter.class)\r\nprivate String name; // this is entity field\r\n```","title":"How to centralize data encryption and decryption in Java?","body":"<p>Not sure there is a way to do that easily (kinda out-of-the-box way), but maybe you could try to implement something yourself using JPA lifecycle events and <code>EntityListener</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this is going to be our EntityListener\npublic class SensitiveDataListener {\n \n    @PrePersist\n    void beforeAnyPersist(Customer customer) {\n        // encrypt what you need and set\n        // e.g. customer.setName(encrytionService.doEncrypt(customer.getName()));\n    }\n   \n    // after an entity has been loaded\n    @PostLoad\n    void afterLoad(Customer customer) {\n        // decrypt what you need\n    }\n}\n\n// and this is how you add it to your entity\n@EntityListeners(SensitiveDataListener.class)\n@Entity\npublic class Customer {\n    //...\n}\n</code></pre>\n<p>A good question here would be - ok I have multiple entities, what do I do - create multiple <code>**Listener</code> classes? In general, no. Your listener can &quot;handle&quot; multiple entities, but how to make it happen - depends on what you need - for instance, if you need to encrypt/decrypt different fields in different entity that's one case, and if you need encrypt/decrypt let's say <code>name</code> and you have this field in different entities, that would be another case and another solution. Also, you might want to encrypt everything and again that would be a different solution because it is yet another use case.</p>\n<p>If it is the same field you could probably &quot;unify&quot; you entities (but keep in mind sometimes it is not a good idea when your entities implement some interfaces):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Sensitive {\n    void setName(final Date date);\n}\n\n@EntityListeners(SensitiveDataListener.class)\n@Entity\npublic class Entity1 implements Sensitive {\n    // override setName\n}\n\n@EntityListeners(SensitiveDataListener.class)\n@Entity\npublic class Entity2 implements Sensitive {\n    // override setName\n}\n\n// but then your SensitiveDataListener will look like this\npublic class SensitiveDataListener {\n \n    @PrePersist\n    void beforeAnyPersist(Sensitive entity) {\n        // encrypt what you need and set\n        // e.g. entity.setName(encrytionService.doEncrypt(entity.getName()));\n    }\n   \n    // after an entity has been loaded\n    @PostLoad\n    void afterLoad(Sensitive entity) {\n        // decrypt what you need\n    }\n}\n</code></pre>\n<p>Maybe you could also use <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/AttributeConverter.html\" rel=\"nofollow noreferrer\">AttributeConverter</a>, assuming your field is <code>String</code> and encoded value is also <code>String</code> you could create converter which will encode/decode your stuff, but then you need to add it to every field (in every entity) you want to encode.</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Convert(converter = MyAttributeConverter.class)\nprivate String name; // this is entity field\n</code></pre>\n"}],"owner":{"account_id":13081539,"reputation":31,"user_id":9451946,"display_name":"Teong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73544337,"answer_count":1,"score":0,"last_activity_date":1661871287,"creation_date":1661868735,"question_id":73543915,"body_markdown":"I have two functions to encrypt and decrypt data.\r\n\r\nMy current code is as below. I have entity class, DTO class, repository and service class.\r\nThe name need to be encrypted before save to database and to be decrypted when retrieve from database. \r\n\r\nLets say I have 10 different entity classes need to do the encryption and decryption data, I need to add the encryption and decryption function to each service class as below codes.\r\n\r\nIs there any way to do all the encryption and decryption data in one service class for all the entity? like overriding the Get and Set method in entity? Anyone can advice? Thanks a lot.\r\n\r\n```\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Customer {\r\n        private Long id;\r\n        private String name;\r\n        private String contact;\r\n    }\r\n```\r\n```\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class CustomerDTO {\r\n        private String name;\r\n    }\r\n```\r\n```\r\n    @Repository\r\n    public interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt;{\r\n    \r\n    }\r\n```\r\n```\r\n    @Service\r\n    public class CustomerService {\r\n\r\n         @Autowired\r\n         private CustomerRepository customerRepository;\r\n\r\n         @Autowired\r\n         private EncrytionService encrytionService;\r\n\r\n         public void save(String name){\r\n            Customer customer = new Customer();\r\n            customer.setName(encrytionService.doEncrypt(name));\r\n            customerRepository.save(customer);\r\n         }\r\n\r\n         public CustomerDTO getCustomer(Long customerId) {\r\n            Customer customer = customerRepository.findById(customerId);\r\n            CustomerDTO dto = new CustomerDTO();\r\n            dto.setName(encrytionService.doDecrypt(customer.getName()));\r\n\r\n            return dto;\r\n        }\r\n\r\n    }\r\n```\r\n","title":"How to centralize data encryption and decryption in Java?","body":"<p>I have two functions to encrypt and decrypt data.</p>\n<p>My current code is as below. I have entity class, DTO class, repository and service class.\nThe name need to be encrypted before save to database and to be decrypted when retrieve from database.</p>\n<p>Lets say I have 10 different entity classes need to do the encryption and decryption data, I need to add the encryption and decryption function to each service class as below codes.</p>\n<p>Is there any way to do all the encryption and decryption data in one service class for all the entity? like overriding the Get and Set method in entity? Anyone can advice? Thanks a lot.</p>\n<pre><code>    @Entity\n    @Getter\n    @Setter\n    public class Customer {\n        private Long id;\n        private String name;\n        private String contact;\n    }\n</code></pre>\n<pre><code>    @Getter\n    @Setter\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public class CustomerDTO {\n        private String name;\n    }\n</code></pre>\n<pre><code>    @Repository\n    public interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt;{\n    \n    }\n</code></pre>\n<pre><code>    @Service\n    public class CustomerService {\n\n         @Autowired\n         private CustomerRepository customerRepository;\n\n         @Autowired\n         private EncrytionService encrytionService;\n\n         public void save(String name){\n            Customer customer = new Customer();\n            customer.setName(encrytionService.doEncrypt(name));\n            customerRepository.save(customer);\n         }\n\n         public CustomerDTO getCustomer(Long customerId) {\n            Customer customer = customerRepository.findById(customerId);\n            CustomerDTO dto = new CustomerDTO();\n            dto.setName(encrytionService.doDecrypt(customer.getName()));\n\n            return dto;\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","android","android-layout","android-orientation"],"answers":[{"tags":[],"owner":{"account_id":424446,"reputation":15661,"user_id":804447,"display_name":"Dheeresh Singh"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1340526548,"creation_date":1340526548,"answer_id":11176046,"question_id":11175966,"body_markdown":"put this entry in manifest with activity and Override onConfigurationChanged function\r\n\r\n    android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\r\n    \r\n    @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n       // super.onConfigurationChanged(newConfig);\r\n    \r\n      \r\n    }\r\nthis will stop re-creation of the activity on the orientation change......","title":"How to prevent the layout from getting reset when the screen orientation changes?","body":"<p>put this entry in manifest with activity and Override onConfigurationChanged function</p>\n\n<pre><code>android:configChanges=\"orientation|keyboardHidden|screenSize\"\n\n@Override\npublic void onConfigurationChanged(Configuration newConfig) {\n   // super.onConfigurationChanged(newConfig);\n\n\n}\n</code></pre>\n\n<p>this will stop re-creation of the activity on the orientation change......</p>\n"},{"tags":[],"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340598481,"creation_date":1340598481,"answer_id":11183522,"question_id":11175966,"body_markdown":"If you want to set the Screen in Portrait mode and want to stop the activity to recreating while the orientation change then just put like below code to your activity.\r\n\r\nCode:\r\n\r\n    &lt;activity android:name=&quot;.YourActivityName&quot; android:windowSoftInputMode=&quot;adjustPan&quot; android:screenOrientation=&quot;portrait&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;&gt;&lt;/activity&gt;\r\n\r\n\r\nThis code helps me and will also works for you.\r\n\r\n\r\nEnjoy. \r\n\r\n:)\r\n\r\nHappy Coding...","title":"How to prevent the layout from getting reset when the screen orientation changes?","body":"<p>If you want to set the Screen in Portrait mode and want to stop the activity to recreating while the orientation change then just put like below code to your activity.</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;activity android:name=\".YourActivityName\" android:windowSoftInputMode=\"adjustPan\" android:screenOrientation=\"portrait\" android:configChanges=\"keyboard|keyboardHidden|orientation\"&gt;&lt;/activity&gt;\n</code></pre>\n\n<p>This code helps me and will also works for you.</p>\n\n<p>Enjoy. </p>\n\n<p>:)</p>\n\n<p>Happy Coding...</p>\n"},{"tags":[],"owner":{"account_id":417844,"reputation":608,"user_id":794061,"display_name":"romario333"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340695584,"creation_date":1340690749,"answer_id":11201556,"question_id":11175966,"body_markdown":"Activity restarts when you change orientation and all its state is lost (in your case dynamically added button). You must be prepared to handle this as there are other situations where this might happen. For example your application might be killed if it is in background and a device needs to free memory.\r\n\r\nThe correct solution is to save the state of the activity before it is destroyed and then restore it once it is recreated. Something like this:\r\n\r\n    @Override\r\n    protected void onSaveInstanceState(Bundle outState) {\r\n        // save state of your activity to outState\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        if (savedInstanceState != null) {\r\n            // restore state of your activity from savedInstanceState\r\n        }\r\n    }\r\n\r\nSee [Saving activity state][1] topic in official documentation for more details.\r\n\r\n\r\n  [1]: http://developer.android.com/guide/components/activities.html#SavingActivityState","title":"How to prevent the layout from getting reset when the screen orientation changes?","body":"<p>Activity restarts when you change orientation and all its state is lost (in your case dynamically added button). You must be prepared to handle this as there are other situations where this might happen. For example your application might be killed if it is in background and a device needs to free memory.</p>\n\n<p>The correct solution is to save the state of the activity before it is destroyed and then restore it once it is recreated. Something like this:</p>\n\n<pre><code>@Override\nprotected void onSaveInstanceState(Bundle outState) {\n    // save state of your activity to outState\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    if (savedInstanceState != null) {\n        // restore state of your activity from savedInstanceState\n    }\n}\n</code></pre>\n\n<p>See <a href=\"http://developer.android.com/guide/components/activities.html#SavingActivityState\" rel=\"nofollow\">Saving activity state</a> topic in official documentation for more details.</p>\n"}],"owner":{"account_id":1595539,"reputation":387,"user_id":1477769,"accept_rate":20,"display_name":"StSch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4053,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1661871118,"answer_count":3,"score":5,"last_activity_date":1661871145,"creation_date":1340525666,"question_id":11175966,"body_markdown":"My example is adapted from one of the sample applications that come with one of the compatibility libraries. That&#39;s the layout file:\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/layout&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:padding=&quot;8dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\r\n        android:text=&quot;@string/fragment_menu_msg&quot; /&gt;\r\n\r\n    &lt;CheckBox android:id=&quot;@+id/menu1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:checked=&quot;true&quot;\r\n        android:text=&quot;@string/fragment1menu&quot;&gt;\r\n    &lt;/CheckBox&gt;\r\n    \r\n    &lt;CheckBox android:id=&quot;@+id/menu2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:checked=&quot;true&quot;\r\n        android:text=&quot;@string/fragment2menu&quot;&gt;\r\n    &lt;/CheckBox&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nAnd here some Java code:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.fragment_menu);\r\n        \r\n        ViewGroup layout = (ViewGroup) findViewById(R.id.layout);\r\n    \tButton btn = new Button(getApplication());\r\n    \tbtn.setId(1);\r\n    \tbtn.setText(&quot;Button 1&quot;);\r\n    \tlayout.addView(btn);\r\n\r\n        mCheckBox1 = (CheckBox) findViewById(R.id.menu1);\r\n        mCheckBox1.setOnClickListener(mClickListener);\r\n    }\r\n\r\n    final OnClickListener mClickListener = new OnClickListener() {\r\n        public void onClick(View v) {\r\n        \t\r\n        \tViewGroup layout = (ViewGroup) findViewById(R.id.layout);\r\n        \tButton btn = new Button(v.getContext());\r\n        \tbtn.setId(2);\r\n        \tbtn.setText(&quot;Button 2&quot;);\r\n        \tlayout.addView(btn);\r\n        }\r\n    };\r\n\r\nThe activity starts, you disable the first checkbox, one button (button 2) is added to the layout, you change the screen orientation and button 2 (added in the onClickListener method) disappears.\r\n\r\n[Screenshots on Directupload.net][1]\r\n\r\nI have read a lot of stuff about [Handling Runtime Changes][2] but I still don&#39;t have a clear picture how to prevent Button 2 to disappear in the avobe example. Any help is highly appreciated.\r\n\r\n\r\n  [1]: http://s14.directupload.net/file/d/2931/zvqkubis_png.htm\r\n  [2]: http://developer.android.com/guide/topics/resources/runtime-changes.html","title":"How to prevent the layout from getting reset when the screen orientation changes?","body":"<p>My example is adapted from one of the sample applications that come with one of the compatibility libraries. That's the layout file:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@+id/layout\"\nandroid:orientation=\"vertical\"\nandroid:layout_width=\"fill_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:padding=\"8dp\"&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:textAppearance=\"?android:attr/textAppearanceMedium\"\n    android:text=\"@string/fragment_menu_msg\" /&gt;\n\n&lt;CheckBox android:id=\"@+id/menu1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:checked=\"true\"\n    android:text=\"@string/fragment1menu\"&gt;\n&lt;/CheckBox&gt;\n\n&lt;CheckBox android:id=\"@+id/menu2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:checked=\"true\"\n    android:text=\"@string/fragment2menu\"&gt;\n&lt;/CheckBox&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And here some Java code:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.fragment_menu);\n\n    ViewGroup layout = (ViewGroup) findViewById(R.id.layout);\n    Button btn = new Button(getApplication());\n    btn.setId(1);\n    btn.setText(\"Button 1\");\n    layout.addView(btn);\n\n    mCheckBox1 = (CheckBox) findViewById(R.id.menu1);\n    mCheckBox1.setOnClickListener(mClickListener);\n}\n\nfinal OnClickListener mClickListener = new OnClickListener() {\n    public void onClick(View v) {\n\n        ViewGroup layout = (ViewGroup) findViewById(R.id.layout);\n        Button btn = new Button(v.getContext());\n        btn.setId(2);\n        btn.setText(\"Button 2\");\n        layout.addView(btn);\n    }\n};\n</code></pre>\n\n<p>The activity starts, you disable the first checkbox, one button (button 2) is added to the layout, you change the screen orientation and button 2 (added in the onClickListener method) disappears.</p>\n\n<p><a href=\"http://s14.directupload.net/file/d/2931/zvqkubis_png.htm\" rel=\"nofollow\">Screenshots on Directupload.net</a></p>\n\n<p>I have read a lot of stuff about <a href=\"http://developer.android.com/guide/topics/resources/runtime-changes.html\" rel=\"nofollow\">Handling Runtime Changes</a> but I still don't have a clear picture how to prevent Button 2 to disappear in the avobe example. Any help is highly appreciated.</p>\n"},{"tags":["java","amazon-web-services","lambda"],"comments":[{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1479341712,"post_id":40644611,"comment_id":68521225,"body_markdown":"There is no &quot;this localhost&quot; -- `localhost` is a special hostname that refers to the *local* machine, no matter what machine that happens to be.  It never refers to a different machine, so trying to access `localhost` from elsewhere is, by definition, impossible... so it&#39;s a little bit unclear what you&#39;re actually trying to accomplish.","body":"There is no &quot;this localhost&quot; -- <code>localhost</code> is a special hostname that refers to the <i>local</i> machine, no matter what machine that happens to be.  It never refers to a different machine, so trying to access <code>localhost</code> from elsewhere is, by definition, impossible... so it&#39;s a little bit unclear what you&#39;re actually trying to accomplish."}],"answers":[{"tags":[],"owner":{"account_id":5226225,"reputation":5,"user_id":4178197,"display_name":"Conner Fullerton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479357692,"creation_date":1479356582,"answer_id":40646682,"question_id":40644611,"body_markdown":"you can&#39;t access your localhost with a request from aws or anywhere else. host your api somewhere then you can make a request to it from lambda using: \r\n\r\n     var url = yoursite.com:3000\r\n     http.get(url, function(res) {\r\n       console.log(&quot;Got response: &quot; + res.statusCode);\r\n     }).on(&#39;error&#39;, function(e) {\r\n        console.log(&quot;Got error: &quot; + e.message);\r\n    });\r\n\r\nif you want to host it locally then use a DDNS service. ","title":"Calling locally hosted server from an AWS Lambda function","body":"<p>you can't access your localhost with a request from aws or anywhere else. host your api somewhere then you can make a request to it from lambda using: </p>\n\n<pre><code> var url = yoursite.com:3000\n http.get(url, function(res) {\n   console.log(\"Got response: \" + res.statusCode);\n }).on('error', function(e) {\n    console.log(\"Got error: \" + e.message);\n});\n</code></pre>\n\n<p>if you want to host it locally then use a DDNS service. </p>\n"},{"tags":[],"owner":{"account_id":21775812,"reputation":11,"user_id":16078257,"display_name":"alperari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661870849,"creation_date":1661870849,"answer_id":73544406,"question_id":40644611,"body_markdown":"* Trying to access `localhost` from other devices/machines is not possible.\r\nAWS Lambda also can&#39;t do in that case.\r\n\r\n* I would suggest you to **tunnel your localhost** using [localtunnel][1]. \r\n\r\n* You will get a randomly generated url for tunnel. Then you can call your REST from any other platforms.\r\n\r\nExample:\r\n\r\n    //Install dependency\r\n    npm install -g localtunnel\r\n\r\n    //Start your local server\r\n    npm run dev\r\n\r\n    //Tunnel on the same port (Assuming that you run your REST on port 3000).\r\n    lt --port 3000\r\n    \r\n    //Output:\r\n    &gt;&gt;&gt; your url is: https://red-chairs-like-123-456-789-123.loca.lt\r\n\r\n* So instead of sending request to `http://localhost:3000/users/profile`,\r\n\r\n* you need to send your request to `https://red-chairs-like-123-456-789-123.loca.lt/users/profile`\r\n\r\n* But make sure that everytime you make a change in REST code, or restart your server, you have to tunnel again.\r\n\r\n**P.S.**\r\n\r\n* I was having issue on my Android emulator, with sending requests to `http://localhost`. Android was rejecting sending request to unsecure `http`.\r\nI basically tunelled my localhost the same way to solve issue.\r\n\r\n  [1]: https://github.com/localtunnel/localtunnel","title":"Calling locally hosted server from an AWS Lambda function","body":"<ul>\n<li><p>Trying to access <code>localhost</code> from other devices/machines is not possible.\nAWS Lambda also can't do in that case.</p>\n</li>\n<li><p>I would suggest you to <strong>tunnel your localhost</strong> using <a href=\"https://github.com/localtunnel/localtunnel\" rel=\"nofollow noreferrer\">localtunnel</a>.</p>\n</li>\n<li><p>You will get a randomly generated url for tunnel. Then you can call your REST from any other platforms.</p>\n</li>\n</ul>\n<p>Example:</p>\n<pre><code>//Install dependency\nnpm install -g localtunnel\n\n//Start your local server\nnpm run dev\n\n//Tunnel on the same port (Assuming that you run your REST on port 3000).\nlt --port 3000\n\n//Output:\n&gt;&gt;&gt; your url is: https://red-chairs-like-123-456-789-123.loca.lt\n</code></pre>\n<ul>\n<li><p>So instead of sending request to <code>http://localhost:3000/users/profile</code>,</p>\n</li>\n<li><p>you need to send your request to <code>https://red-chairs-like-123-456-789-123.loca.lt/users/profile</code></p>\n</li>\n<li><p>But make sure that everytime you make a change in REST code, or restart your server, you have to tunnel again.</p>\n</li>\n</ul>\n<p><strong>P.S.</strong></p>\n<ul>\n<li>I was having issue on my Android emulator, with sending requests to <code>http://localhost</code>. Android was rejecting sending request to unsecure <code>http</code>.\nI basically tunelled my localhost the same way to solve issue.</li>\n</ul>\n"}],"owner":{"account_id":6417619,"reputation":201,"user_id":4975304,"accept_rate":54,"display_name":"Clint"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3087,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1661870849,"creation_date":1479341346,"question_id":40644611,"body_markdown":"I have a REST API and have hosted it in my local box. The URL is\r\nhttp://localhost:3000.\r\n\r\nI have an AWS lambda function that has to call this local host to get some data for testing purposes. However, whenever I call this URL I am getting an UnknownHostException.\r\n\r\nIs there any way to call this loaclhost from inside my AWS lambda function?","title":"Calling locally hosted server from an AWS Lambda function","body":"<p>I have a REST API and have hosted it in my local box. The URL is\n<a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a>.</p>\n\n<p>I have an AWS lambda function that has to call this local host to get some data for testing purposes. However, whenever I call this URL I am getting an UnknownHostException.</p>\n\n<p>Is there any way to call this loaclhost from inside my AWS lambda function?</p>\n"},{"tags":["java","spring","email"],"comments":[{"owner":{"account_id":7712450,"reputation":2036,"user_id":5841337,"accept_rate":100,"display_name":"Frank"},"score":1,"creation_date":1461745201,"post_id":36884060,"comment_id":61333210,"body_markdown":"Maybe this could help: [http://stackoverflow.com/questions/2016190/how-to-configure-spring-javamailsenderimpl-for-gmail](http://stackoverflow.com/questions/2016190/how-to-configure-spring-javamailsenderimpl-for-gmail)?","body":"Maybe this could help: <a href=\"http://stackoverflow.com/questions/2016190/how-to-configure-spring-javamailsenderimpl-for-gmail\">http://stackoverflow.com/questions/2016190/how-to-configure-&zwnj;&#8203;spring-javamailsende&zwnj;&#8203;rimpl-for-gmail</a>?"},{"owner":{"account_id":1313449,"reputation":3309,"user_id":1260928,"accept_rate":33,"display_name":"user1260928"},"score":0,"creation_date":1461746076,"post_id":36884060,"comment_id":61333782,"body_markdown":"It seems my properties are correct but still invalid user/pwd","body":"It seems my properties are correct but still invalid user/pwd"},{"owner":{"account_id":7712450,"reputation":2036,"user_id":5841337,"accept_rate":100,"display_name":"Frank"},"score":0,"creation_date":1461746292,"post_id":36884060,"comment_id":61333931,"body_markdown":"Could you add a little bit more code and the complete configuration? With the shown snippets it&#39;s like reading from a crystal ball. ;-)","body":"Could you add a little bit more code and the complete configuration? With the shown snippets it&#39;s like reading from a crystal ball. ;-)"}],"answers":[{"tags":[],"owner":{"account_id":7610764,"reputation":968,"user_id":5771658,"accept_rate":100,"display_name":"PSo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461747863,"creation_date":1461747863,"answer_id":36885147,"question_id":36884060,"body_markdown":"Check your username / password, are you parsing it with plain text,string variable or char array, does it contains special character that needed to be escaped?\r\n\r\nMake sure there is no empty space, extra space/break.\r\n\r\nYour code and config are too narrow ,we can&#39;t help much to be honest.\r\nAre you able to send email using gmail account or other email?\r\nIf you do so, there are problems in either yahoo config,such as port or \r\nthe username password are indeed really incorrect.","title":"Spring java mail : send mail impossible with yahoo","body":"<p>Check your username / password, are you parsing it with plain text,string variable or char array, does it contains special character that needed to be escaped?</p>\n\n<p>Make sure there is no empty space, extra space/break.</p>\n\n<p>Your code and config are too narrow ,we can't help much to be honest.\nAre you able to send email using gmail account or other email?\nIf you do so, there are problems in either yahoo config,such as port or \nthe username password are indeed really incorrect.</p>\n"},{"tags":[],"owner":{"account_id":1036464,"reputation":605,"user_id":1043615,"display_name":"K1w1Geek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477426678,"creation_date":1477426678,"answer_id":40248979,"question_id":36884060,"body_markdown":"This is most likely Yahoo&#39;s new sign in method restrictions.\r\nTry this:\r\nhttps://help.yahoo.com/kb/mail-for-desktop/turn-account-key-sln25781.html\r\nor this:\r\nhttps://login.yahoo.com/account/security#less-secure-apps","title":"Spring java mail : send mail impossible with yahoo","body":"<p>This is most likely Yahoo's new sign in method restrictions.\nTry this:\n<a href=\"https://help.yahoo.com/kb/mail-for-desktop/turn-account-key-sln25781.html\" rel=\"nofollow\">https://help.yahoo.com/kb/mail-for-desktop/turn-account-key-sln25781.html</a>\nor this:\n<a href=\"https://login.yahoo.com/account/security#less-secure-apps\" rel=\"nofollow\">https://login.yahoo.com/account/security#less-secure-apps</a></p>\n"},{"tags":[],"owner":{"account_id":9824858,"reputation":121,"user_id":7278190,"display_name":"WPW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661870818,"creation_date":1661870818,"answer_id":73544402,"question_id":36884060,"body_markdown":"Yes I am also using Yahoo mail and connecting with Java mail, you need to set up a third party access key, and then you will be able to connect.","title":"Spring java mail : send mail impossible with yahoo","body":"<p>Yes I am also using Yahoo mail and connecting with Java mail, you need to set up a third party access key, and then you will be able to connect.</p>\n"}],"owner":{"account_id":1313449,"reputation":3309,"user_id":1260928,"accept_rate":33,"display_name":"user1260928"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1661870818,"creation_date":1461744857,"question_id":36884060,"body_markdown":"I am trying to user spring java mail with theses properties : \r\n\r\n    mail:\r\n            host: smtp.mail.yahoo.com\r\n            port: 587\r\n            username: xxx\r\n            password: xxx\r\n            protocol: smtp\r\n            properties.mail.smtp:\r\n                auth: true\r\n                starttls.enable: true\r\n\r\nCode : \r\n\r\n    @Inject\r\n    private JavaMailSenderImpl javaMailSender;\r\n    ...\r\n    \r\n    MimeMessage mimeMessage = javaMailSender.createMimeMessage();\r\n    message.setTo(to);\r\n    message.setFrom(fromEmail);\r\n    message.setSubject(subject);\r\n    message.setText(content, isHtml);\r\n    javaMailSender.send(mimeMessage);\r\n\r\nBut I am getting this error when I send the mail : \r\n\r\n&gt; E-mail could not be sent to user &#39;xxx@yahoo.fr&#39;, exception is:\r\n&gt; Authentication failed; nested exception is\r\n&gt; javax.mail.AuthenticationFailedException: 535 5.7.0 (#MBR1212)\r\n&gt; Incorrect username or password.\r\n\r\nI am sure my login/pwd are correct.\r\nAre my properties incorrect?\r\n\r\n","title":"Spring java mail : send mail impossible with yahoo","body":"<p>I am trying to user spring java mail with theses properties : </p>\n\n<pre><code>mail:\n        host: smtp.mail.yahoo.com\n        port: 587\n        username: xxx\n        password: xxx\n        protocol: smtp\n        properties.mail.smtp:\n            auth: true\n            starttls.enable: true\n</code></pre>\n\n<p>Code : </p>\n\n<pre><code>@Inject\nprivate JavaMailSenderImpl javaMailSender;\n...\n\nMimeMessage mimeMessage = javaMailSender.createMimeMessage();\nmessage.setTo(to);\nmessage.setFrom(fromEmail);\nmessage.setSubject(subject);\nmessage.setText(content, isHtml);\njavaMailSender.send(mimeMessage);\n</code></pre>\n\n<p>But I am getting this error when I send the mail : </p>\n\n<blockquote>\n  <p>E-mail could not be sent to user 'xxx@yahoo.fr', exception is:\n  Authentication failed; nested exception is\n  javax.mail.AuthenticationFailedException: 535 5.7.0 (#MBR1212)\n  Incorrect username or password.</p>\n</blockquote>\n\n<p>I am sure my login/pwd are correct.\nAre my properties incorrect?</p>\n"},{"tags":["java","c#","base64"],"comments":[{"owner":{"account_id":6001966,"reputation":19298,"user_id":8967612,"display_name":"41686d6564"},"score":2,"creation_date":1661870813,"post_id":73544343,"comment_id":129871663,"body_markdown":"`Convert.FromBase64String(System.Text.Encoding.UTF8.GetString(bytes))`.","body":"<code>Convert.FromBase64String(System.Text.Encoding.UTF8.GetString&zwnj;&#8203;(bytes))</code>."},{"owner":{"account_id":10229189,"reputation":317,"user_id":7550609,"display_name":"AlexZholob"},"score":0,"creation_date":1662033985,"post_id":73544343,"comment_id":129915656,"body_markdown":"@41686d6564standsw.Palestine no it&#39;s completely different result. \nhttps://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\nPlease see MIME decoding. The result is different from the C# decoding","body":"@41686d6564standsw.Palestine no it&#39;s completely different result.  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Base64.html</a> Please see MIME decoding. The result is different from the C# decoding"},{"owner":{"account_id":10229189,"reputation":317,"user_id":7550609,"display_name":"AlexZholob"},"score":0,"creation_date":1662034038,"post_id":73544343,"comment_id":129915678,"body_markdown":"@Charlieface no, it&#39;s decoding simple base64 basic, please see: \nhttps://docs.oracle.com/javase/8/docs/api/java/util/Base64.html \nI need to have mime decoding","body":"@Charlieface no, it&#39;s decoding simple base64 basic, please see:  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Base64.html</a>  I need to have mime decoding"}],"owner":{"account_id":10229189,"reputation":317,"user_id":7550609,"display_name":"AlexZholob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1662040268,"answer_count":0,"score":1,"last_activity_date":1661870593,"creation_date":1661870593,"question_id":73544343,"body_markdown":"I am rewriting this piece of code and couldn&#39;t find C# alternative.\r\n\r\n    java.util.Base64.getMimeDecoder().decode(bytes)\r\n\r\nAlso, I don&#39;t see any mentioning of MIME scheme in official **.NET Core** **base64** converter https://learn.microsoft.com/en-us/dotnet/api/system.convert.frombase64string?view=net-6.0\r\n\r\nCould you help me find an alternative?\r\n","title":"Is there C# alternative to java.util.Base64.getMimeDecoder().decode in java?","body":"<p>I am rewriting this piece of code and couldn't find C# alternative.</p>\n<pre><code>java.util.Base64.getMimeDecoder().decode(bytes)\n</code></pre>\n<p>Also, I don't see any mentioning of MIME scheme in official <strong>.NET Core</strong> <strong>base64</strong> converter <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.convert.frombase64string?view=net-6.0\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/dotnet/api/system.convert.frombase64string?view=net-6.0</a></p>\n<p>Could you help me find an alternative?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1661804875,"post_id":73534268,"comment_id":129854465,"body_markdown":"You need to know when a new line starts. You can read the entire line into a string, parse the integers from that, then find and print the max. Repeat for other lines.","body":"You need to know when a new line starts. You can read the entire line into a string, parse the integers from that, then find and print the max. Repeat for other lines."},{"owner":{"account_id":5868390,"reputation":19929,"user_id":4621513,"accept_rate":77,"display_name":"mkrieger1"},"score":0,"creation_date":1661804882,"post_id":73534268,"comment_id":129854469,"body_markdown":"Which part of your code is responsible for keeping track of which line each number came from?","body":"Which part of your code is responsible for keeping track of which line each number came from?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1661805125,"post_id":73534268,"comment_id":129854533,"body_markdown":"Yes, if &quot;row&quot; is the same as a line of text, `nextInt()` will blow right past any next line characters.  Consider something like `readLine()` then use `string.split()` followed by `string.intValue()` to parse the lines.  (I&#39;m trying to think of a more automatic way to do this but I can&#39;t come up with anything.)","body":"Yes, if &quot;row&quot; is the same as a line of text, <code>nextInt()</code> will blow right past any next line characters.  Consider something like <code>readLine()</code> then use <code>string.split()</code> followed by <code>string.intValue()</code> to parse the lines.  (I&#39;m trying to think of a more automatic way to do this but I can&#39;t come up with anything.)"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1661805775,"post_id":73534268,"comment_id":129854711,"body_markdown":"Can you post how does your file exacly looks like?","body":"Can you post how does your file exacly looks like?"}],"answers":[{"tags":[],"owner":{"account_id":25346888,"reputation":61,"user_id":19164383,"display_name":"SamuelC00"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661805915,"creation_date":1661805915,"answer_id":73534472,"question_id":73534268,"body_markdown":"Use `hasNextLine()` to know when a new line is being read to reset the highest score.\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\nclass ScanLine {\r\n\r\n  public static void main(String[] args) throws FileNotFoundException {\r\n    File file = new File(&quot;input.txt&quot;);\r\n    Scanner sc = new Scanner(file);\r\n    \r\n    while(sc.hasNextLine()) {\r\n      String line = sc.nextLine();\r\n      String[] nums = line.split(&quot; &quot;);\r\n      \r\n      int highScore = 0;\r\n      for(int i = 0; i &lt; nums.length; ++i) {\r\n        int grade = Integer.parseInt(nums[i]);\r\n         if(grade &gt; highScore){\r\n            highScore = grade;\r\n         }\r\n      }\r\n      System.out.println(highScore);\r\n    }\r\n    sc.close();\r\n  }\r\n}\r\n","title":"Find biggest number in each row from a text file in java","body":"<p>Use <code>hasNextLine()</code> to know when a new line is being read to reset the highest score.</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\nclass ScanLine {\n\n  public static void main(String[] args) throws FileNotFoundException {\n    File file = new File(&quot;input.txt&quot;);\n    Scanner sc = new Scanner(file);\n    \n    while(sc.hasNextLine()) {\n      String line = sc.nextLine();\n      String[] nums = line.split(&quot; &quot;);\n      \n      int highScore = 0;\n      for(int i = 0; i &lt; nums.length; ++i) {\n        int grade = Integer.parseInt(nums[i]);\n         if(grade &gt; highScore){\n            highScore = grade;\n         }\n      }\n      System.out.println(highScore);\n    }\n    sc.close();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661870383,"creation_date":1661805980,"answer_id":73534481,"question_id":73534268,"body_markdown":"Given the following lines of text.\r\n```\r\nString text = &quot;&quot;&quot;\r\n      1  2 3 4 5 6\r\n      30 20 1 30 40\r\n      9 100, 4, 5 12 1\r\n    &quot;&quot;&quot;;\r\n```     \r\n- Use `Pattern.splitAsStream(String)` to stream only the numeric values. The regex `\\\\D+` will split on any grouping of non digits. (Thanks to [Alexander Ivanchenko](https://stackoverflow.com/users/17949945/alexander-ivanchenko) for this alternative to `Arrays.stream(String.split,regex)`\r\n- filter out any empty strings and convert to an int.\r\n- then return the maximum.  Note:  Since `max` returns an `OptionalInt` you need to use `getAsInt()` to get the value.\r\n```\r\nScanner sc = new Scanner(text);\r\n\r\nwhile(sc.hasNextLine()) {\r\n\tint highScore = Pattern.compile(&quot;\\\\D+&quot;)\r\n\t\t\t.splitAsStream(sc.nextLine())\r\n            .filter(s-&gt;!s.isBlank())\r\n\t\t\t.mapToInt(Integer::parseInt)\r\n            .max().getAsInt();\r\n\t\r\n    System.out.println(highScore);\r\n}\r\n```\r\nPrints\r\n```\r\n6\r\n40\r\n100\r\n```\r\nFor demo purposes, a text string is used.  The while loop should also work when you open a file and read with the scanner.\r\n","title":"Find biggest number in each row from a text file in java","body":"<p>Given the following lines of text.</p>\n<pre><code>String text = &quot;&quot;&quot;\n      1  2 3 4 5 6\n      30 20 1 30 40\n      9 100, 4, 5 12 1\n    &quot;&quot;&quot;;\n</code></pre>\n<ul>\n<li>Use <code>Pattern.splitAsStream(String)</code> to stream only the numeric values. The regex <code>\\\\D+</code> will split on any grouping of non digits. (Thanks to <a href=\"https://stackoverflow.com/users/17949945/alexander-ivanchenko\">Alexander Ivanchenko</a> for this alternative to <code>Arrays.stream(String.split,regex)</code></li>\n<li>filter out any empty strings and convert to an int.</li>\n<li>then return the maximum.  Note:  Since <code>max</code> returns an <code>OptionalInt</code> you need to use <code>getAsInt()</code> to get the value.</li>\n</ul>\n<pre><code>Scanner sc = new Scanner(text);\n\nwhile(sc.hasNextLine()) {\n    int highScore = Pattern.compile(&quot;\\\\D+&quot;)\n            .splitAsStream(sc.nextLine())\n            .filter(s-&gt;!s.isBlank())\n            .mapToInt(Integer::parseInt)\n            .max().getAsInt();\n    \n    System.out.println(highScore);\n}\n</code></pre>\n<p>Prints</p>\n<pre><code>6\n40\n100\n</code></pre>\n<p>For demo purposes, a text string is used.  The while loop should also work when you open a file and read with the scanner.</p>\n"},{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661806120,"creation_date":1661806120,"answer_id":73534507,"question_id":73534268,"body_markdown":"As written in the [documentation][1], method `hasNextInt()` returns true if the next token in this scanner&#39;s input can be interpreted as an int value.\r\n\r\nIf you have input like this:\r\n\r\n    4 10 2,\r\n    11 5 20\r\n    6 3 5\r\n\r\nToken  **2,** cant be interpreted as int value, and for this token method `hasNextInt()` will return `false`, and you will exist while loop.\r\nUntil that moment, the biggest number you will find is the number 10 and that is what you see printed on the console\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt()","title":"Find biggest number in each row from a text file in java","body":"<p>As written in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">documentation</a>, method <code>hasNextInt()</code> returns true if the next token in this scanner's input can be interpreted as an int value.</p>\n<p>If you have input like this:</p>\n<pre><code>4 10 2,\n11 5 20\n6 3 5\n</code></pre>\n<p>Token  <strong>2,</strong> cant be interpreted as int value, and for this token method <code>hasNextInt()</code> will return <code>false</code>, and you will exist while loop.\nUntil that moment, the biggest number you will find is the number 10 and that is what you see printed on the console</p>\n"},{"tags":[],"owner":{"account_id":26191653,"reputation":21,"user_id":19873400,"display_name":"kawan pshtiwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661807939,"creation_date":1661807939,"answer_id":73534776,"question_id":73534268,"body_markdown":"    File aaa = new File(&quot;input.txt&quot;);\r\n    Scanner sc = new Scanner(aaa);\r\n    int highScore = sc.nextInt();\r\n    int counter=1;\r\n    \r\n    while(sc.hasNextInt()){\r\n       int grade = sc.nextInt();\r\n       if(counter%3==0){\r\n          highScore = grade; \r\n       }\r\n       if(grade &gt; highScore){\r\n          highScore = grade;\r\n       }\r\n       ++counter;\r\n       if(counter%3==0){\r\n           \r\n           System.out.println(&quot;highScore= &quot;+highScore+&quot; in line number &quot;+counter/3);\r\n       }\r\n    }\r\n    sc.close();\r\n\r\nNote:this code work if you have 3 values in each row and you can change it by changing this condition counter%3==0 change 3 to any number","title":"Find biggest number in each row from a text file in java","body":"<pre><code>File aaa = new File(&quot;input.txt&quot;);\nScanner sc = new Scanner(aaa);\nint highScore = sc.nextInt();\nint counter=1;\n\nwhile(sc.hasNextInt()){\n   int grade = sc.nextInt();\n   if(counter%3==0){\n      highScore = grade; \n   }\n   if(grade &gt; highScore){\n      highScore = grade;\n   }\n   ++counter;\n   if(counter%3==0){\n       \n       System.out.println(&quot;highScore= &quot;+highScore+&quot; in line number &quot;+counter/3);\n   }\n}\nsc.close();\n</code></pre>\n<p>Note:this code work if you have 3 values in each row and you can change it by changing this condition counter%3==0 change 3 to any number</p>\n"}],"owner":{"display_name":"user18061363"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1661870383,"creation_date":1661804468,"question_id":73534268,"body_markdown":"I have to find the biggest number in each row in text file but for some reason my code only finds the biggest number in the first row.\r\n\r\n    File file = new File(&quot;input.txt&quot;);\r\n    Scanner sc = new Scanner(file);\r\n    int highScore = sc.nextInt();\r\n\r\n    while(sc.hasNextInt()){\r\n       int grade = sc.nextInt();\r\n       if(grade &gt; highScore){\r\n          highScore = grade;\r\n       }\r\n    }\r\n    System.out.println(highScore);\r\n    sc.close();\r\n\r\nI&#39;ve tried many things but it only finds the biggest number in the first row. The numbers in the text file are in a 4x4 style so, first row: 4 10 2, second row: 11 5 20 and third row: 6 3 5","title":"Find biggest number in each row from a text file in java","body":"<p>I have to find the biggest number in each row in text file but for some reason my code only finds the biggest number in the first row.</p>\n<pre><code>File file = new File(&quot;input.txt&quot;);\nScanner sc = new Scanner(file);\nint highScore = sc.nextInt();\n\nwhile(sc.hasNextInt()){\n   int grade = sc.nextInt();\n   if(grade &gt; highScore){\n      highScore = grade;\n   }\n}\nSystem.out.println(highScore);\nsc.close();\n</code></pre>\n<p>I've tried many things but it only finds the biggest number in the first row. The numbers in the text file are in a 4x4 style so, first row: 4 10 2, second row: 11 5 20 and third row: 6 3 5</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":9824858,"reputation":121,"user_id":7278190,"display_name":"WPW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661869940,"creation_date":1661824304,"answer_id":73536339,"question_id":73534583,"body_markdown":"Sorry my previous answer was not answering the question, it was trying to answer another question.\r\n\r\nWhat I have done using this was involved three tables,\r\n\r\nThe parent table\r\n\r\nThe join table\r\n\r\nThe child table\r\n\r\nWithin the join table exists the relationships \r\n\r\n      Parent ID - Child ID\r\n             1  | 23\r\n             1  | 46\r\n             1  | 100\r\n           100  | 23\r\n\r\n\r\nSo, the zip code child table would have its own pk I&#39;d along with he parent table, and just the pk ids of each table get inserted to the join table, and inside of the @OneToMany you map the inverse column to the join column\r\n\r\n\r\n\r\n","title":"Java JPA nested objects all having 0 for foreign key value","body":"<p>Sorry my previous answer was not answering the question, it was trying to answer another question.</p>\n<p>What I have done using this was involved three tables,</p>\n<p>The parent table</p>\n<p>The join table</p>\n<p>The child table</p>\n<p>Within the join table exists the relationships</p>\n<pre><code>  Parent ID - Child ID\n         1  | 23\n         1  | 46\n         1  | 100\n       100  | 23\n</code></pre>\n<p>So, the zip code child table would have its own pk I'd along with he parent table, and just the pk ids of each table get inserted to the join table, and inside of the @OneToMany you map the inverse column to the join column</p>\n"}],"owner":{"account_id":3755323,"reputation":331,"user_id":3121794,"accept_rate":69,"display_name":"CS2016"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661869940,"creation_date":1661806734,"question_id":73534583,"body_markdown":"I have a database where I have a One-To-Many nested object within a given entity defined below:\r\n\r\n\r\n\t@OneToMany(mappedBy=&quot;parentID&quot;, cascade=CascadeType.ALL, fetch=FetchType.EAGER)\r\n\tprivate Set&lt;ZipEntity&gt; zipCodesServiced;\r\n\r\nI am trying to persist the parent object and this child list objects where they are linked with the parent object, but the parentID column on all created objects are &quot;0&quot;. An example of created zipcode entries are below:\r\n\r\n    ID      parent_id   zipCode\r\n    2087\t0\t        12345\r\n    2086\t0\t        54321\r\n\r\n\r\nBelow is the `ZipEntity` class,\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;zip_codes_serviced&quot;)\r\n    public class ZipEntity implements Serializable {\r\n    \t\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long ID;\r\n\t\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name=&quot;parent_id&quot;)\r\n\tprivate int parentId;\r\n\t\r\n\t@Column(name=&quot;zipcode&quot;)\r\n\tprivate String zipCode;\r\n    }\r\n\r\nI don&#39;t need these fields to auto increment, I need the parent_id column to be the same for all entries created under the same parent object and to link to said parent.","title":"Java JPA nested objects all having 0 for foreign key value","body":"<p>I have a database where I have a One-To-Many nested object within a given entity defined below:</p>\n<pre><code>@OneToMany(mappedBy=&quot;parentID&quot;, cascade=CascadeType.ALL, fetch=FetchType.EAGER)\nprivate Set&lt;ZipEntity&gt; zipCodesServiced;\n</code></pre>\n<p>I am trying to persist the parent object and this child list objects where they are linked with the parent object, but the parentID column on all created objects are &quot;0&quot;. An example of created zipcode entries are below:</p>\n<pre><code>ID      parent_id   zipCode\n2087    0           12345\n2086    0           54321\n</code></pre>\n<p>Below is the <code>ZipEntity</code> class,</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;zip_codes_serviced&quot;)\npublic class ZipEntity implements Serializable {\n    \n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long ID;\n\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name=&quot;parent_id&quot;)\nprivate int parentId;\n\n@Column(name=&quot;zipcode&quot;)\nprivate String zipCode;\n}\n</code></pre>\n<p>I don't need these fields to auto increment, I need the parent_id column to be the same for all entries created under the same parent object and to link to said parent.</p>\n"},{"tags":["java","spring-boot","elasticsearch","rest-client","low-level"],"answers":[{"tags":[],"owner":{"account_id":15246298,"reputation":1,"user_id":11001087,"display_name":"Deery"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661869861,"creation_date":1661868107,"answer_id":73543764,"question_id":73315649,"body_markdown":"EDIT:\r\n\r\nTry replacing your second code-block with this one:\r\n```\r\n@Configuration\r\n@EnableElasticsearchRepositories(basePackages = &quot;com.demo.elasticsearch.repositories&quot;)\r\n@ComponentScan(basePackages = {&quot;com.demo.elasticsearch&quot;})\r\npublic class ElasticSearchConfiguration\r\n    extends AbstractElasticsearchConfiguration\r\n{\r\n\r\n        RestClient restClient = RestClient.builder(\r\n\t\t\t\tnew HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;),\r\n\t\t\t\tnew HttpHost(&quot;localhost&quot;, 9201, &quot;http&quot;)).build();\r\n\r\n\t\t// Create the transport with a Jackson mapper\r\n\t\tElasticsearchTransport transport = new RestClientTransport(\r\n\t\t\t\trestClient, new JacksonJsonpMapper());\r\n\r\n\t\t// And create the API client\r\n\t\tElasticsearchClient esClient = new \r\n        ElasticsearchClient(transport);\r\n\r\n\t\treturn esClient;\r\n}\r\n\t\t\r\n```\r\n\r\nThis worked for me to get the connection working with a local elasticsearch.\r\n\r\n______________\r\n\r\nOld post: \r\n\r\n\r\n\r\n\r\nI am struggeling with this too. I also try to connect with BasicAuth to https URL.\r\n\r\nI found the following documentation: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/_basic_authentication.html \r\nMaybe it is helpful for you. Let me know in case you managed to solve this problem. \r\n\r\nI currently replaced your block with \r\n```\r\n\t@Bean\r\n\tpublic ElasticsearchClient elasticsearchClient() {\r\n\t\tfinal CredentialsProvider credentialsProvider =\r\n\t\t\t\tnew BasicCredentialsProvider();\r\n\t\tcredentialsProvider.setCredentials(AuthScope.ANY,\r\n\t\t\t\tnew UsernamePasswordCredentials(user, password));\r\n\r\n\t\tRestClientBuilder builder = RestClient.builder(\r\n\t\t\t\t\t\tnew HttpHost(&quot;mycustomurlHidden.com&quot;, 9243))\r\n\t\t\t\t.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\r\n\r\n\t\t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(\r\n\t\t\t\t\t\t\tHttpAsyncClientBuilder httpClientBuilder) {\r\n\t\t\t\t\t\treturn httpClientBuilder\r\n\t\t\t\t\t\t\t\t.setDefaultCredentialsProvider(credentialsProvider);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n```\r\n\r\nI am still getting an error, but maybe it works for you","title":"How to connect Elasticsearch(8.x) using Java low level client configuration as RestHightLevelClient is deprecated","body":"<p>EDIT:</p>\n<p>Try replacing your second code-block with this one:</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.demo.elasticsearch.repositories&quot;)\n@ComponentScan(basePackages = {&quot;com.demo.elasticsearch&quot;})\npublic class ElasticSearchConfiguration\n    extends AbstractElasticsearchConfiguration\n{\n\n        RestClient restClient = RestClient.builder(\n                new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;),\n                new HttpHost(&quot;localhost&quot;, 9201, &quot;http&quot;)).build();\n\n        // Create the transport with a Jackson mapper\n        ElasticsearchTransport transport = new RestClientTransport(\n                restClient, new JacksonJsonpMapper());\n\n        // And create the API client\n        ElasticsearchClient esClient = new \n        ElasticsearchClient(transport);\n\n        return esClient;\n}\n        \n</code></pre>\n<p>This worked for me to get the connection working with a local elasticsearch.</p>\n<hr />\n<p>Old post:</p>\n<p>I am struggeling with this too. I also try to connect with BasicAuth to https URL.</p>\n<p>I found the following documentation: <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/_basic_authentication.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/_basic_authentication.html</a>\nMaybe it is helpful for you. Let me know in case you managed to solve this problem.</p>\n<p>I currently replaced your block with</p>\n<pre><code>    @Bean\n    public ElasticsearchClient elasticsearchClient() {\n        final CredentialsProvider credentialsProvider =\n                new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY,\n                new UsernamePasswordCredentials(user, password));\n\n        RestClientBuilder builder = RestClient.builder(\n                        new HttpHost(&quot;mycustomurlHidden.com&quot;, 9243))\n                .setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\n\n                    public HttpAsyncClientBuilder customizeHttpClient(\n                            HttpAsyncClientBuilder httpClientBuilder) {\n                        return httpClientBuilder\n                                .setDefaultCredentialsProvider(credentialsProvider);\n                    }\n                });\n\n</code></pre>\n<p>I am still getting an error, but maybe it works for you</p>\n"}],"owner":{"account_id":3169463,"reputation":21,"user_id":2678793,"display_name":"Vinay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661869861,"creation_date":1660195694,"question_id":73315649,"body_markdown":"I am new to ElasticSearch and trying to establish connection to elasticsearch using Java Lowlevel rest client configuration as RestHightLevelClient is deprecated.The documentation says to add below code but I am not sure where the code needs to be added. \r\n\r\n    RestClient restClient = RestClient.builder(\r\n        new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;),\r\n        new HttpHost(&quot;localhost&quot;, 9201, &quot;http&quot;)).build();\r\n\r\nThe below RestHightLevelClient configuration works fine but it is deprecated.\r\n\r\n    @Configuration\r\n    @EnableElasticsearchRepositories(basePackages = &quot;com.demo.elasticsearch.repositories&quot;)\r\n    @ComponentScan(basePackages = {&quot;com.demo.elasticsearch&quot;})\r\n    public class ElasticSearchConfiguration\r\n        extends AbstractElasticsearchConfiguration\r\n    {\r\n\r\n        @Override\r\n        public RestHighLevelClient elasticsearchClient() {\r\n            ClientConfiguration clientConfiguration =\r\n                    ClientConfiguration\r\n                        .builder()\r\n                        .connectedTo(&quot;host:port&quot;)\r\n                        .usingSsl()\r\n                        .withBasicAuth(&quot;username&quot;,&quot;password&quot;)\r\n                        .build();\r\n\r\n            return RestClients.create(clientConfiguration).rest();\r\n        }\r\n    }\r\n\r\nCan someone please help me with java low level rest client config","title":"How to connect Elasticsearch(8.x) using Java low level client configuration as RestHightLevelClient is deprecated","body":"<p>I am new to ElasticSearch and trying to establish connection to elasticsearch using Java Lowlevel rest client configuration as RestHightLevelClient is deprecated.The documentation says to add below code but I am not sure where the code needs to be added.</p>\n<pre><code>RestClient restClient = RestClient.builder(\n    new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;),\n    new HttpHost(&quot;localhost&quot;, 9201, &quot;http&quot;)).build();\n</code></pre>\n<p>The below RestHightLevelClient configuration works fine but it is deprecated.</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.demo.elasticsearch.repositories&quot;)\n@ComponentScan(basePackages = {&quot;com.demo.elasticsearch&quot;})\npublic class ElasticSearchConfiguration\n    extends AbstractElasticsearchConfiguration\n{\n\n    @Override\n    public RestHighLevelClient elasticsearchClient() {\n        ClientConfiguration clientConfiguration =\n                ClientConfiguration\n                    .builder()\n                    .connectedTo(&quot;host:port&quot;)\n                    .usingSsl()\n                    .withBasicAuth(&quot;username&quot;,&quot;password&quot;)\n                    .build();\n\n        return RestClients.create(clientConfiguration).rest();\n    }\n}\n</code></pre>\n<p>Can someone please help me with java low level rest client config</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1661869016,"post_id":73543396,"comment_id":129870919,"body_markdown":"you can see the response body in console, can you please added it to question ?","body":"you can see the response body in console, can you please added it to question ?"}],"answers":[{"tags":[],"owner":{"account_id":19569874,"reputation":54,"user_id":14321268,"display_name":"Philipp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661869638,"creation_date":1661869638,"answer_id":73544122,"question_id":73543396,"body_markdown":"Try this:\r\n\r\n    @Test\r\n    void whenNonExistingNamePassedInThenReturn404() throws Exception {\r\n        mockMvc.perform(get(BASE_URL + END_POINT + &quot;/Non existent name&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().is4xxClientError())\r\n                .andExpect(jsonPath(&quot;$[&#39;message&#39;]&quot;, Matchers.is(NAME_NOT_FOUND)));\r\n    }","title":"How to get error message from response body using jsonPath","body":"<p>Try this:</p>\n<pre><code>@Test\nvoid whenNonExistingNamePassedInThenReturn404() throws Exception {\n    mockMvc.perform(get(BASE_URL + END_POINT + &quot;/Non existent name&quot;)\n            .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().is4xxClientError())\n            .andExpect(jsonPath(&quot;$['message']&quot;, Matchers.is(NAME_NOT_FOUND)));\n}\n</code></pre>\n"}],"owner":{"account_id":16792700,"reputation":195,"user_id":12139915,"display_name":"meniman98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73544122,"answer_count":1,"score":1,"last_activity_date":1661869638,"creation_date":1661866588,"question_id":73543396,"body_markdown":"I am testing my API which I&#39;ve created using Java and Spring Boot. \r\nI have a test method which returns me a 404 not found (which is intended) and I need to access the error message that is returned. Here&#39;s the response:\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-08-30T13:20:22.062+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;Name does not exist&quot;,\r\n    &quot;path&quot;: &quot;/mutualFundNav/sds&quot;\r\n}\r\n```\r\n\r\nI need to get the &quot;message&quot; variable and ensure the correct error message is displayed. I tried the following code:\r\n\r\n```\r\n\t@Test\r\n\tvoid whenNonExistingNamePassedInThenReturn404() throws Exception {\r\n\t\tmockMvc.perform(get(BASE_URL + END_POINT + &quot;/Non existent name&quot;)\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON))\r\n\t\t\t\t.andExpect(status().is4xxClientError())\r\n\t\t\t\t.andExpect(jsonPath(&quot;$.message&quot;, Matchers.is(NAME_NOT_FOUND)));\r\n\t}\r\n```\r\n\r\nWhen I run this method, I do indeed get a 404 not found error like intended, but I&#39;m unable to retrieve the error message. I get an error like this:\r\n```\r\njava.lang.AssertionError: No value at JSON path &quot;$.message&quot;\r\n```","title":"How to get error message from response body using jsonPath","body":"<p>I am testing my API which I've created using Java and Spring Boot.\nI have a test method which returns me a 404 not found (which is intended) and I need to access the error message that is returned. Here's the response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-08-30T13:20:22.062+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;Name does not exist&quot;,\n    &quot;path&quot;: &quot;/mutualFundNav/sds&quot;\n}\n</code></pre>\n<p>I need to get the &quot;message&quot; variable and ensure the correct error message is displayed. I tried the following code:</p>\n<pre><code>    @Test\n    void whenNonExistingNamePassedInThenReturn404() throws Exception {\n        mockMvc.perform(get(BASE_URL + END_POINT + &quot;/Non existent name&quot;)\n                .contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().is4xxClientError())\n                .andExpect(jsonPath(&quot;$.message&quot;, Matchers.is(NAME_NOT_FOUND)));\n    }\n</code></pre>\n<p>When I run this method, I do indeed get a 404 not found error like intended, but I'm unable to retrieve the error message. I get an error like this:</p>\n<pre><code>java.lang.AssertionError: No value at JSON path &quot;$.message&quot;\n</code></pre>\n"},{"tags":["java","java-stream","collectors","groupingby"],"comments":[{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":0,"creation_date":1661863126,"post_id":73542470,"comment_id":129868356,"body_markdown":"I do not understand what you mean. Please clear-up what you want, possibly including examples","body":"I do not understand what you mean. Please clear-up what you want, possibly including examples"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661869542,"creation_date":1661865546,"answer_id":73543158,"question_id":73542470,"body_markdown":"It can&#39;t be achieved using by *collector* `groupingBy()` without introducing some kind of intermediary objects that will hand out a separate *ingredient* to the *collector*, instead of a collection of *ingredients*.\r\n\r\nBut it would be redundant, in the sense that it would cost the performance (object creation doesn&#39;t happen for free) and we can do better.\r\n\r\nInstead, we can accumulate `Product`s from the stream **without transforming them** directly into the resulting `Map` perfectly fine, by making use of the *three-args* version of [`collect(supplier,accumulator,combiner)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)).\r\n\r\n***Note** that in order to serve as a *key* in a `Map`, `Ingredient` need to have a proper implementation of the `equals/hashCode`*.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n```\r\nList&lt;Product&gt; products = List.of(p1,p2,p3);\r\n        \r\nMap&lt;Ingredient, List&lt;Product&gt;&gt; productsByIngredient = products.stream()\r\n    .collect(\r\n        HashMap::new,\r\n        (Map&lt;Ingredient, List&lt;Product&gt;&gt; map, Product next) -&gt; next.getIngredients()\r\n            .forEach(i -&gt; map.computeIfAbsent(i, k -&gt; new ArrayList&lt;&gt;()).add(next)),\r\n        (left, right) -&gt; right.forEach((i, prods) -&gt;\r\n            left.merge(i, prods, (oldV, newV) -&gt; { oldV.addAll(newV); return oldV; }))\r\n    );\r\n    \r\nproductsByIngredient.forEach((i, prods) -&gt; System.out.println(i + &quot; -&gt; &quot; + prods));\r\n```\r\n*Output:*\r\n```none\r\nIngredient{name=&#39;i1&#39;} -&gt; [Product{id=&#39;1}, Product{id=&#39;2}]\r\nIngredient{name=&#39;i2&#39;} -&gt; [Product{id=&#39;1}, Product{id=&#39;3}]\r\nIngredient{name=&#39;i3&#39;} -&gt; [Product{id=&#39;1}, Product{id=&#39;2}]\r\nIngredient{name=&#39;i4&#39;} -&gt; [Product{id=&#39;3}]\r\nIngredient{name=&#39;i5&#39;} -&gt; [Product{id=&#39;2}, Product{id=&#39;3}]\r\n```\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/usM)","title":"Creating a Map&lt;U, List&lt;T&gt;&gt; from a List&lt;T&gt; where each T contains a List&lt;U&gt; using Stream API","body":"<p>It can't be achieved using by <em>collector</em> <code>groupingBy()</code> without introducing some kind of intermediary objects that will hand out a separate <em>ingredient</em> to the <em>collector</em>, instead of a collection of <em>ingredients</em>.</p>\n<p>But it would be redundant, in the sense that it would cost the performance (object creation doesn't happen for free) and we can do better.</p>\n<p>Instead, we can accumulate <code>Product</code>s from the stream <strong>without transforming them</strong> directly into the resulting <code>Map</code> perfectly fine, by making use of the <em>three-args</em> version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>collect(supplier,accumulator,combiner)</code></a>.</p>\n<p><em><strong>Note</strong> that in order to serve as a <em>key</em> in a <code>Map</code>, <code>Ingredient</code> need to have a proper implementation of the <code>equals/hashCode</code></em>.</p>\n<p>That's how it might be implemented:</p>\n<pre><code>List&lt;Product&gt; products = List.of(p1,p2,p3);\n        \nMap&lt;Ingredient, List&lt;Product&gt;&gt; productsByIngredient = products.stream()\n    .collect(\n        HashMap::new,\n        (Map&lt;Ingredient, List&lt;Product&gt;&gt; map, Product next) -&gt; next.getIngredients()\n            .forEach(i -&gt; map.computeIfAbsent(i, k -&gt; new ArrayList&lt;&gt;()).add(next)),\n        (left, right) -&gt; right.forEach((i, prods) -&gt;\n            left.merge(i, prods, (oldV, newV) -&gt; { oldV.addAll(newV); return oldV; }))\n    );\n    \nproductsByIngredient.forEach((i, prods) -&gt; System.out.println(i + &quot; -&gt; &quot; + prods));\n</code></pre>\n<p><em>Output:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>Ingredient{name='i1'} -&gt; [Product{id='1}, Product{id='2}]\nIngredient{name='i2'} -&gt; [Product{id='1}, Product{id='3}]\nIngredient{name='i3'} -&gt; [Product{id='1}, Product{id='2}]\nIngredient{name='i4'} -&gt; [Product{id='3}]\nIngredient{name='i5'} -&gt; [Product{id='2}, Product{id='3}]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/usM\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661866609,"creation_date":1661866609,"answer_id":73543402,"question_id":73542470,"body_markdown":"You can create a Tuple\r\n\r\n    @Value\r\n    static class Tuple&lt;L, R&gt; {\r\n        L left;\r\n        R right;\r\n    }\r\n\r\nor a Java record\r\n\r\n    public record IngProd (Ingredient ingredient, Product product) {}\r\n\r\nand then stream over your products flatmapping to a tuple and collect using grouping by\r\n\r\n    Map&lt;Ingredient, List&lt;Product&gt;&gt; result =\r\n            products.stream()\r\n                    .flatMap(prod -&gt; prod.getIngredients().stream().map(ing -&gt; new Tuple&lt;&gt;(ing, prod)))\r\n                    .collect(groupingBy(Tuple::getLeft, mapping(Tuple::getRight, toList())));\r\n\r\nwhen using a record change\r\n\r\n    Tuple::getLeft &amp; Tuple::getRight\r\n\r\nto\r\n\r\n    IngProd::getIngredient &amp; IngProd::getProduct\r\n\r\n","title":"Creating a Map&lt;U, List&lt;T&gt;&gt; from a List&lt;T&gt; where each T contains a List&lt;U&gt; using Stream API","body":"<p>You can create a Tuple</p>\n<pre><code>@Value\nstatic class Tuple&lt;L, R&gt; {\n    L left;\n    R right;\n}\n</code></pre>\n<p>or a Java record</p>\n<pre><code>public record IngProd (Ingredient ingredient, Product product) {}\n</code></pre>\n<p>and then stream over your products flatmapping to a tuple and collect using grouping by</p>\n<pre><code>Map&lt;Ingredient, List&lt;Product&gt;&gt; result =\n        products.stream()\n                .flatMap(prod -&gt; prod.getIngredients().stream().map(ing -&gt; new Tuple&lt;&gt;(ing, prod)))\n                .collect(groupingBy(Tuple::getLeft, mapping(Tuple::getRight, toList())));\n</code></pre>\n<p>when using a record change</p>\n<pre><code>Tuple::getLeft &amp; Tuple::getRight\n</code></pre>\n<p>to</p>\n<pre><code>IngProd::getIngredient &amp; IngProd::getProduct\n</code></pre>\n"}],"owner":{"account_id":13890967,"reputation":3,"user_id":10028975,"display_name":"seyda &#246;zdemir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73543402,"answer_count":2,"score":0,"last_activity_date":1661869542,"creation_date":1661862532,"question_id":73542470,"body_markdown":"I have a `List` of `Product`s and every *product* contains a list of `Ingredient`s.\r\n\r\n    public class Product {\r\n        private String id;\r\n        private List&lt;Ingredient&gt; ingredients;\r\n    \r\n        // other code\r\n    }\r\n\r\n    public class Ingredient {\r\n        private String name;\r\n    \r\n        // other code\r\n    }\r\n\r\nI want to collect *products* into `Map` grouping them by each *ingredient*.\r\n\r\nHow can I do it by using Stream API&#39;s `collect()` and `Collectors.groupingBy()`?\r\n```\r\nProduct p1 = new Product(&quot;1&quot;, Arrays.asList(new Ingredient(&quot;i1&quot;), new Ingredient(&quot;i2&quot;), new Ingredient(&quot;i3&quot;)));\r\nProduct p2 = new Product(&quot;2&quot;, Arrays.asList(new Ingredient(&quot;i1&quot;), new Ingredient(&quot;i3&quot;), new Ingredient(&quot;i5&quot;)));\r\nProduct p3 = new Product(&quot;3&quot;, Arrays.asList(new Ingredient(&quot;i2&quot;), new Ingredient(&quot;i4&quot;), new Ingredient(&quot;i5&quot;)));\r\n\r\nList&lt;Product&gt; products = List.of(p1, p2, p3);\r\n    \r\nMap&lt;Ingredient, List&lt;Product&gt;&gt; result = products.stream()\r\n    .collect(Collectors.groupingBy( not_sure_what_needs_to_go_here ));\r\n```\r\n\r\nThe expected result should look like:\r\n```\r\n[i1 : {p1, p2} ,\r\n i2 : {p1, p3} ,\r\n i3 : {p1, p2},\r\n i4 : {p3} ,\r\n i5 : {p2, p2}]\r\n```","title":"Creating a Map&lt;U, List&lt;T&gt;&gt; from a List&lt;T&gt; where each T contains a List&lt;U&gt; using Stream API","body":"<p>I have a <code>List</code> of <code>Product</code>s and every <em>product</em> contains a list of <code>Ingredient</code>s.</p>\n<pre><code>public class Product {\n    private String id;\n    private List&lt;Ingredient&gt; ingredients;\n\n    // other code\n}\n\npublic class Ingredient {\n    private String name;\n\n    // other code\n}\n</code></pre>\n<p>I want to collect <em>products</em> into <code>Map</code> grouping them by each <em>ingredient</em>.</p>\n<p>How can I do it by using Stream API's <code>collect()</code> and <code>Collectors.groupingBy()</code>?</p>\n<pre><code>Product p1 = new Product(&quot;1&quot;, Arrays.asList(new Ingredient(&quot;i1&quot;), new Ingredient(&quot;i2&quot;), new Ingredient(&quot;i3&quot;)));\nProduct p2 = new Product(&quot;2&quot;, Arrays.asList(new Ingredient(&quot;i1&quot;), new Ingredient(&quot;i3&quot;), new Ingredient(&quot;i5&quot;)));\nProduct p3 = new Product(&quot;3&quot;, Arrays.asList(new Ingredient(&quot;i2&quot;), new Ingredient(&quot;i4&quot;), new Ingredient(&quot;i5&quot;)));\n\nList&lt;Product&gt; products = List.of(p1, p2, p3);\n    \nMap&lt;Ingredient, List&lt;Product&gt;&gt; result = products.stream()\n    .collect(Collectors.groupingBy( not_sure_what_needs_to_go_here ));\n</code></pre>\n<p>The expected result should look like:</p>\n<pre><code>[i1 : {p1, p2} ,\n i2 : {p1, p3} ,\n i3 : {p1, p2},\n i4 : {p3} ,\n i5 : {p2, p2}]\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1661861888,"post_id":73542288,"comment_id":129867805,"body_markdown":"There is not enough code to see what&#39;s wrong. Also please post the whole stacktrace or provide a reproducible example. What strikes me first is that the post has no body","body":"There is not enough code to see what&#39;s wrong. Also please post the whole stacktrace or provide a reproducible example. What strikes me first is that the post has no body"}],"answers":[{"tags":[],"owner":{"account_id":26076909,"reputation":19,"user_id":19775732,"display_name":"Daniel Kozak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661869488,"creation_date":1661869488,"answer_id":73544095,"question_id":73542288,"body_markdown":"First of all, for some reason, I needed to declare EmployeeModelAssembler through @TestConfiguration, not through @MockBean:\r\n\r\n        @TestConfiguration\r\n    static class ModelAssemblerConfiguration {\r\n        @Bean\r\n        public EmployeeModelAssembler getEmployeeAssembler() {\r\n            return new EmployeeModelAssembler ();\r\n        }\r\n    }\r\n\r\nThere also was a need to add even two mocks with given for put-test, and of course a content for post body:\r\n\r\n    @Test\r\n    public void postEmployeeStatusIsOk() throws Exception {\r\n        var employee = getTestEmployee();\r\n        given(this.employeeRepository.save(any())).willReturn(getTestEmployee());\r\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/employees&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(employee))\r\n                .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().is2xxSuccessful());\r\n    }\r\n    \r\n    @Test\r\n    public void putEmployeeStatusIsOk() throws Exception\r\n    {\r\n        given(this.employeeRepository.findById(any())).willReturn(Optional.of(getTestEmployee()));\r\n        given(this.employeeRepository.save(any())).willReturn(getTestEmployee());\r\n        var employee = getTestEmployee();\r\n        employee.setId(10L);\r\n        mockMvc.perform( MockMvcRequestBuilders\r\n                        .put(&quot;/employees/{id}&quot;, 1L)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(employee))\r\n                        .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().is2xxSuccessful())\r\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.firstName&quot;).value(&quot;Max&quot;));\r\n\r\nAnd also a mock and value check for get-test, as it was actually doing nothing (returned null, all because of not working EmployeeModelAssembler):\r\n\r\n    @Test\r\n    public void getEmployeesStatusIsOk() throws Exception {\r\n        given(this.employeeRepository.findAll()).willReturn(List.of(getTestEmployee()));\r\n        mockMvc.perform(MockMvcRequestBuilders.get(&quot;/employees&quot;))\r\n                .andExpect(status().is2xxSuccessful())\r\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$..employeeList[0].firstName&quot;).value(&quot;Max&quot;));\r\n    }","title":"How to test post and put methods in Spring Boot application","body":"<p>First of all, for some reason, I needed to declare EmployeeModelAssembler through @TestConfiguration, not through @MockBean:</p>\n<pre><code>    @TestConfiguration\nstatic class ModelAssemblerConfiguration {\n    @Bean\n    public EmployeeModelAssembler getEmployeeAssembler() {\n        return new EmployeeModelAssembler ();\n    }\n}\n</code></pre>\n<p>There also was a need to add even two mocks with given for put-test, and of course a content for post body:</p>\n<pre><code>@Test\npublic void postEmployeeStatusIsOk() throws Exception {\n    var employee = getTestEmployee();\n    given(this.employeeRepository.save(any())).willReturn(getTestEmployee());\n    mockMvc.perform(MockMvcRequestBuilders.post(&quot;/employees&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(objectMapper.writeValueAsString(employee))\n            .accept(MediaType.APPLICATION_JSON))\n            .andExpect(status().is2xxSuccessful());\n}\n\n@Test\npublic void putEmployeeStatusIsOk() throws Exception\n{\n    given(this.employeeRepository.findById(any())).willReturn(Optional.of(getTestEmployee()));\n    given(this.employeeRepository.save(any())).willReturn(getTestEmployee());\n    var employee = getTestEmployee();\n    employee.setId(10L);\n    mockMvc.perform( MockMvcRequestBuilders\n                    .put(&quot;/employees/{id}&quot;, 1L)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(employee))\n                    .accept(MediaType.APPLICATION_JSON))\n            .andExpect(status().is2xxSuccessful())\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.firstName&quot;).value(&quot;Max&quot;));\n</code></pre>\n<p>And also a mock and value check for get-test, as it was actually doing nothing (returned null, all because of not working EmployeeModelAssembler):</p>\n<pre><code>@Test\npublic void getEmployeesStatusIsOk() throws Exception {\n    given(this.employeeRepository.findAll()).willReturn(List.of(getTestEmployee()));\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/employees&quot;))\n            .andExpect(status().is2xxSuccessful())\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$..employeeList[0].firstName&quot;).value(&quot;Max&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":26076909,"reputation":19,"user_id":19775732,"display_name":"Daniel Kozak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661869488,"creation_date":1661861661,"question_id":73542288,"body_markdown":"I&#39;m writing tests for the application from one of Spring-REST tutorials (https://spring.io/guides/tutorials/rest/), and so far it was pretty clear, but I got stuck by trying to test my post and put methods (with get everything is fine, with delete probably too, not 100% sure though):\r\n\r\n        @Test\r\n    public void getEmployeesStatusIsOk() throws Exception {\r\n        mockMvc.perform(MockMvcRequestBuilders.get(&quot;/employees&quot;))\r\n                .andExpect(status().is2xxSuccessful());\r\n    }\r\n\r\n    @Test\r\n    public void deleteEmployeeStatusIsOk() throws Exception {\r\n        var employee = getTestEmployee();\r\n        employee.setId(10L);\r\n        given(this.employeeRepository.existsById(any())).willReturn(Boolean.TRUE);\r\n        mockMvc.perform(MockMvcRequestBuilders.delete(&quot;/employees/{id}&quot;, 10L))\r\n                .andExpect(status().is2xxSuccessful());\r\n    }\r\n\r\n    @Test\r\n    public void postEmployeeStatusIsOk() throws Exception {\r\n        given(this.mockMvc.perform(MockMvcRequestBuilders.post(any()))).willReturn((ResultActions) ResponseEntity.status(HttpStatus.valueOf(&quot;Ok&quot;)));\r\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/employees&quot;))\r\n                .andExpect(status().is2xxSuccessful());\r\n    }\r\n    @Test\r\n    public void putEmployeeStatusIsOk() throws Exception\r\n    {\r\n        var employee = getTestEmployee();\r\n        employee.setId(1L);\r\n        mockMvc.perform( MockMvcRequestBuilders\r\n                        .put(&quot;/employees/{id}&quot;, 1L)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(employee))\r\n                        .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().is2xxSuccessful());\r\n    }\r\n\r\nI&#39;ll also leave the methods here in case you need to have a look at them: \r\n\r\n        @GetMapping(&quot;/employees&quot;)\r\n    public CollectionModel&lt;EntityModel&lt;Employee&gt;&gt; all() {\r\n\r\n        List&lt;EntityModel&lt;Employee&gt;&gt; employees = repository.findAll().stream()\r\n                .map(assembler::toModel).collect(Collectors.toList());\r\n\r\n        return CollectionModel.of(employees, linkTo(methodOn(EmployeeController.class).all()).withSelfRel());\r\n    }\r\n\r\n    @PostMapping(&quot;/employees&quot;)\r\n    ResponseEntity&lt;?&gt; newEmployee(@RequestBody Employee newEmployee) {\r\n\r\n        EntityModel&lt;Employee&gt; entityModel = assembler.toModel(repository.save(newEmployee));\r\n\r\n        return ResponseEntity //\r\n                .created(entityModel.getRequiredLink(IanaLinkRelations.SELF).toUri()) //\r\n                .body(entityModel);\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/employees/{id}&quot;)\r\n    public EntityModel&lt;Employee&gt; one(@PathVariable Long id) {\r\n\r\n        Employee employee = repository.findById(id) //\r\n                .orElseThrow(() -&gt; new EmployeeNotFoundException(id));\r\n\r\n        return assembler.toModel(employee);\r\n    }\r\n\r\n    @PutMapping(&quot;/employees/{id}&quot;)\r\n    ResponseEntity&lt;?&gt; replaceEmployee(@RequestBody Employee newEmployee, @PathVariable Long id) {\r\n\r\n        Employee updatedEmployee = repository.findById(id) //\r\n                .map(employee -&gt; {\r\n                    employee.setName(newEmployee.getName());\r\n                    employee.setRole(newEmployee.getRole());\r\n                    return repository.save(employee);\r\n                }) //\r\n                .orElseGet(() -&gt; {\r\n                    newEmployee.setId(id);\r\n                    return repository.save(newEmployee);\r\n                });\r\n\r\n        EntityModel&lt;Employee&gt; entityModel = assembler.toModel(updatedEmployee);\r\n\r\n        return ResponseEntity //\r\n                .created(entityModel.getRequiredLink(IanaLinkRelations.SELF).toUri()) //\r\n                .body(entityModel);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/employees/{id}&quot;)\r\n    ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable Long id) {\r\n\r\n        if (!repository.existsById(id)) {\r\n            throw new EmployeeNotFoundException(id);\r\n        }\r\n\r\n        repository.deleteById(id);\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n   \r\nBeginnings of the error messages:\r\n\r\nPost \r\n\r\n&gt; java.lang.IllegalArgumentException: &#39;url&#39; is required\r\n\r\nPut \r\n\r\n&gt; org.springframework.web.util.NestedServletException: Request\r\n&gt; processing failed; nested exception is java.lang.NullPointerException:\r\n&gt; Cannot invoke\r\n&gt; &quot;org.springframework.hateoas.EntityModel.getRequiredLink(org.springframework.hateoas.LinkRelation)&quot;\r\n&gt; because &quot;entityModel&quot; is null\r\n\r\nThank you in advance.","title":"How to test post and put methods in Spring Boot application","body":"<p>I'm writing tests for the application from one of Spring-REST tutorials (<a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/rest/</a>), and so far it was pretty clear, but I got stuck by trying to test my post and put methods (with get everything is fine, with delete probably too, not 100% sure though):</p>\n<pre><code>    @Test\npublic void getEmployeesStatusIsOk() throws Exception {\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/employees&quot;))\n            .andExpect(status().is2xxSuccessful());\n}\n\n@Test\npublic void deleteEmployeeStatusIsOk() throws Exception {\n    var employee = getTestEmployee();\n    employee.setId(10L);\n    given(this.employeeRepository.existsById(any())).willReturn(Boolean.TRUE);\n    mockMvc.perform(MockMvcRequestBuilders.delete(&quot;/employees/{id}&quot;, 10L))\n            .andExpect(status().is2xxSuccessful());\n}\n\n@Test\npublic void postEmployeeStatusIsOk() throws Exception {\n    given(this.mockMvc.perform(MockMvcRequestBuilders.post(any()))).willReturn((ResultActions) ResponseEntity.status(HttpStatus.valueOf(&quot;Ok&quot;)));\n    mockMvc.perform(MockMvcRequestBuilders.post(&quot;/employees&quot;))\n            .andExpect(status().is2xxSuccessful());\n}\n@Test\npublic void putEmployeeStatusIsOk() throws Exception\n{\n    var employee = getTestEmployee();\n    employee.setId(1L);\n    mockMvc.perform( MockMvcRequestBuilders\n                    .put(&quot;/employees/{id}&quot;, 1L)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(employee))\n                    .accept(MediaType.APPLICATION_JSON))\n            .andExpect(status().is2xxSuccessful());\n}\n</code></pre>\n<p>I'll also leave the methods here in case you need to have a look at them:</p>\n<pre><code>    @GetMapping(&quot;/employees&quot;)\npublic CollectionModel&lt;EntityModel&lt;Employee&gt;&gt; all() {\n\n    List&lt;EntityModel&lt;Employee&gt;&gt; employees = repository.findAll().stream()\n            .map(assembler::toModel).collect(Collectors.toList());\n\n    return CollectionModel.of(employees, linkTo(methodOn(EmployeeController.class).all()).withSelfRel());\n}\n\n@PostMapping(&quot;/employees&quot;)\nResponseEntity&lt;?&gt; newEmployee(@RequestBody Employee newEmployee) {\n\n    EntityModel&lt;Employee&gt; entityModel = assembler.toModel(repository.save(newEmployee));\n\n    return ResponseEntity //\n            .created(entityModel.getRequiredLink(IanaLinkRelations.SELF).toUri()) //\n            .body(entityModel);\n}\n\n\n@GetMapping(&quot;/employees/{id}&quot;)\npublic EntityModel&lt;Employee&gt; one(@PathVariable Long id) {\n\n    Employee employee = repository.findById(id) //\n            .orElseThrow(() -&gt; new EmployeeNotFoundException(id));\n\n    return assembler.toModel(employee);\n}\n\n@PutMapping(&quot;/employees/{id}&quot;)\nResponseEntity&lt;?&gt; replaceEmployee(@RequestBody Employee newEmployee, @PathVariable Long id) {\n\n    Employee updatedEmployee = repository.findById(id) //\n            .map(employee -&gt; {\n                employee.setName(newEmployee.getName());\n                employee.setRole(newEmployee.getRole());\n                return repository.save(employee);\n            }) //\n            .orElseGet(() -&gt; {\n                newEmployee.setId(id);\n                return repository.save(newEmployee);\n            });\n\n    EntityModel&lt;Employee&gt; entityModel = assembler.toModel(updatedEmployee);\n\n    return ResponseEntity //\n            .created(entityModel.getRequiredLink(IanaLinkRelations.SELF).toUri()) //\n            .body(entityModel);\n}\n\n@DeleteMapping(&quot;/employees/{id}&quot;)\nResponseEntity&lt;?&gt; deleteEmployee(@PathVariable Long id) {\n\n    if (!repository.existsById(id)) {\n        throw new EmployeeNotFoundException(id);\n    }\n\n    repository.deleteById(id);\n    return ResponseEntity.noContent().build();\n}\n</code></pre>\n<p>Beginnings of the error messages:</p>\n<p>Post</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: 'url' is required</p>\n</blockquote>\n<p>Put</p>\n<blockquote>\n<p>org.springframework.web.util.NestedServletException: Request\nprocessing failed; nested exception is java.lang.NullPointerException:\nCannot invoke\n&quot;org.springframework.hateoas.EntityModel.getRequiredLink(org.springframework.hateoas.LinkRelation)&quot;\nbecause &quot;entityModel&quot; is null</p>\n</blockquote>\n<p>Thank you in advance.</p>\n"},{"tags":["java","android","android-studio","android-manifest"],"comments":[{"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"score":0,"creation_date":1650694333,"post_id":71977243,"comment_id":127185163,"body_markdown":"You can&#39;t switch activities from the manifest. Start your main activity manually within the splash activity.","body":"You can&#39;t switch activities from the manifest. Start your main activity manually within the splash activity."}],"answers":[{"tags":[],"owner":{"account_id":2719480,"reputation":132,"user_id":2346074,"display_name":"GoRo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650694770,"creation_date":1650694770,"answer_id":71977363,"question_id":71977243,"body_markdown":"You cannot use your manifest for this, you need to use an Intent.\r\n\r\nCode Example that you need in your SplashScreen Activity:\r\n\r\n    Intent intent = new Intent(SplashScreen.this, YOURNEXTCLASS.class);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                startActivity(intent);\r\n                finish();","title":"SplashScreen doesn&#39;t show main activity but it automatically closes the app after showing the splashscreen","body":"<p>You cannot use your manifest for this, you need to use an Intent.</p>\n<p>Code Example that you need in your SplashScreen Activity:</p>\n<pre><code>Intent intent = new Intent(SplashScreen.this, YOURNEXTCLASS.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            startActivity(intent);\n            finish();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25061784,"reputation":1,"user_id":18916586,"display_name":"hari patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650698501,"creation_date":1650698501,"answer_id":71977675,"question_id":71977243,"body_markdown":"\r\n[Make Sure Your compileSdkVersion 31 and targetSdkVersion 30.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/02ITQ.png","title":"SplashScreen doesn&#39;t show main activity but it automatically closes the app after showing the splashscreen","body":"<p><a href=\"https://i.stack.imgur.com/02ITQ.png\" rel=\"nofollow noreferrer\">Make Sure Your compileSdkVersion 31 and targetSdkVersion 30.</a></p>\n"},{"tags":[],"owner":{"account_id":24184195,"reputation":11,"user_id":18783989,"display_name":"SpartanVII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650709904,"creation_date":1650707545,"answer_id":71978612,"question_id":71977243,"body_markdown":"You can switch activities only from the java files.\r\n\r\nImplement this in your `OnCreate` method.\r\n\r\nSplashActivity.java\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        Timer timer = new Timer();\r\n        timer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        }, 2000); ////wait 2s before doing the action\r\n    }\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;activity\r\n            android:name=&quot;.ui.activities.SplashActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/SplashScreen&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n            android:name=&quot;.ui.activities.MainActivity&quot;\r\n            android:exported=&quot;true&quot;/&gt;\r\n\r\n\r\n","title":"SplashScreen doesn&#39;t show main activity but it automatically closes the app after showing the splashscreen","body":"<p>You can switch activities only from the java files.</p>\n<p>Implement this in your <code>OnCreate</code> method.</p>\n<p>SplashActivity.java</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Intent intent = new Intent(this, MainActivity.class);\n    Timer timer = new Timer();\n    timer.schedule(new TimerTask() {\n        @Override\n        public void run() {\n            startActivity(intent);\n            finish();\n        }\n    }, 2000); ////wait 2s before doing the action\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;activity\n        android:name=&quot;.ui.activities.SplashActivity&quot;\n        android:exported=&quot;true&quot;\n        android:theme=&quot;@style/SplashScreen&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n&lt;/activity&gt;\n&lt;activity\n        android:name=&quot;.ui.activities.MainActivity&quot;\n        android:exported=&quot;true&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24098615,"reputation":11,"user_id":18070753,"display_name":"MDF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661869173,"creation_date":1661869173,"answer_id":73544022,"question_id":71977243,"body_markdown":" the simple method to do is use this in splashscreenactivity.java \r\n ```\r\nIntent intent=new Intent(SplashScreen.this, YourClass.class);\r\n                startActivity(intent);\r\n                finish();\r\n```\r\n\r\nlike this\r\n```\r\npublic class SplashScreenActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n       super.onCreate(savedInstanceState);\r\n       setContentView(R.layout.activity_splash_screen);\r\n       new Handler().postDelayed(new Runnable() {\r\n           @Override\r\n           public void run() {\r\n            //This method will be executed once the timer is over\r\n            // Start your app main activity\r\n           Intent i = new Intent(SplashScreenActivity.this, MainActivity.class);\r\n           startActivity(i);\r\n            // close this activity\r\n           finish();\r\n           }\r\n        }, 3000);\r\n    }\r\n}\r\n```","title":"SplashScreen doesn&#39;t show main activity but it automatically closes the app after showing the splashscreen","body":"<p>the simple method to do is use this in splashscreenactivity.java</p>\n<pre><code>Intent intent=new Intent(SplashScreen.this, YourClass.class);\n               startActivity(intent);\n               finish();\n</code></pre>\n<p>like this</p>\n<pre><code>public class SplashScreenActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_splash_screen);\n       new Handler().postDelayed(new Runnable() {\n           @Override\n           public void run() {\n            //This method will be executed once the timer is over\n            // Start your app main activity\n           Intent i = new Intent(SplashScreenActivity.this, MainActivity.class);\n           startActivity(i);\n            // close this activity\n           finish();\n           }\n        }, 3000);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24098615,"reputation":11,"user_id":18070753,"display_name":"MDF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1661869173,"creation_date":1650693514,"question_id":71977243,"body_markdown":"&lt;code&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@drawable/logo&quot;\r\n        android:label=&quot;App Name&quot;\r\n        android:roundIcon=&quot;@drawable/logo&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:theme=&quot;@style/maintheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;\r\n        tools:replace=&quot;android:icon, android:allowBackup&quot;\r\n\r\n        &gt;\r\n  \r\n\r\n&gt; this activity is splash screen activity below\r\n\r\n        &lt;activity\r\n            android:name=&quot;&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n&gt; this activity is Folder activity activity below\r\n\r\n\r\n        &lt;activity\r\n             android:name= &quot;&quot; \r\n             android:theme= &quot;&quot;\r\n             android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\r\n             android:exported=&quot;true&quot; &gt;\r\n               &lt;intent-filter&gt;\r\n                  &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                  &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n\r\n\r\n        &lt;activity android:name=&quot;.MainActivity&quot; \r\n       android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;&quot; android:theme=&quot;&quot;/&gt;\r\n\r\n\r\n\r\n        &lt;activity android:name=&quot;&quot; android:theme=&quot;&quot;  android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;/&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n\r\n\r\n\r\n&lt;/code&gt;\r\n\r\n\r\n&gt; the problem is when the app run it show the splash screen and then it\r\n&gt; show the app keep closing,it doesn&#39;t start the main activity.\r\n&gt;can i make the android manifest to make the splash screen show first and then the start main activity","title":"SplashScreen doesn&#39;t show main activity but it automatically closes the app after showing the splashscreen","body":"<code>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@drawable/logo&quot;\n    android:label=&quot;App Name&quot;\n    android:roundIcon=&quot;@drawable/logo&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    android:theme=&quot;@style/maintheme&quot;\n    android:usesCleartextTraffic=&quot;true&quot;\n    tools:ignore=&quot;GoogleAppIndexingWarning&quot;\n    tools:replace=&quot;android:icon, android:allowBackup&quot;\n\n    &gt;\n</code></pre>\n<blockquote>\n<p>this activity is splash screen activity below</p>\n</blockquote>\n<pre><code>    &lt;activity\n        android:name=&quot;&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n<blockquote>\n<p>this activity is Folder activity activity below</p>\n</blockquote>\n<pre><code>    &lt;activity\n         android:name= &quot;&quot; \n         android:theme= &quot;&quot;\n         android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\n         android:exported=&quot;true&quot; &gt;\n           &lt;intent-filter&gt;\n              &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n              &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n\n\n    &lt;activity android:name=&quot;.MainActivity&quot; \n   android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\n        android:exported=&quot;true&quot;&gt;\n    &lt;/activity&gt;\n\n    &lt;activity android:name=&quot;&quot; android:theme=&quot;&quot;/&gt;\n\n\n\n    &lt;activity android:name=&quot;&quot; android:theme=&quot;&quot;  android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;/&gt;\n\n&lt;/application&gt;\n</code></pre>\n</code>\n<blockquote>\n<p>the problem is when the app run it show the splash screen and then it\nshow the app keep closing,it doesn't start the main activity.\ncan i make the android manifest to make the splash screen show first and then the start main activity</p>\n</blockquote>\n"},{"tags":["java","hibernate","postgresql","hibernate-mapping"],"comments":[{"owner":{"account_id":275933,"reputation":3454,"user_id":569076,"accept_rate":87,"display_name":"Elbek"},"score":0,"creation_date":1412343797,"post_id":26179976,"comment_id":41047714,"body_markdown":"does this `select nextval(my_seq)` work if you run it in db client itself?","body":"does this <code>select nextval(my_seq)</code> work if you run it in db client itself?"},{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":0,"creation_date":1412343849,"post_id":26179976,"comment_id":41047742,"body_markdown":"Yes, it returns the value incremented.","body":"Yes, it returns the value incremented."},{"owner":{"account_id":3788428,"reputation":352,"user_id":3145637,"accept_rate":64,"display_name":"noble_man"},"score":0,"creation_date":1412347346,"post_id":26179976,"comment_id":41049828,"body_markdown":"this link might help you take a look  http://stackoverflow.com/questions/6386888/get-next-sequence-value-from-database-using-hibernate","body":"this link might help you take a look  <a href=\"http://stackoverflow.com/questions/6386888/get-next-sequence-value-from-database-using-hibernate\" title=\"get next sequence value from database using hibernate\">stackoverflow.com/questions/6386888/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4968334,"reputation":543,"user_id":3996943,"display_name":"Giovanni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412345913,"creation_date":1412345913,"answer_id":26180707,"question_id":26179976,"body_markdown":"You don&#39;t need to map a sequence to an entity.\r\nJust leave the mapping as follow for the ID column of your entity, and the id of the tntity will be generated from the sequence my_seq. You don&#39;t need to call nextval(my_seq) or anything else.\r\n \r\n    @Entity(&quot;myEntity&quot;)\r\n    public class MyEntity {\r\n\r\n       @Id\r\n       @Column(name = &quot;id&quot;, unique = true, nullable = false, insertable=false)\r\n       @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;my_seq&quot;)\r\n       @SequenceGenerator(name = &quot;my_seq&quot;, sequenceName = &quot;my_seq&quot;, allocationSize = 1)\r\n       private long id;\r\n    }\r\n","title":"hibernate cannot find sequence","body":"<p>You don't need to map a sequence to an entity.\nJust leave the mapping as follow for the ID column of your entity, and the id of the tntity will be generated from the sequence my_seq. You don't need to call nextval(my_seq) or anything else.</p>\n\n<pre><code>@Entity(\"myEntity\")\npublic class MyEntity {\n\n   @Id\n   @Column(name = \"id\", unique = true, nullable = false, insertable=false)\n   @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"my_seq\")\n   @SequenceGenerator(name = \"my_seq\", sequenceName = \"my_seq\", allocationSize = 1)\n   private long id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5120543,"reputation":47,"user_id":4104265,"accept_rate":50,"display_name":"user4104265"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412348478,"creation_date":1412348478,"answer_id":26181493,"question_id":26179976,"body_markdown":"Below is the logic which will use a sequence called &quot;my_seq&quot; from the database and map it to the column &quot;column_name&quot; table &quot;table_name&quot;\r\n\r\nSoon after you import the classes the sequence generator should be placed before you begin the class\r\n\r\n    @Entity\r\n    @org.hibernate.annotations.Entity(dynamicInsert = true, dynamicUpdate = true)\r\n    @Table(name = &quot;table_name&quot;)\r\n    @SequenceGenerator(name = &quot;my_seq&quot;, sequenceName = &quot;my_seq&quot;)\r\n\r\n    public class ClassName implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;my_seq&quot;)\r\n    @Column(name = &quot;column_name&quot;)\r\n    private Long columnName;\r\n}\r\n\r\nLet me know if this is useful.","title":"hibernate cannot find sequence","body":"<p>Below is the logic which will use a sequence called \"my_seq\" from the database and map it to the column \"column_name\" table \"table_name\"</p>\n\n<p>Soon after you import the classes the sequence generator should be placed before you begin the class</p>\n\n<pre><code>@Entity\n@org.hibernate.annotations.Entity(dynamicInsert = true, dynamicUpdate = true)\n@Table(name = \"table_name\")\n@SequenceGenerator(name = \"my_seq\", sequenceName = \"my_seq\")\n\npublic class ClassName implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO, generator = \"my_seq\")\n@Column(name = \"column_name\")\nprivate Long columnName;\n</code></pre>\n\n<p>}</p>\n\n<p>Let me know if this is useful.</p>\n"},{"tags":[],"owner":{"account_id":1812234,"reputation":76,"user_id":1648045,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416906837,"creation_date":1416906837,"answer_id":27122649,"question_id":26179976,"body_markdown":"In order to avoid hardcoding schema to your query, you can set hibernate.default_schema property in your persistence.xml as follows. \r\n\r\n    &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;myscheme&quot;/&gt;\r\n\r\nThis could be also used in spring configuration file as is stated [here](https://stackoverflow.com/a/13304984 &quot;How to set up default schema name in JPA configuration?&quot;).","title":"hibernate cannot find sequence","body":"<p>In order to avoid hardcoding schema to your query, you can set hibernate.default_schema property in your persistence.xml as follows. </p>\n\n<pre><code>&lt;property name=\"hibernate.default_schema\" value=\"myscheme\"/&gt;\n</code></pre>\n\n<p>This could be also used in spring configuration file as is stated <a href=\"https://stackoverflow.com/a/13304984\" title=\"How to set up default schema name in JPA configuration?\">here</a>.</p>\n"}],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661869150,"creation_date":1412343310,"question_id":26179976,"body_markdown":"I need a simple sequence which would give me incremented integers that I later on use as part of a String.\r\n\r\nI made this sequence using `postgresql` command line:\r\n\r\n    CREATE SEQUENCE my_seq\r\n    INCREMENT BY 1\r\n\r\nThe sequence exists as I can query it from postgresql command line, But I&#39;m trying to get the values using `hibernate`:\r\n\r\n    Query query = session.createSQLQuery(&quot;select nextval(:sequence);&quot;);\r\n    query.setParameter(&quot;sequence&quot;, &quot;my_seq&quot;);\r\n    Long nextVal=((BigInteger)query.uniqueResult()).longValue();\r\n\r\nAnd I am getting this exception:\r\n\r\n    ERROR: relation &quot;my_seq&quot; does not exist\r\n\r\nThe sequence values do NOT represent the attribute of any entity. I only need them to store the number of logins, but I do not store the logins as entities.\r\n\r\n\r\n**EDIT:** I got it working by adding the scheme name to the query:\r\n\r\n    String query1 = &quot;select nextval(myscheme.my_seq)&quot;;\r\n    Query query = session.createSQLQuery(query1);\r\n\r\nI can&#39;t figure out why it needed the scheme though, as `myscheme` was already default and all other queries worked fine without specifying the scheme. If anyone can shed some light I shall accept its answer.","title":"hibernate cannot find sequence","body":"<p>I need a simple sequence which would give me incremented integers that I later on use as part of a String.</p>\n\n<p>I made this sequence using <code>postgresql</code> command line:</p>\n\n<pre><code>CREATE SEQUENCE my_seq\nINCREMENT BY 1\n</code></pre>\n\n<p>The sequence exists as I can query it from postgresql command line, But I'm trying to get the values using <code>hibernate</code>:</p>\n\n<pre><code>Query query = session.createSQLQuery(\"select nextval(:sequence);\");\nquery.setParameter(\"sequence\", \"my_seq\");\nLong nextVal=((BigInteger)query.uniqueResult()).longValue();\n</code></pre>\n\n<p>And I am getting this exception:</p>\n\n<pre><code>ERROR: relation \"my_seq\" does not exist\n</code></pre>\n\n<p>The sequence values do NOT represent the attribute of any entity. I only need them to store the number of logins, but I do not store the logins as entities.</p>\n\n<p><strong>EDIT:</strong> I got it working by adding the scheme name to the query:</p>\n\n<pre><code>String query1 = \"select nextval(myscheme.my_seq)\";\nQuery query = session.createSQLQuery(query1);\n</code></pre>\n\n<p>I can't figure out why it needed the scheme though, as <code>myscheme</code> was already default and all other queries worked fine without specifying the scheme. If anyone can shed some light I shall accept its answer.</p>\n"},{"tags":["java","stream","java.util.scanner","producer-consumer","flush"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661869369,"post_id":73543992,"comment_id":129871084,"body_markdown":"Not quite sure what&#39;s going on with your &#39;asynchronous&#39; version but what&#39;s stopping you from using a new ```Scanner```  on each &#39;burst&#39; of data?","body":"Not quite sure what&#39;s going on with your &#39;asynchronous&#39; version but what&#39;s stopping you from using a new <code>Scanner</code>  on each &#39;burst&#39; of data?"},{"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"score":0,"creation_date":1661869987,"post_id":73543992,"comment_id":129871348,"body_markdown":"Thank your @g00se for your answer. I simplified my question. In fact, I have spring filter which intercepts responses of asynchronous endpoint which return a ResponseBodyEmitter.\nSo, those endpoints send continuously data. I can&#39;t detect when data has been sent to create a new Scanner.","body":"Thank your @g00se for your answer. I simplified my question. In fact, I have spring filter which intercepts responses of asynchronous endpoint which return a ResponseBodyEmitter. So, those endpoints send continuously data. I can&#39;t detect when data has been sent to create a new Scanner."}],"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661869058,"creation_date":1661869058,"question_id":73543992,"body_markdown":"To apply a REGEX on stream, I&#39;m using `scanner.findWithinHorizon`.\r\nObviously, I&#39;m receiving some data through an Inputstream which is passed to a Scanner\r\n\r\n        Scanner scanner=new Scanner(response.getContentInputStream());\r\n        do{\r\n        extractedData=scanner.findWithinHorizon(PATTERN,0);\r\n        // Perform some checks\r\n        }while(extractedData!=null);\r\n\r\nThe checks I&#39;m doing are performed on a blocking operation (synchronous) and non-blocking (asynchronous) as well.\r\nIn the first use case, the behavior is working as expected. Whereas, in case of asynchronous task, the scanner hold just a snapshot at t instant and the Inputstream may be fed by additional data. \r\n\r\nQuestion: How can I flush the Scanner continuously to get the newest data ? \r\n","title":"How to flush a Scanner continuously?","body":"<p>To apply a REGEX on stream, I'm using <code>scanner.findWithinHorizon</code>.\nObviously, I'm receiving some data through an Inputstream which is passed to a Scanner</p>\n<pre><code>    Scanner scanner=new Scanner(response.getContentInputStream());\n    do{\n    extractedData=scanner.findWithinHorizon(PATTERN,0);\n    // Perform some checks\n    }while(extractedData!=null);\n</code></pre>\n<p>The checks I'm doing are performed on a blocking operation (synchronous) and non-blocking (asynchronous) as well.\nIn the first use case, the behavior is working as expected. Whereas, in case of asynchronous task, the scanner hold just a snapshot at t instant and the Inputstream may be fed by additional data.</p>\n<p>Question: How can I flush the Scanner continuously to get the newest data ?</p>\n"},{"tags":["java","spring","spring-boot","spring-profiles","spring-properties"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1661868713,"post_id":73543829,"comment_id":129870791,"body_markdown":"awk is powerful unix tool suited for this","body":"awk is powerful unix tool suited for this"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1661870591,"post_id":73543829,"comment_id":129871578,"body_markdown":"Theses files are normal in Spring boot, why do you want to merge it? And also, there&#39;s probably no tools as it&#39;s not common to change Spring boot properties behaviour.","body":"Theses files are normal in Spring boot, why do you want to merge it? And also, there&#39;s probably no tools as it&#39;s not common to change Spring boot properties behaviour."}],"answers":[{"tags":[],"owner":{"account_id":10655986,"reputation":56,"user_id":7845523,"display_name":"Ashutosh Vaish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661868858,"creation_date":1661868858,"answer_id":73543938,"question_id":73543829,"body_markdown":"You will have to write a shell script to do this while app deployment or right some task in grade/maven to merge all the files.\r\n\r\nOr you can use @PropertySource to add all of these properties.","title":"Merge multiple spring-boot property file in a single file","body":"<p>You will have to write a shell script to do this while app deployment or right some task in grade/maven to merge all the files.</p>\n<p>Or you can use @PropertySource to add all of these properties.</p>\n"}],"owner":{"account_id":1843429,"reputation":19,"user_id":1672359,"display_name":"fmp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661868858,"creation_date":1661868377,"question_id":73543829,"body_markdown":"Is there any automation tool that allows merging multiple properties files in a single file, using spring boot profiles:\r\n\r\nfrom:\r\n - application-dev.properties\r\n - application-uat.properties\r\n - application-prd.properties\r\n\r\nto:\r\n - application.properties\r\n\r\nI know I could do this with a copy/paste but there are hundreds of files for different environments so I want to avoid mistakes.\r\n\r\nThanks","title":"Merge multiple spring-boot property file in a single file","body":"<p>Is there any automation tool that allows merging multiple properties files in a single file, using spring boot profiles:</p>\n<p>from:</p>\n<ul>\n<li>application-dev.properties</li>\n<li>application-uat.properties</li>\n<li>application-prd.properties</li>\n</ul>\n<p>to:</p>\n<ul>\n<li>application.properties</li>\n</ul>\n<p>I know I could do this with a copy/paste but there are hundreds of files for different environments so I want to avoid mistakes.</p>\n<p>Thanks</p>\n"},{"tags":["java","hibernate","jpa","sequence","sequence-generators"],"answers":[{"tags":[],"owner":{"account_id":29913,"reputation":10102,"user_id":81193,"accept_rate":83,"display_name":"Kevin Crowell"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1270667973,"creation_date":1270667597,"answer_id":2595194,"question_id":2595124,"body_markdown":"`sequenceName` is the name of the sequence in the DB. This is how you specify a sequence that already exists in the DB. If you go this route, you have to specify the `allocationSize` which needs to be the same value that the DB sequence uses as its &quot;auto increment&quot;. \r\n\r\nUsage:\r\n\r\n    @GeneratedValue(generator=&quot;my_seq&quot;)\r\n    @SequenceGenerator(name=&quot;my_seq&quot;,sequenceName=&quot;MY_SEQ&quot;, allocationSize=1)\r\n\r\nIf you want, you can let it create a sequence for you. But to do this, you must use SchemaGeneration to have it created. To do this, use:\r\n\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE)\r\n\r\nAlso, you can use the auto-generation, which will use a table to generate the IDs. You must also use SchemaGeneration at some point when using this feature, so the generator table can be created. To do this, use:\r\n\r\n    @GeneratedValue(strategy=GenerationType.AUTO)","title":"How does the JPA @SequenceGenerator annotation work","body":"<p><code>sequenceName</code> is the name of the sequence in the DB. This is how you specify a sequence that already exists in the DB. If you go this route, you have to specify the <code>allocationSize</code> which needs to be the same value that the DB sequence uses as its \"auto increment\". </p>\n\n<p>Usage:</p>\n\n<pre><code>@GeneratedValue(generator=\"my_seq\")\n@SequenceGenerator(name=\"my_seq\",sequenceName=\"MY_SEQ\", allocationSize=1)\n</code></pre>\n\n<p>If you want, you can let it create a sequence for you. But to do this, you must use SchemaGeneration to have it created. To do this, use:</p>\n\n<pre><code>@GeneratedValue(strategy=GenerationType.SEQUENCE)\n</code></pre>\n\n<p>Also, you can use the auto-generation, which will use a table to generate the IDs. You must also use SchemaGeneration at some point when using this feature, so the generator table can be created. To do this, use:</p>\n\n<pre><code>@GeneratedValue(strategy=GenerationType.AUTO)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1367613977,"creation_date":1364327079,"answer_id":15646036,"question_id":2595124,"body_markdown":"I have MySQL schema with autogen values. I use `strategy=GenerationType.IDENTITY` tag and seems to work fine in MySQL I guess it should work most db engines as well.\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TABLE user (\r\n        id bigint NOT NULL auto_increment,\r\n        name varchar(64) NOT NULL default &#39;&#39;,\r\n        PRIMARY KEY (id)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\n`User.java`:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // mark this JavaBean to be JPA scoped class\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    public class User {\r\n        @Id @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        private long id;    // primary key (autogen surrogate)\r\n        \r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    \r\n        public long getId() { return id; }\r\n        public void setId(long id) { this.id = id; }\r\n    \r\n        public String getName() { return name; }\r\n        public void setName(String name) { this.name=name; }\r\n    }","title":"How does the JPA @SequenceGenerator annotation work","body":"<p>I have MySQL schema with autogen values. I use <code>strategy=GenerationType.IDENTITY</code> tag and seems to work fine in MySQL I guess it should work most db engines as well.\n</p>\n\n<pre><code>CREATE TABLE user (\n    id bigint NOT NULL auto_increment,\n    name varchar(64) NOT NULL default '',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p><code>User.java</code>:\n</p>\n\n<pre><code>// mark this JavaBean to be JPA scoped class\n@Entity\n@Table(name=\"user\")\npublic class User {\n    @Id @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private long id;    // primary key (autogen surrogate)\n\n    @Column(name=\"name\")\n    private String name;\n\n    public long getId() { return id; }\n    public void setId(long id) { this.id = id; }\n\n    public String getName() { return name; }\n    public void setName(String name) { this.name=name; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1773304,"reputation":2123,"user_id":1617646,"display_name":"Edy Aguirre"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1501423579,"creation_date":1375744019,"answer_id":18069255,"question_id":2595124,"body_markdown":"I use this and it works right\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;SEC_ODON&quot;, strategy = GenerationType.SEQUENCE)\r\n    @SequenceGenerator(name = &quot;SEC_ODON&quot;, sequenceName = &quot;SO.SEC_ODON&quot;,allocationSize=1)\r\n    @Column(name=&quot;ID_ODON&quot;, unique=true, nullable=false, precision=10, scale=0)\r\n    public Long getIdOdon() {\r\n        return this.idOdon;\r\n    }","title":"How does the JPA @SequenceGenerator annotation work","body":"<p>I use this and it works right</p>\n\n<pre><code>@Id\n@GeneratedValue(generator = \"SEC_ODON\", strategy = GenerationType.SEQUENCE)\n@SequenceGenerator(name = \"SEC_ODON\", sequenceName = \"SO.SEC_ODON\",allocationSize=1)\n@Column(name=\"ID_ODON\", unique=true, nullable=false, precision=10, scale=0)\npublic Long getIdOdon() {\n    return this.idOdon;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4636923,"reputation":181,"user_id":3757903,"display_name":"rk1891"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1526474918,"creation_date":1489676825,"answer_id":42837838,"question_id":2595124,"body_markdown":"Even though this question is very old and I stumbled upon it for my own issues with JPA 2.0 and Oracle sequences.\r\n\r\nWant to share my research on some of the things - \r\n\r\nRelationship between *@SequenceGenerator(allocationSize)* of *GenerationType.SEQUENCE* and *INCREMENT BY* in database sequence definition\r\n\r\nMake sure *@SequenceGenerator(allocationSize)* is set to same value as *INCREMENT BY* in Database sequence definition to avoid problems (the same applies to the initial value).\r\n\r\nFor example, if we define the sequence in database with a INCREMENT BY value of 20, set the allocationsize in SequenceGenerator also to 20. In this case the JPA will not make a call to database until it reaches the next 20 mark while it increments each value by 1 internally. This saves database calls to get the next sequence number each time. \r\nThe side effect of this is - Whenever the application is redeployed or the server is restarted in between, it&#39;ll call database to get the next batch and  you&#39;ll see jumps in the sequence values.  Also we need to make sure the database definition and the application setting to be in-sync which may not be possible all the time as both of them are managed by different groups and you can quickly lose control of. If database value is less than the allocationsize, you&#39;ll see PrimaryKey constraint errors due to duplicate values of Id. If the database value is higher than the allocationsize, you&#39;ll see jumps in the values of Id.\r\n\r\nIf the database sequence INCREMENT BY is set to 1 (which is what DBAs generally do), set the allocationSize as also 1 so that they are in-sync but the JPA calls database to get next sequence number each time. \r\n\r\nIf you don&#39;t want the call to database each time, use *GenerationType.IDENTITY* strategy and have the @Id value set by database trigger. With *GenerationType.IDENTITY* as soon as we call *em.persist* the object is saved to DB and a value to id is assigned to the returned object so we don&#39;t have to do a *em.merge* or *em.flush*. (This may be JPA provider specific..Not sure)\r\n\r\n**Another important thing -** \r\n\r\nJPA 2.0 automatically runs *ALTER SEQUENCE* command to sync the allocationSize and INCREMENT BY in database sequence. As mostly we use a different Schema name(Application user name) rather than the actual Schema where the sequence exists and the application user name will not have ALTER SEQUENCE privileges, you might see the below warning in the logs - \r\n\r\n&gt; 000004c1 Runtime       W   CWWJP9991W: openjpa.Runtime: Warn: Unable\r\n&gt; to cache sequence values for sequence &quot;RECORD_ID_SEQ&quot;. Your\r\n&gt; application does not have permission to run an ALTER SEQUENCE command.\r\n&gt; Ensure that it has the appropriate permission to run an ALTER SEQUENCE\r\n&gt; command.\r\n\r\nAs the JPA could not alter the sequence, JPA calls database everytime to get next sequence number irrespective of the value of @SequenceGenerator.allocationSize. This might be a unwanted consequence which we need to be aware of.\r\n\r\nTo let JPA not to run this command, set this value - &lt;property name=&#39;openjpa.jdbc.DBDictionary&#39; value=&#39;DisableAlterSeqenceIncrementBy=true&#39; /&gt; in persistence.xml. This ensures that JPA will not try to run ALTER SEQUENCE command. It writes a different warning though - \r\n\r\n&gt; 00000094 Runtime       W   CWWJP9991W: openjpa.Runtime: Warn: The\r\n&gt; property &quot;openjpa.jdbc.DBDictionary=disableAlterSeqenceIncrementBy&quot; is\r\n&gt; set to true.  This means that the &#39;ALTER SEQUENCE...INCREMENT BY&#39; SQL\r\n&gt; statement will not be executed for sequence &quot;RECORD_ID_SEQ&quot;.  OpenJPA\r\n&gt; executes this command to ensure that the sequence&#39;s INCREMENT BY value\r\n&gt; defined in the database matches the allocationSize which is defined in\r\n&gt; the entity&#39;s sequence.  With this SQL statement disabled, it is the\r\n&gt; responsibility of the user to ensure that the entity&#39;s sequence\r\n&gt; definition matches the sequence defined in the database.\r\n\r\nAs noted in the warning, important here is we need to make sure @SequenceGenerator.allocationSize and INCREMENT BY in database sequence definition are in sync including the default value of @SequenceGenerator(allocationSize) which is 50. Otherwise it&#39;ll cause errors.\r\n\r\n","title":"How does the JPA @SequenceGenerator annotation work","body":"<p>Even though this question is very old and I stumbled upon it for my own issues with JPA 2.0 and Oracle sequences.</p>\n\n<p>Want to share my research on some of the things - </p>\n\n<p>Relationship between <em>@SequenceGenerator(allocationSize)</em> of <em>GenerationType.SEQUENCE</em> and <em>INCREMENT BY</em> in database sequence definition</p>\n\n<p>Make sure <em>@SequenceGenerator(allocationSize)</em> is set to same value as <em>INCREMENT BY</em> in Database sequence definition to avoid problems (the same applies to the initial value).</p>\n\n<p>For example, if we define the sequence in database with a INCREMENT BY value of 20, set the allocationsize in SequenceGenerator also to 20. In this case the JPA will not make a call to database until it reaches the next 20 mark while it increments each value by 1 internally. This saves database calls to get the next sequence number each time. \nThe side effect of this is - Whenever the application is redeployed or the server is restarted in between, it'll call database to get the next batch and  you'll see jumps in the sequence values.  Also we need to make sure the database definition and the application setting to be in-sync which may not be possible all the time as both of them are managed by different groups and you can quickly lose control of. If database value is less than the allocationsize, you'll see PrimaryKey constraint errors due to duplicate values of Id. If the database value is higher than the allocationsize, you'll see jumps in the values of Id.</p>\n\n<p>If the database sequence INCREMENT BY is set to 1 (which is what DBAs generally do), set the allocationSize as also 1 so that they are in-sync but the JPA calls database to get next sequence number each time. </p>\n\n<p>If you don't want the call to database each time, use <em>GenerationType.IDENTITY</em> strategy and have the @Id value set by database trigger. With <em>GenerationType.IDENTITY</em> as soon as we call <em>em.persist</em> the object is saved to DB and a value to id is assigned to the returned object so we don't have to do a <em>em.merge</em> or <em>em.flush</em>. (This may be JPA provider specific..Not sure)</p>\n\n<p><strong>Another important thing -</strong> </p>\n\n<p>JPA 2.0 automatically runs <em>ALTER SEQUENCE</em> command to sync the allocationSize and INCREMENT BY in database sequence. As mostly we use a different Schema name(Application user name) rather than the actual Schema where the sequence exists and the application user name will not have ALTER SEQUENCE privileges, you might see the below warning in the logs - </p>\n\n<blockquote>\n  <p>000004c1 Runtime       W   CWWJP9991W: openjpa.Runtime: Warn: Unable\n  to cache sequence values for sequence \"RECORD_ID_SEQ\". Your\n  application does not have permission to run an ALTER SEQUENCE command.\n  Ensure that it has the appropriate permission to run an ALTER SEQUENCE\n  command.</p>\n</blockquote>\n\n<p>As the JPA could not alter the sequence, JPA calls database everytime to get next sequence number irrespective of the value of @SequenceGenerator.allocationSize. This might be a unwanted consequence which we need to be aware of.</p>\n\n<p>To let JPA not to run this command, set this value -  in persistence.xml. This ensures that JPA will not try to run ALTER SEQUENCE command. It writes a different warning though - </p>\n\n<blockquote>\n  <p>00000094 Runtime       W   CWWJP9991W: openjpa.Runtime: Warn: The\n  property \"openjpa.jdbc.DBDictionary=disableAlterSeqenceIncrementBy\" is\n  set to true.  This means that the 'ALTER SEQUENCE...INCREMENT BY' SQL\n  statement will not be executed for sequence \"RECORD_ID_SEQ\".  OpenJPA\n  executes this command to ensure that the sequence's INCREMENT BY value\n  defined in the database matches the allocationSize which is defined in\n  the entity's sequence.  With this SQL statement disabled, it is the\n  responsibility of the user to ensure that the entity's sequence\n  definition matches the sequence defined in the database.</p>\n</blockquote>\n\n<p>As noted in the warning, important here is we need to make sure @SequenceGenerator.allocationSize and INCREMENT BY in database sequence definition are in sync including the default value of @SequenceGenerator(allocationSize) which is 50. Otherwise it'll cause errors.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1610267021,"creation_date":1593938441,"answer_id":62738573,"question_id":2595124,"body_markdown":"Now, back to your questions:\r\n\r\n&gt; Q1. Does this sequence generator make use of the database&#39;s increasing\r\n&gt; numeric value generating capability or generates the number on its\r\n&gt; own?\r\n\r\nBy using the `GenerationType.SEQUENCE` strategy on the `@GeneratedValue` annotation, the JPA provider will try to use a database sequence object of the underlying database that supports this feature (e.g., Oracle, SQL Server, PostgreSQL, MariaDB).\r\n\r\nIf you are using MySQL, which doesn&#39;t support database sequence objects, then Hibernate is going to fall back to using the `GenerationType.TABLE` instead, which is undesirable since the TABLE generation performs badly.\r\n\r\nSo, don&#39;t use the `GenerationType.SEQUENCE` strategy with MySQL.\r\n\r\n&gt; Q2. If JPA uses a database auto-increment feature, then will it work\r\n&gt; with datastores that don&#39;t have auto-increment feature?\r\n\r\nI assume you are talking about the `GenerationType.IDENTITY` when you say `database auto-increment feature`.\r\n\r\nTo use an `AUTO_INCREMENT` or `IDENTITY` column, you need to use the `GenerationType.IDENTITY`strategy on the `@GeneratedValue` annotation.\r\n\r\n&gt; Q3. If JPA generates numeric value on its own, then how does the JPA\r\n&gt; implementation know which value to generate next? Does it consult with\r\n&gt; the database first to see what value was stored last in order to\r\n&gt; generate the value (last + 1)?\r\n\r\nThe only time when the JPA provider generates values on its own is when you are using the sequence-based optimizers, like:\r\n\r\n- [hi/lo][1]\r\n- [pooled or pooled-lo][2]\r\n\r\nThese optimizers are meat to reduce the number of database sequence calls, so they multiply the number of identifier values that can be generated using a single database sequence call. \r\n\r\nTo avoid conflicts between Hibernate identifier optimizers and other 3rd-party clients, you should use `pooled` or `pooled-lo` instead of `hi/lo`. Even if you are using a legacy application that was designed to use hi/lo, you can [migrate to the `pooled` or `pooled-lo` optimizers](https://vladmihalcea.com/migrate-hilo-hibernate-pooled/).\r\n\r\n&gt; Q4. Please also shed some light on `sequenceName` and `allocationSize`\r\n&gt; properties of `@SequenceGenerator` annotation.\r\n\r\nThe `sequenceName` attribute defines the database sequence object to be used to generate the identifier values. IT&#39;s the object you created using the `CREATE SEQUENCE` DDL statement.\r\n\r\nSo, if you provide this mapping:\r\n\r\n    @Id\r\n    @GeneratedValue(\r\n        strategy = GenerationType.SEQUENCE,\r\n        generator = &quot;seq_post&quot;\r\n    )\r\n    @SequenceGenerator(\r\n        name = &quot;seq_post&quot;\r\n    )\r\n    private Long id;\r\n\r\nHibernate is going to use the `seq_post` database object to generate the identifier values:\r\n\r\n    SELECT nextval(&#39;hibernate_sequence&#39;)\r\n\r\nThe `allocationSize` defines the identifier value multiplier, and if you provide a value that&#39;s greater than 1, then Hibernate is going to use the `pooled` optimizer, to reduce the number of database sequence calls.\r\n\r\nSo, if you provide this mapping:\r\n\r\n    @Id\r\n    @GeneratedValue(\r\n        strategy = GenerationType.SEQUENCE,\r\n        generator = &quot;seq_post&quot;\r\n    )\r\n    @SequenceGenerator(\r\n        name = &quot;seq_post&quot;,\r\n        allocationSize = 5\r\n    )\r\n    private Long id;\r\n\r\nThen, when you persist 5 entities:\r\n\r\n    for (int i = 1; i &lt;= 5; i++) {\r\n        entityManager.persist(\r\n            new Post().setTitle(\r\n                String.format(\r\n                    &quot;High-Performance Java Persistence, Part %d&quot;,\r\n                    i\r\n                )\r\n            )\r\n        );\r\n    }\r\n\r\nOnly 2 database sequence calls will be executed, instead of 5:\r\n\r\n    SELECT nextval(&#39;hibernate_sequence&#39;)\r\n    SELECT nextval(&#39;hibernate_sequence&#39;)\r\n     \r\n    INSERT INTO post (title, id)\r\n    VALUES (&#39;High-Performance Java Persistence, Part 1&#39;, 1)\r\n     \r\n    INSERT INTO post (title, id)\r\n    VALUES (&#39;High-Performance Java Persistence, Part 2&#39;, 2)\r\n     \r\n    INSERT INTO post (title, id)\r\n    VALUES (&#39;High-Performance Java Persistence, Part 3&#39;, 3)\r\n     \r\n    INSERT INTO post (title, id)\r\n    VALUES (&#39;High-Performance Java Persistence, Part 4&#39;, 4)\r\n     \r\n    INSERT INTO post (title, id)\r\n    VALUES (&#39;High-Performance Java Persistence, Part 5&#39;, 5)\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-hilo-algorithm/\r\n  [2]: https://vladmihalcea.com/hibernate-hidden-gem-the-pooled-lo-optimizer/","title":"How does the JPA @SequenceGenerator annotation work","body":"<p>Now, back to your questions:</p>\n<blockquote>\n<p>Q1. Does this sequence generator make use of the database's increasing\nnumeric value generating capability or generates the number on its\nown?</p>\n</blockquote>\n<p>By using the <code>GenerationType.SEQUENCE</code> strategy on the <code>@GeneratedValue</code> annotation, the JPA provider will try to use a database sequence object of the underlying database that supports this feature (e.g., Oracle, SQL Server, PostgreSQL, MariaDB).</p>\n<p>If you are using MySQL, which doesn't support database sequence objects, then Hibernate is going to fall back to using the <code>GenerationType.TABLE</code> instead, which is undesirable since the TABLE generation performs badly.</p>\n<p>So, don't use the <code>GenerationType.SEQUENCE</code> strategy with MySQL.</p>\n<blockquote>\n<p>Q2. If JPA uses a database auto-increment feature, then will it work\nwith datastores that don't have auto-increment feature?</p>\n</blockquote>\n<p>I assume you are talking about the <code>GenerationType.IDENTITY</code> when you say <code>database auto-increment feature</code>.</p>\n<p>To use an <code>AUTO_INCREMENT</code> or <code>IDENTITY</code> column, you need to use the <code>GenerationType.IDENTITY</code>strategy on the <code>@GeneratedValue</code> annotation.</p>\n<blockquote>\n<p>Q3. If JPA generates numeric value on its own, then how does the JPA\nimplementation know which value to generate next? Does it consult with\nthe database first to see what value was stored last in order to\ngenerate the value (last + 1)?</p>\n</blockquote>\n<p>The only time when the JPA provider generates values on its own is when you are using the sequence-based optimizers, like:</p>\n<ul>\n<li><a href=\"https://vladmihalcea.com/the-hilo-algorithm/\" rel=\"noreferrer\">hi/lo</a></li>\n<li><a href=\"https://vladmihalcea.com/hibernate-hidden-gem-the-pooled-lo-optimizer/\" rel=\"noreferrer\">pooled or pooled-lo</a></li>\n</ul>\n<p>These optimizers are meat to reduce the number of database sequence calls, so they multiply the number of identifier values that can be generated using a single database sequence call.</p>\n<p>To avoid conflicts between Hibernate identifier optimizers and other 3rd-party clients, you should use <code>pooled</code> or <code>pooled-lo</code> instead of <code>hi/lo</code>. Even if you are using a legacy application that was designed to use hi/lo, you can <a href=\"https://vladmihalcea.com/migrate-hilo-hibernate-pooled/\" rel=\"noreferrer\">migrate to the <code>pooled</code> or <code>pooled-lo</code> optimizers</a>.</p>\n<blockquote>\n<p>Q4. Please also shed some light on <code>sequenceName</code> and <code>allocationSize</code>\nproperties of <code>@SequenceGenerator</code> annotation.</p>\n</blockquote>\n<p>The <code>sequenceName</code> attribute defines the database sequence object to be used to generate the identifier values. IT's the object you created using the <code>CREATE SEQUENCE</code> DDL statement.</p>\n<p>So, if you provide this mapping:</p>\n<pre><code>@Id\n@GeneratedValue(\n    strategy = GenerationType.SEQUENCE,\n    generator = &quot;seq_post&quot;\n)\n@SequenceGenerator(\n    name = &quot;seq_post&quot;\n)\nprivate Long id;\n</code></pre>\n<p>Hibernate is going to use the <code>seq_post</code> database object to generate the identifier values:</p>\n<pre><code>SELECT nextval('hibernate_sequence')\n</code></pre>\n<p>The <code>allocationSize</code> defines the identifier value multiplier, and if you provide a value that's greater than 1, then Hibernate is going to use the <code>pooled</code> optimizer, to reduce the number of database sequence calls.</p>\n<p>So, if you provide this mapping:</p>\n<pre><code>@Id\n@GeneratedValue(\n    strategy = GenerationType.SEQUENCE,\n    generator = &quot;seq_post&quot;\n)\n@SequenceGenerator(\n    name = &quot;seq_post&quot;,\n    allocationSize = 5\n)\nprivate Long id;\n</code></pre>\n<p>Then, when you persist 5 entities:</p>\n<pre><code>for (int i = 1; i &lt;= 5; i++) {\n    entityManager.persist(\n        new Post().setTitle(\n            String.format(\n                &quot;High-Performance Java Persistence, Part %d&quot;,\n                i\n            )\n        )\n    );\n}\n</code></pre>\n<p>Only 2 database sequence calls will be executed, instead of 5:</p>\n<pre><code>SELECT nextval('hibernate_sequence')\nSELECT nextval('hibernate_sequence')\n \nINSERT INTO post (title, id)\nVALUES ('High-Performance Java Persistence, Part 1', 1)\n \nINSERT INTO post (title, id)\nVALUES ('High-Performance Java Persistence, Part 2', 2)\n \nINSERT INTO post (title, id)\nVALUES ('High-Performance Java Persistence, Part 3', 3)\n \nINSERT INTO post (title, id)\nVALUES ('High-Performance Java Persistence, Part 4', 4)\n \nINSERT INTO post (title, id)\nVALUES ('High-Performance Java Persistence, Part 5', 5)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18618594,"reputation":158,"user_id":13569349,"display_name":"Mateus Nogueira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661868823,"creation_date":1661868823,"answer_id":73543930,"question_id":2595124,"body_markdown":"I had to create a sequence on postgresql after creating a table.\r\nRemember, its not a good idea keep spring taking care of DB sequence.\r\nRemove `@GeneratedValue(strategy=GenerationType.SEQUENCE)`,\r\n\r\nadd on your model\r\n\r\n    @GeneratedValue(generator=&quot;my_seq&quot;)\r\n    @SequenceGenerator(name=&quot;my_seq&quot;,sequenceName=&quot;MY_SEQ&quot;, allocationSize=1)\r\n\r\nand run on SQL \r\n\r\n    CREATE SEQUENCE my_seq\r\n    INCREMENT BY 1;","title":"How does the JPA @SequenceGenerator annotation work","body":"<p>I had to create a sequence on postgresql after creating a table.\nRemember, its not a good idea keep spring taking care of DB sequence.\nRemove <code>@GeneratedValue(strategy=GenerationType.SEQUENCE)</code>,</p>\n<p>add on your model</p>\n<pre><code>@GeneratedValue(generator=&quot;my_seq&quot;)\n@SequenceGenerator(name=&quot;my_seq&quot;,sequenceName=&quot;MY_SEQ&quot;, allocationSize=1)\n</code></pre>\n<p>and run on SQL</p>\n<pre><code>CREATE SEQUENCE my_seq\nINCREMENT BY 1;\n</code></pre>\n"}],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192700,"favorite_count":0,"down_vote_count":1,"up_vote_count":81,"answer_count":6,"score":80,"last_activity_date":1661868823,"creation_date":1270666838,"question_id":2595124,"body_markdown":"I am learning JPA and have confusion in the `@SequenceGenerator` annotation.\r\n\r\nTo my understanding, it automatically assigns a value to the numeric identity fields/properties of an entity.\r\n\r\n**Q1.** Does this sequence generator make use of the database&#39;s increasing numeric value generating capability or generates the number on its own?\r\n\r\n**Q2.** If JPA uses a database auto-increment feature, then will it work with datastores that don&#39;t have an auto-increment feature?\r\n\r\n**Q3.** If JPA generates numeric value on his own, then how does the JPA implementation know which value to generate next? Does it consult with the database first to see what value was stored last in order to generate the value (last + 1)?\r\n\r\n---\r\n**Q4.** Please also shed some light on `sequenceName` and `allocationSize` properties of `@SequenceGenerator` annotation.","title":"How does the JPA @SequenceGenerator annotation work","body":"<p>I am learning JPA and have confusion in the <code>@SequenceGenerator</code> annotation.</p>\n<p>To my understanding, it automatically assigns a value to the numeric identity fields/properties of an entity.</p>\n<p><strong>Q1.</strong> Does this sequence generator make use of the database's increasing numeric value generating capability or generates the number on its own?</p>\n<p><strong>Q2.</strong> If JPA uses a database auto-increment feature, then will it work with datastores that don't have an auto-increment feature?</p>\n<p><strong>Q3.</strong> If JPA generates numeric value on his own, then how does the JPA implementation know which value to generate next? Does it consult with the database first to see what value was stored last in order to generate the value (last + 1)?</p>\n<hr />\n<p><strong>Q4.</strong> Please also shed some light on <code>sequenceName</code> and <code>allocationSize</code> properties of <code>@SequenceGenerator</code> annotation.</p>\n"},{"tags":["java","reflection","properties"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1661931964,"post_id":73543693,"comment_id":129886322,"body_markdown":"The class `Object` does not have a `color` field and even if it had, the `Field` describes the `color` field declared by the `Apple` class and no other. If you want an object mapping arbitrary strings to values, you want a [`Map`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html). No Reflection needed.","body":"The class <code>Object</code> does not have a <code>color</code> field and even if it had, the <code>Field</code> describes the <code>color</code> field declared by the <code>Apple</code> class and no other. If you want an object mapping arbitrary strings to values, you want a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>. No Reflection needed."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1661960433,"post_id":73543693,"comment_id":129897061,"body_markdown":"You probably want a `java.util.HashMap&lt;String,Object&gt;` that holds the &quot;properties&quot;.","body":"You probably want a <code>java.util.HashMap&lt;String,Object&gt;</code> that holds the &quot;properties&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661868627,"creation_date":1661868627,"answer_id":73543887,"question_id":73543693,"body_markdown":"Just get the constructor via reflection, invoke it, then set the fields.\r\n\r\n    Apple apple = someDatabase.findApple();\r\n\r\n    Field field = apple.getClass().getDeclaredField(&quot;color&quot;);\r\n    field.setAccessible(true);\r\n\r\n    Object value = field.get(apple);\r\n\r\n    Constructor&lt;? extends Apple&gt; appleCtor = apple.getClass().getDeclaredConstructor();\r\n    appleCtor.setAccessible(true);\r\n    \r\n    Apple dummy = appleCtor.newInstance();\r\n    field.set(dummy, value);","title":"How to set reflected Fields directly to an instance of Object?","body":"<p>Just get the constructor via reflection, invoke it, then set the fields.</p>\n<pre><code>Apple apple = someDatabase.findApple();\n\nField field = apple.getClass().getDeclaredField(&quot;color&quot;);\nfield.setAccessible(true);\n\nObject value = field.get(apple);\n\nConstructor&lt;? extends Apple&gt; appleCtor = apple.getClass().getDeclaredConstructor();\nappleCtor.setAccessible(true);\n\nApple dummy = appleCtor.newInstance();\nfield.set(dummy, value);\n</code></pre>\n"}],"owner":{"account_id":24469430,"reputation":141,"user_id":18389384,"display_name":"Stefan Jankovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661868627,"creation_date":1661867872,"question_id":73543693,"body_markdown":"I have a problem setting Fields (java.lang.reflect) from POJO to an instance of the Object class.\r\n\r\nThe examples I&#39;ve come across on the internet all use setting those Fields to an instance of a *concrete* class. Since the situation is such that I need a class to have different properties each time, I definitely can&#39;t write any classes where I would set those fields. The only logical approach I can think of would be to use an Object class.\r\n\r\nTo not dive any deeper, what I&#39;m trying is to use this class:\r\n\r\n    class Apple {\r\n        private String color;\r\n        private Double weight;\r\n        private Date order;\r\n        \r\n        //default constructor\r\n        //getters + setters\r\n    }\r\n\r\nand let&#39;s say use its field `color` to construct a new class containing **only** that property.\r\n\r\n    class Test {\r\n        public static void main(String[] args) {\r\n            Apple apple = someDatabase.findApple();\r\n\r\n            Field field = apple.getClass().getDeclaredField(&quot;color&quot;);\r\n            field.setAccessible(true);\r\n    \r\n            Object value = field.get(apple);\r\n\r\n            Object dummy = new Object();\r\n            field.set(dummy, value); //Says: &quot;Cannot set String field to java.lang.Object&quot;\r\n        }\r\n    }\r\n\r\nIf this can&#39;t be done this way, may someone recommend another solution for this problem?","title":"How to set reflected Fields directly to an instance of Object?","body":"<p>I have a problem setting Fields (java.lang.reflect) from POJO to an instance of the Object class.</p>\n<p>The examples I've come across on the internet all use setting those Fields to an instance of a <em>concrete</em> class. Since the situation is such that I need a class to have different properties each time, I definitely can't write any classes where I would set those fields. The only logical approach I can think of would be to use an Object class.</p>\n<p>To not dive any deeper, what I'm trying is to use this class:</p>\n<pre><code>class Apple {\n    private String color;\n    private Double weight;\n    private Date order;\n    \n    //default constructor\n    //getters + setters\n}\n</code></pre>\n<p>and let's say use its field <code>color</code> to construct a new class containing <strong>only</strong> that property.</p>\n<pre><code>class Test {\n    public static void main(String[] args) {\n        Apple apple = someDatabase.findApple();\n\n        Field field = apple.getClass().getDeclaredField(&quot;color&quot;);\n        field.setAccessible(true);\n\n        Object value = field.get(apple);\n\n        Object dummy = new Object();\n        field.set(dummy, value); //Says: &quot;Cannot set String field to java.lang.Object&quot;\n    }\n}\n</code></pre>\n<p>If this can't be done this way, may someone recommend another solution for this problem?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","browser-automation"],"comments":[{"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"score":0,"creation_date":1382438185,"post_id":19515100,"comment_id":28950093,"body_markdown":"The above code will only work with &lt;select&gt; tag. I cannot find any &lt;select&gt; tag in the above code ?","body":"The above code will only work with &lt;select&gt; tag. I cannot find any &lt;select&gt; tag in the above code ?"},{"owner":{"account_id":2887650,"reputation":1345,"user_id":2477107,"accept_rate":33,"display_name":"Adnan Ghaffar"},"score":0,"creation_date":1382438562,"post_id":19515100,"comment_id":28950313,"body_markdown":"i have tried with selectByValue()  but nothing :(","body":"i have tried with selectByValue()  but nothing :("},{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":0,"creation_date":1382465922,"post_id":19515100,"comment_id":28967206,"body_markdown":"The error is pretty self-explanatory. You are attempting to use the `Select` class to manipulate a `ul` element (unordered list). This isn&#39;t possible merely because the `Select` class was created and is used for `select` (i.e dropdowns) elements only. I fear you are using a web application that styles the list to make it *look like* a dropdown, thus giving the illusion it is -&gt; but it is clear this is not an ordinary dropdown.","body":"The error is pretty self-explanatory. You are attempting to use the <code>Select</code> class to manipulate a <code>ul</code> element (unordered list). This isn&#39;t possible merely because the <code>Select</code> class was created and is used for <code>select</code> (i.e dropdowns) elements only. I fear you are using a web application that styles the list to make it <i>look like</i> a dropdown, thus giving the illusion it is -&gt; but it is clear this is not an ordinary dropdown."},{"owner":{"account_id":3412916,"reputation":6868,"user_id":2862485,"accept_rate":89,"display_name":"Amith"},"score":0,"creation_date":1382507261,"post_id":19515100,"comment_id":28981000,"body_markdown":"you can refer [this for more info on this topic](http://stackoverflow.com/questions/19514256/selenium-test-webelements-whose-css-attribute-overflow-is-auto-scroll/19515325#19515325)","body":"you can refer <a href=\"http://stackoverflow.com/questions/19514256/selenium-test-webelements-whose-css-attribute-overflow-is-auto-scroll/19515325#19515325\">this for more info on this topic</a>"}],"answers":[{"tags":[],"owner":{"account_id":3599900,"reputation":497,"user_id":3003424,"accept_rate":60,"display_name":"Shiv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506062906,"creation_date":1506060401,"answer_id":46357889,"question_id":19515100,"body_markdown":"Yo can Select element by following method\r\n\r\n    driver.findElement(By.xpath(OR.getProperty(&quot;SSN&quot;)).click();\r\n\r\nIn Next line select desired drop down in following way :\r\n\r\n    driver.findElement(By.xpath(&quot;//li[text() = &#39;SSN&#39;]&quot;)).click();\r\n\r\n\r\n","title":"Selenium-Java Webdriver: I am getting error as Element should have been &quot;select&quot; but was &quot;input&quot; when i select the value form dropdown box","body":"<p>Yo can Select element by following method</p>\n\n<pre><code>driver.findElement(By.xpath(OR.getProperty(\"SSN\")).click();\n</code></pre>\n\n<p>In Next line select desired drop down in following way :</p>\n\n<pre><code>driver.findElement(By.xpath(\"//li[text() = 'SSN']\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506061655,"creation_date":1506061655,"answer_id":46358187,"question_id":19515100,"body_markdown":"You can apply `select` to select value from drop down, there is an `li` element there and you try to implement using `select` thats why it thrown the exception","title":"Selenium-Java Webdriver: I am getting error as Element should have been &quot;select&quot; but was &quot;input&quot; when i select the value form dropdown box","body":"<p>You can apply <code>select</code> to select value from drop down, there is an <code>li</code> element there and you try to implement using <code>select</code> thats why it thrown the exception</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524660228,"creation_date":1524660228,"answer_id":50022712,"question_id":19515100,"body_markdown":"This error message...\r\n\r\n\tElement should have been &quot;select&quot; but was &quot;input&quot;\r\n\r\n...implies that you have tried to select the value through an instance of _Select_ object where as the desired element was not a part of any `&lt;select&gt;` parent tag.\r\n\r\nAs per the _HTML_ you have shared to click on the _option_ with text as **SSN** you can use the following code block :\r\n\r\n\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;rcbScroll rcbWidth&#39;]&quot;)).click();\r\n\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;rcbScroll rcbWidth&#39;]/ul//li[@class=&#39;rcbHovered&#39; and contains(.,&#39;SSN&#39;)]&quot;)).click();","title":"Selenium-Java Webdriver: I am getting error as Element should have been &quot;select&quot; but was &quot;input&quot; when i select the value form dropdown box","body":"<p>This error message...</p>\n\n<pre><code>Element should have been \"select\" but was \"input\"\n</code></pre>\n\n<p>...implies that you have tried to select the value through an instance of <em>Select</em> object where as the desired element was not a part of any <code>&lt;select&gt;</code> parent tag.</p>\n\n<p>As per the <em>HTML</em> you have shared to click on the <em>option</em> with text as <strong>SSN</strong> you can use the following code block :</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[@class='rcbScroll rcbWidth']\")).click();\ndriver.findElement(By.xpath(\"//div[@class='rcbScroll rcbWidth']/ul//li[@class='rcbHovered' and contains(.,'SSN')]\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527340976,"creation_date":1527340976,"answer_id":50543230,"question_id":19515100,"body_markdown":"Select by will not work for you cuz you need select tag with options tags as sub tags for it.\nBellow html code is the correct format you need for using Selenium Select.    \n\n    &lt;select some-label-name=”display label” name=”some name” id=”some id” title=”some title” class=”class name”&gt;\n    &lt;option value=”0”&gt;display label&lt;/option&gt;\n    &lt;option value=”1” selected=”1”&gt;1&lt;/option&gt;\n    &lt;option value=”2”&gt;2&lt;/option&gt;\n    &lt;option value=”3”&gt;3&lt;/option&gt;\n    &lt;/select&gt;\n\n\nTo solve your problem you need to click on the dropdown list to open options then click on the option you need.","title":"Selenium-Java Webdriver: I am getting error as Element should have been &quot;select&quot; but was &quot;input&quot; when i select the value form dropdown box","body":"<p>Select by will not work for you cuz you need select tag with options tags as sub tags for it.\nBellow html code is the correct format you need for using Selenium Select.    </p>\n\n<pre><code>&lt;select some-label-name=”display label” name=”some name” id=”some id” title=”some title” class=”class name”&gt;\n&lt;option value=”0”&gt;display label&lt;/option&gt;\n&lt;option value=”1” selected=”1”&gt;1&lt;/option&gt;\n&lt;option value=”2”&gt;2&lt;/option&gt;\n&lt;option value=”3”&gt;3&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>To solve your problem you need to click on the dropdown list to open options then click on the option you need.</p>\n"}],"owner":{"account_id":2887650,"reputation":1345,"user_id":2477107,"accept_rate":33,"display_name":"Adnan Ghaffar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1661868275,"creation_date":1382437234,"question_id":19515100,"body_markdown":"Error message &quot;Element should have been &quot;select&quot; but was &quot;input&quot;&quot;is shown when i select the value form drop down box. I have tried with selectByValue() amd selectByIndex().\r\n\r\nHTML: \r\n\r\n    &lt;div class=&quot;rcbScroll rcbWidth&quot; style=&quot;width: 100%; overflow: auto; height: 40px;&quot;&gt;\r\n    &lt;ul class=&quot;rcbList&quot; style=&quot;list-style:none;margin:0;padding:0;zoom:1;&quot;&gt;\r\n    &lt;li class=&quot;rcbItem&quot;&gt;TIN&lt;/li&gt;\r\n    &lt;li class=&quot;rcbHovered&quot;&gt;SSN&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n\r\njava code is:\r\n\r\n\t\r\n    Select select=new Select(driver.findElement(By.xpath(OR.getProperty(&quot;SSN&quot;))));\r\n    select.selectByValue(&quot;SSN&quot;);","title":"Selenium-Java Webdriver: I am getting error as Element should have been &quot;select&quot; but was &quot;input&quot; when i select the value form dropdown box","body":"<p>Error message \"Element should have been \"select\" but was \"input\"\"is shown when i select the value form drop down box. I have tried with selectByValue() amd selectByIndex().</p>\n\n<p>HTML: </p>\n\n<pre><code>&lt;div class=\"rcbScroll rcbWidth\" style=\"width: 100%; overflow: auto; height: 40px;\"&gt;\n&lt;ul class=\"rcbList\" style=\"list-style:none;margin:0;padding:0;zoom:1;\"&gt;\n&lt;li class=\"rcbItem\"&gt;TIN&lt;/li&gt;\n&lt;li class=\"rcbHovered\"&gt;SSN&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>java code is:</p>\n\n<pre><code>Select select=new Select(driver.findElement(By.xpath(OR.getProperty(\"SSN\"))));\nselect.selectByValue(\"SSN\");\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1661858327,"post_id":73541578,"comment_id":129866413,"body_markdown":"you get rid of this by performing checks on valid values. &quot;null&quot; can not be parsed to a valid numeric int value, because it isn&#39;t a valid numeric value. also: &quot;null&quot; and null are not the same","body":"you get rid of this by performing checks on valid values. &quot;null&quot; can not be parsed to a valid numeric int value, because it isn&#39;t a valid numeric value. also: &quot;null&quot; and null are not the same"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1661858554,"post_id":73541578,"comment_id":129866491,"body_markdown":"Why is the quantity of a product represented as `String`? Does it contain any units or abbreviated numbers (1k, 2m or anything like that)? And of course it must be initialized before you can parse it…","body":"Why is the quantity of a product represented as <code>String</code>? Does it contain any units or abbreviated numbers (1k, 2m or anything like that)? And of course it must be initialized before you can parse it…"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1661858675,"post_id":73541578,"comment_id":129866528,"body_markdown":"You better (also) check `if (!product.getQuantity().equalsIgnoreCase(&quot;null&quot;))…`","body":"You better (also) check <code>if (!product.getQuantity().equalsIgnoreCase(&quot;null&quot;))…</code>"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1661859244,"post_id":73541578,"comment_id":129866735,"body_markdown":"@deHaar no it just contain the quantity like `1,2,3,.... n`","body":"@deHaar no it just contain the quantity like <code>1,2,3,.... n</code>"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1661859381,"post_id":73541578,"comment_id":129866803,"body_markdown":"Whatever the intent was, the string `&quot;null&quot;` somehow did get there, and you attempted to do a `null` check for some reason. Just `&quot;null&quot; != null` evaluates to `true`.","body":"Whatever the intent was, the string <code>&quot;null&quot;</code> somehow did get there, and you attempted to do a <code>null</code> check for some reason. Just <code>&quot;null&quot; != null</code> evaluates to <code>true</code>."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1661859387,"post_id":73541578,"comment_id":129866806,"body_markdown":"Looks like you&#39;re writing the String `&quot;null&quot;` (not `null`) into the `quantity` field of `ProductDetail`. But we can only guess, so you should add that class to your question and show us, where `quantity` gets written to. Why is `quantity` even a string value and not numeric in the first place?","body":"Looks like you&#39;re writing the String <code>&quot;null&quot;</code> (not <code>null</code>) into the <code>quantity</code> field of <code>ProductDetail</code>. But we can only guess, so you should add that class to your question and show us, where <code>quantity</code> gets written to. Why is <code>quantity</code> even a string value and not numeric in the first place?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1661860763,"post_id":73541578,"comment_id":129867330,"body_markdown":"@Moeez It appears more like `&quot;1&quot;, &quot;2&quot;, … , &quot;null&quot;`…","body":"@Moeez It appears more like <code>&quot;1&quot;, &quot;2&quot;, … , &quot;null&quot;</code>…"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1661864590,"post_id":73541578,"comment_id":129868946,"body_markdown":"The `ProductDetail` class appears to be storing numbers as Strings and allowing the inclusion of a String`&quot;null&quot;` to be included in Lists of Strings.  This is a design choice that requires you to jump through hoops to handle the data safely.  If that data model is out of your control then consider writing some utility methods to pull the values into the expected type (e.g. int, double).","body":"The <code>ProductDetail</code> class appears to be storing numbers as Strings and allowing the inclusion of a String<code>&quot;null&quot;</code> to be included in Lists of Strings.  This is a design choice that requires you to jump through hoops to handle the data safely.  If that data model is out of your control then consider writing some utility methods to pull the values into the expected type (e.g. int, double)."}],"answers":[{"tags":[],"owner":{"account_id":11410767,"reputation":502,"user_id":10875738,"display_name":"Torge Rosendahl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661868012,"creation_date":1661868012,"answer_id":73543728,"question_id":73541578,"body_markdown":"You are doing a null-check in \r\n\r\n```java\r\nif (product.getQuantity() != null)\r\n```\r\n\r\nbut your string is initialized and its value actually is `&quot;null&quot;` as a string. Wherever your data is coming from, the Adapter most likely parses empty fields into `&quot;null&quot;` instead of `null`.\r\n\r\nEither, you check against `&quot;null&quot;`, too:\r\n\r\n```java\r\nif (product.getQuantity() != null &amp;&amp; product.getQuantity() != &quot;null&quot;)\r\n```\r\n\r\nor you change the adapter so that it actually returns `null` on an empty field.","title":"Unable to parse int the string value","body":"<p>You are doing a null-check in</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (product.getQuantity() != null)\n</code></pre>\n<p>but your string is initialized and its value actually is <code>&quot;null&quot;</code> as a string. Wherever your data is coming from, the Adapter most likely parses empty fields into <code>&quot;null&quot;</code> instead of <code>null</code>.</p>\n<p>Either, you check against <code>&quot;null&quot;</code>, too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (product.getQuantity() != null &amp;&amp; product.getQuantity() != &quot;null&quot;)\n</code></pre>\n<p>or you change the adapter so that it actually returns <code>null</code> on an empty field.</p>\n"}],"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73543728,"answer_count":1,"score":0,"last_activity_date":1661868012,"creation_date":1661858245,"question_id":73541578,"body_markdown":"Hi I am trying to get value of a string into a integer type like bellow \r\n\r\n    private void updateTotalQuantity() {\r\n        int quantity = 0;\r\n        double price=0.0;\r\n        Double totalPrice = 0.0;\r\n        List&lt;ProductDetail&gt; products = mProductsAdapter.getProducts();\r\n\r\n        for (ProductDetail product : products) {\r\n            if (product.getQuantity() != null)\r\n            {\r\n                quantity += (Integer.parseInt(product.getQuantity()));\r\n            }\r\n            if (product.getPrice()!=null &amp;&amp; product.getQuantity() != null)\r\n            {\r\n                price = Double.parseDouble(product.getPrice());\r\n                totalPrice = totalPrice + (price * Double.parseDouble(product.getQuantity()));\r\n            }\r\n\r\n        }\r\n        totalQty.setText(String.valueOf(quantity));\r\n        totalOrder.setText(String.valueOf(totalPrice));\r\n    }\r\n\r\nWhen I run my application the app crashes at point ` quantity += (Integer.parseInt(product.getQuantity()));` with execption message \r\n\r\n&gt;  java.lang.NumberFormatException: For input string: &quot;null&quot;\r\n\r\nHow can I get rid of this ?\r\n\r\nAny help would be highly appreciated.\r\n\r\n","title":"Unable to parse int the string value","body":"<p>Hi I am trying to get value of a string into a integer type like bellow</p>\n<pre><code>private void updateTotalQuantity() {\n    int quantity = 0;\n    double price=0.0;\n    Double totalPrice = 0.0;\n    List&lt;ProductDetail&gt; products = mProductsAdapter.getProducts();\n\n    for (ProductDetail product : products) {\n        if (product.getQuantity() != null)\n        {\n            quantity += (Integer.parseInt(product.getQuantity()));\n        }\n        if (product.getPrice()!=null &amp;&amp; product.getQuantity() != null)\n        {\n            price = Double.parseDouble(product.getPrice());\n            totalPrice = totalPrice + (price * Double.parseDouble(product.getQuantity()));\n        }\n\n    }\n    totalQty.setText(String.valueOf(quantity));\n    totalOrder.setText(String.valueOf(totalPrice));\n}\n</code></pre>\n<p>When I run my application the app crashes at point <code> quantity += (Integer.parseInt(product.getQuantity()));</code> with execption message</p>\n<blockquote>\n<p>java.lang.NumberFormatException: For input string: &quot;null&quot;</p>\n</blockquote>\n<p>How can I get rid of this ?</p>\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","angular"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1661853808,"post_id":73540572,"comment_id":129864857,"body_markdown":"Have you inspected your spring security configuration?","body":"Have you inspected your spring security configuration?"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1661864740,"post_id":73540572,"comment_id":129869005,"body_markdown":"why is @RequestBody not usefull? you&#39;ll need it to map the request body","body":"why is @RequestBody not usefull? you&#39;ll need it to map the request body"},{"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"score":0,"creation_date":1661865094,"post_id":73540572,"comment_id":129869147,"body_markdown":"`@RestController = @Controller + @ResponseBody`\n   https://stackoverflow.com/questions/68356191/how-to-implement-put-request-correctly-in-spring-boot","body":"<code>@RestController = @Controller + @ResponseBody</code>    <a href=\"https://stackoverflow.com/questions/68356191/how-to-implement-put-request-correctly-in-spring-boot\" title=\"how to implement put request correctly in spring boot\">stackoverflow.com/questions/68356191/&hellip;</a>"},{"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"score":0,"creation_date":1661865570,"post_id":73540572,"comment_id":129869337,"body_markdown":"And if i add `@RequestBody` at my parameter i have  &quot;Completed 415 UNSUPPORTED_MEDIA_TYPE&quot;","body":"And if i add <code>@RequestBody</code> at my parameter i have  &quot;Completed 415 UNSUPPORTED_MEDIA_TYPE&quot;"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1661866222,"post_id":73540572,"comment_id":129869626,"body_markdown":"then set content-type header on the request to application/json","body":"then set content-type header on the request to application/json"},{"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"score":0,"creation_date":1661866614,"post_id":73540572,"comment_id":129869808,"body_markdown":"content type is already application/json","body":"content type is already application/json"},{"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"score":0,"creation_date":1661869091,"post_id":73540572,"comment_id":129870961,"body_markdown":"if i set content-type i have 500 nullPointErexception","body":"if i set content-type i have 500 nullPointErexception"}],"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661866856,"creation_date":1661853567,"question_id":73540572,"body_markdown":"I have error 500  on my restweb services.\r\n\r\nSo I have a simple rest controller api in backend in java spring boot and make it Angular with a httpclient service\r\n\r\nI know the @RequestBody annotation is not useful.\r\n\r\nit try to add &quot;parameters=&quot; on the body resquest (same)\r\n\r\nI think my problem comes from my Java part.\r\n``````\r\nOPTIONS &quot;/api/adress/sav&quot;, parameters={}\r\nMapped to saveAdress(Adress)\r\nCompleted 200 OK\r\nPUT &quot;/api/adress/sav&quot;, parameters={}\r\nMapped to com.gcssara.hexa.application.AdressEndPoint#saveAdress(Adress)\r\nFailed to complete request: java.lang.NullPointerException\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\njava.lang.NullPointerException: null\r\n&quot;ERROR&quot; dispatch for PUT &quot;/error&quot;, parameters={}\r\nMapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\nUsing &#39;application/json&#39;, given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]\r\nWriting [{timestamp=Tue Aug 30 14:41:23 CEST 2022, status=500, error=Internal Server Error, path=/api/adressm (truncated)...]\r\nExiting from &quot;ERROR&quot; dispatch, status 500\r\n``````\r\n``````java\r\n@RestController\r\n@RequestMapping(&quot;/api/adress&quot;)\r\n@RequiredArgsConstructor\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class AdressEndPoint {\r\n\r\n    @PutMapping(path =&quot;/sav&quot;)\r\n    public Adress saveAdress( Adresse adress) {\r\nreturn adressService.saveAdress(adress);\r\n    }\r\n\r\n}\r\n\r\n``````\r\n``````js\r\ncreateUpdate(adress:Adress, ) {\r\n      return this._httpClient.put&lt;Adress&gt;(this.requestUrlBase +&quot;/api/adress/sav&quot;,JSON.stringify(adress), {} );\r\n    }\r\n``````\r\n\r\n``````\r\nURL de la demande: http://localhost:8080/api/adress/sav\r\nRequest method: PUT\r\nStatus code: 415\r\nRemote address: [::1]:8080\r\nAccess point policy: strict-origin-when-cross-origin\r\nAccept: application/json, application/*+json\r\nAccess-Control-Allow-Origin: *\r\nConnection: keep-alive\r\nContent-Type: application/json\r\nDate: Tue, 30 Aug 2022 13:17:57 GMT\r\nKeep-Alive: timeout=60\r\nTransfer-Encoding: chunked\r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nAccept: application/json, text/plain, */*\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6\r\nCache-Control: no-cache\r\nConnection: keep-alive\r\nContent-Length: 194\r\nContent-Type: text/plain\r\nHost: localhost:8080\r\nOrigin: http://localhost:4200\r\nPragma: no-cache\r\nReferer: http://localhost:4200/\r\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;104&quot;, &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Microsoft Edge&quot;;v=&quot;104&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\nSec-Fetch-Dest: empty\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Site: same-site\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.102 Safari/537.36 Edg/104.0.1293.70\r\n``````","title":"How Creat In java Spring Boot Put Request with Object JSON parameters","body":"<p>I have error 500  on my restweb services.</p>\n<p>So I have a simple rest controller api in backend in java spring boot and make it Angular with a httpclient service</p>\n<p>I know the @RequestBody annotation is not useful.</p>\n<p>it try to add &quot;parameters=&quot; on the body resquest (same)</p>\n<p>I think my problem comes from my Java part.</p>\n<pre><code>OPTIONS &quot;/api/adress/sav&quot;, parameters={}\nMapped to saveAdress(Adress)\nCompleted 200 OK\nPUT &quot;/api/adress/sav&quot;, parameters={}\nMapped to com.gcssara.hexa.application.AdressEndPoint#saveAdress(Adress)\nFailed to complete request: java.lang.NullPointerException\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\njava.lang.NullPointerException: null\n&quot;ERROR&quot; dispatch for PUT &quot;/error&quot;, parameters={}\nMapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\nUsing 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]\nWriting [{timestamp=Tue Aug 30 14:41:23 CEST 2022, status=500, error=Internal Server Error, path=/api/adressm (truncated)...]\nExiting from &quot;ERROR&quot; dispatch, status 500\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/adress&quot;)\n@RequiredArgsConstructor\n@CrossOrigin(origins = &quot;*&quot;)\npublic class AdressEndPoint {\n\n    @PutMapping(path =&quot;/sav&quot;)\n    public Adress saveAdress( Adresse adress) {\nreturn adressService.saveAdress(adress);\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>createUpdate(adress:Adress, ) {\n      return this._httpClient.put&lt;Adress&gt;(this.requestUrlBase +&quot;/api/adress/sav&quot;,JSON.stringify(adress), {} );\n    }\n</code></pre>\n<pre><code>URL de la demande: http://localhost:8080/api/adress/sav\nRequest method: PUT\nStatus code: 415\nRemote address: [::1]:8080\nAccess point policy: strict-origin-when-cross-origin\nAccept: application/json, application/*+json\nAccess-Control-Allow-Origin: *\nConnection: keep-alive\nContent-Type: application/json\nDate: Tue, 30 Aug 2022 13:17:57 GMT\nKeep-Alive: timeout=60\nTransfer-Encoding: chunked\nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccept: application/json, text/plain, */*\nAccept-Encoding: gzip, deflate, br\nAccept-Language: fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6\nCache-Control: no-cache\nConnection: keep-alive\nContent-Length: 194\nContent-Type: text/plain\nHost: localhost:8080\nOrigin: http://localhost:4200\nPragma: no-cache\nReferer: http://localhost:4200/\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;104&quot;, &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Microsoft Edge&quot;;v=&quot;104&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-site\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.102 Safari/537.36 Edg/104.0.1293.70\n</code></pre>\n"},{"tags":["java","antlr4"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":2,"creation_date":1661357637,"post_id":73476248,"comment_id":129755106,"body_markdown":"See https://github.com/antlr/antlr4/releases. &quot;Going forward, we are using Java 11 for the source code and the compiled .class files for the ANTLR tool. The Java runtime target, however, and the associated runtime tests use Java 8 (bumping up from Java 7).&quot; You need at least v11 to run the tool. You may as well &quot;install&quot; v18. And, &quot;install&quot; is a loose term. Just download the openjdk .zip file and decompress it. Then adjust PATH to point to the bin/ directory in that decompressed directory.","body":"See <a href=\"https://github.com/antlr/antlr4/releases\" rel=\"nofollow noreferrer\">github.com/antlr/antlr4/releases</a>. &quot;Going forward, we are using Java 11 for the source code and the compiled .class files for the ANTLR tool. The Java runtime target, however, and the associated runtime tests use Java 8 (bumping up from Java 7).&quot; You need at least v11 to run the tool. You may as well &quot;install&quot; v18. And, &quot;install&quot; is a loose term. Just download the openjdk .zip file and decompress it. Then adjust PATH to point to the bin/ directory in that decompressed directory."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1661358811,"post_id":73476248,"comment_id":129755487,"body_markdown":"For the record, Java 8 is not the latest version.  The latest is Java 18 and Java 19 is due in a month ...","body":"For the record, Java 8 is not the latest version.  The latest is Java 18 and Java 19 is due in a month ..."},{"owner":{"account_id":26151411,"reputation":31,"user_id":19839310,"display_name":"Karlj&#252;rgen Feuerherm"},"score":0,"creation_date":1661359686,"post_id":73476248,"comment_id":129755774,"body_markdown":"Thanks. I saw 17 there, installed that, seems to do the trick.","body":"Thanks. I saw 17 there, installed that, seems to do the trick."}],"answers":[{"tags":[],"owner":{"account_id":3228908,"reputation":51,"user_id":2724611,"display_name":"arli weng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661357290,"creation_date":1661357290,"answer_id":73476411,"question_id":73476248,"body_markdown":"class suprt bit 55 mean Java SE 11,\r\nbut you have 52 mean Java SE 8,\r\nyou need upgrade you JRE to at least 11.\r\n\r\non windows, you can download from\r\nhttps://learn.microsoft.com/en-us/java/openjdk/download\r\n\r\nabout class suprt bit, see\r\nhttps://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html","title":"Latest version of Java run-time outdated compared to ANTLR compilation?","body":"<p>class suprt bit 55 mean Java SE 11,\nbut you have 52 mean Java SE 8,\nyou need upgrade you JRE to at least 11.</p>\n<p>on windows, you can download from\n<a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/openjdk/download</a></p>\n<p>about class suprt bit, see\n<a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html</a></p>\n"}],"owner":{"account_id":26151411,"reputation":31,"user_id":19839310,"display_name":"Karlj&#252;rgen Feuerherm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1661443259,"accepted_answer_id":73476411,"answer_count":1,"score":2,"last_activity_date":1661866749,"creation_date":1661356574,"question_id":73476248,"body_markdown":"I&#39;ve just started installing ANTLR on my Windows PC and have run into a problem.\r\n\r\nI installed Java as part of this (file `JavaSetup8u341.exe`, the latest, it would appear), but when I run the first test of the installation with `java org.antlr.v4.Tool`, I get the following error:\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/antlr/v4/Tool has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n\r\nThe Java control panel tells me that I have the latest version (platform version 1.8; the instructions suggest anything above 1.7).\r\n\r\nI&#39;m at a loss as to what to do next.\r\n","title":"Latest version of Java run-time outdated compared to ANTLR compilation?","body":"<p>I've just started installing ANTLR on my Windows PC and have run into a problem.</p>\n<p>I installed Java as part of this (file <code>JavaSetup8u341.exe</code>, the latest, it would appear), but when I run the first test of the installation with <code>java org.antlr.v4.Tool</code>, I get the following error:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/antlr/v4/Tool has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>The Java control panel tells me that I have the latest version (platform version 1.8; the instructions suggest anything above 1.7).</p>\n<p>I'm at a loss as to what to do next.</p>\n"},{"tags":["java","file","path"],"comments":[{"owner":{"account_id":3002222,"reputation":656,"user_id":2547495,"accept_rate":93,"display_name":"3751_Creator"},"score":1,"creation_date":1398274479,"post_id":23251357,"comment_id":35578477,"body_markdown":"why don&#39;t you use .mkdr() for the directory AND the file?","body":"why don&#39;t you use .mkdr() for the directory AND the file?"},{"owner":{"account_id":3946867,"reputation":1511,"user_id":3335000,"accept_rate":89,"display_name":"Andr&#233; Ferraz"},"score":0,"creation_date":1398274584,"post_id":23251357,"comment_id":35578534,"body_markdown":"mkdir() does the same thing it, will still make what is supposed to be a directory to a file.","body":"mkdir() does the same thing it, will still make what is supposed to be a directory to a file."},{"owner":{"account_id":3105238,"reputation":1320,"user_id":2628243,"accept_rate":70,"display_name":"maxx777"},"score":0,"creation_date":1398274944,"post_id":23251357,"comment_id":35578737,"body_markdown":"if you specifify path as `/parent/sub-folder` how JVM gonna recognize that you want to make a directory? I would create and file and this is what it is supposed to do.","body":"if you specifify path as <code>&#47;parent&#47;sub-folder</code> how JVM gonna recognize that you want to make a directory? I would create and file and this is what it is supposed to do."},{"owner":{"account_id":3946867,"reputation":1511,"user_id":3335000,"accept_rate":89,"display_name":"Andr&#233; Ferraz"},"score":0,"creation_date":1398275057,"post_id":23251357,"comment_id":35578805,"body_markdown":"Then why is it not creating a folder when I try `/parent/sub-folder/` ?","body":"Then why is it not creating a folder when I try <code>&#47;parent&#47;sub-folder&#47;</code> ?"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1398279195,"post_id":23251357,"comment_id":35581338,"body_markdown":"@Andre `Files.isDirectory` only checks an existing folder, not one which is yet to be created. How do you distinguish between paths to files and paths to directories?","body":"@Andre <code>Files.isDirectory</code> only checks an existing folder, not one which is yet to be created. How do you distinguish between paths to files and paths to directories?"}],"answers":[{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661866149,"creation_date":1398274953,"answer_id":23251566,"question_id":23251357,"body_markdown":"You need to use `createDirectories(Path)` instead of `createDirectory(path)`. As explained in the [tutorial](http://docs.oracle.com/javase/tutorial/essential/io/dirs.html#create):\r\n\r\n&gt; To create a directory several levels deep when one or more of the\r\n&gt; parent directories might not yet exist, you can use the convenience\r\n&gt; method, createDirectories(Path, FileAttribute&lt;?&gt;). As with the\r\n&gt; createDirectory(Path, FileAttribute&lt;?&gt;) method, you can specify an\r\n&gt; optional set of initial file attributes. The following code snippet\r\n&gt; uses default attributes:\r\n&gt; \r\n&gt; Files.createDirectories(Paths.get(&quot;foo/bar/test&quot;));\r\n&gt;\r\n&gt; The directories\r\n&gt; are created, as needed, from the top down. In the foo/bar/test\r\n&gt; example, if the foo directory does not exist, it is created. Next, the\r\n&gt; bar directory is created, if needed, and, finally, the test directory\r\n&gt; is created.\r\n&gt; \r\n&gt; It is possible for this method to fail after creating some, but not\r\n&gt; all, of the parent directories.","title":"Creating File &amp; Directories not working properly","body":"<p>You need to use <code>createDirectories(Path)</code> instead of <code>createDirectory(path)</code>. As explained in the <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/dirs.html#create\" rel=\"nofollow noreferrer\">tutorial</a>:</p>\n<blockquote>\n<p>To create a directory several levels deep when one or more of the\nparent directories might not yet exist, you can use the convenience\nmethod, createDirectories(Path, FileAttribute). As with the\ncreateDirectory(Path, FileAttribute) method, you can specify an\noptional set of initial file attributes. The following code snippet\nuses default attributes:</p>\n<p>Files.createDirectories(Paths.get(&quot;foo/bar/test&quot;));</p>\n<p>The directories\nare created, as needed, from the top down. In the foo/bar/test\nexample, if the foo directory does not exist, it is created. Next, the\nbar directory is created, if needed, and, finally, the test directory\nis created.</p>\n<p>It is possible for this method to fail after creating some, but not\nall, of the parent directories.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4014384,"reputation":371,"user_id":3306975,"display_name":"Manjunath D R"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1398275720,"creation_date":1398275720,"answer_id":23251791,"question_id":23251357,"body_markdown":"Not sure of which File API you are using. But find below the simplest code to create file along with folders using java.io package.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    \r\n    public class FileTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tFileTest fileTest = new FileTest();\r\n    \t\tfileTest.createFile(&quot;C:&quot;+File.separator+&quot;folder&quot;+File.separator+&quot;file.txt&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void createFile(String rootDir) {\r\n    \t\tString filePath = rootDir;\r\n    \t    try {\r\n    \t    \tif(rootDir.contains(File.separator)){\r\n    \t    \t\tfilePath = rootDir.substring(0, rootDir.lastIndexOf(File.separator));\r\n    \t    \t}\r\n    \t    \tFile file = new File(filePath);\r\n    \t    \tif(!file.exists()) {\r\n    \t    \t\tSystem.out.println(file.mkdirs());\r\n    \t    \t\tfile = new File(rootDir);\r\n    \t    \t\tSystem.out.println(file.createNewFile());\r\n    \t    \t}\r\n    \t    } catch (IOException e) {\r\n    \t        System.out.println(e.getMessage());\r\n    \t    }\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Creating File &amp; Directories not working properly","body":"<p>Not sure of which File API you are using. But find below the simplest code to create file along with folders using java.io package.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\n\npublic class FileTest {\n\n    public static void main(String[] args) {\n        FileTest fileTest = new FileTest();\n        fileTest.createFile(\"C:\"+File.separator+\"folder\"+File.separator+\"file.txt\");\n    }\n\n    public void createFile(String rootDir) {\n        String filePath = rootDir;\n        try {\n            if(rootDir.contains(File.separator)){\n                filePath = rootDir.substring(0, rootDir.lastIndexOf(File.separator));\n            }\n            File file = new File(filePath);\n            if(!file.exists()) {\n                System.out.println(file.mkdirs());\n                file = new File(rootDir);\n                System.out.println(file.createNewFile());\n            }\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3946867,"reputation":1511,"user_id":3335000,"accept_rate":89,"display_name":"Andr&#233; Ferraz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2288,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23251566,"answer_count":2,"score":4,"last_activity_date":1661866149,"creation_date":1398274267,"question_id":23251357,"body_markdown":"I am currently working on a method that will create files and directories. Bellow is the use case &amp; problem explained.\r\n\r\n1) When a user specifies a path e.g &quot;/parent/sub folder/file.txt&quot;, the system should be able to create the directory along with the file.txt. (This one works)\r\n\r\n2) When a user specifies a path e.g &quot;/parent/sub-folder/&quot; or &quot;/parent/sub-folder&quot;, the system should be able to create all directories. (Does not work), Instead of it creating the &quot;/sub-folder/&quot; or /sub-folder&quot; as a folder, it will create a file named &quot;sub-folder&quot;.\r\n\r\nHere is the code I have\r\n\r\n    Path path = Paths.get(rootDir+&quot;test/hello/&quot;);\r\n        try {\r\n            Files.createDirectories(path.getParent());\r\n            if (!Files.isDirectory(path)) {\r\n                Files.createFile(path);\r\n            } else {\r\n                Files.createDirectory(path);\r\n            }\r\n        } catch (IOException e) {\r\n            System.out.println(e.getMessage());\r\n        }","title":"Creating File &amp; Directories not working properly","body":"<p>I am currently working on a method that will create files and directories. Bellow is the use case &amp; problem explained.</p>\n\n<p>1) When a user specifies a path e.g \"/parent/sub folder/file.txt\", the system should be able to create the directory along with the file.txt. (This one works)</p>\n\n<p>2) When a user specifies a path e.g \"/parent/sub-folder/\" or \"/parent/sub-folder\", the system should be able to create all directories. (Does not work), Instead of it creating the \"/sub-folder/\" or /sub-folder\" as a folder, it will create a file named \"sub-folder\".</p>\n\n<p>Here is the code I have</p>\n\n<pre><code>Path path = Paths.get(rootDir+\"test/hello/\");\n    try {\n        Files.createDirectories(path.getParent());\n        if (!Files.isDirectory(path)) {\n            Files.createFile(path);\n        } else {\n            Files.createDirectory(path);\n        }\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","checkstyle","gradle-kotlin-dsl"],"answers":[{"tags":[],"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661776729,"creation_date":1661776729,"answer_id":73528940,"question_id":73528273,"body_markdown":"To make task depends on another task you need to use [dependsOn][1]: &lt;br&gt;\r\n`bootRun.dependsOn(checkstyleMain)`\r\n\r\nFor failing in case of `error/warning` it is possible to use following configuration for `checkstyle`:\r\n```\r\nignoreFailures = false\r\nmaxWarnings = 0\r\nmaxErrors = 0\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/7.5.1/dsl/org.gradle.api.Task.html#org.gradle.api.Task:dependsOn(java.lang.Object[])","title":"Run Checkstyle before gradle build on build.gradle.kts and make build fail if there are issues","body":"<p>To make task depends on another task you need to use <a href=\"https://docs.gradle.org/7.5.1/dsl/org.gradle.api.Task.html#org.gradle.api.Task:dependsOn(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">dependsOn</a>: <br>\n<code>bootRun.dependsOn(checkstyleMain)</code></p>\n<p>For failing in case of <code>error/warning</code> it is possible to use following configuration for <code>checkstyle</code>:</p>\n<pre><code>ignoreFailures = false\nmaxWarnings = 0\nmaxErrors = 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3764517,"reputation":1588,"user_id":3128369,"accept_rate":55,"display_name":"buzoherbert"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1661866112,"creation_date":1661866112,"answer_id":73543290,"question_id":73528273,"body_markdown":"This is what worked for me:\r\n\r\n    checkstyle {\r\n        toolVersion = &quot;10.3.2&quot;\r\n        isIgnoreFailures = false\r\n        maxWarnings = 0\r\n        maxErrors = 0\r\n    }\r\n    \r\n    val build = &quot;build&quot;\r\n    tasks[build].dependsOn(&quot;checkstyleMain&quot;)\r\n\r\nNow `gradle build` fails if there are errors found in `checkstyleMain` .","title":"Run Checkstyle before gradle build on build.gradle.kts and make build fail if there are issues","body":"<p>This is what worked for me:</p>\n<pre><code>checkstyle {\n    toolVersion = &quot;10.3.2&quot;\n    isIgnoreFailures = false\n    maxWarnings = 0\n    maxErrors = 0\n}\n\nval build = &quot;build&quot;\ntasks[build].dependsOn(&quot;checkstyleMain&quot;)\n</code></pre>\n<p>Now <code>gradle build</code> fails if there are errors found in <code>checkstyleMain</code> .</p>\n"}],"owner":{"account_id":3764517,"reputation":1588,"user_id":3128369,"accept_rate":55,"display_name":"buzoherbert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73543290,"answer_count":2,"score":0,"last_activity_date":1661866112,"creation_date":1661773361,"question_id":73528273,"body_markdown":"I added `Checkstyle` to my `Gradle` project&#39;s `build.gradle.kts` succesfully:\r\n\r\n    plugins {\r\n        ...\r\n        checkstyle\r\n    }\r\n    \r\n    checkstyle {\r\n        toolVersion = &quot;10.3.2&quot;\r\n        isIgnoreFailures = false // Added this so that the tasks fail if CheckStyle errors are present.\r\n    }\r\n\r\nI now have access to CheckStyle&#39;s tools with:\r\n\r\n - `gradle checkstyleMain`\r\n - `gradle checkstyleTest`\r\n\r\nThey both work as expected showing warnings and generating HTML reports.\r\n\r\nI now want to make the `gradle run` task run the `checkstyleMain` task before itself and to fail if there are CheckStyle issues.\r\n\r\nIs there a way to do this? The only references I&#39;ve found so far are not very clear and are for `Groovy` and `Android` instead of `Kotlin` and `Java` `build.gradle` files.","title":"Run Checkstyle before gradle build on build.gradle.kts and make build fail if there are issues","body":"<p>I added <code>Checkstyle</code> to my <code>Gradle</code> project's <code>build.gradle.kts</code> succesfully:</p>\n<pre><code>plugins {\n    ...\n    checkstyle\n}\n\ncheckstyle {\n    toolVersion = &quot;10.3.2&quot;\n    isIgnoreFailures = false // Added this so that the tasks fail if CheckStyle errors are present.\n}\n</code></pre>\n<p>I now have access to CheckStyle's tools with:</p>\n<ul>\n<li><code>gradle checkstyleMain</code></li>\n<li><code>gradle checkstyleTest</code></li>\n</ul>\n<p>They both work as expected showing warnings and generating HTML reports.</p>\n<p>I now want to make the <code>gradle run</code> task run the <code>checkstyleMain</code> task before itself and to fail if there are CheckStyle issues.</p>\n<p>Is there a way to do this? The only references I've found so far are not very clear and are for <code>Groovy</code> and <code>Android</code> instead of <code>Kotlin</code> and <code>Java</code> <code>build.gradle</code> files.</p>\n"},{"tags":["java","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":4468862,"reputation":544,"user_id":3635673,"accept_rate":20,"display_name":"DrunkenPope"},"score":1,"creation_date":1661767819,"post_id":73526680,"comment_id":129841892,"body_markdown":"That might be a design issue you are facing here. Usually message should be very small to not slow down your message broker with handling large amounts of data. What you can do if you have to &quot;pass large data along&quot; is to save it somewhere else (like a database or shared storage) and then send the required information to find it again in the message (database id, path in a storage).\n\nWhat kind of data is contained in your list? I guess some more information might be helpful here.","body":"That might be a design issue you are facing here. Usually message should be very small to not slow down your message broker with handling large amounts of data. What you can do if you have to &quot;pass large data along&quot; is to save it somewhere else (like a database or shared storage) and then send the required information to find it again in the message (database id, path in a storage).  What kind of data is contained in your list? I guess some more information might be helpful here."}],"answers":[{"tags":[],"owner":{"account_id":4783629,"reputation":2581,"user_id":3864737,"accept_rate":75,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661866072,"creation_date":1661866072,"answer_id":73543280,"question_id":73526680,"body_markdown":"The message payload is an &quot;[opaque byte array][1]&quot;, as the rabbitmq main website indicates.\r\nSo nothing stops you from providing a serialized array as the message payload.\r\n\r\nAlthough as stated by @DrunkenPope it&#39;s more common to have small messages, in our environment we do send full json payloads in the messages, sometimes going up to 100MB. It does have a performance impact, but it&#39;s completely feasible.\r\n\r\nStill, indeed you should review your use case to figure out what makes the most sense, as a single message with the array in the payload means that you will have a single consumer handling the 1000 rows, while if you generate a separate message for each row, you can easily have multiple consumers share the processing.\r\n\r\nIf you&#39;re still in doubt about which approach to consider, please provide more details as to what you are trying to achieve, the community will surely be happy to chime in on what is likely the better option for your use case.\r\n\r\n  [1]: https://www.rabbitmq.com/tutorials/amqp-concepts.html#messages","title":"How to send arrayList in RabbitMQ?","body":"<p>The message payload is an &quot;<a href=\"https://www.rabbitmq.com/tutorials/amqp-concepts.html#messages\" rel=\"nofollow noreferrer\">opaque byte array</a>&quot;, as the rabbitmq main website indicates.\nSo nothing stops you from providing a serialized array as the message payload.</p>\n<p>Although as stated by @DrunkenPope it's more common to have small messages, in our environment we do send full json payloads in the messages, sometimes going up to 100MB. It does have a performance impact, but it's completely feasible.</p>\n<p>Still, indeed you should review your use case to figure out what makes the most sense, as a single message with the array in the payload means that you will have a single consumer handling the 1000 rows, while if you generate a separate message for each row, you can easily have multiple consumers share the processing.</p>\n<p>If you're still in doubt about which approach to consider, please provide more details as to what you are trying to achieve, the community will surely be happy to chime in on what is likely the better option for your use case.</p>\n"}],"owner":{"account_id":26186276,"reputation":1,"user_id":19868776,"display_name":"Srif Techman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661866072,"creation_date":1661765022,"question_id":73526680,"body_markdown":"I&#39;m new to RabbitMQ and I&#39;m working on a Java project that needs to deliver and receive message in RabbitMQ.\r\n\r\nMy project is based on an Object Arraylist that contains more than 1000 rows. Is it possible to pass this list in one time and receive it in the same way?\r\n\r\n ","title":"How to send arrayList in RabbitMQ?","body":"<p>I'm new to RabbitMQ and I'm working on a Java project that needs to deliver and receive message in RabbitMQ.</p>\n<p>My project is based on an Object Arraylist that contains more than 1000 rows. Is it possible to pass this list in one time and receive it in the same way?</p>\n"},{"tags":["java","for-loop","multidimensional-array","time-complexity"],"comments":[{"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"score":0,"creation_date":1661863217,"post_id":73542530,"comment_id":129868397,"body_markdown":"If the matrix is small enough, it is a good solution, as it has time complexity of O(n). If the matrix is huge, since it is already ordered, you could use binary search, which would give you O(log n), but is more complicated to implement (althoug not *much* more complicated)","body":"If the matrix is small enough, it is a good solution, as it has time complexity of O(n). If the matrix is huge, since it is already ordered, you could use binary search, which would give you O(log n), but is more complicated to implement (althoug not <i>much</i> more complicated)"},{"owner":{"account_id":20581802,"reputation":31,"user_id":18910526,"display_name":"kmvfkmfv"},"score":0,"creation_date":1661863558,"post_id":73542530,"comment_id":129868530,"body_markdown":"Wouldn&#39;t the complexity be O(n+m)? Since the row and column size is different. First we go through all the rows, then we go through all the columns (of that row)?","body":"Wouldn&#39;t the complexity be O(n+m)? Since the row and column size is different. First we go through all the rows, then we go through all the columns (of that row)?"},{"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"score":0,"creation_date":1661863600,"post_id":73542530,"comment_id":129868548,"body_markdown":"Yes you are right, I was assuming an n*n matrix. It is still linear, which is important.","body":"Yes you are right, I was assuming an n*n matrix. It is still linear, which is important."}],"answers":[{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661865363,"creation_date":1661865363,"answer_id":73543125,"question_id":73542530,"body_markdown":"let&#39;s discuss in terms of the worst case , suppose that your matrix is of size `5 x 5` then the worst case if your item is at position matrix[4][4].\r\nalso you are assuming that the matrix already sorted like it has the shape like the following\r\n\r\n    0  1  2  3  4\r\n    5  6  7  8  9\r\n    10 11 12 13 14\r\n    15 16 17 18 19\r\n    20 21 22 23 24\r\n\r\nso , if you are searching for `target = 24` then the number of loops to execute in the first `for loop` is **5** and in the second `for loop` is **5** so total number of loops execution = **5 + 5 = 10** while if you are using nested 2 for loops then it will be **5 * 5 = 25** so yes , you indeed decrease the time of expectation , but it&#39;s just in case that the matrix is already sorted , but if the matrix is already sorted , you can preform **binary search** instead of **linear search** which will increase the performance more , read more about binary search from  [here][1].\r\n\r\nso the edited version of your code to make it work with binary algorithm is as follows :\r\n\r\n    \r\n    \r\n    import javax.swing.*;\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n          int[][] matrix =\r\n                          {{0,  1,  2,  3 , 4},\r\n                           {5,  6,  7 , 8,  9},\r\n                           {10, 11, 12, 13, 14},\r\n                           {15, 16, 17, 18, 19},\r\n                           {20, 21, 22, 23, 24}};\r\n            System.out.println(searchMatrix(matrix, 25));\r\n    \r\n        }\r\n        public static boolean searchMatrix(int[][] matrix, int target) {\r\n    \r\n            int colL = matrix[0].length;\r\n            int rowL = matrix.length;\r\n    \r\n            if(matrix[rowL-1][colL-1] &lt; target || matrix[0][0] &gt; target){\r\n                return false;\r\n            }\r\n    \r\n            int low, high, mid;\r\n            // binary search for row\r\n            low = 0;\r\n            high = matrix.length-1;\r\n            mid = (low + high) / 2;\r\n            //(mid != 0) &amp;&amp;(matrix[mid][colL - 1] &gt;= target) &amp;&amp; (target &gt; matrix[mid-1][colL - 1])\r\n            while (low &lt;= high){\r\n    \r\n                if ((mid != 0) &amp;&amp; (matrix[mid][colL - 1] &gt;= target) &amp;&amp; (target &gt; matrix[mid-1][colL - 1]))\r\n                    break;\r\n    \r\n                if (target &gt; matrix[mid][colL - 1]){\r\n                    low = mid + 1;\r\n                    mid = (low + high) / 2;\r\n                }\r\n                else if (target &lt; matrix[mid][colL - 1]){\r\n                    high = mid - 1;\r\n                    mid = (low + high) / 2;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            }\r\n    \r\n            int rowNum = mid;\r\n    \r\n            // binary search for column\r\n            low = 0;\r\n            high = matrix[0].length-1;\r\n            mid = (low + high) / 2;\r\n            while (low &lt;= high) {\r\n                if (target &gt; matrix[rowNum][mid]) {\r\n                    low = mid + 1;\r\n                    mid = (low + high) / 2;\r\n                } else if (target &lt; matrix[rowNum][mid]) {\r\n                    high = mid - 1;\r\n                    mid = (low + high) / 2;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    }\r\n    \r\n\r\nthe time complexity of nested for loops is **O(n^2)** and time complexity of your code is **O(n+m)** which can be **O(n)** for simplicity , but time complexity for binary search version is **O(log(n) + log (m))** which can be **O(log(n))** for simplicity because every loop search by looking whether to loop up in the lower or upper half\r\n\r\n  [1]: https://www.geeksforgeeks.org/binary-search/","title":"Searching for a value in an ordered 2D matrix","body":"<p>let's discuss in terms of the worst case , suppose that your matrix is of size <code>5 x 5</code> then the worst case if your item is at position matrix[4][4].\nalso you are assuming that the matrix already sorted like it has the shape like the following</p>\n<pre><code>0  1  2  3  4\n5  6  7  8  9\n10 11 12 13 14\n15 16 17 18 19\n20 21 22 23 24\n</code></pre>\n<p>so , if you are searching for <code>target = 24</code> then the number of loops to execute in the first <code>for loop</code> is <strong>5</strong> and in the second <code>for loop</code> is <strong>5</strong> so total number of loops execution = <strong>5 + 5 = 10</strong> while if you are using nested 2 for loops then it will be <strong>5 * 5 = 25</strong> so yes , you indeed decrease the time of expectation , but it's just in case that the matrix is already sorted , but if the matrix is already sorted , you can preform <strong>binary search</strong> instead of <strong>linear search</strong> which will increase the performance more , read more about binary search from  <a href=\"https://www.geeksforgeeks.org/binary-search/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>so the edited version of your code to make it work with binary algorithm is as follows :</p>\n<pre><code>import javax.swing.*;\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n      int[][] matrix =\n                      {{0,  1,  2,  3 , 4},\n                       {5,  6,  7 , 8,  9},\n                       {10, 11, 12, 13, 14},\n                       {15, 16, 17, 18, 19},\n                       {20, 21, 22, 23, 24}};\n        System.out.println(searchMatrix(matrix, 25));\n\n    }\n    public static boolean searchMatrix(int[][] matrix, int target) {\n\n        int colL = matrix[0].length;\n        int rowL = matrix.length;\n\n        if(matrix[rowL-1][colL-1] &lt; target || matrix[0][0] &gt; target){\n            return false;\n        }\n\n        int low, high, mid;\n        // binary search for row\n        low = 0;\n        high = matrix.length-1;\n        mid = (low + high) / 2;\n        //(mid != 0) &amp;&amp;(matrix[mid][colL - 1] &gt;= target) &amp;&amp; (target &gt; matrix[mid-1][colL - 1])\n        while (low &lt;= high){\n\n            if ((mid != 0) &amp;&amp; (matrix[mid][colL - 1] &gt;= target) &amp;&amp; (target &gt; matrix[mid-1][colL - 1]))\n                break;\n\n            if (target &gt; matrix[mid][colL - 1]){\n                low = mid + 1;\n                mid = (low + high) / 2;\n            }\n            else if (target &lt; matrix[mid][colL - 1]){\n                high = mid - 1;\n                mid = (low + high) / 2;\n            }\n            else {\n                return true;\n            }\n        }\n\n        int rowNum = mid;\n\n        // binary search for column\n        low = 0;\n        high = matrix[0].length-1;\n        mid = (low + high) / 2;\n        while (low &lt;= high) {\n            if (target &gt; matrix[rowNum][mid]) {\n                low = mid + 1;\n                mid = (low + high) / 2;\n            } else if (target &lt; matrix[rowNum][mid]) {\n                high = mid - 1;\n                mid = (low + high) / 2;\n            } else {\n                return true;\n            }\n        }\n\n        return false;\n    }\n}\n</code></pre>\n<p>the time complexity of nested for loops is <strong>O(n^2)</strong> and time complexity of your code is <strong>O(n+m)</strong> which can be <strong>O(n)</strong> for simplicity , but time complexity for binary search version is <strong>O(log(n) + log (m))</strong> which can be <strong>O(log(n))</strong> for simplicity because every loop search by looking whether to loop up in the lower or upper half</p>\n"}],"owner":{"account_id":20581802,"reputation":31,"user_id":18910526,"display_name":"kmvfkmfv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661865363,"creation_date":1661862814,"question_id":73542530,"body_markdown":"I came up with this solution for a problem where I need to search for a value, target, in a left-to-right ordered matrix. To avoided a nested loop I instead did 2 separate loops, one to find the row to search, the other to find the element in that row. Is this an efficient solution?\r\n\r\n\r\n         public boolean searchMatrix(int[][] matrix, int target) {\r\n\r\n    int colL = matrix[0].length;\r\n    int rowL = matrix.length;\r\n    int i;\r\n\r\n    if(matrix[rowL-1][colL-1] &lt; target || matrix[0][0] &gt; target){\r\n    return false;\r\n    }\r\n\r\n    for(i=0; i&lt;rowL; i++) {\r\n    if (matrix[i][colL - 1] &gt;= target) {\r\n        break; // if the target is less then the highest value of the row, then it must be in this row\r\n    }\r\n    }\r\n\r\n    for (int x = 0; x &lt; colL; x++) {\r\n        if (matrix[i][x] == target) { \r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}","title":"Searching for a value in an ordered 2D matrix","body":"<p>I came up with this solution for a problem where I need to search for a value, target, in a left-to-right ordered matrix. To avoided a nested loop I instead did 2 separate loops, one to find the row to search, the other to find the element in that row. Is this an efficient solution?</p>\n<pre><code>     public boolean searchMatrix(int[][] matrix, int target) {\n\nint colL = matrix[0].length;\nint rowL = matrix.length;\nint i;\n\nif(matrix[rowL-1][colL-1] &lt; target || matrix[0][0] &gt; target){\nreturn false;\n}\n\nfor(i=0; i&lt;rowL; i++) {\nif (matrix[i][colL - 1] &gt;= target) {\n    break; // if the target is less then the highest value of the row, then it must be in this row\n}\n}\n\nfor (int x = 0; x &lt; colL; x++) {\n    if (matrix[i][x] == target) { \n        return true;\n    }\n}\n\nreturn false;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","filesystems","minio"],"comments":[{"owner":{"account_id":14787039,"reputation":5673,"user_id":10678955,"display_name":"root"},"score":0,"creation_date":1662262770,"post_id":73542606,"comment_id":129963896,"body_markdown":"Is there any reason why the app couldn&#39;t just run MinIO locally on the same PC when it starts up?","body":"Is there any reason why the app couldn&#39;t just run MinIO locally on the same PC when it starts up?"},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1662379216,"post_id":73542606,"comment_id":129985537,"body_markdown":"@root In such a case it will be considered as an undesired resource consumption.","body":"@root In such a case it will be considered as an undesired resource consumption."}],"answers":[{"tags":[],"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661864938,"creation_date":1661864938,"answer_id":73543011,"question_id":73542606,"body_markdown":"The correct way would be to implement an abstraction over the MinioClient, something like `StorageService`\r\n\r\n    public interface StorageService {\r\n       void makeBucket();\r\n       void listBuckets();\r\n       ....\r\n    }\r\n\r\nand have an implementation for Minio\r\n\r\n    public class MinioStorageService {\r\n       public MinioStorageService(MinioClient client) { ... }\r\n       public void makeBucket() { client.xxx(); }\r\n       public void listBuckets() { client.xxx(); }\r\n       ....\r\n    }\r\n\r\nand an implementation for local file system\r\n\r\n    public class LocalFilesystemStorageService {\r\n       public LocalFilesystemStorageService() { ... }\r\n       public void makeBucket() { ... use file system ... }\r\n       public void listBuckets() { ... use file system ... }\r\n       ....\r\n    }\r\n\r\nIn your code you should now be using `StorageService` everywhere\r\n\r\n    public class MyAppService {\r\n      public MyAppService(StorageService storage) { ... }\r\n\r\n      public void doSomething() { \r\n         storage.listBuckets(); \r\n         ...\r\n         storage.makeBucket();\r\n      }\r\n    }\r\n\r\nAnd have a configuration class that will create the right bean based on something (for example setting `myapp.storage=minio` or `myapp.storage=filesystem` when running the application)\r\n\r\n    @Configuration\r\n    public class StorageConfiguration {\r\n      \r\n      @Bean\r\n      @ConditionalOnProperty(prefix = &quot;myapp&quot;, name = &quot;storage&quot;, havingValue = &quot;minio&quot;)\r\n      public StorageService minioStorageService(MinioClient client) {\r\n        return new MinioStorageService(client);\r\n      }\r\n\r\n      @Bean\r\n      @ConditionalOnProperty(prefix = &quot;myapp&quot;, name = &quot;storage&quot;, havingValue = &quot;filesystem&quot;)\r\n      public StorageService filesystemStorageService() {\r\n        return new FilesystemStorageService();\r\n      }\r\n    }\r\n\r\n\r\nNow when you run the app `java -jar myapp.jar --myapp.storage=filesystem` you are in local file system mode and if you run with `java -jar myapp.jar --myapp.storage=minio` you&#39;re working with Minio.\r\n   ","title":"Using local file system instead of remote MinIO storage","body":"<p>The correct way would be to implement an abstraction over the MinioClient, something like <code>StorageService</code></p>\n<pre><code>public interface StorageService {\n   void makeBucket();\n   void listBuckets();\n   ....\n}\n</code></pre>\n<p>and have an implementation for Minio</p>\n<pre><code>public class MinioStorageService {\n   public MinioStorageService(MinioClient client) { ... }\n   public void makeBucket() { client.xxx(); }\n   public void listBuckets() { client.xxx(); }\n   ....\n}\n</code></pre>\n<p>and an implementation for local file system</p>\n<pre><code>public class LocalFilesystemStorageService {\n   public LocalFilesystemStorageService() { ... }\n   public void makeBucket() { ... use file system ... }\n   public void listBuckets() { ... use file system ... }\n   ....\n}\n</code></pre>\n<p>In your code you should now be using <code>StorageService</code> everywhere</p>\n<pre><code>public class MyAppService {\n  public MyAppService(StorageService storage) { ... }\n\n  public void doSomething() { \n     storage.listBuckets(); \n     ...\n     storage.makeBucket();\n  }\n}\n</code></pre>\n<p>And have a configuration class that will create the right bean based on something (for example setting <code>myapp.storage=minio</code> or <code>myapp.storage=filesystem</code> when running the application)</p>\n<pre><code>@Configuration\npublic class StorageConfiguration {\n  \n  @Bean\n  @ConditionalOnProperty(prefix = &quot;myapp&quot;, name = &quot;storage&quot;, havingValue = &quot;minio&quot;)\n  public StorageService minioStorageService(MinioClient client) {\n    return new MinioStorageService(client);\n  }\n\n  @Bean\n  @ConditionalOnProperty(prefix = &quot;myapp&quot;, name = &quot;storage&quot;, havingValue = &quot;filesystem&quot;)\n  public StorageService filesystemStorageService() {\n    return new FilesystemStorageService();\n  }\n}\n</code></pre>\n<p>Now when you run the app <code>java -jar myapp.jar --myapp.storage=filesystem</code> you are in local file system mode and if you run with <code>java -jar myapp.jar --myapp.storage=minio</code> you're working with Minio.</p>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661864938,"creation_date":1661863193,"question_id":73542606,"body_markdown":"There is a **Spring Boot** based application that uses an external **MinIO** storage.\r\nAccording to the latest requirement the app should also run on a PC that won&#39;t have a connection to a MinIO storage. It should use **local file system** instead. Running a MinIO docker container on the PC isn&#39;t allowed.\r\n\r\nCurrently the app has the following configuration for the MinIO client\r\n\r\n    @Configuration\r\n    public class MinioClientConfiguration {\r\n    \r\n        @Bean\r\n        public MinioClient minioClient(@Value(&quot;${company.config.minio.host}&quot;) String host,\r\n                                       @Value(&quot;${company.config.minio.access-key}&quot;) String accessKey,\r\n                                       @Value(&quot;${company.config.minio.secret-key}&quot;) String secretKey,\r\n                                       @Value(&quot;${company.config.minio.region}&quot;) String region,\r\n                                       @Value(&quot;${company.config.minio.connection-timeout:10s}&quot;) Duration connectTimeout,\r\n                                       @Value(&quot;${company.config.minio.read-timeout:30s}&quot;) Duration readTimeout,\r\n                                       @Value(&quot;${company.config.minio.write-timeout:30s}&quot;) Duration writeTimeout\r\n        ) {\r\n            final var okHttpClient = new OkHttpClient.Builder()\r\n                .connectTimeout(connectTimeout)\r\n                .readTimeout(readTimeout)\r\n                .writeTimeout(writeTimeout)\r\n                .build();\r\n    \r\n            return MinioClient.builder()\r\n                              .endpoint(host)\r\n                              .region(region)\r\n                              .httpClient(okHttpClient)\r\n                              .credentials(accessKey, secretKey)\r\n                              .build();\r\n        }\r\n    \r\n    }\r\n\r\nand uses it for bucket creation, file upload, etc.\r\n\r\n    minioClient.makeBucket(...)\r\n    minioClient.uploadObject(...)\r\n    minioClient.listBuckets(...)\r\n    ...\r\n\r\nMy first thought was to extend the MinioClient and override its methods, that would work with local file system. Something like that:\r\n\r\n    class LocalStorageMinioClient extends MinioClient {\r\n    \r\n    \t\tprotected LocalStorageMinioClient(MinioClient client) {\r\n    \t\t\t\tsuper(client);\r\n    \t\t}\r\n    }\r\n\r\nAnd the app would have an option that would allow users to switch the implementation.\r\nBut I&#39;m concerned about the amount of work related to overriding/implementation.\r\n\r\nAre there any other solutions?\r\n","title":"Using local file system instead of remote MinIO storage","body":"<p>There is a <strong>Spring Boot</strong> based application that uses an external <strong>MinIO</strong> storage.\nAccording to the latest requirement the app should also run on a PC that won't have a connection to a MinIO storage. It should use <strong>local file system</strong> instead. Running a MinIO docker container on the PC isn't allowed.</p>\n<p>Currently the app has the following configuration for the MinIO client</p>\n<pre><code>@Configuration\npublic class MinioClientConfiguration {\n\n    @Bean\n    public MinioClient minioClient(@Value(&quot;${company.config.minio.host}&quot;) String host,\n                                   @Value(&quot;${company.config.minio.access-key}&quot;) String accessKey,\n                                   @Value(&quot;${company.config.minio.secret-key}&quot;) String secretKey,\n                                   @Value(&quot;${company.config.minio.region}&quot;) String region,\n                                   @Value(&quot;${company.config.minio.connection-timeout:10s}&quot;) Duration connectTimeout,\n                                   @Value(&quot;${company.config.minio.read-timeout:30s}&quot;) Duration readTimeout,\n                                   @Value(&quot;${company.config.minio.write-timeout:30s}&quot;) Duration writeTimeout\n    ) {\n        final var okHttpClient = new OkHttpClient.Builder()\n            .connectTimeout(connectTimeout)\n            .readTimeout(readTimeout)\n            .writeTimeout(writeTimeout)\n            .build();\n\n        return MinioClient.builder()\n                          .endpoint(host)\n                          .region(region)\n                          .httpClient(okHttpClient)\n                          .credentials(accessKey, secretKey)\n                          .build();\n    }\n\n}\n</code></pre>\n<p>and uses it for bucket creation, file upload, etc.</p>\n<pre><code>minioClient.makeBucket(...)\nminioClient.uploadObject(...)\nminioClient.listBuckets(...)\n...\n</code></pre>\n<p>My first thought was to extend the MinioClient and override its methods, that would work with local file system. Something like that:</p>\n<pre><code>class LocalStorageMinioClient extends MinioClient {\n\n        protected LocalStorageMinioClient(MinioClient client) {\n                super(client);\n        }\n}\n</code></pre>\n<p>And the app would have an option that would allow users to switch the implementation.\nBut I'm concerned about the amount of work related to overriding/implementation.</p>\n<p>Are there any other solutions?</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661864849,"creation_date":1661864849,"answer_id":73542995,"question_id":73542717,"body_markdown":"Just pass the variable to where you use the fragment:\r\n\r\n```\r\n&lt;div th:replace=&quot;fragments/fragments :: comments(${AllComments})&quot; /&gt;\r\n```","title":"Thymeleaf - parametrized fragment - how send data from template, to layout and then to fragment?","body":"<p>Just pass the variable to where you use the fragment:</p>\n<pre><code>&lt;div th:replace=&quot;fragments/fragments :: comments(${AllComments})&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":26198128,"reputation":3,"user_id":19878954,"display_name":"LuckyLuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73542995,"answer_count":1,"score":0,"last_activity_date":1661864849,"creation_date":1661863640,"question_id":73542717,"body_markdown":"please, I want ask something about parametrized fragments in Thymeleaf.\r\nI have homepage.html , it is thymeleaf template to which I am sending Model model by Controller (Java, Spring). this model has this value: &quot;AllComments: listOfComments&quot;.\r\nlistOfComments is varirable of type List&lt;Comments&gt; with Comment objects in.\r\n\r\nI want to use this &quot;AllComments&quot; variable in fragment &quot;comment&quot;. (to print table). How can I send this variable from homepage.html through layout.html to fragment in fragments.html ? Thank you for answer.\r\n\r\n\r\n\r\n   ```\r\n&lt;!-- \r\n    folder : ..../templates \r\n    homepage.html\r\nto this template i am sending Model model with: &quot;AllComments: listOfComments&quot;.\r\nlistOfComments is varirable of type List&lt;Comments&gt; with Comment objects in.\r\n--&gt;\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;~{layout/layoutPage.html}&quot;\r\n      lang=&quot;sk&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;My Page&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;main layout:fragment=&quot;content&quot;&gt;\r\n\r\n&lt;/main&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n&lt;!-- \r\n    folder: ..../layout\r\n    layoutPage.html  --&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;sk&quot;\r\n          xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n    \r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n        \r\n    &lt;main layout:fragment=&quot;content&quot;&gt;&lt;/main&gt;\r\n    \r\n    &lt;div th:replace=&quot;fragments/fragments :: comments&quot; /&gt;\r\n       \r\n    &lt;footer th:replace=&quot;fragments/fragments :: footer&quot; /&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n    &lt;!-- \r\n        folder: ..../fragments\r\n        fragments.html --&gt;\r\n        &lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;sk&quot;&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n&lt;!--fragment footer--&gt;\r\n&lt;footer th:fragment=&quot;footer&quot;&gt;\r\n    &lt;hr&gt;\r\n    &lt;p&gt;Footer: xxx&lt;/p&gt;\r\n    &lt;hr&gt;\r\n&lt;/footer&gt;\r\n\r\n&lt;!--fragment comment--&gt;\r\n\r\n&lt;div th:fragment=&quot;comments(AllComments)&quot;&gt;\r\n\r\n    &lt;table class=&quot;comments&quot;&gt;\r\n        &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt; Username &lt;/th&gt;\r\n            &lt;th&gt; Comment &lt;/th&gt;\r\n            &lt;th&gt; Commented On&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n        &lt;tr th:if=&quot;${AllComments.empty}&quot;&gt;\r\n            &lt;td colspan=&quot;2&quot;&gt; No Comments Available &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr th:each=&quot;item : ${AllComments}&quot;&gt;\r\n            &lt;td&gt;&lt;span th:text=&quot;${item.username}&quot;&gt; &lt;/span&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;span th:text=&quot;${item.comment}&quot;&gt;  &lt;/span&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;span th:text=&quot;${item.commentedOn}&quot;&gt; &lt;/span&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Thymeleaf - parametrized fragment - how send data from template, to layout and then to fragment?","body":"<p>please, I want ask something about parametrized fragments in Thymeleaf.\nI have homepage.html , it is thymeleaf template to which I am sending Model model by Controller (Java, Spring). this model has this value: &quot;AllComments: listOfComments&quot;.\nlistOfComments is varirable of type List with Comment objects in.</p>\n<p>I want to use this &quot;AllComments&quot; variable in fragment &quot;comment&quot;. (to print table). How can I send this variable from homepage.html through layout.html to fragment in fragments.html ? Thank you for answer.</p>\n<pre><code>&lt;!-- \n folder : ..../templates \n homepage.html\nto this template i am sending Model model with: &quot;AllComments: listOfComments&quot;.\nlistOfComments is varirable of type List&lt;Comments&gt; with Comment objects in.\n--&gt;\n&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;\n   xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n   layout:decorate=&quot;~{layout/layoutPage.html}&quot;\n   lang=&quot;sk&quot;&gt;\n&lt;head&gt;\n &lt;title&gt;My Page&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;main layout:fragment=&quot;content&quot;&gt;\n\n&lt;/main&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;!-- \n folder: ..../layout\n layoutPage.html  --&gt;\n &lt;!DOCTYPE html&gt;\n &lt;html lang=&quot;sk&quot;\n       xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n       xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n &lt;head&gt;\n     &lt;meta charset=&quot;UTF-8&quot; /&gt;\n     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n \n &lt;/head&gt;\n \n &lt;body&gt;\n     \n &lt;main layout:fragment=&quot;content&quot;&gt;&lt;/main&gt;\n \n &lt;div th:replace=&quot;fragments/fragments :: comments&quot; /&gt;\n    \n &lt;footer th:replace=&quot;fragments/fragments :: footer&quot; /&gt;\n &lt;/body&gt;\n &lt;/html&gt;\n\n &lt;!-- \n     folder: ..../fragments\n     fragments.html --&gt;\n     &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;sk&quot;&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n &lt;meta charset=&quot;UTF-8&quot;&gt;\n &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n\n\n\n\n\n&lt;!--fragment footer--&gt;\n&lt;footer th:fragment=&quot;footer&quot;&gt;\n &lt;hr&gt;\n &lt;p&gt;Footer: xxx&lt;/p&gt;\n &lt;hr&gt;\n&lt;/footer&gt;\n\n&lt;!--fragment comment--&gt;\n\n&lt;div th:fragment=&quot;comments(AllComments)&quot;&gt;\n\n &lt;table class=&quot;comments&quot;&gt;\n     &lt;thead&gt;\n     &lt;tr&gt;\n         &lt;th&gt; Username &lt;/th&gt;\n         &lt;th&gt; Comment &lt;/th&gt;\n         &lt;th&gt; Commented On&lt;/th&gt;\n     &lt;/tr&gt;\n     &lt;/thead&gt;\n     &lt;tbody&gt;\n     &lt;tr th:if=&quot;${AllComments.empty}&quot;&gt;\n         &lt;td colspan=&quot;2&quot;&gt; No Comments Available &lt;/td&gt;\n     &lt;/tr&gt;\n     &lt;tr th:each=&quot;item : ${AllComments}&quot;&gt;\n         &lt;td&gt;&lt;span th:text=&quot;${item.username}&quot;&gt; &lt;/span&gt;&lt;/td&gt;\n         &lt;td&gt;&lt;span th:text=&quot;${item.comment}&quot;&gt;  &lt;/span&gt;&lt;/td&gt;\n         &lt;td&gt;&lt;span th:text=&quot;${item.commentedOn}&quot;&gt; &lt;/span&gt;&lt;/td&gt;\n     &lt;/tr&gt;\n     &lt;/tbody&gt;\n &lt;/table&gt;\n&lt;/div&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","oracle-sqldeveloper"],"comments":[{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1636896444,"post_id":69963011,"comment_id":123674512,"body_markdown":"Seems to be a Java bug. I&#39;ve seen some folks have luck with Java 17 on Monterrey","body":"Seems to be a Java bug. I&#39;ve seen some folks have luck with Java 17 on Monterrey"},{"owner":{"account_id":4629352,"reputation":1435,"user_id":3752293,"accept_rate":57,"display_name":"Umair Iqbal"},"score":0,"creation_date":1638269176,"post_id":69963011,"comment_id":124037858,"body_markdown":"how i resolved this issue, I updated the java with OpenJDK. openJDK mostly Fixes the crashes..","body":"how i resolved this issue, I updated the java with OpenJDK. openJDK mostly Fixes the crashes.."}],"answers":[{"tags":[],"owner":{"account_id":4629352,"reputation":1435,"user_id":3752293,"accept_rate":57,"display_name":"Umair Iqbal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643694723,"creation_date":1643693942,"answer_id":70936000,"question_id":69963011,"body_markdown":"My Java Applications were crashing on Monterey OS. When Updated to OpenJDK (1.8) it resolved the Issue.\r\n\r\nSeems like OpenJDK Resolved issues of Crashes on Monterey.\r\n[Reference Link:][1]\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8257192","title":"Sql Developer almost instantly crashes on Mac OS Monterey","body":"<p>My Java Applications were crashing on Monterey OS. When Updated to OpenJDK (1.8) it resolved the Issue.</p>\n<p>Seems like OpenJDK Resolved issues of Crashes on Monterey.\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8257192\" rel=\"nofollow noreferrer\">Reference Link:</a></p>\n"},{"tags":[],"owner":{"account_id":26198521,"reputation":11,"user_id":19879303,"display_name":"Zepherusbane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661864784,"creation_date":1661864748,"answer_id":73542969,"question_id":69963011,"body_markdown":"I realize this question is a bit old, however, I just upgraded to Monterey a couple of weeks ago and experienced the same issue.  I suspect others might also have delayed the upgrade as I did.\r\n\r\nIn the application configuration directory in the person’s home directory, update this SQL Developer configuration file.  Note, that your version could vary depending on when you downloaded and installed it. \r\n\r\n    vi $HOME/.sqldeveloper/20.4.1/product.conf\r\n\r\nUncomment the line which assigns a specific amount of memory to the jvm by removing the comment (#).\r\n\r\n    #AddVMOption -Xms128m\r\n\r\n \r\nThis stopped the crashing for me with version 20.4.1, it likely will work with other versions.\r\n ","title":"Sql Developer almost instantly crashes on Mac OS Monterey","body":"<p>I realize this question is a bit old, however, I just upgraded to Monterey a couple of weeks ago and experienced the same issue.  I suspect others might also have delayed the upgrade as I did.</p>\n<p>In the application configuration directory in the person’s home directory, update this SQL Developer configuration file.  Note, that your version could vary depending on when you downloaded and installed it.</p>\n<pre><code>vi $HOME/.sqldeveloper/20.4.1/product.conf\n</code></pre>\n<p>Uncomment the line which assigns a specific amount of memory to the jvm by removing the comment (#).</p>\n<pre><code>#AddVMOption -Xms128m\n</code></pre>\n<p>This stopped the crashing for me with version 20.4.1, it likely will work with other versions.</p>\n"}],"owner":{"account_id":19513471,"reputation":11,"user_id":17409804,"display_name":"niesamowityrycerz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661864784,"creation_date":1636893142,"question_id":69963011,"body_markdown":"So I installed Sql Developer(version: 21.2.1) for Mac OS Monterey. No problems here. From https://www.oracle.com/tools/downloads/sqldev-downloads.html I know that I need JDK version 8 or 11. I tried both but I stil can&#39;t work with Sql Developer. When I click Sql Developer icon I see loading screen, then the main window but after a couple of seconds the app closes and a new window pops out with this message(actually there is more thread-like messages). \r\n\r\n\r\n    Translated Report (Full Report Below)\r\n\r\n    Process:               java [73185]\r\n    Path:                  /Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home/bin/java\r\n    Identifier:            java\r\n    Version:               ???\r\n    Code Type:             X86-64 (Native)\r\n    Parent Process:        Exited process [72711]\r\n    User ID:               501\r\n \r\n    Date/Time:             2021-11-14 13:12:19.2730 +0100\r\n    OS Version:            macOS 12.0.1 (21A559)\r\n    Report Version:        12\r\n    Anonymous UUID:        42C17E3D-C7E1-9FAC-5295-1E81AB3069AF\r\n  \r\n    Sleep/Wake UUID:       5AB9D3A9-910B-47AB-9BF2-ED672A3D5267\r\n \r\n    Time Awake Since Boot: 90000 seconds\r\n    Time Since Wake:       5059 seconds\r\n\r\n    System Integrity Protection: enabled\r\n\r\n    Crashed Thread:        48  Java: Thread-18\r\n\r\n    Exception Type:        EXC_CRASH (SIGABRT)\r\n    Exception Codes:       0x0000000000000000, 0x0000000000000000\r\n    Exception Note:        EXC_CORPSE_NOTIFY\r\n\r\n    Application Specific Information:\r\n    abort() called\r\n\r\n    Thread 0:: AppKit Thread Dispatch queue: com.apple.main-thread\r\n    0   libsystem_kernel.dylib        \t    0x7ff81fd57aba mach_msg_trap + 10\r\n    1   libsystem_kernel.dylib        \t    0x7ff81fd57e2b mach_msg + 59\r\n    2   CoreFoundation                \t    0x7ff81fe5ba42 __CFRunLoopServiceMachPort +     319\r\n    3   CoreFoundation                \t    0x7ff81fe5a11b __CFRunLoopRun + 1325\r\n    4   CoreFoundation                \t    0x7ff81fe5952d CFRunLoopRunSpecific + 563\r\n    5   HIToolbox                     \t    0x7ff828a773e1 RunCurrentEventLoopInMode + 292\r\n    6   HIToolbox                     \t    0x7ff828a77137 ReceiveNextEventCommon + 587\r\n    7   HIToolbox                     \t    0x7ff828a76ed5     _BlockUntilNextEventMatchingListInModeWithFilter + 70\r\n    8   AppKit                        \t    0x7ff8228848f0 _DPSNextEvent + 886\r\n    9   AppKit                        \t    0x7ff822882f5c -[NSApplication(NSEvent) \r\n\r\nI can&#39;t figure it out on my own. As I said, I tried running Sql Developer with JDK version 8 and 11. I specified which version Sql Developer should use by adding **SetJavaHome /Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home** in product.conf\r\n\r\nThanks in advance!","title":"Sql Developer almost instantly crashes on Mac OS Monterey","body":"<p>So I installed Sql Developer(version: 21.2.1) for Mac OS Monterey. No problems here. From <a href=\"https://www.oracle.com/tools/downloads/sqldev-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/tools/downloads/sqldev-downloads.html</a> I know that I need JDK version 8 or 11. I tried both but I stil can't work with Sql Developer. When I click Sql Developer icon I see loading screen, then the main window but after a couple of seconds the app closes and a new window pops out with this message(actually there is more thread-like messages).</p>\n<pre><code>Translated Report (Full Report Below)\n\nProcess:               java [73185]\nPath:                  /Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home/bin/java\nIdentifier:            java\nVersion:               ???\nCode Type:             X86-64 (Native)\nParent Process:        Exited process [72711]\nUser ID:               501\n\nDate/Time:             2021-11-14 13:12:19.2730 +0100\nOS Version:            macOS 12.0.1 (21A559)\nReport Version:        12\nAnonymous UUID:        42C17E3D-C7E1-9FAC-5295-1E81AB3069AF\n\nSleep/Wake UUID:       5AB9D3A9-910B-47AB-9BF2-ED672A3D5267\n\nTime Awake Since Boot: 90000 seconds\nTime Since Wake:       5059 seconds\n\nSystem Integrity Protection: enabled\n\nCrashed Thread:        48  Java: Thread-18\n\nException Type:        EXC_CRASH (SIGABRT)\nException Codes:       0x0000000000000000, 0x0000000000000000\nException Note:        EXC_CORPSE_NOTIFY\n\nApplication Specific Information:\nabort() called\n\nThread 0:: AppKit Thread Dispatch queue: com.apple.main-thread\n0   libsystem_kernel.dylib              0x7ff81fd57aba mach_msg_trap + 10\n1   libsystem_kernel.dylib              0x7ff81fd57e2b mach_msg + 59\n2   CoreFoundation                      0x7ff81fe5ba42 __CFRunLoopServiceMachPort +     319\n3   CoreFoundation                      0x7ff81fe5a11b __CFRunLoopRun + 1325\n4   CoreFoundation                      0x7ff81fe5952d CFRunLoopRunSpecific + 563\n5   HIToolbox                           0x7ff828a773e1 RunCurrentEventLoopInMode + 292\n6   HIToolbox                           0x7ff828a77137 ReceiveNextEventCommon + 587\n7   HIToolbox                           0x7ff828a76ed5     _BlockUntilNextEventMatchingListInModeWithFilter + 70\n8   AppKit                              0x7ff8228848f0 _DPSNextEvent + 886\n9   AppKit                              0x7ff822882f5c -[NSApplication(NSEvent) \n</code></pre>\n<p>I can't figure it out on my own. As I said, I tried running Sql Developer with JDK version 8 and 11. I specified which version Sql Developer should use by adding <strong>SetJavaHome /Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home</strong> in product.conf</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","jackson"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1661845548,"post_id":73538638,"comment_id":129861732,"body_markdown":"Can you add an example input and output?","body":"Can you add an example input and output?"},{"owner":{"account_id":6834642,"reputation":646,"user_id":5257140,"display_name":"Benoit Verhaeghe"},"score":0,"creation_date":1661846131,"post_id":73538638,"comment_id":129861936,"body_markdown":"Updated with an example of instantiated code in Java, and the desired output","body":"Updated with an example of instantiated code in Java, and the desired output"},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1661846485,"post_id":73538638,"comment_id":129862069,"body_markdown":"I am not able to understand the question fully. But if I understand it correctly you want some of the properties of the class to be not present in the output. Is this correct? Also, you want some kind of client input to tell you want all property they want?","body":"I am not able to understand the question fully. But if I understand it correctly you want some of the properties of the class to be not present in the output. Is this correct? Also, you want some kind of client input to tell you want all property they want?"},{"owner":{"account_id":6834642,"reputation":646,"user_id":5257140,"display_name":"Benoit Verhaeghe"},"score":0,"creation_date":1661846657,"post_id":73538638,"comment_id":129862145,"body_markdown":"Exactly. \nMy client tells to the server -&gt; I want these properties. And the server can thus filter the output to send only the required properties to the client","body":"Exactly.  My client tells to the server -&gt; I want these properties. And the server can thus filter the output to send only the required properties to the client"}],"answers":[{"tags":[],"owner":{"account_id":17858311,"reputation":11,"user_id":12972416,"display_name":"Pranav B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661850462,"creation_date":1661850462,"answer_id":73539832,"question_id":73538638,"body_markdown":"Spring boot dynamic filtering concept should help in this case. Modify the return type of the method recupererPESRetourDepuisPlateformeBLES() to MappingJacksonValue . Here are the code changes needed to be made: \r\n\r\n    \r\n    import com.fasterxml.jackson.databind.ser.FilterProvider;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n    \r\n    public SomeClass {\r\n        @RequestMapping(path = &quot;/mapping&quot;, method = RequestMethod.POST)\r\n        public MappingJacksonValue recupererPESRetourDepuisPlateformeBLES()\r\n            SimpleBeanPropertyFilter propertyFilter = SimpleBeanPropertyFilter.filterOutAllExcept(&quot;s&quot;);\r\n            FilterProvider filterProvider = new SimpleFilterProvider().addFilter(&quot;dynamicFilter&quot;, propertyFilter);\r\n    \r\n    \r\n            B b = new B();\r\n            b.setD(1d);\r\n            b.setS(&quot;someString&quot;);\r\n    \r\n            A a = new A();\r\n            a.setA(1);\r\n            a.setB(b);\r\n    \r\n            MappingJacksonValue value = new MappingJacksonValue(a);\r\n            value.setFilters(filterProvider);\r\n            return value;\r\n        }\r\n    }\r\n\r\nAnnotate the target Response class with @JsonFilter like below\r\n\r\n    import com.fasterxml.jackson.annotation.JsonFilter;   \r\n    @JsonFilter(&quot;dynamicFilter&quot;)\r\n    public class B {\r\n        double d;\r\n        String s;\r\n    \r\n        public B() {\r\n        }\r\n    }\r\n\r\nHope. This should solve the problem.","title":"Specify jackson writter schema","body":"<p>Spring boot dynamic filtering concept should help in this case. Modify the return type of the method recupererPESRetourDepuisPlateformeBLES() to MappingJacksonValue . Here are the code changes needed to be made:</p>\n<pre><code>import com.fasterxml.jackson.databind.ser.FilterProvider;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\n\npublic SomeClass {\n    @RequestMapping(path = &quot;/mapping&quot;, method = RequestMethod.POST)\n    public MappingJacksonValue recupererPESRetourDepuisPlateformeBLES()\n        SimpleBeanPropertyFilter propertyFilter = SimpleBeanPropertyFilter.filterOutAllExcept(&quot;s&quot;);\n        FilterProvider filterProvider = new SimpleFilterProvider().addFilter(&quot;dynamicFilter&quot;, propertyFilter);\n\n\n        B b = new B();\n        b.setD(1d);\n        b.setS(&quot;someString&quot;);\n\n        A a = new A();\n        a.setA(1);\n        a.setB(b);\n\n        MappingJacksonValue value = new MappingJacksonValue(a);\n        value.setFilters(filterProvider);\n        return value;\n    }\n}\n</code></pre>\n<p>Annotate the target Response class with @JsonFilter like below</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonFilter;   \n@JsonFilter(&quot;dynamicFilter&quot;)\npublic class B {\n    double d;\n    String s;\n\n    public B() {\n    }\n}\n</code></pre>\n<p>Hope. This should solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661864720,"creation_date":1661856183,"answer_id":73541113,"question_id":73538638,"body_markdown":"I assume that you want to be able to do deep filtering ( be able to filter based on properties of classes A and B). To achieve that you can use following filter:\r\n\r\n    package com.example.demo.filter;\r\n    \r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.JsonStreamContext;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.introspect.Annotated;\r\n    import com.fasterxml.jackson.databind.introspect.AnnotationIntrospectorPair;\r\n    import com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\r\n    import com.fasterxml.jackson.databind.ser.PropertyFilter;\r\n    import com.fasterxml.jackson.databind.ser.PropertyWriter;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n    import com.fasterxml.jackson.databind.type.TypeFactory;\r\n    import com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector;\r\n    \r\n    import java.util.Set;\r\n    \r\n    /**\r\n     * Sample filtering fields durring json marshalling.\r\n     */\r\n    public class JSON {\r\n    \r\n        private static final String DEFAULT_FILTER = &quot;__default&quot;;\r\n        private static final String DOT = &quot;.&quot;;\r\n    \r\n        private static final ObjectMapper MAPPER = new ObjectMapper().setAnnotationIntrospector(\r\n                new AnnotationIntrospectorPair(\r\n                        new FilteringAnnotationInpector(), new JaxbAnnotationIntrospector(TypeFactory.defaultInstance())\r\n                )\r\n        );\r\n    \r\n        public static String asString(Object object, Set&lt;String&gt; fields) {\r\n            PropertyFilter filter = filter(fields);\r\n            SimpleFilterProvider provider = new SimpleFilterProvider();\r\n            provider.addFilter(DEFAULT_FILTER, filter);\r\n            try {\r\n                return MAPPER.writer(provider).writeValueAsString(object);\r\n            } catch (JsonProcessingException ex) {\r\n                throw new RuntimeException(&quot;failed to marshall&quot;, ex);\r\n            }\r\n        }\r\n    \r\n        private static PropertyFilter filter(Set&lt;String&gt; fields) {\r\n            PropertyFilter filter;\r\n            if (fields.size() &gt; 0) {\r\n    \r\n                filter = new DeepFieldFilter(fields);\r\n            } else {\r\n                filter = SimpleBeanPropertyFilter.serializeAll();\r\n            }\r\n            return filter;\r\n        }\r\n    \r\n        private static class FilteringAnnotationInpector extends JacksonAnnotationIntrospector {\r\n    \r\n            private static final long serialVersionUID = -8722016441050379430L;\r\n    \r\n            @Override\r\n            public String findFilterId(Annotated a) {\r\n                return DEFAULT_FILTER;\r\n            }\r\n    \r\n        }\r\n    \r\n        private static class DeepFieldFilter extends SimpleBeanPropertyFilter {\r\n    \r\n            private final Set&lt;String&gt; includes;\r\n    \r\n            private DeepFieldFilter(Set&lt;String&gt; includes) {\r\n                this.includes = includes;\r\n            }\r\n    \r\n            private String createPath(PropertyWriter writer, JsonGenerator jgen) {\r\n                StringBuilder path = new StringBuilder();\r\n                path.append(writer.getName());\r\n                JsonStreamContext sc = jgen.getOutputContext();\r\n                if (sc != null) {\r\n                    sc = sc.getParent();\r\n                }\r\n    \r\n                while (sc != null) {\r\n                    if (sc.getCurrentName() != null) {\r\n                        if (path.length() &gt; 0) {\r\n                            path.insert(0, DOT);\r\n                        }\r\n                        path.insert(0, sc.getCurrentName());\r\n                    }\r\n                    sc = sc.getParent();\r\n                }\r\n                return path.toString();\r\n            }\r\n    \r\n            @Override\r\n            public void serializeAsField(Object pojo, JsonGenerator gen, SerializerProvider provider, PropertyWriter writer)\r\n                    throws Exception {\r\n                String path = createPath(writer, gen);\r\n                if (includes.contains(path)) {\r\n                    writer.serializeAsField(pojo, gen, provider);\r\n                } else {\r\n                    writer.serializeAsOmittedField(pojo, gen, provider);\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\nHere is complete example how to use this.\r\n\r\nSo, for example, if you want to return only property `&quot;a&quot;` of object `A`, first you will create controller method like this:\r\n\r\n   \r\n\r\n     @GetMapping(&quot;/test&quot;)\r\n        public String test(@RequestBody Set&lt;String&gt; filterFields)  {\r\n    \r\n            B b = new B();\r\n            b.setD(23);\r\n            b.setS(&quot;b test&quot;);\r\n            A a = new A();\r\n            a.setA(1);\r\n            a.setB(b);\r\n    \r\n    \r\n            return JSON.asString(a, filterFields);\r\n        }\r\n\r\nAnd if you send request like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe output should be `{&quot;a&quot;:1}`\r\n\r\nIf you want to display property `b` of `A` class, with field `s`, you will send request like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd the output shoud be `{&quot;b&quot;:{&quot;s&quot;:&quot;b test&quot;}}`\r\n\r\nAs far as I can see, there is no other way to achieve what you want (using just Jackson).\r\n\r\n  [1]: https://i.stack.imgur.com/ABqL9.png\r\n  [2]: https://i.stack.imgur.com/CQyNJ.png","title":"Specify jackson writter schema","body":"<p>I assume that you want to be able to do deep filtering ( be able to filter based on properties of classes A and B). To achieve that you can use following filter:</p>\n<pre><code>package com.example.demo.filter;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.JsonStreamContext;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.introspect.Annotated;\nimport com.fasterxml.jackson.databind.introspect.AnnotationIntrospectorPair;\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\nimport com.fasterxml.jackson.databind.ser.PropertyFilter;\nimport com.fasterxml.jackson.databind.ser.PropertyWriter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\nimport com.fasterxml.jackson.databind.type.TypeFactory;\nimport com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector;\n\nimport java.util.Set;\n\n/**\n * Sample filtering fields durring json marshalling.\n */\npublic class JSON {\n\n    private static final String DEFAULT_FILTER = &quot;__default&quot;;\n    private static final String DOT = &quot;.&quot;;\n\n    private static final ObjectMapper MAPPER = new ObjectMapper().setAnnotationIntrospector(\n            new AnnotationIntrospectorPair(\n                    new FilteringAnnotationInpector(), new JaxbAnnotationIntrospector(TypeFactory.defaultInstance())\n            )\n    );\n\n    public static String asString(Object object, Set&lt;String&gt; fields) {\n        PropertyFilter filter = filter(fields);\n        SimpleFilterProvider provider = new SimpleFilterProvider();\n        provider.addFilter(DEFAULT_FILTER, filter);\n        try {\n            return MAPPER.writer(provider).writeValueAsString(object);\n        } catch (JsonProcessingException ex) {\n            throw new RuntimeException(&quot;failed to marshall&quot;, ex);\n        }\n    }\n\n    private static PropertyFilter filter(Set&lt;String&gt; fields) {\n        PropertyFilter filter;\n        if (fields.size() &gt; 0) {\n\n            filter = new DeepFieldFilter(fields);\n        } else {\n            filter = SimpleBeanPropertyFilter.serializeAll();\n        }\n        return filter;\n    }\n\n    private static class FilteringAnnotationInpector extends JacksonAnnotationIntrospector {\n\n        private static final long serialVersionUID = -8722016441050379430L;\n\n        @Override\n        public String findFilterId(Annotated a) {\n            return DEFAULT_FILTER;\n        }\n\n    }\n\n    private static class DeepFieldFilter extends SimpleBeanPropertyFilter {\n\n        private final Set&lt;String&gt; includes;\n\n        private DeepFieldFilter(Set&lt;String&gt; includes) {\n            this.includes = includes;\n        }\n\n        private String createPath(PropertyWriter writer, JsonGenerator jgen) {\n            StringBuilder path = new StringBuilder();\n            path.append(writer.getName());\n            JsonStreamContext sc = jgen.getOutputContext();\n            if (sc != null) {\n                sc = sc.getParent();\n            }\n\n            while (sc != null) {\n                if (sc.getCurrentName() != null) {\n                    if (path.length() &gt; 0) {\n                        path.insert(0, DOT);\n                    }\n                    path.insert(0, sc.getCurrentName());\n                }\n                sc = sc.getParent();\n            }\n            return path.toString();\n        }\n\n        @Override\n        public void serializeAsField(Object pojo, JsonGenerator gen, SerializerProvider provider, PropertyWriter writer)\n                throws Exception {\n            String path = createPath(writer, gen);\n            if (includes.contains(path)) {\n                writer.serializeAsField(pojo, gen, provider);\n            } else {\n                writer.serializeAsOmittedField(pojo, gen, provider);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>Here is complete example how to use this.</p>\n<p>So, for example, if you want to return only property <code>&quot;a&quot;</code> of object <code>A</code>, first you will create controller method like this:</p>\n<pre><code> @GetMapping(&quot;/test&quot;)\n    public String test(@RequestBody Set&lt;String&gt; filterFields)  {\n\n        B b = new B();\n        b.setD(23);\n        b.setS(&quot;b test&quot;);\n        A a = new A();\n        a.setA(1);\n        a.setB(b);\n\n\n        return JSON.asString(a, filterFields);\n    }\n</code></pre>\n<p>And if you send request like this:</p>\n<p><a href=\"https://i.stack.imgur.com/ABqL9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ABqL9.png\" alt=\"enter image description here\" /></a></p>\n<p>The output should be <code>{&quot;a&quot;:1}</code></p>\n<p>If you want to display property <code>b</code> of <code>A</code> class, with field <code>s</code>, you will send request like this:</p>\n<p><a href=\"https://i.stack.imgur.com/CQyNJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CQyNJ.png\" alt=\"enter image description here\" /></a></p>\n<p>And the output shoud be <code>{&quot;b&quot;:{&quot;s&quot;:&quot;b test&quot;}}</code></p>\n<p>As far as I can see, there is no other way to achieve what you want (using just Jackson).</p>\n"}],"owner":{"account_id":6834642,"reputation":646,"user_id":5257140,"display_name":"Benoit Verhaeghe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73541113,"answer_count":2,"score":0,"last_activity_date":1661864720,"creation_date":1661844389,"question_id":73538638,"body_markdown":"Is it possible to specify a schema for the writing part of Jackson with springboot.\r\n\r\nFor instance: \r\n\r\nI have two pojo classes.\r\n\r\n```java\r\nclass A {\r\n    int a;\r\n    B b;\r\n\r\n    public A() { }\r\n    \r\n    // Getter and Setter\r\n\r\n}\r\n\r\nclass B {\r\n    double d;\r\n    String s;\r\n\r\n    public B() { }\r\n    \r\n    // Getter and Setter\r\n\r\n}\r\n```\r\n\r\nAnd I have a service \r\n\r\n```java\r\n\r\npublic SomeClass {\r\n    @RequestMapping(path = &quot;/mapping&quot;, method = RequestMethod.POST)\r\n    public A recupererPESRetourDepuisPlateformeBLES()\r\n        return callToSomeMethodThatReturnsA();\r\n    }\r\n}\r\n```\r\n\r\nIs there a way to specify that for the return type I want:\r\n\r\nthe attribute `a` and `b` of my object `A` and the attribute `s` of the object `B`.\r\n\r\nI want the client to somehow send what we want to the server and the server *parses* the schema required and returns only it.\r\n\r\nI know about `@JsonIgnore` and `@JsonProperty`. \r\nI also know GraphQL but I want to stay with Jackson.\r\n\r\n**Update 1**\r\n\r\nExample:\r\n\r\nI have instantiated in Java such a structure (here represented in JSON to simplify)\r\n\r\n```json\r\n&quot;A&quot; {\r\n    &quot;a&quot;: 12,\r\n    &quot;b&quot;: {\r\n        &quot;d&quot;: 23.362,\r\n        &quot;s&quot;: &quot;Hello world&quot;\r\n    }\r\n}\r\n```\r\n\r\nAfter my request, I want the server to send to the client:\r\n\r\n```json\r\n&quot;A&quot; {\r\n    &quot;a&quot;: 12,\r\n    &quot;b&quot;: {\r\n        &quot;s&quot;: &quot;Hello world&quot;\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t know what kind of data my client can send to my server to specify the schema of data I want as output. This is part of the question.","title":"Specify jackson writter schema","body":"<p>Is it possible to specify a schema for the writing part of Jackson with springboot.</p>\n<p>For instance:</p>\n<p>I have two pojo classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    int a;\n    B b;\n\n    public A() { }\n    \n    // Getter and Setter\n\n}\n\nclass B {\n    double d;\n    String s;\n\n    public B() { }\n    \n    // Getter and Setter\n\n}\n</code></pre>\n<p>And I have a service</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic SomeClass {\n    @RequestMapping(path = &quot;/mapping&quot;, method = RequestMethod.POST)\n    public A recupererPESRetourDepuisPlateformeBLES()\n        return callToSomeMethodThatReturnsA();\n    }\n}\n</code></pre>\n<p>Is there a way to specify that for the return type I want:</p>\n<p>the attribute <code>a</code> and <code>b</code> of my object <code>A</code> and the attribute <code>s</code> of the object <code>B</code>.</p>\n<p>I want the client to somehow send what we want to the server and the server <em>parses</em> the schema required and returns only it.</p>\n<p>I know about <code>@JsonIgnore</code> and <code>@JsonProperty</code>.\nI also know GraphQL but I want to stay with Jackson.</p>\n<p><strong>Update 1</strong></p>\n<p>Example:</p>\n<p>I have instantiated in Java such a structure (here represented in JSON to simplify)</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;A&quot; {\n    &quot;a&quot;: 12,\n    &quot;b&quot;: {\n        &quot;d&quot;: 23.362,\n        &quot;s&quot;: &quot;Hello world&quot;\n    }\n}\n</code></pre>\n<p>After my request, I want the server to send to the client:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;A&quot; {\n    &quot;a&quot;: 12,\n    &quot;b&quot;: {\n        &quot;s&quot;: &quot;Hello world&quot;\n    }\n}\n</code></pre>\n<p>I don't know what kind of data my client can send to my server to specify the schema of data I want as output. This is part of the question.</p>\n"},{"tags":["java","spring","postgresql"],"answers":[{"tags":[],"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661864714,"creation_date":1661864714,"answer_id":73542964,"question_id":48902574,"body_markdown":"Default statement separator in `ResourceDatabasePopulator` is `;`. So it sends a piece of the script to the server that stops at the first encountered `;`, and the database cannot make sense of it.\r\n\r\nOverriding separator helped me to resolve the same error:\r\n\r\n    databasePopulator.setSeparator(ScriptUtils.EOF_STATEMENT_SEPARATOR);","title":"execute postgresql schema script Spring DatabasePopulator complaining Unterminated dollar quote started at position","body":"<p>Default statement separator in <code>ResourceDatabasePopulator</code> is <code>;</code>. So it sends a piece of the script to the server that stops at the first encountered <code>;</code>, and the database cannot make sense of it.</p>\n<p>Overriding separator helped me to resolve the same error:</p>\n<pre><code>databasePopulator.setSeparator(ScriptUtils.EOF_STATEMENT_SEPARATOR);\n</code></pre>\n"}],"owner":{"account_id":3215437,"reputation":496,"user_id":2714296,"accept_rate":43,"display_name":"pillesoft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1661864714,"creation_date":1519206053,"question_id":48902574,"body_markdown":"in my spring application i create many tables with Entity classes, and it works well. I use Spring with Hibernate, and the DB is PostgreSQL.\r\n\r\nthen i need some functions, so i prepare an SQL script having the function code in it. the script executes in pgAdmin as well as in netbeans database service sql window.\r\n\r\nBut it cannot be executed if i want to run the script after hibernate generates all the tables.\r\nfor that purpose i created Beans in ApplicationContext.java\r\n\r\n    @Bean\r\n    public DataSourceInitializer dataSourceInitializer() {\r\n    final DataSourceInitializer initializer = new DataSourceInitializer();\r\n    initializer.setDataSource(dataSource());\r\n    initializer.setDatabasePopulator(databasePopulator());\r\n    return initializer;\r\n    }\r\n\r\n    private DatabasePopulator databasePopulator() {\r\n    final ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\r\n    populator.addScript(schemaScript);\r\n    return populator;\r\n    }\r\n\r\nthe error i receive is \r\n\r\n    Caused by: org.postgresql.util.PSQLException: Unterminated dollar quote started at position 122 in SQL CREATE OR REPLACE FUNCTION public.populate_raw_data( source character varying, func character varying) RETURNS integer AS $BODY$ DECLARE cnt integer. Expected terminating $$\r\n\r\ni&#39;ve read several questions in SO, but nothing is helped so far. the postgresql driver in pom.xml is version 42.2.1","title":"execute postgresql schema script Spring DatabasePopulator complaining Unterminated dollar quote started at position","body":"<p>in my spring application i create many tables with Entity classes, and it works well. I use Spring with Hibernate, and the DB is PostgreSQL.</p>\n\n<p>then i need some functions, so i prepare an SQL script having the function code in it. the script executes in pgAdmin as well as in netbeans database service sql window.</p>\n\n<p>But it cannot be executed if i want to run the script after hibernate generates all the tables.\nfor that purpose i created Beans in ApplicationContext.java</p>\n\n<pre><code>@Bean\npublic DataSourceInitializer dataSourceInitializer() {\nfinal DataSourceInitializer initializer = new DataSourceInitializer();\ninitializer.setDataSource(dataSource());\ninitializer.setDatabasePopulator(databasePopulator());\nreturn initializer;\n}\n\nprivate DatabasePopulator databasePopulator() {\nfinal ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\npopulator.addScript(schemaScript);\nreturn populator;\n}\n</code></pre>\n\n<p>the error i receive is </p>\n\n<pre><code>Caused by: org.postgresql.util.PSQLException: Unterminated dollar quote started at position 122 in SQL CREATE OR REPLACE FUNCTION public.populate_raw_data( source character varying, func character varying) RETURNS integer AS $BODY$ DECLARE cnt integer. Expected terminating $$\n</code></pre>\n\n<p>i've read several questions in SO, but nothing is helped so far. the postgresql driver in pom.xml is version 42.2.1</p>\n"},{"tags":["java","java-8","jvm","permgen"],"comments":[{"owner":{"account_id":1983038,"reputation":5649,"user_id":1779136,"accept_rate":95,"display_name":"Andrew Martin"},"score":4,"creation_date":1377014519,"post_id":18339707,"comment_id":26920012,"body_markdown":"You might find this informative: http://javaeesupportpatterns.blogspot.co.uk/2013/02/java-8-from-permgen-to-metaspace.html","body":"You might find this informative: <a href=\"http://javaeesupportpatterns.blogspot.co.uk/2013/02/java-8-from-permgen-to-metaspace.html\" rel=\"nofollow noreferrer\">javaeesupportpatterns.blogspot.co.uk/2013/02/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1592334328,"creation_date":1377014388,"answer_id":18339778,"question_id":18339707,"body_markdown":"Oracle&#39;s JVM implementation for Java 8 got rid of the PermGen model and replaced it with [Metaspace][1].\r\n\r\n\r\n  [1]: https://dzone.com/articles/java-8-permgen-metaspace","title":"PermGen elimination in JDK 8","body":"<p>Oracle's JVM implementation for Java 8 got rid of the PermGen model and replaced it with <a href=\"https://dzone.com/articles/java-8-permgen-metaspace\" rel=\"nofollow noreferrer\">Metaspace</a>.</p>\n"},{"tags":[],"owner":{"account_id":5519,"reputation":70063,"user_id":8922,"accept_rate":75,"display_name":"Sebastian Redl"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1592321917,"creation_date":1377014423,"answer_id":18339797,"question_id":18339707,"body_markdown":"Because the PermGen space was removed. Memory management has changed a bit.\r\n\r\n[java-8-permgen-metaspace][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/java-8-permgen-metaspace","title":"PermGen elimination in JDK 8","body":"<p>Because the PermGen space was removed. Memory management has changed a bit.</p>\n\n<p><a href=\"https://dzone.com/articles/java-8-permgen-metaspace\" rel=\"nofollow noreferrer\">java-8-permgen-metaspace</a></p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":2,"up_vote_count":120,"is_accepted":false,"score":118,"last_activity_date":1377037114,"creation_date":1377037114,"answer_id":18345876,"question_id":18339707,"body_markdown":"This is one of the new features of Java 8, part of [JDK Enhancement Proposals 122][1]:\r\n\r\n&gt; Remove the permanent generation from the Hotspot JVM and thus the need to tune the size of the permanent generation.\r\n\r\nThe list of all the JEPs that will be included in Java 8 can be found on the [JDK8 milestones page][2].\r\n\r\n [1]: http://openjdk.java.net/jeps/122\r\n [2]: http://openjdk.java.net/projects/jdk8/milestones","title":"PermGen elimination in JDK 8","body":"<p>This is one of the new features of Java 8, part of <a href=\"http://openjdk.java.net/jeps/122\" rel=\"noreferrer\">JDK Enhancement Proposals 122</a>:</p>\n\n<blockquote>\n  <p>Remove the permanent generation from the Hotspot JVM and thus the need to tune the size of the permanent generation.</p>\n</blockquote>\n\n<p>The list of all the JEPs that will be included in Java 8 can be found on the <a href=\"http://openjdk.java.net/projects/jdk8/milestones\" rel=\"noreferrer\">JDK8 milestones page</a>.</p>\n"},{"tags":[],"owner":{"account_id":3037387,"reputation":5468,"user_id":2575134,"display_name":"pardeep131085"},"down_vote_count":1,"up_vote_count":376,"is_accepted":true,"score":375,"last_activity_date":1661864711,"creation_date":1395240916,"answer_id":22509753,"question_id":18339707,"body_markdown":"Reasons of ignoring these argument is permanent generation has been removed in HotSpot for JDK8 because of following drawbacks\r\n\r\n - Fixed size at startup – difficult to tune.\r\n - Internal Hotspot types were Java objects : Could move with full GC, opaque, not strongly typed and hard to debug, needed meta-metadata.\r\n - Simplify full collections : Special iterators for metadata for each collector\r\n - Want to deallocate class data concurrently and not during GC pause\r\n - Enable future improvements that were limited by PermGen.\r\n\r\nThe Permanent Generation (PermGen) space has completely been removed and is kind of replaced by a new space called Metaspace.\r\nThe consequences of the PermGen removal is that obviously the ***PermSize and MaxPermSize JVM arguments are ignored*** and you will never get a java.lang.OutOfMemoryError: PermGen error.\r\n\r\n**Advantages of MetaSpace**\r\n\r\n - Take advantage of Java Language Specification property : Classes and associated metadata lifetimes match class loader’s\r\n - Per loader storage area – Metaspace\r\n - Linear allocation only\r\n - No individual reclamation (except for RedefineClasses and class  loading failure)\r\n - No GC scan or compaction\r\n - No relocation for metaspace objects\r\n\r\n**Metaspace Tuning**\r\n\r\nThe maximum metaspace size can be set using the -XX:MaxMetaspaceSize flag, and the default is unlimited, which means that only your system memory is the limit. The -XX:MetaspaceSize tuning flag defines the initial size of metaspace. If you don’t specify this flag, the Metaspace will dynamically re-size depending of the application demand at runtime.\r\n\r\nChange enables other optimizations and features in the future\r\n\r\n - Application class data sharing\r\n - Young collection optimizations, G1 class unloading\r\n - Metadata size reductions and internal JVM footprint projects\r\n\r\nThere is improved GC performace also. [More Details][1] \r\n\r\n\r\n  [1]: http://java-latte.blogspot.com/2014/03/metaspace-in-java-8.html","title":"PermGen elimination in JDK 8","body":"<p>Reasons of ignoring these argument is permanent generation has been removed in HotSpot for JDK8 because of following drawbacks</p>\n<ul>\n<li>Fixed size at startup – difficult to tune.</li>\n<li>Internal Hotspot types were Java objects : Could move with full GC, opaque, not strongly typed and hard to debug, needed meta-metadata.</li>\n<li>Simplify full collections : Special iterators for metadata for each collector</li>\n<li>Want to deallocate class data concurrently and not during GC pause</li>\n<li>Enable future improvements that were limited by PermGen.</li>\n</ul>\n<p>The Permanent Generation (PermGen) space has completely been removed and is kind of replaced by a new space called Metaspace.\nThe consequences of the PermGen removal is that obviously the <em><strong>PermSize and MaxPermSize JVM arguments are ignored</strong></em> and you will never get a java.lang.OutOfMemoryError: PermGen error.</p>\n<p><strong>Advantages of MetaSpace</strong></p>\n<ul>\n<li>Take advantage of Java Language Specification property : Classes and associated metadata lifetimes match class loader’s</li>\n<li>Per loader storage area – Metaspace</li>\n<li>Linear allocation only</li>\n<li>No individual reclamation (except for RedefineClasses and class  loading failure)</li>\n<li>No GC scan or compaction</li>\n<li>No relocation for metaspace objects</li>\n</ul>\n<p><strong>Metaspace Tuning</strong></p>\n<p>The maximum metaspace size can be set using the -XX:MaxMetaspaceSize flag, and the default is unlimited, which means that only your system memory is the limit. The -XX:MetaspaceSize tuning flag defines the initial size of metaspace. If you don’t specify this flag, the Metaspace will dynamically re-size depending of the application demand at runtime.</p>\n<p>Change enables other optimizations and features in the future</p>\n<ul>\n<li>Application class data sharing</li>\n<li>Young collection optimizations, G1 class unloading</li>\n<li>Metadata size reductions and internal JVM footprint projects</li>\n</ul>\n<p>There is improved GC performace also. <a href=\"http://java-latte.blogspot.com/2014/03/metaspace-in-java-8.html\" rel=\"nofollow noreferrer\">More Details</a></p>\n"},{"tags":[],"owner":{"account_id":2782231,"reputation":736,"user_id":2394533,"display_name":"Dhrumil Shah"},"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1398933282,"creation_date":1398863042,"answer_id":23388882,"question_id":18339707,"body_markdown":"The Permanent Generation (PermGen) space has completely been removed and is kind of replaced by a new space called Metaspace.The consequences of the PermGen removal is that obviously the PermSize and MaxPermSize JVM arguments are ignored and you will never get a `java.lang.OutOfMemoryError`: PermGen error.\r\n**The JDK 8 HotSpot JVM is now using native memory for the representation of class metadata and is called Metaspace.** [Read More&gt;&gt;][1]\r\n\r\n\r\n  [1]: http://java-latte.blogspot.in/2014/03/metaspace-in-java-8.html","title":"PermGen elimination in JDK 8","body":"<p>The Permanent Generation (PermGen) space has completely been removed and is kind of replaced by a new space called Metaspace.The consequences of the PermGen removal is that obviously the PermSize and MaxPermSize JVM arguments are ignored and you will never get a <code>java.lang.OutOfMemoryError</code>: PermGen error.\n<strong>The JDK 8 HotSpot JVM is now using native memory for the representation of class metadata and is called Metaspace.</strong> <a href=\"http://java-latte.blogspot.in/2014/03/metaspace-in-java-8.html\" rel=\"noreferrer\">Read More>></a></p>\n"},{"tags":[],"owner":{"account_id":6574296,"reputation":1818,"user_id":5081033,"display_name":"Shubham Pandey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1484630262,"creation_date":1484630262,"answer_id":41689511,"question_id":18339707,"body_markdown":"PermGen space is replaced by MetaSpace in Java 8. The PermSize and MaxPermSize JVM arguments are ignored and a warning is issued if present at start-up. \r\n\r\nMost allocations for the class metadata are now allocated out of native memory.\r\n* The classes that were used to describe class metadata have been removed.\r\n\r\nMain difference between old PermGen and new MetaSpace is, you don&#39;t have to mandatory define upper limit of memory usage. You can keep MetaSpace space limit unbounded. Thus when memory usage increases you will not get OutOfMemoryError error. Instead the reserved native memory is increased to full-fill the increase memory usage. \r\n\r\nYou can define the max limit of space for MetaSpace, and then it will throw OutOfMemoryError : Metadata space. Thus it is important to define this limit cautiously, so that we can avoid memory waste.","title":"PermGen elimination in JDK 8","body":"<p>PermGen space is replaced by MetaSpace in Java 8. The PermSize and MaxPermSize JVM arguments are ignored and a warning is issued if present at start-up. </p>\n\n<p>Most allocations for the class metadata are now allocated out of native memory.\n* The classes that were used to describe class metadata have been removed.</p>\n\n<p>Main difference between old PermGen and new MetaSpace is, you don't have to mandatory define upper limit of memory usage. You can keep MetaSpace space limit unbounded. Thus when memory usage increases you will not get OutOfMemoryError error. Instead the reserved native memory is increased to full-fill the increase memory usage. </p>\n\n<p>You can define the max limit of space for MetaSpace, and then it will throw OutOfMemoryError : Metadata space. Thus it is important to define this limit cautiously, so that we can avoid memory waste.</p>\n"}],"owner":{"account_id":534774,"reputation":8305,"user_id":2696031,"accept_rate":100,"display_name":"Shamim Ahmmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200230,"favorite_count":0,"down_vote_count":1,"up_vote_count":244,"accepted_answer_id":22509753,"answer_count":6,"score":243,"last_activity_date":1661864711,"creation_date":1377014209,"question_id":18339707,"body_markdown":"I have installed JDK 8 and trying to run Eclipse. I am getting following warning message:\r\n\r\n    Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=512m;\r\n    support was removed in 8.0 \r\n\r\nWhat are the reasons for ignoring this VM option?","title":"PermGen elimination in JDK 8","body":"<p>I have installed JDK 8 and trying to run Eclipse. I am getting following warning message:</p>\n\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=512m;\nsupport was removed in 8.0 \n</code></pre>\n\n<p>What are the reasons for ignoring this VM option?</p>\n"},{"tags":["java","maven","java-8","64-bit"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1462618024,"post_id":37087530,"comment_id":61719172,"body_markdown":"What&#39;s the output of `echo %JRE_HOME%`?","body":"What&#39;s the output of <code>echo %JRE_HOME%</code>?"},{"owner":{"account_id":1034855,"reputation":1215,"user_id":1042429,"accept_rate":48,"display_name":"lives"},"score":0,"creation_date":1462618336,"post_id":37087530,"comment_id":61719251,"body_markdown":"JRE is pointing to D:\\java\\java8\\java8\\jdk1.8.0\\jre","body":"JRE is pointing to D:\\java\\java8\\java8\\jdk1.8.0\\jre"},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1462618567,"post_id":37087530,"comment_id":61719299,"body_markdown":"And what does `echo %JAVA_HOME%` say?","body":"And what does <code>echo %JAVA_HOME%</code> say?"},{"owner":{"account_id":1034855,"reputation":1215,"user_id":1042429,"accept_rate":48,"display_name":"lives"},"score":0,"creation_date":1462619980,"post_id":37087530,"comment_id":61719720,"body_markdown":"D:\\java\\java8\\java8\\jdk1.8.0","body":"D:\\java\\java8\\java8\\jdk1.8.0"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462618457,"creation_date":1462618457,"answer_id":37087656,"question_id":37087530,"body_markdown":"You are picking up the default JVM installed for web page plugins etc as it is in your PATH.  \r\n\r\nYou can put the JDK directory first in your PATH environment variable which most likely is the simplest.\r\n\r\nYou may also choose to set the environment variable JAVA_HOME to point to the JDK you want to use, either as part of your environment or by modifying the `mvn` script.\r\n\r\n","title":"maven does not use 64 bit jvm","body":"<p>You are picking up the default JVM installed for web page plugins etc as it is in your PATH.  </p>\n\n<p>You can put the JDK directory first in your PATH environment variable which most likely is the simplest.</p>\n\n<p>You may also choose to set the environment variable JAVA_HOME to point to the JDK you want to use, either as part of your environment or by modifying the <code>mvn</code> script.</p>\n"}],"owner":{"account_id":1034855,"reputation":1215,"user_id":1042429,"accept_rate":48,"display_name":"lives"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2071,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661864654,"creation_date":1462617816,"question_id":37087530,"body_markdown":"I am facing a weird issue in maven.\r\n\r\nI am running java 1.8 in 64 bit windows .\r\nWhen I run java -version I get the below message \r\n\r\n    java version &quot;1.8.0_60&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_60-b27)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)\r\n\r\nI am running maven 3.3.9 on the above jdk.\r\n\r\nWhen I run mvn -version I get the below message\r\n\r\n    Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T19:41:4\r\n    7+03:00)\r\n    Maven home: D:\\Users\\57181\\Projects\\mvn\\apache-maven-3.3.9-bin\\apache-maven-3.3.\r\n    9\r\n    Java version: 1.8.0-ea, vendor: Oracle Corporation\r\n    Java home: D:\\java\\java8\\java8\\jdk1.8.0\\jre\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;x86&quot;, family: &quot;dos&quot;\r\n\r\nHowever when I run mvn -d64 -version , I get below error\r\n\r\n    Error: This Java instance does not support a 64-bit JVM.\r\n    Please install the desired version.\r\n\r\nI need to build a very large project using maven which needs 2 GB heap.  \r\nThough my machine has 8 GB RAM , I am not able to set the heap since Maven is running in 32 bit( In the task manager , the process shows as * 32 ) \r\n\r\nHas anybody faced this issue ?  \r\n\r\nIs there any configuration needed to run maven in 64 bit JVM ? ","title":"maven does not use 64 bit jvm","body":"<p>I am facing a weird issue in maven.</p>\n<p>I am running java 1.8 in 64 bit windows .\nWhen I run java -version I get the below message</p>\n<pre><code>java version &quot;1.8.0_60&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_60-b27)\nJava HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)\n</code></pre>\n<p>I am running maven 3.3.9 on the above jdk.</p>\n<p>When I run mvn -version I get the below message</p>\n<pre><code>Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T19:41:4\n7+03:00)\nMaven home: D:\\Users\\57181\\Projects\\mvn\\apache-maven-3.3.9-bin\\apache-maven-3.3.\n9\nJava version: 1.8.0-ea, vendor: Oracle Corporation\nJava home: D:\\java\\java8\\java8\\jdk1.8.0\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;x86&quot;, family: &quot;dos&quot;\n</code></pre>\n<p>However when I run mvn -d64 -version , I get below error</p>\n<pre><code>Error: This Java instance does not support a 64-bit JVM.\nPlease install the desired version.\n</code></pre>\n<p>I need to build a very large project using maven which needs 2 GB heap.<br />\nThough my machine has 8 GB RAM , I am not able to set the heap since Maven is running in 32 bit( In the task manager , the process shows as * 32 )</p>\n<p>Has anybody faced this issue ?</p>\n<p>Is there any configuration needed to run maven in 64 bit JVM ?</p>\n"},{"tags":["java","spring-boot","ssl","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1661807850,"post_id":73534715,"comment_id":129855255,"body_markdown":"Try using `ssl.truststore.location=...` and same for password, without the `spring.kafka` prefix and see what happens.","body":"Try using <code>ssl.truststore.location=...</code> and same for password, without the <code>spring.kafka</code> prefix and see what happens."},{"owner":{"account_id":5023051,"reputation":3116,"user_id":4035943,"accept_rate":97,"display_name":"αƞjiβ"},"score":0,"creation_date":1661808034,"post_id":73534715,"comment_id":129855301,"body_markdown":"Same result without `spring.kafka` prefix too.","body":"Same result without <code>spring.kafka</code> prefix too."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1661809224,"post_id":73534715,"comment_id":129855572,"body_markdown":"The `spring.kafka` prefix is required. Are you using Boot&#39;s auto configured consumer/producer factories, or creating your own `@Bean`s for them - if the latter, you need to set those properties yourself; the `application.properties` are only applied to the auto configured factories.","body":"The <code>spring.kafka</code> prefix is required. Are you using Boot&#39;s auto configured consumer/producer factories, or creating your own <code>@Bean</code>s for them - if the latter, you need to set those properties yourself; the <code>application.properties</code> are only applied to the auto configured factories."}],"answers":[{"tags":[],"owner":{"account_id":488641,"reputation":81,"user_id":1114573,"display_name":"IUSR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661842621,"creation_date":1661842621,"answer_id":73538328,"question_id":73534715,"body_markdown":"Basically I agree with Garry Russell&#39;s comment. You have to either leverage the auto-configuration abilities, or declare a `KafkaProperties` bean, or do everything manually.\r\n\r\nRegarding the properties, it seems there are some _discrepancies_ on the names. The most precise definitions of them are in `/META-INF/spring-configuration-metadata.json` and `/META-INF/additional-spring-configuration-metadata.json` in the jar files. If you check these files, most importantly the one in Spring Boot&#39;s auto-configure jar (e.g. `spring-boot-autoconfigure-2.6.7.jar`), you&#39;ll see that some of the properties&#39; names in your file are not quite right:\r\n\r\n* `spring.kafka.bootstrap-server` should be `spring.kafka.bootstrap-servers` in plural;\r\n* `spring.kafka.ssl.keystore.location` should be `spring.kafka.ssl.key-store-location`; `spring.kafka.ssl.keystore-location` works, too, only it&#39;s deprecated.\r\n* Similarly, the rest of the properties&#39; names are: `spring.kafka.ssl.key-store-password`, `spring.kafka.ssl.trust-store-location`, and `spring.kafka.ssl.trust-store-password`.\r\n* I&#39;m not sure what `spring.kfka.topic` even with the typo corrected. You may need to double-check.\r\n\r\nThat said, apparently you got `spring.kafka.bootstrap-server` work somehow, which I cannot reproduce using the same version of libraries, so maybe you were doing them manually? That way you&#39;d have to do everything manually, e.g. via `@Value`.\r\n\r\nAlso if you want to work with files on the file system you need to specify the location using the `file:` protocol.","title":"Spring-Kafka not picking up SSL config","body":"<p>Basically I agree with Garry Russell's comment. You have to either leverage the auto-configuration abilities, or declare a <code>KafkaProperties</code> bean, or do everything manually.</p>\n<p>Regarding the properties, it seems there are some <em>discrepancies</em> on the names. The most precise definitions of them are in <code>/META-INF/spring-configuration-metadata.json</code> and <code>/META-INF/additional-spring-configuration-metadata.json</code> in the jar files. If you check these files, most importantly the one in Spring Boot's auto-configure jar (e.g. <code>spring-boot-autoconfigure-2.6.7.jar</code>), you'll see that some of the properties' names in your file are not quite right:</p>\n<ul>\n<li><code>spring.kafka.bootstrap-server</code> should be <code>spring.kafka.bootstrap-servers</code> in plural;</li>\n<li><code>spring.kafka.ssl.keystore.location</code> should be <code>spring.kafka.ssl.key-store-location</code>; <code>spring.kafka.ssl.keystore-location</code> works, too, only it's deprecated.</li>\n<li>Similarly, the rest of the properties' names are: <code>spring.kafka.ssl.key-store-password</code>, <code>spring.kafka.ssl.trust-store-location</code>, and <code>spring.kafka.ssl.trust-store-password</code>.</li>\n<li>I'm not sure what <code>spring.kfka.topic</code> even with the typo corrected. You may need to double-check.</li>\n</ul>\n<p>That said, apparently you got <code>spring.kafka.bootstrap-server</code> work somehow, which I cannot reproduce using the same version of libraries, so maybe you were doing them manually? That way you'd have to do everything manually, e.g. via <code>@Value</code>.</p>\n<p>Also if you want to work with files on the file system you need to specify the location using the <code>file:</code> protocol.</p>\n"}],"owner":{"account_id":5023051,"reputation":3116,"user_id":4035943,"accept_rate":97,"display_name":"αƞjiβ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73538328,"answer_count":1,"score":0,"last_activity_date":1661864561,"creation_date":1661807587,"question_id":73534715,"body_markdown":"I am trying to connect to Kafka broker which enforce both 2 way SSL/TLS to authenticate and authorize the client. I have created the certificate sign by right authority and stored in my local user directory. I am using \r\n- Spring-Kafka 2.8.5\r\n- Spring-Boot 2.6.7\r\n\r\nMy `application.properties` has\r\n\r\n```\r\nspring.kafka.bootstrap-server=vera-kafka-dev.lia.com:49092\r\nspring.kafka.topic=lucija-eliza-topic\r\nspring.kafka.security.protocol=SSL\r\nspring.kafka.ssl.keystore.location=/c/users/sibusiso/certs/my-test-cert.jks\r\nspring.kafka.ssl.keystore.password=mysecretpwd\r\nspring.kafka.ssl.truststore.location=/c/users/sibusiso/certs/my-test-cert.jks\r\nspring.kafka.ssl.truststore.password=mysecretpwd\r\n```\r\n\r\nBut ProducerConfig values is printing\r\n\r\n```\r\nacks= -1\r\nbatch.size = 16384\r\nbootstrap.servers = [vera-kafka-dev.lia.com:49092]\r\nbuffer.memory = 33554432\r\n...\r\nsecurity.protocol = PLAINTEXT\r\nsecurity.providers = null\r\nssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\nssl.endpoint.identification.algorithm = https\r\nssl.key.password = null\r\nssl.keysore.location = null\r\nssl.keystore.password = null\r\nssl.keystore.type = JKS\r\nssl.protocol = TLSv1.3\r\n...\r\nssl.trustsore.location = null\r\nssl.truststore.password = null\r\nssl.truststore.type = JKS\r\n...\r\n```\r\nSo looking at this output it looks like application is not picking up values from application.properties file. And obviously connection to broker is disconnected.\r\n\r\nAm I missing something? TIA\r\n\r\n","title":"Spring-Kafka not picking up SSL config","body":"<p>I am trying to connect to Kafka broker which enforce both 2 way SSL/TLS to authenticate and authorize the client. I have created the certificate sign by right authority and stored in my local user directory. I am using</p>\n<ul>\n<li>Spring-Kafka 2.8.5</li>\n<li>Spring-Boot 2.6.7</li>\n</ul>\n<p>My <code>application.properties</code> has</p>\n<pre><code>spring.kafka.bootstrap-server=vera-kafka-dev.lia.com:49092\nspring.kafka.topic=lucija-eliza-topic\nspring.kafka.security.protocol=SSL\nspring.kafka.ssl.keystore.location=/c/users/sibusiso/certs/my-test-cert.jks\nspring.kafka.ssl.keystore.password=mysecretpwd\nspring.kafka.ssl.truststore.location=/c/users/sibusiso/certs/my-test-cert.jks\nspring.kafka.ssl.truststore.password=mysecretpwd\n</code></pre>\n<p>But ProducerConfig values is printing</p>\n<pre><code>acks= -1\nbatch.size = 16384\nbootstrap.servers = [vera-kafka-dev.lia.com:49092]\nbuffer.memory = 33554432\n...\nsecurity.protocol = PLAINTEXT\nsecurity.providers = null\nssl.enabled.protocols = [TLSv1.2, TLSv1.3]\nssl.endpoint.identification.algorithm = https\nssl.key.password = null\nssl.keysore.location = null\nssl.keystore.password = null\nssl.keystore.type = JKS\nssl.protocol = TLSv1.3\n...\nssl.trustsore.location = null\nssl.truststore.password = null\nssl.truststore.type = JKS\n...\n</code></pre>\n<p>So looking at this output it looks like application is not picking up values from application.properties file. And obviously connection to broker is disconnected.</p>\n<p>Am I missing something? TIA</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661864467,"creation_date":1661864467,"answer_id":73542904,"question_id":73542296,"body_markdown":"It is very simple,\r\n\r\nSingleton class is used for this, so that only one object can be created at a time so this helps us in memory management.\r\n\r\nIf you don&#39;t make a class singleton then multiple instances will be created and if you don&#39;t trash those objects even by mistake then it will hold a lot of memory which is not good.","title":"Why do we make a Singleton Class for Retrofit Client? What happens if we don&#39;t?","body":"<p>It is very simple,</p>\n<p>Singleton class is used for this, so that only one object can be created at a time so this helps us in memory management.</p>\n<p>If you don't make a class singleton then multiple instances will be created and if you don't trash those objects even by mistake then it will hold a lot of memory which is not good.</p>\n"}],"owner":{"display_name":"user19878941"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73542904,"answer_count":1,"score":0,"last_activity_date":1661864467,"creation_date":1661861684,"question_id":73542296,"body_markdown":"I have been working on android for some time and i wondered today that :\r\n\r\nWhy do we make a `Singleton` Class for `Retrofit Client`? \r\n\r\nWhat happens if we don&#39;t?","title":"Why do we make a Singleton Class for Retrofit Client? What happens if we don&#39;t?","body":"<p>I have been working on android for some time and i wondered today that :</p>\n<p>Why do we make a <code>Singleton</code> Class for <code>Retrofit Client</code>?</p>\n<p>What happens if we don't?</p>\n"},{"tags":["java","mongodb","design-patterns","dao","data-access-layer"],"answers":[{"tags":[],"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1661848114,"creation_date":1420047470,"answer_id":27724421,"question_id":27723477,"body_markdown":"Well, the common approach to data storage in Java is, as you noted, not at all very object-oriented. This is in and of itself neither bad nor good: &quot;object-orientedness&quot; is neither an advantage nor disadvantage, it&#39;s just one of many paradigms, that sometimes helps with good architecture design (and sometimes not). \r\n\r\nThe reason DAOs in Java aren&#39;t usually object-oriented is exactly what you want to achieve – relaxing your dependency on the database. In a better-designed language, that allowed for multiple inheritances, this, of course, can be done very elegantly in an object-oriented way, but with Java, it just seems to be more troublesome than it is worth.\r\n\r\nIn a broader sense, the non-OO approach helps decouple your application-level data from the way it is stored. This is more than (non-)dependency on the specifics of a particular database, but also the storage schemas, which is especially important when using relational databases (don&#39;t get me started on ORM): you can have a well-designed relational schema seamlessly translated into the application OO model by your DAO.\r\n\r\nSo, what most DAOs are in Java nowadays are essentially what you mentioned in the beginning – classes, full of static methods. One difference is that, instead of making all the methods static, it is better to have a single static &quot;factory method&quot; (probably, in a different class), that returns a (singleton) instance of your DAO, which implements a particular interface, used by application code to access the database:\r\n\r\n    public interface GreatDAO {\r\n        User getUser(int id);\r\n        void saveUser(User u);\r\n    }\r\n    public class TheGreatestDAO implements GreatDAO {\r\n       protected TheGreatestDAO() {}\r\n       ... \r\n    }\r\n    public class GreatDAOFactory {\r\n         private static GreatDAO dao = null;\r\n         protected static synchronized GreatDao setDAO(final GreatDAO d) {\r\n             final GreatDAO old = dao;\r\n             dao = d;\r\n             return old;\r\n         }\r\n         public static synchronized GreatDAO getDAO() {\r\n             return dao == null ? dao = new TheGreatestDAO() : dao;\r\n         }\r\n    }\r\n\r\n    public class App {\r\n         void setUserName(final int id, final String name) {\r\n              final GreatDAO dao =  GreatDAOFactory.getDao();\r\n              final User u = dao.getUser(id);\r\n              u.setName(name);\r\n              dao.saveUser(u);\r\n         }\r\n    }\r\n\r\nWhy do it this way as opposed to static methods? Well, what if you do decide to switch to a different database? Naturally, you&#39;d create a new DAO class, implementing the logic for your new storage. If you were using static methods, you would now have to go through all your code, accessing the DAO, and change it to use your new class, right? This could be a huge pain. And what if then you change your mind and want to switch back to the old DB? \r\n\r\nWith this approach, all you need to do is to change the `GreatDAOFactory.getDAO()` and make it create an instance of a different class, and all your application code will be using the new database without any changes. \r\n\r\nIn real life, this is often done without any changes to the code at all: the factory method gets the implementation class name via a property setting, and instantiates it using reflection, so, all you need to do to switch implementations is to edit a property file. There are actually frameworks – like `spring` or `guice` – that manage this &quot;dependency injection&quot;  mechanism for you, but I won&#39;t go into details, first, because it is really beyond the scope of your question, and also, because I am not necessarily convinced that the benefit you get from using those frameworks is worth the trouble integrating with them for most applications.\r\n\r\nAnother (probably, more likely to be taken advantage of) benefit of this &quot;factory approach&quot; as opposed to &quot;static&quot; is testability. Imagine that you are writing a unit test that should test the logic of your `App` class independently of any underlying DAO. You don&#39;t want it to use any real underlying storage for several reasons (speed, having to set it up, and clean up afterwards, possible collisions with other tests, the possibility of polluting test results with problems in DAO, unrelated to `App`, which is actually being tested, etc.).\r\n\r\nTo do this, you want a test framework, like `Mockito`, that allows you to &quot;mock out&quot; the functionality of any object or method, replacing it with a &quot;dummy&quot; object, with predefined behavior (I&#39;ll skip the details, because, this again is beyond the scope). So, you can create this dummy object replacing your DAO, and make the `GreatDAOFactory` return your dummy instead of the real thing by calling `GreatDAOFactory.setDAO(dao)` before the test (and restoring it after). If you were using static methods instead of the instance class, this would not be possible. \r\n\r\nOne more benefit, which is kinda similar to switching databases I described above is &quot;pimping up&quot; your DAO with additional functionality. Suppose that your application becomes slower as the amount of data in the database grows, and you decide that you need a cache layer. Implement a wrapper class, that uses the real DAO instance (provided to it as a constructor parameter) to access the database, and caches the objects it reads in memory so that they can be returned faster. You can then make your `GreatDAOFactory.getDAO` instantiate this wrapper, for the application to take advantage of it.\r\n\r\n(This is called &quot;delegation pattern&quot; … and seems like a pain in the butt, especially when you have lots of methods defined in your DAO: you will have to implement all of them in the wrapper, even to alter behavior of just one. Alternatively, you could simply subclass your DAO, and add caching to it this way. This would be a lot less boring coding upfront, but may become problematic when you do decide to change the database, or, worse, to have an option of switching implementations back and forth.)\r\n\r\nOne equally broadly used (but, in my opinion, inferior) alternative to the &quot;factory&quot; method is making the `dao` a member variable in all classes that need it:\r\n\r\n    public class App {\r\n       GreatDao dao;\r\n       public App(final GreatDao d) { dao = d; }\r\n    }\r\n\r\nThis way, the code that instantiates these classes needs to instantiate the DAO object (which could still use the factory) and provide it as a constructor parameter. The dependency injection frameworks I mentioned above, usually do something similar to this. \r\n\r\nThis provides all the benefits of the &quot;factory method&quot; approach, that I described earlier, but, as I said, is not as good in my opinion. The disadvantages here are having to write a constructor for each of your app classes, doing the same exact thing over, and over, also not being able to instantiate the classes easily when needed, and some lost readability: with a large enough code base, a reader of your code, not familiar with it, will have hard time understanding which actual implementation of the DAO is used, how it is instantiated, whether it is a singleton, a thread-safe implementation, whether it keeps state, or caches anything, how the decisions on choosing a particular implementation are made etc.","title":"Design Patterns for Data Access Layer","body":"<p>Well, the common approach to data storage in Java is, as you noted, not at all very object-oriented. This is in and of itself neither bad nor good: &quot;object-orientedness&quot; is neither an advantage nor disadvantage, it's just one of many paradigms, that sometimes helps with good architecture design (and sometimes not).</p>\n<p>The reason DAOs in Java aren't usually object-oriented is exactly what you want to achieve – relaxing your dependency on the database. In a better-designed language, that allowed for multiple inheritances, this, of course, can be done very elegantly in an object-oriented way, but with Java, it just seems to be more troublesome than it is worth.</p>\n<p>In a broader sense, the non-OO approach helps decouple your application-level data from the way it is stored. This is more than (non-)dependency on the specifics of a particular database, but also the storage schemas, which is especially important when using relational databases (don't get me started on ORM): you can have a well-designed relational schema seamlessly translated into the application OO model by your DAO.</p>\n<p>So, what most DAOs are in Java nowadays are essentially what you mentioned in the beginning – classes, full of static methods. One difference is that, instead of making all the methods static, it is better to have a single static &quot;factory method&quot; (probably, in a different class), that returns a (singleton) instance of your DAO, which implements a particular interface, used by application code to access the database:</p>\n<pre><code>public interface GreatDAO {\n    User getUser(int id);\n    void saveUser(User u);\n}\npublic class TheGreatestDAO implements GreatDAO {\n   protected TheGreatestDAO() {}\n   ... \n}\npublic class GreatDAOFactory {\n     private static GreatDAO dao = null;\n     protected static synchronized GreatDao setDAO(final GreatDAO d) {\n         final GreatDAO old = dao;\n         dao = d;\n         return old;\n     }\n     public static synchronized GreatDAO getDAO() {\n         return dao == null ? dao = new TheGreatestDAO() : dao;\n     }\n}\n\npublic class App {\n     void setUserName(final int id, final String name) {\n          final GreatDAO dao =  GreatDAOFactory.getDao();\n          final User u = dao.getUser(id);\n          u.setName(name);\n          dao.saveUser(u);\n     }\n}\n</code></pre>\n<p>Why do it this way as opposed to static methods? Well, what if you do decide to switch to a different database? Naturally, you'd create a new DAO class, implementing the logic for your new storage. If you were using static methods, you would now have to go through all your code, accessing the DAO, and change it to use your new class, right? This could be a huge pain. And what if then you change your mind and want to switch back to the old DB?</p>\n<p>With this approach, all you need to do is to change the <code>GreatDAOFactory.getDAO()</code> and make it create an instance of a different class, and all your application code will be using the new database without any changes.</p>\n<p>In real life, this is often done without any changes to the code at all: the factory method gets the implementation class name via a property setting, and instantiates it using reflection, so, all you need to do to switch implementations is to edit a property file. There are actually frameworks – like <code>spring</code> or <code>guice</code> – that manage this &quot;dependency injection&quot;  mechanism for you, but I won't go into details, first, because it is really beyond the scope of your question, and also, because I am not necessarily convinced that the benefit you get from using those frameworks is worth the trouble integrating with them for most applications.</p>\n<p>Another (probably, more likely to be taken advantage of) benefit of this &quot;factory approach&quot; as opposed to &quot;static&quot; is testability. Imagine that you are writing a unit test that should test the logic of your <code>App</code> class independently of any underlying DAO. You don't want it to use any real underlying storage for several reasons (speed, having to set it up, and clean up afterwards, possible collisions with other tests, the possibility of polluting test results with problems in DAO, unrelated to <code>App</code>, which is actually being tested, etc.).</p>\n<p>To do this, you want a test framework, like <code>Mockito</code>, that allows you to &quot;mock out&quot; the functionality of any object or method, replacing it with a &quot;dummy&quot; object, with predefined behavior (I'll skip the details, because, this again is beyond the scope). So, you can create this dummy object replacing your DAO, and make the <code>GreatDAOFactory</code> return your dummy instead of the real thing by calling <code>GreatDAOFactory.setDAO(dao)</code> before the test (and restoring it after). If you were using static methods instead of the instance class, this would not be possible.</p>\n<p>One more benefit, which is kinda similar to switching databases I described above is &quot;pimping up&quot; your DAO with additional functionality. Suppose that your application becomes slower as the amount of data in the database grows, and you decide that you need a cache layer. Implement a wrapper class, that uses the real DAO instance (provided to it as a constructor parameter) to access the database, and caches the objects it reads in memory so that they can be returned faster. You can then make your <code>GreatDAOFactory.getDAO</code> instantiate this wrapper, for the application to take advantage of it.</p>\n<p>(This is called &quot;delegation pattern&quot; … and seems like a pain in the butt, especially when you have lots of methods defined in your DAO: you will have to implement all of them in the wrapper, even to alter behavior of just one. Alternatively, you could simply subclass your DAO, and add caching to it this way. This would be a lot less boring coding upfront, but may become problematic when you do decide to change the database, or, worse, to have an option of switching implementations back and forth.)</p>\n<p>One equally broadly used (but, in my opinion, inferior) alternative to the &quot;factory&quot; method is making the <code>dao</code> a member variable in all classes that need it:</p>\n<pre><code>public class App {\n   GreatDao dao;\n   public App(final GreatDao d) { dao = d; }\n}\n</code></pre>\n<p>This way, the code that instantiates these classes needs to instantiate the DAO object (which could still use the factory) and provide it as a constructor parameter. The dependency injection frameworks I mentioned above, usually do something similar to this.</p>\n<p>This provides all the benefits of the &quot;factory method&quot; approach, that I described earlier, but, as I said, is not as good in my opinion. The disadvantages here are having to write a constructor for each of your app classes, doing the same exact thing over, and over, also not being able to instantiate the classes easily when needed, and some lost readability: with a large enough code base, a reader of your code, not familiar with it, will have hard time understanding which actual implementation of the DAO is used, how it is instantiated, whether it is a singleton, a thread-safe implementation, whether it keeps state, or caches anything, how the decisions on choosing a particular implementation are made etc.</p>\n"}],"owner":{"account_id":2594765,"reputation":2859,"user_id":2248702,"accept_rate":57,"display_name":"user2248702"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16922,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":27724421,"answer_count":1,"score":13,"last_activity_date":1661864371,"creation_date":1420041963,"question_id":27723477,"body_markdown":"I have an application which uses a database (MongoDB) to store information. In the past, I have used a class full of static methods to save and retrieve data but I have since realised this is not very object-oriented or future-proof.\r\n\r\nEven though it is very unlikely I will change the database, I would rather have something that does not tie me too strongly to MongoDB. I would also like to be able to cache results with the option to refresh the cached object from the database, but this is not essential and can be done in another place.\r\n\r\nI have looked at data access objects, but they do not seem very well-defined and I can&#39;t find any good examples of implementation (In Java or a similar language). I also have many one-off cases such as finding usernames for tab completion that seems not well suited and would make the DAO large and bloated.\r\n\r\nAre there any design patterns that would facilitate getting and saving objects without being too database-specific? Good examples of implementation would be helpful (preferably in Java).","title":"Design Patterns for Data Access Layer","body":"<p>I have an application which uses a database (MongoDB) to store information. In the past, I have used a class full of static methods to save and retrieve data but I have since realised this is not very object-oriented or future-proof.</p>\n<p>Even though it is very unlikely I will change the database, I would rather have something that does not tie me too strongly to MongoDB. I would also like to be able to cache results with the option to refresh the cached object from the database, but this is not essential and can be done in another place.</p>\n<p>I have looked at data access objects, but they do not seem very well-defined and I can't find any good examples of implementation (In Java or a similar language). I also have many one-off cases such as finding usernames for tab completion that seems not well suited and would make the DAO large and bloated.</p>\n<p>Are there any design patterns that would facilitate getting and saving objects without being too database-specific? Good examples of implementation would be helpful (preferably in Java).</p>\n"},{"tags":["java","spring-boot","configuration","ignite"],"answers":[{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661864009,"creation_date":1661864009,"answer_id":73542805,"question_id":73535862,"body_markdown":"The comment by konqi in [this][1] post answered my question:\r\n\r\n&quot;In case you want to import a resource that is outside the classpath the syntax would be:\r\n```\r\n@ImportResource( { &quot;file:path/spring-context1.xml&quot;, &quot;file:path/spring-context2.xml&quot; } ) \r\n```\r\n\r\n&quot;\r\n\r\nIn my case I just needed to do: \r\n```\r\n@ImportResource( { &quot;file:./config/IgniteConfig.xml&quot; } )\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/15004674/spring-3-importresource-with-multiple-files","title":"Unable to load Ignite config spring bean definition from non default location in spring boot application","body":"<p>The comment by konqi in <a href=\"https://stackoverflow.com/questions/15004674/spring-3-importresource-with-multiple-files\">this</a> post answered my question:</p>\n<p>&quot;In case you want to import a resource that is outside the classpath the syntax would be:</p>\n<pre><code>@ImportResource( { &quot;file:path/spring-context1.xml&quot;, &quot;file:path/spring-context2.xml&quot; } ) \n</code></pre>\n<p>&quot;</p>\n<p>In my case I just needed to do:</p>\n<pre><code>@ImportResource( { &quot;file:./config/IgniteConfig.xml&quot; } )\n</code></pre>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73542805,"answer_count":1,"score":0,"last_activity_date":1661864009,"creation_date":1661818480,"question_id":73535862,"body_markdown":"I am trying to externalize my ignite configuration in my spring boot application so the configuration can be changed without rebuilding the jar. \r\n\r\nPreviously the file resided in src/main/resrouces and was loaded via annotations. \r\n\r\n```\r\n@ImportResource(&quot;IgniteConfig.xml&quot;) and \r\n\r\n@Autowired \r\nprivate IgniteConfiguration cfg;\r\n```\r\n\r\nWhen I moved the IgniteConfig.xml to the config folder that resides next to the excutable jar the above stopped working and I have tried the following without success:\r\n\r\n1. use --spring.config.location argument.  I can tell this is picked up during run time as other configurations work but the above ImportResource annotation says the file  IgniteConfig.xml cannot be found.\r\n\r\n2. use a relative path to (e.g. ./config.IgniteConfig.xml) to Ignition.start.  I cause this relative path to print the file contents of the xml file in my logs but when I pass it to Ignition.start it says the file cannot be found. I have tried using relative and absolute paths to do this. \r\n\r\n3. Manually create an ApplicationContext and get the configuration by bean name.  \r\n\r\n```\r\nApplicationContext context = new ClassPathXmlApplicationContext(&quot;./config/IgniteConfig.xml&quot;);\r\n```\r\nThis again complains that the file does not exist even though I can see by opening the file directly: \r\n```\r\nFile igniteConfigFile = new File(&quot;./config/IgniteConfig.xml&quot;);\r\n```","title":"Unable to load Ignite config spring bean definition from non default location in spring boot application","body":"<p>I am trying to externalize my ignite configuration in my spring boot application so the configuration can be changed without rebuilding the jar.</p>\n<p>Previously the file resided in src/main/resrouces and was loaded via annotations.</p>\n<pre><code>@ImportResource(&quot;IgniteConfig.xml&quot;) and \n\n@Autowired \nprivate IgniteConfiguration cfg;\n</code></pre>\n<p>When I moved the IgniteConfig.xml to the config folder that resides next to the excutable jar the above stopped working and I have tried the following without success:</p>\n<ol>\n<li><p>use --spring.config.location argument.  I can tell this is picked up during run time as other configurations work but the above ImportResource annotation says the file  IgniteConfig.xml cannot be found.</p>\n</li>\n<li><p>use a relative path to (e.g. ./config.IgniteConfig.xml) to Ignition.start.  I cause this relative path to print the file contents of the xml file in my logs but when I pass it to Ignition.start it says the file cannot be found. I have tried using relative and absolute paths to do this.</p>\n</li>\n<li><p>Manually create an ApplicationContext and get the configuration by bean name.</p>\n</li>\n</ol>\n<pre><code>ApplicationContext context = new ClassPathXmlApplicationContext(&quot;./config/IgniteConfig.xml&quot;);\n</code></pre>\n<p>This again complains that the file does not exist even though I can see by opening the file directly:</p>\n<pre><code>File igniteConfigFile = new File(&quot;./config/IgniteConfig.xml&quot;);\n</code></pre>\n"},{"tags":["java","sikuli","sikuli-x"],"answers":[{"tags":[],"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1538456835,"creation_date":1538456835,"answer_id":52602322,"question_id":52601948,"body_markdown":"Sound like a java 64 bit is required (because of native code dependencies) and you only have a java 32 bit installed.","title":"RunTimeINIT: *** terminating: Java arch not 64 Bit or not detected","body":"<p>Sound like a java 64 bit is required (because of native code dependencies) and you only have a java 32 bit installed.</p>\n"}],"owner":{"account_id":6498698,"reputation":6585,"user_id":5720144,"display_name":"Mikku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52602322,"answer_count":1,"score":2,"last_activity_date":1661863929,"creation_date":1538453811,"question_id":52601948,"body_markdown":"I am getting this error while running Sikulix from CMD with command \r\n\r\n    java -jar sikulix.jar\r\n\r\ncomplete error is:\r\n\r\n```\r\n[error] RunTimeINIT:  *** terminating: \r\nJava arch not 64 Bit or not detected (java 8-32 version 1.8 vm 25.181-b13 class 52.0 arch null)\r\n```\r\n\r\nI am not able to find any solution for this.\r\n","title":"RunTimeINIT: *** terminating: Java arch not 64 Bit or not detected","body":"<p>I am getting this error while running Sikulix from CMD with command</p>\n<pre><code>java -jar sikulix.jar\n</code></pre>\n<p>complete error is:</p>\n<pre><code>[error] RunTimeINIT:  *** terminating: \nJava arch not 64 Bit or not detected (java 8-32 version 1.8 vm 25.181-b13 class 52.0 arch null)\n</code></pre>\n<p>I am not able to find any solution for this.</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","css-selectors"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1661885066,"post_id":73536074,"comment_id":129876982,"body_markdown":"The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem. You need to show the code you&#39;ve tried and explain the error messages received or why the code didn&#39;t work as expected.","body":"The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem. You need to show the code you&#39;ve tried and explain the error messages received or why the code didn&#39;t work as expected."}],"answers":[{"tags":[],"owner":{"account_id":15461950,"reputation":55,"user_id":11154428,"display_name":"indayush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661838816,"creation_date":1661838816,"answer_id":73537702,"question_id":73536074,"body_markdown":"Try the following xpaths to trace the element - \r\n\r\n```\r\n//p[contains(text(),&#39;We didn&#39;t recognize that email and/or password&#39;)]\r\n```\r\nOr\r\n```\r\n//p[@class=&#39;uni-text&#39;][@data-qa-id=&#39;error-display&#39;]\r\n```\r\n\r\nAlso, please share the HTML markup in properly formatted manner.","title":"How to get the text of element using Selenium Java","body":"<p>Try the following xpaths to trace the element -</p>\n<pre><code>//p[contains(text(),'We didn't recognize that email and/or password')]\n</code></pre>\n<p>Or</p>\n<pre><code>//p[@class='uni-text'][@data-qa-id='error-display']\n</code></pre>\n<p>Also, please share the HTML markup in properly formatted manner.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661849921,"creation_date":1661849921,"answer_id":73539722,"question_id":73536074,"body_markdown":"To extract the text _**We didn&#39;t recognize that email and/or password.**_ from the `&lt;p&gt;` element you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48376890/7429447):\r\n\t  \r\n- Using _cssSelector_:\r\n\r\n\t  System.out.println(wd.findElement(By.cssSelector(&quot;p.uni-text[data-qa-id=&#39;error-display&#39;]&quot;)).getText());\r\n\r\n- Using _xpath_:\r\n\r\n\t  System.out.println(wd.findElement(By.xpath(&quot;//p[@class=&#39;uni-text&#39; and @data-qa-id=&#39;error-display&#39;]&quot;)).getText());","title":"How to get the text of element using Selenium Java","body":"<p>To extract the text <em><strong>We didn't recognize that email and/or password.</strong></em> from the <code>&lt;p&gt;</code> element you can use either of the following <a href=\"https://stackoverflow.com/a/48376890/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>System.out.println(wd.findElement(By.cssSelector(&quot;p.uni-text[data-qa-id='error-display']&quot;)).getText());\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>System.out.println(wd.findElement(By.xpath(&quot;//p[@class='uni-text' and @data-qa-id='error-display']&quot;)).getText());\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23373916,"reputation":11,"user_id":17444308,"display_name":"Chamara Perera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661863849,"creation_date":1661863849,"answer_id":73542775,"question_id":73536074,"body_markdown":"**Try as follows:**\r\n\r\nFirst assign the paragraph element to a WebElement object. Here using PageFactory we can assign this element to a WebElement called errorText as follows:\r\n\r\n    @FindBy(xpath = &quot;//p[@class=&quot;uni-text&quot; and @data-qa-id=&quot;error-display&quot;]&quot;) WebElement errorTextLabel;\r\n\r\nThen use the getAttribute method to get the text in the &#39;error-display&#39; attribute and assign it to a String variable.\r\n\r\n    String errorText = errorTextLabel.getAttribute(&quot;error-display&quot;);","title":"How to get the text of element using Selenium Java","body":"<p><strong>Try as follows:</strong></p>\n<p>First assign the paragraph element to a WebElement object. Here using PageFactory we can assign this element to a WebElement called errorText as follows:</p>\n<pre><code>@FindBy(xpath = &quot;//p[@class=&quot;uni-text&quot; and @data-qa-id=&quot;error-display&quot;]&quot;) WebElement errorTextLabel;\n</code></pre>\n<p>Then use the getAttribute method to get the text in the 'error-display' attribute and assign it to a String variable.</p>\n<pre><code>String errorText = errorTextLabel.getAttribute(&quot;error-display&quot;);\n</code></pre>\n"}],"owner":{"account_id":24100985,"reputation":23,"user_id":18072838,"display_name":"Ahmet Ozcelik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1661885016,"accepted_answer_id":73539722,"answer_count":3,"score":-3,"last_activity_date":1661863849,"creation_date":1661820949,"question_id":73536074,"body_markdown":"I want to get the text _&quot;We didn&#39;t recognize that email and/or password.&quot;_ using Selenium and Java\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;styles_errorDisplayInnerContainer_3R2ni-zSvPIKWfKXiviJhH&quot;&gt;\r\n      &lt;span class=&quot;styles_questionMarkContainer_10mxHNOMojCyG6bxLH9qo9&quot;&gt;\r\n          &lt;svg class=&quot;uni-icon uni-icon--large&quot; viewBox=&quot;0 0 32 32&quot; aria-labelledby=&quot;title1&quot; role=&quot;img&quot; fill-rule=&quot;evenodd&quot;&gt;\r\n            &lt;title id=&quot;title1&quot;&gt;IconHelp&lt;/title&gt;\r\n            &lt;path fill=&quot;inherit&quot; &gt;&lt;/path&gt;\r\n          &lt;/svg&gt;\r\n       &lt;/span&gt;\r\n      &lt;p class=&quot;uni-text&quot; data-qa-id=&quot;error-display&quot;&gt;We didn&#39;t recognize that email and/or password.&lt;a class=&quot;uni-link uni-link--default uni-margin--quarter--left&quot;&gt;Need help?&lt;/a&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to get the text of element using Selenium Java","body":"<p>I want to get the text <em>&quot;We didn't recognize that email and/or password.&quot;</em> using Selenium and Java</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"styles_errorDisplayInnerContainer_3R2ni-zSvPIKWfKXiviJhH\"&gt;\n  &lt;span class=\"styles_questionMarkContainer_10mxHNOMojCyG6bxLH9qo9\"&gt;\n      &lt;svg class=\"uni-icon uni-icon--large\" viewBox=\"0 0 32 32\" aria-labelledby=\"title1\" role=\"img\" fill-rule=\"evenodd\"&gt;\n        &lt;title id=\"title1\"&gt;IconHelp&lt;/title&gt;\n        &lt;path fill=\"inherit\" &gt;&lt;/path&gt;\n      &lt;/svg&gt;\n   &lt;/span&gt;\n  &lt;p class=\"uni-text\" data-qa-id=\"error-display\"&gt;We didn't recognize that email and/or password.&lt;a class=\"uni-link uni-link--default uni-margin--quarter--left\"&gt;Need help?&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android","kotlin","download","httpurlconnection"],"comments":[{"owner":{"account_id":11417863,"reputation":1016,"user_id":8370216,"display_name":"Abhijith mogaveera"},"score":0,"creation_date":1661864783,"post_id":73542667,"comment_id":129869024,"body_markdown":"just have a try with flush() method instead  close()","body":"just have a try with flush() method instead  close()"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1661866487,"post_id":73542667,"comment_id":129869750,"body_markdown":"Have you considered using a more modern HTTP client API, such as OkHttp?","body":"Have you considered using a more modern HTTP client API, such as OkHttp?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1661871261,"post_id":73542667,"comment_id":129871866,"body_markdown":"`I want to download a file into my library` ? Into a library? I would think into a storage location of the used device.","body":"<code>I want to download a file into my library</code> ? Into a library? I would think into a storage location of the used device."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1661871339,"post_id":73542667,"comment_id":129871892,"body_markdown":"If you have errors you should tell us which ones.","body":"If you have errors you should tell us which ones."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1661871476,"post_id":73542667,"comment_id":129871941,"body_markdown":"You do not have to set request method and all those request properties.","body":"You do not have to set request method and all those request properties."},{"owner":{"account_id":19973021,"reputation":21,"user_id":14638048,"display_name":"jyk"},"score":0,"creation_date":1661913913,"post_id":73542667,"comment_id":129882715,"body_markdown":"1. I wrote down the request method and properties because it is a required item when requesting from the API server. If you don&#39;t write it down, a 500 error pops up.\n2. I think the translator misinterpreted the word library. Cell phone storage is correct.","body":"1. I wrote down the request method and properties because it is a required item when requesting from the API server. If you don&#39;t write it down, a 500 error pops up. 2. I think the translator misinterpreted the word library. Cell phone storage is correct."},{"owner":{"account_id":19973021,"reputation":21,"user_id":14638048,"display_name":"jyk"},"score":0,"creation_date":1661913931,"post_id":73542667,"comment_id":129882719,"body_markdown":"3. I&#39;ll try that library ^^","body":"3. I&#39;ll try that library ^^"},{"owner":{"account_id":19973021,"reputation":21,"user_id":14638048,"display_name":"jyk"},"score":0,"creation_date":1661913936,"post_id":73542667,"comment_id":129882720,"body_markdown":"4. I changed it to flush() instead of close(), but the method does not work in InputStream(is.flush()) but works in OutputStream. So I flushed only the OutputStream.\n&quot;java.io.IOException: closed&quot; error occurs. The error code is &quot; while (`is`.read(buffer).also { bytesRead = it } != -1) {\n                            os.write(buffer, 0, bytesRead)\n                        }&quot; part.","body":"4. I changed it to flush() instead of close(), but the method does not work in InputStream(is.flush()) but works in OutputStream. So I flushed only the OutputStream. &quot;java.io.IOException: closed&quot; error occurs. The error code is &quot; while (<code>is</code>.read(buffer).also { bytesRead = it } != -1) {                             os.write(buffer, 0, bytesRead)                         }&quot; part."},{"owner":{"account_id":19973021,"reputation":21,"user_id":14638048,"display_name":"jyk"},"score":0,"creation_date":1661914314,"post_id":73542667,"comment_id":129882760,"body_markdown":"4-1. I just solved the &quot;java.io.IOException: closed&quot; error. But using flush() still downloads an incomplete image file","body":"4-1. I just solved the &quot;java.io.IOException: closed&quot; error. But using flush() still downloads an incomplete image file"},{"owner":{"account_id":19973021,"reputation":21,"user_id":14638048,"display_name":"jyk"},"score":0,"creation_date":1661936008,"post_id":73542667,"comment_id":129887858,"body_markdown":"I found the problem. When I first uploaded the file from the smartphone, the wrong file was going. The basic information has been uploaded, but the image itself seems not to have been transmitted.","body":"I found the problem. When I first uploaded the file from the smartphone, the wrong file was going. The basic information has been uploaded, but the image itself seems not to have been transmitted."}],"owner":{"account_id":19973021,"reputation":21,"user_id":14638048,"display_name":"jyk"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661863705,"creation_date":1661863415,"question_id":73542667,"body_markdown":"\r\nI want to download a file into my library using URLConnection. \r\nThe size of the picture stored in the server is about 16mb, but the size of the saved picture is 84B. \r\nThere seems to be an error while reading the buffer, can you tell me what kind of error it is?\r\n\r\n\r\n\r\n\r\n\r\n        binding.signDownloadBtn.setOnClickListener {\r\n            val userId = binding.userIdText.text.toString()\r\n            val filetype = &quot;user&quot;\r\n            val fileSeparation = &quot;sign&quot;\r\n\r\n            Thread {\r\n                val spec = &quot;myurl/${userId}/${filetype}/${fileSeparation}&quot;\r\n\r\n                val outputDir = Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + Environment.DIRECTORY_DOWNLOADS\r\n                var `is`: InputStream? = null\r\n                var os: FileOutputStream? = null\r\n\r\n                try {\r\n                    val url = URL(spec)\r\n                    val conn = url.openConnection() as HttpURLConnection\r\n\r\n                    conn.requestMethod = &quot;GET&quot;\r\n                    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;utf-8&quot;)\r\n                    conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                    conn.setRequestProperty(&quot;token&quot;, user_token)\r\n                    conn.setRequestProperty(&quot;sysCd&quot;, sysCd)\r\n                    conn.connectTimeout = 1500\r\n\r\n                    println(&quot;responseCode ${conn.responseCode}&quot;)\r\n\r\n                    if (conn.responseCode == HttpURLConnection.HTTP_OK) {\r\n                        var fileName = &quot;&quot;\r\n                        val disposition = conn.getHeaderField(&quot;Content-Disposition&quot;)\r\n                        val contentType = conn.contentType\r\n\r\n                        if (disposition != null) {\r\n                            val target = &quot;filename=&quot;\r\n                            val index = disposition.indexOf(target)\r\n\r\n                            if (index != -1) {\r\n                                fileName =\r\n                                    disposition.substring(index + target.length)\r\n                                fileName =\r\n                                    fileName.replace(&quot;\\&quot;&quot;, &quot;&quot;)\r\n                            }\r\n\r\n                            println(&quot;Content-Type = $contentType&quot;)\r\n                            println(&quot;Content-Disposition = $disposition&quot;)\r\n                            println(&quot;fileName = $fileName&quot;)\r\n\r\n                            `is` = conn.inputStream\r\n                            os = FileOutputStream(File(outputDir, fileName))\r\n\r\n                            val BUFFER_SIZE = 4096\r\n                            var bytesRead: Int\r\n                            val buffer = ByteArray(BUFFER_SIZE)\r\n                            while (`is`.read(buffer).also { bytesRead = it } != -1) {\r\n                                os.write(buffer, 0, bytesRead)\r\n                            }\r\n                            os.close()\r\n                            `is`.close()\r\n                        }\r\n\r\n                        println(&quot;File downloaded&quot;)\r\n                    } else {\r\n                        println(&quot;No file to download. Server replied HTTP code: ${conn.responseCode}&quot;)\r\n                    }\r\n                    conn.disconnect()\r\n                } catch (e: Exception) {\r\n                    println(&quot;An error occurred while trying to download a file.&quot;)\r\n                    e.printStackTrace()\r\n                    try {\r\n                        `is`?.close()\r\n                        os?.close()\r\n                    } catch (e1: IOException) {\r\n                        e1.printStackTrace()\r\n                    }\r\n                }\r\n            }.start()\r\n        }\r\n\r\n\r\n\r\n![1]\r\n\r\n![2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gbYab.png\r\n  [2]: https://i.stack.imgur.com/Xc9PQ.jpg","title":"Download file from API server using URLConnection in Kotlin","body":"<p>I want to download a file into my library using URLConnection.\nThe size of the picture stored in the server is about 16mb, but the size of the saved picture is 84B.\nThere seems to be an error while reading the buffer, can you tell me what kind of error it is?</p>\n<pre><code>    binding.signDownloadBtn.setOnClickListener {\n        val userId = binding.userIdText.text.toString()\n        val filetype = &quot;user&quot;\n        val fileSeparation = &quot;sign&quot;\n\n        Thread {\n            val spec = &quot;myurl/${userId}/${filetype}/${fileSeparation}&quot;\n\n            val outputDir = Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + Environment.DIRECTORY_DOWNLOADS\n            var `is`: InputStream? = null\n            var os: FileOutputStream? = null\n\n            try {\n                val url = URL(spec)\n                val conn = url.openConnection() as HttpURLConnection\n\n                conn.requestMethod = &quot;GET&quot;\n                conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;utf-8&quot;)\n                conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;)\n                conn.setRequestProperty(&quot;token&quot;, user_token)\n                conn.setRequestProperty(&quot;sysCd&quot;, sysCd)\n                conn.connectTimeout = 1500\n\n                println(&quot;responseCode ${conn.responseCode}&quot;)\n\n                if (conn.responseCode == HttpURLConnection.HTTP_OK) {\n                    var fileName = &quot;&quot;\n                    val disposition = conn.getHeaderField(&quot;Content-Disposition&quot;)\n                    val contentType = conn.contentType\n\n                    if (disposition != null) {\n                        val target = &quot;filename=&quot;\n                        val index = disposition.indexOf(target)\n\n                        if (index != -1) {\n                            fileName =\n                                disposition.substring(index + target.length)\n                            fileName =\n                                fileName.replace(&quot;\\&quot;&quot;, &quot;&quot;)\n                        }\n\n                        println(&quot;Content-Type = $contentType&quot;)\n                        println(&quot;Content-Disposition = $disposition&quot;)\n                        println(&quot;fileName = $fileName&quot;)\n\n                        `is` = conn.inputStream\n                        os = FileOutputStream(File(outputDir, fileName))\n\n                        val BUFFER_SIZE = 4096\n                        var bytesRead: Int\n                        val buffer = ByteArray(BUFFER_SIZE)\n                        while (`is`.read(buffer).also { bytesRead = it } != -1) {\n                            os.write(buffer, 0, bytesRead)\n                        }\n                        os.close()\n                        `is`.close()\n                    }\n\n                    println(&quot;File downloaded&quot;)\n                } else {\n                    println(&quot;No file to download. Server replied HTTP code: ${conn.responseCode}&quot;)\n                }\n                conn.disconnect()\n            } catch (e: Exception) {\n                println(&quot;An error occurred while trying to download a file.&quot;)\n                e.printStackTrace()\n                try {\n                    `is`?.close()\n                    os?.close()\n                } catch (e1: IOException) {\n                    e1.printStackTrace()\n                }\n            }\n        }.start()\n    }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/gbYab.png\" alt=\"1\" /></p>\n<p><img src=\"https://i.stack.imgur.com/Xc9PQ.jpg\" alt=\"2\" /></p>\n"},{"tags":["java","project-loom"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1661854892,"post_id":73540509,"comment_id":129865224,"body_markdown":"Why do you think they are not available? Please note that I expect this to be not per virtual thread but per physical thread that can run virtual threads. (A virtual thread that is not executed by a physical thread cannot allocate memory and therefore also doesn&#39;t need a TLAB).","body":"Why do you think they are not available? Please note that I expect this to be not per virtual thread but per physical thread that can run virtual threads. (A virtual thread that is not executed by a physical thread cannot allocate memory and therefore also doesn&#39;t need a TLAB)."},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1661861329,"post_id":73540509,"comment_id":129867559,"body_markdown":"What do you mean cannot allocate memory? In virtual thread we can allocate objects  it question is how is coordinate with TLAB? I am not sure but I am wondering that virtual thread allocates outside of TLAB","body":"What do you mean cannot allocate memory? In virtual thread we can allocate objects  it question is how is coordinate with TLAB? I am not sure but I am wondering that virtual thread allocates outside of TLAB"},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1661861430,"post_id":73540509,"comment_id":129867608,"body_markdown":"I am wondering about this because TLAB is reserved space for thread but we can create thousands of them so I assumed that it is not possible for create thousands of TLAB because they are quickly creating and terminating","body":"I am wondering about this because TLAB is reserved space for thread but we can create thousands of them so I assumed that it is not possible for create thousands of TLAB because they are quickly creating and terminating"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661863447,"creation_date":1661863447,"answer_id":73542675,"question_id":73540509,"body_markdown":"Virtual threads don&#39;t have a TLAB - they don&#39;t need it.\r\n\r\nFrom [Going inside Java’s Project Loom and virtual threads](https://blogs.oracle.com/javamagazine/post/going-inside-javas-project-loom-and-virtual-threads):\r\n\r\n&gt; Obviously, at some point, virtual threads must be attached to an actual OS thread to execute. These OS threads upon which a virtual thread executes are called _carrier threads_ .\r\n\r\nIf a virtual thread is not attached to a carrier thread is not executing any instructions and therefore cannot allocate memory - it doesn&#39;t need a TLAB.\r\n\r\nIf it is attached to a carrier thread it is executing instructions and therefore can allocate memory. For this memory allocations it can safely use the TLAB of the carrier thread.\r\n\r\nNo contention here:\r\n- at any point in time a carrier thread is executing exactly one virtual thread\r\n- at any point in time a virtual thread is executed by at most one carrier thread","title":"TLAB in Virtual Thread - Project Loom","body":"<p>Virtual threads don't have a TLAB - they don't need it.</p>\n<p>From <a href=\"https://blogs.oracle.com/javamagazine/post/going-inside-javas-project-loom-and-virtual-threads\" rel=\"nofollow noreferrer\">Going inside Java’s Project Loom and virtual threads</a>:</p>\n<blockquote>\n<p>Obviously, at some point, virtual threads must be attached to an actual OS thread to execute. These OS threads upon which a virtual thread executes are called <em>carrier threads</em> .</p>\n</blockquote>\n<p>If a virtual thread is not attached to a carrier thread is not executing any instructions and therefore cannot allocate memory - it doesn't need a TLAB.</p>\n<p>If it is attached to a carrier thread it is executing instructions and therefore can allocate memory. For this memory allocations it can safely use the TLAB of the carrier thread.</p>\n<p>No contention here:</p>\n<ul>\n<li>at any point in time a carrier thread is executing exactly one virtual thread</li>\n<li>at any point in time a virtual thread is executed by at most one carrier thread</li>\n</ul>\n"}],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73542675,"answer_count":1,"score":-1,"last_activity_date":1661863447,"creation_date":1661853336,"question_id":73540509,"body_markdown":"How currently TLAB is handling in Virtual Thread introduced by Project Loom in Java?\r\nIs TLAB available in virtual threads?","title":"TLAB in Virtual Thread - Project Loom","body":"<p>How currently TLAB is handling in Virtual Thread introduced by Project Loom in Java?\nIs TLAB available in virtual threads?</p>\n"},{"tags":["java","hibernate","list","jpa","persistence"],"comments":[{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":2,"creation_date":1443731204,"post_id":2488930,"comment_id":53621836,"body_markdown":"&quot;&quot;IN ()&quot;, which gives me error with Hypersonic database.&quot;  This happens with MySQL as well.","body":"&quot;&quot;IN ()&quot;, which gives me error with Hypersonic database.&quot;  This happens with MySQL as well."}],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1269213778,"creation_date":1269211346,"answer_id":2489053,"question_id":2488930,"body_markdown":"According to the section **4.6.8 In Expressions** from the JPA 1.0 specification:\r\n\r\n&gt; There must be at least one element in the comma separated list that defines the set of values for the `IN` expression.\r\n\r\nIn other words, regardless of Hibernate&#39;s ability to parse the query and to pass an `IN()`, regardless of the support of this syntax by particular databases (PosgreSQL doesn&#39;t according to the Jira issue), you should use a dynamic query here if you want your code to be portable (and I usually prefer to use the Criteria API for dynamic queries).\r\n","title":"Passing empty list as parameter to JPA query throws error","body":"<p>According to the section <strong>4.6.8 In Expressions</strong> from the JPA 1.0 specification:</p>\n\n<blockquote>\n  <p>There must be at least one element in the comma separated list that defines the set of values for the <code>IN</code> expression.</p>\n</blockquote>\n\n<p>In other words, regardless of Hibernate's ability to parse the query and to pass an <code>IN()</code>, regardless of the support of this syntax by particular databases (PosgreSQL doesn't according to the Jira issue), you should use a dynamic query here if you want your code to be portable (and I usually prefer to use the Criteria API for dynamic queries).</p>\n"},{"tags":[],"owner":{"account_id":55310,"reputation":4734,"user_id":165629,"accept_rate":90,"display_name":"Tuukka Mustonen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1269339230,"creation_date":1269339230,"answer_id":2498977,"question_id":2488930,"body_markdown":"After having no actual solution as replies, I created a proxy class to handle these situations. The idea is to retain native syntax where possible.\r\n\r\n**WARNING:** This is work-in-progress and very hazardous approach. The code below is by no mean meant as complete solution and quite possibly contains zillions of bugs and scary cases.\r\n\r\nThat being said, the BlankAwareQuery class wraps the javax.persistence Query and is initialized with EntityManager and the core query string (which cannot contain empty lists or lists of enumerations).\r\n\r\n\tBlankAwareQuery query = new BlankAwareQuery(em, &quot;SELECT p FROM Profile p&quot;);\r\n\r\nAfter creation of class, dynamic parts are inserted with\r\n\r\n\tquery.from(&quot;p.address a&quot;);\r\n\tquery.where(&quot;a IN (:addresses)&quot;);\r\n\r\nParameters are inserted as always:\r\n\r\n\tquery.setParameter(&quot;addresses&quot;, addresses);\r\n\r\nThe point here is that the class removes these (their from-part as well) from query if they are empty lists or manipulates them if they are lists of enumerations.\r\n\r\nThen call:\r\n\r\n\tquery.getResultList();\r\n\r\nSo, for example:\r\n\r\n\tList&lt;Profile&gt; profiles = new BlankAwareQuery(em, &quot;SELECT p FROM Profile p&quot;)\r\n\t\t.from(&quot;p.address a JOIN a.municipality m&quot;).where(&quot;m IN (:municipalities)&quot;)\r\n\t\t.where(&quot;p.gender IN (:genders)&quot;)\r\n\t\t.where(&quot;p.yearOfBirth &gt; :minYear&quot;)\r\n\t\t.where(&quot;p.yearOfBirth &lt; :maxYear&quot;)\r\n\t\t.from(&quot;p.platforms f&quot;).where(&quot;f IN (:platforms)&quot;)\r\n\t\t.setParameter(&quot;municipalities&quot;, municipalities)\r\n\t\t.setParameter(&quot;genders&quot;, genders)\r\n\t\t.setParameter(&quot;minYear&quot;, minYear)\r\n\t\t.setParameter(&quot;maxYear&quot;, maxYear)\r\n\t\t.setParameter(&quot;platforms&quot;, platforms)\r\n\t\t.getResultList();\r\n\r\nThe actual code (code uses Lombok for @Data and @NonNull annotations and Apache commons lang for StringUtils):\r\n\r\n\tpublic class BlankAwareQuery {\r\n\t\t\r\n\t\tprivate @Data class Parameter {\r\n\t\t\tprivate @NonNull String fieldName;\r\n\t\t\tprivate @NonNull Object value;\r\n\t\t}\r\n\t\t\r\n\t\tprivate @Data class ClausePair {\r\n\t\t\tprivate @NonNull String from;\r\n\t\t\tprivate @NonNull String where;\r\n\t\t}\r\n\t\t\r\n\t\tprivate EntityManager em;\r\n\t\t\r\n\t\tprivate List&lt;String&gt; select = Lists.newArrayList();\r\n\t\tprivate List&lt;ClausePair&gt; whereFrom = Lists.newArrayList();\r\n\t\tprivate String from;\r\n\t\tprivate List&lt;Parameter&gt; parameters = Lists.newArrayList();\r\n\t\tQuery query;\r\n\t\t\r\n\t\tpublic BlankAwareQuery(EntityManager em, String query) {\r\n\t\t\t\r\n\t\t\tthis.em = em;\r\n\t\t\t\r\n\t\t\t/** Select **/\r\n\t\t\tint selectStart = StringUtils.indexOf(query, &quot;SELECT &quot;) + 7;\r\n\t\t\tint selectEnd = StringUtils.indexOf(query, &quot; FROM &quot;);\r\n\t\t\tselect(StringUtils.substring(query, selectStart, selectEnd));\r\n\t\t\t\r\n\t\t\t/** From **/\r\n\t\t\tint fromStart = selectEnd + 6;\r\n\t\t\tint fromEnd = StringUtils.indexOf(query, &quot; WHERE &quot;);\r\n\t\t\tif (fromEnd == -1) fromEnd = query.length();\r\n\t\t\tfrom(StringUtils.substring(query, fromStart, fromEnd));\r\n\t\t\t\r\n\t\t\t/** Where **/\r\n\t\t\tString where = &quot;&quot;;\r\n\t\t\tif (StringUtils.contains(query, &quot; WHERE &quot;)) {\r\n\t\t\t\twhere = StringUtils.substring(query, fromEnd + 7);\r\n\t\t\t}\r\n\t\t\twhere(where);\r\n\t\t}\r\n\r\n\t\tprivate BlankAwareQuery select(String s) {\r\n\t\t\tselect.add(s);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic BlankAwareQuery from(String s) {\r\n\t\t\tfrom = s;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpublic BlankAwareQuery where(String s) {\r\n\t\t\tClausePair p = new ClausePair(from, s);\r\n\t\t\twhereFrom.add(p);\r\n\t\t\tfrom = &quot;&quot;;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpublic BlankAwareQuery setParameter(String fieldName, Object value) {\r\n\r\n\t\t\t/** Non-empty collection -&gt; include **/\r\n\t\t\tif (value != null &amp;&amp; value instanceof List&lt;?&gt; &amp;&amp; !((List&lt;?&gt;) value).isEmpty()) {\r\n\t\t\t\t\r\n\t\t\t\t/** List of enums -&gt; parse open (JPA doesn&#39;t support defining list of enums as in (:blaa) **/\r\n\t\t\t\tif (((List&lt;?&gt;) value).get(0) instanceof Enum&lt;?&gt;) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tList&lt;String&gt; fields = Lists.newArrayList();\r\n\t\t\t\t\t\r\n\t\t\t\t\t/** Split parameters into individual entries **/\r\n\t\t\t\t\tint i = 0;\r\n\t\t\t\t\tfor (Enum&lt;?&gt; g : (List&lt;Enum&lt;?&gt;&gt;) value) {\r\n\t\t\t\t\t\tString fieldSingular = StringUtils.substring(fieldName, 0, fieldName.length() - 1) + i;\r\n\t\t\t\t\t\tfields.add(&quot;:&quot; + fieldSingular);\r\n\t\t\t\t\t\tparameters.add(new Parameter(fieldSingular, g));\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t/** Split :enums into (:enum1, :enum2, :enum3) strings **/\r\n\t\t\t\t\tfor (ClausePair p : whereFrom) {\r\n\t\t\t\t\t\tif (p.getWhere().contains(&quot;:&quot; + fieldName)) {\r\n\t\t\t\t\t\t\tint start = StringUtils.indexOf(p.getWhere(), &quot;:&quot; + fieldName);\r\n\t\t\t\t\t\t\tint end = StringUtils.indexOfAny(StringUtils.substring(p.getWhere(), start + 1), new char[] {&#39;)&#39;, &#39; &#39;});\r\n\t\t\t\t\t\t\tString newWhere = StringUtils.substring(p.getWhere(), 0, start) + StringUtils.join(fields, &quot;, &quot;) + StringUtils.substring(p.getWhere(), end + start + 1);\r\n\t\t\t\t\t\t\tp.setWhere(newWhere);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t/** Normal type which doesn&#39;t require customization, just add it **/ \r\n\t\t\t\telse {\r\n\t\t\t\t\tparameters.add(new Parameter(fieldName, value));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/** Not to be included -&gt; remove from and where pair from query **/\r\n\t\t\telse {\r\n\t\t\t\tfor (Iterator&lt;ClausePair&gt; it = whereFrom.iterator(); it.hasNext();) {\r\n\t\t\t\t\tClausePair p = it.next();\r\n\t\t\t\t\tif (StringUtils.contains(p.getWhere(), fieldName)) {\r\n\t\t\t\t\t\tit.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tprivate String buildQueryString() {\r\n\r\n\t\t\tList&lt;String&gt; from = Lists.newArrayList();\r\n\t\t\tList&lt;String&gt; where = Lists.newArrayList();\r\n\t\t\t\r\n\t\t\tfor (ClausePair p : whereFrom) {\r\n\t\t\t\tif (!p.getFrom().equals(&quot;&quot;)) from.add(p.getFrom());\r\n\t\t\t\tif (!p.getWhere().equals(&quot;&quot;)) where.add(p.getWhere());\r\n\t\t\t}\r\n\r\n\t\t\tString selectQuery = StringUtils.join(select, &quot;, &quot;);\r\n\t\t\tString fromQuery = StringUtils.join(from, &quot; JOIN &quot;);\r\n\t\t\tString whereQuery = StringUtils.join(where, &quot; AND &quot;);\r\n\t\t\t\r\n\t\t\tString query = &quot;SELECT &quot; + selectQuery + &quot; FROM &quot; + fromQuery + (whereQuery == &quot;&quot; ? &quot;&quot; : &quot; WHERE &quot; + whereQuery);\r\n\t\t\t\r\n\t\t\treturn query;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Query getQuery() {\r\n\t\t\tquery = em.createQuery(buildQueryString());\r\n\t\t\tsetParameters();\r\n\t\t\treturn query;\r\n\t\t}\r\n\r\n\t\tprivate void setParameters() {\r\n\t\t\tfor (Parameter par : parameters) {\r\n\t\t\t\tquery.setParameter(par.getFieldName(), par.getValue());\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic List getResultList() {\r\n\t\t\treturn getQuery().getResultList();\r\n\t\t}\r\n\r\n\t\tpublic Object getSingleResult() {\r\n\t\t\treturn getQuery().getSingleResult();\r\n\t\t}\r\n\t}","title":"Passing empty list as parameter to JPA query throws error","body":"<p>After having no actual solution as replies, I created a proxy class to handle these situations. The idea is to retain native syntax where possible.</p>\n\n<p><strong>WARNING:</strong> This is work-in-progress and very hazardous approach. The code below is by no mean meant as complete solution and quite possibly contains zillions of bugs and scary cases.</p>\n\n<p>That being said, the BlankAwareQuery class wraps the javax.persistence Query and is initialized with EntityManager and the core query string (which cannot contain empty lists or lists of enumerations).</p>\n\n<pre><code>BlankAwareQuery query = new BlankAwareQuery(em, \"SELECT p FROM Profile p\");\n</code></pre>\n\n<p>After creation of class, dynamic parts are inserted with</p>\n\n<pre><code>query.from(\"p.address a\");\nquery.where(\"a IN (:addresses)\");\n</code></pre>\n\n<p>Parameters are inserted as always:</p>\n\n<pre><code>query.setParameter(\"addresses\", addresses);\n</code></pre>\n\n<p>The point here is that the class removes these (their from-part as well) from query if they are empty lists or manipulates them if they are lists of enumerations.</p>\n\n<p>Then call:</p>\n\n<pre><code>query.getResultList();\n</code></pre>\n\n<p>So, for example:</p>\n\n<pre><code>List&lt;Profile&gt; profiles = new BlankAwareQuery(em, \"SELECT p FROM Profile p\")\n    .from(\"p.address a JOIN a.municipality m\").where(\"m IN (:municipalities)\")\n    .where(\"p.gender IN (:genders)\")\n    .where(\"p.yearOfBirth &gt; :minYear\")\n    .where(\"p.yearOfBirth &lt; :maxYear\")\n    .from(\"p.platforms f\").where(\"f IN (:platforms)\")\n    .setParameter(\"municipalities\", municipalities)\n    .setParameter(\"genders\", genders)\n    .setParameter(\"minYear\", minYear)\n    .setParameter(\"maxYear\", maxYear)\n    .setParameter(\"platforms\", platforms)\n    .getResultList();\n</code></pre>\n\n<p>The actual code (code uses Lombok for @Data and @NonNull annotations and Apache commons lang for StringUtils):</p>\n\n<pre><code>public class BlankAwareQuery {\n\n    private @Data class Parameter {\n        private @NonNull String fieldName;\n        private @NonNull Object value;\n    }\n\n    private @Data class ClausePair {\n        private @NonNull String from;\n        private @NonNull String where;\n    }\n\n    private EntityManager em;\n\n    private List&lt;String&gt; select = Lists.newArrayList();\n    private List&lt;ClausePair&gt; whereFrom = Lists.newArrayList();\n    private String from;\n    private List&lt;Parameter&gt; parameters = Lists.newArrayList();\n    Query query;\n\n    public BlankAwareQuery(EntityManager em, String query) {\n\n        this.em = em;\n\n        /** Select **/\n        int selectStart = StringUtils.indexOf(query, \"SELECT \") + 7;\n        int selectEnd = StringUtils.indexOf(query, \" FROM \");\n        select(StringUtils.substring(query, selectStart, selectEnd));\n\n        /** From **/\n        int fromStart = selectEnd + 6;\n        int fromEnd = StringUtils.indexOf(query, \" WHERE \");\n        if (fromEnd == -1) fromEnd = query.length();\n        from(StringUtils.substring(query, fromStart, fromEnd));\n\n        /** Where **/\n        String where = \"\";\n        if (StringUtils.contains(query, \" WHERE \")) {\n            where = StringUtils.substring(query, fromEnd + 7);\n        }\n        where(where);\n    }\n\n    private BlankAwareQuery select(String s) {\n        select.add(s);\n        return this;\n    }\n\n    public BlankAwareQuery from(String s) {\n        from = s;\n        return this;\n    }\n\n    public BlankAwareQuery where(String s) {\n        ClausePair p = new ClausePair(from, s);\n        whereFrom.add(p);\n        from = \"\";\n        return this;\n    }\n\n    public BlankAwareQuery setParameter(String fieldName, Object value) {\n\n        /** Non-empty collection -&gt; include **/\n        if (value != null &amp;&amp; value instanceof List&lt;?&gt; &amp;&amp; !((List&lt;?&gt;) value).isEmpty()) {\n\n            /** List of enums -&gt; parse open (JPA doesn't support defining list of enums as in (:blaa) **/\n            if (((List&lt;?&gt;) value).get(0) instanceof Enum&lt;?&gt;) {\n\n                List&lt;String&gt; fields = Lists.newArrayList();\n\n                /** Split parameters into individual entries **/\n                int i = 0;\n                for (Enum&lt;?&gt; g : (List&lt;Enum&lt;?&gt;&gt;) value) {\n                    String fieldSingular = StringUtils.substring(fieldName, 0, fieldName.length() - 1) + i;\n                    fields.add(\":\" + fieldSingular);\n                    parameters.add(new Parameter(fieldSingular, g));\n                    i++;\n                }\n\n                /** Split :enums into (:enum1, :enum2, :enum3) strings **/\n                for (ClausePair p : whereFrom) {\n                    if (p.getWhere().contains(\":\" + fieldName)) {\n                        int start = StringUtils.indexOf(p.getWhere(), \":\" + fieldName);\n                        int end = StringUtils.indexOfAny(StringUtils.substring(p.getWhere(), start + 1), new char[] {')', ' '});\n                        String newWhere = StringUtils.substring(p.getWhere(), 0, start) + StringUtils.join(fields, \", \") + StringUtils.substring(p.getWhere(), end + start + 1);\n                        p.setWhere(newWhere);\n                    }\n                }\n            }\n            /** Normal type which doesn't require customization, just add it **/ \n            else {\n                parameters.add(new Parameter(fieldName, value));\n            }\n        }\n\n        /** Not to be included -&gt; remove from and where pair from query **/\n        else {\n            for (Iterator&lt;ClausePair&gt; it = whereFrom.iterator(); it.hasNext();) {\n                ClausePair p = it.next();\n                if (StringUtils.contains(p.getWhere(), fieldName)) {\n                    it.remove();\n                }\n            }\n        }\n\n        return this;\n    }\n\n    private String buildQueryString() {\n\n        List&lt;String&gt; from = Lists.newArrayList();\n        List&lt;String&gt; where = Lists.newArrayList();\n\n        for (ClausePair p : whereFrom) {\n            if (!p.getFrom().equals(\"\")) from.add(p.getFrom());\n            if (!p.getWhere().equals(\"\")) where.add(p.getWhere());\n        }\n\n        String selectQuery = StringUtils.join(select, \", \");\n        String fromQuery = StringUtils.join(from, \" JOIN \");\n        String whereQuery = StringUtils.join(where, \" AND \");\n\n        String query = \"SELECT \" + selectQuery + \" FROM \" + fromQuery + (whereQuery == \"\" ? \"\" : \" WHERE \" + whereQuery);\n\n        return query;\n    }\n\n    public Query getQuery() {\n        query = em.createQuery(buildQueryString());\n        setParameters();\n        return query;\n    }\n\n    private void setParameters() {\n        for (Parameter par : parameters) {\n            query.setParameter(par.getFieldName(), par.getValue());\n        }\n    }\n\n    public List getResultList() {\n        return getQuery().getResultList();\n    }\n\n    public Object getSingleResult() {\n        return getQuery().getSingleResult();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1543413,"reputation":49,"user_id":1437523,"display_name":"Samanta"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1354194732,"creation_date":1338904068,"answer_id":10898531,"question_id":2488930,"body_markdown":"Solution:\r\n\r\n    if (municipalities==null || municipalities.isEmpty())\r\n        .setParameter(&quot;municipalities&quot;, &quot;&#39;&#39;&quot;)\r\n    else\r\n        .setParameter(&quot;municipalities&quot;, municipalities)\r\n\r\n\r\n","title":"Passing empty list as parameter to JPA query throws error","body":"<p>Solution:</p>\n\n<pre><code>if (municipalities==null || municipalities.isEmpty())\n    .setParameter(\"municipalities\", \"''\")\nelse\n    .setParameter(\"municipalities\", municipalities)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1976638,"reputation":2858,"user_id":1774291,"accept_rate":75,"display_name":"PeterS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541074389,"creation_date":1541074389,"answer_id":53101053,"question_id":2488930,"body_markdown":"If you are using spring/hibernate annotations then one of the easiest ways of working around this is having two parameters. First lets define our JPA annotation:\r\n\r\n            + &quot;AND (p.myVarin :state OR :nullCheckMyVar is null) &quot;\r\n\r\nThen pass those parameters in as normal:\r\n\r\n        @Param(&quot;myVarin&quot;) List&lt;Integers&gt; myVarin,\r\n        @Param(&quot;nullCheckMyVar&quot;) Integer nullCheckMyVar,\r\n\r\nFinally in what ever service call you can do the following:\r\n\r\n        Integer nullCheckInteger = null;\r\n        if (myVarIn != null &amp;&amp; !myVarIn.isEmpty()) {\r\n            // we can use any integer\r\n            nullCheckInteger = 1;\r\n        }\r\n        repo.callService(myVarIn, nullCheckInteger);\r\n\r\nAnd then pass those two parms into the call.\r\n\r\nWhat does this do? If myVarIn is not null and filled then we can specify &quot;all&quot; as 1 != null. Otherwise we pass in our list and null is null and therefore ignored.\r\nThis either selects &quot;all&quot; when empty or something when not empty.\r\n","title":"Passing empty list as parameter to JPA query throws error","body":"<p>If you are using spring/hibernate annotations then one of the easiest ways of working around this is having two parameters. First lets define our JPA annotation:</p>\n\n<pre><code>        + \"AND (p.myVarin :state OR :nullCheckMyVar is null) \"\n</code></pre>\n\n<p>Then pass those parameters in as normal:</p>\n\n<pre><code>    @Param(\"myVarin\") List&lt;Integers&gt; myVarin,\n    @Param(\"nullCheckMyVar\") Integer nullCheckMyVar,\n</code></pre>\n\n<p>Finally in what ever service call you can do the following:</p>\n\n<pre><code>    Integer nullCheckInteger = null;\n    if (myVarIn != null &amp;&amp; !myVarIn.isEmpty()) {\n        // we can use any integer\n        nullCheckInteger = 1;\n    }\n    repo.callService(myVarIn, nullCheckInteger);\n</code></pre>\n\n<p>And then pass those two parms into the call.</p>\n\n<p>What does this do? If myVarIn is not null and filled then we can specify \"all\" as 1 != null. Otherwise we pass in our list and null is null and therefore ignored.\nThis either selects \"all\" when empty or something when not empty.</p>\n"},{"tags":[],"owner":{"account_id":14883616,"reputation":31,"user_id":10747457,"display_name":"user10747457"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1543983668,"creation_date":1543983668,"answer_id":53625135,"question_id":2488930,"body_markdown":"Since you&#39;re querying DB sequence IDs that typically start at 1, you can add 0 to the list\r\n\r\n    if (excludeIds.isEmpty()) {\r\n        excludeIds.add(new Long(&quot;0&quot;));\r\n    }\r\n    List&lt;SomeEntity&gt; retval = someEntityRepo.findByIdNotIn(excludeIds);\r\n\r\nMaybe -1 works too.  Small work around for the use of jpa repos.\r\n","title":"Passing empty list as parameter to JPA query throws error","body":"<p>Since you're querying DB sequence IDs that typically start at 1, you can add 0 to the list</p>\n\n<pre><code>if (excludeIds.isEmpty()) {\n    excludeIds.add(new Long(\"0\"));\n}\nList&lt;SomeEntity&gt; retval = someEntityRepo.findByIdNotIn(excludeIds);\n</code></pre>\n\n<p>Maybe -1 works too.  Small work around for the use of jpa repos.</p>\n"},{"tags":[],"owner":{"account_id":13951274,"reputation":219,"user_id":10074730,"display_name":"r_divyas"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1553358779,"creation_date":1553358260,"answer_id":55315864,"question_id":2488930,"body_markdown":"Assuming the SQL query to be like \r\n```\r\n(COALESCE(:placeHolderName,NULL) IS NULL OR Column_Name in (:placeHolderName))\r\n```\r\n\r\nNow, If the List is of type String then you can pass as \r\n\r\n```\r\nquery.setParameterList(&quot;placeHolderName&quot;, \r\n!CollectionUtils.isEmpty(list)? list : new ArrayList&lt;String&gt;(Arrays.asList(&quot;&quot;)).\r\n```\r\nAnd If the List is containing the Integer values then the syntax is like below:\r\n\r\n```\r\nIf(!CollectionUtils.isEmpty(list)){\r\nquery.setParameterList(&quot;placeHolderName&quot;,list)\r\n}else{\r\nquery.setParameter(&quot;placeHolderName&quot;,null, Hibernate.INTEGER)\r\n}\r\n\r\n```","title":"Passing empty list as parameter to JPA query throws error","body":"<p>Assuming the SQL query to be like </p>\n\n<pre><code>(COALESCE(:placeHolderName,NULL) IS NULL OR Column_Name in (:placeHolderName))\n</code></pre>\n\n<p>Now, If the List is of type String then you can pass as </p>\n\n<pre><code>query.setParameterList(\"placeHolderName\", \n!CollectionUtils.isEmpty(list)? list : new ArrayList&lt;String&gt;(Arrays.asList(\"\")).\n</code></pre>\n\n<p>And If the List is containing the Integer values then the syntax is like below:</p>\n\n<pre><code>If(!CollectionUtils.isEmpty(list)){\nquery.setParameterList(\"placeHolderName\",list)\n}else{\nquery.setParameter(\"placeHolderName\",null, Hibernate.INTEGER)\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13504770,"reputation":486,"user_id":9743227,"display_name":"Reneta"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1623160243,"creation_date":1588681227,"answer_id":61612999,"question_id":2488930,"body_markdown":"I struggled with this issue, too. I found out that the Hibernate community has RESOLVED the issue in **Hibernate version 5.4.10**, here is the ticket: https://hibernate.atlassian.net/browse/HHH-8091 \r\n\r\nYou can check your Hibernate version `System.out.println(org.hibernate.Version.getVersionString());\r\n`\r\n\r\nAnd you can UPDATE the version of Hibernate to the latest, here is a useful link: https://hibernate.org/orm/releases/","title":"Passing empty list as parameter to JPA query throws error","body":"<p>I struggled with this issue, too. I found out that the Hibernate community has RESOLVED the issue in <strong>Hibernate version 5.4.10</strong>, here is the ticket: <a href=\"https://hibernate.atlassian.net/browse/HHH-8091\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-8091</a></p>\n<p>You can check your Hibernate version <code>System.out.println(org.hibernate.Version.getVersionString()); </code></p>\n<p>And you can UPDATE the version of Hibernate to the latest, here is a useful link: <a href=\"https://hibernate.org/orm/releases/\" rel=\"noreferrer\">https://hibernate.org/orm/releases/</a></p>\n"},{"tags":[],"owner":{"account_id":12545385,"reputation":103,"user_id":9128896,"display_name":"Marius Mihai Vintila"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1617639834,"creation_date":1617639834,"answer_id":66956214,"question_id":2488930,"body_markdown":"I ran into the same problem today and [@r_divyas&#39;s response][1] almost did it for me, but there was a small change I had to do in order to make it work.\r\n\r\nI have a query that I save in the database so I couldn&#39;t change it on the fly. This query triggers the build of a dynamic UI according to the fields in the result set.\r\n\r\nIn the UI I have a multiple choice dropdown, which is optional. So there can be 0, 1 or more elements selected from it.\r\n\r\nTherefore, I needed to find a way to make this parameter optional in my query.\r\nInitially, I set it up as:\r\n\r\n``(:assignedUsers IS NULL OR wr.USR_ID IN (:assignedUsers))``\r\n\r\nUnfortunately, this worked with only a null parameter or a list of a single element. At the point of design, I didn&#39;t test it with multiple elements in the list. When I finally got there, I encountered the following error:\r\n\r\n``SQL Error [4145] [S0001]: An expression of non-boolean type specified in a context where a condition is expected, near &#39;,&#39;.``\r\n\r\nWhich was caused by the following code:\r\n\r\n``AND ((&#39;id1&#39;, &#39;id2&#39;, &#39;id3&#39;) IS NULL OR wr.USR_ID IN (&#39;id1&#39;, &#39;id2&#39;, &#39;id3&#39;))``\r\n\r\nI then tried his solution, which was indeed working when my list was not null or empty. But when it was, the query was becoming this:\r\n\r\n``AND (COALESCE(&#39;&#39;, NULL) IS NULL OR wr.USR_ID IN (&#39;&#39;))``\r\n\r\nWhich was causing the result set to be empty.\r\n\r\nAnd now, proceeding to the solution I found. All I had to do was to change the condition in the query:\r\n\r\n``AND (COALESCE(:assignedUsers, NULL) = &#39;&#39; OR wr.USR_ID IN (:assignedUsers))``\r\n\r\nAnd this is working for an empty list, a null value, a list with a single or more elements.\r\n\r\n  [1]: https://stackoverflow.com/a/55315864/9128896","title":"Passing empty list as parameter to JPA query throws error","body":"<p>I ran into the same problem today and <a href=\"https://stackoverflow.com/a/55315864/9128896\">@r_divyas's response</a> almost did it for me, but there was a small change I had to do in order to make it work.</p>\n<p>I have a query that I save in the database so I couldn't change it on the fly. This query triggers the build of a dynamic UI according to the fields in the result set.</p>\n<p>In the UI I have a multiple choice dropdown, which is optional. So there can be 0, 1 or more elements selected from it.</p>\n<p>Therefore, I needed to find a way to make this parameter optional in my query.\nInitially, I set it up as:</p>\n<p><code>(:assignedUsers IS NULL OR wr.USR_ID IN (:assignedUsers))</code></p>\n<p>Unfortunately, this worked with only a null parameter or a list of a single element. At the point of design, I didn't test it with multiple elements in the list. When I finally got there, I encountered the following error:</p>\n<p><code>SQL Error [4145] [S0001]: An expression of non-boolean type specified in a context where a condition is expected, near ','.</code></p>\n<p>Which was caused by the following code:</p>\n<p><code>AND (('id1', 'id2', 'id3') IS NULL OR wr.USR_ID IN ('id1', 'id2', 'id3'))</code></p>\n<p>I then tried his solution, which was indeed working when my list was not null or empty. But when it was, the query was becoming this:</p>\n<p><code>AND (COALESCE('', NULL) IS NULL OR wr.USR_ID IN (''))</code></p>\n<p>Which was causing the result set to be empty.</p>\n<p>And now, proceeding to the solution I found. All I had to do was to change the condition in the query:</p>\n<p><code>AND (COALESCE(:assignedUsers, NULL) = '' OR wr.USR_ID IN (:assignedUsers))</code></p>\n<p>And this is working for an empty list, a null value, a list with a single or more elements.</p>\n"},{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618923527,"creation_date":1618923527,"answer_id":67179440,"question_id":2488930,"body_markdown":"My simple solution was to add an aux parameter to flag the condition like in the below example:\r\n\r\n```sql\r\n\r\nwhere (:doNotCheckList = 1)\r\n   or (fieldName in :valuesList)\r\n\r\n```\r\n\r\n```java\r\n\r\nquery\r\n  .setParameter(&quot;doNotCheckList&quot;, (!valuesList.isEmpty() ? 1 : 0))\r\n  .setParameter(&quot;valuesList&quot;,     valuesList);\r\n\r\n```","title":"Passing empty list as parameter to JPA query throws error","body":"<p>My simple solution was to add an aux parameter to flag the condition like in the below example:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>\nwhere (:doNotCheckList = 1)\n   or (fieldName in :valuesList)\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\nquery\n  .setParameter(&quot;doNotCheckList&quot;, (!valuesList.isEmpty() ? 1 : 0))\n  .setParameter(&quot;valuesList&quot;,     valuesList);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661863348,"creation_date":1661863348,"answer_id":73542654,"question_id":2488930,"body_markdown":"I use two parameters `municipalitiesb` and `municipalities`.\r\n`municipalitiesb` activate or desactivate the IN condition.\r\nIn case `municipalities` is empty, I use a dummy `Municipality`.\r\n\r\n    //protection against NPE\r\n    if(municipalities == null) municipalities = Collections.emptyList();\r\n    em.createQuery(&quot;SELECT p FROM Profile p JOIN p.municipality m WHERE (:municipalitiesb IS NULL OR m IN (:municipalities))&quot;)\r\n        .setParameter(&quot;municipalitiesb&quot;, municipalities.isEmpty() ? null : 1)\r\n        .setParameter(&quot;municipalities&quot;, municipalities.isEmpty() ? Arrays.asList(new Municipality()), municipalities)\r\n        .getResultList();","title":"Passing empty list as parameter to JPA query throws error","body":"<p>I use two parameters <code>municipalitiesb</code> and <code>municipalities</code>.\n<code>municipalitiesb</code> activate or desactivate the IN condition.\nIn case <code>municipalities</code> is empty, I use a dummy <code>Municipality</code>.</p>\n<pre><code>//protection against NPE\nif(municipalities == null) municipalities = Collections.emptyList();\nem.createQuery(&quot;SELECT p FROM Profile p JOIN p.municipality m WHERE (:municipalitiesb IS NULL OR m IN (:municipalities))&quot;)\n    .setParameter(&quot;municipalitiesb&quot;, municipalities.isEmpty() ? null : 1)\n    .setParameter(&quot;municipalities&quot;, municipalities.isEmpty() ? Arrays.asList(new Municipality()), municipalities)\n    .getResultList();\n</code></pre>\n"}],"owner":{"account_id":55310,"reputation":4734,"user_id":165629,"accept_rate":90,"display_name":"Tuukka Mustonen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81589,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":2489053,"answer_count":10,"score":54,"last_activity_date":1661863348,"creation_date":1269209045,"question_id":2488930,"body_markdown":"If I pass an empty list into a JPA query, I get an error. \r\n\r\nFor example:\r\n\r\n    List&lt;Municipality&gt; municipalities = myDao.findAll();  // returns empty list\r\n    em.createQuery(&quot;SELECT p FROM Profile p JOIN p.municipality m WHERE m IN (:municipalities)&quot;)\r\n        .setParameter(&quot;municipalities&quot;, municipalities)\r\n        .getResultList();\r\n\r\nBecause the list is empty, Hibernate generates this in SQL as &quot;IN ()&quot;, which gives me error with Hypersonic database.\r\n\r\nThere is a ticket for this in [Hibernate issue tracking](http://opensource.atlassian.com/projects/hibernate/browse/HHH-2045) but there are not many comments/activity there. I don&#39;t know about support in other ORM products or in JPA spec either.\r\n\r\nI don&#39;t like the idea of having to manually check for null objects and empty lists every time. Is there some commonly known approach/extension to this? How do you handle these situations?","title":"Passing empty list as parameter to JPA query throws error","body":"<p>If I pass an empty list into a JPA query, I get an error.</p>\n<p>For example:</p>\n<pre><code>List&lt;Municipality&gt; municipalities = myDao.findAll();  // returns empty list\nem.createQuery(&quot;SELECT p FROM Profile p JOIN p.municipality m WHERE m IN (:municipalities)&quot;)\n    .setParameter(&quot;municipalities&quot;, municipalities)\n    .getResultList();\n</code></pre>\n<p>Because the list is empty, Hibernate generates this in SQL as &quot;IN ()&quot;, which gives me error with Hypersonic database.</p>\n<p>There is a ticket for this in <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-2045\" rel=\"noreferrer\">Hibernate issue tracking</a> but there are not many comments/activity there. I don't know about support in other ORM products or in JPA spec either.</p>\n<p>I don't like the idea of having to manually check for null objects and empty lists every time. Is there some commonly known approach/extension to this? How do you handle these situations?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1477853797,"post_id":40332469,"comment_id":67919870,"body_markdown":"You need to clarify what you currently get as output, and what you would like to get as output.","body":"You need to clarify what you currently get as output, and what you would like to get as output."},{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1477855133,"post_id":40332469,"comment_id":67920242,"body_markdown":"Please clarify this, as well as your expected output, in the question itself.  It might also help you to give your variables more useful names than `i`, `j`, `k`, `l` and `n`.","body":"Please clarify this, as well as your expected output, in the question itself.  It might also help you to give your variables more useful names than <code>i</code>, <code>j</code>, <code>k</code>, <code>l</code> and <code>n</code>."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1477857478,"post_id":40332469,"comment_id":67920888,"body_markdown":"What keeps you from just printing the space after the numbers?","body":"What keeps you from just printing the space after the numbers?"},{"owner":{"account_id":9546724,"reputation":33,"user_id":7092479,"display_name":"James"},"score":1,"creation_date":1477860864,"post_id":40332469,"comment_id":67922052,"body_markdown":"Nothing keeps me from printing the spaces in between the numbers. But once I add them, the pattern loses its form and becomes a different one.","body":"Nothing keeps me from printing the spaces in between the numbers. But once I add them, the pattern loses its form and becomes a different one."}],"answers":[{"tags":[],"owner":{"account_id":4699772,"reputation":59,"user_id":3803673,"accept_rate":50,"display_name":"bijx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477855415,"creation_date":1477855415,"answer_id":40332701,"question_id":40332469,"body_markdown":"Based on your question, I understand you wish to put spaces between the numbers that the user selects. So an example output would be:\r\n\r\n    Please enter a number 1...9 : \r\n    9\r\n    1 2 3 4 5 6 7 8 9 \r\n\r\nIf this is what you want, then just do this:\r\n\r\n    Scanner scnr = new Scanner(System.in);\r\n\r\n\tSystem.out.println(&quot;Please enter a number 1...9 : &quot;);\r\n\tint n = scnr.nextInt();\r\n\tfor (int i = 1; i &lt;= n; i++){\r\n\t    System.out.print(i + &quot; &quot;);\r\n\t}\r\n","title":"Java Triangle Code with descending numbers","body":"<p>Based on your question, I understand you wish to put spaces between the numbers that the user selects. So an example output would be:</p>\n\n<pre><code>Please enter a number 1...9 : \n9\n1 2 3 4 5 6 7 8 9 \n</code></pre>\n\n<p>If this is what you want, then just do this:</p>\n\n<pre><code>Scanner scnr = new Scanner(System.in);\n\nSystem.out.println(\"Please enter a number 1...9 : \");\nint n = scnr.nextInt();\nfor (int i = 1; i &lt;= n; i++){\n    System.out.print(i + \" \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26095037,"reputation":16,"user_id":19791396,"display_name":"kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661859247,"creation_date":1661859247,"answer_id":73541773,"question_id":40332469,"body_markdown":"It&#39;s not wrong, what you did you just missed the right places to add a space. I formatted you for loops so that the numbers are displayed in an right angle. For your information you can define the variables in the for loop for(int i .... ) this makes it easier to read. Here is the version with the spaces.\r\n\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            for (int k = i; k &lt; n; k++) {\r\n                System.out.print(&quot;  &quot;);\r\n            }\r\n            for (int j = i; j &gt; 0; --j) {\r\n                System.out.print(j + &quot; &quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }","title":"Java Triangle Code with descending numbers","body":"<p>It's not wrong, what you did you just missed the right places to add a space. I formatted you for loops so that the numbers are displayed in an right angle. For your information you can define the variables in the for loop for(int i .... ) this makes it easier to read. Here is the version with the spaces.</p>\n<pre><code>    for (int i = 1; i &lt;= n; i++) {\n        for (int k = i; k &lt; n; k++) {\n            System.out.print(&quot;  &quot;);\n        }\n        for (int j = i; j &gt; 0; --j) {\n            System.out.print(j + &quot; &quot;);\n        }\n        System.out.println(&quot;&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661863288,"creation_date":1661863288,"answer_id":73542638,"question_id":40332469,"body_markdown":"You are concatenting the digit with an empty String.  If you concatenate a single space then you will generally get the output you want.  You will have a trailing space.  This is unlikely to be an issue.\r\n\r\nYou defined a `space` variable you probably intended to use as a constant for this construction.  It conventional to mark constants final and use an all-caps name.\r\n\r\n    final String SPACE = &quot; &quot;;\r\n    ...\r\n    for (j = i; j &gt; 0; --j) {\r\n       System.out.print(j + SPACE);       \r\n    }\r\n\r\nAn alternative is to us a StringJoiner to compose the String and then output the String.\r\n\r\n    StringJoiner joiner = new StringJoiner(SPACE);\r\n    for (j = i; j &gt; 0; --j) {\r\n      joiner.add(j);\r\n    }\r\n    System.out.println(joiner.toString());\r\n","title":"Java Triangle Code with descending numbers","body":"<p>You are concatenting the digit with an empty String.  If you concatenate a single space then you will generally get the output you want.  You will have a trailing space.  This is unlikely to be an issue.</p>\n<p>You defined a <code>space</code> variable you probably intended to use as a constant for this construction.  It conventional to mark constants final and use an all-caps name.</p>\n<pre><code>final String SPACE = &quot; &quot;;\n...\nfor (j = i; j &gt; 0; --j) {\n   System.out.print(j + SPACE);       \n}\n</code></pre>\n<p>An alternative is to us a StringJoiner to compose the String and then output the String.</p>\n<pre><code>StringJoiner joiner = new StringJoiner(SPACE);\nfor (j = i; j &gt; 0; --j) {\n  joiner.add(j);\n}\nSystem.out.println(joiner.toString());\n</code></pre>\n"}],"owner":{"account_id":9546724,"reputation":33,"user_id":7092479,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661863288,"creation_date":1477853721,"question_id":40332469,"body_markdown":"so i&#39;m having a little issue with my code for my class.\r\n\r\nmy code looks like this:\r\n\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\tint n = 0;\r\n\r\n\t\tSystem.out.println(&quot;Please enter a number 1...9 : &quot;);\r\n\t\tn = scnr.nextInt();\r\n\r\n\t\tint i = 0;\r\n\t\tint k = 0;\r\n\t\tint j = 0;\r\n\t\tint l = n;\r\n\t\tString space = &quot; &quot;;\r\n\t\tfor (i = 1; i &lt;= n; i++) {\r\n\t\t\tfor (k = i; k &lt; n; k++) {\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tfor (j = i; j &gt; 0; --j) {\r\n\t\t\t\tSystem.out.print(j + &quot;&quot;);\t\t\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\r\n\t\t\t}\r\n\r\nmy output looks like\r\n\r\n-----1\r\n\r\n---21\r\n\r\n-321\r\n\r\n4321\r\n\r\nand my expected output is supposed to look like this:\r\n\r\n-----1\r\n\r\n--2-1\r\n\r\n3-2-1\r\n\r\n(assume the &#39;-&#39; are spaces)\r\n\r\nI just need spaces between the numbers, but every time I do so, I get a full on triangle. If anyone could help me out with this I would really appreciate it! Thank you!","title":"Java Triangle Code with descending numbers","body":"<p>so i'm having a little issue with my code for my class.</p>\n\n<p>my code looks like this:</p>\n\n<pre><code>    Scanner scnr = new Scanner(System.in);\n    int n = 0;\n\n    System.out.println(\"Please enter a number 1...9 : \");\n    n = scnr.nextInt();\n\n    int i = 0;\n    int k = 0;\n    int j = 0;\n    int l = n;\n    String space = \" \";\n    for (i = 1; i &lt;= n; i++) {\n        for (k = i; k &lt; n; k++) {\n            System.out.print(\" \");\n        }\n        for (j = i; j &gt; 0; --j) {\n            System.out.print(j + \"\");       \n\n            }\n        System.out.println(\"\");\n\n        }\n</code></pre>\n\n<p>my output looks like</p>\n\n<p>-----1</p>\n\n<p>---21</p>\n\n<p>-321</p>\n\n<p>4321</p>\n\n<p>and my expected output is supposed to look like this:</p>\n\n<p>-----1</p>\n\n<p>--2-1</p>\n\n<p>3-2-1</p>\n\n<p>(assume the '-' are spaces)</p>\n\n<p>I just need spaces between the numbers, but every time I do so, I get a full on triangle. If anyone could help me out with this I would really appreciate it! Thank you!</p>\n"},{"tags":["java","sql","yaml","liquibase"],"comments":[{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1663017347,"post_id":73542560,"comment_id":130136185,"body_markdown":"Please add the code in the image using the code tags. TY https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"Please add the code in the image using the code tags. TY <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1663017556,"post_id":73542560,"comment_id":130136248,"body_markdown":"Once you&#39;ve reformatted and posted the error and code as text, I will dig in deeper, but in the meantime, here&#39;s a link to the documentation for drop-table: https://docs.liquibase.com/change-types/drop-table.html - Also, if you haven&#39;t already, you should consider taking the free Liquibase University courses as they&#39;ll help provide a lot of the base knowledge to troubleshoot things. https://learn.liquibase.com/catalog","body":"Once you&#39;ve reformatted and posted the error and code as text, I will dig in deeper, but in the meantime, here&#39;s a link to the documentation for drop-table: <a href=\"https://docs.liquibase.com/change-types/drop-table.html\" rel=\"nofollow noreferrer\">docs.liquibase.com/change-types/drop-table.html</a> - Also, if you haven&#39;t already, you should consider taking the free Liquibase University courses as they&#39;ll help provide a lot of the base knowledge to troubleshoot things. <a href=\"https://learn.liquibase.com/catalog\" rel=\"nofollow noreferrer\">learn.liquibase.com/catalog</a>"},{"owner":{"account_id":25369896,"reputation":1,"user_id":19183903,"display_name":"Евгений Когут"},"score":1,"creation_date":1663158594,"post_id":73542560,"comment_id":130172478,"body_markdown":"My teacher said that it is impossible. \nThank you for links, will check and learn=)","body":"My teacher said that it is impossible.  Thank you for links, will check and learn=)"}],"owner":{"account_id":25369896,"reputation":1,"user_id":19183903,"display_name":"Евгений Когут"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661863011,"creation_date":1661862976,"question_id":73542560,"body_markdown":"I want the entire schema to be deleted from the database, yaml + liquibase format. \r\nWith the condition that if it does not find any table, then it does nothing and moves on. (Displays a message)\r\n\r\nHow to set such a condition? At the moment, it gives an error that such a table cannot be found. (When it is deleted)\r\n\r\nOptions through a repository and sql a script I know. But I started doing this (creating tables and insert) and I would like to do everything in the same style.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UymH6.png","title":"How to setup droptable via liquibase?","body":"<p>I want the entire schema to be deleted from the database, yaml + liquibase format.\nWith the condition that if it does not find any table, then it does nothing and moves on. (Displays a message)</p>\n<p>How to set such a condition? At the moment, it gives an error that such a table cannot be found. (When it is deleted)</p>\n<p>Options through a repository and sql a script I know. But I started doing this (creating tables and insert) and I would like to do everything in the same style.\n<a href=\"https://i.stack.imgur.com/UymH6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","jpa","eclipselink"],"answers":[{"tags":[],"owner":{"account_id":2141983,"reputation":4309,"user_id":1900417,"accept_rate":75,"display_name":"Donato Szilagyi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1383341586,"creation_date":1383341586,"answer_id":19735728,"question_id":19735252,"body_markdown":"You should use\r\n\r\n    CriteriaQuery _criteriaquery = EM.getCriteriaBuilder().createQuery(Clazz.class);\r\n\r\ninstead of \r\n\r\n    CriteriaQuery _criteriaquery = EM.getCriteriaBuilder().createQuery(Clazz);","title":"JPA QueryException - A reference class must be provided","body":"<p>You should use</p>\n\n<pre><code>CriteriaQuery _criteriaquery = EM.getCriteriaBuilder().createQuery(Clazz.class);\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>CriteriaQuery _criteriaquery = EM.getCriteriaBuilder().createQuery(Clazz);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1383341636,"creation_date":1383341636,"answer_id":19735746,"question_id":19735252,"body_markdown":"Your query isn&#39;t complited. You should add `SELECT` and `FROM` clauses.  \r\n\r\n    CriteriaQuery&lt;SomeEntity&gt; _criteriaquery = EM.getCriteriaBuilder().createQuery(SomeEntity.class);\r\n    Root&lt;SomeEntity&gt; selector = _criteriaquery.from(SomeEntity.class); // FROM\r\n    _criteriaquery.select(selector);  // SELECT\r\n    Query query = EM.createQuery(_criteriaquery);\r\n    return query.getResultList();","title":"JPA QueryException - A reference class must be provided","body":"<p>Your query isn't complited. You should add <code>SELECT</code> and <code>FROM</code> clauses.  </p>\n\n<pre><code>CriteriaQuery&lt;SomeEntity&gt; _criteriaquery = EM.getCriteriaBuilder().createQuery(SomeEntity.class);\nRoot&lt;SomeEntity&gt; selector = _criteriaquery.from(SomeEntity.class); // FROM\n_criteriaquery.select(selector);  // SELECT\nQuery query = EM.createQuery(_criteriaquery);\nreturn query.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21653,"reputation":57779,"user_id":52817,"accept_rate":90,"display_name":"laktak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661863010,"creation_date":1661863010,"answer_id":73542568,"question_id":19735252,"body_markdown":"The same exception can also be thrown if you forget to register your class in `persistence.xml`.","title":"JPA QueryException - A reference class must be provided","body":"<p>The same exception can also be thrown if you forget to register your class in <code>persistence.xml</code>.</p>\n"}],"owner":{"account_id":2928505,"reputation":2489,"user_id":2561119,"accept_rate":89,"display_name":"GabrielBB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1644,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19735746,"answer_count":3,"score":2,"last_activity_date":1661863010,"creation_date":1383339264,"question_id":19735252,"body_markdown":"   Using JPA 2.0, Java EE 5, Weblogic 10.3 (11g), JDK 6, EclipseLink.\r\n\r\nWhen i attempt to run this:\r\n\r\n     CriteriaQuery _criteriaquery = EM.getCriteriaBuilder().createQuery(Clazz);\r\n            Query query = EM.createQuery(_criteriaquery);\r\n            return query.getResultList();\r\n\r\nI just get this :\r\n\r\n    Caused by: Exception [EclipseLink-6029] (Eclipse Persistence Services - 2.1.2.v20101206-r8635): org.eclipse.persistence.exceptions.QueryException\r\n        Exception Description: A reference class must be provided.\r\n        Query: ReportQuery()\r\n        \tat org.eclipse.persistence.exceptions.QueryException.referenceClassMissing(QueryException.java:1004)\r\n        \tat org.eclipse.persistence.queries.ObjectLevelReadQuery.checkDescriptor(ObjectLevelReadQuery.java:744)\r\n        \tat org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:661)\r\n\r\nWhat could be the cause of this error ?","title":"JPA QueryException - A reference class must be provided","body":"<p>Using JPA 2.0, Java EE 5, Weblogic 10.3 (11g), JDK 6, EclipseLink.</p>\n\n<p>When i attempt to run this:</p>\n\n<pre><code> CriteriaQuery _criteriaquery = EM.getCriteriaBuilder().createQuery(Clazz);\n        Query query = EM.createQuery(_criteriaquery);\n        return query.getResultList();\n</code></pre>\n\n<p>I just get this :</p>\n\n<pre><code>Caused by: Exception [EclipseLink-6029] (Eclipse Persistence Services - 2.1.2.v20101206-r8635): org.eclipse.persistence.exceptions.QueryException\n    Exception Description: A reference class must be provided.\n    Query: ReportQuery()\n        at org.eclipse.persistence.exceptions.QueryException.referenceClassMissing(QueryException.java:1004)\n        at org.eclipse.persistence.queries.ObjectLevelReadQuery.checkDescriptor(ObjectLevelReadQuery.java:744)\n        at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:661)\n</code></pre>\n\n<p>What could be the cause of this error ?</p>\n"},{"tags":["java","windows","keycloak","event-listener","keycloak-services"],"answers":[{"tags":[],"owner":{"account_id":25250215,"reputation":11,"user_id":19082808,"display_name":"InterNos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661862807,"creation_date":1652368094,"answer_id":72218049,"question_id":72181321,"body_markdown":"[Png][1]\r\n\r\nJust put the provider files in the providers folder.\r\nPut the theme files in the theme folder.\r\nNo more, no less.\r\nAlso read READMNE.md in those folders....\r\n\r\n  [1]: https://i.stack.imgur.com/kNvYf.png","title":"Custom Event Listener for Keycloak of version 18.0.0","body":"<p><a href=\"https://i.stack.imgur.com/kNvYf.png\" rel=\"nofollow noreferrer\">Png</a></p>\n<p>Just put the provider files in the providers folder.\nPut the theme files in the theme folder.\nNo more, no less.\nAlso read READMNE.md in those folders....</p>\n"}],"owner":{"account_id":25250215,"reputation":11,"user_id":19082808,"display_name":"InterNos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72218049,"answer_count":1,"score":0,"last_activity_date":1661862807,"creation_date":1652162015,"question_id":72181321,"body_markdown":"I am trying to create an event listener for Keycloak:\r\n[Project structure and META-INF.services.org.keycloak.events.EventListenerProviderFactory][1]\r\n\r\nCustomEventListenerProviderFactory:\r\n\r\n    public class CustomEventListenerProviderFactory implements EventListenerProviderFactory {\r\n    \r\n        private static final String LISTENER_ID = &quot;event-listener-extension&quot;;\r\n    \r\n        @Override\r\n        public EventListenerProvider create(KeycloakSession session) {\r\n            return new CustomEventListenerProvider();\r\n        }\r\n    \r\n        @Override\r\n        public void init(Config.Scope scope) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void postInit(KeycloakSessionFactory keycloakSessionFactory) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void close() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public String getId() {\r\n            return LISTENER_ID;\r\n        }\r\n    \r\n    }\r\n\r\nCustomEventListenerProvider:\r\n\r\n    @Slf4j\r\n    @NoArgsConstructor\r\n    public class CustomEventListenerProvider implements EventListenerProvider {\r\n    \r\n        @Override\r\n        public void onEvent(Event event) {\r\n          log.info(&quot;Caught event {}&quot;, EventUtils.toString(event));\r\n        }\r\n    \r\n        @Override\r\n        public void onEvent(AdminEvent adminEvent, boolean b) {\r\n            log.info(&quot;Caught admin event {}&quot;, EventUtils.toString(adminEvent));\r\n    \r\n            List&lt;CustomAdminEvent&gt; events = new LinkedList&lt;&gt;();\r\n            events.add(new PasswordResetEvent(adminEvent));\r\n    \r\n            events.stream().filter(CustomAdminEvent::isValid).forEach(CustomAdminEvent::process);\r\n        }\r\n    \r\n        @Override\r\n        public void close() {\r\n    \r\n        }\r\n    }\r\n\r\nBut when I run `mvn clean package` and copy [target folder after mvn commands][2] the jar file into the [path to deployment folder][3] and then run the command to start Keycloak in cmd \r\n\r\n    kc.bat start-dev --http-port 8082\r\n\r\nNo custom events are displayed.\r\n \r\n[Events in Keycloak][4]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8RuB6.png\r\n  [2]: https://i.stack.imgur.com/fNBSL.png\r\n  [3]: https://i.stack.imgur.com/R7DWh.png\r\n  [4]: https://i.stack.imgur.com/9N6TB.png","title":"Custom Event Listener for Keycloak of version 18.0.0","body":"<p>I am trying to create an event listener for Keycloak:\n<a href=\"https://i.stack.imgur.com/8RuB6.png\" rel=\"nofollow noreferrer\">Project structure and META-INF.services.org.keycloak.events.EventListenerProviderFactory</a></p>\n<p>CustomEventListenerProviderFactory:</p>\n<pre><code>public class CustomEventListenerProviderFactory implements EventListenerProviderFactory {\n\n    private static final String LISTENER_ID = &quot;event-listener-extension&quot;;\n\n    @Override\n    public EventListenerProvider create(KeycloakSession session) {\n        return new CustomEventListenerProvider();\n    }\n\n    @Override\n    public void init(Config.Scope scope) {\n\n    }\n\n    @Override\n    public void postInit(KeycloakSessionFactory keycloakSessionFactory) {\n\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    @Override\n    public String getId() {\n        return LISTENER_ID;\n    }\n\n}\n</code></pre>\n<p>CustomEventListenerProvider:</p>\n<pre><code>@Slf4j\n@NoArgsConstructor\npublic class CustomEventListenerProvider implements EventListenerProvider {\n\n    @Override\n    public void onEvent(Event event) {\n      log.info(&quot;Caught event {}&quot;, EventUtils.toString(event));\n    }\n\n    @Override\n    public void onEvent(AdminEvent adminEvent, boolean b) {\n        log.info(&quot;Caught admin event {}&quot;, EventUtils.toString(adminEvent));\n\n        List&lt;CustomAdminEvent&gt; events = new LinkedList&lt;&gt;();\n        events.add(new PasswordResetEvent(adminEvent));\n\n        events.stream().filter(CustomAdminEvent::isValid).forEach(CustomAdminEvent::process);\n    }\n\n    @Override\n    public void close() {\n\n    }\n}\n</code></pre>\n<p>But when I run <code>mvn clean package</code> and copy <a href=\"https://i.stack.imgur.com/fNBSL.png\" rel=\"nofollow noreferrer\">target folder after mvn commands</a> the jar file into the <a href=\"https://i.stack.imgur.com/R7DWh.png\" rel=\"nofollow noreferrer\">path to deployment folder</a> and then run the command to start Keycloak in cmd</p>\n<pre><code>kc.bat start-dev --http-port 8082\n</code></pre>\n<p>No custom events are displayed.</p>\n<p><a href=\"https://i.stack.imgur.com/9N6TB.png\" rel=\"nofollow noreferrer\">Events in Keycloak</a></p>\n"},{"tags":["java","android","android-spinner"],"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1661759281,"post_id":73516066,"comment_id":129839262,"body_markdown":"Trying moving this line courseTermID.setAdapter(termArrayAdapter)  after courseTermID.setSelection(findValue(courseTermID))","body":"Trying moving this line courseTermID.setAdapter(termArrayAdapter)  after courseTermID.setSelection(findValue(courseTermID))"}],"answers":[{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661862767,"creation_date":1661779486,"answer_id":73529521,"question_id":73516066,"body_markdown":"To get the index:\r\n\r\n    private int getIndex(Spinner spinner, String myString) {\r\n            for (int i = 0; i &lt; spinner.getCount(); i++) {\r\n                if (spinner.getItemAtPosition(i).toString().equalsIgnoreCase(myString)) {\r\n                    return i;\r\n                }\r\n            }\r\n            return 0;\r\n        }","title":"Why is the value of this spinner not changing?","body":"<p>To get the index:</p>\n<pre><code>private int getIndex(Spinner spinner, String myString) {\n        for (int i = 0; i &lt; spinner.getCount(); i++) {\n            if (spinner.getItemAtPosition(i).toString().equalsIgnoreCase(myString)) {\n                return i;\n            }\n        }\n        return 0;\n    }\n</code></pre>\n"}],"owner":{"account_id":25606604,"reputation":1,"user_id":19380605,"display_name":"Anna Fenstermaker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661862767,"creation_date":1661661970,"question_id":73516066,"body_markdown":"I am writing an app that uses a spinner when creating or editing a course to attach it to a term. The spinner is populated using LiveData from a Room database. I can get the data into the spinner, and I can read the value from the spinner and save it back to the database, but I am at a complete dead end when it comes to setting the value of the spinner back to the value that was chosen when going in to edit the course again.\r\n\r\nHere are links to some screenshots of what I mean:\r\n\r\n[Course detail activity.][1] In this image, the term ID is shown as 2.\r\n\r\n[Edit course activity.][2] This is the same course, but the spinner is showing term ID 1 (the default value).\r\n\r\nEverything is getting set up in the onCreate method. I set up the adapter, attach it to the spinner, and observe the IDs to add them to the adapter. Also in onCreate, I call the setSelection method on my spinner to, in an ideal world, set the selection to the value coming in via intent.\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n\r\n\r\n\tArrayAdapter&lt;Integer&gt; termArrayAdapter = new ArrayAdapter&lt;&gt;(this, \tandroid.R.layout.simple_spinner_item);\r\n        termArrayAdapter.setDropDownViewResource(android.R.layout.simple_dropdown_item_1line);\r\n        courseTermID.setAdapter(termArrayAdapter);\r\n        TermViewModel termViewModel = new ViewModelProvider(this).get(TermViewModel.class);\r\n        termViewModel.getAllTermIDs().observe(this, termArrayAdapter::addAll);\r\n\r\n\r\n\r\n\tcourseTermID.setSelection(findValue(courseTermID, getIntent().getStringExtra(&quot;termid&quot;)));  }\r\n\r\n\r\nThe findValue method:\r\n\r\n    private int findValue(Spinner spinner, String value) {\r\n        int index = 0;\r\n        for (int i = 0; i &lt; spinner.getCount(); i++) {\r\n            if (spinner.getItemAtPosition(i).toString().trim().equals(value.trim())) {\r\n                index = i;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n\r\n\r\nThe part that really baffles me is not only is this not working, I can&#39;t even hard-code the value of the spinner. If I pass a value in the setSelection method, it just gets ignored.\r\n\r\nI&#39;ve tried being more explicit such as in [this similar question][3] which is attempting to do the same thing. Either way works to set up the spinner in the first place, but neither way seems to make a difference regarding pulling the value back up later.\r\n\r\nI&#39;m really stuck and I&#39;d appreciate any help. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mWwB2.png\r\n  [2]: https://i.stack.imgur.com/BQzY6.png\r\n  [3]: https://stackoverflow.com/questions/59350020/populate-spinner-from-livedata-room-database","title":"Why is the value of this spinner not changing?","body":"<p>I am writing an app that uses a spinner when creating or editing a course to attach it to a term. The spinner is populated using LiveData from a Room database. I can get the data into the spinner, and I can read the value from the spinner and save it back to the database, but I am at a complete dead end when it comes to setting the value of the spinner back to the value that was chosen when going in to edit the course again.</p>\n<p>Here are links to some screenshots of what I mean:</p>\n<p><a href=\"https://i.stack.imgur.com/mWwB2.png\" rel=\"nofollow noreferrer\">Course detail activity.</a> In this image, the term ID is shown as 2.</p>\n<p><a href=\"https://i.stack.imgur.com/BQzY6.png\" rel=\"nofollow noreferrer\">Edit course activity.</a> This is the same course, but the spinner is showing term ID 1 (the default value).</p>\n<p>Everything is getting set up in the onCreate method. I set up the adapter, attach it to the spinner, and observe the IDs to add them to the adapter. Also in onCreate, I call the setSelection method on my spinner to, in an ideal world, set the selection to the value coming in via intent.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n\n\nArrayAdapter&lt;Integer&gt; termArrayAdapter = new ArrayAdapter&lt;&gt;(this,   android.R.layout.simple_spinner_item);\n    termArrayAdapter.setDropDownViewResource(android.R.layout.simple_dropdown_item_1line);\n    courseTermID.setAdapter(termArrayAdapter);\n    TermViewModel termViewModel = new ViewModelProvider(this).get(TermViewModel.class);\n    termViewModel.getAllTermIDs().observe(this, termArrayAdapter::addAll);\n\n\n\ncourseTermID.setSelection(findValue(courseTermID, getIntent().getStringExtra(&quot;termid&quot;)));  }\n</code></pre>\n<p>The findValue method:</p>\n<pre><code>private int findValue(Spinner spinner, String value) {\n    int index = 0;\n    for (int i = 0; i &lt; spinner.getCount(); i++) {\n        if (spinner.getItemAtPosition(i).toString().trim().equals(value.trim())) {\n            index = i;\n        }\n    }\n    return index;\n}\n</code></pre>\n<p>The part that really baffles me is not only is this not working, I can't even hard-code the value of the spinner. If I pass a value in the setSelection method, it just gets ignored.</p>\n<p>I've tried being more explicit such as in <a href=\"https://stackoverflow.com/questions/59350020/populate-spinner-from-livedata-room-database\">this similar question</a> which is attempting to do the same thing. Either way works to set up the spinner in the first place, but neither way seems to make a difference regarding pulling the value back up later.</p>\n<p>I'm really stuck and I'd appreciate any help.</p>\n"},{"tags":["java","maven","cxf-xjc-plugin"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":1,"creation_date":1661784122,"post_id":73530321,"comment_id":129847690,"body_markdown":"I think javax or jakarta are bound to the plugin version if it doesn’t specify a configuration option to change this.","body":"I think javax or jakarta are bound to the plugin version if it doesn’t specify a configuration option to change this."},{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1661798820,"post_id":73530321,"comment_id":129852799,"body_markdown":"I&#39;m thinking maybe some dependency management could do the trick. It&#39;s working by mistake like that in one of my projects but can&#39;t figure out why, I suspect due to project dependencies.","body":"I&#39;m thinking maybe some dependency management could do the trick. It&#39;s working by mistake like that in one of my projects but can&#39;t figure out why, I suspect due to project dependencies."}],"answers":[{"tags":[],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661862398,"creation_date":1661862398,"answer_id":73542438,"question_id":73530321,"body_markdown":"Ok so using `org.apache.cxf:cxf-xjc-plugin:3.3.2` solves my problem. It escapes properly javaDoc and generates classes with `javax.xml.bind...` imports.\r\n\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-sources&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceRoot&gt;${basedir}/src/gen/java&lt;/sourceRoot&gt;\r\n                            &lt;xsdOptions&gt;\r\n                                &lt;xsdOption&gt;\r\n                                    &lt;xsd&gt;${basedir}/src/main/resources/xslt/MySchema.xsd&lt;/xsd&gt;\r\n                                    &lt;packagename&gt;some.package&lt;/packagename&gt;\r\n                                &lt;/xsdOption&gt;\r\n                            &lt;/xsdOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nAfter analysing dependencies it looks like the plugin uses `jakarta.xml.bind:jakarta.xml.bind-api:2.3.3` which has `javax.xml.bind` as main package (which changes to `jakarta.xml.bind` starting with version `3.0.1`).\r\n","title":"cxf-xjc-plugin: generate javax instead of jakarta imports","body":"<p>Ok so using <code>org.apache.cxf:cxf-xjc-plugin:3.3.2</code> solves my problem. It escapes properly javaDoc and generates classes with <code>javax.xml.bind...</code> imports.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-sources&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xsdtojava&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceRoot&gt;${basedir}/src/gen/java&lt;/sourceRoot&gt;\n                            &lt;xsdOptions&gt;\n                                &lt;xsdOption&gt;\n                                    &lt;xsd&gt;${basedir}/src/main/resources/xslt/MySchema.xsd&lt;/xsd&gt;\n                                    &lt;packagename&gt;some.package&lt;/packagename&gt;\n                                &lt;/xsdOption&gt;\n                            &lt;/xsdOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>After analysing dependencies it looks like the plugin uses <code>jakarta.xml.bind:jakarta.xml.bind-api:2.3.3</code> which has <code>javax.xml.bind</code> as main package (which changes to <code>jakarta.xml.bind</code> starting with version <code>3.0.1</code>).</p>\n"}],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73542438,"answer_count":1,"score":2,"last_activity_date":1661862398,"creation_date":1661783114,"question_id":73530321,"body_markdown":"How to configure latest `org.apache.cxf` plugin to generate java classes with **javax** instead of jakarta imports?\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;extensions&gt;\r\n                        &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:4.0.0&lt;/extension&gt;\r\n                    &lt;/extensions&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-sources&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceRoot&gt;${basedir}/src/gen/java&lt;/sourceRoot&gt;\r\n                            &lt;xsdOptions&gt;\r\n                                &lt;xsdOption&gt;\r\n                                    &lt;xsd&gt;${basedir}/src/main/resources/xslt/MySchema.xsd&lt;/xsd&gt;\r\n                                    &lt;packagename&gt;some.package&lt;/packagename&gt;\r\n                                &lt;/xsdOption&gt;\r\n                            &lt;/xsdOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nDowngrading plugin to version `2.7.0` helps but it has problems with generating javaDocs, e.g. `&gt;` signs are not escaped properly.","title":"cxf-xjc-plugin: generate javax instead of jakarta imports","body":"<p>How to configure latest <code>org.apache.cxf</code> plugin to generate java classes with <strong>javax</strong> instead of jakarta imports?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;extensions&gt;\n                        &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:4.0.0&lt;/extension&gt;\n                    &lt;/extensions&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-sources&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xsdtojava&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceRoot&gt;${basedir}/src/gen/java&lt;/sourceRoot&gt;\n                            &lt;xsdOptions&gt;\n                                &lt;xsdOption&gt;\n                                    &lt;xsd&gt;${basedir}/src/main/resources/xslt/MySchema.xsd&lt;/xsd&gt;\n                                    &lt;packagename&gt;some.package&lt;/packagename&gt;\n                                &lt;/xsdOption&gt;\n                            &lt;/xsdOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Downgrading plugin to version <code>2.7.0</code> helps but it has problems with generating javaDocs, e.g. <code>&gt;</code> signs are not escaped properly.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":13173367,"reputation":32,"user_id":10494599,"display_name":"Semen Arshyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599147422,"creation_date":1599147422,"answer_id":63727065,"question_id":63678624,"body_markdown":"The first thing that comes to mind is direct interface management using Java.\r\nFor example:\r\n\r\n    Runtime.getRuntime ().exec (&quot;ipconfig/release&quot;);\r\n\r\nNaturally, you need to take into account specific points as an operating system.","title":"Simulate network loss with Selenium WebDriver","body":"<p>The first thing that comes to mind is direct interface management using Java.\nFor example:</p>\n<pre><code>Runtime.getRuntime ().exec (&quot;ipconfig/release&quot;);\n</code></pre>\n<p>Naturally, you need to take into account specific points as an operating system.</p>\n"},{"tags":[],"owner":{"account_id":23893118,"reputation":43,"user_id":17892492,"display_name":"Joe Arnold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661862337,"creation_date":1661862002,"answer_id":73542362,"question_id":63678624,"body_markdown":"edit: I noticed just now you asked for an answer in 3.6 and this is only for 4.0+ so apologies\r\n\r\nYou can use the chromium CommandExecutor in your own function like so:\r\n\r\n    public static void driverGoOffline(ChromeDriver driver) throws RuntimeException {\r\n        Map map = new HashMap();\r\n        map.put(&quot;offline&quot;, true);\r\n        CommandExecutor executor = ((ChromeDriver)driver).getCommandExecutor();\r\n        try\r\n        {\r\n            Response response = executor.execute(\r\n                new Command(((ChromeDriver)driver).getSessionId(), &quot;setNetworkConditions&quot;, ImmutableMap.of(&quot;network_conditions&quot;, ImmutableMap.copyOf(map)))\r\n            );\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nMore info https://stackoverflow.com/a/56526094/17892492\r\n\r\nIt is best to do it within the automated browser rather than throttling your machine&#39;s actual internet connection for many reasons","title":"Simulate network loss with Selenium WebDriver","body":"<p>edit: I noticed just now you asked for an answer in 3.6 and this is only for 4.0+ so apologies</p>\n<p>You can use the chromium CommandExecutor in your own function like so:</p>\n<pre><code>public static void driverGoOffline(ChromeDriver driver) throws RuntimeException {\n    Map map = new HashMap();\n    map.put(&quot;offline&quot;, true);\n    CommandExecutor executor = ((ChromeDriver)driver).getCommandExecutor();\n    try\n    {\n        Response response = executor.execute(\n            new Command(((ChromeDriver)driver).getSessionId(), &quot;setNetworkConditions&quot;, ImmutableMap.of(&quot;network_conditions&quot;, ImmutableMap.copyOf(map)))\n        );\n    }\n    catch (IOException e)\n    {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>More info <a href=\"https://stackoverflow.com/a/56526094/17892492\">https://stackoverflow.com/a/56526094/17892492</a></p>\n<p>It is best to do it within the automated browser rather than throttling your machine's actual internet connection for many reasons</p>\n"}],"owner":{"account_id":966924,"reputation":1447,"user_id":990207,"accept_rate":100,"display_name":"Niru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661862337,"creation_date":1598910455,"question_id":63678624,"body_markdown":"I am using Selenium and ChromeDriver to write a test to simulate network connection loss.\r\n\r\n    this.chromeDriver.setNetworkConnection(NetworkConnection.ConnectionType.AIRPLANE_MODE);\r\n    //wait and do actions\r\n    this.chromeDriver.setNetworkConnection(NetworkConnection.ConnectionType.WIFI);\r\n    //asserts  \r\n \r\nMy tests run within a container, and currently I am casting an injected instance of a WebDriver that I know is Chrome as `this.chromeDriver = (ChromeDriver)this.webDriver;` \r\nLooking online I do not see a way to turn off network connectivity through the WebDriver instance, and I would like to avoid turning off/on on host level just for the test. Is there a better way of achieving network simulation using Selenium in 3.6? ","title":"Simulate network loss with Selenium WebDriver","body":"<p>I am using Selenium and ChromeDriver to write a test to simulate network connection loss.</p>\n<pre><code>this.chromeDriver.setNetworkConnection(NetworkConnection.ConnectionType.AIRPLANE_MODE);\n//wait and do actions\nthis.chromeDriver.setNetworkConnection(NetworkConnection.ConnectionType.WIFI);\n//asserts  \n</code></pre>\n<p>My tests run within a container, and currently I am casting an injected instance of a WebDriver that I know is Chrome as <code>this.chromeDriver = (ChromeDriver)this.webDriver;</code>\nLooking online I do not see a way to turn off network connectivity through the WebDriver instance, and I would like to avoid turning off/on on host level just for the test. Is there a better way of achieving network simulation using Selenium in 3.6?</p>\n"},{"tags":["java","nativescript","svelte"],"answers":[{"tags":[],"owner":{"account_id":15729,"reputation":73244,"user_id":33522,"accept_rate":57,"display_name":"chovy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661862072,"creation_date":1661862072,"answer_id":73542380,"question_id":73540025,"body_markdown":"I had to run `ns clean` for some reason which fixed it.","title":"Can&#39;t build nativescript app on Linux (manjaro/arch)","body":"<p>I had to run <code>ns clean</code> for some reason which fixed it.</p>\n"}],"owner":{"account_id":15729,"reputation":73244,"user_id":33522,"accept_rate":57,"display_name":"chovy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661862072,"creation_date":1661851323,"question_id":73540025,"body_markdown":"```\r\n$ ns build android --stacktrace\r\nPreparing project...\r\nassets by path fonts/ 350 KiB\r\n  asset fonts/fa-solid-900.ttf 188 KiB [compared for emit] [from: app/fonts/fa-solid-900.ttf] [copied]\r\n  asset fonts/fa-brands-400.ttf 128 KiB [compared for emit] [from: app/fonts/fa-brands-400.ttf] [copied]\r\n  asset fonts/fa-regular-400.ttf 33.3 KiB [compared for emit] [from: app/fonts/fa-regular-400.ttf] [copied]\r\n  asset fonts/LICENSE.txt 1.51 KiB [compared for emit] [from: app/fonts/LICENSE.txt] [copied]\r\nassets by path *.js 6.56 MiB\r\n  asset vendor.js 6.19 MiB [compared for emit] (name: vendor) (id hint: defaultVendor)\r\n  asset bundle.js 363 KiB [compared for emit] (name: bundle)\r\n  asset runtime.js 13.8 KiB [compared for emit] (name: runtime)\r\nEntrypoint bundle 6.56 MiB = runtime.js 13.8 KiB vendor.js 6.19 MiB bundle.js 363 KiB\r\nruntime modules 3.05 KiB 9 modules\r\norphan modules 356 bytes [orphan] 6 modules\r\nmodules by path ./node_modules/ 2.33 MiB 340 modules\r\nmodules by path ./app/ 141 KiB\r\n  modules by path ./app/components/*.svelte 18.4 KiB\r\n    ./app/components/Home.svelte 8.7 KiB [built] [code generated]\r\n    ./app/components/Audio.svelte 4.44 KiB [built] [code generated] [1 warning]\r\n    ./app/components/AudioPlayer.svelte 5.22 KiB [built] [code generated]\r\n  ./app/app.ts 382 bytes [built] [code generated]\r\n  ./app/app.css 118 KiB [built] [code generated]\r\n  ./app/App.svelte 3.54 KiB [built] [code generated]\r\n  ./app/utils/AudioPlay.ts 1.29 KiB [built] [code generated]\r\nexternal &quot;~/package.json&quot; 42 bytes [optional] [built] [code generated]\r\n\r\nWARNING in ./app/components/Audio.svelte\r\nModule Warning (from ./node_modules/svelte-loader/index.js):\r\nUnused CSS selector &quot;.audio&quot; (11:0)\r\n 9: &lt;/script&gt;\r\n10: &lt;style&gt;\r\n11: .audio {\r\n    ^\r\n12:     color: #ca9ed9;\r\n13: }\r\n @ ./app/components/Home.svelte 26:0-24\r\n @ ./app/App.svelte 21:0-44 32:12-16 85:34-38\r\n @ ./app/app.ts 9:0-31 10:20-23\r\n\r\n1 warning has detailed information that is not shown.\r\nUse &#39;stats.errorDetails: true&#39; resp. &#39;--stats-error-details&#39; to show it.\r\n\r\nwebpack 5.74.0 compiled with 1 warning in 2887 ms\r\nWebpack compilation complete.\r\nUpdating runtime package.json with configuration values...\r\nProject successfully prepared (android)\r\nBuilding project...\r\nGradle build...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nSettings file &#39;/home/ettinger/www/calmness.io/calmness-mobile/platforms/android/settings.gradle&#39;\r\n\r\n* What went wrong:\r\nCould not compile settings file &#39;/home/ettinger/www/calmness.io/calmness-mobile/platforms/android/settings.gradle&#39;.\r\n&gt; startup failed:\r\n  General error during semantic analysis: Unsupported class file major version 62\r\n  \r\n  java.lang.IllegalArgumentException: Unsupported class file major version 62\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\r\n        at org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.tryAsLoaderClassOrScript(ClassNodeResolver.java:189)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.findClassNode(ClassNodeResolver.java:169)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.resolveName(ClassNodeResolver.java:125)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClassNullable(AsmReferenceResolver.java:57)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClass(AsmReferenceResolver.java:44)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveNonArrayType(AsmReferenceResolver.java:79)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveType(AsmReferenceResolver.java:70)\r\n        at org.codehaus.groovy.ast.decompiled.MemberSignatureParser.createMethodNode(MemberSignatureParser.java:57)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode$2.get(DecompiledClassNode.java:234)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode$2.get(DecompiledClassNode.java:231)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.createMethodNode(DecompiledClassNode.java:242)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lazyInitMembers(DecompiledClassNode.java:199)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.getDeclaredMethods(DecompiledClassNode.java:122)\r\n        at org.codehaus.groovy.ast.ClassNode.getMethods(ClassNode.java:912)\r\n        at org.codehaus.groovy.ast.ClassNode.tryFindPossibleMethod(ClassNode.java:1280)\r\n        at org.codehaus.groovy.control.StaticImportVisitor.transformMethodCallExpression(StaticImportVisitor.java:252)\r\n        at org.codehaus.groovy.control.StaticImportVisitor.transform(StaticImportVisitor.java:113)\r\n        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitExpressionStatement(ClassCodeExpressionTransformer.java:142)\r\n        at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)\r\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:110)\r\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:121)\r\n        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitConstructorOrMethod(ClassCodeExpressionTransformer.java:53)\r\n        at org.codehaus.groovy.control.StaticImportVisitor.visitConstructorOrMethod(StaticImportVisitor.java:89)\r\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructor(ClassCodeVisitorSupport.java:128)\r\n        at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1099)\r\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:54)\r\n        at org.codehaus.groovy.control.StaticImportVisitor.visitClass(StaticImportVisitor.java:83)\r\n        at org.codehaus.groovy.control.CompilationUnit$14.call(CompilationUnit.java:708)\r\n        at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1084)\r\n        at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:640)\r\n        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:618)\r\n        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:595)\r\n        at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:401)\r\n        at groovy.lang.GroovyClassLoader.access$300(GroovyClassLoader.java:89)\r\n        at groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:341)\r\n        at groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:338)\r\n        at org.codehaus.groovy.runtime.memoize.ConcurrentCommonCache.getAndPut(ConcurrentCommonCache.java:147)\r\n        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:336)\r\n        at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:141)\r\n        at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:97)\r\n        at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n        at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler.compileToDir(BuildOperationBackedScriptCompilationHandler.java:51)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:152)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:132)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:177)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:156)\r\n        at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\r\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\r\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:215)\r\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:205)\r\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\r\n        at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:139)\r\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:78)\r\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:42)\r\n        at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:95)\r\n        at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\r\n        at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$RemapBuildScriptsAction.execute(FileCacheBackedScriptClassCompiler.java:435)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$RemapBuildScriptsAction.execute(FileCacheBackedScriptClassCompiler.java:403)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:177)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:156)\r\n        at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\r\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\r\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:215)\r\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:205)\r\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\r\n        at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:139)\r\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:78)\r\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:42)\r\n        at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:95)\r\n        at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\r\n        at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler.compile(FileCacheBackedScriptClassCompiler.java:105)\r\n        at org.gradle.groovy.scripts.internal.CrossBuildInMemoryCachingScriptClassCache.getOrCompile(CrossBuildInMemoryCachingScriptClassCache.java:50)\r\n        at org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:50)\r\n        at org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\r\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:125)\r\n        at org.gradle.configuration.BuildOperationScriptPlugin$1$1.run(BuildOperationScriptPlugin.java:69)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.execute(BuildOperationScriptPlugin.java:66)\r\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.execute(BuildOperationScriptPlugin.java:63)\r\n        at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:49)\r\n        at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:63)\r\n        at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.applySettingsScript(ScriptEvaluatingSettingsProcessor.java:74)\r\n        at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.process(ScriptEvaluatingSettingsProcessor.java:67)\r\n        at org.gradle.initialization.SettingsEvaluatedCallbackFiringSettingsProcessor.process(SettingsEvaluatedCallbackFiringSettingsProcessor.java:34)\r\n        at org.gradle.initialization.RootBuildCacheControllerSettingsProcessor.process(RootBuildCacheControllerSettingsProcessor.java:36)\r\n        at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:50)\r\n        at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\r\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n        at org.gradle.initialization.BuildOperationSettingsProcessor.process(BuildOperationSettingsProcessor.java:47)\r\n        at org.gradle.initialization.DefaultSettingsLoader.findSettingsAndLoadIfAppropriate(DefaultSettingsLoader.java:120)\r\n        at org.gradle.initialization.DefaultSettingsLoader.findAndLoadSettings(DefaultSettingsLoader.java:58)\r\n        at org.gradle.initialization.SettingsAttachingSettingsLoader.findAndLoadSettings(SettingsAttachingSettingsLoader.java:35)\r\n        at org.gradle.internal.composite.CommandLineIncludedBuildSettingsLoader.findAndLoadSettings(CommandLineIncludedBuildSettingsLoader.java:34)\r\n        at org.gradle.internal.composite.ChildBuildRegisteringSettingsLoader.findAndLoadSettings(ChildBuildRegisteringSettingsLoader.java:52)\r\n        at org.gradle.internal.composite.CompositeBuildSettingsLoader.findAndLoadSettings(CompositeBuildSettingsLoader.java:35)\r\n        at org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:36)\r\n        at org.gradle.initialization.BuildOperatingFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperatingFiringSettingsPreparer.java:59)\r\n        at org.gradle.initialization.BuildOperatingFiringSettingsPreparer$LoadBuild.run(BuildOperatingFiringSettingsPreparer.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n        at org.gradle.initialization.BuildOperatingFiringSettingsPreparer.prepareSettings(BuildOperatingFiringSettingsPreparer.java:42)\r\n        at org.gradle.initialization.DefaultGradleLauncher.prepareSettings(DefaultGradleLauncher.java:208)\r\n        at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:151)\r\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:140)\r\n        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:120)\r\n        at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:74)\r\n        at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:189)\r\n        at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\r\n        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\r\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\r\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n        at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\r\n        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n        at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\r\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:51)\r\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:45)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\r\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\r\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:50)\r\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\r\n        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:80)\r\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\r\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\r\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\r\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\r\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:87)\r\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\r\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:60)\r\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:38)\r\n        at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\r\n        at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\r\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\r\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\r\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\r\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:68)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n  \r\n  1 error\r\n\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 321ms\r\nCommand ./gradlew failed with exit code 1\r\n```\r\n\r\nI&#39;m using svelte-native and it won&#39;t build. I think it has something to do with openjdk/jre but I have no idea. Not a java guy.\r\n\r\n```\r\n$ ns doctor        \r\n✔ Getting environment information \r\n\r\nNo issues were detected.\r\n✔ Your ANDROID_HOME environment variable is set and points to correct directory.\r\n✔ Your adb from the Android SDK is correctly installed.\r\n✔ The Android SDK is installed.\r\n✔ A compatible Android SDK for compilation is found.\r\n✔ Javac is installed and is configured properly.\r\n✔ The Java Development Kit (JDK) is installed and is configured properly.\r\n✔ Local builds for iOS can be executed only on a macOS system. To build for iOS on a different operating system, you can use the NativeScript cloud infrastructure.\r\n✔ Getting NativeScript components versions information...\r\n✔ Component nativescript has 8.3.3 version and is up to date.\r\n⚠ Update available for component @nativescript/core. Your current version is 8.1.5 and the latest available version is 8.3.4.\r\n✖ Component @nativescript/ios is not installed.\r\n✔ Component @nativescript/android has 8.3.1 version and is up to date.\r\n```","title":"Can&#39;t build nativescript app on Linux (manjaro/arch)","body":"<pre><code>$ ns build android --stacktrace\nPreparing project...\nassets by path fonts/ 350 KiB\n  asset fonts/fa-solid-900.ttf 188 KiB [compared for emit] [from: app/fonts/fa-solid-900.ttf] [copied]\n  asset fonts/fa-brands-400.ttf 128 KiB [compared for emit] [from: app/fonts/fa-brands-400.ttf] [copied]\n  asset fonts/fa-regular-400.ttf 33.3 KiB [compared for emit] [from: app/fonts/fa-regular-400.ttf] [copied]\n  asset fonts/LICENSE.txt 1.51 KiB [compared for emit] [from: app/fonts/LICENSE.txt] [copied]\nassets by path *.js 6.56 MiB\n  asset vendor.js 6.19 MiB [compared for emit] (name: vendor) (id hint: defaultVendor)\n  asset bundle.js 363 KiB [compared for emit] (name: bundle)\n  asset runtime.js 13.8 KiB [compared for emit] (name: runtime)\nEntrypoint bundle 6.56 MiB = runtime.js 13.8 KiB vendor.js 6.19 MiB bundle.js 363 KiB\nruntime modules 3.05 KiB 9 modules\norphan modules 356 bytes [orphan] 6 modules\nmodules by path ./node_modules/ 2.33 MiB 340 modules\nmodules by path ./app/ 141 KiB\n  modules by path ./app/components/*.svelte 18.4 KiB\n    ./app/components/Home.svelte 8.7 KiB [built] [code generated]\n    ./app/components/Audio.svelte 4.44 KiB [built] [code generated] [1 warning]\n    ./app/components/AudioPlayer.svelte 5.22 KiB [built] [code generated]\n  ./app/app.ts 382 bytes [built] [code generated]\n  ./app/app.css 118 KiB [built] [code generated]\n  ./app/App.svelte 3.54 KiB [built] [code generated]\n  ./app/utils/AudioPlay.ts 1.29 KiB [built] [code generated]\nexternal &quot;~/package.json&quot; 42 bytes [optional] [built] [code generated]\n\nWARNING in ./app/components/Audio.svelte\nModule Warning (from ./node_modules/svelte-loader/index.js):\nUnused CSS selector &quot;.audio&quot; (11:0)\n 9: &lt;/script&gt;\n10: &lt;style&gt;\n11: .audio {\n    ^\n12:     color: #ca9ed9;\n13: }\n @ ./app/components/Home.svelte 26:0-24\n @ ./app/App.svelte 21:0-44 32:12-16 85:34-38\n @ ./app/app.ts 9:0-31 10:20-23\n\n1 warning has detailed information that is not shown.\nUse 'stats.errorDetails: true' resp. '--stats-error-details' to show it.\n\nwebpack 5.74.0 compiled with 1 warning in 2887 ms\nWebpack compilation complete.\nUpdating runtime package.json with configuration values...\nProject successfully prepared (android)\nBuilding project...\nGradle build...\n\nFAILURE: Build failed with an exception.\n\n* Where:\nSettings file '/home/ettinger/www/calmness.io/calmness-mobile/platforms/android/settings.gradle'\n\n* What went wrong:\nCould not compile settings file '/home/ettinger/www/calmness.io/calmness-mobile/platforms/android/settings.gradle'.\n&gt; startup failed:\n  General error during semantic analysis: Unsupported class file major version 62\n  \n  java.lang.IllegalArgumentException: Unsupported class file major version 62\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\n        at org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)\n        at org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)\n        at org.codehaus.groovy.control.ClassNodeResolver.tryAsLoaderClassOrScript(ClassNodeResolver.java:189)\n        at org.codehaus.groovy.control.ClassNodeResolver.findClassNode(ClassNodeResolver.java:169)\n        at org.codehaus.groovy.control.ClassNodeResolver.resolveName(ClassNodeResolver.java:125)\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClassNullable(AsmReferenceResolver.java:57)\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClass(AsmReferenceResolver.java:44)\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveNonArrayType(AsmReferenceResolver.java:79)\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveType(AsmReferenceResolver.java:70)\n        at org.codehaus.groovy.ast.decompiled.MemberSignatureParser.createMethodNode(MemberSignatureParser.java:57)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode$2.get(DecompiledClassNode.java:234)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode$2.get(DecompiledClassNode.java:231)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.createMethodNode(DecompiledClassNode.java:242)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lazyInitMembers(DecompiledClassNode.java:199)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.getDeclaredMethods(DecompiledClassNode.java:122)\n        at org.codehaus.groovy.ast.ClassNode.getMethods(ClassNode.java:912)\n        at org.codehaus.groovy.ast.ClassNode.tryFindPossibleMethod(ClassNode.java:1280)\n        at org.codehaus.groovy.control.StaticImportVisitor.transformMethodCallExpression(StaticImportVisitor.java:252)\n        at org.codehaus.groovy.control.StaticImportVisitor.transform(StaticImportVisitor.java:113)\n        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitExpressionStatement(ClassCodeExpressionTransformer.java:142)\n        at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:110)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:121)\n        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitConstructorOrMethod(ClassCodeExpressionTransformer.java:53)\n        at org.codehaus.groovy.control.StaticImportVisitor.visitConstructorOrMethod(StaticImportVisitor.java:89)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructor(ClassCodeVisitorSupport.java:128)\n        at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1099)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:54)\n        at org.codehaus.groovy.control.StaticImportVisitor.visitClass(StaticImportVisitor.java:83)\n        at org.codehaus.groovy.control.CompilationUnit$14.call(CompilationUnit.java:708)\n        at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1084)\n        at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:640)\n        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:618)\n        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:595)\n        at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:401)\n        at groovy.lang.GroovyClassLoader.access$300(GroovyClassLoader.java:89)\n        at groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:341)\n        at groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:338)\n        at org.codehaus.groovy.runtime.memoize.ConcurrentCommonCache.getAndPut(ConcurrentCommonCache.java:147)\n        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:336)\n        at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:141)\n        at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:97)\n        at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler.compileToDir(BuildOperationBackedScriptCompilationHandler.java:51)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:152)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:132)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:177)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:156)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:215)\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:205)\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\n        at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:139)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:78)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:42)\n        at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:95)\n        at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\n        at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$RemapBuildScriptsAction.execute(FileCacheBackedScriptClassCompiler.java:435)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$RemapBuildScriptsAction.execute(FileCacheBackedScriptClassCompiler.java:403)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:177)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:156)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:215)\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:205)\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\n        at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:139)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:78)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:42)\n        at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:95)\n        at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\n        at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler.compile(FileCacheBackedScriptClassCompiler.java:105)\n        at org.gradle.groovy.scripts.internal.CrossBuildInMemoryCachingScriptClassCache.getOrCompile(CrossBuildInMemoryCachingScriptClassCache.java:50)\n        at org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:50)\n        at org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:125)\n        at org.gradle.configuration.BuildOperationScriptPlugin$1$1.run(BuildOperationScriptPlugin.java:69)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.execute(BuildOperationScriptPlugin.java:66)\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.execute(BuildOperationScriptPlugin.java:63)\n        at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:49)\n        at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:63)\n        at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.applySettingsScript(ScriptEvaluatingSettingsProcessor.java:74)\n        at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.process(ScriptEvaluatingSettingsProcessor.java:67)\n        at org.gradle.initialization.SettingsEvaluatedCallbackFiringSettingsProcessor.process(SettingsEvaluatedCallbackFiringSettingsProcessor.java:34)\n        at org.gradle.initialization.RootBuildCacheControllerSettingsProcessor.process(RootBuildCacheControllerSettingsProcessor.java:36)\n        at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:50)\n        at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n        at org.gradle.initialization.BuildOperationSettingsProcessor.process(BuildOperationSettingsProcessor.java:47)\n        at org.gradle.initialization.DefaultSettingsLoader.findSettingsAndLoadIfAppropriate(DefaultSettingsLoader.java:120)\n        at org.gradle.initialization.DefaultSettingsLoader.findAndLoadSettings(DefaultSettingsLoader.java:58)\n        at org.gradle.initialization.SettingsAttachingSettingsLoader.findAndLoadSettings(SettingsAttachingSettingsLoader.java:35)\n        at org.gradle.internal.composite.CommandLineIncludedBuildSettingsLoader.findAndLoadSettings(CommandLineIncludedBuildSettingsLoader.java:34)\n        at org.gradle.internal.composite.ChildBuildRegisteringSettingsLoader.findAndLoadSettings(ChildBuildRegisteringSettingsLoader.java:52)\n        at org.gradle.internal.composite.CompositeBuildSettingsLoader.findAndLoadSettings(CompositeBuildSettingsLoader.java:35)\n        at org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:36)\n        at org.gradle.initialization.BuildOperatingFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperatingFiringSettingsPreparer.java:59)\n        at org.gradle.initialization.BuildOperatingFiringSettingsPreparer$LoadBuild.run(BuildOperatingFiringSettingsPreparer.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.initialization.BuildOperatingFiringSettingsPreparer.prepareSettings(BuildOperatingFiringSettingsPreparer.java:42)\n        at org.gradle.initialization.DefaultGradleLauncher.prepareSettings(DefaultGradleLauncher.java:208)\n        at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:151)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:140)\n        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:120)\n        at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:74)\n        at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:189)\n        at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\n        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\n        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\n        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n        at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:51)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:45)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:50)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\n        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:80)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:87)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:60)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:38)\n        at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\n        at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:68)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n  \n  1 error\n\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 321ms\nCommand ./gradlew failed with exit code 1\n</code></pre>\n<p>I'm using svelte-native and it won't build. I think it has something to do with openjdk/jre but I have no idea. Not a java guy.</p>\n<pre><code>$ ns doctor        \n✔ Getting environment information \n\nNo issues were detected.\n✔ Your ANDROID_HOME environment variable is set and points to correct directory.\n✔ Your adb from the Android SDK is correctly installed.\n✔ The Android SDK is installed.\n✔ A compatible Android SDK for compilation is found.\n✔ Javac is installed and is configured properly.\n✔ The Java Development Kit (JDK) is installed and is configured properly.\n✔ Local builds for iOS can be executed only on a macOS system. To build for iOS on a different operating system, you can use the NativeScript cloud infrastructure.\n✔ Getting NativeScript components versions information...\n✔ Component nativescript has 8.3.3 version and is up to date.\n⚠ Update available for component @nativescript/core. Your current version is 8.1.5 and the latest available version is 8.3.4.\n✖ Component @nativescript/ios is not installed.\n✔ Component @nativescript/android has 8.3.1 version and is up to date.\n</code></pre>\n"},{"tags":["javascript","java","platform","bonita"],"owner":{"account_id":22535158,"reputation":69,"user_id":16726575,"display_name":"tine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661861802,"creation_date":1661861802,"question_id":73542317,"body_markdown":"I am new at Bonita platform, currently adding form to process.\r\n\r\nWhen I add form to process pool I get error:\r\nerror while resolving form mapping process.... The target bonita form with Id null does not exist.\r\n\r\nWhen I set it to default form, it works correctly, but adding my created form creates this error.\r\n\r\nEverything is created from this tutorial:\r\nhttps://documentation.bonitasoft.com/bonita/2022.1/getting-started/create-web-user-interfaces\r\n\r\nAny help?\r\n\r\nSee picture below:\r\n\r\nhttps://i.stack.imgur.com/BwBB4.png","title":"Bonita project can&#39;t run when mapping own form to process","body":"<p>I am new at Bonita platform, currently adding form to process.</p>\n<p>When I add form to process pool I get error:\nerror while resolving form mapping process.... The target bonita form with Id null does not exist.</p>\n<p>When I set it to default form, it works correctly, but adding my created form creates this error.</p>\n<p>Everything is created from this tutorial:\n<a href=\"https://documentation.bonitasoft.com/bonita/2022.1/getting-started/create-web-user-interfaces\" rel=\"nofollow noreferrer\">https://documentation.bonitasoft.com/bonita/2022.1/getting-started/create-web-user-interfaces</a></p>\n<p>Any help?</p>\n<p>See picture below:</p>\n<p><a href=\"https://i.stack.imgur.com/BwBB4.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/BwBB4.png</a></p>\n"},{"tags":["java","spring","spring-boot","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":8245602,"reputation":81,"user_id":6201794,"display_name":"Hung Nguyen The"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646727483,"creation_date":1646725105,"answer_id":71391485,"question_id":71351249,"body_markdown":"I just have same issue today, I checked with Chrome and saw it doesn&#39;t add application/json in Accept header.\r\nMy solution is create a wrapper filter:\r\n\r\n    @Component\r\n    public class JsonRequestHeaderFilter implements Filter {\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException {\r\n            HttpServletRequestWrapper requestWrapper = new HttpServletRequestWrapper((HttpServletRequest) request) {\r\n                @Override\r\n                public Enumeration&lt;String&gt; getHeaders(String name) {\r\n                    if (name.equals(&quot;Accept&quot;)) {\r\n                        Set&lt;String&gt; customHeaders = new HashSet&lt;String&gt;();\r\n                        Enumeration&lt;String&gt; curHeaders = super.getHeaders(name);\r\n                        while (curHeaders.hasMoreElements()) {\r\n                            String header = curHeaders.nextElement();\r\n                            customHeaders.add(MediaType.APPLICATION_JSON_VALUE.concat(&quot;;&quot;).concat(header));\r\n                        }\r\n    \r\n                        return Collections.enumeration(customHeaders);\r\n                    }\r\n                    return super.getHeaders(name);\r\n                }\r\n            };\r\n    \r\n            chain.doFilter(requestWrapper, response);\r\n        }\r\n    }\r\n\r\n","title":"Spring Rest Controller returns XML instead of JSON after Jasperreports update","body":"<p>I just have same issue today, I checked with Chrome and saw it doesn't add application/json in Accept header.\nMy solution is create a wrapper filter:</p>\n<pre><code>@Component\npublic class JsonRequestHeaderFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletRequestWrapper requestWrapper = new HttpServletRequestWrapper((HttpServletRequest) request) {\n            @Override\n            public Enumeration&lt;String&gt; getHeaders(String name) {\n                if (name.equals(&quot;Accept&quot;)) {\n                    Set&lt;String&gt; customHeaders = new HashSet&lt;String&gt;();\n                    Enumeration&lt;String&gt; curHeaders = super.getHeaders(name);\n                    while (curHeaders.hasMoreElements()) {\n                        String header = curHeaders.nextElement();\n                        customHeaders.add(MediaType.APPLICATION_JSON_VALUE.concat(&quot;;&quot;).concat(header));\n                    }\n\n                    return Collections.enumeration(customHeaders);\n                }\n                return super.getHeaders(name);\n            }\n        };\n\n        chain.doFilter(requestWrapper, response);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20706020,"reputation":16,"user_id":15203875,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646725681,"creation_date":1646725681,"answer_id":71391580,"question_id":71351249,"body_markdown":"Set the default type in the  configureContentNegotiation(ContentNegotiationConfigurer configurer) method.\r\n\r\n    @Configuration\r\n    class WebMvcConfiguration implements WebMvcConfigurer {\r\n        @Override\r\n        public void configureContentNegotiation(ContentNegotiationConfigurer configurer)\r\n        {\r\n            configurer.defaultContentType(MediaType.APPLICATION_JSON);\r\n        }\r\n    }","title":"Spring Rest Controller returns XML instead of JSON after Jasperreports update","body":"<p>Set the default type in the  configureContentNegotiation(ContentNegotiationConfigurer configurer) method.</p>\n<pre><code>@Configuration\nclass WebMvcConfiguration implements WebMvcConfigurer {\n    @Override\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer)\n    {\n        configurer.defaultContentType(MediaType.APPLICATION_JSON);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7173889,"reputation":145,"user_id":5480535,"display_name":"lechonex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661861693,"creation_date":1661861693,"answer_id":73542297,"question_id":71351249,"body_markdown":"Removing the dependency on jackson-dataformat-xml also fixes the issue. I think it is a Jasper Reports bug (still present in 6.20.0) anyway and I prefer not to add custom source code for it:\r\n\r\n            &lt;dependency&gt;\r\n                    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n                    &lt;version&gt;6.20.0&lt;/version&gt;\r\n    \t\t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n            &lt;/dependency&gt;","title":"Spring Rest Controller returns XML instead of JSON after Jasperreports update","body":"<p>Removing the dependency on jackson-dataformat-xml also fixes the issue. I think it is a Jasper Reports bug (still present in 6.20.0) anyway and I prefer not to add custom source code for it:</p>\n<pre><code>        &lt;dependency&gt;\n                &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n                &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n                &lt;version&gt;6.20.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71391485,"answer_count":3,"score":3,"last_activity_date":1661861693,"creation_date":1646396081,"question_id":71351249,"body_markdown":"I have a Spring boot project with version 2.6.4.\r\nAnd after I updated the jasperreports dependency to 6.19.0 all my RestControllers returns now XML instead of JSON\r\nWhere can I change this, without changing to \r\n\r\n    @GetMapping(produces = {&quot;application/json&quot;})\r\n\r\non each method?","title":"Spring Rest Controller returns XML instead of JSON after Jasperreports update","body":"<p>I have a Spring boot project with version 2.6.4.\nAnd after I updated the jasperreports dependency to 6.19.0 all my RestControllers returns now XML instead of JSON\nWhere can I change this, without changing to</p>\n<pre><code>@GetMapping(produces = {&quot;application/json&quot;})\n</code></pre>\n<p>on each method?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8920,"page":1072,"page_size":100}
