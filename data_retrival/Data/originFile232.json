{"items":[{"tags":["java","java-native-interface","cocos2d-x"],"answers":[{"tags":[],"owner":{"account_id":292893,"reputation":441,"user_id":595926,"accept_rate":100,"display_name":"sfridman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1403485775,"creation_date":1403485775,"answer_id":24357248,"question_id":24352392,"body_markdown":"The line:\r\n\r\n    jobject object = env-&gt;NewObject(mClass, constructor);\r\n\r\nattempts to instantiate an Activity. In general, you aren&#39;t supposed to instantiate Activities by hand, but are meant to create them using designated Android APIs, e.g. `Context.startActivity`.\r\n\r\nBy circumventing the API, you&#39;ve gotten yourself in a situation where you create an Activity in a thread which does not support the creation of an Activity.\r\n\r\nThat&#39;s the cause of the error. But also: you probably want to rethink the code as a whole. Not sure what you&#39;re trying to do, but it doesn&#39;t seem like the pattern you&#39;re using is the right one.","title":"java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()","body":"<p>The line:</p>\n\n<pre><code>jobject object = env-&gt;NewObject(mClass, constructor);\n</code></pre>\n\n<p>attempts to instantiate an Activity. In general, you aren't supposed to instantiate Activities by hand, but are meant to create them using designated Android APIs, e.g. <code>Context.startActivity</code>.</p>\n\n<p>By circumventing the API, you've gotten yourself in a situation where you create an Activity in a thread which does not support the creation of an Activity.</p>\n\n<p>That's the cause of the error. But also: you probably want to rethink the code as a whole. Not sure what you're trying to do, but it doesn't seem like the pattern you're using is the right one.</p>\n"},{"tags":[],"owner":{"account_id":27805916,"reputation":1,"user_id":21229330,"display_name":"KsaNL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692732665,"creation_date":1692732665,"answer_id":76956361,"question_id":24352392,"body_markdown":"I&#39;m coding native project and found this as well, I think it&#39;s interface missing","title":"java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()","body":"<p>I'm coding native project and found this as well, I think it's interface missing</p>\n"}],"owner":{"account_id":1313553,"reputation":61,"user_id":1261010,"accept_rate":20,"display_name":"Himansh Kathuria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24357248,"answer_count":2,"score":0,"last_activity_date":1692732665,"creation_date":1403448507,"question_id":24352392,"body_markdown":"I am getting an exception when I am trying to call a non-static method in a java class from JNI.The exception I am getting is:\r\n\r\nCan&#39;t create handler inside thread that has not called Looper.prepare()\r\n\r\nHere is my JNI calling code:\r\n    \r\n    jclass mClass = env-&gt;FindClass(&quot;com/secrethq/match3/Match3Activity&quot;);\r\n\r\n    jmethodID constructor = env-&gt;GetMethodID( mClass, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n\tCCLog(&quot;jClass Located?&quot;);\r\n\r\n    jobject object = env-&gt;NewObject(mClass, constructor);\r\n    mid = env-&gt;GetMethodID(mClass, &quot;onClickPostStatusUpdate&quot;, &quot;(I)V&quot;);\r\n\r\n    \r\n\tCCLog(&quot;mID: %d&quot;, mid);\r\n\r\n\tif (mid!=0)\r\n    env-&gt;CallVoidMethod(mClass, mid, object, score);\r\n\t\t\t//-----------------------------------------------------------\r\n\tCCLog(&quot;Finish&quot;);\r\n\tif(isAttached)\r\n\t\tjvm-&gt;DetachCurrentThread();\r\n\r\n\r\nand this is my method in java class:\r\n    \r\n    private void onClickPostStatusUpdate(int score) {\r\n    \tSystem.out.println(&quot;Match3Activity.onClickPostStatusUpdate()&quot;);\r\n        performPublish(PendingAction.POST_STATUS_UPDATE, canPresentShareDialog);\r\n    }\r\n\r\n\r\n\r\nHere is the Logcat output:\r\n\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.os.Handler.&lt;init&gt;(Handler.java:121)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.app.Activity.&lt;init&gt;(Activity.java:772)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat org.cocos2dx.lib.Cocos2dxActivity.&lt;init&gt;(Cocos2dxActivity.java:37)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat com.secrethq.match3.Match3Activity.&lt;init&gt;(Match3Activity.java:45)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat org.cocos2dx.lib.Cocos2dxRenderer.nativeTouchesEnd(Native Method)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat    org.cocos2dx.lib.Cocos2dxRenderer.handleActionUp(Cocos2dxRenderer.java:129)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat     org.cocos2dx.lib.Cocos2dxGLSurfaceView$9.run(Cocos2dxGLSurfaceView.java:258)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1462) \r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240)\r\n","title":"java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()","body":"<p>I am getting an exception when I am trying to call a non-static method in a java class from JNI.The exception I am getting is:</p>\n\n<p>Can't create handler inside thread that has not called Looper.prepare()</p>\n\n<p>Here is my JNI calling code:</p>\n\n<pre><code>jclass mClass = env-&gt;FindClass(\"com/secrethq/match3/Match3Activity\");\n\njmethodID constructor = env-&gt;GetMethodID( mClass, \"&lt;init&gt;\", \"()V\");\nCCLog(\"jClass Located?\");\n\njobject object = env-&gt;NewObject(mClass, constructor);\nmid = env-&gt;GetMethodID(mClass, \"onClickPostStatusUpdate\", \"(I)V\");\n\n\nCCLog(\"mID: %d\", mid);\n\nif (mid!=0)\nenv-&gt;CallVoidMethod(mClass, mid, object, score);\n        //-----------------------------------------------------------\nCCLog(\"Finish\");\nif(isAttached)\n    jvm-&gt;DetachCurrentThread();\n</code></pre>\n\n<p>and this is my method in java class:</p>\n\n<pre><code>private void onClickPostStatusUpdate(int score) {\n    System.out.println(\"Match3Activity.onClickPostStatusUpdate()\");\n    performPublish(PendingAction.POST_STATUS_UPDATE, canPresentShareDialog);\n}\n</code></pre>\n\n<p>Here is the Logcat output:</p>\n\n<pre><code>06-22 20:20:39.342: E/AndroidRuntime(14899): java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.os.Handler.&lt;init&gt;(Handler.java:121)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.app.Activity.&lt;init&gt;(Activity.java:772)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at org.cocos2dx.lib.Cocos2dxActivity.&lt;init&gt;(Cocos2dxActivity.java:37)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at com.secrethq.match3.Match3Activity.&lt;init&gt;(Match3Activity.java:45)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at org.cocos2dx.lib.Cocos2dxRenderer.nativeTouchesEnd(Native Method)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at    org.cocos2dx.lib.Cocos2dxRenderer.handleActionUp(Cocos2dxRenderer.java:129)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at     org.cocos2dx.lib.Cocos2dxGLSurfaceView$9.run(Cocos2dxGLSurfaceView.java:258)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1462) \n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240)\n</code></pre>\n"},{"tags":["java","css","javafx","hover","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692722025,"post_id":76954424,"comment_id":135661942,"body_markdown":"Your logic for changing a scene does not change a scene, it just creates a new scene and does not set it on a stage.  If you want debugging help, you should provide a [mcve].","body":"Your logic for changing a scene does not change a scene, it just creates a new scene and does not set it on a stage.  If you want debugging help, you should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692729601,"post_id":76954424,"comment_id":135663545,"body_markdown":"FontAwesome hasn&#39;t been updated in five years.  You are probably better off using a maintained modern alternative such as Ikonli.","body":"FontAwesome hasn&#39;t been updated in five years.  You are probably better off using a maintained modern alternative such as Ikonli."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692732525,"creation_date":1692732525,"answer_id":76956348,"question_id":76954424,"body_markdown":"I can&#39;t reproduce this (JavaFX 20.0.2).\r\n\r\n`fx-fill` is not an inherited style.  You can&#39;t set it on a parent and expect it to apply to the descendants of the parent. (This statement is just a FYI, you aren&#39;t doing that in your question).\r\n\r\nLooking at the font awesome code (because I don&#39;t know where the documentation for it is), the `FontAwesomeIconView` is a child of `Text`, so `-fx-fill` can apply to it.  The font awesome code also sets a style class on the icons of `glyph-icon`.  Also, `:hover` is a generic psuedoclass that can apply to any node.\r\n\r\nIf you want to set the color on hover of all of the font awesome icons in a container you can use this:\r\n\r\n    .container .glyph-icon:hover {\r\n        -fx-fill: red;\r\n    }\r\n\r\nTo have different hover colors for individual glyphs, then you can instead set it on the individual glyphs, using `!important` to override previous fill styling if necessary.\r\n\r\n    .gear-icon:hover {\r\n        -fx-fill: green !important;\r\n    }\r\n\r\n\r\nExample output on hovering over some icons using a [modified version of the code from this answer][1].\r\n\r\n[![hover][2]][2] [![gear][3]][3]\r\n\r\n*fonts.css*\r\n\r\n    .container .glyph-icon:hover {\r\n        -fx-fill: red;\r\n    }\r\n    \r\n    .gear-icon:hover {\r\n        -fx-fill: green !important;\r\n    }\r\n\r\n*fonts.fxml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    \r\n    &lt;HBox styleClass=&quot;container&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;MUSIC&quot; size=&quot;1.5em&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;GEAR&quot; size=&quot;1.5em&quot; styleClass=&quot;gear-icon&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;FILE&quot; size=&quot;1.5em&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;DASHBOARD&quot; size=&quot;1.5em&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;HEART&quot; size=&quot;1.5em&quot; /&gt;\r\n        &lt;/children&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n        &lt;/padding&gt;\r\n    &lt;/HBox&gt;\r\n\r\n*FontApplication.java*\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Objects;\r\n    \r\n    public class FontApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(FontApplication.class.getResource(&quot;fonts.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            scene.getStylesheets().add(Objects.requireNonNull(FontApplication.class.getResource(&quot;fonts.css&quot;)).toExternalForm());\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71322228/javafx-project-error-caused-by-com-sun-javafx-fxml-propertynotfoundexception/71328527#71328527\r\n  [2]: https://i.stack.imgur.com/FZrOb.png\r\n  [3]: https://i.stack.imgur.com/xPpok.png","title":":hover not working JavaFX CSS for FontAwesomeIconView","body":"<p>I can't reproduce this (JavaFX 20.0.2).</p>\n<p><code>fx-fill</code> is not an inherited style.  You can't set it on a parent and expect it to apply to the descendants of the parent. (This statement is just a FYI, you aren't doing that in your question).</p>\n<p>Looking at the font awesome code (because I don't know where the documentation for it is), the <code>FontAwesomeIconView</code> is a child of <code>Text</code>, so <code>-fx-fill</code> can apply to it.  The font awesome code also sets a style class on the icons of <code>glyph-icon</code>.  Also, <code>:hover</code> is a generic psuedoclass that can apply to any node.</p>\n<p>If you want to set the color on hover of all of the font awesome icons in a container you can use this:</p>\n<pre><code>.container .glyph-icon:hover {\n    -fx-fill: red;\n}\n</code></pre>\n<p>To have different hover colors for individual glyphs, then you can instead set it on the individual glyphs, using <code>!important</code> to override previous fill styling if necessary.</p>\n<pre><code>.gear-icon:hover {\n    -fx-fill: green !important;\n}\n</code></pre>\n<p>Example output on hovering over some icons using a <a href=\"https://stackoverflow.com/questions/71322228/javafx-project-error-caused-by-com-sun-javafx-fxml-propertynotfoundexception/71328527#71328527\">modified version of the code from this answer</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/FZrOb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FZrOb.png\" alt=\"hover\" /></a> <a href=\"https://i.stack.imgur.com/xPpok.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPpok.png\" alt=\"gear\" /></a></p>\n<p><em>fonts.css</em></p>\n<pre><code>.container .glyph-icon:hover {\n    -fx-fill: red;\n}\n\n.gear-icon:hover {\n    -fx-fill: green !important;\n}\n</code></pre>\n<p><em>fonts.fxml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n\n&lt;HBox styleClass=&quot;container&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;children&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;MUSIC&quot; size=&quot;1.5em&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;GEAR&quot; size=&quot;1.5em&quot; styleClass=&quot;gear-icon&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;FILE&quot; size=&quot;1.5em&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;DASHBOARD&quot; size=&quot;1.5em&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;HEART&quot; size=&quot;1.5em&quot; /&gt;\n    &lt;/children&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n    &lt;/padding&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p><em>FontApplication.java</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class FontApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(FontApplication.class.getResource(&quot;fonts.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        scene.getStylesheets().add(Objects.requireNonNull(FontApplication.class.getResource(&quot;fonts.css&quot;)).toExternalForm());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18684477,"reputation":93,"user_id":13620315,"display_name":"Tymo Tymo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692732525,"creation_date":1692715350,"question_id":76954424,"body_markdown":"I&#39;ve got a problem where the :hover CSS option is not working properly.\r\nThis is the CSS:\r\n```\r\n.body:hover {\r\n    -fx-background-color: #b8fffd;\r\n}\r\n\r\n.exitIcon:hover {\r\n    -fx-fill: gray;\r\n}\r\n```\r\nThe body hover works fine but .exitIcon does not.\r\nIn case I misspelled the className I also tried to use the FontAwesomeIconView selector but it still didn&#39;t work. \r\n\r\nHere is the FXML code:\r\n```\r\n&lt;AnchorPane prefHeight=&quot;800.0&quot; prefWidth=&quot;1000.0&quot; styleClass=&quot;body&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.main.captainscompass.controllers.LightSignalsController&quot;&gt;\r\n   &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;200.0&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n      &lt;FontAwesomeIconView glyphName=&quot;ARROW_LEFT&quot; size=&quot;50&quot; styleClass=&quot;exitIcon&quot;&gt;\r\n         &lt;cursor&gt;\r\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\r\n         &lt;/cursor&gt;\r\n      &lt;/FontAwesomeIconView&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n      &lt;Label text=&quot;Light Signals Quiz&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;30.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alig`nment=&quot;CENTER_RIGHT&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n      &lt;ImageView fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;Image url=&quot;@assets/sailboaticon.png&quot; /&gt;\r\n      &lt;/ImageView&gt;\r\n   &lt;/HBox&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\n\r\nSo I definitely didn&#39;t misspell the class name nor the file name since .body is actually working.\r\nAnd if I remove &quot;:hover&quot; the style is applied as expected.\r\nI really don&#39;t have a clue what&#39;s going on here as for every single other usage of :hover it works.\r\n\r\nNOTE: This is not my main scene. I changed it using this logic: \r\n\r\n    FXMLLoader loader = new FXMLLoader(App.class.getResource(LIGHT_SIGNALS_FXML));\r\n            stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n            Scene scene = new Scene(loader.load(), 1000, 800);\r\n\r\nAnd in this scene NO events work not even something like onKeyPressed. But I still don&#39;t know what caused it.","title":":hover not working JavaFX CSS for FontAwesomeIconView","body":"<p>I've got a problem where the :hover CSS option is not working properly.\nThis is the CSS:</p>\n<pre><code>.body:hover {\n    -fx-background-color: #b8fffd;\n}\n\n.exitIcon:hover {\n    -fx-fill: gray;\n}\n</code></pre>\n<p>The body hover works fine but .exitIcon does not.\nIn case I misspelled the className I also tried to use the FontAwesomeIconView selector but it still didn't work.</p>\n<p>Here is the FXML code:</p>\n<pre><code>&lt;AnchorPane prefHeight=&quot;800.0&quot; prefWidth=&quot;1000.0&quot; styleClass=&quot;body&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.main.captainscompass.controllers.LightSignalsController&quot;&gt;\n   &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;200.0&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n      &lt;FontAwesomeIconView glyphName=&quot;ARROW_LEFT&quot; size=&quot;50&quot; styleClass=&quot;exitIcon&quot;&gt;\n         &lt;cursor&gt;\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\n         &lt;/cursor&gt;\n      &lt;/FontAwesomeIconView&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n      &lt;Label text=&quot;Light Signals Quiz&quot; textAlignment=&quot;CENTER&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;30.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alig`nment=&quot;CENTER_RIGHT&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n      &lt;ImageView fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;Image url=&quot;@assets/sailboaticon.png&quot; /&gt;\n      &lt;/ImageView&gt;\n   &lt;/HBox&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>So I definitely didn't misspell the class name nor the file name since .body is actually working.\nAnd if I remove &quot;:hover&quot; the style is applied as expected.\nI really don't have a clue what's going on here as for every single other usage of :hover it works.</p>\n<p>NOTE: This is not my main scene. I changed it using this logic:</p>\n<pre><code>FXMLLoader loader = new FXMLLoader(App.class.getResource(LIGHT_SIGNALS_FXML));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        Scene scene = new Scene(loader.load(), 1000, 800);\n</code></pre>\n<p>And in this scene NO events work not even something like onKeyPressed. But I still don't know what caused it.</p>\n"},{"tags":["java","azure","azure-cosmosdb","gremlin","azure-cosmosdb-gremlinapi"],"comments":[{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1684347867,"post_id":76275061,"comment_id":134506748,"body_markdown":"It&#39;s not really clear what you&#39;re asking, but Cosmos DB&#39;s Gremlin API is accessed in the same manner as any other gremlin-based graph database (e.g. same SDKs). Also, you linked a few different help articles, but nobody should need to visit/read those to understand your question. What&#39;s your specific issue? Please edit to clarify.","body":"It&#39;s not really clear what you&#39;re asking, but Cosmos DB&#39;s Gremlin API is accessed in the same manner as any other gremlin-based graph database (e.g. same SDKs). Also, you linked a few different help articles, but nobody should need to visit/read those to understand your question. What&#39;s your specific issue? Please edit to clarify."},{"owner":{"account_id":10461273,"reputation":23,"user_id":13906900,"display_name":"omarghoche"},"score":0,"creation_date":1684416306,"post_id":76275061,"comment_id":134516544,"body_markdown":"sorry @DavidMakogon if I wasn&#39;t clear ... Stephen answered down there ... which seems to be: no solution! :-(","body":"sorry @DavidMakogon if I wasn&#39;t clear ... Stephen answered down there ... which seems to be: no solution! :-("}],"answers":[{"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684353051,"creation_date":1684353051,"answer_id":76275727,"question_id":76275061,"body_markdown":"I believe you are asking how to send Gremlin bytecode queries to CosmosDB, but are finding that you can only send strings-based queries. If that is correct, note that CosmosDB does not currently support bytecode based requests, so you are in fact limited to strings. CosmosDB has a long open issue about this [here](https://github.com/Azure/azure-cosmos-dotnet-v2/issues/439).","title":"How to connect to Azure Cosmos DB Gremlin API via embedded code","body":"<p>I believe you are asking how to send Gremlin bytecode queries to CosmosDB, but are finding that you can only send strings-based queries. If that is correct, note that CosmosDB does not currently support bytecode based requests, so you are in fact limited to strings. CosmosDB has a long open issue about this <a href=\"https://github.com/Azure/azure-cosmos-dotnet-v2/issues/439\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":10461273,"reputation":23,"user_id":13906900,"display_name":"omarghoche"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76275727,"answer_count":1,"score":-1,"last_activity_date":1692731998,"creation_date":1684347090,"question_id":76275061,"body_markdown":"For now we are using the very simplified and not near reality approach that Azure officially lets one play: https://learn.microsoft.com/en-us/azure/cosmos-db/gremlin/quickstart-java.\r\n\r\nBut we need to use gremlin in a scriptive manner ... like this:\r\n\r\n`g.V().has()...`\r\n\r\n... not as a string script query that is then submited:\r\n\r\n```java\r\nstatic final String gremlinQueries[] = new String[] {\r\n            &quot;g.addV(&#39;person&#39;).property(&#39;id&#39;, &#39;thomas&#39;).as(&#39;tom&#39;),\r\n            &quot;g.addV(&#39;person&#39;).property(&#39;id&#39;, &#39;mary&#39;).as(&#39;may&#39;),\r\n            &quot;g.addE(&#39;friends&#39;).from(&#39;tom&#39;).to(&#39;may&#39;)&quot; };\r\n\r\n(...)\r\n\r\nfor (String query : gremlinQueries) {\r\n\r\n   ResultSet results = client.submit(query);\r\n}\r\n\r\nfor (Result result : resultList) {\r\n   result.toString()\r\n}\r\n```\r\n\r\nI already tried to use Tinkerpop Documentation guides:\r\n\r\nhttps://tinkerpop.apache.org/docs/current/reference/#gremlin-java\r\nhttps://tinkerpop.apache.org/docs/current/reference/#connecting-gremlin\r\n","title":"How to connect to Azure Cosmos DB Gremlin API via embedded code","body":"<p>For now we are using the very simplified and not near reality approach that Azure officially lets one play: <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/gremlin/quickstart-java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/cosmos-db/gremlin/quickstart-java</a>.</p>\n<p>But we need to use gremlin in a scriptive manner ... like this:</p>\n<p><code>g.V().has()...</code></p>\n<p>... not as a string script query that is then submited:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final String gremlinQueries[] = new String[] {\n            &quot;g.addV('person').property('id', 'thomas').as('tom'),\n            &quot;g.addV('person').property('id', 'mary').as('may'),\n            &quot;g.addE('friends').from('tom').to('may')&quot; };\n\n(...)\n\nfor (String query : gremlinQueries) {\n\n   ResultSet results = client.submit(query);\n}\n\nfor (Result result : resultList) {\n   result.toString()\n}\n</code></pre>\n<p>I already tried to use Tinkerpop Documentation guides:</p>\n<p><a href=\"https://tinkerpop.apache.org/docs/current/reference/#gremlin-java\" rel=\"nofollow noreferrer\">https://tinkerpop.apache.org/docs/current/reference/#gremlin-java</a>\n<a href=\"https://tinkerpop.apache.org/docs/current/reference/#connecting-gremlin\" rel=\"nofollow noreferrer\">https://tinkerpop.apache.org/docs/current/reference/#connecting-gremlin</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1692732676,"post_id":76956184,"comment_id":135664138,"body_markdown":"If code looks like that it can&#39;t be non-blocking because it needs to return a result once the method call finishes or the code could not continue. The code can&#39;t jump away to anything else in the meantime while in that line. You&#39;ll need to supply a disconnected piece of code to a callback that runs once the task is done. For AsyncTask that would be done by overriding the post execute method `protected void onPostExecute(String s) { .. }`. Or you overhaul that code, use a nice http library and kotlin coroutines, AsyncTask is deprecated and I wouldn&#39;t use HttpURLConnection unless forced to","body":"If code looks like that it can&#39;t be non-blocking because it needs to return a result once the method call finishes or the code could not continue. The code can&#39;t jump away to anything else in the meantime while in that line. You&#39;ll need to supply a disconnected piece of code to a callback that runs once the task is done. For AsyncTask that would be done by overriding the post execute method <code>protected void onPostExecute(String s) { .. }</code>. Or you overhaul that code, use a nice http library and kotlin coroutines, AsyncTask is deprecated and I wouldn&#39;t use HttpURLConnection unless forced to"}],"answers":[{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692731708,"creation_date":1692731708,"answer_id":76956282,"question_id":76956184,"body_markdown":"The `AsyncTask` has method  [`onPostExecute`][1]. It&#39;s exactly what you wants as it runs on the UI thread after the main logic of the AsyncTask completed:\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask#onPostExecute(Result)","title":"Waiting for a background network task to finish and return the response to mainActivity without blocking the UI","body":"<p>The <code>AsyncTask</code> has method  <a href=\"https://developer.android.com/reference/android/os/AsyncTask#onPostExecute(Result)\" rel=\"nofollow noreferrer\"><code>onPostExecute</code></a>. It's exactly what you wants as it runs on the UI thread after the main logic of the AsyncTask completed:</p>\n"}],"owner":{"account_id":4186277,"reputation":3,"user_id":3429974,"display_name":"user3429974"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692731708,"creation_date":1692730740,"question_id":76956184,"body_markdown":"Currently I have an async task that contacts a REST api endpoint and gets the result from it.\r\nThe issue is that by using get() the UI thread is blocked, I would like to avoid this, how do I achieve it.\r\n\r\nHere&#39;s the code I&#39;m using\r\n\r\n```\r\n    public static class checkStatus extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        public String doInBackground(String... strings) {\r\n            String response = null;\r\n            String token = strings[0];\r\n            String id = strings[1];\r\n            String pass = strings[2];\r\n            String guid = strings[3];\r\n\r\n            try {\r\n                String url = &quot;http://teststatus.com/checkStatus&quot;;\r\n                URL apiUrl = new URL(url);\r\n                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setDoOutput(true);\r\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n                connection.setRequestProperty(&quot;id&quot;, id);\r\n\r\n                JSONObject object = new JSONObject();\r\n                object.put(&quot;id&quot;, id);\r\n                object.put(&quot;pass&quot;, pass);\r\n                object.put(&quot;guid&quot;, guid);\r\n\r\n\r\n                byte[] out = String.valueOf(object).getBytes(StandardCharsets.UTF_8);\r\n                OutputStream stream = connection.getOutputStream();\r\n                stream.write(out);\r\n\r\n                int status = connection.getResponseCode();\r\n                if (status == 200 || status == 202) {\r\n                    InputStream inputStream = new BufferedInputStream(connection.getInputStream());\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n                    String line;\r\n                    while ((line = bufferedReader.readLine()) != null) {\r\n                        stringBuilder.append(line).append(&quot;\\n&quot;);\r\n                    }\r\n                    response = stringBuilder.toString();\r\n\r\n                }\r\n                if (status != 200) {\r\n                    response = connection.getResponseMessage();\r\n                }\r\n\r\n            } catch (IOException | JSONException e) {\r\n                return null;\r\n            }\r\n\r\n            return response;\r\n        }\r\n    }\r\n```\r\n\r\nand I call it in another activity like this\r\n\r\n```\r\nstatuses.checkStatus checkStatus = new statuses.checkStatus();\r\nString result = checkStatus.execute(token, id, pass, guid).get();\r\n```\r\n\r\nHow would I best achieve it ? I need the in checkStatus to finish before the application continues to the next part of the code, but I don&#39;t want it to block the UI. How do I write some kind of a loop to check whether the checkStatus has returned a result without it blocking the UI thread ? It doesn&#39;t have to be an async task, tried making an executor, still have to use get in order to get the result.","title":"Waiting for a background network task to finish and return the response to mainActivity without blocking the UI","body":"<p>Currently I have an async task that contacts a REST api endpoint and gets the result from it.\nThe issue is that by using get() the UI thread is blocked, I would like to avoid this, how do I achieve it.</p>\n<p>Here's the code I'm using</p>\n<pre><code>    public static class checkStatus extends AsyncTask&lt;String, Void, String&gt; {\n        @Override\n        public String doInBackground(String... strings) {\n            String response = null;\n            String token = strings[0];\n            String id = strings[1];\n            String pass = strings[2];\n            String guid = strings[3];\n\n            try {\n                String url = &quot;http://teststatus.com/checkStatus&quot;;\n                URL apiUrl = new URL(url);\n                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();\n                connection.setRequestMethod(&quot;POST&quot;);\n                connection.setDoOutput(true);\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n                connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n                connection.setRequestProperty(&quot;id&quot;, id);\n\n                JSONObject object = new JSONObject();\n                object.put(&quot;id&quot;, id);\n                object.put(&quot;pass&quot;, pass);\n                object.put(&quot;guid&quot;, guid);\n\n\n                byte[] out = String.valueOf(object).getBytes(StandardCharsets.UTF_8);\n                OutputStream stream = connection.getOutputStream();\n                stream.write(out);\n\n                int status = connection.getResponseCode();\n                if (status == 200 || status == 202) {\n                    InputStream inputStream = new BufferedInputStream(connection.getInputStream());\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                    StringBuilder stringBuilder = new StringBuilder();\n                    String line;\n                    while ((line = bufferedReader.readLine()) != null) {\n                        stringBuilder.append(line).append(&quot;\\n&quot;);\n                    }\n                    response = stringBuilder.toString();\n\n                }\n                if (status != 200) {\n                    response = connection.getResponseMessage();\n                }\n\n            } catch (IOException | JSONException e) {\n                return null;\n            }\n\n            return response;\n        }\n    }\n</code></pre>\n<p>and I call it in another activity like this</p>\n<pre><code>statuses.checkStatus checkStatus = new statuses.checkStatus();\nString result = checkStatus.execute(token, id, pass, guid).get();\n</code></pre>\n<p>How would I best achieve it ? I need the in checkStatus to finish before the application continues to the next part of the code, but I don't want it to block the UI. How do I write some kind of a loop to check whether the checkStatus has returned a result without it blocking the UI thread ? It doesn't have to be an async task, tried making an executor, still have to use get in order to get the result.</p>\n"},{"tags":["java","spring","http","http-headers","httpresponse"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1503303832,"post_id":45792318,"comment_id":78542378,"body_markdown":"The `ResponseEntity` is immutable you would have to create a new one.","body":"The <code>ResponseEntity</code> is immutable you would have to create a new one."}],"answers":[{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599979789,"creation_date":1599979789,"answer_id":63868001,"question_id":45792318,"body_markdown":"\r\n\r\nHere is what I suggest you to implement:\r\n\r\n    @GetMapping(value = &quot;/get-products-detail/&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\r\n        public ResponseEntity&lt;Object&gt; getProductsDetail(@RequestParam Long userToken, @RequestParam Long productId) {\r\n            try {\r\n                return ResponseEntity.ok().body(digitoonContentService.getProductsDetails(userToken, productId));\r\n            } catch (InvalidTokenException e) {\r\n                logger.info(&quot;token is null or invalid&quot;, e);\r\n                MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\r\n                headers.add(&quot;invalid_token&quot;, &quot;true&quot;);\r\n                ErrorDTO errorDTO = new ErrorDTO(HttpStatus.UNAUTHORIZED, HttpStatus.UNAUTHORIZED.value(), e.getMessage());\r\n                return new ResponseEntity&lt;Object&gt;(errorDTO, headers, HttpStatus.UNAUTHORIZED);\r\n            }\r\n\r\n","title":"Add a new Header to Spring ResponseEntity","body":"<p>Here is what I suggest you to implement:</p>\n<pre><code>@GetMapping(value = &quot;/get-products-detail/&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\n    public ResponseEntity&lt;Object&gt; getProductsDetail(@RequestParam Long userToken, @RequestParam Long productId) {\n        try {\n            return ResponseEntity.ok().body(digitoonContentService.getProductsDetails(userToken, productId));\n        } catch (InvalidTokenException e) {\n            logger.info(&quot;token is null or invalid&quot;, e);\n            MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\n            headers.add(&quot;invalid_token&quot;, &quot;true&quot;);\n            ErrorDTO errorDTO = new ErrorDTO(HttpStatus.UNAUTHORIZED, HttpStatus.UNAUTHORIZED.value(), e.getMessage());\n            return new ResponseEntity&lt;Object&gt;(errorDTO, headers, HttpStatus.UNAUTHORIZED);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1402990,"reputation":172,"user_id":1331413,"display_name":"acacio.martins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621945030,"creation_date":1621944730,"answer_id":67687653,"question_id":45792318,"body_markdown":"You need create a now one.\r\n\r\n```\r\n   final HttpHeaders responseHeaders = new HttpHeaders();\r\n   responseHeaders.set(headerName, headerValue);\r\n   final ResponseEntity&lt;&gt; response = new ResponseEntity&lt;&gt;(responseHeaders, HttpStatus.FORBIDDEN);\r\n```","title":"Add a new Header to Spring ResponseEntity","body":"<p>You need create a now one.</p>\n<pre><code>   final HttpHeaders responseHeaders = new HttpHeaders();\n   responseHeaders.set(headerName, headerValue);\n   final ResponseEntity&lt;&gt; response = new ResponseEntity&lt;&gt;(responseHeaders, HttpStatus.FORBIDDEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648728662,"creation_date":1648728662,"answer_id":71692234,"question_id":45792318,"body_markdown":"ResponseEntity.getHeaders() returns you the immutable object and hence if you attempt to update it you get `java.lang.UnsupportedOperationException`\r\n\r\nSo, you have to create a new copy of headers and populated the existing headers and add the new required headers on top of it. And finally attach the headers to the ResponseEntity.\r\n\r\n   \r\n\r\n     //create a new headers object.\r\n        HttpHeaders headers = new HttpHeaders();\r\n        //add all existing headers in new headers\r\n         headers.addAll(response.getHeaders()); \r\n        //add the new required header\r\n        headers.add(&quot;newheader&quot;,&quot;newvalue&quot;); \r\n        //add the headers to the responseEntity along with yourBody object\r\n        ResponseEntity.status(HttpStatus.OK).headers(headers).body(yourBody);","title":"Add a new Header to Spring ResponseEntity","body":"<p>ResponseEntity.getHeaders() returns you the immutable object and hence if you attempt to update it you get <code>java.lang.UnsupportedOperationException</code></p>\n<p>So, you have to create a new copy of headers and populated the existing headers and add the new required headers on top of it. And finally attach the headers to the ResponseEntity.</p>\n<pre><code> //create a new headers object.\n    HttpHeaders headers = new HttpHeaders();\n    //add all existing headers in new headers\n     headers.addAll(response.getHeaders()); \n    //add the new required header\n    headers.add(&quot;newheader&quot;,&quot;newvalue&quot;); \n    //add the headers to the responseEntity along with yourBody object\n    ResponseEntity.status(HttpStatus.OK).headers(headers).body(yourBody);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1904407,"reputation":2121,"user_id":1719569,"display_name":"Saljack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692731182,"creation_date":1692731182,"answer_id":76956230,"question_id":45792318,"body_markdown":"You have to create a copy of your `ResponseEntity`. Unfortunately `HttpHeaders` are read-only. But there is a helpful method that &quot;converts&quot; (it makes a copy if HttpHeaders is read-only) read-only `HttpHeaders` into writeable `HttpHeaders`. `HttpHeaders.writableHttpHeaders(HttpHeaders headers)`\r\n\r\n```java\r\npublic &lt;T&gt; ResponseEntity&lt;T&gt; addCustomHeader(ResponseEntity&lt;T&gt; response, String headerName, String headerValue) {\r\n  HttpHeaders headers = HttpHeaders.writableHttpHeaders(response.getHeaders());\r\n  headers.add(headerName, headerValue);\r\n  return new ResponseEntity&lt;&gt;(response.getBody(), headers, response.getStatusCode());\r\n}\r\n\r\n```","title":"Add a new Header to Spring ResponseEntity","body":"<p>You have to create a copy of your <code>ResponseEntity</code>. Unfortunately <code>HttpHeaders</code> are read-only. But there is a helpful method that &quot;converts&quot; (it makes a copy if HttpHeaders is read-only) read-only <code>HttpHeaders</code> into writeable <code>HttpHeaders</code>. <code>HttpHeaders.writableHttpHeaders(HttpHeaders headers)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; ResponseEntity&lt;T&gt; addCustomHeader(ResponseEntity&lt;T&gt; response, String headerName, String headerValue) {\n  HttpHeaders headers = HttpHeaders.writableHttpHeaders(response.getHeaders());\n  headers.add(headerName, headerValue);\n  return new ResponseEntity&lt;&gt;(response.getBody(), headers, response.getStatusCode());\n}\n\n</code></pre>\n"}],"owner":{"account_id":4990575,"reputation":482,"user_id":4012934,"accept_rate":54,"display_name":"Nosairat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5770,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1692731182,"creation_date":1503303626,"question_id":45792318,"body_markdown":"How can I add a new header to an   **org.springframework.http.ResponseEntity** object ?\r\n\r\nHere is my code:\r\n\r\n    public void addCustomHeader(ResponseEntity response,String headerName,String headerValue)\r\n    {\r\n\t  response.getHeaders().add(headerName, headerValue);\r\n    }\r\n\r\nwhen I try the above code, I get \r\n\r\n&gt; java.lang.UnsupportedOperationException","title":"Add a new Header to Spring ResponseEntity","body":"<p>How can I add a new header to an   <strong>org.springframework.http.ResponseEntity</strong> object ?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public void addCustomHeader(ResponseEntity response,String headerName,String headerValue)\n{\n  response.getHeaders().add(headerName, headerValue);\n}\n</code></pre>\n\n<p>when I try the above code, I get </p>\n\n<blockquote>\n  <p>java.lang.UnsupportedOperationException</p>\n</blockquote>\n"},{"tags":["java","file-io","ubuntu-14.04"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1479356951,"post_id":40646726,"comment_id":68525041,"body_markdown":"Can you print the exact error message","body":"Can you print the exact error message"},{"owner":{"account_id":1100075,"reputation":652,"user_id":1092688,"display_name":"Eric M."},"score":0,"creation_date":1479356991,"post_id":40646726,"comment_id":68525051,"body_markdown":"Does your application have permission to write to the target directory?","body":"Does your application have permission to write to the target directory?"},{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":0,"creation_date":1479357153,"post_id":40646726,"comment_id":68525095,"body_markdown":"@ScaryWombat pls see the edit.","body":"@ScaryWombat pls see the edit."},{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":0,"creation_date":1479357214,"post_id":40646726,"comment_id":68525110,"body_markdown":"@EricM. it does and was working properly. In face if i try to create a file - touch test - in the terminal it fails as well saying &quot; touch: cannot touch ‘test’: No space left on device&quot;.","body":"@EricM. it does and was working properly. In face if i try to create a file - touch test - in the terminal it fails as well saying &quot; touch: cannot touch ‘test’: No space left on device&quot;."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1479358503,"post_id":40646726,"comment_id":68525487,"body_markdown":"So, wouldn&#39;t it be right to say that this problem is not related to programming in Java? Sounds like this question should be asked on superuser.com as it&#39;s not about programming but about using Unix systems.","body":"So, wouldn&#39;t it be right to say that this problem is not related to programming in Java? Sounds like this question should be asked on superuser.com as it&#39;s not about programming but about using Unix systems."},{"owner":{"account_id":9624388,"reputation":84,"user_id":7144466,"display_name":"TDWebDev"},"score":0,"creation_date":1479358618,"post_id":40646726,"comment_id":68525520,"body_markdown":"You said it was working before. Do you remember what you might have done, run some app or command, or notice something else happened before it stopped working? If you cant even touch a file then its something in the file system not Java related.","body":"You said it was working before. Do you remember what you might have done, run some app or command, or notice something else happened before it stopped working? If you cant even touch a file then its something in the file system not Java related."},{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":0,"creation_date":1479359699,"post_id":40646726,"comment_id":68525829,"body_markdown":"I haven&#39;t done anything just kept running my code until it threw the exception. Maybe I should ask there..","body":"I haven&#39;t done anything just kept running my code until it threw the exception. Maybe I should ask there.."},{"owner":{"account_id":344313,"reputation":102,"user_id":676559,"display_name":"sattu"},"score":0,"creation_date":1553189684,"post_id":40646726,"comment_id":97302193,"body_markdown":"@samsamara were you able to find the cause and solution?","body":"@samsamara were you able to find the cause and solution?"},{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":0,"creation_date":1553395208,"post_id":40646726,"comment_id":97367414,"body_markdown":"@sattu I haven&#39;t :( this could be a serious bug wih JVM I guess.","body":"@sattu I haven&#39;t :( this could be a serious bug wih JVM I guess."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1604400075,"post_id":40646726,"comment_id":114330123,"body_markdown":"It isn&#39;t plausibly a bug in the JVM.  The file system full error is returned by the OS.  The JVM just reports what the OS is telling it.  I suspect that there is something funky about the media device or the file system mounted on &quot;/media/sam/Sam&quot;.  I concur with Erwin - this is really a `SuperUser` or `Unix` problem.  It isn&#39;t a programming problem.","body":"It isn&#39;t plausibly a bug in the JVM.  The file system full error is returned by the OS.  The JVM just reports what the OS is telling it.  I suspect that there is something funky about the media device or the file system mounted on &quot;/media/sam/Sam&quot;.  I concur with Erwin - this is really a <code>SuperUser</code> or <code>Unix</code> problem.  It isn&#39;t a programming problem."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679651363,"post_id":40646726,"comment_id":133762906,"body_markdown":"Linux filesystems often reserve a certain percentage of their capacity for the root user (to avoid situations where a full system breaks down and not even root can log in to fix it). It seems like your disk has less than 10% disk space left, so you might be running into this (especially since you can&#39;t create files outside of Java either). That value [can be changed](https://unix.stackexchange.com/questions/7950/reserved-space-for-root-on-a-filesystem-why) and if your disk is not used as a system partition, you might not need that feature at all.","body":"Linux filesystems often reserve a certain percentage of their capacity for the root user (to avoid situations where a full system breaks down and not even root can log in to fix it). It seems like your disk has less than 10% disk space left, so you might be running into this (especially since you can&#39;t create files outside of Java either). That value <a href=\"https://unix.stackexchange.com/questions/7950/reserved-space-for-root-on-a-filesystem-why\">can be changed</a> and if your disk is not used as a system partition, you might not need that feature at all."},{"owner":{"account_id":3080106,"reputation":546,"user_id":2608529,"display_name":"mahesh nanayakkara"},"score":0,"creation_date":1680190173,"post_id":40646726,"comment_id":133859532,"body_markdown":"share us your linux distro and arch,  just run &#39;uname -a&#39;.  there are logs under /var/log you can diagnose this neatly.","body":"share us your linux distro and arch,  just run &#39;uname -a&#39;.  there are logs under /var/log you can diagnose this neatly."}],"answers":[{"tags":[],"owner":{"account_id":2693900,"reputation":4029,"user_id":2326492,"accept_rate":75,"display_name":"Bohne"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1604399487,"creation_date":1604399487,"answer_id":64661059,"question_id":40646726,"body_markdown":"In my case the Java Process was operating with a temp-directory, using default java.io.tmpdir (in my case /tmp).\r\n\r\nI was expecting it to work in another partition. So maybe changing the default works:\r\n\r\n    -Djava.io.tmpdir=/media/sam/Sam/tmp","title":"Java &quot;No space left on device&quot; but there is enough space on disk?","body":"<p>In my case the Java Process was operating with a temp-directory, using default java.io.tmpdir (in my case /tmp).</p>\n<p>I was expecting it to work in another partition. So maybe changing the default works:</p>\n<pre><code>-Djava.io.tmpdir=/media/sam/Sam/tmp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27897349,"reputation":3,"user_id":21302357,"display_name":"Anika Sharma"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1679646216,"creation_date":1679646216,"answer_id":75831379,"question_id":40646726,"body_markdown":"It looks like the issue might be related to inode usage. The filesystem is using 62% of its inodes and the directory where you are trying to write also has a high percentage of inodes in use - 22090147 of 35769712. You may need to free up some inode space in order to write the files. You can do this by deleting some existing files, moving them to another directory, or using a tool such as &quot;tune2fs&quot; to manually increase the number of inodes available on the filesystem.","title":"Java &quot;No space left on device&quot; but there is enough space on disk?","body":"<p>It looks like the issue might be related to inode usage. The filesystem is using 62% of its inodes and the directory where you are trying to write also has a high percentage of inodes in use - 22090147 of 35769712. You may need to free up some inode space in order to write the files. You can do this by deleting some existing files, moving them to another directory, or using a tool such as &quot;tune2fs&quot; to manually increase the number of inodes available on the filesystem.</p>\n"}],"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14476,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1692730824,"creation_date":1479356848,"question_id":40646726,"body_markdown":"I&#39;m trying to write files to the file system in a java programme but it fails with an exception throwing &#39;No space left on device&#39; when df -h (and df -i) says otherwise. \r\n\r\nHere is the output of df -h: \r\n\r\n    Filesystem      Size  Used Avail Use% Mounted on\r\n    udev            5.9G  4.0K  5.9G   1% /dev\r\n    tmpfs           1.2G  1.4M  1.2G   1% /run\r\n    /dev/sda5       156G  139G  9.1G  94% /\r\n    none            4.0K     0  4.0K   0% /sys/fs/cgroup\r\n    none            5.0M     0  5.0M   0% /run/lock\r\n    none            5.9G  105M  5.8G   2% /run/shm\r\n    none            100M   28K  100M   1% /run/user\r\n    /dev/sda2       105G  102G  2.7G  98% /media/sam/System \r\n    /dev/sda3       176G  163G   14G  93% /media/sam/Sam //where I&#39;m trying to write\r\n\r\nand here is the output of df -i: \r\n\r\n    Filesystem       Inodes    IUsed    IFree IUse% Mounted on\r\n    udev            1523763      552  1523211    1% /dev\r\n    tmpfs           1526458      584  1525874    1% /run\r\n    /dev/sda5      10362880  4750381  5612499   46% /\r\n    none            1526458        2  1526456    1% /sys/fs/cgroup\r\n    none            1526458        3  1526455    1% /run/lock\r\n    none            1526458      191  1526267    1% /run/shm\r\n    none            1526458       26  1526432    1% /run/user\r\n    /dev/sda2       3832820  1045155  2787665   28% /media/sam/System \r\n    /dev/sda3      35769712 22090147 13679565   62% /media/sam/Sam //where I&#39;m trying to write\r\n\r\n I am trying to write files to /media/sam/Sam/. I have tried restarting my machine, unmounting and mounting again but no luck. Also in Java if I create a new file object inside /media/sam/Sam and print the usage information, it prints 0 as below:\r\n\r\n    File tweetFile = new File( &quot;/media/sam/Sam/&quot; + &quot;test&quot;  + &quot;.txt&quot; );\r\n    System.out.println( tweetFile.getTotalSpace()  ); // prints 0\r\n    System.out.println( tweetFile.getFreeSpace()/1000000000 ); // prints 0\r\n    System.out.println( tweetFile.getUsableSpace()/1000000000 ); // prints 0\r\n\r\nAny help is really appreciated as I&#39;m trying to fix this for the whole day and getting really frustrated. \r\n\r\n**EDIT**\r\nHere is the exact message thrown:\r\n\r\n    Exception: java.io.IOException: No space left on device\r\n    java.io.IOException: No space left on device\r\n    \tat java.io.UnixFileSystem.createFileExclusively(Native Method)\r\n    \tat java.io.File.createNewFile(File.java:1006)\r\n    \tat utils.FileUtil.writeToFile(FileUtil.java:64)\r\n    \tat experiments.usinglists.tagbasedeval.ToindexTweetsForAUser.main(ToindexTweetsForAUser.java:36)","title":"Java &quot;No space left on device&quot; but there is enough space on disk?","body":"<p>I'm trying to write files to the file system in a java programme but it fails with an exception throwing 'No space left on device' when df -h (and df -i) says otherwise. </p>\n\n<p>Here is the output of df -h: </p>\n\n<pre><code>Filesystem      Size  Used Avail Use% Mounted on\nudev            5.9G  4.0K  5.9G   1% /dev\ntmpfs           1.2G  1.4M  1.2G   1% /run\n/dev/sda5       156G  139G  9.1G  94% /\nnone            4.0K     0  4.0K   0% /sys/fs/cgroup\nnone            5.0M     0  5.0M   0% /run/lock\nnone            5.9G  105M  5.8G   2% /run/shm\nnone            100M   28K  100M   1% /run/user\n/dev/sda2       105G  102G  2.7G  98% /media/sam/System \n/dev/sda3       176G  163G   14G  93% /media/sam/Sam //where I'm trying to write\n</code></pre>\n\n<p>and here is the output of df -i: </p>\n\n<pre><code>Filesystem       Inodes    IUsed    IFree IUse% Mounted on\nudev            1523763      552  1523211    1% /dev\ntmpfs           1526458      584  1525874    1% /run\n/dev/sda5      10362880  4750381  5612499   46% /\nnone            1526458        2  1526456    1% /sys/fs/cgroup\nnone            1526458        3  1526455    1% /run/lock\nnone            1526458      191  1526267    1% /run/shm\nnone            1526458       26  1526432    1% /run/user\n/dev/sda2       3832820  1045155  2787665   28% /media/sam/System \n/dev/sda3      35769712 22090147 13679565   62% /media/sam/Sam //where I'm trying to write\n</code></pre>\n\n<p>I am trying to write files to /media/sam/Sam/. I have tried restarting my machine, unmounting and mounting again but no luck. Also in Java if I create a new file object inside /media/sam/Sam and print the usage information, it prints 0 as below:</p>\n\n<pre><code>File tweetFile = new File( \"/media/sam/Sam/\" + \"test\"  + \".txt\" );\nSystem.out.println( tweetFile.getTotalSpace()  ); // prints 0\nSystem.out.println( tweetFile.getFreeSpace()/1000000000 ); // prints 0\nSystem.out.println( tweetFile.getUsableSpace()/1000000000 ); // prints 0\n</code></pre>\n\n<p>Any help is really appreciated as I'm trying to fix this for the whole day and getting really frustrated. </p>\n\n<p><strong>EDIT</strong>\nHere is the exact message thrown:</p>\n\n<pre><code>Exception: java.io.IOException: No space left on device\njava.io.IOException: No space left on device\n    at java.io.UnixFileSystem.createFileExclusively(Native Method)\n    at java.io.File.createNewFile(File.java:1006)\n    at utils.FileUtil.writeToFile(FileUtil.java:64)\n    at experiments.usinglists.tagbasedeval.ToindexTweetsForAUser.main(ToindexTweetsForAUser.java:36)\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","augmented-reality"],"owner":{"account_id":2197588,"reputation":11547,"user_id":1942868,"accept_rate":80,"display_name":"whitebear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692730507,"creation_date":1692730507,"question_id":76956160,"body_markdown":"I have this `No virtual method` error when using `ArCore` via flutter plugin [arcore_flutter_plugin][1] \r\n\r\n\r\n    java.lang.NoSuchMethodError: No virtual method acquireEnvironmentalHdrCubeMap()[Lcom/google/ar/core/ArImage; in class Lcom/google/ar/core/LightEstimate; or its super classes (declaration of &#39;com.google.ar.core.LightEstimate&#39; appears in /data/app/~~ICg-b27T7FDh1Fo0i1vyuQ==/com.example.arcore_test-Lsft1_3lhOxQyuP98Q0oTA==/base.apk)\r\n\r\nThis function&#39;s article is [here][2] , I guess this function is supposed is belonging to `com.google.ar:core`, however cant be called somehow?\r\n\r\nI am using `1.37.0` and change this to `1.33.0`, but in vain.\r\n\r\nin AndroidManifest.xml\r\n\r\n    dependencies {\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n        implementation &#39;com.google.ar:core:1.37.0&#39;\r\n\r\nWhat this error means? , how can I solves?\r\n\r\n\r\n  [1]: https://pub.dev/packages/\r\n  [2]: https://developers.google.com/ar/reference/java/com/google/ar/core/LightEstimate\r\n","title":"java.lang.NoSuchMethodError: No virtual method acquireEnvironmentalHdrCubeMap()","body":"<p>I have this <code>No virtual method</code> error when using <code>ArCore</code> via flutter plugin <a href=\"https://pub.dev/packages/\" rel=\"nofollow noreferrer\">arcore_flutter_plugin</a></p>\n<pre><code>java.lang.NoSuchMethodError: No virtual method acquireEnvironmentalHdrCubeMap()[Lcom/google/ar/core/ArImage; in class Lcom/google/ar/core/LightEstimate; or its super classes (declaration of 'com.google.ar.core.LightEstimate' appears in /data/app/~~ICg-b27T7FDh1Fo0i1vyuQ==/com.example.arcore_test-Lsft1_3lhOxQyuP98Q0oTA==/base.apk)\n</code></pre>\n<p>This function's article is <a href=\"https://developers.google.com/ar/reference/java/com/google/ar/core/LightEstimate\" rel=\"nofollow noreferrer\">here</a> , I guess this function is supposed is belonging to <code>com.google.ar:core</code>, however cant be called somehow?</p>\n<p>I am using <code>1.37.0</code> and change this to <code>1.33.0</code>, but in vain.</p>\n<p>in AndroidManifest.xml</p>\n<pre><code>dependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'com.google.ar:core:1.37.0'\n</code></pre>\n<p>What this error means? , how can I solves?</p>\n"},{"tags":["java","eclipse","gtk","swt"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1692738235,"post_id":76956123,"comment_id":135664954,"body_markdown":"Does this Eclipse based application have a plugin  (or more precisely, a fragment in the `plugins` folder) with the name `org.eclipse.swt.gtk.linux.x86_64_*.jar`? If yes, which `.so` files does the JAR contain?","body":"Does this Eclipse based application have a plugin  (or more precisely, a fragment in the <code>plugins</code> folder) with the name <code>org.eclipse.swt.gtk.linux.x86_64_*.jar</code>? If yes, which <code>.so</code> files does the JAR contain?"},{"owner":{"account_id":13559602,"reputation":163,"user_id":9781834,"display_name":"Alex"},"score":0,"creation_date":1692803536,"post_id":76956123,"comment_id":135674596,"body_markdown":"@howlger It does, here goes:\n\nwebkitextensions4944r26/libswt-webkit2extension-gtk-4944r26.so\nlibswt-atk-gtk-4944r26.so\nlibswt-awt-gtk-4944r26.so\nlibswt-cairo-gtk-4944r26.so\nlibswt-glx-gtk-4944r26.so\nlibswt-gtk-4944r26.so\nlibswt-pi3-gtk-4944r26.so\nlibswt-webkit-gtk-4944r26.so","body":"@howlger It does, here goes:  webkitextensions4944r26/libswt-webkit2extension-gtk-4944r26.&zwnj;&#8203;so libswt-atk-gtk-4944r26.so libswt-awt-gtk-4944r26.so libswt-cairo-gtk-4944r26.so libswt-glx-gtk-4944r26.so libswt-gtk-4944r26.so libswt-pi3-gtk-4944r26.so libswt-webkit-gtk-4944r26.so"}],"owner":{"account_id":13559602,"reputation":163,"user_id":9781834,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692730085,"creation_date":1692730085,"question_id":76956123,"body_markdown":"I am attempting to run an application based on Eclipse, and I am unable to due to errors when attempting to access `libswt-pi4.so`, `libswt-pi4-gtk.so` and `libswt-pi4-gtk-4944r26.so`. Slight aside, I will not be going into detail regarding the application due to a NDA, but I believe it shouldn&#39;t be a problem, as the issue seems to stem from the eclipse base. I am on Linux Mint 21.2.\r\n\r\nThe error (very slightly redacted) is as follows:\r\n```log\r\n!SESSION 2023-08-17 18:27:08.326 -----------------------------------------------\r\neclipse.buildId=unknown\r\njava.version=11.0.15\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\r\nCommand-line arguments:  -os linux -ws gtk -arch x86_64\r\n\r\n!ENTRY org.eclipse.osgi 4 0 2023-08-17 18:27:10.417\r\n!MESSAGE Application error\r\n!STACK 1\r\njava.lang.UnsatisfiedLinkError: Could not load SWT library. Reasons:\r\n\tno swt-pi4-gtk-4944r26 in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n\tno swt-pi4-gtk in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n\tno swt-pi4 in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n\tCan&#39;t load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4-gtk-4944r26.so\r\n\tCan&#39;t load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4-gtk.so\r\n\tCan&#39;t load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4.so\r\n\r\n\tat org.eclipse.swt.internal.Library.loadLibrary(Library.java:348)\r\n\tat org.eclipse.swt.internal.Library.loadLibrary(Library.java:257)\r\n\tat org.eclipse.swt.internal.gtk.OS.&lt;clinit&gt;(OS.java:96)\r\n\tat org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:209)\r\n\tat org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:155)\r\n\tat org.eclipse.swt.widgets.Display.&lt;clinit&gt;(Display.java:165)\r\n\tat org.eclipse.ui.internal.Workbench.createDisplay(Workbench.java:726)\r\n\tat org.eclipse.ui.PlatformUI.createDisplay(PlatformUI.java:168)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.createDisplay(IDEApplication.java:182)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:125)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1435)\r\n\r\n```\r\n\r\nBrowsing for similar issues, I found posts suggesting I install `libswt-gtk-4-java` and `libswt-gtk-4-java`, which I have. This has not solved the issue. After this, [another post][1] suggested creating links from `/usr/lib/jni/libswt-*` to `~/.swt/lib/linux/x86_64/` (which is indeed where the error claims the files are not), but a quick look at the original folder shows the required libraries are not there either:\r\n\r\n```sh\r\nalexandre:/usr/lib/jni$ l\r\nlibswt-atk-gtk-4944r26.so  libswt-awt-gtk-4944r26.so  libswt-gtk-4944r26.so  libswt-pi3-gtk-4944r26.so\r\n```\r\n\r\n`~/.swt/lib/linux/x86_64/` has a single file by default, which is `libswt-pi3-gtk-4944r26.so`.\r\n\r\nAny clue as to which packages I may be missing? Thank you for your time.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10165693/eclipse-cannot-load-swt-libraries","title":"&quot;Could not load SWT library&quot; error - no swt-pi4* in in java.library.path","body":"<p>I am attempting to run an application based on Eclipse, and I am unable to due to errors when attempting to access <code>libswt-pi4.so</code>, <code>libswt-pi4-gtk.so</code> and <code>libswt-pi4-gtk-4944r26.so</code>. Slight aside, I will not be going into detail regarding the application due to a NDA, but I believe it shouldn't be a problem, as the issue seems to stem from the eclipse base. I am on Linux Mint 21.2.</p>\n<p>The error (very slightly redacted) is as follows:</p>\n<pre><code>!SESSION 2023-08-17 18:27:08.326 -----------------------------------------------\neclipse.buildId=unknown\njava.version=11.0.15\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\nCommand-line arguments:  -os linux -ws gtk -arch x86_64\n\n!ENTRY org.eclipse.osgi 4 0 2023-08-17 18:27:10.417\n!MESSAGE Application error\n!STACK 1\njava.lang.UnsatisfiedLinkError: Could not load SWT library. Reasons:\n    no swt-pi4-gtk-4944r26 in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    no swt-pi4-gtk in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    no swt-pi4 in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    Can't load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4-gtk-4944r26.so\n    Can't load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4-gtk.so\n    Can't load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4.so\n\n    at org.eclipse.swt.internal.Library.loadLibrary(Library.java:348)\n    at org.eclipse.swt.internal.Library.loadLibrary(Library.java:257)\n    at org.eclipse.swt.internal.gtk.OS.&lt;clinit&gt;(OS.java:96)\n    at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:209)\n    at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:155)\n    at org.eclipse.swt.widgets.Display.&lt;clinit&gt;(Display.java:165)\n    at org.eclipse.ui.internal.Workbench.createDisplay(Workbench.java:726)\n    at org.eclipse.ui.PlatformUI.createDisplay(PlatformUI.java:168)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.createDisplay(IDEApplication.java:182)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:125)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1435)\n\n</code></pre>\n<p>Browsing for similar issues, I found posts suggesting I install <code>libswt-gtk-4-java</code> and <code>libswt-gtk-4-java</code>, which I have. This has not solved the issue. After this, <a href=\"https://stackoverflow.com/questions/10165693/eclipse-cannot-load-swt-libraries\">another post</a> suggested creating links from <code>/usr/lib/jni/libswt-*</code> to <code>~/.swt/lib/linux/x86_64/</code> (which is indeed where the error claims the files are not), but a quick look at the original folder shows the required libraries are not there either:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>alexandre:/usr/lib/jni$ l\nlibswt-atk-gtk-4944r26.so  libswt-awt-gtk-4944r26.so  libswt-gtk-4944r26.so  libswt-pi3-gtk-4944r26.so\n</code></pre>\n<p><code>~/.swt/lib/linux/x86_64/</code> has a single file by default, which is <code>libswt-pi3-gtk-4944r26.so</code>.</p>\n<p>Any clue as to which packages I may be missing? Thank you for your time.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":3,"creation_date":1692733111,"post_id":76955920,"comment_id":135664224,"body_markdown":"Use _[Matcher#matches](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#matches())_ instead of _[Matcher#find](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find())_, and at that rate just use _[String#matches](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String))_.","body":"Use <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#matches()\" rel=\"nofollow noreferrer\">Matcher#matches</a></i> instead of <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\">Matcher#find</a></i>, and at that rate just use <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\">String#matches</a></i>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692798669,"post_id":76955920,"comment_id":135673381,"body_markdown":"The Matcher class has many methods.  If you had printed out `matcher.start()`, your issue would have been clear.  And reading the documentation of Matcher also would have helped you.","body":"The Matcher class has many methods.  If you had printed out <code>matcher.start()</code>, your issue would have been clear.  And reading the documentation of Matcher also would have helped you."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1692729133,"creation_date":1692728639,"answer_id":76955958,"question_id":76955920,"body_markdown":"`matcher.find()` finds matches *within* the input; in your case it matches `A`.\r\n\r\nYou want:\r\n\r\n    &quot;1A&quot;.matches(&quot;[a-zA-Z].*&quot;)\r\n\r\n[String#matches()][1] must match the *entire* String to return `true` (so no need for `^` at the start), and the regex requires that the first character be a letter (the remaining characters, if any, can be anything).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String)","title":"Why 1A matches &quot;[a-zA-Z]+&quot; Regex in Java?","body":"<p><code>matcher.find()</code> finds matches <em>within</em> the input; in your case it matches <code>A</code>.</p>\n<p>You want:</p>\n<pre><code>&quot;1A&quot;.matches(&quot;[a-zA-Z].*&quot;)\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\">String#matches()</a> must match the <em>entire</em> String to return <code>true</code> (so no need for <code>^</code> at the start), and the regex requires that the first character be a letter (the remaining characters, if any, can be anything).</p>\n"},{"tags":[],"owner":{"account_id":29277669,"reputation":11,"user_id":22431051,"display_name":"chethan kailashnath"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1692728868,"creation_date":1692728868,"answer_id":76955980,"question_id":76955920,"body_markdown":"The given RegEx **[a-zA-Z]+** matches a character irrespective of its position in the string. Here 1A is also a match.\r\n\r\nIf you want to match words starting with a letter use &quot;^&quot; at the beginning of the regex. &quot;**^**&quot; is identify starting of the string.\r\n\r\nand to match zero or more letters you can use [a-zA-Z]*, your final regEx looks like this.\r\n\r\nexp - **&quot;^[a-zA-Z][a-zA-Z]*&quot;**","title":"Why 1A matches &quot;[a-zA-Z]+&quot; Regex in Java?","body":"<p>The given RegEx <strong>[a-zA-Z]+</strong> matches a character irrespective of its position in the string. Here 1A is also a match.</p>\n<p>If you want to match words starting with a letter use &quot;^&quot; at the beginning of the regex. &quot;<strong>^</strong>&quot; is identify starting of the string.</p>\n<p>and to match zero or more letters you can use [a-zA-Z]*, your final regEx looks like this.</p>\n<p>exp - <strong>&quot;^[a-zA-Z][a-zA-Z]*&quot;</strong></p>\n"}],"owner":{"account_id":27697360,"reputation":5,"user_id":21142762,"display_name":"Armando"},"comment_count":2,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1692728993,"answer_count":2,"score":-3,"last_activity_date":1692729133,"creation_date":1692728284,"question_id":76955920,"body_markdown":"I have the folowing code in Java \r\n\r\n```\r\n Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;, Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(&quot;1A&quot;);\r\n    boolean matchFound = matcher.find();\r\n    if(matchFound) {\r\n      System.out.println(&quot;Match found&quot;);\r\n    } else {\r\n      System.out.println(&quot;Match not found&quot;);\r\n    }\r\n```\r\n\r\nThe result of that says that **1A** match the regex **&quot;[a-zA-Z]+&quot;**. \r\n\r\nI only need to **accept words starting with a letter.**\r\n\r\nI did the same in question.","title":"Why 1A matches &quot;[a-zA-Z]+&quot; Regex in Java?","body":"<p>I have the folowing code in Java</p>\n<pre><code> Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(&quot;1A&quot;);\n    boolean matchFound = matcher.find();\n    if(matchFound) {\n      System.out.println(&quot;Match found&quot;);\n    } else {\n      System.out.println(&quot;Match not found&quot;);\n    }\n</code></pre>\n<p>The result of that says that <strong>1A</strong> match the regex <strong>&quot;[a-zA-Z]+&quot;</strong>.</p>\n<p>I only need to <strong>accept words starting with a letter.</strong></p>\n<p>I did the same in question.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1692727419,"post_id":76955787,"comment_id":135663071,"body_markdown":"The parameter you passed to `getEmployeeLocationByQuery` is _highly suggestive_ that you are writing code which is SQL injectable (not using prepared statements, concatening input directly into the query string). This is a **security issue**, one which you should correct ASAP if this is public-facing software.","body":"The parameter you passed to <code>getEmployeeLocationByQuery</code> is <i>highly suggestive</i> that you are writing code which is SQL injectable (not using prepared statements, concatening input directly into the query string). This is a <b>security issue</b>, one which you should correct ASAP if this is public-facing software."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1692727542,"post_id":76955787,"comment_id":135663108,"body_markdown":"That all said, the problem is you have a `List&lt;EmployeeLocation&gt;`, which you&#39;ve assigned to a `List&lt;String&gt;`. This might be caused by some oddness in the method signature of `getEmployeeLocationByQuery` (e.g. a `&lt;T&gt; List&lt;T&gt;` return, or some weird casting), but overall in doing this you&#39;ve doomed your first access from the list to throw that CCE. So use the correct type of list for your variable, and the correct type of element for your `for` loop.","body":"That all said, the problem is you have a <code>List&lt;EmployeeLocation&gt;</code>, which you&#39;ve assigned to a <code>List&lt;String&gt;</code>. This might be caused by some oddness in the method signature of <code>getEmployeeLocationByQuery</code> (e.g. a <code>&lt;T&gt; List&lt;T&gt;</code> return, or some weird casting), but overall in doing this you&#39;ve doomed your first access from the list to throw that CCE. So use the correct type of list for your variable, and the correct type of element for your <code>for</code> loop."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692727998,"creation_date":1692727998,"answer_id":76955895,"question_id":76955787,"body_markdown":"For printing the list directly, you&#39;re getting away with an incorrect usage of generics.  You are assigning your results to a `List&lt;String&gt;`.  The only way this could compile is if `getEmployeeLocationByQuery` is returning a `List&lt;String&gt;`, a raw `List`, or as suggested by a comment above, a `List&lt;T&gt;`.\r\n\r\nBecause the last part of the code has the `ClassCastException`, it looks like that method is returning a different kind of list than the type of the variable `locationList`.  You may be getting an unchecked assignment warning when compiling because of this if it&#39;s returning a raw `List`.\r\n\r\nThe first part of the code passes the `List` to [the overload of `System.out.println` that takes an `Object`][1].  Then it uses [`String.valueOf`][2], which yields your output as expected.  Because the specific type of `String` wasn&#39;t needed, an implicit cast was not inserted here attempting to cast your `List` to a `String`, so no error occurred.\r\n\r\nHowever, with your foreach loop, an implicit cast to the specific type is inserted by the compiler, resulting in your `ClassCastException`.  The [JLS, Section 14.14.2][3], gives the equivalent code for an enhanced for loop, showing the inserted cast:\r\n\r\n```\r\nfor (I #i = Expression.iterator(); #i.hasNext(); ) {\r\n    {VariableModifier} T Identifier = (TargetType) #i.next();\r\n    Statement\r\n}\r\n```\r\n\r\nUse the proper type parameter for the `List`, and the proper type for the foreach loop:\r\n\r\n    // Change List&lt;String&gt; to List&lt;EmployeeLocation&gt; here.\r\n    List&lt;EmployeeLocation&gt; locationList = getEmployeeLocationByQuery(&quot;name LIKE&#39;&quot;+searchName+&quot;%&#39;&quot;);\r\n    System.out.println(&quot;print location&quot;);\r\n    System.out.println(locationList);\r\n\r\n    // Change loop variable type to EmployeeLocation, name it better.\r\n    for (EmployeeLocation location : locationList) {\r\n        System.out.println(&quot;Inside Loop&quot;);\r\n        System.out.println(location);\r\n    }\r\n\r\nAs an aside, as suggested in a comment above, you need to fix your [SQL injection vulnerability][4].\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object)\r\n[2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object)\r\n[3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.14.2\r\n[4]: https://stackoverflow.com/questions/25024894/sql-injection-vulnerability-thru-preparedstatement","title":"loop over the object returned by the class to get the id","body":"<p>For printing the list directly, you're getting away with an incorrect usage of generics.  You are assigning your results to a <code>List&lt;String&gt;</code>.  The only way this could compile is if <code>getEmployeeLocationByQuery</code> is returning a <code>List&lt;String&gt;</code>, a raw <code>List</code>, or as suggested by a comment above, a <code>List&lt;T&gt;</code>.</p>\n<p>Because the last part of the code has the <code>ClassCastException</code>, it looks like that method is returning a different kind of list than the type of the variable <code>locationList</code>.  You may be getting an unchecked assignment warning when compiling because of this if it's returning a raw <code>List</code>.</p>\n<p>The first part of the code passes the <code>List</code> to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object)\" rel=\"nofollow noreferrer\">the overload of <code>System.out.println</code> that takes an <code>Object</code></a>.  Then it uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>String.valueOf</code></a>, which yields your output as expected.  Because the specific type of <code>String</code> wasn't needed, an implicit cast was not inserted here attempting to cast your <code>List</code> to a <code>String</code>, so no error occurred.</p>\n<p>However, with your foreach loop, an implicit cast to the specific type is inserted by the compiler, resulting in your <code>ClassCastException</code>.  The <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.14.2\" rel=\"nofollow noreferrer\">JLS, Section 14.14.2</a>, gives the equivalent code for an enhanced for loop, showing the inserted cast:</p>\n<pre><code>for (I #i = Expression.iterator(); #i.hasNext(); ) {\n    {VariableModifier} T Identifier = (TargetType) #i.next();\n    Statement\n}\n</code></pre>\n<p>Use the proper type parameter for the <code>List</code>, and the proper type for the foreach loop:</p>\n<pre><code>// Change List&lt;String&gt; to List&lt;EmployeeLocation&gt; here.\nList&lt;EmployeeLocation&gt; locationList = getEmployeeLocationByQuery(&quot;name LIKE'&quot;+searchName+&quot;%'&quot;);\nSystem.out.println(&quot;print location&quot;);\nSystem.out.println(locationList);\n\n// Change loop variable type to EmployeeLocation, name it better.\nfor (EmployeeLocation location : locationList) {\n    System.out.println(&quot;Inside Loop&quot;);\n    System.out.println(location);\n}\n</code></pre>\n<p>As an aside, as suggested in a comment above, you need to fix your <a href=\"https://stackoverflow.com/questions/25024894/sql-injection-vulnerability-thru-preparedstatement\">SQL injection vulnerability</a>.</p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76955895,"answer_count":1,"score":0,"last_activity_date":1692727998,"creation_date":1692726895,"question_id":76955787,"body_markdown":"I have the following code and running into some issues:\r\n\r\n\r\n    List&lt;String&gt; locationList = locmgr.getEmployeeLocationByQuery(&quot;name LIKE&#39;&quot;+searchName+&quot;%&#39;&quot;);\r\n    System.out.println(&quot;print location&quot;);\r\n    System.out.println(locationList);\r\n    \r\n    for (String list : locationList) {\r\n    System.out.println(&quot;Inside Loop&quot;);\r\n    System.out.println(list);\r\n    }\r\n\r\nThe print statements above the for loop are printing the following:\r\n\r\n    [INFO]  print location\r\n    [INFO]  [EmployeeLocation [id=83, name=firstname, description=tetetyet, comment=, locationId=6], EmployeeLocation [id=84, name=secondname, description=test, comment=, locationId=6]\r\n\r\nThe output that got printed out above is coming from the toString method that I&#39;ve inside the EmployeeLocation class.\r\n\r\nHowever, I believe as soon as it goes to the for loop, I get the following error. \r\n\r\n    [INFO]  java.lang.ClassCastException: class com.pending.model.EmployeeLocation cannot be cast \r\n    to class java.lang.String (com.pending.model.EmployeeLocation is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @7fae4d4a;\r\n     java.lang.String is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nEmployeeLocation is a class and it has getters and setters for id, name, description, comment and locationId. I want loop over the above EmployeeLocation object and get the id (83 and 84 respectively ) inside the loop.\r\n\r\nHow should I go about it?\r\n","title":"loop over the object returned by the class to get the id","body":"<p>I have the following code and running into some issues:</p>\n<pre><code>List&lt;String&gt; locationList = locmgr.getEmployeeLocationByQuery(&quot;name LIKE'&quot;+searchName+&quot;%'&quot;);\nSystem.out.println(&quot;print location&quot;);\nSystem.out.println(locationList);\n\nfor (String list : locationList) {\nSystem.out.println(&quot;Inside Loop&quot;);\nSystem.out.println(list);\n}\n</code></pre>\n<p>The print statements above the for loop are printing the following:</p>\n<pre><code>[INFO]  print location\n[INFO]  [EmployeeLocation [id=83, name=firstname, description=tetetyet, comment=, locationId=6], EmployeeLocation [id=84, name=secondname, description=test, comment=, locationId=6]\n</code></pre>\n<p>The output that got printed out above is coming from the toString method that I've inside the EmployeeLocation class.</p>\n<p>However, I believe as soon as it goes to the for loop, I get the following error.</p>\n<pre><code>[INFO]  java.lang.ClassCastException: class com.pending.model.EmployeeLocation cannot be cast \nto class java.lang.String (com.pending.model.EmployeeLocation is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @7fae4d4a;\n java.lang.String is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>EmployeeLocation is a class and it has getters and setters for id, name, description, comment and locationId. I want loop over the above EmployeeLocation object and get the id (83 and 84 respectively ) inside the loop.</p>\n<p>How should I go about it?</p>\n"},{"tags":["java","quarkus","junit5","rest-assured","jacoco"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1692726484,"post_id":76955653,"comment_id":135662866,"body_markdown":"Maybe if you simplified the logic?  For example (assuming you handle negative values correctly first) then you don&#39;t need to say &quot;&gt;= 31&quot; if the preceding cases have already handled all possibilities up to and including 30.","body":"Maybe if you simplified the logic?  For example (assuming you handle negative values correctly first) then you don&#39;t need to say &quot;&gt;= 31&quot; if the preceding cases have already handled all possibilities up to and including 30."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1692726963,"post_id":76955653,"comment_id":135662977,"body_markdown":"The last else branch was never activated by the test. Add at least one negative number to test input.","body":"The last else branch was never activated by the test. Add at least one negative number to test input."},{"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"score":0,"creation_date":1692727015,"post_id":76955653,"comment_id":135662985,"body_markdown":"Thanks @zforgo I added a negative number. Now its good.","body":"Thanks @zforgo I added a negative number. Now its good."}],"answers":[{"tags":[],"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692727819,"creation_date":1692726967,"answer_id":76955795,"question_id":76955653,"body_markdown":"In @ValueSource I added a negative value -1. Now JaCoCo can able to cover all the branches \r\n\r\n    @ParameterizedTest\r\n    @ValueSource(doubles = {-1, 1, 0, 2.688, 5.645, 11.789, 15.678, 20.678, 28.211,\r\n            35.212, 45.677 })\r\n    public void testMitoKm(double miles) {...}\r\n\r\nAfter add -1 in valuesource jacoco can able to cover all the else if conditions.","title":"Jacoco branch coverage unable to cover else if statement","body":"<p>In @ValueSource I added a negative value -1. Now JaCoCo can able to cover all the branches</p>\n<pre><code>@ParameterizedTest\n@ValueSource(doubles = {-1, 1, 0, 2.688, 5.645, 11.789, 15.678, 20.678, 28.211,\n        35.212, 45.677 })\npublic void testMitoKm(double miles) {...}\n</code></pre>\n<p>After add -1 in valuesource jacoco can able to cover all the else if conditions.</p>\n"}],"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692727819,"creation_date":1692725645,"question_id":76955653,"body_markdown":"I have written a rest API in quarkus to convert miles to kilometer.\r\n\r\n```java\r\n@GET\r\n@Path(&quot;/miles-to-kilometers&quot;)\r\npublic Response milesToKilometers(@QueryParam(&quot;value&quot;) double miles) {\r\n    double kilometers = miles * 1.60934;\r\n    String answer = String.format(&quot;Kilometers: %.3f&quot;, kilometers);\r\n\r\n    int roundedKms = (int) Math.floor(kilometers);\r\n\r\n    if (roundedKms &gt;= 0 &amp;&amp; roundedKms &lt;= 10) {\r\n        answer = answer.concat(&quot; is below 10&quot;);\r\n    } else if (roundedKms &gt;= 11 &amp;&amp; roundedKms &lt;= 20) {\r\n        answer = answer.concat(&quot; is below 20&quot;);\r\n    } else if (roundedKms &gt;= 21 &amp;&amp; roundedKms &lt;= 30) {\r\n        answer = answer.concat(&quot; is below 30&quot;);\r\n    } else if (roundedKms &gt;= 31 &amp;&amp; roundedKms &lt;= 40) {\r\n        answer = answer.concat(&quot; is below 40&quot;);\r\n    } else if (roundedKms &gt;= 41 &amp;&amp; roundedKms &lt;= 50) {\r\n        answer = answer.concat(&quot; is below 50&quot;);\r\n    } else if (roundedKms &gt;= 51) {\r\n        answer = answer.concat(&quot; more than 50&quot;);\r\n    }\r\n\r\n    return Response.ok(payload, MediaType.TEXT_PLAIN).build();\r\n}\r\n```\r\n\r\nFor the above code snippet, I&#39;ve written a test case using junit\r\n\r\n```java\r\n@ParameterizedTest\r\n@ValueSource(doubles = { 1, 0, 5.0, 15.0, 25.0, 35.0, 45.0, 55.0, 2.688, 5.645, 11.789, 15.678, 20.678, 28.211,\r\n        35.212, 45.677 })\r\npublic void testMitoKm(double miles) {\r\n    String url = String.format(&quot;/miles-to-kilometers=%.2f&quot;, miles);\r\n    given()\r\n        .when().get(url)\r\n        .then()\r\n        .statusCode(200)\r\n        .body(containsString(&quot;Kilometers: &quot;))\r\n        .body(containsString(getExpectedMessageForMiles(miles)));\r\n}\r\n\r\nprivate String getExpectedMessageForMiles(double miles) {\r\n    double kilometers = miles * 1.60934;\r\n    int roundedKms = (int) Math.floor(kilometers);\r\n    if (roundedKms &gt;= 0 &amp;&amp; roundedKms &lt;= 10) {\r\n        return &quot; is below 10&quot;;\r\n    } else if (roundedKms &gt;= 11 &amp;&amp; roundedKms &lt;= 20) {\r\n        return &quot; is below 20&quot;;\r\n    } else if (roundedKms &gt;= 21 &amp;&amp; roundedKms &lt;= 30) {\r\n        return &quot; is below 30&quot;;\r\n    } else if (roundedKms &gt;= 31 &amp;&amp; roundedKms &lt;= 40) {\r\n        return &quot; is below 40&quot;;\r\n    } else if (roundedKms &gt;= 41 &amp;&amp; roundedKms &lt;= 50) {\r\n        return &quot; unbelievable&quot;;\r\n    } else if (roundedKms &gt;= 51) {\r\n        return &quot; is below 50&quot;;\r\n    } else {\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe if and else if branches are still not covered by the Jacoco.\r\nDisplaying that 1/4 branches are not covered.\r\nGiving yellow warning lines over the else if statements.\r\nHow to cover all the branches for this given snippet in jacoco ?","title":"Jacoco branch coverage unable to cover else if statement","body":"<p>I have written a rest API in quarkus to convert miles to kilometer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@Path(&quot;/miles-to-kilometers&quot;)\npublic Response milesToKilometers(@QueryParam(&quot;value&quot;) double miles) {\n    double kilometers = miles * 1.60934;\n    String answer = String.format(&quot;Kilometers: %.3f&quot;, kilometers);\n\n    int roundedKms = (int) Math.floor(kilometers);\n\n    if (roundedKms &gt;= 0 &amp;&amp; roundedKms &lt;= 10) {\n        answer = answer.concat(&quot; is below 10&quot;);\n    } else if (roundedKms &gt;= 11 &amp;&amp; roundedKms &lt;= 20) {\n        answer = answer.concat(&quot; is below 20&quot;);\n    } else if (roundedKms &gt;= 21 &amp;&amp; roundedKms &lt;= 30) {\n        answer = answer.concat(&quot; is below 30&quot;);\n    } else if (roundedKms &gt;= 31 &amp;&amp; roundedKms &lt;= 40) {\n        answer = answer.concat(&quot; is below 40&quot;);\n    } else if (roundedKms &gt;= 41 &amp;&amp; roundedKms &lt;= 50) {\n        answer = answer.concat(&quot; is below 50&quot;);\n    } else if (roundedKms &gt;= 51) {\n        answer = answer.concat(&quot; more than 50&quot;);\n    }\n\n    return Response.ok(payload, MediaType.TEXT_PLAIN).build();\n}\n</code></pre>\n<p>For the above code snippet, I've written a test case using junit</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@ValueSource(doubles = { 1, 0, 5.0, 15.0, 25.0, 35.0, 45.0, 55.0, 2.688, 5.645, 11.789, 15.678, 20.678, 28.211,\n        35.212, 45.677 })\npublic void testMitoKm(double miles) {\n    String url = String.format(&quot;/miles-to-kilometers=%.2f&quot;, miles);\n    given()\n        .when().get(url)\n        .then()\n        .statusCode(200)\n        .body(containsString(&quot;Kilometers: &quot;))\n        .body(containsString(getExpectedMessageForMiles(miles)));\n}\n\nprivate String getExpectedMessageForMiles(double miles) {\n    double kilometers = miles * 1.60934;\n    int roundedKms = (int) Math.floor(kilometers);\n    if (roundedKms &gt;= 0 &amp;&amp; roundedKms &lt;= 10) {\n        return &quot; is below 10&quot;;\n    } else if (roundedKms &gt;= 11 &amp;&amp; roundedKms &lt;= 20) {\n        return &quot; is below 20&quot;;\n    } else if (roundedKms &gt;= 21 &amp;&amp; roundedKms &lt;= 30) {\n        return &quot; is below 30&quot;;\n    } else if (roundedKms &gt;= 31 &amp;&amp; roundedKms &lt;= 40) {\n        return &quot; is below 40&quot;;\n    } else if (roundedKms &gt;= 41 &amp;&amp; roundedKms &lt;= 50) {\n        return &quot; unbelievable&quot;;\n    } else if (roundedKms &gt;= 51) {\n        return &quot; is below 50&quot;;\n    } else {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>The if and else if branches are still not covered by the Jacoco.\nDisplaying that 1/4 branches are not covered.\nGiving yellow warning lines over the else if statements.\nHow to cover all the branches for this given snippet in jacoco ?</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1692726805,"post_id":76955755,"comment_id":135662944,"body_markdown":"What do you mean by &quot;memory of caller function&quot;?","body":"What do you mean by &quot;memory of caller function&quot;?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692726819,"post_id":76955755,"comment_id":135662947,"body_markdown":"What do you mean by the memory of the caller function?","body":"What do you mean by the memory of the caller function?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692726916,"post_id":76955755,"comment_id":135662969,"body_markdown":"What do you mean by the *memory of the caller function*?","body":"What do you mean by the <i>memory of the caller function</i>?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1692727840,"post_id":76955755,"comment_id":135663167,"body_markdown":"Pulling out a variable never makes any difference to the concerns you&#39;re describing.","body":"Pulling out a variable never makes any difference to the concerns you&#39;re describing."},{"owner":{"account_id":1355771,"reputation":1302,"user_id":1294193,"display_name":"Rex Charles"},"score":1,"creation_date":1692730957,"post_id":76955755,"comment_id":135663802,"body_markdown":"It may be good to understand the different types of memory in Java. These include Heap, Stack, Code and Static. In general, the params of funcB would be evaluated to stack of funcA. Here are some good resources for understanding memory allocation in java -&gt; https://www.guru99.com/java-stack-heap.html","body":"It may be good to understand the different types of memory in Java. These include Heap, Stack, Code and Static. In general, the params of funcB would be evaluated to stack of funcA. Here are some good resources for understanding memory allocation in java -&gt; <a href=\"https://www.guru99.com/java-stack-heap.html\" rel=\"nofollow noreferrer\">guru99.com/java-stack-heap.html</a>"},{"owner":{"account_id":1355771,"reputation":1302,"user_id":1294193,"display_name":"Rex Charles"},"score":0,"creation_date":1692731362,"post_id":76955755,"comment_id":135663875,"body_markdown":"**Correction...evaluated to the same frame in the stack of funcB.","body":"**Correction...evaluated to the same frame in the stack of funcB."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692731879,"post_id":76955755,"comment_id":135663976,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1692733856,"post_id":76955755,"comment_id":135664344,"body_markdown":"You should only be using a variable if you need to re-use the value.","body":"You should only be using a variable if you need to re-use the value."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692727541,"creation_date":1692727541,"answer_id":76955851,"question_id":76955755,"body_markdown":"It doesn&#39;t make sense to talk about &#39;memory of the caller&#39; in Java. All the object instances reside in the same shared memory pool called Heap in the Java Virtual Machine. Memory does not belong to a specific method in Java. By the way, just to be clear on the terminology, `funcA` and `funcA` are most likely methods of some Class rather than functions.\r\n\r\nWith respect to assigning to a variable, you have to understand that in Java there are two ways of passing arguments:\r\n* Primitive types are passed by value always\r\n* Objects are passed by reference always\r\n\r\nAssigning an object to a variable is just assigning a reference to the same object. You should assign to a variable only if it makes the code more clear, not because of memory concerns. ","title":"Is the argument that I pass to a function stored in the caller function&#39;s memory?","body":"<p>It doesn't make sense to talk about 'memory of the caller' in Java. All the object instances reside in the same shared memory pool called Heap in the Java Virtual Machine. Memory does not belong to a specific method in Java. By the way, just to be clear on the terminology, <code>funcA</code> and <code>funcA</code> are most likely methods of some Class rather than functions.</p>\n<p>With respect to assigning to a variable, you have to understand that in Java there are two ways of passing arguments:</p>\n<ul>\n<li>Primitive types are passed by value always</li>\n<li>Objects are passed by reference always</li>\n</ul>\n<p>Assigning an object to a variable is just assigning a reference to the same object. You should assign to a variable only if it makes the code more clear, not because of memory concerns.</p>\n"}],"owner":{"account_id":11919160,"reputation":17,"user_id":9816155,"display_name":"Mayank"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692727541,"creation_date":1692726668,"question_id":76955755,"body_markdown":"When I call a function are the parameters used to call stored in the memory of caller function?\r\n\r\n\r\nIf I make a call to funcA like below, will the evaluated value of funcB(params) stored inside the memory of main(). Is storing the value of funcB(params) in a variable and then passing it to funcA more efficient?\r\n\r\n```\r\nmain() {\r\n\r\nfuncA(funcB(params))\r\n\r\n}\r\n```","title":"Is the argument that I pass to a function stored in the caller function&#39;s memory?","body":"<p>When I call a function are the parameters used to call stored in the memory of caller function?</p>\n<p>If I make a call to funcA like below, will the evaluated value of funcB(params) stored inside the memory of main(). Is storing the value of funcB(params) in a variable and then passing it to funcA more efficient?</p>\n<pre><code>main() {\n\nfuncA(funcB(params))\n\n}\n</code></pre>\n"},{"tags":["java","docker-compose","dockerfile","musl"],"comments":[{"owner":{"account_id":20873967,"reputation":394,"user_id":15333232,"display_name":"joe1531"},"score":0,"creation_date":1677591313,"post_id":72034504,"comment_id":133364987,"body_markdown":"Do you mind posting how you fixed it ? I&#39;m having the same error with my alpine DinD image","body":"Do you mind posting how you fixed it ? I&#39;m having the same error with my alpine DinD image"}],"answers":[{"tags":[],"owner":{"account_id":6003647,"reputation":51,"user_id":4716187,"display_name":"Rohit Tandon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657725279,"creation_date":1657725279,"answer_id":72968652,"question_id":72034504,"body_markdown":"It seems azul/zulu-openjdk-alpine:11 doesn&#39;t have arm64 image needed to run on Apple silicon architecture. \r\n\r\nTry updating to jdk 17 image with arm64 support https://hub.docker.com/r/azul/zulu-openjdk-alpine/","title":"qemu-x86_64: Could not open &#39;/lib/ld-musl-x86_64.so.1&#39;: No such file or directory","body":"<p>It seems azul/zulu-openjdk-alpine:11 doesn't have arm64 image needed to run on Apple silicon architecture.</p>\n<p>Try updating to jdk 17 image with arm64 support <a href=\"https://hub.docker.com/r/azul/zulu-openjdk-alpine/\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/azul/zulu-openjdk-alpine/</a></p>\n"}],"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13272,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":1,"score":8,"last_activity_date":1692727229,"creation_date":1651088891,"question_id":72034504,"body_markdown":"Has anyone come across this error when trying to execute a `docker-compose up` command.\r\n\r\nI have tried to resolve it by looking at other articles that touch on something similar but I am having no success. \r\n\r\nI am trying to run my spring boot app using a docker-compose file and I keep getting this error:\r\n\r\n    qemu-x86_64: Could not open &#39;/lib/ld-musl-x86_64.so.1&#39;: No such file or directory\r\n\r\nI have tried to fix it by following the advice I read online but nothing has worked.\r\n\r\nI have tried:\r\n\r\nAfter reading this post: https://github.com/nodejs/help/issues/3239\r\nadding the following\r\n \r\n\r\n    platform: linux/amd64\r\n\r\nto my docker-compose file but it doesn&#39;t make a difference\r\n\r\nand tried `FROM --platform=linux/amd64` in front of my Dockerfile\r\n\r\nWhen I read this I tried to install `musl` as well but failed to execute the `make` command\r\n\r\n    curl https://musl.libc.org/releases/musl-1.2.2.tar.gz -o musl-1.2.2.tar.gz\r\n    tar -xvf musl-1.2.2.tar.gz\r\n    cd musl-1.2.2\r\n    ./configure\r\n    make \r\n    make install\r\n\r\nMy Docker file looks like this \r\n\r\n    \r\n\r\n    FROM azul/zulu-openjdk-alpine:11 as packager\r\n    \r\n    RUN { \\\r\n            java --version ; \\\r\n            echo &quot;jlink version:&quot; &amp;&amp; \\\r\n            jlink --version ; \\\r\n        }\r\n    \r\n    ENV JAVA_MINIMAL=/opt/jre\r\n    \r\n    # build modules distribution\r\n    RUN jlink \\\r\n        --verbose \\\r\n        --add-modules \\\r\n            java.base,java.sql,java.naming,java.desktop,java.management,java.security.jgss,java.instrument \\\r\n            # java.naming - javax/naming/NamingException\r\n            # java.desktop - java/beans/PropertyEditorSupport\r\n            # java.management - javax/management/MBeanServer\r\n            # java.security.jgss - org/ietf/jgss/GSSException\r\n            # java.instrument - java/lang/instrument/IllegalClassFormatException\r\n        --compress 2 \\\r\n        --strip-debug \\\r\n        --no-header-files \\\r\n        --no-man-pages \\\r\n        --output &quot;$JAVA_MINIMAL&quot;\r\n    \r\n    # Second stage, add only our minimal &quot;JRE&quot; distr and our app\r\n    FROM alpine\r\n    \r\n    ENV JAVA_MINIMAL=/opt/jre\r\n    ENV PATH=&quot;$PATH:$JAVA_MINIMAL/bin&quot;\r\n    \r\n    COPY --from=packager &quot;$JAVA_MINIMAL&quot; &quot;$JAVA_MINIMAL&quot;\r\n    COPY &quot;build/libs/company-coordinator-app-0.0.1-SNAPSHOT.jar&quot; &quot;/company-coordinator-app.jar&quot;\r\n    \r\n    EXPOSE 8080\r\n    CMD [ &quot;-jar&quot;, &quot;/company-coordinator-app.jar&quot; ]\r\n    ENTRYPOINT [ &quot;java&quot; ]\r\n\r\nand my docker-compose.yml file looks like this\r\n\r\n        version: &#39;2&#39;\r\n    services:\r\n      company-coordinator-app:\r\n        container_name: &#39;company-coordinator-app&#39;\r\n        build:\r\n            context: /Users/ciaran/cmkdev/company-coordinator-project/company-coordinator-app\r\n            dockerfile: Dockerfile\r\n        image: springio/gs-spring-boot-docker\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n\r\n**I am running this off an M1 mbp**\r\n\r\nI read this post on here in an attempt to build my Dockerfile correctly as I needed to use Java 11.\r\n\r\nhttps://stackoverflow.com/questions/53669151/java-11-application-as-lightweight-docker-image/53669152#53669152\r\n\r\nIf anyone has any insights here it would be greatly appreciated.","title":"qemu-x86_64: Could not open &#39;/lib/ld-musl-x86_64.so.1&#39;: No such file or directory","body":"<p>Has anyone come across this error when trying to execute a <code>docker-compose up</code> command.</p>\n<p>I have tried to resolve it by looking at other articles that touch on something similar but I am having no success.</p>\n<p>I am trying to run my spring boot app using a docker-compose file and I keep getting this error:</p>\n<pre><code>qemu-x86_64: Could not open '/lib/ld-musl-x86_64.so.1': No such file or directory\n</code></pre>\n<p>I have tried to fix it by following the advice I read online but nothing has worked.</p>\n<p>I have tried:</p>\n<p>After reading this post: <a href=\"https://github.com/nodejs/help/issues/3239\" rel=\"noreferrer\">https://github.com/nodejs/help/issues/3239</a>\nadding the following</p>\n<pre><code>platform: linux/amd64\n</code></pre>\n<p>to my docker-compose file but it doesn't make a difference</p>\n<p>and tried <code>FROM --platform=linux/amd64</code> in front of my Dockerfile</p>\n<p>When I read this I tried to install <code>musl</code> as well but failed to execute the <code>make</code> command</p>\n<pre><code>curl https://musl.libc.org/releases/musl-1.2.2.tar.gz -o musl-1.2.2.tar.gz\ntar -xvf musl-1.2.2.tar.gz\ncd musl-1.2.2\n./configure\nmake \nmake install\n</code></pre>\n<p>My Docker file looks like this</p>\n<pre><code>FROM azul/zulu-openjdk-alpine:11 as packager\n\nRUN { \\\n        java --version ; \\\n        echo &quot;jlink version:&quot; &amp;&amp; \\\n        jlink --version ; \\\n    }\n\nENV JAVA_MINIMAL=/opt/jre\n\n# build modules distribution\nRUN jlink \\\n    --verbose \\\n    --add-modules \\\n        java.base,java.sql,java.naming,java.desktop,java.management,java.security.jgss,java.instrument \\\n        # java.naming - javax/naming/NamingException\n        # java.desktop - java/beans/PropertyEditorSupport\n        # java.management - javax/management/MBeanServer\n        # java.security.jgss - org/ietf/jgss/GSSException\n        # java.instrument - java/lang/instrument/IllegalClassFormatException\n    --compress 2 \\\n    --strip-debug \\\n    --no-header-files \\\n    --no-man-pages \\\n    --output &quot;$JAVA_MINIMAL&quot;\n\n# Second stage, add only our minimal &quot;JRE&quot; distr and our app\nFROM alpine\n\nENV JAVA_MINIMAL=/opt/jre\nENV PATH=&quot;$PATH:$JAVA_MINIMAL/bin&quot;\n\nCOPY --from=packager &quot;$JAVA_MINIMAL&quot; &quot;$JAVA_MINIMAL&quot;\nCOPY &quot;build/libs/company-coordinator-app-0.0.1-SNAPSHOT.jar&quot; &quot;/company-coordinator-app.jar&quot;\n\nEXPOSE 8080\nCMD [ &quot;-jar&quot;, &quot;/company-coordinator-app.jar&quot; ]\nENTRYPOINT [ &quot;java&quot; ]\n</code></pre>\n<p>and my docker-compose.yml file looks like this</p>\n<pre><code>    version: '2'\nservices:\n  company-coordinator-app:\n    container_name: 'company-coordinator-app'\n    build:\n        context: /Users/ciaran/cmkdev/company-coordinator-project/company-coordinator-app\n        dockerfile: Dockerfile\n    image: springio/gs-spring-boot-docker\n    ports:\n      - &quot;8080:8080&quot;\n</code></pre>\n<p><strong>I am running this off an M1 mbp</strong></p>\n<p>I read this post on here in an attempt to build my Dockerfile correctly as I needed to use Java 11.</p>\n<p><a href=\"https://stackoverflow.com/questions/53669151/java-11-application-as-lightweight-docker-image/53669152#53669152\">Java 11 application as lightweight docker image</a></p>\n<p>If anyone has any insights here it would be greatly appreciated.</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692737032,"post_id":76955762,"comment_id":135664791,"body_markdown":"`+ &#39;&amp;bull;&#39; +` works for me","body":"<code>+ &#39;&amp;bull;&#39; +</code> works for me"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692799072,"post_id":76955762,"comment_id":135673503,"body_markdown":"If you place `&amp;bull;` *outside* of your `h2` element, in regular markup, does it render correctly?","body":"If you place <code>&amp;bull;</code> <i>outside</i> of your <code>h2</code> element, in regular markup, does it render correctly?"}],"owner":{"account_id":24739253,"reputation":25,"user_id":18626207,"display_name":"kyleryan1291"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692726726,"creation_date":1692726726,"question_id":76955762,"body_markdown":"I&#39;m having an issue trying to display the bullet symbol on my template with Thymeleaf. Instead of the bullet symbol appearing, a ? is shown in its place.\r\n\r\nI&#39;ve tried:\r\n\r\n - Using HTML codes such as `&amp;#8226; &amp;#x2022; &amp;bull;`\r\n - Using Unicode\r\n - Having Java create the symbol and adding it to the template\r\n - Using `th:text` and `th:utext`\r\n\r\nAll my attempts failed. There has to be a way to have Thymeleaf render it\r\n\r\n```\r\n&lt;h2 class=&quot;dates&quot; th:utext=&quot;${month} + &#39; &#39; + ${dateOne} + &#39; &#39; + ${dateTwo} + ${bullet} + ${dateThree} + &#39;, &#39; + ${year}&quot;&gt;&lt;/h2&gt;\r\n```","title":"Thymeleaf cannot render bullet symbol","body":"<p>I'm having an issue trying to display the bullet symbol on my template with Thymeleaf. Instead of the bullet symbol appearing, a ? is shown in its place.</p>\n<p>I've tried:</p>\n<ul>\n<li>Using HTML codes such as <code>&amp;#8226; &amp;#x2022; &amp;bull;</code></li>\n<li>Using Unicode</li>\n<li>Having Java create the symbol and adding it to the template</li>\n<li>Using <code>th:text</code> and <code>th:utext</code></li>\n</ul>\n<p>All my attempts failed. There has to be a way to have Thymeleaf render it</p>\n<pre><code>&lt;h2 class=&quot;dates&quot; th:utext=&quot;${month} + ' ' + ${dateOne} + ' ' + ${dateTwo} + ${bullet} + ${dateThree} + ', ' + ${year}&quot;&gt;&lt;/h2&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1565001519,"creation_date":1564999557,"answer_id":57356354,"question_id":57355725,"body_markdown":"The first step is to build `WebClient` object with the baseUrl; \r\n\r\n```\r\nWebClient webClient = WebClient.builder()\r\n\t.baseUrl(&quot;http://localhost:8080/api&quot;) //baseUrl\r\n\t.defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n\t.build();\r\n```\r\n\r\nThen choose the method and append the path along with the request variables or body payload.\r\n```\r\nResponseSpec responseSpec = webClient\r\n\t.get()\r\n\t.uri(uriBuilder -&gt; uriBuilder.path(&quot;/findById&quot;) //additional path\r\n\t\t.queryParam(&quot;id&quot;, id).build())\r\n\t.retrieve()\r\n\t.onStatus(HttpStatus::is4xxClientError, response -&gt; Mono.error(new CustomRuntimeException(&quot;Error&quot;)));\r\n```\r\n\r\nWait for the response with `block()` function of `bodyToMono`. If you want response as String, you can convert it using google&#39;s gson library.\r\n```\r\nObject response = responseSpec.bodyToMono(Object.class).block();\r\nGson gson = new Gson();\r\nString str = gson.toJson(response);\r\n```\r\n\r\nIf you don&#39;t want to need to know the status of the api call, you can do like following.\r\n```\r\nwebClient\r\n\t.post()\r\n\t.uri(uri -&gt; uri.path(&quot;/save&quot;).build())\r\n\t.body( BodyInserters.fromObject(payload) )\r\n\t.exchange().subscribe();\r\n```","title":"Springboot : How to use WebClient instead of RestTemplate for Performing Non blocking and Asynchronous calls","body":"<p>The first step is to build <code>WebClient</code> object with the baseUrl; </p>\n\n<pre><code>WebClient webClient = WebClient.builder()\n    .baseUrl(\"http://localhost:8080/api\") //baseUrl\n    .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n    .build();\n</code></pre>\n\n<p>Then choose the method and append the path along with the request variables or body payload.</p>\n\n<pre><code>ResponseSpec responseSpec = webClient\n    .get()\n    .uri(uriBuilder -&gt; uriBuilder.path(\"/findById\") //additional path\n        .queryParam(\"id\", id).build())\n    .retrieve()\n    .onStatus(HttpStatus::is4xxClientError, response -&gt; Mono.error(new CustomRuntimeException(\"Error\")));\n</code></pre>\n\n<p>Wait for the response with <code>block()</code> function of <code>bodyToMono</code>. If you want response as String, you can convert it using google's gson library.</p>\n\n<pre><code>Object response = responseSpec.bodyToMono(Object.class).block();\nGson gson = new Gson();\nString str = gson.toJson(response);\n</code></pre>\n\n<p>If you don't want to need to know the status of the api call, you can do like following.</p>\n\n<pre><code>webClient\n    .post()\n    .uri(uri -&gt; uri.path(\"/save\").build())\n    .body( BodyInserters.fromObject(payload) )\n    .exchange().subscribe();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434554,"reputation":734,"user_id":820594,"display_name":"Captain"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1565013354,"creation_date":1565009911,"answer_id":57359092,"question_id":57355725,"body_markdown":"The first thing to understand is if you are needing to call `.block()` you might as well stick with `RestTemplate`, using WebClient will gain you nothing.\r\n\r\nYou need to start thinking in reactive terms if you want to gain from using WebClient. A reactive process is really just a sequence of steps, the input of each step being the output of the step before it. When a request comes in, your code creates the sequence of steps and returns immediately releasing the http thread. The framework then uses a pool of worker threads to execute each step when the input from the previous step becomes available.\r\n\r\nThe benefit is a huge gain in capacity to accept competing requests at the small cost of having to rethink the way you write code. Your application will only need a very small pool of http threads and another very small pool of worker threads.\r\n\r\nWhen your controller method is returning a `Mono` or `Flux`, you have got it right and there will be no need to call `block()`.\r\n\r\nSomething like this in it&#39;s simplest form:\r\n\r\n    @GetMapping(value = &quot;endpoint&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    @ResponseBody\r\n    @ResponseStatus(OK)\r\n    public Mono&lt;String&gt; controllerMethod() {\r\n\r\n        final UriComponentsBuilder builder =\r\n                UriComponentsBuilder.fromHttpUrl(&quot;http://base.url/&quot; + &quot;endpoint&quot;)\r\n                        .queryParam(&quot;param1&quot;, &quot;value&quot;);\r\n\r\n        return webClient\r\n                .get()\r\n                .uri(builder.build().encode().toUri())\r\n                .accept(APPLICATION_JSON_UTF8)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .retry(4)\r\n                .doOnError(e -&gt; LOG.error(&quot;Boom!&quot;, e))\r\n                .map(s -&gt; {\r\n\r\n                    // This is your transformation step. \r\n                    // Map is synchronous so will run in the thread that processed the response. \r\n                    // Alternatively use flatMap (asynchronous) if the step will be long running. \r\n                    // For example, if it needs to make a call out to the database to do the transformation.\r\n\r\n                    return s.toLowerCase();\r\n                });\r\n    }\r\n\r\nMoving to thinking in reactive is a pretty big paradigm shift, but well worth the effort. Hang in there, it&#39;s really not that difficult once you can wrap your head around having no blocking code at all in your entire application. Build the steps and return them. Then let the framework manage the executions of the steps.\r\n\r\nHappy to provide more guidance if any of this is not clear.\r\n\r\nRemember to have fun :)","title":"Springboot : How to use WebClient instead of RestTemplate for Performing Non blocking and Asynchronous calls","body":"<p>The first thing to understand is if you are needing to call <code>.block()</code> you might as well stick with <code>RestTemplate</code>, using WebClient will gain you nothing.</p>\n\n<p>You need to start thinking in reactive terms if you want to gain from using WebClient. A reactive process is really just a sequence of steps, the input of each step being the output of the step before it. When a request comes in, your code creates the sequence of steps and returns immediately releasing the http thread. The framework then uses a pool of worker threads to execute each step when the input from the previous step becomes available.</p>\n\n<p>The benefit is a huge gain in capacity to accept competing requests at the small cost of having to rethink the way you write code. Your application will only need a very small pool of http threads and another very small pool of worker threads.</p>\n\n<p>When your controller method is returning a <code>Mono</code> or <code>Flux</code>, you have got it right and there will be no need to call <code>block()</code>.</p>\n\n<p>Something like this in it's simplest form:</p>\n\n<pre><code>@GetMapping(value = \"endpoint\", produces = MediaType.TEXT_PLAIN_VALUE)\n@ResponseBody\n@ResponseStatus(OK)\npublic Mono&lt;String&gt; controllerMethod() {\n\n    final UriComponentsBuilder builder =\n            UriComponentsBuilder.fromHttpUrl(\"http://base.url/\" + \"endpoint\")\n                    .queryParam(\"param1\", \"value\");\n\n    return webClient\n            .get()\n            .uri(builder.build().encode().toUri())\n            .accept(APPLICATION_JSON_UTF8)\n            .retrieve()\n            .bodyToMono(String.class)\n            .retry(4)\n            .doOnError(e -&gt; LOG.error(\"Boom!\", e))\n            .map(s -&gt; {\n\n                // This is your transformation step. \n                // Map is synchronous so will run in the thread that processed the response. \n                // Alternatively use flatMap (asynchronous) if the step will be long running. \n                // For example, if it needs to make a call out to the database to do the transformation.\n\n                return s.toLowerCase();\n            });\n}\n</code></pre>\n\n<p>Moving to thinking in reactive is a pretty big paradigm shift, but well worth the effort. Hang in there, it's really not that difficult once you can wrap your head around having no blocking code at all in your entire application. Build the steps and return them. Then let the framework manage the executions of the steps.</p>\n\n<p>Happy to provide more guidance if any of this is not clear.</p>\n\n<p>Remember to have fun :)</p>\n"},{"tags":[],"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":5,"up_vote_count":46,"is_accepted":true,"score":41,"last_activity_date":1648160472,"creation_date":1565038164,"answer_id":57365926,"question_id":57355725,"body_markdown":"Due to the fact that there are lot of misconception, so here I&#39;m going to clear up some things.\r\n\r\nSpring has officially stated that `RestTemplate` is in `maintenence mode` so if you can, use `WebClient` if you want to be as future proof as possible.\r\n\r\nas stated in the [RestTemplate API][1]\r\n\r\n&gt; **NOTE**: As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the `org.springframework.web.reactive.client.WebClient` which has a more modern API and supports sync, async, and streaming scenarios.\r\n\r\n**Non reactive application**\r\n\r\nIf your application is a non-reactive application (not returning fluxes or monos to the calling clients) what you have to do is to use `block()` if you need the value. You can of course use `Mono` or `Flux` internally in your application but in the end you must call `block()` to get the concrete value that you need to return to the calling client.\r\n\r\nNon reactive applications use for instance `tomcat`, `undertow` as the underlying server implementation, which follows the servlet specification so it will assign 1 thread per request so you will not gain the performance gains you get with a reactive application. \r\n\r\n**Reactive application**\r\n\r\nIf you on the other hand you have a reactive application you should never under any circumstances ever call `block()` in your application. Blocking is exactly what it says, it will block a thread and block that threads execution until it can move on, this is bad in a reactive world.\r\n\r\nYou should also not call `subscribe` in your application **unless your application is the final consumer of the response**. For instance, if you are calling an api to get data and write into a database that your application is connected to. Your backend application is the final consumer. If an external client is calling your backend (for instance an react, angular app, mobile client, etc. etc.) the external client is the final consumer, and is the one subscribing. Not you.\r\n\r\nUnderlying default server implementation here is a `netty` server which is a non servlet, event based server that will **not** assign one thread to each request, the server itself is thread agnostic and any thread available will handle anything at any time during any request.\r\n\r\nThe [webflux documentation][2] clearly states that both servlet 3.1+ supported servers tomcat and jetty can be used with webflux as well as non-serlet servers netty and undertow.\r\n\r\n**How do i know what application i have?**\r\n\r\nSpring states that if you have both `spring-web` and `spring-webflux` on the classpath, the application will favor `spring-web` and per default start up a non-reactive application with an underlying tomcat server.\r\n\r\nThis behaviour can manually be overridden if needed as spring states.\r\n\r\n&gt; Adding both `spring-boot-starter-web` and `spring-boot-starter-webflux` modules in your application results in Spring Boot auto-configuring Spring MVC, not WebFlux. This behavior has been chosen because many Spring developers add `spring-boot-starter-webflux` to their Spring MVC application to use the reactive WebClient. You can still enforce your choice by setting the chosen application type to `SpringApplication.setWebApplicationType(WebApplicationType.REACTIVE)`.\r\n\r\n[The “Spring WebFlux Framework”][3]\r\n\r\n**So how to implement WebClient in accordance to code provided by the question?**\r\n\r\n    @Retryable(maxAttempts = 4,\r\n           value = java.net.ConnectException.class,\r\n           backoff = @Backoff(delay = 3000, multiplier = 2))\r\n    public Mono&lt;String&gt; getResponse(String url) {\r\n        return webClient.get()\r\n                .uri(url)\r\n                .exchange()\r\n                .flatMap(response -&gt; response.toEntity(String.class));\r\n    }\r\n\r\nI would say this is the easiest and the most less intrusive implementation. You of course need to build a proper webclient in maybe a `@Bean` and autowire it into its class.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-server-choice\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-webflux","title":"Springboot : How to use WebClient instead of RestTemplate for Performing Non blocking and Asynchronous calls","body":"<p>Due to the fact that there are lot of misconception, so here I'm going to clear up some things.</p>\n<p>Spring has officially stated that <code>RestTemplate</code> is in <code>maintenence mode</code> so if you can, use <code>WebClient</code> if you want to be as future proof as possible.</p>\n<p>as stated in the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\">RestTemplate API</a></p>\n<blockquote>\n<p><strong>NOTE</strong>: As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the <code>org.springframework.web.reactive.client.WebClient</code> which has a more modern API and supports sync, async, and streaming scenarios.</p>\n</blockquote>\n<p><strong>Non reactive application</strong></p>\n<p>If your application is a non-reactive application (not returning fluxes or monos to the calling clients) what you have to do is to use <code>block()</code> if you need the value. You can of course use <code>Mono</code> or <code>Flux</code> internally in your application but in the end you must call <code>block()</code> to get the concrete value that you need to return to the calling client.</p>\n<p>Non reactive applications use for instance <code>tomcat</code>, <code>undertow</code> as the underlying server implementation, which follows the servlet specification so it will assign 1 thread per request so you will not gain the performance gains you get with a reactive application.</p>\n<p><strong>Reactive application</strong></p>\n<p>If you on the other hand you have a reactive application you should never under any circumstances ever call <code>block()</code> in your application. Blocking is exactly what it says, it will block a thread and block that threads execution until it can move on, this is bad in a reactive world.</p>\n<p>You should also not call <code>subscribe</code> in your application <strong>unless your application is the final consumer of the response</strong>. For instance, if you are calling an api to get data and write into a database that your application is connected to. Your backend application is the final consumer. If an external client is calling your backend (for instance an react, angular app, mobile client, etc. etc.) the external client is the final consumer, and is the one subscribing. Not you.</p>\n<p>Underlying default server implementation here is a <code>netty</code> server which is a non servlet, event based server that will <strong>not</strong> assign one thread to each request, the server itself is thread agnostic and any thread available will handle anything at any time during any request.</p>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-server-choice\" rel=\"noreferrer\">webflux documentation</a> clearly states that both servlet 3.1+ supported servers tomcat and jetty can be used with webflux as well as non-serlet servers netty and undertow.</p>\n<p><strong>How do i know what application i have?</strong></p>\n<p>Spring states that if you have both <code>spring-web</code> and <code>spring-webflux</code> on the classpath, the application will favor <code>spring-web</code> and per default start up a non-reactive application with an underlying tomcat server.</p>\n<p>This behaviour can manually be overridden if needed as spring states.</p>\n<blockquote>\n<p>Adding both <code>spring-boot-starter-web</code> and <code>spring-boot-starter-webflux</code> modules in your application results in Spring Boot auto-configuring Spring MVC, not WebFlux. This behavior has been chosen because many Spring developers add <code>spring-boot-starter-webflux</code> to their Spring MVC application to use the reactive WebClient. You can still enforce your choice by setting the chosen application type to <code>SpringApplication.setWebApplicationType(WebApplicationType.REACTIVE)</code>.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-webflux\" rel=\"noreferrer\">The “Spring WebFlux Framework”</a></p>\n<p><strong>So how to implement WebClient in accordance to code provided by the question?</strong></p>\n<pre><code>@Retryable(maxAttempts = 4,\n       value = java.net.ConnectException.class,\n       backoff = @Backoff(delay = 3000, multiplier = 2))\npublic Mono&lt;String&gt; getResponse(String url) {\n    return webClient.get()\n            .uri(url)\n            .exchange()\n            .flatMap(response -&gt; response.toEntity(String.class));\n}\n</code></pre>\n<p>I would say this is the easiest and the most less intrusive implementation. You of course need to build a proper webclient in maybe a <code>@Bean</code> and autowire it into its class.</p>\n"}],"owner":{"account_id":13439704,"reputation":320,"user_id":9697205,"display_name":"Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30114,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":57365926,"answer_count":3,"score":13,"last_activity_date":1692726281,"creation_date":1564997355,"question_id":57355725,"body_markdown":"I have a springboot project which uses Springboot Resttemplate. We have moved to springboot 2.0.1 from 1.5.3 and we are trying to make\r\nthe rest calls from it  asynchronous by using WebClient. We used to process the string received using Resttemplate as given below. But WebClient returns only\r\ndata in Mono or Flux. How can I get the data as String. Already tried block() method , but it does asynchronous calls. \r\n\r\n```java\r\n@Retryable(maxAttempts = 4, value = java.net.ConnectException.class,\r\n           backoff = @Backoff(delay = 3000, multiplier = 2))\r\npublic Mono&lt;String&gt; getResponse(String url) {\r\n    return webClient.get().uri(urlForCurrent).accept(APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .bodyToMono(String.class);\r\n}\r\n```\r\n\r\nPresent Data flow with RestTemplate\r\n\r\n1. Controller receives the client call\r\n2. provider gets the data in String format \r\n3. Provider processes the String \r\n4. Data is given to controller\r\n\r\n\r\nController.java\r\n```java\r\n@RequestMapping(value = traffic/, method = RequestMethod.GET,\r\n                produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic String getTraffic(@RequestParam(&quot;place&quot;) String location) throws InterruptedException, ExecutionException {\r\n    String trafficJSON = Provider.getTrafficJSON(location)\r\n    return trafficJSON;\r\n}\r\n```\r\nProvider.java\r\n```\r\npublic String getTrafficJSON(String location) {\r\n    String url = ----;\r\n    \r\n    ResponseEntity&lt;String&gt; response = dataFetcher.getResponse(url);\r\n       \r\n    /// RESPONSEBODY IS READ AS STRING AND IT NEEDS TO BE PROCESSED\r\n    if (null != response {\r\n        return parser.transformJSON(response.getBody(), params);\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\nDataFetcher.java\r\n\r\n```java\r\n@Retryable(maxAttempts = 4,\r\n           value = java.net.ConnectException.class,\r\n           backoff = @Backoff(delay = 3000, multiplier = 2))\r\npublic ResponseEntity&lt;String&gt; getResponse(String url) {\r\n    /* ----------------------- */\r\n    return getRestTemplate().getForEntity(urlForCurrent, String.class);\r\n}\r\n```","title":"Springboot : How to use WebClient instead of RestTemplate for Performing Non blocking and Asynchronous calls","body":"<p>I have a springboot project which uses Springboot Resttemplate. We have moved to springboot 2.0.1 from 1.5.3 and we are trying to make\nthe rest calls from it  asynchronous by using WebClient. We used to process the string received using Resttemplate as given below. But WebClient returns only\ndata in Mono or Flux. How can I get the data as String. Already tried block() method , but it does asynchronous calls. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Retryable(maxAttempts = 4, value = java.net.ConnectException.class,\n           backoff = @Backoff(delay = 3000, multiplier = 2))\npublic Mono&lt;String&gt; getResponse(String url) {\n    return webClient.get().uri(urlForCurrent).accept(APPLICATION_JSON)\n                    .retrieve()\n                    .bodyToMono(String.class);\n}\n</code></pre>\n\n<p>Present Data flow with RestTemplate</p>\n\n<ol>\n<li>Controller receives the client call</li>\n<li>provider gets the data in String format </li>\n<li>Provider processes the String </li>\n<li>Data is given to controller</li>\n</ol>\n\n<p>Controller.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = traffic/, method = RequestMethod.GET,\n                produces = MediaType.APPLICATION_JSON_VALUE)\npublic String getTraffic(@RequestParam(\"place\") String location) throws InterruptedException, ExecutionException {\n    String trafficJSON = Provider.getTrafficJSON(location)\n    return trafficJSON;\n}\n</code></pre>\n\n<p>Provider.java</p>\n\n<pre><code>public String getTrafficJSON(String location) {\n    String url = ----;\n\n    ResponseEntity&lt;String&gt; response = dataFetcher.getResponse(url);\n\n    /// RESPONSEBODY IS READ AS STRING AND IT NEEDS TO BE PROCESSED\n    if (null != response {\n        return parser.transformJSON(response.getBody(), params);\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>DataFetcher.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Retryable(maxAttempts = 4,\n           value = java.net.ConnectException.class,\n           backoff = @Backoff(delay = 3000, multiplier = 2))\npublic ResponseEntity&lt;String&gt; getResponse(String url) {\n    /* ----------------------- */\n    return getRestTemplate().getForEntity(urlForCurrent, String.class);\n}\n</code></pre>\n"},{"tags":["java","mocking","jmockit"],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692725647,"creation_date":1692725647,"question_id":76955654,"body_markdown":"For example:\r\n```\r\nclass JMockItTest {\r\n    @Injectable Foo foo;\r\n    @Test void test() {\r\n        new Expectations() {{\r\n            foo.nonVoidMethod();\r\n            result = &quot;a&quot;;\r\n            result = &quot;b&quot;;\r\n            result = &quot;c&quot;;\r\n        }};\r\n        assertEquals(&quot;a&quot;, foo.nonVoidMethod());\r\n        assertEquals(&quot;b&quot;, foo.nonVoidMethod());\r\n        assertEquals(&quot;c&quot;, foo.nonVoidMethod());\r\n    }\r\n}\r\n```\r\n\r\nThis example will tell JMockIt to return `&quot;a&quot;` then `&quot;b&quot;` then `&quot;c&quot;` for each of the 3 invocations of `nonVoidMethod()`... but how does this work?  It&#39;s not possible to override operators like `=` in Java, so how does simply assigning `result = x` multiple times tell JMockIt what to return?","title":"How does JMockIt work under the hood with multiple expectations?","body":"<p>For example:</p>\n<pre><code>class JMockItTest {\n    @Injectable Foo foo;\n    @Test void test() {\n        new Expectations() {{\n            foo.nonVoidMethod();\n            result = &quot;a&quot;;\n            result = &quot;b&quot;;\n            result = &quot;c&quot;;\n        }};\n        assertEquals(&quot;a&quot;, foo.nonVoidMethod());\n        assertEquals(&quot;b&quot;, foo.nonVoidMethod());\n        assertEquals(&quot;c&quot;, foo.nonVoidMethod());\n    }\n}\n</code></pre>\n<p>This example will tell JMockIt to return <code>&quot;a&quot;</code> then <code>&quot;b&quot;</code> then <code>&quot;c&quot;</code> for each of the 3 invocations of <code>nonVoidMethod()</code>... but how does this work?  It's not possible to override operators like <code>=</code> in Java, so how does simply assigning <code>result = x</code> multiple times tell JMockIt what to return?</p>\n"},{"tags":["java","servlets","servlet-filters"],"owner":{"account_id":271875,"reputation":7649,"user_id":562644,"accept_rate":95,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692725394,"creation_date":1692725394,"question_id":76955628,"body_markdown":"By default a Servlet Filter asyncSupported boolean is false, but it appears to cause no harm to simply set it to true, at least for a simple filter that sets the request and response character encoding.  However, if you happen to NOT change the default you can run into issues as async servlets then won&#39;t work.  Is there a scenario where enabling async support would be harmful.  Why isn&#39;t the default true / why is there even an option?  Is the filter expected to call HttpServletRequest.startAsync() if asyncSupported = true?  Can a filter handle both async and sync modes of operation?  In a simple character encoding filter is the response character encoding being set correctly when in async mode:\r\n\r\n```\r\n@WebFilter(filterName = &quot;CharacterEncodingFilter&quot;, urlPatterns = {&quot;/*&quot;}, dispatcherTypes = {DispatcherType.REQUEST}, asyncSupported = true)\r\npublic class CharacterEncodingFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response,\r\n            FilterChain chain)\r\n            throws IOException, ServletException {\r\n        request.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n}\r\n```","title":"When should Java Servlet 3.0 Filter asyncSupported be false?","body":"<p>By default a Servlet Filter asyncSupported boolean is false, but it appears to cause no harm to simply set it to true, at least for a simple filter that sets the request and response character encoding.  However, if you happen to NOT change the default you can run into issues as async servlets then won't work.  Is there a scenario where enabling async support would be harmful.  Why isn't the default true / why is there even an option?  Is the filter expected to call HttpServletRequest.startAsync() if asyncSupported = true?  Can a filter handle both async and sync modes of operation?  In a simple character encoding filter is the response character encoding being set correctly when in async mode:</p>\n<pre><code>@WebFilter(filterName = &quot;CharacterEncodingFilter&quot;, urlPatterns = {&quot;/*&quot;}, dispatcherTypes = {DispatcherType.REQUEST}, asyncSupported = true)\npublic class CharacterEncodingFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n            FilterChain chain)\n            throws IOException, ServletException {\n        request.setCharacterEncoding(&quot;UTF-8&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n        chain.doFilter(request, response);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":7074805,"reputation":1890,"user_id":5415234,"display_name":"Bernhard Stadler"},"score":0,"creation_date":1692019616,"post_id":76870864,"comment_id":135565184,"body_markdown":"What do you mean by &quot;volatile&quot;?\n\nAlso, list equality means that both lists contain the same items in the same order. Why should the list of items ordered be equal to the list of items sent/received? I think they should contain all items the same number of times, but the order should not matter.","body":"What do you mean by &quot;volatile&quot;?  Also, list equality means that both lists contain the same items in the same order. Why should the list of items ordered be equal to the list of items sent/received? I think they should contain all items the same number of times, but the order should not matter."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692020532,"post_id":76870864,"comment_id":135565395,"body_markdown":"1) I removed the &quot;volatile&quot;.  2) You&#39;re right, they dont need to have the same order.","body":"1) I removed the &quot;volatile&quot;.  2) You&#39;re right, they dont need to have the same order."}],"answers":[{"tags":[],"owner":{"account_id":10352774,"reputation":46,"user_id":7635710,"display_name":"gryxon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691617205,"creation_date":1691617205,"answer_id":76871439,"question_id":76870864,"body_markdown":"I think your problem isn&#39;t well defined. I will try to specify it in this way that your solution is correct.\r\n\r\nThere are two lists which represent ordered things and sent things. Missing objects can happen only in one list. The assumption of missing objects is important because otherwise your solution is incorrect.\r\n\r\nYour solution can be improved using (Hash)Set data structure. removeAll method from ArrayList has quadratic time complexity, for HashSet it is linear (on average).\r\n\r\nIf your list can contain duplicates you would need to handle it when using HashSet ( for example by adding to objects some unique identifier ).\r\n\r\n","title":"Get the items difference between two lists in Java","body":"<p>I think your problem isn't well defined. I will try to specify it in this way that your solution is correct.</p>\n<p>There are two lists which represent ordered things and sent things. Missing objects can happen only in one list. The assumption of missing objects is important because otherwise your solution is incorrect.</p>\n<p>Your solution can be improved using (Hash)Set data structure. removeAll method from ArrayList has quadratic time complexity, for HashSet it is linear (on average).</p>\n<p>If your list can contain duplicates you would need to handle it when using HashSet ( for example by adding to objects some unique identifier ).</p>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692193356,"creation_date":1692024148,"answer_id":76899938,"question_id":76870864,"body_markdown":"Generally speaking I think it is the correct approach, you need to subtract one from the other. \r\nI can only think of slight improvements here and there:\r\n- when `&quot;No difference&quot;` you can return the `String` directly, no need for the `StringBuilder`. Also returning directly removes one level of nesting (no `else`)\r\n- The `Stream` joining collector allows to set a prefix and a suffix so you et the `&quot;` around the items for free.\r\n- You can factor the formatting of `&quot;x item(s) missing in list: &quot;X&quot;, &quot;Y&quot;`\r\n\r\n```java\r\nprivate static String getDifference(List&lt;String&gt; order, List&lt;String&gt; sent) {\r\n    if (new HashSet&lt;&gt;(order).equals(new HashSet&lt;&gt;(sent))) {\r\n        return &quot;No difference&quot;;\r\n    }\r\n\r\n    StringBuilder output = new StringBuilder();\r\n\r\n    List&lt;String&gt; auxOrder = new ArrayList&lt;&gt;(order);\r\n    auxOrder.removeAll(sent);\r\n    if (!auxOrder.isEmpty()) {\r\n        output.append(format(auxOrder, &quot;sent&quot;));\r\n    }\r\n\r\n    List&lt;String&gt; auxSent = new ArrayList&lt;&gt;(sent);\r\n    auxSent.removeAll(order);\r\n    if (!auxSent.isEmpty()) {\r\n        output.append(auxOrder.isEmpty() ? &quot;&quot; : &quot; &amp; &quot;);\r\n        output.append(format(auxSent, &quot;order&quot;));\r\n    }\r\n\r\n    return output.toString();\r\n}\r\n\r\nprivate static String format(List&lt;String&gt; missing, String listName) {\r\n    return &quot;%s item(s) missing from %s : %s&quot;.formatted(\r\n            missing.size(),\r\n            listName,\r\n            missing.stream().collect(Collectors.joining(&quot;\\&quot;, \\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;))\r\n    );\r\n}\r\n```\r\n\r\nIf they are big lists and the `removeAll` is costly, you can improve performance by checking the size of the lists beforehand and only do the `removeAll` if the first list is longer than the second","title":"Get the items difference between two lists in Java","body":"<p>Generally speaking I think it is the correct approach, you need to subtract one from the other.\nI can only think of slight improvements here and there:</p>\n<ul>\n<li>when <code>&quot;No difference&quot;</code> you can return the <code>String</code> directly, no need for the <code>StringBuilder</code>. Also returning directly removes one level of nesting (no <code>else</code>)</li>\n<li>The <code>Stream</code> joining collector allows to set a prefix and a suffix so you et the <code>&quot;</code> around the items for free.</li>\n<li>You can factor the formatting of <code>&quot;x item(s) missing in list: &quot;X&quot;, &quot;Y&quot;</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(List&lt;String&gt; order, List&lt;String&gt; sent) {\n    if (new HashSet&lt;&gt;(order).equals(new HashSet&lt;&gt;(sent))) {\n        return &quot;No difference&quot;;\n    }\n\n    StringBuilder output = new StringBuilder();\n\n    List&lt;String&gt; auxOrder = new ArrayList&lt;&gt;(order);\n    auxOrder.removeAll(sent);\n    if (!auxOrder.isEmpty()) {\n        output.append(format(auxOrder, &quot;sent&quot;));\n    }\n\n    List&lt;String&gt; auxSent = new ArrayList&lt;&gt;(sent);\n    auxSent.removeAll(order);\n    if (!auxSent.isEmpty()) {\n        output.append(auxOrder.isEmpty() ? &quot;&quot; : &quot; &amp; &quot;);\n        output.append(format(auxSent, &quot;order&quot;));\n    }\n\n    return output.toString();\n}\n\nprivate static String format(List&lt;String&gt; missing, String listName) {\n    return &quot;%s item(s) missing from %s : %s&quot;.formatted(\n            missing.size(),\n            listName,\n            missing.stream().collect(Collectors.joining(&quot;\\&quot;, \\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;))\n    );\n}\n</code></pre>\n<p>If they are big lists and the <code>removeAll</code> is costly, you can improve performance by checking the size of the lists beforehand and only do the <code>removeAll</code> if the first list is longer than the second</p>\n"},{"tags":[],"owner":{"account_id":29194810,"reputation":21,"user_id":22366166,"display_name":"Daniel Salmun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692072331,"creation_date":1692072331,"answer_id":76903391,"question_id":76870864,"body_markdown":"First, it&#39;s not clear enough if there are duplicates or not. Secondly, if you don&#39;t care about order then don&#39;t use the list equals() method as it will fail in many cases where both lists contains the same items but in different order. \r\n\r\nBesides that, the algorithm should work but it could be optimized. I believe the main problem is that using the removeAll() method between a list of size n and a list of size m has a worst time complexity of O(n*m) (quadratic) when you could actually achieve a time complexity of O(n+m) (lineal). If you don&#39;t care about duplicates you could slightly modify your solution to use HashSet to achieve this goal in the following way:\r\n\r\n    // If duplicates are irrelevant\r\n\tprivate static String getDifference(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\r\n\t\tSet&lt;String&gt; orderedSet = new HashSet&lt;&gt;(ordered);\r\n\t\tSet&lt;String&gt; sentSet = new HashSet&lt;&gt;(sent);\r\n\t\tif (orderedSet.equals(sentSet)) {\r\n\t\t\treturn &quot;No difference&quot;;\r\n\t\t} else {\r\n\t\t\tStringBuilder output = new StringBuilder();\r\n\t\t\torderedSet.removeAll(sent);\r\n\r\n\t\t\tif (!orderedSet.isEmpty()) {\r\n\t\t\t\toutput.append(orderedSet.size()).append(&quot; item(s) missing in sent: &quot;);\r\n\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, orderedSet)).append(&quot;\\&quot;&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tsentSet.removeAll(ordered);\r\n\r\n\t\t\tif (!sentSet.isEmpty()) {\r\n\t\t\t\tif (output.length() &gt; 0) {\r\n\t\t\t\t\toutput.append(&quot; &amp; &quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutput.append(sentSet.size()).append(&quot; item(s) missing in ordered: &quot;);\r\n\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, sentSet)).append(&quot;\\&quot;&quot;);\r\n\t\t\t}\r\n\r\n\t\t\treturn output.toString();\r\n\t\t}\r\n\t}\r\n\r\nIf you care about duplicates then you aren&#39;t actually comparing Lists but [Multisets][1]. For a Multiset implementation you could use the [Guava][2] library. A possible implementation with Multisets looks like this:\r\n\r\n    // If duplicates are relevant, with Guava\r\n\tprivate static String getDifferenceWithDuplicates(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\r\n\t\tMultiset&lt;String&gt; orderedSet = HashMultiset.&lt;String&gt;create(ordered);\r\n\t\tMultiset&lt;String&gt; sentSet = HashMultiset.&lt;String&gt;create(sent);\r\n\t\tif (orderedSet.equals(sentSet)) {\r\n\t\t\treturn &quot;No difference&quot;;\r\n\t\t} else {\r\n\t\t\tStringBuilder output = new StringBuilder();\r\n\r\n\t\t\tfor (String item : Sets.union(orderedSet.elementSet(), sentSet.elementSet())) {\r\n\t\t\t\tint orderedCount = orderedSet.count(item);\r\n\t\t\t\tint sentCount = sentSet.count(item);\r\n\r\n\t\t\t\tif (orderedCount != sentCount) {\r\n\t\t\t\t\tif (output.length() &gt; 0) {\r\n\t\t\t\t\t\toutput.append(&quot; &amp; &quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toutput.append(Math.abs(orderedCount - sentCount)).append(&quot; item(s) missing in &quot;);\r\n\t\t\t\t\toutput.append(orderedCount &gt; sentCount ? &quot;sent&quot; : &quot;ordered&quot;).append(&quot;: &quot;);\r\n\t\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(item).append(&quot;\\&quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn output.toString();\r\n\t\t}\r\n\t}\r\nIf for some reason you can&#39;t use Guava, then you can implement the same behavior of a HashMultiset using a HashMap of type Map&lt;String, Integer&gt; where the key is the item and the value is the amount of appearances in the original list (this is an exercise for the reader).\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Multiset\r\n  [2]: https://github.com/google/guava","title":"Get the items difference between two lists in Java","body":"<p>First, it's not clear enough if there are duplicates or not. Secondly, if you don't care about order then don't use the list equals() method as it will fail in many cases where both lists contains the same items but in different order.</p>\n<p>Besides that, the algorithm should work but it could be optimized. I believe the main problem is that using the removeAll() method between a list of size n and a list of size m has a worst time complexity of O(n*m) (quadratic) when you could actually achieve a time complexity of O(n+m) (lineal). If you don't care about duplicates you could slightly modify your solution to use HashSet to achieve this goal in the following way:</p>\n<pre><code>// If duplicates are irrelevant\nprivate static String getDifference(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\n    Set&lt;String&gt; orderedSet = new HashSet&lt;&gt;(ordered);\n    Set&lt;String&gt; sentSet = new HashSet&lt;&gt;(sent);\n    if (orderedSet.equals(sentSet)) {\n        return &quot;No difference&quot;;\n    } else {\n        StringBuilder output = new StringBuilder();\n        orderedSet.removeAll(sent);\n\n        if (!orderedSet.isEmpty()) {\n            output.append(orderedSet.size()).append(&quot; item(s) missing in sent: &quot;);\n            output.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, orderedSet)).append(&quot;\\&quot;&quot;);\n        }\n\n        sentSet.removeAll(ordered);\n\n        if (!sentSet.isEmpty()) {\n            if (output.length() &gt; 0) {\n                output.append(&quot; &amp; &quot;);\n            }\n\n            output.append(sentSet.size()).append(&quot; item(s) missing in ordered: &quot;);\n            output.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, sentSet)).append(&quot;\\&quot;&quot;);\n        }\n\n        return output.toString();\n    }\n}\n</code></pre>\n<p>If you care about duplicates then you aren't actually comparing Lists but <a href=\"https://en.wikipedia.org/wiki/Multiset\" rel=\"nofollow noreferrer\">Multisets</a>. For a Multiset implementation you could use the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> library. A possible implementation with Multisets looks like this:</p>\n<pre><code>// If duplicates are relevant, with Guava\nprivate static String getDifferenceWithDuplicates(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\n    Multiset&lt;String&gt; orderedSet = HashMultiset.&lt;String&gt;create(ordered);\n    Multiset&lt;String&gt; sentSet = HashMultiset.&lt;String&gt;create(sent);\n    if (orderedSet.equals(sentSet)) {\n        return &quot;No difference&quot;;\n    } else {\n        StringBuilder output = new StringBuilder();\n\n        for (String item : Sets.union(orderedSet.elementSet(), sentSet.elementSet())) {\n            int orderedCount = orderedSet.count(item);\n            int sentCount = sentSet.count(item);\n\n            if (orderedCount != sentCount) {\n                if (output.length() &gt; 0) {\n                    output.append(&quot; &amp; &quot;);\n                }\n\n                output.append(Math.abs(orderedCount - sentCount)).append(&quot; item(s) missing in &quot;);\n                output.append(orderedCount &gt; sentCount ? &quot;sent&quot; : &quot;ordered&quot;).append(&quot;: &quot;);\n                output.append(&quot;\\&quot;&quot;).append(item).append(&quot;\\&quot;&quot;);\n            }\n        }\n        return output.toString();\n    }\n}\n</code></pre>\n<p>If for some reason you can't use Guava, then you can implement the same behavior of a HashMultiset using a HashMap of type Map&lt;String, Integer&gt; where the key is the item and the value is the amount of appearances in the original list (this is an exercise for the reader).</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692113705,"creation_date":1692075723,"answer_id":76903540,"question_id":76870864,"body_markdown":"Your solution is pretty good, but there&#39;s a little room for improvement.\r\n\r\nFirst off, you used `.equals()`. Most of the time, this is wise, but doing `.equals()` will iterate through both lists until it finds the first difference. This is bad because, you don&#39;t just want to know if the 2 lists are different, but you also want to know ***what those differences are***. That means that, after you have iterated through these lists once just to confirm that there is a difference, finding those differences will require you to iterate through both lists ***again***, which slows down your solution considerably.\r\n\r\nInstead, I am going to do an optimistic `==` check here, just to handle the chance that someone passed in the same list. I&#39;m also adding null checks by using [`Objects.requireNonNull(object, message)`][1]. I&#39;m also removing your else clause by just returning early instead.\r\n\r\nNone of the above changes are really necessary, but will eliminate the easy edge cases. Feel free to leave them out if you feel it is unnecessary or complicates the solution needlessly.\r\n\r\n(***Speaking of complexity, once Valhalla comes out, this `==` might not be a good idea anymore. I can&#39;t predict the future of what will and won&#39;t be good advice for features that haven&#39;t come out yet, but putting this note for future readers working in a post-Valhalla world***).\r\n\r\n```java\r\nprivate static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\r\n{\r\n\r\n\tObjects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\r\n\tObjects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\r\n\r\n\tif (list1== list2)\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t} \r\n\r\n\t//in progress\r\n\r\n}\r\n```\r\n\r\nNext, let&#39;s find a quick way to find the missing elements in both. I don&#39;t want to make any destructive changes to either list passed in. Plus, Java has some lists that are [`Unmodifiable Lists`][2]. In general, it is safer to just make a copy of what you are given and go from there.\r\n\r\nPlease note though, if it is part of your contract that you are allowed to make destructive changes to the incoming lists, then ***not*** making a copy would be more efficient. Regardless, I will make a copy to be safe. Let&#39;s do that now.\r\n\r\n```java\r\nprivate static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\r\n{\r\n\r\n\tObjects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\r\n\tObjects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\r\n\r\n\tif (list1 == list2)\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t} \r\n\r\n\tfinal List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\r\n\tfinal List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\r\n\r\n\t//in progress\r\n\r\n}\r\n```\r\n\r\nOk, now that we have created our copies, let&#39;s remove the elements that are common to both lists. To do that, we will make use of the [`List.removeAll()`][3] method.\r\n\r\n```java\r\nprivate static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\r\n{\r\n\r\n\tObjects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\r\n\tObjects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\r\n\r\n\tif (list1 == list2)\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t} \r\n\r\n\tfinal List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\r\n\tfinal List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\r\n\r\n\t//Yes, we are removing the OTHER SOURCE LIST from the COPY LIST\r\n\tcopy1.removeAll(list2);\r\n\tcopy2.removeAll(list1);\r\n\r\n\t//in progress\r\n\r\n}\r\n```\r\n\r\nOk, we found the differences now. All that is left to do is to return the results. I will go ahead and do some basic formatting, since that seemed important to you.\r\n\r\n```java\r\nprivate static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\r\n{\r\n\r\n\tObjects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\r\n\tObjects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\r\n\r\n\tif (list1 == list2)\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t} \r\n\r\n\tfinal List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\r\n\tfinal List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\r\n\r\n\t//Yes, we are removing the OTHER SOURCE LIST from the COPY LIST\r\n\tcopy1.removeAll(list2);\r\n\tcopy2.removeAll(list1);\r\n\r\n\tif (copy1.isEmpty() &amp;&amp; copy2.isEmpty())\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t}\r\n\telse if (copy1.isEmpty())\r\n\t{\r\n\t\treturn &quot;items missing in parameter 1 = &quot; + copy2.toString();\r\n\t}\r\n\telse if (copy2.isEmpty())\r\n\t{\r\n\t\treturn &quot;items missing in parameter 2 = &quot; + copy1.toString();\r\n\t}\r\n\telse\r\n\t{\r\n\t\treturn &quot;items missing in parameter 1 = &quot; + copy2.toString() + &quot; and items missing in parameter 2 = &quot; + copy1.toString();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThat should solve your question. Here are some sample outputs.\r\n\r\n```java\r\nfinal List&lt;String&gt; list1 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\nfinal List&lt;String&gt; list2 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;E&quot;);\r\nfinal List&lt;String&gt; list3 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n\r\ngetDifference(list1, list1) // &quot;No difference&quot;\r\ngetDifference(list1, list2) // &quot;items missing in parameter 1 = [E] and items missing in parameter 2 = [D]&quot;\r\ngetDifference(list1, list3) // &quot;items missing in parameter 2 = [D]&quot;\r\ngetDifference(list2, list1) // &quot;items missing in parameter 1 = [D] and items missing in parameter 2 = [E]&quot;\r\ngetDifference(list2, list2) // &quot;No difference&quot;\r\ngetDifference(list2, list3) // &quot;items missing in parameter 2 = [E]&quot;\r\ngetDifference(list3, list1) // &quot;items missing in parameter 1 = [D]&quot;\r\ngetDifference(list3, list2) // &quot;items missing in parameter 1 = [E]&quot;\r\ngetDifference(list3, list3) // &quot;No difference&quot;\r\n\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [3]:https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#removeAll(java.util.Collection)","title":"Get the items difference between two lists in Java","body":"<p>Your solution is pretty good, but there's a little room for improvement.</p>\n<p>First off, you used <code>.equals()</code>. Most of the time, this is wise, but doing <code>.equals()</code> will iterate through both lists until it finds the first difference. This is bad because, you don't just want to know if the 2 lists are different, but you also want to know <em><strong>what those differences are</strong></em>. That means that, after you have iterated through these lists once just to confirm that there is a difference, finding those differences will require you to iterate through both lists <em><strong>again</strong></em>, which slows down your solution considerably.</p>\n<p>Instead, I am going to do an optimistic <code>==</code> check here, just to handle the chance that someone passed in the same list. I'm also adding null checks by using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.lang.String)\" rel=\"nofollow noreferrer\"><code>Objects.requireNonNull(object, message)</code></a>. I'm also removing your else clause by just returning early instead.</p>\n<p>None of the above changes are really necessary, but will eliminate the easy edge cases. Feel free to leave them out if you feel it is unnecessary or complicates the solution needlessly.</p>\n<p>(<em><strong>Speaking of complexity, once Valhalla comes out, this <code>==</code> might not be a good idea anymore. I can't predict the future of what will and won't be good advice for features that haven't come out yet, but putting this note for future readers working in a post-Valhalla world</strong></em>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\n{\n\n    Objects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\n    Objects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\n\n    if (list1== list2)\n    {\n        return &quot;No difference&quot;;\n    } \n\n    //in progress\n\n}\n</code></pre>\n<p>Next, let's find a quick way to find the missing elements in both. I don't want to make any destructive changes to either list passed in. Plus, Java has some lists that are <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\"><code>Unmodifiable Lists</code></a>. In general, it is safer to just make a copy of what you are given and go from there.</p>\n<p>Please note though, if it is part of your contract that you are allowed to make destructive changes to the incoming lists, then <em><strong>not</strong></em> making a copy would be more efficient. Regardless, I will make a copy to be safe. Let's do that now.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\n{\n\n    Objects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\n    Objects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\n\n    if (list1 == list2)\n    {\n        return &quot;No difference&quot;;\n    } \n\n    final List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\n    final List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\n\n    //in progress\n\n}\n</code></pre>\n<p>Ok, now that we have created our copies, let's remove the elements that are common to both lists. To do that, we will make use of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#removeAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>List.removeAll()</code></a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\n{\n\n    Objects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\n    Objects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\n\n    if (list1 == list2)\n    {\n        return &quot;No difference&quot;;\n    } \n\n    final List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\n    final List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\n\n    //Yes, we are removing the OTHER SOURCE LIST from the COPY LIST\n    copy1.removeAll(list2);\n    copy2.removeAll(list1);\n\n    //in progress\n\n}\n</code></pre>\n<p>Ok, we found the differences now. All that is left to do is to return the results. I will go ahead and do some basic formatting, since that seemed important to you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\n{\n\n    Objects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\n    Objects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\n\n    if (list1 == list2)\n    {\n        return &quot;No difference&quot;;\n    } \n\n    final List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\n    final List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\n\n    //Yes, we are removing the OTHER SOURCE LIST from the COPY LIST\n    copy1.removeAll(list2);\n    copy2.removeAll(list1);\n\n    if (copy1.isEmpty() &amp;&amp; copy2.isEmpty())\n    {\n        return &quot;No difference&quot;;\n    }\n    else if (copy1.isEmpty())\n    {\n        return &quot;items missing in parameter 1 = &quot; + copy2.toString();\n    }\n    else if (copy2.isEmpty())\n    {\n        return &quot;items missing in parameter 2 = &quot; + copy1.toString();\n    }\n    else\n    {\n        return &quot;items missing in parameter 1 = &quot; + copy2.toString() + &quot; and items missing in parameter 2 = &quot; + copy1.toString();\n    }\n\n}\n</code></pre>\n<p>That should solve your question. Here are some sample outputs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; list1 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\nfinal List&lt;String&gt; list2 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;E&quot;);\nfinal List&lt;String&gt; list3 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n\ngetDifference(list1, list1) // &quot;No difference&quot;\ngetDifference(list1, list2) // &quot;items missing in parameter 1 = [E] and items missing in parameter 2 = [D]&quot;\ngetDifference(list1, list3) // &quot;items missing in parameter 2 = [D]&quot;\ngetDifference(list2, list1) // &quot;items missing in parameter 1 = [D] and items missing in parameter 2 = [E]&quot;\ngetDifference(list2, list2) // &quot;No difference&quot;\ngetDifference(list2, list3) // &quot;items missing in parameter 2 = [E]&quot;\ngetDifference(list3, list1) // &quot;items missing in parameter 1 = [D]&quot;\ngetDifference(list3, list2) // &quot;items missing in parameter 1 = [E]&quot;\ngetDifference(list3, list3) // &quot;No difference&quot;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692370185,"creation_date":1692370185,"answer_id":76930400,"question_id":76870864,"body_markdown":"Below code iterates both lists while updating two, separate lists that contain differences. I think the advantage is that you iterate both lists once only. However, for the algorithm to work, both lists must be sorted (in ascending order). If you have a precondition whereby both lists are always sorted, then no need to perform the sort. Such a precondition would exist if, for example, both lists contained results of database queries because each query could have an [ORDER BY clause][1].\r\n\r\nMore explanations after the code.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    private static List&lt;List&lt;String&gt;&gt; diffs(List&lt;String&gt; lst1, List&lt;String&gt; lst2) {\r\n        // For algorithm to work, both lists must be sorted.\r\n        Collections.sort(lst1);\r\n        Collections.sort(lst2);\r\n        int ndx1 = 0;\r\n        int ndx2 = 0;\r\n        int size1 = lst1.size();\r\n        int size2 = lst2.size();\r\n        List&lt;String&gt; diffs1 = new ArrayList&lt;&gt;(size1); // strings in &#39;lst1&#39; only\r\n        List&lt;String&gt; diffs2 = new ArrayList&lt;&gt;(size2); // strings in &#39;lst2&#39; only\r\n\r\n        // Get first element in each list. Consider empty lists also.\r\n        String str1 = size1 == 0 ? &quot;&quot; : lst1.get(ndx1);\r\n        String str2 = size2 == 0 ? &quot;&quot; : lst2.get(ndx2);\r\n\r\n        while (ndx1 &lt; size1) {\r\n            int difference = str1.compareTo(str2);\r\n            // Always increment index of lower string\r\n            if (difference &gt; 0) {\r\n                diffs2.add(str2);\r\n                ndx2++;\r\n                if (ndx2 &lt; size2) {\r\n                    str2 = lst2.get(ndx2);\r\n                }\r\n                else {\r\n                    // if reach last element of &#39;lst2&#39; add remaining elements of &#39;lst1&#39;\r\n                    while (ndx1 &lt; size1) {\r\n                        diffs1.add(lst1.get(ndx1++));\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            else if (difference &lt; 0) {\r\n                diffs1.add(str1);\r\n                ndx1++;\r\n                if (ndx1 &lt; size1) {\r\n                    str1 = lst1.get(ndx1);\r\n                }\r\n            }\r\n            else {\r\n                // strings are equal, increment both indexes\r\n                ndx1++;\r\n                if (ndx1 &lt; size1) {\r\n                    str1 = lst1.get(ndx1);\r\n                }\r\n                ndx2++;\r\n                if (ndx2 &lt; size2) {\r\n                    str2 = lst2.get(ndx2);\r\n                }\r\n                else {\r\n                    // if reach last element of &#39;lst2&#39; add remaining elements of &#39;lst1&#39;\r\n                    while (ndx1 &lt; size1) {\r\n                        diffs1.add(lst1.get(ndx1++));\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // add remaining elements of &#39;lst2&#39;\r\n        while (ndx2 &lt; size2) {\r\n            diffs2.add(lst2.get(ndx2++));\r\n        }\r\n        return List.of(diffs1, diffs2);\r\n    }\r\n\r\n    private static void test(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\r\n        List&lt;List&lt;String&gt;&gt; diffs = diffs(ordered, sent);\r\n        List&lt;String&gt; diffs0 = diffs.get(0);\r\n        List&lt;String&gt; diffs1 = diffs.get(1);\r\n        int count0 = diffs0.size();\r\n        int count1 = diffs1.size();\r\n        if (count0 == 0  &amp;&amp;  count1 == 0) {\r\n            System.out.println(&quot;No differences.&quot;);\r\n        }\r\n        else {\r\n            if (count1 &gt; 0) {\r\n                System.out.println(&quot;Missing in &#39;ordered&#39;: &quot; + diffs1);\r\n            }\r\n            if (count0 &gt; 0) {\r\n                System.out.println(&quot;Missing in &#39;sent&#39;: &quot; + diffs0);\r\n            }\r\n        }\r\n        System.out.println(&quot;====================================================================&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;)));\r\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)), new ArrayList&lt;&gt;(List.of(&quot;B&quot;, &quot;C&quot;)));\r\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;D&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)));\r\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;D&quot;, &quot;F&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)));\r\n    }\r\n}\r\n```\r\nNote that method [of][2] (in interface `java.util.List`) was added in JDK 9. It creates an immutable list which means that the lists cannot be sorted. Hence I wrap each list in an `ArrayList` which creates a mutable list which can then be sorted.\r\n\r\nBasically the algorithm works as follows (assuming that both lists are sorted).\r\n1. Get first element of both lists.\r\n2. Compare them.\r\n3. If they are not equal, add the lower one to its differences list and get the next element in the list containing the lower one.\r\n4. If they are equal, add nothing to either of the differences list and get the next element of both lists.\r\n5. Once you have iterated all the elements of one list, add any remaining elements of the other list to its differences list.\r\n6. First differences list contains all elements in first list that are not in second list and vice-versa.\r\n\r\nHere is the output I got when I ran the above code:\r\n```none\r\nNo differences.\r\n====================================================================\r\nMissing in &#39;sent&#39;: [A]\r\n====================================================================\r\nMissing in &#39;ordered&#39;: [B, C]\r\n====================================================================\r\nMissing in &#39;ordered&#39;: [B, C]\r\nMissing in &#39;sent&#39;: [F]\r\n====================================================================\r\n```\r\n\r\n\r\n  [1]: https://www.w3schools.com/sql/sql_orderby.asp\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-","title":"Get the items difference between two lists in Java","body":"<p>Below code iterates both lists while updating two, separate lists that contain differences. I think the advantage is that you iterate both lists once only. However, for the algorithm to work, both lists must be sorted (in ascending order). If you have a precondition whereby both lists are always sorted, then no need to perform the sort. Such a precondition would exist if, for example, both lists contained results of database queries because each query could have an <a href=\"https://www.w3schools.com/sql/sql_orderby.asp\" rel=\"nofollow noreferrer\">ORDER BY clause</a>.</p>\n<p>More explanations after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Main {\n\n    private static List&lt;List&lt;String&gt;&gt; diffs(List&lt;String&gt; lst1, List&lt;String&gt; lst2) {\n        // For algorithm to work, both lists must be sorted.\n        Collections.sort(lst1);\n        Collections.sort(lst2);\n        int ndx1 = 0;\n        int ndx2 = 0;\n        int size1 = lst1.size();\n        int size2 = lst2.size();\n        List&lt;String&gt; diffs1 = new ArrayList&lt;&gt;(size1); // strings in 'lst1' only\n        List&lt;String&gt; diffs2 = new ArrayList&lt;&gt;(size2); // strings in 'lst2' only\n\n        // Get first element in each list. Consider empty lists also.\n        String str1 = size1 == 0 ? &quot;&quot; : lst1.get(ndx1);\n        String str2 = size2 == 0 ? &quot;&quot; : lst2.get(ndx2);\n\n        while (ndx1 &lt; size1) {\n            int difference = str1.compareTo(str2);\n            // Always increment index of lower string\n            if (difference &gt; 0) {\n                diffs2.add(str2);\n                ndx2++;\n                if (ndx2 &lt; size2) {\n                    str2 = lst2.get(ndx2);\n                }\n                else {\n                    // if reach last element of 'lst2' add remaining elements of 'lst1'\n                    while (ndx1 &lt; size1) {\n                        diffs1.add(lst1.get(ndx1++));\n                    }\n                    break;\n                }\n            }\n            else if (difference &lt; 0) {\n                diffs1.add(str1);\n                ndx1++;\n                if (ndx1 &lt; size1) {\n                    str1 = lst1.get(ndx1);\n                }\n            }\n            else {\n                // strings are equal, increment both indexes\n                ndx1++;\n                if (ndx1 &lt; size1) {\n                    str1 = lst1.get(ndx1);\n                }\n                ndx2++;\n                if (ndx2 &lt; size2) {\n                    str2 = lst2.get(ndx2);\n                }\n                else {\n                    // if reach last element of 'lst2' add remaining elements of 'lst1'\n                    while (ndx1 &lt; size1) {\n                        diffs1.add(lst1.get(ndx1++));\n                    }\n                    break;\n                }\n            }\n        }\n        // add remaining elements of 'lst2'\n        while (ndx2 &lt; size2) {\n            diffs2.add(lst2.get(ndx2++));\n        }\n        return List.of(diffs1, diffs2);\n    }\n\n    private static void test(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\n        List&lt;List&lt;String&gt;&gt; diffs = diffs(ordered, sent);\n        List&lt;String&gt; diffs0 = diffs.get(0);\n        List&lt;String&gt; diffs1 = diffs.get(1);\n        int count0 = diffs0.size();\n        int count1 = diffs1.size();\n        if (count0 == 0  &amp;&amp;  count1 == 0) {\n            System.out.println(&quot;No differences.&quot;);\n        }\n        else {\n            if (count1 &gt; 0) {\n                System.out.println(&quot;Missing in 'ordered': &quot; + diffs1);\n            }\n            if (count0 &gt; 0) {\n                System.out.println(&quot;Missing in 'sent': &quot; + diffs0);\n            }\n        }\n        System.out.println(&quot;====================================================================&quot;);\n    }\n\n    public static void main(String[] args) {\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;)));\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)), new ArrayList&lt;&gt;(List.of(&quot;B&quot;, &quot;C&quot;)));\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;D&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)));\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;D&quot;, &quot;F&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)));\n    }\n}\n</code></pre>\n<p>Note that method <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-\" rel=\"nofollow noreferrer\">of</a> (in interface <code>java.util.List</code>) was added in JDK 9. It creates an immutable list which means that the lists cannot be sorted. Hence I wrap each list in an <code>ArrayList</code> which creates a mutable list which can then be sorted.</p>\n<p>Basically the algorithm works as follows (assuming that both lists are sorted).</p>\n<ol>\n<li>Get first element of both lists.</li>\n<li>Compare them.</li>\n<li>If they are not equal, add the lower one to its differences list and get the next element in the list containing the lower one.</li>\n<li>If they are equal, add nothing to either of the differences list and get the next element of both lists.</li>\n<li>Once you have iterated all the elements of one list, add any remaining elements of the other list to its differences list.</li>\n<li>First differences list contains all elements in first list that are not in second list and vice-versa.</li>\n</ol>\n<p>Here is the output I got when I ran the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>No differences.\n====================================================================\nMissing in 'sent': [A]\n====================================================================\nMissing in 'ordered': [B, C]\n====================================================================\nMissing in 'ordered': [B, C]\nMissing in 'sent': [F]\n====================================================================\n</code></pre>\n"},{"tags":[],"owner":{"account_id":376857,"reputation":1599,"user_id":1309503,"display_name":"divyang4481"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692443101,"creation_date":1692443101,"answer_id":76934767,"question_id":76870864,"body_markdown":"User set to find mismatch\r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.lang.String;\r\n    import java.util.*;\r\n    \r\n    \r\n    \r\n    public class Main {\r\n    \r\n      \r\n    \r\n        public static void main(String[] args) {\r\n            \r\n             // Case 1\r\n            List&lt;String&gt; order1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\r\n            List&lt;String&gt; sended1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\r\n    \r\n            // No difference\r\n            System.out.println(&quot;Case 1: &quot; + getMissingItemsDescription(order1, sended1));\r\n    \r\n            // Case 2\r\n            List&lt;String&gt; order2 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\r\n            List&lt;String&gt; sended2 = Arrays.asList(new String[] { &quot;B&quot;, &quot;C&quot; });\r\n    \r\n            // &quot;1 item(s) missing in sended: A&quot;\r\n            System.out.println(&quot;Case 2: &quot; + getMissingItemsDescription(order2, sended2));\r\n    \r\n            // Case 3\r\n            List&lt;String&gt; order3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot; });\r\n            List&lt;String&gt; sended3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n    \r\n            // &quot;2 item(s) missing in order: B, C&quot;\r\n            System.out.println(&quot;Case 3: &quot; + getMissingItemsDescription(order3, sended3));\r\n    \r\n            // Case 4\r\n            List&lt;String&gt; order4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\r\n            List&lt;String&gt; sended4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n    \r\n            // 1 item(s) missing in sended: &quot;F&quot; &amp; 2 item(s) missing in order: &quot;B&quot;, &quot;C&quot;\r\n            System.out.println(&quot;Case 4: &quot; + getMissingItemsDescription(order4, sended4));\r\n    \r\n    \r\n        }\r\n    \r\n          public static &lt;T&gt; String getMissingItemsDescription(List&lt;T&gt; order, List&lt;T&gt; sent) {\r\n            Set&lt;T&gt; orderSet = new HashSet&lt;&gt;(order);\r\n            Set&lt;T&gt; sentSet = new HashSet&lt;&gt;(sent);\r\n            \r\n            Set&lt;T&gt; missingInOrder = new HashSet&lt;&gt;(orderSet);\r\n            missingInOrder.removeAll(sentSet);\r\n            \r\n            Set&lt;T&gt; missingInSent = new HashSet&lt;&gt;(sentSet);\r\n            missingInSent.removeAll(orderSet);\r\n    \r\n            StringBuilder description = new StringBuilder();\r\n            \r\n            if (!missingInOrder.isEmpty()) {\r\n                description.append(&quot;Missing in order: &quot;).append(missingInOrder).append(&quot;\\n&quot;);\r\n            }\r\n            \r\n            if (!missingInSent.isEmpty()) {\r\n                description.append(&quot;Missing in sent: &quot;).append(missingInSent);\r\n            }\r\n            \r\n            if (description.length() == 0) {\r\n                description.append(&quot;No missing items found&quot;);\r\n            }\r\n    \r\n            return description.toString();\r\n        }\r\n    }\r\n\r\n","title":"Get the items difference between two lists in Java","body":"<p>User set to find mismatch</p>\n<pre><code>import java.util.Collections;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.lang.String;\nimport java.util.*;\n\n\n\npublic class Main {\n\n  \n\n    public static void main(String[] args) {\n        \n         // Case 1\n        List&lt;String&gt; order1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\n        List&lt;String&gt; sended1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\n\n        // No difference\n        System.out.println(&quot;Case 1: &quot; + getMissingItemsDescription(order1, sended1));\n\n        // Case 2\n        List&lt;String&gt; order2 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\n        List&lt;String&gt; sended2 = Arrays.asList(new String[] { &quot;B&quot;, &quot;C&quot; });\n\n        // &quot;1 item(s) missing in sended: A&quot;\n        System.out.println(&quot;Case 2: &quot; + getMissingItemsDescription(order2, sended2));\n\n        // Case 3\n        List&lt;String&gt; order3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot; });\n        List&lt;String&gt; sended3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n\n        // &quot;2 item(s) missing in order: B, C&quot;\n        System.out.println(&quot;Case 3: &quot; + getMissingItemsDescription(order3, sended3));\n\n        // Case 4\n        List&lt;String&gt; order4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\n        List&lt;String&gt; sended4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n\n        // 1 item(s) missing in sended: &quot;F&quot; &amp; 2 item(s) missing in order: &quot;B&quot;, &quot;C&quot;\n        System.out.println(&quot;Case 4: &quot; + getMissingItemsDescription(order4, sended4));\n\n\n    }\n\n      public static &lt;T&gt; String getMissingItemsDescription(List&lt;T&gt; order, List&lt;T&gt; sent) {\n        Set&lt;T&gt; orderSet = new HashSet&lt;&gt;(order);\n        Set&lt;T&gt; sentSet = new HashSet&lt;&gt;(sent);\n        \n        Set&lt;T&gt; missingInOrder = new HashSet&lt;&gt;(orderSet);\n        missingInOrder.removeAll(sentSet);\n        \n        Set&lt;T&gt; missingInSent = new HashSet&lt;&gt;(sentSet);\n        missingInSent.removeAll(orderSet);\n\n        StringBuilder description = new StringBuilder();\n        \n        if (!missingInOrder.isEmpty()) {\n            description.append(&quot;Missing in order: &quot;).append(missingInOrder).append(&quot;\\n&quot;);\n        }\n        \n        if (!missingInSent.isEmpty()) {\n            description.append(&quot;Missing in sent: &quot;).append(missingInSent);\n        }\n        \n        if (description.length() == 0) {\n            description.append(&quot;No missing items found&quot;);\n        }\n\n        return description.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692464301,"creation_date":1692464301,"answer_id":76936203,"question_id":76870864,"body_markdown":"You could use Java 8 Streams:\r\n\r\n    public static String differences(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\r\n        //look for ordered items missing in sent\r\n        List&lt;String&gt; orderedButNotSent = ordered.stream()\r\n            .filter(el -&gt; sent.stream().noneMatch(el::equals))\r\n            .collect(Collectors.toList());\r\n\r\n        //look for sent items missing in ordered\r\n        List&lt;String&gt; sentButNotOrdered = sent.stream()\r\n            .filter(el -&gt; ordered.stream().noneMatch(el::equals))\r\n            .collect(Collectors.toList());\r\n\r\n        //build report\r\n        StringBuilder report = new StringBuilder();\r\n        report.append(&quot;orderedButNotSent: &quot; + orderedButNotSent + &quot;\\n&quot;)\r\n              .append(&quot;sentButNotOrdered: &quot; + sentButNotOrdered + &quot;\\n&quot;);\r\n\r\n        //return report\r\n        return report.toString();\r\n    }\r\n    public static void main(String args[]) {\r\n        List&lt;String&gt; ordered = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\r\n        List&lt;String&gt; sent = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n        \r\n        String differences = differences(ordered,sent);\r\n        //=&gt; orderedButNotSent: [F]\r\n        //=&gt; sentButNotOrdered: [B, C]\r\n    }","title":"Get the items difference between two lists in Java","body":"<p>You could use Java 8 Streams:</p>\n<pre><code>public static String differences(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\n    //look for ordered items missing in sent\n    List&lt;String&gt; orderedButNotSent = ordered.stream()\n        .filter(el -&gt; sent.stream().noneMatch(el::equals))\n        .collect(Collectors.toList());\n\n    //look for sent items missing in ordered\n    List&lt;String&gt; sentButNotOrdered = sent.stream()\n        .filter(el -&gt; ordered.stream().noneMatch(el::equals))\n        .collect(Collectors.toList());\n\n    //build report\n    StringBuilder report = new StringBuilder();\n    report.append(&quot;orderedButNotSent: &quot; + orderedButNotSent + &quot;\\n&quot;)\n          .append(&quot;sentButNotOrdered: &quot; + sentButNotOrdered + &quot;\\n&quot;);\n\n    //return report\n    return report.toString();\n}\npublic static void main(String args[]) {\n    List&lt;String&gt; ordered = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\n    List&lt;String&gt; sent = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n    \n    String differences = differences(ordered,sent);\n    //=&gt; orderedButNotSent: [F]\n    //=&gt; sentButNotOrdered: [B, C]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692471049,"creation_date":1692471049,"answer_id":76936612,"question_id":76870864,"body_markdown":"**Using Java 8 streams:**\r\n\r\n**Logic Here:**\r\n\r\n&gt; I have used the java 8 `stream` operation to get the difference\r\n&gt; between two given lists and created a output message using\r\n&gt; `StringBuilder` as mentioned in the problem statement.\r\n\r\n**Code:**\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            // Case 1\r\n            List&lt;String&gt; order1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;);\r\n            List&lt;String&gt; sended1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;);\r\n            System.out.println(&quot;Case 1: &quot; + getMissingItems(order1,sended1));\r\n    \r\n            // Case 2\r\n            List&lt;String&gt; order2 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n            List&lt;String&gt; sended2 = Arrays.asList(&quot;B&quot;, &quot;C&quot;);\r\n            System.out.println(&quot;Case 2: &quot; + getMissingItems(order2,sended2));\r\n    \r\n            // Case 3\r\n            List&lt;String&gt; order3 = Arrays.asList(&quot;A&quot;, &quot;D&quot;);\r\n            List&lt;String&gt; sended3 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n            System.out.println(&quot;Case 3: &quot; + getMissingItems(order3,sended3));\r\n    \r\n            // Case 4\r\n            List&lt;String&gt; order4 = Arrays.asList(&quot;A&quot;, &quot;D&quot;, &quot;F&quot;);\r\n            List&lt;String&gt; sended4 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n            System.out.println(&quot;Case 4: &quot; + getMissingItems(order4,sended4));\r\n        }\r\n    \r\n        private static String getMissingItems(List&lt;String&gt; order, \r\n                                              List&lt;String&gt; sended){\r\n            StringBuilder sb = new StringBuilder();\r\n            List&lt;String&gt; missingInOrder = getMissingInList(order, sended);\r\n            createMessage(sb, missingInOrder,&quot; item(s) missing in order: &quot;);\r\n            List&lt;String&gt; missingInSended = getMissingInList(sended, order);\r\n            if(!missingInOrder.isEmpty() &amp;&amp; !missingInSended.isEmpty()){\r\n                sb.append(&quot; &amp;&amp; &quot;);\r\n            }\r\n            createMessage(sb, missingInSended,&quot; item(s) missing in sended: &quot;);\r\n            return sb.isEmpty() ? &quot;No difference&quot;:sb.toString();\r\n        }\r\n    \r\n        private static void createMessage(StringBuilder sb, \r\n                                          List&lt;String&gt; diffInList,\r\n                                          String msg) {\r\n            if(!diffInList.isEmpty()){\r\n                sb.append(diffInList.size())\r\n                  .append(msg)\r\n                  .append(String.join(&quot;,&quot;, diffInList));\r\n            }\r\n        }\r\n    \r\n        private static List&lt;String&gt; getMissingInList(List&lt;String&gt; list1, \r\n                                                     List&lt;String&gt; list2) {\r\n            return list2.stream()\r\n                        .filter(e -&gt; !list1.contains(e))\r\n                        .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Case 1: No difference\r\n    Case 2: 1 item(s) missing in sended: A\r\n    Case 3: 2 item(s) missing in order: B,C\r\n    Case 4: 2 item(s) missing in order: B,C &amp;&amp; 1 item(s) missing in sended:F","title":"Get the items difference between two lists in Java","body":"<p><strong>Using Java 8 streams:</strong></p>\n<p><strong>Logic Here:</strong></p>\n<blockquote>\n<p>I have used the java 8 <code>stream</code> operation to get the difference\nbetween two given lists and created a output message using\n<code>StringBuilder</code> as mentioned in the problem statement.</p>\n</blockquote>\n<p><strong>Code:</strong></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        // Case 1\n        List&lt;String&gt; order1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;);\n        List&lt;String&gt; sended1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;);\n        System.out.println(&quot;Case 1: &quot; + getMissingItems(order1,sended1));\n\n        // Case 2\n        List&lt;String&gt; order2 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n        List&lt;String&gt; sended2 = Arrays.asList(&quot;B&quot;, &quot;C&quot;);\n        System.out.println(&quot;Case 2: &quot; + getMissingItems(order2,sended2));\n\n        // Case 3\n        List&lt;String&gt; order3 = Arrays.asList(&quot;A&quot;, &quot;D&quot;);\n        List&lt;String&gt; sended3 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\n        System.out.println(&quot;Case 3: &quot; + getMissingItems(order3,sended3));\n\n        // Case 4\n        List&lt;String&gt; order4 = Arrays.asList(&quot;A&quot;, &quot;D&quot;, &quot;F&quot;);\n        List&lt;String&gt; sended4 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\n        System.out.println(&quot;Case 4: &quot; + getMissingItems(order4,sended4));\n    }\n\n    private static String getMissingItems(List&lt;String&gt; order, \n                                          List&lt;String&gt; sended){\n        StringBuilder sb = new StringBuilder();\n        List&lt;String&gt; missingInOrder = getMissingInList(order, sended);\n        createMessage(sb, missingInOrder,&quot; item(s) missing in order: &quot;);\n        List&lt;String&gt; missingInSended = getMissingInList(sended, order);\n        if(!missingInOrder.isEmpty() &amp;&amp; !missingInSended.isEmpty()){\n            sb.append(&quot; &amp;&amp; &quot;);\n        }\n        createMessage(sb, missingInSended,&quot; item(s) missing in sended: &quot;);\n        return sb.isEmpty() ? &quot;No difference&quot;:sb.toString();\n    }\n\n    private static void createMessage(StringBuilder sb, \n                                      List&lt;String&gt; diffInList,\n                                      String msg) {\n        if(!diffInList.isEmpty()){\n            sb.append(diffInList.size())\n              .append(msg)\n              .append(String.join(&quot;,&quot;, diffInList));\n        }\n    }\n\n    private static List&lt;String&gt; getMissingInList(List&lt;String&gt; list1, \n                                                 List&lt;String&gt; list2) {\n        return list2.stream()\n                    .filter(e -&gt; !list1.contains(e))\n                    .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Case 1: No difference\nCase 2: 1 item(s) missing in sended: A\nCase 3: 2 item(s) missing in order: B,C\nCase 4: 2 item(s) missing in order: B,C &amp;&amp; 1 item(s) missing in sended:F\n</code></pre>\n"}],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76936612,"answer_count":8,"score":2,"last_activity_date":1692725271,"creation_date":1691610665,"question_id":76870864,"body_markdown":"I&#39;m trying to get the items difference between two lists, but, **sometimes one list is bigger than other, sometimes one is smaller and sometimes they are equal**. Also, **missing objects can happen in both lists**.\r\n\r\nI found good solutions to get the difference between two lists, like [How can I return the difference between two lists?](https://stackoverflow.com/questions/27002882/how-can-i-return-the-difference-between-two-lists), but no one considers 2 lists.\r\n\r\nI saw [Find common and different elements between two list in java](https://stackoverflow.com/questions/43181154/find-common-and-different-elements-between-two-list-in-java) too, but it isn&#39;t exactly what I&#39;m asking.\r\n\r\nI elaborate one example to illustrate what I want to do.\r\n\r\nConsider one list of ordered items, and one list of sent items. They must be equal because client must receive the items that he ordered.\r\n\r\nSo I did this way:\r\n\r\n```java\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\t// Case 1\r\n\t\tList&lt;String&gt; order1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\r\n\t\tList&lt;String&gt; sended1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\r\n\r\n\t\t// No difference\r\n\t\tSystem.out.println(&quot;Case 1: &quot; + getDifference(order1, sended1));\r\n\r\n\t\t// Case 2\r\n\t\tList&lt;String&gt; order2 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\r\n\t\tList&lt;String&gt; sended2 = Arrays.asList(new String[] { &quot;B&quot;, &quot;C&quot; });\r\n\r\n\t\t// &quot;1 item(s) missing in sended: A&quot;\r\n\t\tSystem.out.println(&quot;Case 2: &quot; + getDifference(order2, sended2));\r\n\r\n\t\t// Case 3\r\n\t\tList&lt;String&gt; order3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot; });\r\n\t\tList&lt;String&gt; sended3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n\r\n\t\t// &quot;2 item(s) missing in order: B, C&quot;\r\n\t\tSystem.out.println(&quot;Case 3: &quot; + getDifference(order3, sended3));\r\n\r\n\t\t// Case 4\r\n\t\tList&lt;String&gt; order4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\r\n\t\tList&lt;String&gt; sended4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n\r\n\t\t// 1 item(s) missing in sended: &quot;F&quot; &amp; 2 item(s) missing in order: &quot;B&quot;, &quot;C&quot;\r\n\t\tSystem.out.println(&quot;Case 4: &quot; + getDifference(order4, sended4));\r\n\t}\r\n\r\n\tprivate static String getDifference(List&lt;String&gt; order, List&lt;String&gt; sended) {\r\n\t\tStringBuilder output = new StringBuilder();\r\n\r\n\t\tif (order.equals(sended)) {\r\n\t\t\toutput.append(&quot;No difference&quot;);\r\n\r\n\t\t} else {\r\n\t\t\tList&lt;String&gt; auxOrder = new ArrayList&lt;&gt;(order);\r\n\t\t\tauxOrder.removeAll(sended);\r\n\r\n\t\t\tif (auxOrder.size() &gt; 0) {\r\n\t\t\t\toutput.append(auxOrder.size()).append(&quot; item(s) missing in sended: &quot;);\r\n\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, auxOrder)).append(&quot;\\&quot;&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tList&lt;String&gt; auxSended = new ArrayList&lt;&gt;(sended);\r\n\t\t\tauxSended.removeAll(order);\r\n\r\n\t\t\tif (auxSended.size() &gt; 0) {\r\n\t\t\t\tif (output.length() &gt; 0) {\r\n\t\t\t\t\toutput.append(&quot; &amp; &quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutput.append(auxSended.size()).append(&quot; item(s) missing in order: &quot;);\r\n\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, auxSended)).append(&quot;\\&quot;&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output.toString();\r\n\t}\r\n}\r\n```\r\nIt works, but I&#39;m not sure that it is the best way to do it, so I ask for your help!","title":"Get the items difference between two lists in Java","body":"<p>I'm trying to get the items difference between two lists, but, <strong>sometimes one list is bigger than other, sometimes one is smaller and sometimes they are equal</strong>. Also, <strong>missing objects can happen in both lists</strong>.</p>\n<p>I found good solutions to get the difference between two lists, like <a href=\"https://stackoverflow.com/questions/27002882/how-can-i-return-the-difference-between-two-lists\">How can I return the difference between two lists?</a>, but no one considers 2 lists.</p>\n<p>I saw <a href=\"https://stackoverflow.com/questions/43181154/find-common-and-different-elements-between-two-list-in-java\">Find common and different elements between two list in java</a> too, but it isn't exactly what I'm asking.</p>\n<p>I elaborate one example to illustrate what I want to do.</p>\n<p>Consider one list of ordered items, and one list of sent items. They must be equal because client must receive the items that he ordered.</p>\n<p>So I did this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        // Case 1\n        List&lt;String&gt; order1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\n        List&lt;String&gt; sended1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\n\n        // No difference\n        System.out.println(&quot;Case 1: &quot; + getDifference(order1, sended1));\n\n        // Case 2\n        List&lt;String&gt; order2 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\n        List&lt;String&gt; sended2 = Arrays.asList(new String[] { &quot;B&quot;, &quot;C&quot; });\n\n        // &quot;1 item(s) missing in sended: A&quot;\n        System.out.println(&quot;Case 2: &quot; + getDifference(order2, sended2));\n\n        // Case 3\n        List&lt;String&gt; order3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot; });\n        List&lt;String&gt; sended3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n\n        // &quot;2 item(s) missing in order: B, C&quot;\n        System.out.println(&quot;Case 3: &quot; + getDifference(order3, sended3));\n\n        // Case 4\n        List&lt;String&gt; order4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\n        List&lt;String&gt; sended4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n\n        // 1 item(s) missing in sended: &quot;F&quot; &amp; 2 item(s) missing in order: &quot;B&quot;, &quot;C&quot;\n        System.out.println(&quot;Case 4: &quot; + getDifference(order4, sended4));\n    }\n\n    private static String getDifference(List&lt;String&gt; order, List&lt;String&gt; sended) {\n        StringBuilder output = new StringBuilder();\n\n        if (order.equals(sended)) {\n            output.append(&quot;No difference&quot;);\n\n        } else {\n            List&lt;String&gt; auxOrder = new ArrayList&lt;&gt;(order);\n            auxOrder.removeAll(sended);\n\n            if (auxOrder.size() &gt; 0) {\n                output.append(auxOrder.size()).append(&quot; item(s) missing in sended: &quot;);\n                output.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, auxOrder)).append(&quot;\\&quot;&quot;);\n            }\n\n            List&lt;String&gt; auxSended = new ArrayList&lt;&gt;(sended);\n            auxSended.removeAll(order);\n\n            if (auxSended.size() &gt; 0) {\n                if (output.length() &gt; 0) {\n                    output.append(&quot; &amp; &quot;);\n                }\n\n                output.append(auxSended.size()).append(&quot; item(s) missing in order: &quot;);\n                output.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, auxSended)).append(&quot;\\&quot;&quot;);\n            }\n        }\n        return output.toString();\n    }\n}\n</code></pre>\n<p>It works, but I'm not sure that it is the best way to do it, so I ask for your help!</p>\n"},{"tags":["java","spring","spring-mvc","tomcat","spring-boot"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1463514572,"post_id":37285016,"comment_id":62095073,"body_markdown":"By setting up [spring-boot-starter-security](https://spring.io/guides/gs/securing-web/).","body":"By setting up <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">spring-boot-starter-security</a>."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1463515108,"post_id":37285016,"comment_id":62095340,"body_markdown":"You need to authenticate = you want to have authentication? Because there is no authentication nor username &amp; password in spring-boot-starter-tomcat/-web. If you see some, it&#39;s probably a different application on :8080","body":"You need to authenticate = you want to have authentication? Because there is no authentication nor username &amp; password in spring-boot-starter-tomcat/-web. If you see some, it&#39;s probably a different application on :8080"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1463515121,"post_id":37285016,"comment_id":62095347,"body_markdown":"And it&#39;s printed on the console at launch.","body":"And it&#39;s printed on the console at launch."}],"answers":[{"tags":[],"owner":{"account_id":5892563,"reputation":4311,"user_id":4638693,"display_name":"Marcel Dias"},"down_vote_count":0,"up_vote_count":377,"is_accepted":true,"score":377,"last_activity_date":1472849638,"creation_date":1463535394,"answer_id":37288790,"question_id":37285016,"body_markdown":"I think that you have Spring Security on your class path and then spring security is automatically configured with a default user and generated password\r\n\r\nPlease look into your pom.xml file for:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIf you have that in your pom than you should have a log console message like this:\r\n\r\n`Using default security password: ce6c3d39-8f20-4a41-8e01-803166bb99b6`\r\n\r\nAnd in the browser prompt you will import the user `user` and the password printed in the console.\r\n\r\nOr if you want to configure spring security you can take a look at [Spring Boot secured example](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-samples/spring-boot-sample-secure)\r\n\r\nIt is explained in the Spring Boot *Reference documentation* in the [Security][1] section, it indicates:\r\n\r\n    The default AuthenticationManager has a single user (‘user’ username and random password, printed at `INFO` level when the application starts up)\r\n    \r\n    Using default security password: 78fa095d-3f4c-48b1-ad50-e24c31d5cf35\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>I think that you have Spring Security on your class path and then spring security is automatically configured with a default user and generated password</p>\n\n<p>Please look into your pom.xml file for:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you have that in your pom than you should have a log console message like this:</p>\n\n<p><code>Using default security password: ce6c3d39-8f20-4a41-8e01-803166bb99b6</code></p>\n\n<p>And in the browser prompt you will import the user <code>user</code> and the password printed in the console.</p>\n\n<p>Or if you want to configure spring security you can take a look at <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-samples/spring-boot-sample-secure\">Spring Boot secured example</a></p>\n\n<p>It is explained in the Spring Boot <em>Reference documentation</em> in the <a href=\"http://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security\">Security</a> section, it indicates:</p>\n\n<pre><code>The default AuthenticationManager has a single user (‘user’ username and random password, printed at `INFO` level when the application starts up)\n\nUsing default security password: 78fa095d-3f4c-48b1-ad50-e24c31d5cf35\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4448063,"reputation":2887,"user_id":3620833,"accept_rate":67,"display_name":"Vino"},"down_vote_count":1,"up_vote_count":67,"is_accepted":false,"score":66,"last_activity_date":1525779107,"creation_date":1507295488,"answer_id":46606542,"question_id":37285016,"body_markdown":"If `spring-security` jars are added in classpath and also if it is `spring-boot` application all http endpoints will be secured by default security configuration class `SecurityAutoConfiguration` \r\n\r\nThis causes a browser pop-up to ask for credentials.\r\n\r\nThe password changes for each application restarts and can be found in console.\r\n\r\n\r\n    Using default security password: 78fa095d-3f4c-48b1-ad50-e24c31d5cf35\r\n\r\n\r\nTo add your own layer of application security in front of the defaults,\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n                .inMemoryAuthentication()\r\n                    .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;);\r\n        }\r\n    }\r\n\r\nor if you just want to change password you could override default with,\r\n\r\n  **application.xml**\r\n\r\nsecurity.user.password=new_password\r\n\r\nor\r\n\r\n  **application.properties**\r\n\r\n    spring.security.user.name=&lt;&gt;\r\n    spring.security.user.password=&lt;&gt;","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>If <code>spring-security</code> jars are added in classpath and also if it is <code>spring-boot</code> application all http endpoints will be secured by default security configuration class <code>SecurityAutoConfiguration</code> </p>\n\n<p>This causes a browser pop-up to ask for credentials.</p>\n\n<p>The password changes for each application restarts and can be found in console.</p>\n\n<pre><code>Using default security password: 78fa095d-3f4c-48b1-ad50-e24c31d5cf35\n</code></pre>\n\n<p>To add your own layer of application security in front of the defaults,</p>\n\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n                .withUser(\"user\").password(\"password\").roles(\"USER\");\n    }\n}\n</code></pre>\n\n<p>or if you just want to change password you could override default with,</p>\n\n<p><strong>application.xml</strong></p>\n\n<p>security.user.password=new_password</p>\n\n<p>or</p>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>spring.security.user.name=&lt;&gt;\nspring.security.user.password=&lt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1526287793,"creation_date":1511854058,"answer_id":47526134,"question_id":37285016,"body_markdown":"**You can also ask the user for the credentials and set them dynamically once the server starts (very effective when you need to publish the solution on a customer environment):**\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n\t    private static final Logger log = LogManager.getLogger();\r\n\t    \r\n        @Autowired\r\n\t    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t    log.info(&quot;Setting in-memory security using the user input...&quot;);\r\n\r\n\t\t    Scanner scanner = new Scanner(System.in);\r\n\t\t    String inputUser = null;\r\n\t\t    String inputPassword = null;\r\n\t\t    System.out.println(&quot;\\nPlease set the admin credentials for this web application&quot;);\r\n            while (true) {\r\n        \t    System.out.print(&quot;user: &quot;);\r\n                inputUser = scanner.nextLine();\r\n                System.out.print(&quot;password: &quot;);\r\n                inputPassword = scanner.nextLine();\r\n                System.out.print(&quot;confirm password: &quot;);\r\n                String inputPasswordConfirm = scanner.nextLine();\r\n          \r\n                if (inputUser.isEmpty()) {\r\n            \t    System.out.println(&quot;Error: user must be set - please try again&quot;);\r\n                } else if (inputPassword.isEmpty()) {\r\n                \tSystem.out.println(&quot;Error: password must be set - please try again&quot;);\r\n                } else if (!inputPassword.equals(inputPasswordConfirm)) {\r\n                \tSystem.out.println(&quot;Error: password and password confirm do not match - please try again&quot;);\r\n                } else {\r\n            \t    log.info(&quot;Setting the in-memory security using the provided credentials...&quot;);\r\n            \t    break;\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n            scanner.close();\r\n        \r\n            if (inputUser != null &amp;&amp; inputPassword != null) {\r\n        \t     auth.inMemoryAuthentication()\r\n        \t        .withUser(inputUser)\r\n        \t        .password(inputPassword)\r\n        \t        .roles(&quot;USER&quot;);\r\n            }\r\n\t    }\r\n    }\r\n\r\n**(May 2018) An update - this will work on spring boot 2.x:**\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n\t    private static final Logger log = LogManager.getLogger();\r\n\t\r\n\t    @Override\r\n\t    protected void configure(HttpSecurity http) throws Exception {\r\n\t\t    // Note: \r\n\t\t    // Use this to enable the tomcat basic authentication (tomcat popup rather than spring login page)\r\n\t\t    // Note that the CSRf token is disabled for all requests\r\n\t\t    log.info(&quot;Disabling CSRF, enabling basic authentication...&quot;);\r\n\t\t    http\r\n\t\t    .authorizeRequests()\r\n\t\t\t    .antMatchers(&quot;/**&quot;).authenticated() // These urls are allowed by any authenticated user\r\n\t\t    .and()\r\n\t\t\t    .httpBasic();\r\n\t\t    http.csrf().disable();\r\n\t    }\r\n\t\r\n\t    @Bean\r\n\t    public UserDetailsService userDetailsService() {\r\n\t        log.info(&quot;Setting in-memory security using the user input...&quot;);\r\n    \r\n\t\t    String username = null;\r\n\t\t    String password = null;\r\n\t\t\r\n\t\t    System.out.println(&quot;\\nPlease set the admin credentials for this web application (will be required when browsing to the web application)&quot;);\r\n\t\t    Console console = System.console();\r\n    \t\r\n\t\t    // Read the credentials from the user console: \r\n\t\t    // Note: \r\n\t\t    // Console supports password masking, but is not supported in IDEs such as eclipse; \r\n\t\t    // thus if in IDE (where console == null) use scanner instead:\r\n\t\t    if (console == null) {\r\n\t\t\t    // Use scanner:\r\n\t\t\t    Scanner scanner = new Scanner(System.in);\r\n\t\t\t    while (true) {\r\n\t        \t    System.out.print(&quot;Username: &quot;);\r\n\t        \t    username = scanner.nextLine();\r\n\t                System.out.print(&quot;Password: &quot;);\r\n\t                password = scanner.nextLine();\r\n\t                System.out.print(&quot;Confirm Password: &quot;);\r\n\t                String inputPasswordConfirm = scanner.nextLine();\r\n\t          \r\n\t                if (username.isEmpty()) {\r\n\t            \t    System.out.println(&quot;Error: user must be set - please try again&quot;);\r\n\t                } else if (password.isEmpty()) {\r\n\t            \t    System.out.println(&quot;Error: password must be set - please try again&quot;);\r\n\t                } else if (!password.equals(inputPasswordConfirm)) {\r\n\t            \t    System.out.println(&quot;Error: password and password confirm do not match - please try again&quot;);\r\n\t                } else {\r\n\t            \t    log.info(&quot;Setting the in-memory security using the provided credentials...&quot;);\r\n\t            \t    break;\r\n\t                }\r\n\t                System.out.println(&quot;&quot;);\r\n\t            }\r\n\t            scanner.close();\r\n\t\t    } else {\r\n\t\t\t    // Use Console\r\n\t\t\t    while (true) {\r\n\t        \t    username = console.readLine(&quot;Username: &quot;);\r\n\t        \t    char[] passwordChars = console.readPassword(&quot;Password: &quot;);\r\n\t        \t    password = String.valueOf(passwordChars);\r\n\t                char[] passwordConfirmChars = console.readPassword(&quot;Confirm Password: &quot;);\r\n\t                String passwordConfirm = String.valueOf(passwordConfirmChars);\r\n\t            \r\n\t                if (username.isEmpty()) {\r\n\t            \t    System.out.println(&quot;Error: Username must be set - please try again&quot;);\r\n\t                } else if (password.isEmpty()) {\r\n\t            \t    System.out.println(&quot;Error: Password must be set - please try again&quot;);\r\n\t                } else if (!password.equals(passwordConfirm)) {\r\n\t            \t    System.out.println(&quot;Error: Password and Password Confirm do not match - please try again&quot;);\r\n\t                } else {\r\n\t            \t    log.info(&quot;Setting the in-memory security using the provided credentials...&quot;);\r\n\t            \t    break;\r\n\t                }\r\n\t                System.out.println(&quot;&quot;);\r\n\t            }\r\n\t\t    }\r\n\t\t\r\n\t\t    // Set the inMemoryAuthentication object with the given credentials:\r\n\t\t    InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n\t        if (username != null &amp;&amp; password != null) {\r\n\t\t\t    String encodedPassword = passwordEncoder().encode(password);\r\n                manager.createUser(User.withUsername(username).password(encodedPassword).roles(&quot;USER&quot;).build());\r\n\t\t    }\r\n\t        return manager;\r\n\t    }\r\n\t    \r\n\t    @Bean\r\n\t    public PasswordEncoder passwordEncoder() {\r\n\t        return new BCryptPasswordEncoder();\r\n\t    }\r\n    }\r\n\t\r\n\t","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p><strong>You can also ask the user for the credentials and set them dynamically once the server starts (very effective when you need to publish the solution on a customer environment):</strong></p>\n\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig {\n\n    private static final Logger log = LogManager.getLogger();\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        log.info(\"Setting in-memory security using the user input...\");\n\n        Scanner scanner = new Scanner(System.in);\n        String inputUser = null;\n        String inputPassword = null;\n        System.out.println(\"\\nPlease set the admin credentials for this web application\");\n        while (true) {\n            System.out.print(\"user: \");\n            inputUser = scanner.nextLine();\n            System.out.print(\"password: \");\n            inputPassword = scanner.nextLine();\n            System.out.print(\"confirm password: \");\n            String inputPasswordConfirm = scanner.nextLine();\n\n            if (inputUser.isEmpty()) {\n                System.out.println(\"Error: user must be set - please try again\");\n            } else if (inputPassword.isEmpty()) {\n                System.out.println(\"Error: password must be set - please try again\");\n            } else if (!inputPassword.equals(inputPasswordConfirm)) {\n                System.out.println(\"Error: password and password confirm do not match - please try again\");\n            } else {\n                log.info(\"Setting the in-memory security using the provided credentials...\");\n                break;\n            }\n            System.out.println(\"\");\n        }\n        scanner.close();\n\n        if (inputUser != null &amp;&amp; inputPassword != null) {\n             auth.inMemoryAuthentication()\n                .withUser(inputUser)\n                .password(inputPassword)\n                .roles(\"USER\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>(May 2018) An update - this will work on spring boot 2.x:</strong></p>\n\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final Logger log = LogManager.getLogger();\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // Note: \n        // Use this to enable the tomcat basic authentication (tomcat popup rather than spring login page)\n        // Note that the CSRf token is disabled for all requests\n        log.info(\"Disabling CSRF, enabling basic authentication...\");\n        http\n        .authorizeRequests()\n            .antMatchers(\"/**\").authenticated() // These urls are allowed by any authenticated user\n        .and()\n            .httpBasic();\n        http.csrf().disable();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        log.info(\"Setting in-memory security using the user input...\");\n\n        String username = null;\n        String password = null;\n\n        System.out.println(\"\\nPlease set the admin credentials for this web application (will be required when browsing to the web application)\");\n        Console console = System.console();\n\n        // Read the credentials from the user console: \n        // Note: \n        // Console supports password masking, but is not supported in IDEs such as eclipse; \n        // thus if in IDE (where console == null) use scanner instead:\n        if (console == null) {\n            // Use scanner:\n            Scanner scanner = new Scanner(System.in);\n            while (true) {\n                System.out.print(\"Username: \");\n                username = scanner.nextLine();\n                System.out.print(\"Password: \");\n                password = scanner.nextLine();\n                System.out.print(\"Confirm Password: \");\n                String inputPasswordConfirm = scanner.nextLine();\n\n                if (username.isEmpty()) {\n                    System.out.println(\"Error: user must be set - please try again\");\n                } else if (password.isEmpty()) {\n                    System.out.println(\"Error: password must be set - please try again\");\n                } else if (!password.equals(inputPasswordConfirm)) {\n                    System.out.println(\"Error: password and password confirm do not match - please try again\");\n                } else {\n                    log.info(\"Setting the in-memory security using the provided credentials...\");\n                    break;\n                }\n                System.out.println(\"\");\n            }\n            scanner.close();\n        } else {\n            // Use Console\n            while (true) {\n                username = console.readLine(\"Username: \");\n                char[] passwordChars = console.readPassword(\"Password: \");\n                password = String.valueOf(passwordChars);\n                char[] passwordConfirmChars = console.readPassword(\"Confirm Password: \");\n                String passwordConfirm = String.valueOf(passwordConfirmChars);\n\n                if (username.isEmpty()) {\n                    System.out.println(\"Error: Username must be set - please try again\");\n                } else if (password.isEmpty()) {\n                    System.out.println(\"Error: Password must be set - please try again\");\n                } else if (!password.equals(passwordConfirm)) {\n                    System.out.println(\"Error: Password and Password Confirm do not match - please try again\");\n                } else {\n                    log.info(\"Setting the in-memory security using the provided credentials...\");\n                    break;\n                }\n                System.out.println(\"\");\n            }\n        }\n\n        // Set the inMemoryAuthentication object with the given credentials:\n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n        if (username != null &amp;&amp; password != null) {\n            String encodedPassword = passwordEncoder().encode(password);\n            manager.createUser(User.withUsername(username).password(encodedPassword).roles(\"USER\").build());\n        }\n        return manager;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1362142,"reputation":691,"user_id":1299301,"display_name":"gdecaso"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1524939815,"creation_date":1524939815,"answer_id":50079755,"question_id":37285016,"body_markdown":"If you can&#39;t find the password based on other answers that point to a default one, the log message wording in recent versions changed to\r\n\r\n    Using generated security password: &lt;some UUID&gt;\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>If you can't find the password based on other answers that point to a default one, the log message wording in recent versions changed to</p>\n\n<pre><code>Using generated security password: &lt;some UUID&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1554444386,"creation_date":1554444386,"answer_id":55529157,"question_id":37285016,"body_markdown":"Addition to accepted answer -\r\n\r\nIf password not seen in logs, enable &quot;org.springframework.boot.autoconfigure.security&quot; logs.\r\n\r\n&gt; If you fine-tune your logging configuration, ensure that the\r\n&gt; org.springframework.boot.autoconfigure.security category is set to log\r\n&gt; INFO messages, otherwise the default password will not be printed.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>Addition to accepted answer -</p>\n\n<p>If password not seen in logs, enable \"org.springframework.boot.autoconfigure.security\" logs.</p>\n\n<blockquote>\n  <p>If you fine-tune your logging configuration, ensure that the\n  org.springframework.boot.autoconfigure.security category is set to log\n  INFO messages, otherwise the default password will not be printed.</p>\n</blockquote>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security</a></p>\n"},{"tags":[],"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1563623826,"creation_date":1563623826,"answer_id":57124466,"question_id":37285016,"body_markdown":"When overriding\r\n```\r\nspring.security.user.name=\r\nspring.security.user.password=\r\n```\r\nin **application.properties**, you don&#39;t need `&quot;` around `&quot;username&quot;`, just use `username`. Another point, instead of storing *raw password*, encrypt it with **bcrypt/scrypt** and store it like \r\n```\r\nspring.security.user.password={bcrypt}encryptedPassword\r\n```\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>When overriding</p>\n\n<pre><code>spring.security.user.name=\nspring.security.user.password=\n</code></pre>\n\n<p>in <strong>application.properties</strong>, you don't need <code>\"</code> around <code>\"username\"</code>, just use <code>username</code>. Another point, instead of storing <em>raw password</em>, encrypt it with <strong>bcrypt/scrypt</strong> and store it like </p>\n\n<pre><code>spring.security.user.password={bcrypt}encryptedPassword\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7361010,"reputation":185,"user_id":5604291,"display_name":"VicXj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1577376882,"creation_date":1577376882,"answer_id":59490838,"question_id":37285016,"body_markdown":"When I started learning Spring Security, then I overrided the method **userDetailsService()** as in below code snippet:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class ApplicationSecurityConfiguration extends WebSecurityConfigurerAdapter{\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;, &quot;/index&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .httpBasic();\r\n        }\r\n        \r\n        @Override\r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n        \tList&lt;UserDetails&gt; users= new ArrayList&lt;UserDetails&gt;();\r\n        \tusers.add(User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;nimda&quot;).roles(&quot;USER&quot;,&quot;ADMIN&quot;).build());\r\n        \tusers.add(User.withDefaultPasswordEncoder().username(&quot;Spring&quot;).password(&quot;Security&quot;).roles(&quot;USER&quot;).build());\r\n        \treturn new InMemoryUserDetailsManager(users);\r\n        }\r\n    }\r\n\r\nSo we can log in to the application using the above-mentioned creds. (e.g. admin/nimda)\r\n\r\n**Note: This we should not use in production.**\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>When I started learning Spring Security, then I overrided the method <strong>userDetailsService()</strong> as in below code snippet:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ApplicationSecurityConfiguration extends WebSecurityConfigurerAdapter{\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(\"/\", \"/index\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic();\n    }\n\n    @Override\n    @Bean\n    public UserDetailsService userDetailsService() {\n        List&lt;UserDetails&gt; users= new ArrayList&lt;UserDetails&gt;();\n        users.add(User.withDefaultPasswordEncoder().username(\"admin\").password(\"nimda\").roles(\"USER\",\"ADMIN\").build());\n        users.add(User.withDefaultPasswordEncoder().username(\"Spring\").password(\"Security\").roles(\"USER\").build());\n        return new InMemoryUserDetailsManager(users);\n    }\n}\n</code></pre>\n\n<p>So we can log in to the application using the above-mentioned creds. (e.g. admin/nimda)</p>\n\n<p><strong>Note: This we should not use in production.</strong></p>\n"},{"tags":[],"owner":{"account_id":4134530,"reputation":395,"user_id":3391460,"display_name":"Manas Ranjan Mahapatra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1584452747,"creation_date":1584452747,"answer_id":60723681,"question_id":37285016,"body_markdown":"Try to take username and password from below code snipet in your project and login and hope this will work.\r\n\r\n    @Override\r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            List&lt;UserDetails&gt; users= new ArrayList&lt;UserDetails&gt;();\r\n            users.add(User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;admin&quot;).roles(&quot;USER&quot;,&quot;ADMIN&quot;).build());\r\n            users.add(User.withDefaultPasswordEncoder().username(&quot;spring&quot;).password(&quot;spring&quot;).roles(&quot;USER&quot;).build());\r\n            return new UserDetailsManager(users);\r\n        }","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>Try to take username and password from below code snipet in your project and login and hope this will work.</p>\n\n<pre><code>@Override\n    @Bean\n    public UserDetailsService userDetailsService() {\n        List&lt;UserDetails&gt; users= new ArrayList&lt;UserDetails&gt;();\n        users.add(User.withDefaultPasswordEncoder().username(\"admin\").password(\"admin\").roles(\"USER\",\"ADMIN\").build());\n        users.add(User.withDefaultPasswordEncoder().username(\"spring\").password(\"spring\").roles(\"USER\").build());\n        return new UserDetailsManager(users);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14368925,"reputation":206,"user_id":10379192,"display_name":"ARMEL FOPA"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1610196954,"creation_date":1610196954,"answer_id":65642868,"question_id":37285016,"body_markdown":"For a start simply add the following to your application.properties file\r\n\r\n    spring.security.user.name=user\r\n    spring.security.user.password=pass\r\n\r\nNB: with no double quote\r\n\r\nRun your application and enter the credentials (user, pass)\r\n\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>For a start simply add the following to your application.properties file</p>\n<pre><code>spring.security.user.name=user\nspring.security.user.password=pass\n</code></pre>\n<p>NB: with no double quote</p>\n<p>Run your application and enter the credentials (user, pass)</p>\n"},{"tags":[],"owner":{"account_id":6083109,"reputation":2563,"user_id":4748172,"display_name":"Ryan H."},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653106338,"creation_date":1653106338,"answer_id":72326599,"question_id":37285016,"body_markdown":"As of Spring Security version 5.7.1, the default username is `user` and the password is randomly generated and displayed in the console (e.g. `8e557245-73e2-4286-969a-ff57fe326336`).\r\n\r\nPlease see the documentation for further details:\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/getting-started.html\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>As of Spring Security version 5.7.1, the default username is <code>user</code> and the password is randomly generated and displayed in the console (e.g. <code>8e557245-73e2-4286-969a-ff57fe326336</code>).</p>\n<p>Please see the documentation for further details:</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/getting-started.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/getting-started.html</a></p>\n"},{"tags":[],"owner":{"account_id":16241816,"reputation":41,"user_id":11727924,"display_name":"Nazia Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692725228,"creation_date":1692717098,"answer_id":76954694,"question_id":37285016,"body_markdown":"Ref- [Spring Boot 3 + Spring Security 6 Default username password generation in depth][1]&lt;br&gt;\r\nWhen we start the spring boot application which has spring security dependency \r\nas follows-\r\n\r\n           &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\nThen **UserDetailsServiceAutoConfiguration** creates a custom Spring Security User class with default username user and generated password. This Spring Security User class is then provided to InMemoryUserDetailsManager. \r\n[![enter image description here][2]][2]\r\nIf the user creates its own UserDetailsService bean, then the UserDetailsServiceAutoConfiguration gets automatically disabled. In this case we pass the new created user to be used by the InMemoryUserDetailsManager.&lt;br&gt;\r\nWith the new **Spring Boot 3 + Spring Security 6** configuration the code snippet for this is\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n    \r\n    \t@Bean\r\n    \tSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp.formLogin();\r\n    \t\thttp.authorizeHttpRequests().anyRequest().authenticated();\r\n    \t\treturn http.build();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tUserDetailsService userDetailsService() {\r\n    \t\tInMemoryUserDetailsManager userDetailsService = new InMemoryUserDetailsManager();\r\n    \t\tUserDetails user = User.withUsername(&quot;javainuse&quot;).password(&quot;javainuse&quot;).authorities(&quot;read&quot;).build();\r\n    \t\tuserDetailsService.createUser(user);\r\n    \t\treturn userDetailsService;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://www.javainuse.com/boot3/sec/3\r\n  [2]: https://i.stack.imgur.com/jnNzW.png","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>Ref- <a href=\"https://www.javainuse.com/boot3/sec/3\" rel=\"nofollow noreferrer\">Spring Boot 3 + Spring Security 6 Default username password generation in depth</a><br>\nWhen we start the spring boot application which has spring security dependency\nas follows-</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Then <strong>UserDetailsServiceAutoConfiguration</strong> creates a custom Spring Security User class with default username user and generated password. This Spring Security User class is then provided to InMemoryUserDetailsManager.\n<a href=\"https://i.stack.imgur.com/jnNzW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jnNzW.png\" alt=\"enter image description here\" /></a>\nIf the user creates its own UserDetailsService bean, then the UserDetailsServiceAutoConfiguration gets automatically disabled. In this case we pass the new created user to be used by the InMemoryUserDetailsManager.<br>\nWith the new <strong>Spring Boot 3 + Spring Security 6</strong> configuration the code snippet for this is</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.formLogin();\n        http.authorizeHttpRequests().anyRequest().authenticated();\n        return http.build();\n    }\n    \n    @Bean\n    UserDetailsService userDetailsService() {\n        InMemoryUserDetailsManager userDetailsService = new InMemoryUserDetailsManager();\n        UserDetails user = User.withUsername(&quot;javainuse&quot;).password(&quot;javainuse&quot;).authorities(&quot;read&quot;).build();\n        userDetailsService.createUser(user);\n        return userDetailsService;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8372605,"reputation":3511,"user_id":6287214,"accept_rate":62,"display_name":"Gustavo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312750,"favorite_count":0,"down_vote_count":1,"up_vote_count":193,"accepted_answer_id":37288790,"answer_count":11,"score":192,"last_activity_date":1692725228,"creation_date":1463514361,"question_id":37285016,"body_markdown":"When I deploy my Spring application via Spring Boot and access `localhost:8080` I have to authenticate, but what is the username and password or how can I set it?  I tried to add this to my `tomcat-users` file but it didn&#39;t work: \r\n\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    \t&lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui&quot;/&gt;\r\n\r\nThis is the starting point of the application:\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n    }\r\n\r\nAnd this is the Tomcat dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHow do I authenticate on `localhost:8080`?","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>When I deploy my Spring application via Spring Boot and access <code>localhost:8080</code> I have to authenticate, but what is the username and password or how can I set it?  I tried to add this to my <code>tomcat-users</code> file but it didn't work: </p>\n\n<pre><code>&lt;role rolename=\"manager-gui\"/&gt;\n    &lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui\"/&gt;\n</code></pre>\n\n<p>This is the starting point of the application:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n}\n</code></pre>\n\n<p>And this is the Tomcat dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>How do I authenticate on <code>localhost:8080</code>?</p>\n"},{"tags":["java","finance","apache-commons","yield"],"owner":{"account_id":20535289,"reputation":1,"user_id":15071537,"display_name":"whyt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692725206,"creation_date":1692725206,"question_id":76955612,"body_markdown":"I have this error when calculating the yield to maturity of coupon based bonds, I have all the templates that I need and tested them, no problem in there, but when I tried to run it gave me an error:\r\n\r\n&gt; Exception in thread &quot;main&quot; org.apache.commons.math3.exception.NoBracketingException: function values at endpoints do not have different signs, endpoints: \\[0, 0.9\\], values: \\[4.5, 19.138\\]\r\n&gt; at org.apache.commons.math3.analysis.solvers.BrentSolver.doSolve(BrentSolver.java:132)\r\n&gt; at org.apache.commons.math3.analysis.solvers.BaseAbstractUnivariateSolver.solve(BaseAbstractUnivariateSolver.java:199)\r\n&gt; at Pack1.YTM.calculateYTM(YTM.java:54)\r\n&gt; at Pack1.YTM.calculateYTMForAllSeries(YTM.java:60)\r\n&gt; at Pack1.MainApp.main(MainApp.java:21)\r\n\r\nTried to change bounds and initialGuess but it still don&#39;t work, does it have any logic issue that I missed?\r\n\r\n```\r\nUnivariateFunction function = new UnivariateFunction() {\r\n            @Override\r\n            public double value(double r) {\r\n                double sum = 0.0;\r\n                for (double j = 1; j &lt;= maturity * frequency; j++) {\r\n                    sum += (CouponPayment / frequency) / Math.pow(1 + r / frequency, j);\r\n                }\r\n                sum += FaceValue / Math.pow(1 + r / frequency, maturity * frequency);\r\n                return Price - sum;\r\n            }\r\n        };\r\n        \r\n        UnivariateSolver solver = new BrentSolver();\r\n        double lowerBound = 0.0; // Lower bound\r\n        double upperBound = 0.9; // Upper bound\r\n        double initialGuess = 0.01; // Initial guess\r\n\r\n        double ytm = solver.solve(1000, function, lowerBound, upperBound, initialGuess);\r\n        return ytm; // yield\r\n    }\r\n```","title":"Yield to Maturity using BrentSolver","body":"<p>I have this error when calculating the yield to maturity of coupon based bonds, I have all the templates that I need and tested them, no problem in there, but when I tried to run it gave me an error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.apache.commons.math3.exception.NoBracketingException: function values at endpoints do not have different signs, endpoints: [0, 0.9], values: [4.5, 19.138]\nat org.apache.commons.math3.analysis.solvers.BrentSolver.doSolve(BrentSolver.java:132)\nat org.apache.commons.math3.analysis.solvers.BaseAbstractUnivariateSolver.solve(BaseAbstractUnivariateSolver.java:199)\nat Pack1.YTM.calculateYTM(YTM.java:54)\nat Pack1.YTM.calculateYTMForAllSeries(YTM.java:60)\nat Pack1.MainApp.main(MainApp.java:21)</p>\n</blockquote>\n<p>Tried to change bounds and initialGuess but it still don't work, does it have any logic issue that I missed?</p>\n<pre><code>UnivariateFunction function = new UnivariateFunction() {\n            @Override\n            public double value(double r) {\n                double sum = 0.0;\n                for (double j = 1; j &lt;= maturity * frequency; j++) {\n                    sum += (CouponPayment / frequency) / Math.pow(1 + r / frequency, j);\n                }\n                sum += FaceValue / Math.pow(1 + r / frequency, maturity * frequency);\n                return Price - sum;\n            }\n        };\n        \n        UnivariateSolver solver = new BrentSolver();\n        double lowerBound = 0.0; // Lower bound\n        double upperBound = 0.9; // Upper bound\n        double initialGuess = 0.01; // Initial guess\n\n        double ytm = solver.solve(1000, function, lowerBound, upperBound, initialGuess);\n        return ytm; // yield\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"score":0,"creation_date":1502148320,"post_id":45556821,"comment_id":78074128,"body_markdown":"suppose this [post](https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat) may be helpful and have a solution for what you are expecting.","body":"suppose this <a href=\"https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat\">post</a> may be helpful and have a solution for what you are expecting."},{"owner":{"account_id":322487,"reputation":7497,"user_id":641914,"accept_rate":88,"display_name":"Graham"},"score":1,"creation_date":1502152871,"post_id":45556821,"comment_id":78075059,"body_markdown":"Possible duplicate of [What is username and password when starting Spring Boot with Tomcat?](https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat\">What is username and password when starting Spring Boot with Tomcat?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5858283,"reputation":4931,"user_id":4614870,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1502148420,"creation_date":1502146690,"answer_id":45556859,"question_id":45556821,"body_markdown":"This is [straight from the docs][1]:\r\n\r\nCreate a configuration class:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class HelloWebSecurityConfiguration\r\n       extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Autowired\r\n      public void configureGlobal(AuthenticationManagerBuilder auth) {\r\n        auth\r\n          .inMemoryAuthentication()\r\n            .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;);\r\n      }\r\n    }\r\n\r\n[Newer Docs][2]\r\n\r\nThis is slightly different, but the effect would be the same:\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Bean\r\n    \tpublic UserDetailsService userDetailsService() throws Exception {\r\n    \t\tInMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n    \t\tmanager.createUser(User.withUsername(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;).build());\r\n    \t\treturn manager;\r\n    \t}\r\n    }\r\n\r\n[1]:https://spring.io/blog/2013/07/03/spring-security-java-config-preview-web-security/#websecurityconfigureradapter\r\n[2]:https://docs.spring.io/spring-security/site/docs/current/reference/html/jc.html#hello-web-security-java-configuration","title":"Spring Security: How to change default user and password?","body":"<p>This is <a href=\"https://spring.io/blog/2013/07/03/spring-security-java-config-preview-web-security/#websecurityconfigureradapter\" rel=\"noreferrer\">straight from the docs</a>:</p>\n\n<p>Create a configuration class:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class HelloWebSecurityConfiguration\n   extends WebSecurityConfigurerAdapter {\n\n  @Autowired\n  public void configureGlobal(AuthenticationManagerBuilder auth) {\n    auth\n      .inMemoryAuthentication()\n        .withUser(\"user\").password(\"password\").roles(\"USER\");\n  }\n}\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/jc.html#hello-web-security-java-configuration\" rel=\"noreferrer\">Newer Docs</a></p>\n\n<p>This is slightly different, but the effect would be the same:</p>\n\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public UserDetailsService userDetailsService() throws Exception {\n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n        manager.createUser(User.withUsername(\"user\").password(\"password\").roles(\"USER\").build());\n        return manager;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10436649,"reputation":5754,"user_id":7694740,"display_name":"Juan Carlos Mendoza"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1690675671,"creation_date":1502149362,"answer_id":45557186,"question_id":45556821,"body_markdown":"This can be easly done in your `application.properties` file:\r\n\r\n    spring.security.user.name=user # Default user name.\r\n    spring.security.user.password= # Password\r\n    spring.security.user.roles=    # A comma separated list of roles\r\n\r\nCovered at the [Common Application Properties - Security Properties](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.security) documentation.","title":"Spring Security: How to change default user and password?","body":"<p>This can be easly done in your <code>application.properties</code> file:</p>\n<pre><code>spring.security.user.name=user # Default user name.\nspring.security.user.password= # Password\nspring.security.user.roles=    # A comma separated list of roles\n</code></pre>\n<p>Covered at the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.security\" rel=\"nofollow noreferrer\">Common Application Properties - Security Properties</a> documentation.</p>\n"},{"tags":[],"owner":{"account_id":14063539,"reputation":61,"user_id":10158955,"display_name":"Santosh G P"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533021639,"creation_date":1533021639,"answer_id":51607591,"question_id":45556821,"body_markdown":"    #add these lines in application.properties\r\n        spring.security.user.name=username\r\n        spring.security.user.password=password","title":"Spring Security: How to change default user and password?","body":"<pre><code>#add these lines in application.properties\n    spring.security.user.name=username\n    spring.security.user.password=password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14428194,"reputation":9,"user_id":10422260,"display_name":"sonal dadarya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1538028686,"creation_date":1538027410,"answer_id":52530234,"question_id":45556821,"body_markdown":"Add below properties in `application.properties` \r\n\r\n    spring.security.user.name= user_name\r\n    spring.security.user.password= user_password\r\n\r\nwhere &quot;`user_name`&quot; will be the user and &quot;`user_password`&quot; will be the password.","title":"Spring Security: How to change default user and password?","body":"<p>Add below properties in <code>application.properties</code> </p>\n\n<pre><code>spring.security.user.name= user_name\nspring.security.user.password= user_password\n</code></pre>\n\n<p>where \"<code>user_name</code>\" will be the user and \"<code>user_password</code>\" will be the password.</p>\n"},{"tags":[],"owner":{"account_id":3295825,"reputation":2301,"user_id":2773112,"accept_rate":50,"display_name":"nkalra0123"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1568208379,"creation_date":1568208379,"answer_id":57890291,"question_id":45556821,"body_markdown":"These will not work with old version of spring boot, I was using 1.5.11.RELEASE and these properties were not working, After moving to 2.1.8.RELEASE, these properties work fine. \r\n\r\ncheck your pom.xml\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n\r\n    spring.security.user.name=username\r\n    spring.security.user.password=password","title":"Spring Security: How to change default user and password?","body":"<p>These will not work with old version of spring boot, I was using 1.5.11.RELEASE and these properties were not working, After moving to 2.1.8.RELEASE, these properties work fine. </p>\n\n<p>check your pom.xml</p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\nspring.security.user.name=username\nspring.security.user.password=password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672809216,"creation_date":1672809216,"answer_id":75001199,"question_id":45556821,"body_markdown":"Set these 2 properties in your application.yml &lt;br/&gt;\r\n```\r\nspring.security.user.name=user_name\r\nspring.security.user.password=user_password\r\n```\r\n&lt;b&gt; Now how does this work &lt;br/&gt; &lt;/b&gt;\r\nIf you search for ```SecurityProperties.java``` inside this class you will see that these 2 properties have default value as \r\n```\r\nString user = user;\r\nString password = UUID.randomUUID().toString();\r\n```\r\nWhich are default credential for spring security\r\nSo we are basically override the default by setting those properties manually","title":"Spring Security: How to change default user and password?","body":"<p>Set these 2 properties in your application.yml <br/></p>\n<pre><code>spring.security.user.name=user_name\nspring.security.user.password=user_password\n</code></pre>\n<p><b> Now how does this work <br/> </b>\nIf you search for <code>SecurityProperties.java</code> inside this class you will see that these 2 properties have default value as</p>\n<pre><code>String user = user;\nString password = UUID.randomUUID().toString();\n</code></pre>\n<p>Which are default credential for spring security\nSo we are basically override the default by setting those properties manually</p>\n"},{"tags":[],"owner":{"account_id":16241816,"reputation":41,"user_id":11727924,"display_name":"Nazia Shaikh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692725193,"creation_date":1692691899,"answer_id":76951311,"question_id":45556821,"body_markdown":"Ref-[Spring Boot 3 + Security - Change Default Password (Set Custom Credentials)][1]&lt;br&gt;\r\nWith **Spring Boot 3 and Spring Security 6**, the configuration to have a custom username and password will be as follows-\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n    \r\n    \t@Bean\r\n    \tSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp.formLogin();\r\n    \t\thttp.authorizeHttpRequests().anyRequest().authenticated();\r\n    \t\treturn http.build();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tUserDetailsService userDetailsService() {\r\n    \t\tInMemoryUserDetailsManager userDetailsService = new InMemoryUserDetailsManager();\r\n    \t\tUserDetails user = User.withUsername(&quot;javainuse&quot;).password(&quot;javainuse&quot;).authorities(&quot;read&quot;).build();\r\n    \t\tuserDetailsService.createUser(user);\r\n    \t\treturn userDetailsService;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.javainuse.com/boot3/sec/3","title":"Spring Security: How to change default user and password?","body":"<p>Ref-<a href=\"https://www.javainuse.com/boot3/sec/3\" rel=\"nofollow noreferrer\">Spring Boot 3 + Security - Change Default Password (Set Custom Credentials)</a><br>\nWith <strong>Spring Boot 3 and Spring Security 6</strong>, the configuration to have a custom username and password will be as follows-</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.formLogin();\n        http.authorizeHttpRequests().anyRequest().authenticated();\n        return http.build();\n    }\n    \n    @Bean\n    UserDetailsService userDetailsService() {\n        InMemoryUserDetailsManager userDetailsService = new InMemoryUserDetailsManager();\n        UserDetails user = User.withUsername(&quot;javainuse&quot;).password(&quot;javainuse&quot;).authorities(&quot;read&quot;).build();\n        userDetailsService.createUser(user);\n        return userDetailsService;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11504541,"reputation":91,"user_id":8431235,"display_name":"ahmedmess"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22093,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1692725193,"creation_date":1502146448,"question_id":45556821,"body_markdown":"I have Spring Security in my pom.xml, and Spring Security is automatically configured with a default user and generated password:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHow do I change the default user and password?","title":"Spring Security: How to change default user and password?","body":"<p>I have Spring Security in my pom.xml, and Spring Security is automatically configured with a default user and generated password:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>How do I change the default user and password?</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1692717933,"post_id":76954329,"comment_id":135661054,"body_markdown":"I think it would help to turn antialiasing on.","body":"I think it would help to turn antialiasing on."}],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692724873,"creation_date":1692724177,"answer_id":76955489,"question_id":76954329,"body_markdown":"Using antialiasing can help smoothen out the edges for you, and you should get something looking like this -&gt;\r\n\r\n[![][1]][1]\r\n\r\nHere&#39;s what you need to do -&gt;\r\n```\r\n...\r\nGraphics2D g2 = (Graphics2D) g;\r\nInsets b = progressBar.getInsets(); // Border insets\r\nint barRectWidth = progressBar.getWidth() - b.right - b.left;\r\nint barRectHeight = progressBar.getHeight() - b.top - b.bottom;\r\n            \r\nRenderingHints hints = new RenderingHints(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\ng2.setRenderingHints(hints);\r\n\r\ng2.setColor(progressBar.getBackground());\r\nShape shapeBg = new RoundRectangle2D.Double(0, 0, barRectWidth, barRectHeight, arcWidth, arcHeight);\r\ng2.fill(shapeBg);\r\n...\r\n```\r\nFor more details check out [Controlling Rendering Quality][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NpaTu.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/2d/advanced/quality.html","title":"How do i fix uneveness of RoundRectangle2d?","body":"<p>Using antialiasing can help smoothen out the edges for you, and you should get something looking like this -&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/NpaTu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpaTu.png\" alt=\"\" /></a></p>\n<p>Here's what you need to do -&gt;</p>\n<pre><code>...\nGraphics2D g2 = (Graphics2D) g;\nInsets b = progressBar.getInsets(); // Border insets\nint barRectWidth = progressBar.getWidth() - b.right - b.left;\nint barRectHeight = progressBar.getHeight() - b.top - b.bottom;\n            \nRenderingHints hints = new RenderingHints(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\ng2.setRenderingHints(hints);\n\ng2.setColor(progressBar.getBackground());\nShape shapeBg = new RoundRectangle2D.Double(0, 0, barRectWidth, barRectHeight, arcWidth, arcHeight);\ng2.fill(shapeBg);\n...\n</code></pre>\n<p>For more details check out <a href=\"https://docs.oracle.com/javase/tutorial/2d/advanced/quality.html\" rel=\"nofollow noreferrer\">Controlling Rendering Quality</a></p>\n"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692724873,"creation_date":1692714737,"question_id":76954329,"body_markdown":"I have a this piece of code to add a rounded JProgressBar to a JPanel:\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.plaf.basic.BasicProgressBarUI;\r\n    import java.awt.*;\r\n    import java.awt.geom.RoundRectangle2D;\r\n\r\n    public class RoundedProgressBar extends JProgressBar {\r\n        public RoundedProgressBar() {\r\n            setOpaque(false); // Make the progress bar transparent\r\n            setBorder(BorderFactory.createEmptyBorder(0, 0, 0, 0)); // Add padding\r\n            setUI(new RoundedProgressBarUI());\r\n        }\r\n\r\n        private class RoundedProgressBarUI extends BasicProgressBarUI {\r\n            @Override\r\n            protected void paintDeterminate(Graphics g, JComponent c) {\r\n                int arcWidth = 10;\r\n                int arcHeight = 10;\r\n\r\n                Graphics2D g2 = (Graphics2D) g;\r\n                Insets b = progressBar.getInsets(); // Border insets\r\n                int barRectWidth = progressBar.getWidth() - b.right - b.left;\r\n                int barRectHeight = progressBar.getHeight() - b.top - b.bottom;\r\n\r\n                // Fill the progress bar background with the background color\r\n                g2.setColor(progressBar.getBackground());\r\n                Shape shapeBg = new RoundRectangle2D.Double(0, 0, barRectWidth, barRectHeight, arcWidth, arcHeight);\r\n                g2.fill(shapeBg);\r\n\r\n                // Fill the progress bar with the progress color\r\n                int amountFull = getAmountFull(b, barRectWidth, barRectHeight);\r\n                g2.setColor(progressBar.getForeground());\r\n                Shape shape = new RoundRectangle2D.Double(0, 0, amountFull, barRectHeight, arcWidth, arcHeight);\r\n                g2.fill(shape);\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see from the image below it looks ok, but I can clearly see that the right side of the RoundRecangle is different from the left side. Any tips on how to fix it?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xy1vU.png","title":"How do i fix uneveness of RoundRectangle2d?","body":"<p>I have a this piece of code to add a rounded JProgressBar to a JPanel:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.plaf.basic.BasicProgressBarUI;\nimport java.awt.*;\nimport java.awt.geom.RoundRectangle2D;\n\npublic class RoundedProgressBar extends JProgressBar {\n    public RoundedProgressBar() {\n        setOpaque(false); // Make the progress bar transparent\n        setBorder(BorderFactory.createEmptyBorder(0, 0, 0, 0)); // Add padding\n        setUI(new RoundedProgressBarUI());\n    }\n\n    private class RoundedProgressBarUI extends BasicProgressBarUI {\n        @Override\n        protected void paintDeterminate(Graphics g, JComponent c) {\n            int arcWidth = 10;\n            int arcHeight = 10;\n\n            Graphics2D g2 = (Graphics2D) g;\n            Insets b = progressBar.getInsets(); // Border insets\n            int barRectWidth = progressBar.getWidth() - b.right - b.left;\n            int barRectHeight = progressBar.getHeight() - b.top - b.bottom;\n\n            // Fill the progress bar background with the background color\n            g2.setColor(progressBar.getBackground());\n            Shape shapeBg = new RoundRectangle2D.Double(0, 0, barRectWidth, barRectHeight, arcWidth, arcHeight);\n            g2.fill(shapeBg);\n\n            // Fill the progress bar with the progress color\n            int amountFull = getAmountFull(b, barRectWidth, barRectHeight);\n            g2.setColor(progressBar.getForeground());\n            Shape shape = new RoundRectangle2D.Double(0, 0, amountFull, barRectHeight, arcWidth, arcHeight);\n            g2.fill(shape);\n        }\n    }\n}\n</code></pre>\n<p>As you can see from the image below it looks ok, but I can clearly see that the right side of the RoundRecangle is different from the left side. Any tips on how to fix it?</p>\n<p><a href=\"https://i.stack.imgur.com/Xy1vU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xy1vU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","yaml","quarkus","open-telemetry","open-telemetry-collector"],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692724681,"creation_date":1692724681,"answer_id":76955553,"question_id":76845868,"body_markdown":"Quarkus does not yet supports OpenTelemetry logging. Not sure why you are mixing logs and traces in this question.\r\n\r\nIn relation to traces, the config you are setting there is the equivalent to: `quarkus.opentelemetry.tracer.sampler=off`\r\n... And it will effectively disable all traces. \r\n\r\nSee: https://quarkus.io/version/2.13/guides/opentelemetry#sampler\r\n","title":"Quarkus opentelemetry sampler","body":"<p>Quarkus does not yet supports OpenTelemetry logging. Not sure why you are mixing logs and traces in this question.</p>\n<p>In relation to traces, the config you are setting there is the equivalent to: <code>quarkus.opentelemetry.tracer.sampler=off</code>\n... And it will effectively disable all traces.</p>\n<p>See: <a href=\"https://quarkus.io/version/2.13/guides/opentelemetry#sampler\" rel=\"nofollow noreferrer\">https://quarkus.io/version/2.13/guides/opentelemetry#sampler</a></p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692724681,"creation_date":1691324446,"question_id":76845868,"body_markdown":"I have the quarkus (v 2.13.x) opentelemetry working for our services. However, i am trying to provide a way to disable sending logs to the collector at the service level. I want to be able to drop sending the logs but still have the service participate in the trace/context propagation. The only runtime option i came across for this with Quarkus 2.13.x is the sampler. When i try the below sampler in the application.properties, it works.\r\n\r\n    quarkus.opentelemetry.tracer.sampler=ratio\r\n    quarkus.opentelemetry.tracer.sampler.ratio=0\r\n\r\nHowever, when i try to define this in the application.yaml for runtime updates it doesn&#39;t work - it throws exception processing the yaml so doesn&#39;t even run. I have defined it as \r\n\r\n    quarkus:\r\n      opentelemetry:\r\n        tracer:\r\n          sampler:\r\n            ~: ratio\r\n            ratio: 0\r\n\r\nwhat&#39;s weird is i can change the configmap at run time to provide this setting and it works. I am not sure why i am not able to define this NULL parameter setting in the application.yaml.\r\n\r\nAny thoughts?\r\n\r\nThank you in advance!","title":"Quarkus opentelemetry sampler","body":"<p>I have the quarkus (v 2.13.x) opentelemetry working for our services. However, i am trying to provide a way to disable sending logs to the collector at the service level. I want to be able to drop sending the logs but still have the service participate in the trace/context propagation. The only runtime option i came across for this with Quarkus 2.13.x is the sampler. When i try the below sampler in the application.properties, it works.</p>\n<pre><code>quarkus.opentelemetry.tracer.sampler=ratio\nquarkus.opentelemetry.tracer.sampler.ratio=0\n</code></pre>\n<p>However, when i try to define this in the application.yaml for runtime updates it doesn't work - it throws exception processing the yaml so doesn't even run. I have defined it as</p>\n<pre><code>quarkus:\n  opentelemetry:\n    tracer:\n      sampler:\n        ~: ratio\n        ratio: 0\n</code></pre>\n<p>what's weird is i can change the configmap at run time to provide this setting and it works. I am not sure why i am not able to define this NULL parameter setting in the application.yaml.</p>\n<p>Any thoughts?</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","json","junit","jackson"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1678339733,"post_id":75680691,"comment_id":133514119,"body_markdown":"What does `isn&#39;t computeFunction able to write to the file` really mean? Please add error messages, logs, etc. which provided during tests.","body":"What does <code>isn&#39;t computeFunction able to write to the file</code> really mean? Please add error messages, logs, etc. which provided during tests."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678346672,"post_id":75680691,"comment_id":133515323,"body_markdown":"“Design for testability.” For testability I would factor out a method for generating the JSON and returning it as a string from the method that you have. Testing JSON generation should not be bad, for example by parsing back. Writing to a file usually works, so I would be comfortable deferring that test to the integration test.","body":"“Design for testability.” For testability I would factor out a method for generating the JSON and returning it as a string from the method that you have. Testing JSON generation should not be bad, for example by parsing back. Writing to a file usually works, so I would be comfortable deferring that test to the integration test."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1678354798,"post_id":75680691,"comment_id":133517370,"body_markdown":"My guess is that the problem is here: `new File(pathToOutput + &quot;x1.json&quot;)`. Try `new File(pathToOutput, &quot;x1.json&quot;)`","body":"My guess is that the problem is here: <code>new File(pathToOutput + &quot;x1.json&quot;)</code>. Try <code>new File(pathToOutput, &quot;x1.json&quot;)</code>"},{"owner":{"account_id":26613123,"reputation":51,"user_id":20233015,"display_name":"amagro"},"score":0,"creation_date":1678374753,"post_id":75680691,"comment_id":133523475,"body_markdown":"@1615903 You are right, this was a mistake on stackexchange. I am passing the path to the function as a string.","body":"@1615903 You are right, this was a mistake on stackexchange. I am passing the path to the function as a string."},{"owner":{"account_id":26613123,"reputation":51,"user_id":20233015,"display_name":"amagro"},"score":0,"creation_date":1678376204,"post_id":75680691,"comment_id":133523967,"body_markdown":"@OleV.V. The main goal of this test is to verify the results of the computations, not check that the json file has been generated properly. computeFunction is intentionally void; Can you explain how I would parse that back, or how that would help me verify the results? The functions seems to be having trouble creating and writing to the file in the first place.","body":"@OleV.V. The main goal of this test is to verify the results of the computations, not check that the json file has been generated properly. computeFunction is intentionally void; Can you explain how I would parse that back, or how that would help me verify the results? The functions seems to be having trouble creating and writing to the file in the first place."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678467533,"post_id":75680691,"comment_id":133544328,"body_markdown":"Did you understand the concept of a unit test the way I did? It’s a test of the smallest units of your code (hence the name). I would definitely test the results of computations *before* encoding/serializing them into JSON.","body":"Did you understand the concept of a unit test the way I did? It’s a test of the smallest units of your code (hence the name). I would definitely test the results of computations <i>before</i> encoding/serializing them into JSON."}],"owner":{"account_id":26613123,"reputation":51,"user_id":20233015,"display_name":"amagro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692723319,"creation_date":1678339099,"question_id":75680691,"body_markdown":"I need to write a unit test for a function that reads in a yaml of inputs and writes out a json file of results, but am finding that the function is unable to write to the file when called from junit. I know my function is working correctly outside of junit tests.\r\n\r\nI have narrowed down the problem to the fact that the file is not being written at all. My function looks something like this, and uses Jackson to write to a json file:\r\n\r\n`\r\n```\r\npublic void computeFunction(Object input, String pathToOutput) {\r\n  doSomething(input);\r\n  String outputFile = pathToOutput + &quot;/x1.json&quot;;\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  mapper.writeValue(new File(outputFile), x1);\r\n}\r\n```\r\n`\r\n\r\nAnd my test currently looks something like this. \r\n\r\n```\r\n@Rule\r\npublic TemporaryFolder folder = new TemporaryFolder()\r\n@Test\r\npublic void TestFunction() throws Exception {\r\n  File pathToOutput = folder.newFolder(&quot;results&quot;);\r\n  String x1 = &quot;input&quot;;\r\n  Object input = new Object(x1)\r\n  computeFunction(input, pathToOutput.getAbsolutePath());\r\n  ObjectMapper mapper = newObjectMapper();\r\n  List&lt;Object&gt; output = mapper.readValue(new File(pathToOutput + &quot;x1.json&quot;), new TypeReference&lt;List&lt;Object&gt;&gt;(){});\r\n  assertEquals(val1, output.getValOne());\r\n  assertEquals(val2, output.getValTwo());\r\n}\r\n```\r\n\r\nWhy isn&#39;t computeFunction able to write to the file during the junit test?\r\n\r\nEdit --\r\n\r\nI am getting an error at the line   \r\n\r\n    List&lt;Object&gt; output = mapper.readValue(new File(pathToOutput + &quot;x1.json&quot;), new TypeReference&lt;List&lt;Object&gt;&gt;(){});\r\n\r\nexception:\r\n\r\n    java.io.FileNotFoundException: /tmp/junitxxxxx/results/x1.json\r\n\r\n\r\n","title":"How to write a junit test to check that a json file is written correctly","body":"<p>I need to write a unit test for a function that reads in a yaml of inputs and writes out a json file of results, but am finding that the function is unable to write to the file when called from junit. I know my function is working correctly outside of junit tests.</p>\n<p>I have narrowed down the problem to the fact that the file is not being written at all. My function looks something like this, and uses Jackson to write to a json file:</p>\n<p>`</p>\n<pre><code>public void computeFunction(Object input, String pathToOutput) {\n  doSomething(input);\n  String outputFile = pathToOutput + &quot;/x1.json&quot;;\n  ObjectMapper mapper = new ObjectMapper();\n  mapper.writeValue(new File(outputFile), x1);\n}\n</code></pre>\n<p>`</p>\n<p>And my test currently looks something like this.</p>\n<pre><code>@Rule\npublic TemporaryFolder folder = new TemporaryFolder()\n@Test\npublic void TestFunction() throws Exception {\n  File pathToOutput = folder.newFolder(&quot;results&quot;);\n  String x1 = &quot;input&quot;;\n  Object input = new Object(x1)\n  computeFunction(input, pathToOutput.getAbsolutePath());\n  ObjectMapper mapper = newObjectMapper();\n  List&lt;Object&gt; output = mapper.readValue(new File(pathToOutput + &quot;x1.json&quot;), new TypeReference&lt;List&lt;Object&gt;&gt;(){});\n  assertEquals(val1, output.getValOne());\n  assertEquals(val2, output.getValTwo());\n}\n</code></pre>\n<p>Why isn't computeFunction able to write to the file during the junit test?</p>\n<p>Edit --</p>\n<p>I am getting an error at the line</p>\n<pre><code>List&lt;Object&gt; output = mapper.readValue(new File(pathToOutput + &quot;x1.json&quot;), new TypeReference&lt;List&lt;Object&gt;&gt;(){});\n</code></pre>\n<p>exception:</p>\n<pre><code>java.io.FileNotFoundException: /tmp/junitxxxxx/results/x1.json\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","okta","okta-api"],"comments":[{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1692724612,"post_id":76954643,"comment_id":135662503,"body_markdown":"I wrote a tutorial about Spring Boot and SAML with Okta and Auth0. Maybe it&#39;ll help? https://developer.okta.com/blog/2022/08/05/spring-boot-saml","body":"I wrote a tutorial about Spring Boot and SAML with Okta and Auth0. Maybe it&#39;ll help? <a href=\"https://developer.okta.com/blog/2022/08/05/spring-boot-saml\" rel=\"nofollow noreferrer\">developer.okta.com/blog/2022/08/05/spring-boot-saml</a>"},{"owner":{"account_id":29276160,"reputation":1,"user_id":22429848,"display_name":"Alok"},"score":0,"creation_date":1692785670,"post_id":76954643,"comment_id":135670618,"body_markdown":"Hi @MattRaible, I already went through your tutorial guide and without &#39;relyingPartyRegistrationRepository&#39; it throws  &quot;Factory method &#39;relyingPartyRegistrationRepository&#39; threw exception with message: java.net.ConnectException: Connection timed out: connect&quot; and after adding it, it again goes into infinite loop.","body":"Hi @MattRaible, I already went through your tutorial guide and without &#39;relyingPartyRegistrationRepository&#39; it throws  &quot;Factory method &#39;relyingPartyRegistrationRepository&#39; threw exception with message: java.net.ConnectException: Connection timed out: connect&quot; and after adding it, it again goes into infinite loop."},{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1692792269,"post_id":76954643,"comment_id":135671913,"body_markdown":"Are you behind a firewall or proxy that&#39;s preventing an outbound connection?","body":"Are you behind a firewall or proxy that&#39;s preventing an outbound connection?"},{"owner":{"account_id":29276160,"reputation":1,"user_id":22429848,"display_name":"Alok"},"score":0,"creation_date":1692793255,"post_id":76954643,"comment_id":135672118,"body_markdown":"@MattRaible, I don&#39;t think so because we are able to send request to Okta Idp and receiving samlResponse(which we can see in samlTracer and HttpServletRequest).","body":"@MattRaible, I don&#39;t think so because we are able to send request to Okta Idp and receiving samlResponse(which we can see in samlTracer and HttpServletRequest)."},{"owner":{"account_id":29276160,"reputation":1,"user_id":22429848,"display_name":"Alok"},"score":0,"creation_date":1693830457,"post_id":76954643,"comment_id":135807845,"body_markdown":"Any update on above issue or any input required from my side?","body":"Any update on above issue or any input required from my side?"}],"owner":{"account_id":29276160,"reputation":1,"user_id":22429848,"display_name":"Alok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692722752,"creation_date":1692716760,"question_id":76954643,"body_markdown":"I am configuring OKTA SAML 2.0 authentication with Spring boot application(v3.1.0) and ending up with infinite loop.\r\nHere is my config code:\r\n   \r\n```java\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n\tRelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(this.repository());\r\n\r\n\tSaml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\r\n\r\n\tOpenSaml4AuthenticationProvider samlProvider = new OpenSaml4AuthenticationProvider();\r\n\tsamlProvider.setAssertionValidator(OpenSaml4AuthenticationProvider.createDefaultAssertionValidator());\r\n\tsamlProvider.setResponseValidator(OpenSaml4AuthenticationProvider.createDefaultResponseValidator());\r\n\t\r\n\tProviderManager providerManager = new ProviderManager(samlProvider);\r\n\thttp.csrf(csrf -&gt; csrf.disable());\r\n\thttp.saml2Login(saml2 -&gt; {\r\n\t\tsaml2.authenticationManager(providerManager);\r\n\t}).addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class).authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/responseFromSAML&quot;).permitAll().requestMatchers(&quot;/favicon.ico&quot;).permitAll().anyRequest().authenticated());\r\n\t\r\n\thttp.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.ALWAYS));\r\n\thttp.securityContext((securityContext) -&gt; securityContext.securityContextRepository(new HttpSessionSecurityContextRepository()));\r\n\treturn http.build();\r\n}\r\n\r\n@Bean\r\nRelyingPartyRegistrationRepository repository() {\r\n\tRelyingPartyRegistration registration = RelyingPartyRegistration\r\n\t\t\t.withRegistrationId(&quot;regID&quot;).assertionConsumerServiceLocation(&quot;https://sp-url/sso/saml&quot;)\r\n\t\t\t.assertingPartyDetails(party -&gt; party.entityId(&quot;http://www.okta.com/regID&quot;).singleSignOnServiceLocation(&quot;https://sp-url/sso/saml&quot;)\r\n\t\t\t.singleSignOnServiceBinding(Saml2MessageBinding.POST).wantAuthnRequestsSigned(false)\r\n\t\t\t.signingAlgorithms((sign) -&gt; sign.add(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA256)))\r\n\t\t\t.build();\r\n\treturn new InMemoryRelyingPartyRegistrationRepository(registration);\r\n}\r\n```\r\n\r\n#### Controller:\r\n```java\r\n@RequestMapping(&quot;responseFromSAML&quot;)\r\npublic String home(@AuthenticationPrincipal Saml2AuthenticatedPrincipal principal, Model model) {\r\n\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\tSystem.out.println(&quot;authentication: &quot; + authentication);\r\n\tSystem.out.println(&quot;principal: &quot; + principal);\r\n\treturn &quot;home&quot;;\r\n}\r\n```\r\n\r\nResponse from OKTA SAML: `we are receiving samlResponse(which we can see in samlTracer)`\r\n\r\nCan anyone please help?\r\n\r\n I tried to print &#39;principle&#39; which is coming as null and `SecurityContextHolder.getContext().getAuthentication()` is giving &#39;anonymous&#39; ","title":"spring boot(3.1.0) with OKTA SAML authentication enters into infinite loop","body":"<p>I am configuring OKTA SAML 2.0 authentication with Spring boot application(v3.1.0) and ending up with infinite loop.\nHere is my config code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n    RelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(this.repository());\n\n    Saml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\n\n    OpenSaml4AuthenticationProvider samlProvider = new OpenSaml4AuthenticationProvider();\n    samlProvider.setAssertionValidator(OpenSaml4AuthenticationProvider.createDefaultAssertionValidator());\n    samlProvider.setResponseValidator(OpenSaml4AuthenticationProvider.createDefaultResponseValidator());\n    \n    ProviderManager providerManager = new ProviderManager(samlProvider);\n    http.csrf(csrf -&gt; csrf.disable());\n    http.saml2Login(saml2 -&gt; {\n        saml2.authenticationManager(providerManager);\n    }).addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class).authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/responseFromSAML&quot;).permitAll().requestMatchers(&quot;/favicon.ico&quot;).permitAll().anyRequest().authenticated());\n    \n    http.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.ALWAYS));\n    http.securityContext((securityContext) -&gt; securityContext.securityContextRepository(new HttpSessionSecurityContextRepository()));\n    return http.build();\n}\n\n@Bean\nRelyingPartyRegistrationRepository repository() {\n    RelyingPartyRegistration registration = RelyingPartyRegistration\n            .withRegistrationId(&quot;regID&quot;).assertionConsumerServiceLocation(&quot;https://sp-url/sso/saml&quot;)\n            .assertingPartyDetails(party -&gt; party.entityId(&quot;http://www.okta.com/regID&quot;).singleSignOnServiceLocation(&quot;https://sp-url/sso/saml&quot;)\n            .singleSignOnServiceBinding(Saml2MessageBinding.POST).wantAuthnRequestsSigned(false)\n            .signingAlgorithms((sign) -&gt; sign.add(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA256)))\n            .build();\n    return new InMemoryRelyingPartyRegistrationRepository(registration);\n}\n</code></pre>\n<h4>Controller:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;responseFromSAML&quot;)\npublic String home(@AuthenticationPrincipal Saml2AuthenticatedPrincipal principal, Model model) {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    System.out.println(&quot;authentication: &quot; + authentication);\n    System.out.println(&quot;principal: &quot; + principal);\n    return &quot;home&quot;;\n}\n</code></pre>\n<p>Response from OKTA SAML: <code>we are receiving samlResponse(which we can see in samlTracer)</code></p>\n<p>Can anyone please help?</p>\n<p>I tried to print 'principle' which is coming as null and <code>SecurityContextHolder.getContext().getAuthentication()</code> is giving 'anonymous'</p>\n"},{"tags":["java","cluster-computing","ignite","splitbrain"],"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692722729,"creation_date":1692722729,"question_id":76955339,"body_markdown":"I have a simple Ignite cluster with two nodes. It is a Java API based in-memory cluster and only uses `IgniteCache`s that are `REPLICATED` and `SYNC`, nothing fancy.\r\n\r\nI&#39;m trying to see how I can handle a potential split-brain case when there is a long gc or network hiccup. Luckily the specific cache data can be potentially thrown away, if needed, in order for a node to rejoin the cluster, so there is no issue with divergent state here. What I&#39;m looking for is for the Ignite API that will trigger an Ignite node restart when communication between nodes is re-established. Note that I&#39;m using the Java API so no `control.sh` scripts are available.\r\n\r\nThe solution seems to be relatively simple i.e. when a segmentation occurs, all nodes try to re-establish communication with one another and when they succeed all nodes except from the coordinator node restart in order to join the coordinator cluster. If the coordinator is down a new coordinator is elected/automatically chosen. Is there an API or interfaces I can implement to handle this case?\r\n\r\nSimilar products like [NCache][1] or [Hazelcast][2] seem to provide facilities to handle this so I&#39;m guessing Apache Ignite has something similar.\r\n\r\n\r\n  [1]: https://www.alachisoft.com/resources/docs/ncache/admin-guide/split-brain.html#:~:text=When%20a%20Split%2DBrain%20occurs%2C%20the%20cluster%20nodes%20in%20the,which%20is%20by%20default%20disabled.\r\n  [2]: https://docs.hazelcast.com/imdg/4.2/network-partitioning/split-brain-recovery","title":"Apache Ignite utilities for handling split brain","body":"<p>I have a simple Ignite cluster with two nodes. It is a Java API based in-memory cluster and only uses <code>IgniteCache</code>s that are <code>REPLICATED</code> and <code>SYNC</code>, nothing fancy.</p>\n<p>I'm trying to see how I can handle a potential split-brain case when there is a long gc or network hiccup. Luckily the specific cache data can be potentially thrown away, if needed, in order for a node to rejoin the cluster, so there is no issue with divergent state here. What I'm looking for is for the Ignite API that will trigger an Ignite node restart when communication between nodes is re-established. Note that I'm using the Java API so no <code>control.sh</code> scripts are available.</p>\n<p>The solution seems to be relatively simple i.e. when a segmentation occurs, all nodes try to re-establish communication with one another and when they succeed all nodes except from the coordinator node restart in order to join the coordinator cluster. If the coordinator is down a new coordinator is elected/automatically chosen. Is there an API or interfaces I can implement to handle this case?</p>\n<p>Similar products like <a href=\"https://www.alachisoft.com/resources/docs/ncache/admin-guide/split-brain.html#:%7E:text=When%20a%20Split%2DBrain%20occurs%2C%20the%20cluster%20nodes%20in%20the,which%20is%20by%20default%20disabled.\" rel=\"nofollow noreferrer\">NCache</a> or <a href=\"https://docs.hazelcast.com/imdg/4.2/network-partitioning/split-brain-recovery\" rel=\"nofollow noreferrer\">Hazelcast</a> seem to provide facilities to handle this so I'm guessing Apache Ignite has something similar.</p>\n"},{"tags":["java","swagger","openapi","swagger-3.0"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1680644952,"post_id":75933900,"comment_id":133932854,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) or how to improve the quality of your question. Then edit your question to include your full source code you have instead of screenshots as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), which can be compiled and tested by others. Currently that pattern is not as you really want, I think.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> or how to improve the quality of your question. Then edit your question to include your full source code you have instead of screenshots as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Currently that pattern is not as you really want, I think."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680710174,"post_id":75933900,"comment_id":133945331,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28216779,"reputation":11,"user_id":21568177,"display_name":"Borsoi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692722266,"creation_date":1680642883,"question_id":75933900,"body_markdown":"It is possible to add a pattern to a header parameter? I am putting patterns to some fields in an JAVA application using swagger OpenAPI in the YAML file. In the body fields, i was able to put some patterns with no problem at all. I also tried to find any help or guide to add a pattern in a header parameter but I didn&#39;t found it. It is possible to do this with swagger OpenAPI?\r\n\r\n      MeuHeader:\r\n      name: meuHeader\r\n      in: header\r\n      description: Header.\r\n      schema:\r\n        type: string\r\n        pattern: &#39;^[\\d]{1,50}$&#39;\r\n\r\n\r\nThe image above shows how I tried to add the pattern to the header parameter, but any string is been accepted in it. The strange fact is that in the swagger editor the pattern seems to work just fine, can someone know what the problem could be?","title":"Add a pattern in a header parameter - Swagger OpenAPI","body":"<p>It is possible to add a pattern to a header parameter? I am putting patterns to some fields in an JAVA application using swagger OpenAPI in the YAML file. In the body fields, i was able to put some patterns with no problem at all. I also tried to find any help or guide to add a pattern in a header parameter but I didn't found it. It is possible to do this with swagger OpenAPI?</p>\n<pre><code>  MeuHeader:\n  name: meuHeader\n  in: header\n  description: Header.\n  schema:\n    type: string\n    pattern: '^[\\d]{1,50}$'\n</code></pre>\n<p>The image above shows how I tried to add the pattern to the header parameter, but any string is been accepted in it. The strange fact is that in the swagger editor the pattern seems to work just fine, can someone know what the problem could be?</p>\n"},{"tags":["java","inheritance","record"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":4,"creation_date":1645006832,"post_id":71139939,"comment_id":125753794,"body_markdown":"read about immutability pattern. One of the requirements is nonextendability - and records are immutable classes.","body":"read about immutability pattern. One of the requirements is nonextendability - and records are immutable classes."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645006940,"post_id":71139939,"comment_id":125753835,"body_markdown":"Does this answer your question? [Is there any way of using Records with inheritance?](https://stackoverflow.com/questions/63605794/is-there-any-way-of-using-records-with-inheritance)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63605794/is-there-any-way-of-using-records-with-inheritance\">Is there any way of using Records with inheritance?</a>"},{"owner":{"account_id":6297580,"reputation":597,"user_id":4893259,"display_name":"NieMaszNic"},"score":0,"creation_date":1645007743,"post_id":71139939,"comment_id":125754129,"body_markdown":"If in one situation the record has this data and in the other one it doesn&#39;t maybe they are two different records with some shared properties, that can also be grouped","body":"If in one situation the record has this data and in the other one it doesn&#39;t maybe they are two different records with some shared properties, that can also be grouped"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1647341232,"post_id":71139939,"comment_id":126341411,"body_markdown":"It’s always the same answer, for decades. Prefer composition over inheritance.","body":"It’s always the same answer, for decades. Prefer composition over inheritance."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1692721928,"post_id":71139939,"comment_id":135661929,"body_markdown":"The short answer: we *could* support record-to-record inheritance, and we explored this in the design phase.  We did not pursue this because the incremental complexity and incremental benefit seemed out of line (you allude to some of this with &quot;messy and hard to control&quot;).  It is not impossible, but not a priority for now.  We may return to this in the future.","body":"The short answer: we <i>could</i> support record-to-record inheritance, and we explored this in the design phase.  We did not pursue this because the incremental complexity and incremental benefit seemed out of line (you allude to some of this with &quot;messy and hard to control&quot;).  It is not impossible, but not a priority for now.  We may return to this in the future."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1645006927,"creation_date":1645006927,"answer_id":71139995,"question_id":71139939,"body_markdown":"See the corresponding [JEP][1]:\r\n\r\n&gt; Records are implicitly final, and cannot be abstract. These restrictions emphasize that the API of a record is defined solely by its state description, and cannot be enhanced later by another class or record.\r\n\r\n&gt; The components of a record are implicitly final. This restriction embodies an immutable by default policy that is widely applicable for data aggregates.\r\n\r\nThe point is that *reducing* the realm of usage patterns, the compiler/JVM can do the sort of optimisations that the record concept is about.\r\n\r\nMeaning: if you allow for subclassing, the runtime will have to deal with polymorphism. Which is *not* the intention behind records.\r\n\r\n  [1]: https://openjdk.java.net/jeps/359","title":"Why Java records do not support inheritance?","body":"<p>See the corresponding <a href=\"https://openjdk.java.net/jeps/359\" rel=\"noreferrer\">JEP</a>:</p>\n<blockquote>\n<p>Records are implicitly final, and cannot be abstract. These restrictions emphasize that the API of a record is defined solely by its state description, and cannot be enhanced later by another class or record.</p>\n</blockquote>\n<blockquote>\n<p>The components of a record are implicitly final. This restriction embodies an immutable by default policy that is widely applicable for data aggregates.</p>\n</blockquote>\n<p>The point is that <em>reducing</em> the realm of usage patterns, the compiler/JVM can do the sort of optimisations that the record concept is about.</p>\n<p>Meaning: if you allow for subclassing, the runtime will have to deal with polymorphism. Which is <em>not</em> the intention behind records.</p>\n"},{"tags":[],"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692721508,"creation_date":1692721508,"answer_id":76955215,"question_id":71139939,"body_markdown":"This may not directly answer your question but your use-case can actually be implemented using a combination of records and interfaces, eg:\r\n\r\n```java\r\npublic interface Base {\r\n   String prop1();\r\n}\r\npublic interface Extended extends Base {\r\n   String prop2();\r\n}\r\nrecord BaseR(String prop1) implements Base { }\r\nrecord ExtendedR(String prop1, String prop2) implements Extended { }\r\n```\r\nYou&#39;d code your &quot;client&quot; against the interfaces, which is an OO best practice anyway.  If you feel unhappy about duplicating `prop1` (and presumably other properties) in both records, you could use a single record with an overloaded constructor, as follows:\r\n```java\r\nrecord Record(String prop1, String prop2) implements Extended { \r\n\tRecord(String prop1) {\r\n\t\tthis(prop1, null);\r\n\t}\r\n}\r\n```\r\nThis allows constructing instances reasonably cleanly:\r\n```java\r\nBase base = new Record(&quot;prop1&quot;);\r\nExtended ext  = new Record(&quot;prop1&quot;, &quot;prop2&quot;);\r\n```\r\n\r\nSince your client is coded against `Base` and `Extended` (it knows nothing about `Record`), there&#39;s no risk of it accessing unsupported properties.","title":"Why Java records do not support inheritance?","body":"<p>This may not directly answer your question but your use-case can actually be implemented using a combination of records and interfaces, eg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Base {\n   String prop1();\n}\npublic interface Extended extends Base {\n   String prop2();\n}\nrecord BaseR(String prop1) implements Base { }\nrecord ExtendedR(String prop1, String prop2) implements Extended { }\n</code></pre>\n<p>You'd code your &quot;client&quot; against the interfaces, which is an OO best practice anyway.  If you feel unhappy about duplicating <code>prop1</code> (and presumably other properties) in both records, you could use a single record with an overloaded constructor, as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Record(String prop1, String prop2) implements Extended { \n    Record(String prop1) {\n        this(prop1, null);\n    }\n}\n</code></pre>\n<p>This allows constructing instances reasonably cleanly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Base base = new Record(&quot;prop1&quot;);\nExtended ext  = new Record(&quot;prop1&quot;, &quot;prop2&quot;);\n</code></pre>\n<p>Since your client is coded against <code>Base</code> and <code>Extended</code> (it knows nothing about <code>Record</code>), there's no risk of it accessing unsupported properties.</p>\n"}],"owner":{"account_id":15594266,"reputation":377,"user_id":11482572,"display_name":"quikq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4149,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":71139995,"answer_count":2,"score":8,"last_activity_date":1692721508,"creation_date":1645006693,"question_id":71139939,"body_markdown":"Today I hit a wall, when I was about to add new functionality to the app. I had a record with data, but I needed some extra values. Adding this to the record would not make sense, becouse for most cases they will not be used and would be nulls, so I thought inheritance, which made perfect sense in this situation. But there is a problem , becouse Java records do not support inheritance, so I ended up with rewriting record to ugly POJO class with final values and getters.\r\n\r\nSo my question is basictly - why no inheritance. I understand there is not multiple inheritance becouse it&#39;s messy and hard to control on some point, but we also have final classes that cannot be inherited, why couldn&#39;t w e have records and final records? ","title":"Why Java records do not support inheritance?","body":"<p>Today I hit a wall, when I was about to add new functionality to the app. I had a record with data, but I needed some extra values. Adding this to the record would not make sense, becouse for most cases they will not be used and would be nulls, so I thought inheritance, which made perfect sense in this situation. But there is a problem , becouse Java records do not support inheritance, so I ended up with rewriting record to ugly POJO class with final values and getters.</p>\n<p>So my question is basictly - why no inheritance. I understand there is not multiple inheritance becouse it's messy and hard to control on some point, but we also have final classes that cannot be inherited, why couldn't w e have records and final records?</p>\n"},{"tags":["java","jakarta-ee","concurrency","ejb","payara"],"answers":[{"tags":[],"owner":{"account_id":1058549,"reputation":8394,"user_id":1060686,"accept_rate":84,"display_name":"NotGaeL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692697491,"creation_date":1692697491,"answer_id":76952037,"question_id":76951892,"body_markdown":"Apparently there&#39;s this nice Payara [cdi-event-bus-notifier][1] we could set up to collect metrics on hogging &amp; stuck threads, which we could then set alerts on:\r\n\r\nhttps://blog.payara.fish/the-health-check-service-in-depth-payara-server\r\n\r\nThis would satisfy the needs for our use case even better than setting a default access timeout (e.g. we could even enable it on production, eventually). \r\n\r\nNevertheless it would be nice to know if there is a possibility to set a default access timeout (which, for example, could allow us to more conveniently look at the server logs rather than the metrics when working on a local dev deployment).\r\n\r\n\r\n  [1]: https://docs.payara.fish/community/docs/Technical%20Documentation/Payara%20Server%20Documentation/Logging%20and%20Monitoring/Notification%20Service/Overview.html#cdi-event-bus-notifier","title":"How to break on / watch for EJB deadlocks in Payara?","body":"<p>Apparently there's this nice Payara <a href=\"https://docs.payara.fish/community/docs/Technical%20Documentation/Payara%20Server%20Documentation/Logging%20and%20Monitoring/Notification%20Service/Overview.html#cdi-event-bus-notifier\" rel=\"nofollow noreferrer\">cdi-event-bus-notifier</a> we could set up to collect metrics on hogging &amp; stuck threads, which we could then set alerts on:</p>\n<p><a href=\"https://blog.payara.fish/the-health-check-service-in-depth-payara-server\" rel=\"nofollow noreferrer\">https://blog.payara.fish/the-health-check-service-in-depth-payara-server</a></p>\n<p>This would satisfy the needs for our use case even better than setting a default access timeout (e.g. we could even enable it on production, eventually).</p>\n<p>Nevertheless it would be nice to know if there is a possibility to set a default access timeout (which, for example, could allow us to more conveniently look at the server logs rather than the metrics when working on a local dev deployment).</p>\n"}],"owner":{"account_id":1058549,"reputation":8394,"user_id":1060686,"accept_rate":84,"display_name":"NotGaeL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76952037,"answer_count":1,"score":1,"last_activity_date":1692721336,"creation_date":1692696245,"question_id":76951892,"body_markdown":"As established by the [EJB spec][1], the access timeout for an EJB locked for access on concurrency management can be set via `@AccessTimeout` annotation.\r\n\r\nWithout this annotation specifying otherwise, the timeout in Payara for accessing a locked EJB is infinite.\r\n\r\nThis is pretty inconvenient because it generates no stack or log traces whatsoever on the application server log during a deadlock. It just hangs the dependent services, making them unresponsive.\r\n\r\nOur team wants to modify this default in our development server, to have the beans throw a `jakarta.ejb.ConcurrentAccessException` every time a bean or bean method is locked for access for a longer time than it should.\r\n\r\nI know from working with JBoss/Wildfly back in the day that this should be possible via [application server configuration][2]. We have not been able to find related documentation to do this for Payara/Glassfish asadmin, though.\r\n\r\nIs there a way to set a default concurrent EJB access timeout on Payara? If not, what would be a viable alternative to easily identify deadlocks as they happen in our development server?\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/enterprise-beans/4.0/jakarta-enterprise-beans-spec-core-4.0#concurrent-access-timeouts\r\n  [2]: https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform/6/html/administration_and_configuration_guide/set_default_session_bean_access_timeout_values1","title":"How to break on / watch for EJB deadlocks in Payara?","body":"<p>As established by the <a href=\"https://jakarta.ee/specifications/enterprise-beans/4.0/jakarta-enterprise-beans-spec-core-4.0#concurrent-access-timeouts\" rel=\"nofollow noreferrer\">EJB spec</a>, the access timeout for an EJB locked for access on concurrency management can be set via <code>@AccessTimeout</code> annotation.</p>\n<p>Without this annotation specifying otherwise, the timeout in Payara for accessing a locked EJB is infinite.</p>\n<p>This is pretty inconvenient because it generates no stack or log traces whatsoever on the application server log during a deadlock. It just hangs the dependent services, making them unresponsive.</p>\n<p>Our team wants to modify this default in our development server, to have the beans throw a <code>jakarta.ejb.ConcurrentAccessException</code> every time a bean or bean method is locked for access for a longer time than it should.</p>\n<p>I know from working with JBoss/Wildfly back in the day that this should be possible via <a href=\"https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform/6/html/administration_and_configuration_guide/set_default_session_bean_access_timeout_values1\" rel=\"nofollow noreferrer\">application server configuration</a>. We have not been able to find related documentation to do this for Payara/Glassfish asadmin, though.</p>\n<p>Is there a way to set a default concurrent EJB access timeout on Payara? If not, what would be a viable alternative to easily identify deadlocks as they happen in our development server?</p>\n"},{"tags":["java","swing","layout-manager"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1692719369,"post_id":76954673,"comment_id":135661401,"body_markdown":"1) There is no need for the &quot;mainPanel&quot;. The content pane of the frame is a JPanel with a Border layout. 2) Don&#39;t create a separate panel for each component. I would use a panel with a GridBagLayout. Add the label and button to the panel on two separate rows. Then just add this panel to the CENTER of the content pane. By default the components will be centered horizontally and vertically. Read the Swing tutorial on [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) for more information and examples.","body":"1) There is no need for the &quot;mainPanel&quot;. The content pane of the frame is a JPanel with a Border layout. 2) Don&#39;t create a separate panel for each component. I would use a panel with a GridBagLayout. Add the label and button to the panel on two separate rows. Then just add this panel to the CENTER of the content pane. By default the components will be centered horizontally and vertically. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> for more information and examples."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692721298,"creation_date":1692721298,"answer_id":76955199,"question_id":76954673,"body_markdown":"I&#39;d be inclined to do something like this. `BoxLayout` is your friend if you want things to be stacked. Also, you can use a `GridBagLayout` in a &#39;shorthand` way to get things centred in a container:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.border.*;\r\nimport java.awt.*;\r\n\r\npublic class MyFrame extends JFrame {\r\n\r\n    public MyFrame() {\r\n        // panel for label\r\n        JPanel basePanell = new JPanel();\r\n        basePanell.setLayout(new BoxLayout(basePanell, BoxLayout.Y_AXIS));\r\n\r\n        // label for the intro\r\n        JLabel introLabel = new JLabel();\r\n        introLabel.setText(&quot;Welcome User&quot;);\r\n        introLabel.setForeground(new Color(129, 245, 71));\r\n        introLabel.setFont(new Font(&quot;Digital-7&quot;, Font.PLAIN, 24));\r\n        introLabel.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        basePanell.add(introLabel);\r\n\r\n        // JButton\r\n        JButton button = new JButton(&quot;click&quot;);\r\n        button.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        basePanell.add(button);\r\n\r\n        // Improve appearance\r\n        basePanell.setBorder(new EmptyBorder(10, 10, 10, 10));\r\n\r\n        // Stunt to centre the base panel\r\n        getContentPane().setLayout(new GridBagLayout());\r\n        getContentPane().add(basePanell);\r\n\r\n        setSize(500, 500);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setTitle(&quot;encrypt your message&quot;);\r\n        // getContentPane().setBackground(new Color(0x151414)); // the gui bg is\r\n        // determined by the pane\r\n        getContentPane().setBackground(new Color(0xAAAAAA)); // the gui bg is determined by the pane\r\n        setResizable(false);\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            EventQueue.invokeAndWait(() -&gt; {\r\n                MyFrame f = new MyFrame();\r\n                f.setSize(500, 500);\r\n                f.setVisible(true);\r\n            });\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How can I position the JLabel and JButton in the center of the gui window in java","body":"<p>I'd be inclined to do something like this. <code>BoxLayout</code> is your friend if you want things to be stacked. Also, you can use a <code>GridBagLayout</code> in a 'shorthand` way to get things centred in a container:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.*;\nimport java.awt.*;\n\npublic class MyFrame extends JFrame {\n\n    public MyFrame() {\n        // panel for label\n        JPanel basePanell = new JPanel();\n        basePanell.setLayout(new BoxLayout(basePanell, BoxLayout.Y_AXIS));\n\n        // label for the intro\n        JLabel introLabel = new JLabel();\n        introLabel.setText(&quot;Welcome User&quot;);\n        introLabel.setForeground(new Color(129, 245, 71));\n        introLabel.setFont(new Font(&quot;Digital-7&quot;, Font.PLAIN, 24));\n        introLabel.setAlignmentX(Component.CENTER_ALIGNMENT);\n        basePanell.add(introLabel);\n\n        // JButton\n        JButton button = new JButton(&quot;click&quot;);\n        button.setAlignmentX(Component.CENTER_ALIGNMENT);\n        basePanell.add(button);\n\n        // Improve appearance\n        basePanell.setBorder(new EmptyBorder(10, 10, 10, 10));\n\n        // Stunt to centre the base panel\n        getContentPane().setLayout(new GridBagLayout());\n        getContentPane().add(basePanell);\n\n        setSize(500, 500);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setTitle(&quot;encrypt your message&quot;);\n        // getContentPane().setBackground(new Color(0x151414)); // the gui bg is\n        // determined by the pane\n        getContentPane().setBackground(new Color(0xAAAAAA)); // the gui bg is determined by the pane\n        setResizable(false);\n\n    }\n\n    public static void main(String[] args) {\n        try {\n            EventQueue.invokeAndWait(() -&gt; {\n                MyFrame f = new MyFrame();\n                f.setSize(500, 500);\n                f.setVisible(true);\n            });\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27610823,"reputation":5,"user_id":21073979,"display_name":"eybisea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692721298,"creation_date":1692716945,"question_id":76954673,"body_markdown":"I am practicing GUI in java. I am currently struggling with the placement of the elements. I want the JLabel to be in the center middle of the gui window and the button to be right below the JLabel. I wanna preface that I am a beginner in Java so I may have some lapses so I would appreciate some help/ tips as well!\r\n\r\nI tried different layout manager(BoxLayout, GridLayout, BorderLayout, and FlowLayout) but neither of them worked. So far, FlowLayout was the closest but whenever I run the code the JLabel is placed on top and is seemingly cut off while the button is at the very bottom of the gui window.\r\n \r\nhere&#39;s a preview of my code: \r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\npublic class MyFrame extends JFrame {\r\n\r\n    public MyFrame(){\r\n        //panel for label\r\n        JPanel labelPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n\r\n        //label for the intro\r\n        JLabel introLabel = new JLabel();\r\n        introLabel.setText(&quot;Welcome User&quot;);\r\n        introLabel.setForeground(new Color(129, 245, 71));\r\n        introLabel.setFont(new Font(&quot;Digital-7&quot;, Font.PLAIN, 24));\r\n        introLabel.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        labelPanel.add(introLabel);\r\n\r\n        // panel for button\r\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n\r\n        //JButton\r\n        JButton button = new JButton(&quot;click&quot;);\r\n        button.setFocusable(false);\r\n        buttonPanel.add(button);\r\n\r\n        //main content panel\r\n        JPanel mainPanel = new JPanel(new BorderLayout());\r\n        mainPanel.add(labelPanel, BorderLayout.CENTER);\r\n        mainPanel.add(buttonPanel, BorderLayout.SOUTH);\r\n\r\n        //set content of the pane\r\n        this.setContentPane(mainPanel);\r\n\r\n        //frame constructor\r\n        this.setSize(500, 500);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setTitle(&quot;encrypt your message&quot;);\r\n        this.getContentPane().setBackground(new Color(0x151414)); // the gui bg is determined by the pane\r\n        this.setResizable(false);\r\n\r\n        //layout manager\r\n        this.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How can I position the JLabel and JButton in the center of the gui window in java","body":"<p>I am practicing GUI in java. I am currently struggling with the placement of the elements. I want the JLabel to be in the center middle of the gui window and the button to be right below the JLabel. I wanna preface that I am a beginner in Java so I may have some lapses so I would appreciate some help/ tips as well!</p>\n<p>I tried different layout manager(BoxLayout, GridLayout, BorderLayout, and FlowLayout) but neither of them worked. So far, FlowLayout was the closest but whenever I run the code the JLabel is placed on top and is seemingly cut off while the button is at the very bottom of the gui window.</p>\n<p>here's a preview of my code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\npublic class MyFrame extends JFrame {\n\n    public MyFrame(){\n        //panel for label\n        JPanel labelPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n\n        //label for the intro\n        JLabel introLabel = new JLabel();\n        introLabel.setText(&quot;Welcome User&quot;);\n        introLabel.setForeground(new Color(129, 245, 71));\n        introLabel.setFont(new Font(&quot;Digital-7&quot;, Font.PLAIN, 24));\n        introLabel.setAlignmentX(Component.CENTER_ALIGNMENT);\n        labelPanel.add(introLabel);\n\n        // panel for button\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n\n        //JButton\n        JButton button = new JButton(&quot;click&quot;);\n        button.setFocusable(false);\n        buttonPanel.add(button);\n\n        //main content panel\n        JPanel mainPanel = new JPanel(new BorderLayout());\n        mainPanel.add(labelPanel, BorderLayout.CENTER);\n        mainPanel.add(buttonPanel, BorderLayout.SOUTH);\n\n        //set content of the pane\n        this.setContentPane(mainPanel);\n\n        //frame constructor\n        this.setSize(500, 500);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setTitle(&quot;encrypt your message&quot;);\n        this.getContentPane().setBackground(new Color(0x151414)); // the gui bg is determined by the pane\n        this.setResizable(false);\n\n        //layout manager\n        this.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","user-interface","javafx","tableview"],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1484001822,"creation_date":1484001468,"answer_id":41558157,"question_id":41557957,"body_markdown":"Since the only way for `PropertyValueFactory` to retrieve the value is using the getter, changes of a property cannot be observed and therefore the update only happens, when the item is associated with a new `TableRow`.\r\n\r\nStarting with JavaFX 8u60 you can simply call the `refresh` method of `TableView`, which will force an update to be executed.\r\n\r\n---\r\nHowever the usual way of doing this is by providing access to a property object containing the property value, e.g.\r\n\r\nIn `PreferencesSet` \r\n\r\n\r\n    private final IntegerProperty plast = new SimpleIntegerProperty(); \r\n\r\n    public void setPlast(int plast) {\r\n        this.plast.set(plast);\r\n    }\r\n    \r\n    public int getPlast() {\r\n        return plast.get();\r\n    }\r\n    \r\n    // this method will be used by the PropertyValueFactory\r\n    // and returns a Property which notifies TableView of changes\r\n    public IntegerProperty plastProperty() {\r\n        return plast;\r\n    }\r\n\r\nThere are other property types for the other data types, see [`javafx.beans.property` package](https://docs.oracle.com/javase/8/javafx/api/javafx/beans/property/package-summary.html)","title":"JavaFX TableView not updating immediately","body":"<p>Since the only way for <code>PropertyValueFactory</code> to retrieve the value is using the getter, changes of a property cannot be observed and therefore the update only happens, when the item is associated with a new <code>TableRow</code>.</p>\n\n<p>Starting with JavaFX 8u60 you can simply call the <code>refresh</code> method of <code>TableView</code>, which will force an update to be executed.</p>\n\n<hr>\n\n<p>However the usual way of doing this is by providing access to a property object containing the property value, e.g.</p>\n\n<p>In <code>PreferencesSet</code> </p>\n\n<pre><code>private final IntegerProperty plast = new SimpleIntegerProperty(); \n\npublic void setPlast(int plast) {\n    this.plast.set(plast);\n}\n\npublic int getPlast() {\n    return plast.get();\n}\n\n// this method will be used by the PropertyValueFactory\n// and returns a Property which notifies TableView of changes\npublic IntegerProperty plastProperty() {\n    return plast;\n}\n</code></pre>\n\n<p>There are other property types for the other data types, see <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/beans/property/package-summary.html\" rel=\"noreferrer\"><code>javafx.beans.property</code> package</a></p>\n"},{"tags":[],"owner":{"account_id":26991848,"reputation":62,"user_id":20554626,"display_name":"sammy medawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692721265,"creation_date":1692721265,"answer_id":76955193,"question_id":41557957,"body_markdown":"For anyone still struggling with this, try this piece of code: \r\n\r\n    for (int columnIndex = 0; columnIndex &lt; tvModifications.getColumns().size(); columnIndex++) {\r\n                TableColumn&lt;ObservableList&lt;String&gt;, String&gt; column = (TableColumn&lt;ObservableList&lt;String&gt;, String&gt;) tvModifications.getColumns().get(columnIndex);\r\n                final int colIndex = columnIndex;\r\n                column.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().get(colIndex)));\r\n            }\r\n\r\nDo this after setting the items. This will set the value of each cell individually since for some reason JavaFX differentiates between cell values and the items of the table view! So even if you tableView items are correct (known via debugging), you still need to update the cell values.","title":"JavaFX TableView not updating immediately","body":"<p>For anyone still struggling with this, try this piece of code:</p>\n<pre><code>for (int columnIndex = 0; columnIndex &lt; tvModifications.getColumns().size(); columnIndex++) {\n            TableColumn&lt;ObservableList&lt;String&gt;, String&gt; column = (TableColumn&lt;ObservableList&lt;String&gt;, String&gt;) tvModifications.getColumns().get(columnIndex);\n            final int colIndex = columnIndex;\n            column.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().get(colIndex)));\n        }\n</code></pre>\n<p>Do this after setting the items. This will set the value of each cell individually since for some reason JavaFX differentiates between cell values and the items of the table view! So even if you tableView items are correct (known via debugging), you still need to update the cell values.</p>\n"}],"owner":{"account_id":6461301,"reputation":23,"user_id":5005017,"display_name":"Влад Борисенко"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41558157,"answer_count":2,"score":2,"last_activity_date":1692721265,"creation_date":1484000521,"question_id":41557957,"body_markdown":"I have an issue with JavaFX `TableView` UI update. After I change the observable object, it does not update the UI of `TableView`. But if I perform a magical ritual of pulling `TableView`&#39;s scroll bar down and up again - it seems to redraw the table and update items in it.\r\nThrough debugging I&#39;ve ensured, that the PreferencesSet ArrayList and object are updated correctly.\r\n\r\n[Here&#39;s gif demonstration of what is happening][1]\r\n\r\nThis is my first time asking a question here, so I could have left out some important info. Feel free to ask me for it. Thank you in advance.\r\n\r\nHere&#39;s code (I have left out unrelated stuff):\r\n\r\nControllerClass:\r\n\r\n    public class TestSomethingController implements Initializable {\r\n\r\n    public TableView&lt;PreferenceValues.PreferencesSet&gt; preferencesTable;\r\n    public TableColumn mdColumn;\r\n    public TableColumn typeColumn;\r\n    public TableColumn tradeColumn;\r\n    public TableColumn plastColumn;\r\n    public TableColumn capColumn;\r\n    public TableColumn multColumn;\r\n    public TableColumn sizeColumn;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        setNorthPanel();\r\n        setTableColumns();\r\n        fillAllInfo();\r\n    }\r\n\r\n    private void setTableColumns() {\r\n        mdColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, MarketDirection&gt;(&quot;md&quot;));\r\n        typeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, UserOfferType&gt;(&quot;type&quot;));\r\n        tradeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Boolean&gt;(&quot;trade&quot;));\r\n        plastColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Long&gt;(&quot;plast&quot;));\r\n        capColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Double&gt;(&quot;cap&quot;));\r\n        multColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Double&gt;(&quot;mult&quot;));\r\n        sizeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Long&gt;(&quot;size&quot;));\r\n    }      \r\n    private void fillAllInfo() {\r\n         preferencesTable.setItems(FXCollections.observableArrayList(CurrentSession.currentUser.getPreferencesList()));\r\n        fillNorthPanel();\r\n    }\r\n    public void applyClicked(ActionEvent actionEvent) {\r\n        applyNorthPanelChanges();\r\n    }\r\n    private void applyNorthPanelChanges() {\r\n        PreferenceValues.PreferencesSet preferencesSet = CurrentSession.currentUser.getPreferencesSet(dirChoiceBox.getSelectionModel().getSelectedItem(), offerTypeChoiceBox.getSelectionModel().getSelectedItem());\r\n        preferencesSet.setTrade(tradeCheckBox.isSelected());\r\n        preferencesSet.setPlast(plastSpinner.getValue());\r\n        preferencesSet.setCap(capRateSpinner.getValue());\r\n        preferencesSet.setMult(multSpinner.getValue());\r\n        preferencesSet.setSize(sizeSpinner.getValue());\r\n        preferencesSet.savePreferences();\r\n    }\r\n\r\nUser class:\r\n\r\n    public class User {\r\n\r\n    private PreferenceValues preferenceValues;\r\n\r\n\r\n    public PreferenceValues.PreferencesSet getPreferencesSet(MarketDirection md, UserOfferType userOfferType) {\r\n        return preferenceValues.getPreferencesSet(md, userOfferType);\r\n    }\r\n\r\n    public ArrayList&lt;PreferenceValues.PreferencesSet&gt; getPreferencesList() {\r\n        return preferenceValues.getPreferencesList();\r\n    }\r\n    }\r\n\r\nPreferenceValues class:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.TreeMap;\r\n    import java.util.prefs.BackingStoreException;\r\n    import java.util.prefs.Preferences;\r\n\r\n    public class PreferenceValues {\r\n    private Preferences preferences;\r\n    private ArrayList&lt;PreferencesSet&gt; preferencesList;\r\n    private TreeMap&lt;String, PreferencesSet&gt; preferencesMap;\r\n\r\n    public PreferenceValues(User user) {\r\n        preferencesList = new ArrayList&lt;&gt;();\r\n        preferencesMap = new TreeMap&lt;&gt;();\r\n        preferences = Preferences.userRoot().node(&quot;prefexample&quot; + user.getwmId());\r\n        for (MarketDirection md : MarketDirection.values()) {\r\n            for (UserOfferType userOfferType : UserOfferType.values()) {\r\n                if (userOfferType != UserOfferType.UNDEF) {\r\n                    PreferencesSet preferencesSet = new PreferencesSet(md, userOfferType, preferences);\r\n                    preferencesList.add(preferencesSet);\r\n                    preferencesMap.put(md.toString() + userOfferType.toString(), preferencesSet);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    protected ArrayList&lt;PreferencesSet&gt; getPreferencesList() {\r\n        return preferencesList;\r\n    }\r\n\r\n    private String getMapKey(MarketDirection md, UserOfferType userOfferType) {\r\n        return md.toString() + userOfferType.toString();\r\n    }\r\n\r\n    protected PreferencesSet getPreferencesSet(MarketDirection md, UserOfferType userOfferType) {\r\n        return preferencesMap.get(getMapKey(md, userOfferType));\r\n    }\r\n\r\n    public void clear() throws BackingStoreException {\r\n        preferences.clear();\r\n    }\r\n\r\n\r\n    public class PreferencesSet {\r\n    Preferences preferences;\r\n\r\n    private MarketDirection md;\r\n    private UserOfferType type;\r\n    private boolean trade;\r\n    private int plast;\r\n    private double cap;\r\n    private double mult;\r\n    private int size;\r\n\r\n\r\n    public PreferencesSet(MarketDirection md, UserOfferType type, Preferences preferences) {\r\n        this.md = md;\r\n        this.type = type;\r\n        this.preferences = preferences;\r\n        trade = preferences.node(md.toString()).node(type.toString()).getBoolean(&quot;trade&quot;, false);\r\n        plast = preferences.node(md.toString()).node(type.toString()).getInt(&quot;plast&quot;, 222);\r\n        cap = preferences.node(md.toString()).node(type.toString()).getDouble(&quot;cap&quot;, 333);\r\n        mult = preferences.node(md.toString()).node(type.toString()).getDouble(&quot;mult&quot;, 1);\r\n        size = preferences.node(md.toString()).node(type.toString()).getInt(&quot;size&quot;, 15000);\r\n    }\r\n\r\n    public void savePreferences() {\r\n        preferences.node(md.toString()).node(type.toString()).putBoolean(&quot;trade&quot;, trade);\r\n        preferences.node(md.toString()).node(type.toString()).putInt(&quot;plast&quot;, plast);\r\n        preferences.node(md.toString()).node(type.toString()).putDouble(&quot;cap&quot;, cap);\r\n        preferences.node(md.toString()).node(type.toString()).putDouble(&quot;mult&quot;, mult);\r\n        preferences.node(md.toString()).node(type.toString()).putInt(&quot;size&quot;, size);\r\n    }\r\n\r\n    public MarketDirection getMd() {\r\n        return md;\r\n    }\r\n\r\n    public UserOfferType getType() {\r\n        return type;\r\n    }\r\n\r\n    public boolean isTrade() {\r\n        return trade;\r\n    }\r\n\r\n    public int getPlast() {\r\n        return plast;\r\n    }\r\n\r\n    public double getCap() {\r\n        return cap;\r\n    }\r\n\r\n    public double getMult() {\r\n        return mult;\r\n    }\r\n\r\n    public int getSize() {\r\n        return size;\r\n    }\r\n\r\n    public void setTrade(boolean trade) {\r\n        this.trade = trade;\r\n    }\r\n\r\n    public void setPlast(int plast) {\r\n        this.plast = plast;\r\n    }\r\n\r\n    public void setCap(double cap) {\r\n        this.cap = cap;\r\n    }\r\n\r\n    public void setMult(double mult) {\r\n        this.mult = mult;\r\n    }\r\n\r\n    public void setSize(int size) {\r\n        this.size = size;\r\n    }\r\n    }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DnefC.gif","title":"JavaFX TableView not updating immediately","body":"<p>I have an issue with JavaFX <code>TableView</code> UI update. After I change the observable object, it does not update the UI of <code>TableView</code>. But if I perform a magical ritual of pulling <code>TableView</code>'s scroll bar down and up again - it seems to redraw the table and update items in it.\nThrough debugging I've ensured, that the PreferencesSet ArrayList and object are updated correctly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DnefC.gif\" rel=\"nofollow noreferrer\">Here's gif demonstration of what is happening</a></p>\n\n<p>This is my first time asking a question here, so I could have left out some important info. Feel free to ask me for it. Thank you in advance.</p>\n\n<p>Here's code (I have left out unrelated stuff):</p>\n\n<p>ControllerClass:</p>\n\n<pre><code>public class TestSomethingController implements Initializable {\n\npublic TableView&lt;PreferenceValues.PreferencesSet&gt; preferencesTable;\npublic TableColumn mdColumn;\npublic TableColumn typeColumn;\npublic TableColumn tradeColumn;\npublic TableColumn plastColumn;\npublic TableColumn capColumn;\npublic TableColumn multColumn;\npublic TableColumn sizeColumn;\n\n@Override\npublic void initialize(URL location, ResourceBundle resources) {\n    setNorthPanel();\n    setTableColumns();\n    fillAllInfo();\n}\n\nprivate void setTableColumns() {\n    mdColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, MarketDirection&gt;(\"md\"));\n    typeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, UserOfferType&gt;(\"type\"));\n    tradeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Boolean&gt;(\"trade\"));\n    plastColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Long&gt;(\"plast\"));\n    capColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Double&gt;(\"cap\"));\n    multColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Double&gt;(\"mult\"));\n    sizeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Long&gt;(\"size\"));\n}      \nprivate void fillAllInfo() {\n     preferencesTable.setItems(FXCollections.observableArrayList(CurrentSession.currentUser.getPreferencesList()));\n    fillNorthPanel();\n}\npublic void applyClicked(ActionEvent actionEvent) {\n    applyNorthPanelChanges();\n}\nprivate void applyNorthPanelChanges() {\n    PreferenceValues.PreferencesSet preferencesSet = CurrentSession.currentUser.getPreferencesSet(dirChoiceBox.getSelectionModel().getSelectedItem(), offerTypeChoiceBox.getSelectionModel().getSelectedItem());\n    preferencesSet.setTrade(tradeCheckBox.isSelected());\n    preferencesSet.setPlast(plastSpinner.getValue());\n    preferencesSet.setCap(capRateSpinner.getValue());\n    preferencesSet.setMult(multSpinner.getValue());\n    preferencesSet.setSize(sizeSpinner.getValue());\n    preferencesSet.savePreferences();\n}\n</code></pre>\n\n<p>User class:</p>\n\n<pre><code>public class User {\n\nprivate PreferenceValues preferenceValues;\n\n\npublic PreferenceValues.PreferencesSet getPreferencesSet(MarketDirection md, UserOfferType userOfferType) {\n    return preferenceValues.getPreferencesSet(md, userOfferType);\n}\n\npublic ArrayList&lt;PreferenceValues.PreferencesSet&gt; getPreferencesList() {\n    return preferenceValues.getPreferencesList();\n}\n}\n</code></pre>\n\n<p>PreferenceValues class:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.TreeMap;\nimport java.util.prefs.BackingStoreException;\nimport java.util.prefs.Preferences;\n\npublic class PreferenceValues {\nprivate Preferences preferences;\nprivate ArrayList&lt;PreferencesSet&gt; preferencesList;\nprivate TreeMap&lt;String, PreferencesSet&gt; preferencesMap;\n\npublic PreferenceValues(User user) {\n    preferencesList = new ArrayList&lt;&gt;();\n    preferencesMap = new TreeMap&lt;&gt;();\n    preferences = Preferences.userRoot().node(\"prefexample\" + user.getwmId());\n    for (MarketDirection md : MarketDirection.values()) {\n        for (UserOfferType userOfferType : UserOfferType.values()) {\n            if (userOfferType != UserOfferType.UNDEF) {\n                PreferencesSet preferencesSet = new PreferencesSet(md, userOfferType, preferences);\n                preferencesList.add(preferencesSet);\n                preferencesMap.put(md.toString() + userOfferType.toString(), preferencesSet);\n            }\n        }\n    }\n}\n\nprotected ArrayList&lt;PreferencesSet&gt; getPreferencesList() {\n    return preferencesList;\n}\n\nprivate String getMapKey(MarketDirection md, UserOfferType userOfferType) {\n    return md.toString() + userOfferType.toString();\n}\n\nprotected PreferencesSet getPreferencesSet(MarketDirection md, UserOfferType userOfferType) {\n    return preferencesMap.get(getMapKey(md, userOfferType));\n}\n\npublic void clear() throws BackingStoreException {\n    preferences.clear();\n}\n\n\npublic class PreferencesSet {\nPreferences preferences;\n\nprivate MarketDirection md;\nprivate UserOfferType type;\nprivate boolean trade;\nprivate int plast;\nprivate double cap;\nprivate double mult;\nprivate int size;\n\n\npublic PreferencesSet(MarketDirection md, UserOfferType type, Preferences preferences) {\n    this.md = md;\n    this.type = type;\n    this.preferences = preferences;\n    trade = preferences.node(md.toString()).node(type.toString()).getBoolean(\"trade\", false);\n    plast = preferences.node(md.toString()).node(type.toString()).getInt(\"plast\", 222);\n    cap = preferences.node(md.toString()).node(type.toString()).getDouble(\"cap\", 333);\n    mult = preferences.node(md.toString()).node(type.toString()).getDouble(\"mult\", 1);\n    size = preferences.node(md.toString()).node(type.toString()).getInt(\"size\", 15000);\n}\n\npublic void savePreferences() {\n    preferences.node(md.toString()).node(type.toString()).putBoolean(\"trade\", trade);\n    preferences.node(md.toString()).node(type.toString()).putInt(\"plast\", plast);\n    preferences.node(md.toString()).node(type.toString()).putDouble(\"cap\", cap);\n    preferences.node(md.toString()).node(type.toString()).putDouble(\"mult\", mult);\n    preferences.node(md.toString()).node(type.toString()).putInt(\"size\", size);\n}\n\npublic MarketDirection getMd() {\n    return md;\n}\n\npublic UserOfferType getType() {\n    return type;\n}\n\npublic boolean isTrade() {\n    return trade;\n}\n\npublic int getPlast() {\n    return plast;\n}\n\npublic double getCap() {\n    return cap;\n}\n\npublic double getMult() {\n    return mult;\n}\n\npublic int getSize() {\n    return size;\n}\n\npublic void setTrade(boolean trade) {\n    this.trade = trade;\n}\n\npublic void setPlast(int plast) {\n    this.plast = plast;\n}\n\npublic void setCap(double cap) {\n    this.cap = cap;\n}\n\npublic void setMult(double mult) {\n    this.mult = mult;\n}\n\npublic void setSize(int size) {\n    this.size = size;\n}\n}\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2834545,"reputation":2174,"user_id":2435402,"accept_rate":56,"display_name":"em_"},"score":0,"creation_date":1692722158,"post_id":76955143,"comment_id":135661965,"body_markdown":"They&#39;ve revamped the entire SDK surface objects and overall subscriptions/purchaes paradigms, this is largely considered a painful update - definitely take your time. I would recommend targeting v6 as v5 will likely be deprecated and sunsetted soon. Either way, they do provide a lot of documentation https://developer.android.com/google/play/billing/migrate-gpblv6#5-or-6","body":"They&#39;ve revamped the entire SDK surface objects and overall subscriptions/purchaes paradigms, this is largely considered a painful update - definitely take your time. I would recommend targeting v6 as v5 will likely be deprecated and sunsetted soon. Either way, they do provide a lot of documentation <a href=\"https://developer.android.com/google/play/billing/migrate-gpblv6#5-or-6\" rel=\"nofollow noreferrer\">developer.android.com/google/play/billing/migrate-gpblv6#5-o&zwnj;&#8203;r-6</a>"}],"owner":{"account_id":13895912,"reputation":23,"user_id":10032787,"display_name":"Mehmet Aslan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692721203,"creation_date":1692720814,"question_id":76955143,"body_markdown":"I&#39;m using BillingClient 3 and now I need to upgrade to 5. I am getting an error in the line of code I shared below. How can I solve the problem?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/COspc.png)](https://i.stack.imgur.com/COspc.png)\r\n\r\n    @Override\r\n    public void onPurchasesUpdated(BillingResult billingResult, @Nullable List&lt;Purchase&gt; purchases) {\r\n        //if item newly purchased\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null) {\r\n            handlePurchases(purchases);\r\n        }\r\n        //if item already purchased then check and reflect changes\r\n        else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\r\n            Purchase.PurchasesResult queryAlreadyPurchasesResult = mBillingClient.queryPurchases(SUBS);\r\n            List&lt;Purchase&gt; alreadyPurchases = queryAlreadyPurchasesResult.getPurchasesList();\r\n            if(alreadyPurchases!=null){\r\n                handlePurchases(alreadyPurchases);\r\n\r\n            }\r\n        }\r\n        //if purchase cancelled\r\n        else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\r\n        }\r\n        // Handle any other error msgs\r\n        else {\r\n            //Toast.makeText(getApplicationContext(),&quot;Error &quot;+billingResult.getDebugMessage(),Toast.LENGTH_SHORT).show();\r\n        }\r\n    }`","title":"Upgrade BillingClient 3 to 5","body":"<p>I'm using BillingClient 3 and now I need to upgrade to 5. I am getting an error in the line of code I shared below. How can I solve the problem?</p>\n<p><a href=\"https://i.stack.imgur.com/COspc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/COspc.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>@Override\npublic void onPurchasesUpdated(BillingResult billingResult, @Nullable List&lt;Purchase&gt; purchases) {\n    //if item newly purchased\n    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null) {\n        handlePurchases(purchases);\n    }\n    //if item already purchased then check and reflect changes\n    else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\n        Purchase.PurchasesResult queryAlreadyPurchasesResult = mBillingClient.queryPurchases(SUBS);\n        List&lt;Purchase&gt; alreadyPurchases = queryAlreadyPurchasesResult.getPurchasesList();\n        if(alreadyPurchases!=null){\n            handlePurchases(alreadyPurchases);\n\n        }\n    }\n    //if purchase cancelled\n    else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\n    }\n    // Handle any other error msgs\n    else {\n        //Toast.makeText(getApplicationContext(),&quot;Error &quot;+billingResult.getDebugMessage(),Toast.LENGTH_SHORT).show();\n    }\n}`\n</code></pre>\n"},{"tags":["java","active-directory","ldap","unboundid"],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692720675,"creation_date":1692717205,"question_id":76954711,"body_markdown":"I have following snippet\r\n\r\n    val entry = ldapConnectionPool.getEntry(groupNn, SearchRequest.ALL_USER_ATTRIBUTES, &quot;PrimaryGroupToken&quot;)\r\n    val primaryGroupToken = entry.getAttributeValue(&quot;PrimaryGroupToken&quot;)\r\n\r\nprimaryGroupToken is equal `550` after execution\r\n\r\nThen I want to find the same entry by `PrimaryGroupToken` \r\n\r\n\r\n    ldapConnectionPool.searchForEntry(SearchRequest(dn, SearchScope.SUB, &quot;PrimaryGroupToken=$primaryGroupToken&quot;))\r\n\r\nbut it returns `null`. Is there way to find entry by `PrimaryGroupToken`  ?\r\n\r\n","title":"How to search by PrimaryGroupToken in Ldap?","body":"<p>I have following snippet</p>\n<pre><code>val entry = ldapConnectionPool.getEntry(groupNn, SearchRequest.ALL_USER_ATTRIBUTES, &quot;PrimaryGroupToken&quot;)\nval primaryGroupToken = entry.getAttributeValue(&quot;PrimaryGroupToken&quot;)\n</code></pre>\n<p>primaryGroupToken is equal <code>550</code> after execution</p>\n<p>Then I want to find the same entry by <code>PrimaryGroupToken</code></p>\n<pre><code>ldapConnectionPool.searchForEntry(SearchRequest(dn, SearchScope.SUB, &quot;PrimaryGroupToken=$primaryGroupToken&quot;))\n</code></pre>\n<p>but it returns <code>null</code>. Is there way to find entry by <code>PrimaryGroupToken</code>  ?</p>\n"},{"tags":["java","networking","admin"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1323265307,"post_id":8416222,"comment_id":10396050,"body_markdown":"How are you getting this exception? And what operating system are you using? We can&#39;t guess here.","body":"How are you getting this exception? And what operating system are you using? We can&#39;t guess here."},{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":7,"creation_date":1323265377,"post_id":8416222,"comment_id":10396064,"body_markdown":"Try `netstat -a`","body":"Try <code>netstat -a</code>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1512164221,"post_id":8416222,"comment_id":82162388,"body_markdown":"Please consider accepting my answer below if it was helpful","body":"Please consider accepting my answer below if it was helpful"}],"answers":[{"tags":[],"owner":{"account_id":88371,"reputation":5024,"user_id":244461,"accept_rate":100,"display_name":"RHT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323265452,"creation_date":1323265452,"answer_id":8416278,"question_id":8416222,"body_markdown":"Either terminate the process which is using port 8083 or configure your application to run on another port. Smart applications try to use an alternative port automatically.","title":"java.lang.Exception: Port 8083 already in use","body":"<p>Either terminate the process which is using port 8083 or configure your application to run on another port. Smart applications try to use an alternative port automatically.</p>\n"},{"tags":[],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1323274056,"creation_date":1323265488,"answer_id":8416286,"question_id":8416222,"body_markdown":"The exception is thrown because you are trying to bind to a port that is already in use by another process.\r\n\r\nUsing `netstat -a` from the command line will show you a list of open ports and the process that&#39;s using them. Than you can kill it.\r\n\r\nUpdate:\r\n\r\nOn Windows you can use `netstat -ao` to list all the in use ports along with the Process ID that owns the connection.\r\n\r\nOn Linux you can use `netstat -p` to list the process id/program name.\r\n\r\n","title":"java.lang.Exception: Port 8083 already in use","body":"<p>The exception is thrown because you are trying to bind to a port that is already in use by another process.</p>\n\n<p>Using <code>netstat -a</code> from the command line will show you a list of open ports and the process that's using them. Than you can kill it.</p>\n\n<p>Update:</p>\n\n<p>On Windows you can use <code>netstat -ao</code> to list all the in use ports along with the Process ID that owns the connection.</p>\n\n<p>On Linux you can use <code>netstat -p</code> to list the process id/program name.</p>\n"},{"tags":[],"owner":{"account_id":472669,"reputation":9843,"user_id":881272,"accept_rate":67,"display_name":"Angelo Fuchs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324790042,"creation_date":1323265493,"answer_id":8416289,"question_id":8416222,"body_markdown":"The exception means: there is already a open Port &#39;8083&#39;. You solve it by either stopping that service or by using a different port yourself.\r\n\r\nI would guess that your own service is already running when you try to start it, so stop the old instance before starting the new one.\r\n\r\n(I know Tomcat runs on 8080 and sometimes people change that to 8083, but its impossible for anyone to know what service runs on your machine using that port.)\r\n\r\n","title":"java.lang.Exception: Port 8083 already in use","body":"<p>The exception means: there is already a open Port '8083'. You solve it by either stopping that service or by using a different port yourself.</p>\n\n<p>I would guess that your own service is already running when you try to start it, so stop the old instance before starting the new one.</p>\n\n<p>(I know Tomcat runs on 8080 and sometimes people change that to 8083, but its impossible for anyone to know what service runs on your machine using that port.)</p>\n"},{"tags":[],"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323265610,"creation_date":1323265610,"answer_id":8416323,"question_id":8416222,"body_markdown":"If you are starting a server for deploying your application it may happen that any other process or application is using that port. Outlook, Skype or other applications do it sometimes at my job. Use a program like [CPorts][1] for kill that connection and restart your server.\r\n\r\n\r\n  [1]: http://www.nirsoft.net/utils/cports.html","title":"java.lang.Exception: Port 8083 already in use","body":"<p>If you are starting a server for deploying your application it may happen that any other process or application is using that port. Outlook, Skype or other applications do it sometimes at my job. Use a program like <a href=\"http://www.nirsoft.net/utils/cports.html\" rel=\"nofollow\">CPorts</a> for kill that connection and restart your server.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1512164268,"creation_date":1323266089,"answer_id":8416424,"question_id":8416222,"body_markdown":"&gt; java.lang.Exception: Port 8083 already in use.\r\n\r\nThe error means that another application already has that port bound so that you can&#39;t use it.  Typically it means that a server is running (or is exiting) but still has the specific port open.  Often this error is given when you are trying to shutdown one server and bring up the new version but the first server isn&#39;t total down when the new one is started.  You need to find the server in question and you may have to kill it using `kill -9` or something.\r\n\r\nA good tool to find out which application has the port open is `lsof`.  This should work under most Unixes (Linux) and MacOSX at least.\r\n\r\n    lsof -i :8083\r\n\r\n`lsof` is for LiSting the Open Files on a system but the `-i` option is for internet addresses:\r\n\r\n    -i [i]   This option selects the listing of files any of whose Internet\r\n             address matches the address specified in i.\r\n            [46][protocol][@hostname|hostaddr][:service|port]\r\n","title":"java.lang.Exception: Port 8083 already in use","body":"<blockquote>\n  <p>java.lang.Exception: Port 8083 already in use.</p>\n</blockquote>\n\n<p>The error means that another application already has that port bound so that you can't use it.  Typically it means that a server is running (or is exiting) but still has the specific port open.  Often this error is given when you are trying to shutdown one server and bring up the new version but the first server isn't total down when the new one is started.  You need to find the server in question and you may have to kill it using <code>kill -9</code> or something.</p>\n\n<p>A good tool to find out which application has the port open is <code>lsof</code>.  This should work under most Unixes (Linux) and MacOSX at least.</p>\n\n<pre><code>lsof -i :8083\n</code></pre>\n\n<p><code>lsof</code> is for LiSting the Open Files on a system but the <code>-i</code> option is for internet addresses:</p>\n\n<pre><code>-i [i]   This option selects the listing of files any of whose Internet\n         address matches the address specified in i.\n        [46][protocol][@hostname|hostaddr][:service|port]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":76110,"reputation":4784,"user_id":218119,"display_name":"Benxamin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1363036952,"creation_date":1363036952,"answer_id":15348915,"question_id":8416222,"body_markdown":"I get this with JBoss server every once in a while. It&#39;s not intuitive that you would need to restart Java, but the above methods didn&#39;t work.  \r\n\r\nFor **Mac OS X**:\r\n\r\nSLOW\r\n\r\n 1. Open Activity Monitor.\r\n 2. Filter by &quot;java&quot;\r\n 3. Quit any processes (usually just one). \r\n 4. Restart your server. \r\n\r\nFAST\r\n\r\n`ps aux | grep &#39;java&#39;` to list the current Java processes and their IDs. \r\n\r\n`kill -9 process_id_goes_here`","title":"java.lang.Exception: Port 8083 already in use","body":"<p>I get this with JBoss server every once in a while. It's not intuitive that you would need to restart Java, but the above methods didn't work.  </p>\n\n<p>For <strong>Mac OS X</strong>:</p>\n\n<p>SLOW</p>\n\n<ol>\n<li>Open Activity Monitor.</li>\n<li>Filter by \"java\"</li>\n<li>Quit any processes (usually just one). </li>\n<li>Restart your server. </li>\n</ol>\n\n<p>FAST</p>\n\n<p><code>ps aux | grep 'java'</code> to list the current Java processes and their IDs. </p>\n\n<p><code>kill -9 process_id_goes_here</code></p>\n"},{"tags":[],"owner":{"account_id":2567258,"reputation":153,"user_id":2226964,"display_name":"The Tomahawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389438580,"creation_date":1389438580,"answer_id":21061524,"question_id":8416222,"body_markdown":"There is another possibility: you may be trying to bind to the wrong IP address -- JBoss will report this as being unable to bind to the port.\r\n\r\nCheck your -b option against your run.sh and ensure that it is either 0.0.0.0 or the IP or hostname of the server.&lt;br&gt;\r\n- If it&#39;s 0.0.0.0, then the problem is that the port is in use.&lt;br&gt;\r\n- If it&#39;s the IP, verify that it is the correct ip using /sbin/ifconfig (or ipconfig on Windows)&lt;br&gt;\r\n- If it&#39;s the hostname, then run&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;telnet hostname_here&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;and verify that the IP address that is resolves to is the correct IP address.\r\n\r\nI had this exact issue and I found that someone had put the wrong IP address in the /etc/hosts file.  Once I fixed the file, JBoss started fine.","title":"java.lang.Exception: Port 8083 already in use","body":"<p>There is another possibility: you may be trying to bind to the wrong IP address -- JBoss will report this as being unable to bind to the port.</p>\n\n<p>Check your -b option against your run.sh and ensure that it is either 0.0.0.0 or the IP or hostname of the server.<br>\n- If it's 0.0.0.0, then the problem is that the port is in use.<br>\n- If it's the IP, verify that it is the correct ip using /sbin/ifconfig (or ipconfig on Windows)<br>\n- If it's the hostname, then run<br>\n&nbsp;&nbsp;telnet hostname_here<br>\n&nbsp;&nbsp;and verify that the IP address that is resolves to is the correct IP address.</p>\n\n<p>I had this exact issue and I found that someone had put the wrong IP address in the /etc/hosts file.  Once I fixed the file, JBoss started fine.</p>\n"},{"tags":[],"owner":{"account_id":5259242,"reputation":81,"user_id":4201196,"display_name":"abinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423209381,"creation_date":1423200575,"answer_id":28359141,"question_id":8416222,"body_markdown":"In Eclipse, if you got this error, it means there are one or two Eclipse instances using the same port.\r\n\r\nThe solution is go to your operating system&#39;s process manager and kill the \r\nEclipse and java processes.","title":"java.lang.Exception: Port 8083 already in use","body":"<p>In Eclipse, if you got this error, it means there are one or two Eclipse instances using the same port.</p>\n\n<p>The solution is go to your operating system's process manager and kill the \nEclipse and java processes.</p>\n"},{"tags":[],"owner":{"account_id":2189427,"reputation":630,"user_id":1936955,"accept_rate":43,"display_name":"Noor Syed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428525370,"creation_date":1428525370,"answer_id":29524865,"question_id":8416222,"body_markdown":"Make sure the ports are different on two JBOSS instances in the file conf/bindingservices.beans/META-INF/bindings-jboss-beans.xml\r\n\r\nThere are around 10 ports to change\r\n                                                                                            \r\n","title":"java.lang.Exception: Port 8083 already in use","body":"<p>Make sure the ports are different on two JBOSS instances in the file conf/bindingservices.beans/META-INF/bindings-jboss-beans.xml</p>\n\n<p>There are around 10 ports to change</p>\n"},{"tags":[],"owner":{"account_id":29256396,"reputation":11,"user_id":22414504,"display_name":"Adil ALTUN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692720603,"creation_date":1692719573,"answer_id":76955009,"question_id":8416222,"body_markdown":"If you are using windows operating system, you can follow these commands in command prompt: \r\n\r\n - *netstat -ano | findstr :8083*\r\n\r\n[response of the ***netstat -ano | findstr :8083*** command][1]\r\n\r\nAfter typing the command, we reach the listening number (in this example listening number: 3680). \r\n\r\nAfter reaching this number, We can write this command:\r\n\r\n - *taskkill /PID 3680 /F*\r\n\r\n[response of the ***taskkill /PID 3680 /F*** command][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NO1Fz.png\r\n  [2]: https://i.stack.imgur.com/J2H7V.png","title":"java.lang.Exception: Port 8083 already in use","body":"<p>If you are using windows operating system, you can follow these commands in command prompt:</p>\n<ul>\n<li><em>netstat -ano | findstr :8083</em></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/NO1Fz.png\" rel=\"nofollow noreferrer\">response of the <em><strong>netstat -ano | findstr :8083</strong></em> command</a></p>\n<p>After typing the command, we reach the listening number (in this example listening number: 3680).</p>\n<p>After reaching this number, We can write this command:</p>\n<ul>\n<li><em>taskkill /PID 3680 /F</em></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/J2H7V.png\" rel=\"nofollow noreferrer\">response of the <em><strong>taskkill /PID 3680 /F</strong></em> command</a></p>\n"}],"owner":{"account_id":938159,"reputation":1423,"user_id":966709,"accept_rate":44,"display_name":"S Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29897,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":8416424,"answer_count":10,"score":10,"last_activity_date":1692720603,"creation_date":1323265226,"question_id":8416222,"body_markdown":"I am getting exception on console which is:\r\n        \r\n    java.lang.Exception: Port 8083 already in use.\r\n\r\nHow to resolve this exception? If I will get which service is using 8083 port then I can stop that service and in this way I can get over this problem.\r\n\r\nThanks for your help!","title":"java.lang.Exception: Port 8083 already in use","body":"<p>I am getting exception on console which is:</p>\n\n<pre><code>java.lang.Exception: Port 8083 already in use.\n</code></pre>\n\n<p>How to resolve this exception? If I will get which service is using 8083 port then I can stop that service and in this way I can get over this problem.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692717315,"post_id":76954664,"comment_id":135660904,"body_markdown":"Can you post your whole DTO class?","body":"Can you post your whole DTO class?"},{"owner":{"account_id":29276397,"reputation":9,"user_id":22430038,"display_name":"Phu"},"score":0,"creation_date":1692718562,"post_id":76954664,"comment_id":135661211,"body_markdown":"It&#39;s whole my DTO","body":"It&#39;s whole my DTO"}],"owner":{"account_id":29276397,"reputation":9,"user_id":22430038,"display_name":"Phu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692719874,"creation_date":1692716895,"question_id":76954664,"body_markdown":"I have a class\r\n\r\n```\r\n@Entity\r\npublic class Group {\r\n  @Id\r\n  private long id;\r\n  @Column\r\n  private String uuid;\r\n  @Column@Type(JsonType.class) \r\n  private Info info;\r\n}\r\n```\r\n\r\n```\r\npublic record Info(String name, String email, String age) {}\r\n```\r\n\r\nI have a DTO\r\n```\r\npublic record InfoDto(String uuid, Info info) {}\r\n```\r\n\r\nI use query \r\n```\r\n@Query(value = &quot;SELECT new com.example.InfoDto(g.uuid, g.info) FROM Group g&quot;)\r\nList&lt;InfoDto&gt; findInfoDto();\r\n```\r\n\r\nIt return error *Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection*\r\n\r\nPlease help me solve this problem. Many thanks\r\n\r\nI change record to class and add contructor, it stll error","title":"Cannot map json type to DTO spring data jpa","body":"<p>I have a class</p>\n<pre><code>@Entity\npublic class Group {\n  @Id\n  private long id;\n  @Column\n  private String uuid;\n  @Column@Type(JsonType.class) \n  private Info info;\n}\n</code></pre>\n<pre><code>public record Info(String name, String email, String age) {}\n</code></pre>\n<p>I have a DTO</p>\n<pre><code>public record InfoDto(String uuid, Info info) {}\n</code></pre>\n<p>I use query</p>\n<pre><code>@Query(value = &quot;SELECT new com.example.InfoDto(g.uuid, g.info) FROM Group g&quot;)\nList&lt;InfoDto&gt; findInfoDto();\n</code></pre>\n<p>It return error <em>Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection</em></p>\n<p>Please help me solve this problem. Many thanks</p>\n<p>I change record to class and add contructor, it stll error</p>\n"},{"tags":["java","jvm","java-memory-model","jls"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1690671627,"post_id":76795737,"comment_id":135386515,"body_markdown":"The order you gave is not possible. A constructor call is a synchronous process. Thus, `T1` does not have the possibility to set a reference to the (partially initialized) object so `T2` can read it.","body":"The order you gave is not possible. A constructor call is a synchronous process. Thus, <code>T1</code> does not have the possibility to set a reference to the (partially initialized) object so <code>T2</code> can read it."},{"owner":{"account_id":974397,"reputation":2803,"user_id":996142,"accept_rate":29,"display_name":"user996142"},"score":0,"creation_date":1690671991,"post_id":76795737,"comment_id":135386552,"body_markdown":"Thank you, @Turing85 . Which JLS section says this? I only see guarantees about final fields","body":"Thank you, @Turing85 . Which JLS section says this? I only see guarantees about final fields"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1690672542,"post_id":76795737,"comment_id":135386590,"body_markdown":"I do not fully understand the question. If `T1` wants to share some object with `T2`, it needs to write that object&#39;s reference to a shared variable. This means an assignment, e.g. `sharedVariable = new Foo();`. This guarantees that the `Foo`-object is fully constructed before its reference is assigned to `sharedVariable`.","body":"I do not fully understand the question. If <code>T1</code> wants to share some object with <code>T2</code>, it needs to write that object&#39;s reference to a shared variable. This means an assignment, e.g. <code>sharedVariable = new Foo();</code>. This guarantees that the <code>Foo</code>-object is fully constructed before its reference is assigned to <code>sharedVariable</code>."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":2,"creation_date":1690672834,"post_id":76795737,"comment_id":135386601,"body_markdown":"How do you pass a link to the object from T1 to T2? For example, if it is a volatile field, then write and read to it would create a happens-before relationship according to JVM that guarantees visibility of all previous changes including adding foo","body":"How do you pass a link to the object from T1 to T2? For example, if it is a volatile field, then write and read to it would create a happens-before relationship according to JVM that guarantees visibility of all previous changes including adding foo"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1690674374,"post_id":76795737,"comment_id":135386720,"body_markdown":"I&#39;m with gdomo.  `myList` doesn&#39;t matter here.  We must know how you pass the reference to `MyClass` to T2 or we can&#39;t say if it&#39;s safe or not.  You need to show us that code.  *Assuming* T2 has a reference, then yes it can call `add()` safely (that&#39;s because the field is `final`).  However the call to `add()` may not be visible to any *other* thread in the system (including T1) because it is unsynchronized.","body":"I&#39;m with gdomo.  <code>myList</code> doesn&#39;t matter here.  We must know how you pass the reference to <code>MyClass</code> to T2 or we can&#39;t say if it&#39;s safe or not.  You need to show us that code.  <i>Assuming</i> T2 has a reference, then yes it can call <code>add()</code> safely (that&#39;s because the field is <code>final</code>).  However the call to <code>add()</code> may not be visible to any <i>other</i> thread in the system (including T1) because it is unsynchronized."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692719850,"creation_date":1690672999,"answer_id":76795786,"question_id":76795737,"body_markdown":"Your thinking is incorrect. It&#39;s a sensible line of thought, but, this section of the JMM ([JMM &#167;17.5](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5)):\r\n\r\n&gt; It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n\r\nDisagrees with the analysis. So, assuming you adhere to the rules set forth in that section of the JMM, which is:\r\n\r\n_Do not let the `this` ref escape from the constructor. e.g. if the constructor does `someStaticField = this;` or `someOtherThing.hereYouGo(this);`, any code that uses that `this` reference does not get the guarantee._\r\n\r\nThen not only are the direct values safe (as in, for primitives, the value, and for objects, the reference (i.e. the pointer)), but so are that object&#39;s fields / that array&#39;s slots. &quot;safe&quot; here means: Any code that refers to it (other than via the above exception where you don&#39;t get this safety) cannot observe any of the `final` fields in a state as it was before the constructor _finishes_.\r\n\r\nHence, your snippet is well-formed.\r\n\r\nNote of course that the act of assigning the value of a constructor call is, itself, not covered by any of this. Hence:\r\n\r\n```\r\nclass Example {\r\n  MyObject c;\r\n\r\n  void codeInThread1() {\r\n    c = new MyObject();\r\n  }\r\n\r\n  void codeInThread2() {\r\n    System.out.println(c);\r\n  }\r\n}\r\n```\r\n\r\nMay result in thread 2 printing `null` (because `c` is observed as `null` by thread 2), _even if_ other effects the code has clearly indicates thread1 has progressed well past `c = new MyObject();`. The JMM does not guarantee that one thread&#39;s writes are observed by another thread unless a Happens-Before relationship is established.\r\n\r\nHowever, the JVM does guarantee no sheared writes for object refs and a certain consistency: There are only 2 things that can be observed by thread 2. EITHER `null`, OR a fully initialized object, i.e., no state as it was _before_ the constructor finished can be observed by thread 2.","title":"Is it safe to assume that everything happened in a constructor is visible to threads running methods after object initialization?","body":"<p>Your thinking is incorrect. It's a sensible line of thought, but, this section of the JMM (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">JMM §17.5</a>):</p>\n<blockquote>\n<p>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>Disagrees with the analysis. So, assuming you adhere to the rules set forth in that section of the JMM, which is:</p>\n<p><em>Do not let the <code>this</code> ref escape from the constructor. e.g. if the constructor does <code>someStaticField = this;</code> or <code>someOtherThing.hereYouGo(this);</code>, any code that uses that <code>this</code> reference does not get the guarantee.</em></p>\n<p>Then not only are the direct values safe (as in, for primitives, the value, and for objects, the reference (i.e. the pointer)), but so are that object's fields / that array's slots. &quot;safe&quot; here means: Any code that refers to it (other than via the above exception where you don't get this safety) cannot observe any of the <code>final</code> fields in a state as it was before the constructor <em>finishes</em>.</p>\n<p>Hence, your snippet is well-formed.</p>\n<p>Note of course that the act of assigning the value of a constructor call is, itself, not covered by any of this. Hence:</p>\n<pre><code>class Example {\n  MyObject c;\n\n  void codeInThread1() {\n    c = new MyObject();\n  }\n\n  void codeInThread2() {\n    System.out.println(c);\n  }\n}\n</code></pre>\n<p>May result in thread 2 printing <code>null</code> (because <code>c</code> is observed as <code>null</code> by thread 2), <em>even if</em> other effects the code has clearly indicates thread1 has progressed well past <code>c = new MyObject();</code>. The JMM does not guarantee that one thread's writes are observed by another thread unless a Happens-Before relationship is established.</p>\n<p>However, the JVM does guarantee no sheared writes for object refs and a certain consistency: There are only 2 things that can be observed by thread 2. EITHER <code>null</code>, OR a fully initialized object, i.e., no state as it was <em>before</em> the constructor finished can be observed by thread 2.</p>\n"},{"tags":[],"owner":{"account_id":29122864,"reputation":31,"user_id":22309916,"display_name":"user22309916"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690728357,"creation_date":1690728357,"answer_id":76798258,"question_id":76795737,"body_markdown":"The &quot;Hold on!&quot; part of [the accepted answer](https://stackoverflow.com/a/76795786) requires correction.\r\n\r\nIt&#39;s assumed there that the inner state of the object, stored in a final field, is guaranteed by the JMM to be visible in other threads at least as up-to-date as it was _when the final field was assigned_ inside the constructor.\r\n\r\nBut actually, the JMM guarantees that the inner state will be as up-to-date as _at the end of the constructor_, where the final field was assigned.\r\n\r\nThe reason for the confusion is [the following sentence in the JLS](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5.1):\r\n&gt; It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n\r\nThe quote above can be interpreted both ways because it&#39;s a human-friendly text.  \r\nTo find out precisely what is guaranteed we need to look at the actual rules (which the quote above describes in a human-friendly way): [17.5.1. Semantics of final Fields](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5.1).  \r\nLet&#39;s apply these rules to our example (notice the names of the actions given in the comments).\r\n\r\n```java\r\npublic class MyClass {\r\n\r\n  final List&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n\r\n  MyClass() {\r\n    myList.add(&quot;foo&quot;); // w (internal write, e.g. myList.size=1)\r\n    // f (freeze action which happens at the end of constructor)\r\n  }\r\n\r\n  void add(String data) {\r\n    myList.add(data); // r1 (read of final field &#39;o.myList&#39;) and r2 (internal read, e.g. myList.size))\r\n  }\r\n\r\n  static MyClass o;\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    var thread1 = new Thread(() -&gt; {\r\n      o = new MyClass(); // a (publication of the object in thread1)\r\n    });\r\n    var thread2 = new Thread(() -&gt; {\r\n      o.add(&quot;test&quot;); // r0 (read of the published object in thread2)\r\n    });\r\n    thread1.start();\r\n    thread2.start();\r\n    thread1.join();\r\n    thread2.join();\r\n  }\r\n}\r\n```\r\n\r\nWith this action names we can use the following rule from the JLS:\r\n&gt; Given a write _w_, a freeze _f_, an action _a_ (that is not a read of a `final` field), a read _r&lt;sub&gt;1&lt;/sub&gt;_ of the final field frozen by _f_, and a read _r&lt;sub&gt;2&lt;/sub&gt;_ such that _hb(w, f)_, _hb(f, a)_, _mc(a, r&lt;sub&gt;1&lt;/sub&gt;)_, and _dereferences(r&lt;sub&gt;1&lt;/sub&gt;, r&lt;sub&gt;2&lt;/sub&gt;)_, then when determining which values can be seen by _r&lt;sub&gt;2&lt;/sub&gt;_, we consider _hb(w, r&lt;sub&gt;2&lt;/sub&gt;)_. (This _happens-before_ ordering does not transitively close with other _happens-before_ orderings.)\r\n\r\nAs you can see, _w_ (the write `o.myList.size=1` inside `MyClass()` in thread1) _happens-before*_ _r2_ (the read of `o.myList.size` in thread2).  \r\nAs a result, the JMM guarantees that thread2 sees inner state of `o.myList` as it was at the end of the constructor in thread1.\r\n\r\nYou can apply the same logic to any other inner field (at any depth) of the `o.myList` object.\r\n\r\nFor more info about the JMM `final` guarantees I would recommend [this presentation by Vladimir Sitnikov](https://www.slideshare.net/VladimirSitnikv/final-field-semantics).\r\n\r\n---\r\n\r\nP.S. it&#39;s worth noting that _freeze_ happens at the end of the constructor that writes into the final field:\r\n&gt; Let _o_ be an object, and _c_ be a constructor for _o_ in which a `final` field _f_ is written. A _freeze_ action on `final` field _f_ of _o_ takes place when _c_ exits, either normally or abruptly.\r\n&gt; \r\n&gt; Note that if one constructor invokes another constructor, and the invoked constructor sets a `final` field, the freeze for the `final` field takes place at the end of the invoked constructor. \r\n\r\nthis means in the following example thread2 may see `myList` as empty, because `freeze` happens at the end of `private MyClass() {}` constructor:\r\n```java\r\npublic class MyClass {\r\n\r\n  final List&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n\r\n  private MyClass() {}\r\n\r\n  // in thread1\r\n  MyClass(String str) {\r\n    this();\r\n    myList.add(str);\r\n  }\r\n\r\n  // in thread2\r\n  void add(String data) {\r\n    myList.add(data);\r\n  }\r\n}\r\n```\r\n\r\nFinally, those, who are curious about which of the object&#39;s constructors execute field initializers, should read [12.5. Creation of New Class Instances](https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5).\r\n","title":"Is it safe to assume that everything happened in a constructor is visible to threads running methods after object initialization?","body":"<p>The &quot;Hold on!&quot; part of <a href=\"https://stackoverflow.com/a/76795786\">the accepted answer</a> requires correction.</p>\n<p>It's assumed there that the inner state of the object, stored in a final field, is guaranteed by the JMM to be visible in other threads at least as up-to-date as it was <em>when the final field was assigned</em> inside the constructor.</p>\n<p>But actually, the JMM guarantees that the inner state will be as up-to-date as <em>at the end of the constructor</em>, where the final field was assigned.</p>\n<p>The reason for the confusion is <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5.1\" rel=\"nofollow noreferrer\">the following sentence in the JLS</a>:</p>\n<blockquote>\n<p>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>The quote above can be interpreted both ways because it's a human-friendly text.<br />\nTo find out precisely what is guaranteed we need to look at the actual rules (which the quote above describes in a human-friendly way): <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5.1\" rel=\"nofollow noreferrer\">17.5.1. Semantics of final Fields</a>.<br />\nLet's apply these rules to our example (notice the names of the actions given in the comments).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n  final List&lt;String&gt; myList = new ArrayList&lt;&gt;();\n\n  MyClass() {\n    myList.add(&quot;foo&quot;); // w (internal write, e.g. myList.size=1)\n    // f (freeze action which happens at the end of constructor)\n  }\n\n  void add(String data) {\n    myList.add(data); // r1 (read of final field 'o.myList') and r2 (internal read, e.g. myList.size))\n  }\n\n  static MyClass o;\n\n  public static void main(String[] args) throws InterruptedException {\n    var thread1 = new Thread(() -&gt; {\n      o = new MyClass(); // a (publication of the object in thread1)\n    });\n    var thread2 = new Thread(() -&gt; {\n      o.add(&quot;test&quot;); // r0 (read of the published object in thread2)\n    });\n    thread1.start();\n    thread2.start();\n    thread1.join();\n    thread2.join();\n  }\n}\n</code></pre>\n<p>With this action names we can use the following rule from the JLS:</p>\n<blockquote>\n<p>Given a write <em>w</em>, a freeze <em>f</em>, an action <em>a</em> (that is not a read of a <code>final</code> field), a read <em>r<sub>1</sub></em> of the final field frozen by <em>f</em>, and a read <em>r<sub>2</sub></em> such that <em>hb(w, f)</em>, <em>hb(f, a)</em>, <em>mc(a, r<sub>1</sub>)</em>, and <em>dereferences(r<sub>1</sub>, r<sub>2</sub>)</em>, then when determining which values can be seen by <em>r<sub>2</sub></em>, we consider <em>hb(w, r<sub>2</sub>)</em>. (This <em>happens-before</em> ordering does not transitively close with other <em>happens-before</em> orderings.)</p>\n</blockquote>\n<p>As you can see, <em>w</em> (the write <code>o.myList.size=1</code> inside <code>MyClass()</code> in thread1) <em>happens-before*</em> <em>r2</em> (the read of <code>o.myList.size</code> in thread2).<br />\nAs a result, the JMM guarantees that thread2 sees inner state of <code>o.myList</code> as it was at the end of the constructor in thread1.</p>\n<p>You can apply the same logic to any other inner field (at any depth) of the <code>o.myList</code> object.</p>\n<p>For more info about the JMM <code>final</code> guarantees I would recommend <a href=\"https://www.slideshare.net/VladimirSitnikv/final-field-semantics\" rel=\"nofollow noreferrer\">this presentation by Vladimir Sitnikov</a>.</p>\n<hr />\n<p>P.S. it's worth noting that <em>freeze</em> happens at the end of the constructor that writes into the final field:</p>\n<blockquote>\n<p>Let <em>o</em> be an object, and <em>c</em> be a constructor for <em>o</em> in which a <code>final</code> field <em>f</em> is written. A <em>freeze</em> action on <code>final</code> field <em>f</em> of <em>o</em> takes place when <em>c</em> exits, either normally or abruptly.</p>\n<p>Note that if one constructor invokes another constructor, and the invoked constructor sets a <code>final</code> field, the freeze for the <code>final</code> field takes place at the end of the invoked constructor.</p>\n</blockquote>\n<p>this means in the following example thread2 may see <code>myList</code> as empty, because <code>freeze</code> happens at the end of <code>private MyClass() {}</code> constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n  final List&lt;String&gt; myList = new ArrayList&lt;&gt;();\n\n  private MyClass() {}\n\n  // in thread1\n  MyClass(String str) {\n    this();\n    myList.add(str);\n  }\n\n  // in thread2\n  void add(String data) {\n    myList.add(data);\n  }\n}\n</code></pre>\n<p>Finally, those, who are curious about which of the object's constructors execute field initializers, should read <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">12.5. Creation of New Class Instances</a>.</p>\n"}],"owner":{"account_id":974397,"reputation":2803,"user_id":996142,"accept_rate":29,"display_name":"user996142"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76795786,"answer_count":2,"score":4,"last_activity_date":1692719850,"creation_date":1690671461,"question_id":76795737,"body_markdown":"Lets have the following class:\r\n```java\r\npublic class MyClass {\r\n  private final List&lt;String&gt; myList = new ArrayList&lt;&gt;(); //Not a thread-safe thing\r\n\r\n  // Called on thread 1\r\n  MyClass() {\r\n    myList.add(&quot;foo&quot;);\r\n  }\r\n\r\n  // Called on thread 2\r\n  void add(String data) {\r\n    myList.add(data);\r\n  }\r\n}\r\n```\r\nIs it well-formed or not?\r\n\r\nI was only able to find this:\r\n\r\n&gt; An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object&#39;s final fields.\r\n\r\nhttps://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5\r\n\r\nThat means &quot;thread 2&quot; must see `ArrayList`, but may or may not see its content, right?\r\n\r\nIn other words, is it possible to have the following order:\r\n\r\nT1: Creates `MyClass` along with `ArrayList`\r\n\r\nT2: Accesses `ArrayList`\r\n\r\nT1: Adds &quot;foo&quot; to the list\r\n","title":"Is it safe to assume that everything happened in a constructor is visible to threads running methods after object initialization?","body":"<p>Lets have the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n  private final List&lt;String&gt; myList = new ArrayList&lt;&gt;(); //Not a thread-safe thing\n\n  // Called on thread 1\n  MyClass() {\n    myList.add(&quot;foo&quot;);\n  }\n\n  // Called on thread 2\n  void add(String data) {\n    myList.add(data);\n  }\n}\n</code></pre>\n<p>Is it well-formed or not?</p>\n<p>I was only able to find this:</p>\n<blockquote>\n<p>An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object's final fields.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5</a></p>\n<p>That means &quot;thread 2&quot; must see <code>ArrayList</code>, but may or may not see its content, right?</p>\n<p>In other words, is it possible to have the following order:</p>\n<p>T1: Creates <code>MyClass</code> along with <code>ArrayList</code></p>\n<p>T2: Accesses <code>ArrayList</code></p>\n<p>T1: Adds &quot;foo&quot; to the list</p>\n"},{"tags":["java","functional-programming","implicit"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692717795,"creation_date":1692717795,"answer_id":76954781,"question_id":76954735,"body_markdown":"This is a pain to find in the Java Language Specification, but I think you&#39;re looking for [section 15.13.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.3), at least in version 8 of the spec, specifically the line\r\n\r\n&gt; If the compile-time declaration is an instance method, then the target reference is the first formal parameter of the invocation method. Otherwise, there is no target reference.","title":"Question about implicit class argument in Java method reference","body":"<p>This is a pain to find in the Java Language Specification, but I think you're looking for <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.3\" rel=\"nofollow noreferrer\">section 15.13.3</a>, at least in version 8 of the spec, specifically the line</p>\n<blockquote>\n<p>If the compile-time declaration is an instance method, then the target reference is the first formal parameter of the invocation method. Otherwise, there is no target reference.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692719820,"creation_date":1692719820,"answer_id":76955034,"question_id":76954735,"body_markdown":"As @LouisWasserman &#39;s answer mentions, it&#39;s &#167;15.13.3\r\n\r\nOne useful way to think about:\r\n\r\n```\r\nreceiver.method(arg1, arg2);\r\n```\r\n\r\nIs that there is no meaningful difference between that and:\r\n\r\n```\r\nTypeOfReceiver.method(receiver, arg1, arg2);\r\n```\r\n\r\n_Other than_ dynamic dispatch (where at compile time the expressions&#39; type is relevant, but at runtime, the actual object you find by following the reference, and if that is of a more specific type that has overridden the method, the overridden implementation is called - this is unique to instance methods, and not something static methods get).\r\n\r\nIn fact, at the JVM level it actually works that way, more or less, and you can even actually add it to a method definition! This is legal java:\r\n\r\n```\r\npublic class MyExample {\r\n  void instanceMethod(MyExample this, int param1) {\r\n  }\r\n}\r\n```\r\n\r\nThe `instanceMethod` is an instance method with 1 (!) parameter (param1). You invoke with: `new MyExample().instanceMethod(5)`. The `MyExample this` is completely ignored, but legal. It exists so you can put annotations on the &#39;receiver&#39;.\r\n\r\nWhen thinking about this hypothetical instance method, it really does have 2 parameters. The JVM implementation will push 2 things on the stack before invoking it: The `this` reference, and the `param1` value.\r\n\r\nThe same thinking applies for lambdas. Given __just__ &quot;Hey, I&#39;m talking about the instanceMethod as a method&quot;, then it really does have 2 parameters.\r\n\r\nJava does allow partly bound concepts, though - you can choose to provide half of the parameterlist (specifically, the `this` ref):\r\n\r\n```\r\nMyExample myEx = new MyExample();\r\nIntConsumer ic = myEx::instanceMethod;\r\nic.accept(5);\r\n```\r\n\r\nThat works - that final line is identical to calling `myEx.instanceMethod(5)`. The `myEx` reference is &#39;baked in&#39; to `ic`, so that&#39;s where that comes from, and the &#39;5&#39; is provided by calling `accept`.\r\n\r\nIn contrast:\r\n\r\n```\r\nMyExample myEx = new MyExample();\r\nBiConsumer&lt;MyExample, Integer&gt; tif = MyExample::instanceMethod;\r\ntif.accept(myEx, 5);\r\n```\r\n\r\n(There is no BiIntConsumer primitive variant so we have to resort to autoboxing to make this one work) - here our `tif` function has neither parameter pre-bound, so _both_ would need to be provided. After all, it is not possible to invoke `instanceMethod` without, well, an instance of `MyExample`. So how would `tif.accept(5)` work - what is `this` going to be within the context of the `instanceMethod` code?\r\n\r\nThus, my advice is - aside from reading the spec specifically about lambas, consider instead that __every non-static method in java__ has, as first parameter, `TypeThisIsIn this`, even if you don&#39;t write it. You _can_ write that if you want, the compiler will let you, even.\r\n","title":"Question about implicit class argument in Java method reference","body":"<p>As @LouisWasserman 's answer mentions, it's §15.13.3</p>\n<p>One useful way to think about:</p>\n<pre><code>receiver.method(arg1, arg2);\n</code></pre>\n<p>Is that there is no meaningful difference between that and:</p>\n<pre><code>TypeOfReceiver.method(receiver, arg1, arg2);\n</code></pre>\n<p><em>Other than</em> dynamic dispatch (where at compile time the expressions' type is relevant, but at runtime, the actual object you find by following the reference, and if that is of a more specific type that has overridden the method, the overridden implementation is called - this is unique to instance methods, and not something static methods get).</p>\n<p>In fact, at the JVM level it actually works that way, more or less, and you can even actually add it to a method definition! This is legal java:</p>\n<pre><code>public class MyExample {\n  void instanceMethod(MyExample this, int param1) {\n  }\n}\n</code></pre>\n<p>The <code>instanceMethod</code> is an instance method with 1 (!) parameter (param1). You invoke with: <code>new MyExample().instanceMethod(5)</code>. The <code>MyExample this</code> is completely ignored, but legal. It exists so you can put annotations on the 'receiver'.</p>\n<p>When thinking about this hypothetical instance method, it really does have 2 parameters. The JVM implementation will push 2 things on the stack before invoking it: The <code>this</code> reference, and the <code>param1</code> value.</p>\n<p>The same thinking applies for lambdas. Given <strong>just</strong> &quot;Hey, I'm talking about the instanceMethod as a method&quot;, then it really does have 2 parameters.</p>\n<p>Java does allow partly bound concepts, though - you can choose to provide half of the parameterlist (specifically, the <code>this</code> ref):</p>\n<pre><code>MyExample myEx = new MyExample();\nIntConsumer ic = myEx::instanceMethod;\nic.accept(5);\n</code></pre>\n<p>That works - that final line is identical to calling <code>myEx.instanceMethod(5)</code>. The <code>myEx</code> reference is 'baked in' to <code>ic</code>, so that's where that comes from, and the '5' is provided by calling <code>accept</code>.</p>\n<p>In contrast:</p>\n<pre><code>MyExample myEx = new MyExample();\nBiConsumer&lt;MyExample, Integer&gt; tif = MyExample::instanceMethod;\ntif.accept(myEx, 5);\n</code></pre>\n<p>(There is no BiIntConsumer primitive variant so we have to resort to autoboxing to make this one work) - here our <code>tif</code> function has neither parameter pre-bound, so <em>both</em> would need to be provided. After all, it is not possible to invoke <code>instanceMethod</code> without, well, an instance of <code>MyExample</code>. So how would <code>tif.accept(5)</code> work - what is <code>this</code> going to be within the context of the <code>instanceMethod</code> code?</p>\n<p>Thus, my advice is - aside from reading the spec specifically about lambas, consider instead that <strong>every non-static method in java</strong> has, as first parameter, <code>TypeThisIsIn this</code>, even if you don't write it. You <em>can</em> write that if you want, the compiler will let you, even.</p>\n"}],"owner":{"account_id":3378504,"reputation":207,"user_id":2836136,"display_name":"cha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76954781,"answer_count":2,"score":1,"last_activity_date":1692719820,"creation_date":1692717404,"question_id":76954735,"body_markdown":"In Java, the class portion of a method reference can become the first argument of the function. I&#39;ve seen lots of examples in working code. But I wondered where in the Java Language Specification this is spelled out? I&#39;m wondering because whenever I see code like this, it takes me a few minutes to figure out why there is an &quot;extra&quot; first argument. So I thought it would be helpful to read the actual rule. It does not seem to be mentioned in the sections on functional interfaces or method references.\r\n\r\nHere is an example.\r\n\r\n    import java.util.function.BiFunction;\r\n    \r\n    public class TestBiFunction\r\n    {\r\n        public static void main(String[] args) {\r\n            BiFunction&lt;A.B, Integer, Integer&gt; fx = A.B::dbl;\r\n            A.B b = new A.B();\r\n            int result = fx.apply(b, 3);\r\n            System.out.println(&quot;Result = &quot; + result);\r\n        }\r\n    \r\n        private static class A {\r\n            private static class B {\r\n                public int dbl(int x) {\r\n                    return 2 * x;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nSo, specifically what I wondered was, in the statement &quot;BiFunction&lt;A.B, Integer&gt; fx = A.B::dbl;&quot;, what language rule makes the &quot;A.B&quot; in &quot;A.B::dbl&quot; become the first argument to the BiFunction?","title":"Question about implicit class argument in Java method reference","body":"<p>In Java, the class portion of a method reference can become the first argument of the function. I've seen lots of examples in working code. But I wondered where in the Java Language Specification this is spelled out? I'm wondering because whenever I see code like this, it takes me a few minutes to figure out why there is an &quot;extra&quot; first argument. So I thought it would be helpful to read the actual rule. It does not seem to be mentioned in the sections on functional interfaces or method references.</p>\n<p>Here is an example.</p>\n<pre><code>import java.util.function.BiFunction;\n\npublic class TestBiFunction\n{\n    public static void main(String[] args) {\n        BiFunction&lt;A.B, Integer, Integer&gt; fx = A.B::dbl;\n        A.B b = new A.B();\n        int result = fx.apply(b, 3);\n        System.out.println(&quot;Result = &quot; + result);\n    }\n\n    private static class A {\n        private static class B {\n            public int dbl(int x) {\n                return 2 * x;\n            }\n        }\n    }\n}\n</code></pre>\n<p>So, specifically what I wondered was, in the statement &quot;BiFunction&lt;A.B, Integer&gt; fx = A.B::dbl;&quot;, what language rule makes the &quot;A.B&quot; in &quot;A.B::dbl&quot; become the first argument to the BiFunction?</p>\n"},{"tags":["java","maven","pom.xml","vmargs"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1475086361,"post_id":39750348,"comment_id":66805647,"body_markdown":"for what do you want to add the vmargs? Compiling, testing, running your application? With what maven goal do you do this? You should show more of your pom.","body":"for what do you want to add the vmargs? Compiling, testing, running your application? With what maven goal do you do this? You should show more of your pom."}],"answers":[{"tags":[],"owner":{"account_id":4500635,"reputation":3691,"user_id":3659226,"accept_rate":36,"display_name":"RITZ XAVI"},"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1686563182,"creation_date":1475074878,"answer_id":39751176,"question_id":39750348,"body_markdown":"You can do this in few different ways.\r\n\r\n**Using the Maven Compiler Plugin**  \r\nYou can use the `compilerArgs` property of the plugin to specify the Xmx, Xms, Xss VM arguments.  \r\nBelow is an example\r\n\r\n    &lt;project&gt;\r\n        [...]\r\n        &lt;build&gt;\r\n          [...]\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n               &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n               &lt;version&gt;3.10.1&lt;/version&gt;\r\n               &lt;configuration&gt;\r\n                 &lt;compilerArgs&gt;\r\n                      &lt;arg&gt;-Xmx512M&lt;/arg&gt;   // You can provide comma separated values if you have more than one\r\n                 &lt;/compilerArgs&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n           &lt;/plugins&gt;\r\n           [...]\r\n        &lt;/build&gt;\r\n        [...]\r\n    &lt;/project&gt;\r\n\r\nRefer to the [Maven Compiler Plugin](https://maven.apache.org/components/plugins/maven-compiler-plugin/index.html) for more details.\r\n\r\n**Using the Maven Surefire Plugin**  \r\nYou can use the `argLine` property of the plugin to specify the Xmx, Xms, Xss VM arguments.  \r\nBelow is an example\r\n\r\n    &lt;/project&gt;    \r\n        [...]\r\n        &lt;build&gt;\r\n          [...]\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n               &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n               &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n               &lt;configuration&gt;\r\n                    &lt;argLine&gt;-Xmx512M&lt;/argLine&gt;   // You can provide comma separated values if you have more than one\r\n               &lt;/configuration&gt;\r\n             &lt;/plugin&gt;\r\n           &lt;/plugins&gt;\r\n           [...]\r\n        &lt;/build&gt;\r\n        [...]\r\n    &lt;/project&gt;\r\nRefer to the [Maven Surefire Plugin](https://maven.apache.org/components/surefire/maven-surefire-plugin/) for more details.","title":"How to add VM args using pom.xml plugin","body":"<p>You can do this in few different ways.</p>\n<p><strong>Using the Maven Compiler Plugin</strong><br />\nYou can use the <code>compilerArgs</code> property of the plugin to specify the Xmx, Xms, Xss VM arguments.<br />\nBelow is an example</p>\n<pre><code>&lt;project&gt;\n    [...]\n    &lt;build&gt;\n      [...]\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n           &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.10.1&lt;/version&gt;\n           &lt;configuration&gt;\n             &lt;compilerArgs&gt;\n                  &lt;arg&gt;-Xmx512M&lt;/arg&gt;   // You can provide comma separated values if you have more than one\n             &lt;/compilerArgs&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n       &lt;/plugins&gt;\n       [...]\n    &lt;/build&gt;\n    [...]\n&lt;/project&gt;\n</code></pre>\n<p>Refer to the <a href=\"https://maven.apache.org/components/plugins/maven-compiler-plugin/index.html\" rel=\"nofollow noreferrer\">Maven Compiler Plugin</a> for more details.</p>\n<p><strong>Using the Maven Surefire Plugin</strong><br />\nYou can use the <code>argLine</code> property of the plugin to specify the Xmx, Xms, Xss VM arguments.<br />\nBelow is an example</p>\n<pre><code>&lt;/project&gt;    \n    [...]\n    &lt;build&gt;\n      [...]\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.0.0-M7&lt;/version&gt;\n           &lt;configuration&gt;\n                &lt;argLine&gt;-Xmx512M&lt;/argLine&gt;   // You can provide comma separated values if you have more than one\n           &lt;/configuration&gt;\n         &lt;/plugin&gt;\n       &lt;/plugins&gt;\n       [...]\n    &lt;/build&gt;\n    [...]\n&lt;/project&gt;\n</code></pre>\n<p>Refer to the <a href=\"https://maven.apache.org/components/surefire/maven-surefire-plugin/\" rel=\"nofollow noreferrer\">Maven Surefire Plugin</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692719113,"creation_date":1692719113,"answer_id":76954957,"question_id":39750348,"body_markdown":"**Can be done in POM file as follows :**\r\n\r\n      &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n                        &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                        &lt;argLine&gt;\r\n                            --add-opens=java.base/java.lang=ALL-UNNAMED\r\n                            --add-opens=java.base/java.lang.invoke=ALL-UNNAMED\r\n                            --add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n                            --add-opens=java.base/java.io=ALL-UNNAMED\r\n                            --add-opens=java.base/java.net=ALL-UNNAMED\r\n                            --add-opens=java.base/java.nio=ALL-UNNAMED\r\n                            --add-opens=java.base/java.util=ALL-UNNAMED\r\n                            --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n                            --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\r\n                            --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n                            --add-opens=java.base/sun.nio.cs=ALL-UNNAMED\r\n                            --add-opens=java.base/sun.security.action=ALL-UNNAMED\r\n                            --add-opens=java.base/sun.util.calendar=ALL-UNNAMED\r\n                            --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED\r\n                            --add-exports java.base/sun.nio.ch=ALL-UNNAMED\r\n                        &lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;","title":"How to add VM args using pom.xml plugin","body":"<p><strong>Can be done in POM file as follows :</strong></p>\n<pre><code>  &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;forkCount&gt;1&lt;/forkCount&gt;\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                    &lt;argLine&gt;\n                        --add-opens=java.base/java.lang=ALL-UNNAMED\n                        --add-opens=java.base/java.lang.invoke=ALL-UNNAMED\n                        --add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n                        --add-opens=java.base/java.io=ALL-UNNAMED\n                        --add-opens=java.base/java.net=ALL-UNNAMED\n                        --add-opens=java.base/java.nio=ALL-UNNAMED\n                        --add-opens=java.base/java.util=ALL-UNNAMED\n                        --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n                        --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\n                        --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n                        --add-opens=java.base/sun.nio.cs=ALL-UNNAMED\n                        --add-opens=java.base/sun.security.action=ALL-UNNAMED\n                        --add-opens=java.base/sun.util.calendar=ALL-UNNAMED\n                        --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED\n                        --add-exports java.base/sun.nio.ch=ALL-UNNAMED\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3518477,"reputation":399,"user_id":2941355,"accept_rate":60,"display_name":"Rahul sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56755,"favorite_count":0,"down_vote_count":2,"up_vote_count":19,"accepted_answer_id":39751176,"answer_count":2,"score":17,"last_activity_date":1692719113,"creation_date":1475072671,"question_id":39750348,"body_markdown":"I have tried below ways but nothing work... \r\ni am trying to access jmx remotely from server.\r\n\r\n      \t     &lt;jvmArgs&gt;\r\n             &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.port=9999&lt;/jvmArg&gt;\r\n            &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.authenticate=false&lt;/jvmArg&gt;\r\n              &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.ssl=false&lt;/jvmArg&gt;\r\n            &lt;/jvmArgs&gt;\r\n\r\n            &lt;!-- &lt;systemPropertyVariables&gt; \r\n\t\t\t\t\t                   &lt;com.sun.management.jmxremote.port&gt;9999&lt;/com.sun.management.jmxremote.port&gt; \r\n                           &lt;com.sun.management.jmxremote.authenticate&gt;false&lt;/com.sun.management.jmxremote.a uthenticate&gt; \r\n                         &lt;com.sun.management.jmxremote.ssl&gt;false&lt;/com.sun.management.jmxremote.ssl&gt; \r\n                     &lt;/systemPropertyVariables&gt; --&gt;\r\n\r\n                     &lt;!-- &lt;jvmArguments&gt; \r\n\t\t\t\t\t &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.port=9999&lt;/jvmArgument&gt; \r\n                     &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.authenticate=false&lt;/jvmArgument&gt; \r\n                     &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.ssl=false&lt;/jvmArgument&gt; \r\n\t\t\t\t\t&lt;/jvmArguments&gt; --&gt;\r\n\r\n\r\nI also tried \r\n\r\n     &lt;options&gt;\r\n\t\t\t\t&lt;option&gt;-Dcom.sun.management.jmxremote.port=9999&lt;/option&gt; \r\n                &lt;option&gt;-Dcom.sun.management.jmxremote.authenticate=false&lt;/option&gt; \r\n\t\t\t\t&lt;option&gt;-Dcom.sun.management.jmxremote.ssl=false&lt;/option&gt; \r\n                &lt;/options&gt;","title":"How to add VM args using pom.xml plugin","body":"<p>I have tried below ways but nothing work... \ni am trying to access jmx remotely from server.</p>\n\n<pre><code>         &lt;jvmArgs&gt;\n         &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.port=9999&lt;/jvmArg&gt;\n        &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.authenticate=false&lt;/jvmArg&gt;\n          &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.ssl=false&lt;/jvmArg&gt;\n        &lt;/jvmArgs&gt;\n\n        &lt;!-- &lt;systemPropertyVariables&gt; \n                                   &lt;com.sun.management.jmxremote.port&gt;9999&lt;/com.sun.management.jmxremote.port&gt; \n                       &lt;com.sun.management.jmxremote.authenticate&gt;false&lt;/com.sun.management.jmxremote.a uthenticate&gt; \n                     &lt;com.sun.management.jmxremote.ssl&gt;false&lt;/com.sun.management.jmxremote.ssl&gt; \n                 &lt;/systemPropertyVariables&gt; --&gt;\n\n                 &lt;!-- &lt;jvmArguments&gt; \n                 &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.port=9999&lt;/jvmArgument&gt; \n                 &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.authenticate=false&lt;/jvmArgument&gt; \n                 &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.ssl=false&lt;/jvmArgument&gt; \n                &lt;/jvmArguments&gt; --&gt;\n</code></pre>\n\n<p>I also tried </p>\n\n<pre><code> &lt;options&gt;\n            &lt;option&gt;-Dcom.sun.management.jmxremote.port=9999&lt;/option&gt; \n            &lt;option&gt;-Dcom.sun.management.jmxremote.authenticate=false&lt;/option&gt; \n            &lt;option&gt;-Dcom.sun.management.jmxremote.ssl=false&lt;/option&gt; \n            &lt;/options&gt;\n</code></pre>\n"},{"tags":["java","swing","jframe","repaint"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1692589573,"post_id":76942250,"comment_id":135638951,"body_markdown":"Your `jFrameRefresh` creates a brand new set of controls every time it is called.  That can&#39;t really be what you intended.  The new controls will throw out the old set of controls (which are the ones you probably updated).","body":"Your <code>jFrameRefresh</code> creates a brand new set of controls every time it is called.  That can&#39;t really be what you intended.  The new controls will throw out the old set of controls (which are the ones you probably updated)."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1692589672,"post_id":76942250,"comment_id":135638963,"body_markdown":"The first 99% of `jFrameRefresh` should be a separate function, `jFrameCreate`  The last 7 lines should be `jFrameRefresh`.","body":"The first 99% of <code>jFrameRefresh</code> should be a separate function, <code>jFrameCreate</code>  The last 7 lines should be <code>jFrameRefresh</code>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692590709,"post_id":76942250,"comment_id":135639020,"body_markdown":"`static` is not your friend and this is not how you should be using it.  Maybe, you should investigate the &quot;singleton&quot; pattern (if it&#39;s not done using an `enum` then it&#39;s probably wrong). It&#39;d also argue that `repaint` is irrelevant to what you&#39;re trying to do","body":"<code>static</code> is not your friend and this is not how you should be using it.  Maybe, you should investigate the &quot;singleton&quot; pattern (if it&#39;s not done using an <code>enum</code> then it&#39;s probably wrong). It&#39;d also argue that <code>repaint</code> is irrelevant to what you&#39;re trying to do"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1692590828,"post_id":76942250,"comment_id":135639028,"body_markdown":"You might also want to look into the concept of &quot;model-view-controller&quot; and &quot;dependency injection&quot;","body":"You might also want to look into the concept of &quot;model-view-controller&quot; and &quot;dependency injection&quot;"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692595296,"post_id":76942250,"comment_id":135639371,"body_markdown":"It appears that you want your app to display and modify the contents of your JSON file. Currently you are only using containers including `JPanel` and `JScrollPane`. What you probably need is a [JList](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html) or a [JTable](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) to display the contents of the JSON file.","body":"It appears that you want your app to display and modify the contents of your JSON file. Currently you are only using containers including <code>JPanel</code> and <code>JScrollPane</code>. What you probably need is a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">JList</a> or a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a> to display the contents of the JSON file."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1692662141,"post_id":76942250,"comment_id":135651552,"body_markdown":"I copied your code into my IDE.  It has 35 compilation errors because I have no idea what JSON jar you are using.  If you don&#39;t have the time to produce a [mre] that I can copy into my IDE and run, then I don&#39;t have time to figure out how to make your project work.    Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Study it.","body":"I copied your code into my IDE.  It has 35 compilation errors because I have no idea what JSON jar you are using.  If you don&#39;t have the time to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that I can copy into my IDE and run, then I don&#39;t have time to figure out how to make your project work.    Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Study it."}],"owner":{"account_id":29264714,"reputation":1,"user_id":22420751,"display_name":"ThrillerGriller"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692719003,"creation_date":1692588933,"question_id":76942250,"body_markdown":"I&#39;m working on a JFrame application to save data with many different panels, labels and buttons. I want it so whenever data is added, it should refresh the page. It doesn&#39;t seem to work though?\r\n\r\nHere is the repaint code:\r\n\r\n```\r\n//Refreshes mainFrame\r\n    if (startUp == true) {\r\n\tmainFrame.setVisible(true);\r\n\tstartUp = false;\r\n    } else {\r\n\tSystem.out.println(&quot;repaint&quot;);\r\n\tmainFrame.repaint();\r\n    }\r\n```\r\n\r\nHere&#39;s my full code:\r\n\r\n**UserInterface.java**\r\n\r\n```\r\npackage groupid;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.Image;\r\nimport java.awt.Toolkit;\r\nimport java.awt.datatransfer.DataFlavor;\r\nimport java.awt.datatransfer.UnsupportedFlavorException;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.ScrollPaneConstants;\r\nimport javax.swing.SwingUtilities;\r\n\r\nimport org.json.simple.JSONObject;\r\n\r\n\r\n\r\npublic class UserInterface {\r\n\tstatic Boolean startUp = true;\r\n\t\r\n\t//Sort Options - Different Ways to Short Data\r\n\tstatic String sortOptions[] = {&quot;A - Z&quot;,&quot;Z - A&quot;,&quot;Recently Created&quot;,&quot;Oldest Created&quot;,&quot;Recently Modified&quot;};\r\n\t\r\n\t//Main Frame Components\r\n\tstatic ImageIcon icon;\r\n\tstatic JFrame mainFrame;\r\n\tstatic JPanel mainPanel;\r\n\tstatic JScrollPane mainScrollPane;\r\n\t\r\n\t//Main Panel Components\r\n\tstatic JPanel rightPanel;\r\n\tstatic JPanel sidePanel;\r\n\t\r\n\t//Right Panel Components\r\n\tstatic JPanel topPanel;\r\n\tstatic JPanel searchPanel;\r\n\tstatic JLabel searchLabel;\r\n\tstatic JTextField searchBar;\r\n\tstatic JPanel sortPanel;\r\n\tstatic JLabel sortByLabel;\r\n\tstatic JPanel bottomPanel;\r\n\tstatic JPanel addButtonPanel;\r\n\tstatic JButton addButton;\r\n\t\r\n\tstatic JPanel flowPanel;\r\n\tstatic JPanel titlePanel;\r\n\tstatic JLabel titleLabel;\r\n\tstatic JTextArea valueLabel;\r\n\t\r\n\tstatic String clipboardString;\r\n\tstatic Boolean pasteBool;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tDatabase.startUp();\r\n\t\tUserInterface.jFrameRefresh();\r\n\t}\r\n\t\r\n\tpublic static void jFrameRefresh(){\r\n\t\tif (startUp == true) {\r\n\t\t\tmainFrame = new JFrame(); // Creates our main frame\r\n\t\tmainFrame.setSize(1600, 900);\r\n\t\tmainFrame.setTitle(&quot;ClippyBoards&quot;);\r\n\t\tmainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tmainFrame.setResizable(true);\r\n\t\tmainFrame.setFocusable(true);\r\n\t\tmainFrame.setLayout(new BorderLayout(10,0));\r\n\t\tmainFrame.addWindowListener(new WindowAdapter() { // Exits out of application\r\n\t\t\t@Override\r\n\t\t    public void windowClosing(WindowEvent e) {\r\n\t\t        Database.saveFile();\r\n\t\t        mainFrame.dispose();\r\n\t\t    }\r\n\t\t});\r\n\t\t\r\n\t\t// Ctrl-V Ability\r\n\t\tmainFrame.addKeyListener(new KeyAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t\tif(e.getKeyCode() == KeyEvent.VK_V &amp;&amp; (e.getModifiersEx() &amp; KeyEvent.CTRL_DOWN_MASK) != 0) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tclipboardString = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\r\n\t\t\t\t\t} catch (UnsupportedFlavorException | IOException e1) {\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpasteBool = true;\r\n\t\t\t\t\tnew AddToClippyBoard();\r\n\t\t\t\t\tpasteBool = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\ticon = new ImageIcon(&quot;EggSMP.png&quot;);\r\n\t\tmainFrame.setIconImage(icon.getImage());\r\n\t\tmainFrame.getContentPane().setBackground(new Color(100,100,100));\r\n\t\t}\r\n\t\t\r\n\t\t// Right Panel - Panel that holds bottom panel and main panel\r\n\t\trightPanel = new JPanel(new BorderLayout(5,5));\r\n\t\trightPanel.setBackground(new Color(150,150,150));\r\n\t\trightPanel.setPreferredSize(new Dimension(1200,500));\r\n\t\tmainFrame.add(rightPanel,BorderLayout.CENTER);\r\n\t\t\r\n\t\tmainPanel = new JPanel(new FlowLayout(FlowLayout.CENTER,20,20));\r\n\t\tmainPanel.setBackground(new Color(230,230,230));\r\n\t\tmainScrollPane = new JScrollPane(mainPanel);\r\n\t\tmainScrollPane.createVerticalScrollBar();\r\n\t\tmainScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\tmainScrollPane.getVerticalScrollBar().setUnitIncrement(20);\r\n\t\trightPanel.add(mainScrollPane); // adds mainPanel, with scroll bar\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(Database.jsonArray.size());\r\n\t\t// Flow Panels - Shows all saved data\r\n\t\tloadClippy();\r\n\t\t\r\n\t\tif (valueLabel == null) {\r\n\t\t\tmainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(400+20)+50));\r\n\t\t} else {\r\n\t\t\tmainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(60 + (valueLabel.getLineCount()*18)+20)+50));\r\n\t\t}\r\n\t\t\r\n\t\t// Side Panel - Navigate and organize folders\r\n\t\tsidePanel = new JPanel(new FlowLayout());\r\n\t\tsidePanel.setPreferredSize(new Dimension(500,100));\r\n\t\tsidePanel.setBackground(new Color(220,228,232));\r\n\t\tmainFrame.add(sidePanel,BorderLayout.WEST);\r\n\t\t\r\n\t\t//Top Panel - Search Bar &amp; Sorting Options\r\n\t\ttopPanel = new JPanel(new BorderLayout());\r\n\t\ttopPanel.setPreferredSize(new Dimension(1000,50));\r\n\t\ttopPanel.setBackground(new Color(230,230,230));\r\n\t\trightPanel.add(topPanel,BorderLayout.NORTH);\r\n\t\t\r\n\t\t//Search Panel - Holds Search Bar\r\n\t\tsearchPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING,5,12));\r\n\t\tsearchPanel.setPreferredSize(new Dimension(500,50));\r\n\t\tsearchPanel.setBackground(new Color(230,230,230));\r\n\t\ttopPanel.add(searchPanel,BorderLayout.EAST);\r\n\t\t\r\n\t\t//Search Label\r\n\t\tsearchLabel = new JLabel();\r\n\t\tsearchLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\tsearchLabel.setText(&quot;Search:&quot;);\r\n\t\tsearchPanel.add(searchLabel);\r\n\t\t\r\n\t\t//Search Bar - Search for Items within\r\n\t\tsearchBar = new JTextField();\r\n\t\tsearchBar.setPreferredSize(new Dimension(250,30));\r\n\t\tsearchBar.setBackground(new Color(250,250,250));\r\n\t\tsearchBar.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\r\n\t\tsearchPanel.add(searchBar);\r\n\t\t\r\n\t\t//Sort Panel - Holds Sort Filter\r\n\t\tsortPanel = new JPanel(new FlowLayout(FlowLayout.LEADING,5,12));\r\n\t\tsortPanel.setPreferredSize(new Dimension(600,50));\r\n\t\tsortPanel.setBackground(new Color(230,230,230));\r\n\t\ttopPanel.add(sortPanel,BorderLayout.WEST);\r\n\t\t\r\n\t\t//Sort Label\r\n\t\ticon = new ImageIcon(new ImageIcon(&quot;SortBlack.png&quot;).getImage().getScaledInstance(30, 30, Image.SCALE_DEFAULT));\r\n\t\tsortByLabel = new JLabel();\r\n\t\tsortByLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\tsortByLabel.setText(&quot;Sort By:&quot;);\r\n\t\tsortByLabel.setIcon(icon);\r\n\t\tsortPanel.add(sortByLabel);\r\n\t\t\r\n\t\t//sort Filter - Sorts data by selected filter\r\n\t\tJComboBox&lt;String&gt; sortBy = new JComboBox&lt;String&gt;(sortOptions);\r\n\t\tsortBy.setPreferredSize(new Dimension(200,30));\r\n\t\tsortBy.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\r\n\t\tsortPanel.add(sortBy);\r\n\t\t\r\n\t\t// Bottom Panel - Undecided\r\n\t\tbottomPanel = new JPanel(new BorderLayout());\r\n\t\tbottomPanel.setPreferredSize(new Dimension(100,50));\r\n\t\tbottomPanel.setBackground(new Color(220,228,232));\r\n\t\trightPanel.add(bottomPanel,BorderLayout.SOUTH);\r\n\t\t\r\n\t\t\r\n\t\t// Button Panel - Holds Add Button\r\n\t\taddButtonPanel = new JPanel();\r\n\t\taddButtonPanel.setPreferredSize(new Dimension(50,50));\r\n\t\taddButtonPanel.setBackground(new Color(220,228,232));\r\n\t\tbottomPanel.add(addButtonPanel,BorderLayout.EAST);\r\n\t\t\r\n\t\t// Add Button - Will open window to import new info\r\n\t\taddButton = new JButton(&quot;+&quot;);\r\n\t\taddButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\taddButton.setAlignmentX(JPanel.CENTER_ALIGNMENT);\r\n\t\taddButton.setAlignmentY(JPanel.CENTER_ALIGNMENT);\r\n\t\taddButtonPanel.add(addButton);\r\n\t\taddButton.addActionListener(new ActionListener() {\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tif(e.getSource()==addButton) {\r\n\t\t\t\t\tpasteBool = false;\r\n\t\t\t\t\tnew AddToClippyBoard(); \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t});\r\n        \t\r\n                //Refreshes mainFrame\r\n\t\tif (startUp == true) {\r\n\t\t\tmainFrame.setVisible(true);\r\n\t\t\tstartUp = false;\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;repaint&quot;);\r\n\t\t\tmainFrame.repaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void loadClippy() {\r\n\t\tfor (int i = 0; i &lt; Database.jsonArray.size(); i++) {\r\n\t\t\tJSONObject tempObject = (JSONObject) Database.jsonArray.get(i);;\r\n\t\t\t\r\n\t\t\tflowPanel = new JPanel(new BorderLayout());\r\n\t\t\tflowPanel.setPreferredSize(new Dimension(1000,400));\r\n\t\t\tflowPanel.setBackground(new Color(220,220,220));\r\n\t\t\tmainPanel.add(flowPanel);\r\n\t\t\t\r\n\t\t\ttitlePanel = new JPanel(new BorderLayout());\r\n\t\t\ttitlePanel.setPreferredSize(new Dimension(1000,50));\r\n\t\t\ttitlePanel.setBackground(new Color(220,220,220));\r\n\t\t\tflowPanel.add(titlePanel,BorderLayout.NORTH);\r\n\t\t\t\r\n\t\t\ttitleLabel = new JLabel();\r\n\t\t\ttitleLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,25));\r\n\t\t\ttitleLabel.setText(tempObject.get(&quot;name&quot;).toString());\r\n\t\t\ttitlePanel.add(titleLabel);\r\n\t\t\t\r\n\t\t\tvalueLabel = new JTextArea();\r\n\t\t\tvalueLabel.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\r\n\t\t\tvalueLabel.setBackground(new Color(220,220,220));\r\n\t\t\tvalueLabel.setLineWrap(true);\r\n\t\t\tvalueLabel.setWrapStyleWord(true);\r\n\t\t\tvalueLabel.setEditable(false);\r\n\t\t\tvalueLabel.setText(tempObject.get(&quot;value&quot;).toString());\r\n\t\t\t\r\n\t\t\tflowPanel.setPreferredSize(new Dimension(1000,60 + (valueLabel.getLineCount()*18)));\r\n\t\t\tflowPanel.add(valueLabel);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void dispose() {\r\n\t\tmainFrame.dispose();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**Database.java**\r\n\r\n```\r\npackage groupid;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\n\r\n\r\npublic class Database {\r\n\t\r\n\tstatic String path = &quot;C:/Users/Edison Cai/Downloads/temp.json&quot;; //Path to saved file\r\n\tstatic JSONArray jsonArray = new JSONArray(); // Creates our JSONArray\r\n\t\r\n\tstatic SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\r\n\t// Imports or creates JSONArray to be used in the program\r\n\tpublic static void startUp() {\r\n\t\tJSONParser parser = new JSONParser();\r\n\t\t\r\n\t\tif (new File(path).exists()) {\r\n\t\t\ttry {\r\n\t\t\t\tjsonArray = (JSONArray) parser.parse(new FileReader(path)); //Reads and parses file\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(jsonArray);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void addToDatabase(String name, String value) {\r\n\t\tJSONObject jsonObject = new JSONObject();\r\n\t\tjsonObject.put(&quot;name&quot;, name);\r\n\t\tjsonObject.put(&quot;value&quot;, value);\r\n\t\t\r\n\t\tString date = dateFormat.format(new Date()).toString();\r\n\t\tjsonObject.put(&quot;date&quot;, date);\r\n\t\t\r\n\t\tjsonArray.add(jsonObject);\r\n\t\tSystem.out.println(jsonArray);\r\n\t}\r\n\t\r\n\t//Saves JSONArray to computer\r\n\tpublic static void saveFile() {\r\n\t\ttry {\r\n\t\t\tFileWriter fileWriter = new FileWriter(path);\r\n\t\t\tfileWriter.write(jsonArray.toJSONString());\r\n\t\t\tfileWriter.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**AddToClippyBoard.java**\r\n\r\n```\r\npackage groupid;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.ScrollPaneConstants;\r\n\r\npublic class AddToClippyBoard {\r\n\t\t\r\n\tJFrame addFrame = new JFrame();\r\n\t\r\n\tJPanel bottomPanel;\r\n\tJPanel topPanel;\r\n\t\r\n\tJTextArea valueTextArea;\r\n\tJTextField nameTextArea;\r\n\t\r\n\tJScrollPane valueScrollPane;\r\n\t\r\n\tJButton submitButton;\r\n\t\r\n\tString name;\r\n\tString value;\r\n\t\r\n\tAddToClippyBoard() {\r\n\t\t\r\n\t\tif (UserInterface.pasteBool == false) {\r\n\t\t\taddFrame.setSize(400, 600);\r\n\t\t\taddFrame.setTitle(&quot;Add to ClippyBoard&quot;);\r\n\t\t\taddFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE); // Exits out of application\r\n\t\t\taddFrame.setResizable(true);\r\n\t\t\taddFrame.setLayout(new BorderLayout());\r\n\t\t\taddFrame.setVisible(true);\r\n\t\t\t\r\n\t\t\ttopPanel = new JPanel();\r\n\t\t\ttopPanel.setPreferredSize(new Dimension(400,250));\r\n\t\t\ttopPanel.setBackground(new Color(230,230,230));\r\n\t\t\taddFrame.add(topPanel,BorderLayout.CENTER);\r\n\t\t\t\r\n\t\t\tbottomPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING));\r\n\t\t\tbottomPanel.setPreferredSize(new Dimension(400,50));\r\n\t\t\tbottomPanel.setBackground(new Color(220,228,232));\r\n\t\t\taddFrame.add(bottomPanel,BorderLayout.SOUTH);\r\n\t\t\t\r\n\t\t\tnameTextArea = new JTextField();\r\n\t\t\tnameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\r\n\t\t\tnameTextArea.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\t\ttopPanel.add(nameTextArea);\r\n\t\t\t\r\n\t\t\tvalueTextArea = new JTextArea();\r\n\t\t\tvalueTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,180));\r\n\t\t\tvalueTextArea.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,14));\r\n\t\t\tvalueTextArea.setLineWrap(true);\r\n\t\t\tvalueTextArea.setWrapStyleWord(true);\t\t\r\n\t\t\tvalueScrollPane = new JScrollPane(valueTextArea);\r\n\t\t\tvalueScrollPane.createVerticalScrollBar();\r\n\t\t\tvalueScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\t\tvalueScrollPane.getVerticalScrollBar().setUnitIncrement(20);\r\n\t\t\ttopPanel.add(valueScrollPane);\r\n\t\t\t\r\n\t\t\tsubmitButton = new JButton();\r\n\t\t\tsubmitButton.setPreferredSize(new Dimension(100,40));\r\n\t\t\tsubmitButton.setText(&quot;Submit&quot;);\r\n\t\t\tsubmitButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\t\tbottomPanel.add(submitButton);\r\n\t\t\tsubmitButton.addActionListener(new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tif(e.getSource()==submitButton) {\r\n\t\t\t\t\t\tvalue = valueTextArea.getText();\r\n\t\t\t\t\t\tname = nameTextArea.getText();\r\n\t\r\n\t\t\t\t\t\tif (!value.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\tif (name.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tname = &quot;Untitled Clippy&quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tDatabase.addToDatabase(name,value);\r\n\t\t\t\t\t\t\tUserInterface.mainFrame.removeAll();\r\n\t\t\t\t\t\t\taddFrame.dispose();\r\n\t\t\t\t\t\t\tUserInterface.jFrameRefresh();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\taddFrame.pack();\r\n\t\t\taddFrame.addComponentListener(new ComponentAdapter() {\r\n\t\t\t\tpublic void componentResized(ComponentEvent e) {\r\n\t\t\t\t\tnameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\r\n\t\t\t\t\tvalueScrollPane.setPreferredSize(new Dimension(addFrame.getWidth()-50,topPanel.getHeight()-nameTextArea.getHeight()-20));\r\n\t\t\t\t\taddFrame.repaint();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (UserInterface.pasteBool == true) {\r\n\t\t\tvalue = UserInterface.clipboardString;\r\n\t\t\tname = &quot;Untitled Clippy&quot;;\r\n\t\t\tDatabase.addToDatabase(name,value);\r\n\t\t\tUserInterface.mainFrame.removeAll();\r\n\t\t\tUserInterface.jFrameRefresh();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAny help would be greatly appreciated.\r\n\r\nI have a system.out.println() function which will run, so I know that it that line does run. However, whenever it does, it doesn&#39;t seem to change the screen. I&#39;ve tried using validate, and some other weird SwingUtilites methods. Nothing seems to work.\r\n\r\nAny help would be greatly apprciated!","title":"{SOLVED} JFrame&#39;s repaint() functions doesn&#39;t seem to work?","body":"<p>I'm working on a JFrame application to save data with many different panels, labels and buttons. I want it so whenever data is added, it should refresh the page. It doesn't seem to work though?</p>\n<p>Here is the repaint code:</p>\n<pre><code>//Refreshes mainFrame\n    if (startUp == true) {\n    mainFrame.setVisible(true);\n    startUp = false;\n    } else {\n    System.out.println(&quot;repaint&quot;);\n    mainFrame.repaint();\n    }\n</code></pre>\n<p>Here's my full code:</p>\n<p><strong>UserInterface.java</strong></p>\n<pre><code>package groupid;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.Image;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.io.IOException;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.ScrollPaneConstants;\nimport javax.swing.SwingUtilities;\n\nimport org.json.simple.JSONObject;\n\n\n\npublic class UserInterface {\n    static Boolean startUp = true;\n    \n    //Sort Options - Different Ways to Short Data\n    static String sortOptions[] = {&quot;A - Z&quot;,&quot;Z - A&quot;,&quot;Recently Created&quot;,&quot;Oldest Created&quot;,&quot;Recently Modified&quot;};\n    \n    //Main Frame Components\n    static ImageIcon icon;\n    static JFrame mainFrame;\n    static JPanel mainPanel;\n    static JScrollPane mainScrollPane;\n    \n    //Main Panel Components\n    static JPanel rightPanel;\n    static JPanel sidePanel;\n    \n    //Right Panel Components\n    static JPanel topPanel;\n    static JPanel searchPanel;\n    static JLabel searchLabel;\n    static JTextField searchBar;\n    static JPanel sortPanel;\n    static JLabel sortByLabel;\n    static JPanel bottomPanel;\n    static JPanel addButtonPanel;\n    static JButton addButton;\n    \n    static JPanel flowPanel;\n    static JPanel titlePanel;\n    static JLabel titleLabel;\n    static JTextArea valueLabel;\n    \n    static String clipboardString;\n    static Boolean pasteBool;\n    \n    public static void main(String[] args) {\n        Database.startUp();\n        UserInterface.jFrameRefresh();\n    }\n    \n    public static void jFrameRefresh(){\n        if (startUp == true) {\n            mainFrame = new JFrame(); // Creates our main frame\n        mainFrame.setSize(1600, 900);\n        mainFrame.setTitle(&quot;ClippyBoards&quot;);\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainFrame.setResizable(true);\n        mainFrame.setFocusable(true);\n        mainFrame.setLayout(new BorderLayout(10,0));\n        mainFrame.addWindowListener(new WindowAdapter() { // Exits out of application\n            @Override\n            public void windowClosing(WindowEvent e) {\n                Database.saveFile();\n                mainFrame.dispose();\n            }\n        });\n        \n        // Ctrl-V Ability\n        mainFrame.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyReleased(KeyEvent e) {\n                if(e.getKeyCode() == KeyEvent.VK_V &amp;&amp; (e.getModifiersEx() &amp; KeyEvent.CTRL_DOWN_MASK) != 0) {\n                    try {\n                        clipboardString = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\n                    } catch (UnsupportedFlavorException | IOException e1) {\n                        e1.printStackTrace();\n                    }\n                    pasteBool = true;\n                    new AddToClippyBoard();\n                    pasteBool = false;\n                }\n            }\n        });\n        \n        icon = new ImageIcon(&quot;EggSMP.png&quot;);\n        mainFrame.setIconImage(icon.getImage());\n        mainFrame.getContentPane().setBackground(new Color(100,100,100));\n        }\n        \n        // Right Panel - Panel that holds bottom panel and main panel\n        rightPanel = new JPanel(new BorderLayout(5,5));\n        rightPanel.setBackground(new Color(150,150,150));\n        rightPanel.setPreferredSize(new Dimension(1200,500));\n        mainFrame.add(rightPanel,BorderLayout.CENTER);\n        \n        mainPanel = new JPanel(new FlowLayout(FlowLayout.CENTER,20,20));\n        mainPanel.setBackground(new Color(230,230,230));\n        mainScrollPane = new JScrollPane(mainPanel);\n        mainScrollPane.createVerticalScrollBar();\n        mainScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        mainScrollPane.getVerticalScrollBar().setUnitIncrement(20);\n        rightPanel.add(mainScrollPane); // adds mainPanel, with scroll bar\n        \n        \n        System.out.println(Database.jsonArray.size());\n        // Flow Panels - Shows all saved data\n        loadClippy();\n        \n        if (valueLabel == null) {\n            mainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(400+20)+50));\n        } else {\n            mainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(60 + (valueLabel.getLineCount()*18)+20)+50));\n        }\n        \n        // Side Panel - Navigate and organize folders\n        sidePanel = new JPanel(new FlowLayout());\n        sidePanel.setPreferredSize(new Dimension(500,100));\n        sidePanel.setBackground(new Color(220,228,232));\n        mainFrame.add(sidePanel,BorderLayout.WEST);\n        \n        //Top Panel - Search Bar &amp; Sorting Options\n        topPanel = new JPanel(new BorderLayout());\n        topPanel.setPreferredSize(new Dimension(1000,50));\n        topPanel.setBackground(new Color(230,230,230));\n        rightPanel.add(topPanel,BorderLayout.NORTH);\n        \n        //Search Panel - Holds Search Bar\n        searchPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING,5,12));\n        searchPanel.setPreferredSize(new Dimension(500,50));\n        searchPanel.setBackground(new Color(230,230,230));\n        topPanel.add(searchPanel,BorderLayout.EAST);\n        \n        //Search Label\n        searchLabel = new JLabel();\n        searchLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n        searchLabel.setText(&quot;Search:&quot;);\n        searchPanel.add(searchLabel);\n        \n        //Search Bar - Search for Items within\n        searchBar = new JTextField();\n        searchBar.setPreferredSize(new Dimension(250,30));\n        searchBar.setBackground(new Color(250,250,250));\n        searchBar.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\n        searchPanel.add(searchBar);\n        \n        //Sort Panel - Holds Sort Filter\n        sortPanel = new JPanel(new FlowLayout(FlowLayout.LEADING,5,12));\n        sortPanel.setPreferredSize(new Dimension(600,50));\n        sortPanel.setBackground(new Color(230,230,230));\n        topPanel.add(sortPanel,BorderLayout.WEST);\n        \n        //Sort Label\n        icon = new ImageIcon(new ImageIcon(&quot;SortBlack.png&quot;).getImage().getScaledInstance(30, 30, Image.SCALE_DEFAULT));\n        sortByLabel = new JLabel();\n        sortByLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n        sortByLabel.setText(&quot;Sort By:&quot;);\n        sortByLabel.setIcon(icon);\n        sortPanel.add(sortByLabel);\n        \n        //sort Filter - Sorts data by selected filter\n        JComboBox&lt;String&gt; sortBy = new JComboBox&lt;String&gt;(sortOptions);\n        sortBy.setPreferredSize(new Dimension(200,30));\n        sortBy.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\n        sortPanel.add(sortBy);\n        \n        // Bottom Panel - Undecided\n        bottomPanel = new JPanel(new BorderLayout());\n        bottomPanel.setPreferredSize(new Dimension(100,50));\n        bottomPanel.setBackground(new Color(220,228,232));\n        rightPanel.add(bottomPanel,BorderLayout.SOUTH);\n        \n        \n        // Button Panel - Holds Add Button\n        addButtonPanel = new JPanel();\n        addButtonPanel.setPreferredSize(new Dimension(50,50));\n        addButtonPanel.setBackground(new Color(220,228,232));\n        bottomPanel.add(addButtonPanel,BorderLayout.EAST);\n        \n        // Add Button - Will open window to import new info\n        addButton = new JButton(&quot;+&quot;);\n        addButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n        addButton.setAlignmentX(JPanel.CENTER_ALIGNMENT);\n        addButton.setAlignmentY(JPanel.CENTER_ALIGNMENT);\n        addButtonPanel.add(addButton);\n        addButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n                if(e.getSource()==addButton) {\n                    pasteBool = false;\n                    new AddToClippyBoard(); \n                }\n            }\n            });\n            \n                //Refreshes mainFrame\n        if (startUp == true) {\n            mainFrame.setVisible(true);\n            startUp = false;\n        } else {\n            System.out.println(&quot;repaint&quot;);\n            mainFrame.repaint();\n        }\n    }\n    \n    public static void loadClippy() {\n        for (int i = 0; i &lt; Database.jsonArray.size(); i++) {\n            JSONObject tempObject = (JSONObject) Database.jsonArray.get(i);;\n            \n            flowPanel = new JPanel(new BorderLayout());\n            flowPanel.setPreferredSize(new Dimension(1000,400));\n            flowPanel.setBackground(new Color(220,220,220));\n            mainPanel.add(flowPanel);\n            \n            titlePanel = new JPanel(new BorderLayout());\n            titlePanel.setPreferredSize(new Dimension(1000,50));\n            titlePanel.setBackground(new Color(220,220,220));\n            flowPanel.add(titlePanel,BorderLayout.NORTH);\n            \n            titleLabel = new JLabel();\n            titleLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,25));\n            titleLabel.setText(tempObject.get(&quot;name&quot;).toString());\n            titlePanel.add(titleLabel);\n            \n            valueLabel = new JTextArea();\n            valueLabel.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\n            valueLabel.setBackground(new Color(220,220,220));\n            valueLabel.setLineWrap(true);\n            valueLabel.setWrapStyleWord(true);\n            valueLabel.setEditable(false);\n            valueLabel.setText(tempObject.get(&quot;value&quot;).toString());\n            \n            flowPanel.setPreferredSize(new Dimension(1000,60 + (valueLabel.getLineCount()*18)));\n            flowPanel.add(valueLabel);\n        }\n    }\n    \n    public static void dispose() {\n        mainFrame.dispose();\n    }\n    \n}\n</code></pre>\n<p><strong>Database.java</strong></p>\n<pre><code>package groupid;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\n\n\npublic class Database {\n    \n    static String path = &quot;C:/Users/Edison Cai/Downloads/temp.json&quot;; //Path to saved file\n    static JSONArray jsonArray = new JSONArray(); // Creates our JSONArray\n    \n    static SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    \n    // Imports or creates JSONArray to be used in the program\n    public static void startUp() {\n        JSONParser parser = new JSONParser();\n        \n        if (new File(path).exists()) {\n            try {\n                jsonArray = (JSONArray) parser.parse(new FileReader(path)); //Reads and parses file\n                \n                System.out.println(jsonArray);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    \n    public static void addToDatabase(String name, String value) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;name&quot;, name);\n        jsonObject.put(&quot;value&quot;, value);\n        \n        String date = dateFormat.format(new Date()).toString();\n        jsonObject.put(&quot;date&quot;, date);\n        \n        jsonArray.add(jsonObject);\n        System.out.println(jsonArray);\n    }\n    \n    //Saves JSONArray to computer\n    public static void saveFile() {\n        try {\n            FileWriter fileWriter = new FileWriter(path);\n            fileWriter.write(jsonArray.toJSONString());\n            fileWriter.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p><strong>AddToClippyBoard.java</strong></p>\n<pre><code>package groupid;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.ScrollPaneConstants;\n\npublic class AddToClippyBoard {\n        \n    JFrame addFrame = new JFrame();\n    \n    JPanel bottomPanel;\n    JPanel topPanel;\n    \n    JTextArea valueTextArea;\n    JTextField nameTextArea;\n    \n    JScrollPane valueScrollPane;\n    \n    JButton submitButton;\n    \n    String name;\n    String value;\n    \n    AddToClippyBoard() {\n        \n        if (UserInterface.pasteBool == false) {\n            addFrame.setSize(400, 600);\n            addFrame.setTitle(&quot;Add to ClippyBoard&quot;);\n            addFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE); // Exits out of application\n            addFrame.setResizable(true);\n            addFrame.setLayout(new BorderLayout());\n            addFrame.setVisible(true);\n            \n            topPanel = new JPanel();\n            topPanel.setPreferredSize(new Dimension(400,250));\n            topPanel.setBackground(new Color(230,230,230));\n            addFrame.add(topPanel,BorderLayout.CENTER);\n            \n            bottomPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING));\n            bottomPanel.setPreferredSize(new Dimension(400,50));\n            bottomPanel.setBackground(new Color(220,228,232));\n            addFrame.add(bottomPanel,BorderLayout.SOUTH);\n            \n            nameTextArea = new JTextField();\n            nameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\n            nameTextArea.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n            topPanel.add(nameTextArea);\n            \n            valueTextArea = new JTextArea();\n            valueTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,180));\n            valueTextArea.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,14));\n            valueTextArea.setLineWrap(true);\n            valueTextArea.setWrapStyleWord(true);       \n            valueScrollPane = new JScrollPane(valueTextArea);\n            valueScrollPane.createVerticalScrollBar();\n            valueScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n            valueScrollPane.getVerticalScrollBar().setUnitIncrement(20);\n            topPanel.add(valueScrollPane);\n            \n            submitButton = new JButton();\n            submitButton.setPreferredSize(new Dimension(100,40));\n            submitButton.setText(&quot;Submit&quot;);\n            submitButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n            bottomPanel.add(submitButton);\n            submitButton.addActionListener(new ActionListener() {\n                \n                public void actionPerformed(ActionEvent e) {\n                    if(e.getSource()==submitButton) {\n                        value = valueTextArea.getText();\n                        name = nameTextArea.getText();\n    \n                        if (!value.equals(&quot;&quot;)) {\n                            if (name.equals(&quot;&quot;)) {\n                                name = &quot;Untitled Clippy&quot;;\n                            }\n                            Database.addToDatabase(name,value);\n                            UserInterface.mainFrame.removeAll();\n                            addFrame.dispose();\n                            UserInterface.jFrameRefresh();\n                        } else {\n                            \n                        }\n                    }\n                }\n            });\n            \n            addFrame.pack();\n            addFrame.addComponentListener(new ComponentAdapter() {\n                public void componentResized(ComponentEvent e) {\n                    nameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\n                    valueScrollPane.setPreferredSize(new Dimension(addFrame.getWidth()-50,topPanel.getHeight()-nameTextArea.getHeight()-20));\n                    addFrame.repaint();\n                }\n            });\n        } else if (UserInterface.pasteBool == true) {\n            value = UserInterface.clipboardString;\n            name = &quot;Untitled Clippy&quot;;\n            Database.addToDatabase(name,value);\n            UserInterface.mainFrame.removeAll();\n            UserInterface.jFrameRefresh();\n        }\n    }\n}\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n<p>I have a system.out.println() function which will run, so I know that it that line does run. However, whenever it does, it doesn't seem to change the screen. I've tried using validate, and some other weird SwingUtilites methods. Nothing seems to work.</p>\n<p>Any help would be greatly apprciated!</p>\n"},{"tags":["java","spring-boot","maven","junit5","jacoco"],"comments":[{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692714578,"post_id":76954043,"comment_id":135660239,"body_markdown":"Which version of java are you using?","body":"Which version of java are you using?"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1692715576,"post_id":76954043,"comment_id":135660469,"body_markdown":"I am using java 11 in Intellij and Java_home is set to java 8.","body":"I am using java 11 in Intellij and Java_home is set to java 8."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692715858,"post_id":76954043,"comment_id":135660528,"body_markdown":"And maven version?","body":"And maven version?"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1692717926,"post_id":76954043,"comment_id":135661051,"body_markdown":"Maven 3.6.3 in IntelliJ","body":"Maven 3.6.3 in IntelliJ"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692719596,"post_id":76954043,"comment_id":135661448,"body_markdown":"First post the full pom file and also how you are calling Maven... apart from that the configuration for that project looks strange... also why using an old Maven version?  Also a lot of the given plugins are old...","body":"First post the full pom file and also how you are calling Maven... apart from that the configuration for that project looks strange... also why using an old Maven version?  Also a lot of the given plugins are old..."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692906711,"post_id":76954043,"comment_id":135691871,"body_markdown":"@Jeet Have you tried it with the below code?","body":"@Jeet Have you tried it with the below code?"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692718907,"creation_date":1692718907,"answer_id":76954924,"question_id":76954043,"body_markdown":"You can try by updating your existing plugin in `pom.xml` with the below code and it is working fine in my local with java 1.8 and maven version higher than 3.0 in a spring boot application.\r\n\r\n**Plugin for jacoco report:**\r\n\r\n                &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.8.6&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;","title":"How to solve Surefire &quot;tests are skipped&quot; and jacoco &quot;Skipping JaCoCo execution due to missing execution data file&quot;?","body":"<p>You can try by updating your existing plugin in <code>pom.xml</code> with the below code and it is working fine in my local with java 1.8 and maven version higher than 3.0 in a spring boot application.</p>\n<p><strong>Plugin for jacoco report:</strong></p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692718907,"creation_date":1692712652,"question_id":76954043,"body_markdown":"I wan to generate jacoco report but unfortunately maven is not running the tests and the report is not generated. when running mvn test the console shows the following -\r\n\r\n\r\n```\r\n--- jacoco-maven-plugin:0.8.8:prepare-agent (prepare-agent) @ xx ---\r\n[INFO] argLine set to -javaagent:C:\\\\xxx\\\\xx\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.8\\\\org.jacoco.agent-0.8.8-runtime.jar=destfile=C:\\\\xx\\\\xx\\\\git\\\\xx-xx\\\\target\\\\jacoco.exec\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ xx ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 16 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ xx ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 33 source files to C:\\xx\\xx\\git\\xx-xx\\target\\classes\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ xx ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 6 resources\r\n[INFO] Copying 20 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ xx ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 16 source files to C:\\xx\\xx\\git\\xx-xx\\target\\test-classes\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ xx ---\r\n[INFO] Tests are skipped.\r\n[INFO] \r\n[INFO] --- jacoco-maven-plugin:0.8.8:report (report) @ xx ---\r\n[INFO] Skipping JaCoCo execution due to missing execution data file.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  11.570 s\r\n[INFO] Finished at: 2023-08-22T15:42:57+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n\r\nI did a lot of adjustments in the pom.xml but still no luck. I have commented a few dependencies and tried to execute the same. I am not sure what exactly is going wrong here. The commented dependencies are alredy tried. My pom.xml looks like -\r\n\r\n\r\n```\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--&lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0.1746&lt;/version&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;!--&lt;version&gt;3.0.0-M5&lt;/version&gt;--&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;/**/*Test&lt;/include&gt;\r\n                       &lt;!-- &lt;include&gt; **/*test/java/*&lt;/include&gt; --&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default-test&lt;/id&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;false&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;!--&lt;configuration&gt;\r\n                   &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                    &lt;argLine&gt;-Xmx1024M ${argLine}&lt;/argLine&gt;\r\n                    &lt;forkedProcessExitTimeoutInSeconds&gt;240&lt;/forkedProcessExitTimeoutInSeconds&gt;\r\n                &lt;/configuration&gt;--&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n        &lt;!--        &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*test/java/*&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/*test/resources/*&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;--&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;!-- &lt;phase&gt;prepare-package&lt;/phase&gt;--&gt;\r\n                         &lt;goals&gt;\r\n                             &lt;goal&gt;report&lt;/goal&gt;\r\n                         &lt;/goals&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- &lt;execution&gt;\r\n                         &lt;id&gt;default-check&lt;/id&gt;\r\n                         &lt;goals&gt;\r\n                             &lt;goal&gt;check&lt;/goal&gt;\r\n                         &lt;/goals&gt;\r\n                         &lt;configuration&gt;\r\n                             &lt;rules&gt;\r\n                                 &lt;rule&gt;\r\n                                     &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                     &lt;limits&gt;\r\n                                         &lt;limit&gt;\r\n                                             &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\r\n                                             &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                             &lt;minimum&gt;0.60&lt;/minimum&gt;\r\n                                         &lt;/limit&gt;\r\n                                     &lt;/limits&gt;\r\n                                 &lt;/rule&gt;\r\n                             &lt;/rules&gt;\r\n                         &lt;/configuration&gt;\r\n                    &lt;/execution&gt;--&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n```\r\nMost of the solutions that are provided in the stackoverflow are already tried and tested but so far no luck.","title":"How to solve Surefire &quot;tests are skipped&quot; and jacoco &quot;Skipping JaCoCo execution due to missing execution data file&quot;?","body":"<p>I wan to generate jacoco report but unfortunately maven is not running the tests and the report is not generated. when running mvn test the console shows the following -</p>\n<pre><code>--- jacoco-maven-plugin:0.8.8:prepare-agent (prepare-agent) @ xx ---\n[INFO] argLine set to -javaagent:C:\\\\xxx\\\\xx\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.8\\\\org.jacoco.agent-0.8.8-runtime.jar=destfile=C:\\\\xx\\\\xx\\\\git\\\\xx-xx\\\\target\\\\jacoco.exec\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ xx ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 16 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ xx ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 33 source files to C:\\xx\\xx\\git\\xx-xx\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ xx ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 6 resources\n[INFO] Copying 20 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ xx ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 16 source files to C:\\xx\\xx\\git\\xx-xx\\target\\test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ xx ---\n[INFO] Tests are skipped.\n[INFO] \n[INFO] --- jacoco-maven-plugin:0.8.8:report (report) @ xx ---\n[INFO] Skipping JaCoCo execution due to missing execution data file.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  11.570 s\n[INFO] Finished at: 2023-08-22T15:42:57+02:00\n[INFO] ------------------------------------------------------------------------\n\nProcess finished with exit code 0\n</code></pre>\n<p>I did a lot of adjustments in the pom.xml but still no luck. I have commented a few dependencies and tried to execute the same. I am not sure what exactly is going wrong here. The commented dependencies are alredy tried. My pom.xml looks like -</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!--&lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0.1746&lt;/version&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;!--&lt;version&gt;3.0.0-M5&lt;/version&gt;--&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;/**/*Test&lt;/include&gt;\n                       &lt;!-- &lt;include&gt; **/*test/java/*&lt;/include&gt; --&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-test&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;false&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;!--&lt;configuration&gt;\n                   &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;-Xmx1024M ${argLine}&lt;/argLine&gt;\n                    &lt;forkedProcessExitTimeoutInSeconds&gt;240&lt;/forkedProcessExitTimeoutInSeconds&gt;\n                &lt;/configuration&gt;--&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n        &lt;!--        &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*test/java/*&lt;/exclude&gt;\n                        &lt;exclude&gt;**/*test/resources/*&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;--&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;!-- &lt;phase&gt;prepare-package&lt;/phase&gt;--&gt;\n                         &lt;goals&gt;\n                             &lt;goal&gt;report&lt;/goal&gt;\n                         &lt;/goals&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- &lt;execution&gt;\n                         &lt;id&gt;default-check&lt;/id&gt;\n                         &lt;goals&gt;\n                             &lt;goal&gt;check&lt;/goal&gt;\n                         &lt;/goals&gt;\n                         &lt;configuration&gt;\n                             &lt;rules&gt;\n                                 &lt;rule&gt;\n                                     &lt;element&gt;BUNDLE&lt;/element&gt;\n                                     &lt;limits&gt;\n                                         &lt;limit&gt;\n                                             &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\n                                             &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                             &lt;minimum&gt;0.60&lt;/minimum&gt;\n                                         &lt;/limit&gt;\n                                     &lt;/limits&gt;\n                                 &lt;/rule&gt;\n                             &lt;/rules&gt;\n                         &lt;/configuration&gt;\n                    &lt;/execution&gt;--&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n</code></pre>\n<p>Most of the solutions that are provided in the stackoverflow are already tried and tested but so far no luck.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":4,"creation_date":1431622507,"post_id":30242917,"comment_id":48586969,"body_markdown":"JDK 1.6 is no longer supported. Don&#39;t download it.","body":"JDK 1.6 is no longer supported. Don&#39;t download it."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1431622730,"post_id":30242917,"comment_id":48587113,"body_markdown":"I recommend you using the latest stable version of both Eclipse (Luna) and Java (8).","body":"I recommend you using the latest stable version of both Eclipse (Luna) and Java (8)."}],"answers":[{"tags":[],"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431623157,"creation_date":1431622810,"answer_id":30243065,"question_id":30242917,"body_markdown":"Just go with the latest JDK 1.8 and Eclipse Luna. JDK 1.6 is no longer supported, and 1.7 is pretty much dead as well. Java 8 is far more modern anyway with its new features (lambda expressions, JavaFX 8, new Date framework, etc) and you&#39;ll be more competent as a developer knowing those features.\r\n\r\nAlso, if you are interested in Apache Tomcat you can also check out [IntelliJ IDEA][1] instead of Eclipse. I understand it is much easier to do servlet development on. \r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/","title":"Which versions of Eclipse is compatible with which versions of java?","body":"<p>Just go with the latest JDK 1.8 and Eclipse Luna. JDK 1.6 is no longer supported, and 1.7 is pretty much dead as well. Java 8 is far more modern anyway with its new features (lambda expressions, JavaFX 8, new Date framework, etc) and you'll be more competent as a developer knowing those features.</p>\n\n<p>Also, if you are interested in Apache Tomcat you can also check out <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow\">IntelliJ IDEA</a> instead of Eclipse. I understand it is much easier to do servlet development on. </p>\n"}],"owner":{"account_id":5981500,"reputation":1,"user_id":4700387,"display_name":"memo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692718237,"creation_date":1431622386,"question_id":30242917,"body_markdown":"Basically I want to do java programming on my windows system having Windows SP3. Which version of java and Eclipse do I need to download?\r\n\r\n\r\nDoes JDK 1.6 (universal supporter) support all Eclipse and Apache tomcat???\r\n","title":"Which versions of Eclipse is compatible with which versions of java?","body":"<p>Basically I want to do java programming on my windows system having Windows SP3. Which version of java and Eclipse do I need to download?</p>\n\n<p>Does JDK 1.6 (universal supporter) support all Eclipse and Apache tomcat???</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692716997,"creation_date":1692716997,"answer_id":76954679,"question_id":76952218,"body_markdown":"You&#39;ll want to look at JPA tutorials on how bidirectional OneToMany and ManyToOne mappings work to help you out, but you should probably be using &#39;mappedby&#39; in your Rule-&gt;RuleUnitTest mapping:\r\n\r\n      @OneToMany(mappedBy=&quot;rule&quot;, fetch = FetchType.EAGER)\r\n      @Fetch(value = FetchMode.SUBSELECT)\r\n      private List&lt;RuleUnitTest&gt; unitTests;\r\n\r\nAlso note that when deserializing JSON data, you will need to ensure that both sides of this relationship are set - or more importantly, that every RuleUnitTest.rule reference is properly set, since that is the relationship that owns (and so controls) the foreign key column value.","title":"Java hibernate saving entity and child entity together","body":"<p>You'll want to look at JPA tutorials on how bidirectional OneToMany and ManyToOne mappings work to help you out, but you should probably be using 'mappedby' in your Rule-&gt;RuleUnitTest mapping:</p>\n<pre><code>  @OneToMany(mappedBy=&quot;rule&quot;, fetch = FetchType.EAGER)\n  @Fetch(value = FetchMode.SUBSELECT)\n  private List&lt;RuleUnitTest&gt; unitTests;\n</code></pre>\n<p>Also note that when deserializing JSON data, you will need to ensure that both sides of this relationship are set - or more importantly, that every RuleUnitTest.rule reference is properly set, since that is the relationship that owns (and so controls) the foreign key column value.</p>\n"}],"owner":{"account_id":13718869,"reputation":72,"user_id":9899366,"display_name":"liron29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76954679,"answer_count":1,"score":0,"last_activity_date":1692716997,"creation_date":1692698866,"question_id":76952218,"body_markdown":"I have a rule entity and a tests entity (related one-to-many), when creating a rule a ruleId is generated and i want to use the ruleId for the tests.\r\nEntities:\r\n\r\n```\r\npackage io.avalor.webserver.rule;\r\n\r\nimport com.vladmihalcea.hibernate.type.array.EnumArrayType;\r\nimport com.vladmihalcea.hibernate.type.array.ListArrayType;\r\nimport com.vladmihalcea.hibernate.type.json.JsonBinaryType;\r\nimport io.avalor.webserver.account.Account;\r\nimport io.avalor.webserver.customquery.CustomQuery;\r\nimport io.avalor.webserver.persistency.AbstractEntity;\r\nimport io.avalor.webserver.rule.ruletest.RuleTest;\r\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.*;\r\n\r\nimport javax.persistence.*;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Table;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@Table\r\n@SQLDelete(sql = &quot;UPDATE rule SET deleted = true WHERE rule_id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\n@TypeDef(name = &quot;list-array&quot;, typeClass = EnumArrayType.class, parameters = {@org.hibernate.annotations.Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)})\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\r\n@TypeDef(name = &quot;list&quot;, typeClass = ListArrayType.class)\r\n@Getter\r\n@Setter\r\npublic class Rule extends AbstractEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;rule_id&quot;)\r\n    private String id;\r\n\r\n    @Column\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    @JoinTable(\r\n            name = &quot;rule_unit_test&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;rule_id&quot;, updatable = false)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;test_id&quot;, updatable = false)}\r\n    )\r\n    private List&lt;RuleUnitTest&gt; unitTests;\r\n}\r\n\r\n```\r\n```\r\npackage io.avalor.webserver.rule.unittest;\r\n\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport io.avalor.webserver.persistency.AbstractEntity;\r\nimport io.avalor.webserver.rule.Rule;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.*;\r\n\r\nimport javax.persistence.*;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Table;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table\r\n@Where(clause = &quot;deleted=false&quot;)\r\n@SQLDelete(sql = &quot;UPDATE rule_unit_test SET deleted = true WHERE test_id=?&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class RuleUnitTest {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;test_id&quot;)\r\n    private String id;\r\n\r\n    @NotNull\r\n    @JoinColumn(name = &quot;rule_id&quot;, updatable = false)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Rule rule;\r\n\r\n    @Column\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @NotEmpty\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(name = &quot;test_data&quot;)\r\n    private List&lt;JsonNode&gt; testData;\r\n}\r\n\r\n\r\n```\r\n\r\nI have a rule service with the following methods:\r\n```\r\n  @Transactional\r\n    public RuleDto create(RuleDto ruleDto) {\r\n        Rule rule = ruleMapper.dtoToEntity(ruleDto);\r\n        Rule savedRule = ruleRepository.save(rule);\r\n\r\n        savedRule = saveUnitTestsIfExists(savedRule,ruleDto.getUnitTests());\r\n        // ruleRepository.save(savedRule);\r\n        return ruleMapper.entityToDto(savedRule);\r\n    }\r\n\r\n    private Rule saveUnitTestsIfExists(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\r\n        if (CollectionUtils.isNotEmpty(unitTestsDto)) {\r\n            return unitTestService.create(rule,unitTestsDto);\r\n        }\r\n        return rule;\r\n    }\r\n```\r\n\r\nAnd the following code in unittestService:\r\n```\r\n   public Rule create(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\r\n        List&lt;RuleUnitTestDto&gt; limitedRuleUnitTestDtos = unitTestsDto;\r\n\r\n        if (unitTestsDto.size() &gt; MAX_TESTS_PER_RULE) {\r\n            limitedRuleUnitTestDtos = unitTestsDto.subList(0, MAX_TESTS_PER_RULE);\r\n        }\r\n        List&lt;RuleUnitTest&gt; unitTests = ruleUnitTestMapper.buildBuildUnitTestFromUnitTest(rule, limitedRuleUnitTestDtos);\r\n\r\n\r\n        rule.setUnitTests(unitTestRepository.saveAll(unitTests));\r\n        return rule;\r\n    }\r\n\r\n```\r\n\r\nMapper:\r\n\r\n```\r\npackage io.avalor.webserver.rule;\r\n\r\n\r\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\r\nimport io.avalor.webserver.rule.unittest.RuleUnitTestDto;\r\nimport org.mapstruct.*;\r\n\r\nimport java.util.*;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic abstract class RuleMapper {\r\n\r\n\r\n    @Mapping(source = &quot;account.id&quot;, target = &quot;accountId&quot;)\r\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\r\n    public abstract RuleDto entityToDto(Rule rule);\r\n\r\n    @Mapping(target = &quot;account.id&quot;, source = &quot;accountId&quot;)\r\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\r\n    public abstract Rule dtoToEntity(RuleDto ruleDto);\r\n\r\n    @AfterMapping\r\n    public void setRuleProperties(@MappingTarget Rule rule, RuleDto ruleDto) {\r\n        if (rule.getId() != null) {\r\n            rule.setUnitTests(buildBuildUnitTestFromUnitTest(rule, ruleDto.getUnitTests()));\r\n        } else {\r\n            rule.setUnitTests(null);\r\n        }\r\n    }\r\n\r\n    @AfterMapping\r\n    public RuleDto enrichDto(@MappingTarget RuleDto ruleDto, Rule rule) {\r\n        if (rule.getUnitTests() != null) {\r\n            ruleDto.setUnitTests(rule.getUnitTests().stream().map(unitTest -&gt; {\r\n                RuleUnitTestDto unitTestDto = new RuleUnitTestDto();\r\n                unitTestDto.setId(unitTest.getId());\r\n                unitTestDto.setName(unitTest.getName());\r\n                unitTestDto.setTestData(unitTest.getTestData());\r\n                unitTestDto.setRuleId(rule.getId());\r\n                return unitTestDto;\r\n            }).toList());\r\n        }\r\n        return ruleDto;\r\n    }\r\n\r\n    public List&lt;RuleUnitTest&gt; buildBuildUnitTestFromUnitTest(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestDtos) {\r\n        if (unitTestDtos == null)\r\n            return Collections.emptyList();\r\n        List&lt;RuleUnitTest&gt; unitTestsList = new ArrayList&lt;&gt;();\r\n\r\n        for (RuleUnitTestDto unitTestDto : unitTestDtos) {\r\n            unitTestsList.add(new RuleUnitTest(null, rule, unitTestDto.getName(), unitTestDto.getTestData()));\r\n        }\r\n        return unitTestsList;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m trying to send the following body request:\r\n```\r\n{\r\n    &quot;name&quot;: &quot;rule1&quot;,\r\n    &quot;unitTests&quot;:[{\r\n        &quot;name&quot;:&quot;blah blah&quot;,\r\n        &quot;testData&quot;:[{&quot;a&quot;:&quot;b&quot;}]\r\n    }]\r\n}\r\n```\r\n\r\nWhen trying to save a rule and a unit test i get the following error (saying name and testData is null, which isn&#39;t true when debugging):\r\n\r\n```\r\n ERROR: null value in column &quot;name&quot; of relation &quot;rule_unit_test&quot; violates not-null constraint\r\n  Detail: Failing row contains (p0n9vr, 07rplw, null, null).\r\n```\r\n\r\nI really don&#39;t know why it happens, any ideas?","title":"Java hibernate saving entity and child entity together","body":"<p>I have a rule entity and a tests entity (related one-to-many), when creating a rule a ruleId is generated and i want to use the ruleId for the tests.\nEntities:</p>\n<pre><code>package io.avalor.webserver.rule;\n\nimport com.vladmihalcea.hibernate.type.array.EnumArrayType;\nimport com.vladmihalcea.hibernate.type.array.ListArrayType;\nimport com.vladmihalcea.hibernate.type.json.JsonBinaryType;\nimport io.avalor.webserver.account.Account;\nimport io.avalor.webserver.customquery.CustomQuery;\nimport io.avalor.webserver.persistency.AbstractEntity;\nimport io.avalor.webserver.rule.ruletest.RuleTest;\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.*;\n\nimport javax.persistence.*;\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\nimport java.util.Set;\n\n@Entity\n@Table\n@SQLDelete(sql = &quot;UPDATE rule SET deleted = true WHERE rule_id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\n@TypeDef(name = &quot;list-array&quot;, typeClass = EnumArrayType.class, parameters = {@org.hibernate.annotations.Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)})\n@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\n@TypeDef(name = &quot;list&quot;, typeClass = ListArrayType.class)\n@Getter\n@Setter\npublic class Rule extends AbstractEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;rule_id&quot;)\n    private String id;\n\n    @Column\n    @NotBlank\n    private String name;\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JoinTable(\n            name = &quot;rule_unit_test&quot;,\n            joinColumns = {@JoinColumn(name = &quot;rule_id&quot;, updatable = false)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;test_id&quot;, updatable = false)}\n    )\n    private List&lt;RuleUnitTest&gt; unitTests;\n}\n\n</code></pre>\n<pre><code>package io.avalor.webserver.rule.unittest;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport io.avalor.webserver.persistency.AbstractEntity;\nimport io.avalor.webserver.rule.Rule;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.annotations.*;\n\nimport javax.persistence.*;\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\n\n@Entity\n@Table\n@Where(clause = &quot;deleted=false&quot;)\n@SQLDelete(sql = &quot;UPDATE rule_unit_test SET deleted = true WHERE test_id=?&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RuleUnitTest {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;test_id&quot;)\n    private String id;\n\n    @NotNull\n    @JoinColumn(name = &quot;rule_id&quot;, updatable = false)\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Rule rule;\n\n    @Column\n    @NotBlank\n    private String name;\n\n    @NotEmpty\n    @Type(type = &quot;json&quot;)\n    @Column(name = &quot;test_data&quot;)\n    private List&lt;JsonNode&gt; testData;\n}\n\n\n</code></pre>\n<p>I have a rule service with the following methods:</p>\n<pre><code>  @Transactional\n    public RuleDto create(RuleDto ruleDto) {\n        Rule rule = ruleMapper.dtoToEntity(ruleDto);\n        Rule savedRule = ruleRepository.save(rule);\n\n        savedRule = saveUnitTestsIfExists(savedRule,ruleDto.getUnitTests());\n        // ruleRepository.save(savedRule);\n        return ruleMapper.entityToDto(savedRule);\n    }\n\n    private Rule saveUnitTestsIfExists(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\n        if (CollectionUtils.isNotEmpty(unitTestsDto)) {\n            return unitTestService.create(rule,unitTestsDto);\n        }\n        return rule;\n    }\n</code></pre>\n<p>And the following code in unittestService:</p>\n<pre><code>   public Rule create(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\n        List&lt;RuleUnitTestDto&gt; limitedRuleUnitTestDtos = unitTestsDto;\n\n        if (unitTestsDto.size() &gt; MAX_TESTS_PER_RULE) {\n            limitedRuleUnitTestDtos = unitTestsDto.subList(0, MAX_TESTS_PER_RULE);\n        }\n        List&lt;RuleUnitTest&gt; unitTests = ruleUnitTestMapper.buildBuildUnitTestFromUnitTest(rule, limitedRuleUnitTestDtos);\n\n\n        rule.setUnitTests(unitTestRepository.saveAll(unitTests));\n        return rule;\n    }\n\n</code></pre>\n<p>Mapper:</p>\n<pre><code>package io.avalor.webserver.rule;\n\n\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\nimport io.avalor.webserver.rule.unittest.RuleUnitTestDto;\nimport org.mapstruct.*;\n\nimport java.util.*;\n\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic abstract class RuleMapper {\n\n\n    @Mapping(source = &quot;account.id&quot;, target = &quot;accountId&quot;)\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\n    public abstract RuleDto entityToDto(Rule rule);\n\n    @Mapping(target = &quot;account.id&quot;, source = &quot;accountId&quot;)\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\n    public abstract Rule dtoToEntity(RuleDto ruleDto);\n\n    @AfterMapping\n    public void setRuleProperties(@MappingTarget Rule rule, RuleDto ruleDto) {\n        if (rule.getId() != null) {\n            rule.setUnitTests(buildBuildUnitTestFromUnitTest(rule, ruleDto.getUnitTests()));\n        } else {\n            rule.setUnitTests(null);\n        }\n    }\n\n    @AfterMapping\n    public RuleDto enrichDto(@MappingTarget RuleDto ruleDto, Rule rule) {\n        if (rule.getUnitTests() != null) {\n            ruleDto.setUnitTests(rule.getUnitTests().stream().map(unitTest -&gt; {\n                RuleUnitTestDto unitTestDto = new RuleUnitTestDto();\n                unitTestDto.setId(unitTest.getId());\n                unitTestDto.setName(unitTest.getName());\n                unitTestDto.setTestData(unitTest.getTestData());\n                unitTestDto.setRuleId(rule.getId());\n                return unitTestDto;\n            }).toList());\n        }\n        return ruleDto;\n    }\n\n    public List&lt;RuleUnitTest&gt; buildBuildUnitTestFromUnitTest(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestDtos) {\n        if (unitTestDtos == null)\n            return Collections.emptyList();\n        List&lt;RuleUnitTest&gt; unitTestsList = new ArrayList&lt;&gt;();\n\n        for (RuleUnitTestDto unitTestDto : unitTestDtos) {\n            unitTestsList.add(new RuleUnitTest(null, rule, unitTestDto.getName(), unitTestDto.getTestData()));\n        }\n        return unitTestsList;\n    }\n}\n\n</code></pre>\n<p>I'm trying to send the following body request:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;rule1&quot;,\n    &quot;unitTests&quot;:[{\n        &quot;name&quot;:&quot;blah blah&quot;,\n        &quot;testData&quot;:[{&quot;a&quot;:&quot;b&quot;}]\n    }]\n}\n</code></pre>\n<p>When trying to save a rule and a unit test i get the following error (saying name and testData is null, which isn't true when debugging):</p>\n<pre><code> ERROR: null value in column &quot;name&quot; of relation &quot;rule_unit_test&quot; violates not-null constraint\n  Detail: Failing row contains (p0n9vr, 07rplw, null, null).\n</code></pre>\n<p>I really don't know why it happens, any ideas?</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691780311,"creation_date":1691780311,"answer_id":76886128,"question_id":76885428,"body_markdown":"Your original code was probably enough to hint at whats happening.\r\n\r\n```java\r\npublic static void m1(int i){\r\nSystem.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\r\n}\r\n\r\n// then later in a method\r\nSparkSession spark = SparkSession.builder()\r\n        .appName(&quot;UDFExample&quot;)\r\n        .config(&quot;spark.master&quot;, &quot;local[*]&quot;)\r\n        .getOrCreate();\r\n\r\nList&lt;Integer&gt; ar = Arrays.asList(2,4,3,6,1,5);\r\nJavaRDD&lt;Integer&gt; outputRdd1 = JavaSparkContext.fromSparkContext(spark.sparkContext()).parallelize(ar).map(x -&gt; {\r\n    try {\r\n        m1(x);\r\n    } catch (Exception e) {\r\n        return x;\r\n    }\r\n    return x;\r\n});\r\n\r\noutputRdd1.collect().forEach( i -&gt; System.out.println(&quot;res was &quot;+i));\r\n\r\n```\r\n\r\non a box with enough cores will give:\r\n\r\n```\r\n===thread==Executor task launch worker for task 13.0 in stage 0.0 (TID 13)===value==1\r\n===thread==Executor task launch worker for task 15.0 in stage 0.0 (TID 15)===value==5\r\n===thread==Executor task launch worker for task 5.0 in stage 0.0 (TID 5)===value==4\r\n===thread==Executor task launch worker for task 7.0 in stage 0.0 (TID 7)===value==3\r\n===thread==Executor task launch worker for task 2.0 in stage 0.0 (TID 2)===value==2\r\n===thread==Executor task launch worker for task 10.0 in stage 0.0 (TID 10)===value==6\r\nres was 2\r\nres was 4\r\nres was 3\r\nres was 6\r\nres was 1\r\nres was 5\r\n```\r\n\r\nand a lot of task logging, that&#39;s on OSS 3.4.1.  If you are using the Databricks runtime (as per the tag) note it is not OSS and it&#39;s free to optimize how it sees fit, in this case, and the csv file one, it could simply chosen based on size to keep it on the driver node in a single thread and save you money.","title":"Scala 2.13 and Spark 3.2.1 is not running concurrently on executors","body":"<p>Your original code was probably enough to hint at whats happening.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void m1(int i){\nSystem.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\n}\n\n// then later in a method\nSparkSession spark = SparkSession.builder()\n        .appName(&quot;UDFExample&quot;)\n        .config(&quot;spark.master&quot;, &quot;local[*]&quot;)\n        .getOrCreate();\n\nList&lt;Integer&gt; ar = Arrays.asList(2,4,3,6,1,5);\nJavaRDD&lt;Integer&gt; outputRdd1 = JavaSparkContext.fromSparkContext(spark.sparkContext()).parallelize(ar).map(x -&gt; {\n    try {\n        m1(x);\n    } catch (Exception e) {\n        return x;\n    }\n    return x;\n});\n\noutputRdd1.collect().forEach( i -&gt; System.out.println(&quot;res was &quot;+i));\n\n</code></pre>\n<p>on a box with enough cores will give:</p>\n<pre><code>===thread==Executor task launch worker for task 13.0 in stage 0.0 (TID 13)===value==1\n===thread==Executor task launch worker for task 15.0 in stage 0.0 (TID 15)===value==5\n===thread==Executor task launch worker for task 5.0 in stage 0.0 (TID 5)===value==4\n===thread==Executor task launch worker for task 7.0 in stage 0.0 (TID 7)===value==3\n===thread==Executor task launch worker for task 2.0 in stage 0.0 (TID 2)===value==2\n===thread==Executor task launch worker for task 10.0 in stage 0.0 (TID 10)===value==6\nres was 2\nres was 4\nres was 3\nres was 6\nres was 1\nres was 5\n</code></pre>\n<p>and a lot of task logging, that's on OSS 3.4.1.  If you are using the Databricks runtime (as per the tag) note it is not OSS and it's free to optimize how it sees fit, in this case, and the csv file one, it could simply chosen based on size to keep it on the driver node in a single thread and save you money.</p>\n"}],"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692716920,"creation_date":1691772804,"question_id":76885428,"body_markdown":"Trying to do parallel processing of list using `scala 2.13` and `spark 3.2.1`.It seems to run in single task in `local` with spark master of 4 threads `local[4]`. May be missing something here. \r\n\r\nBelow is what I am trying and the libs related to `spark` and `scala`\r\n\r\ncreate a print method\r\n\r\n```java\r\npublic static void m1(String i){\r\n    System.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\r\n}\r\n```\r\n\r\n`spark` code to print using `rdd`\r\n\r\n```java\r\n final SparkSession sparkSession = SparkSession.builder()\r\n                    .appName(&quot;appName&quot;)\r\n                    .config(&quot;spark.sql.shuffle.partitions&quot;, 1500)\r\n                    .config(&quot;spark.debug.maxToStringFields&quot;, 1500)\r\n                    .config(&quot;spark.master&quot;, &quot;local[4]&quot;)\r\n                   .getOrCreate();\r\nDataset&lt;Row&gt; data = sparkSession.read().option(HEADER, TRUE).csv(&quot;path to csv&quot;);\r\nDataset&lt;Row&gt; lines = data.na().fill(&quot;&quot;);\r\n  \r\nJavaRDD&lt;Row&gt; oprdd = lines.javaRDD().map(x -&gt; {\r\n    try {\r\n        m1(x.mkString());\r\n    } catch (Exception e) {\r\n        return  x;\r\n    }\r\n    return x;\r\n});\r\n\r\noprdd.rdd().collect();\r\n```\r\n```\r\ncompile &#39;org.apache.spark:spark-core_2.13:3.2.1&#39;\r\ncompile &#39;org.apache.spark:spark-sql_2.13:3.2.1&#39;\r\n```\r\nBelow is output\r\n\r\n```\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==bcd\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==efg\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==hij\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==klm\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==nop\r\n\r\n```\r\n","title":"Scala 2.13 and Spark 3.2.1 is not running concurrently on executors","body":"<p>Trying to do parallel processing of list using <code>scala 2.13</code> and <code>spark 3.2.1</code>.It seems to run in single task in <code>local</code> with spark master of 4 threads <code>local[4]</code>. May be missing something here.</p>\n<p>Below is what I am trying and the libs related to <code>spark</code> and <code>scala</code></p>\n<p>create a print method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void m1(String i){\n    System.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\n}\n</code></pre>\n<p><code>spark</code> code to print using <code>rdd</code></p>\n<pre class=\"lang-java prettyprint-override\"><code> final SparkSession sparkSession = SparkSession.builder()\n                    .appName(&quot;appName&quot;)\n                    .config(&quot;spark.sql.shuffle.partitions&quot;, 1500)\n                    .config(&quot;spark.debug.maxToStringFields&quot;, 1500)\n                    .config(&quot;spark.master&quot;, &quot;local[4]&quot;)\n                   .getOrCreate();\nDataset&lt;Row&gt; data = sparkSession.read().option(HEADER, TRUE).csv(&quot;path to csv&quot;);\nDataset&lt;Row&gt; lines = data.na().fill(&quot;&quot;);\n  \nJavaRDD&lt;Row&gt; oprdd = lines.javaRDD().map(x -&gt; {\n    try {\n        m1(x.mkString());\n    } catch (Exception e) {\n        return  x;\n    }\n    return x;\n});\n\noprdd.rdd().collect();\n</code></pre>\n<pre><code>compile 'org.apache.spark:spark-core_2.13:3.2.1'\ncompile 'org.apache.spark:spark-sql_2.13:3.2.1'\n</code></pre>\n<p>Below is output</p>\n<pre><code>===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==bcd\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==efg\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==hij\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==klm\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==nop\n\n</code></pre>\n"},{"tags":["java","encryption","jwt","jwe","jose4j"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692647076,"creation_date":1692646382,"answer_id":76948244,"question_id":76946962,"body_markdown":"[A128CBC-HS256][2] stands for [AES_128_CBC_HMAC_SHA_256][1]. This algorithm encrypts with AES-128 in CBC mode, authentication is done with HMAC/SHA256. A 32 bytes key is required as primary key (from which two secondary keys are derived: the first 16 bytes are used for authentication, the second for encryption).\r\n\r\nThe current Java code tries to import the key with `X509EncodedKeySpec`. This class is intended for importing a DER encoded SPKI key in the context of RSA, so it is completely wrong here. \r\n\r\nInstead, a possible Java implementation is: \r\n\r\n```java\r\nimport java.security.Key;\r\nimport java.util.Base64;\r\nimport org.jose4j.jwe.JsonWebEncryption;\r\nimport org.jose4j.jwt.JwtClaims;\r\nimport org.jose4j.keys.HmacKey;\r\n\r\n...\r\n \r\nString jwt = &quot;eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..WhLXSXBUTRSERZuRTMBLrw.PqYS4ZoVHEnLA3nKyurYtO8oPRI9ncnd9gWftneUQmbdV1y8EaL3rBFYCxp1MFm7c5kZe4hx98uHpdAAkrznhmqiQ7Z2MGNlmp9aqZquo8dq1HJOUj-DoqSdsVGx7a1XoAR35bNW7rhru62zYMJfeA.-18U12AoCxO9NNOG6mHnNQ&quot;; // encrypted JWT\r\nbyte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;); // primary key\r\nKey key = new HmacKey(encoded); // import primary key\r\n\t\r\nJsonWebEncryption jwe = new JsonWebEncryption();\r\njwe.setKey(key);\r\njwe.setCompactSerialization(jwt);\r\nString payload = jwe.getPayload(); // decrypt\r\n\r\nJwtClaims claims = JwtClaims.parse(payload);\r\nString fooClaim = claims.getStringClaimValue(&quot;foo&quot;); // get foo claim\r\n\r\nSystem.out.println(payload);  // {&quot;foo&quot;:&quot;bar&quot;,&quot;iat&quot;:1692645846,&quot;iss&quot;:&quot;urn:example:issuer&quot;,&quot;aud&quot;:&quot;urn:example:audience&quot;,&quot;exp&quot;:1692653046}\r\nSystem.out.println(fooClaim); // bar\r\n```\r\n\r\nHere, the encrypted token (`jwt`) was created using the posted NodeJS code.\r\n\r\n[1]: https://www.rfc-editor.org/rfc/rfc7518#section-5.2.3\r\n[2]: https://www.rfc-editor.org/rfc/rfc7518#section-5.1","title":"How to decrypt a JWE using JOSE4J using public key","body":"<p><a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-5.1\" rel=\"nofollow noreferrer\">A128CBC-HS256</a> stands for <a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-5.2.3\" rel=\"nofollow noreferrer\">AES_128_CBC_HMAC_SHA_256</a>. This algorithm encrypts with AES-128 in CBC mode, authentication is done with HMAC/SHA256. A 32 bytes key is required as primary key (from which two secondary keys are derived: the first 16 bytes are used for authentication, the second for encryption).</p>\n<p>The current Java code tries to import the key with <code>X509EncodedKeySpec</code>. This class is intended for importing a DER encoded SPKI key in the context of RSA, so it is completely wrong here.</p>\n<p>Instead, a possible Java implementation is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.Key;\nimport java.util.Base64;\nimport org.jose4j.jwe.JsonWebEncryption;\nimport org.jose4j.jwt.JwtClaims;\nimport org.jose4j.keys.HmacKey;\n\n...\n \nString jwt = &quot;eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..WhLXSXBUTRSERZuRTMBLrw.PqYS4ZoVHEnLA3nKyurYtO8oPRI9ncnd9gWftneUQmbdV1y8EaL3rBFYCxp1MFm7c5kZe4hx98uHpdAAkrznhmqiQ7Z2MGNlmp9aqZquo8dq1HJOUj-DoqSdsVGx7a1XoAR35bNW7rhru62zYMJfeA.-18U12AoCxO9NNOG6mHnNQ&quot;; // encrypted JWT\nbyte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;); // primary key\nKey key = new HmacKey(encoded); // import primary key\n    \nJsonWebEncryption jwe = new JsonWebEncryption();\njwe.setKey(key);\njwe.setCompactSerialization(jwt);\nString payload = jwe.getPayload(); // decrypt\n\nJwtClaims claims = JwtClaims.parse(payload);\nString fooClaim = claims.getStringClaimValue(&quot;foo&quot;); // get foo claim\n\nSystem.out.println(payload);  // {&quot;foo&quot;:&quot;bar&quot;,&quot;iat&quot;:1692645846,&quot;iss&quot;:&quot;urn:example:issuer&quot;,&quot;aud&quot;:&quot;urn:example:audience&quot;,&quot;exp&quot;:1692653046}\nSystem.out.println(fooClaim); // bar\n</code></pre>\n<p>Here, the encrypted token (<code>jwt</code>) was created using the posted NodeJS code.</p>\n"},{"tags":[],"owner":{"account_id":10312464,"reputation":382,"user_id":7607817,"accept_rate":75,"display_name":"stor314"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692716830,"creation_date":1692716830,"answer_id":76954654,"question_id":76946962,"body_markdown":"For people in the future who view this, try either @Topaco &#39;s answer or the following code which I ended up using before the answer was posted\r\n\r\n```\r\n    private static JwtClaims decryptMessage(String msg) throws JoseException, InvalidJwtException {\r\n\r\n    \tbyte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\r\n\r\n    \tJsonWebEncryption receiverJwe = new JsonWebEncryption();\r\n\r\n    \tAlgorithmConstraints algConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, KeyManagementAlgorithmIdentifiers.DIRECT);\r\n    \treceiverJwe.setAlgorithmConstraints(algConstraints);\r\n    \tAlgorithmConstraints encConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, ContentEncryptionAlgorithmIdentifiers.AES_128_CBC_HMAC_SHA_256);\r\n    \treceiverJwe.setContentEncryptionAlgorithmConstraints(encConstraints);\r\n\r\n    \treceiverJwe.setCompactSerialization(msg);\r\n  \r\n    \tSecretKeySpec secretKeySpec = new SecretKeySpec(encoded, &quot;AES&quot;);\r\n\r\n    \treceiverJwe.setKey(secretKeySpec);\r\n\r\n    \treturn JwtClaims.parse(receiverJwe.getPayload());\r\n    }\r\n```","title":"How to decrypt a JWE using JOSE4J using public key","body":"<p>For people in the future who view this, try either @Topaco 's answer or the following code which I ended up using before the answer was posted</p>\n<pre><code>    private static JwtClaims decryptMessage(String msg) throws JoseException, InvalidJwtException {\n\n        byte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\n\n        JsonWebEncryption receiverJwe = new JsonWebEncryption();\n\n        AlgorithmConstraints algConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, KeyManagementAlgorithmIdentifiers.DIRECT);\n        receiverJwe.setAlgorithmConstraints(algConstraints);\n        AlgorithmConstraints encConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, ContentEncryptionAlgorithmIdentifiers.AES_128_CBC_HMAC_SHA_256);\n        receiverJwe.setContentEncryptionAlgorithmConstraints(encConstraints);\n\n        receiverJwe.setCompactSerialization(msg);\n  \n        SecretKeySpec secretKeySpec = new SecretKeySpec(encoded, &quot;AES&quot;);\n\n        receiverJwe.setKey(secretKeySpec);\n\n        return JwtClaims.parse(receiverJwe.getPayload());\n    }\n</code></pre>\n"}],"owner":{"account_id":10312464,"reputation":382,"user_id":7607817,"accept_rate":75,"display_name":"stor314"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76948244,"answer_count":2,"score":0,"last_activity_date":1692716830,"creation_date":1692633600,"question_id":76946962,"body_markdown":"Feel kind of out of my depth here.\r\n\r\nI have a message that I&#39;m trying to encrypt on a react front end using a public key and the jose library. Then that message will be sent to the java back end and needs to be decrypted by the same public key so that the message can be read.\r\n\r\nOn the front end, this is my code:\r\n```\r\n  const secret = jose.base64url.decode(&#39;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&#39;);\r\n  const jwt = await new jose.EncryptJWT({ foo: &#39;bar&#39; })\r\n    .setProtectedHeader({ alg: &#39;dir&#39;, enc: &#39;A128CBC-HS256&#39; })\r\n    .setIssuedAt()\r\n    .setIssuer(&#39;urn:example:issuer&#39;)\r\n    .setAudience(&#39;urn:example:audience&#39;)\r\n    .setExpirationTime(&#39;2h&#39;)\r\n    .encrypt(secret);\r\n```\r\n\r\nAnd then this is my attempt at decrypting on the backend\r\n```\r\n         byte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\r\n         \r\n         PublicKey pk = null;\r\n         \r\n          try {\r\n\t\t\tKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t          X509EncodedKeySpec keySpec = new X509EncodedKeySpec(encoded);\r\n\t          pk = keyFactory.generatePublic(keySpec);\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (InvalidKeySpecException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n          \r\n         \r\n         JwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n        \t\t .setRequireExpirationTime()\r\n        \t\t .setVerificationKey(pk)\r\n        \t\t .build();\r\n         \r\n         try {\r\n\t\t\tJwtClaims jwtDecoded = jwtConsumer.processToClaims(forwardKey);\r\n\t\t\tSystem.out.println(jwtDecoded.getStringClaimValue(&quot;foo&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n\r\nHowever Java doesn&#39;t seem to have the HS256 algorithm available when creating the PublicKey object using the keyfactory, but then I can&#39;t find any information on what algorithms to use for the encryption on the front end.\r\n\r\nDecrypting on the front end using the same secret works fine. But when trying to do the same thing in JAVA its like 20 more lines and I&#39;m not sure what those lines are supposed to be at all","title":"How to decrypt a JWE using JOSE4J using public key","body":"<p>Feel kind of out of my depth here.</p>\n<p>I have a message that I'm trying to encrypt on a react front end using a public key and the jose library. Then that message will be sent to the java back end and needs to be decrypted by the same public key so that the message can be read.</p>\n<p>On the front end, this is my code:</p>\n<pre><code>  const secret = jose.base64url.decode('zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI');\n  const jwt = await new jose.EncryptJWT({ foo: 'bar' })\n    .setProtectedHeader({ alg: 'dir', enc: 'A128CBC-HS256' })\n    .setIssuedAt()\n    .setIssuer('urn:example:issuer')\n    .setAudience('urn:example:audience')\n    .setExpirationTime('2h')\n    .encrypt(secret);\n</code></pre>\n<p>And then this is my attempt at decrypting on the backend</p>\n<pre><code>         byte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\n         \n         PublicKey pk = null;\n         \n          try {\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n              X509EncodedKeySpec keySpec = new X509EncodedKeySpec(encoded);\n              pk = keyFactory.generatePublic(keySpec);\n            } catch (NoSuchAlgorithmException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (InvalidKeySpecException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n          \n         \n         JwtConsumer jwtConsumer = new JwtConsumerBuilder()\n                 .setRequireExpirationTime()\n                 .setVerificationKey(pk)\n                 .build();\n         \n         try {\n            JwtClaims jwtDecoded = jwtConsumer.processToClaims(forwardKey);\n            System.out.println(jwtDecoded.getStringClaimValue(&quot;foo&quot;));\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n<p>However Java doesn't seem to have the HS256 algorithm available when creating the PublicKey object using the keyfactory, but then I can't find any information on what algorithms to use for the encryption on the front end.</p>\n<p>Decrypting on the front end using the same secret works fine. But when trying to do the same thing in JAVA its like 20 more lines and I'm not sure what those lines are supposed to be at all</p>\n"},{"tags":["java","google-cloud-firestore","google-cloud-dataflow","apache-beam"],"owner":{"account_id":8854411,"reputation":105,"user_id":6612592,"accept_rate":40,"display_name":"Virx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692716254,"creation_date":1692716254,"question_id":76954567,"body_markdown":"I have lots of devices that constantly send me data. I want to use dataflow to parse the data and save it to Firestore. I want to use FirestoreIO for saving. First problem I ran into was that I started to constantly get error\r\n\r\n    io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request\r\nIt kinda makes sense since FirestoreIO is saving in batches and if there are multiple documents with same ID then you should get an error. So my next though was to group all device data with the same keys using GroupByKey PTransform. To do that I needed to create window before grouping. I want my window to collect all data during 1s period and then pass it all to GroupByKey step. My pipeline looks like this.\r\n\r\n```\r\nWindow&lt;KV&lt;String, Device&gt;&gt; windowing =\r\n                Window.&lt;KV&lt;String, Device&gt;&gt;into(FixedWindows.of(Duration.standardSeconds(1)))\r\n                        .triggering(Repeatedly.forever(\r\n                                AfterProcessingTime.pastFirstElementInPane()\r\n                                        .plusDelayOf(Duration.standardSeconds(1))\r\n                                        .alignedTo(Duration.standardSeconds(1))))\r\n                        .withAllowedLateness(Duration.ZERO)\r\n                        .discardingFiredPanes();\r\n\r\nPCollectionList.of(subscription1).and(subscription2)\r\n                .apply(Flatten.pCollections())\r\n                .apply(&quot;Parse pubsub&quot;, ParDo.of(new PubsubMessageParser()))\r\n                .apply(&quot;Apply windowing&quot;, windowing)\r\n                .apply(&quot;Group message&quot;, GroupByKey.create())\r\n                .apply(&quot;FirestoreParser&quot;, ParDo.of(new FirestoreParser()))\r\n                .apply(FirestoreIO.v1().write().batchWrite().build());\r\n```\r\n\r\nI see from logs that FirestoreParses step is sometimes run more often than once per second for one specific key.\r\n```\r\nINFO 2023-08-22T14:07:45.146Z running FirestoreParser for key 111111 : batch size 5\r\nINFO 2023-08-22T14:07:45.192Z running FirestoreParser for key 111111 : batch size 2\r\nINFO 2023-08-22T14:07:46.283Z running FirestoreParser for key 111111 : batch size 4\r\n\r\nINFO 2023-08-22T14:07:48.150Z running FirestoreParser for key 111111 : batch size 6\r\nINFO 2023-08-22T14:07:48.194Z running FirestoreParser for key 111111 : batch size 2\r\nINFO 2023-08-22T14:07:49.271Z running FirestoreParser for key 111111 : batch size 5\r\n```\r\nBecause of that my dataflow still sometimes throws the `io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request\r\n` exception. \r\n\r\nWhy is this happening? I guess the problem lies within window or its trigger. How can I fix it so that the FirestoreParser would actually run once per second for specific key?\r\n\r\n ","title":"Dataflow FixedWindow triggered more than once during allowed period","body":"<p>I have lots of devices that constantly send me data. I want to use dataflow to parse the data and save it to Firestore. I want to use FirestoreIO for saving. First problem I ran into was that I started to constantly get error</p>\n<pre><code>io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request\n</code></pre>\n<p>It kinda makes sense since FirestoreIO is saving in batches and if there are multiple documents with same ID then you should get an error. So my next though was to group all device data with the same keys using GroupByKey PTransform. To do that I needed to create window before grouping. I want my window to collect all data during 1s period and then pass it all to GroupByKey step. My pipeline looks like this.</p>\n<pre><code>Window&lt;KV&lt;String, Device&gt;&gt; windowing =\n                Window.&lt;KV&lt;String, Device&gt;&gt;into(FixedWindows.of(Duration.standardSeconds(1)))\n                        .triggering(Repeatedly.forever(\n                                AfterProcessingTime.pastFirstElementInPane()\n                                        .plusDelayOf(Duration.standardSeconds(1))\n                                        .alignedTo(Duration.standardSeconds(1))))\n                        .withAllowedLateness(Duration.ZERO)\n                        .discardingFiredPanes();\n\nPCollectionList.of(subscription1).and(subscription2)\n                .apply(Flatten.pCollections())\n                .apply(&quot;Parse pubsub&quot;, ParDo.of(new PubsubMessageParser()))\n                .apply(&quot;Apply windowing&quot;, windowing)\n                .apply(&quot;Group message&quot;, GroupByKey.create())\n                .apply(&quot;FirestoreParser&quot;, ParDo.of(new FirestoreParser()))\n                .apply(FirestoreIO.v1().write().batchWrite().build());\n</code></pre>\n<p>I see from logs that FirestoreParses step is sometimes run more often than once per second for one specific key.</p>\n<pre><code>INFO 2023-08-22T14:07:45.146Z running FirestoreParser for key 111111 : batch size 5\nINFO 2023-08-22T14:07:45.192Z running FirestoreParser for key 111111 : batch size 2\nINFO 2023-08-22T14:07:46.283Z running FirestoreParser for key 111111 : batch size 4\n\nINFO 2023-08-22T14:07:48.150Z running FirestoreParser for key 111111 : batch size 6\nINFO 2023-08-22T14:07:48.194Z running FirestoreParser for key 111111 : batch size 2\nINFO 2023-08-22T14:07:49.271Z running FirestoreParser for key 111111 : batch size 5\n</code></pre>\n<p>Because of that my dataflow still sometimes throws the <code>io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request </code> exception.</p>\n<p>Why is this happening? I guess the problem lies within window or its trigger. How can I fix it so that the FirestoreParser would actually run once per second for specific key?</p>\n"},{"tags":["java","spring-boot","annotation-processing","java-annotations"],"owner":{"account_id":29276246,"reputation":1,"user_id":22429913,"display_name":"Aymane Matrane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692715817,"creation_date":1692715817,"question_id":76954500,"body_markdown":"I just got into java annotation processing and I wanted to create an annotation that does a similar job to @Value.\r\nI already created the annotation and annotation processor.\r\nso is there a way to inject the value from the process method? or am i going in the wrong direction?\r\nhere is my annotation and processor\r\n\r\n```\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CustomValue {\r\n    String value();\r\n}\r\n```\r\n\r\n\r\n```\r\nimport com.google.auto.service.AutoService;\r\nimport report.configurations.PropertyLoader;\r\n\r\nimport javax.annotation.processing.*;\r\nimport javax.lang.model.SourceVersion;\r\nimport javax.lang.model.element.Element;\r\nimport javax.lang.model.element.ElementKind;\r\nimport javax.lang.model.element.TypeElement;\r\nimport javax.lang.model.element.VariableElement;\r\nimport javax.tools.*;\r\nimport java.io.File;\r\nimport java.io.PrintWriter;\r\nimport java.io.Writer;\r\nimport java.util.Collections;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\n@SupportedAnnotationTypes(&quot;report.annotations.CustomValue&quot;)\r\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\r\n@AutoService(javax.annotation.processing.Processor.class)\r\npublic class  CustomValueProcessor extends AbstractProcessor {\r\n\r\n    private Messager messager;\r\n    private Map&lt;String, String&gt; PropMap = PropertyLoader.parsePropertiesFile();\r\n\r\n    @Override\r\n    public synchronized void init(ProcessingEnvironment processingEnv) {\r\n        super.init(processingEnv);\r\n        messager = processingEnv.getMessager();\r\n\r\n        // Retrieve the property name from options\r\n    }\r\n\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        for (TypeElement annotation : annotations) {\r\n            for (Element element : roundEnv.getElementsAnnotatedWith(annotation)) {\r\n                if (element.getKind() == ElementKind.FIELD) {\r\n                    CustomValue annotationValue = element.getAnnotation(CustomValue.class);\r\n                    String paramName = annotationValue.value();\r\n                    String newParaName = paramName.substring(2, paramName.length() - 1);\r\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + newParaName);\r\n\r\n                    String propertyValue = PropMap.get(newParaName);\r\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + propertyValue);\r\n\r\n                    if (element instanceof VariableElement) {\r\n                        VariableElement variableElement = (VariableElement) element;\r\n                        generateAndExecuteCode(variableElement, propertyValue);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private void generateAndExecuteCode(VariableElement variableElement, String propertyValue) {\r\n        String fieldName = variableElement.getSimpleName().toString();\r\n        String setterMethodName = &quot;set&quot; + fieldName.substring(0, 1).toUpperCase() + fieldName.substring(1);\r\n\r\n        String setterCode = String.format(&quot;%s.%s(\\&quot;%s\\&quot;);&quot;, variableElement.getEnclosingElement(), setterMethodName, propertyValue);\r\n\r\n        try {\r\n            String generatedClassName = &quot;GeneratedCode&quot;;\r\n            String javaSourceCode = &quot;public class &quot; + generatedClassName + &quot; {\\n&quot;\r\n                    + &quot;    public static void run() {\\n&quot;\r\n                    + &quot;        &quot; + setterCode + &quot;\\n&quot;\r\n                    + &quot;    }\\n&quot;\r\n                    + &quot;}\\n&quot;;\r\n\r\n            // Obtain a Filer instance\r\n            Filer filer = processingEnv.getFiler();\r\n\r\n            JavaFileObject sourceFileObject = filer.createSourceFile(generatedClassName);\r\n            try (Writer writer = sourceFileObject.openWriter()) {\r\n                writer.write(javaSourceCode);\r\n            }\r\n\r\n            File sourceFile = new File(&quot;.&quot;, generatedClassName + &quot;.java&quot;);\r\n            try (PrintWriter writer = new PrintWriter(sourceFile)) {\r\n                writer.write(javaSourceCode);\r\n            }\r\n\r\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\r\n            Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Collections.singletonList(sourceFile));\r\n            compiler.getTask(null, fileManager, null, null, null, compilationUnits).call();\r\n\r\n            // Load and execute the compiled class\r\n            Class&lt;?&gt; generatedClass = Class.forName(generatedClassName);\r\n            generatedClass.getMethod(&quot;run&quot;).invoke(null);\r\n\r\n            // Cleanup: Delete the temporary source file\r\n            sourceFile.delete();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI tried to generated a file to inject it at compile time but I suppose that`s not the right way to do it","title":"Trying to inject a certain value into a field with annotation without @Value","body":"<p>I just got into java annotation processing and I wanted to create an annotation that does a similar job to @Value.\nI already created the annotation and annotation processor.\nso is there a way to inject the value from the process method? or am i going in the wrong direction?\nhere is my annotation and processor</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomValue {\n    String value();\n}\n</code></pre>\n<pre><code>import com.google.auto.service.AutoService;\nimport report.configurations.PropertyLoader;\n\nimport javax.annotation.processing.*;\nimport javax.lang.model.SourceVersion;\nimport javax.lang.model.element.Element;\nimport javax.lang.model.element.ElementKind;\nimport javax.lang.model.element.TypeElement;\nimport javax.lang.model.element.VariableElement;\nimport javax.tools.*;\nimport java.io.File;\nimport java.io.PrintWriter;\nimport java.io.Writer;\nimport java.util.Collections;\nimport java.util.Map;\nimport java.util.Set;\n\n@SupportedAnnotationTypes(&quot;report.annotations.CustomValue&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\n@AutoService(javax.annotation.processing.Processor.class)\npublic class  CustomValueProcessor extends AbstractProcessor {\n\n    private Messager messager;\n    private Map&lt;String, String&gt; PropMap = PropertyLoader.parsePropertiesFile();\n\n    @Override\n    public synchronized void init(ProcessingEnvironment processingEnv) {\n        super.init(processingEnv);\n        messager = processingEnv.getMessager();\n\n        // Retrieve the property name from options\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        for (TypeElement annotation : annotations) {\n            for (Element element : roundEnv.getElementsAnnotatedWith(annotation)) {\n                if (element.getKind() == ElementKind.FIELD) {\n                    CustomValue annotationValue = element.getAnnotation(CustomValue.class);\n                    String paramName = annotationValue.value();\n                    String newParaName = paramName.substring(2, paramName.length() - 1);\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + newParaName);\n\n                    String propertyValue = PropMap.get(newParaName);\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + propertyValue);\n\n                    if (element instanceof VariableElement) {\n                        VariableElement variableElement = (VariableElement) element;\n                        generateAndExecuteCode(variableElement, propertyValue);\n                    }\n                }\n            }\n        }\n        return true;\n    }\n\n    private void generateAndExecuteCode(VariableElement variableElement, String propertyValue) {\n        String fieldName = variableElement.getSimpleName().toString();\n        String setterMethodName = &quot;set&quot; + fieldName.substring(0, 1).toUpperCase() + fieldName.substring(1);\n\n        String setterCode = String.format(&quot;%s.%s(\\&quot;%s\\&quot;);&quot;, variableElement.getEnclosingElement(), setterMethodName, propertyValue);\n\n        try {\n            String generatedClassName = &quot;GeneratedCode&quot;;\n            String javaSourceCode = &quot;public class &quot; + generatedClassName + &quot; {\\n&quot;\n                    + &quot;    public static void run() {\\n&quot;\n                    + &quot;        &quot; + setterCode + &quot;\\n&quot;\n                    + &quot;    }\\n&quot;\n                    + &quot;}\\n&quot;;\n\n            // Obtain a Filer instance\n            Filer filer = processingEnv.getFiler();\n\n            JavaFileObject sourceFileObject = filer.createSourceFile(generatedClassName);\n            try (Writer writer = sourceFileObject.openWriter()) {\n                writer.write(javaSourceCode);\n            }\n\n            File sourceFile = new File(&quot;.&quot;, generatedClassName + &quot;.java&quot;);\n            try (PrintWriter writer = new PrintWriter(sourceFile)) {\n                writer.write(javaSourceCode);\n            }\n\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n            StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\n            Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Collections.singletonList(sourceFile));\n            compiler.getTask(null, fileManager, null, null, null, compilationUnits).call();\n\n            // Load and execute the compiled class\n            Class&lt;?&gt; generatedClass = Class.forName(generatedClassName);\n            generatedClass.getMethod(&quot;run&quot;).invoke(null);\n\n            // Cleanup: Delete the temporary source file\n            sourceFile.delete();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>I tried to generated a file to inject it at compile time but I suppose that`s not the right way to do it</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692715957,"post_id":76954374,"comment_id":135660553,"body_markdown":"You should post the whole stacktrace. Moreover, the field name is first_name and not firstName.","body":"You should post the whole stacktrace. Moreover, the field name is first_name and not firstName."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692715536,"creation_date":1692715536,"answer_id":76954459,"question_id":76954374,"body_markdown":"The error message is correct because there is indeed no `name` field in your entity. You only have `first_name` and `last_name`. \r\n\r\nMoreover, you have not followed the java naming convention to name your entity fields.\r\n\r\nThe correct convention will be to rename them as:\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n    \r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\nThen you can query by `firstName` and `lastName` as `findByFirstNameAndLastName(firstName, lastName, pageable)`.\r\n","title":"Java Spring pagination and filter","body":"<p>The error message is correct because there is indeed no <code>name</code> field in your entity. You only have <code>first_name</code> and <code>last_name</code>.</p>\n<p>Moreover, you have not followed the java naming convention to name your entity fields.</p>\n<p>The correct convention will be to rename them as:</p>\n<pre><code>@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n\n@Column(name = &quot;last_name&quot;)\nprivate String lastName;\n</code></pre>\n<p>Then you can query by <code>firstName</code> and <code>lastName</code> as <code>findByFirstNameAndLastName(firstName, lastName, pageable)</code>.</p>\n"}],"owner":{"account_id":29276012,"reputation":1,"user_id":22429723,"display_name":"ModeJP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692715536,"creation_date":1692714962,"question_id":76954374,"body_markdown":"I&#39;m working on a Spring Boot application where I need to implement filtering functionality for customer data. I&#39;ve set up a **CustomerRepository** with a custom method named **findByName** to handle the filtering based on specific criteria such as **first_name** and **last_name**. However, when I try to use this custom method in both my **CustomerService** and **CustomerController**, I&#39;m encountering an issue during application startup. The error message indicates that Spring Data JPA is unable to recognize the findByName method as a valid query method and it mentions a missing property that isn&#39;t present in my Customer entity.\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customerController&#39;: Unsatisfied dependency expressed through field &#39;customerService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customerService&#39;: Unsatisfied dependency expressed through field &#39;customerRepository&#39;\r\n\r\nCustomer.java:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;customers&quot;)\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n    \r\n    @Column(name = &quot;first_name&quot;)\r\n    private String first_name;\r\n    \r\n    @Column(name = &quot;last_name&quot;)\r\n    private String last_name;\r\n    \r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n    \r\n    \r\n    /** Getter and Setter **/\r\n}\r\n```\r\n\r\nCustomerRepository.java:\r\n```\r\n@Repository\r\npublic interface CustomerRepository extends PagingAndSortingRepository &lt;Customer, Integer&gt;{\r\n\r\n    Page&lt;Customer&gt; findByName(String firstName, String lastName, Pageable pageable);\r\n}\r\n```\r\n\r\nCustomerService.java:\r\n```\r\n@Service\r\npublic class CustomerService {\r\n\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n    \r\n    public Page&lt;Customer&gt; searchCustomers(String firstName, String lastName, Pageable pageable) {\r\n        return customerRepository.findByName(firstName, lastName, pageable);\r\n    }\r\n}\r\n```\r\n\r\nCustomerController.java:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/customers&quot;)\r\npublic class CustomerController {\r\n\r\n    @Autowired\r\n    private CustomerService customerService;\r\n    \r\n    @GetMapping(&quot;/pagination&quot;)\r\n    public Page&lt;Customer&gt; searchCustomers(\r\n    \t      @RequestParam(required = false) String firstName,\r\n            @RequestParam(required = false) String lastName,\r\n            @RequestParam(defaultValue = &quot;0&quot;) int page,\r\n            @RequestParam(defaultValue = &quot;10&quot;) int pageSize)\r\n    {\r\n        Pageable pageable = PageRequest.of(page, pageSize);\r\n        return customerService.searchCustomers(firstName, lastName, pageable);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Java Spring pagination and filter","body":"<p>I'm working on a Spring Boot application where I need to implement filtering functionality for customer data. I've set up a <strong>CustomerRepository</strong> with a custom method named <strong>findByName</strong> to handle the filtering based on specific criteria such as <strong>first_name</strong> and <strong>last_name</strong>. However, when I try to use this custom method in both my <strong>CustomerService</strong> and <strong>CustomerController</strong>, I'm encountering an issue during application startup. The error message indicates that Spring Data JPA is unable to recognize the findByName method as a valid query method and it mentions a missing property that isn't present in my Customer entity.</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController': Unsatisfied dependency expressed through field 'customerService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerService': Unsatisfied dependency expressed through field 'customerRepository'</p>\n</blockquote>\n<p>Customer.java:</p>\n<pre><code>@Entity\n@Table(name=&quot;customers&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String first_name;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String last_name;\n    \n    @Column(name = &quot;age&quot;)\n    private Integer age;\n    \n    \n    /** Getter and Setter **/\n}\n</code></pre>\n<p>CustomerRepository.java:</p>\n<pre><code>@Repository\npublic interface CustomerRepository extends PagingAndSortingRepository &lt;Customer, Integer&gt;{\n\n    Page&lt;Customer&gt; findByName(String firstName, String lastName, Pageable pageable);\n}\n</code></pre>\n<p>CustomerService.java:</p>\n<pre><code>@Service\npublic class CustomerService {\n\n    @Autowired\n    private CustomerRepository customerRepository;\n    \n    public Page&lt;Customer&gt; searchCustomers(String firstName, String lastName, Pageable pageable) {\n        return customerRepository.findByName(firstName, lastName, pageable);\n    }\n}\n</code></pre>\n<p>CustomerController.java:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/customers&quot;)\npublic class CustomerController {\n\n    @Autowired\n    private CustomerService customerService;\n    \n    @GetMapping(&quot;/pagination&quot;)\n    public Page&lt;Customer&gt; searchCustomers(\n              @RequestParam(required = false) String firstName,\n            @RequestParam(required = false) String lastName,\n            @RequestParam(defaultValue = &quot;0&quot;) int page,\n            @RequestParam(defaultValue = &quot;10&quot;) int pageSize)\n    {\n        Pageable pageable = PageRequest.of(page, pageSize);\n        return customerService.searchCustomers(firstName, lastName, pageable);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","pdf","signature","biometrics","wacom"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1692719459,"post_id":76954455,"comment_id":135661425,"body_markdown":"As far as I know there is no common standard for integrating that data in a PDF. Some thoughts, though: To make any sense, those data need to be stored in a way that is cryptographically bound to the PDF in question. And it must be made sure that most of the data can only be read upon request of the authorities - if anyone could read them, anyone could copy them and store them as a signature of a different document. \nThere may be more requirements; as you mention legal purposes, there likely is a legal framework for those signatures enumerating requirements.","body":"As far as I know there is no common standard for integrating that data in a PDF. Some thoughts, though: To make any sense, those data need to be stored in a way that is cryptographically bound to the PDF in question. And it must be made sure that most of the data can only be read upon request of the authorities - if anyone could read them, anyone could copy them and store them as a signature of a different document.  There may be more requirements; as you mention legal purposes, there likely is a legal framework for those signatures enumerating requirements."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1692720017,"post_id":76954455,"comment_id":135661537,"body_markdown":"In [this answer](https://stackoverflow.com/a/17402565/1729265) I ten years ago superficially analyzed a PDF signature by xyzmo (now Namirial) that also stored a combined biometric/digital signature, so you might find the information there interesting. Unfortunately the links in that answer to the xyzmo web site don&#39;t work anymore.","body":"In <a href=\"https://stackoverflow.com/a/17402565/1729265\">this answer</a> I ten years ago superficially analyzed a PDF signature by xyzmo (now Namirial) that also stored a combined biometric/digital signature, so you might find the information there interesting. Unfortunately the links in that answer to the xyzmo web site don&#39;t work anymore."}],"owner":{"account_id":6921308,"reputation":21,"user_id":5313898,"display_name":"Alessandro Baroni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692715526,"creation_date":1692715526,"question_id":76954455,"body_markdown":"I need to implement Wacom tablet handwriting in my Java software and I&#39;m using the STU SDK for Linux.\r\n\r\nIn the samples that are present in the SDK it is shown how to acquire the PenData and transform them into an image but for legal purposes I am forced to also attach the biometric data (pressure, timing) together with the image of the signature in the PDF document.\r\n\r\nIs there a correct way or format to attach this biometric data in a PDF document?\r\n\r\nFor PDF document management in my software I use iTextPDF and Apache PDFBox.\r\n\r\nThank you","title":"Attach biometric data from Wacom STU SDK to a PDF document","body":"<p>I need to implement Wacom tablet handwriting in my Java software and I'm using the STU SDK for Linux.</p>\n<p>In the samples that are present in the SDK it is shown how to acquire the PenData and transform them into an image but for legal purposes I am forced to also attach the biometric data (pressure, timing) together with the image of the signature in the PDF document.</p>\n<p>Is there a correct way or format to attach this biometric data in a PDF document?</p>\n<p>For PDF document management in my software I use iTextPDF and Apache PDFBox.</p>\n<p>Thank you</p>\n"},{"tags":["java","css","selenium-webdriver","intellij-idea","salesforce"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":1,"creation_date":1692715710,"post_id":76954453,"comment_id":135660495,"body_markdown":"Check if the desired elements are within an `IFRAME`, if yes, you need to switch into the `IFRAME` and then locate elements.","body":"Check if the desired elements are within an <code>IFRAME</code>, if yes, you need to switch into the <code>IFRAME</code> and then locate elements."}],"owner":{"account_id":29276268,"reputation":11,"user_id":22429933,"display_name":"Yonatanb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692715520,"creation_date":1692715520,"question_id":76954453,"body_markdown":"I&#39;m trying to automate some processes in Salesforce.\r\nI&#39;m using Java Selenium in IntelliJ.\r\n\r\nDuring the test, I try to find a list of elements and I want to choose one of them by using get(index).\r\nThe problem is that during the run/debug, I see that it returns size = 0, which indicates the list is empty.\r\nHowever, when I inspect the element I&#39;m trying to get *during the test* I see that the selector I&#39;ve used indeed find the list of elements. How is it possible? \r\nAs far as I know, it can&#39;t be a wait issue because I saw this during debugging.\r\n\r\nHere is the code:\r\n\r\n    public void changeOwner() {\r\n        waiting(5000);\r\n        List&lt;WebElement&gt; ownerBtns = driver.findElements(By.cssSelector(&quot;[title=&#39;Change Owner&#39;]     [type=&#39;button&#39;][part=&#39;button button-icon&#39;]&quot;));\r\n        System.out.println(&quot;The size of the list is &quot; + ownerBtns.size());\r\n        WebElement desiredOwnerBtn = ownerBtns.get(0);\r\n        click(desiredOwnerBtn);\r\n        click(changeOwnerBtn);\r\n        waiting(2000);\r\n        fillText(searchOwnerField, &quot;Yonatan Bashiri&quot;);\r\n        for (WebElement owner : listOfOwners) {\r\n            if (getText(owner).equals(&quot;Yonatan Bashiri&quot;)) {\r\n                click(owner);\r\n                break;\r\n            }\r\n        }\r\n        click(changeOwnerBtn);\r\n        waiting(2000);\r\n    }\r\nThe problematic list is ownerBtns\r\nIn the debugger is says ownerBtns = (ArrayList@6835) size = 0\r\nIf I put this selector: [title=&#39;Change Owner&#39;][type=&#39;button&#39;][part=&#39;button button-icon&#39;] in the devtools during the test I find 3 elements.\r\n\r\nThank you for the help\r\n\r\n","title":"Java Selenium- list of elements are empty but I see during the test that it&#39;s not","body":"<p>I'm trying to automate some processes in Salesforce.\nI'm using Java Selenium in IntelliJ.</p>\n<p>During the test, I try to find a list of elements and I want to choose one of them by using get(index).\nThe problem is that during the run/debug, I see that it returns size = 0, which indicates the list is empty.\nHowever, when I inspect the element I'm trying to get <em>during the test</em> I see that the selector I've used indeed find the list of elements. How is it possible?\nAs far as I know, it can't be a wait issue because I saw this during debugging.</p>\n<p>Here is the code:</p>\n<pre><code>public void changeOwner() {\n    waiting(5000);\n    List&lt;WebElement&gt; ownerBtns = driver.findElements(By.cssSelector(&quot;[title='Change Owner']     [type='button'][part='button button-icon']&quot;));\n    System.out.println(&quot;The size of the list is &quot; + ownerBtns.size());\n    WebElement desiredOwnerBtn = ownerBtns.get(0);\n    click(desiredOwnerBtn);\n    click(changeOwnerBtn);\n    waiting(2000);\n    fillText(searchOwnerField, &quot;Yonatan Bashiri&quot;);\n    for (WebElement owner : listOfOwners) {\n        if (getText(owner).equals(&quot;Yonatan Bashiri&quot;)) {\n            click(owner);\n            break;\n        }\n    }\n    click(changeOwnerBtn);\n    waiting(2000);\n}\n</code></pre>\n<p>The problematic list is ownerBtns\nIn the debugger is says ownerBtns = (ArrayList@6835) size = 0\nIf I put this selector: [title='Change Owner'][type='button'][part='button button-icon'] in the devtools during the test I find 3 elements.</p>\n<p>Thank you for the help</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","selenium-chromedriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"score":0,"creation_date":1692802260,"post_id":76928702,"comment_id":135674332,"body_markdown":"This is a duplicate of https://stackoverflow.com/questions/76932496/webdrivermanager-setup-failing-to-download-chromedriver-116/76953473. To solve it, bump to the latest version of WebDriverManager (5.5.0 at the moment of this writing). See more info at https://bonigarcia.dev/webdrivermanager/#known-issues","body":"This is a duplicate of <a href=\"https://stackoverflow.com/questions/76932496/webdrivermanager-setup-failing-to-download-chromedriver-116/76953473\" title=\"webdrivermanager setup failing to download chromedriver 116\">stackoverflow.com/questions/76932496/&hellip;</a>. To solve it, bump to the latest version of WebDriverManager (5.5.0 at the moment of this writing). See more info at <a href=\"https://bonigarcia.dev/webdrivermanager/#known-issues\" rel=\"nofollow noreferrer\">bonigarcia.dev/webdrivermanager/#known-issues</a>"}],"answers":[{"tags":[],"owner":{"account_id":11834923,"reputation":1,"user_id":8660539,"display_name":"Lurin Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692609232,"creation_date":1692609191,"answer_id":76943896,"question_id":76928702,"body_markdown":"Update your Selenium version to the latest - 4.11.0. The issue was mentioned in [What&#39;s new in Selenium Manager with Selenium 4.11.0][1]\r\n\r\n\r\n  [1]: https://www.selenium.dev/blog/2023/whats-new-in-selenium-manager-with-selenium-4.11.0/","title":"ERROR io.github.bonigarcia.wdm.online.HttpClient - Error HTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116","body":"<p>Update your Selenium version to the latest - 4.11.0. The issue was mentioned in <a href=\"https://www.selenium.dev/blog/2023/whats-new-in-selenium-manager-with-selenium-4.11.0/\" rel=\"nofollow noreferrer\">What's new in Selenium Manager with Selenium 4.11.0</a></p>\n"}],"owner":{"account_id":4466143,"reputation":49,"user_id":3633738,"accept_rate":80,"display_name":"Tanata05"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692715490,"creation_date":1692356268,"question_id":76928702,"body_markdown":"I am getting the bellow error when trying to run automation tests, after Chrome was updated from v114 to v116\r\n\r\nERROR io.github.bonigarcia.wdm.online.HttpClient - Error HTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116","title":"ERROR io.github.bonigarcia.wdm.online.HttpClient - Error HTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116","body":"<p>I am getting the bellow error when trying to run automation tests, after Chrome was updated from v114 to v116</p>\n<p>ERROR io.github.bonigarcia.wdm.online.HttpClient - Error HTTP 404 executing <a href=\"https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116</a></p>\n"},{"tags":["java","swing","drag-and-drop"],"comments":[{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1328778835,"post_id":9192371,"comment_id":11590598,"body_markdown":"Well yes, perhaps I didn&#39;t make the question clear; &quot;How do I go about adding a drag&#39;n drop feature to my GUI, where the dragged files are represented nicely with their file names and a small icon (system icons would do, I have no intentions of designing custom icons)?&quot; I have come as far as to DnD&#39;d files are represented with their paths (which I believe is pretty much the default behavior).","body":"Well yes, perhaps I didn&#39;t make the question clear; &quot;How do I go about adding a drag&#39;n drop feature to my GUI, where the dragged files are represented nicely with their file names and a small icon (system icons would do, I have no intentions of designing custom icons)?&quot; I have come as far as to DnD&#39;d files are represented with their paths (which I believe is pretty much the default behavior)."},{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1328780835,"post_id":9192371,"comment_id":11591273,"body_markdown":"Thanks for reminding, code added now.","body":"Thanks for reminding, code added now."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1328781579,"post_id":9192371,"comment_id":11591503,"body_markdown":"why a textArea as dropZone? I would use a list with a custom renderer (displaying the icon/displayName provided by the FileSystemView)","body":"why a textArea as dropZone? I would use a list with a custom renderer (displaying the icon/displayName provided by the FileSystemView)"},{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1328782605,"post_id":9192371,"comment_id":11591822,"body_markdown":"@kleopatra: well I thought it&#39;d be the simplest case. Not sure what you mean by a list with a custom renderer, I would appreciate if you could give a short example.","body":"@kleopatra: well I thought it&#39;d be the simplest case. Not sure what you mean by a list with a custom renderer, I would appreciate if you could give a short example."}],"answers":[{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1692715288,"creation_date":1328783194,"answer_id":9209118,"question_id":9192371,"body_markdown":"here&#39;s a quick snippet to import the actual Files into a JList (as opposed to importing its String representation into a text component) and use a custom renderer to present it nicely. It&#39;s adapted from the BasicDnD (in the tutorial):\r\n\r\n        fileDropper = new JList(new DefaultListModel());\r\n        fileDropper.setDragEnabled(true);\r\n        leftLowerPanel.setViewportView(fileDropper);\r\n        \r\n        TransferHandler handler =   new TransferHandler() {\r\n\r\n            @Override\r\n            public boolean canImport(TransferHandler.TransferSupport info) {\r\n                // we only import FileList\r\n                if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public boolean importData(TransferHandler.TransferSupport info) {\r\n                if (!info.isDrop()) {\r\n                    return false;\r\n                }\r\n                \r\n                // Check for FileList flavor\r\n                if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                    displayDropLocation(&quot;List doesn&#39;t accept a drop of this type.&quot;);\r\n                    return false;\r\n                }\r\n\r\n                // Get the fileList that is being dropped.\r\n                Transferable t = info.getTransferable();\r\n                List&lt;File&gt; data;\r\n                try {\r\n                    data = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\r\n                } \r\n                catch (Exception e) { return false; }\r\n                DefaultListModel model = (DefaultListModel) fileDropper.getModel();\r\n                for (File file : data) {\r\n                    model.addElement(file);\r\n                }\r\n                return true;\r\n            }\r\n            \r\n            private void displayDropLocation(String string) {\r\n                System.out.println(string);\r\n            }\r\n        };\r\n        fileDropper.setTransferHandler(handler);\r\n        fileDropper.setCellRenderer(new DefaultListRenderer(\r\n              StringValues.FILE_NAME, IconValues.FILE_ICON));\r\n\r\nCouldn&#39;t resist to showing SwingX renderer config :-) In core java, you would do it manually, something like\r\n     \r\n       class MyRenderer extends DefaultListCellRenderer {\r\n            \r\n            @Override\r\n            public Component getListCellRendererComponent(...) {\r\n                super.getList...\r\n                if (value instanceof File) {\r\n                    setText(FileSystemView.getFileSystemView().getSystemDisplayName(value);\r\n                    setIcon(FileSystemView.getFileSystemView().getSystemIcon(value);\r\n                } \r\n                return this;\r\n            }\r\n\r\n       }\r\n\r\n\r\n","title":"Drag&#39;n drop files from the OS to Java application (Swing)","body":"<p>here's a quick snippet to import the actual Files into a JList (as opposed to importing its String representation into a text component) and use a custom renderer to present it nicely. It's adapted from the BasicDnD (in the tutorial):</p>\n<pre><code>    fileDropper = new JList(new DefaultListModel());\n    fileDropper.setDragEnabled(true);\n    leftLowerPanel.setViewportView(fileDropper);\n    \n    TransferHandler handler =   new TransferHandler() {\n\n        @Override\n        public boolean canImport(TransferHandler.TransferSupport info) {\n            // we only import FileList\n            if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                return false;\n            }\n            return true;\n        }\n\n        @Override\n        public boolean importData(TransferHandler.TransferSupport info) {\n            if (!info.isDrop()) {\n                return false;\n            }\n            \n            // Check for FileList flavor\n            if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                displayDropLocation(&quot;List doesn't accept a drop of this type.&quot;);\n                return false;\n            }\n\n            // Get the fileList that is being dropped.\n            Transferable t = info.getTransferable();\n            List&lt;File&gt; data;\n            try {\n                data = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\n            } \n            catch (Exception e) { return false; }\n            DefaultListModel model = (DefaultListModel) fileDropper.getModel();\n            for (File file : data) {\n                model.addElement(file);\n            }\n            return true;\n        }\n        \n        private void displayDropLocation(String string) {\n            System.out.println(string);\n        }\n    };\n    fileDropper.setTransferHandler(handler);\n    fileDropper.setCellRenderer(new DefaultListRenderer(\n          StringValues.FILE_NAME, IconValues.FILE_ICON));\n</code></pre>\n<p>Couldn't resist to showing SwingX renderer config :-) In core java, you would do it manually, something like</p>\n<pre><code>   class MyRenderer extends DefaultListCellRenderer {\n        \n        @Override\n        public Component getListCellRendererComponent(...) {\n            super.getList...\n            if (value instanceof File) {\n                setText(FileSystemView.getFileSystemView().getSystemDisplayName(value);\n                setIcon(FileSystemView.getFileSystemView().getSystemIcon(value);\n            } \n            return this;\n        }\n\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1328785728,"creation_date":1328785137,"answer_id":9209605,"question_id":9192371,"body_markdown":"This is effectively kleopatra&#39;s answer&lt;sup&gt;1&lt;/sup&gt; (with a few trivial changes, not necessarily for the better), ..with a screenshot!\r\n\r\n![ConsolidatorDemo][1]\r\n\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.event.*;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.io.*;\r\n    import javax.swing.*;\r\n    import javax.swing.UIManager.LookAndFeelInfo;\r\n    import javax.swing.border.TitledBorder;\r\n    import javax.swing.filechooser.FileNameExtensionFilter;\r\n    import javax.swing.filechooser.FileSystemView;\r\n    import javax.swing.text.*;\r\n    import java.util.List;\r\n    \r\n    public class ConsolidatorDemo extends JPanel implements ActionListener {\r\n        private static final long serialVersionUID = -4487732343062917781L;\r\n        JFileChooser fc;\r\n        JButton clear;\r\n        JTextArea console;\r\n    \r\n        JList dropZone;\r\n        DefaultListModel listModel;\r\n        JSplitPane childSplitPane, parentSplitPane;\r\n        PrintStream ps;\r\n    \r\n      public ConsolidatorDemo() {\r\n        super(new BorderLayout());\r\n    \r\n        fc = new JFileChooser();;\r\n        fc.setMultiSelectionEnabled(true);\r\n        fc.setDragEnabled(true);\r\n        fc.setControlButtonsAreShown(false);\r\n        fc.setFileSelectionMode(JFileChooser.FILES_ONLY);\r\n    \r\n    \r\n        JPanel fcPanel = new JPanel(new BorderLayout());\r\n        fcPanel.add(fc, BorderLayout.CENTER);\r\n    \r\n        clear = new JButton(&quot;Clear All&quot;);\r\n        clear.addActionListener(this);\r\n        JPanel buttonPanel = new JPanel(new BorderLayout());\r\n        buttonPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        buttonPanel.add(clear, BorderLayout.LINE_END);\r\n    \r\n        JPanel leftUpperPanel = new JPanel(new BorderLayout());\r\n        leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\r\n        leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n    \r\n        JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\r\n        leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n    \r\n        listModel = new DefaultListModel();\r\n        dropZone = new JList(listModel);\r\n        dropZone.setCellRenderer(new FileCellRenderer());\r\n        dropZone.setTransferHandler(new ListTransferHandler(dropZone));\r\n        dropZone.setDragEnabled(true);\r\n        dropZone.setDropMode(javax.swing.DropMode.INSERT);\r\n        dropZone.setBorder(new TitledBorder(&quot;Selected files/folders&quot;));\r\n        leftLowerPanel.setViewportView(new JScrollPane(dropZone));\r\n    \r\n        childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT,\r\n                leftUpperPanel, leftLowerPanel);\r\n        childSplitPane.setDividerLocation(400);\r\n        childSplitPane.setPreferredSize(new Dimension(480, 650));\r\n    \r\n        console = new JTextArea();\r\n        console.setColumns(40);\r\n        console.setLineWrap(true);\r\n        console.setBorder(new TitledBorder(&quot;Console&quot;));\r\n    \r\n        parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\r\n                        childSplitPane, console);\r\n        parentSplitPane.setDividerLocation(480);\r\n        parentSplitPane.setPreferredSize(new Dimension(800, 650));\r\n    \r\n        add(parentSplitPane, BorderLayout.CENTER);\r\n    \r\n    }\r\n    \r\n    public void setDefaultButton() {\r\n        getRootPane().setDefaultButton(clear);\r\n    }\r\n    \r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == clear) {\r\n    \t\tlistModel.clear();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Create the GUI and show it. For thread safety,\r\n     * this method should be invoked from the\r\n     * event-dispatching thread.\r\n     */\r\n    private static void createAndShowGUI() {\r\n        //Make sure we have nice window decorations.\r\n        JFrame.setDefaultLookAndFeelDecorated(true);\r\n        try {\r\n          //UIManager.setLookAndFeel(&quot;de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel&quot;);\r\n            for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        }catch (Exception e){\r\n          e.printStackTrace();\r\n        }\r\n    \r\n        //Create and set up the window.\r\n        JFrame frame = new JFrame(&quot;Consolidator!&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n        //Create and set up the menu bar and content pane.\r\n        ConsolidatorDemo demo = new ConsolidatorDemo();\r\n        demo.setOpaque(true); //content panes must be opaque\r\n        frame.setContentPane(demo);\r\n    \r\n        //Display the window.\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        demo.setDefaultButton();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        //Schedule a job for the event-dispatching thread:\r\n        //creating and showing this application&#39;s GUI.\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                createAndShowGUI();\r\n            }\r\n        });\r\n    }\r\n    }\r\n    \r\n    class FileCellRenderer extends DefaultListCellRenderer {\r\n    \r\n    \tpublic Component getListCellRendererComponent(JList list,\r\n    \t\tObject value,\r\n    \t\tint index,\r\n    \t\tboolean isSelected,\r\n    \t\tboolean cellHasFocus) {\r\n    \r\n    \t\tComponent c = super.getListCellRendererComponent(\r\n    \t\t\tlist,value,index,isSelected,cellHasFocus);\r\n    \r\n    \t\tif (c instanceof JLabel &amp;&amp; value instanceof File) {\r\n    \t\t\tJLabel l = (JLabel)c;\r\n    \t\t\tFile f = (File)value;\r\n    \t\t\tl.setIcon(FileSystemView.getFileSystemView().getSystemIcon(f));\r\n    \t\t\tl.setText(f.getName());\r\n    \t\t\tl.setToolTipText(f.getAbsolutePath());\r\n    \t\t}\r\n    \r\n    \t\treturn c;\r\n    \t}\r\n    }\r\n    \r\n    class ListTransferHandler extends TransferHandler {\r\n    \r\n    \tprivate JList list;\r\n    \r\n    \tListTransferHandler(JList list) {\r\n    \t\tthis.list = list;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean canImport(TransferHandler.TransferSupport info) {\r\n    \t\t// we only import FileList\r\n    \t\tif (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean importData(TransferHandler.TransferSupport info) {\r\n    \t\tif (!info.isDrop()) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t// Check for FileList flavor\r\n    \t\tif (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n    \t\t\tdisplayDropLocation(&quot;List doesn&#39;t accept a drop of this type.&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t// Get the fileList that is being dropped.\r\n    \t\tTransferable t = info.getTransferable();\r\n    \t\tList&lt;File&gt; data;\r\n    \t\ttry {\r\n    \t\t\tdata = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\r\n    \t\t}\r\n    \t\tcatch (Exception e) { return false; }\r\n    \t\tDefaultListModel model = (DefaultListModel) list.getModel();\r\n    \t\tfor (Object file : data) {\r\n    \t\t\tmodel.addElement((File)file);\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate void displayDropLocation(String string) {\r\n    \t\tSystem.out.println(string);\r\n    \t}\r\n    }\r\n\r\n1. I was busy writing an answer when I noticed she had already posted one.  Since my `TransferHandler` was very broken, I used hers.  Though I used my version of the list cell renderer, which does not seem to capture the subtlety of what she was suggesting.  I was also getting compilation errors on the mention of `List` (given the compiler was assuming I meant an AWT list.  I only realized what was happening after I&#39;d changed several of the `List&lt;File&gt;` type statements to be non-generic - I think most of them are now changed back.\r\n\r\n  [1]: http://i.stack.imgur.com/cGZFj.png","title":"Drag&#39;n drop files from the OS to Java application (Swing)","body":"<p>This is effectively kleopatra's answer<sup>1</sup> (with a few trivial changes, not necessarily for the better), ..with a screenshot!</p>\n\n<p><img src=\"https://i.stack.imgur.com/cGZFj.png\" alt=\"ConsolidatorDemo\"></p>\n\n<pre><code>import java.awt.datatransfer.*;\nimport java.awt.event.*;\nimport java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.io.*;\nimport javax.swing.*;\nimport javax.swing.UIManager.LookAndFeelInfo;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.filechooser.FileNameExtensionFilter;\nimport javax.swing.filechooser.FileSystemView;\nimport javax.swing.text.*;\nimport java.util.List;\n\npublic class ConsolidatorDemo extends JPanel implements ActionListener {\n    private static final long serialVersionUID = -4487732343062917781L;\n    JFileChooser fc;\n    JButton clear;\n    JTextArea console;\n\n    JList dropZone;\n    DefaultListModel listModel;\n    JSplitPane childSplitPane, parentSplitPane;\n    PrintStream ps;\n\n  public ConsolidatorDemo() {\n    super(new BorderLayout());\n\n    fc = new JFileChooser();;\n    fc.setMultiSelectionEnabled(true);\n    fc.setDragEnabled(true);\n    fc.setControlButtonsAreShown(false);\n    fc.setFileSelectionMode(JFileChooser.FILES_ONLY);\n\n\n    JPanel fcPanel = new JPanel(new BorderLayout());\n    fcPanel.add(fc, BorderLayout.CENTER);\n\n    clear = new JButton(\"Clear All\");\n    clear.addActionListener(this);\n    JPanel buttonPanel = new JPanel(new BorderLayout());\n    buttonPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    buttonPanel.add(clear, BorderLayout.LINE_END);\n\n    JPanel leftUpperPanel = new JPanel(new BorderLayout());\n    leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\n    leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\n\n    JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\n    leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n\n    listModel = new DefaultListModel();\n    dropZone = new JList(listModel);\n    dropZone.setCellRenderer(new FileCellRenderer());\n    dropZone.setTransferHandler(new ListTransferHandler(dropZone));\n    dropZone.setDragEnabled(true);\n    dropZone.setDropMode(javax.swing.DropMode.INSERT);\n    dropZone.setBorder(new TitledBorder(\"Selected files/folders\"));\n    leftLowerPanel.setViewportView(new JScrollPane(dropZone));\n\n    childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT,\n            leftUpperPanel, leftLowerPanel);\n    childSplitPane.setDividerLocation(400);\n    childSplitPane.setPreferredSize(new Dimension(480, 650));\n\n    console = new JTextArea();\n    console.setColumns(40);\n    console.setLineWrap(true);\n    console.setBorder(new TitledBorder(\"Console\"));\n\n    parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\n                    childSplitPane, console);\n    parentSplitPane.setDividerLocation(480);\n    parentSplitPane.setPreferredSize(new Dimension(800, 650));\n\n    add(parentSplitPane, BorderLayout.CENTER);\n\n}\n\npublic void setDefaultButton() {\n    getRootPane().setDefaultButton(clear);\n}\n\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource() == clear) {\n        listModel.clear();\n    }\n}\n\n/**\n * Create the GUI and show it. For thread safety,\n * this method should be invoked from the\n * event-dispatching thread.\n */\nprivate static void createAndShowGUI() {\n    //Make sure we have nice window decorations.\n    JFrame.setDefaultLookAndFeelDecorated(true);\n    try {\n      //UIManager.setLookAndFeel(\"de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel\");\n        for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n            if (\"Nimbus\".equals(info.getName())) {\n                UIManager.setLookAndFeel(info.getClassName());\n                break;\n            }\n        }\n    }catch (Exception e){\n      e.printStackTrace();\n    }\n\n    //Create and set up the window.\n    JFrame frame = new JFrame(\"Consolidator!\");\n    frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n    //Create and set up the menu bar and content pane.\n    ConsolidatorDemo demo = new ConsolidatorDemo();\n    demo.setOpaque(true); //content panes must be opaque\n    frame.setContentPane(demo);\n\n    //Display the window.\n    frame.pack();\n    frame.setVisible(true);\n    demo.setDefaultButton();\n}\n\npublic static void main(String[] args) {\n    //Schedule a job for the event-dispatching thread:\n    //creating and showing this application's GUI.\n    javax.swing.SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            createAndShowGUI();\n        }\n    });\n}\n}\n\nclass FileCellRenderer extends DefaultListCellRenderer {\n\n    public Component getListCellRendererComponent(JList list,\n        Object value,\n        int index,\n        boolean isSelected,\n        boolean cellHasFocus) {\n\n        Component c = super.getListCellRendererComponent(\n            list,value,index,isSelected,cellHasFocus);\n\n        if (c instanceof JLabel &amp;&amp; value instanceof File) {\n            JLabel l = (JLabel)c;\n            File f = (File)value;\n            l.setIcon(FileSystemView.getFileSystemView().getSystemIcon(f));\n            l.setText(f.getName());\n            l.setToolTipText(f.getAbsolutePath());\n        }\n\n        return c;\n    }\n}\n\nclass ListTransferHandler extends TransferHandler {\n\n    private JList list;\n\n    ListTransferHandler(JList list) {\n        this.list = list;\n    }\n\n    @Override\n    public boolean canImport(TransferHandler.TransferSupport info) {\n        // we only import FileList\n        if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public boolean importData(TransferHandler.TransferSupport info) {\n        if (!info.isDrop()) {\n            return false;\n        }\n\n        // Check for FileList flavor\n        if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n            displayDropLocation(\"List doesn't accept a drop of this type.\");\n            return false;\n        }\n\n        // Get the fileList that is being dropped.\n        Transferable t = info.getTransferable();\n        List&lt;File&gt; data;\n        try {\n            data = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\n        }\n        catch (Exception e) { return false; }\n        DefaultListModel model = (DefaultListModel) list.getModel();\n        for (Object file : data) {\n            model.addElement((File)file);\n        }\n        return true;\n    }\n\n    private void displayDropLocation(String string) {\n        System.out.println(string);\n    }\n}\n</code></pre>\n\n<ol>\n<li>I was busy writing an answer when I noticed she had already posted one.  Since my <code>TransferHandler</code> was very broken, I used hers.  Though I used my version of the list cell renderer, which does not seem to capture the subtlety of what she was suggesting.  I was also getting compilation errors on the mention of <code>List</code> (given the compiler was assuming I meant an AWT list.  I only realized what was happening after I'd changed several of the <code>List&lt;File&gt;</code> type statements to be non-generic - I think most of them are now changed back.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2297173,"reputation":1219,"user_id":2018343,"accept_rate":51,"display_name":"Dinesh Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491120177,"creation_date":1491120177,"answer_id":43166031,"question_id":9192371,"body_markdown":"Here is the code without console and extra button \r\n\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.File;\r\n    import java.io.PrintStream;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.DefaultListCellRenderer;\r\n    import javax.swing.DefaultListModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JSplitPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.TransferHandler;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UIManager.LookAndFeelInfo;\r\n    import javax.swing.border.TitledBorder;\r\n    import javax.swing.filechooser.FileSystemView;\r\n    \r\n    public class ConsolidatorDemo extends JPanel implements ActionListener {\r\n    \tprivate static final long serialVersionUID = -4487732343062917781L;\r\n    \t// JFileChooser fc;\r\n    \tJButton clear,compare;\r\n    \tJTextArea fc;\r\n    \r\n    \tJList dropZone;\r\n    \tDefaultListModel listModel;\r\n    \tJSplitPane childSplitPane, parentSplitPane;\r\n    \tPrintStream ps;\r\n    \r\n    \tpublic ConsolidatorDemo() {\r\n    \t\tsuper(new BorderLayout());\r\n    \r\n    \t\t/* fc = new JFileChooser();;\r\n        fc.setMultiSelectionEnabled(true);\r\n        fc.setDragEnabled(true);\r\n        fc.setControlButtonsAreShown(false);\r\n        fc.setFileSelectionMode(JFileChooser.FILES_ONLY);*/\r\n    \t\tfc= new JTextArea();\r\n    \t\tfc.setText(&quot;Rules:\\n1. drop old html first.\\n2. drop new html.\\n3. drop output folder.\\n4. click compare button.\\n5. Check output in the output.txt file.\\nEnd&quot;);\r\n    \r\n    \t\tfc.setEditable(false);\r\n    \t\tJPanel fcPanel = new JPanel(new BorderLayout());\r\n    \r\n    \t\tfcPanel.add(fc, BorderLayout.CENTER);\r\n    \r\n    \r\n    \t\tcompare = new JButton(&quot;Compare&quot;);\r\n    \t\tcompare.addActionListener(this);\r\n    \t\tJPanel buttonPanel1 = new JPanel(new BorderLayout());\r\n    \t\tbuttonPanel1.setBorder(BorderFactory.createEmptyBorder(1,1,1,1));\r\n    \t\tbuttonPanel1.add(compare, BorderLayout.LINE_END);\r\n    \r\n    \r\n    \t\tclear = new JButton(&quot;Clear All&quot;);\r\n    \t\tclear.addActionListener(this);\r\n    \t\tJPanel buttonPanel = new JPanel(new BorderLayout());\r\n    \t\tbuttonPanel.setBorder(BorderFactory.createEmptyBorder(1,1,1,1));\r\n    \t\tbuttonPanel.add(clear, BorderLayout.LINE_END);\r\n    \r\n    \t\tJPanel leftUpperPanel = new JPanel(new BorderLayout());\r\n    \t\tleftUpperPanel.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));\r\n    \t\tleftUpperPanel.add(fcPanel, BorderLayout.CENTER);\r\n    \t\tleftUpperPanel.add(buttonPanel1, BorderLayout.LINE_END);\r\n    \t\tleftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n    \r\n    \t\tJScrollPane leftLowerPanel = new javax.swing.JScrollPane();\r\n    \t\tleftLowerPanel.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));\r\n    \r\n    \t\tlistModel = new DefaultListModel();\r\n    \t\tdropZone = new JList(listModel);\r\n    \t\tdropZone.setCellRenderer(new FileCellRenderer());\r\n    \t\tdropZone.setTransferHandler(new ListTransferHandler(dropZone));\r\n    \t\tdropZone.setDragEnabled(true);\r\n    \t\tdropZone.setDropMode(javax.swing.DropMode.INSERT);\r\n    \t\tdropZone.setBorder(new TitledBorder(&quot;Drag and drop files here&quot;));\r\n    \t\tleftLowerPanel.setViewportView(new JScrollPane(dropZone));\r\n    \r\n    \t\tchildSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT, leftLowerPanel,leftUpperPanel);\r\n    \t\tchildSplitPane.setDividerLocation(200);//400\r\n    \t\tchildSplitPane.setPreferredSize(new Dimension(300, 400));//480, 650\r\n    \r\n    \t\t/*console = new JTextArea();\r\n        console.setColumns(40);\r\n        console.setLineWrap(true);\r\n        console.setBorder(new TitledBorder(&quot;Console&quot;));\r\n    \r\n        parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\r\n                        childSplitPane, console);\r\n        parentSplitPane.setDividerLocation(480);\r\n        parentSplitPane.setPreferredSize(new Dimension(800, 650));*/\r\n    \r\n    \t\tadd(childSplitPane, BorderLayout.CENTER);\r\n    \r\n    \t}\r\n    \r\n    \tpublic void setDefaultButton() {\r\n    \t\tgetRootPane().setDefaultButton(clear);\r\n    \t}\r\n    \r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tif (e.getSource() == clear) {\r\n    \t\t\tlistModel.clear();\r\n    \t\t}else if (e.getSource() == compare) {\r\n    \t\t\t//our function\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the GUI and show it. For thread safety,\r\n    \t * this method should be invoked from the\r\n    \t * event-dispatching thread.\r\n    \t */\r\n    \tprivate static void createAndShowGUI() {\r\n    \t\t//Make sure we have nice window decorations.\r\n    \t\tJFrame.setDefaultLookAndFeelDecorated(true);\r\n    \t\ttry {\r\n    \t\t\t//UIManager.setLookAndFeel(&quot;de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel&quot;);\r\n    \t\t\tfor (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n    \t\t\t\tif (&quot;Nimbus&quot;.equals(info.getName())) {\r\n    \t\t\t\t\tUIManager.setLookAndFeel(info.getClassName());\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}catch (Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\t//Create and set up the window.\r\n    \t\tJFrame frame = new JFrame(&quot;Bill of materials Comparer&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n    \t\t//Create and set up the menu bar and content pane.\r\n    \t\tConsolidatorDemo demo = new ConsolidatorDemo();\r\n    \t\tdemo.setOpaque(true); //content panes must be opaque\r\n    \t\tframe.setContentPane(demo);\r\n    \r\n    \t\t//Display the window.\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t\tdemo.setDefaultButton();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t//Schedule a job for the event-dispatching thread:\r\n    \t\t//creating and showing this application&#39;s GUI.\r\n    \t\tjavax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tcreateAndShowGUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n    \r\n    class FileCellRenderer extends DefaultListCellRenderer {\r\n    \r\n    \tpublic Component getListCellRendererComponent(JList list,Object value,int index,boolean isSelected,boolean cellHasFocus) {\r\n    \r\n    \t\tComponent c = super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);\r\n    \r\n    \t\tif (c instanceof JLabel &amp;&amp; value instanceof File) {\r\n    \t\t\tJLabel l = (JLabel)c;\r\n    \t\t\tFile f = (File)value;\r\n    \t\t\tl.setIcon(FileSystemView.getFileSystemView().getSystemIcon(f));\r\n    \t\t\tl.setText(f.getName());\r\n    \t\t\t//l.setText(f.getAbsolutePath());\r\n    \t\t\tl.setToolTipText(f.getAbsolutePath());\r\n    \t\t}\r\n    \r\n    \t\treturn c;\r\n    \t}\r\n    }\r\n    \r\n    class ListTransferHandler extends TransferHandler {\r\n    \r\n    \tprivate JList list;\r\n    \r\n    \tListTransferHandler(JList list) {\r\n    \t\tthis.list = list;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean canImport(TransferHandler.TransferSupport info) {\r\n    \t\t// we only import FileList\r\n    \t\tif (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean importData(TransferHandler.TransferSupport info) {\r\n    \t\tif (!info.isDrop()) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t// Check for FileList flavor\r\n    \t\tif (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n    \t\t\tdisplayDropLocation(&quot;List doesn&#39;t accept a drop of this type.&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t// Get the fileList that is being dropped.\r\n    \t\tTransferable t = info.getTransferable();\r\n    \t\tList&lt;File&gt; data;\r\n    \t\ttry {\r\n    \t\t\tdata = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\r\n    \t\t}\r\n    \t\tcatch (Exception e) { return false; }\r\n    \t\tDefaultListModel model = (DefaultListModel) list.getModel();\r\n    \t\tfor (Object file : data) {\r\n    \t\t\tmodel.addElement((File)file);\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate void displayDropLocation(String string) {\r\n    \t\tSystem.out.println(string);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"Drag&#39;n drop files from the OS to Java application (Swing)","body":"<p>Here is the code without console and extra button </p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.io.PrintStream;\nimport java.util.List;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.DefaultListCellRenderer;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JSplitPane;\nimport javax.swing.JTextArea;\nimport javax.swing.TransferHandler;\nimport javax.swing.UIManager;\nimport javax.swing.UIManager.LookAndFeelInfo;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.filechooser.FileSystemView;\n\npublic class ConsolidatorDemo extends JPanel implements ActionListener {\n    private static final long serialVersionUID = -4487732343062917781L;\n    // JFileChooser fc;\n    JButton clear,compare;\n    JTextArea fc;\n\n    JList dropZone;\n    DefaultListModel listModel;\n    JSplitPane childSplitPane, parentSplitPane;\n    PrintStream ps;\n\n    public ConsolidatorDemo() {\n        super(new BorderLayout());\n\n        /* fc = new JFileChooser();;\n    fc.setMultiSelectionEnabled(true);\n    fc.setDragEnabled(true);\n    fc.setControlButtonsAreShown(false);\n    fc.setFileSelectionMode(JFileChooser.FILES_ONLY);*/\n        fc= new JTextArea();\n        fc.setText(\"Rules:\\n1. drop old html first.\\n2. drop new html.\\n3. drop output folder.\\n4. click compare button.\\n5. Check output in the output.txt file.\\nEnd\");\n\n        fc.setEditable(false);\n        JPanel fcPanel = new JPanel(new BorderLayout());\n\n        fcPanel.add(fc, BorderLayout.CENTER);\n\n\n        compare = new JButton(\"Compare\");\n        compare.addActionListener(this);\n        JPanel buttonPanel1 = new JPanel(new BorderLayout());\n        buttonPanel1.setBorder(BorderFactory.createEmptyBorder(1,1,1,1));\n        buttonPanel1.add(compare, BorderLayout.LINE_END);\n\n\n        clear = new JButton(\"Clear All\");\n        clear.addActionListener(this);\n        JPanel buttonPanel = new JPanel(new BorderLayout());\n        buttonPanel.setBorder(BorderFactory.createEmptyBorder(1,1,1,1));\n        buttonPanel.add(clear, BorderLayout.LINE_END);\n\n        JPanel leftUpperPanel = new JPanel(new BorderLayout());\n        leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));\n        leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\n        leftUpperPanel.add(buttonPanel1, BorderLayout.LINE_END);\n        leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\n\n        JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\n        leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));\n\n        listModel = new DefaultListModel();\n        dropZone = new JList(listModel);\n        dropZone.setCellRenderer(new FileCellRenderer());\n        dropZone.setTransferHandler(new ListTransferHandler(dropZone));\n        dropZone.setDragEnabled(true);\n        dropZone.setDropMode(javax.swing.DropMode.INSERT);\n        dropZone.setBorder(new TitledBorder(\"Drag and drop files here\"));\n        leftLowerPanel.setViewportView(new JScrollPane(dropZone));\n\n        childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT, leftLowerPanel,leftUpperPanel);\n        childSplitPane.setDividerLocation(200);//400\n        childSplitPane.setPreferredSize(new Dimension(300, 400));//480, 650\n\n        /*console = new JTextArea();\n    console.setColumns(40);\n    console.setLineWrap(true);\n    console.setBorder(new TitledBorder(\"Console\"));\n\n    parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\n                    childSplitPane, console);\n    parentSplitPane.setDividerLocation(480);\n    parentSplitPane.setPreferredSize(new Dimension(800, 650));*/\n\n        add(childSplitPane, BorderLayout.CENTER);\n\n    }\n\n    public void setDefaultButton() {\n        getRootPane().setDefaultButton(clear);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == clear) {\n            listModel.clear();\n        }else if (e.getSource() == compare) {\n            //our function\n        }\n    }\n\n    /**\n     * Create the GUI and show it. For thread safety,\n     * this method should be invoked from the\n     * event-dispatching thread.\n     */\n    private static void createAndShowGUI() {\n        //Make sure we have nice window decorations.\n        JFrame.setDefaultLookAndFeelDecorated(true);\n        try {\n            //UIManager.setLookAndFeel(\"de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel\");\n            for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n                if (\"Nimbus\".equals(info.getName())) {\n                    UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n\n        //Create and set up the window.\n        JFrame frame = new JFrame(\"Bill of materials Comparer\");\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        //Create and set up the menu bar and content pane.\n        ConsolidatorDemo demo = new ConsolidatorDemo();\n        demo.setOpaque(true); //content panes must be opaque\n        frame.setContentPane(demo);\n\n        //Display the window.\n        frame.pack();\n        frame.setVisible(true);\n        demo.setDefaultButton();\n    }\n\n    public static void main(String[] args) {\n        //Schedule a job for the event-dispatching thread:\n        //creating and showing this application's GUI.\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n}\n\nclass FileCellRenderer extends DefaultListCellRenderer {\n\n    public Component getListCellRendererComponent(JList list,Object value,int index,boolean isSelected,boolean cellHasFocus) {\n\n        Component c = super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);\n\n        if (c instanceof JLabel &amp;&amp; value instanceof File) {\n            JLabel l = (JLabel)c;\n            File f = (File)value;\n            l.setIcon(FileSystemView.getFileSystemView().getSystemIcon(f));\n            l.setText(f.getName());\n            //l.setText(f.getAbsolutePath());\n            l.setToolTipText(f.getAbsolutePath());\n        }\n\n        return c;\n    }\n}\n\nclass ListTransferHandler extends TransferHandler {\n\n    private JList list;\n\n    ListTransferHandler(JList list) {\n        this.list = list;\n    }\n\n    @Override\n    public boolean canImport(TransferHandler.TransferSupport info) {\n        // we only import FileList\n        if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public boolean importData(TransferHandler.TransferSupport info) {\n        if (!info.isDrop()) {\n            return false;\n        }\n\n        // Check for FileList flavor\n        if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n            displayDropLocation(\"List doesn't accept a drop of this type.\");\n            return false;\n        }\n\n        // Get the fileList that is being dropped.\n        Transferable t = info.getTransferable();\n        List&lt;File&gt; data;\n        try {\n            data = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\n        }\n        catch (Exception e) { return false; }\n        DefaultListModel model = (DefaultListModel) list.getModel();\n        for (Object file : data) {\n            model.addElement((File)file);\n        }\n        return true;\n    }\n\n    private void displayDropLocation(String string) {\n        System.out.println(string);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12250,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":9209118,"answer_count":3,"score":10,"last_activity_date":1692715288,"creation_date":1328700272,"question_id":9192371,"body_markdown":"Let me start by saying that I have been reading the [drag&#39;n drop tutorial][1] and similar questions asked on SO, but unfortunately I have only gotten more confused about this matter. What I want to achieve is relatively simple so I am surprised that it got me in so much trouble already. I am writing a small utility application which will consolidate a bunch of result files (custom defined xml-type) into a large tab-separated text file. Most of the functionality is already coded, however I wanted to make a decent GUI for it.\r\n\r\nWhat I want is to be able to drag&#39;n drop files into a component (for instance `JTextArea`) in a nice and gracious way (read: not full paths, but instead a small icon and name). I would like to be able to supply a `JFileChooser` to browse for files as well. I will then parse the files sequentially to produce the matrix I want. \r\n\r\nWhat I have learned so far is that the framework is already there however any additional functionality needs to be custom built. I have created a test GUI in Netbeans and tried to drag a bunch of files onto a `JTextArea`, but they appear as file paths, and admittedly it looks very ugly. \r\n\r\nI would really appreciate any tips and guidance on how to solve (or clarify) this problem in a neat way. Note that I do intend to use the software on multiple different OS (Mac,Win and Linux).\r\n\r\n**EDIT:** the code I have so far is based on one of the examples from Sun tutorials and is as follows\r\n\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.event.*;\r\n    import java.awt.*;\r\n    import java.io.*;\r\n    import javax.swing.*;\r\n    import javax.swing.UIManager.LookAndFeelInfo;\r\n    import javax.swing.border.TitledBorder;\r\n    import javax.swing.filechooser.FileNameExtensionFilter;\r\n    import javax.swing.text.*;\r\n\r\n    public class ConsolidatorDemo extends JPanel implements ActionListener {\r\n        private static final long serialVersionUID = -4487732343062917781L;\r\n        JFileChooser fc;\r\n        JButton clear;\r\n        JTextArea dropZone, console;\r\n        JSplitPane childSplitPane, parentSplitPane;\r\n        PrintStream ps;\r\n\r\n      public ConsolidatorDemo() {\r\n        super(new BorderLayout());\r\n\r\n        fc = new JFileChooser();;\r\n        fc.setMultiSelectionEnabled(true);\r\n        fc.setDragEnabled(true);\r\n        fc.setControlButtonsAreShown(false);\r\n        fc.setFileSelectionMode(JFileChooser.FILES_ONLY);   \t\t\t\r\n    \t\r\n        \r\n    \tJPanel fcPanel = new JPanel(new BorderLayout());\r\n        fcPanel.add(fc, BorderLayout.CENTER);\r\n\r\n        clear = new JButton(&quot;Clear All&quot;);\r\n        clear.addActionListener(this);\r\n        JPanel buttonPanel = new JPanel(new BorderLayout());\r\n        buttonPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        buttonPanel.add(clear, BorderLayout.LINE_END);\r\n\r\n        JPanel leftUpperPanel = new JPanel(new BorderLayout());\r\n        leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\r\n        leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n\r\n\r\n        JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\r\n        leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        dropZone = new JTextArea();\r\n        dropZone.setColumns(20);\r\n        dropZone.setLineWrap(true);\r\n        dropZone.setRows(5);\r\n        dropZone.setDragEnabled(true);\r\n        dropZone.setDropMode(javax.swing.DropMode.INSERT);\r\n        dropZone.setBorder(new TitledBorder(&quot;Selected files/folders&quot;));\r\n        leftLowerPanel.setViewportView(dropZone);\r\n\r\n        childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT,\r\n        \t\tleftUpperPanel, leftLowerPanel);\r\n        childSplitPane.setDividerLocation(400);\r\n        childSplitPane.setPreferredSize(new Dimension(480, 650));\r\n        \r\n        console = new JTextArea();\r\n        console.setColumns(40);\r\n        console.setLineWrap(true);\r\n        console.setBorder(new TitledBorder(&quot;Console&quot;));\r\n        \r\n        parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\r\n        \t\t\t\tchildSplitPane, console);\r\n        parentSplitPane.setDividerLocation(480);\r\n        parentSplitPane.setPreferredSize(new Dimension(800, 650));\r\n        \r\n        add(parentSplitPane, BorderLayout.CENTER);\r\n\r\n    }\r\n\r\n    public void setDefaultButton() {\r\n        getRootPane().setDefaultButton(clear);\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == clear) {\r\n            dropZone.setText(&quot;&quot;);\r\n            \r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create the GUI and show it. For thread safety,\r\n     * this method should be invoked from the\r\n     * event-dispatching thread.\r\n     */\r\n    private static void createAndShowGUI() {\r\n        //Make sure we have nice window decorations.\r\n        JFrame.setDefaultLookAndFeelDecorated(true);\r\n    \ttry {\r\n          //UIManager.setLookAndFeel(&quot;de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel&quot;);\r\n\t\t    for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n\t\t        if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n\t\t            UIManager.setLookAndFeel(info.getClassName());\r\n\t\t            break;\r\n\t\t        }\r\n\t\t    }\r\n        }catch (Exception e){\r\n          e.printStackTrace();\r\n        }\r\n\r\n        //Create and set up the window.\r\n        JFrame frame = new JFrame(&quot;Consolidator!&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n\r\n        //Create and set up the menu bar and content pane.\r\n        ConsolidatorDemo demo = new ConsolidatorDemo();\r\n        demo.setOpaque(true); //content panes must be opaque\r\n        frame.setContentPane(demo);\r\n\r\n        //Display the window.\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        demo.setDefaultButton();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        //Schedule a job for the event-dispatching thread:\r\n        //creating and showing this application&#39;s GUI.\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                createAndShowGUI();\r\n            }\r\n        });\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html","title":"Drag&#39;n drop files from the OS to Java application (Swing)","body":"<p>Let me start by saying that I have been reading the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html\" rel=\"nofollow noreferrer\">drag'n drop tutorial</a> and similar questions asked on SO, but unfortunately I have only gotten more confused about this matter. What I want to achieve is relatively simple so I am surprised that it got me in so much trouble already. I am writing a small utility application which will consolidate a bunch of result files (custom defined xml-type) into a large tab-separated text file. Most of the functionality is already coded, however I wanted to make a decent GUI for it.</p>\n\n<p>What I want is to be able to drag'n drop files into a component (for instance <code>JTextArea</code>) in a nice and gracious way (read: not full paths, but instead a small icon and name). I would like to be able to supply a <code>JFileChooser</code> to browse for files as well. I will then parse the files sequentially to produce the matrix I want. </p>\n\n<p>What I have learned so far is that the framework is already there however any additional functionality needs to be custom built. I have created a test GUI in Netbeans and tried to drag a bunch of files onto a <code>JTextArea</code>, but they appear as file paths, and admittedly it looks very ugly. </p>\n\n<p>I would really appreciate any tips and guidance on how to solve (or clarify) this problem in a neat way. Note that I do intend to use the software on multiple different OS (Mac,Win and Linux).</p>\n\n<p><strong>EDIT:</strong> the code I have so far is based on one of the examples from Sun tutorials and is as follows</p>\n\n<pre><code>import java.awt.datatransfer.*;\nimport java.awt.event.*;\nimport java.awt.*;\nimport java.io.*;\nimport javax.swing.*;\nimport javax.swing.UIManager.LookAndFeelInfo;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.filechooser.FileNameExtensionFilter;\nimport javax.swing.text.*;\n\npublic class ConsolidatorDemo extends JPanel implements ActionListener {\n    private static final long serialVersionUID = -4487732343062917781L;\n    JFileChooser fc;\n    JButton clear;\n    JTextArea dropZone, console;\n    JSplitPane childSplitPane, parentSplitPane;\n    PrintStream ps;\n\n  public ConsolidatorDemo() {\n    super(new BorderLayout());\n\n    fc = new JFileChooser();;\n    fc.setMultiSelectionEnabled(true);\n    fc.setDragEnabled(true);\n    fc.setControlButtonsAreShown(false);\n    fc.setFileSelectionMode(JFileChooser.FILES_ONLY);               \n\n\n    JPanel fcPanel = new JPanel(new BorderLayout());\n    fcPanel.add(fc, BorderLayout.CENTER);\n\n    clear = new JButton(\"Clear All\");\n    clear.addActionListener(this);\n    JPanel buttonPanel = new JPanel(new BorderLayout());\n    buttonPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    buttonPanel.add(clear, BorderLayout.LINE_END);\n\n    JPanel leftUpperPanel = new JPanel(new BorderLayout());\n    leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\n    leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\n\n\n    JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\n    leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    dropZone = new JTextArea();\n    dropZone.setColumns(20);\n    dropZone.setLineWrap(true);\n    dropZone.setRows(5);\n    dropZone.setDragEnabled(true);\n    dropZone.setDropMode(javax.swing.DropMode.INSERT);\n    dropZone.setBorder(new TitledBorder(\"Selected files/folders\"));\n    leftLowerPanel.setViewportView(dropZone);\n\n    childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT,\n            leftUpperPanel, leftLowerPanel);\n    childSplitPane.setDividerLocation(400);\n    childSplitPane.setPreferredSize(new Dimension(480, 650));\n\n    console = new JTextArea();\n    console.setColumns(40);\n    console.setLineWrap(true);\n    console.setBorder(new TitledBorder(\"Console\"));\n\n    parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\n                    childSplitPane, console);\n    parentSplitPane.setDividerLocation(480);\n    parentSplitPane.setPreferredSize(new Dimension(800, 650));\n\n    add(parentSplitPane, BorderLayout.CENTER);\n\n}\n\npublic void setDefaultButton() {\n    getRootPane().setDefaultButton(clear);\n}\n\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource() == clear) {\n        dropZone.setText(\"\");\n\n    }\n}\n\n/**\n * Create the GUI and show it. For thread safety,\n * this method should be invoked from the\n * event-dispatching thread.\n */\nprivate static void createAndShowGUI() {\n    //Make sure we have nice window decorations.\n    JFrame.setDefaultLookAndFeelDecorated(true);\n    try {\n      //UIManager.setLookAndFeel(\"de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel\");\n        for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n            if (\"Nimbus\".equals(info.getName())) {\n                UIManager.setLookAndFeel(info.getClassName());\n                break;\n            }\n        }\n    }catch (Exception e){\n      e.printStackTrace();\n    }\n\n    //Create and set up the window.\n    JFrame frame = new JFrame(\"Consolidator!\");\n    frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n    //Create and set up the menu bar and content pane.\n    ConsolidatorDemo demo = new ConsolidatorDemo();\n    demo.setOpaque(true); //content panes must be opaque\n    frame.setContentPane(demo);\n\n    //Display the window.\n    frame.pack();\n    frame.setVisible(true);\n    demo.setDefaultButton();\n}\n\npublic static void main(String[] args) {\n    //Schedule a job for the event-dispatching thread:\n    //creating and showing this application's GUI.\n    javax.swing.SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            createAndShowGUI();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","device-name"],"comments":[{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1393573369,"post_id":7071281,"comment_id":33502505,"body_markdown":"What do you mean by `device name`? A lot of Androids don&#39;t have a device name. Some Samsungs, for example, have an editable device name. All Android&#39;s, though, do have a `Model number`, which is a string (confusing).","body":"What do you mean by <code>device name</code>? A lot of Androids don&#39;t have a device name. Some Samsungs, for example, have an editable device name. All Android&#39;s, though, do have a <code>Model number</code>, which is a string (confusing)."},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1393573696,"post_id":7071281,"comment_id":33502655,"body_markdown":"Related: http://stackoverflow.com/questions/16704597/how-do-you-get-the-user-defined-device-name-in-android","body":"Related: <a href=\"http://stackoverflow.com/questions/16704597/how-do-you-get-the-user-defined-device-name-in-android\" title=\"how do you get the user defined device name in android\">stackoverflow.com/questions/16704597/&hellip;</a>"},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":0,"creation_date":1549371660,"post_id":7071281,"comment_id":95871505,"body_markdown":"See updated related post: https://stackoverflow.com/questions/44452942/android-get-device-name-on-android-tv","body":"See updated related post: <a href=\"https://stackoverflow.com/questions/44452942/android-get-device-name-on-android-tv\" title=\"android get device name on android tv\">stackoverflow.com/questions/44452942/&hellip;</a>"},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1614798771,"post_id":7071281,"comment_id":117497880,"body_markdown":"This question is not the same as *[Get Android Phone Model Programmatically](https://stackoverflow.com/questions/1995439)*: here the OP wants to see the device *given name* which can be changed by the end user, while `Build.MODEL` is hardcoded by manufacturer.","body":"This question is not the same as <i><a href=\"https://stackoverflow.com/questions/1995439\">Get Android Phone Model Programmatically</a></i>: here the OP wants to see the device <i>given name</i> which can be changed by the end user, while <code>Build.MODEL</code> is hardcoded by manufacturer."}],"answers":[{"tags":[],"owner":{"account_id":471592,"reputation":4206,"user_id":879485,"accept_rate":83,"display_name":"hbhakhra"},"down_vote_count":10,"up_vote_count":329,"is_accepted":true,"score":319,"last_activity_date":1548158514,"creation_date":1313446077,"answer_id":7071392,"question_id":7071281,"body_markdown":"In order to get Android device name you have to add only a single line of code:\r\n\r\n    android.os.Build.MODEL;\r\n\r\nFound here: [getting-android-device-name][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Build","title":"Get Android Device Name","body":"<p>In order to get Android device name you have to add only a single line of code:</p>\n\n<pre><code>android.os.Build.MODEL;\n</code></pre>\n\n<p>Found here: <a href=\"https://developer.android.com/reference/android/os/Build\" rel=\"noreferrer\">getting-android-device-name</a></p>\n"},{"tags":[],"owner":{"account_id":4429149,"reputation":285,"user_id":3606686,"display_name":"user3606686"},"down_vote_count":4,"up_vote_count":29,"is_accepted":false,"score":25,"last_activity_date":1400472858,"creation_date":1400472858,"answer_id":23729614,"question_id":7071281,"body_markdown":"Try it. You can get Device Name through Bluetooth.\r\n\r\nHope it will help you\r\n\r\n    public String getPhoneName() {\t\r\n    \t\tBluetoothAdapter myDevice = BluetoothAdapter.getDefaultAdapter();\r\n    \t\tString deviceName = myDevice.getName();\t\t\r\n    \t\treturn deviceName;\r\n    \t}","title":"Get Android Device Name","body":"<p>Try it. You can get Device Name through Bluetooth.</p>\n\n<p>Hope it will help you</p>\n\n<pre><code>public String getPhoneName() {  \n        BluetoothAdapter myDevice = BluetoothAdapter.getDefaultAdapter();\n        String deviceName = myDevice.getName();     \n        return deviceName;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1667456,"reputation":677,"user_id":1534587,"display_name":"Ben Jima"},"down_vote_count":2,"up_vote_count":57,"is_accepted":false,"score":55,"last_activity_date":1412070226,"creation_date":1412070226,"answer_id":26117646,"question_id":7071281,"body_markdown":"You can see answers at here https://stackoverflow.com/questions/1995439/get-android-phone-model-programmatically/26117427#26117427\r\n\r\n    public String getDeviceName() {\r\n       String manufacturer = Build.MANUFACTURER;\r\n       String model = Build.MODEL;\r\n       if (model.startsWith(manufacturer)) {\r\n          return capitalize(model);\r\n       } else {\r\n          return capitalize(manufacturer) + &quot; &quot; + model;\r\n       }\r\n    }\r\n\r\n\r\n    private String capitalize(String s) {\r\n        if (s == null || s.length() == 0) {\r\n            return &quot;&quot;;\r\n        }\r\n        char first = s.charAt(0);\r\n        if (Character.isUpperCase(first)) {\r\n            return s;\r\n        } else {\r\n            return Character.toUpperCase(first) + s.substring(1);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Get Android Device Name","body":"<p>You can see answers at here <a href=\"https://stackoverflow.com/questions/1995439/get-android-phone-model-programmatically/26117427#26117427\">Get Android Phone Model Programmatically</a></p>\n\n<pre><code>public String getDeviceName() {\n   String manufacturer = Build.MANUFACTURER;\n   String model = Build.MODEL;\n   if (model.startsWith(manufacturer)) {\n      return capitalize(model);\n   } else {\n      return capitalize(manufacturer) + \" \" + model;\n   }\n}\n\n\nprivate String capitalize(String s) {\n    if (s == null || s.length() == 0) {\n        return \"\";\n    }\n    char first = s.charAt(0);\n    if (Character.isUpperCase(first)) {\n        return s;\n    } else {\n        return Character.toUpperCase(first) + s.substring(1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1042649,"reputation":37922,"user_id":1048340,"accept_rate":100,"display_name":"Jared Rummler"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1450093948,"creation_date":1450093948,"answer_id":34266367,"question_id":7071281,"body_markdown":"On many popular devices the market name of the device is not available. For example, on the Samsung Galaxy S6 the value of `Build.MODEL` could be `&quot;SM-G920F&quot;`, `&quot;SM-G920I&quot;`, or `&quot;SM-G920W8&quot;`.\n\nI created a small library that gets the market (consumer friendly) name of a device. It gets the correct name for *over 10,000* devices and is constantly updated. If you wish to use my library click the link below:\n\n[AndroidDeviceNames Library on Github][2]\n--------------------\n\n___\n\nIf you do not want to use the library above, then this is the best solution for getting a consumer friendly device name:\n\n    /** Returns the consumer friendly device name */\n    public static String getDeviceName() {\n        String manufacturer = Build.MANUFACTURER;\n        String model = Build.MODEL;\n        if (model.startsWith(manufacturer)) {\n            return capitalize(model);\n        }\n        return capitalize(manufacturer) + &quot; &quot; + model;\n    }\n\n    private static String capitalize(String str) {\n        if (TextUtils.isEmpty(str)) {\n            return str;\n        }\n        char[] arr = str.toCharArray();\n        boolean capitalizeNext = true;\n        String phrase = &quot;&quot;;\n        for (char c : arr) {\n            if (capitalizeNext &amp;&amp; Character.isLetter(c)) {\n                phrase += Character.toUpperCase(c);\n                capitalizeNext = false;\n                continue;\n            } else if (Character.isWhitespace(c)) {\n                capitalizeNext = true;\n            }\n            phrase += c;\n        }\n        return phrase;\n    }\n___\n\nExample from my Verizon HTC One M8:\n\n    // using method from above\n    System.out.println(getDeviceName());\n    // Using https://github.com/jaredrummler/AndroidDeviceNames\n    System.out.println(DeviceName.getDeviceName());\n\nResult:\n\n&gt; HTC6525LVW \n&gt;\n&gt; HTC One (M8)\n\n\n  [1]: http://developer.android.com/reference/android/os/Build.html#MODEL\n  [2]: https://github.com/jaredrummler/AndroidDeviceNames\n","title":"Get Android Device Name","body":"<p>On many popular devices the market name of the device is not available. For example, on the Samsung Galaxy S6 the value of <code>Build.MODEL</code> could be <code>&quot;SM-G920F&quot;</code>, <code>&quot;SM-G920I&quot;</code>, or <code>&quot;SM-G920W8&quot;</code>.</p>\n<p>I created a small library that gets the market (consumer friendly) name of a device. It gets the correct name for <em>over 10,000</em> devices and is constantly updated. If you wish to use my library click the link below:</p>\n<h2><a href=\"https://github.com/jaredrummler/AndroidDeviceNames\" rel=\"noreferrer\">AndroidDeviceNames Library on Github</a></h2>\n<hr />\n<p>If you do not want to use the library above, then this is the best solution for getting a consumer friendly device name:</p>\n<pre><code>/** Returns the consumer friendly device name */\npublic static String getDeviceName() {\n    String manufacturer = Build.MANUFACTURER;\n    String model = Build.MODEL;\n    if (model.startsWith(manufacturer)) {\n        return capitalize(model);\n    }\n    return capitalize(manufacturer) + &quot; &quot; + model;\n}\n\nprivate static String capitalize(String str) {\n    if (TextUtils.isEmpty(str)) {\n        return str;\n    }\n    char[] arr = str.toCharArray();\n    boolean capitalizeNext = true;\n    String phrase = &quot;&quot;;\n    for (char c : arr) {\n        if (capitalizeNext &amp;&amp; Character.isLetter(c)) {\n            phrase += Character.toUpperCase(c);\n            capitalizeNext = false;\n            continue;\n        } else if (Character.isWhitespace(c)) {\n            capitalizeNext = true;\n        }\n        phrase += c;\n    }\n    return phrase;\n}\n</code></pre>\n<hr />\n<p>Example from my Verizon HTC One M8:</p>\n<pre><code>// using method from above\nSystem.out.println(getDeviceName());\n// Using https://github.com/jaredrummler/AndroidDeviceNames\nSystem.out.println(DeviceName.getDeviceName());\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>HTC6525LVW</p>\n<p>HTC One (M8)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2045213,"reputation":607,"user_id":1825443,"display_name":"Roger Huang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454381202,"creation_date":1454381202,"answer_id":35144155,"question_id":7071281,"body_markdown":"@hbhakhra&#39;s answer will do. \r\n\r\nIf you&#39;re interested in detailed explanation, it is useful to look into [Android Compatibility Definition Document][2]. (3.2.2 Build Parameters)\r\n\r\nYou will find:\r\n\r\n&gt; DEVICE - A value chosen by the device implementer containing the\r\n&gt; development name or code name identifying the configuration of the\r\n&gt; hardware features and industrial design of the device. The value of\r\n&gt; this field MUST be encodable as 7-bit ASCII and match the regular\r\n&gt; expression “^[a-zA-Z0-9_-]+$”.\r\n&gt; \r\n&gt; MODEL - A value chosen by the device implementer containing the name\r\n&gt; of the device as known to the end user. This SHOULD be the same name\r\n&gt; under which the device is marketed and sold to end users. There are no\r\n&gt; requirements on the specific format of this field, except that it MUST\r\n&gt; NOT be null or the empty string (&quot;&quot;).\r\n&gt; \r\n&gt; MANUFACTURER - The trade name of the Original Equipment Manufacturer\r\n&gt; (OEM) of the product. There are no requirements on the specific format\r\n&gt; of this field, except that it MUST NOT be null or the empty string\r\n&gt; (&quot;&quot;).\r\n\r\n  [1]: http://developer.android.com/intl/zh-tw/reference/android/os/Build.html\r\n  [2]: https://source.android.com/compatibility/","title":"Get Android Device Name","body":"<p>@hbhakhra's answer will do. </p>\n\n<p>If you're interested in detailed explanation, it is useful to look into <a href=\"https://source.android.com/compatibility/\" rel=\"nofollow\">Android Compatibility Definition Document</a>. (3.2.2 Build Parameters)</p>\n\n<p>You will find:</p>\n\n<blockquote>\n  <p>DEVICE - A value chosen by the device implementer containing the\n  development name or code name identifying the configuration of the\n  hardware features and industrial design of the device. The value of\n  this field MUST be encodable as 7-bit ASCII and match the regular\n  expression “^[a-zA-Z0-9_-]+$”.</p>\n  \n  <p>MODEL - A value chosen by the device implementer containing the name\n  of the device as known to the end user. This SHOULD be the same name\n  under which the device is marketed and sold to end users. There are no\n  requirements on the specific format of this field, except that it MUST\n  NOT be null or the empty string (\"\").</p>\n  \n  <p>MANUFACTURER - The trade name of the Original Equipment Manufacturer\n  (OEM) of the product. There are no requirements on the specific format\n  of this field, except that it MUST NOT be null or the empty string\n  (\"\").</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3433236,"reputation":2920,"user_id":2877004,"display_name":"Alecs"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1481891138,"creation_date":1481891138,"answer_id":41184389,"question_id":7071281,"body_markdown":"Simply use\r\n\r\n`BluetoothAdapter.getDefaultAdapter().getName()`","title":"Get Android Device Name","body":"<p>Simply use</p>\n\n<p><code>BluetoothAdapter.getDefaultAdapter().getName()</code></p>\n"},{"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1500489289,"creation_date":1500489289,"answer_id":45198521,"question_id":7071281,"body_markdown":"You can use:\r\n\r\nFrom android doc:\r\n\r\n&gt; [**`MANUFACTURER`:**][1]\r\n&gt; \r\n&gt;     String MANUFACTURER\r\n&gt; \r\n&gt; The manufacturer of the product/hardware.\r\n\r\n \r\n&gt; [**`MODEL`:**][2]\r\n&gt; \r\n&gt;     String MODEL\r\n&gt; \r\n&gt; The end-user-visible name for the end product.\r\n\r\n\r\n&gt; [**`DEVICE`:**][3]\r\n&gt; \r\n&gt;     String DEVICE\r\n&gt; \r\n&gt; The name of the industrial design.\r\n\r\nAs a example:\r\n\r\n    String deviceName = android.os.Build.MANUFACTURER + &quot; &quot; + android.os.Build.MODEL;\r\n    //to add to textview\r\n    TextView textView = (TextView) findViewById(R.id.text_view);\r\n    textView.setText(deviceName);\r\n\r\nFurthermore, their is lot of attribute in [Build class][4] that you can use, like:\r\n\r\n  \r\n - `os.android.Build.BOARD`\r\n - `os.android.Build.BRAND`\r\n - `os.android.Build.BOOTLOADER`\r\n - `os.android.Build.DISPLAY`\r\n - `os.android.Build.CPU_ABI`\r\n - `os.android.Build.PRODUCT`\r\n - `os.android.Build.HARDWARE`\r\n - `os.android.Build.ID`\r\n\r\n\r\nAlso their is other ways you can get device name without using `Build` class(through the bluetooth).\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Build.html#MANUFACTURER\r\n  [2]: https://developer.android.com/reference/android/os/Build.html#MODEL\r\n  [3]: https://developer.android.com/reference/android/os/Build.html#DEVICE\r\n  [4]: https://developer.android.com/reference/android/os/Build.html\r\n\r\n\r\n","title":"Get Android Device Name","body":"<p>You can use:</p>\n\n<p>From android doc:</p>\n\n<blockquote>\n  <p><a href=\"https://developer.android.com/reference/android/os/Build.html#MANUFACTURER\" rel=\"noreferrer\"><strong><code>MANUFACTURER</code>:</strong></a></p>\n\n<pre><code>String MANUFACTURER\n</code></pre>\n  \n  <p>The manufacturer of the product/hardware.</p>\n  \n  <p><a href=\"https://developer.android.com/reference/android/os/Build.html#MODEL\" rel=\"noreferrer\"><strong><code>MODEL</code>:</strong></a></p>\n\n<pre><code>String MODEL\n</code></pre>\n  \n  <p>The end-user-visible name for the end product.</p>\n  \n  <p><a href=\"https://developer.android.com/reference/android/os/Build.html#DEVICE\" rel=\"noreferrer\"><strong><code>DEVICE</code>:</strong></a></p>\n\n<pre><code>String DEVICE\n</code></pre>\n  \n  <p>The name of the industrial design.</p>\n</blockquote>\n\n<p>As a example:</p>\n\n<pre><code>String deviceName = android.os.Build.MANUFACTURER + \" \" + android.os.Build.MODEL;\n//to add to textview\nTextView textView = (TextView) findViewById(R.id.text_view);\ntextView.setText(deviceName);\n</code></pre>\n\n<p>Furthermore, their is lot of attribute in <a href=\"https://developer.android.com/reference/android/os/Build.html\" rel=\"noreferrer\">Build class</a> that you can use, like:</p>\n\n<ul>\n<li><code>os.android.Build.BOARD</code></li>\n<li><code>os.android.Build.BRAND</code></li>\n<li><code>os.android.Build.BOOTLOADER</code></li>\n<li><code>os.android.Build.DISPLAY</code></li>\n<li><code>os.android.Build.CPU_ABI</code></li>\n<li><code>os.android.Build.PRODUCT</code></li>\n<li><code>os.android.Build.HARDWARE</code></li>\n<li><code>os.android.Build.ID</code></li>\n</ul>\n\n<p>Also their is other ways you can get device name without using <code>Build</code> class(through the bluetooth).</p>\n"},{"tags":[],"owner":{"account_id":1111321,"reputation":8799,"user_id":1101730,"accept_rate":78,"display_name":"Micer"},"down_vote_count":2,"up_vote_count":56,"is_accepted":false,"score":54,"last_activity_date":1692715163,"creation_date":1502813030,"answer_id":45696806,"question_id":7071281,"body_markdown":"I solved this by getting the Bluetooth name, but not from the `BluetoothAdapter` (that needs Bluetooth permission).\r\n\r\nHere&#39;s the code:\r\n\r\n    Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);\r\n\r\n**No extra permissions needed.**\r\n\r\nUPD: It doesn&#39;t work on targetSdk 32 or higher.","title":"Get Android Device Name","body":"<p>I solved this by getting the Bluetooth name, but not from the <code>BluetoothAdapter</code> (that needs Bluetooth permission).</p>\n<p>Here's the code:</p>\n<pre><code>Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);\n</code></pre>\n<p><strong>No extra permissions needed.</strong></p>\n<p>UPD: It doesn't work on targetSdk 32 or higher.</p>\n"},{"tags":[],"owner":{"account_id":6684285,"reputation":1647,"user_id":5156187,"display_name":"Yasiru Nayanajith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533574376,"creation_date":1506445529,"answer_id":46432152,"question_id":7071281,"body_markdown":"UPDATE \r\nYou could retrieve the device from buildprop easitly.\r\n\r\n    static String GetDeviceName() {\r\n        Process p;\r\n        String propvalue = &quot;&quot;;\r\n        try {\r\n            p = new ProcessBuilder(&quot;/system/bin/getprop&quot;, &quot;ro.semc.product.name&quot;).redirectErrorStream(true).start();\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                propvalue = line;\r\n            }\r\n            p.destroy();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return propvalue;\r\n    }\r\n\r\nBut keep in mind, this doesn&#39;t work on some devices. ","title":"Get Android Device Name","body":"<p>UPDATE \nYou could retrieve the device from buildprop easitly.</p>\n\n<pre><code>static String GetDeviceName() {\n    Process p;\n    String propvalue = \"\";\n    try {\n        p = new ProcessBuilder(\"/system/bin/getprop\", \"ro.semc.product.name\").redirectErrorStream(true).start();\n        BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        String line;\n        while ((line = br.readLine()) != null) {\n            propvalue = line;\n        }\n        p.destroy();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return propvalue;\n}\n</code></pre>\n\n<p>But keep in mind, this doesn't work on some devices. </p>\n"},{"tags":[],"owner":{"account_id":454265,"reputation":3252,"user_id":851722,"accept_rate":75,"display_name":"Neelam Verma"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1673886085,"creation_date":1532106925,"answer_id":51447496,"question_id":7071281,"body_markdown":"Following works for me.\r\n```\r\nString deviceName = Settings.Global.getString(.getContentResolver(), Settings.Global.DEVICE_NAME);\r\n```\r\nI don&#39;t think so its duplicate answer. The above ppl are talking about Setting Secure, for me setting secure is giving null, if i use setting global it works. Thanks anyways.","title":"Get Android Device Name","body":"<p>Following works for me.</p>\n<pre><code>String deviceName = Settings.Global.getString(.getContentResolver(), Settings.Global.DEVICE_NAME);\n</code></pre>\n<p>I don't think so its duplicate answer. The above ppl are talking about Setting Secure, for me setting secure is giving null, if i use setting global it works. Thanks anyways.</p>\n"},{"tags":[],"owner":{"account_id":10989875,"reputation":171,"user_id":8074260,"display_name":"Bhoomika Chauhan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532779390,"creation_date":1532779390,"answer_id":51571201,"question_id":7071281,"body_markdown":"Try this code. You get android device name.\r\n\r\n    public static String getDeviceName() {\r\n        String manufacturer = Build.MANUFACTURER;\r\n        String model = Build.MODEL;\r\n        if (model.startsWith(manufacturer)) {\r\n            return model;\r\n        }\r\n        return manufacturer + &quot; &quot; + model;\r\n    }","title":"Get Android Device Name","body":"<p>Try this code. You get android device name.</p>\n\n<pre><code>public static String getDeviceName() {\n    String manufacturer = Build.MANUFACTURER;\n    String model = Build.MODEL;\n    if (model.startsWith(manufacturer)) {\n        return model;\n    }\n    return manufacturer + \" \" + model;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5009087,"reputation":121,"user_id":4025848,"display_name":"jiong103"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539156392,"creation_date":1539156392,"answer_id":52734808,"question_id":7071281,"body_markdown":"     static String getDeviceName() {\r\n            try {\r\n                Class systemPropertiesClass = Class.forName(&quot;android.os.SystemProperties&quot;);\r\n                Method getMethod = systemPropertiesClass.getMethod(&quot;get&quot;, String.class);\r\n                Object object = new Object();\r\n                Object obj = getMethod.invoke(object, &quot;ro.product.device&quot;);\r\n                return (obj == null ? &quot;&quot; : (String) obj);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/VJUbu.png\r\n\r\n\r\nyou can get &#39;idol3&#39; by this way. ","title":"Get Android Device Name","body":"<pre><code> static String getDeviceName() {\n        try {\n            Class systemPropertiesClass = Class.forName(\"android.os.SystemProperties\");\n            Method getMethod = systemPropertiesClass.getMethod(\"get\", String.class);\n            Object object = new Object();\n            Object obj = getMethod.invoke(object, \"ro.product.device\");\n            return (obj == null ? \"\" : (String) obj);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return \"\";\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/VJUbu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJUbu.png\" alt=\"enter image description here\"></a></p>\n\n<p>you can get 'idol3' by this way. </p>\n"},{"tags":[],"owner":{"account_id":5738346,"reputation":691,"user_id":4531734,"display_name":"Shpand"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641475453,"creation_date":1615883145,"answer_id":66651458,"question_id":7071281,"body_markdown":"universal way to get **user defined DeviceName** working for almost all devices and not requiring any permissions\r\n\r\n    String userDeviceName = Settings.Global.getString(getContentResolver(), Settings.Global.DEVICE_NAME);\r\n    if(userDeviceName == null)\r\n        userDeviceName = Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);","title":"Get Android Device Name","body":"<p>universal way to get <strong>user defined DeviceName</strong> working for almost all devices and not requiring any permissions</p>\n<pre><code>String userDeviceName = Settings.Global.getString(getContentResolver(), Settings.Global.DEVICE_NAME);\nif(userDeviceName == null)\n    userDeviceName = Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1137539,"reputation":26156,"user_id":1122270,"accept_rate":20,"display_name":"cnst"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632753467,"creation_date":1632753467,"answer_id":69348544,"question_id":7071281,"body_markdown":"Within the GNU/Linux environment of Android, e.g., [via Termux](https://github.com/termux/termux-api/issues/448) UNIX shell on a non-root device, it&#39;s available through the `/system/bin/getprop` command, whereas the meaning of each value is explained in [`Build.java` within Android](https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/os/Build.java) (also at [googlesource](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/Build.java)):\r\n\r\n```\r\n% /system/bin/getprop | fgrep ro.product | tail -3\r\n[ro.product.manufacturer]: [Google]\r\n[ro.product.model]: [Pixel 2 XL]\r\n[ro.product.name]: [taimen]\r\n% /system/bin/getprop ro.product.model\r\nPixel 2 XL\r\n% /system/bin/getprop ro.product.model | tr &#39; &#39; _\r\nPixel_2_XL\r\n```\r\n\r\nFor example, it can be set as the [`pane_title` for the `status-right`](https://github.com/tmux/tmux/issues/2906) within [`tmux`](http://mdoc.su/o/tmux.1) like so:\r\n\r\n`tmux select-pane -T &quot;$(getprop ro.product.model)&quot;`","title":"Get Android Device Name","body":"<p>Within the GNU/Linux environment of Android, e.g., <a href=\"https://github.com/termux/termux-api/issues/448\" rel=\"nofollow noreferrer\">via Termux</a> UNIX shell on a non-root device, it's available through the <code>/system/bin/getprop</code> command, whereas the meaning of each value is explained in <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/os/Build.java\" rel=\"nofollow noreferrer\"><code>Build.java</code> within Android</a> (also at <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/Build.java\" rel=\"nofollow noreferrer\">googlesource</a>):</p>\n<pre><code>% /system/bin/getprop | fgrep ro.product | tail -3\n[ro.product.manufacturer]: [Google]\n[ro.product.model]: [Pixel 2 XL]\n[ro.product.name]: [taimen]\n% /system/bin/getprop ro.product.model\nPixel 2 XL\n% /system/bin/getprop ro.product.model | tr ' ' _\nPixel_2_XL\n</code></pre>\n<p>For example, it can be set as the <a href=\"https://github.com/tmux/tmux/issues/2906\" rel=\"nofollow noreferrer\"><code>pane_title</code> for the <code>status-right</code></a> within <a href=\"http://mdoc.su/o/tmux.1\" rel=\"nofollow noreferrer\"><code>tmux</code></a> like so:</p>\n<p><code>tmux select-pane -T &quot;$(getprop ro.product.model)&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":15635038,"reputation":31,"user_id":11280199,"display_name":"helloc"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676879151,"creation_date":1638879170,"answer_id":70259939,"question_id":7071281,"body_markdown":"1. Gets an Android system property, or lists them all\r\n```\r\nadb shell getprop &gt;prop_list.txt\r\n```\r\n\r\n2. Find your device name in prop_list.txt to get the prop name\r\n\r\ne.g. my device name is ro.oppo.market.name\r\n\r\n\r\n3. Get oppo.market Operator\r\n```\r\nadb shell getprop ro.oppo.market.name\r\n```\r\n\r\n4. My case on windows as follows\r\n```\r\nD:\\winusr\\adbl\r\n\r\nλ *adb shell getprop ro.oppo.market.name*\r\n\r\nOPPO R17\r\n\r\n```\r\n","title":"Get Android Device Name","body":"<ol>\n<li>Gets an Android system property, or lists them all</li>\n</ol>\n<pre><code>adb shell getprop &gt;prop_list.txt\n</code></pre>\n<ol start=\"2\">\n<li>Find your device name in prop_list.txt to get the prop name</li>\n</ol>\n<p>e.g. my device name is ro.oppo.market.name</p>\n<ol start=\"3\">\n<li>Get oppo.market Operator</li>\n</ol>\n<pre><code>adb shell getprop ro.oppo.market.name\n</code></pre>\n<ol start=\"4\">\n<li>My case on windows as follows</li>\n</ol>\n<pre><code>D:\\winusr\\adbl\n\nλ *adb shell getprop ro.oppo.market.name*\n\nOPPO R17\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3555947,"reputation":488,"user_id":9451057,"display_name":"Aishik kirtaniya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647636606,"creation_date":1647636606,"answer_id":71533050,"question_id":7071281,"body_markdown":"Tried These libraries but nothing worked according to my expectation and was giving absolutely wrong names.\r\n\r\nSo i created this library myself using the same data.\r\nHere is the link\r\n\r\n[AndroidPhoneNamesFinder][1]\r\n\r\n\r\n  [1]: https://github.com/aishik212/AndroidPhoneNamesFinder\r\n\r\nTo use this library just add this for implementation\r\n\r\n    implementation &#39;com.github.aishik212:AndroidPhoneNamesFinder:v1.0.2&#39;\r\n\r\nThen use the following kotlin code\r\n\r\n    DeviceNameFinder.getPhoneValues(this, object : DeviceDetailsListener\r\n    {  \r\n        override fun details(doQuery: DeviceDetailsModel?) \r\n        {  \r\n            super.details(doQuery)  \r\n            Log.d(TAG, &quot;details: &quot;+doQuery?.calculatedName)  \r\n        }  \r\n    })\r\n\r\nThese are the values you will get from DeviceDetailsModel\r\n\r\n    val brand: String? #This is the brandName of the Device  \r\n    val commonName: String?, #This is the most common Name of the Device  \r\n    val codeName: String?,  #This is the codeName of the Device\r\n    val modelName: String?,  #This is the another uncommon Name of the Device\r\n    val calculatedName: String?, #This is the special name that this library tries to create from the above data.\r\n\r\nExample of Android Emulator - \r\n\r\n    brand=Google \r\n    commonName=Google Android Emulator \r\n    codeName=generic_x86_arm \r\n    modelName=sdk_gphone_x86 \r\n    calculatedName=Google Android Emulator\r\n\r\n","title":"Get Android Device Name","body":"<p>Tried These libraries but nothing worked according to my expectation and was giving absolutely wrong names.</p>\n<p>So i created this library myself using the same data.\nHere is the link</p>\n<p><a href=\"https://github.com/aishik212/AndroidPhoneNamesFinder\" rel=\"nofollow noreferrer\">AndroidPhoneNamesFinder</a></p>\n<p>To use this library just add this for implementation</p>\n<pre><code>implementation 'com.github.aishik212:AndroidPhoneNamesFinder:v1.0.2'\n</code></pre>\n<p>Then use the following kotlin code</p>\n<pre><code>DeviceNameFinder.getPhoneValues(this, object : DeviceDetailsListener\n{  \n    override fun details(doQuery: DeviceDetailsModel?) \n    {  \n        super.details(doQuery)  \n        Log.d(TAG, &quot;details: &quot;+doQuery?.calculatedName)  \n    }  \n})\n</code></pre>\n<p>These are the values you will get from DeviceDetailsModel</p>\n<pre><code>val brand: String? #This is the brandName of the Device  \nval commonName: String?, #This is the most common Name of the Device  \nval codeName: String?,  #This is the codeName of the Device\nval modelName: String?,  #This is the another uncommon Name of the Device\nval calculatedName: String?, #This is the special name that this library tries to create from the above data.\n</code></pre>\n<p>Example of Android Emulator -</p>\n<pre><code>brand=Google \ncommonName=Google Android Emulator \ncodeName=generic_x86_arm \nmodelName=sdk_gphone_x86 \ncalculatedName=Google Android Emulator\n</code></pre>\n"}],"owner":{"account_id":310434,"reputation":10029,"user_id":623401,"accept_rate":62,"display_name":"Zach"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250405,"favorite_count":0,"down_vote_count":0,"up_vote_count":208,"accepted_answer_id":7071392,"answer_count":16,"score":208,"last_activity_date":1692715163,"creation_date":1313445351,"question_id":7071281,"body_markdown":"How to get Android device name? I am using HTC desire. When I connected it via HTC Sync the software is displaying the Name **&#39;HTC Smith&#39;** . I would like to fetch this name via code.\r\n\r\nHow is this possible in Android?\r\n","title":"Get Android Device Name","body":"<p>How to get Android device name? I am using HTC desire. When I connected it via HTC Sync the software is displaying the Name <strong>'HTC Smith'</strong> . I would like to fetch this name via code.</p>\n\n<p>How is this possible in Android?</p>\n"},{"tags":["java","mysql","spring","hibernate","stored-procedures"],"answers":[{"tags":[],"owner":{"account_id":11026111,"reputation":2872,"user_id":8098978,"display_name":"lzagkaretos"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1516107762,"creation_date":1516107762,"answer_id":48281931,"question_id":48281009,"body_markdown":"You can call a stored procedure using javax.persistence.StoredProcedureQuery. You dont even need to declare anything on your entity.  \r\nI&#39;d suggest moving the procedure calling logic to a service and then call the service method from your controller.\r\n\r\nFor instance:\r\n\r\n    @Service\r\n    public class LoginServiceImpl implements LoginService {\r\n        \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n        \r\n        public Boolean checkUsernameAndPassword(String username, String password) {\r\n            \r\n            //&quot;login&quot; this is the name of your procedure\r\n            StoredProcedureQuery query = entityManager.createStoredProcedureQuery(&quot;login&quot;); \r\n    \r\n            //Declare the parameters in the same order\r\n            query.registerStoredProcedureParameter(1, String.class, ParameterMode.IN);\r\n            query.registerStoredProcedureParameter(2, String.class, ParameterMode.IN);\r\n            query.registerStoredProcedureParameter(3, Integer.class, ParameterMode.OUT);\r\n            query.registerStoredProcedureParameter(4, String.class, ParameterMode.OUT);\r\n    \r\n            //Pass the parameter values\r\n            query.setParameter(1, username);\r\n            query.setParameter(2, password);\r\n    \r\n            //Execute query\r\n            query.execute();\r\n    \r\n            //Get output parameters\r\n            Integer outCode = (Integer) query.getOutputParameterValue(3);\r\n            String outMessage = (String) query.getOutputParameterValue(4);\r\n            \r\n            return true; //enter your condition\r\n        }\r\n    }\r\n\r\nAnd then, you can call this method from your Controller, after injecting your `LoginService`.","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>You can call a stored procedure using javax.persistence.StoredProcedureQuery. You dont even need to declare anything on your entity.<br>\nI'd suggest moving the procedure calling logic to a service and then call the service method from your controller.</p>\n\n<p>For instance:</p>\n\n<pre><code>@Service\npublic class LoginServiceImpl implements LoginService {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public Boolean checkUsernameAndPassword(String username, String password) {\n\n        //\"login\" this is the name of your procedure\n        StoredProcedureQuery query = entityManager.createStoredProcedureQuery(\"login\"); \n\n        //Declare the parameters in the same order\n        query.registerStoredProcedureParameter(1, String.class, ParameterMode.IN);\n        query.registerStoredProcedureParameter(2, String.class, ParameterMode.IN);\n        query.registerStoredProcedureParameter(3, Integer.class, ParameterMode.OUT);\n        query.registerStoredProcedureParameter(4, String.class, ParameterMode.OUT);\n\n        //Pass the parameter values\n        query.setParameter(1, username);\n        query.setParameter(2, password);\n\n        //Execute query\n        query.execute();\n\n        //Get output parameters\n        Integer outCode = (Integer) query.getOutputParameterValue(3);\n        String outMessage = (String) query.getOutputParameterValue(4);\n\n        return true; //enter your condition\n    }\n}\n</code></pre>\n\n<p>And then, you can call this method from your Controller, after injecting your <code>LoginService</code>.</p>\n"},{"tags":[],"owner":{"account_id":9869686,"reputation":16,"user_id":7309818,"display_name":"ashish singla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516111525,"creation_date":1516111525,"answer_id":48283093,"question_id":48281009,"body_markdown":"You can try this method to call procedure from Spring\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import oracle.jdbc.driver.OracleTypes;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.core.SqlOutParameter;\r\n    import org.springframework.jdbc.core.SqlParameter;\r\n    import org.springframework.jdbc.core.simple.SimpleJdbcCall;\r\n\r\n    public class MainApplicationMethod \r\n\r\n    {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n    \tJdbcTemplate jdbcTemplate = new JdbcTemplate();\r\n\t\t\r\n    \tSimpleJdbcCall jdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(&quot;procedureName&quot;);\r\n\t    jdbcCall.addDeclaredParameter(new SqlParameter(&quot;parameter1&quot;, OracleTypes.VARCHAR));\r\n\t\tjdbcCall.addDeclaredParameter(new SqlOutParameter(&quot;outParam1&quot;,OracleTypes.VARCHAR));\r\n\t\tString value=null;\r\n\t\tMap&lt;String, String&gt; callParams = new HashMap&lt;String, String&gt;();\r\n\t\tcallParams.put(&quot;parameter1&quot;, value);\r\n\r\n\t\tMap&lt;String, Object&gt; outputMap = jdbcCall.execute(callParams);\r\n\t}\r\n}","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>You can try this method to call procedure from Spring</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport oracle.jdbc.driver.OracleTypes;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.SqlOutParameter;\nimport org.springframework.jdbc.core.SqlParameter;\nimport org.springframework.jdbc.core.simple.SimpleJdbcCall;\n\npublic class MainApplicationMethod \n\n{\n\npublic static void main(String[] args) throws Exception {\n\n    JdbcTemplate jdbcTemplate = new JdbcTemplate();\n\n    SimpleJdbcCall jdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(\"procedureName\");\n    jdbcCall.addDeclaredParameter(new SqlParameter(\"parameter1\", OracleTypes.VARCHAR));\n    jdbcCall.addDeclaredParameter(new SqlOutParameter(\"outParam1\",OracleTypes.VARCHAR));\n    String value=null;\n    Map&lt;String, String&gt; callParams = new HashMap&lt;String, String&gt;();\n    callParams.put(\"parameter1\", value);\n\n    Map&lt;String, Object&gt; outputMap = jdbcCall.execute(callParams);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12664036,"reputation":322,"user_id":9203966,"display_name":"VAIBHAV NERLE"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574246226,"creation_date":1574245344,"answer_id":58951990,"question_id":48281009,"body_markdown":"Try this simple solution , I use Spring boot and Sql Server-\r\nIn your Repository\r\n\r\n1) with no parameter \r\n\r\n`@Query(value = &quot;{call yourSpName()}&quot;, nativeQuery = true)\r\nList&lt;Map&lt;String, Object&gt;&gt; methodName();`\r\n\r\n2) with Parameter\r\n\r\n`@Query(value = &quot;{call yourSpName(:param1)}&quot;, nativeQuery = true)\r\nList&lt;Map&lt;String, Object&gt;&gt; methodName(@Param(&quot;param1&quot;)Long param1);`","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>Try this simple solution , I use Spring boot and Sql Server-\nIn your Repository</p>\n\n<p>1) with no parameter </p>\n\n<p><code>@Query(value = \"{call yourSpName()}\", nativeQuery = true)\nList&lt;Map&lt;String, Object&gt;&gt; methodName();</code></p>\n\n<p>2) with Parameter</p>\n\n<p><code>@Query(value = \"{call yourSpName(:param1)}\", nativeQuery = true)\nList&lt;Map&lt;String, Object&gt;&gt; methodName(@Param(\"param1\")Long param1);</code></p>\n"},{"tags":[],"owner":{"account_id":5217057,"reputation":133,"user_id":4171669,"display_name":"Ahmed Shalash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578836516,"creation_date":1578836516,"answer_id":59704395,"question_id":48281009,"body_markdown":"This works for me using jdbctempate \r\n\r\n       SimpleJdbcCall jdbcCall =  new SimpleJdbcCall(jdbcTemplate).withProcedureName(&quot;your procedure name&quot;);\r\n\r\n        Map&lt;String, Object&gt; inParamMap = new HashMap&lt;&gt;();\r\n\r\n        inParamMap.put(&quot;input of your procedure&quot;, value of input);\r\n\r\n        SqlParameterSource in = new MapSqlParameterSource(inParamMap);\r\n\r\n        Map&lt;String, Object&gt; call = jdbcCall.execute(in);\r\n","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>This works for me using jdbctempate </p>\n\n<pre><code>   SimpleJdbcCall jdbcCall =  new SimpleJdbcCall(jdbcTemplate).withProcedureName(\"your procedure name\");\n\n    Map&lt;String, Object&gt; inParamMap = new HashMap&lt;&gt;();\n\n    inParamMap.put(\"input of your procedure\", value of input);\n\n    SqlParameterSource in = new MapSqlParameterSource(inParamMap);\n\n    Map&lt;String, Object&gt; call = jdbcCall.execute(in);\n</code></pre>\n"}],"owner":{"account_id":4933250,"reputation":4859,"user_id":3972291,"accept_rate":100,"display_name":"Enamul Haque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34823,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48281931,"answer_count":4,"score":7,"last_activity_date":1692715044,"creation_date":1516104801,"question_id":48281009,"body_markdown":"I have written some logic in **MySQL stored procedur**e.I am using **spring boot with hibernate**. I have a login procedure with **IN OUT** parameters. From my login procedure I want to pass message to user. But i don&#39;t know how to call stored procedure in Spring boot. My code is bellow..\r\n\r\n 1. My Login Procedure is\r\n\r\n        CREATE PROCEDURE login(IN  in_user_id    varchar(100),\r\n                                   IN  in_password   varchar(100),\r\n                                   OUT out_code      INT,\r\n                                   OUT out_message   varchar(100))\r\n         BEGIN\r\n            IF in_user_id IS NULL OR in_user_id = &#39;&#39;\r\n             THEN\r\n             SET out_code = 1;\r\n             SET out_message = &#39;Please Enter Your First Name.&#39;;\r\n           END IF;\r\n         /*Logi Here*/\r\n\r\n         END;\r\n\r\n 2. I have used entity class like \r\n\r\n        @Entity\r\n        @Table(name = &quot;user&quot;)\r\n         @NamedStoredProcedureQueries({\r\n\t       @NamedStoredProcedureQuery(\r\n\t       name = &quot;do_login&quot;, \r\n\t       procedureName = &quot;login&quot;, \r\n\t       resultClasses = { LoginModel.class }, \t\r\n\t       parameters = { \r\n\t          @StoredProcedureParameter( name = &quot; in_user_id&quot;,  type = String.class,  mode = ParameterMode.IN),\r\n\t          @StoredProcedureParameter( name = &quot;in_password&quot;,  type = String.class,  mode = ParameterMode.IN),\r\n\t          @StoredProcedureParameter( name = &quot;out_code&quot;,  type = Integer.class,  mode = ParameterMode.OUT), \r\n\t          @StoredProcedureParameter( name = &quot;out_message&quot;,  type = String.class,  mode = ParameterMode.OUT)\r\n\t          \r\n\t         }),\r\n\t         \r\n\t     })\r\n\r\n         public class LoginModel implements Serializable {\r\n\t\r\n\t       @NotEmpty\r\n\t       private String userid;\r\n\r\n\t       @NotEmpty\r\n\t       private String password;\r\n\r\n          //Here is getter setter\r\n          }\r\n\r\n 3. In My Login Controller I want to call my procedure so that i can forward my user to dashboard.If user enter wrong user id or password , i want to show message  from procedure. I have used bellow code in my login controller\r\n\r\n        @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\r\n\t     public String doLogin(@ModelAttribute(&quot;webLoginForm&quot;) @Valid LoginModel registrationModel,\r\n\t\t\tBindingResult bindingResult, Model model, Errors error) {\r\n\t\t     if(error.hasErrors()) {\r\n\t\t\t\t return &quot;login&quot;;\r\n\t\t     }\r\n\t\t\r\n\t\t   // Here I want to check My Procedure result &amp; redirect to welcome page\r\n\t\t   //return &quot;redirect:/welcome&quot;;\r\n\t\t \r\n\t\t  return &quot;login&quot;;\r\n\t    }\r\n\r\n \r\n\r\n 1. I have used repository but it did not write anything here. I have used repository bellow like..\r\n\r\n           public interface LoginRepository  extends CrudRepository&lt;LoginModel, Integer&gt;{\r\n\t\r\n \t\r\n         }","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>I have written some logic in <strong>MySQL stored procedur</strong>e.I am using <strong>spring boot with hibernate</strong>. I have a login procedure with <strong>IN OUT</strong> parameters. From my login procedure I want to pass message to user. But i don't know how to call stored procedure in Spring boot. My code is bellow..</p>\n\n<ol>\n<li><p>My Login Procedure is</p>\n\n<pre><code>CREATE PROCEDURE login(IN  in_user_id    varchar(100),\n                           IN  in_password   varchar(100),\n                           OUT out_code      INT,\n                           OUT out_message   varchar(100))\n BEGIN\n    IF in_user_id IS NULL OR in_user_id = ''\n     THEN\n     SET out_code = 1;\n     SET out_message = 'Please Enter Your First Name.';\n   END IF;\n /*Logi Here*/\n\n END;\n</code></pre></li>\n<li><p>I have used entity class like </p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\n @NamedStoredProcedureQueries({\n   @NamedStoredProcedureQuery(\n   name = \"do_login\", \n   procedureName = \"login\", \n   resultClasses = { LoginModel.class },    \n   parameters = { \n      @StoredProcedureParameter( name = \" in_user_id\",  type = String.class,  mode = ParameterMode.IN),\n      @StoredProcedureParameter( name = \"in_password\",  type = String.class,  mode = ParameterMode.IN),\n      @StoredProcedureParameter( name = \"out_code\",  type = Integer.class,  mode = ParameterMode.OUT), \n      @StoredProcedureParameter( name = \"out_message\",  type = String.class,  mode = ParameterMode.OUT)\n\n     }),\n\n })\n\n public class LoginModel implements Serializable {\n\n   @NotEmpty\n   private String userid;\n\n   @NotEmpty\n   private String password;\n\n  //Here is getter setter\n  }\n</code></pre></li>\n<li><p>In My Login Controller I want to call my procedure so that i can forward my user to dashboard.If user enter wrong user id or password , i want to show message  from procedure. I have used bellow code in my login controller</p>\n\n<pre><code>@RequestMapping(value = \"/login\", method = RequestMethod.POST)\n public String doLogin(@ModelAttribute(\"webLoginForm\") @Valid LoginModel registrationModel,\n    BindingResult bindingResult, Model model, Errors error) {\n     if(error.hasErrors()) {\n         return \"login\";\n     }\n\n   // Here I want to check My Procedure result &amp; redirect to welcome page\n   //return \"redirect:/welcome\";\n\n  return \"login\";\n}\n</code></pre></li>\n<li><p>I have used repository but it did not write anything here. I have used repository bellow like..</p>\n\n<pre><code>   public interface LoginRepository  extends CrudRepository&lt;LoginModel, Integer&gt;{\n\n\n }\n</code></pre></li>\n</ol>\n"},{"tags":["java","html","swing","jsp","netbeans"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1497584531,"post_id":44580115,"comment_id":76149229,"body_markdown":"[`JEditorPane`](https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html) can render HTML 3.2 with some extensions, for [example](https://stackoverflow.com/q/18443315/230513).","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html\" rel=\"nofollow noreferrer\"><code>JEditorPane</code></a> can render HTML 3.2 with some extensions, for <a href=\"https://stackoverflow.com/q/18443315/230513\">example</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1497591205,"post_id":44580115,"comment_id":76151114,"body_markdown":"*&quot;when you say &quot;table&quot;, google thinks you&#39;re talking about a database table&quot;* Add **-**ThingYouDoNotWant e.g. https://www.google.com/search?q=html+table+-db","body":"<i>&quot;when you say &quot;table&quot;, google thinks you&#39;re talking about a database table&quot;</i> Add **-**ThingYouDoNotWant e.g. <a href=\"https://www.google.com/search?q=html+table+-db\" rel=\"nofollow noreferrer\">google.com/search?q=html+table+-db</a>"},{"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"score":1,"creation_date":1497648609,"post_id":44580115,"comment_id":76184810,"body_markdown":"I have never tried a table, but you can [render some html in Swing components.](https://docs.oracle.com/javase/tutorial/uiswing/components/html.html)","body":"I have never tried a table, but you can <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/html.html\" rel=\"nofollow noreferrer\">render some html in Swing components.</a>"},{"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"score":0,"creation_date":1497657066,"post_id":44580115,"comment_id":76186927,"body_markdown":"Thanks a lot!! both answers seems to be very helpful. I&#39;ll take a look to both of them see which one suits my needs better. I forgot to mention that I also need radio buttons, check boxes, text boxes and other html elements inside the html table. I hope they can render style-sheets as well","body":"Thanks a lot!! both answers seems to be very helpful. I&#39;ll take a look to both of them see which one suits my needs better. I forgot to mention that I also need radio buttons, check boxes, text boxes and other html elements inside the html table. I hope they can render style-sheets as well"},{"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"score":0,"creation_date":1497657349,"post_id":44580115,"comment_id":76186978,"body_markdown":"and yes, I used that &quot;-&quot; modifier, but still, I was getting a lot of database related results. Thanks for the tip anyway.","body":"and yes, I used that &quot;-&quot; modifier, but still, I was getting a lot of database related results. Thanks for the tip anyway."}],"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692715004,"creation_date":1497582242,"question_id":44580115,"body_markdown":"I have a java web JSP application, which I need to translate to a java desktop application, which I can distribute in a jar file.\r\n\r\nI&#39;m new to netbeans, and I&#39;m trying to figure out if there&#39;s a way to use html tables, instead of the JTable provided by netbeans.\r\n\r\nThe thing is that there&#39;s a lot of code in my jsp&#39;s that create these html tables, and I was wondering if I can re-use it with netbeans.\r\n\r\nIt has to be a desktop application, it shouldn&#39;t run on a web-browser.\r\n\r\nI understand that you can&#39;t use html in a java desktop app, but if at least I could use just html tables, that would be a huge time saver for me.\r\n\r\nI&#39;ve been searching for the right answer for a couple of days, and still haven&#39;t found a concrete answer. Plus, when you say &quot;table&quot;, Google thinks you&#39;re talking about a database table, which is not my case.\r\n\r\nAny help will be really appreciated","title":"using html tables in java desktop application (with netbeans)","body":"<p>I have a java web JSP application, which I need to translate to a java desktop application, which I can distribute in a jar file.</p>\n<p>I'm new to netbeans, and I'm trying to figure out if there's a way to use html tables, instead of the JTable provided by netbeans.</p>\n<p>The thing is that there's a lot of code in my jsp's that create these html tables, and I was wondering if I can re-use it with netbeans.</p>\n<p>It has to be a desktop application, it shouldn't run on a web-browser.</p>\n<p>I understand that you can't use html in a java desktop app, but if at least I could use just html tables, that would be a huge time saver for me.</p>\n<p>I've been searching for the right answer for a couple of days, and still haven't found a concrete answer. Plus, when you say &quot;table&quot;, Google thinks you're talking about a database table, which is not my case.</p>\n<p>Any help will be really appreciated</p>\n"},{"tags":["java","c#","code-conversion"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":1,"creation_date":1499066814,"post_id":44879897,"comment_id":76737887,"body_markdown":"Welcome to Stack Overflow!  Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, _a specific problem or error_ and _the shortest code necessary_ to reproduce it **in the question itself**. Questions without a clear problem statement are not useful to other readers. See: [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow!  Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, <i>a specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":3018869,"reputation":2241,"user_id":2560362,"accept_rate":74,"display_name":"Iswar"},"score":0,"creation_date":1499066903,"post_id":44879897,"comment_id":76737924,"body_markdown":"bad hash\\r\\n is the error I am getting","body":"bad hash\\r\\n is the error I am getting"}],"answers":[{"tags":[],"owner":{"account_id":3018869,"reputation":2241,"user_id":2560362,"accept_rate":74,"display_name":"Iswar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1499080866,"creation_date":1499080866,"answer_id":44884275,"question_id":44879897,"body_markdown":"I have generated Signature using System.Security.Cryptography.Pkcs library   like this \r\n\r\n        public static byte[] Sign(byte[] data, X509Certificate2 certificate)\r\n        {\r\n            if (data == null)\r\n                throw new ArgumentNullException(&quot;data&quot;);\r\n            if (certificate == null)\r\n                throw new ArgumentNullException(&quot;certificate&quot;);\r\n\r\n            // setup the data to sign\r\n            ContentInfo content = new ContentInfo(data);\r\n            SignedCms signedCms = new SignedCms(content, false);\r\n            CmsSigner signer = new CmsSigner(SubjectIdentifierType.IssuerAndSerialNumber, certificate);\r\n            // create the signature\r\n            signedCms.ComputeSignature(signer);\r\n            return signedCms.Encode();\r\n        }\r\n and verify the signature like this\r\n     \r\n      private static bool VerifySignatures(FileInfo contentFile, Stream signedDataStream)\r\n        {\r\n            CmsProcessable signedContent = null;\r\n            CmsSignedData cmsSignedData = null;\r\n            Org.BouncyCastle.X509.Store.IX509Store store = null;\r\n            ICollection signers = null;\r\n            bool verifiedStatus = false;\r\n            try\r\n            {\r\n                //Org.BouncyCastle.Security.addProvider(new BouncyCastleProvider());\r\n                signedContent = new CmsProcessableFile(contentFile);\r\n                cmsSignedData = new CmsSignedData(signedContent, signedDataStream);\r\n                store = cmsSignedData.GetCertificates(&quot;Collection&quot;);//.getCertificates();\r\n                IX509Store certStore = cmsSignedData.GetCertificates(&quot;Collection&quot;);\r\n                signers = cmsSignedData.GetSignerInfos().GetSigners();\r\n                foreach (var item in signers)\r\n                {\r\n                    SignerInformation signer = (SignerInformation)item;\r\n                    var certCollection = certStore.GetMatches(signer.SignerID);\r\n                    IEnumerator iter = certCollection.GetEnumerator();\r\n                    iter.MoveNext();\r\n                    var cert = (Org.BouncyCastle.X509.X509Certificate)iter.Current;\r\n                    verifiedStatus = signer.Verify(cert.GetPublicKey());\r\n                }\r\n\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                throw e;\r\n            }\r\n\r\n            return verifiedStatus;\r\n        }\r\nIt is working for me","title":"How to Create Digital Signature and Verify it in C# using PKCS 7 and SHA algorithm","body":"<p>I have generated Signature using System.Security.Cryptography.Pkcs library   like this </p>\n\n<pre><code>    public static byte[] Sign(byte[] data, X509Certificate2 certificate)\n    {\n        if (data == null)\n            throw new ArgumentNullException(\"data\");\n        if (certificate == null)\n            throw new ArgumentNullException(\"certificate\");\n\n        // setup the data to sign\n        ContentInfo content = new ContentInfo(data);\n        SignedCms signedCms = new SignedCms(content, false);\n        CmsSigner signer = new CmsSigner(SubjectIdentifierType.IssuerAndSerialNumber, certificate);\n        // create the signature\n        signedCms.ComputeSignature(signer);\n        return signedCms.Encode();\n    }\n</code></pre>\n\n<p>and verify the signature like this</p>\n\n<pre><code>  private static bool VerifySignatures(FileInfo contentFile, Stream signedDataStream)\n    {\n        CmsProcessable signedContent = null;\n        CmsSignedData cmsSignedData = null;\n        Org.BouncyCastle.X509.Store.IX509Store store = null;\n        ICollection signers = null;\n        bool verifiedStatus = false;\n        try\n        {\n            //Org.BouncyCastle.Security.addProvider(new BouncyCastleProvider());\n            signedContent = new CmsProcessableFile(contentFile);\n            cmsSignedData = new CmsSignedData(signedContent, signedDataStream);\n            store = cmsSignedData.GetCertificates(\"Collection\");//.getCertificates();\n            IX509Store certStore = cmsSignedData.GetCertificates(\"Collection\");\n            signers = cmsSignedData.GetSignerInfos().GetSigners();\n            foreach (var item in signers)\n            {\n                SignerInformation signer = (SignerInformation)item;\n                var certCollection = certStore.GetMatches(signer.SignerID);\n                IEnumerator iter = certCollection.GetEnumerator();\n                iter.MoveNext();\n                var cert = (Org.BouncyCastle.X509.X509Certificate)iter.Current;\n                verifiedStatus = signer.Verify(cert.GetPublicKey());\n            }\n\n        }\n        catch (Exception e)\n        {\n            throw e;\n        }\n\n        return verifiedStatus;\n    }\n</code></pre>\n\n<p>It is working for me</p>\n"}],"owner":{"account_id":3018869,"reputation":2241,"user_id":2560362,"accept_rate":74,"display_name":"Iswar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44884275,"answer_count":1,"score":1,"last_activity_date":1692714813,"creation_date":1499066685,"question_id":44879897,"body_markdown":"I am trying to digitally sign xml document and verify the signature with the original xml file with public key and signed document. I have a java code for reference. I need to convert java code to C# where I have java code like this:\r\n\r\n       certList = new ArrayList&lt;X509Certificate&gt;();\r\n\t   certList.add(signerCert);\r\n\t   certStore = new JcaCertStore(certList);\r\n\t   signedDataGenerator = new CMSSignedDataGenerator();\r\n\t   ContentSigner sha2Signer = new JcaContentSignerBuilder(&quot;SHA512with&quot; + privateKey.getAlgorithm()).build(privateKey);\r\n\t        \t   \r\n\t   ignedDataGenerator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).setDirectSignature(true).build(sha2Signer, signerCert));\r\n\t   signedDataGenerator.addCertificates(certStore);\r\n\t   CMSSignedData sigData = signedDataGenerator.generate(new CMSProcessableFile(inputXmlFile), false);\r\n\t   signedBytes = sigData.getEncoded();\r\nI have converted java code to C# like this:\r\n\r\n            X509Store my = new X509Store(StoreName.My, StoreLocation.LocalMachine);\r\n            my.Open(OpenFlags.ReadOnly);\r\n            // Find the certificate we’ll use to sign\r\n            RSACryptoServiceProvider csp = null;\r\n            foreach (X509Certificate2 cert in my.Certificates)\r\n            {\r\n                if (cert.Subject.Contains(certSubject))\r\n                {\r\n                    // We found it.\r\n                    // Get its associated CSP and private key\r\n                    csp = (RSACryptoServiceProvider)cert.PrivateKey;                  \r\n                }\r\n            }\r\n            if (csp == null)\r\n            {\r\n                throw new Exception(&quot;oppose no valid application was found&quot;);\r\n            }\r\n            // Hash the data\r\n            SHA512Managed sha1 = new SHA512Managed();\r\n            UnicodeEncoding encoding = new UnicodeEncoding();\r\n            byte[] data = encoding.GetBytes(text);\r\n            byte[] hash = sha1.ComputeHash(data);\r\n            // Sign the hash\r\n            return csp.SignHash(hash, CryptoConfig.MapNameToOID(&quot;SHA1&quot;));\r\n\r\nI am trying to convert it since two days, It is generating sign byte array but not been able to verify. While verifying it is throwing **bad hash\\r\\n** error I shall be highly grateful for any assistance. I know I am somewhere wrong in converting the java code to C#. I am able to verify the code but not been able to sign the document","title":"How to Create Digital Signature and Verify it in C# using PKCS 7 and SHA algorithm","body":"<p>I am trying to digitally sign xml document and verify the signature with the original xml file with public key and signed document. I have a java code for reference. I need to convert java code to C# where I have java code like this:</p>\n\n<pre><code>   certList = new ArrayList&lt;X509Certificate&gt;();\n   certList.add(signerCert);\n   certStore = new JcaCertStore(certList);\n   signedDataGenerator = new CMSSignedDataGenerator();\n   ContentSigner sha2Signer = new JcaContentSignerBuilder(\"SHA512with\" + privateKey.getAlgorithm()).build(privateKey);\n\n   ignedDataGenerator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).setDirectSignature(true).build(sha2Signer, signerCert));\n   signedDataGenerator.addCertificates(certStore);\n   CMSSignedData sigData = signedDataGenerator.generate(new CMSProcessableFile(inputXmlFile), false);\n   signedBytes = sigData.getEncoded();\n</code></pre>\n\n<p>I have converted java code to C# like this:</p>\n\n<pre><code>        X509Store my = new X509Store(StoreName.My, StoreLocation.LocalMachine);\n        my.Open(OpenFlags.ReadOnly);\n        // Find the certificate we’ll use to sign\n        RSACryptoServiceProvider csp = null;\n        foreach (X509Certificate2 cert in my.Certificates)\n        {\n            if (cert.Subject.Contains(certSubject))\n            {\n                // We found it.\n                // Get its associated CSP and private key\n                csp = (RSACryptoServiceProvider)cert.PrivateKey;                  \n            }\n        }\n        if (csp == null)\n        {\n            throw new Exception(\"oppose no valid application was found\");\n        }\n        // Hash the data\n        SHA512Managed sha1 = new SHA512Managed();\n        UnicodeEncoding encoding = new UnicodeEncoding();\n        byte[] data = encoding.GetBytes(text);\n        byte[] hash = sha1.ComputeHash(data);\n        // Sign the hash\n        return csp.SignHash(hash, CryptoConfig.MapNameToOID(\"SHA1\"));\n</code></pre>\n\n<p>I am trying to convert it since two days, It is generating sign byte array but not been able to verify. While verifying it is throwing <strong>bad hash\\r\\n</strong> error I shall be highly grateful for any assistance. I know I am somewhere wrong in converting the java code to C#. I am able to verify the code but not been able to sign the document</p>\n"},{"tags":["java","spring","oauth-2.0","single-sign-on","openid-connect"],"comments":[{"owner":{"account_id":27080115,"reputation":99,"user_id":20629378,"display_name":"Pavan G"},"score":0,"creation_date":1692711634,"post_id":76953857,"comment_id":135659425,"body_markdown":"have you tested the flow in postman/insomnia?","body":"have you tested the flow in postman/insomnia?"},{"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"score":0,"creation_date":1692711733,"post_id":76953857,"comment_id":135659461,"body_markdown":"yeah added the point in question","body":"yeah added the point in question"}],"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692714438,"creation_date":1692711302,"question_id":76953857,"body_markdown":"I have used spring-security and oauth2-client dependency.\r\nHomepage url: \r\n```\r\nhttp://localhost:9090/webpage/\r\n```\r\napplication.properties file configuration\r\n\r\n```\r\nspring.security.oauth2.client.registration.fedsso.client-id=\r\nspring.security.oauth2.client.registration.fedsso.scope=openid\r\nspring.security.oauth2.client.registration.fedsso.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.fedsso.redirect-uri=http://localhost:9090/webpage/\r\nspring.security.oauth2.client.provider.fedsso.issuer-uri=\r\nspring.security.oauth2.client.provider.fedsso.authorization-uri=\r\nspring.security.oauth2.client.provider.fedsso.token-uri=\r\nspring.security.oauth2.client.provider.fedsso.user-info-uri=\r\n```\r\nCreated Bean of SecurityFilterChain\r\n```\r\nhttp.authorizeHttpRequests()\r\n.anyRequest().authenticated()\r\n.and()\r\n.oauth2Login();\r\nreturn http.build();\r\n```\r\n\r\nThe network tab debug results:\r\n```\r\n1.http://localhost:9090/webpage/ - redirect\r\n2.http://localhost:9090/webpage/oauth2/authorization/fedsso - redirect\r\n3./authorization.ouath2 - redirect\r\n4.http://localhost:9090/webpage/?code=auth_code&amp;state=qwasda - redirect\r\n```\r\n\r\nthen after 4th redirect spring should call the token endpoint for getting access_token/Id_token in exchange for authorization_code\r\nBut what is happening that after 4th point it is redirecting again to 2nd point i.e fedsso then 3rd point authorization.oauth2 then 4th point again then it is repeating from 2nd point to 4th point\r\n\r\nValidated the authorization code grant flow in postman/insomnia(for getting the access_token/id_token) and i&#39;m able to get the tokens by providing configuration.\r\n","title":"The token endpoint is not getting called Even after getting authorization_code","body":"<p>I have used spring-security and oauth2-client dependency.\nHomepage url:</p>\n<pre><code>http://localhost:9090/webpage/\n</code></pre>\n<p>application.properties file configuration</p>\n<pre><code>spring.security.oauth2.client.registration.fedsso.client-id=\nspring.security.oauth2.client.registration.fedsso.scope=openid\nspring.security.oauth2.client.registration.fedsso.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.fedsso.redirect-uri=http://localhost:9090/webpage/\nspring.security.oauth2.client.provider.fedsso.issuer-uri=\nspring.security.oauth2.client.provider.fedsso.authorization-uri=\nspring.security.oauth2.client.provider.fedsso.token-uri=\nspring.security.oauth2.client.provider.fedsso.user-info-uri=\n</code></pre>\n<p>Created Bean of SecurityFilterChain</p>\n<pre><code>http.authorizeHttpRequests()\n.anyRequest().authenticated()\n.and()\n.oauth2Login();\nreturn http.build();\n</code></pre>\n<p>The network tab debug results:</p>\n<pre><code>1.http://localhost:9090/webpage/ - redirect\n2.http://localhost:9090/webpage/oauth2/authorization/fedsso - redirect\n3./authorization.ouath2 - redirect\n4.http://localhost:9090/webpage/?code=auth_code&amp;state=qwasda - redirect\n</code></pre>\n<p>then after 4th redirect spring should call the token endpoint for getting access_token/Id_token in exchange for authorization_code\nBut what is happening that after 4th point it is redirecting again to 2nd point i.e fedsso then 3rd point authorization.oauth2 then 4th point again then it is repeating from 2nd point to 4th point</p>\n<p>Validated the authorization code grant flow in postman/insomnia(for getting the access_token/id_token) and i'm able to get the tokens by providing configuration.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692713952,"post_id":76954220,"comment_id":135660080,"body_markdown":"Simply run all of them in one transaction. I believe Spring allows you to just make one `@Transactional` method that would call all of them (and they would use the same transaction).","body":"Simply run all of them in one transaction. I believe Spring allows you to just make one <code>@Transactional</code> method that would call all of them (and they would use the same transaction)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1692715212,"post_id":76954220,"comment_id":135660370,"body_markdown":"Even if all of the methods have `@Transactional` it&#39;ll just join the existing transaction. You need `TransactionPropagation.REQUIRES_NEW` to have new transactions created even if there&#39;s an existing in progress. Sorry, that&#39;s what Jorn said, but here are the details.","body":"Even if all of the methods have <code>@Transactional</code> it&#39;ll just join the existing transaction. You need <code>TransactionPropagation.REQUIRES_NEW</code> to have new transactions created even if there&#39;s an existing in progress. Sorry, that&#39;s what Jorn said, but here are the details."}],"owner":{"account_id":21734037,"reputation":55,"user_id":16042294,"display_name":"Pouria Saleh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692714035,"creation_date":1692713881,"question_id":76954220,"body_markdown":"Suppose we have some `@Transactional` methods and we want to rollback all methods if one or more of them has not committed successfully.is there any direct way in spring framework?\r\n\r\nI tried rollbackfor attribute in one `@Transactional` method to rollback if one exception happened but I want it for multiple methods to happen","title":"how to roll back multiple @transactional methods when one of them is not committed or has exception in spring boot","body":"<p>Suppose we have some <code>@Transactional</code> methods and we want to rollback all methods if one or more of them has not committed successfully.is there any direct way in spring framework?</p>\n<p>I tried rollbackfor attribute in one <code>@Transactional</code> method to rollback if one exception happened but I want it for multiple methods to happen</p>\n"},{"tags":["java","message-queue"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1692713222,"post_id":76954090,"comment_id":135659882,"body_markdown":"RMI is a Java-only, CORBA-like API.  I believe Rabbit uses AMQP, which has clients in Java/Kotlin, C#, JavaScript/Node, Python, etc.  Kafka has its own protocol: https://kafka.apache.org/protocol.html","body":"RMI is a Java-only, CORBA-like API.  I believe Rabbit uses AMQP, which has clients in Java/Kotlin, C#, JavaScript/Node, Python, etc.  Kafka has its own protocol: <a href=\"https://kafka.apache.org/protocol.html\" rel=\"nofollow noreferrer\">kafka.apache.org/protocol.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692713427,"creation_date":1692713427,"answer_id":76954165,"question_id":76954090,"body_markdown":"Some use proprietary protocols, others use one of several standards like [AMQP][1] or [MQTT.][2] The upshot is that a given client can only connect to a given message broker by careful design; you shouldn&#39;t assume that clients can be mixed and matched freely.\r\n\r\nThe variety of protocols is due in part to historical reason, as various vendors worked independently to build competing message-oriented middleware products. But today, there are still good reasons to support different protocols. For example, MQTT is lightweight and well-adapted to embedded devices, while AMQP is better suited to enterprise applications.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol\r\n  [2]: https://en.wikipedia.org/wiki/MQ_Telemetry_Transport","title":"What protocols do message queues use to communicate with clients?","body":"<p>Some use proprietary protocols, others use one of several standards like <a href=\"https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol\" rel=\"nofollow noreferrer\">AMQP</a> or <a href=\"https://en.wikipedia.org/wiki/MQ_Telemetry_Transport\" rel=\"nofollow noreferrer\">MQTT.</a> The upshot is that a given client can only connect to a given message broker by careful design; you shouldn't assume that clients can be mixed and matched freely.</p>\n<p>The variety of protocols is due in part to historical reason, as various vendors worked independently to build competing message-oriented middleware products. But today, there are still good reasons to support different protocols. For example, MQTT is lightweight and well-adapted to embedded devices, while AMQP is better suited to enterprise applications.</p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692713427,"creation_date":1692712926,"question_id":76954090,"body_markdown":"I have worked with message queues but never wondered, what protocol do they use to communicate? Basicly all of them support blocking methods e.g\r\n\r\n\r\n    // sleeps the thread until any message is available\r\n    Object message = queueService.take()\r\n\r\nbut i never wondered how is this implemented client-server(MOM) wise.\r\n\r\nFrom what i read `RMI` is pretty much dead ( and not sure if it supports blocking methods) so what do modern day MQ use to communicate?\r\n\r\nIs there any book/tutorial/course for implementing own queue or just describe these stuff in detail?\r\n\r\nThanks for answers!","title":"What protocols do message queues use to communicate with clients?","body":"<p>I have worked with message queues but never wondered, what protocol do they use to communicate? Basicly all of them support blocking methods e.g</p>\n<pre><code>// sleeps the thread until any message is available\nObject message = queueService.take()\n</code></pre>\n<p>but i never wondered how is this implemented client-server(MOM) wise.</p>\n<p>From what i read <code>RMI</code> is pretty much dead ( and not sure if it supports blocking methods) so what do modern day MQ use to communicate?</p>\n<p>Is there any book/tutorial/course for implementing own queue or just describe these stuff in detail?</p>\n<p>Thanks for answers!</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1692663538,"post_id":76949243,"comment_id":135651660,"body_markdown":"No, interfaces cannot set instance variables that they don&#39;t know about. You&#39;ll have to set the instance variable in the *actual* child class, either through a provided setter, by calling an appropriate `super` constructor, or by making the field `protected`.","body":"No, interfaces cannot set instance variables that they don&#39;t know about. You&#39;ll have to set the instance variable in the <i>actual</i> child class, either through a provided setter, by calling an appropriate <code>super</code> constructor, or by making the field <code>protected</code>."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1692663661,"post_id":76949243,"comment_id":135651676,"body_markdown":"Every non-abstract class will have its own constructor, so can have all the parameters necessary. So I think there&#39;s something in your question that&#39;s missing.","body":"Every non-abstract class will have its own constructor, so can have all the parameters necessary. So I think there&#39;s something in your question that&#39;s missing."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1692713421,"post_id":76949243,"comment_id":135659936,"body_markdown":"What exactly were you asked to do? Also, note that interfaces never have access to instance fields of the classes implementing them, since interfaces don&#39;t have (non-static) fields.","body":"What exactly were you asked to do? Also, note that interfaces never have access to instance fields of the classes implementing them, since interfaces don&#39;t have (non-static) fields."}],"owner":{"account_id":29262215,"reputation":23,"user_id":22418915,"display_name":"adrian quispe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692713034,"creation_date":1692660471,"question_id":76949243,"body_markdown":"i want to leave a declared attibute with its default value (no assignament in constructor or declaration) and then, in sub-classes, implement a interface that set the attibute using getter/setter of the main class, is that a correct method? (sorry for bad english)\r\n\r\n\r\nmore context of the problem:\r\ni have a class &quot;Product&quot; and sub-classes &quot;Packaged&quot; &quot;Cleaning&quot; &quot;Drinks&quot; (i know is weird hehe), and i need to use a interface &quot;Edible&quot; that must set/get calories and expiration date, since i don&#39;t know how to attach  those attibutes to the subclass i got that idea\r\n(i thought about using the Edible as direct subclass of Product but there are packaged items that are edible and not, so i don&#39;t know how to solve the inheritance problem. also i was asked to use edible as an interface)\r\nagain, sorry for bad english\r\n\r\nedit: all the mentioned classes are abstract classes\r\n","title":"can i assign value to an attribute outside the constructor?","body":"<p>i want to leave a declared attibute with its default value (no assignament in constructor or declaration) and then, in sub-classes, implement a interface that set the attibute using getter/setter of the main class, is that a correct method? (sorry for bad english)</p>\n<p>more context of the problem:\ni have a class &quot;Product&quot; and sub-classes &quot;Packaged&quot; &quot;Cleaning&quot; &quot;Drinks&quot; (i know is weird hehe), and i need to use a interface &quot;Edible&quot; that must set/get calories and expiration date, since i don't know how to attach  those attibutes to the subclass i got that idea\n(i thought about using the Edible as direct subclass of Product but there are packaged items that are edible and not, so i don't know how to solve the inheritance problem. also i was asked to use edible as an interface)\nagain, sorry for bad english</p>\n<p>edit: all the mentioned classes are abstract classes</p>\n"},{"tags":["java","git","intellij-idea","bitbucket"],"comments":[{"owner":{"account_id":3228322,"reputation":2343,"user_id":2724125,"accept_rate":80,"display_name":"Amit G"},"score":0,"creation_date":1524043421,"post_id":28142361,"comment_id":86807114,"body_markdown":"all see https://stackoverflow.com/questions/43543035/change-git-login-username-in-intellij-idea-rubymine-etc","body":"all see <a href=\"https://stackoverflow.com/questions/43543035/change-git-login-username-in-intellij-idea-rubymine-etc\" title=\"change git login username in intellij idea rubymine etc\">stackoverflow.com/questions/43543035/&hellip;</a>"},{"owner":{"account_id":387784,"reputation":25306,"user_id":746347,"accept_rate":67,"display_name":"mixel"},"score":0,"creation_date":1562834066,"post_id":28142361,"comment_id":100504719,"body_markdown":"To solve &quot;Auth fail&quot; error see https://stackoverflow.com/a/56984900/746347","body":"To solve &quot;Auth fail&quot; error see <a href=\"https://stackoverflow.com/a/56984900/746347\">stackoverflow.com/a/56984900/746347</a>"}],"answers":[{"tags":[],"owner":{"account_id":272850,"reputation":131,"user_id":4609336,"display_name":"sy677"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1442833571,"creation_date":1442833571,"answer_id":32693642,"question_id":28142361,"body_markdown":"This worked for me on Intellij 12:\r\n\r\nOpen settings -&gt; passwords, select &quot;Do not remember passwords&quot; and apply/ok.\r\n\r\nDo your VCS fetch/update/push/whatever and it should ask you for a password.\r\n\r\nCheck remember password and OK, it should do the VCS thing correctly.\r\n\r\nGo back to settings -&gt; passwords and switch it back to &quot;Remember on disk&quot;, then apply/ok.\r\n\r\n\r\n","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>This worked for me on Intellij 12:</p>\n\n<p>Open settings -> passwords, select \"Do not remember passwords\" and apply/ok.</p>\n\n<p>Do your VCS fetch/update/push/whatever and it should ask you for a password.</p>\n\n<p>Check remember password and OK, it should do the VCS thing correctly.</p>\n\n<p>Go back to settings -> passwords and switch it back to \"Remember on disk\", then apply/ok.</p>\n"},{"tags":[],"owner":{"account_id":934272,"reputation":413,"user_id":963507,"display_name":"moleksyuk"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1445262788,"creation_date":1445262788,"answer_id":33216283,"question_id":28142361,"body_markdown":"1. Go to [project]/.git directory.\r\n2. Open for edit &#39;config&#39; file.\r\n3. In &#39;[remote &quot;origin&quot;]&#39; section find &#39;url&#39; property and replace your old password with new one.\r\n4. Press Ctrl+T in Intellij IDEA to update project.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<ol>\n<li>Go to [project]/.git directory.</li>\n<li>Open for edit 'config' file.</li>\n<li>In '[remote \"origin\"]' section find 'url' property and replace your old password with new one.</li>\n<li>Press Ctrl+T in Intellij IDEA to update project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2178584,"reputation":2186,"user_id":1928647,"accept_rate":100,"display_name":"Idan Magled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461062398,"creation_date":1461062398,"answer_id":36715955,"question_id":28142361,"body_markdown":"I needed to change my user name and password in Intellij\r\nDid it by \r\n\r\n&gt; preferences -&gt; version control -&gt; GitHub\r\n\r\nThere you can change user name and password. \r\n ","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>I needed to change my user name and password in Intellij\nDid it by </p>\n\n<blockquote>\n  <p>preferences -> version control -> GitHub</p>\n</blockquote>\n\n<p>There you can change user name and password. </p>\n"},{"tags":[],"owner":{"account_id":8525378,"reputation":51,"user_id":6390986,"display_name":"C. Natesh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464356020,"creation_date":1464353331,"answer_id":37484006,"question_id":28142361,"body_markdown":"In Intellinj IDEA 14,  we can change the Git password by the following steps:\r\n\r\nFrom the menu bar :\r\n\r\n 1. Select File  -&gt;  Settings  -&gt;  Appearance &amp; Behavior  -&gt;  System Settings .\r\n\r\n 2. Choose Passwords.\r\n\r\n 3. Click the &#39;Master Password&#39; under &#39;Disk storage protection&#39;.\r\n\r\n 4. In the Password field, enter your `old password`. Enter your `new password` in the subsequent fields.\r\n\r\n 5. Now the master password will be changed.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>In Intellinj IDEA 14,  we can change the Git password by the following steps:</p>\n\n<p>From the menu bar :</p>\n\n<ol>\n<li><p>Select File  ->  Settings  ->  Appearance &amp; Behavior  ->  System Settings .</p></li>\n<li><p>Choose Passwords.</p></li>\n<li><p>Click the 'Master Password' under 'Disk storage protection'.</p></li>\n<li><p>In the Password field, enter your <code>old password</code>. Enter your <code>new password</code> in the subsequent fields.</p></li>\n<li><p>Now the master password will be changed.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":482321,"reputation":9702,"user_id":896663,"accept_rate":84,"display_name":"MozenRath"},"down_vote_count":0,"up_vote_count":238,"is_accepted":true,"score":238,"last_activity_date":1587576488,"creation_date":1466572703,"answer_id":37959112,"question_id":28142361,"body_markdown":"The easiest of all the above ways is to:\r\n\r\n 1. Go to Settings&gt;&gt;Appearance &amp; Behavior&gt;&gt;System Settings&gt;&gt;Passwords\r\n 2. Change the setting to not store passwords at all\r\n 3. Invalidate and restart IntelliJ\r\n 4. Go to Settings&gt;&gt;Version Control&gt;&gt;Git&gt;&gt;SSH executable: **Build-in**\r\n 5. Do a fetch/pull operation\r\n 6. Enter the password when prompted\r\n 7. Again go to Settings&gt;&gt;Appearance &amp; Behavior&gt;&gt;System Settings&gt;&gt;Passwords\r\n 8. This time select store passwords on disk(protected with master password)\r\n\r\nVoila!\r\n\r\nNote that this will not work if your password is in your URL itself. If that is the case then you need to follow the steps given by @moleksyuk [here][1]\r\n\r\nYou also choose to use the credentials helper option in IntelliJ to achieve similar functionality as suggested by Ramesh [here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33216283/896663\r\n  [2]: https://stackoverflow.com/a/59565351/896663","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>The easiest of all the above ways is to:</p>\n\n<ol>\n<li>Go to Settings>>Appearance &amp; Behavior>>System Settings>>Passwords</li>\n<li>Change the setting to not store passwords at all</li>\n<li>Invalidate and restart IntelliJ</li>\n<li>Go to Settings>>Version Control>>Git>>SSH executable: <strong>Build-in</strong></li>\n<li>Do a fetch/pull operation</li>\n<li>Enter the password when prompted</li>\n<li>Again go to Settings>>Appearance &amp; Behavior>>System Settings>>Passwords</li>\n<li>This time select store passwords on disk(protected with master password)</li>\n</ol>\n\n<p>Voila!</p>\n\n<p>Note that this will not work if your password is in your URL itself. If that is the case then you need to follow the steps given by @moleksyuk <a href=\"https://stackoverflow.com/a/33216283/896663\">here</a></p>\n\n<p>You also choose to use the credentials helper option in IntelliJ to achieve similar functionality as suggested by Ramesh <a href=\"https://stackoverflow.com/a/59565351/896663\">here</a></p>\n"},{"tags":[],"owner":{"account_id":9756229,"reputation":41,"user_id":7232869,"display_name":"w01ff"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545388303,"creation_date":1480537379,"answer_id":40897478,"question_id":28142361,"body_markdown":"For Mac users this could also be helpful: \r\n\r\nCredentials are stored in **Keychain Access.app**.\r\nYou can just change them there. ","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>For Mac users this could also be helpful: </p>\n\n<p>Credentials are stored in <strong>Keychain Access.app</strong>.\nYou can just change them there. </p>\n"},{"tags":[],"owner":{"account_id":4219570,"reputation":84,"user_id":3454668,"accept_rate":83,"display_name":"Pankaj Chauhan"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1490553454,"creation_date":1490553454,"answer_id":43032955,"question_id":28142361,"body_markdown":"IN Android Studio 2.3\r\n\r\n 1. Open Setting (CTRL+ALT+S)\r\n 2. Select Other Settings (at the end)\r\n 3. select Bitbucket\r\n\r\nHere you can change your new Password or User\r\n","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>IN Android Studio 2.3</p>\n\n<ol>\n<li>Open Setting (CTRL+ALT+S)</li>\n<li>Select Other Settings (at the end)</li>\n<li>select Bitbucket</li>\n</ol>\n\n<p>Here you can change your new Password or User</p>\n"},{"tags":[],"owner":{"account_id":7763963,"reputation":644,"user_id":5875734,"display_name":"M Singh Karnawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491546346,"creation_date":1491546346,"answer_id":43271085,"question_id":28142361,"body_markdown":"For Mac User Please Go to As Below:\r\n\r\n(First of all you must have installed bitbucket plugin)\r\n\r\nAndroid Studio -&gt; Preference -&gt; Other Settings -&gt; Bitbucket\r\n\r\nNow change your password and click on Test for verify it. Will also able to add SSH Key for login.\r\n\r\nAlso its depend on which plugin you used. Some have direct like\r\n\r\nAndroid Studio -&gt; Preference -&gt; Bitbucket linky","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>For Mac User Please Go to As Below:</p>\n\n<p>(First of all you must have installed bitbucket plugin)</p>\n\n<p>Android Studio -> Preference -> Other Settings -> Bitbucket</p>\n\n<p>Now change your password and click on Test for verify it. Will also able to add SSH Key for login.</p>\n\n<p>Also its depend on which plugin you used. Some have direct like</p>\n\n<p>Android Studio -> Preference -> Bitbucket linky</p>\n"},{"tags":[],"owner":{"account_id":1851619,"reputation":12683,"user_id":1678053,"accept_rate":60,"display_name":"galdin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506612792,"creation_date":1506612792,"answer_id":46473097,"question_id":28142361,"body_markdown":"For the record, if you&#39;ve already configured Git on your terminal, there&#39;s an option in preferences to use native Git rather than the built-in (bundled) one.\r\n\r\n[![Screenshot][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/gBiMp.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>For the record, if you've already configured Git on your terminal, there's an option in preferences to use native Git rather than the built-in (bundled) one.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gBiMp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gBiMp.png\" alt=\"Screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":2011847,"reputation":873,"user_id":1800097,"accept_rate":73,"display_name":"borovsky"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1507306064,"creation_date":1507306064,"answer_id":46609811,"question_id":28142361,"body_markdown":"There is an option to clear passwords\r\n\r\n[![There is an option to clear passwords][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z4huw.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>There is an option to clear passwords</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z4huw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Z4huw.png\" alt=\"There is an option to clear passwords\"></a></p>\n"},{"tags":[],"owner":{"account_id":1579248,"reputation":2749,"user_id":1464963,"display_name":"oneklc"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1509038402,"creation_date":1509038402,"answer_id":46960257,"question_id":28142361,"body_markdown":"**Linux users** (tested on **ubuntu** 14.04)\r\n\r\nby default (on linux and mac) pycharm uses the OS&#39;s password manager. \r\nTo access the passwords on ubuntu open the program &quot;Passwords and Keys&quot;.\r\n\r\n[![icon for password manager][2]][2]\r\n\r\n\r\nOnce open filter on &quot;idea&quot; and edit the relevant passwords. \r\n\r\n[![pict of password editor dialog box][1]][1]\r\n\r\nNo need to restart pycharm for me.  \r\nUsing pycharm 17.2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CnnlN.png\r\n  [2]: https://i.stack.imgur.com/tilUA.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p><strong>Linux users</strong> (tested on <strong>ubuntu</strong> 14.04)</p>\n\n<p>by default (on linux and mac) pycharm uses the OS's password manager. \nTo access the passwords on ubuntu open the program \"Passwords and Keys\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/tilUA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tilUA.png\" alt=\"icon for password manager\"></a></p>\n\n<p>Once open filter on \"idea\" and edit the relevant passwords. </p>\n\n<p><a href=\"https://i.stack.imgur.com/CnnlN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CnnlN.png\" alt=\"pict of password editor dialog box\"></a></p>\n\n<p>No need to restart pycharm for me.<br>\nUsing pycharm 17.2</p>\n"},{"tags":[],"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517574338,"creation_date":1517574338,"answer_id":48582658,"question_id":28142361,"body_markdown":"In my case, I got a CAPTCHA error. If you get that, first logout/login to Bitbucket, Github, .... on the website and enter the required captcha.\r\n\r\nAfter that, try again from intellij and it should prompt for another password.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>In my case, I got a CAPTCHA error. If you get that, first logout/login to Bitbucket, Github, .... on the website and enter the required captcha.</p>\n\n<p>After that, try again from intellij and it should prompt for another password.</p>\n"},{"tags":[],"owner":{"account_id":12929719,"reputation":2931,"user_id":9349129,"display_name":"Dushmantha"},"down_vote_count":0,"up_vote_count":177,"is_accepted":false,"score":177,"last_activity_date":1529322406,"creation_date":1529322406,"answer_id":50908824,"question_id":28142361,"body_markdown":"After trying several answers, I was finally able to solve this issue (on window 10),\r\n \r\n    &gt;git fetch\r\n    remote: HTTP Basic: Access denied\r\n    fatal: Authentication failed for &#39;http://gitlab.abc.net/V4/VH.git/&#39;\r\n\r\nBy updating the password stored in Git Credential Manger for Windows(GCM),\r\n\r\n    Control Panel-&gt;User Accounts -&gt; Windows Credentials","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>After trying several answers, I was finally able to solve this issue (on window 10),</p>\n\n<pre><code>&gt;git fetch\nremote: HTTP Basic: Access denied\nfatal: Authentication failed for 'http://gitlab.abc.net/V4/VH.git/'\n</code></pre>\n\n<p>By updating the password stored in Git Credential Manger for Windows(GCM),</p>\n\n<pre><code>Control Panel-&gt;User Accounts -&gt; Windows Credentials\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536253977,"creation_date":1536253977,"answer_id":52209164,"question_id":28142361,"body_markdown":"This is how I solved it on Windows. I have git installed separately, and Idea just picks git&#39;s options automatically (Default Idea config, as I would get from clean installer).\r\n\r\nOpen the project in the command line. Make some changes there. And commit and push files via git which is installed on my machine. During push it will open a windows asking me to enter username and password. After that, when I make a commit-push from idea, it will simply work.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>This is how I solved it on Windows. I have git installed separately, and Idea just picks git's options automatically (Default Idea config, as I would get from clean installer).</p>\n\n<p>Open the project in the command line. Make some changes there. And commit and push files via git which is installed on my machine. During push it will open a windows asking me to enter username and password. After that, when I make a commit-push from idea, it will simply work.</p>\n"},{"tags":[],"owner":{"account_id":7494509,"reputation":143,"user_id":5695225,"display_name":"N. Chebotarev"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1551337505,"creation_date":1551337505,"answer_id":54920140,"question_id":28142361,"body_markdown":"Go to VCS&gt;Git&gt;Remotes then remove your remote url from the list and add again. Git will ask for a password after next git operation (push, pull, etc). \r\nNOTE: Don&#39;t forget to specify username in url or you will get auth error.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>Go to VCS>Git>Remotes then remove your remote url from the list and add again. Git will ask for a password after next git operation (push, pull, etc). \nNOTE: Don't forget to specify username in url or you will get auth error.</p>\n"},{"tags":[],"owner":{"account_id":6168464,"reputation":3362,"user_id":4807532,"display_name":"Alp Altunel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625949828,"creation_date":1559250492,"answer_id":56385664,"question_id":28142361,"body_markdown":"For MACOS users\r\n\r\nif you see credentials failed but you are sure that is is working previously then:\r\n\r\nprobably you made a software update to the system. System uses git bundled with xcode. its better to open Xcode and click install extra components on startup of xcode. it will say installing components. when you accept the license agreement if will start working again.\r\n\r\nin short:\r\n\r\nopen Xcode, install additional components. accept user licence agreement.\r\n\r\non Xcode updates this step should be repeated.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>For MACOS users</p>\n<p>if you see credentials failed but you are sure that is is working previously then:</p>\n<p>probably you made a software update to the system. System uses git bundled with xcode. its better to open Xcode and click install extra components on startup of xcode. it will say installing components. when you accept the license agreement if will start working again.</p>\n<p>in short:</p>\n<p>open Xcode, install additional components. accept user licence agreement.</p>\n<p>on Xcode updates this step should be repeated.</p>\n"},{"tags":[],"owner":{"account_id":5000359,"reputation":1093,"user_id":4019585,"accept_rate":75,"display_name":"Akash Raghav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560852899,"creation_date":1560852899,"answer_id":56646811,"question_id":28142361,"body_markdown":"None of above worked for me. Using Android Studio 3.5 Beta 4. \r\nI even selected &quot;do not save, forget passwords after restart&quot; in file&gt;settings&gt;appearance &amp; behavior&gt;System settings&gt;password\r\n\r\nSo What I did. \r\n\r\nVCS&gt;git&gt;remotes\r\n\r\n- remove the repo and add again.\r\n- will ask for credentials.\r\n- then try git fetch in terminal. \r\n- Will prompt for password.\r\n- Issue fixed. :D","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>None of above worked for me. Using Android Studio 3.5 Beta 4. \nI even selected \"do not save, forget passwords after restart\" in file>settings>appearance &amp; behavior>System settings>password</p>\n\n<p>So What I did. </p>\n\n<p>VCS>git>remotes</p>\n\n<ul>\n<li>remove the repo and add again.</li>\n<li>will ask for credentials.</li>\n<li>then try git fetch in terminal. </li>\n<li>Will prompt for password.</li>\n<li>Issue fixed. :D</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9830287,"reputation":691,"user_id":7282061,"display_name":"Ramesh"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1577976756,"creation_date":1577976756,"answer_id":59565351,"question_id":28142361,"body_markdown":"Doing the following steps helped in my case:\r\n\r\n1) open Settings\r\n2) go to Git and Uncheck &quot;Use credential helper&quot; checkbox\r\n3) Do git pull\r\n4) Enter password in the pop up dialog\r\n\r\nGit operations will now work fine in IntelliJ[![enter image description here][1]][1]!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cyGBG.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>Doing the following steps helped in my case:</p>\n\n<p>1) open Settings\n2) go to Git and Uncheck \"Use credential helper\" checkbox\n3) Do git pull\n4) Enter password in the pop up dialog</p>\n\n<p>Git operations will now work fine in IntelliJ<a href=\"https://i.stack.imgur.com/cyGBG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cyGBG.png\" alt=\"enter image description here\"></a>!</p>\n"},{"tags":[],"owner":{"account_id":141892,"reputation":4512,"user_id":2275962,"display_name":"Taner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581494199,"creation_date":1581494199,"answer_id":60183560,"question_id":28142361,"body_markdown":"You can change your password from settings screen (Ctrl + Alt + S by default) as attached screenshot. \r\nAfter clearing, on the firts remote operation (like pull/push, etc.) it&#39;ll ask you your credentials)\r\n\r\n**IMPORTANT:** Take a copy of the file before this operation.\r\n\r\n[![Settings Screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3NZJN.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>You can change your password from settings screen (Ctrl + Alt + S by default) as attached screenshot. \nAfter clearing, on the firts remote operation (like pull/push, etc.) it'll ask you your credentials)</p>\n\n<p><strong>IMPORTANT:</strong> Take a copy of the file before this operation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3NZJN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3NZJN.png\" alt=\"Settings Screen\"></a></p>\n"},{"tags":[],"owner":{"account_id":11046149,"reputation":1213,"user_id":8112182,"display_name":"HongSec Park"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599103265,"creation_date":1599103265,"answer_id":63716304,"question_id":28142361,"body_markdown":"git credential-manager  clear\r\nTarget Url:\r\nhttps://bitbucketxxxxxxxxxxxxxxxx.git\r\n","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>git credential-manager  clear\nTarget Url:\n<a href=\"https://bitbucketxxxxxxxxxxxxxxxx.git\" rel=\"nofollow noreferrer\">https://bitbucketxxxxxxxxxxxxxxxx.git</a></p>\n"},{"tags":[],"owner":{"account_id":9662903,"reputation":81,"user_id":7170322,"display_name":"Abhijith"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1603872621,"creation_date":1603872621,"answer_id":64568767,"question_id":28142361,"body_markdown":"The following approach worked for me:\r\n\r\nCreate a new personal access token in GitHub and configure the connection in IntelliJ as per link: https://www.jetbrains.com/help/idea/github.html\r\n\r\nThen, on IntelliJ, Settings-Version Control-Git screen, unclick the &quot;Use credential helper&quot; option.\r\n\r\n[![IntelliJ Git Settings][1]][1]\r\n\r\nThen do an restart with cache invalidation (File - Invalidate Caches / Restart - Invalidate and Restart)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ocX0t.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>The following approach worked for me:</p>\n<p>Create a new personal access token in GitHub and configure the connection in IntelliJ as per link: <a href=\"https://www.jetbrains.com/help/idea/github.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/github.html</a></p>\n<p>Then, on IntelliJ, Settings-Version Control-Git screen, unclick the &quot;Use credential helper&quot; option.</p>\n<p><a href=\"https://i.stack.imgur.com/ocX0t.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ocX0t.png\" alt=\"IntelliJ Git Settings\" /></a></p>\n<p>Then do an restart with cache invalidation (File - Invalidate Caches / Restart - Invalidate and Restart)</p>\n"},{"tags":[],"owner":{"account_id":3910972,"reputation":129,"user_id":3236321,"display_name":"mjassani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607940906,"creation_date":1607940906,"answer_id":65287182,"question_id":28142361,"body_markdown":"On Windows, just remove the remote repository (Git -&gt; manage remotes ...) and add it again. you will be prompted to enter username and the new password. ","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>On Windows, just remove the remote repository (Git -&gt; manage remotes ...) and add it again. you will be prompted to enter username and the new password.</p>\n"},{"tags":[],"owner":{"account_id":5991999,"reputation":723,"user_id":5478948,"display_name":"java.nazif"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617185305,"creation_date":1617185305,"answer_id":66885671,"question_id":28142361,"body_markdown":"The steps resolved issue for me in Windows\r\n\r\n1. Go to Control Panel\r\n\r\n2. Search for &quot;Credentials&quot;\r\n\r\n3. Select Windows Credentials\r\n\r\n4. Select github credentials from the list\r\n\r\n5. Select edit and update your password then restart Intellij","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>The steps resolved issue for me in Windows</p>\n<ol>\n<li><p>Go to Control Panel</p>\n</li>\n<li><p>Search for &quot;Credentials&quot;</p>\n</li>\n<li><p>Select Windows Credentials</p>\n</li>\n<li><p>Select github credentials from the list</p>\n</li>\n<li><p>Select edit and update your password then restart Intellij</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19012011,"reputation":83,"user_id":13877761,"display_name":"Janith Priyankara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631888054,"creation_date":1631888054,"answer_id":69224897,"question_id":28142361,"body_markdown":"In my case I have cloned a project from **GitLab** to develop it. I did couple of commits too. But suddenly I had to change the access token to download another project. After that I couldn&#39;t do anything related to git in **CLION**. So what [moleksyuk][1]  has said is true.\r\n\r\n&gt;close IDE &gt; go to your local repo &gt; go to .git directory (show if it is hidden already) &gt; open the config file with a editor &gt; In there,\r\n\r\n[remote &quot;origin&quot;]\r\nurl = https://{yourname:access_token}@gitlab.yourorganization.com/1stdir/2nddir/your_project.git\r\n\r\nfetch = +refs/heads/*:refs/remotes/origin/*\r\n\r\nYou have to replace existing name and access token with the new ones.\r\n\r\nlooks like this(https://Janith:aBhsii6Usdjbsj@gitlab.yourorganization.com/1stdir/2nddir/your_project.git)\r\n\r\n&gt; save &gt; open IDE and do the git action.\r\n\r\n[1]: https://stackoverflow.com/a/33216283/13877761","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>In my case I have cloned a project from <strong>GitLab</strong> to develop it. I did couple of commits too. But suddenly I had to change the access token to download another project. After that I couldn't do anything related to git in <strong>CLION</strong>. So what <a href=\"https://stackoverflow.com/a/33216283/13877761\">moleksyuk</a>  has said is true.</p>\n<blockquote>\n<p>close IDE &gt; go to your local repo &gt; go to .git directory (show if it is hidden already) &gt; open the config file with a editor &gt; In there,</p>\n</blockquote>\n<p>[remote &quot;origin&quot;]\nurl = https://{yourname:access_token}@gitlab.yourorganization.com/1stdir/2nddir/your_project.git</p>\n<p>fetch = +refs/heads/<em>:refs/remotes/origin/</em></p>\n<p>You have to replace existing name and access token with the new ones.</p>\n<p>looks like this(https://Janith:aBhsii6Usdjbsj@gitlab.yourorganization.com/1stdir/2nddir/your_project.git)</p>\n<blockquote>\n<p>save &gt; open IDE and do the git action.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637969962,"creation_date":1637969962,"answer_id":70130992,"question_id":28142361,"body_markdown":"On Windows 10 go to:\r\n\r\n    Control Panel\\User Accounts\\Credential Manager\r\n\r\nUnder Generic Credentials find your repository URL, use Edit to change your password.\r\n\r\nAfter these steps, a pull should work correctly.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GetyA.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>On Windows 10 go to:</p>\n<pre><code>Control Panel\\User Accounts\\Credential Manager\n</code></pre>\n<p>Under Generic Credentials find your repository URL, use Edit to change your password.</p>\n<p>After these steps, a pull should work correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/GetyA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GetyA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8964761,"reputation":2289,"user_id":6685903,"display_name":"Ritu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640103262,"creation_date":1640103262,"answer_id":70438418,"question_id":28142361,"body_markdown":"Steps to change git remote username/password\r\n\r\n - Go to Control Panel\r\n - Search for Credential Manager\r\n - Click on Windows Credentials\r\n - In Generic Credential section ,there would be git url, update username and password","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>Steps to change git remote username/password</p>\n<ul>\n<li>Go to Control Panel</li>\n<li>Search for Credential Manager</li>\n<li>Click on Windows Credentials</li>\n<li>In Generic Credential section ,there would be git url, update username and password</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651765108,"creation_date":1651765108,"answer_id":72129927,"question_id":28142361,"body_markdown":"Recently Bitbucket has stopped supporting user/pass git https integration.\r\nSo I could no longer pull/fetch.\r\n\r\nTurns out that it wasn&#39;t necessary to change the GIT Username or &quot;authentication scheme&quot;(from UserCredentials to Token).\r\n\r\nAll I had to is:\r\n\r\n- Please grab an app password (or generate on via Bitbucket Web UI), and use it to authenticate.\r\n- Use your **Bitbucket username** as a login, and **app password** as a password.\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/360003444939/comments/360000461679","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>Recently Bitbucket has stopped supporting user/pass git https integration.\nSo I could no longer pull/fetch.</p>\n<p>Turns out that it wasn't necessary to change the GIT Username or &quot;authentication scheme&quot;(from UserCredentials to Token).</p>\n<p>All I had to is:</p>\n<ul>\n<li>Please grab an app password (or generate on via Bitbucket Web UI), and use it to authenticate.</li>\n<li>Use your <strong>Bitbucket username</strong> as a login, and <strong>app password</strong> as a password.</li>\n</ul>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003444939/comments/360000461679\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003444939/comments/360000461679</a></p>\n"},{"tags":[],"owner":{"account_id":20076447,"reputation":127,"user_id":14720089,"display_name":"Michael Goppelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659595647,"creation_date":1659595647,"answer_id":73231423,"question_id":28142361,"body_markdown":"I had to remove it from the git credential manager. \r\nAfter executing\r\n\r\n    git config --global --unset credential.helper\r\n\r\nthe password prompt came back @ IntelliJ 2022.2","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>I had to remove it from the git credential manager.\nAfter executing</p>\n<pre><code>git config --global --unset credential.helper\n</code></pre>\n<p>the password prompt came back @ IntelliJ 2022.2</p>\n"},{"tags":[],"owner":{"account_id":6347321,"reputation":89,"user_id":4927433,"display_name":"M R Javeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692712947,"creation_date":1692712947,"answer_id":76954097,"question_id":28142361,"body_markdown":"\r\n 1. Close all instances of IntelliJ  \r\n 2. Start a new session of intelliJ\r\n 3. Enter &quot;git pull&quot; command in intelliJ terminal and it prompts for userId/password.\r\n\r\n \r\n\r\nJaveed.mca@gmail.com","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<ol>\n<li>Close all instances of IntelliJ</li>\n<li>Start a new session of intelliJ</li>\n<li>Enter &quot;git pull&quot; command in intelliJ terminal and it prompts for userId/password.</li>\n</ol>\n<p>Javeed.mca@gmail.com</p>\n"}],"owner":{"account_id":4835682,"reputation":3612,"user_id":3902473,"accept_rate":48,"display_name":"Momo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319711,"favorite_count":0,"down_vote_count":0,"up_vote_count":187,"accepted_answer_id":37959112,"answer_count":29,"score":187,"last_activity_date":1692712947,"creation_date":1422225096,"question_id":28142361,"body_markdown":"I recently changed my Bitbucket password for security reasons. However, IntelliJ didn&#39;t update my repository to the new credentials, so it stops me from pulling/pushing anything to my repository. I am not using any plugins for this, just the integrated VCS operations inside the IDE.\r\n\r\nEvery time I pull/push, this pops out:\r\n\r\n&gt; fatal: Authentication failed for     &#39;https://momothereal:xxxxxxxxxxxx@bitbucket.org/team/repo.git/\r\n\r\nWhere **xxxxxxxxxxxx** is my old password. I think changing this remote address with the correct password would fix it, though I cannot find where to do so.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>I recently changed my Bitbucket password for security reasons. However, IntelliJ didn't update my repository to the new credentials, so it stops me from pulling/pushing anything to my repository. I am not using any plugins for this, just the integrated VCS operations inside the IDE.</p>\n\n<p>Every time I pull/push, this pops out:</p>\n\n<blockquote>\n  <p>fatal: Authentication failed for     '<a href=\"https://momothereal:xxxxxxxxxxxx@bitbucket.org/team/repo.git/\">https://momothereal:xxxxxxxxxxxx@bitbucket.org/team/repo.git/</a></p>\n</blockquote>\n\n<p>Where <strong>xxxxxxxxxxxx</strong> is my old password. I think changing this remote address with the correct password would fix it, though I cannot find where to do so.</p>\n"},{"tags":["java","intellij-idea","ant","breakpoints","bytecode"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1524223798,"post_id":49934284,"comment_id":86896911,"body_markdown":"Have you tried to clean/rebuild your project after adding debug options?","body":"Have you tried to clean/rebuild your project after adding debug options?"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1524223843,"post_id":49934284,"comment_id":86896944,"body_markdown":"Yes, I went way beyond this, even doing invalidate caches in IntelliJ, cleaning, restarting.  I gave up...I spent the afternoon porting it to a Maven project, which now runs with breakpoints :-)","body":"Yes, I went way beyond this, even doing invalidate caches in IntelliJ, cleaning, restarting.  I gave up...I spent the afternoon porting it to a Maven project, which now runs with breakpoints :-)"},{"owner":{"account_id":3114066,"reputation":796,"user_id":2635251,"accept_rate":17,"display_name":"learner"},"score":0,"creation_date":1594006458,"post_id":49934284,"comment_id":110964891,"body_markdown":"I am highlighting the attributes which were missing in my case. It is easy to overlook. After adding the debug and debuglevel in compile target, the issue was resolved. Thank you.","body":"I am highlighting the attributes which were missing in my case. It is easy to overlook. After adding the debug and debuglevel in compile target, the issue was resolved. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":2311967,"reputation":41,"user_id":2029905,"display_name":"user2029905"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692712796,"creation_date":1556041725,"answer_id":55816798,"question_id":49934284,"body_markdown":"the same thing happened to me and it was because I had &quot;shrinkResources true&quot; and &quot;minifyEnabled true&quot; in Gradle App\r\n\r\n\r\n    buildTypes {\r\n            debug {\r\n                shrinkResources false\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }","title":"Line number info not available error while debugging Ant project in IntelliJ","body":"<p>the same thing happened to me and it was because I had &quot;shrinkResources true&quot; and &quot;minifyEnabled true&quot; in Gradle App</p>\n<pre><code>buildTypes {\n        debug {\n            shrinkResources false\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n</code></pre>\n"}],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5063,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1692712796,"creation_date":1524200312,"question_id":49934284,"body_markdown":"I am working with a fairly old Java Ant project, which I have imported into IntelliJ, it previously having been developed using Eclipse.  The project consists of a small number of servlets.  I am trying to debug from IntelliJ.  IntelliJ can connect to remote Tomcat on port 8000, but when I try to add a breakpoint I get the following dreaded error:\r\n\r\n&gt; Line numbers info is not available in class com.package.blah.SomeClass\r\n\r\nFollowing advice on SO and elsewhere, I modified my Ant build script to the following:\r\n\r\n    &lt;target name=&quot;compile&quot; depends=&quot;web-skeleton&quot;&gt;\r\n        &lt;ant dir=&quot;${deployment-wizard.dir}&quot; target=&quot;uberjar&quot;/&gt;\r\n        &lt;javac debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot; srcdir=&quot;${src.dir}&quot;\r\n            destdir=&quot;${build.dir}/WEB-INF/classes&quot; classpathref=&quot;project.class.path&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\nI added the `debug` and `debuglevel` lines to the above target which calls `javac`.  Also, I have tried running `javap -v SomeClass.class`, where I see things like the following:\r\n\r\n      line 94: 418\r\n      line 97: 433\r\n      line 98: 443\r\n    LocalVariableTable:\r\n      Start  Length  Slot  Name   Signature\r\n        343      22    13 decrypted   Ljava/lang/String;\r\n        370      11    13     e   Ljava/lang/Exception;\r\n        244     189     7 keyParam   Ljava/lang/String;\r\n        255     178     8 userParam   Ljava/lang/String;\r\n        266     167     9 environmentParam   Ljava/lang/String;\r\n\r\nI don&#39;t know if this means that the bytecode contains line numbers, but it certainly appears this way.\r\n\r\nI have also tried cleaning and rebuilding from scratch and doing an invalidate caches/restart from IntelliJ.\r\n\r\nI hope that someone can offer some help here.  As a last resort, I can try porting it to a Maven project, but I would prefer to avoid this unless absolutely necessary.","title":"Line number info not available error while debugging Ant project in IntelliJ","body":"<p>I am working with a fairly old Java Ant project, which I have imported into IntelliJ, it previously having been developed using Eclipse.  The project consists of a small number of servlets.  I am trying to debug from IntelliJ.  IntelliJ can connect to remote Tomcat on port 8000, but when I try to add a breakpoint I get the following dreaded error:</p>\n\n<blockquote>\n  <p>Line numbers info is not available in class com.package.blah.SomeClass</p>\n</blockquote>\n\n<p>Following advice on SO and elsewhere, I modified my Ant build script to the following:</p>\n\n<pre><code>&lt;target name=\"compile\" depends=\"web-skeleton\"&gt;\n    &lt;ant dir=\"${deployment-wizard.dir}\" target=\"uberjar\"/&gt;\n    &lt;javac debug=\"true\" debuglevel=\"lines,vars,source\" srcdir=\"${src.dir}\"\n        destdir=\"${build.dir}/WEB-INF/classes\" classpathref=\"project.class.path\"/&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>I added the <code>debug</code> and <code>debuglevel</code> lines to the above target which calls <code>javac</code>.  Also, I have tried running <code>javap -v SomeClass.class</code>, where I see things like the following:</p>\n\n<pre><code>  line 94: 418\n  line 97: 433\n  line 98: 443\nLocalVariableTable:\n  Start  Length  Slot  Name   Signature\n    343      22    13 decrypted   Ljava/lang/String;\n    370      11    13     e   Ljava/lang/Exception;\n    244     189     7 keyParam   Ljava/lang/String;\n    255     178     8 userParam   Ljava/lang/String;\n    266     167     9 environmentParam   Ljava/lang/String;\n</code></pre>\n\n<p>I don't know if this means that the bytecode contains line numbers, but it certainly appears this way.</p>\n\n<p>I have also tried cleaning and rebuilding from scratch and doing an invalidate caches/restart from IntelliJ.</p>\n\n<p>I hope that someone can offer some help here.  As a last resort, I can try porting it to a Maven project, but I would prefer to avoid this unless absolutely necessary.</p>\n"},{"tags":["java","multithreading","spring-batch","executorservice"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1693307384,"post_id":76954002,"comment_id":135740389,"body_markdown":"The requirement is not clear to me. Why do you need different job launchers? Can you explain what you are trying to achieve without referring to spring batch?","body":"The requirement is not clear to me. Why do you need different job launchers? Can you explain what you are trying to achieve without referring to spring batch?"},{"owner":{"account_id":29274876,"reputation":1,"user_id":22428825,"display_name":"Aleksandr Litvinenko"},"score":0,"creation_date":1693487737,"post_id":76954002,"comment_id":135769754,"body_markdown":"@MahmoudBenHassine, I will try to explain in very simple words, I have two services. Calling which should queue up for execution. The first service runs pretty fast and many execution threads can be used for it, the second service runs for a long time and requires a lot of memory, so I run it in one thread. I thought spring batch would be great for creating a processing queue with synchronization through a database.","body":"@MahmoudBenHassine, I will try to explain in very simple words, I have two services. Calling which should queue up for execution. The first service runs pretty fast and many execution threads can be used for it, the second service runs for a long time and requires a lot of memory, so I run it in one thread. I thought spring batch would be great for creating a processing queue with synchronization through a database."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1694073666,"post_id":76954002,"comment_id":135843951,"body_markdown":"Thank you for the update. So if I understand correctly, you have one job that uses service1 (fast) and writes data to a database, and another job that uses service2(slow) that reads data from the database. The database is used a staging area between the jobs. Is that correct?","body":"Thank you for the update. So if I understand correctly, you have one job that uses service1 (fast) and writes data to a database, and another job that uses service2(slow) that reads data from the database. The database is used a staging area between the jobs. Is that correct?"}],"owner":{"account_id":29274876,"reputation":1,"user_id":22428825,"display_name":"Aleksandr Litvinenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692712335,"creation_date":1692712335,"question_id":76954002,"body_markdown":"could you help me solve one problem.\r\n\r\nI need to allocate different number of threads for different tasks.\r\n\r\nI have jobs:\r\n\r\n```\r\n@Bean\r\npublic Job printJob(JobRepository jobRepository, Step printStep) {\r\n    return new JobBuilder(PRINT_JOB_NAME, jobRepository)\r\n            .start(printStep)\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic Job combineStatementJob(JobRepository jobRepository,\r\n                               Step combineStep) {\r\n    return new JobBuilder(COMBINE_STATEMENT_JOB_NAME, jobRepository)\r\n            .start(combineStep)\r\n            .build();\r\n}\r\n```\r\n\r\nand two joblaunchers\r\nfor job with one execution thread:\r\n\r\n\r\n```\r\n@Bean\r\npublic JobLauncher jobPrintLauncher(JobRepository jobRepository) throws Exception {\r\n    TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setThreadNamePrefix(TASK_PRINT_THREAD_PREFIX);\r\n    executor.initialize();\r\n    jobLauncher.setTaskExecutor(executor);\r\n    jobLauncher.setJobRepository(jobRepository);\r\n    jobLauncher.afterPropertiesSet();\r\n    return jobLauncher;\r\n}\r\n```\r\n\r\nfor job with COMBINE_CORE_POOL_SIZE execution thread:\r\n\r\n```\r\n@Bean\r\npublic JobLauncher jobCombineLauncher(JobRepository jobRepository, @Value(&quot;${async.combine-number-threads}&quot;) int numberOfThreads) throws Exception {\r\n     TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setThreadNamePrefix(TASK_COMBINE_THREAD_PREFIX);\r\n    executor.setCorePoolSize(numberOfThreads);\r\n    executor.initialize();\r\n    jobLauncher.setTaskExecutor(executor);\r\n    jobLauncher.setJobRepository(jobRepository);\r\n    jobLauncher.afterPropertiesSet();\r\n    return jobLauncher;\r\n}\r\n```\r\nsometimes there are moments when two job launchers interfere with each other and i have next exception -\r\n\r\n\r\n```\r\norg.springframework.dao.CannotAcquireLockException: PreparedStatementCallback; SQL [INSERT into BATCH_JOB_EXECUTION(JOB_EXECUTION_ID, JOB_INSTANCE_ID, START_TIME, END_TIME, STATUS, EXIT_CODE, EXIT_MESSAGE, VERSION, CREATE_TIME, LAST_UPDATED) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]; ERROR: could not serialize access due to read/write dependencies among transactions\r\n  Detail: Reason code: Canceled on identification as a pivot, during conflict in checking.\r\n  Hint: The transaction might succeed if retried.\r\n\tat org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:115)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1538)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1015)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1020)\r\n\tat org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:202)\r\n\tat org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:178)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:207)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy159.createJobExecution(Unknown Source)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145)\r\n\tat org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:70)\r\n```\r\n\r\n\r\nIs it ok to use different job laucners for different jobs, if so, how do I solve the exception problem?\r\n\r\n\r\n\r\n\r\nI need different tasks to be shared between executors. The only option I still see is to use critical sections so that job lanchers don&#39;t overlap.","title":"Spring Batch - Different job launcher for different job","body":"<p>could you help me solve one problem.</p>\n<p>I need to allocate different number of threads for different tasks.</p>\n<p>I have jobs:</p>\n<pre><code>@Bean\npublic Job printJob(JobRepository jobRepository, Step printStep) {\n    return new JobBuilder(PRINT_JOB_NAME, jobRepository)\n            .start(printStep)\n            .build();\n}\n\n@Bean\npublic Job combineStatementJob(JobRepository jobRepository,\n                               Step combineStep) {\n    return new JobBuilder(COMBINE_STATEMENT_JOB_NAME, jobRepository)\n            .start(combineStep)\n            .build();\n}\n</code></pre>\n<p>and two joblaunchers\nfor job with one execution thread:</p>\n<pre><code>@Bean\npublic JobLauncher jobPrintLauncher(JobRepository jobRepository) throws Exception {\n    TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setThreadNamePrefix(TASK_PRINT_THREAD_PREFIX);\n    executor.initialize();\n    jobLauncher.setTaskExecutor(executor);\n    jobLauncher.setJobRepository(jobRepository);\n    jobLauncher.afterPropertiesSet();\n    return jobLauncher;\n}\n</code></pre>\n<p>for job with COMBINE_CORE_POOL_SIZE execution thread:</p>\n<pre><code>@Bean\npublic JobLauncher jobCombineLauncher(JobRepository jobRepository, @Value(&quot;${async.combine-number-threads}&quot;) int numberOfThreads) throws Exception {\n     TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setThreadNamePrefix(TASK_COMBINE_THREAD_PREFIX);\n    executor.setCorePoolSize(numberOfThreads);\n    executor.initialize();\n    jobLauncher.setTaskExecutor(executor);\n    jobLauncher.setJobRepository(jobRepository);\n    jobLauncher.afterPropertiesSet();\n    return jobLauncher;\n}\n</code></pre>\n<p>sometimes there are moments when two job launchers interfere with each other and i have next exception -</p>\n<pre><code>org.springframework.dao.CannotAcquireLockException: PreparedStatementCallback; SQL [INSERT into BATCH_JOB_EXECUTION(JOB_EXECUTION_ID, JOB_INSTANCE_ID, START_TIME, END_TIME, STATUS, EXIT_CODE, EXIT_MESSAGE, VERSION, CREATE_TIME, LAST_UPDATED) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]; ERROR: could not serialize access due to read/write dependencies among transactions\n  Detail: Reason code: Canceled on identification as a pivot, during conflict in checking.\n  Hint: The transaction might succeed if retried.\n    at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:115)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)\n    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1538)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1015)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1020)\n    at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:202)\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:178)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:207)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\n    at jdk.proxy2/jdk.proxy2.$Proxy159.createJobExecution(Unknown Source)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145)\n    at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:70)\n</code></pre>\n<p>Is it ok to use different job laucners for different jobs, if so, how do I solve the exception problem?</p>\n<p>I need different tasks to be shared between executors. The only option I still see is to use critical sections so that job lanchers don't overlap.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","rabbitmq","amazon-mq"],"answers":[{"tags":[],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691758222,"creation_date":1691758222,"answer_id":76883694,"question_id":76883634,"body_markdown":"I guess here runtime `IOException` is not handle due to which it is failing.","title":"Spring boot not able to connect to AmazonMq(rabbitmq)","body":"<p>I guess here runtime <code>IOException</code> is not handle due to which it is failing.</p>\n"},{"tags":[],"owner":{"account_id":6611885,"reputation":454,"user_id":5106665,"display_name":"Ayush Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692250046,"creation_date":1692250046,"answer_id":76918698,"question_id":76883634,"body_markdown":"Got the issue fix it was ssl issue which can be overcome by using \r\n\r\n```CachingConnectio nFactory connectionFactory = newCachingConnectionFactory();```\r\n```connectionFactory.setUri(env.getProperty(&quot;rabbitmq.address&quot;))```\r\n","title":"Spring boot not able to connect to AmazonMq(rabbitmq)","body":"<p>Got the issue fix it was ssl issue which can be overcome by using</p>\n<p><code>CachingConnectio nFactory connectionFactory = newCachingConnectionFactory();</code>\n<code>connectionFactory.setUri(env.getProperty(&quot;rabbitmq.address&quot;))</code></p>\n"},{"tags":[],"owner":{"account_id":6611885,"reputation":454,"user_id":5106665,"display_name":"Ayush Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692711107,"creation_date":1692711107,"answer_id":76953825,"question_id":76883634,"body_markdown":"Able to do it as was trying to connect to ampqs URL&#39;s needed to declared addresses in spring boot.","title":"Spring boot not able to connect to AmazonMq(rabbitmq)","body":"<p>Able to do it as was trying to connect to ampqs URL's needed to declared addresses in spring boot.</p>\n"}],"owner":{"account_id":6611885,"reputation":454,"user_id":5106665,"display_name":"Ayush Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692711107,"creation_date":1691757641,"question_id":76883634,"body_markdown":"Hi I have a AmazonMq instance running rabbitmq and I am not able to connect to the broker using spring boot.\r\n\r\nI am able to connect rabbitmq locally but not amazonmq(rabbitmq). My spring boot configuration is:\r\n\r\n```\r\nspring.rabbitmq.ssl.enabled=true\r\nspring.rabbitmq.host=&lt;host&gt;\r\nspring.rabbitmq.port=&lt;port&gt;\r\nspring.rabbitmq.username=&lt;username&gt;\r\nspring.rabbitmq.password=&lt;password&gt;\r\nspring.rabbitmq.virtual-host=vhost\r\n```\r\nThe error that I am getting:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;rabbitTemplate&#39; defined in class path resource [com/exly/emailqueue/config/RabbitMqChildConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.amqp.rabbit.core.RabbitTemplate]: Factory method &#39;rabbitTemplate&#39; threw exception; nested exception is org.springframework.amqp.AmqpIOException: java.io.IOException\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 34 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.amqp.rabbit.core.RabbitTemplate]: Factory method &#39;rabbitTemplate&#39; threw exception; nested exception is org.springframework.amqp.AmqpIOException: java.io.IOException\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 47 common frames omitted\r\nCaused by: org.springframework.amqp.AmqpIOException: java.io.IOException\r\n\tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:602) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2173) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2146) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2126) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat com.exly.core.config.RabbitMQConfig.rabbitTemplate(RabbitMQConfig.java:44) ~[classes/:na]\r\n\tat com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373.CGLIB$rabbitTemplate$11(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373$$FastClassBySpringCGLIB$$bac46a78.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373.rabbitTemplate(&lt;generated&gt;) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_342]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_342]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_342]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_342]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 48 common frames omitted\r\nCaused by: java.io.IOException: null\r\n\tat com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:129) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:125) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:396) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1342) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectHostPort(AbstractConnectionFactory.java:653) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:618) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:565) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\t... 64 common frames omitted\r\nCaused by: com.rabbitmq.client.ShutdownSignalException: connection error\r\n\tat com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:502) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:326) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\t... 70 common frames omitted\r\nCaused by: java.io.EOFException: null\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:197) ~[na:1.8.0_342]\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:169) ~[na:1.8.0_342]\r\n\tat com.rabbitmq.client.impl.Frame.readFrom(Frame.java:113) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:184) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:665) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_342]\r\n```\r\nPlease suggest how can to make connection successfully.","title":"Spring boot not able to connect to AmazonMq(rabbitmq)","body":"<p>Hi I have a AmazonMq instance running rabbitmq and I am not able to connect to the broker using spring boot.</p>\n<p>I am able to connect rabbitmq locally but not amazonmq(rabbitmq). My spring boot configuration is:</p>\n<pre><code>spring.rabbitmq.ssl.enabled=true\nspring.rabbitmq.host=&lt;host&gt;\nspring.rabbitmq.port=&lt;port&gt;\nspring.rabbitmq.username=&lt;username&gt;\nspring.rabbitmq.password=&lt;password&gt;\nspring.rabbitmq.virtual-host=vhost\n</code></pre>\n<p>The error that I am getting:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'rabbitTemplate' defined in class path resource [com/exly/emailqueue/config/RabbitMqChildConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.amqp.rabbit.core.RabbitTemplate]: Factory method 'rabbitTemplate' threw exception; nested exception is org.springframework.amqp.AmqpIOException: java.io.IOException\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 34 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.amqp.rabbit.core.RabbitTemplate]: Factory method 'rabbitTemplate' threw exception; nested exception is org.springframework.amqp.AmqpIOException: java.io.IOException\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 47 common frames omitted\nCaused by: org.springframework.amqp.AmqpIOException: java.io.IOException\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:602) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2173) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2146) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2126) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at com.exly.core.config.RabbitMQConfig.rabbitTemplate(RabbitMQConfig.java:44) ~[classes/:na]\n    at com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373.CGLIB$rabbitTemplate$11(&lt;generated&gt;) ~[classes/:na]\n    at com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373$$FastClassBySpringCGLIB$$bac46a78.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\n    at com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373.rabbitTemplate(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_342]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_342]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_342]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_342]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 48 common frames omitted\nCaused by: java.io.IOException: null\n    at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:129) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:125) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:396) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1342) ~[amqp-client-5.14.2.jar:5.14.2]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectHostPort(AbstractConnectionFactory.java:653) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:618) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:565) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    ... 64 common frames omitted\nCaused by: com.rabbitmq.client.ShutdownSignalException: connection error\n    at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:502) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:326) ~[amqp-client-5.14.2.jar:5.14.2]\n    ... 70 common frames omitted\nCaused by: java.io.EOFException: null\n    at java.io.DataInputStream.readFully(DataInputStream.java:197) ~[na:1.8.0_342]\n    at java.io.DataInputStream.readFully(DataInputStream.java:169) ~[na:1.8.0_342]\n    at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:113) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:184) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:665) ~[amqp-client-5.14.2.jar:5.14.2]\n    at java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_342]\n</code></pre>\n<p>Please suggest how can to make connection successfully.</p>\n"},{"tags":["java","bots","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692710746,"creation_date":1692710746,"answer_id":76953788,"question_id":76953710,"body_markdown":"This line will always return null, for every message id:\r\n\r\n```java\r\nchannel.getHistory().getMessageById(messageID)\r\n```\r\n\r\nAs per the documentation:\r\n\r\n&gt; From [getHistory](https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#getHistory())\r\n&gt; \r\n&gt; Creates a new MessageHistory object for each call of this method\r\n\r\n&gt; From [MessageHistory](https://docs.jda.wiki/net/dv8tion/jda/api/entities/MessageHistory.html#getMessageById(long))\r\n&gt; \r\n&gt; If a Message with the provided id has not already been retrieved (thus, doesn&#39;t exist in this MessageHistory object), then this method returns null. \r\n\r\nSince you haven&#39;t called any of the retrieve methods, such as `retrievePast`, the retrieved message cache is empty.\r\n\r\nYou don&#39;t want to retrieve the message anyway, since you can add reactions without the message object.\r\n\r\n```java\r\nchannel.addReactionById(messageId, emoji).queue();\r\n```\r\n\r\nSee [addReactionById](https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#addReactionById(long,net.dv8tion.jda.api.entities.emoji.Emoji)).\r\n\r\nIf you *do* want to retrieve a message, use [retrieveMessageById](https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#retrieveMessageById(long)) instead.\r\n\r\n","title":"getMessageById returns null","body":"<p>This line will always return null, for every message id:</p>\n<pre class=\"lang-java prettyprint-override\"><code>channel.getHistory().getMessageById(messageID)\n</code></pre>\n<p>As per the documentation:</p>\n<blockquote>\n<p>From <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#getHistory()\" rel=\"nofollow noreferrer\">getHistory</a></p>\n<p>Creates a new MessageHistory object for each call of this method</p>\n</blockquote>\n<blockquote>\n<p>From <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/entities/MessageHistory.html#getMessageById(long)\" rel=\"nofollow noreferrer\">MessageHistory</a></p>\n<p>If a Message with the provided id has not already been retrieved (thus, doesn't exist in this MessageHistory object), then this method returns null.</p>\n</blockquote>\n<p>Since you haven't called any of the retrieve methods, such as <code>retrievePast</code>, the retrieved message cache is empty.</p>\n<p>You don't want to retrieve the message anyway, since you can add reactions without the message object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>channel.addReactionById(messageId, emoji).queue();\n</code></pre>\n<p>See <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#addReactionById(long,net.dv8tion.jda.api.entities.emoji.Emoji)\" rel=\"nofollow noreferrer\">addReactionById</a>.</p>\n<p>If you <em>do</em> want to retrieve a message, use <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#retrieveMessageById(long)\" rel=\"nofollow noreferrer\">retrieveMessageById</a> instead.</p>\n"}],"owner":{"account_id":25934903,"reputation":5,"user_id":19655374,"display_name":"RatherCruel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76953788,"answer_count":1,"score":0,"last_activity_date":1692710780,"creation_date":1692710173,"question_id":76953710,"body_markdown":"This code supposed to add reactions on a specific message using ID it got from slash-command. It gets the channel&#39;s and message&#39;s IDs perfectly but when it goes to searching for the message to add reactions the message is `null`. I believe the problem is in `messageReactionAdd()` method. The method gets all it needs to add reactions.\r\n\r\n```\r\npackage org.rathercruel.bot.commands.roles;\r\n\r\nimport net.dv8tion.jda.api.entities.Guild;\r\nimport net.dv8tion.jda.api.entities.Message;\r\nimport net.dv8tion.jda.api.entities.channel.concrete.TextChannel;\r\nimport net.dv8tion.jda.api.entities.emoji.Emoji;\r\nimport net.dv8tion.jda.api.events.interaction.command.SlashCommandInteractionEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SetRoleMessage extends ListenerAdapter {\r\n\r\n    @Override\r\n    public void onSlashCommandInteraction(SlashCommandInteractionEvent event) {\r\n        if (event.getName().equalsIgnoreCase(&quot;set-message-reactions&quot;)) {\r\n            String channelID = event.getChannel().getId();\r\n            String messageID = event.getOption(&quot;message-id&quot;).getAsString();\r\n\r\n            Guild guild = event.getGuild();\r\n\r\n            List&lt;Emoji&gt; newEmojiList = new ArrayList&lt;&gt;();\r\n\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F5FD&quot;)); // Statue of Liberty [0]\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+26A1&quot;)); // Voltage\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F6B0&quot;)); // Glass of water\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F4BB&quot;)); // computer\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F413&quot;)); // Rooster\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F414&quot;)); // Chicken\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F480&quot;)); // Skull [6]\r\n\r\n            // call the problem method\r\n            messageReactionAdd(event, channelID, messageID, newEmojiList);\r\n        }\r\n    }\r\n\r\n    private void messageReactionAdd(SlashCommandInteractionEvent event, String channelID, String messageID, List&lt;Emoji&gt; emojiList) {\r\n        Guild guild = event.getGuild();\r\n        TextChannel channel = guild.getTextChannelById(channelID);\r\n        Message message = channel.getHistory().getMessageById(messageID);\r\n\r\n        if (message != null) {\r\n            for (int i = 0; i &lt; emojiList.size(); i++) {\r\n                message.addReaction(emojiList.get(i)).queue();\r\n            }\r\n        // Returns this code:\r\n        } else {\r\n            event.reply(&quot;Unknown message.&quot;).setEphemeral(true).queue();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried to use different variables such as `String` and `long` but result is the same in both cases. Also I&#39;ve tried to find the message inside the `onSlashCommandInteraction()` method.","title":"getMessageById returns null","body":"<p>This code supposed to add reactions on a specific message using ID it got from slash-command. It gets the channel's and message's IDs perfectly but when it goes to searching for the message to add reactions the message is <code>null</code>. I believe the problem is in <code>messageReactionAdd()</code> method. The method gets all it needs to add reactions.</p>\n<pre><code>package org.rathercruel.bot.commands.roles;\n\nimport net.dv8tion.jda.api.entities.Guild;\nimport net.dv8tion.jda.api.entities.Message;\nimport net.dv8tion.jda.api.entities.channel.concrete.TextChannel;\nimport net.dv8tion.jda.api.entities.emoji.Emoji;\nimport net.dv8tion.jda.api.events.interaction.command.SlashCommandInteractionEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SetRoleMessage extends ListenerAdapter {\n\n    @Override\n    public void onSlashCommandInteraction(SlashCommandInteractionEvent event) {\n        if (event.getName().equalsIgnoreCase(&quot;set-message-reactions&quot;)) {\n            String channelID = event.getChannel().getId();\n            String messageID = event.getOption(&quot;message-id&quot;).getAsString();\n\n            Guild guild = event.getGuild();\n\n            List&lt;Emoji&gt; newEmojiList = new ArrayList&lt;&gt;();\n\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F5FD&quot;)); // Statue of Liberty [0]\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+26A1&quot;)); // Voltage\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F6B0&quot;)); // Glass of water\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F4BB&quot;)); // computer\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F413&quot;)); // Rooster\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F414&quot;)); // Chicken\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F480&quot;)); // Skull [6]\n\n            // call the problem method\n            messageReactionAdd(event, channelID, messageID, newEmojiList);\n        }\n    }\n\n    private void messageReactionAdd(SlashCommandInteractionEvent event, String channelID, String messageID, List&lt;Emoji&gt; emojiList) {\n        Guild guild = event.getGuild();\n        TextChannel channel = guild.getTextChannelById(channelID);\n        Message message = channel.getHistory().getMessageById(messageID);\n\n        if (message != null) {\n            for (int i = 0; i &lt; emojiList.size(); i++) {\n                message.addReaction(emojiList.get(i)).queue();\n            }\n        // Returns this code:\n        } else {\n            event.reply(&quot;Unknown message.&quot;).setEphemeral(true).queue();\n        }\n    }\n}\n</code></pre>\n<p>I've tried to use different variables such as <code>String</code> and <code>long</code> but result is the same in both cases. Also I've tried to find the message inside the <code>onSlashCommandInteraction()</code> method.</p>\n"},{"tags":["java","html","spring-boot","spring-security","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":29229965,"reputation":11,"user_id":22393894,"display_name":"FIDSTONE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692710682,"creation_date":1692710682,"answer_id":76953785,"question_id":76906748,"body_markdown":"I found the problem, the point is that you need to address the id with capital characters\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;settings_format&quot;&gt;\r\n      &lt;label th:each = &quot;format : ${Format}&quot;           th:attr=&quot;for=${format.ID}&quot; class=&quot;btn_order&quot;&gt;\r\n        &lt;sup th:text = &quot;${format.title}&quot;/&gt;\r\n        &lt;input class = &quot;radio_settings&quot; name = &quot;format_id&quot; th:attr=&quot;value=${format.ID},id=${format.ID}&quot; type=&quot;radio&quot; hidden&gt;\r\n      &lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Thymeleaf throws an error when outputting the object id to the template","body":"<p>I found the problem, the point is that you need to address the id with capital characters</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"settings_format\"&gt;\n  &lt;label th:each = \"format : ${Format}\"           th:attr=\"for=${format.ID}\" class=\"btn_order\"&gt;\n    &lt;sup th:text = \"${format.title}\"/&gt;\n    &lt;input class = \"radio_settings\" name = \"format_id\" th:attr=\"value=${format.ID},id=${format.ID}\" type=\"radio\" hidden&gt;\n  &lt;/label&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":29229965,"reputation":11,"user_id":22393894,"display_name":"FIDSTONE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76953785,"answer_count":1,"score":0,"last_activity_date":1692710682,"creation_date":1692109740,"question_id":76906748,"body_markdown":"I have a object `format`, when I try to output to the id value, thymeleaf throws an error.\r\nSpring Security dependency is also enabled.\r\n\r\nTemplate code\r\n```\r\n&lt;label th:each = &quot;format : ${Format}&quot; th:attr=&quot;for=&#39;label&#39; + ${format.title}&quot; class=&quot;btn_order&quot;&gt;\r\n    &lt;sup th:text = &quot;${format.title}&quot;/&gt;\r\n    &lt;sup th:text = &quot;${format.price}&quot;/&gt;\r\n    &lt;input class = &quot;radio_settings&quot; name = &quot;price_reload&quot; th:value=&quot;${format.id}&quot;   th:attr=&quot;id=&#39;label&#39; + ${format.title}&quot; type=&quot;radio&quot; hidden&gt;\r\n&lt;/label&gt;\r\n```\r\nEntity Format\r\n```\r\n@Entity\r\n@Table(name = &quot;Format&quot;)\r\npublic class Format {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, length = 50)\r\n    private String title;\r\n\r\n    @Column(nullable = false)\r\n    private Integer lenght;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer width;\r\n\r\n    @Column(nullable = false)\r\n    private Integer height;\r\n\r\n    @Column(nullable = false)\r\n    private Integer weight;\r\n\r\n    @Column(nullable = false)\r\n    private Float price;\r\n\r\n```\r\n\r\n\r\nController\r\n```\r\n@GetMapping()\r\n    public String getWindowOrder(Model model){\r\n        model.addAttribute(&quot;title&quot;,&quot;Create order&quot;);\r\n        model.addAttribute(&quot;Format&quot;, formatService.getByAll());\r\n        return &quot;window_order&quot;;\r\n    }\r\n```\r\nService\r\n```\r\n@Service\r\npublic class FormatService {\r\n\r\n@Autowired\r\nprivate FormatInterface iFormat;\r\n\r\npublic List&lt;Format&gt; getByAll (){\r\n        return iFormat.findByAll();\r\n    }\r\n}\r\n```\r\nWebConfigSecurity\r\n\r\n```\r\n@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n\t\t\t.csrf(AbstractHttpConfigurer::disable)\r\n\t\t\t.authorizeHttpRequests((requests) -&gt; requests\r\n\t\t\t\t.requestMatchers(&quot;/&quot;, &quot;/registration/**&quot;,  &quot;/create/**&quot;, &quot;/cart&quot; ,&quot;/image/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;,&quot;/order&quot;,&quot;/img/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t)\r\n            .formLogin((form) -&gt; form\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t)\r\n\t\t\t.logout((logout) -&gt; logout.permitAll());\r\n\r\n\t\treturn http.build();\r\n    }\r\n\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder);\r\n    }\r\n```\r\nError\r\n\r\n```\r\nERROR 10344 --- [io-8080-exec-10] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-10] Exception processing template &quot;window_cart&quot;: An error happened during template parsing (template: &quot;class path resource [templates/window_order.html]&quot;)\r\n\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/window_order.html]&quot;)\r\n```\r\n\r\n\r\nAll other class data is displayed correctly. If you remove `th:value = &quot;${format.id}&quot;` , then the template is loaded.","title":"Thymeleaf throws an error when outputting the object id to the template","body":"<p>I have a object <code>format</code>, when I try to output to the id value, thymeleaf throws an error.\nSpring Security dependency is also enabled.</p>\n<p>Template code</p>\n<pre><code>&lt;label th:each = &quot;format : ${Format}&quot; th:attr=&quot;for='label' + ${format.title}&quot; class=&quot;btn_order&quot;&gt;\n    &lt;sup th:text = &quot;${format.title}&quot;/&gt;\n    &lt;sup th:text = &quot;${format.price}&quot;/&gt;\n    &lt;input class = &quot;radio_settings&quot; name = &quot;price_reload&quot; th:value=&quot;${format.id}&quot;   th:attr=&quot;id='label' + ${format.title}&quot; type=&quot;radio&quot; hidden&gt;\n&lt;/label&gt;\n</code></pre>\n<p>Entity Format</p>\n<pre><code>@Entity\n@Table(name = &quot;Format&quot;)\npublic class Format {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, length = 50)\n    private String title;\n\n    @Column(nullable = false)\n    private Integer lenght;\n    \n    @Column(nullable = false)\n    private Integer width;\n\n    @Column(nullable = false)\n    private Integer height;\n\n    @Column(nullable = false)\n    private Integer weight;\n\n    @Column(nullable = false)\n    private Float price;\n\n</code></pre>\n<p>Controller</p>\n<pre><code>@GetMapping()\n    public String getWindowOrder(Model model){\n        model.addAttribute(&quot;title&quot;,&quot;Create order&quot;);\n        model.addAttribute(&quot;Format&quot;, formatService.getByAll());\n        return &quot;window_order&quot;;\n    }\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\npublic class FormatService {\n\n@Autowired\nprivate FormatInterface iFormat;\n\npublic List&lt;Format&gt; getByAll (){\n        return iFormat.findByAll();\n    }\n}\n</code></pre>\n<p>WebConfigSecurity</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests((requests) -&gt; requests\n                .requestMatchers(&quot;/&quot;, &quot;/registration/**&quot;,  &quot;/create/**&quot;, &quot;/cart&quot; ,&quot;/image/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;,&quot;/order&quot;,&quot;/img/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .formLogin((form) -&gt; form\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n            )\n            .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder);\n    }\n</code></pre>\n<p>Error</p>\n<pre><code>ERROR 10344 --- [io-8080-exec-10] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-10] Exception processing template &quot;window_cart&quot;: An error happened during template parsing (template: &quot;class path resource [templates/window_order.html]&quot;)\n\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/window_order.html]&quot;)\n</code></pre>\n<p>All other class data is displayed correctly. If you remove <code>th:value = &quot;${format.id}&quot;</code> , then the template is loaded.</p>\n"},{"tags":["java","mysql","xml","parsing","jdbc"],"comments":[{"owner":{"account_id":3187377,"reputation":17941,"user_id":2780943,"accept_rate":55,"display_name":"user184994"},"score":0,"creation_date":1402003779,"post_id":24070399,"comment_id":37118311,"body_markdown":"Would you mind if the answer used Jsoup (another xml parser) instead?","body":"Would you mind if the answer used Jsoup (another xml parser) instead?"},{"owner":{"account_id":4540835,"reputation":364,"user_id":3688755,"accept_rate":80,"display_name":"djbhindi"},"score":0,"creation_date":1402004085,"post_id":24070399,"comment_id":37118463,"body_markdown":"Try using $xml = simplexml_load_file($url). Here is the documentation for simplexml: http://www.w3schools.com/php/php_xml_simplexml.asp. Hope that helps!","body":"Try using $xml = simplexml_load_file($url). Here is the documentation for simplexml: <a href=\"http://www.w3schools.com/php/php_xml_simplexml.asp\" rel=\"nofollow noreferrer\">w3schools.com/php/php_xml_simplexml.asp</a>. Hope that helps!"}],"answers":[{"tags":[],"owner":{"account_id":3187377,"reputation":17941,"user_id":2780943,"accept_rate":55,"display_name":"user184994"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692710606,"creation_date":1402004697,"answer_id":24070709,"question_id":24070399,"body_markdown":"Using Jsoup, you can do this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static void parseXml(String xml) {\r\n        Document doc = Jsoup.parse(xml);\r\n        StringBuilder queryBuilder;\r\n        StringBuilder columnNames;\r\n        StringBuilder values;\r\n        \r\n        for (Element row : doc.select(&quot;row&quot;)) {   \r\n            // Start the query   \r\n            queryBuilder = new StringBuilder(&quot;insert into customer(&quot;);\r\n            columnNames = new StringBuilder();\r\n            values = new StringBuilder();\r\n            \r\n            for (int x = 0; x &lt; row.children().size(); x++) {\r\n                \r\n                // Append the column name and it&#39;s value \r\n                columnNames.append(row.children().get(x).tagName());\r\n                values.append(row.children().get(x).text());\r\n                \r\n                if (x != row.children().size() - 1) {\r\n                    // If this is not the last item, append a comma\r\n                    columnNames.append(&quot;,&quot;);\r\n                    values.append(&quot;,&quot;);\r\n                }\r\n                else {\r\n                    // Otherwise, add the closing paranthesis\r\n                    columnNames.append(&quot;)&quot;);\r\n                    values.append(&quot;)&quot;);\r\n                }                                \r\n            }\r\n       \r\n            // Add the column names and values to the query\r\n            queryBuilder.append(columnNames);\r\n            queryBuilder.append(&quot; values(&quot;);\r\n            queryBuilder.append(values);\r\n\r\n            // Print the query\r\n            System.out.println(queryBuilder);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    insert into customer(custid,name,city) values(1,Woodworks,Baltimore)\r\n    insert into customer(custid,name,city) values(2,Software Solutions,Boston)\r\n    insert into customer(custid,name,city) values(3,Food Fantasies,New York)\r\n\r\n\r\nThis allows us to add as many new columns or rows as we wish. For example, I added a few bits to your original XML, and without modification to the java code, the output was:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    insert into customer(custid,name,city,age) values(1,Woodworks,Baltimore,21)\r\n    insert into customer(custid,name,city,age) values(2,Software Solutions,Boston,21)\r\n    insert into customer(custid,name,city,age) values(3,Food Fantasies,New York,21)\r\n    insert into customer(custid,name,city,age) values(4,Crazy Hat Store,London,21)\r\n\r\n\r\n**EDIT :**\r\n\r\nTo import the XML from file, the method would look like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static String loadXml(String filePath) {\r\n        try {\r\n            StringBuilder xml = new StringBuilder();\r\n            Scanner scanner = new Scanner(new File(filePath)); // i.e. C:\\\\testXML.xml\r\n            \r\n            while (scanner.hasNextLine()) {\r\n                xml.append(scanner.nextLine());\r\n            }\r\n            return xml.toString();\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nAnd then my main method looked like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n        parseXml(loadXml(filePath));\r\n    }","title":"XML parsing to a MySQL database","body":"<p>Using Jsoup, you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void parseXml(String xml) {\n    Document doc = Jsoup.parse(xml);\n    StringBuilder queryBuilder;\n    StringBuilder columnNames;\n    StringBuilder values;\n    \n    for (Element row : doc.select(&quot;row&quot;)) {   \n        // Start the query   \n        queryBuilder = new StringBuilder(&quot;insert into customer(&quot;);\n        columnNames = new StringBuilder();\n        values = new StringBuilder();\n        \n        for (int x = 0; x &lt; row.children().size(); x++) {\n            \n            // Append the column name and it's value \n            columnNames.append(row.children().get(x).tagName());\n            values.append(row.children().get(x).text());\n            \n            if (x != row.children().size() - 1) {\n                // If this is not the last item, append a comma\n                columnNames.append(&quot;,&quot;);\n                values.append(&quot;,&quot;);\n            }\n            else {\n                // Otherwise, add the closing paranthesis\n                columnNames.append(&quot;)&quot;);\n                values.append(&quot;)&quot;);\n            }                                \n        }\n   \n        // Add the column names and values to the query\n        queryBuilder.append(columnNames);\n        queryBuilder.append(&quot; values(&quot;);\n        queryBuilder.append(values);\n\n        // Print the query\n        System.out.println(queryBuilder);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into customer(custid,name,city) values(1,Woodworks,Baltimore)\ninsert into customer(custid,name,city) values(2,Software Solutions,Boston)\ninsert into customer(custid,name,city) values(3,Food Fantasies,New York)\n</code></pre>\n<p>This allows us to add as many new columns or rows as we wish. For example, I added a few bits to your original XML, and without modification to the java code, the output was:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into customer(custid,name,city,age) values(1,Woodworks,Baltimore,21)\ninsert into customer(custid,name,city,age) values(2,Software Solutions,Boston,21)\ninsert into customer(custid,name,city,age) values(3,Food Fantasies,New York,21)\ninsert into customer(custid,name,city,age) values(4,Crazy Hat Store,London,21)\n</code></pre>\n<p><strong>EDIT :</strong></p>\n<p>To import the XML from file, the method would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String loadXml(String filePath) {\n    try {\n        StringBuilder xml = new StringBuilder();\n        Scanner scanner = new Scanner(new File(filePath)); // i.e. C:\\\\testXML.xml\n        \n        while (scanner.hasNextLine()) {\n            xml.append(scanner.nextLine());\n        }\n        return xml.toString();\n    }\n    catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>And then my main method looked like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    parseXml(loadXml(filePath));\n}\n</code></pre>\n"}],"owner":{"display_name":"user3658290"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3058,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24070709,"answer_count":1,"score":0,"last_activity_date":1692710606,"creation_date":1402003393,"question_id":24070399,"body_markdown":"I have been working on this piece of code to parse my XML file into a MySQL database. Every tutorial I have seen online parses individually like this code I&#39;ve been working on. From here I would like to loop it in a way which instead of adding each field individually, if iterate it through the XML file and define how many fields need to be created inside of the table. Does anyone have any such tutorials they are aware of or possibly a short example how I could get started for this? Example I would not like to re-edit my program each time i decide to add another characteristic for a customer.\r\n \r\n\r\n    package xSQLTEST;\r\n    \r\n    import java.io.*;\r\n    import java.sql.*;\r\n    import org.w3c.dom.*;\r\n    import javax.xml.parsers.*;\r\n    \r\n    public class InsertXMLData {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/brandonDB&quot;,\r\n                                                             &quot;root&quot;,\r\n                                                             &quot;Absolute!&quot;);\r\n                Statement st = con.createStatement();\r\n                DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n                DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\r\n                Document doc = docBuilder.parse(new File(&quot;C:\\\\testXML.xml&quot;));\r\n                doc.getDocumentElement().normalize();\r\n                System.out.println(&quot;Root element of the doc is &quot;\r\n                                   + doc.getDocumentElement().getNodeName());\r\n                NodeList listOfPersons = doc.getElementsByTagName(&quot;row&quot;);\r\n                for (int s = 0; s &lt; listOfPersons.getLength(); s++) {\r\n                    Node firstPersonNode = listOfPersons.item(s);\r\n                    if (firstPersonNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                        Element firstPersonElement = (Element) firstPersonNode;\r\n                        // -------------------------------------------------------------------------------------\r\n    \r\n                        NodeList CustIdList = firstPersonElement.getElementsByTagName(&quot;CustId&quot;);\r\n                        Element CustIdElement = (Element) CustIdList.item(0);\r\n    \r\n                        NodeList textIDList = CustIdElement.getChildNodes();\r\n                        String CustId = ((Node) textIDList.item(0)).getNodeValue()\r\n                                                                   .trim();\r\n    \r\n                        NodeList NameList = firstPersonElement.getElementsByTagName(&quot;Name&quot;);\r\n                        Element NameElement = (Element) NameList.item(0);\r\n    \r\n                        NodeList textNMList = NameElement.getChildNodes();\r\n                        String Name = ((Node) textNMList.item(0)).getNodeValue().trim();\r\n    \r\n                        NodeList CityList = firstPersonElement.getElementsByTagName(&quot;City&quot;);\r\n                        Element CityElement = (Element) CityList.item(0);\r\n    \r\n                        NodeList textCTList = CityElement.getChildNodes();\r\n                        String City = ((Node) textCTList.item(0)).getNodeValue().trim();\r\n    \r\n                        int i = st.executeUpdate(&quot;insert into customer(CustId,Name,City) values(&#39;&quot;\r\n                                                 + CustId\r\n                                                 + &quot;&#39;,&#39;&quot;\r\n                                                 + Name\r\n                                                 + &quot;&#39;,&#39;&quot;\r\n                                                 + City\r\n                                                 + &quot;&#39;)&quot;);\r\n                    }\r\n                }\r\n                System.out.println(&quot;Data is successfully inserted!&quot;);\r\n    \r\n            }\r\n            catch (Exception err) {\r\n                System.out.println(&quot; &quot; + err.getMessage());\r\n            }\r\n        }\r\n    }\r\nXML FILE that I am using but would like to possibly add more details about the customer in the future.\r\n\r\n    &lt;Customers&gt;\r\n       &lt;row&gt; \r\n          &lt;CustId&gt;1&lt;/CustId&gt;\r\n          &lt;Name&gt;Woodworks&lt;/Name&gt;\r\n          &lt;City&gt;Baltimore&lt;/City&gt;\r\n       &lt;/row&gt;\r\n       &lt;row&gt; \r\n          &lt;CustId&gt;2&lt;/CustId&gt;\r\n          &lt;Name&gt;Software Solutions&lt;/Name&gt;\r\n          &lt;City&gt;Boston&lt;/City&gt;\r\n       &lt;/row&gt;\r\n       &lt;row&gt; \r\n          &lt;CustId&gt;3&lt;/CustId&gt;\r\n          &lt;Name&gt;Food Fantasies&lt;/Name&gt;\r\n          &lt;City&gt;New York&lt;/City&gt;\r\n       &lt;/row&gt;\r\n    &lt;/Customers&gt;\r\n\r\nBUFFER READER INSERTED AND WORKING:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(new File(&quot;c:\\\\testXML.xml&quot;)));\r\n    String line;\r\n    StringBuilder sb = new StringBuilder();\r\n    \r\n    while((line=br.readLine())!= null){\r\n        sb.append(line.trim());\r\n    }\r\n    String strFileContent = sb.toString();\r\n\r\n\t","title":"XML parsing to a MySQL database","body":"<p>I have been working on this piece of code to parse my XML file into a MySQL database. Every tutorial I have seen online parses individually like this code I've been working on. From here I would like to loop it in a way which instead of adding each field individually, if iterate it through the XML file and define how many fields need to be created inside of the table. Does anyone have any such tutorials they are aware of or possibly a short example how I could get started for this? Example I would not like to re-edit my program each time i decide to add another characteristic for a customer.</p>\n\n<pre><code>package xSQLTEST;\n\nimport java.io.*;\nimport java.sql.*;\nimport org.w3c.dom.*;\nimport javax.xml.parsers.*;\n\npublic class InsertXMLData {\n\n    public static void main(String[] args) {\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/brandonDB\",\n                                                         \"root\",\n                                                         \"Absolute!\");\n            Statement st = con.createStatement();\n            DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\n            Document doc = docBuilder.parse(new File(\"C:\\\\testXML.xml\"));\n            doc.getDocumentElement().normalize();\n            System.out.println(\"Root element of the doc is \"\n                               + doc.getDocumentElement().getNodeName());\n            NodeList listOfPersons = doc.getElementsByTagName(\"row\");\n            for (int s = 0; s &lt; listOfPersons.getLength(); s++) {\n                Node firstPersonNode = listOfPersons.item(s);\n                if (firstPersonNode.getNodeType() == Node.ELEMENT_NODE) {\n                    Element firstPersonElement = (Element) firstPersonNode;\n                    // -------------------------------------------------------------------------------------\n\n                    NodeList CustIdList = firstPersonElement.getElementsByTagName(\"CustId\");\n                    Element CustIdElement = (Element) CustIdList.item(0);\n\n                    NodeList textIDList = CustIdElement.getChildNodes();\n                    String CustId = ((Node) textIDList.item(0)).getNodeValue()\n                                                               .trim();\n\n                    NodeList NameList = firstPersonElement.getElementsByTagName(\"Name\");\n                    Element NameElement = (Element) NameList.item(0);\n\n                    NodeList textNMList = NameElement.getChildNodes();\n                    String Name = ((Node) textNMList.item(0)).getNodeValue().trim();\n\n                    NodeList CityList = firstPersonElement.getElementsByTagName(\"City\");\n                    Element CityElement = (Element) CityList.item(0);\n\n                    NodeList textCTList = CityElement.getChildNodes();\n                    String City = ((Node) textCTList.item(0)).getNodeValue().trim();\n\n                    int i = st.executeUpdate(\"insert into customer(CustId,Name,City) values('\"\n                                             + CustId\n                                             + \"','\"\n                                             + Name\n                                             + \"','\"\n                                             + City\n                                             + \"')\");\n                }\n            }\n            System.out.println(\"Data is successfully inserted!\");\n\n        }\n        catch (Exception err) {\n            System.out.println(\" \" + err.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>XML FILE that I am using but would like to possibly add more details about the customer in the future.</p>\n\n<pre><code>&lt;Customers&gt;\n   &lt;row&gt; \n      &lt;CustId&gt;1&lt;/CustId&gt;\n      &lt;Name&gt;Woodworks&lt;/Name&gt;\n      &lt;City&gt;Baltimore&lt;/City&gt;\n   &lt;/row&gt;\n   &lt;row&gt; \n      &lt;CustId&gt;2&lt;/CustId&gt;\n      &lt;Name&gt;Software Solutions&lt;/Name&gt;\n      &lt;City&gt;Boston&lt;/City&gt;\n   &lt;/row&gt;\n   &lt;row&gt; \n      &lt;CustId&gt;3&lt;/CustId&gt;\n      &lt;Name&gt;Food Fantasies&lt;/Name&gt;\n      &lt;City&gt;New York&lt;/City&gt;\n   &lt;/row&gt;\n&lt;/Customers&gt;\n</code></pre>\n\n<p>BUFFER READER INSERTED AND WORKING:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(new File(\"c:\\\\testXML.xml\")));\nString line;\nStringBuilder sb = new StringBuilder();\n\nwhile((line=br.readLine())!= null){\n    sb.append(line.trim());\n}\nString strFileContent = sb.toString();\n</code></pre>\n"},{"tags":["java","gradle","github-actions","github-packages"],"owner":{"account_id":28014249,"reputation":19,"user_id":21396263,"display_name":"Nikolai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692710494,"creation_date":1692710394,"question_id":76953749,"body_markdown":"I&#39;ve made publication on GitgubPackages via gradle in according with tutorial from Github. My publication is placed on https://github.com/D0zee/language-server-for-KTS-scripts/packages/1926872 \r\n\r\nI want to use a concrete asset from publication in another Java application passing it to the executor inside Java code. \r\n\r\nHow to do it? I tried something like that: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wXKyQ.png\r\n\r\n\r\nBut it was unsuccessful with error that `couldn&#39;t resolve kts-language-server:server:1.0.0.`","title":"How to use a concrete asset from GitHub publication?","body":"<p>I've made publication on GitgubPackages via gradle in according with tutorial from Github. My publication is placed on <a href=\"https://github.com/D0zee/language-server-for-KTS-scripts/packages/1926872\" rel=\"nofollow noreferrer\">https://github.com/D0zee/language-server-for-KTS-scripts/packages/1926872</a></p>\n<p>I want to use a concrete asset from publication in another Java application passing it to the executor inside Java code.</p>\n<p>How to do it? I tried something like that: <a href=\"https://i.stack.imgur.com/wXKyQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wXKyQ.png\" alt=\"enter image description here\" /></a></p>\n<p>But it was unsuccessful with error that <code>couldn't resolve kts-language-server:server:1.0.0.</code></p>\n"},{"tags":["java","spring-boot","soap"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1692710836,"post_id":76953753,"comment_id":135659201,"body_markdown":"can you build the project without intellij - just mvn clean install at the command line? And does your project persistence even compile? I cannot see an artifactId there in your pom","body":"can you build the project without intellij - just mvn clean install at the command line? And does your project persistence even compile? I cannot see an artifactId there in your pom"},{"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"score":0,"creation_date":1692711517,"post_id":76953753,"comment_id":135659397,"body_markdown":"yes i tried mvn clean install no errors also yes the persistence compile","body":"yes i tried mvn clean install no errors also yes the persistence compile"},{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1692711846,"post_id":76953753,"comment_id":135659499,"body_markdown":"sorry didnt see your pom for persistence completely.. does your mvn at the command line use the same maven and jdk version as intellij?","body":"sorry didnt see your pom for persistence completely.. does your mvn at the command line use the same maven and jdk version as intellij?"},{"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"score":0,"creation_date":1692712311,"post_id":76953753,"comment_id":135659623,"body_markdown":"cmd uses mvn 3.8.6 and jdk 11 and intelij uses mvn 3.8.1 ,  jdk11 ,SDK JDK 19","body":"cmd uses mvn 3.8.6 and jdk 11 and intelij uses mvn 3.8.1 ,  jdk11 ,SDK JDK 19"},{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1692713158,"post_id":76953753,"comment_id":135659856,"body_markdown":"mvn therofre should not be the problem, but what do you mean by &quot; jdk11 ,SDK JDK 19&quot;","body":"mvn therofre should not be the problem, but what do you mean by &quot; jdk11 ,SDK JDK 19&quot;"},{"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"score":0,"creation_date":1692718299,"post_id":76953753,"comment_id":135661143,"body_markdown":"its fixed ! turned out that the issue is related to intelij (project structure must have the persistence location included in module config)","body":"its fixed ! turned out that the issue is related to intelij (project structure must have the persistence location included in module config)"}],"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692710413,"creation_date":1692710413,"question_id":76953753,"body_markdown":"&quot;I am working on an API with Spring Boot (JDK 11, Spring Boot 2.7). The project contains only the implementation and the endpoints. The other project, called &#39;persistence,&#39; holds the entities and the repositories.\r\n\r\nI am trying to import classes from the &#39;persistence&#39; project into the API project. I have already added the dependency and built the JAR. I also checked the external libraries, and the classes are present there. However, when I attempt to import them, I receive suggestions with the correct package names, but pressing &#39;Enter&#39; doesn&#39;t result in any action.\r\n\r\nwhen I manually write the import statement, it seems that IntelliJ can&#39;t locate the dependency in the &#39;.m2&#39; folder. This situation is quite wierd.&quot;\r\n\r\n\r\npom of the API project :\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demoapisender&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demoAPI&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t\t&lt;!--  this is the project 2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-for-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\r\n\r\n\t\t\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\npom of the persistance project :\r\n\r\n```\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;persistence-for-api&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;persistence&lt;/name&gt;\r\n    &lt;description&gt;persistence-for-a&lt;/description&gt;\r\n\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.14&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nwhat i tried :\r\n\r\n-cleaning the cash in my Ide.\r\n-checking project structure .\r\n-clean and install .\r\n-deleting the folder in .m2\r\n\r\nwhat i suspect :\r\n\r\n-maven version problem (3.8.1).\r\n-Ide config.","title":"Can&#39;t import a class from an external project Springboot","body":"<p>&quot;I am working on an API with Spring Boot (JDK 11, Spring Boot 2.7). The project contains only the implementation and the endpoints. The other project, called 'persistence,' holds the entities and the repositories.</p>\n<p>I am trying to import classes from the 'persistence' project into the API project. I have already added the dependency and built the JAR. I also checked the external libraries, and the classes are present there. However, when I attempt to import them, I receive suggestions with the correct package names, but pressing 'Enter' doesn't result in any action.</p>\n<p>when I manually write the import statement, it seems that IntelliJ can't locate the dependency in the '.m2' folder. This situation is quite wierd.&quot;</p>\n<p>pom of the API project :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demoapisender&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demoAPI&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n\n            &lt;!--  this is the project 2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-for-api&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    \n\n        \n\n            &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>pom of the persistance project :</p>\n<pre><code>\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;persistence-for-api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;persistence&lt;/name&gt;\n    &lt;description&gt;persistence-for-a&lt;/description&gt;\n\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>what i tried :</p>\n<p>-cleaning the cash in my Ide.\n-checking project structure .\n-clean and install .\n-deleting the folder in .m2</p>\n<p>what i suspect :</p>\n<p>-maven version problem (3.8.1).\n-Ide config.</p>\n"},{"tags":["java","guava"],"answers":[{"tags":[],"owner":{"account_id":3363682,"reputation":1767,"user_id":2824919,"display_name":"Samhain"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1392991259,"creation_date":1392991259,"answer_id":21936548,"question_id":21936503,"body_markdown":"Use an inline null check\r\n\r\n    gearBox == null ? &quot;&quot; : String.valueOf(gearBox);\r\n\r\n","title":"Get empty string when null","body":"<p>Use an inline null check</p>\n\n<pre><code>gearBox == null ? \"\" : String.valueOf(gearBox);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":1,"up_vote_count":250,"is_accepted":true,"score":249,"last_activity_date":1392991702,"creation_date":1392991323,"answer_id":21936577,"question_id":21936503,"body_markdown":"You can use [`Objects.toString()`][1] (standard in Java 7):\r\n\r\n    Objects.toString(gearBox, &quot;&quot;)\r\n\r\n    Objects.toString(id, &quot;&quot;)\r\n\r\n---\r\n\r\nFrom the linked documentation:\r\n\r\n&gt;`public static String toString(Object o, String nullDefault)`\r\n\r\n&gt; &gt;Returns the result of calling `toString` on the first argument if the first argument is not null and returns the second argument otherwise.\r\n\r\n&gt; &gt;**Parameters:**  \r\n `o` - an object  \r\n `nullDefault` - string to return if the first argument is `null`\r\n\r\n&gt; &gt;**Returns:**  \r\n  the result of calling `toString` on the first argument if it is not `null` and the second argument otherwise.\r\n\r\n&gt; &gt;**See Also:**  \r\n  [`toString(Object)`][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object,%20java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object%29","title":"Get empty string when null","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object,%20java.lang.String%29\"><code>Objects.toString()</code></a> (standard in Java 7):</p>\n\n<pre><code>Objects.toString(gearBox, \"\")\n\nObjects.toString(id, \"\")\n</code></pre>\n\n<hr>\n\n<p>From the linked documentation:</p>\n\n<blockquote>\n  <p><code>public static String toString(Object o, String nullDefault)</code></p>\n  \n  <blockquote>\n    <p>Returns the result of calling <code>toString</code> on the first argument if the first argument is not null and returns the second argument otherwise.</p>\n    \n    <p><strong>Parameters:</strong><br>\n     <code>o</code> - an object<br>\n     <code>nullDefault</code> - string to return if the first argument is <code>null</code></p>\n    \n    <p><strong>Returns:</strong><br>\n      the result of calling <code>toString</code> on the first argument if it is not <code>null</code> and the second argument otherwise.</p>\n    \n    <p><strong>See Also:</strong><br>\n      <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object%29\"><code>toString(Object)</code></a></p>\n  </blockquote>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1392991829,"creation_date":1392991344,"answer_id":21936586,"question_id":21936503,"body_markdown":"If you don&#39;t mind using Apache commons, they have a [`StringUtils.defaultString(String str)`][1] that does this.  \r\n\r\n&gt;  _Returns either the passed in String, or if the String is null, an empty String (&quot;&quot;)._\r\n\r\nIf you also want to get rid of `&quot;null&quot;`, you can do:  \r\n\r\n    StringUtils.defaultString(str).replaceAll(&quot;^null$&quot;, &quot;&quot;)\r\n\r\nor to ignore case:  \r\n\r\n    StringUtils.defaultString(str).replaceAll(&quot;^(?i)null$&quot;, &quot;&quot;)\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#defaultString%28java.lang.String%29","title":"Get empty string when null","body":"<p>If you don't mind using Apache commons, they have a <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#defaultString%28java.lang.String%29\" rel=\"noreferrer\"><code>StringUtils.defaultString(String str)</code></a> that does this.  </p>\n\n<blockquote>\n  <p><em>Returns either the passed in String, or if the String is null, an empty String (\"\").</em></p>\n</blockquote>\n\n<p>If you also want to get rid of <code>\"null\"</code>, you can do:  </p>\n\n<pre><code>StringUtils.defaultString(str).replaceAll(\"^null$\", \"\")\n</code></pre>\n\n<p>or to ignore case:  </p>\n\n<pre><code>StringUtils.defaultString(str).replaceAll(\"^(?i)null$\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3925546,"reputation":1220,"user_id":3246177,"accept_rate":25,"display_name":"renke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1392992413,"creation_date":1392992413,"answer_id":21936963,"question_id":21936503,"body_markdown":"Since you&#39;re using guava:\r\n\r\n    Objects.firstNonNull(gearBox, &quot;&quot;).toString();","title":"Get empty string when null","body":"<p>Since you're using guava:</p>\n\n<pre><code>Objects.firstNonNull(gearBox, \"\").toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1490048242,"creation_date":1490048242,"answer_id":42914980,"question_id":21936503,"body_markdown":"For java 8 you can use Optional approach:\r\n\r\n    Optional.ofNullable(gearBox).orElse(&quot;&quot;);\r\n    Optional.ofNullable(id).orElse(&quot;&quot;);","title":"Get empty string when null","body":"<p>For java 8 you can use Optional approach:</p>\n\n<pre><code>Optional.ofNullable(gearBox).orElse(\"\");\nOptional.ofNullable(id).orElse(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6691443,"reputation":411,"user_id":5160828,"display_name":"Won-Sik Kim"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1525329690,"creation_date":1525327605,"answer_id":50148015,"question_id":21936503,"body_markdown":"If alternative way, **Guava** provides `Strings.nullToEmpty(String)`.\r\n\r\n**Source code**\r\n\r\n    String str = null;\r\n    str = Strings.nullToEmpty(str);\r\n    System.out.println(&quot;String length : &quot; + str.length());\r\n\r\n\r\n**Result**\r\n\r\n    0\r\n\r\n\r\n\r\n","title":"Get empty string when null","body":"<p>If alternative way, <strong>Guava</strong> provides <code>Strings.nullToEmpty(String)</code>.</p>\n\n<p><strong>Source code</strong></p>\n\n<pre><code>String str = null;\nstr = Strings.nullToEmpty(str);\nSystem.out.println(\"String length : \" + str.length());\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12917647,"reputation":1226,"user_id":9341311,"display_name":"Ari Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598395767,"creation_date":1598395767,"answer_id":63588155,"question_id":21936503,"body_markdown":"In Java 9+ use : Objects.requireNonNullElse (obj, defaultObj) https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#requireNonNullElse-T-T-\r\n\r\n    //-- returns empty string if obj is null\r\n    Objects.requireNonNullElse (obj, &quot;&quot;)   ","title":"Get empty string when null","body":"<p>In Java 9+ use : Objects.requireNonNullElse (obj, defaultObj) <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#requireNonNullElse-T-T-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#requireNonNullElse-T-T-</a></p>\n<pre><code>//-- returns empty string if obj is null\nObjects.requireNonNullElse (obj, &quot;&quot;)   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12322042,"reputation":139,"user_id":8991081,"display_name":"Akshay Sardhara"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1611924567,"creation_date":1611924567,"answer_id":65954811,"question_id":21936503,"body_markdown":"`StringUtils.defaultString(String str)` Returns either the passed in String, or if the String is null, an empty String (&quot;&quot;).\r\n\r\nExample from java doc\r\n&gt; `StringUtils.defaultString(null)`  will return `&quot;&quot;`\r\n&gt; `StringUtils.defaultString(&quot;&quot;)`    will return `&quot;&quot;`\r\n&gt; `StringUtils.defaultString(&quot;bat&quot;)` will return `&quot;bat&quot;`","title":"Get empty string when null","body":"<p><code>StringUtils.defaultString(String str)</code> Returns either the passed in String, or if the String is null, an empty String (&quot;&quot;).</p>\n<p>Example from java doc</p>\n<blockquote>\n<p><code>StringUtils.defaultString(null)</code>  will return <code>&quot;&quot;</code>\n<code>StringUtils.defaultString(&quot;&quot;)</code>    will return <code>&quot;&quot;</code>\n<code>StringUtils.defaultString(&quot;bat&quot;)</code> will return <code>&quot;bat&quot;</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":29011855,"reputation":3,"user_id":22223191,"display_name":"Flavian-Calinic Stuparu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692710379,"creation_date":1692710379,"answer_id":76953746,"question_id":21936503,"body_markdown":"This should do the trick: `&quot;&quot; + gearBox`\r\n\r\n ","title":"Get empty string when null","body":"<p>This should do the trick: <code>&quot;&quot; + gearBox</code></p>\n"}],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175117,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":21936577,"answer_count":9,"score":113,"last_activity_date":1692710379,"creation_date":1392991157,"question_id":21936503,"body_markdown":"I want to get string values of my fields (they can be type of long string or any object),\r\n\r\nif a field is null then it should return empty string, I did this with guava;\r\n\r\n    nullToEmpty(String.valueOf(gearBox))\r\n    nullToEmpty(String.valueOf(id))\r\n    ...\r\n\r\nBut this returns null if gearbox is null! Not empty string because valueOf methdod returns string &quot;null&quot; which leads to errors.\r\n\r\nAny Ideas?\r\n\r\nEDIt: there are 100s fields I look for something easy to implement\r\n               ","title":"Get empty string when null","body":"<p>I want to get string values of my fields (they can be type of long string or any object),</p>\n\n<p>if a field is null then it should return empty string, I did this with guava;</p>\n\n<pre><code>nullToEmpty(String.valueOf(gearBox))\nnullToEmpty(String.valueOf(id))\n...\n</code></pre>\n\n<p>But this returns null if gearbox is null! Not empty string because valueOf methdod returns string \"null\" which leads to errors.</p>\n\n<p>Any Ideas?</p>\n\n<p>EDIt: there are 100s fields I look for something easy to implement</p>\n"},{"tags":["java","gradle","fatjar"],"comments":[{"owner":{"account_id":1114060,"reputation":1976,"user_id":2723001,"accept_rate":62,"display_name":"Alexiy"},"score":0,"creation_date":1532175760,"post_id":51455197,"comment_id":89881453,"body_markdown":"You said you are using &quot;assemble&quot; to make the jar. What about &quot;build&quot;?","body":"You said you are using &quot;assemble&quot; to make the jar. What about &quot;build&quot;?"},{"owner":{"account_id":7206657,"reputation":396,"user_id":5502060,"display_name":"Hadrien"},"score":0,"creation_date":1532178219,"post_id":51455197,"comment_id":89882159,"body_markdown":"From what I read online, assemble seemed to be enough for what I needed","body":"From what I read online, assemble seemed to be enough for what I needed"}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1692710159,"creation_date":1532174663,"answer_id":51455886,"question_id":51455197,"body_markdown":"You are running into the one major problem when building a FAT JAR:\r\n\r\nOne of your source JARs is signed and merging it into one fat jar destroys the signature.\r\n\r\nIt looks like Java recognizes that there are unsigned classes and ignores everything but the signed classes. As all classes that do not belong to the signed library are unsigned (like your `Launcher` class) they are ignored and therefore can&#39;t be loaded.\r\n\r\nIn your case it looks like that the dependency `org.bouncycastle:bcprov-jdk15on:1.55` of `com.auth0:java-jwt:3.1.0` is the signed jar file. Because my sample project correctly executes `Launcher` when I uncomment this dependency. \r\n\r\nBouncy castle is a crypto provider that requires a valid signature otherwise it will not run from my experience. Therefore it is impossible to create a fat jar for your project that just contains all classes. \r\n\r\nYou can try to create a fat jar with everything except Bouncycastle and ship Bouncycastle JAR seperatly.\r\n\r\nOr a fat jar that contains all the required JAR files inside (JAR inside JAR) and that uses a special class loader that is able to load classes from within such a JAR inside a JAR. See for example: https://stackoverflow.com/a/33420518/150978\r\n","title":"Gradle - FatJar - Could not find or load main class","body":"<p>You are running into the one major problem when building a FAT JAR:</p>\n<p>One of your source JARs is signed and merging it into one fat jar destroys the signature.</p>\n<p>It looks like Java recognizes that there are unsigned classes and ignores everything but the signed classes. As all classes that do not belong to the signed library are unsigned (like your <code>Launcher</code> class) they are ignored and therefore can't be loaded.</p>\n<p>In your case it looks like that the dependency <code>org.bouncycastle:bcprov-jdk15on:1.55</code> of <code>com.auth0:java-jwt:3.1.0</code> is the signed jar file. Because my sample project correctly executes <code>Launcher</code> when I uncomment this dependency.</p>\n<p>Bouncy castle is a crypto provider that requires a valid signature otherwise it will not run from my experience. Therefore it is impossible to create a fat jar for your project that just contains all classes.</p>\n<p>You can try to create a fat jar with everything except Bouncycastle and ship Bouncycastle JAR seperatly.</p>\n<p>Or a fat jar that contains all the required JAR files inside (JAR inside JAR) and that uses a special class loader that is able to load classes from within such a JAR inside a JAR. See for example: <a href=\"https://stackoverflow.com/a/33420518/150978\">https://stackoverflow.com/a/33420518/150978</a></p>\n"},{"tags":[],"owner":{"account_id":6953145,"reputation":3000,"user_id":5335131,"display_name":"avolkmann"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1587391768,"creation_date":1532176185,"answer_id":51456080,"question_id":51455197,"body_markdown":"I reproduced your issue locally.\r\n\r\nJust add `exclude &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.SF&#39;, &#39;META-INF/*.DSA&#39;` to the jar task. \r\n\r\nThis will exclude the signatures of interfering dependencies. \r\n\r\nExample:\r\n```\r\njar {\r\n    manifest {\r\n        attributes &quot;Main-Class&quot;: mainClassName\r\n    }\r\n\r\n    from {\r\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n    exclude &#39;META-INF/*.RSA&#39;\r\n    exclude &#39;META-INF/*.SF&#39;\r\n    exclude &#39;META-INF/*.DSA&#39;\r\n}\r\n```","title":"Gradle - FatJar - Could not find or load main class","body":"<p>I reproduced your issue locally.</p>\n\n<p>Just add <code>exclude 'META-INF/*.RSA', 'META-INF/*.SF', 'META-INF/*.DSA'</code> to the jar task. </p>\n\n<p>This will exclude the signatures of interfering dependencies. </p>\n\n<p>Example:</p>\n\n<pre><code>jar {\n    manifest {\n        attributes \"Main-Class\": mainClassName\n    }\n\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    exclude 'META-INF/*.RSA'\n    exclude 'META-INF/*.SF'\n    exclude 'META-INF/*.DSA'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14088536,"reputation":1289,"user_id":10177637,"display_name":"Nipun"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1534704084,"creation_date":1534704084,"answer_id":51920763,"question_id":51455197,"body_markdown":"Try to exclude .SF .DSA .RSA files, example below, Nipun\r\n\r\nHope this works out for you\r\n\r\n    task customFatJar(type: Jar) {\r\n      baseName = &#39;XXXXX&#39;\r\n      from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } \r\n      }\r\n      with jar\r\n\r\n      exclude &quot;META-INF/*.SF&quot;\r\n      exclude &quot;META-INF/*.DSA&quot;\r\n      exclude &quot;META-INF/*.RSA&quot;\r\n\r\n      manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.nipun.MyMainClass&#39;\r\n      }\r\n    }","title":"Gradle - FatJar - Could not find or load main class","body":"<p>Try to exclude .SF .DSA .RSA files, example below, Nipun</p>\n\n<p>Hope this works out for you</p>\n\n<pre><code>task customFatJar(type: Jar) {\n  baseName = 'XXXXX'\n  from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } \n  }\n  with jar\n\n  exclude \"META-INF/*.SF\"\n  exclude \"META-INF/*.DSA\"\n  exclude \"META-INF/*.RSA\"\n\n  manifest {\n    attributes 'Main-Class': 'com.nipun.MyMainClass'\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16643589,"reputation":191,"user_id":12028426,"display_name":"Waqqas Sharif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668639583,"creation_date":1668639583,"answer_id":74468290,"question_id":51455197,"body_markdown":"Adding\r\n\r\n    exclude &#39;META-INF/*.RSA&#39;\r\n    exclude &#39;META-INF/*.SF&#39;\r\n    exclude &#39;META-INF/*.DSA&#39;\r\n\r\nFixed my issue.","title":"Gradle - FatJar - Could not find or load main class","body":"<p>Adding</p>\n<pre><code>exclude 'META-INF/*.RSA'\nexclude 'META-INF/*.SF'\nexclude 'META-INF/*.DSA'\n</code></pre>\n<p>Fixed my issue.</p>\n"}],"owner":{"account_id":7206657,"reputation":396,"user_id":5502060,"display_name":"Hadrien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15587,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":51456080,"answer_count":4,"score":27,"last_activity_date":1692710159,"creation_date":1532169230,"question_id":51455197,"body_markdown":"I know that question was asked a lot and has many answers, but i still get it and I don&#39;t understand why...\r\n\r\nI am trying to generate a `.jar` from a projet with dependencies with gradle.\r\n\r\nI have a class `src/main/java/Launcher.java`, in which I have my `main` method.\r\n\r\nthere is my `build.gradle`\r\n\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    sourceCompatibility = 1.8\r\n    mainClassName = &#39;Launcher&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile &#39;commons-io:commons-io:2.1&#39;\r\n        compile &#39;io.vertx:vertx-core:3.4.0&#39;\r\n        compile &#39;io.vertx:vertx-web:3.4.0&#39;\r\n        compile &#39;com.google.code.gson:gson:1.7.2&#39;\r\n        compile &quot;com.auth0:java-jwt:3.1.0&quot;\r\n        compile &#39;org.mongodb:mongo-java-driver:3.4.1&#39;\r\n        compile &#39;com.google.guava:guava:24.1-jre&#39;\r\n        compile &#39;commons-io:commons-io:2.6&#39;\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: mainClassName\r\n        }\r\n     \r\n        from {\r\n            configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\nI use `$&gt;gradle assemble` to generate my jar\r\nthen `$&gt;java -jar path/to/my/.jar`\r\nAnd i get the error &quot;could not find or load main class Launcher&quot;...\r\n\r\nI dont understand why, when I look in the .jar, I have Launcher class and in META-INF I have my manifest\r\n\r\n[![screenshot][1]][1]\r\n\r\nSorry for still asking this question in 2018 but i&#39;m loosing my mind trying to figure out what&#39;s wrong. I hope somone will have the answer !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kblqu.png","title":"Gradle - FatJar - Could not find or load main class","body":"<p>I know that question was asked a lot and has many answers, but i still get it and I don't understand why...</p>\n\n<p>I am trying to generate a <code>.jar</code> from a projet with dependencies with gradle.</p>\n\n<p>I have a class <code>src/main/java/Launcher.java</code>, in which I have my <code>main</code> method.</p>\n\n<p>there is my <code>build.gradle</code></p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\nversion '1.0-SNAPSHOT'\nsourceCompatibility = 1.8\nmainClassName = 'Launcher'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'commons-io:commons-io:2.1'\n    compile 'io.vertx:vertx-core:3.4.0'\n    compile 'io.vertx:vertx-web:3.4.0'\n    compile 'com.google.code.gson:gson:1.7.2'\n    compile \"com.auth0:java-jwt:3.1.0\"\n    compile 'org.mongodb:mongo-java-driver:3.4.1'\n    compile 'com.google.guava:guava:24.1-jre'\n    compile 'commons-io:commons-io:2.6'\n}\n\njar {\n    manifest {\n        attributes \"Main-Class\": mainClassName\n    }\n\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n\n<p>I use <code>$&gt;gradle assemble</code> to generate my jar\nthen <code>$&gt;java -jar path/to/my/.jar</code>\nAnd i get the error \"could not find or load main class Launcher\"...</p>\n\n<p>I dont understand why, when I look in the .jar, I have Launcher class and in META-INF I have my manifest</p>\n\n<p><a href=\"https://i.stack.imgur.com/kblqu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kblqu.png\" alt=\"screenshot\"></a></p>\n\n<p>Sorry for still asking this question in 2018 but i'm loosing my mind trying to figure out what's wrong. I hope somone will have the answer !</p>\n"},{"tags":["java","appium","windows","winappdriver"],"answers":[{"tags":[],"owner":{"account_id":10502992,"reputation":127,"user_id":7741150,"accept_rate":75,"display_name":"teja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496851208,"creation_date":1496851208,"answer_id":44417643,"question_id":44410681,"body_markdown":"to my testing, the calculator app in windows doesn&#39;t open when you giving the system path you have to use\r\n**Microsoft.WindowsCalculator_8wekyb3d8bbwe!App**\r\n\r\nand you don&#39;t need to open appium sever has appium has the older version of winappdriver(0.7)\r\n\r\nand just saying the winappdriver server should be running in the background ","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>to my testing, the calculator app in windows doesn't open when you giving the system path you have to use\n<strong>Microsoft.WindowsCalculator_8wekyb3d8bbwe!App</strong></p>\n\n<p>and you don't need to open appium sever has appium has the older version of winappdriver(0.7)</p>\n\n<p>and just saying the winappdriver server should be running in the background </p>\n"},{"tags":[],"owner":{"account_id":2342489,"reputation":1350,"user_id":7605370,"display_name":"Vijendran Selvarajah"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1497246385,"creation_date":1497246385,"answer_id":44492165,"question_id":44410681,"body_markdown":"After long research, I have found the answer for the above question. We can solve this using two methods.\r\n\r\n&gt; ***NOTE:*** You should start either *appium server* **or** *winappdriver.exe*. Don&#39;t try to run both appium and winappdriver at once by your self.\r\n\r\n 1. **If you are starting appium server**, you should give the URI as well as below following by the IP and port;\r\n\r\n    `CalculatorSession = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;), capabilities);`\r\n\r\n 2. **If you are running the winappdriver.exe directly,** you should give only the IP and the port of winappdriver as below;\r\n\r\n    `CalculatorSession = new IOSDriver(new URL(&quot;http://127.0.0.1:4723&quot;), capabilities);`\r\n\r\n\r\n","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>After long research, I have found the answer for the above question. We can solve this using two methods.</p>\n\n<blockquote>\n  <p><strong><em>NOTE:</em></strong> You should start either <em>appium server</em> <strong>or</strong> <em>winappdriver.exe</em>. Don't try to run both appium and winappdriver at once by your self.</p>\n</blockquote>\n\n<ol>\n<li><p><strong>If you are starting appium server</strong>, you should give the URI as well as below following by the IP and port;</p>\n\n<p><code>CalculatorSession = new IOSDriver(new URL(\"http://127.0.0.1:4723/wd/hub\"), capabilities);</code></p></li>\n<li><p><strong>If you are running the winappdriver.exe directly,</strong> you should give only the IP and the port of winappdriver as below;</p>\n\n<p><code>CalculatorSession = new IOSDriver(new URL(\"http://127.0.0.1:4723\"), capabilities);</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2523664,"reputation":2493,"user_id":2193455,"accept_rate":70,"display_name":"kangear"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1586315393,"creation_date":1586315393,"answer_id":61092732,"question_id":44410681,"body_markdown":"Thanks @Vijendran Selvarajah at first.\r\n\r\nfor this example：http://appium.io/docs/en/about-appium/getting-started/\r\nneed add this line `path: &quot;/wd/hub&quot;`\r\n``` javascript\r\n// javascript\r\n\r\nconst wdio = require(&quot;webdriverio&quot;);\r\nconst assert = require(&quot;assert&quot;);\r\n\r\nconst opts = {\r\n  port: 4723,\r\n  path: &quot;/wd/hub&quot;, // fix: The URL &#39;/session&#39; did not map to a valid resource\r\n  capabilities: {\r\n    platformName: &quot;Android&quot;,\r\n    platformVersion: &quot;8&quot;,\r\n    deviceName: &quot;Android Emulator&quot;,\r\n    app: &quot;/path/to/the/downloaded/ApiDemos.apk&quot;,\r\n    appPackage: &quot;io.appium.android.apis&quot;,\r\n    appActivity: &quot;.view.TextFields&quot;,\r\n    automationName: &quot;UiAutomator2&quot;\r\n  }\r\n};\r\n\r\nasync function main () {\r\n  const client = await wdio.remote(opts);\r\n\r\n  const field = await client.$(&quot;android.widget.EditText&quot;);\r\n  await field.setValue(&quot;Hello World!&quot;);\r\n  const value = await field.getText();\r\n  assert.equal(value,&quot;Hello World!&quot;);\r\n\r\n  await client.deleteSession();\r\n}\r\n\r\nmain();\r\n\r\n```\r\n\r\nI will share a completed doc and zip in the feature about how to use Appium to test Android App with all deps.","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>Thanks @Vijendran Selvarajah at first.</p>\n\n<p>for this example：<a href=\"http://appium.io/docs/en/about-appium/getting-started/\" rel=\"noreferrer\">http://appium.io/docs/en/about-appium/getting-started/</a>\nneed add this line <code>path: \"/wd/hub\"</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// javascript\n\nconst wdio = require(\"webdriverio\");\nconst assert = require(\"assert\");\n\nconst opts = {\n  port: 4723,\n  path: \"/wd/hub\", // fix: The URL '/session' did not map to a valid resource\n  capabilities: {\n    platformName: \"Android\",\n    platformVersion: \"8\",\n    deviceName: \"Android Emulator\",\n    app: \"/path/to/the/downloaded/ApiDemos.apk\",\n    appPackage: \"io.appium.android.apis\",\n    appActivity: \".view.TextFields\",\n    automationName: \"UiAutomator2\"\n  }\n};\n\nasync function main () {\n  const client = await wdio.remote(opts);\n\n  const field = await client.$(\"android.widget.EditText\");\n  await field.setValue(\"Hello World!\");\n  const value = await field.getText();\n  assert.equal(value,\"Hello World!\");\n\n  await client.deleteSession();\n}\n\nmain();\n\n</code></pre>\n\n<p>I will share a completed doc and zip in the feature about how to use Appium to test Android App with all deps.</p>\n"},{"tags":[],"owner":{"account_id":9992923,"reputation":33,"user_id":7391536,"display_name":"Sudip Neupane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692710083,"creation_date":1692710083,"answer_id":76953700,"question_id":44410681,"body_markdown":"for appium 2.0 it can be fixed by removing &quot;/&quot; after port. \r\neg : \r\nappium_url = &quot;http://0.0.0.0:4723&quot;\r\n\r\n\r\n","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>for appium 2.0 it can be fixed by removing &quot;/&quot; after port.\neg :\nappium_url = &quot;http://0.0.0.0:4723&quot;</p>\n"}],"owner":{"account_id":2342489,"reputation":1350,"user_id":7605370,"display_name":"Vijendran Selvarajah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16019,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":44492165,"answer_count":4,"score":11,"last_activity_date":1692710083,"creation_date":1496832889,"question_id":44410681,"body_markdown":"I&#39;m trying to run automate test for windows calculator app on windows10 using **Windows application driver (winAppDriver)**, **appium** and **java** as below example:  [https://github.com/Microsoft/WinAppDriver/tree/master/Samples/Java/CalculatorTest][1], but when I run the test after started the appium getting below mentioned error:\r\n\r\n    org.openqa.selenium.UnsupportedCommandException: The URL &#39;/session&#39; did not map to a valid resource\r\n    Command duration or timeout: 204 milliseconds\r\n    Build info: version: &#39;2.53.0&#39;, revision: &#39;35ae25b1534ae328c771e0856c93e187490ca824&#39;, time: &#39;2016-03-15 10:43:46&#39;\r\n    System info: host: &#39;LKXXXX&#39;, ip: &#39;10.88.68.53&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_131&#39;\r\n    Driver info: io.appium.java_client.ios.IOSDriver\r\n\r\nMy code is as below:\r\n\r\n    import org.junit.*;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.net.URL;\r\n    import io.appium.java_client.ios.IOSDriver;\r\n    \r\n    public class CalculatorTest {\r\n    \r\n        private static IOSDriver CalculatorSession = null;\r\n        private static WebElement CalculatorResult = null;\r\n    \r\n        @BeforeClass\r\n        public static void setup() {\r\n            try {\r\n                DesiredCapabilities capabilities = new DesiredCapabilities();\r\n                capabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Windows\\\\System32\\\\calc.exe&quot;);\r\n                CalculatorSession = new IOSDriver(new URL(&quot;http://127.0.0.1:4723&quot;), capabilities);\r\n                CalculatorSession.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\r\n    \r\n                CalculatorSession.findElementByName(&quot;Clear&quot;).click();\r\n                CalculatorSession.findElementByName(&quot;Seven&quot;).click();\r\n                CalculatorResult = CalculatorSession.findElementByName(&quot;Display is  7 &quot;);\r\n                Assert.assertNotNull(CalculatorResult);\r\n    \r\n            }catch(Exception e){\r\n                e.printStackTrace();\r\n            } finally {\r\n            }\r\n        }\r\n    }\r\n\r\n***My Dev Environment*** \r\n\r\n - Windows 10 (Developer mode enabled)\r\n - appium v1.6.5\r\n - java v1.8\r\n - winappdriver v0.9-beta\r\n - IDE - Eclipse\r\n\r\nI will be glad if anyone can help me to fix this issue.\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://github.com/Microsoft/WinAppDriver/tree/master/Samples/Java/CalculatorTest\r\n","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>I'm trying to run automate test for windows calculator app on windows10 using <strong>Windows application driver (winAppDriver)</strong>, <strong>appium</strong> and <strong>java</strong> as below example:  <a href=\"https://github.com/Microsoft/WinAppDriver/tree/master/Samples/Java/CalculatorTest\" rel=\"noreferrer\">https://github.com/Microsoft/WinAppDriver/tree/master/Samples/Java/CalculatorTest</a>, but when I run the test after started the appium getting below mentioned error:</p>\n\n<pre><code>org.openqa.selenium.UnsupportedCommandException: The URL '/session' did not map to a valid resource\nCommand duration or timeout: 204 milliseconds\nBuild info: version: '2.53.0', revision: '35ae25b1534ae328c771e0856c93e187490ca824', time: '2016-03-15 10:43:46'\nSystem info: host: 'LKXXXX', ip: '10.88.68.53', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_131'\nDriver info: io.appium.java_client.ios.IOSDriver\n</code></pre>\n\n<p>My code is as below:</p>\n\n<pre><code>import org.junit.*;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport java.util.concurrent.TimeUnit;\nimport java.net.URL;\nimport io.appium.java_client.ios.IOSDriver;\n\npublic class CalculatorTest {\n\n    private static IOSDriver CalculatorSession = null;\n    private static WebElement CalculatorResult = null;\n\n    @BeforeClass\n    public static void setup() {\n        try {\n            DesiredCapabilities capabilities = new DesiredCapabilities();\n            capabilities.setCapability(\"app\", \"C:\\\\Windows\\\\System32\\\\calc.exe\");\n            CalculatorSession = new IOSDriver(new URL(\"http://127.0.0.1:4723\"), capabilities);\n            CalculatorSession.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\n\n            CalculatorSession.findElementByName(\"Clear\").click();\n            CalculatorSession.findElementByName(\"Seven\").click();\n            CalculatorResult = CalculatorSession.findElementByName(\"Display is  7 \");\n            Assert.assertNotNull(CalculatorResult);\n\n        }catch(Exception e){\n            e.printStackTrace();\n        } finally {\n        }\n    }\n}\n</code></pre>\n\n<p><strong><em>My Dev Environment</em></strong> </p>\n\n<ul>\n<li>Windows 10 (Developer mode enabled)</li>\n<li>appium v1.6.5</li>\n<li>java v1.8</li>\n<li>winappdriver v0.9-beta</li>\n<li>IDE - Eclipse</li>\n</ul>\n\n<p>I will be glad if anyone can help me to fix this issue.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","testing","mockito","static-methods","instance-methods"],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692709952,"creation_date":1692709952,"answer_id":76953686,"question_id":76952743,"body_markdown":"Although it&#39;s possible, I wouldn&#39;t recommend it. There might be a way to refactor and split the static method out into a util class.\r\n\r\nIf it&#39;s not possible you can use `MockStatic` and afterwards create an instance :\r\n```\r\nMockedStatic&lt;ABC&gt; staticABC = Mockito.mockStatic(ABC.class);\r\n... // define operations on mock\r\nABC abc = new ABC();\r\nabc.method1();\r\n... // assertions\r\n```\r\n\r\nI added an example in this [repository](https://github.com/Lefeverw/stackoverflow-mock-static-method)","title":"Mockito mock static method of class, but other instance methods of same class should not be mocked instead it must be called normally","body":"<p>Although it's possible, I wouldn't recommend it. There might be a way to refactor and split the static method out into a util class.</p>\n<p>If it's not possible you can use <code>MockStatic</code> and afterwards create an instance :</p>\n<pre><code>MockedStatic&lt;ABC&gt; staticABC = Mockito.mockStatic(ABC.class);\n... // define operations on mock\nABC abc = new ABC();\nabc.method1();\n... // assertions\n</code></pre>\n<p>I added an example in this <a href=\"https://github.com/Lefeverw/stackoverflow-mock-static-method\" rel=\"nofollow noreferrer\">repository</a></p>\n"}],"owner":{"account_id":25828086,"reputation":1,"user_id":19565788,"display_name":"Ujef Malek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692709952,"creation_date":1692703067,"question_id":76952743,"body_markdown":"I have class let say ABC.\r\nIn this class there is static method `public static void staticOne(){...}` \r\nIn same class there are non-static methods also present let say `method1() method2()`.\r\n\r\nIn mockito I want to write test case for `method1()` in which static method staticOne is being called and I want to mock it.\r\nSo how can I do that ?\r\n\r\nI am using mockito version 4.11.0.\r\nCan I have solution for this problem using only mockito ?\r\n\r\n=============================================================\r\n\r\n    class ABC {\r\n    \r\n    public void static staticOne(){\r\n    ...\r\n    }\r\n    \r\n    public string method1(){\r\n    staticOne();\r\n    ...\r\n    }\r\n    \r\n    }\r\n\r\nhow can I write test case for `method1()` while mocking staticOne","title":"Mockito mock static method of class, but other instance methods of same class should not be mocked instead it must be called normally","body":"<p>I have class let say ABC.\nIn this class there is static method <code>public static void staticOne(){...}</code>\nIn same class there are non-static methods also present let say <code>method1() method2()</code>.</p>\n<p>In mockito I want to write test case for <code>method1()</code> in which static method staticOne is being called and I want to mock it.\nSo how can I do that ?</p>\n<p>I am using mockito version 4.11.0.\nCan I have solution for this problem using only mockito ?</p>\n<p>=============================================================</p>\n<pre><code>class ABC {\n\npublic void static staticOne(){\n...\n}\n\npublic string method1(){\nstaticOne();\n...\n}\n\n}\n</code></pre>\n<p>how can I write test case for <code>method1()</code> while mocking staticOne</p>\n"},{"tags":["java","android","kotlin","bundle","dagger-hilt"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692709006,"post_id":76953010,"comment_id":135658685,"body_markdown":"You should add more info on the error you are getting.","body":"You should add more info on the error you are getting."},{"owner":{"account_id":28241535,"reputation":1,"user_id":21589246,"display_name":"Eko Freshh"},"score":1,"creation_date":1692710365,"post_id":76953010,"comment_id":135659076,"body_markdown":"i did this too :)","body":"i did this too :)"}],"answers":[{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692707201,"creation_date":1692707201,"answer_id":76953311,"question_id":76953010,"body_markdown":"*I hope, this suggestion worked your side\\n*\r\n*Step 1: Build.Gradle(modual_app)*\r\n*dependency side:- *\r\n\r\n    //hilt\r\n    implementation &#39;com.google.dagger:hilt-android:2.44&#39;\r\n    kapt &#39;com.google.dagger:hilt-android-compiler:2.44&#39;\r\n    kapt &#39;androidx.hilt:hilt-compiler:1.0.0&#39;\r\n\r\n    //lifecycle\r\n    implementation &quot;androidx.activity:activity-ktx:1.7.2&quot;\r\n    implementation &quot;androidx.fragment:fragment-ktx:1.6.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\r\n*plugin side:- *\r\n\r\n    id &#39;kotlin-kapt&#39;\r\n    id &#39;com.google.dagger.hilt.android&#39;\r\n\r\n*Step 2: Build.gradle(project_name)*\r\n*plugin side:- *\r\n\r\n    id &#39;com.google.dagger.hilt.android&#39; version &quot;2.44&quot; apply false\r\n*Step 3: * *Sync Now*\r\n*Step 4: * * clicked file -&gt; setting -&gt; search &quot;Gradle&quot; -&gt; check JDK -&gt; change jdk11 *\r\n*Step 5: invalid cache and restart*\r\n","title":"Getting error : CreationExtras must have a value by `SAVED_STATE_REGISTRY_OWNER_KEY`","body":"<p><em>I hope, this suggestion worked your side\\n</em>\n<em>Step 1: Build.Gradle(modual_app)</em>\n*dependency side:- *</p>\n<pre><code>//hilt\nimplementation 'com.google.dagger:hilt-android:2.44'\nkapt 'com.google.dagger:hilt-android-compiler:2.44'\nkapt 'androidx.hilt:hilt-compiler:1.0.0'\n\n//lifecycle\nimplementation &quot;androidx.activity:activity-ktx:1.7.2&quot;\nimplementation &quot;androidx.fragment:fragment-ktx:1.6.1&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\n</code></pre>\n<p>*plugin side:- *</p>\n<pre><code>id 'kotlin-kapt'\nid 'com.google.dagger.hilt.android'\n</code></pre>\n<p><em>Step 2: Build.gradle(project_name)</em>\n*plugin side:- *</p>\n<pre><code>id 'com.google.dagger.hilt.android' version &quot;2.44&quot; apply false\n</code></pre>\n<p>*Step 3: * <em>Sync Now</em>\n*Step 4: * * clicked file -&gt; setting -&gt; search &quot;Gradle&quot; -&gt; check JDK -&gt; change jdk11 *\n<em>Step 5: invalid cache and restart</em></p>\n"}],"owner":{"account_id":28241535,"reputation":1,"user_id":21589246,"display_name":"Eko Freshh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692709876,"creation_date":1692705002,"question_id":76953010,"body_markdown":"Hey I am trying to get a bundle with hilt but I get this error.\r\n\r\nmy gradle \r\n```\r\nimplementation &quot;androidx.navigation:navigation-compose:2.7.0&quot;\r\n    implementation &#39;androidx.fragment:fragment-ktx:1.6.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.7.2&#39;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&#39;\r\n    implementation &#39;androidx.savedstate:savedstate:1.2.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-common:2.6.1&#39;\r\n    implementation &#39;androidx.activity:activity-ktx:1.7.2&#39;\r\n```\r\nI saw that the solution was to add these libraries but it didn&#39;t work for me\r\n\r\nI want to open a screen with BizBundle but I get an error\r\n\r\n\r\nfull error is:\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.smartlife.ninovas, PID: 8861\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.smartlife.ninovas/com.thingclips.smart.scene.construct.detail.SceneDetailActivity}: java.lang.IllegalArgumentException: CreationExtras must have a value by `SAVED_STATE_REGISTRY_OWNER_KEY`\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3431)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3595)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7664)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: CreationExtras must have a value by `SAVED_STATE_REGISTRY_OWNER_KEY`\r\n        at androidx.lifecycle.SavedStateHandleSupport.createSavedStateHandle(SavedStateHandleSupport.kt:91)\r\n        at androidx.lifecycle.AbstractSavedStateViewModelFactory.create(AbstractSavedStateViewModelFactory.kt:90)\r\n        at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory.create(HiltViewModelFactory.java:116)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\r\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\r\n        at com.thingclips.smart.scene.construct.detail.SceneDetailViewModelFactoryKt.createViewModel(SceneDetailViewModelFactory.kt:14)\r\n        at com.thingclips.smart.scene.construct.detail.SceneDetailActivity.onCreate(SceneDetailActivity.kt:184)\r\n        at android.app.Activity.performCreate(Activity.java:8023)\r\n        at android.app.Activity.performCreate(Activity.java:8007)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3404)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3595)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7664)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n\r\n\r\nand this is the line:\r\n\r\n\r\n\r\n        IThingSceneBusinessService iThingSceneBusinessService = MicroContext.findServiceByInterface(IThingSceneBusinessService.class.getName());\r\n if(null != iThingSceneBusinessService &amp;&amp; HomeModel.getHomeID() != 0) {\r\n                                    iThingSceneBusinessService.addSceneBean(MainPage.this, HomeModel.getHomeID(), 1234);\r\n                                }","title":"Getting error : CreationExtras must have a value by `SAVED_STATE_REGISTRY_OWNER_KEY`","body":"<p>Hey I am trying to get a bundle with hilt but I get this error.</p>\n<p>my gradle</p>\n<pre><code>implementation &quot;androidx.navigation:navigation-compose:2.7.0&quot;\n    implementation 'androidx.fragment:fragment-ktx:1.6.1'\n    implementation 'androidx.activity:activity-compose:1.7.2'\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\n\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1'\n    implementation 'androidx.savedstate:savedstate:1.2.1'\n    implementation 'androidx.lifecycle:lifecycle-common:2.6.1'\n    implementation 'androidx.activity:activity-ktx:1.7.2'\n</code></pre>\n<p>I saw that the solution was to add these libraries but it didn't work for me</p>\n<p>I want to open a screen with BizBundle but I get an error</p>\n<p>full error is:</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.smartlife.ninovas, PID: 8861\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.smartlife.ninovas/com.thingclips.smart.scene.construct.detail.SceneDetailActivity}: java.lang.IllegalArgumentException: CreationExtras must have a value by <code>SAVED_STATE_REGISTRY_OWNER_KEY</code>\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3431)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3595)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7664)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: java.lang.IllegalArgumentException: CreationExtras must have a value by <code>SAVED_STATE_REGISTRY_OWNER_KEY</code>\nat androidx.lifecycle.SavedStateHandleSupport.createSavedStateHandle(SavedStateHandleSupport.kt:91)\nat androidx.lifecycle.AbstractSavedStateViewModelFactory.create(AbstractSavedStateViewModelFactory.kt:90)\nat dagger.hilt.android.internal.lifecycle.HiltViewModelFactory.create(HiltViewModelFactory.java:116)\nat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\nat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\nat androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\nat com.thingclips.smart.scene.construct.detail.SceneDetailViewModelFactoryKt.createViewModel(SceneDetailViewModelFactory.kt:14)\nat com.thingclips.smart.scene.construct.detail.SceneDetailActivity.onCreate(SceneDetailActivity.kt:184)\nat android.app.Activity.performCreate(Activity.java:8023)\nat android.app.Activity.performCreate(Activity.java:8007)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3404)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3595) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loop(Looper.java:223) \nat android.app.ActivityThread.main(ActivityThread.java:7664) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) </p>\n<p>and this is the line:</p>\n<pre><code>    IThingSceneBusinessService iThingSceneBusinessService = MicroContext.findServiceByInterface(IThingSceneBusinessService.class.getName());\n</code></pre>\n<p>if(null != iThingSceneBusinessService &amp;&amp; HomeModel.getHomeID() != 0) {\niThingSceneBusinessService.addSceneBean(MainPage.this, HomeModel.getHomeID(), 1234);\n}</p>\n"},{"tags":["java","dynamic","osgi","declarative-services"],"answers":[{"tags":[],"owner":{"account_id":892776,"reputation":19519,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555099361,"creation_date":1555079875,"answer_id":55654077,"question_id":55653320,"body_markdown":"Your code in main does not make sense.\r\n\r\nIf you create the instance of a (declarative services) DS component with the **`new`** keyword  then the whole DS logic will not be executed. Actually in OSGi you do not use a `main` method at all... maybe for starting the framework but not for your own logic.\r\n\r\nYou can access your spell checker by creating a shell command that uses it or by creating an http whiteboard service that uses it.\r\n\r\nFor setting the filter for the service references in `SpellChecker` you could use a configuration like:\r\n\r\npid: fully qualified name of SpellChecker\r\n\r\n----\r\n\r\n\r\n    dictionaryServices.target=(language=en)\r\n\r\nThis would set the `SpellChecker` to use only the English dictionaries.\r\n\r\nFor some more tips about DS you can refer to \r\nhttps://liquid-reality.de/2016/09/26/hints-ds.html\r\n","title":"Dynamically choose OSGi references based on property using Declarative Services","body":"<p>Your code in main does not make sense.</p>\n\n<p>If you create the instance of a (declarative services) DS component with the <strong><code>new</code></strong> keyword  then the whole DS logic will not be executed. Actually in OSGi you do not use a <code>main</code> method at all... maybe for starting the framework but not for your own logic.</p>\n\n<p>You can access your spell checker by creating a shell command that uses it or by creating an http whiteboard service that uses it.</p>\n\n<p>For setting the filter for the service references in <code>SpellChecker</code> you could use a configuration like:</p>\n\n<p>pid: fully qualified name of SpellChecker</p>\n\n<hr>\n\n<pre><code>dictionaryServices.target=(language=en)\n</code></pre>\n\n<p>This would set the <code>SpellChecker</code> to use only the English dictionaries.</p>\n\n<p>For some more tips about DS you can refer to \n<a href=\"https://liquid-reality.de/2016/09/26/hints-ds.html\" rel=\"nofollow noreferrer\">https://liquid-reality.de/2016/09/26/hints-ds.html</a></p>\n"},{"tags":[],"owner":{"account_id":658880,"reputation":6056,"user_id":1354879,"display_name":"Balazs Zsoldos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555090649,"creation_date":1555090649,"answer_id":55656998,"question_id":55653320,"body_markdown":"As I understand, you want to have 1:N relationship between two components.\r\n\r\nWith DS, you have a couple of alternatives:\r\n\r\n__whiteboard pattern__\r\n\r\nYou can implement whiteboard pattern, where component _1_ tracks service registrations of the DictionaryService OSGi services. Component _N_ registers services and each service registrations are caught and used by component _1_ that are registered.\r\n\r\nProblem might be that you do not want to activate component _1_ in production until all expected component _N_ registered their services and tracked by _1_.\r\n\r\n_Use a multi-cardinality reference with a complex filter expression_\r\n\r\nYou use a reference with multiple cardinality and a filter expression in the configuration like: (|(language=en)(language=es))\r\n\r\nProblem is the same as with whiteboard pattern.\r\n\r\nMany people start writing a &quot;health checker&quot; where 1:N relationship is also defined and notifies the programmer if not all services are started (or disallows the app to be accessible for the user). Problem with health checker approach is that programmer has to have the same logic redundant in the system.\r\n\r\n__Instead of DS, use ECM (another component model for OSGi)__\r\n\r\nWhile DS multi-cardinality reference and whiteboard pattern give a very comfortable flexibility in development time, it is often not suitable for production when all services must be injected before the application becomes accessible by the users.\r\n\r\n[ECM][1] supports 1:N relationship in the following way:\r\n\r\n - In component _1_ you can define an array of filters\r\n - Component _1_ will be satisfied only when there is an OSGi service for all specified filters.\r\n\r\nAs the scope and goal of an ECM component are pretty similar to a DS component&#39;s scope and goal, people knowing DS need only a couple of hours to learn ECM. As ECM is also dependent on OSGi services, DS and ECM can live easily next to each other in the same system and use the OSGi services provided by the other one.\r\n\r\nBased on your example:\r\n\r\n    // All annotations from the ecm package\r\n\r\n    @Component\r\n    public class SpellChecker {\r\n\r\n      @ServiceRef\r\n      private DictionaryService[] dictionaryServices;\r\n\r\n      // I think the language should be a parameter of your service function\r\n      // rather than a member variable of your component class\r\n      public boolean check(String word, String language) {\r\n        if (word == null || word.isEmpty()) {\r\n          return true;\r\n        }\r\n\r\n        if (dictionaryServices == null || dictionaryService.length = 0) {\r\n          return false;\r\n        }\r\n\r\n        List&lt;DictionaryService&gt; ds = Arrays.asList(dictionaryServices);\r\n\r\n        return ds.stream().anyMatch(dictionary -&gt; dictionary.check(word));\r\n      }\r\n\r\n      // You need a setter in case of ECM and you can annotate the setter as well.\r\n      // If you annotate the field instead, you need to specify the setter as an\r\n      // attribute of the annotation\r\n      @ServiceRef()\r\n      public void setDictionaryServices(DictionaryService[] dictionaryServices) {\r\n        this.dictionaryServices = dictionaryServices;\r\n      }\r\n    }\r\n\r\nThe component above can be used with the following string array in the configuration:\r\n\r\n    dictionaryServices.target = [\r\n                                 &quot;(language=en)&quot;,\r\n                                 &quot;(language=de)&quot;,\r\n                                 &quot;(language=&quot;es&quot;)&quot;\r\n                                ]\r\n\r\nThe component will be activated when all three references are available and you will get an array of dictionary services with three items in it (with the same order in the array as in the configuration).\r\n\r\n[1]: https://www.everit.org/ecm/\r\n","title":"Dynamically choose OSGi references based on property using Declarative Services","body":"<p>As I understand, you want to have 1:N relationship between two components.</p>\n\n<p>With DS, you have a couple of alternatives:</p>\n\n<p><strong>whiteboard pattern</strong></p>\n\n<p>You can implement whiteboard pattern, where component <em>1</em> tracks service registrations of the DictionaryService OSGi services. Component <em>N</em> registers services and each service registrations are caught and used by component <em>1</em> that are registered.</p>\n\n<p>Problem might be that you do not want to activate component <em>1</em> in production until all expected component <em>N</em> registered their services and tracked by <em>1</em>.</p>\n\n<p><em>Use a multi-cardinality reference with a complex filter expression</em></p>\n\n<p>You use a reference with multiple cardinality and a filter expression in the configuration like: (|(language=en)(language=es))</p>\n\n<p>Problem is the same as with whiteboard pattern.</p>\n\n<p>Many people start writing a \"health checker\" where 1:N relationship is also defined and notifies the programmer if not all services are started (or disallows the app to be accessible for the user). Problem with health checker approach is that programmer has to have the same logic redundant in the system.</p>\n\n<p><strong>Instead of DS, use ECM (another component model for OSGi)</strong></p>\n\n<p>While DS multi-cardinality reference and whiteboard pattern give a very comfortable flexibility in development time, it is often not suitable for production when all services must be injected before the application becomes accessible by the users.</p>\n\n<p><a href=\"https://www.everit.org/ecm/\" rel=\"nofollow noreferrer\">ECM</a> supports 1:N relationship in the following way:</p>\n\n<ul>\n<li>In component <em>1</em> you can define an array of filters</li>\n<li>Component <em>1</em> will be satisfied only when there is an OSGi service for all specified filters.</li>\n</ul>\n\n<p>As the scope and goal of an ECM component are pretty similar to a DS component's scope and goal, people knowing DS need only a couple of hours to learn ECM. As ECM is also dependent on OSGi services, DS and ECM can live easily next to each other in the same system and use the OSGi services provided by the other one.</p>\n\n<p>Based on your example:</p>\n\n<pre><code>// All annotations from the ecm package\n\n@Component\npublic class SpellChecker {\n\n  @ServiceRef\n  private DictionaryService[] dictionaryServices;\n\n  // I think the language should be a parameter of your service function\n  // rather than a member variable of your component class\n  public boolean check(String word, String language) {\n    if (word == null || word.isEmpty()) {\n      return true;\n    }\n\n    if (dictionaryServices == null || dictionaryService.length = 0) {\n      return false;\n    }\n\n    List&lt;DictionaryService&gt; ds = Arrays.asList(dictionaryServices);\n\n    return ds.stream().anyMatch(dictionary -&gt; dictionary.check(word));\n  }\n\n  // You need a setter in case of ECM and you can annotate the setter as well.\n  // If you annotate the field instead, you need to specify the setter as an\n  // attribute of the annotation\n  @ServiceRef()\n  public void setDictionaryServices(DictionaryService[] dictionaryServices) {\n    this.dictionaryServices = dictionaryServices;\n  }\n}\n</code></pre>\n\n<p>The component above can be used with the following string array in the configuration:</p>\n\n<pre><code>dictionaryServices.target = [\n                             \"(language=en)\",\n                             \"(language=de)\",\n                             \"(language=\"es\")\"\n                            ]\n</code></pre>\n\n<p>The component will be activated when all three references are available and you will get an array of dictionary services with three items in it (with the same order in the array as in the configuration).</p>\n"},{"tags":[],"owner":{"account_id":6915990,"reputation":51,"user_id":5310254,"display_name":"Sheikh Mohammed Habib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692709790,"creation_date":1692709790,"answer_id":76953670,"question_id":55653320,"body_markdown":"As I understand you want to fetch all service instance references of Dictionary Services which implements DictionaryService interface. You can achieve this by using below simple OSGI DS code.\r\n\r\n    @Reference(cardinality = ReferenceCardinality.MULTIPLE)\r\n    private volatile List&lt;DictionaryService&gt; dictionaryServices;","title":"Dynamically choose OSGi references based on property using Declarative Services","body":"<p>As I understand you want to fetch all service instance references of Dictionary Services which implements DictionaryService interface. You can achieve this by using below simple OSGI DS code.</p>\n<pre><code>@Reference(cardinality = ReferenceCardinality.MULTIPLE)\nprivate volatile List&lt;DictionaryService&gt; dictionaryServices;\n</code></pre>\n"}],"owner":{"account_id":1410893,"reputation":315,"user_id":1337508,"accept_rate":75,"display_name":"roadkill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1418,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692709790,"creation_date":1555077408,"question_id":55653320,"body_markdown":"I&#39;m new to OSGi and am quickly becoming overwhelmed by its complexity. I believe this should be fairly simple, but I haven&#39;t been able to find a complete working example of what I&#39;m trying to achieve.\r\n\r\nI have a Java class `Foo` which contains a collection of services. These services need to be filtered based on a value which is specific to that particular instance of `Foo`. There can be multiple instances of `Foo`, but each one should have its own set of filtered services.\r\n\r\nTo illustrate, consider the following example (inspired by the [Apache Felix tutorials](http://felix.apache.org/documentation/tutorials-examples-and-presentations/apache-felix-osgi-tutorial/apache-felix-tutorial-example-9.html)):\r\n\r\n```java\r\npublic interface DictionaryService {\r\n    public boolean check(String word);\r\n}\r\n```\r\n\r\n```java\r\n@Component(property = &quot;language=en&quot;)\r\npublic class EnglishDictionaryService implements DictionaryService {\r\n    private static final String[] WORDS = {&quot;hi&quot;, &quot;hello&quot; /*...*/};\r\n\r\n    @Override\r\n    public boolean check(String word) {\r\n        if (word == null || word.isEmpty()) {\r\n            return true;\r\n        }\r\n\r\n        // super inefficient but you get the gist\r\n        return Arrays.stream(WORDS).anyMatch(entry -&gt; word.equalsIgnoreCase(entry));\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component(property = &quot;language=en&quot;)\r\npublic class TexanDictionaryService implements DictionaryService {\r\n    private static final String[] WORDS = {&quot;howdy&quot; /*...*/};\r\n    //...\r\n}\r\n```\r\n\r\n```java\r\n@Component(property = &quot;language=en&quot;)\r\npublic class AustralianDictionaryService implements DictionaryService {\r\n    private static final String[] WORDS = {&quot;g&#39;day&quot; /*...*/};\r\n    //...\r\n}\r\n```\r\n\r\n```java\r\n@Component(property = &quot;language=es&quot;)\r\npublic class SpanishDictionaryService implements DictionaryService {\r\n    private static final String[] WORDS = {&quot;hola&quot; /*...*/};\r\n    //...\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class SpellChecker {\r\n\r\n    @Reference\r\n    private volatile List&lt;DictionaryService&gt; dictionaryServices;\r\n\r\n    public SpellChecker(String language) {\r\n        // TODO: how to ensure my dictionaryServices match the given language code?\r\n        // dictionaryServices.target = &quot;(language=&quot; + language + &quot;)&quot;\r\n    }\r\n\r\n    public boolean check(String word) {\r\n        if (word == null || word.isEmpty()) {\r\n            return true;\r\n        }\r\n\r\n        List&lt;DictionaryService&gt; ds = dictionaryServices;\r\n\r\n        if (ds == null || ds.isEmpty()) {\r\n            return false;\r\n        }\r\n        \r\n        return ds.stream().anyMatch(dictionary -&gt; dictionary.check(word));\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    SpellChecker englishChecker = new SpellChecker(&quot;en&quot;);\r\n    SpellChecker spanishChecker = new SpellChecker(&quot;es&quot;);\r\n    // do stuff\r\n}\r\n```\r\n\r\nAfter reading through [several](https://stackoverflow.com/questions/47393876/dynamically-setting-target-property-in-osgi-reference-annotatation) [StackExchange](https://stackoverflow.com/questions/21166070/osgi-declarative-services-filter-references-at-runtime) [posts](https://stackoverflow.com/questions/32785821/dynamic-target-for-declarative-service-in-osgi) and some [other](http://blog.vogella.com/2017/02/24/control-osgi-ds-component-instances-via-configuration-admin/) [articles](https://thecarlhall.wordpress.com/2010/06/06/set-osgi-service-reference-target-through-configuration/), it seems this can be done using `ConfigurationAdmin`. However, it&#39;s unclear exactly where and how `ConfigurationAdmin` should be used, especially with regards to Declarative Services. I&#39;ve also read and reread the [Configuration Admin Service Specification](https://osgi.org/specification/osgi.cmpn/7.0.0/service.cm.html), but I&#39;m struggling to apply the concepts.\r\n\r\nCan someone fill in the gaps in my understanding?\r\n\r\nThanks in advance!\r\n\r\n---\r\n\r\n# Edit\r\n\r\n[Christian&#39;s answer](https://stackoverflow.com/a/55654077/1337508) helped me think about Declarative Services in a different way. As I was going back through my research, I came across [Alan Hohn&#39;s blog posts on DZone](https://dzone.com/articles/osgi-services-automated-discovery-and-registration) again. Unfortunately, it seems he never finished his series which promised to cover service lookups using DS. However, his [example source code](https://github.com/AlanHohn/karaf-greeter/blob/master/manager/src/main/java/org/anvard/karaf/greeter/GreeterManager.java) contains the following:\r\n\r\n```java\r\npublic String greet(String language) {\r\n    BundleContext context = FrameworkUtil.getBundle(this.getClass()).getBundleContext();\r\n\r\n    String filter = &quot;(language=&quot; + language + &quot;)&quot;;\r\n\r\n    // Get ServiceReference(s) from OSGi framework, filtered for the specified value\r\n    ServiceReference[] refs = null;\r\n    try {\r\n        refs = context.getServiceReferences(Greeter.class.getName(), filter);\r\n        if (null != refs) {\r\n            Greeter greeter = (Greeter)context.getService(refs[0]);\r\n            return greeter.greet();\r\n        }\r\n    } catch (InvalidSyntaxException e) {\r\n        LOGGER.error(&quot;Invalid query syntax&quot;, e);\r\n    }\r\n    LOGGER.warn(&quot;No plugins found, making the default greeting&quot;);\r\n    return &quot;Hello from the greeter manager!&quot;;\r\n}\r\n```\r\n\r\nThis looks like a viable solution, but it doesn&#39;t appear to use DS. Are there any special considerations with this approach? I&#39;ve seen plenty of posts on SO and elsewhere which claim DS is the cure-all for `BundleContext#getServiceReferences`, so I&#39;m curious if/how this could be refactored to use DS.","title":"Dynamically choose OSGi references based on property using Declarative Services","body":"<p>I'm new to OSGi and am quickly becoming overwhelmed by its complexity. I believe this should be fairly simple, but I haven't been able to find a complete working example of what I'm trying to achieve.</p>\n\n<p>I have a Java class <code>Foo</code> which contains a collection of services. These services need to be filtered based on a value which is specific to that particular instance of <code>Foo</code>. There can be multiple instances of <code>Foo</code>, but each one should have its own set of filtered services.</p>\n\n<p>To illustrate, consider the following example (inspired by the <a href=\"http://felix.apache.org/documentation/tutorials-examples-and-presentations/apache-felix-osgi-tutorial/apache-felix-tutorial-example-9.html\" rel=\"nofollow noreferrer\">Apache Felix tutorials</a>):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface DictionaryService {\n    public boolean check(String word);\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component(property = \"language=en\")\npublic class EnglishDictionaryService implements DictionaryService {\n    private static final String[] WORDS = {\"hi\", \"hello\" /*...*/};\n\n    @Override\n    public boolean check(String word) {\n        if (word == null || word.isEmpty()) {\n            return true;\n        }\n\n        // super inefficient but you get the gist\n        return Arrays.stream(WORDS).anyMatch(entry -&gt; word.equalsIgnoreCase(entry));\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component(property = \"language=en\")\npublic class TexanDictionaryService implements DictionaryService {\n    private static final String[] WORDS = {\"howdy\" /*...*/};\n    //...\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component(property = \"language=en\")\npublic class AustralianDictionaryService implements DictionaryService {\n    private static final String[] WORDS = {\"g'day\" /*...*/};\n    //...\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component(property = \"language=es\")\npublic class SpanishDictionaryService implements DictionaryService {\n    private static final String[] WORDS = {\"hola\" /*...*/};\n    //...\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SpellChecker {\n\n    @Reference\n    private volatile List&lt;DictionaryService&gt; dictionaryServices;\n\n    public SpellChecker(String language) {\n        // TODO: how to ensure my dictionaryServices match the given language code?\n        // dictionaryServices.target = \"(language=\" + language + \")\"\n    }\n\n    public boolean check(String word) {\n        if (word == null || word.isEmpty()) {\n            return true;\n        }\n\n        List&lt;DictionaryService&gt; ds = dictionaryServices;\n\n        if (ds == null || ds.isEmpty()) {\n            return false;\n        }\n\n        return ds.stream().anyMatch(dictionary -&gt; dictionary.check(word));\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    SpellChecker englishChecker = new SpellChecker(\"en\");\n    SpellChecker spanishChecker = new SpellChecker(\"es\");\n    // do stuff\n}\n</code></pre>\n\n<p>After reading through <a href=\"https://stackoverflow.com/questions/47393876/dynamically-setting-target-property-in-osgi-reference-annotatation\">several</a> <a href=\"https://stackoverflow.com/questions/21166070/osgi-declarative-services-filter-references-at-runtime\">StackExchange</a> <a href=\"https://stackoverflow.com/questions/32785821/dynamic-target-for-declarative-service-in-osgi\">posts</a> and some <a href=\"http://blog.vogella.com/2017/02/24/control-osgi-ds-component-instances-via-configuration-admin/\" rel=\"nofollow noreferrer\">other</a> <a href=\"https://thecarlhall.wordpress.com/2010/06/06/set-osgi-service-reference-target-through-configuration/\" rel=\"nofollow noreferrer\">articles</a>, it seems this can be done using <code>ConfigurationAdmin</code>. However, it's unclear exactly where and how <code>ConfigurationAdmin</code> should be used, especially with regards to Declarative Services. I've also read and reread the <a href=\"https://osgi.org/specification/osgi.cmpn/7.0.0/service.cm.html\" rel=\"nofollow noreferrer\">Configuration Admin Service Specification</a>, but I'm struggling to apply the concepts.</p>\n\n<p>Can someone fill in the gaps in my understanding?</p>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<h1>Edit</h1>\n\n<p><a href=\"https://stackoverflow.com/a/55654077/1337508\">Christian's answer</a> helped me think about Declarative Services in a different way. As I was going back through my research, I came across <a href=\"https://dzone.com/articles/osgi-services-automated-discovery-and-registration\" rel=\"nofollow noreferrer\">Alan Hohn's blog posts on DZone</a> again. Unfortunately, it seems he never finished his series which promised to cover service lookups using DS. However, his <a href=\"https://github.com/AlanHohn/karaf-greeter/blob/master/manager/src/main/java/org/anvard/karaf/greeter/GreeterManager.java\" rel=\"nofollow noreferrer\">example source code</a> contains the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public String greet(String language) {\n    BundleContext context = FrameworkUtil.getBundle(this.getClass()).getBundleContext();\n\n    String filter = \"(language=\" + language + \")\";\n\n    // Get ServiceReference(s) from OSGi framework, filtered for the specified value\n    ServiceReference[] refs = null;\n    try {\n        refs = context.getServiceReferences(Greeter.class.getName(), filter);\n        if (null != refs) {\n            Greeter greeter = (Greeter)context.getService(refs[0]);\n            return greeter.greet();\n        }\n    } catch (InvalidSyntaxException e) {\n        LOGGER.error(\"Invalid query syntax\", e);\n    }\n    LOGGER.warn(\"No plugins found, making the default greeting\");\n    return \"Hello from the greeter manager!\";\n}\n</code></pre>\n\n<p>This looks like a viable solution, but it doesn't appear to use DS. Are there any special considerations with this approach? I've seen plenty of posts on SO and elsewhere which claim DS is the cure-all for <code>BundleContext#getServiceReferences</code>, so I'm curious if/how this could be refactored to use DS.</p>\n"},{"tags":["java","if-statement","null-check"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1692097353,"post_id":76905297,"comment_id":135575595,"body_markdown":"There is no good answer to this.  Sure, you can reduce the complexity by arbitrarily splitting this method in into two or more parts.  The metric should improve ... but it doesn&#39;t improve the *actual* readability.  Hence it is not (IMO) a *good* answer.  So-called code quality metrics are often unhelpful ...","body":"There is no good answer to this.  Sure, you can reduce the complexity by arbitrarily splitting this method in into two or more parts.  The metric should improve ... but it doesn&#39;t improve the <i>actual</i> readability.  Hence it is not (IMO) a <i>good</i> answer.  So-called code quality metrics are often unhelpful ..."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1692099298,"post_id":76905297,"comment_id":135575989,"body_markdown":"I would say that your initial design is strange. Why does class `FruitBasket1` have the same attributes as `FruitBasket2`? Maybe one class should extend the other? Why is `FruitBasket1` a generic class? If method `setName` (for example but is applicable to other `set*` methods) simply assigns a value to a class member variable, then the initial value of that member is null, anyway, so what does it matter if you re-assign it a value of null by passing null as the parameter to the `setName` method?","body":"I would say that your initial design is strange. Why does class <code>FruitBasket1</code> have the same attributes as <code>FruitBasket2</code>? Maybe one class should extend the other? Why is <code>FruitBasket1</code> a generic class? If method <code>setName</code> (for example but is applicable to other <code>set*</code> methods) simply assigns a value to a class member variable, then the initial value of that member is null, anyway, so what does it matter if you re-assign it a value of null by passing null as the parameter to the <code>setName</code> method?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1692104906,"post_id":76905297,"comment_id":135577085,"body_markdown":"Your requirement doesn&#39;t make much sense to me.  How does the source `fruitbasket&#39;s` attributes become null in the first place.  What other alternative is there if someone doesn&#39;t set a value?  Is there a non-null default value.  But then, why not just set that from one `fruitbasket` to the other?","body":"Your requirement doesn&#39;t make much sense to me.  How does the source <code>fruitbasket&#39;s</code> attributes become null in the first place.  What other alternative is there if someone doesn&#39;t set a value?  Is there a non-null default value.  But then, why not just set that from one <code>fruitbasket</code> to the other?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692116965,"post_id":76905297,"comment_id":135579603,"body_markdown":"On the other hand, if you already had set some attribute and didn&#39;t want to wipe it out with null, your requirement in isolation would make sense.  But then you would still permit changing  attributes of existing fruitbaskets.  So you could make an existing `banana` `purple` but not null.   In that case, I would still test for null in the `setMethods` and set as appropriate.  Barring that, I find your existing solution easy to read and solves your issue.","body":"On the other hand, if you already had set some attribute and didn&#39;t want to wipe it out with null, your requirement in isolation would make sense.  But then you would still permit changing  attributes of existing fruitbaskets.  So you could make an existing <code>banana</code> <code>purple</code> but not null.   In that case, I would still test for null in the <code>setMethods</code> and set as appropriate.  Barring that, I find your existing solution easy to read and solves your issue."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692117410,"post_id":76905297,"comment_id":135579685,"body_markdown":"On a different note, I think of a `FruitBasket` as  a container to hold different types and quantifies of fruit.  So without knowing more about your use case, classes, etc, I would have expected a `Fruit class` where the objects would be assigned to a particular `fruit basket` whatever the latter is defined to be.","body":"On a different note, I think of a <code>FruitBasket</code> as  a container to hold different types and quantifies of fruit.  So without knowing more about your use case, classes, etc, I would have expected a <code>Fruit class</code> where the objects would be assigned to a particular <code>fruit basket</code> whatever the latter is defined to be."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692105646,"creation_date":1692097592,"answer_id":76905397,"question_id":76905297,"body_markdown":"If you are willing to add an additional dependency, ***MapStruct*** is a very good choice to map ***Beans/Dtos*** in a very readable manner. \r\n\r\nYou could simply add an interface and map these two objects.\r\n\r\nIn order to ignore null values, you need to set the property, `nullValuePropertyMappingStrategy` to `NullValuePropertyMappingStrategy.IGNORE`\r\n\r\nThus, the final code looks like:\r\n\r\n    @Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE )\r\n    public interface SimpleSourceDestinationMapper {\r\n        FruitBasket2 sourceToDestination(FruitBasket1 fruitBasket1);\r\n    }\r\n\r\nSince, `FruitBasket1` and `FruitBasket2` have same attributes, it will automatically map them all except the null values.\r\n\r\nNote: It is just a more readable version of the mapping. In terms of complexity, it is the same.\r\n\r\nGuides to Mapstruct: https://www.baeldung.com/mapstruct","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>If you are willing to add an additional dependency, <em><strong>MapStruct</strong></em> is a very good choice to map <em><strong>Beans/Dtos</strong></em> in a very readable manner.</p>\n<p>You could simply add an interface and map these two objects.</p>\n<p>In order to ignore null values, you need to set the property, <code>nullValuePropertyMappingStrategy</code> to <code>NullValuePropertyMappingStrategy.IGNORE</code></p>\n<p>Thus, the final code looks like:</p>\n<pre><code>@Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE )\npublic interface SimpleSourceDestinationMapper {\n    FruitBasket2 sourceToDestination(FruitBasket1 fruitBasket1);\n}\n</code></pre>\n<p>Since, <code>FruitBasket1</code> and <code>FruitBasket2</code> have same attributes, it will automatically map them all except the null values.</p>\n<p>Note: It is just a more readable version of the mapping. In terms of complexity, it is the same.</p>\n<p>Guides to Mapstruct: <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mapstruct</a></p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692097957,"creation_date":1692097957,"answer_id":76905444,"question_id":76905297,"body_markdown":"You can extract that logic by using method references for the getters and setters.\r\n\r\nFor example you can extract `Fruit::getColor` to a `Function&lt;Fruit, String&gt;` and squeeze the setter into a `BiConsumer&lt;Fruit, String&gt;`.\r\n\r\nThen you can match each getter to a setter using some generic `Pair` such as a simple\r\n\r\n    record Pair&lt;R,L&gt; (R a, L b){}\r\n\r\nThen you can store these `Pair`s into a `List` and iterate over them:\r\n\r\n\r\n        List&lt;Pair&lt;Function&lt;Fruit, String&gt;, BiConsumer&lt;Fruit, String&gt;&gt;&gt; getterSetterPair = new ArrayList&lt;&gt;();\r\n        //&quot;connect&quot; getters and setters here\r\n        getterSetterPair.add(new Pair&lt;&gt;(Fruit::getColor, Fruit::setColor));\r\n        getterSetterPair.add(new Pair&lt;&gt;(Fruit::getName, Fruit::setName));\r\n\r\n        Fruit fruit1 = null, fruit2 = null;\r\n        for(Pair&lt;Function&lt;Fruit, String&gt;, BiConsumer&lt;Fruit, String&gt;&gt;pair:getterSetterPair) {\r\n            Function&lt;Fruit, String&gt; getter = pair.a();\r\n            BiConsumer&lt;Fruit, String&gt; setter = pair.b();\r\n            //this is doing the logic you did before\r\n            String value = getter.apply(fruit1);\r\n            if(value != null) {\r\n                setter.accept(fruit2, value);\r\n            }\r\n        }\r\n\r\nIn general, I would also advise you to use a proven library such as MapStruct (see @hermit&#39;s) answer for that.","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>You can extract that logic by using method references for the getters and setters.</p>\n<p>For example you can extract <code>Fruit::getColor</code> to a <code>Function&lt;Fruit, String&gt;</code> and squeeze the setter into a <code>BiConsumer&lt;Fruit, String&gt;</code>.</p>\n<p>Then you can match each getter to a setter using some generic <code>Pair</code> such as a simple</p>\n<pre><code>record Pair&lt;R,L&gt; (R a, L b){}\n</code></pre>\n<p>Then you can store these <code>Pair</code>s into a <code>List</code> and iterate over them:</p>\n<pre><code>    List&lt;Pair&lt;Function&lt;Fruit, String&gt;, BiConsumer&lt;Fruit, String&gt;&gt;&gt; getterSetterPair = new ArrayList&lt;&gt;();\n    //&quot;connect&quot; getters and setters here\n    getterSetterPair.add(new Pair&lt;&gt;(Fruit::getColor, Fruit::setColor));\n    getterSetterPair.add(new Pair&lt;&gt;(Fruit::getName, Fruit::setName));\n\n    Fruit fruit1 = null, fruit2 = null;\n    for(Pair&lt;Function&lt;Fruit, String&gt;, BiConsumer&lt;Fruit, String&gt;&gt;pair:getterSetterPair) {\n        Function&lt;Fruit, String&gt; getter = pair.a();\n        BiConsumer&lt;Fruit, String&gt; setter = pair.b();\n        //this is doing the logic you did before\n        String value = getter.apply(fruit1);\n        if(value != null) {\n            setter.accept(fruit2, value);\n        }\n    }\n</code></pre>\n<p>In general, I would also advise you to use a proven library such as MapStruct (see @hermit's) answer for that.</p>\n"},{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1692195878,"creation_date":1692098603,"answer_id":76905527,"question_id":76905297,"body_markdown":"You can use `Optional&lt;&gt;`.\r\n\r\n\r\n```java\r\n// static imported Optional.ofNullable()\r\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\r\n   ofNullable(fruit1.name).ifPresent(fruit2::setName);\r\n   ofNullable(fruit1.number).ifPresent(fruit2::setNumber);\r\n   ofNullable(fruit1.color).ifPresent(fruit2::setColor);\r\n   ofNullable(fruit1.region).ifPresent(fruit2::setRegion);\r\n}\r\n```\r\n\r\nYou can improve it a little bit more with a static import of `ofNullable()`.\r\n\r\n\r\n## Edit\r\nI&#39;m not sure, but you need to change the type somehow?  \r\nAlso that is fluent possible with `Optional`.\r\n\r\n```java\r\n// static imported Optional.ofNullable()\r\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\r\n   ofNullable(fruit1.name).map(Object::toString).ifPresent(fruit2::setName);\r\n   ofNullable(fruit1.number).map(Object::toString).ifPresent(fruit2::setNumber);\r\n   ofNullable(fruit1.color).map(Object::toString).ifPresent(fruit2::setColor);\r\n   ofNullable(fruit1.region).map(Object::toString).ifPresent(fruit2::setRegion);\r\n}\r\n```","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>You can use <code>Optional&lt;&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// static imported Optional.ofNullable()\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\n   ofNullable(fruit1.name).ifPresent(fruit2::setName);\n   ofNullable(fruit1.number).ifPresent(fruit2::setNumber);\n   ofNullable(fruit1.color).ifPresent(fruit2::setColor);\n   ofNullable(fruit1.region).ifPresent(fruit2::setRegion);\n}\n</code></pre>\n<p>You can improve it a little bit more with a static import of <code>ofNullable()</code>.</p>\n<h2>Edit</h2>\n<p>I'm not sure, but you need to change the type somehow?<br />\nAlso that is fluent possible with <code>Optional</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// static imported Optional.ofNullable()\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\n   ofNullable(fruit1.name).map(Object::toString).ifPresent(fruit2::setName);\n   ofNullable(fruit1.number).map(Object::toString).ifPresent(fruit2::setNumber);\n   ofNullable(fruit1.color).map(Object::toString).ifPresent(fruit2::setColor);\n   ofNullable(fruit1.region).map(Object::toString).ifPresent(fruit2::setRegion);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692100278,"creation_date":1692100278,"answer_id":76905736,"question_id":76905297,"body_markdown":"Yes, you can also define the following method:\r\n\r\n\r\n    private static &lt;T&gt; void setIfNotNull(T value, Consumer&lt;T&gt; cons) {\r\n        if (value != null) {\r\n            cons.accept(value);\r\n        }\r\n    }\r\n\r\nAnd use it as follows:\r\n\r\n        setIfNotNull(fruit1.name, fruit2::setName);\r\n        setIfNotNull(fruit1.number, fruit2::setNumber);\r\n        setIfNotNull(fruit1.color, fruit2::setColor);\r\n        setIfNotNull(fruit1.region, fruit2::setRegion);\r\n","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>Yes, you can also define the following method:</p>\n<pre><code>private static &lt;T&gt; void setIfNotNull(T value, Consumer&lt;T&gt; cons) {\n    if (value != null) {\n        cons.accept(value);\n    }\n}\n</code></pre>\n<p>And use it as follows:</p>\n<pre><code>    setIfNotNull(fruit1.name, fruit2::setName);\n    setIfNotNull(fruit1.number, fruit2::setNumber);\n    setIfNotNull(fruit1.color, fruit2::setColor);\n    setIfNotNull(fruit1.region, fruit2::setRegion);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692116287,"creation_date":1692103765,"answer_id":76906102,"question_id":76905297,"body_markdown":"First, if these attributes are not supposed to be null, how do they get to be null in the first place?  And if they are null, why not just copy them?  Without fully understanding your use case, it doesn&#39;t make much sense.\r\nEspecially when one wonders what the `getter` would return.\r\n\r\nIn any event, presuming that you never want to set the fruit in a basket if it is null, then enforce that invariant in the `setMethod` itself.  \r\n```\r\nclass FruitBasket2 {\r\n   public void setName(FruitBasket1&lt;?&gt; fb) {\r\n         if(fb.name != null) {\r\n             this.name = fb.name;\r\n          }\r\n   }\r\n   ...\r\n   ...\r\n}\r\n```\r\nConsider that if someone were to use your class `FruitBasket`, why make the user check for null before setting the value?\r\n\r\n","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>First, if these attributes are not supposed to be null, how do they get to be null in the first place?  And if they are null, why not just copy them?  Without fully understanding your use case, it doesn't make much sense.\nEspecially when one wonders what the <code>getter</code> would return.</p>\n<p>In any event, presuming that you never want to set the fruit in a basket if it is null, then enforce that invariant in the <code>setMethod</code> itself.</p>\n<pre><code>class FruitBasket2 {\n   public void setName(FruitBasket1&lt;?&gt; fb) {\n         if(fb.name != null) {\n             this.name = fb.name;\n          }\n   }\n   ...\n   ...\n}\n</code></pre>\n<p>Consider that if someone were to use your class <code>FruitBasket</code>, why make the user check for null before setting the value?</p>\n"}],"owner":{"account_id":26207948,"reputation":49,"user_id":19887279,"display_name":"developer new"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":76905527,"answer_count":5,"score":-1,"last_activity_date":1692709738,"creation_date":1692096784,"question_id":76905297,"body_markdown":"Hello I am looking for a way to reduce cognitive complexity of method which has multiple if statements. All are basically nullchecks for each item of object and is required.\r\n\r\nCode snippet:\r\n```\r\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\r\n\t\t\r\n\t\tif (fruit1.name != null) {\r\n\t\t\tfruit2.setName(fruit1.name.toString());\r\n\t\t}\r\n\r\n\t\tif (fruit1.number != null) {\r\n\t\t\tfruit2.setNumber(fruit1.number.toString());\r\n\t\t}\r\n\r\n\t\tif (fruit1.color != null) {\r\n\t\t\tfruit2.setColor(fruit1.color.toString());\r\n\t\t}\r\n\r\n\t\tif (fruit1.region != null) {\r\n\t\t\tfruit2.setRegion(fruit1.region.toString());\r\n\t\t}\r\n\t\t\r\n}\r\n```\r\n\r\nI have tried to use switch case but since its only null check didnt find feasible, also tried ternary operator. Is there a simpler way to do this as although in the code snippet its only few fields  there are almost 20 fields which need be null checked. What are the other possibilities to do this simple manner without modifying the POJO class and managing in this method itself.\r\n\r\nNote: There was an error in the code in the way values are set ","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>Hello I am looking for a way to reduce cognitive complexity of method which has multiple if statements. All are basically nullchecks for each item of object and is required.</p>\n<p>Code snippet:</p>\n<pre><code>private void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\n        \n        if (fruit1.name != null) {\n            fruit2.setName(fruit1.name.toString());\n        }\n\n        if (fruit1.number != null) {\n            fruit2.setNumber(fruit1.number.toString());\n        }\n\n        if (fruit1.color != null) {\n            fruit2.setColor(fruit1.color.toString());\n        }\n\n        if (fruit1.region != null) {\n            fruit2.setRegion(fruit1.region.toString());\n        }\n        \n}\n</code></pre>\n<p>I have tried to use switch case but since its only null check didnt find feasible, also tried ternary operator. Is there a simpler way to do this as although in the code snippet its only few fields  there are almost 20 fields which need be null checked. What are the other possibilities to do this simple manner without modifying the POJO class and managing in this method itself.</p>\n<p>Note: There was an error in the code in the way values are set</p>\n"},{"tags":["java","spring-boot","hazelcast","spring-session"],"owner":{"account_id":19448947,"reputation":1,"user_id":14225825,"display_name":"lash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692709721,"creation_date":1692709358,"question_id":76953613,"body_markdown":"I have hazelcast server started on my local computer where I&#39;m trying to store sessions from spring boot application using spring-session-hazelcast:3.1.1\r\nconfig:\r\n\r\n        @Configuration(proxyBeanMethods = false)\r\n    @EnableHazelcastHttpSession(sessionMapName = &quot;authorization:session&quot;, saveMode = SaveMode.ALWAYS, flushMode = FlushMode.IMMEDIATE, maxInactiveIntervalInSeconds = 1800)\r\n    public class SessionConfig {\r\n    \r\n        @Bean\r\n        @SpringSessionHazelcastInstance\r\n        public HazelcastInstance hazelcastInstance() {\r\n            ClientConfig clientConfig = new ClientConfig();\r\n            clientConfig.getNetworkConfig().addAddress(&quot;127.0.0.1:5701&quot;);\r\n    \r\n            return HazelcastClient.newHazelcastClient(clientConfig);\r\n        }\r\n    \r\n    }\r\n\r\nby this approach hazelcast server needs some dependencies (spring-session-core, spring-session-hazelcast ...) on server side (de)serialization which I want to avoid. \r\n\r\nI think converting MapSession object \r\ninto String json and storing it into hazelcast will work without any extra dependencies but only way I found to do this is registering custom serializer \r\n\r\n        public class HazelcastSerializer implements StreamSerializer&lt;MapSession&gt; {\r\n    \r\n        private static final int SERIALIZER_TYPE_ID = 12313121;\r\n        private final ObjectMapper objectMapper;\r\n    \r\n        public HazelcastSerializer(ObjectMapper objectMapper) {\r\n            this.objectMapper = objectMapper;\r\n        }\r\n    \r\n        @Override\r\n        public void write(@Nonnull ObjectDataOutput out, @Nonnull MapSession object) throws IOException {\r\n            out.writeString(objectMapper.writeValueAsString(object));\r\n        }\r\n    \r\n        @Nonnull\r\n        @Override\r\n        public MapSession read(@Nonnull ObjectDataInput in) throws IOException {\r\n            return objectMapper.readValue(in, MapSession.class);\r\n        }\r\n    \r\n        @Override\r\n        public int getTypeId() {\r\n            return SERIALIZER_TYPE_ID;\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            StreamSerializer.super.destroy();\r\n        }\r\n    }\r\n   \r\n\r\n        SerializerConfig serializerConfig = new SerializerConfig();\r\n    serializerConfig.setImplementation(new HazelcastSerializer(new ObjectMapper())).setTypeClass(MapSession.class);\r\n    clientConfig.getSerializationConfig().addSerializerConfig(serializerConfig);\r\n\r\nbut even if I create custom serializer it needs to be registered also on server side which means I also have to add dependencies\r\n\r\nany solution?","title":"storing spring boot sessions into hazelcast","body":"<p>I have hazelcast server started on my local computer where I'm trying to store sessions from spring boot application using spring-session-hazelcast:3.1.1\nconfig:</p>\n<pre><code>    @Configuration(proxyBeanMethods = false)\n@EnableHazelcastHttpSession(sessionMapName = &quot;authorization:session&quot;, saveMode = SaveMode.ALWAYS, flushMode = FlushMode.IMMEDIATE, maxInactiveIntervalInSeconds = 1800)\npublic class SessionConfig {\n\n    @Bean\n    @SpringSessionHazelcastInstance\n    public HazelcastInstance hazelcastInstance() {\n        ClientConfig clientConfig = new ClientConfig();\n        clientConfig.getNetworkConfig().addAddress(&quot;127.0.0.1:5701&quot;);\n\n        return HazelcastClient.newHazelcastClient(clientConfig);\n    }\n\n}\n</code></pre>\n<p>by this approach hazelcast server needs some dependencies (spring-session-core, spring-session-hazelcast ...) on server side (de)serialization which I want to avoid.</p>\n<p>I think converting MapSession object\ninto String json and storing it into hazelcast will work without any extra dependencies but only way I found to do this is registering custom serializer</p>\n<pre><code>    public class HazelcastSerializer implements StreamSerializer&lt;MapSession&gt; {\n\n    private static final int SERIALIZER_TYPE_ID = 12313121;\n    private final ObjectMapper objectMapper;\n\n    public HazelcastSerializer(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public void write(@Nonnull ObjectDataOutput out, @Nonnull MapSession object) throws IOException {\n        out.writeString(objectMapper.writeValueAsString(object));\n    }\n\n    @Nonnull\n    @Override\n    public MapSession read(@Nonnull ObjectDataInput in) throws IOException {\n        return objectMapper.readValue(in, MapSession.class);\n    }\n\n    @Override\n    public int getTypeId() {\n        return SERIALIZER_TYPE_ID;\n    }\n\n    @Override\n    public void destroy() {\n        StreamSerializer.super.destroy();\n    }\n}\n\n\n    SerializerConfig serializerConfig = new SerializerConfig();\nserializerConfig.setImplementation(new HazelcastSerializer(new ObjectMapper())).setTypeClass(MapSession.class);\nclientConfig.getSerializationConfig().addSerializerConfig(serializerConfig);\n</code></pre>\n<p>but even if I create custom serializer it needs to be registered also on server side which means I also have to add dependencies</p>\n<p>any solution?</p>\n"},{"tags":["java","iframe","spring-security","cross-domain","jsessionid"],"comments":[{"owner":{"account_id":6191335,"reputation":4657,"user_id":4823977,"display_name":"Hash"},"score":0,"creation_date":1528469227,"post_id":50691187,"comment_id":88533894,"body_markdown":"You can solve it in an other way as well. If you have a SPA than you can utilize headers and memory. Also if you are using an `iframe` it should be OK to manage your own cookies, you should create a servlet that &quot;shares&quot; the session in the two domains or I think the best solution would be to have a proxy on domainA.com which points to domainB.com. This way you can set up any cookie mapping, anything what you want. If you can utilize this I&#39;d use https://github.com/mitre/HTTP-Proxy-Servlet . I&#39;ll post this as a detailed answer if you are able to utilize any of these methods. :)","body":"You can solve it in an other way as well. If you have a SPA than you can utilize headers and memory. Also if you are using an <code>iframe</code> it should be OK to manage your own cookies, you should create a servlet that &quot;shares&quot; the session in the two domains or I think the best solution would be to have a proxy on domainA.com which points to domainB.com. This way you can set up any cookie mapping, anything what you want. If you can utilize this I&#39;d use <a href=\"https://github.com/mitre/HTTP-Proxy-Servlet\" rel=\"nofollow noreferrer\">github.com/mitre/HTTP-Proxy-Servlet</a> . I&#39;ll post this as a detailed answer if you are able to utilize any of these methods. :)"},{"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"score":0,"creation_date":1528879669,"post_id":50691187,"comment_id":88669657,"body_markdown":"Try this and let me know. servletContext.setSessionTrackingModes(EnumSet.of(SessionTrackingMode.URL));","body":"Try this and let me know. servletContext.setSessionTrackingModes(EnumSet.of(SessionTra&zwnj;&#8203;ckingMode.URL));"}],"answers":[{"tags":[],"owner":{"account_id":1853438,"reputation":1447,"user_id":1679484,"accept_rate":20,"display_name":"Amit Parashar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528722775,"creation_date":1528722775,"answer_id":50798575,"question_id":50691187,"body_markdown":"You can have a token based communication between the site DomainB.com server and the client browser. The token can be sent from the DomainB.com server in the response&#39;s header , after authentication.  The client browser can then save the token in localstorage/session storage (have a expiry time too). The client can then send the token in every request&#39;s header. Hope this helps.","title":"Spring Security Sessions without cookies","body":"<p>You can have a token based communication between the site DomainB.com server and the client browser. The token can be sent from the DomainB.com server in the response's header , after authentication.  The client browser can then save the token in localstorage/session storage (have a expiry time too). The client can then send the token in every request's header. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3021932,"reputation":1560,"user_id":2562746,"display_name":"Jean Marois"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1692709376,"creation_date":1528871142,"answer_id":50830373,"question_id":50691187,"body_markdown":"Have you looked at [Spring Session: HttpSession &amp; RestfulAPI][1] which uses HTTP headers instead of cookies. See the REST sample projects in [REST Sample][3].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-session/reference/http-session.html#httpsession-rest\r\n  [2]: https://github.com/spring-projects/spring-session/tree/master/samples/javaconfig/rest\r\n  [3]: https://docs.spring.io/spring-session/reference/samples.html#samples","title":"Spring Security Sessions without cookies","body":"<p>Have you looked at <a href=\"https://docs.spring.io/spring-session/reference/http-session.html#httpsession-rest\" rel=\"nofollow noreferrer\">Spring Session: HttpSession &amp; RestfulAPI</a> which uses HTTP headers instead of cookies. See the REST sample projects in <a href=\"https://docs.spring.io/spring-session/reference/samples.html#samples\" rel=\"nofollow noreferrer\">REST Sample</a>.</p>\n"},{"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528978655,"creation_date":1528978655,"answer_id":50857373,"question_id":50691187,"body_markdown":"Form based logins are mainly stateful sessions. In your scenario using stateless sessions would be best.\r\n\r\n[JWT][1] provide implementation for this. Its basically a key which you need to pass as header in each HTTP request.\r\nSo as long as you have the key. API is available.\r\n\r\n\r\nWe can integrate JWT with Spring.\r\n\r\nBasically you need to write these logic.\r\n\r\n - Generate Key Logic \r\n - Use JWT in Spring Security \r\n - Validate key on each call\r\n\r\nI can give you a head start\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**TokenHelper.java**\r\n\r\n*Contain useful functions for validating, checking, and parsing Token.*\r\n\r\n\r\n\r\n\r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    \r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.test.dfx.common.TimeProvider;\r\n    import com.test.dfx.model.LicenseDetail;\r\n    import com.test.dfx.model.User;\r\n    \r\n    \r\n    @Component\r\n    public class TokenHelper {\r\n    \t\r\n    \tprotected final Log LOGGER = LogFactory.getLog(getClass());\r\n    \r\n        @Value(&quot;${app.name}&quot;)\r\n        private String APP_NAME;\r\n    \r\n        @Value(&quot;${jwt.secret}&quot;)\r\n        public String SECRET;    //  Secret key used to generate Key. Am getting it from propertyfile\r\n        \r\n        @Value(&quot;${jwt.expires_in}&quot;)\r\n        private int EXPIRES_IN;  //  can specify time for token to expire. \r\n       \r\n        @Value(&quot;${jwt.header}&quot;)\r\n        private String AUTH_HEADER;\r\n    \r\n       \r\n        @Autowired\r\n        TimeProvider timeProvider;\r\n    \r\n        private SignatureAlgorithm SIGNATURE_ALGORITHM = SignatureAlgorithm.HS512;  // JWT Algorithm for encryption\r\n    \r\n    \r\n        public Date getIssuedAtDateFromToken(String token) {\r\n            Date issueAt;\r\n            try {\r\n                final Claims claims = this.getAllClaimsFromToken(token);\r\n                issueAt = claims.getIssuedAt();\r\n            } catch (Exception e) {\r\n            \tLOGGER.error(&quot;Could not get IssuedDate from passed token&quot;);\r\n                issueAt = null;\r\n            }\r\n            return issueAt;\r\n        }\r\n    \r\n        public String getAudienceFromToken(String token) {\r\n            String audience;\r\n            try {\r\n                final Claims claims = this.getAllClaimsFromToken(token);\r\n                audience = claims.getAudience();\r\n            } catch (Exception e) {\r\n            \tLOGGER.error(&quot;Could not get Audience from passed token&quot;);\r\n                audience = null;\r\n            }\r\n            return audience;\r\n        }\r\n    \r\n        public String refreshToken(String token) {\r\n            String refreshedToken;\r\n            Date a = timeProvider.now();\r\n            try {\r\n                final Claims claims = this.getAllClaimsFromToken(token);\r\n                claims.setIssuedAt(a);\r\n                refreshedToken = Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setExpiration(generateExpirationDate())\r\n                    .signWith( SIGNATURE_ALGORITHM, SECRET )\r\n                    .compact();\r\n            } catch (Exception e) {\r\n            \tLOGGER.error(&quot;Could not generate Refresh Token from passed token&quot;);\r\n                refreshedToken = null;\r\n            }\r\n            return refreshedToken;\r\n        }\r\n    \r\n        public String generateToken(String username) {\r\n            String audience = generateAudience();\r\n            return Jwts.builder()\r\n                    .setIssuer( APP_NAME )\r\n                    .setSubject(username)\r\n                    .setAudience(audience)\r\n                    .setIssuedAt(timeProvider.now())\r\n                    .setExpiration(generateExpirationDate())\r\n                    .signWith( SIGNATURE_ALGORITHM, SECRET )\r\n                    .compact();\r\n        }\r\n    \r\n        \r\n      \r\n        private Claims getAllClaimsFromToken(String token) {\r\n            Claims claims;\r\n            try {\r\n                claims = Jwts.parser()\r\n                        .setSigningKey(SECRET)\r\n                        .parseClaimsJws(token)\r\n                        .getBody();\r\n            } catch (Exception e) {\r\n            \tLOGGER.error(&quot;Could not get all claims Token from passed token&quot;);\r\n                claims = null;\r\n            }\r\n            return claims;\r\n        }\r\n    \r\n        private Date generateExpirationDate() {\r\n            long expiresIn = EXPIRES_IN;\r\n            return new Date(timeProvider.now().getTime() + expiresIn * 1000);\r\n        }\r\n    \r\n        public int getExpiredIn() {\r\n            return EXPIRES_IN;\r\n        }\r\n    \r\n        public Boolean validateToken(String token, UserDetails userDetails) {\r\n            User user = (User) userDetails;\r\n            final String username = getUsernameFromToken(token);\r\n            final Date created = getIssuedAtDateFromToken(token);\r\n            return (\r\n                    username != null &amp;&amp;\r\n                    username.equals(userDetails.getUsername()) &amp;&amp;\r\n                            !isCreatedBeforeLastPasswordReset(created, user.getLastPasswordResetDate())\r\n            );\r\n        }\r\n    \r\n        private Boolean isCreatedBeforeLastPasswordReset(Date created, Date lastPasswordReset) {\r\n            return (lastPasswordReset != null &amp;&amp; created.before(lastPasswordReset));\r\n        }\r\n    \r\n        public String getToken( HttpServletRequest request ) {\r\n            /**\r\n             *  Getting the token from Authentication header\r\n             *  e.g Bearer your_token\r\n             */\r\n            String authHeader = getAuthHeaderFromHeader( request );\r\n            if ( authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n                return authHeader.substring(7);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public String getAuthHeaderFromHeader( HttpServletRequest request ) {\r\n            return request.getHeader(AUTH_HEADER);\r\n        }\r\n     \r\n        \r\n    }\r\n\r\n**WebSecurity**\r\n\r\n*SpringSecurity Logic to add JWT check*\r\n\r\n\r\n \r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n            .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.STATELESS ).and()\r\n            .exceptionHandling().authenticationEntryPoint( restAuthenticationEntryPoint ).and()\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/auth/**&quot;).permitAll()\r\n            .antMatchers(&quot;/login&quot;).permitAll()\r\n            .antMatchers(&quot;/home&quot;).permitAll()\r\n            .antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n            .anyRequest().authenticated().and()\r\n            .addFilterBefore(new TokenAuthenticationFilter(tokenHelper, jwtUserDetailsService), BasicAuthenticationFilter.class);\r\n    \r\n            http.csrf().disable();\r\n        }\r\n\r\n**TokenAuthenticationFilter.java**\r\n\r\n*Check each Rest Call for valid Token*\r\n\r\n\r\n\r\n    package com.test.dfx.security;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    public class TokenAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n    \tprotected final Log logger = LogFactory.getLog(getClass());\r\n    \t\r\n        private TokenHelper tokenHelper;\r\n    \r\n        private UserDetailsService userDetailsService;\r\n    \r\n        public TokenAuthenticationFilter(TokenHelper tokenHelper, UserDetailsService userDetailsService) {\r\n            this.tokenHelper = tokenHelper;\r\n            this.userDetailsService = userDetailsService;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void doFilterInternal(\r\n                HttpServletRequest request,\r\n                HttpServletResponse response,\r\n                FilterChain chain\r\n        ) throws IOException, ServletException {\r\n    \r\n            String username;\r\n            String authToken = tokenHelper.getToken(request);\r\n            \r\n            logger.info(&quot;AuthToken: &quot;+authToken);\r\n            \r\n            if (authToken != null) {\r\n                // get username from token\r\n                username = tokenHelper.getUsernameFromToken(authToken);\r\n                logger.info(&quot;UserName: &quot;+username);\r\n                if (username != null) {\r\n                    // get user\r\n                    UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n                    if (tokenHelper.validateToken(authToken, userDetails)) {\r\n                        // create authentication\r\n                        TokenBasedAuthentication authentication = new TokenBasedAuthentication(userDetails);\r\n                        authentication.setToken(authToken);\r\n                        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                    }\r\n                }else{\r\n                \tlogger.error(&quot;Something is wrong with Token.&quot;);\r\n                }\r\n            }\r\n            chain.doFilter(request, response);\r\n        }\r\n        \r\n       \r\n    }\r\n\r\n\r\n  [1]: https://jwt.io/\r\n\r\n","title":"Spring Security Sessions without cookies","body":"<p>Form based logins are mainly stateful sessions. In your scenario using stateless sessions would be best.</p>\n\n<p><a href=\"https://jwt.io/\" rel=\"noreferrer\">JWT</a> provide implementation for this. Its basically a key which you need to pass as header in each HTTP request.\nSo as long as you have the key. API is available.</p>\n\n<p>We can integrate JWT with Spring.</p>\n\n<p>Basically you need to write these logic.</p>\n\n<ul>\n<li>Generate Key Logic </li>\n<li>Use JWT in Spring Security </li>\n<li>Validate key on each call</li>\n</ul>\n\n<p>I can give you a head start</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n    &lt;version&gt;0.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>TokenHelper.java</strong></p>\n\n<p><em>Contain useful functions for validating, checking, and parsing Token.</em></p>\n\n<pre><code>import io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Component;\n\nimport com.test.dfx.common.TimeProvider;\nimport com.test.dfx.model.LicenseDetail;\nimport com.test.dfx.model.User;\n\n\n@Component\npublic class TokenHelper {\n\n    protected final Log LOGGER = LogFactory.getLog(getClass());\n\n    @Value(\"${app.name}\")\n    private String APP_NAME;\n\n    @Value(\"${jwt.secret}\")\n    public String SECRET;    //  Secret key used to generate Key. Am getting it from propertyfile\n\n    @Value(\"${jwt.expires_in}\")\n    private int EXPIRES_IN;  //  can specify time for token to expire. \n\n    @Value(\"${jwt.header}\")\n    private String AUTH_HEADER;\n\n\n    @Autowired\n    TimeProvider timeProvider;\n\n    private SignatureAlgorithm SIGNATURE_ALGORITHM = SignatureAlgorithm.HS512;  // JWT Algorithm for encryption\n\n\n    public Date getIssuedAtDateFromToken(String token) {\n        Date issueAt;\n        try {\n            final Claims claims = this.getAllClaimsFromToken(token);\n            issueAt = claims.getIssuedAt();\n        } catch (Exception e) {\n            LOGGER.error(\"Could not get IssuedDate from passed token\");\n            issueAt = null;\n        }\n        return issueAt;\n    }\n\n    public String getAudienceFromToken(String token) {\n        String audience;\n        try {\n            final Claims claims = this.getAllClaimsFromToken(token);\n            audience = claims.getAudience();\n        } catch (Exception e) {\n            LOGGER.error(\"Could not get Audience from passed token\");\n            audience = null;\n        }\n        return audience;\n    }\n\n    public String refreshToken(String token) {\n        String refreshedToken;\n        Date a = timeProvider.now();\n        try {\n            final Claims claims = this.getAllClaimsFromToken(token);\n            claims.setIssuedAt(a);\n            refreshedToken = Jwts.builder()\n                .setClaims(claims)\n                .setExpiration(generateExpirationDate())\n                .signWith( SIGNATURE_ALGORITHM, SECRET )\n                .compact();\n        } catch (Exception e) {\n            LOGGER.error(\"Could not generate Refresh Token from passed token\");\n            refreshedToken = null;\n        }\n        return refreshedToken;\n    }\n\n    public String generateToken(String username) {\n        String audience = generateAudience();\n        return Jwts.builder()\n                .setIssuer( APP_NAME )\n                .setSubject(username)\n                .setAudience(audience)\n                .setIssuedAt(timeProvider.now())\n                .setExpiration(generateExpirationDate())\n                .signWith( SIGNATURE_ALGORITHM, SECRET )\n                .compact();\n    }\n\n\n\n    private Claims getAllClaimsFromToken(String token) {\n        Claims claims;\n        try {\n            claims = Jwts.parser()\n                    .setSigningKey(SECRET)\n                    .parseClaimsJws(token)\n                    .getBody();\n        } catch (Exception e) {\n            LOGGER.error(\"Could not get all claims Token from passed token\");\n            claims = null;\n        }\n        return claims;\n    }\n\n    private Date generateExpirationDate() {\n        long expiresIn = EXPIRES_IN;\n        return new Date(timeProvider.now().getTime() + expiresIn * 1000);\n    }\n\n    public int getExpiredIn() {\n        return EXPIRES_IN;\n    }\n\n    public Boolean validateToken(String token, UserDetails userDetails) {\n        User user = (User) userDetails;\n        final String username = getUsernameFromToken(token);\n        final Date created = getIssuedAtDateFromToken(token);\n        return (\n                username != null &amp;&amp;\n                username.equals(userDetails.getUsername()) &amp;&amp;\n                        !isCreatedBeforeLastPasswordReset(created, user.getLastPasswordResetDate())\n        );\n    }\n\n    private Boolean isCreatedBeforeLastPasswordReset(Date created, Date lastPasswordReset) {\n        return (lastPasswordReset != null &amp;&amp; created.before(lastPasswordReset));\n    }\n\n    public String getToken( HttpServletRequest request ) {\n        /**\n         *  Getting the token from Authentication header\n         *  e.g Bearer your_token\n         */\n        String authHeader = getAuthHeaderFromHeader( request );\n        if ( authHeader != null &amp;&amp; authHeader.startsWith(\"Bearer \")) {\n            return authHeader.substring(7);\n        }\n\n        return null;\n    }\n\n    public String getAuthHeaderFromHeader( HttpServletRequest request ) {\n        return request.getHeader(AUTH_HEADER);\n    }\n\n\n}\n</code></pre>\n\n<p><strong>WebSecurity</strong></p>\n\n<p><em>SpringSecurity Logic to add JWT check</em></p>\n\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n        .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.STATELESS ).and()\n        .exceptionHandling().authenticationEntryPoint( restAuthenticationEntryPoint ).and()\n        .authorizeRequests()\n        .antMatchers(\"/auth/**\").permitAll()\n        .antMatchers(\"/login\").permitAll()\n        .antMatchers(\"/home\").permitAll()\n        .antMatchers(\"/actuator/**\").permitAll()\n        .anyRequest().authenticated().and()\n        .addFilterBefore(new TokenAuthenticationFilter(tokenHelper, jwtUserDetailsService), BasicAuthenticationFilter.class);\n\n        http.csrf().disable();\n    }\n</code></pre>\n\n<p><strong>TokenAuthenticationFilter.java</strong></p>\n\n<p><em>Check each Rest Call for valid Token</em></p>\n\n<pre><code>package com.test.dfx.security;\n\nimport java.io.IOException;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\npublic class TokenAuthenticationFilter extends OncePerRequestFilter {\n\n    protected final Log logger = LogFactory.getLog(getClass());\n\n    private TokenHelper tokenHelper;\n\n    private UserDetailsService userDetailsService;\n\n    public TokenAuthenticationFilter(TokenHelper tokenHelper, UserDetailsService userDetailsService) {\n        this.tokenHelper = tokenHelper;\n        this.userDetailsService = userDetailsService;\n    }\n\n\n    @Override\n    public void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain chain\n    ) throws IOException, ServletException {\n\n        String username;\n        String authToken = tokenHelper.getToken(request);\n\n        logger.info(\"AuthToken: \"+authToken);\n\n        if (authToken != null) {\n            // get username from token\n            username = tokenHelper.getUsernameFromToken(authToken);\n            logger.info(\"UserName: \"+username);\n            if (username != null) {\n                // get user\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n                if (tokenHelper.validateToken(authToken, userDetails)) {\n                    // create authentication\n                    TokenBasedAuthentication authentication = new TokenBasedAuthentication(userDetails);\n                    authentication.setToken(authToken);\n                    SecurityContextHolder.getContext().setAuthentication(authentication);\n                }\n            }else{\n                logger.error(\"Something is wrong with Token.\");\n            }\n        }\n        chain.doFilter(request, response);\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1298380,"reputation":898,"user_id":1248817,"accept_rate":83,"display_name":"Mattiavelli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529384035,"creation_date":1529384035,"answer_id":50920869,"question_id":50691187,"body_markdown":"I appreciate all the answers above - I ended up opting for an easier solution without making any application-level changes because the owner of domainA.com was willing to work with us. Posting it here for others, as I didn&#39;t even think of this originally... \r\n\r\nBasically : \r\n\r\n- Owner of domainA.com created a DNS record to for domainB.domainA.com -&gt; domainB.com\r\n- Owner of domainB.com (me) requested a public SSL certificate for domainB.domainA.com via &quot;email validation&quot; (I did this through AWS, but I&#39;m sure there are other mechanisms via othe providers)\r\n- The above request was sent to the webmasters of domainA.com -&gt; they approved and issued the public certificate\r\n- Once issued - I was able to configure my application (or load balancer) to use this new certificate, and they configured their application to point to &quot;domainB.domainA.com&quot; (which subsequently routed to domainB.com in DNS)\r\n- Now, the browsers issue cookies for domainB.domainA.com and since they are the same primary domain, the cookies get created without any work-arounds needed.\r\n\r\n\r\nThanks again for the answers, apologies for not selecting an answer here - busy week.","title":"Spring Security Sessions without cookies","body":"<p>I appreciate all the answers above - I ended up opting for an easier solution without making any application-level changes because the owner of domainA.com was willing to work with us. Posting it here for others, as I didn't even think of this originally... </p>\n\n<p>Basically : </p>\n\n<ul>\n<li>Owner of domainA.com created a DNS record to for domainB.domainA.com -> domainB.com</li>\n<li>Owner of domainB.com (me) requested a public SSL certificate for domainB.domainA.com via \"email validation\" (I did this through AWS, but I'm sure there are other mechanisms via othe providers)</li>\n<li>The above request was sent to the webmasters of domainA.com -> they approved and issued the public certificate</li>\n<li>Once issued - I was able to configure my application (or load balancer) to use this new certificate, and they configured their application to point to \"domainB.domainA.com\" (which subsequently routed to domainB.com in DNS)</li>\n<li>Now, the browsers issue cookies for domainB.domainA.com and since they are the same primary domain, the cookies get created without any work-arounds needed.</li>\n</ul>\n\n<p>Thanks again for the answers, apologies for not selecting an answer here - busy week.</p>\n"}],"owner":{"account_id":1298380,"reputation":898,"user_id":1248817,"accept_rate":83,"display_name":"Mattiavelli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21877,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":50830373,"answer_count":4,"score":31,"last_activity_date":1692709376,"creation_date":1528165855,"question_id":50691187,"body_markdown":"I&#39;m trying to manage sessions in Spring Security without leveraging cookies. The reasoning is - our application is displayed within an iframe from another domain, we need to manage sessions in our application, [and Safari restricts cross-domain cookie creation][1]. (context : domainA.com displays domainB.com in an iframe. domainB.com is setting a JSESSIONID cookie to leverage on domainB.com, but since the user&#39;s browser is showing domainA.com - Safari restricts domainB.com from creating the cookie). \r\n\r\nThe only way I can think to achieve this (against OWASP security recommendations) - is to include the JSESSIONID in the URL as a GET parameter. I don&#39;t WANT to do this, but I can&#39;t think of an alternative. \r\n\r\nSo this question is both about : \r\n\r\n- Are there better alternatives to tackling this problem?\r\n- If not - how can I achieve this with Spring Security\r\n\r\nReviewing Spring&#39;s Documentation around this, using [enableSessionUrlRewriting][2] should allow for this \r\n\r\nSo I&#39;ve done this :\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\r\n                .enableSessionUrlRewriting(true)\r\n\r\nThis didn&#39;t add the JSESSIONID to the URL, but it should be allowed now. I then leveraged some code found [in this question][3] to set the &quot;tracking mode&quot; to URL\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication extends SpringBootServletInitializer {\r\n\r\n       @Override\r\n       public void onStartup(ServletContext servletContext) throws ServletException {\r\n          super.onStartup(servletContext);\r\n\r\n          servletContext\r\n            .setSessionTrackingModes(\r\n                Collections.singleton(SessionTrackingMode.URL)\r\n          );\r\n\r\nEven after this - the application still adds the JSESSIONID as a cookie and not in the URL. \r\n\r\nCan someone help point me in the right direction here?\r\n\r\n\r\n  [1]: https://medium.com/@bluepnume/safaris-new-tracking-rules-and-enabling-cross-domain-data-storage-85241eea7483\r\n  [2]: https://docs.spring.io/autorepo/docs/spring-security/4.0.1.RELEASE/apidocs/org/springframework/security/config/annotation/web/configurers/SessionManagementConfigurer.html#enableSessionUrlRewriting(boolean)\r\n  [3]: https://stackoverflow.com/questions/31791587/spring-boot-remove-jsessionid-from-url","title":"Spring Security Sessions without cookies","body":"<p>I'm trying to manage sessions in Spring Security without leveraging cookies. The reasoning is - our application is displayed within an iframe from another domain, we need to manage sessions in our application, <a href=\"https://medium.com/@bluepnume/safaris-new-tracking-rules-and-enabling-cross-domain-data-storage-85241eea7483\" rel=\"noreferrer\">and Safari restricts cross-domain cookie creation</a>. (context : domainA.com displays domainB.com in an iframe. domainB.com is setting a JSESSIONID cookie to leverage on domainB.com, but since the user's browser is showing domainA.com - Safari restricts domainB.com from creating the cookie). </p>\n\n<p>The only way I can think to achieve this (against OWASP security recommendations) - is to include the JSESSIONID in the URL as a GET parameter. I don't WANT to do this, but I can't think of an alternative. </p>\n\n<p>So this question is both about : </p>\n\n<ul>\n<li>Are there better alternatives to tackling this problem?</li>\n<li>If not - how can I achieve this with Spring Security</li>\n</ul>\n\n<p>Reviewing Spring's Documentation around this, using <a href=\"https://docs.spring.io/autorepo/docs/spring-security/4.0.1.RELEASE/apidocs/org/springframework/security/config/annotation/web/configurers/SessionManagementConfigurer.html#enableSessionUrlRewriting(boolean)\" rel=\"noreferrer\">enableSessionUrlRewriting</a> should allow for this </p>\n\n<p>So I've done this :</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\n            .enableSessionUrlRewriting(true)\n</code></pre>\n\n<p>This didn't add the JSESSIONID to the URL, but it should be allowed now. I then leveraged some code found <a href=\"https://stackoverflow.com/questions/31791587/spring-boot-remove-jsessionid-from-url\">in this question</a> to set the \"tracking mode\" to URL</p>\n\n<pre><code>@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {\n\n   @Override\n   public void onStartup(ServletContext servletContext) throws ServletException {\n      super.onStartup(servletContext);\n\n      servletContext\n        .setSessionTrackingModes(\n            Collections.singleton(SessionTrackingMode.URL)\n      );\n</code></pre>\n\n<p>Even after this - the application still adds the JSESSIONID as a cookie and not in the URL. </p>\n\n<p>Can someone help point me in the right direction here?</p>\n"},{"tags":["java","github","package","publish","readme"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692709353,"post_id":76953602,"comment_id":135658796,"body_markdown":"Please don&#39;t just repost your question if it gets closed or doesn&#39;t get enough attention","body":"Please don&#39;t just repost your question if it gets closed or doesn&#39;t get enough attention"},{"owner":{"account_id":27477190,"reputation":16,"user_id":20964980,"display_name":"Gurgen Yegoryan"},"score":0,"creation_date":1692709574,"post_id":76953602,"comment_id":135658872,"body_markdown":"@Jorn What&#39;s the problem with my post? I have a question that needs an answer, but is this site for this yes?","body":"@Jorn What&#39;s the problem with my post? I have a question that needs an answer, but is this site for this yes?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692709725,"post_id":76953602,"comment_id":135658913,"body_markdown":"Your original question was closed as &quot;Needs details or clarity&quot;. If you click that link, it&#39;ll explain how you can improve your question so that we might be able to help.","body":"Your original question was closed as &quot;Needs details or clarity&quot;. If you click that link, it&#39;ll explain how you can improve your question so that we might be able to help."}],"owner":{"account_id":27477190,"reputation":16,"user_id":20964980,"display_name":"Gurgen Yegoryan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692709334,"answer_count":0,"score":0,"last_activity_date":1692709286,"creation_date":1692709286,"question_id":76953602,"body_markdown":"I&#39;m publishing my java program to the GitHub package registry, but I can&#39;t attach the README.md so I don&#39;t have to go into the package and fill in the Description manually. Can you help how to solve this problem?\r\n\r\nAfter building my Java packages from my C++ code,I run command publish to Gitgub Maven registry, and it upload but without description. I need upload my README.md into package description. Is there any way I can do this? Set README.md in build.gradle or maybe it understand other name and I must rename my README.md\r\n\r\n\r\n\r\n# Command for build java\r\n```\r\n./java/gradlew build #--info\r\n```\r\n# Command to publish\r\n```\r\n./java/gradlew publish\r\n```","title":"Publish Java to Github package registry with README.md","body":"<p>I'm publishing my java program to the GitHub package registry, but I can't attach the README.md so I don't have to go into the package and fill in the Description manually. Can you help how to solve this problem?</p>\n<p>After building my Java packages from my C++ code,I run command publish to Gitgub Maven registry, and it upload but without description. I need upload my README.md into package description. Is there any way I can do this? Set README.md in build.gradle or maybe it understand other name and I must rename my README.md</p>\n<h1>Command for build java</h1>\n<pre><code>./java/gradlew build #--info\n</code></pre>\n<h1>Command to publish</h1>\n<pre><code>./java/gradlew publish\n</code></pre>\n"},{"tags":["java","spring-boot","keycloak","resteasy","keycloak-admin-client"],"answers":[{"tags":[],"owner":{"account_id":28684108,"reputation":35,"user_id":21964694,"display_name":"Sonnka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692709282,"creation_date":1692709282,"answer_id":76953601,"question_id":76952774,"body_markdown":"Keycloak server is running inside a Docker container with port mapping from 8085 to 8080. However, when Spring Boot application tries to connect to Keycloak using http://localhost:8085, it&#39;s trying to access the Keycloak server running on host machine (outside the Docker network) rather than the container.\r\n\r\nTo resolve this issue, I modify Keycloak configuration to connect to the Keycloak server using the appropriate container network name. So &quot;http://localhost:8085&quot; needs to be replaced with &quot;http://keycloak-service:8080&quot;.\r\n\r\n```\r\n Keycloak keycloak = KeycloakBuilder.builder()\r\n                .serverUrl(&quot;http://keycloak-service:8080&quot;)\r\n                .grantType(OAuth2Constants.PASSWORD)\r\n                .realm(&quot;master&quot;)\r\n                .clientId(&quot;admin-cli&quot;)\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;keycloak&quot;)\r\n                .resteasyClient(resteasyClientBuilder.connectionPoolSize(10).build())\r\n                .build();\r\n\r\n```","title":"Keycloak: RESTEASY004655: Unable to invoke request: org.apache.http.conn.HttpHostConnectException:Connection refused","body":"<p>Keycloak server is running inside a Docker container with port mapping from 8085 to 8080. However, when Spring Boot application tries to connect to Keycloak using http://localhost:8085, it's trying to access the Keycloak server running on host machine (outside the Docker network) rather than the container.</p>\n<p>To resolve this issue, I modify Keycloak configuration to connect to the Keycloak server using the appropriate container network name. So &quot;http://localhost:8085&quot; needs to be replaced with &quot;http://keycloak-service:8080&quot;.</p>\n<pre><code> Keycloak keycloak = KeycloakBuilder.builder()\n                .serverUrl(&quot;http://keycloak-service:8080&quot;)\n                .grantType(OAuth2Constants.PASSWORD)\n                .realm(&quot;master&quot;)\n                .clientId(&quot;admin-cli&quot;)\n                .username(&quot;admin&quot;)\n                .password(&quot;keycloak&quot;)\n                .resteasyClient(resteasyClientBuilder.connectionPoolSize(10).build())\n                .build();\n\n</code></pre>\n"}],"owner":{"account_id":28684108,"reputation":35,"user_id":21964694,"display_name":"Sonnka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76953601,"answer_count":1,"score":0,"last_activity_date":1692709282,"creation_date":1692703270,"question_id":76952774,"body_markdown":"My application has a microservice architecture with eureka and I want to implement oauth2 with keycloak in my auth-service. I have created a Keycloak bean that connects to keycloak and creates realm and client. All services are deployed in docker. But I am getting this error every time I run my application, but keycloak works on localhost:8085 in browser.\r\n\r\n``` \r\norg.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;keycloak&#39; defined in class path resource [backend/authservice/config/KeycloakConfig.class]: \r\nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \r\nFailed to instantiate [org.keycloak.admin.client.Keycloak]: \r\nFactory method &#39;keycloak&#39; threw exception; nested exception is javax.ws.rs.ProcessingException: \r\nRESTEASY004655: Unable to invoke request: org.apache.http.conn.HttpHostConnectException:\r\nConnect to localhost:8085 [localhost/127.0.0.1] failed: Connection refused\r\n``` \r\nMy keycloak config class:\r\n``` \r\n@Configuration\r\npublic class KeycloakConfig {\r\n    @Bean\r\n    public Keycloak keycloak() {\r\n        ResteasyClientBuilder resteasyClientBuilder = new ResteasyClientBuilderImpl();\r\n\r\n        Keycloak keycloak = KeycloakBuilder.builder()\r\n                .serverUrl(&quot;http://localhost:8085&quot;)\r\n                .grantType(OAuth2Constants.PASSWORD)\r\n                .realm(&quot;master&quot;)\r\n                .clientId(&quot;admin-cli&quot;)\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;keycloak&quot;)\r\n                .resteasyClient(resteasyClientBuilder.connectionPoolSize(10).build())\r\n                .build();\r\n\r\n        RealmRepresentation realm = new RealmRepresentation();\r\n        realm.setId(&quot;new-relam&quot;);\r\n        realm.setRealm(&quot;new-relam&quot;);\r\n        realm.setEnabled(true);\r\n\r\n        keycloak.realms().create(realm);\r\n\r\n        ClientRepresentation clientRepresentation = new ClientRepresentation();\r\n        clientRepresentation.setClientId(&quot;my-backend&quot;);\r\n        clientRepresentation.setRedirectUris(List.of(&quot;http://localhost:8081/*&quot;));\r\n        clientRepresentation.setWebOrigins(List.of(&quot;http://localhost:8081&quot;));\r\n\r\n        keycloak.realm(&quot;new-relam&quot;).clients().create(clientRepresentation);\r\n\r\n        return keycloak;\r\n    }\r\n}\r\n``` \r\nMy docker-compose.yml\r\n\r\n``` \r\nservices:\r\n  eureka-server:\r\n    image: &#39;eureka-server:1.0&#39;\r\n    container_name: eureka\r\n    ports:\r\n      - &quot;8761:8761&quot;\r\n\r\n  auth-server:\r\n    image: &#39;auth-service:1.0&#39;\r\n    container_name: auth-server\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    restart: on-failure\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=prod\r\n      - EUREKA_CLIENT_SERVICEURL_DEFAULTZONE=http://eureka-server:8761/eureka\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/mydb\r\n      - SPRING_DATASOURCE_USERNAME=usr\r\n      - SPRING_DATASOURCE_PASSWORD=password\r\n      - IP_ADDRESS=192.168.115.254\r\n      - TZ=Europe/Kiev\r\n    depends_on:\r\n      - eureka-server\r\n      - db\r\n      - keycloak-service\r\n\r\n  db:\r\n    image: &#39;postgres:latest&#39;\r\n    restart: always\r\n    container_name: db\r\n    environment:\r\n      - POSTGRES_HOST_AUTH_METHOD=trust\r\n      - POSTGRES_USER=usr\r\n      - POSTGRES_PASSWORD=password\r\n      - POSTGRES_DB=mydb\r\n\r\n  keycloak-service:\r\n    image: &#39;keycloak/keycloak:latest&#39;\r\n    container_name: keycloak-service\r\n    ports:\r\n      - &quot;8085:8080&quot;\r\n    restart: always\r\n    environment:\r\n      - KEYCLOAK_ADMIN=admin\r\n      - KEYCLOAK_ADMIN_PASSWORD=keycloak\r\n    command:\r\n      - start-dev\r\n``` \r\nMy pom.xml (I use Spring Boot 2.6.0)\r\n\r\n``` \r\n   &lt;!-- Swagger --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Spring Boot --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Spring Cloud --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- JWT --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n            &lt;version&gt;0.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Keycloak --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n            &lt;version&gt;21.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n``` \r\n\r\n\r\n----------\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nSolution:\r\n---------\r\n\r\n\r\n\r\n\r\n\r\n&quot;http://localhost:8085&quot; needs to be replaced with &quot;http://keycloak-service:8080&quot;.","title":"Keycloak: RESTEASY004655: Unable to invoke request: org.apache.http.conn.HttpHostConnectException:Connection refused","body":"<p>My application has a microservice architecture with eureka and I want to implement oauth2 with keycloak in my auth-service. I have created a Keycloak bean that connects to keycloak and creates realm and client. All services are deployed in docker. But I am getting this error every time I run my application, but keycloak works on localhost:8085 in browser.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'keycloak' defined in class path resource [backend/authservice/config/KeycloakConfig.class]: \nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \nFailed to instantiate [org.keycloak.admin.client.Keycloak]: \nFactory method 'keycloak' threw exception; nested exception is javax.ws.rs.ProcessingException: \nRESTEASY004655: Unable to invoke request: org.apache.http.conn.HttpHostConnectException:\nConnect to localhost:8085 [localhost/127.0.0.1] failed: Connection refused\n</code></pre>\n<p>My keycloak config class:</p>\n<pre><code>@Configuration\npublic class KeycloakConfig {\n    @Bean\n    public Keycloak keycloak() {\n        ResteasyClientBuilder resteasyClientBuilder = new ResteasyClientBuilderImpl();\n\n        Keycloak keycloak = KeycloakBuilder.builder()\n                .serverUrl(&quot;http://localhost:8085&quot;)\n                .grantType(OAuth2Constants.PASSWORD)\n                .realm(&quot;master&quot;)\n                .clientId(&quot;admin-cli&quot;)\n                .username(&quot;admin&quot;)\n                .password(&quot;keycloak&quot;)\n                .resteasyClient(resteasyClientBuilder.connectionPoolSize(10).build())\n                .build();\n\n        RealmRepresentation realm = new RealmRepresentation();\n        realm.setId(&quot;new-relam&quot;);\n        realm.setRealm(&quot;new-relam&quot;);\n        realm.setEnabled(true);\n\n        keycloak.realms().create(realm);\n\n        ClientRepresentation clientRepresentation = new ClientRepresentation();\n        clientRepresentation.setClientId(&quot;my-backend&quot;);\n        clientRepresentation.setRedirectUris(List.of(&quot;http://localhost:8081/*&quot;));\n        clientRepresentation.setWebOrigins(List.of(&quot;http://localhost:8081&quot;));\n\n        keycloak.realm(&quot;new-relam&quot;).clients().create(clientRepresentation);\n\n        return keycloak;\n    }\n}\n</code></pre>\n<p>My docker-compose.yml</p>\n<pre><code>services:\n  eureka-server:\n    image: 'eureka-server:1.0'\n    container_name: eureka\n    ports:\n      - &quot;8761:8761&quot;\n\n  auth-server:\n    image: 'auth-service:1.0'\n    container_name: auth-server\n    ports:\n      - &quot;8081:8081&quot;\n    restart: on-failure\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n      - EUREKA_CLIENT_SERVICEURL_DEFAULTZONE=http://eureka-server:8761/eureka\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/mydb\n      - SPRING_DATASOURCE_USERNAME=usr\n      - SPRING_DATASOURCE_PASSWORD=password\n      - IP_ADDRESS=192.168.115.254\n      - TZ=Europe/Kiev\n    depends_on:\n      - eureka-server\n      - db\n      - keycloak-service\n\n  db:\n    image: 'postgres:latest'\n    restart: always\n    container_name: db\n    environment:\n      - POSTGRES_HOST_AUTH_METHOD=trust\n      - POSTGRES_USER=usr\n      - POSTGRES_PASSWORD=password\n      - POSTGRES_DB=mydb\n\n  keycloak-service:\n    image: 'keycloak/keycloak:latest'\n    container_name: keycloak-service\n    ports:\n      - &quot;8085:8080&quot;\n    restart: always\n    environment:\n      - KEYCLOAK_ADMIN=admin\n      - KEYCLOAK_ADMIN_PASSWORD=keycloak\n    command:\n      - start-dev\n</code></pre>\n<p>My pom.xml (I use Spring Boot 2.6.0)</p>\n<pre><code>   &lt;!-- Swagger --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring Boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring Cloud --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n                    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- JWT --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n            &lt;version&gt;0.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Keycloak --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;21.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;5.7.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<hr />\n<h2>Solution:</h2>\n<p>&quot;http://localhost:8085&quot; needs to be replaced with &quot;http://keycloak-service:8080&quot;.</p>\n"},{"tags":["java","date","datetime","java-8","notifications"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":1,"creation_date":1692709549,"post_id":76953552,"comment_id":135658857,"body_markdown":"What is your question? Is your code working? Which cases don&#39;t work well?","body":"What is your question? Is your code working? Which cases don&#39;t work well?"},{"owner":{"account_id":23147156,"reputation":1,"user_id":17249755,"display_name":"JustinRyu2"},"score":0,"creation_date":1692710102,"post_id":76953552,"comment_id":135659014,"body_markdown":"I have some edge cases when for example  i have 5 days, 23 hours, and 58 minutes, and the time should be rounded to 6 days, thus the notification should be &#39;You have 6 days left&#39;, but i get instead &#39;You have 5 days and 12 hours&#39;.","body":"I have some edge cases when for example  i have 5 days, 23 hours, and 58 minutes, and the time should be rounded to 6 days, thus the notification should be &#39;You have 6 days left&#39;, but i get instead &#39;You have 5 days and 12 hours&#39;."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1692710757,"post_id":76953552,"comment_id":135659187,"body_markdown":"Did you check [this](https://stackoverflow.com/q/3553964/10819573)?","body":"Did you check <a href=\"https://stackoverflow.com/q/3553964/10819573\">this</a>?"},{"owner":{"account_id":23147156,"reputation":1,"user_id":17249755,"display_name":"JustinRyu2"},"score":0,"creation_date":1692711069,"post_id":76953552,"comment_id":135659260,"body_markdown":"Thank you so much for providing the link!","body":"Thank you so much for providing the link!"}],"owner":{"account_id":23147156,"reputation":1,"user_id":17249755,"display_name":"JustinRyu2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692709173,"creation_date":1692708945,"question_id":76953552,"body_markdown":"I&#39;ve written a Java function `getRemainingTime(Date currentDate, Date expirationDate)` that calculates the difference between two dates and returns the result in a user-friendly format. The main purpose is to send notifications to users about the time remaining until a certain event. The notification needs to be sent from 12 to 12 hours and the notification message should be like this:\r\n\r\n**&#39;You have left 6 days and 12&#39;**, after the next 12 hours the notification will be sent again and the message should be like this &#39;**You have left 6 days&#39;**, and so on. In this case the expiration date is 7 days + from the moment of a certain event in my app.\r\n\r\n\r\nThis is my function:\r\n\r\n```\r\npublic static String getRemainingTime(Date currentDate, Date expirationDate) {\r\n\r\n        // Calculate the time difference in milliseconds between the two dates\r\n        long diff = expirationDate.getTime() - currentDate.getTime();\r\n\r\n        long days = TimeUnit.MILLISECONDS.toDays(diff);\r\n        long remainingMillisAfterDays = diff - TimeUnit.DAYS.toMillis(days);\r\n\r\n        long hours = TimeUnit.MILLISECONDS.toHours(remainingMillisAfterDays);\r\n        long remainingMillisAfterHours = remainingMillisAfterDays - TimeUnit.HOURS.toMillis(hours);\r\n\r\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(remainingMillisAfterHours);\r\n\r\n        // Check and apply rounding if the time is close to the next day or hour\r\n        if (hours == 23 &amp;&amp; minutes &gt;= 30) {\r\n            days++;\r\n            hours = 0;\r\n            minutes = 0;\r\n        }\r\n\r\n        // Return the remaining time based on the calculated days, hours, and minutes\r\n        if (days &gt; 0 &amp;&amp; (hours &gt;= 12 || (hours == 11 &amp;&amp; minutes &gt;= 30))) {\r\n            return days + &quot; days and 12 hours&quot;;\r\n        } else if (days &gt; 0) {\r\n            return days + &quot; days&quot;;\r\n        } else if (hours &gt;= 11 || (hours == 10 &amp;&amp; minutes &gt;= 30)) {\r\n            return &quot;12 hours&quot;;\r\n        } else {\r\n            return &quot;less than one hour&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nThe function approximates values for better user comprehension. For instance:  \r\n• 11 hours and 30 minutes is rounded to 12 hours.  \r\n• 23 hours and 30 minutes is rounded to 1 day.\r\n\r\nMy requirements are:  \r\n1\\. The notification should display the time remaining in days and hours.  \r\n2\\. Near values (e.g., 11 hours 30 minutes) should be approximated for better user understanding.  \r\n3\\. I&#39;m planning to trigger these notifications based on the return value of this function. For instance, if the function returns &quot;12 hours&quot;, the user should get a notification saying &quot;12 hours have passed.&quot;\r\n\r\n**Any suggestions or improvements are greatly appreciated. Thank you!**","title":"How to Optimize a Time Difference Function for User-Friendly Notifications?","body":"<p>I've written a Java function <code>getRemainingTime(Date currentDate, Date expirationDate)</code> that calculates the difference between two dates and returns the result in a user-friendly format. The main purpose is to send notifications to users about the time remaining until a certain event. The notification needs to be sent from 12 to 12 hours and the notification message should be like this:</p>\n<p><strong>'You have left 6 days and 12'</strong>, after the next 12 hours the notification will be sent again and the message should be like this '<strong>You have left 6 days'</strong>, and so on. In this case the expiration date is 7 days + from the moment of a certain event in my app.</p>\n<p>This is my function:</p>\n<pre><code>public static String getRemainingTime(Date currentDate, Date expirationDate) {\n\n        // Calculate the time difference in milliseconds between the two dates\n        long diff = expirationDate.getTime() - currentDate.getTime();\n\n        long days = TimeUnit.MILLISECONDS.toDays(diff);\n        long remainingMillisAfterDays = diff - TimeUnit.DAYS.toMillis(days);\n\n        long hours = TimeUnit.MILLISECONDS.toHours(remainingMillisAfterDays);\n        long remainingMillisAfterHours = remainingMillisAfterDays - TimeUnit.HOURS.toMillis(hours);\n\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(remainingMillisAfterHours);\n\n        // Check and apply rounding if the time is close to the next day or hour\n        if (hours == 23 &amp;&amp; minutes &gt;= 30) {\n            days++;\n            hours = 0;\n            minutes = 0;\n        }\n\n        // Return the remaining time based on the calculated days, hours, and minutes\n        if (days &gt; 0 &amp;&amp; (hours &gt;= 12 || (hours == 11 &amp;&amp; minutes &gt;= 30))) {\n            return days + &quot; days and 12 hours&quot;;\n        } else if (days &gt; 0) {\n            return days + &quot; days&quot;;\n        } else if (hours &gt;= 11 || (hours == 10 &amp;&amp; minutes &gt;= 30)) {\n            return &quot;12 hours&quot;;\n        } else {\n            return &quot;less than one hour&quot;;\n        }\n    }\n</code></pre>\n<p>The function approximates values for better user comprehension. For instance:<br />\n• 11 hours and 30 minutes is rounded to 12 hours.<br />\n• 23 hours and 30 minutes is rounded to 1 day.</p>\n<p>My requirements are:<br />\n1. The notification should display the time remaining in days and hours.<br />\n2. Near values (e.g., 11 hours 30 minutes) should be approximated for better user understanding.<br />\n3. I'm planning to trigger these notifications based on the return value of this function. For instance, if the function returns &quot;12 hours&quot;, the user should get a notification saying &quot;12 hours have passed.&quot;</p>\n<p><strong>Any suggestions or improvements are greatly appreciated. Thank you!</strong></p>\n"},{"tags":["java","osgi","playwright","playwright-java"],"owner":{"account_id":20476605,"reputation":65,"user_id":15025802,"display_name":"umpapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692708893,"creation_date":1692708893,"question_id":76953543,"body_markdown":"I added Playwright via Target Plattform -&gt; m2e PDE Integration to my Plugin Project (Is there a better way of Integration?). Playwright.create() throws the error: Failed to create driver\r\n\r\njava.lang.RuntimeException: Failed to create driver\r\n\r\n\tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\r\n\r\n\tat com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\r\n\r\n\tat com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\r\n\r\n\tat com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\r\n\r\n\tat com.microsoft.playwright.Playwright.create(Playwright.java:110)\r\n\r\n\tat com.microsoft.playwright.Playwright.create(Playwright.java:114)\r\n\r\nCaused by: java.nio.file.FileSystemNotFoundException: Provider &quot;bundleresource&quot; not installed\r\n\r\n\tat java.base/java.nio.file.Path.of(Path.java:212)\r\n\r\n\tat java.base/java.nio.file.Paths.get(Paths.java:98)\r\n\r\n\tat com.microsoft.playwright.impl.driver.jar.DriverJar.extractDriverToTempDir(DriverJar.java:128)\r\n\r\n\tat com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:66)\r\n\r\n\tat com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\r\n\r\n\tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\r\n\r\n\t... 9 more\r\n\r\nI am aware of the workaround of setting the system Property &quot;playwright.cli.dir&quot; manually and build Playwright manually, but I would like to know if there is a better solution or if the playwright team is at least aware that how they handle paths and files its only working for maven projects (or at least not very robust).\r\n\r\nThanks for tipps and Information!","title":"PlaywrightJava: Failed to create driver when adding playwright via target Plattfrom","body":"<p>I added Playwright via Target Plattform -&gt; m2e PDE Integration to my Plugin Project (Is there a better way of Integration?). Playwright.create() throws the error: Failed to create driver</p>\n<p>java.lang.RuntimeException: Failed to create driver</p>\n<pre><code>at com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\n\nat com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\n\nat com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\n\nat com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\n\nat com.microsoft.playwright.Playwright.create(Playwright.java:110)\n\nat com.microsoft.playwright.Playwright.create(Playwright.java:114)\n</code></pre>\n<p>Caused by: java.nio.file.FileSystemNotFoundException: Provider &quot;bundleresource&quot; not installed</p>\n<pre><code>at java.base/java.nio.file.Path.of(Path.java:212)\n\nat java.base/java.nio.file.Paths.get(Paths.java:98)\n\nat com.microsoft.playwright.impl.driver.jar.DriverJar.extractDriverToTempDir(DriverJar.java:128)\n\nat com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:66)\n\nat com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\n\nat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\n\n... 9 more\n</code></pre>\n<p>I am aware of the workaround of setting the system Property &quot;playwright.cli.dir&quot; manually and build Playwright manually, but I would like to know if there is a better solution or if the playwright team is at least aware that how they handle paths and files its only working for maven projects (or at least not very robust).</p>\n<p>Thanks for tipps and Information!</p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":16835523,"reputation":312,"user_id":12172313,"display_name":"Evyatar Cohen"},"score":0,"creation_date":1655626965,"post_id":72675155,"comment_id":128372759,"body_markdown":"did you try this? https://stackoverflow.com/questions/64366919/how-to-add-swipe-left-to-right-in-recyclerview","body":"did you try this? <a href=\"https://stackoverflow.com/questions/64366919/how-to-add-swipe-left-to-right-in-recyclerview\" title=\"how to add swipe left to right in recyclerview\">stackoverflow.com/questions/64366919/&hellip;</a>"},{"owner":{"account_id":14949762,"reputation":652,"user_id":10793837,"display_name":"Abdul Waheed"},"score":0,"creation_date":1655634771,"post_id":72675155,"comment_id":128374106,"body_markdown":"thank you for comment, let me try this solution.","body":"thank you for comment, let me try this solution."},{"owner":{"account_id":14949762,"reputation":652,"user_id":10793837,"display_name":"Abdul Waheed"},"score":1,"creation_date":1655636218,"post_id":72675155,"comment_id":128374334,"body_markdown":"No @EvyatarCohen this is different approach I need multiple buttons on swipe not one option on complete swipe,","body":"No @EvyatarCohen this is different approach I need multiple buttons on swipe not one option on complete swipe,"},{"owner":{"account_id":16835523,"reputation":312,"user_id":12172313,"display_name":"Evyatar Cohen"},"score":0,"creation_date":1655637225,"post_id":72675155,"comment_id":128374559,"body_markdown":"How about this? https://github.com/chthai64/SwipeRevealLayout","body":"How about this? <a href=\"https://github.com/chthai64/SwipeRevealLayout\" rel=\"nofollow noreferrer\">github.com/chthai64/SwipeRevealLayout</a>"},{"owner":{"account_id":14949762,"reputation":652,"user_id":10793837,"display_name":"Abdul Waheed"},"score":0,"creation_date":1655639092,"post_id":72675155,"comment_id":128374984,"body_markdown":"I actually don&#39;t want to add any third party library because I&#39;m using androidx recyclerview so that&#39;s why I need a custom class to do this work.","body":"I actually don&#39;t want to add any third party library because I&#39;m using androidx recyclerview so that&#39;s why I need a custom class to do this work."},{"owner":{"account_id":16835523,"reputation":312,"user_id":12172313,"display_name":"Evyatar Cohen"},"score":0,"creation_date":1655639445,"post_id":72675155,"comment_id":128375047,"body_markdown":"You can take an idea from there","body":"You can take an idea from there"}],"answers":[{"tags":[],"owner":{"account_id":23828067,"reputation":1,"user_id":17834789,"display_name":"Md Saif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692708629,"creation_date":1692708629,"answer_id":76953506,"question_id":72675155,"body_markdown":"I am struggling to in this but now i solved it here is the solution \r\n\r\n   \r\n\r\n\r\n    import android.content.Context;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.graphics.Point;\r\n    import android.graphics.Rect;\r\n    import android.graphics.RectF;\r\n    import android.graphics.drawable.BitmapDrawable;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.view.GestureDetector;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.recyclerview.widget.ItemTouchHelper;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Queue;\r\n\r\n    public abstract class SwipeHelperRight extends ItemTouchHelper.SimpleCallback {\r\n\r\n\r\n    public static final int BUTTON_WIDTH = 140;\r\n    private RecyclerView recyclerView;\r\n    private List&lt;SwipeHelperRight.UnderlayButton&gt; buttons;\r\n    private GestureDetector gestureDetector;\r\n    private int swipedPos = -1;\r\n    private float swipeThreshold = 0.5f;\r\n    private Map&lt;Integer, List&lt;SwipeHelperRight.UnderlayButton&gt;&gt; buttonsBuffer;\r\n    private Queue&lt;Integer&gt; recoverQueue;\r\n\r\n    private GestureDetector.SimpleOnGestureListener gestureListener = new GestureDetector.SimpleOnGestureListener(){\r\n        @Override\r\n        public boolean onSingleTapConfirmed(MotionEvent e) {\r\n            for (SwipeHelperRight.UnderlayButton button : buttons){\r\n                if(button.onClick(e.getX(), e.getY()))\r\n                    break;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    };\r\n\r\n    public SwipeHelperRight(Context context, RecyclerView recyclerView) {\r\n        super(0, ItemTouchHelper.RIGHT);\r\n        this.recyclerView = recyclerView;\r\n        this.buttons = new ArrayList&lt;&gt;();\r\n        this.gestureDetector = new GestureDetector(context, gestureListener);\r\n        this.recyclerView.setOnTouchListener(onTouchListener);\r\n        buttonsBuffer = new HashMap&lt;&gt;();\r\n        recoverQueue = new LinkedList&lt;Integer&gt;(){\r\n            @Override\r\n            public boolean add(Integer o) {\r\n                if (contains(o))\r\n                    return false;\r\n                else\r\n                    return super.add(o);\r\n            }\r\n        };\r\n\r\n        attachSwipe();\r\n\r\n    }\r\n\r\n    private View.OnTouchListener onTouchListener = new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent e) {\r\n            if (swipedPos &lt; 0) return false;\r\n            Point point = new Point((int) e.getRawX(), (int) e.getRawY());\r\n\r\n            RecyclerView.ViewHolder swipedViewHolder = recyclerView.findViewHolderForAdapterPosition(swipedPos);\r\n            View swipedItem = swipedViewHolder.itemView;\r\n            Rect rect = new Rect();\r\n            swipedItem.getGlobalVisibleRect(rect);\r\n\r\n            if (e.getAction() == MotionEvent.ACTION_DOWN || e.getAction() == MotionEvent.ACTION_UP ||e.getAction() == MotionEvent.ACTION_MOVE)\r\n            {\r\n                if (rect.top &lt; point.y &amp;&amp; rect.bottom &gt; point.y)\r\n                    gestureDetector.onTouchEvent(e);\r\n                else {\r\n                    recoverQueue.add(swipedPos);\r\n                    swipedPos = -1;\r\n                    recoverSwipedItem();\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {\r\n        int pos = viewHolder.getAdapterPosition();\r\n\r\n        if (swipedPos != pos)\r\n            recoverQueue.add(swipedPos);\r\n\r\n        swipedPos = pos;\r\n\r\n        if (buttonsBuffer.containsKey(swipedPos))\r\n            buttons = buttonsBuffer.get(swipedPos);\r\n        else\r\n            buttons.clear();\r\n\r\n        buttonsBuffer.clear();\r\n        swipeThreshold = 0.5f * buttons.size() * BUTTON_WIDTH;\r\n        recoverSwipedItem();\r\n\r\n    }\r\n\r\n    @Override\r\n    public float getSwipeThreshold(RecyclerView.ViewHolder viewHolder) {\r\n        return swipeThreshold;\r\n    }\r\n\r\n    @Override\r\n    public float getSwipeEscapeVelocity(float defaultValue) {\r\n        return 0.1f * defaultValue;\r\n    }\r\n\r\n    @Override\r\n    public float getSwipeVelocityThreshold(float defaultValue) {\r\n        return 5.0f * defaultValue;\r\n    }\r\n\r\n    @Override\r\n    public void onChildDraw(Canvas c, RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, float dX, float dY, int actionState, boolean isCurrentlyActive)\r\n    {\r\n        int pos = viewHolder.getAdapterPosition();\r\n        float translationX = dX;\r\n        View itemView = viewHolder.itemView;\r\n\r\n        if (pos &lt; 0){\r\n            swipedPos = pos;\r\n            return;\r\n        }\r\n\r\n        if(actionState == ItemTouchHelper.ACTION_STATE_SWIPE){\r\n            if(dX &gt; 0) {\r\n                List&lt;SwipeHelperRight.UnderlayButton&gt; buffer = new ArrayList&lt;&gt;();\r\n\r\n                if (!buttonsBuffer.containsKey(pos)){\r\n                    instantiateUnderlayButton(viewHolder, buffer);\r\n                    buttonsBuffer.put(pos, buffer);\r\n                }\r\n                else {\r\n                    buffer = buttonsBuffer.get(pos);\r\n                }\r\n\r\n                translationX = dX * buffer.size() * BUTTON_WIDTH / itemView.getWidth();\r\n                drawButtons(c, itemView, buffer, pos, translationX);\r\n            }\r\n        }\r\n\r\n        super.onChildDraw(c, recyclerView, viewHolder, translationX, dY, actionState, isCurrentlyActive);\r\n    }\r\n\r\n\r\n\r\n    private void drawButtons(Canvas c, View itemView, List&lt;SwipeHelperRight.UnderlayButton&gt; buffer, int pos, float dX)\r\n    {\r\n        float left = itemView.getLeft();\r\n        float dButtonWidth = (-1) * dX / buffer.size();\r\n\r\n        for (SwipeHelperRight.UnderlayButton button : buffer) {\r\n            float right = left - dButtonWidth;\r\n            button.onDraw(\r\n                    c,\r\n                    new RectF(\r\n                            left,\r\n                            itemView.getTop(),\r\n                            right,\r\n                            itemView.getBottom()\r\n                    ),\r\n                    pos\r\n            );\r\n\r\n            left = right;\r\n        }\r\n    }\r\n\r\n\r\n    private synchronized void recoverSwipedItem(){\r\n        while (!recoverQueue.isEmpty()){\r\n            int pos = recoverQueue.poll();\r\n            if (pos &gt; -1) {\r\n                recyclerView.getAdapter().notifyItemChanged(pos);\r\n            }\r\n        }\r\n    }\r\n    public void attachSwipe(){\r\n        ItemTouchHelper itemTouchHelper = new ItemTouchHelper(this);\r\n        itemTouchHelper.attachToRecyclerView(recyclerView);\r\n    }\r\n\r\n    public abstract void instantiateUnderlayButton(RecyclerView.ViewHolder viewHolder, List&lt;SwipeHelperRight.UnderlayButton&gt; underlayButtons);\r\n\r\n    public static class UnderlayButton {\r\n        private String text;\r\n        private int imageResId;\r\n        private int color;\r\n        private int pos;\r\n\r\n        Context context;\r\n        private RectF clickRegion;\r\n        private SwipeHelperRight.UnderlayButtonClickListener clickListener;\r\n\r\n        public UnderlayButton(Context context,String text, int imageResId, int color, SwipeHelperRight.UnderlayButtonClickListener clickListener) {\r\n            this.text = text;\r\n            this.imageResId = imageResId;\r\n            this.color = color;\r\n            this.context = context;\r\n            this.clickListener = clickListener;\r\n        }\r\n\r\n        public boolean onClick(float x, float y){\r\n            if (clickRegion != null &amp;&amp; clickRegion.contains(x, y)){\r\n                clickListener.onClick(pos);\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        public void onDraw(Canvas c, RectF rect, int pos){\r\n            Paint p = new Paint();\r\n\r\n            // Draw background\r\n            p.setColor(color);\r\n            c.drawRect(rect, p);\r\n\r\n\r\n\r\n            // Draw Text\r\n            p.setColor(Color.WHITE);\r\n            p.setTextSize(25.0f);\r\n\r\n\r\n\r\n\r\n\r\n            Rect r = new Rect();\r\n            float cHeight = rect.height();\r\n            float cWidth = rect.width();\r\n            p.setTextAlign(Paint.Align.LEFT);\r\n            p.getTextBounds(text, 0, text.length(), r);\r\n            float x = cWidth / 2f - r.width() / 2f - r.left;\r\n            float y = cHeight / 2f + r.height() / 2f - r.bottom;\r\n            c.drawText(text, rect.left + x, rect.top + y + (r.height()*2), p);\r\n\r\n            //Draw Image\r\n            if (imageResId != 0){\r\n                float textWidth = p.measureText(text);\r\n                Bitmap bmp = drawableToBitmap(ContextCompat.getDrawable(context, imageResId));\r\n                c.drawBitmap(bmp, rect.centerX()-(bmp.getWidth()/2f),rect.centerY()-(bmp.getHeight()/2f), null);\r\n            }\r\n\r\n            clickRegion = rect;\r\n            this.pos = pos;\r\n        }\r\n\r\n        public static Bitmap drawableToBitmap (Drawable drawable) {\r\n            Bitmap bitmap = null;\r\n\r\n            if (drawable instanceof BitmapDrawable) {\r\n                BitmapDrawable bitmapDrawable = (BitmapDrawable) drawable;\r\n                if(bitmapDrawable.getBitmap() != null) {\r\n                    return bitmapDrawable.getBitmap();\r\n                }\r\n            }\r\n\r\n            if(drawable.getIntrinsicWidth() &lt;= 0 || drawable.getIntrinsicHeight() &lt;= 0) {\r\n                bitmap = Bitmap.createBitmap(1, 1, Bitmap.Config.ARGB_8888); // Single color bitmap will be created of 1x1 pixel\r\n            } else {\r\n                bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\r\n            }\r\n\r\n            Canvas canvas = new Canvas(bitmap);\r\n            drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\r\n            drawable.draw(canvas);\r\n            return bitmap;\r\n        }\r\n\r\n    }\r\n\r\n    public interface UnderlayButtonClickListener {\r\n        void onClick(int pos);\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nand after that in you activity or fragnement\r\n\r\n\r\n\r\n    SwipeHelperRight swipeHelperRight = new SwipeHelperRight(getContext(),binding.recyclerView) {\r\n            @Override\r\n            public void instantiateUnderlayButton(RecyclerView.ViewHolder viewHolder, List&lt;SwipeHelperRight.UnderlayButton&gt; underlayButtons) {\r\n                underlayButtons.add(new SwipeHelperRight.UnderlayButton(\r\n                        getContext(),\r\n                        &quot;Archive&quot;,\r\n                        R.drawable.ic_archive,\r\n                        Color.parseColor(&quot;#BBBBC3&quot;),\r\n                        new SwipeHelperRight.UnderlayButtonClickListener() {\r\n                            @Override\r\n                            public void onClick(int pos) {\r\n                                // TODO: onArchive\r\n                                Toast.makeText(getContext(), &quot;Archive&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                ));\r\n\r\n                underlayButtons.add(new SwipeHelperRight.UnderlayButton(\r\n                        getContext(),\r\n                        &quot;Delete&quot;,\r\n                        R.drawable.ic_delete,\r\n                        Color.parseColor(&quot;#FE3B30&quot;),\r\n                        new SwipeHelperRight.UnderlayButtonClickListener() {\r\n                            @Override\r\n                            public void onClick(int pos) {\r\n                                // TODO: onDelete\r\n                                Toast.makeText(getContext(), &quot;Delete&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                ));\r\n            }\r\n        };\r\n\r\n\r\nHope this will Help You\r\n\r\n","title":"Right Swipe to show buttons on RecyclerView using ItemTouchHelper","body":"<p>I am struggling to in this but now i solved it here is the solution</p>\n<pre><code>import android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Point;\nimport android.graphics.Rect;\nimport android.graphics.RectF;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.view.GestureDetector;\nimport android.view.MotionEvent;\nimport android.view.View;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.content.ContextCompat;\nimport androidx.recyclerview.widget.ItemTouchHelper;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Queue;\n\npublic abstract class SwipeHelperRight extends ItemTouchHelper.SimpleCallback {\n\n\npublic static final int BUTTON_WIDTH = 140;\nprivate RecyclerView recyclerView;\nprivate List&lt;SwipeHelperRight.UnderlayButton&gt; buttons;\nprivate GestureDetector gestureDetector;\nprivate int swipedPos = -1;\nprivate float swipeThreshold = 0.5f;\nprivate Map&lt;Integer, List&lt;SwipeHelperRight.UnderlayButton&gt;&gt; buttonsBuffer;\nprivate Queue&lt;Integer&gt; recoverQueue;\n\nprivate GestureDetector.SimpleOnGestureListener gestureListener = new GestureDetector.SimpleOnGestureListener(){\n    @Override\n    public boolean onSingleTapConfirmed(MotionEvent e) {\n        for (SwipeHelperRight.UnderlayButton button : buttons){\n            if(button.onClick(e.getX(), e.getY()))\n                break;\n        }\n\n        return true;\n    }\n};\n\npublic SwipeHelperRight(Context context, RecyclerView recyclerView) {\n    super(0, ItemTouchHelper.RIGHT);\n    this.recyclerView = recyclerView;\n    this.buttons = new ArrayList&lt;&gt;();\n    this.gestureDetector = new GestureDetector(context, gestureListener);\n    this.recyclerView.setOnTouchListener(onTouchListener);\n    buttonsBuffer = new HashMap&lt;&gt;();\n    recoverQueue = new LinkedList&lt;Integer&gt;(){\n        @Override\n        public boolean add(Integer o) {\n            if (contains(o))\n                return false;\n            else\n                return super.add(o);\n        }\n    };\n\n    attachSwipe();\n\n}\n\nprivate View.OnTouchListener onTouchListener = new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View view, MotionEvent e) {\n        if (swipedPos &lt; 0) return false;\n        Point point = new Point((int) e.getRawX(), (int) e.getRawY());\n\n        RecyclerView.ViewHolder swipedViewHolder = recyclerView.findViewHolderForAdapterPosition(swipedPos);\n        View swipedItem = swipedViewHolder.itemView;\n        Rect rect = new Rect();\n        swipedItem.getGlobalVisibleRect(rect);\n\n        if (e.getAction() == MotionEvent.ACTION_DOWN || e.getAction() == MotionEvent.ACTION_UP ||e.getAction() == MotionEvent.ACTION_MOVE)\n        {\n            if (rect.top &lt; point.y &amp;&amp; rect.bottom &gt; point.y)\n                gestureDetector.onTouchEvent(e);\n            else {\n                recoverQueue.add(swipedPos);\n                swipedPos = -1;\n                recoverSwipedItem();\n            }\n        }\n        return false;\n    }\n};\n\n@Override\npublic boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n    return false;\n}\n\n@Override\npublic void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {\n    int pos = viewHolder.getAdapterPosition();\n\n    if (swipedPos != pos)\n        recoverQueue.add(swipedPos);\n\n    swipedPos = pos;\n\n    if (buttonsBuffer.containsKey(swipedPos))\n        buttons = buttonsBuffer.get(swipedPos);\n    else\n        buttons.clear();\n\n    buttonsBuffer.clear();\n    swipeThreshold = 0.5f * buttons.size() * BUTTON_WIDTH;\n    recoverSwipedItem();\n\n}\n\n@Override\npublic float getSwipeThreshold(RecyclerView.ViewHolder viewHolder) {\n    return swipeThreshold;\n}\n\n@Override\npublic float getSwipeEscapeVelocity(float defaultValue) {\n    return 0.1f * defaultValue;\n}\n\n@Override\npublic float getSwipeVelocityThreshold(float defaultValue) {\n    return 5.0f * defaultValue;\n}\n\n@Override\npublic void onChildDraw(Canvas c, RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, float dX, float dY, int actionState, boolean isCurrentlyActive)\n{\n    int pos = viewHolder.getAdapterPosition();\n    float translationX = dX;\n    View itemView = viewHolder.itemView;\n\n    if (pos &lt; 0){\n        swipedPos = pos;\n        return;\n    }\n\n    if(actionState == ItemTouchHelper.ACTION_STATE_SWIPE){\n        if(dX &gt; 0) {\n            List&lt;SwipeHelperRight.UnderlayButton&gt; buffer = new ArrayList&lt;&gt;();\n\n            if (!buttonsBuffer.containsKey(pos)){\n                instantiateUnderlayButton(viewHolder, buffer);\n                buttonsBuffer.put(pos, buffer);\n            }\n            else {\n                buffer = buttonsBuffer.get(pos);\n            }\n\n            translationX = dX * buffer.size() * BUTTON_WIDTH / itemView.getWidth();\n            drawButtons(c, itemView, buffer, pos, translationX);\n        }\n    }\n\n    super.onChildDraw(c, recyclerView, viewHolder, translationX, dY, actionState, isCurrentlyActive);\n}\n\n\n\nprivate void drawButtons(Canvas c, View itemView, List&lt;SwipeHelperRight.UnderlayButton&gt; buffer, int pos, float dX)\n{\n    float left = itemView.getLeft();\n    float dButtonWidth = (-1) * dX / buffer.size();\n\n    for (SwipeHelperRight.UnderlayButton button : buffer) {\n        float right = left - dButtonWidth;\n        button.onDraw(\n                c,\n                new RectF(\n                        left,\n                        itemView.getTop(),\n                        right,\n                        itemView.getBottom()\n                ),\n                pos\n        );\n\n        left = right;\n    }\n}\n\n\nprivate synchronized void recoverSwipedItem(){\n    while (!recoverQueue.isEmpty()){\n        int pos = recoverQueue.poll();\n        if (pos &gt; -1) {\n            recyclerView.getAdapter().notifyItemChanged(pos);\n        }\n    }\n}\npublic void attachSwipe(){\n    ItemTouchHelper itemTouchHelper = new ItemTouchHelper(this);\n    itemTouchHelper.attachToRecyclerView(recyclerView);\n}\n\npublic abstract void instantiateUnderlayButton(RecyclerView.ViewHolder viewHolder, List&lt;SwipeHelperRight.UnderlayButton&gt; underlayButtons);\n\npublic static class UnderlayButton {\n    private String text;\n    private int imageResId;\n    private int color;\n    private int pos;\n\n    Context context;\n    private RectF clickRegion;\n    private SwipeHelperRight.UnderlayButtonClickListener clickListener;\n\n    public UnderlayButton(Context context,String text, int imageResId, int color, SwipeHelperRight.UnderlayButtonClickListener clickListener) {\n        this.text = text;\n        this.imageResId = imageResId;\n        this.color = color;\n        this.context = context;\n        this.clickListener = clickListener;\n    }\n\n    public boolean onClick(float x, float y){\n        if (clickRegion != null &amp;&amp; clickRegion.contains(x, y)){\n            clickListener.onClick(pos);\n            return true;\n        }\n\n        return false;\n    }\n\n    public void onDraw(Canvas c, RectF rect, int pos){\n        Paint p = new Paint();\n\n        // Draw background\n        p.setColor(color);\n        c.drawRect(rect, p);\n\n\n\n        // Draw Text\n        p.setColor(Color.WHITE);\n        p.setTextSize(25.0f);\n\n\n\n\n\n        Rect r = new Rect();\n        float cHeight = rect.height();\n        float cWidth = rect.width();\n        p.setTextAlign(Paint.Align.LEFT);\n        p.getTextBounds(text, 0, text.length(), r);\n        float x = cWidth / 2f - r.width() / 2f - r.left;\n        float y = cHeight / 2f + r.height() / 2f - r.bottom;\n        c.drawText(text, rect.left + x, rect.top + y + (r.height()*2), p);\n\n        //Draw Image\n        if (imageResId != 0){\n            float textWidth = p.measureText(text);\n            Bitmap bmp = drawableToBitmap(ContextCompat.getDrawable(context, imageResId));\n            c.drawBitmap(bmp, rect.centerX()-(bmp.getWidth()/2f),rect.centerY()-(bmp.getHeight()/2f), null);\n        }\n\n        clickRegion = rect;\n        this.pos = pos;\n    }\n\n    public static Bitmap drawableToBitmap (Drawable drawable) {\n        Bitmap bitmap = null;\n\n        if (drawable instanceof BitmapDrawable) {\n            BitmapDrawable bitmapDrawable = (BitmapDrawable) drawable;\n            if(bitmapDrawable.getBitmap() != null) {\n                return bitmapDrawable.getBitmap();\n            }\n        }\n\n        if(drawable.getIntrinsicWidth() &lt;= 0 || drawable.getIntrinsicHeight() &lt;= 0) {\n            bitmap = Bitmap.createBitmap(1, 1, Bitmap.Config.ARGB_8888); // Single color bitmap will be created of 1x1 pixel\n        } else {\n            bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\n        }\n\n        Canvas canvas = new Canvas(bitmap);\n        drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\n        drawable.draw(canvas);\n        return bitmap;\n    }\n\n}\n\npublic interface UnderlayButtonClickListener {\n    void onClick(int pos);\n}\n}\n</code></pre>\n<p>and after that in you activity or fragnement</p>\n<pre><code>SwipeHelperRight swipeHelperRight = new SwipeHelperRight(getContext(),binding.recyclerView) {\n        @Override\n        public void instantiateUnderlayButton(RecyclerView.ViewHolder viewHolder, List&lt;SwipeHelperRight.UnderlayButton&gt; underlayButtons) {\n            underlayButtons.add(new SwipeHelperRight.UnderlayButton(\n                    getContext(),\n                    &quot;Archive&quot;,\n                    R.drawable.ic_archive,\n                    Color.parseColor(&quot;#BBBBC3&quot;),\n                    new SwipeHelperRight.UnderlayButtonClickListener() {\n                        @Override\n                        public void onClick(int pos) {\n                            // TODO: onArchive\n                            Toast.makeText(getContext(), &quot;Archive&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n            ));\n\n            underlayButtons.add(new SwipeHelperRight.UnderlayButton(\n                    getContext(),\n                    &quot;Delete&quot;,\n                    R.drawable.ic_delete,\n                    Color.parseColor(&quot;#FE3B30&quot;),\n                    new SwipeHelperRight.UnderlayButtonClickListener() {\n                        @Override\n                        public void onClick(int pos) {\n                            // TODO: onDelete\n                            Toast.makeText(getContext(), &quot;Delete&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n            ));\n        }\n    };\n</code></pre>\n<p>Hope this will Help You</p>\n"}],"owner":{"account_id":14949762,"reputation":652,"user_id":10793837,"display_name":"Abdul Waheed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692708629,"creation_date":1655625004,"question_id":72675155,"body_markdown":"I&#39;m trying show buttons in RecyclerView right swipe. I successfully shows these buttons on RecyclerView left swipe using [this][1] answer\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut I not able to display these buttons on other side. I tried lot of other answers from [this][3] to achieve this functionality but not get any success. Please anybody help me in this task. \r\n\r\n**Thanks** in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62265008/10793837\r\n  [2]: https://i.stack.imgur.com/rxzRC.png\r\n  [3]: https://stackoverflow.com/q/44965278/10793837","title":"Right Swipe to show buttons on RecyclerView using ItemTouchHelper","body":"<p>I'm trying show buttons in RecyclerView right swipe. I successfully shows these buttons on RecyclerView left swipe using <a href=\"https://stackoverflow.com/a/62265008/10793837\">this</a> answer</p>\n<p><a href=\"https://i.stack.imgur.com/rxzRC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxzRC.png\" alt=\"enter image description here\" /></a></p>\n<p>but I not able to display these buttons on other side. I tried lot of other answers from <a href=\"https://stackoverflow.com/q/44965278/10793837\">this</a> to achieve this functionality but not get any success. Please anybody help me in this task.</p>\n<p><strong>Thanks</strong> in advance.</p>\n"},{"tags":["java","xml","xsd","maven-jaxb2-plugin","cxf-xjc-plugin"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1692704683,"post_id":76952060,"comment_id":135657600,"body_markdown":"Where is your SubObject class?","body":"Where is your SubObject class?"},{"owner":{"account_id":9931904,"reputation":1,"user_id":7351544,"display_name":"Cps"},"score":0,"creation_date":1692708450,"post_id":76952060,"comment_id":135658534,"body_markdown":"@jdweng just updated the main post with it, had to delete it at first cause the system was marking my post as spam. The same class is generated with both the &quot;new&quot; plugins and with the older version of the CXF plugin, so it doesn&#39;t seem to be a problem.","body":"@jdweng just updated the main post with it, had to delete it at first cause the system was marking my post as spam. The same class is generated with both the &quot;new&quot; plugins and with the older version of the CXF plugin, so it doesn&#39;t seem to be a problem."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1692710920,"post_id":76952060,"comment_id":135659221,"body_markdown":"What&#39;s the XSD like? Questions are encouraged to provide a [mcve]","body":"What&#39;s the XSD like? Questions are encouraged to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1692713971,"post_id":76952060,"comment_id":135660086,"body_markdown":"Try adding get/set to all your properties : protected String subElement1 { get; set; }","body":"Try adding get/set to all your properties : protected String subElement1 { get; set; }"},{"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701373367,"post_id":76952060,"comment_id":136770903,"body_markdown":"Could you share xsd ? I&#39;d like to know where does the Object type comes from and see if jaxb-tools generates the same java code than the others tested plugin. Thanks","body":"Could you share xsd ? I&#39;d like to know where does the Object type comes from and see if jaxb-tools generates the same java code than the others tested plugin. Thanks"}],"owner":{"account_id":9931904,"reputation":1,"user_id":7351544,"display_name":"Cps"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692708528,"creation_date":1692697692,"question_id":76952060,"body_markdown":"**TLDR:** I have to generate Java classes from an XSD, and one of the fields of the &quot;Main&quot; object is another generated class. The field has an annotation @XmlElement, which has a property &quot;type = Object.class &quot; while having the field type = &quot;SubObject&quot;. This makes it so that when I try to unmarshal the XML into a Java Object I get an error.\r\n```\r\n@XmlRootElement(name = &quot;MainObject&quot;)\r\npublic class MainObject {\r\n    @XmlElement(name = &quot;SubObject&quot;, required = true, type = Object.class)\r\n    protected SubObject subObject;\r\n}\r\n```\r\nI have tried with both the JAXB2 Maven Plugin and the Apache-CXF-XJC plugin. In both cases I end up with the same result. If I manually remove the type property from the annotation it works. How can I generate the class without the type property, or make it be SubObject.class in this case?\r\n\r\n\r\n\r\n### More info\r\n\r\nThe files/configuration that worked on the old project:\r\n##### pom.xml plugin configuration\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;extensions&gt;\r\n\t\t\t&lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.3.0&lt;/extension&gt;\r\n\t\t&lt;/extensions&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;sourceRoot&gt;${project.build.sourceDirectory}/../generated/&lt;/sourceRoot&gt;\r\n\t\t\t\t&lt;xsdOptions&gt;\r\n\t\t\t\t\t&lt;xsdOption&gt;\r\n\t\t\t\t\t\t&lt;xsd&gt;src/main/resources/xsd/subobject.xsd&lt;/xsd&gt;\r\n\t\t\t\t\t\t&lt;packagename&gt;org.acme.generated&lt;/packagename&gt;\r\n\t\t\t\t\t&lt;/xsdOption&gt;\t\t\t\t\t\r\n\t\t\t\t\t&lt;xsdOption&gt;\r\n\t\t\t\t\t\t&lt;xsd&gt;src/main/resources/xsd/mainobject.xsd&lt;/xsd&gt;\r\n\t\t\t\t\t\t&lt;packagename&gt;org.acme.generated&lt;/packagename&gt;\r\n\t\t\t\t\t\t&lt;bindingFile&gt;src/main/resources/xsd/bindings.xjb&lt;/bindingFile&gt;\r\n\t\t\t\t\t&lt;/xsdOption&gt;\r\n\t\t\t\t&lt;/xsdOptions&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n##### xjb bindings file\r\n```\r\n&lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xsi=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot;\r\n\txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.1&quot;&gt;\r\n\t&lt;bindings schemaLocation=&quot;mainobject.xsd&quot; version=&quot;1.0&quot;&gt;\r\n\t\t&lt;bindings node=&quot;//xs:element[@name=&#39;SubObject&#39;]&quot;&gt;\r\n\t\t        &lt;class ref=&quot;org.acme.generated.SubObject&quot;/&gt;\r\n\t\t&lt;/bindings&gt;\r\n\t&lt;/bindings&gt;\r\n&lt;/bindings&gt;\r\n```\r\n\r\n##### generated MainObject class\r\n```\r\n@XmlRootElement(name = &quot;MainObject&quot;)\r\npublic class MainObject {\r\n\r\n    @XmlElement(name = &quot;MainElement1&quot;, required = true)\r\n    protected String mainElement1;\r\n    @XmlElement(name = &quot;MaintElement2&quot;)\r\n    protected int maintElement2;\r\n    @XmlElement(name = &quot;SubObject&quot;, required = true)\r\n    protected SubObject subObject;\r\n```\r\nNow, after researching a bit, I&#39;ve ended up with the following files for the newer plugin:\r\n\r\n##### pom.xml plugin configuration\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t  &lt;execution&gt;\r\n\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t  &lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t  &lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t  &lt;sources&gt;src/main/resources/xsd&lt;/sources&gt;\r\n\t  &lt;outputDirectory&gt;src/main/generated&lt;/outputDirectory&gt;\r\n\t  &lt;xjbSources&gt;\r\n\t\t&lt;xjbSource&gt;src/main/resources/xjb&lt;/xjbSource&gt;\r\n\t  &lt;/xjbSources&gt;\r\n\t  &lt;!-- The package of your generated sources --&gt;\r\n\t  &lt;packageName&gt;org.acme.generated&lt;/packageName&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n##### xjb bindings file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n               xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n               xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n               jaxb:extensionBindingPrefixes=&quot;xjc&quot;\r\n               version=&quot;3.0&quot;&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;..\\xsd\\mainobject.xsd&quot; version=&quot;1.0&quot; node=&quot;//xsd:element[@name=&#39;SubObject&#39;]&quot;&gt;\r\n        &lt;jaxb:property&gt;\r\n            &lt;jaxb:baseType&gt;\r\n                &lt;jaxb:javaType name=&quot;org.acme.generated.SubObject&quot;/&gt;\r\n            &lt;/jaxb:baseType&gt;\r\n        &lt;/jaxb:property&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n\r\n```\r\n\r\n##### generated MainObject class\r\n```\r\n@XmlRootElement(name = &quot;MainObject&quot;)\r\npublic class MainObject {\r\n\r\n    @XmlElement(name = &quot;MainElement1&quot;, required = true)\r\n    protected String mainElement1;\r\n    @XmlElement(name = &quot;MaintElement2&quot;)\r\n    protected int maintElement2;\r\n    @XmlElement(name = &quot;SubObject&quot;, required = true, type = Object.class)\r\n    protected SubObject subObject;\r\n```\r\n\r\n##### generated SubObject class\r\n```\r\n@XmlRootElement(name = &quot;SubObject&quot;)\r\npublic class SubObject {\r\n\r\n    @XmlElement(name = &quot;SubElement1&quot;, required = true)\r\n    protected String subElement1;\r\n    @XmlElement(name = &quot;SubElement2&quot;)\r\n    protected int subElement2;\r\n```\r\n\r\nBoth the xsd files stayed the same, but the generated MainObject class now has the type property on the anottation, with value Object.class. When I try to unmarshal the following XML: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;MainObject&gt;\r\n\t&lt;MainElement1&gt;test1&lt;/MainElement1&gt;\r\n\t&lt;MainElement2&gt;2&lt;/MainElement2&gt;\r\n\t&lt;SubObject&gt;\r\n\t\t&lt;SubElement1&gt;test1&lt;/SubElement1&gt;\r\n\t\t&lt;SubElement2&gt;2&lt;/SubElement2&gt;\r\n\t&lt;/SubObject&gt;\r\n&lt;/MainObject&gt;\r\n```\r\n\r\nI get the following error `java.lang.IllegalArgumentException: Can not set org.acme.generated.SubObject field org.acme.generated.MainObject.subObject to com.sun.org.apache.xerces.internal.dom.ElementNSImpl`. However, if I manually remove the type = Object.class from the generated class the unmarshal works perfectly.\r\nTo add a little bit more info, I&#39;ve also tried generating the classes with an updated version of the apache-CXF-XJC plugin (v4.0.0) but I get the same result.\r\n\r\nIs there a way to manipulate the type attribute generated on the annotation @XmlElement? Or to ignore it at the time of unmarshalling the data into an object?","title":"JAXB2 - XJC - Problem with XmlElement.type on generated class","body":"<p><strong>TLDR:</strong> I have to generate Java classes from an XSD, and one of the fields of the &quot;Main&quot; object is another generated class. The field has an annotation @XmlElement, which has a property &quot;type = Object.class &quot; while having the field type = &quot;SubObject&quot;. This makes it so that when I try to unmarshal the XML into a Java Object I get an error.</p>\n<pre><code>@XmlRootElement(name = &quot;MainObject&quot;)\npublic class MainObject {\n    @XmlElement(name = &quot;SubObject&quot;, required = true, type = Object.class)\n    protected SubObject subObject;\n}\n</code></pre>\n<p>I have tried with both the JAXB2 Maven Plugin and the Apache-CXF-XJC plugin. In both cases I end up with the same result. If I manually remove the type property from the annotation it works. How can I generate the class without the type property, or make it be SubObject.class in this case?</p>\n<h3>More info</h3>\n<p>The files/configuration that worked on the old project:</p>\n<h5>pom.xml plugin configuration</h5>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.3.0&lt;/extension&gt;\n        &lt;/extensions&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;xsdtojava&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sourceRoot&gt;${project.build.sourceDirectory}/../generated/&lt;/sourceRoot&gt;\n                &lt;xsdOptions&gt;\n                    &lt;xsdOption&gt;\n                        &lt;xsd&gt;src/main/resources/xsd/subobject.xsd&lt;/xsd&gt;\n                        &lt;packagename&gt;org.acme.generated&lt;/packagename&gt;\n                    &lt;/xsdOption&gt;                    \n                    &lt;xsdOption&gt;\n                        &lt;xsd&gt;src/main/resources/xsd/mainobject.xsd&lt;/xsd&gt;\n                        &lt;packagename&gt;org.acme.generated&lt;/packagename&gt;\n                        &lt;bindingFile&gt;src/main/resources/xsd/bindings.xjb&lt;/bindingFile&gt;\n                    &lt;/xsdOption&gt;\n                &lt;/xsdOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<h5>xjb bindings file</h5>\n<pre><code>&lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xsi=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.1&quot;&gt;\n    &lt;bindings schemaLocation=&quot;mainobject.xsd&quot; version=&quot;1.0&quot;&gt;\n        &lt;bindings node=&quot;//xs:element[@name='SubObject']&quot;&gt;\n                &lt;class ref=&quot;org.acme.generated.SubObject&quot;/&gt;\n        &lt;/bindings&gt;\n    &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n<h5>generated MainObject class</h5>\n<pre><code>@XmlRootElement(name = &quot;MainObject&quot;)\npublic class MainObject {\n\n    @XmlElement(name = &quot;MainElement1&quot;, required = true)\n    protected String mainElement1;\n    @XmlElement(name = &quot;MaintElement2&quot;)\n    protected int maintElement2;\n    @XmlElement(name = &quot;SubObject&quot;, required = true)\n    protected SubObject subObject;\n</code></pre>\n<p>Now, after researching a bit, I've ended up with the following files for the newer plugin:</p>\n<h5>pom.xml plugin configuration</h5>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;xjc&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;xjc&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;sources&gt;src/main/resources/xsd&lt;/sources&gt;\n      &lt;outputDirectory&gt;src/main/generated&lt;/outputDirectory&gt;\n      &lt;xjbSources&gt;\n        &lt;xjbSource&gt;src/main/resources/xjb&lt;/xjbSource&gt;\n      &lt;/xjbSources&gt;\n      &lt;!-- The package of your generated sources --&gt;\n      &lt;packageName&gt;org.acme.generated&lt;/packageName&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<h5>xjb bindings file</h5>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n               xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n               xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\n               jaxb:extensionBindingPrefixes=&quot;xjc&quot;\n               version=&quot;3.0&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;..\\xsd\\mainobject.xsd&quot; version=&quot;1.0&quot; node=&quot;//xsd:element[@name='SubObject']&quot;&gt;\n        &lt;jaxb:property&gt;\n            &lt;jaxb:baseType&gt;\n                &lt;jaxb:javaType name=&quot;org.acme.generated.SubObject&quot;/&gt;\n            &lt;/jaxb:baseType&gt;\n        &lt;/jaxb:property&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n\n</code></pre>\n<h5>generated MainObject class</h5>\n<pre><code>@XmlRootElement(name = &quot;MainObject&quot;)\npublic class MainObject {\n\n    @XmlElement(name = &quot;MainElement1&quot;, required = true)\n    protected String mainElement1;\n    @XmlElement(name = &quot;MaintElement2&quot;)\n    protected int maintElement2;\n    @XmlElement(name = &quot;SubObject&quot;, required = true, type = Object.class)\n    protected SubObject subObject;\n</code></pre>\n<h5>generated SubObject class</h5>\n<pre><code>@XmlRootElement(name = &quot;SubObject&quot;)\npublic class SubObject {\n\n    @XmlElement(name = &quot;SubElement1&quot;, required = true)\n    protected String subElement1;\n    @XmlElement(name = &quot;SubElement2&quot;)\n    protected int subElement2;\n</code></pre>\n<p>Both the xsd files stayed the same, but the generated MainObject class now has the type property on the anottation, with value Object.class. When I try to unmarshal the following XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;MainObject&gt;\n    &lt;MainElement1&gt;test1&lt;/MainElement1&gt;\n    &lt;MainElement2&gt;2&lt;/MainElement2&gt;\n    &lt;SubObject&gt;\n        &lt;SubElement1&gt;test1&lt;/SubElement1&gt;\n        &lt;SubElement2&gt;2&lt;/SubElement2&gt;\n    &lt;/SubObject&gt;\n&lt;/MainObject&gt;\n</code></pre>\n<p>I get the following error <code>java.lang.IllegalArgumentException: Can not set org.acme.generated.SubObject field org.acme.generated.MainObject.subObject to com.sun.org.apache.xerces.internal.dom.ElementNSImpl</code>. However, if I manually remove the type = Object.class from the generated class the unmarshal works perfectly.\nTo add a little bit more info, I've also tried generating the classes with an updated version of the apache-CXF-XJC plugin (v4.0.0) but I get the same result.</p>\n<p>Is there a way to manipulate the type attribute generated on the annotation @XmlElement? Or to ignore it at the time of unmarshalling the data into an object?</p>\n"},{"tags":["java","http","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1692706396,"post_id":76953143,"comment_id":135658017,"body_markdown":"I can&#39;t help unless you follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue - lets hope someone else has some ideas","body":"I can&#39;t help unless you follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a> - lets hope someone else has some ideas"}],"owner":{"account_id":9782480,"reputation":57,"user_id":7249929,"display_name":"Nani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692708524,"creation_date":1692705947,"question_id":76953143,"body_markdown":"`Background:` My Karate test cases were running fine with Karate 0.9.6 version.\r\nCurrently I am trying to upgrade my Karate version to 1.4.0 and facing issues. Java version is 17.\r\n\r\n`Solutions Tried:` Followed documentation [Karate-1.0-upgrade-guide][1] and removed karate-apache dependency in pom and updated Runner method. Added karate-core dependency in pom.\r\n\r\n\r\nWhile running karate test cases facing below error:\r\n\r\n`ERROR:` com.intuit.karate -- karate.org.apache.http.conn.HttpHostConnectException: Connect to 127.0.0.1:8080 [/127.0.0.1] failed: \r\nConnection refused: no further information, http call failed after 474 milliseconds for url: http://127.0.0.1:8080/\r\n\r\n`karate-config.js`\r\n\r\n    function fn() {\r\n    var env = karate.env;\r\n    karate.configure(&#39;connectTimeout&#39;, 5000);\r\n    karate.configure(&#39;readTimeout&#39;, 8000);\r\n    var port = karate.properties[&#39;demo.server.port&#39;];\r\n    var url = karate.properties[&#39;demo.server.url&#39;];\r\n    if (!port) {\r\n        port = karate.env == &#39;web&#39; ? 8090 : 8080;\r\n    }\r\n    var protocol = &#39;http&#39;;\r\n    if (karate.properties[&#39;demo.server.https&#39;] == &#39;true&#39;) {\r\n        protocol = &#39;https&#39;;\r\n        karate.configure(&#39;ssl&#39;, true);\r\n    }\r\n    env = &#39;test&#39;;\r\n    var config = {\r\n       env: env,\r\n       baseUrl: protocol + &#39;://127.0.0.1:&#39; + port,\r\n       basePath: &#39;/karateTesting/1.0&#39;,\r\n       baseHeader: &#39;classpath:com/karate/headers/&#39;,\r\n       baseReq: &#39;classpath:com/karate/requests/&#39;,\r\n       baseResp: &#39;classpath:com/karate/responses/&#39;\r\n    }\r\n    if (url) {\r\n        config.baseUrl = url;\r\n    }\r\n    if (karate.env == &#39;proxy&#39;) {\r\n        var proxyPort = karate.properties[&#39;demo.proxy.port&#39;];\r\n        karate.configure(&#39;proxy&#39;, &#39;http://127.0.0.1:&#39; + proxyPort);\r\n    }\r\n    return config; }\r\n\r\n`Runner Class`\r\n\r\n    @Test\r\n    void testParallel() {\r\n        Results results = Runner.path(&quot;classpath:com/karate/test_api.feature&quot;).tags(&quot;~@ignore&quot;).parallel(5);\r\n        generateReport(results.getReportDir());\r\n        assertEquals(0, results.getFailCount(), results.getErrorMessages());\r\n    }\r\n\r\n`POM.xml`\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;karate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;all&lt;/classifier&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n  [1]: https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide","title":"Karate-Apache-HttpHostConnectException Upon Upgrading to Karate 1.4","body":"<p><code>Background:</code> My Karate test cases were running fine with Karate 0.9.6 version.\nCurrently I am trying to upgrade my Karate version to 1.4.0 and facing issues. Java version is 17.</p>\n<p><code>Solutions Tried:</code> Followed documentation <a href=\"https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide\" rel=\"nofollow noreferrer\">Karate-1.0-upgrade-guide</a> and removed karate-apache dependency in pom and updated Runner method. Added karate-core dependency in pom.</p>\n<p>While running karate test cases facing below error:</p>\n<p><code>ERROR:</code> com.intuit.karate -- karate.org.apache.http.conn.HttpHostConnectException: Connect to 127.0.0.1:8080 [/127.0.0.1] failed:\nConnection refused: no further information, http call failed after 474 milliseconds for url: <a href=\"http://127.0.0.1:8080/\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/</a></p>\n<p><code>karate-config.js</code></p>\n<pre><code>function fn() {\nvar env = karate.env;\nkarate.configure('connectTimeout', 5000);\nkarate.configure('readTimeout', 8000);\nvar port = karate.properties['demo.server.port'];\nvar url = karate.properties['demo.server.url'];\nif (!port) {\n    port = karate.env == 'web' ? 8090 : 8080;\n}\nvar protocol = 'http';\nif (karate.properties['demo.server.https'] == 'true') {\n    protocol = 'https';\n    karate.configure('ssl', true);\n}\nenv = 'test';\nvar config = {\n   env: env,\n   baseUrl: protocol + '://127.0.0.1:' + port,\n   basePath: '/karateTesting/1.0',\n   baseHeader: 'classpath:com/karate/headers/',\n   baseReq: 'classpath:com/karate/requests/',\n   baseResp: 'classpath:com/karate/responses/'\n}\nif (url) {\n    config.baseUrl = url;\n}\nif (karate.env == 'proxy') {\n    var proxyPort = karate.properties['demo.proxy.port'];\n    karate.configure('proxy', 'http://127.0.0.1:' + proxyPort);\n}\nreturn config; }\n</code></pre>\n<p><code>Runner Class</code></p>\n<pre><code>@Test\nvoid testParallel() {\n    Results results = Runner.path(&quot;classpath:com/karate/test_api.feature&quot;).tags(&quot;~@ignore&quot;).parallel(5);\n    generateReport(results.getReportDir());\n    assertEquals(0, results.getFailCount(), results.getErrorMessages());\n}\n</code></pre>\n<p><code>POM.xml</code></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n        &lt;artifactId&gt;karate-core&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;classifier&gt;all&lt;/classifier&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","firefox","webdrivermanager-java"],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692708192,"creation_date":1692708192,"answer_id":76953445,"question_id":76923608,"body_markdown":"You can do the following:\r\n\r\n    WebDriverManager wmd = WebDriverManager.firefoxdriver();\r\n    wdm.setup();\r\n    FirefoxDriver driver = new FirefoxDriver();\r\n    System.out.println(&quot;DownloadedDriverPath &gt;&gt;&gt; &quot; + wdm.getDownloadedDriverPath());","title":"getDownloadedDriverVersion() and getDownloadedDriverPath() is returning null for firefox","body":"<p>You can do the following:</p>\n<pre><code>WebDriverManager wmd = WebDriverManager.firefoxdriver();\nwdm.setup();\nFirefoxDriver driver = new FirefoxDriver();\nSystem.out.println(&quot;DownloadedDriverPath &gt;&gt;&gt; &quot; + wdm.getDownloadedDriverPath());\n</code></pre>\n"}],"owner":{"account_id":29246006,"reputation":1,"user_id":22406456,"display_name":"Jamuna Velusamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692708231,"creation_date":1692291166,"question_id":76923608,"body_markdown":"Even after using latest WDM version, i am getting null for the below code\r\n\r\nOS: Windows 11, Browser: firefox.\r\n\r\nWDM version used.\r\n// https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\r\nimplementation group: &#39;io.github.bonigarcia&#39;, name: &#39;webdrivermanager&#39;, version: &#39;5.4.1&#39;\r\n\r\n```\r\npublic static FirefoxDriver createDriver() {\r\n\t\t\r\n\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\r\n\t\tFirefoxDriver driver = new FirefoxDriver();\r\n\t\t\r\n\t\tSystem.out.println(&quot;DownloadedDriverPath &gt;&gt;&gt; &quot;\r\n\t\t\t\t+ WebDriverManager.firefoxdriver().getDownloadedDriverPath());\r\n\r\n\t\tSystem.out.println(&quot;DownloadedDriverVersion &gt;&gt;&gt; &quot;\r\n\t\t\t+ WebDriverManager.firefoxdriver().getDownloadedDriverVersion());\r\n\r\n\t\tSystem.out.println(&quot;BrowserPath &gt;&gt;&gt; &quot;\r\n\t\t\t\t+ WebDriverManager.firefoxdriver().getBrowserPath());\r\n\t\t\r\n\t\t\r\n\t\treturn driver;\r\n\t}\r\n```\r\n\r\n\r\nPlease help in resolving the issue.","title":"getDownloadedDriverVersion() and getDownloadedDriverPath() is returning null for firefox","body":"<p>Even after using latest WDM version, i am getting null for the below code</p>\n<p>OS: Windows 11, Browser: firefox.</p>\n<p>WDM version used.\n// <a href=\"https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager</a>\nimplementation group: 'io.github.bonigarcia', name: 'webdrivermanager', version: '5.4.1'</p>\n<pre><code>public static FirefoxDriver createDriver() {\n        \n        WebDriverManager.firefoxdriver().setup();\n    \n        FirefoxDriver driver = new FirefoxDriver();\n        \n        System.out.println(&quot;DownloadedDriverPath &gt;&gt;&gt; &quot;\n                + WebDriverManager.firefoxdriver().getDownloadedDriverPath());\n\n        System.out.println(&quot;DownloadedDriverVersion &gt;&gt;&gt; &quot;\n            + WebDriverManager.firefoxdriver().getDownloadedDriverVersion());\n\n        System.out.println(&quot;BrowserPath &gt;&gt;&gt; &quot;\n                + WebDriverManager.firefoxdriver().getBrowserPath());\n        \n        \n        return driver;\n    }\n</code></pre>\n<p>Please help in resolving the issue.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1692770647,"post_id":76953449,"comment_id":135667844,"body_markdown":"Welcome to SO. Thanks for your question and the provided code, which is a good start. In order to reproduce your problem, however, we also need the classes under test and a second test which is failing. Otherwise, every community member trying to help you will have to invent the missing classes by themselves, possibly guessing wrong about what they might look like. A [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve) on GitHub would make it much easier to help you. Thank you.","body":"Welcome to SO. Thanks for your question and the provided code, which is a good start. In order to reproduce your problem, however, we also need the classes under test and a second test which is failing. Otherwise, every community member trying to help you will have to invent the missing classes by themselves, possibly guessing wrong about what they might look like. A <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> on GitHub would make it much easier to help you. Thank you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1692771874,"post_id":76953449,"comment_id":135668034,"body_markdown":"Having said that, I think that aligning the mockito artifact versions and not using a mix of core 3.5.13 and inline 4.5.1 would be a good idea. According to [this answer](https://stackoverflow.com/a/72303688/1082681), you ought to use `spring-boot-starter-test` and the correct version of Spring Boot parent to avoid problems like yours. Without the minimal reproducer, I cannot say more at this point. And please, don&#39;t debate by commenting, simply provide the [MCVE](https://stackoverflow.com/help/mcve).","body":"Having said that, I think that aligning the mockito artifact versions and not using a mix of core 3.5.13 and inline 4.5.1 would be a good idea. According to <a href=\"https://stackoverflow.com/a/72303688/1082681\">this answer</a>, you ought to use <code>spring-boot-starter-test</code> and the correct version of Spring Boot parent to avoid problems like yours. Without the minimal reproducer, I cannot say more at this point. And please, don&#39;t debate by commenting, simply provide the <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}],"owner":{"account_id":10113637,"reputation":29,"user_id":7473030,"display_name":"Hindol Dey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692708214,"creation_date":1692708214,"question_id":76953449,"body_markdown":"I am facing a weird issue and I&#39;m not able to find out the root cause.\r\n\r\nI added a new unit test for an aspect that I have created and that is causing most of the test cases in the application to fail due to Mockito errors. Once I remove the test case, everything passes magically.\r\n\r\nAnnotation\r\n```\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface ValidCheck {\r\n        boolean enabled() default true;\r\n    }\r\n\r\n```\r\n\r\nAspect\r\n\r\n```\r\n\r\n    @Aspect\r\n    @Component\r\n    @Slf4j\r\n    public class ValidCheckService {\r\n        \r\n        @Value(&quot;${field.to.validate}&quot;)\r\n        private String field;\r\n    \r\n        @Around(value = &quot;@annotation(com.test.logging.annotations.ValidCheck)&quot;)\r\n        public ResponseEntity&lt;?&gt; validateFields(ProceedingJoinPoint pjp) throws Throwable {\r\n    \r\n            try {\r\n                Object[] args = pjp.getArgs();\r\n                var validCheck =\r\n                        ((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class);\r\n    \r\n                if (validCheck.enabled()) {\r\n    \r\n                    if (args != null &amp;&amp; args.length &gt; 0) {\r\n                        var someClass =\r\n                                Arrays.stream(args)\r\n                                        .filter(arg -&gt; arg instanceof SomeClass)\r\n                                        .findAny()\r\n                                        .map(arg -&gt; (SomeClass) arg)\r\n                                        .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No SomeClass present&quot;));\r\n    \r\n                        var fieldToCheck = someClass.getField();\r\n    \r\n                        if (!field.equalsIgnoreCase(fieldToCheck)) {\r\n                            return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\r\n                        }\r\n                    }\r\n                } else {\r\n                    log.info(&quot;Check disabled&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(&quot;Exception in validating fields&quot;, e);\r\n            }\r\n            \r\n            return (ResponseEntity&lt;?&gt;) pjp.proceed();\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nTest class\r\n\r\n```\r\n\r\n    class ValidCheckServiceTest {\r\n        \r\n                private ProceedingJoinPoint pjp;\r\n            private SomeClass some;\r\n            private ValidCheck validCheck;\r\n            private ValidCheckService validCheckService;\r\n        \r\n            @BeforeEach\r\n            public void init() {\r\n                pjp = mock(ProceedingJoinPoint.class);\r\n                some = mock(SomeClass.class);\r\n                validCheck = mock(ValidCheck.class);\r\n                MethodSignature methodSignature = mock(MethodSignature.class);\r\n                Method method = mock(Method.class);\r\n        \r\n                validCheckService = new ValidCheckService();\r\n        \r\n                setField(validCheckService, &quot;field&quot;, SOME_FIELD);\r\n        \r\n                when(pjp.getSignature()).thenReturn(methodSignature);\r\n                when(methodSignature.getMethod()).thenReturn(method);\r\n                when(method.getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n            }\r\n        \r\n            @Test\r\n            void test1() throws Throwable {\r\n        \r\n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\r\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n                when(validCheck.enabled()).thenReturn(true);\r\n                when(some.getClientId()).thenReturn(&quot;value&quot;);\r\n        \r\n                var responseEntity = validCheckService.validateFields(pjp);\r\n        \r\n                assertEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\r\n            }\r\n        \r\n            @Test\r\n            void test2() throws Throwable {\r\n        \r\n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\r\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n                when(validCheck.enabled()).thenReturn(true);\r\n                when(some.getClientId()).thenReturn(SOME_FIELD);\r\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\r\n        \r\n                var responseEntity = validCheckService.validateFields(pjp);\r\n        \r\n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\r\n            }\r\n        \r\n            @Test\r\n            void test3() throws Throwable {\r\n        \r\n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\r\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n                when(validCheck.enabled()).thenReturn(false);\r\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\r\n        \r\n                var responseEntity = validCheckService.validateFields(pjp);\r\n        \r\n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\r\n            }\r\n        \r\n            @ParameterizedTest\r\n            @ValueSource(booleans = {true, false})\r\n            void test4(boolean enabled) throws Throwable {\r\n        \r\n                when(pjp.getArgs()).thenReturn(new Object[]{new Object()});\r\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n                when(validCheck.enabled()).thenReturn(enabled);\r\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\r\n        \r\n                var responseEntity = validCheckService.validateFields(pjp);\r\n        \r\n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\r\n            }\r\n        \r\n        \r\n            private static final String SOME_FIELD = &quot;field&quot;;\r\n        }\r\n\r\n```\r\n\r\nThis test runs fine from IDE. But whenever I try to run all tests at one, most of them either fails or errors out due to mockito like unfinished stubbings, NPE or failed to release mocks.\r\n\r\nIf I delete this particular test case, all the test case magically passes.\r\n\r\nI tried matching my spring-boot-starter-test&#39;s mockito version to mockito-inline version that we are adding in our dependency separately but with no luck.\r\n\r\n\r\nCurrent library versions;\r\n```\r\n    +- org.mockito:mockito-inline:jar:4.5.1:test\r\n    +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\r\n    +- org.mockito:mockito-core:jar:3.5.13:test\r\n```\r\n\r\nPlease help me in identifying the issue.\r\n","title":"Unit test failing after adding a new unit test for an Aspect","body":"<p>I am facing a weird issue and I'm not able to find out the root cause.</p>\n<p>I added a new unit test for an aspect that I have created and that is causing most of the test cases in the application to fail due to Mockito errors. Once I remove the test case, everything passes magically.</p>\n<p>Annotation</p>\n<pre><code>\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.METHOD)\n    public @interface ValidCheck {\n        boolean enabled() default true;\n    }\n\n</code></pre>\n<p>Aspect</p>\n<pre><code>\n    @Aspect\n    @Component\n    @Slf4j\n    public class ValidCheckService {\n        \n        @Value(&quot;${field.to.validate}&quot;)\n        private String field;\n    \n        @Around(value = &quot;@annotation(com.test.logging.annotations.ValidCheck)&quot;)\n        public ResponseEntity&lt;?&gt; validateFields(ProceedingJoinPoint pjp) throws Throwable {\n    \n            try {\n                Object[] args = pjp.getArgs();\n                var validCheck =\n                        ((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class);\n    \n                if (validCheck.enabled()) {\n    \n                    if (args != null &amp;&amp; args.length &gt; 0) {\n                        var someClass =\n                                Arrays.stream(args)\n                                        .filter(arg -&gt; arg instanceof SomeClass)\n                                        .findAny()\n                                        .map(arg -&gt; (SomeClass) arg)\n                                        .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No SomeClass present&quot;));\n    \n                        var fieldToCheck = someClass.getField();\n    \n                        if (!field.equalsIgnoreCase(fieldToCheck)) {\n                            return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\n                        }\n                    }\n                } else {\n                    log.info(&quot;Check disabled&quot;);\n                }\n            } catch (Exception e) {\n                log.error(&quot;Exception in validating fields&quot;, e);\n            }\n            \n            return (ResponseEntity&lt;?&gt;) pjp.proceed();\n        }\n    }\n\n</code></pre>\n<p>Test class</p>\n<pre><code>\n    class ValidCheckServiceTest {\n        \n                private ProceedingJoinPoint pjp;\n            private SomeClass some;\n            private ValidCheck validCheck;\n            private ValidCheckService validCheckService;\n        \n            @BeforeEach\n            public void init() {\n                pjp = mock(ProceedingJoinPoint.class);\n                some = mock(SomeClass.class);\n                validCheck = mock(ValidCheck.class);\n                MethodSignature methodSignature = mock(MethodSignature.class);\n                Method method = mock(Method.class);\n        \n                validCheckService = new ValidCheckService();\n        \n                setField(validCheckService, &quot;field&quot;, SOME_FIELD);\n        \n                when(pjp.getSignature()).thenReturn(methodSignature);\n                when(methodSignature.getMethod()).thenReturn(method);\n                when(method.getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n            }\n        \n            @Test\n            void test1() throws Throwable {\n        \n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n                when(validCheck.enabled()).thenReturn(true);\n                when(some.getClientId()).thenReturn(&quot;value&quot;);\n        \n                var responseEntity = validCheckService.validateFields(pjp);\n        \n                assertEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\n            }\n        \n            @Test\n            void test2() throws Throwable {\n        \n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n                when(validCheck.enabled()).thenReturn(true);\n                when(some.getClientId()).thenReturn(SOME_FIELD);\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\n        \n                var responseEntity = validCheckService.validateFields(pjp);\n        \n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\n            }\n        \n            @Test\n            void test3() throws Throwable {\n        \n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n                when(validCheck.enabled()).thenReturn(false);\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\n        \n                var responseEntity = validCheckService.validateFields(pjp);\n        \n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\n            }\n        \n            @ParameterizedTest\n            @ValueSource(booleans = {true, false})\n            void test4(boolean enabled) throws Throwable {\n        \n                when(pjp.getArgs()).thenReturn(new Object[]{new Object()});\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n                when(validCheck.enabled()).thenReturn(enabled);\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\n        \n                var responseEntity = validCheckService.validateFields(pjp);\n        \n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\n            }\n        \n        \n            private static final String SOME_FIELD = &quot;field&quot;;\n        }\n\n</code></pre>\n<p>This test runs fine from IDE. But whenever I try to run all tests at one, most of them either fails or errors out due to mockito like unfinished stubbings, NPE or failed to release mocks.</p>\n<p>If I delete this particular test case, all the test case magically passes.</p>\n<p>I tried matching my spring-boot-starter-test's mockito version to mockito-inline version that we are adding in our dependency separately but with no luck.</p>\n<p>Current library versions;</p>\n<pre><code>    +- org.mockito:mockito-inline:jar:4.5.1:test\n    +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\n    +- org.mockito:mockito-core:jar:3.5.13:test\n</code></pre>\n<p>Please help me in identifying the issue.</p>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":11335070,"reputation":887,"user_id":8311212,"display_name":"Sounak Saha"},"score":0,"creation_date":1642503515,"post_id":70754255,"comment_id":125082406,"body_markdown":"Could you please add your backend repo docker file","body":"Could you please add your backend repo docker file"},{"owner":{"account_id":14784901,"reputation":118,"user_id":10677385,"display_name":"Logan Ayliffe"},"score":0,"creation_date":1642503883,"post_id":70754255,"comment_id":125082562,"body_markdown":"Sure thing -- done","body":"Sure thing -- done"},{"owner":{"account_id":15721819,"reputation":18282,"user_id":11344502,"display_name":"anemyte"},"score":0,"creation_date":1642515078,"post_id":70754255,"comment_id":125087043,"body_markdown":"What is your host platform (windows/linux/etc)? Which Docker do you use (ce/desktop and version)? Since the problem only occurs in a certain project, have you tried to move the necessary files away into a new directory and perform the build there?","body":"What is your host platform (windows/linux/etc)? Which Docker do you use (ce/desktop and version)? Since the problem only occurs in a certain project, have you tried to move the necessary files away into a new directory and perform the build there?"},{"owner":{"account_id":14784901,"reputation":118,"user_id":10677385,"display_name":"Logan Ayliffe"},"score":0,"creation_date":1642518926,"post_id":70754255,"comment_id":125088764,"body_markdown":"I can perform a build, I&#39;m asking about the dockerfile specifically.","body":"I can perform a build, I&#39;m asking about the dockerfile specifically."},{"owner":{"account_id":2444322,"reputation":301,"user_id":2132061,"display_name":"zEELz"},"score":1,"creation_date":1663742479,"post_id":70754255,"comment_id":130308035,"body_markdown":"My image built from M1 Mac won&#39;t run on Cloud Run, figured it was a platform issue. I passed the platform using docker buildx:\n`docker buildx build --platform linux/amd64 --tag REPO:TAG .`\n\nIf your docker version doesn&#39;t come with buildx you have to install it - https://docs.docker.com/build/buildx/install/","body":"My image built from M1 Mac won&#39;t run on Cloud Run, figured it was a platform issue. I passed the platform using docker buildx: <code>docker buildx build --platform linux&#47;amd64 --tag REPO:TAG .</code>  If your docker version doesn&#39;t come with buildx you have to install it - <a href=\"https://docs.docker.com/build/buildx/install/\" rel=\"nofollow noreferrer\">docs.docker.com/build/buildx/install</a>"}],"answers":[{"tags":[],"owner":{"account_id":1343356,"reputation":2286,"user_id":2787992,"accept_rate":80,"display_name":"iChux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685947484,"creation_date":1685947484,"answer_id":76404045,"question_id":70754255,"body_markdown":"On Mac, I add this line to the *.zprofile* and that takes care of everything at once. Adding it to the .zprofile, for me, ensures the DOCKER_DEFAULT_PLATFORM is present in the environ on accessing the terminal.\r\n\r\n&gt; export DOCKER_DEFAULT_PLATFORM=linux/amd64","title":"How can I correctly specify the platform for my dockerfile?","body":"<p>On Mac, I add this line to the <em>.zprofile</em> and that takes care of everything at once. Adding it to the .zprofile, for me, ensures the DOCKER_DEFAULT_PLATFORM is present in the environ on accessing the terminal.</p>\n<blockquote>\n<p>export DOCKER_DEFAULT_PLATFORM=linux/amd64</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13686500,"reputation":67,"user_id":9875475,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692708169,"creation_date":1692708169,"answer_id":76953443,"question_id":70754255,"body_markdown":"Also, I use this cmd to build docker image from the apple silicon macbook.\r\n```\r\ndocker build --platform=linux/amd64 -t mydockerimage .\r\n```\r\nNo need for buildx","title":"How can I correctly specify the platform for my dockerfile?","body":"<p>Also, I use this cmd to build docker image from the apple silicon macbook.</p>\n<pre><code>docker build --platform=linux/amd64 -t mydockerimage .\n</code></pre>\n<p>No need for buildx</p>\n"}],"owner":{"account_id":14784901,"reputation":118,"user_id":10677385,"display_name":"Logan Ayliffe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5351,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1692708169,"creation_date":1642502758,"question_id":70754255,"body_markdown":"I&#39;m trying to add the --platform=linux/amd64 flag to my dockerfile&#39;s FROM statement. I need to do this because I&#39;m working on an m1 laptop and the default architecture (linux/arm64/v8) is not compatible with our prod machine. The whole line should be:\r\n\r\n`FROM --platform=linux/amd64 openjdk:11-jre-slim`\r\n\r\nThis worked fine for my frontend repo (with node as the base image). However, in the backend repo, I&#39;m getting this error:\r\n\r\n`&lt;name chain&gt; expected, got &#39;-&#39;`\r\n\r\nSo it&#39;s like, not letting me add the flag at all for some reason.\r\n\r\nIntelliJ IDEA, Java\r\n\r\n\r\nFull backend dockerfile:\r\n```\r\nFROM --platform=linux/amd64 openjdk:11-jre-slim\r\nCOPY config/dev.yml /opt/dropwizard/\r\nCOPY build/libs/smerge-1.0-SNAPSHOT-all.jar /opt/dropwizard/\r\nEXPOSE 8080\r\nWORKDIR /opt/dropwizard\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;smerge-1.0-SNAPSHOT-all.jar&quot;, &quot;server&quot;, &quot;dev.yml&quot;]\r\n```\r\n\r\nThe [docker documentation](https://docs.docker.com/engine/reference/builder/#from) on the --platform flag for dockerfiles says that:\r\n\r\n*The optional --platform flag can be used to specify the platform of the image in case FROM references a multi-platform image. For example, linux/amd64, linux/arm64, or windows/amd64. By default, the target platform of the build request is used.*\r\n\r\n","title":"How can I correctly specify the platform for my dockerfile?","body":"<p>I'm trying to add the --platform=linux/amd64 flag to my dockerfile's FROM statement. I need to do this because I'm working on an m1 laptop and the default architecture (linux/arm64/v8) is not compatible with our prod machine. The whole line should be:</p>\n<p><code>FROM --platform=linux/amd64 openjdk:11-jre-slim</code></p>\n<p>This worked fine for my frontend repo (with node as the base image). However, in the backend repo, I'm getting this error:</p>\n<p><code>&lt;name chain&gt; expected, got '-'</code></p>\n<p>So it's like, not letting me add the flag at all for some reason.</p>\n<p>IntelliJ IDEA, Java</p>\n<p>Full backend dockerfile:</p>\n<pre><code>FROM --platform=linux/amd64 openjdk:11-jre-slim\nCOPY config/dev.yml /opt/dropwizard/\nCOPY build/libs/smerge-1.0-SNAPSHOT-all.jar /opt/dropwizard/\nEXPOSE 8080\nWORKDIR /opt/dropwizard\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;smerge-1.0-SNAPSHOT-all.jar&quot;, &quot;server&quot;, &quot;dev.yml&quot;]\n</code></pre>\n<p>The <a href=\"https://docs.docker.com/engine/reference/builder/#from\" rel=\"nofollow noreferrer\">docker documentation</a> on the --platform flag for dockerfiles says that:</p>\n<p><em>The optional --platform flag can be used to specify the platform of the image in case FROM references a multi-platform image. For example, linux/amd64, linux/arm64, or windows/amd64. By default, the target platform of the build request is used.</em></p>\n"},{"tags":["java","android","kotlin","camera"],"owner":{"account_id":15674917,"reputation":1,"user_id":11310409,"display_name":"Lucas Ri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692708113,"creation_date":1689088878,"question_id":76663506,"body_markdown":"On my camera application, the takePicture function does not work on some phones.\r\n\r\nthe list of known phones that do not work:\r\n- Motorola moto e40 android 11\r\n- realme C35 android 11\r\n- realmec21y\r\n- realme C25Y version of Android 11\r\n- Samsung galaxy a03 android 13\r\n- realme C25 Android 11\r\n\r\nCameraFragment :\r\n\r\n\r\n```\r\nclass CameraFragment : Fragment() {\r\n\r\n    private var _binding: FragmentCameraBinding? = null\r\n    val binding get() = _binding!!\r\n\r\n    private lateinit var cameraService: CameraService\r\n    private var imageCapture: ImageCapture? = null\r\n    private lateinit var cameraExecutor: ExecutorService\r\n    private val selector = QualitySelector.from(Quality.UHD, FallbackStrategy.higherQualityOrLowerThan(Quality.SD))\r\n    private var videoCapture: VideoCapture&lt;Recorder&gt;? = null\r\n    private var videoActiveRecording: Recording? = null\r\n    private var picture = Picture()\r\n    private var videoUri: Uri? = null\r\n    private var cameraProvider: ProcessCameraProvider? = null\r\n\r\n    private val TAG = &quot;CameraXBasic&quot;\r\n    private var backCamera = true\r\n\r\n    private val delayLongClick: Long = 500\r\n    private var isLongClick = false\r\n    private var recordingInProgress = false\r\n\r\n    private lateinit var windowManager: WindowManager\r\n\r\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\r\n        _binding = FragmentCameraBinding.inflate(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        // ---- INIT ----\r\n        cameraExecutor = Executors.newSingleThreadExecutor()\r\n        windowManager = WindowManager(view.context)\r\n        initView()\r\n\r\n        // ---- BUTTON ----\r\n        binding.fragmentCameraTakePictureBtn.setOnTouchListener(\r\n        object : OnTouchListener {\r\n            private val mHandler = Handler()\r\n            private val mRunnable = Runnable {\r\n                isLongClick = true\r\n\r\n                recordingVideo()\r\n\r\n                setTimer(10000) {\r\n                    override fun onTick(millisUntilFinished: Long) {}\r\n                    override fun onFinish() {\r\n                        binding.fragmentCameraRecordingVideoReticule.visibility = View.GONE\r\n                        videoActiveRecording?.stop()\r\n                        recordingInProgress = false\r\n                    }\r\n                }.start()\r\n            }\r\n\r\n            override fun onTouch(v: View, event: MotionEvent): Boolean {\r\n                when (event.action) {\r\n                    MotionEvent.ACTION_DOWN -&gt; mHandler.postDelayed(mRunnable, delayLongClick)\r\n                    MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; {\r\n                        mHandler.removeCallbacks(mRunnable)\r\n\r\n                        if (!isLongClick) takePicture()\r\n                        isLongClick = false\r\n\r\n                        if (recordingInProgress) {\r\n                            videoActiveRecording?.stop()\r\n                            recordingInProgress = false\r\n                        }\r\n                    }\r\n                }\r\n                return true\r\n            }\r\n        })\r\n\r\n        binding.fragmentCameraChangeStateBtn.setOnClickListener {\r\n            backCamera = !backCamera\r\n            startCamera(backCamera)\r\n        }\r\n    }\r\n\r\n    // ---------------------\r\n    // INIT\r\n    // ---------------------\r\n\r\n    private fun initView() {\r\n        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n            ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\r\n            setTimer(100) { startCamera(backCamera) }\r\n        }\r\n    }\r\n\r\n    // ---------------------\r\n    // CAMERA\r\n    // ---------------------\r\n\r\n    private fun startCamera(backCamera: Boolean) {\r\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())\r\n\r\n        cameraProviderFuture.addListener(Runnable {\r\n            cameraProvider = cameraProviderFuture.get()\r\n\r\n            val metrics = windowManager.getCurrentWindowMetrics().bounds\r\n            val screenAspectRatio = aspectRatio(metrics.width(), metrics.height())\r\n\r\n            val preview = Preview.Builder()\r\n                .setTargetAspectRatio(screenAspectRatio)\r\n                .build()\r\n                .also { it.setSurfaceProvider(binding.fragmentCameraPreviewView.surfaceProvider) }\r\n\r\n            imageCapture = ImageCapture.Builder()\r\n                .setTargetAspectRatio(screenAspectRatio)\r\n                .build()\r\n\r\n            val cameraSelector = if (backCamera) CameraSelector.DEFAULT_BACK_CAMERA else CameraSelector.DEFAULT_FRONT_CAMERA\r\n\r\n            try {\r\n                cameraProvider?.unbindAll()\r\n\r\n                val viewPort =  ViewPort.Builder(Rational(binding.fragmentCameraPreviewView.width, binding.fragmentCameraPreviewView.height), activity?.display?.rotation!!).build()\r\n                val useCaseGroup = UseCaseGroup.Builder()\r\n                    .addUseCase(preview)\r\n                    .setViewPort(viewPort)\r\n                    .addUseCase(imageCapture!!)\r\n                    .build()\r\n                cameraProvider?.bindToLifecycle(this, cameraSelector, useCaseGroup)\r\n            } catch(exc: Exception) {\r\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\r\n            }\r\n\r\n            //VIDEO\r\n            val recorder = Recorder.Builder().setQualitySelector(selector).build()\r\n            videoCapture = VideoCapture.withOutput(recorder)\r\n\r\n            try {\r\n                // Bind use cases to camera\r\n                cameraProvider?.bindToLifecycle(this, if (backCamera) CameraSelector.DEFAULT_BACK_CAMERA else CameraSelector.DEFAULT_FRONT_CAMERA, preview, videoCapture)\r\n            } catch(exc: Exception) {\r\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\r\n            }\r\n\r\n        }, ContextCompat.getMainExecutor(requireContext()))\r\n\r\n        binding.fragmentCameraPreviewView.afterMeasured {\r\n            val autoFocusPoint = SurfaceOrientedMeteringPointFactory(1f, 1f)\r\n                .createPoint(.5f, .5f)\r\n            try {\r\n                val autoFocusAction = FocusMeteringAction.Builder(\r\n                    autoFocusPoint,\r\n                    FocusMeteringAction.FLAG_AF\r\n                ).apply {\r\n                    //start auto-focusing after 2 seconds\r\n                    setAutoCancelDuration(2, TimeUnit.SECONDS)\r\n                }.build()\r\n                imageCapture?.camera?.cameraControl?.startFocusAndMetering(autoFocusAction)\r\n            } catch (e: CameraInfoUnavailableException) {\r\n                Log.d(&quot;ERROR&quot;, &quot;cannot access camera&quot;, e)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun takePicture() {\r\n        val imageCapture = imageCapture ?: return\r\n\r\n        imageCapture.takePicture(ContextCompat.getMainExecutor(requireContext()), object : ImageCapture.OnImageCapturedCallback() {\r\n            override fun onError(exception: ImageCaptureException) {\r\n                println(exception)\r\n            }\r\n\r\n            @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\r\n            override fun onCaptureSuccess(image: ImageProxy) {\r\n                if (!backCamera) {\r\n                    picture.bitmap = image.image?.toBitmap()!!.rotateImage(image.imageInfo.rotationDegrees.toFloat()).crop(binding.fragmentCameraPreviewView.height, binding.fragmentCameraPreviewView.width)!!.horizontalFlip()\r\n                }\r\n                else {\r\n                    picture.bitmap = image.image?.toBitmap()!!.rotateImage(image.imageInfo.rotationDegrees.toFloat()).crop(binding.fragmentCameraPreviewView.height, binding.fragmentCameraPreviewView.width)!!\r\n                }\r\n                image.close()\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    private fun recordingVideo() {\r\n        recordingInProgress = true\r\n        val folder = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name))\r\n        if (!folder.exists()) folder.mkdir()\r\n\r\n        val outputFile = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name) + &quot;/video.mp4&quot;)\r\n        val fileOutputOptions = FileOutputOptions.Builder(outputFile).build()\r\n\r\n        // 2. Configure Recorder and Start recording to the mediaStoreOutput.\r\n        if (ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\r\n            videoActiveRecording = videoCapture!!.output\r\n                .prepareRecording(requireContext(), fileOutputOptions)\r\n                .withAudioEnabled()\r\n                .start(ContextCompat.getMainExecutor(requireContext()), videoRecordingListener)\r\n        }\r\n    }\r\n\r\n    private val videoRecordingListener = Consumer&lt;VideoRecordEvent&gt; { event -&gt;\r\n        when (event) {\r\n            is VideoRecordEvent.Finalize -&gt; if (event.hasError()) {\r\n                printl(&quot;video recording error&quot;)\r\n            } else {\r\n                this.videoUri = event.outputResults.outputUri\r\n                val videoFile = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name) + &quot;/video.mp4&quot;)\r\n            }\r\n            is VideoRecordEvent.Pause -&gt; { }\r\n            is VideoRecordEvent.Status -&gt; { }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nBy debugging on one of the telephones which does not work, I see that the take photo button works well but when he calls the &quot;imageCapture.takePicture&quot; function, nothing happens, no log either in &quot;onError&quot; nor in &quot;onCaptureSuccess&quot;. I don&#39;t know what to do, I think I have set up the camera correctly and it works perfectly on most phones..\r\n\r\nHas anyone run into the same problem? Any solutions for such devices?","title":"takePicture does nothing on some devices (cameraX)","body":"<p>On my camera application, the takePicture function does not work on some phones.</p>\n<p>the list of known phones that do not work:</p>\n<ul>\n<li>Motorola moto e40 android 11</li>\n<li>realme C35 android 11</li>\n<li>realmec21y</li>\n<li>realme C25Y version of Android 11</li>\n<li>Samsung galaxy a03 android 13</li>\n<li>realme C25 Android 11</li>\n</ul>\n<p>CameraFragment :</p>\n<pre><code>class CameraFragment : Fragment() {\n\n    private var _binding: FragmentCameraBinding? = null\n    val binding get() = _binding!!\n\n    private lateinit var cameraService: CameraService\n    private var imageCapture: ImageCapture? = null\n    private lateinit var cameraExecutor: ExecutorService\n    private val selector = QualitySelector.from(Quality.UHD, FallbackStrategy.higherQualityOrLowerThan(Quality.SD))\n    private var videoCapture: VideoCapture&lt;Recorder&gt;? = null\n    private var videoActiveRecording: Recording? = null\n    private var picture = Picture()\n    private var videoUri: Uri? = null\n    private var cameraProvider: ProcessCameraProvider? = null\n\n    private val TAG = &quot;CameraXBasic&quot;\n    private var backCamera = true\n\n    private val delayLongClick: Long = 500\n    private var isLongClick = false\n    private var recordingInProgress = false\n\n    private lateinit var windowManager: WindowManager\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        _binding = FragmentCameraBinding.inflate(inflater, container, false)\n        return binding.root\n    }\n\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        // ---- INIT ----\n        cameraExecutor = Executors.newSingleThreadExecutor()\n        windowManager = WindowManager(view.context)\n        initView()\n\n        // ---- BUTTON ----\n        binding.fragmentCameraTakePictureBtn.setOnTouchListener(\n        object : OnTouchListener {\n            private val mHandler = Handler()\n            private val mRunnable = Runnable {\n                isLongClick = true\n\n                recordingVideo()\n\n                setTimer(10000) {\n                    override fun onTick(millisUntilFinished: Long) {}\n                    override fun onFinish() {\n                        binding.fragmentCameraRecordingVideoReticule.visibility = View.GONE\n                        videoActiveRecording?.stop()\n                        recordingInProgress = false\n                    }\n                }.start()\n            }\n\n            override fun onTouch(v: View, event: MotionEvent): Boolean {\n                when (event.action) {\n                    MotionEvent.ACTION_DOWN -&gt; mHandler.postDelayed(mRunnable, delayLongClick)\n                    MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; {\n                        mHandler.removeCallbacks(mRunnable)\n\n                        if (!isLongClick) takePicture()\n                        isLongClick = false\n\n                        if (recordingInProgress) {\n                            videoActiveRecording?.stop()\n                            recordingInProgress = false\n                        }\n                    }\n                }\n                return true\n            }\n        })\n\n        binding.fragmentCameraChangeStateBtn.setOnClickListener {\n            backCamera = !backCamera\n            startCamera(backCamera)\n        }\n    }\n\n    // ---------------------\n    // INIT\n    // ---------------------\n\n    private fun initView() {\n        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED &amp;&amp;\n            ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\n            setTimer(100) { startCamera(backCamera) }\n        }\n    }\n\n    // ---------------------\n    // CAMERA\n    // ---------------------\n\n    private fun startCamera(backCamera: Boolean) {\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())\n\n        cameraProviderFuture.addListener(Runnable {\n            cameraProvider = cameraProviderFuture.get()\n\n            val metrics = windowManager.getCurrentWindowMetrics().bounds\n            val screenAspectRatio = aspectRatio(metrics.width(), metrics.height())\n\n            val preview = Preview.Builder()\n                .setTargetAspectRatio(screenAspectRatio)\n                .build()\n                .also { it.setSurfaceProvider(binding.fragmentCameraPreviewView.surfaceProvider) }\n\n            imageCapture = ImageCapture.Builder()\n                .setTargetAspectRatio(screenAspectRatio)\n                .build()\n\n            val cameraSelector = if (backCamera) CameraSelector.DEFAULT_BACK_CAMERA else CameraSelector.DEFAULT_FRONT_CAMERA\n\n            try {\n                cameraProvider?.unbindAll()\n\n                val viewPort =  ViewPort.Builder(Rational(binding.fragmentCameraPreviewView.width, binding.fragmentCameraPreviewView.height), activity?.display?.rotation!!).build()\n                val useCaseGroup = UseCaseGroup.Builder()\n                    .addUseCase(preview)\n                    .setViewPort(viewPort)\n                    .addUseCase(imageCapture!!)\n                    .build()\n                cameraProvider?.bindToLifecycle(this, cameraSelector, useCaseGroup)\n            } catch(exc: Exception) {\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\n            }\n\n            //VIDEO\n            val recorder = Recorder.Builder().setQualitySelector(selector).build()\n            videoCapture = VideoCapture.withOutput(recorder)\n\n            try {\n                // Bind use cases to camera\n                cameraProvider?.bindToLifecycle(this, if (backCamera) CameraSelector.DEFAULT_BACK_CAMERA else CameraSelector.DEFAULT_FRONT_CAMERA, preview, videoCapture)\n            } catch(exc: Exception) {\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\n            }\n\n        }, ContextCompat.getMainExecutor(requireContext()))\n\n        binding.fragmentCameraPreviewView.afterMeasured {\n            val autoFocusPoint = SurfaceOrientedMeteringPointFactory(1f, 1f)\n                .createPoint(.5f, .5f)\n            try {\n                val autoFocusAction = FocusMeteringAction.Builder(\n                    autoFocusPoint,\n                    FocusMeteringAction.FLAG_AF\n                ).apply {\n                    //start auto-focusing after 2 seconds\n                    setAutoCancelDuration(2, TimeUnit.SECONDS)\n                }.build()\n                imageCapture?.camera?.cameraControl?.startFocusAndMetering(autoFocusAction)\n            } catch (e: CameraInfoUnavailableException) {\n                Log.d(&quot;ERROR&quot;, &quot;cannot access camera&quot;, e)\n            }\n        }\n    }\n\n    private fun takePicture() {\n        val imageCapture = imageCapture ?: return\n\n        imageCapture.takePicture(ContextCompat.getMainExecutor(requireContext()), object : ImageCapture.OnImageCapturedCallback() {\n            override fun onError(exception: ImageCaptureException) {\n                println(exception)\n            }\n\n            @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\n            override fun onCaptureSuccess(image: ImageProxy) {\n                if (!backCamera) {\n                    picture.bitmap = image.image?.toBitmap()!!.rotateImage(image.imageInfo.rotationDegrees.toFloat()).crop(binding.fragmentCameraPreviewView.height, binding.fragmentCameraPreviewView.width)!!.horizontalFlip()\n                }\n                else {\n                    picture.bitmap = image.image?.toBitmap()!!.rotateImage(image.imageInfo.rotationDegrees.toFloat()).crop(binding.fragmentCameraPreviewView.height, binding.fragmentCameraPreviewView.width)!!\n                }\n                image.close()\n            }\n        })\n\n    }\n\n    private fun recordingVideo() {\n        recordingInProgress = true\n        val folder = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name))\n        if (!folder.exists()) folder.mkdir()\n\n        val outputFile = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name) + &quot;/video.mp4&quot;)\n        val fileOutputOptions = FileOutputOptions.Builder(outputFile).build()\n\n        // 2. Configure Recorder and Start recording to the mediaStoreOutput.\n        if (ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\n            videoActiveRecording = videoCapture!!.output\n                .prepareRecording(requireContext(), fileOutputOptions)\n                .withAudioEnabled()\n                .start(ContextCompat.getMainExecutor(requireContext()), videoRecordingListener)\n        }\n    }\n\n    private val videoRecordingListener = Consumer&lt;VideoRecordEvent&gt; { event -&gt;\n        when (event) {\n            is VideoRecordEvent.Finalize -&gt; if (event.hasError()) {\n                printl(&quot;video recording error&quot;)\n            } else {\n                this.videoUri = event.outputResults.outputUri\n                val videoFile = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name) + &quot;/video.mp4&quot;)\n            }\n            is VideoRecordEvent.Pause -&gt; { }\n            is VideoRecordEvent.Status -&gt; { }\n        }\n    }\n}\n</code></pre>\n<p>By debugging on one of the telephones which does not work, I see that the take photo button works well but when he calls the &quot;imageCapture.takePicture&quot; function, nothing happens, no log either in &quot;onError&quot; nor in &quot;onCaptureSuccess&quot;. I don't know what to do, I think I have set up the camera correctly and it works perfectly on most phones..</p>\n<p>Has anyone run into the same problem? Any solutions for such devices?</p>\n"},{"tags":["java","random","gridview","colors"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1692607271,"post_id":76943570,"comment_id":135641296,"body_markdown":"Specify your Java GUI framework: Swing, JavaFX, SWT, Vaadin, etc.","body":"Specify your Java GUI framework: Swing, JavaFX, SWT, Vaadin, etc."}],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692707831,"creation_date":1692707831,"answer_id":76953401,"question_id":76943570,"body_markdown":"You can use [this][1] method (or if you want it done in one line [this][2] method) to generate a random color. Here is how you can use **the first method** in your case.\r\n```\r\nActionListener timerListener = new ActionListener() {\r\n\tRandom r = new Random();\r\n\tpublic void actionPerformed(ActionEvent evt) {\r\n\t\tColor c = new Color(\r\n\t\t\t\tr.nextFloat(),\r\n\t\t\t\tr.nextFloat(),\r\n\t\t\t\tr.nextFloat()\r\n\t\t\t\t);\r\n\t\tg.setColor(c);\r\n\t\tg.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\n\t\tg.setColor(Color.black);\r\n\t}\r\n};\r\n```\r\nAnd here is **the second method**\r\n```\r\nActionListener timerListener = new ActionListener() {\r\n\tRandom r = new Random();\r\n\tpublic void actionPerformed(ActionEvent evt) {\r\n\t\tg.setColor(new Color((int)(Math.random() * 0x1000000)));\r\n\t\tg.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\n\t\tg.setColor(Color.black);\r\n\t}\r\n};\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/4246418/21252090\r\n  [2]: https://stackoverflow.com/a/20032024/21252090","title":"I&#39;m trying to change the color of some of the blocks in my grid every 2 seconds","body":"<p>You can use <a href=\"https://stackoverflow.com/a/4246418/21252090\">this</a> method (or if you want it done in one line <a href=\"https://stackoverflow.com/a/20032024/21252090\">this</a> method) to generate a random color. Here is how you can use <strong>the first method</strong> in your case.</p>\n<pre><code>ActionListener timerListener = new ActionListener() {\n    Random r = new Random();\n    public void actionPerformed(ActionEvent evt) {\n        Color c = new Color(\n                r.nextFloat(),\n                r.nextFloat(),\n                r.nextFloat()\n                );\n        g.setColor(c);\n        g.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\n        g.setColor(Color.black);\n    }\n};\n</code></pre>\n<p>And here is <strong>the second method</strong></p>\n<pre><code>ActionListener timerListener = new ActionListener() {\n    Random r = new Random();\n    public void actionPerformed(ActionEvent evt) {\n        g.setColor(new Color((int)(Math.random() * 0x1000000)));\n        g.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\n        g.setColor(Color.black);\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":28595330,"reputation":11,"user_id":21893624,"display_name":"user21893624"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692707831,"creation_date":1692606403,"question_id":76943570,"body_markdown":"I&#39;m trying to change the color of some of the blocks in my grid every 2 seconds. So far, the blocks are just a set color (yellow), but I need them to automatically and randomly change color repetitively. This is the code so far; `g` is the grid.\r\n\r\n```java\r\ng.setColor(Color.yellow);\r\ng.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\ng.setColor(Color.black);\r\n```\r\n\r\nI tried using a random generator:\r\n\r\n```java\r\nprivate static final int MIN_STATE_COLOR = STATE_RED;\r\nprivate static final int MAX_STATE_COLOR = STATE_YELLOW;\r\n\r\nint random = new Random().nextInt(MAX_STATE_COLOR - MIN_STATE_COLOR + 1) + MIN_STATE_COLOR;\r\n\r\ng.setColor(Color.random);\r\ng.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\ng.setColor(Color.black);\r\n```\r\nAnd that gave me an error with MIN_STATE_COLOR and MAX_STATE_COLOR.\r\n\r\nI then also tried creating a timer:\r\n\r\n```java\r\nActionListener timerListener = new ActionListener() {\r\n  public void actionPerformed(ActionEvent evt) {\r\n    g.setColor(Color.red);  // I don&#39;t know how to make it random\r\n    g.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\n    g.setColor(Color.black);\r\n  }\r\n};\r\nint timerDelay = 3 * 1000;\r\nTimer timer = new Timer(timerDelay, timerListener);\r\n```\r\nBut this also gave me an error.","title":"I&#39;m trying to change the color of some of the blocks in my grid every 2 seconds","body":"<p>I'm trying to change the color of some of the blocks in my grid every 2 seconds. So far, the blocks are just a set color (yellow), but I need them to automatically and randomly change color repetitively. This is the code so far; <code>g</code> is the grid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.setColor(Color.yellow);\ng.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\ng.setColor(Color.black);\n</code></pre>\n<p>I tried using a random generator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final int MIN_STATE_COLOR = STATE_RED;\nprivate static final int MAX_STATE_COLOR = STATE_YELLOW;\n\nint random = new Random().nextInt(MAX_STATE_COLOR - MIN_STATE_COLOR + 1) + MIN_STATE_COLOR;\n\ng.setColor(Color.random);\ng.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\ng.setColor(Color.black);\n</code></pre>\n<p>And that gave me an error with MIN_STATE_COLOR and MAX_STATE_COLOR.</p>\n<p>I then also tried creating a timer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActionListener timerListener = new ActionListener() {\n  public void actionPerformed(ActionEvent evt) {\n    g.setColor(Color.red);  // I don't know how to make it random\n    g.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\n    g.setColor(Color.black);\n  }\n};\nint timerDelay = 3 * 1000;\nTimer timer = new Timer(timerDelay, timerListener);\n</code></pre>\n<p>But this also gave me an error.</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea"],"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692707792,"creation_date":1692707792,"question_id":76953396,"body_markdown":"I&#39;ve been trying to use this tutorial: https://www.baeldung.com/java-selenium-with-junit-and-testng\r\n\r\nHowever, I&#39;m completely unable to use DesiredCapabilities, no matter what Selenium libraries I import.\r\n\r\nThe code example:\r\n\r\n    public SeleniumConfig() {\r\n        Capabilities capabilities = DesiredCapabilities.firefox();\r\n        driver = new FirefoxDriver(capabilities);\r\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n    }\r\n\r\nWhen I try adding the .firexfox() (org .chrome()), I get the error:\r\n\r\n     Cannot resolve method &#39;chrome&#39; in &#39;DesiredCapabilities&#39;\r\n\r\nI&#39;ve added every Selenium library immaginable, as per other answers to similar questions here and other places, but nothing seems to do the trick.\r\n\r\nWhen I start typing &quot;DesiredCapabilities.&quot;, the only options I get are &quot;class&quot; and &quot;new&quot;. ","title":"Selenium and Java: Unable to use DesiredCapabilities.x()","body":"<p>I've been trying to use this tutorial: <a href=\"https://www.baeldung.com/java-selenium-with-junit-and-testng\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-selenium-with-junit-and-testng</a></p>\n<p>However, I'm completely unable to use DesiredCapabilities, no matter what Selenium libraries I import.</p>\n<p>The code example:</p>\n<pre><code>public SeleniumConfig() {\n    Capabilities capabilities = DesiredCapabilities.firefox();\n    driver = new FirefoxDriver(capabilities);\n    driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>When I try adding the .firexfox() (org .chrome()), I get the error:</p>\n<pre><code> Cannot resolve method 'chrome' in 'DesiredCapabilities'\n</code></pre>\n<p>I've added every Selenium library immaginable, as per other answers to similar questions here and other places, but nothing seems to do the trick.</p>\n<p>When I start typing &quot;DesiredCapabilities.&quot;, the only options I get are &quot;class&quot; and &quot;new&quot;.</p>\n"},{"tags":["java","spring-boot","azure","azure-eventhub"],"comments":[{"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"score":0,"creation_date":1692709772,"post_id":76953001,"comment_id":135658924,"body_markdown":"I cannot assist with Spring, but a timeout when trying to open an Event Hubs connection typically means that the AMQP ports (5671, 5672) are restricted/blocked by the network.  Using AMQP via websockets typically works around this.  The following example shows doing so when creating a client.  I have no idea how to do so with Spring.  https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsWithWebSocketsAndProxy.java#L53C9-L58C36","body":"I cannot assist with Spring, but a timeout when trying to open an Event Hubs connection typically means that the AMQP ports (5671, 5672) are restricted/blocked by the network.  Using AMQP via websockets typically works around this.  The following example shows doing so when creating a client.  I have no idea how to do so with Spring.  <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsWithWebSocketsAndProxy.java#L53C9-L58C36\" rel=\"nofollow noreferrer\">github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":6756536,"reputation":9,"user_id":5204735,"display_name":"Prem Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692707567,"creation_date":1692704953,"question_id":76953001,"body_markdown":"Getting below exception while connecting eventhub in spring boot application.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class VALogAnalyticsApplication implements CommandLineRunner {\r\n\r\nprivate static final Sinks.Many&lt;Message&lt;String&gt;&gt; many = Sinks.many().unicast().onBackpressureBuffer();\r\n\r\npublic static void main(String[] args) {\r\n    SpringApplication.run(VALogAnalyticsApplication.class, args);\r\n}\r\n\r\n  @Override\r\n  public void run(String... args) {\r\n    log.info(&quot;Going to add message {} to sendMessage.&quot; + &quot;Hello World&quot;);\r\n    many.emitNext(MessageBuilder.withPayload(&quot;Hello World&quot;).build(),  Sinks.EmitFailureHandler.FAIL_FAST);\r\n  }\r\n\r\n  @Bean\r\n  public Consumer&lt;Message&lt;String&gt;&gt; consume() {\r\n    return message-&gt;{\r\n        Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\r\n        log.info(&quot;New message received: &#39;{}&#39;, partition key: {}, sequence number: {}, offset: {}, enqueued &quot;\r\n                        +&quot;time: {}&quot;,\r\n                message.getPayload(),\r\n                message.getHeaders().get(EventHubsHeaders.PARTITION_KEY),\r\n                message.getHeaders().get(EventHubsHeaders.SEQUENCE_NUMBER),\r\n                message.getHeaders().get(EventHubsHeaders.OFFSET),\r\n                message.getHeaders().get(EventHubsHeaders.ENQUEUED_TIME)\r\n          );\r\n          checkpointer.success()\r\n                .doOnSuccess(success-&gt;log.info(&quot;Message &#39;{}&#39; successfully checkpointed&quot;,\r\n                        message.getPayload()))\r\n                .doOnError(error-&gt;log.error(&quot;Exception found&quot;, error))\r\n                .block();\r\n        };\r\n    }\r\n  }\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.cloud.azure.eventhubs.namespace=&lt;eventHubNameSpace&gt;\r\nspring.cloud.azure.eventhubs.connection-string=Endpoint=sb://test.servicebus.windows.net /;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=adfsad\r\nspring.cloud.azure.eventhubs.processor.checkpoint-store.account-name=&lt;storagAaccountName&gt;\r\nspring.cloud.azure.eventhubs.processor.checkpoint-store.account-key=&lt;storageAccessKey&gt;\r\nspring.cloud.azure.eventhubs.processor.checkpoint-store.container-name=&lt;containerName&gt;\r\nspring.cloud.stream.bindings.consume-in-0.destination=&lt;eventHubName&gt;\r\nspring.cloud.stream.bindings.consume-in-0.group=&lt;consumerGroup&gt;\r\nspring.cloud.stream.bindings.supply-out-0.destination=&lt;eventHubName&gt;\r\nspring.cloud.stream.eventhubs.bindings.consume-in-0.consumer.checkpoint.mode=MANUAL\r\nspring.cloud.function.definition=consume;supply;\r\nspring.cloud.stream.poller.initial-delay=0\r\nspring.cloud.stream.poller.fixed-delay=1000\r\n```\r\n\r\n\r\nErrorLogs:\r\n==========\r\n```\r\n2023-08-22 16:51:20.586  INFO 26256 --- [ctor-executor-1] c.a.c.a.i.ReactorDispatcher              : {&quot;az.sdk.message&quot;:&quot;Reactor selectable is being disposed.&quot;,&quot;connectionId&quot;:&quot;MF_89ee14_1692703254531&quot;}\r\n2023-08-22 16:51:20.587  INFO 26256 --- [ctor-executor-1] c.a.c.a.i.ReactorConnection              : {&quot;az.sdk.message&quot;:&quot;onConnectionShutdown. Shutting down.&quot;,&quot;connectionId&quot;:&quot;MF_89ee14_1692703254531&quot;,&quot;isTransient&quot;:false,&quot;isInitiatedByClient&quot;:false,&quot;shutdownMessage&quot;:&quot;connectionId[MF_89ee14_1692703254531] Reactor selectable is disposed.&quot;,&quot;namespace&quot;:&quot;test.servicebus.windows.net&quot;}\r\n2023-08-22 16:51:20.639 ERROR 26256 --- [ctor-executor-1] reactor.core.publisher.Operators         : Operator called default onErrorDropped\r\n\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\r\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\r\n\tat com.azure.core.amqp.implementation.ExceptionUtil.toException(ExceptionUtil.java:85) ~[azure-core-amqp-2.8.7.jar:2.8.7]\r\n\tat com.azure.core.amqp.implementation.handler.ConnectionHandler.notifyErrorContext(ConnectionHandler.java:351) ~[azure-core-amqp-2.8.7.jar:2.8.7]\r\n\tat com.azure.core.amqp.implementation.handler.ConnectionHandler.onTransportError(ConnectionHandler.java:253) ~[azure-core-amqp-2.8.7.jar:2.8.7]\r\n\tat org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:191) ~[proton-j-0.33.8.jar:na]\r\n\tat org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108) ~[proton-j-0.33.8.jar:na]\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324) ~[proton-j-0.33.8.jar:na]\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:291) ~[proton-j-0.33.8.jar:na]\r\n\tat com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91) ~[azure-core-amqp-2.8.7.jar:2.8.7]\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.6.jar:3.4.6]\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.6.jar:3.4.6]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\r\n```\r\n\r\nPlease correct me if i am doing anything wrong","title":"Not able to receive messages from azure event hubs","body":"<p>Getting below exception while connecting eventhub in spring boot application.</p>\n<pre><code>@SpringBootApplication\npublic class VALogAnalyticsApplication implements CommandLineRunner {\n\nprivate static final Sinks.Many&lt;Message&lt;String&gt;&gt; many = Sinks.many().unicast().onBackpressureBuffer();\n\npublic static void main(String[] args) {\n    SpringApplication.run(VALogAnalyticsApplication.class, args);\n}\n\n  @Override\n  public void run(String... args) {\n    log.info(&quot;Going to add message {} to sendMessage.&quot; + &quot;Hello World&quot;);\n    many.emitNext(MessageBuilder.withPayload(&quot;Hello World&quot;).build(),  Sinks.EmitFailureHandler.FAIL_FAST);\n  }\n\n  @Bean\n  public Consumer&lt;Message&lt;String&gt;&gt; consume() {\n    return message-&gt;{\n        Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\n        log.info(&quot;New message received: '{}', partition key: {}, sequence number: {}, offset: {}, enqueued &quot;\n                        +&quot;time: {}&quot;,\n                message.getPayload(),\n                message.getHeaders().get(EventHubsHeaders.PARTITION_KEY),\n                message.getHeaders().get(EventHubsHeaders.SEQUENCE_NUMBER),\n                message.getHeaders().get(EventHubsHeaders.OFFSET),\n                message.getHeaders().get(EventHubsHeaders.ENQUEUED_TIME)\n          );\n          checkpointer.success()\n                .doOnSuccess(success-&gt;log.info(&quot;Message '{}' successfully checkpointed&quot;,\n                        message.getPayload()))\n                .doOnError(error-&gt;log.error(&quot;Exception found&quot;, error))\n                .block();\n        };\n    }\n  }\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.cloud.azure.eventhubs.namespace=&lt;eventHubNameSpace&gt;\nspring.cloud.azure.eventhubs.connection-string=Endpoint=sb://test.servicebus.windows.net /;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=adfsad\nspring.cloud.azure.eventhubs.processor.checkpoint-store.account-name=&lt;storagAaccountName&gt;\nspring.cloud.azure.eventhubs.processor.checkpoint-store.account-key=&lt;storageAccessKey&gt;\nspring.cloud.azure.eventhubs.processor.checkpoint-store.container-name=&lt;containerName&gt;\nspring.cloud.stream.bindings.consume-in-0.destination=&lt;eventHubName&gt;\nspring.cloud.stream.bindings.consume-in-0.group=&lt;consumerGroup&gt;\nspring.cloud.stream.bindings.supply-out-0.destination=&lt;eventHubName&gt;\nspring.cloud.stream.eventhubs.bindings.consume-in-0.consumer.checkpoint.mode=MANUAL\nspring.cloud.function.definition=consume;supply;\nspring.cloud.stream.poller.initial-delay=0\nspring.cloud.stream.poller.fixed-delay=1000\n</code></pre>\n<h1>ErrorLogs:</h1>\n<pre><code>2023-08-22 16:51:20.586  INFO 26256 --- [ctor-executor-1] c.a.c.a.i.ReactorDispatcher              : {&quot;az.sdk.message&quot;:&quot;Reactor selectable is being disposed.&quot;,&quot;connectionId&quot;:&quot;MF_89ee14_1692703254531&quot;}\n2023-08-22 16:51:20.587  INFO 26256 --- [ctor-executor-1] c.a.c.a.i.ReactorConnection              : {&quot;az.sdk.message&quot;:&quot;onConnectionShutdown. Shutting down.&quot;,&quot;connectionId&quot;:&quot;MF_89ee14_1692703254531&quot;,&quot;isTransient&quot;:false,&quot;isInitiatedByClient&quot;:false,&quot;shutdownMessage&quot;:&quot;connectionId[MF_89ee14_1692703254531] Reactor selectable is disposed.&quot;,&quot;namespace&quot;:&quot;test.servicebus.windows.net&quot;}\n2023-08-22 16:51:20.639 ERROR 26256 --- [ctor-executor-1] reactor.core.publisher.Operators         : Operator called default onErrorDropped\n\nreactor.core.Exceptions$ErrorCallbackNotImplemented: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\n    at com.azure.core.amqp.implementation.ExceptionUtil.toException(ExceptionUtil.java:85) ~[azure-core-amqp-2.8.7.jar:2.8.7]\n    at com.azure.core.amqp.implementation.handler.ConnectionHandler.notifyErrorContext(ConnectionHandler.java:351) ~[azure-core-amqp-2.8.7.jar:2.8.7]\n    at com.azure.core.amqp.implementation.handler.ConnectionHandler.onTransportError(ConnectionHandler.java:253) ~[azure-core-amqp-2.8.7.jar:2.8.7]\n    at org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:191) ~[proton-j-0.33.8.jar:na]\n    at org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108) ~[proton-j-0.33.8.jar:na]\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324) ~[proton-j-0.33.8.jar:na]\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:291) ~[proton-j-0.33.8.jar:na]\n    at com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91) ~[azure-core-amqp-2.8.7.jar:2.8.7]\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.6.jar:3.4.6]\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.6.jar:3.4.6]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\n</code></pre>\n<p>Please correct me if i am doing anything wrong</p>\n"},{"tags":["java","tomcat","jvm-hotspot"],"comments":[{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":0,"creation_date":1692732598,"post_id":76953277,"comment_id":135664124,"body_markdown":"Upgrading to JDK 9 might not be an alternative, but you should be able to upgrade to a more recent JDK 8 release. It should be compatible with JDK 8u181","body":"Upgrading to JDK 9 might not be an alternative, but you should be able to upgrade to a more recent JDK 8 release. It should be compatible with JDK 8u181"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1692740148,"post_id":76953277,"comment_id":135665222,"body_markdown":"There are two obvious issues visible in crash dumps: 1) too old JDK version; 2) `-Xverify:none` JVM option, which essentially makes Java Runtime unprotected from invalid bytecode and may cause unpredictable behavior including [JVM crashes](https://stackoverflow.com/questions/40321205/jvm-crash-problematic-frame-canonicalizerdo-if).","body":"There are two obvious issues visible in crash dumps: 1) too old JDK version; 2) <code>-Xverify:none</code> JVM option, which essentially makes Java Runtime unprotected from invalid bytecode and may cause unpredictable behavior including <a href=\"https://stackoverflow.com/questions/40321205/jvm-crash-problematic-frame-canonicalizerdo-if\">JVM crashes</a>."},{"owner":{"account_id":29275065,"reputation":11,"user_id":22428983,"display_name":"Babar Ali"},"score":0,"creation_date":1692785440,"post_id":76953277,"comment_id":135670582,"body_markdown":"I analyzed the hotspot file, looks like when garbage collection running the JVM is crashing. Added GC1 variables to java options lets monitor and i will update.","body":"I analyzed the hotspot file, looks like when garbage collection running the JVM is crashing. Added GC1 variables to java options lets monitor and i will update."}],"owner":{"account_id":29275065,"reputation":11,"user_id":22428983,"display_name":"Babar Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692707326,"creation_date":1692706950,"question_id":76953277,"body_markdown":"Tomcat is crashing unexpectedly randomly with hs_err file generated.\r\n\r\n    A fatal error has been detected by the Java Runtime Environment:\r\n    \r\n    Internal Error (safepoint.cpp:687), pid=14568, tid=0x0000000000002edc\r\n    fatal error: Deadlock in safepoint code.  Should have called back to the VM before blocking.\r\n    \r\n    JRE version: Java(TM) SE Runtime Environment (8.0_181-b13) (build 1.8.0_181-b13)\r\n    Java VM: Java HotSpot(TM) 64-Bit Server VM (25.181-b13 mixed mode windows-amd64 compressed oops)\r\n    Failed to write core dump. Minidump has been disabled from the command line\r\n \r\nA week ago we were getting Invalid Cert Authority Warning on chrome, so the devOps team updated some \r\nports and SSL configurations in server.xml including:\r\n\r\n- &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt; --&gt; changed to shutdown=&quot;SECURITY&quot;\r\n&lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot; --&gt;   redirectPort=&quot;443&quot; changed to 8443\r\n- &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; --&gt;   redirectPort=&quot;443&quot; changed to 8443\r\n- &lt;Connector port=&quot;443&quot; protocol=&quot;HTTP/1.1&quot; --&gt; Port changed from 443 to 8443 and Keystore file also updated.\r\n- Connector protocol=&quot;AJP/1.3&quot; --&gt; Port changed from 8009 to 8004\r\n\r\nI am not sure which thread is causing the deadlock and why.\r\n\r\nI am attaching two hs_err files the crash is internal with different stacktrace.\r\nhttps://drive.google.com/drive/folders/1ieJ6wZKIOVPe-RJexvUNSZUDQ4Us6wzf?usp=sharing\r\n\r\n\r\nI searched on internet and some suggestions are to update the JDK, I can not update the JDK as our application is old and would start causing compatibility issues.\r\n\r\nThe code i found from where the error is generating in openJDK\r\nhttps://alvinalexander.com/java/jwarehouse/openjdk-8/hotspot/src/share/vm/runtime/safepoint.cpp.shtml","title":"JVM Crashed with Internal Error safepoint.cpp:687 Deadlock in safepoint code. Should have called back to the VM before blocking","body":"<p>Tomcat is crashing unexpectedly randomly with hs_err file generated.</p>\n<pre><code>A fatal error has been detected by the Java Runtime Environment:\n\nInternal Error (safepoint.cpp:687), pid=14568, tid=0x0000000000002edc\nfatal error: Deadlock in safepoint code.  Should have called back to the VM before blocking.\n\nJRE version: Java(TM) SE Runtime Environment (8.0_181-b13) (build 1.8.0_181-b13)\nJava VM: Java HotSpot(TM) 64-Bit Server VM (25.181-b13 mixed mode windows-amd64 compressed oops)\nFailed to write core dump. Minidump has been disabled from the command line\n</code></pre>\n<p>A week ago we were getting Invalid Cert Authority Warning on chrome, so the devOps team updated some\nports and SSL configurations in server.xml including:</p>\n<ul>\n<li> --&gt; changed to shutdown=&quot;SECURITY&quot;\n&lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot; --&gt;   redirectPort=&quot;443&quot; changed to 8443</li>\n<li>&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; --&gt;   redirectPort=&quot;443&quot; changed to 8443</li>\n<li>&lt;Connector port=&quot;443&quot; protocol=&quot;HTTP/1.1&quot; --&gt; Port changed from 443 to 8443 and Keystore file also updated.</li>\n<li>Connector protocol=&quot;AJP/1.3&quot; --&gt; Port changed from 8009 to 8004</li>\n</ul>\n<p>I am not sure which thread is causing the deadlock and why.</p>\n<p>I am attaching two hs_err files the crash is internal with different stacktrace.\n<a href=\"https://drive.google.com/drive/folders/1ieJ6wZKIOVPe-RJexvUNSZUDQ4Us6wzf?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1ieJ6wZKIOVPe-RJexvUNSZUDQ4Us6wzf?usp=sharing</a></p>\n<p>I searched on internet and some suggestions are to update the JDK, I can not update the JDK as our application is old and would start causing compatibility issues.</p>\n<p>The code i found from where the error is generating in openJDK\n<a href=\"https://alvinalexander.com/java/jwarehouse/openjdk-8/hotspot/src/share/vm/runtime/safepoint.cpp.shtml\" rel=\"nofollow noreferrer\">https://alvinalexander.com/java/jwarehouse/openjdk-8/hotspot/src/share/vm/runtime/safepoint.cpp.shtml</a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1683649378,"post_id":76210847,"comment_id":134397674,"body_markdown":"From the example, `probabilities` is not sorted, so that do/while appears to have a bug.  [This](https://www.baeldung.com/java-stream-indices) could be used as a starting point to use only streams (add a filter), but unless this is an academic exercise a basic loop would probably be easier to read.","body":"From the example, <code>probabilities</code> is not sorted, so that do/while appears to have a bug.  <a href=\"https://www.baeldung.com/java-stream-indices\" rel=\"nofollow noreferrer\">This</a> could be used as a starting point to use only streams (add a filter), but unless this is an academic exercise a basic loop would probably be easier to read."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683705469,"post_id":76210847,"comment_id":134405847,"body_markdown":"The loop does already break when the winner is known. And the code is already using the Stream API. So all your formal requirements are fulfilled. But a more efficient solution would be `int winner = -1; for(double probability = 0; winner &lt; probabilities.length &amp;&amp; probability &lt; randomValue; probability += probabilities[++winner]) {}`","body":"The loop does already break when the winner is known. And the code is already using the Stream API. So all your formal requirements are fulfilled. But a more efficient solution would be <code>int winner = -1; for(double probability = 0; winner &lt; probabilities.length &amp;&amp; probability &lt; randomValue; probability += probabilities[++winner]) {}</code>"},{"owner":{"account_id":25967195,"reputation":53,"user_id":19682984,"display_name":"siggi"},"score":0,"creation_date":1683711567,"post_id":76210847,"comment_id":134407231,"body_markdown":"I was aiming for something like reduce, but with a break condition. I tried `takeWhile`, but everything I came up with was ugly or overly complicated. I often find streams more concise (yes, sometimes sacrificing readability). I can live with the loop.","body":"I was aiming for something like reduce, but with a break condition. I tried <code>takeWhile</code>, but everything I came up with was ugly or overly complicated. I often find streams more concise (yes, sometimes sacrificing readability). I can live with the loop."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692705525,"creation_date":1692452410,"answer_id":76935393,"question_id":76210847,"body_markdown":"Streams are not always the best answer but if your probability array contains increasing sums you can do it like this.\r\n```\r\ndouble probabilities[] = {.2, .95, 1.0}; // increasing\r\ndouble winningProb = Arrays.stream(probabilities)\r\n    .filter(p -&gt; p &gt;= randomValue).findFirst().getAsDouble();\r\n \r\nSystem.out.println(winningProb); // answer matches your other method. \r\n```\r\nYou can also convert probability array to increasing sums as follows:\r\n```\r\nSystem.out.println(&quot;Before: &quot; + Arrays.toString(probabilities));\r\nArrays.parallelPrefix(probabilities, (a,b)-&gt;a + b);       \r\nSystem.out.println(&quot;After:  &quot; + Arrays.toString(probabilities));\r\n```\r\nprints\r\n```\r\nBefore: [0.2, 0.75, 0.05]\r\nAfter:  [0.2, 0.95, 1.0]\r\n","title":"Determine a winner based on a single random value and an array of probabilities using java streams","body":"<p>Streams are not always the best answer but if your probability array contains increasing sums you can do it like this.</p>\n<pre><code>double probabilities[] = {.2, .95, 1.0}; // increasing\ndouble winningProb = Arrays.stream(probabilities)\n    .filter(p -&gt; p &gt;= randomValue).findFirst().getAsDouble();\n \nSystem.out.println(winningProb); // answer matches your other method. \n</code></pre>\n<p>You can also convert probability array to increasing sums as follows:</p>\n<pre><code>System.out.println(&quot;Before: &quot; + Arrays.toString(probabilities));\nArrays.parallelPrefix(probabilities, (a,b)-&gt;a + b);       \nSystem.out.println(&quot;After:  &quot; + Arrays.toString(probabilities));\n</code></pre>\n<p>prints</p>\n<pre><code>Before: [0.2, 0.75, 0.05]\nAfter:  [0.2, 0.95, 1.0]\n</code></pre>\n"}],"owner":{"account_id":25967195,"reputation":53,"user_id":19682984,"display_name":"siggi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76935393,"answer_count":1,"score":0,"last_activity_date":1692706510,"creation_date":1683645141,"question_id":76210847,"body_markdown":"I have an array of probability values that add up to `1.0`. I want to determine one winner element based on a random number between 0 and 1:\r\n\r\n    double probabilities[] = {.2, .75, .05};\r\n\r\n    double randomValue = new Random().nextDouble();\r\n    int winner = -1;\r\n    Iterator&lt;Double&gt; iterator = Arrays.stream(probabilities).iterator();\r\n    double probability = 0;\r\n    do {\r\n        winner++;\r\n        probability += iterator.next();\r\n    } while (probability &lt; randomValue);\r\n\r\nI do want to break when the winner is known. How would I do this using streams?","title":"Determine a winner based on a single random value and an array of probabilities using java streams","body":"<p>I have an array of probability values that add up to <code>1.0</code>. I want to determine one winner element based on a random number between 0 and 1:</p>\n<pre><code>double probabilities[] = {.2, .75, .05};\n\ndouble randomValue = new Random().nextDouble();\nint winner = -1;\nIterator&lt;Double&gt; iterator = Arrays.stream(probabilities).iterator();\ndouble probability = 0;\ndo {\n    winner++;\n    probability += iterator.next();\n} while (probability &lt; randomValue);\n</code></pre>\n<p>I do want to break when the winner is known. How would I do this using streams?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1692705652,"post_id":76952994,"comment_id":135657835,"body_markdown":"Have a look at this blog article: [Spring Security without the WebSecurityConfigurerAdapter](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter)","body":"Have a look at this blog article: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">Spring Security without the WebSecurityConfigurerAdapter</a>"}],"answers":[{"tags":[],"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692706150,"creation_date":1692706150,"answer_id":76953162,"question_id":76952994,"body_markdown":"Just change from \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n// What else... \r\n}\r\n\r\n```\r\nto \r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig implements WebMvcConfigurer {\r\n\r\n```\r\n\r\nSame problem happens to me a few months ago, I didnt remember exactly where found this solution. I just paste the solution I did in my project.","title":"Migration to a new version of Spring","body":"<p>Just change from</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n// What else... \n}\n\n</code></pre>\n<p>to</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig implements WebMvcConfigurer {\n\n</code></pre>\n<p>Same problem happens to me a few months ago, I didnt remember exactly where found this solution. I just paste the solution I did in my project.</p>\n"}],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76953162,"answer_count":1,"score":2,"last_activity_date":1692706150,"creation_date":1692704851,"question_id":76952994,"body_markdown":"I&#39;m having a problem with upgrading to a new version of Spring.\r\nI have a configuration class WebSecurityConfig.\r\nI used to inherit it from WebSecurityConfigurerAdapter, but in new versions of Spring they removed it. Can you please tell me how I can rewrite this class for the new version of Spring?\r\nI want to rewrite this for Spring version 3.1.2\r\n\r\n    package ua.com.alevel.config.security;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final UserDetailsService userDetailsService;\r\n    \r\n        @Autowired\r\n        public WebSecurityConfig(@Qualifier(&quot;userDetailsServiceImpl&quot;) UserDetailsService userDetailsService) {\r\n            this.userDetailsService = userDetailsService;\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/user/getActualUser&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .formLogin()\r\n                    .loginPage(&quot;/user/loginUser&quot;).permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;)\r\n                    .and()\r\n                    .logout()\r\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/user/logoutUser&quot;, &quot;POST&quot;))\r\n                    .invalidateHttpSession(true)\r\n                    .clearAuthentication(false)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;)\r\n                    .logoutSuccessUrl(&quot;/user/loginUser&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) {\r\n            auth.authenticationProvider(daoAuthenticationProvider());\r\n        }\r\n    \r\n        @Bean\r\n        protected PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder(12);\r\n        }\r\n    \r\n        @Bean\r\n        protected DaoAuthenticationProvider daoAuthenticationProvider() {\r\n            DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n            daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n            daoAuthenticationProvider.setUserDetailsService(userDetailsService);\r\n            return daoAuthenticationProvider;\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    }\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dP7Vb.png","title":"Migration to a new version of Spring","body":"<p>I'm having a problem with upgrading to a new version of Spring.\nI have a configuration class WebSecurityConfig.\nI used to inherit it from WebSecurityConfigurerAdapter, but in new versions of Spring they removed it. Can you please tell me how I can rewrite this class for the new version of Spring?\nI want to rewrite this for Spring version 3.1.2</p>\n<pre><code>package ua.com.alevel.config.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final UserDetailsService userDetailsService;\n\n    @Autowired\n    public WebSecurityConfig(@Qualifier(&quot;userDetailsServiceImpl&quot;) UserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/**&quot;).permitAll()\n                .antMatchers(&quot;/api/v1/user/getActualUser&quot;).permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/user/loginUser&quot;).permitAll()\n                .defaultSuccessUrl(&quot;/&quot;)\n                .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/user/logoutUser&quot;, &quot;POST&quot;))\n                .invalidateHttpSession(true)\n                .clearAuthentication(false)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .logoutSuccessUrl(&quot;/user/loginUser&quot;);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    protected PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(12);\n    }\n\n    @Bean\n    protected DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService);\n        return daoAuthenticationProvider;\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dP7Vb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dP7Vb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","rest","swagger"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1692704618,"post_id":76952864,"comment_id":135657586,"body_markdown":"Show us your swagger please","body":"Show us your swagger please"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692705036,"post_id":76952864,"comment_id":135657692,"body_markdown":"have you tried to use `@DateTimeFormat(pattern = &quot;dd-MM-yyyy&quot;)` ? from `org.springframework.format.annotation`","body":"have you tried to use <code>@DateTimeFormat(pattern = &quot;dd-MM-yyyy&quot;)</code> ? from <code>org.springframework.format.annotation</code>"},{"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"score":0,"creation_date":1692705716,"post_id":76952864,"comment_id":135657856,"body_markdown":"Haven&#39;t tried it before.. But unfortunately it stays the same :(","body":"Haven&#39;t tried it before.. But unfortunately it stays the same :("},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1692706234,"post_id":76952864,"comment_id":135657971,"body_markdown":"Is it your own specification, i.e. are you writing the specification yourself? Then I&#39;d advise to stick to the standard ISO-8601 format for date and time formatting, which uses `yyyy-MM-dd`, instead of inventing your own non-standard format.","body":"Is it your own specification, i.e. are you writing the specification yourself? Then I&#39;d advise to stick to the standard ISO-8601 format for date and time formatting, which uses <code>yyyy-MM-dd</code>, instead of inventing your own non-standard format."},{"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"score":0,"creation_date":1692706257,"post_id":76952864,"comment_id":135657979,"body_markdown":"@duffymo That link https://stackoverflow.com/questions/49379006/what-is-the-correct-way-to-declare-a-date-in-an-openapi-swagger-file actually helps a bit.. It clarifies that it must not be a date if it has a pattern..","body":"@duffymo That link <a href=\"https://stackoverflow.com/questions/49379006/what-is-the-correct-way-to-declare-a-date-in-an-openapi-swagger-file\" title=\"what is the correct way to declare a date in an openapi swagger file\">stackoverflow.com/questions/49379006/&hellip;</a> actually helps a bit.. It clarifies that it must not be a date if it has a pattern.."},{"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"score":1,"creation_date":1692706373,"post_id":76952864,"comment_id":135658008,"body_markdown":"@Jesper unfortunately no. I ought to be following other systems Spec. But it feels like I should push for change on their side anyway..","body":"@Jesper unfortunately no. I ought to be following other systems Spec. But it feels like I should push for change on their side anyway.."},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1692706677,"post_id":76952864,"comment_id":135658078,"body_markdown":"Maybe my answer could looks so stupid, but you try use each annotation separately, instead of use `@Schema` `@JsonFormat` together","body":"Maybe my answer could looks so stupid, but you try use each annotation separately, instead of use <code>@Schema</code> <code>@JsonFormat</code> together"},{"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"score":0,"creation_date":1692707275,"post_id":76952864,"comment_id":135658225,"body_markdown":"Nope it is not stupid @AdrianLagartera , but yeah I tried with no real results.. :/","body":"Nope it is not stupid @AdrianLagartera , but yeah I tried with no real results.. :/"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1692707330,"post_id":76952864,"comment_id":135658243,"body_markdown":"No good reason for the other systems to deviate, but they might not be willing to change.  I see that sort of thing all the time with legacy systems.  They&#39;d prefer to propagate their bad choice than admit to being wrong.","body":"No good reason for the other systems to deviate, but they might not be willing to change.  I see that sort of thing all the time with legacy systems.  They&#39;d prefer to propagate their bad choice than admit to being wrong."},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1692707578,"post_id":76952864,"comment_id":135658319,"body_markdown":"And is posible the name of the variable do something too? Try to use something without camelCase and try it, I didn&#39;t know why the both annotations didn&#39;t take the change xD","body":"And is posible the name of the variable do something too? Try to use something without camelCase and try it, I didn&#39;t know why the both annotations didn&#39;t take the change xD"}],"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692706097,"creation_date":1692703899,"question_id":76952864,"body_markdown":"My specification says that the dates must be in format `dd-MM-yyyy`. But default example value in Swagger does have different format (`yyyy-MM-dd`).\r\n\r\nWhat I would like the json to be:\r\n\r\n```json\r\n{\r\n&quot;SOME_DATE&quot;: &quot;22-08-2023&quot;\r\n}\r\n```\r\n\r\nWhat actually is in json:\r\n\r\n```json\r\n{\r\n&quot;SOME_DATE&quot;: &quot;2023-08-22&quot;\r\n}\r\n```\r\n\r\nMy implementation looks like this :\r\n\r\n```java\r\n@JsonProperty(value = &quot;SOME_DATE&quot;)\r\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\r\n@ApiModelProperty(required = true, example = &quot;22-08-2023&quot;)\r\n@Schema(name = &quot;SOME_DATE&quot;, format = &quot;dd-MM-yyyy&quot;, example = &quot;22-08-2023&quot;)\r\nprivate LocalDate someDate = null;\r\n```\r\n\r\nbut somehow swagger always shows the `someDate` in default value in normal form.. When I send example request via swagger-ui it fails (which is correct behavior as of `@JsonFormat`)...\r\n\r\nNeither the `@ApiModelProperty` nor the `@Schema` have any positive effect on the format.\r\n\r\n---\r\n**edit1:** the swagger definition\r\n\r\n```json\r\n{\r\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\r\n  ...\r\n    &quot;SOME_DATE&quot;: {\r\n      &quot;pattern&quot;: &quot;dd-MM-yyyy&quot;,\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;format&quot;: &quot;date&quot;,\r\n      &quot;example&quot;: &quot;2023-08-22&quot;\r\n    },\r\n  ...\r\n}\r\n```","title":"SpringBoot generated Swagger has incorrect format for LocalDate","body":"<p>My specification says that the dates must be in format <code>dd-MM-yyyy</code>. But default example value in Swagger does have different format (<code>yyyy-MM-dd</code>).</p>\n<p>What I would like the json to be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;SOME_DATE&quot;: &quot;22-08-2023&quot;\n}\n</code></pre>\n<p>What actually is in json:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;SOME_DATE&quot;: &quot;2023-08-22&quot;\n}\n</code></pre>\n<p>My implementation looks like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(value = &quot;SOME_DATE&quot;)\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\n@ApiModelProperty(required = true, example = &quot;22-08-2023&quot;)\n@Schema(name = &quot;SOME_DATE&quot;, format = &quot;dd-MM-yyyy&quot;, example = &quot;22-08-2023&quot;)\nprivate LocalDate someDate = null;\n</code></pre>\n<p>but somehow swagger always shows the <code>someDate</code> in default value in normal form.. When I send example request via swagger-ui it fails (which is correct behavior as of <code>@JsonFormat</code>)...</p>\n<p>Neither the <code>@ApiModelProperty</code> nor the <code>@Schema</code> have any positive effect on the format.</p>\n<hr />\n<p><strong>edit1:</strong> the swagger definition</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\n  ...\n    &quot;SOME_DATE&quot;: {\n      &quot;pattern&quot;: &quot;dd-MM-yyyy&quot;,\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;format&quot;: &quot;date&quot;,\n      &quot;example&quot;: &quot;2023-08-22&quot;\n    },\n  ...\n}\n</code></pre>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1692705022,"post_id":76952969,"comment_id":135657690,"body_markdown":"Put a breakpoint in SQLServerDriver or wherever to see if the string is still the same or something changed it?","body":"Put a breakpoint in SQLServerDriver or wherever to see if the string is still the same or something changed it?"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1692705822,"post_id":76952969,"comment_id":135657880,"body_markdown":"All of the example connection strings I am finding have a trailing semicolon on the last property: `trustServerCertificate=true;`","body":"All of the example connection strings I am finding have a trailing semicolon on the last property: <code>trustServerCertificate=true;</code>"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1692705840,"post_id":76952969,"comment_id":135657882,"body_markdown":"Recent versions of the ODBC/JDBC/SqlClient drivers added a new `hostNameInCertificate` property for when the CN/Subject of the SQL Server certificate doesn&#39;t actually match the host name used in the connection URI. Have you tried setting that?","body":"Recent versions of the ODBC/JDBC/SqlClient drivers added a new <code>hostNameInCertificate</code> property for when the CN/Subject of the SQL Server certificate doesn&#39;t actually match the host name used in the connection URI. Have you tried setting that?"},{"owner":{"account_id":121159,"reputation":103,"user_id":314043,"display_name":"onoma"},"score":0,"creation_date":1692714196,"post_id":76952969,"comment_id":135660138,"body_markdown":"@siggemannen I&#39;ve just tried that, thanks: nothing jumps out but I may have missed something in the 1000s line of code","body":"@siggemannen I&#39;ve just tried that, thanks: nothing jumps out but I may have missed something in the 1000s line of code"},{"owner":{"account_id":121159,"reputation":103,"user_id":314043,"display_name":"onoma"},"score":0,"creation_date":1692714216,"post_id":76952969,"comment_id":135660145,"body_markdown":"@RobertHarvey unfortunately that didn&#39;t work","body":"@RobertHarvey unfortunately that didn&#39;t work"},{"owner":{"account_id":121159,"reputation":103,"user_id":314043,"display_name":"onoma"},"score":0,"creation_date":1692714345,"post_id":76952969,"comment_id":135660194,"body_markdown":"@AlwaysLearning I&#39;m having difficulty identifying which certificate to use. I will need to go off to the SQL Server resources and find out how to do that. Thanks","body":"@AlwaysLearning I&#39;m having difficulty identifying which certificate to use. I will need to go off to the SQL Server resources and find out how to do that. Thanks"}],"owner":{"account_id":121159,"reputation":103,"user_id":314043,"display_name":"onoma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692705941,"creation_date":1692704656,"question_id":76952969,"body_markdown":"We&#39;re experiencing issues with a connection string used in an app that has recently been upgraded to use Java 17. \r\n\r\nThe string is as follows: \r\n\r\n&gt;spring.datasource.url=jdbc:sqlserver://LOCALHOST:1433;databaseName=[mydb];encrypt=true;trustServerCertificate=true\r\n\r\nWhen the app. is brought up, we get the following error: \r\n```\r\n2023-08-22 12:09:17.746[0;39m [31mERROR[0;39m [35m10768[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-2 - Exception during pool initialization.\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: &quot;encrypt&quot; property is set to &quot;true&quot; and &quot;trustServerCertificate&quot; property is set to &quot;false&quot; but the driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption: Error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. ClientConnectionId:ae5d4fb9-9813-4ba6-b5d2-c3895eabe0db\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3957)\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1950)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3477)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3097)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2939)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1801)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1241)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n\tat org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda\r\n```\r\n\r\nIt looks like the driver thinks the trustServerCertificate property has been set to &quot;false&quot; whereas the connection string clearly defines it as true. It feels like something , somewhere is overriding this value but we are struggling to nail it down. Any help would be gratefully received.\r\n\r\nThe app. is being maintained in STS v4.18.1 and using the Eclipse Adoptium JDK, jdk-17.0.8.7-hotspot. We have also configured the SQLServerDialect as SQLServer2012Dialect and we are using version 12.3.0.jre17-preview of the SQL Server driver. We have also tried version 12.4.0.jre11 of the Driver to no avail. HikariCP is at 4.0.3 and we use Hibernate 5.6.12 and Spring Boot 2.7.5.\r\n\r\nMany thanks\r\n\r\n\r\n\r\n","title":"Problem with SQL Server connection string: trustServerCertificate=true is being interpreted as trustServerCerticate=false;","body":"<p>We're experiencing issues with a connection string used in an app that has recently been upgraded to use Java 17.</p>\n<p>The string is as follows:</p>\n<blockquote>\n<p>spring.datasource.url=jdbc:sqlserver://LOCALHOST:1433;databaseName=[mydb];encrypt=true;trustServerCertificate=true</p>\n</blockquote>\n<p>When the app. is brought up, we get the following error:</p>\n<pre><code>2023-08-22 12:09:17.746[0;39m [31mERROR[0;39m [35m10768[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-2 - Exception during pool initialization.\n\ncom.microsoft.sqlserver.jdbc.SQLServerException: &quot;encrypt&quot; property is set to &quot;true&quot; and &quot;trustServerCertificate&quot; property is set to &quot;false&quot; but the driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption: Error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. ClientConnectionId:ae5d4fb9-9813-4ba6-b5d2-c3895eabe0db\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3957)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1950)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3477)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3097)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2939)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1801)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1241)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n    at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda\n</code></pre>\n<p>It looks like the driver thinks the trustServerCertificate property has been set to &quot;false&quot; whereas the connection string clearly defines it as true. It feels like something , somewhere is overriding this value but we are struggling to nail it down. Any help would be gratefully received.</p>\n<p>The app. is being maintained in STS v4.18.1 and using the Eclipse Adoptium JDK, jdk-17.0.8.7-hotspot. We have also configured the SQLServerDialect as SQLServer2012Dialect and we are using version 12.3.0.jre17-preview of the SQL Server driver. We have also tried version 12.4.0.jre11 of the Driver to no avail. HikariCP is at 4.0.3 and we use Hibernate 5.6.12 and Spring Boot 2.7.5.</p>\n<p>Many thanks</p>\n"},{"tags":["java","database","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1282717943,"creation_date":1282717943,"answer_id":3563359,"question_id":3562105,"body_markdown":"&gt; I&#39;d like to write a method like `&lt;T&gt; T getOrCreate(Class&lt;T&gt; klass, Object primaryKey)`\r\n\r\nThis won&#39;t be easy. \r\n\r\nA naive approach would be to do something like this (assuming the method is running inside a transaction):\r\n\r\n    public &lt;T&gt; T findOrCreate(Class&lt;T&gt; entityClass, Object primaryKey) {\r\n        T entity = em.find(entityClass, primaryKey);\r\n        if ( entity != null ) {\r\n            return entity;\r\n        } else {\r\n            try {\r\n                entity = entityClass.newInstance();\r\n                /* use more reflection to set the pk (probably need a base entity) */\r\n                return entity;\r\n            } catch ( Exception e ) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nBut in a concurrent environment, this code could fail due to some race condition: \r\n\r\n&lt;pre&gt;\r\nT1: BEGIN TX;\r\nT2: BEGIN TX;\r\n\r\nT1: SELECT w/ id = 123; //returns null\r\nT2: SELECT w/ id = 123; //returns null\r\n\r\nT1: INSERT w/ id = 123;\r\nT1: COMMIT; //row inserted\r\n\r\nT2: INSERT w/ name = 123;\r\nT2: COMMIT; //constraint violation\r\n&lt;/pre&gt;\r\n\r\nAnd if you are running multiple JVMs, synchronization won&#39;t help. And without acquiring a table lock (which is pretty horrible), I don&#39;t really see how you could solve this.\r\n\r\nIn such case, I wonder if it wouldn&#39;t be better to systematically insert first and handle a possible exception to perform a subsequent select (in a new transaction).\r\n\r\nYou should probably add some details regarding the mentioned constraints (multi-threading? distributed environment?). \r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=1&amp;t=968646&amp;start=0","title":"JPA - create-if-not-exists entity?","body":"<blockquote>\n  <p>I'd like to write a method like <code>&lt;T&gt; T getOrCreate(Class&lt;T&gt; klass, Object primaryKey)</code></p>\n</blockquote>\n\n<p>This won't be easy. </p>\n\n<p>A naive approach would be to do something like this (assuming the method is running inside a transaction):</p>\n\n<pre><code>public &lt;T&gt; T findOrCreate(Class&lt;T&gt; entityClass, Object primaryKey) {\n    T entity = em.find(entityClass, primaryKey);\n    if ( entity != null ) {\n        return entity;\n    } else {\n        try {\n            entity = entityClass.newInstance();\n            /* use more reflection to set the pk (probably need a base entity) */\n            return entity;\n        } catch ( Exception e ) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>But in a concurrent environment, this code could fail due to some race condition: </p>\n\n<pre>\nT1: BEGIN TX;\nT2: BEGIN TX;\n\nT1: SELECT w/ id = 123; //returns null\nT2: SELECT w/ id = 123; //returns null\n\nT1: INSERT w/ id = 123;\nT1: COMMIT; //row inserted\n\nT2: INSERT w/ name = 123;\nT2: COMMIT; //constraint violation\n</pre>\n\n<p>And if you are running multiple JVMs, synchronization won't help. And without acquiring a table lock (which is pretty horrible), I don't really see how you could solve this.</p>\n\n<p>In such case, I wonder if it wouldn't be better to systematically insert first and handle a possible exception to perform a subsequent select (in a new transaction).</p>\n\n<p>You should probably add some details regarding the mentioned constraints (multi-threading? distributed environment?). </p>\n"},{"tags":[],"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1456260492,"creation_date":1456260492,"answer_id":35587856,"question_id":3562105,"body_markdown":"Using pure JPA one can solve this optimistically in a multi-threaded solution with nested entity managers (really we just need nested transactions but I don&#39;t think that is possible with pure JPA).  Essentially one needs to create a micro-transaction that encapsulates the find-or-create operation.  This performance won&#39;t be fantastic and isn&#39;t suitable for large batched creates but should be sufficient for most cases.\r\n\r\nPrerequisites:\r\n\r\n - The entity must have a unique constraint violation that will fail if two instances are created\r\n - You have some kind of finder to find the entity (can find by primary key with EntityManager.find or by some query) we will refer to this as `finder`\r\n - You have some kind of factory method to create a new entity should the one you are looking for fail to exist, we will refer to this as `factory`.\r\n - I&#39;m assuming that the given findOrCreate method would exist on some repository object and it is called in the context of an existing entity manager and an existing transaction.\r\n - If the transaction isolation level is serializable or snapshot this won&#39;t work.  If the transaction is repeatable read then you must not have attempted to read the entity in the current transaction.\r\n - I&#39;d recommend breaking the logic below into multiple methods for maintainability.\r\n\r\nCode:\r\n\r\n    public &lt;T&gt; T findOrCreate(Supplier&lt;T&gt; finder, Supplier&lt;T&gt; factory) {\r\n        EntityManager innerEntityManager = entityManagerFactory.createEntityManager();\r\n        innerEntityManager.getTransaction().begin();\r\n        try {\r\n            //Try the naive find-or-create in our inner entity manager\r\n            if(finder.get() == null) {\r\n                T newInstance = factory.get();\r\n                innerEntityManager.persist(newInstance);\r\n            }\r\n            innerEntityManager.getTransaction().commit();\r\n        } catch (PersistenceException ex) {\r\n            //This may be a unique constraint violation or it could be some\r\n            //other issue.  We will attempt to determine which it is by trying\r\n            //to find the entity.  Either way, our attempt failed and we\r\n            //roll back the tx.\r\n            innerEntityManager.getTransaction().rollback();\r\n            T entity = finder.get();\r\n            if(entity == null) {\r\n                //Must have been some other issue\r\n                throw ex;\r\n            } else {\r\n                //Either it was a unique constraint violation or we don&#39;t\r\n                //care because someone else has succeeded\r\n                return entity;\r\n            }\r\n        } catch (Throwable t) {\r\n            innerEntityManager.getTransaction().rollback();\r\n            throw t;\r\n        } finally {\r\n            innerEntityManager.close();\r\n        }\r\n        //If we didn&#39;t hit an exception then we successfully created it\r\n        //in the inner transaction.  We now need to find the entity in\r\n        //our outer transaction.\r\n        return finder.get();\r\n    }","title":"JPA - create-if-not-exists entity?","body":"<p>Using pure JPA one can solve this optimistically in a multi-threaded solution with nested entity managers (really we just need nested transactions but I don't think that is possible with pure JPA).  Essentially one needs to create a micro-transaction that encapsulates the find-or-create operation.  This performance won't be fantastic and isn't suitable for large batched creates but should be sufficient for most cases.</p>\n\n<p>Prerequisites:</p>\n\n<ul>\n<li>The entity must have a unique constraint violation that will fail if two instances are created</li>\n<li>You have some kind of finder to find the entity (can find by primary key with EntityManager.find or by some query) we will refer to this as <code>finder</code></li>\n<li>You have some kind of factory method to create a new entity should the one you are looking for fail to exist, we will refer to this as <code>factory</code>.</li>\n<li>I'm assuming that the given findOrCreate method would exist on some repository object and it is called in the context of an existing entity manager and an existing transaction.</li>\n<li>If the transaction isolation level is serializable or snapshot this won't work.  If the transaction is repeatable read then you must not have attempted to read the entity in the current transaction.</li>\n<li>I'd recommend breaking the logic below into multiple methods for maintainability.</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>public &lt;T&gt; T findOrCreate(Supplier&lt;T&gt; finder, Supplier&lt;T&gt; factory) {\n    EntityManager innerEntityManager = entityManagerFactory.createEntityManager();\n    innerEntityManager.getTransaction().begin();\n    try {\n        //Try the naive find-or-create in our inner entity manager\n        if(finder.get() == null) {\n            T newInstance = factory.get();\n            innerEntityManager.persist(newInstance);\n        }\n        innerEntityManager.getTransaction().commit();\n    } catch (PersistenceException ex) {\n        //This may be a unique constraint violation or it could be some\n        //other issue.  We will attempt to determine which it is by trying\n        //to find the entity.  Either way, our attempt failed and we\n        //roll back the tx.\n        innerEntityManager.getTransaction().rollback();\n        T entity = finder.get();\n        if(entity == null) {\n            //Must have been some other issue\n            throw ex;\n        } else {\n            //Either it was a unique constraint violation or we don't\n            //care because someone else has succeeded\n            return entity;\n        }\n    } catch (Throwable t) {\n        innerEntityManager.getTransaction().rollback();\n        throw t;\n    } finally {\n        innerEntityManager.close();\n    }\n    //If we didn't hit an exception then we successfully created it\n    //in the inner transaction.  We now need to find the entity in\n    //our outer transaction.\n    return finder.get();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16470090,"reputation":9,"user_id":11899323,"display_name":"gus an"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1616599443,"creation_date":1616599443,"answer_id":66784201,"question_id":3562105,"body_markdown":"How about use `orElse` function after `findByKeyword`? You can return a new instance if no record is found.\r\n\r\n```\r\n        SearchCount searchCount = searchCountRepository.findByKeyword(keyword)\r\n                .orElse(SearchCount.builder()\r\n                        .keyword(keyword)\r\n                        .count(0)\r\n                        .build()) ;\r\n```","title":"JPA - create-if-not-exists entity?","body":"<p>How about use <code>orElse</code> function after <code>findByKeyword</code>? You can return a new instance if no record is found.</p>\n<pre><code>        SearchCount searchCount = searchCountRepository.findByKeyword(keyword)\n                .orElse(SearchCount.builder()\n                        .keyword(keyword)\n                        .count(0)\n                        .build()) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11731702,"reputation":71,"user_id":8586941,"display_name":"Eason Du"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629210671,"creation_date":1628750281,"answer_id":68752704,"question_id":3562105,"body_markdown":"I must point out there&#39;s some flaw in [@gus an&#39;s answer](https://stackoverflow.com/a/66784201). It could lead to an apparent problem in a concurrent situation. If there are 2 threads reading the count, they would both get 0 and then do the insertion. So duplicate rows created.\r\n\r\nMy suggestion here is to write your native query like the one below:\r\n\r\n```sql\r\ninsert into af_label (content,previous_level_id,interval_begin,interval_end) \r\n    select &quot;test&quot;,32,9,13\r\n    from dual \r\n    where not exists (select * from af_label where previous_level_id=32 and interval_begin=9 and interval_end=13)\r\n```\r\nIt&#39;s just like an optimistic lock in the program. But we make the db engine to decide and find the duplicates by your customized attributes.\r\n","title":"JPA - create-if-not-exists entity?","body":"<p>I must point out there's some flaw in <a href=\"https://stackoverflow.com/a/66784201\">@gus an's answer</a>. It could lead to an apparent problem in a concurrent situation. If there are 2 threads reading the count, they would both get 0 and then do the insertion. So duplicate rows created.</p>\n<p>My suggestion here is to write your native query like the one below:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into af_label (content,previous_level_id,interval_begin,interval_end) \n    select &quot;test&quot;,32,9,13\n    from dual \n    where not exists (select * from af_label where previous_level_id=32 and interval_begin=9 and interval_end=13)\n</code></pre>\n<p>It's just like an optimistic lock in the program. But we make the db engine to decide and find the duplicates by your customized attributes.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686822172,"creation_date":1686822172,"answer_id":76481208,"question_id":3562105,"body_markdown":"*The other answers give good solutions to the problem. I&#39;ll try to summarise the various approaches, to give a good overview.*\r\n\r\n## Support in JPA\r\n\r\n&gt; I&#39;d like to write a method [...] that returns an object of the\r\n&gt; provided class if one exists in the database with pk primaryKey, and\r\n&gt; otherwise creates a new object of that class, persists it and returns\r\n&gt; it.\r\n&gt; \r\n&gt; The very next thing I&#39;ll do with the object will be to update all its\r\n&gt; fields, within a transactio\r\n\r\nThis is a reasonably common situation, and there is a name for this operation: **Upsert** (blend word of UPDATE and INSERT) - meaning insert a record if it is not present (decided by its key), update if it is present.\r\n\r\nMost relational database systems have built-in support for this, either via the standard SQL keyword MERGE, or some other keyword - see [the Wikipedia article for MERGE][1] for details. This allows performing an upsert with a single SQL statement.\r\n\r\n&gt; Is there an idiomatic way to do this in JPA, or is there a better way\r\n&gt; to solve my problem?\r\n\r\nUnfortunately: **no**. JPA itself does not support an upsert operation. There is no UPSERT or MERGE or similar keyword in JPQL, or in the JPA API. More precisely: `EntityManager.merge()` will do what you want in a single-threaded solution (find &amp;update the entity or insert it), but it is not thread-safe.\r\n\r\nHowever, there are some workarounds (some explained in other answers).\r\n\r\n## Workarounds ##\r\n\r\n### Insert and catch constraint violation ##\r\nMake sure that there is a unique index for the key field(s) that you want to use. Then just naively perform an insert, using `EntityManager.persist()`. If the record was not present, it will be inserted. If the record was already present, you will get an Exception, which you can catch. Then you can perform an UPDATE (using `EntityManager.merge()`) instead.\r\n\r\nThis is described in more detail in Pace&#39;s answer.\r\n\r\nAdvantage: No complicated native SQL required.\r\n\r\nDisadvantage: The exception handling will be quite nasty, because JPA also does not have a portable way to distinguish wether an exception was caused by a constraint violation (which would be ok here) or by some other problem (dead database, network error) which you would still want to handle.\r\n\r\n### Use MERGE / UPSERT statement ###\r\nYou can use a native query to execute a MERGE or UPSERT statement, using the DB&#39;s built-in support for performing upserts.\r\n\r\nAdvantage: The cleanest solution from the DBMS point of view, as it uses the mechanism that the DBMS offers for this problem.\r\nDisadvantage: Somewhat nasty native SQL required; basically &quot;going behind JPA&#39;s back&quot;.\r\n\r\nSee https://stackoverflow.com/questions/50252299/using-merge-statement-for-single-table for details.\r\n\r\n### Use DB lock ###\r\nYou can also use a form of [pessimistic locking][2], by acquiring a database lock on some record (using `EntityManager.lock()`). Which record to lock will be application-specific. Typically, if you have a 1:n relationship, and you are inserting into the :n table, you would lock the corresponding &quot;main&quot; record.\r\nFor example, when adding a new item to an invoice, you would lock the main invoice record. After obtaining the lock, you check for existence of the record, and update or insert it.\r\n\r\nIf all code that performs inserts respects this, the locking will make sure that once you have acquired a lock, no other process/thread can interfere.\r\n\r\nThe acquisition of the lock and the update/insert must be put inside a transaction (the end of the transaction will automatically release the lock).\r\n\r\nAdvantages: No native SQL required. Can be faster than the other solutions in some cases (though this depends on specifics).\r\nDisadvantages: May reduce performance, because other code has to wait for the lock. In particular, the DBMS may decide to lock the whole table instead of just one row, which will make this worse. If you get the locking wrong, you could create potential deadlocks.\r\n\r\n### Recommendation ###\r\n\r\nIn my experience, using MERGE / UPSERT is usually the best solution, as it optimally uses the resources provided by the DBMS. The required native SQL is a bit ugly, and you must make sure not to accidentally persist via JPA, but apart from that it&#39;s the cleanest (and usually the fastest) solution.\r\n\r\nIf that is not practical, the &quot;insert and catch&quot; approach can also work - but it also has ugly code (the exception handling), and again, you must make sure to always apply this exception handling.\r\n\r\nUsing locks is helpful in some situations, but I&#39;d use it as a last resort.\r\n\r\n## Remarks ##\r\n* There is actually a bug for EclipseLink (one JPA implementation) to provide support for upsert -  [Bug 344329 - Add support for UPSERT/MERGE][3]. However, the bug is from 2011 and nothing seems to have happened. Also, this would ideally be added to the JPA specification, which does not seem to be happening either.\r\n* A simple solution to the problem is to make sure only a single thread/process is doing the inserting/updating - then you can just naively update and insert. But that is not always practical :-).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Merge_(SQL)\r\n  [2]: https://en.wikipedia.org/wiki/Lock_(computer_science)\r\n  [3]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=344329\r\n  [4]: https://spring.io/projects/spring-data-jpa","title":"JPA - create-if-not-exists entity?","body":"<p><em>The other answers give good solutions to the problem. I'll try to summarise the various approaches, to give a good overview.</em></p>\n<h2>Support in JPA</h2>\n<blockquote>\n<p>I'd like to write a method [...] that returns an object of the\nprovided class if one exists in the database with pk primaryKey, and\notherwise creates a new object of that class, persists it and returns\nit.</p>\n<p>The very next thing I'll do with the object will be to update all its\nfields, within a transactio</p>\n</blockquote>\n<p>This is a reasonably common situation, and there is a name for this operation: <strong>Upsert</strong> (blend word of UPDATE and INSERT) - meaning insert a record if it is not present (decided by its key), update if it is present.</p>\n<p>Most relational database systems have built-in support for this, either via the standard SQL keyword MERGE, or some other keyword - see <a href=\"https://en.wikipedia.org/wiki/Merge_(SQL)\" rel=\"nofollow noreferrer\">the Wikipedia article for MERGE</a> for details. This allows performing an upsert with a single SQL statement.</p>\n<blockquote>\n<p>Is there an idiomatic way to do this in JPA, or is there a better way\nto solve my problem?</p>\n</blockquote>\n<p>Unfortunately: <strong>no</strong>. JPA itself does not support an upsert operation. There is no UPSERT or MERGE or similar keyword in JPQL, or in the JPA API. More precisely: <code>EntityManager.merge()</code> will do what you want in a single-threaded solution (find &amp;update the entity or insert it), but it is not thread-safe.</p>\n<p>However, there are some workarounds (some explained in other answers).</p>\n<h2>Workarounds</h2>\n<h3>Insert and catch constraint violation</h3>\n<p>Make sure that there is a unique index for the key field(s) that you want to use. Then just naively perform an insert, using <code>EntityManager.persist()</code>. If the record was not present, it will be inserted. If the record was already present, you will get an Exception, which you can catch. Then you can perform an UPDATE (using <code>EntityManager.merge()</code>) instead.</p>\n<p>This is described in more detail in Pace's answer.</p>\n<p>Advantage: No complicated native SQL required.</p>\n<p>Disadvantage: The exception handling will be quite nasty, because JPA also does not have a portable way to distinguish wether an exception was caused by a constraint violation (which would be ok here) or by some other problem (dead database, network error) which you would still want to handle.</p>\n<h3>Use MERGE / UPSERT statement</h3>\n<p>You can use a native query to execute a MERGE or UPSERT statement, using the DB's built-in support for performing upserts.</p>\n<p>Advantage: The cleanest solution from the DBMS point of view, as it uses the mechanism that the DBMS offers for this problem.\nDisadvantage: Somewhat nasty native SQL required; basically &quot;going behind JPA's back&quot;.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/50252299/using-merge-statement-for-single-table\">Using Merge statement for single table</a> for details.</p>\n<h3>Use DB lock</h3>\n<p>You can also use a form of <a href=\"https://en.wikipedia.org/wiki/Lock_(computer_science)\" rel=\"nofollow noreferrer\">pessimistic locking</a>, by acquiring a database lock on some record (using <code>EntityManager.lock()</code>). Which record to lock will be application-specific. Typically, if you have a 1:n relationship, and you are inserting into the :n table, you would lock the corresponding &quot;main&quot; record.\nFor example, when adding a new item to an invoice, you would lock the main invoice record. After obtaining the lock, you check for existence of the record, and update or insert it.</p>\n<p>If all code that performs inserts respects this, the locking will make sure that once you have acquired a lock, no other process/thread can interfere.</p>\n<p>The acquisition of the lock and the update/insert must be put inside a transaction (the end of the transaction will automatically release the lock).</p>\n<p>Advantages: No native SQL required. Can be faster than the other solutions in some cases (though this depends on specifics).\nDisadvantages: May reduce performance, because other code has to wait for the lock. In particular, the DBMS may decide to lock the whole table instead of just one row, which will make this worse. If you get the locking wrong, you could create potential deadlocks.</p>\n<h3>Recommendation</h3>\n<p>In my experience, using MERGE / UPSERT is usually the best solution, as it optimally uses the resources provided by the DBMS. The required native SQL is a bit ugly, and you must make sure not to accidentally persist via JPA, but apart from that it's the cleanest (and usually the fastest) solution.</p>\n<p>If that is not practical, the &quot;insert and catch&quot; approach can also work - but it also has ugly code (the exception handling), and again, you must make sure to always apply this exception handling.</p>\n<p>Using locks is helpful in some situations, but I'd use it as a last resort.</p>\n<h2>Remarks</h2>\n<ul>\n<li>There is actually a bug for EclipseLink (one JPA implementation) to provide support for upsert -  <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=344329\" rel=\"nofollow noreferrer\">Bug 344329 - Add support for UPSERT/MERGE</a>. However, the bug is from 2011 and nothing seems to have happened. Also, this would ideally be added to the JPA specification, which does not seem to be happening either.</li>\n<li>A simple solution to the problem is to make sure only a single thread/process is doing the inserting/updating - then you can just naively update and insert. But that is not always practical :-).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14902199,"reputation":219,"user_id":10760729,"display_name":"Daniele Asteggiante"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692705841,"creation_date":1692705841,"answer_id":76953128,"question_id":3562105,"body_markdown":"This is a method that I used to save element of list if they not exists.    \r\n\r\n    someList.stream()\r\n                 .filter(e-&gt;!someRepository.existsById(e.getId()))\r\n                 .forEach(e-&gt;someRepository.save(e));","title":"JPA - create-if-not-exists entity?","body":"<p>This is a method that I used to save element of list if they not exists.</p>\n<pre><code>someList.stream()\n             .filter(e-&gt;!someRepository.existsById(e.getId()))\n             .forEach(e-&gt;someRepository.save(e));\n</code></pre>\n"}],"owner":{"account_id":2052,"reputation":8269,"user_id":2827,"accept_rate":82,"display_name":"HenryR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62801,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":6,"score":32,"last_activity_date":1692705841,"creation_date":1282697282,"question_id":3562105,"body_markdown":"I have several mapped objects in my JPA / Hibernate application. On the network I receive packets that represent updates to these objects, or may in fact represent new objects entirely. \r\n\r\nI&#39;d like to write a method like \r\n\r\n    &lt;T&gt; T getOrCreate(Class&lt;T&gt; klass, Object primaryKey)\r\n\r\nthat returns an object of the provided class if one exists in the database with pk primaryKey, and otherwise creates a new object of that class, persists it and returns it.\r\n\r\nThe very next thing I&#39;ll do with the object will be to update all its fields, within a transaction. \r\n\r\nIs there an idiomatic way to do this in JPA, or is there a better way to solve my problem? ","title":"JPA - create-if-not-exists entity?","body":"<p>I have several mapped objects in my JPA / Hibernate application. On the network I receive packets that represent updates to these objects, or may in fact represent new objects entirely. </p>\n\n<p>I'd like to write a method like </p>\n\n<pre><code>&lt;T&gt; T getOrCreate(Class&lt;T&gt; klass, Object primaryKey)\n</code></pre>\n\n<p>that returns an object of the provided class if one exists in the database with pk primaryKey, and otherwise creates a new object of that class, persists it and returns it.</p>\n\n<p>The very next thing I'll do with the object will be to update all its fields, within a transaction. </p>\n\n<p>Is there an idiomatic way to do this in JPA, or is there a better way to solve my problem? </p>\n"},{"tags":["java","hibernate","security","java-8","checkmarx"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1627519937,"post_id":68568827,"comment_id":121180774,"body_markdown":"may be I am not a native English speaker, but I have no idea what that error messages is trying to allude. :|","body":"may be I am not a native English speaker, but I have no idea what that error messages is trying to allude. :|"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1627520509,"post_id":68568827,"comment_id":121180867,"body_markdown":"I am also confused by the wording..but the category of vulnerability falls under Unsafe_object_binding category..and what I understand is an attacker can put any value in the Request body ColumnConfigSetDto and that data is directly saved in the DB by the saveAll() method and this might corrupt the database","body":"I am also confused by the wording..but the category of vulnerability falls under Unsafe_object_binding category..and what I understand is an attacker can put any value in the Request body ColumnConfigSetDto and that data is directly saved in the DB by the saveAll() method and this might corrupt the database"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1627520637,"post_id":68568827,"comment_id":121180888,"body_markdown":"I see, that somehow makes sense then. So you need to add `@Validated` may be? To have some proper validations in place?","body":"I see, that somehow makes sense then. So you need to add <code>@Validated</code> may be? To have some proper validations in place?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1627550316,"post_id":68568827,"comment_id":121187869,"body_markdown":"So instead of iterating over `columnConfigSet.getColumns()` you have to iterate over a list of known identifiers and look them up in `columnConfigSet`, to only process those known columns.","body":"So instead of iterating over <code>columnConfigSet.getColumns()</code> you have to iterate over a list of known identifiers and look them up in <code>columnConfigSet</code>, to only process those known columns."},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1627573873,"post_id":68568827,"comment_id":121198258,"body_markdown":"Thnx @Holger I have given the dtos too..how do I validate the identifiers in the `columnConfigSet` ..is there any easy way?","body":"Thnx @Holger I have given the dtos too..how do I validate the identifiers in the <code>columnConfigSet</code> ..is there any easy way?"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1627619091,"post_id":68568827,"comment_id":121209293,"body_markdown":"I even tried to convert the dto to an entity via a converter ,and loop through that entity in the service class, but its still giving the same error in the converter too eg. whenever I am giving columnConfigSet.getxxx() its giving the alert","body":"I even tried to convert the dto to an entity via a converter ,and loop through that entity in the service class, but its still giving the same error in the converter too eg. whenever I am giving columnConfigSet.getxxx() its giving the alert"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1627742648,"post_id":68568827,"comment_id":121240281,"body_markdown":"I’m not familiar with checkmarx. I was just building on your assumption in [this comment](https://stackoverflow.com/questions/68568827/unsafe-object-binding-checkmarx#comment121180867_68568827) and explained how to address the issue described there. Unfortunately, I don’t know whether this truly is checkmarx’ concern or what code pattern it is checking.","body":"I’m not familiar with checkmarx. I was just building on your assumption in <a href=\"https://stackoverflow.com/questions/68568827/unsafe-object-binding-checkmarx#comment121180867_68568827\">this comment</a> and explained how to address the issue described there. Unfortunately, I don’t know whether this truly is checkmarx’ concern or what code pattern it is checking."},{"owner":{"account_id":1896611,"reputation":51,"user_id":1713426,"display_name":"sskumar"},"score":1,"creation_date":1635996808,"post_id":68568827,"comment_id":123442570,"body_markdown":"I know its late... you can try adding validations to variables defeined in class before using them.","body":"I know its late... you can try adding validations to variables defeined in class before using them."},{"owner":{"account_id":240361,"reputation":413,"user_id":510550,"accept_rate":67,"display_name":"Raju Penumatsa"},"score":1,"creation_date":1643044636,"post_id":68568827,"comment_id":125230078,"body_markdown":"Please post the solution if you could crack it!","body":"Please post the solution if you could crack it!"}],"answers":[{"tags":[],"owner":{"account_id":24399481,"reputation":1,"user_id":18328406,"display_name":"Stephen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649076635,"creation_date":1649076635,"answer_id":71737547,"question_id":68568827,"body_markdown":"Here is my solution for Unsafe object binding reported by cherkmarx in Java.\r\nIt&#39;s not a graceful approach and only fix this vulnerability.\r\n\r\n**Remove all setter methods for boxed fields in each requestbody bean.**\r\nSince `@JsonProperty` could support deserialization capbility, no need to add setter manually.\r\n\r\nIf you need setter for request body bean indeed, you can use reflaction way instead.\r\n`FieldUtils.writeField(columnConfigDto , &quot;isVisible&quot;, true, true);`\r\n\r\n```\r\npublic class ColumnConfigDto {\r\n    // Ensure @JsonProperty existed on each field \r\n    @JsonProperty(&quot;key&quot;)\r\n    private String key;\r\n\r\n    @JsonProperty(&quot;isVisible&quot;)\r\n    private Boolean isVisible;\r\n\r\n    @JsonProperty(&quot;list&quot;)\r\n    private List list;\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n\r\n    public void setKey(String key) {\r\n        this.key = key;\r\n    }\r\n\r\n    public Boolean getVisible() {\r\n        return isVisible;\r\n    }\r\n    \r\n// Remove boxed type field     \r\n//    public void setVisible(Boolean visible) {\r\n//        isVisible = visible;\r\n//    }\r\n\r\n    public List getList() {\r\n        return list;\r\n    }\r\n\r\n// Remove boxed type field   \r\n//    public void setList(List list) {\r\n//        this.list = list;\r\n//    }\r\n}\r\n\r\n```","title":"Unsafe Object binding Checkmarx","body":"<p>Here is my solution for Unsafe object binding reported by cherkmarx in Java.\nIt's not a graceful approach and only fix this vulnerability.</p>\n<p><strong>Remove all setter methods for boxed fields in each requestbody bean.</strong>\nSince <code>@JsonProperty</code> could support deserialization capbility, no need to add setter manually.</p>\n<p>If you need setter for request body bean indeed, you can use reflaction way instead.\n<code>FieldUtils.writeField(columnConfigDto , &quot;isVisible&quot;, true, true);</code></p>\n<pre><code>public class ColumnConfigDto {\n    // Ensure @JsonProperty existed on each field \n    @JsonProperty(&quot;key&quot;)\n    private String key;\n\n    @JsonProperty(&quot;isVisible&quot;)\n    private Boolean isVisible;\n\n    @JsonProperty(&quot;list&quot;)\n    private List list;\n\n    public String getKey() {\n        return key;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public Boolean getVisible() {\n        return isVisible;\n    }\n    \n// Remove boxed type field     \n//    public void setVisible(Boolean visible) {\n//        isVisible = visible;\n//    }\n\n    public List getList() {\n        return list;\n    }\n\n// Remove boxed type field   \n//    public void setList(List list) {\n//        this.list = list;\n//    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27009456,"reputation":1,"user_id":20569355,"display_name":"user20569355"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669097984,"creation_date":1669097605,"answer_id":74528207,"question_id":68568827,"body_markdown":"this issue occurs due to @RequestBoby as per spring documentation but there is no issue for @RequestParam. if we bind request body to object without @RequestBody, this issue is not occurred. \r\n                                                                                                  \r\n`HttpServletRequest request;`\r\n\r\n`mapper.readValue(request.getInputStream(), Product.class);`\r\n\r\n","title":"Unsafe Object binding Checkmarx","body":"<p>this issue occurs due to @RequestBoby as per spring documentation but there is no issue for @RequestParam. if we bind request body to object without @RequestBody, this issue is not occurred.</p>\n<p><code>HttpServletRequest request;</code></p>\n<p><code>mapper.readValue(request.getInputStream(), Product.class);</code></p>\n"},{"tags":[],"owner":{"account_id":11401571,"reputation":63,"user_id":12255367,"display_name":"BlackViper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671714106,"creation_date":1671434017,"answer_id":74847249,"question_id":68568827,"body_markdown":"The error is also thrown if data is set to an object annotated with `@RequestBody`.\r\n\r\n```java\r\nrequestBodyVariable.setAdditionalValue(valueFromRequestParamOrPathVariable); \r\n// This setter call should not be used\r\n```\r\n\r\nInstead, use a user-defined variable for storing the value from request param, header or path variable in its place:\r\n\r\n```java\r\nservice.callServiceMethod(requestBodyVariable, valueFromRequestParamOrPathVariable);\r\n```","title":"Unsafe Object binding Checkmarx","body":"<p>The error is also thrown if data is set to an object annotated with <code>@RequestBody</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>requestBodyVariable.setAdditionalValue(valueFromRequestParamOrPathVariable); \n// This setter call should not be used\n</code></pre>\n<p>Instead, use a user-defined variable for storing the value from request param, header or path variable in its place:</p>\n<pre class=\"lang-java prettyprint-override\"><code>service.callServiceMethod(requestBodyVariable, valueFromRequestParamOrPathVariable);\n</code></pre>\n"}],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692705740,"creation_date":1627519246,"question_id":68568827,"body_markdown":"I am getting alert in Checkmarx scan saying Unsafe object binding in the saveAll() call.\r\nThe exact words in checkmarx are -\r\n\r\n    The columnConfigSet at src\\main\\java\\com\\ge\\digital\\oa\\moa\\controller\\ConfigController.java in line 45 may unintentionally allow setting the value of saveAll in setColumnsConfig, in the object src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\ConfigService.java at line 170.\r\n\r\nAny idea how to rewrite the code , so that the checkmarx stops complaining.\r\n\r\nMy code:\r\n\r\n    @PutMapping(&quot;/columns&quot;)\r\n    @ResponseStatus(OK)\r\n    public void setColumnsConfig(@RequestBody(required=true) ColumnConfigSetDto columnConfigSet) {\r\n    \tservice.setColumnsConfig(columnConfigSet);\r\n    }\r\n\r\n--------\r\n\r\n    public void setColumnsConfig(ColumnConfigSetDto columnConfigSet) {\r\n    \r\n    \tString userId = columnConfigSet.getUserId();\r\n    \tString viewName = columnConfigSet.getViewName();\r\n    \t\r\n    \tList&lt;ColumnConfig&gt; configs = new ArrayList&lt;&gt;();\r\n    \t\r\n    \tfor (ColumnConfigDto colConfig : columnConfigSet.getColumns()) {\t\t\t\r\n    \t\t\r\n    \t\t// build a db config row only for the visibility property for now\r\n    \t\tColumnConfigId confId = new ColumnConfigId();\r\n    \t\t\r\n    \t\tconfId.setUserId(userId);\r\n    \t\tconfId.setViewName(viewName);\r\n    \t\tconfId.setKey(colConfig.getKey());\r\n    \t\tconfId.setProperty(&quot;visible&quot;);\r\n    \t\t\r\n    \t\tColumnConfig conf = new ColumnConfig();\r\n    \t\tconf.setColumnConfigId(confId);\r\n    \t\tconf.setValue(colConfig.getIsVisible() ? &quot;true&quot; : &quot;false&quot; );\r\n    \t\r\n    \t\tconfigs.add(conf);\r\n    \t}\r\n    \t\r\n    \tif (!configs.isEmpty()) {\r\n    \t\tconfigRepo.saveAll(configs);\r\n    \t}\r\n    \r\n    \r\n    \t\r\n    \t}\r\n\r\n------------\r\nBelow are my DTO Objects which is used in this code :\r\n\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    public class ColumnConfigSetDto {\r\n    \r\n    \t@JsonProperty(&quot;userId&quot;)\r\n    \tprivate String userId;\r\n    \t\r\n    \t@JsonProperty(&quot;viewName&quot;)\r\n    \tprivate String viewName;\r\n    \t\r\n    \t@JsonProperty(&quot;columns&quot;)\r\n    \tprivate List&lt;ColumnConfigDto&gt; columns;\r\n    }\r\n\r\n----------------\r\n Below are my DTO code which is used in this                                                                                   \r\n                                                                                 \r\n                                                                                  \r\n\r\n    @Getter\r\n    @Setter\r\n    public class ColumnConfigDto {\r\n    \r\n    \t@JsonProperty(&quot;key&quot;)\r\n    \tprivate String key;\r\n    \t\r\n    \t@JsonProperty(&quot;label&quot;)\r\n    \tprivate String label;\r\n    \t\r\n    \t@JsonProperty(&quot;isVisible&quot;)\r\n    \tprivate Boolean isVisible;\r\n    \t\r\n    \t@JsonProperty(&quot;position&quot;)\r\n    \tprivate Integer position;\r\n    \t\r\n    \t@JsonProperty(&quot;isSortable&quot;)\r\n    \tprivate Boolean isSortable;\r\n    \t\r\n    \t@JsonProperty(&quot;isHideable&quot;)\r\n    \tprivate Boolean isHideable;\r\n    \t\r\n    }\r\n\r\n\r\n","title":"Unsafe Object binding Checkmarx","body":"<p>I am getting alert in Checkmarx scan saying Unsafe object binding in the saveAll() call.\nThe exact words in checkmarx are -</p>\n<pre><code>The columnConfigSet at src\\main\\java\\com\\ge\\digital\\oa\\moa\\controller\\ConfigController.java in line 45 may unintentionally allow setting the value of saveAll in setColumnsConfig, in the object src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\ConfigService.java at line 170.\n</code></pre>\n<p>Any idea how to rewrite the code , so that the checkmarx stops complaining.</p>\n<p>My code:</p>\n<pre><code>@PutMapping(&quot;/columns&quot;)\n@ResponseStatus(OK)\npublic void setColumnsConfig(@RequestBody(required=true) ColumnConfigSetDto columnConfigSet) {\n    service.setColumnsConfig(columnConfigSet);\n}\n</code></pre>\n<hr />\n<pre><code>public void setColumnsConfig(ColumnConfigSetDto columnConfigSet) {\n\n    String userId = columnConfigSet.getUserId();\n    String viewName = columnConfigSet.getViewName();\n    \n    List&lt;ColumnConfig&gt; configs = new ArrayList&lt;&gt;();\n    \n    for (ColumnConfigDto colConfig : columnConfigSet.getColumns()) {            \n        \n        // build a db config row only for the visibility property for now\n        ColumnConfigId confId = new ColumnConfigId();\n        \n        confId.setUserId(userId);\n        confId.setViewName(viewName);\n        confId.setKey(colConfig.getKey());\n        confId.setProperty(&quot;visible&quot;);\n        \n        ColumnConfig conf = new ColumnConfig();\n        conf.setColumnConfigId(confId);\n        conf.setValue(colConfig.getIsVisible() ? &quot;true&quot; : &quot;false&quot; );\n    \n        configs.add(conf);\n    }\n    \n    if (!configs.isEmpty()) {\n        configRepo.saveAll(configs);\n    }\n\n\n    \n    }\n</code></pre>\n<hr />\n<p>Below are my DTO Objects which is used in this code :</p>\n<pre><code>@Getter\n@Setter\npublic class ColumnConfigSetDto {\n\n    @JsonProperty(&quot;userId&quot;)\n    private String userId;\n    \n    @JsonProperty(&quot;viewName&quot;)\n    private String viewName;\n    \n    @JsonProperty(&quot;columns&quot;)\n    private List&lt;ColumnConfigDto&gt; columns;\n}\n</code></pre>\n<hr />\n<p>Below are my DTO code which is used in this</p>\n<pre><code>@Getter\n@Setter\npublic class ColumnConfigDto {\n\n    @JsonProperty(&quot;key&quot;)\n    private String key;\n    \n    @JsonProperty(&quot;label&quot;)\n    private String label;\n    \n    @JsonProperty(&quot;isVisible&quot;)\n    private Boolean isVisible;\n    \n    @JsonProperty(&quot;position&quot;)\n    private Integer position;\n    \n    @JsonProperty(&quot;isSortable&quot;)\n    private Boolean isSortable;\n    \n    @JsonProperty(&quot;isHideable&quot;)\n    private Boolean isHideable;\n    \n}\n</code></pre>\n"},{"tags":["java","jsp","http-status-code-401","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1309560182,"post_id":6551774,"comment_id":7722702,"body_markdown":"Are you certain the credentials are correct?","body":"Are you certain the credentials are correct?"},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1309560443,"post_id":6551774,"comment_id":7722744,"body_markdown":"@laz, yes they are correct..Anything wrong with the code..??","body":"@laz, yes they are correct..Anything wrong with the code..??"}],"answers":[{"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309546113,"creation_date":1309546113,"answer_id":6552051,"question_id":6551774,"body_markdown":"You are accessing a secure site but I don&#39;t see any SSL handling in your HttpClient code. Can you have a look at [this page][1] and try out in a standalone client after filling in the appropriate gaps?\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/sslguide.html","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<p>You are accessing a secure site but I don't see any SSL handling in your HttpClient code. Can you have a look at <a href=\"http://hc.apache.org/httpclient-3.x/sslguide.html\" rel=\"nofollow\">this page</a> and try out in a standalone client after filling in the appropriate gaps?</p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53263,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309556162,"creation_date":1309556162,"answer_id":6553452,"question_id":6551774,"body_markdown":"First of all from the code you posted it does not seem that you are configuring http client to use HTTPS.  \r\nYou are missing code like the following (at least for `org.apache.http.client.HttpClient`):  \r\n\r\n    SSLSocketFactory sf = new SSLSocketFactory(sslcontext); \r\n    Scheme https = new Scheme(&quot;https&quot;, sf, 443);\r\n    httpclient.getConnectionManager().getSchemeRegistry().register(https);  \r\n\r\nYou have to check out a tutorial for `DefaultHttpClient`  \r\nIn any case to see what&#39;s going on, you can use a sniffing tool like wireshark.  \r\nThe SSL handshake is viewable and you will be able to see the connection failure and understand why.\r\n","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<p>First of all from the code you posted it does not seem that you are configuring http client to use HTTPS.<br>\nYou are missing code like the following (at least for <code>org.apache.http.client.HttpClient</code>):  </p>\n\n<pre><code>SSLSocketFactory sf = new SSLSocketFactory(sslcontext); \nScheme https = new Scheme(\"https\", sf, 443);\nhttpclient.getConnectionManager().getSchemeRegistry().register(https);  \n</code></pre>\n\n<p>You have to check out a tutorial for <code>DefaultHttpClient</code><br>\nIn any case to see what's going on, you can use a sniffing tool like wireshark.<br>\nThe SSL handshake is viewable and you will be able to see the connection failure and understand why.</p>\n"},{"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309563787,"creation_date":1309563787,"answer_id":6554188,"question_id":6551774,"body_markdown":"Unless you know for sure that `&quot;realm&quot;` is the proper value in that `AuthScope` constructor, I&#39;d recommend removing it or determine what the actual value should be.","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<p>Unless you know for sure that <code>\"realm\"</code> is the proper value in that <code>AuthScope</code> constructor, I'd recommend removing it or determine what the actual value should be.</p>\n"},{"tags":[],"owner":{"account_id":938768,"reputation":3476,"user_id":967232,"accept_rate":56,"display_name":"bytebiscuit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332552813,"creation_date":1332552813,"answer_id":9848390,"question_id":6551774,"body_markdown":"change the following line: `new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, &quot;realm&quot;)`\r\n\r\nto the following line:\r\n\r\n    new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM)","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<p>change the following line: <code>new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, \"realm\")</code></p>\n\n<p>to the following line:</p>\n\n<pre><code>new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM)\n</code></pre>\n"}],"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12855,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1692705740,"creation_date":1309544553,"question_id":6551774,"body_markdown":"    Updated Code:- Using SSL, still am getting the same error..\r\n\r\nI am trying to open this uri\r\n\r\n    https://some-host/a/getmeta?id=10  (this url is passed to proxi.jsp page)\r\n\r\n\r\nAnd this is my proxi.jsp page, And I am getting this error HTTP/1.1 401 Authorization Required and when I am passing my credentials too. Why is it happening so.. And that site use siteminder.\r\n\r\n        &lt;%@ page language=&quot;java&quot; import=&quot;\r\n    org.apache.http.HttpEntity,\r\n    org.apache.http.HttpResponse,\r\n    org.apache.http.auth.AuthScope,\r\n    org.apache.http.auth.UsernamePasswordCredentials,\r\n    org.apache.http.client.methods.HttpPost,\r\n    org.apache.http.client.methods.HttpGet,\r\n    org.apache.http.impl.client.DefaultHttpClient,\r\n    org.apache.http.util.EntityUtils,\r\n    java.io.InputStream,\r\n    java.io.InputStreamReader,\r\n    java.io.BufferedReader,\r\n    java.security.KeyStore,\r\n    java.io.FileInputStream,\r\n    java.io.File,\r\n    org.apache.http.conn.ssl.SSLSocketFactory,\r\n    org.apache.http.conn.scheme.Scheme,\r\n    javax.net.ssl.HostnameVerifier,\r\n    org.apache.http.impl.conn.SingleClientConnManager,\r\n    javax.net.ssl.HttpsURLConnection,\r\n    org.apache.http.conn.scheme.SchemeRegistry,\r\n    javax.net.ssl.SSLContext,\r\n    java.security.cert.X509Certificate,\r\n    javax.net.ssl.X509TrustManager,\r\n    javax.net.ssl.TrustManager,\r\n    org.apache.http.conn.ClientConnectionManager,\r\n    java.security.cert.CertificateException,\r\n    org.apache.http.conn.scheme.Scheme&quot;\r\n    contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    \r\n        &lt;%\r\n        String a_Url = request.getParameter( &quot;url&quot; ) ;\r\n        \r\n        DefaultHttpClient httpclient = new DefaultHttpClient();\r\n        try {\r\n            httpclient.getCredentialsProvider().setCredentials(\r\n                    new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, &quot;realm&quot;),\r\n                    new UsernamePasswordCredentials(&quot;test&quot;, &quot;pass&quot;));\r\n        \r\n            \r\n            KeyStore trustStore  = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            //FileInputStream instream = new FileInputStream(new File(&quot;my.keystore&quot;));\r\n        \tInputStream instream = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;my.keystore&quot;);\r\n            try {\r\n                trustStore.load(instream, &quot;nopassword&quot;.toCharArray());\r\n            } finally {\r\n                try { instream.close(); } catch (Exception ignore) {}\r\n            }\r\n        /* \r\n            SSLSocketFactory socketFactory = new SSLSocketFactory(trustStore);\r\n            Scheme sch = new Scheme(&quot;https&quot;, 443, socketFactory);\r\n            httpclient.getConnectionManager().getSchemeRegistry().register(sch);\r\n            */\r\n            \r\n            \r\n           \r\n            SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n            X509TrustManager tm = new X509TrustManager() {\r\n             \r\n            public void checkClientTrusted(X509Certificate[] xcs, String string) throws CertificateException {\r\n            }\r\n             \r\n            public void checkServerTrusted(X509Certificate[] xcs, String string) throws CertificateException {\r\n            }\r\n             \r\n            public X509Certificate[] getAcceptedIssuers() {\r\n            return null;\r\n            }\r\n            };\r\n            ctx.init(null, new TrustManager[]{tm}, null);\r\n            SSLSocketFactory ssf = new SSLSocketFactory(ctx);\r\n            ssf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n            ClientConnectionManager ccm = httpclient.getConnectionManager();\r\n            SchemeRegistry sr = ccm.getSchemeRegistry();\r\n            sr.register(new Scheme(&quot;https&quot;, ssf, 443));\r\n            \r\n                \r\n                \r\n            \r\n            HttpGet httpget = new HttpGet(a_Url);\r\n        \t\r\n            \r\n            \r\n            System.out.println(&quot;executing request&quot; + httpget.getRequestLine());\r\n            HttpResponse res = httpclient.execute(httpget);\r\n            \r\n            HttpEntity entity = res.getEntity();\r\n        \r\n            System.out.println(&quot;----------------------------------------&quot;);\r\n            System.out.println(res.getStatusLine());\r\n            if (entity != null) {\r\n            \t\r\n                System.out.println(&quot;Response content length: &quot; + entity.getContentLength());\r\n                InputStream input = entity.getContent();\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n                String ln = &quot;&quot;;\r\n                while((ln = reader.readLine()) != null) {\r\n                    out.println(&quot;During Get - &quot; + ln);\r\n                }\r\n                entity.consumeContent();\r\n            }\r\n            EntityUtils.consume(entity);\r\n        }\r\n        \r\n        catch (Throwable t) {\r\n        \tStackTraceElement[] x = t.getStackTrace();\r\n        \tfor(int k=0;k&lt;x.length;k++) {\r\n        \t\tout.println(x[k].toString());\r\n        \t}\r\n        \t//out.println();\r\n        \tt.printStackTrace();\r\n        }\r\n        \r\n        \r\n        finally {\r\n            // When HttpClient instance is no longer needed,\r\n            // shut down the connection manager to ensure\r\n            // immediate deallocation of all system resources\r\n            httpclient.getConnectionManager().shutdown();\r\n        }\r\n        \r\n        \r\n        %&gt;\r\n\r\n\r\n\r\n","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<pre><code>Updated Code:- Using SSL, still am getting the same error..\n</code></pre>\n\n<p>I am trying to open this uri</p>\n\n<pre><code>https://some-host/a/getmeta?id=10  (this url is passed to proxi.jsp page)\n</code></pre>\n\n<p>And this is my proxi.jsp page, And I am getting this error HTTP/1.1 401 Authorization Required and when I am passing my credentials too. Why is it happening so.. And that site use siteminder.</p>\n\n<pre><code>    &lt;%@ page language=\"java\" import=\"\norg.apache.http.HttpEntity,\norg.apache.http.HttpResponse,\norg.apache.http.auth.AuthScope,\norg.apache.http.auth.UsernamePasswordCredentials,\norg.apache.http.client.methods.HttpPost,\norg.apache.http.client.methods.HttpGet,\norg.apache.http.impl.client.DefaultHttpClient,\norg.apache.http.util.EntityUtils,\njava.io.InputStream,\njava.io.InputStreamReader,\njava.io.BufferedReader,\njava.security.KeyStore,\njava.io.FileInputStream,\njava.io.File,\norg.apache.http.conn.ssl.SSLSocketFactory,\norg.apache.http.conn.scheme.Scheme,\njavax.net.ssl.HostnameVerifier,\norg.apache.http.impl.conn.SingleClientConnManager,\njavax.net.ssl.HttpsURLConnection,\norg.apache.http.conn.scheme.SchemeRegistry,\njavax.net.ssl.SSLContext,\njava.security.cert.X509Certificate,\njavax.net.ssl.X509TrustManager,\njavax.net.ssl.TrustManager,\norg.apache.http.conn.ClientConnectionManager,\njava.security.cert.CertificateException,\norg.apache.http.conn.scheme.Scheme\"\ncontentType=\"text/html; charset=ISO-8859-1\"\npageEncoding=\"ISO-8859-1\"%&gt;\n\n    &lt;%\n    String a_Url = request.getParameter( \"url\" ) ;\n\n    DefaultHttpClient httpclient = new DefaultHttpClient();\n    try {\n        httpclient.getCredentialsProvider().setCredentials(\n                new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, \"realm\"),\n                new UsernamePasswordCredentials(\"test\", \"pass\"));\n\n\n        KeyStore trustStore  = KeyStore.getInstance(KeyStore.getDefaultType());\n        //FileInputStream instream = new FileInputStream(new File(\"my.keystore\"));\n        InputStream instream = Thread.currentThread().getContextClassLoader().getResourceAsStream(\"my.keystore\");\n        try {\n            trustStore.load(instream, \"nopassword\".toCharArray());\n        } finally {\n            try { instream.close(); } catch (Exception ignore) {}\n        }\n    /* \n        SSLSocketFactory socketFactory = new SSLSocketFactory(trustStore);\n        Scheme sch = new Scheme(\"https\", 443, socketFactory);\n        httpclient.getConnectionManager().getSchemeRegistry().register(sch);\n        */\n\n\n\n        SSLContext ctx = SSLContext.getInstance(\"TLS\");\n        X509TrustManager tm = new X509TrustManager() {\n\n        public void checkClientTrusted(X509Certificate[] xcs, String string) throws CertificateException {\n        }\n\n        public void checkServerTrusted(X509Certificate[] xcs, String string) throws CertificateException {\n        }\n\n        public X509Certificate[] getAcceptedIssuers() {\n        return null;\n        }\n        };\n        ctx.init(null, new TrustManager[]{tm}, null);\n        SSLSocketFactory ssf = new SSLSocketFactory(ctx);\n        ssf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n        ClientConnectionManager ccm = httpclient.getConnectionManager();\n        SchemeRegistry sr = ccm.getSchemeRegistry();\n        sr.register(new Scheme(\"https\", ssf, 443));\n\n\n\n\n        HttpGet httpget = new HttpGet(a_Url);\n\n\n\n        System.out.println(\"executing request\" + httpget.getRequestLine());\n        HttpResponse res = httpclient.execute(httpget);\n\n        HttpEntity entity = res.getEntity();\n\n        System.out.println(\"----------------------------------------\");\n        System.out.println(res.getStatusLine());\n        if (entity != null) {\n\n            System.out.println(\"Response content length: \" + entity.getContentLength());\n            InputStream input = entity.getContent();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n            String ln = \"\";\n            while((ln = reader.readLine()) != null) {\n                out.println(\"During Get - \" + ln);\n            }\n            entity.consumeContent();\n        }\n        EntityUtils.consume(entity);\n    }\n\n    catch (Throwable t) {\n        StackTraceElement[] x = t.getStackTrace();\n        for(int k=0;k&lt;x.length;k++) {\n            out.println(x[k].toString());\n        }\n        //out.println();\n        t.printStackTrace();\n    }\n\n\n    finally {\n        // When HttpClient instance is no longer needed,\n        // shut down the connection manager to ensure\n        // immediate deallocation of all system resources\n        httpclient.getConnectionManager().shutdown();\n    }\n\n\n    %&gt;\n</code></pre>\n"},{"tags":["java","tomcat","java-11","tomcat10"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692628450,"post_id":76946131,"comment_id":135645825,"body_markdown":"*my gui is not responding and according to the catalina log:* in a web app that you&#39;ve deployed or are you talking about Tomcat with *nothing* deployed?","body":"<i>my gui is not responding and according to the catalina log:</i> in a web app that you&#39;ve deployed or are you talking about Tomcat with <i>nothing</i> deployed?"},{"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"score":0,"creation_date":1692628693,"post_id":76946131,"comment_id":135645884,"body_markdown":"in a web app that we deployed","body":"in a web app that we deployed"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692629765,"post_id":76946131,"comment_id":135646151,"body_markdown":"I&#39;m just making an educated guess that it contains an ancient (15 years?) version of the jasper compiler. I think it should be tomcat-jasper these days, not jasper-compiler-jdt, which you might have","body":"I&#39;m just making an educated guess that it contains an ancient (15 years?) version of the jasper compiler. I think it should be tomcat-jasper these days, not jasper-compiler-jdt, which you might have"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1692652591,"post_id":76946131,"comment_id":135650493,"body_markdown":"Can you describe the project better?  As @g00se says, it *appears* that you&#39;ve got one or more prehistoric Java runtimes on your system.","body":"Can you describe the project better?  As @g00se says, it <i>appears</i> that you&#39;ve got one or more prehistoric Java runtimes on your system."}],"answers":[{"tags":[],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692705581,"creation_date":1692705581,"answer_id":76953089,"question_id":76946131,"body_markdown":"The solution was :\r\nedit the web.xml\r\n\r\nand add to the jsp servlet:\r\n\r\n    &lt;init-param&gt;\r\n            &lt;param-name&gt;compilerSourceVM&lt;/param-name&gt;\r\n            &lt;param-value&gt;1.8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;compilerTargetVM&lt;/param-name&gt;\r\n            &lt;param-value&gt;1.8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n\r\n","title":"Apache Tomcat is not responding - Unsupported target VM","body":"<p>The solution was :\nedit the web.xml</p>\n<p>and add to the jsp servlet:</p>\n<pre><code>&lt;init-param&gt;\n        &lt;param-name&gt;compilerSourceVM&lt;/param-name&gt;\n        &lt;param-value&gt;1.8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;compilerTargetVM&lt;/param-name&gt;\n        &lt;param-value&gt;1.8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n</code></pre>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692705581,"creation_date":1692627248,"question_id":76946131,"body_markdown":"I have java 11 project and using Apache Tomcat 10.\r\n\r\n    openjdk version &quot;11.0.19&quot; 2023-04-18 LTS\r\n    OpenJDK Runtime Environment Corretto-11.0.19.7.1 (build 11.0.19+7-LTS)\r\n    OpenJDK 64-Bit Server VM Corretto-11.0.19.7.1 (build 11.0.19+7-LTS, mixed mode)\r\n\r\n    Server version: Apache Tomcat/10.1.10\r\n    Server built:   Jun 2 2023 18:11:59 UTC\r\n    Server number:  10.1.10.0\r\n    OS Name:        Linux\r\n    OS Version:     5.4.17-2136.312.3.4.el8uek.x86_64\r\n    Architecture:   amd64\r\n    JVM Version:    11.0.19+7-LTS\r\n    JVM Vendor:     Amazon.com Inc.\r\n\r\n\r\nmy gui is not responding and according to the catalina log:\r\n\r\n    Aug 21, 2023 5:07:20 PM org.apache.jasper.compiler.JDTCompiler generateClass\r\n    WARNING: Unsupported source VM [11] requested, using [1.3]\r\n    Aug 21, 2023 5:07:20 PM org.apache.jasper.compiler.JDTCompiler generateClass\r\n    WARNING: Unsupported target VM [11] requested, using [1.2]\r\n\r\n\r\nany suggestions?\r\n\r\n","title":"Apache Tomcat is not responding - Unsupported target VM","body":"<p>I have java 11 project and using Apache Tomcat 10.</p>\n<pre><code>openjdk version &quot;11.0.19&quot; 2023-04-18 LTS\nOpenJDK Runtime Environment Corretto-11.0.19.7.1 (build 11.0.19+7-LTS)\nOpenJDK 64-Bit Server VM Corretto-11.0.19.7.1 (build 11.0.19+7-LTS, mixed mode)\n\nServer version: Apache Tomcat/10.1.10\nServer built:   Jun 2 2023 18:11:59 UTC\nServer number:  10.1.10.0\nOS Name:        Linux\nOS Version:     5.4.17-2136.312.3.4.el8uek.x86_64\nArchitecture:   amd64\nJVM Version:    11.0.19+7-LTS\nJVM Vendor:     Amazon.com Inc.\n</code></pre>\n<p>my gui is not responding and according to the catalina log:</p>\n<pre><code>Aug 21, 2023 5:07:20 PM org.apache.jasper.compiler.JDTCompiler generateClass\nWARNING: Unsupported source VM [11] requested, using [1.3]\nAug 21, 2023 5:07:20 PM org.apache.jasper.compiler.JDTCompiler generateClass\nWARNING: Unsupported target VM [11] requested, using [1.2]\n</code></pre>\n<p>any suggestions?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9760,"page":232,"page_size":100}
