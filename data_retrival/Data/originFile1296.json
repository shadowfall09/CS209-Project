{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":24498195,"reputation":1,"user_id":18414163,"display_name":"Aliff Mahyuddin"},"score":0,"creation_date":1654146573,"post_id":72470763,"comment_id":128022801,"body_markdown":"already edited my post, you can review my code at the post.","body":"already edited my post, you can review my code at the post."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1654147451,"post_id":72470763,"comment_id":128022974,"body_markdown":"&quot;How do I call both player 1 and player 5 at the same time in the output?&quot; I can&#39;t understand what this is supposed to mean. Variables are not &quot;called&quot;, and neither are array elements. Only methods are called in Java. I also don&#39;t know what you mean by &quot;at the same time&quot;. It seems like the problem is that the wrong player number is reported in the results. To understand why, please start by trying to [debug](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) the code and create a [mre].","body":"&quot;How do I call both player 1 and player 5 at the same time in the output?&quot; I can&#39;t understand what this is supposed to mean. Variables are not &quot;called&quot;, and neither are array elements. Only methods are called in Java. I also don&#39;t know what you mean by &quot;at the same time&quot;. It seems like the problem is that the wrong player number is reported in the results. To understand why, please start by trying to <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debug</a> the code and create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":24498195,"reputation":1,"user_id":18414163,"display_name":"Aliff Mahyuddin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654147189,"creation_date":1654144947,"question_id":72470763,"body_markdown":"    for(int i=0; i&lt;5; i++){\r\n        if (winnerPlayer &lt;= sumPlayer[i]){\r\n            runnerupPlayer = winnerPlayer;\r\n            winnerPlayer = sumPlayer[i];\r\n        } else if (runnerupPlayer &lt;= sumPlayer[i]){\r\n            runnerupPlayer = sumPlayer[i];\r\n        }\r\n    }\r\n\r\n    for(int i=0; i&lt;5; i++){\r\n        if (winnerPlayer == sumPlayer[i]){\r\n            winnerPlayerNumber = i+1;\r\n        }\r\n        if (runnerupPlayer &lt;= winnerPlayer){\r\n            runnerupPlayerNumber = i+1;\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;\\nWinner: Player &quot; + winnerPlayerNumber + &quot; by winning &quot; + winnerPlayer + &quot; win sets.&quot;);\r\n    System.out.println(&quot;Runner-up: Player &quot; + runnerupPlayerNumber + &quot; by winning &quot; + runnerupPlayer + &quot; win sets.&quot;);\r\n\r\nFor example if player 1 and player 5 have 4 points, the output reads:\r\n```none\r\nWinner: Player 5 by winning 4 win sets.\r\nRunner-up: Player 5 by winning 4 win sets.\r\n```\r\nI want it to be like this:\r\n```none\r\nWinner: Player 1 by winning 4 win sets.\r\nRunner-up: Player 5 by winning 4 win sets.\r\n```\r\nHow do I call both player 1 and player 5 at the same time in the output?\r\n\r\nHere&#39;s my full code:\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class pingPongTour {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        int[][] player = new int[5][5];\r\n        int[][] playerPoints = new int[5][5];\r\n\r\n        System.out.println(&quot;Welcome to PingPong Tournament Point System!&quot;);\r\n        System.out.println(&quot;\\nPlayer 1 vs Player 2&quot;);\r\n        System.out.print(&quot;Player 1 score:&quot;);\r\n        player[0][1] = in.nextInt();\r\n        System.out.print(&quot;Player 2 score:&quot;);\r\n        player[1][0] = in.nextInt();\r\n        if (player[0][1] &gt; 0) {\r\n            playerPoints[0][1] = 2;\r\n        }\r\n        else {\r\n            playerPoints[1][0] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Player 3 vs Player 4&quot;);\r\n        System.out.print(&quot;Player 3 score:&quot;);\r\n        player[2][3] = in.nextInt();\r\n        System.out.print(&quot;Player 4 score:&quot;);\r\n        player[3][2] = in.nextInt();\r\n        if (player[2][3] &gt; 0) {\r\n            playerPoints[2][3] = 2;\r\n        }\r\n        else {\r\n            playerPoints[3][2] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Player 5 vs Player 1&quot;);\r\n        System.out.print(&quot;Player 5 score:&quot;);\r\n        player[4][0] = in.nextInt();\r\n        System.out.print(&quot;Player 1 score:&quot;);\r\n        player[0][4] = in.nextInt();\r\n        if (player[4][0] &gt; 0) {\r\n            playerPoints[4][0] = 2;\r\n        }\r\n        else {\r\n            playerPoints[0][4] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Player 2 vs Player 3&quot;);\r\n        System.out.print(&quot;Player 2 score:&quot;);\r\n        player[1][2] = in.nextInt();\r\n        System.out.print(&quot;Player 3 score:&quot;);\r\n        player[2][1] = in.nextInt();\r\n        if (player[1][2] &gt; 0) {\r\n            playerPoints[1][2] = 2;\r\n        }\r\n        else {\r\n            playerPoints[2][1] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Player 4 vs Player 5&quot;);\r\n        System.out.print(&quot;Player 4 score:&quot;);\r\n        player[3][4] = in.nextInt();\r\n        System.out.print(&quot;Player 5 score:&quot;);\r\n        player[4][3] = in.nextInt();\r\n        if (player[3][4] &gt; 0) {\r\n            playerPoints[3][4] = 2;\r\n        }\r\n        else {\r\n            playerPoints[4][3] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Player 1 vs Player 3&quot;);\r\n        System.out.print(&quot;Player 1 score:&quot;);\r\n        player[0][2] = in.nextInt();\r\n        System.out.print(&quot;Player 3 score:&quot;);\r\n        player[2][0] = in.nextInt();\r\n        if (player[0][2] &gt; 0) {\r\n            playerPoints[0][2] = 2;\r\n        }\r\n        else {\r\n            playerPoints[2][0] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Player 2 vs Player 4&quot;);\r\n        System.out.print(&quot;Player 2 score:&quot;);\r\n        player[1][3] = in.nextInt();\r\n        System.out.print(&quot;Player 4 score:&quot;);\r\n        player[3][1] = in.nextInt();\r\n        if (player[1][3] &gt; 0) {\r\n            playerPoints[1][3] = 2;\r\n        }\r\n        else {\r\n            playerPoints[3][1] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Player 5 vs Player 3&quot;);\r\n        System.out.print(&quot;Player 5 score:&quot;);\r\n        player[4][2] = in.nextInt();\r\n        System.out.print(&quot;Player 3 score:&quot;);\r\n        player[2][4] = in.nextInt();\r\n        if (player[4][2] &gt; 0) {\r\n            playerPoints[4][2] = 2;\r\n        }\r\n        else {\r\n            playerPoints[2][4] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Player 1 vs Player 4&quot;);\r\n        System.out.print(&quot;Player 1 score:&quot;);\r\n        player[0][3] = in.nextInt();\r\n        System.out.print(&quot;Player 4 score:&quot;);\r\n        player[3][0] = in.nextInt();\r\n        if (player[0][3] &gt; 0) {\r\n            playerPoints[0][3] = 2;\r\n        }\r\n        else {\r\n            playerPoints[3][0] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Player 2 vs Player 5&quot;);\r\n        System.out.print(&quot;Player 2 score:&quot;);\r\n        player[1][4] = in.nextInt();\r\n        System.out.print(&quot;Player 5 score:&quot;);\r\n        player[4][1] = in.nextInt();\r\n        if (player[1][4] &gt; 0) {\r\n            playerPoints[1][4] = 2;\r\n        }\r\n        else {\r\n            playerPoints[4][1] = 2;\r\n        }\r\n        System.out.println();\r\n\r\n        int[] sumPlayer = new int[5];\r\n        int[] sumPlayerPoints = new int[5];\r\n        int winnerPlayer = 0;\r\n        int runnerupPlayer = 0;\r\n        int winnerPlayerNumber = 0;\r\n        int runnerupPlayerNumber = 0;\r\n\r\n        sumPlayer[0] = (player[0][1] + player[0][2] + player[0][3] + player[0][4]);\r\n        sumPlayer[1] = (player[1][0] + player[1][2] + player[1][3] + player[1][4]);\r\n        sumPlayer[2] = (player[2][0] + player[2][1] + player[2][3] + player[2][4]);\r\n        sumPlayer[3] = (player[3][0] + player[3][1] + player[3][2] + player[3][4]);\r\n        sumPlayer[4] = (player[4][0] + player[4][1] + player[4][2] + player[4][3]);\r\n\r\n        sumPlayerPoints[0] = (playerPoints[0][1] + playerPoints[0][2] + playerPoints[0][3] + playerPoints[0][4]);\r\n        sumPlayerPoints[1] = (playerPoints[1][0] + playerPoints[1][2] + playerPoints[1][3] + playerPoints[1][4]);\r\n        sumPlayerPoints[2] = (playerPoints[2][0] + playerPoints[2][1] + playerPoints[2][3] + playerPoints[2][4]);\r\n        sumPlayerPoints[3] = (playerPoints[3][0] + playerPoints[3][1] + playerPoints[3][2] + playerPoints[3][4]);\r\n        sumPlayerPoints[4] = (playerPoints[4][0] + playerPoints[4][1] + playerPoints[4][2] + playerPoints[4][3]);\r\n\r\n        System.out.println(&quot;Set points:-&quot;);\r\n        System.out.println(&quot;Player 1: &quot; + sumPlayer[0]);\r\n        System.out.println(&quot;Player 2: &quot; + sumPlayer[1]);\r\n        System.out.println(&quot;Player 3: &quot; + sumPlayer[2]);\r\n        System.out.println(&quot;Player 4: &quot; + sumPlayer[3]);\r\n        System.out.println(&quot;Player 5: &quot; + sumPlayer[4]);\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Win points:-&quot;);\r\n        System.out.println(&quot;Player 1: &quot; + sumPlayerPoints[0]);\r\n        System.out.println(&quot;Player 2: &quot; + sumPlayerPoints[1]);\r\n        System.out.println(&quot;Player 3: &quot; + sumPlayerPoints[2]);\r\n        System.out.println(&quot;Player 4: &quot; + sumPlayerPoints[3]);\r\n        System.out.println(&quot;Player 5: &quot; + sumPlayerPoints[4]);\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            if (winnerPlayer &lt;= sumPlayer[i]) {\r\n                runnerupPlayer = winnerPlayer;\r\n                winnerPlayer = sumPlayer[i];\r\n            }\r\n            else if (runnerupPlayer &lt;= sumPlayer[i]) {\r\n                runnerupPlayer = sumPlayer[i];\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            if (winnerPlayer == sumPlayer[i]) {\r\n                winnerPlayerNumber = i + 1;\r\n            }\r\n            if (runnerupPlayer &lt;= winnerPlayer) {\r\n                runnerupPlayerNumber = i + 1;\r\n            }\r\n        }\r\n        System.out.println(&quot;\\nWinner: Player &quot; + winnerPlayerNumber + &quot; by winning &quot; + winnerPlayer + &quot; win sets.&quot;);\r\n        System.out.println(&quot;Runner-up: Player &quot; + runnerupPlayerNumber + &quot; by winning &quot; + runnerupPlayer + &quot; win sets.&quot;);\r\n    }\r\n}\r\n```","title":"How do i call both variables even though both of them have a same number values","body":"<pre><code>for(int i=0; i&lt;5; i++){\n    if (winnerPlayer &lt;= sumPlayer[i]){\n        runnerupPlayer = winnerPlayer;\n        winnerPlayer = sumPlayer[i];\n    } else if (runnerupPlayer &lt;= sumPlayer[i]){\n        runnerupPlayer = sumPlayer[i];\n    }\n}\n\nfor(int i=0; i&lt;5; i++){\n    if (winnerPlayer == sumPlayer[i]){\n        winnerPlayerNumber = i+1;\n    }\n    if (runnerupPlayer &lt;= winnerPlayer){\n        runnerupPlayerNumber = i+1;\n    }\n}\n\nSystem.out.println(&quot;\\nWinner: Player &quot; + winnerPlayerNumber + &quot; by winning &quot; + winnerPlayer + &quot; win sets.&quot;);\nSystem.out.println(&quot;Runner-up: Player &quot; + runnerupPlayerNumber + &quot; by winning &quot; + runnerupPlayer + &quot; win sets.&quot;);\n</code></pre>\n<p>For example if player 1 and player 5 have 4 points, the output reads:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Winner: Player 5 by winning 4 win sets.\nRunner-up: Player 5 by winning 4 win sets.\n</code></pre>\n<p>I want it to be like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Winner: Player 1 by winning 4 win sets.\nRunner-up: Player 5 by winning 4 win sets.\n</code></pre>\n<p>How do I call both player 1 and player 5 at the same time in the output?</p>\n<p>Here's my full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class pingPongTour {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n\n        int[][] player = new int[5][5];\n        int[][] playerPoints = new int[5][5];\n\n        System.out.println(&quot;Welcome to PingPong Tournament Point System!&quot;);\n        System.out.println(&quot;\\nPlayer 1 vs Player 2&quot;);\n        System.out.print(&quot;Player 1 score:&quot;);\n        player[0][1] = in.nextInt();\n        System.out.print(&quot;Player 2 score:&quot;);\n        player[1][0] = in.nextInt();\n        if (player[0][1] &gt; 0) {\n            playerPoints[0][1] = 2;\n        }\n        else {\n            playerPoints[1][0] = 2;\n        }\n        System.out.println();\n\n        System.out.println(&quot;Player 3 vs Player 4&quot;);\n        System.out.print(&quot;Player 3 score:&quot;);\n        player[2][3] = in.nextInt();\n        System.out.print(&quot;Player 4 score:&quot;);\n        player[3][2] = in.nextInt();\n        if (player[2][3] &gt; 0) {\n            playerPoints[2][3] = 2;\n        }\n        else {\n            playerPoints[3][2] = 2;\n        }\n        System.out.println();\n\n        System.out.println(&quot;Player 5 vs Player 1&quot;);\n        System.out.print(&quot;Player 5 score:&quot;);\n        player[4][0] = in.nextInt();\n        System.out.print(&quot;Player 1 score:&quot;);\n        player[0][4] = in.nextInt();\n        if (player[4][0] &gt; 0) {\n            playerPoints[4][0] = 2;\n        }\n        else {\n            playerPoints[0][4] = 2;\n        }\n        System.out.println();\n\n        System.out.println(&quot;Player 2 vs Player 3&quot;);\n        System.out.print(&quot;Player 2 score:&quot;);\n        player[1][2] = in.nextInt();\n        System.out.print(&quot;Player 3 score:&quot;);\n        player[2][1] = in.nextInt();\n        if (player[1][2] &gt; 0) {\n            playerPoints[1][2] = 2;\n        }\n        else {\n            playerPoints[2][1] = 2;\n        }\n        System.out.println();\n\n        System.out.println(&quot;Player 4 vs Player 5&quot;);\n        System.out.print(&quot;Player 4 score:&quot;);\n        player[3][4] = in.nextInt();\n        System.out.print(&quot;Player 5 score:&quot;);\n        player[4][3] = in.nextInt();\n        if (player[3][4] &gt; 0) {\n            playerPoints[3][4] = 2;\n        }\n        else {\n            playerPoints[4][3] = 2;\n        }\n        System.out.println();\n\n        System.out.println(&quot;Player 1 vs Player 3&quot;);\n        System.out.print(&quot;Player 1 score:&quot;);\n        player[0][2] = in.nextInt();\n        System.out.print(&quot;Player 3 score:&quot;);\n        player[2][0] = in.nextInt();\n        if (player[0][2] &gt; 0) {\n            playerPoints[0][2] = 2;\n        }\n        else {\n            playerPoints[2][0] = 2;\n        }\n        System.out.println();\n\n        System.out.println(&quot;Player 2 vs Player 4&quot;);\n        System.out.print(&quot;Player 2 score:&quot;);\n        player[1][3] = in.nextInt();\n        System.out.print(&quot;Player 4 score:&quot;);\n        player[3][1] = in.nextInt();\n        if (player[1][3] &gt; 0) {\n            playerPoints[1][3] = 2;\n        }\n        else {\n            playerPoints[3][1] = 2;\n        }\n        System.out.println();\n\n        System.out.println(&quot;Player 5 vs Player 3&quot;);\n        System.out.print(&quot;Player 5 score:&quot;);\n        player[4][2] = in.nextInt();\n        System.out.print(&quot;Player 3 score:&quot;);\n        player[2][4] = in.nextInt();\n        if (player[4][2] &gt; 0) {\n            playerPoints[4][2] = 2;\n        }\n        else {\n            playerPoints[2][4] = 2;\n        }\n        System.out.println();\n\n        System.out.println(&quot;Player 1 vs Player 4&quot;);\n        System.out.print(&quot;Player 1 score:&quot;);\n        player[0][3] = in.nextInt();\n        System.out.print(&quot;Player 4 score:&quot;);\n        player[3][0] = in.nextInt();\n        if (player[0][3] &gt; 0) {\n            playerPoints[0][3] = 2;\n        }\n        else {\n            playerPoints[3][0] = 2;\n        }\n        System.out.println();\n\n        System.out.println(&quot;Player 2 vs Player 5&quot;);\n        System.out.print(&quot;Player 2 score:&quot;);\n        player[1][4] = in.nextInt();\n        System.out.print(&quot;Player 5 score:&quot;);\n        player[4][1] = in.nextInt();\n        if (player[1][4] &gt; 0) {\n            playerPoints[1][4] = 2;\n        }\n        else {\n            playerPoints[4][1] = 2;\n        }\n        System.out.println();\n\n        int[] sumPlayer = new int[5];\n        int[] sumPlayerPoints = new int[5];\n        int winnerPlayer = 0;\n        int runnerupPlayer = 0;\n        int winnerPlayerNumber = 0;\n        int runnerupPlayerNumber = 0;\n\n        sumPlayer[0] = (player[0][1] + player[0][2] + player[0][3] + player[0][4]);\n        sumPlayer[1] = (player[1][0] + player[1][2] + player[1][3] + player[1][4]);\n        sumPlayer[2] = (player[2][0] + player[2][1] + player[2][3] + player[2][4]);\n        sumPlayer[3] = (player[3][0] + player[3][1] + player[3][2] + player[3][4]);\n        sumPlayer[4] = (player[4][0] + player[4][1] + player[4][2] + player[4][3]);\n\n        sumPlayerPoints[0] = (playerPoints[0][1] + playerPoints[0][2] + playerPoints[0][3] + playerPoints[0][4]);\n        sumPlayerPoints[1] = (playerPoints[1][0] + playerPoints[1][2] + playerPoints[1][3] + playerPoints[1][4]);\n        sumPlayerPoints[2] = (playerPoints[2][0] + playerPoints[2][1] + playerPoints[2][3] + playerPoints[2][4]);\n        sumPlayerPoints[3] = (playerPoints[3][0] + playerPoints[3][1] + playerPoints[3][2] + playerPoints[3][4]);\n        sumPlayerPoints[4] = (playerPoints[4][0] + playerPoints[4][1] + playerPoints[4][2] + playerPoints[4][3]);\n\n        System.out.println(&quot;Set points:-&quot;);\n        System.out.println(&quot;Player 1: &quot; + sumPlayer[0]);\n        System.out.println(&quot;Player 2: &quot; + sumPlayer[1]);\n        System.out.println(&quot;Player 3: &quot; + sumPlayer[2]);\n        System.out.println(&quot;Player 4: &quot; + sumPlayer[3]);\n        System.out.println(&quot;Player 5: &quot; + sumPlayer[4]);\n        System.out.println();\n\n        System.out.println(&quot;Win points:-&quot;);\n        System.out.println(&quot;Player 1: &quot; + sumPlayerPoints[0]);\n        System.out.println(&quot;Player 2: &quot; + sumPlayerPoints[1]);\n        System.out.println(&quot;Player 3: &quot; + sumPlayerPoints[2]);\n        System.out.println(&quot;Player 4: &quot; + sumPlayerPoints[3]);\n        System.out.println(&quot;Player 5: &quot; + sumPlayerPoints[4]);\n\n        for (int i = 0; i &lt; 5; i++) {\n            if (winnerPlayer &lt;= sumPlayer[i]) {\n                runnerupPlayer = winnerPlayer;\n                winnerPlayer = sumPlayer[i];\n            }\n            else if (runnerupPlayer &lt;= sumPlayer[i]) {\n                runnerupPlayer = sumPlayer[i];\n            }\n        }\n\n        for (int i = 0; i &lt; 5; i++) {\n            if (winnerPlayer == sumPlayer[i]) {\n                winnerPlayerNumber = i + 1;\n            }\n            if (runnerupPlayer &lt;= winnerPlayer) {\n                runnerupPlayerNumber = i + 1;\n            }\n        }\n        System.out.println(&quot;\\nWinner: Player &quot; + winnerPlayerNumber + &quot; by winning &quot; + winnerPlayer + &quot; win sets.&quot;);\n        System.out.println(&quot;Runner-up: Player &quot; + runnerupPlayerNumber + &quot; by winning &quot; + runnerupPlayer + &quot; win sets.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","utf-8","input-field"],"comments":[{"owner":{"account_id":2421483,"reputation":533,"user_id":2538530,"accept_rate":67,"display_name":"leonardseymore"},"score":0,"creation_date":1653979915,"post_id":72443103,"comment_id":127975792,"body_markdown":"Which database are you using? You might have to check the character set used in the database aswell","body":"Which database are you using? You might have to check the character set used in the database aswell"},{"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"score":0,"creation_date":1653981356,"post_id":72443103,"comment_id":127976208,"body_markdown":"@leonardseymore I&#39;ve using PostgreSQL and datatype varchar","body":"@leonardseymore I&#39;ve using PostgreSQL and datatype varchar"},{"owner":{"account_id":2421483,"reputation":533,"user_id":2538530,"accept_rate":67,"display_name":"leonardseymore"},"score":0,"creation_date":1653981580,"post_id":72443103,"comment_id":127976260,"body_markdown":"Can you check the db charset? https://stackoverflow.com/questions/6454146/getting-the-encoding-of-a-postgres-database","body":"Can you check the db charset? <a href=\"https://stackoverflow.com/questions/6454146/getting-the-encoding-of-a-postgres-database\" title=\"getting the encoding of a postgres database\">stackoverflow.com/questions/6454146/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19711883,"reputation":90,"user_id":14432226,"display_name":"eskiltb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653987752,"creation_date":1653987752,"answer_id":72444967,"question_id":72443103,"body_markdown":"Something like this maybe?\r\n```\r\nMap&lt;String, String&gt; queryMap = HttpMessage.parseRequestParameters(request.messageBody);\r\n\r\nURLDecoder.decode(queryMap.get(&quot;htmlObject&quot;),StandardCharsets.UTF_8.name())\r\n```","title":"how make application accept any language in input field and store as it is in database","body":"<p>Something like this maybe?</p>\n<pre><code>Map&lt;String, String&gt; queryMap = HttpMessage.parseRequestParameters(request.messageBody);\n\nURLDecoder.decode(queryMap.get(&quot;htmlObject&quot;),StandardCharsets.UTF_8.name())\n</code></pre>\n"}],"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654146645,"creation_date":1653978512,"question_id":72443103,"body_markdown":"I have developed Application with Java and Spring MVC. \r\nHere, My issue is my application form input field is accepting any language but it is stored it as a different text not exactly as I&#39;ve typed. English is properly inserted, other than English no other language is not properly inserted.\r\nSo, In the form input field, I want to accept any language and store that language as it is in database.\r\ncan anyone please tell me, what changes should I have to do in jsp page.\r\nMy charset is in utf-8","title":"how make application accept any language in input field and store as it is in database","body":"<p>I have developed Application with Java and Spring MVC.\nHere, My issue is my application form input field is accepting any language but it is stored it as a different text not exactly as I've typed. English is properly inserted, other than English no other language is not properly inserted.\nSo, In the form input field, I want to accept any language and store that language as it is in database.\ncan anyone please tell me, what changes should I have to do in jsp page.\nMy charset is in utf-8</p>\n"},{"tags":["java","jar","archive"],"answers":[{"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288398263,"creation_date":1288398263,"answer_id":4056699,"question_id":4056682,"body_markdown":"This is not possible. You however can look into embedded databases for your usecase. Java 6 comes with JavaDB. If you doesn&#39;t want to use it then you can find more here http://java-source.net/open-source/database-engines","title":"How can my Java program store files inside of its .jar file?","body":"<p>This is not possible. You however can look into embedded databases for your usecase. Java 6 comes with JavaDB. If you doesn't want to use it then you can find more here <a href=\"http://java-source.net/open-source/database-engines\" rel=\"nofollow\">http://java-source.net/open-source/database-engines</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1654146445,"creation_date":1288398548,"answer_id":4056713,"question_id":4056682,"body_markdown":"Yes you *can* do this.  \r\n\r\nNon-code resources in a JAR file on the classpath can be accessed using `Class.getResourceAsStream(String)`.  Applications routinely do this, for example, to embed internationalized messages as resource bundles.\r\n\r\nTo get your file into the JAR file (at project build time!), just copy it into the appropriate place in the input directory tree before you run the `jar` command.   Build tools such as Maven, Gradle, etc can automate that for you.\r\n\r\n---------------------\r\n\r\n&gt;  Is there a way to add files to the archive within the app? \r\n\r\nIn theory, your application *could* store files inside its own JAR file, under certain circumstances:\r\n\r\n  - The JAR has to be a file in the local file system; i.e. not a JAR that was fetched from a remote server.\r\n  - The application has to have write access to the JAR file and its parent directory.\r\n  - The application must not need to read back the file it wrote to the JAR in the current classloader; i.e. without exiting and restarting.\r\n  - The JAR must not need to be be signed.\r\n\r\nThe procedure would be:\r\n\r\n  1. Locate the JAR file and open as a ZIP archive reader.\r\n  1. Create a ZIP archive writer to write a new version of JAR file.\r\n  1. Write the application&#39;s files to the writer.\r\n  1. Write all resources from the ZIP reader to the writer, excluding old versions of the applications files.\r\n  1. Close the reader and writer.\r\n  1. Rename the new version of the JAR to replace the old one.\r\n\r\nThe last step might not work if the initial JAR is locked by the JVM / OS.  In that case, you need do the renaming in a wrapper script.\r\n\r\nHowever, I think that most people would agree that this is a BAD IDEA.  It is simpler and more robust to just write regular files.","title":"How can my Java program store files inside of its .jar file?","body":"<p>Yes you <em>can</em> do this.</p>\n<p>Non-code resources in a JAR file on the classpath can be accessed using <code>Class.getResourceAsStream(String)</code>.  Applications routinely do this, for example, to embed internationalized messages as resource bundles.</p>\n<p>To get your file into the JAR file (at project build time!), just copy it into the appropriate place in the input directory tree before you run the <code>jar</code> command.   Build tools such as Maven, Gradle, etc can automate that for you.</p>\n<hr />\n<blockquote>\n<p>Is there a way to add files to the archive within the app?</p>\n</blockquote>\n<p>In theory, your application <em>could</em> store files inside its own JAR file, under certain circumstances:</p>\n<ul>\n<li>The JAR has to be a file in the local file system; i.e. not a JAR that was fetched from a remote server.</li>\n<li>The application has to have write access to the JAR file and its parent directory.</li>\n<li>The application must not need to read back the file it wrote to the JAR in the current classloader; i.e. without exiting and restarting.</li>\n<li>The JAR must not need to be be signed.</li>\n</ul>\n<p>The procedure would be:</p>\n<ol>\n<li>Locate the JAR file and open as a ZIP archive reader.</li>\n<li>Create a ZIP archive writer to write a new version of JAR file.</li>\n<li>Write the application's files to the writer.</li>\n<li>Write all resources from the ZIP reader to the writer, excluding old versions of the applications files.</li>\n<li>Close the reader and writer.</li>\n<li>Rename the new version of the JAR to replace the old one.</li>\n</ol>\n<p>The last step might not work if the initial JAR is locked by the JVM / OS.  In that case, you need do the renaming in a wrapper script.</p>\n<p>However, I think that most people would agree that this is a BAD IDEA.  It is simpler and more robust to just write regular files.</p>\n"},{"tags":[],"owner":{"account_id":83604,"reputation":254,"user_id":234266,"display_name":"David-Zazeski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288398604,"creation_date":1288398604,"answer_id":4056716,"question_id":4056682,"body_markdown":"I would recommend that you consider having two JARs: one to store your application&#39;s class files and another JAR to store the user data. If you do not have two separate JARs, then you will have difficulties obtaining a write lock from the Operating System (since you would be trying to overwrite the JAR containing your program while java is reading it).\r\n\r\nTo create a JAR, use the [java.util.jar.JarFile class][1]. There is also [another question on stackoverflow][2] which describes how to create/write a JAR file.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/jar/JarFile.html\r\n  [2]: https://stackoverflow.com/questions/1529611/how-to-write-java-program-which-can-extract-a-jar-file-and-stores-its-data-in-spe/1529629","title":"How can my Java program store files inside of its .jar file?","body":"<p>I would recommend that you consider having two JARs: one to store your application's class files and another JAR to store the user data. If you do not have two separate JARs, then you will have difficulties obtaining a write lock from the Operating System (since you would be trying to overwrite the JAR containing your program while java is reading it).</p>\n\n<p>To create a JAR, use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/jar/JarFile.html\" rel=\"nofollow noreferrer\">java.util.jar.JarFile class</a>. There is also <a href=\"https://stackoverflow.com/questions/1529611/how-to-write-java-program-which-can-extract-a-jar-file-and-stores-its-data-in-spe/1529629\">another question on stackoverflow</a> which describes how to create/write a JAR file.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1288401602,"creation_date":1288401602,"answer_id":4056847,"question_id":4056682,"body_markdown":"The other answers have provided some good strategies, but I am going to suggest going in a somewhat different direction.\r\n\r\nThis game supposedly has graphics and is a desktop application.  It is most easy to distribute desktop applications from a web server.\r\n\r\nIf both those things are true of your game, then look into using &lt;a href=&quot;http://www.java.com/en/download/faq/java_webstart.xml&quot;&gt;Java Web Start&lt;/a&gt; to deploy it.\r\n\r\nJWS offers APIs not available to other apps. &amp; one of particular interest to this problem is the PersistenceService.  The PersistenceService allows for small amounts of data to be stored and restored by an app. (even when it is in a sand-box).  I have made a small &lt;a href=&quot;http://pscode.org/jws/api.html#ps&quot;&gt;demo. of the PersistenceService&lt;/a&gt;.\r\n\r\nThe idea would be to check the PersistenceService for the application data, and if not found, use the data in the Jars.  If the user/application alters the data, write the altered data to the PersistenceService.\r\n\r\n\r\n----------\r\nJWS also offers other nice features like splash screens, desktop integration, automatic updates..","title":"How can my Java program store files inside of its .jar file?","body":"<p>The other answers have provided some good strategies, but I am going to suggest going in a somewhat different direction.</p>\n\n<p>This game supposedly has graphics and is a desktop application.  It is most easy to distribute desktop applications from a web server.</p>\n\n<p>If both those things are true of your game, then look into using <a href=\"http://www.java.com/en/download/faq/java_webstart.xml\" rel=\"nofollow\">Java Web Start</a> to deploy it.</p>\n\n<p>JWS offers APIs not available to other apps. &amp; one of particular interest to this problem is the PersistenceService.  The PersistenceService allows for small amounts of data to be stored and restored by an app. (even when it is in a sand-box).  I have made a small <a href=\"http://pscode.org/jws/api.html#ps\" rel=\"nofollow\">demo. of the PersistenceService</a>.</p>\n\n<p>The idea would be to check the PersistenceService for the application data, and if not found, use the data in the Jars.  If the user/application alters the data, write the altered data to the PersistenceService.</p>\n\n<hr>\n\n<p>JWS also offers other nice features like splash screens, desktop integration, automatic updates..</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1335443002,"creation_date":1288494010,"answer_id":4061654,"question_id":4056682,"body_markdown":"Don&#39;t do this. A jar file is a source of application classes and resources, not a file system. You wouldn&#39;t try to save files into a exe, would you?","title":"How can my Java program store files inside of its .jar file?","body":"<p>Don't do this. A jar file is a source of application classes and resources, not a file system. You wouldn't try to save files into a exe, would you?</p>\n"},{"tags":[],"owner":{"account_id":3071426,"reputation":6563,"user_id":2601995,"accept_rate":100,"display_name":"user2601995"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379541035,"creation_date":1379541035,"answer_id":18882956,"question_id":4056682,"body_markdown":"By creating a file in the Source Packages (ex: `/src/resource/file.txt`) its contents can be read using `Class.getResourceAsStream(String)`\r\n\r\nThis is a working implementation of the following [answer][1]\r\n\r\n\r\n        InputStream is = Class.class.getResourceAsStream(&quot;/resource/file.txt&quot;);        \r\n        InputStreamReader isr = new InputStreamReader(is);\r\n        BufferedReader br = new BufferedReader(isr);\r\n        StringBuilder sb = new StringBuilder();\r\n        String line;\r\n        while((line = br.readLine()) != null) {\r\n            sb.append(line).append(&quot;\\n&quot;);\r\n        }\r\n        System.out.println(sb.toString());\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4056713/2601995","title":"How can my Java program store files inside of its .jar file?","body":"<p>By creating a file in the Source Packages (ex: <code>/src/resource/file.txt</code>) its contents can be read using <code>Class.getResourceAsStream(String)</code></p>\n\n<p>This is a working implementation of the following <a href=\"https://stackoverflow.com/a/4056713/2601995\">answer</a></p>\n\n<pre><code>    InputStream is = Class.class.getResourceAsStream(\"/resource/file.txt\");        \n    InputStreamReader isr = new InputStreamReader(is);\n    BufferedReader br = new BufferedReader(isr);\n    StringBuilder sb = new StringBuilder();\n    String line;\n    while((line = br.readLine()) != null) {\n        sb.append(line).append(\"\\n\");\n    }\n    System.out.println(sb.toString());\n</code></pre>\n"}],"owner":{"account_id":204940,"reputation":14170,"user_id":453438,"accept_rate":92,"display_name":"liamzebedee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28247,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":4056713,"answer_count":6,"score":13,"last_activity_date":1654146445,"creation_date":1288397982,"question_id":4056682,"body_markdown":"I know that .jar files are basically archives as well as being applications. What I&#39;m asking is how can I store data(actual files not just strings) packed inside my program? I want to do this within my Java code.\r\n\r\nThe reason for this if your wondering is that I&#39;m producing a server mod of a game. The server starts and creates all the level data and I want to store all these file inside my .jar app.","title":"How can my Java program store files inside of its .jar file?","body":"<p>I know that .jar files are basically archives as well as being applications. What I'm asking is how can I store data(actual files not just strings) packed inside my program? I want to do this within my Java code.</p>\n\n<p>The reason for this if your wondering is that I'm producing a server mod of a game. The server starts and creates all the level data and I want to store all these file inside my .jar app.</p>\n"},{"tags":["java","sql","groovy","timestamp","db2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654077909,"post_id":72459667,"comment_id":128004403,"body_markdown":"*WHERE ST.ID = $id AND ST.TIMESTAMP= $timestamp&quot;&quot;&quot;* You&#39;re *really* going to feed in the correct value somehow, down to nanosecond accuracy to get results?","body":"<i>WHERE ST.ID = $id AND ST.TIMESTAMP= $timestamp&quot;&quot;&quot;</i> You&#39;re <i>really</i> going to feed in the correct value somehow, down to nanosecond accuracy to get results?"},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1654079841,"post_id":72459667,"comment_id":128005095,"body_markdown":"I need to check timestamp from database. Is there a way to check it without providing correct value, down to nanosecond accuracy, because I don&#39;t know will I pass it to nanoseconds?","body":"I need to check timestamp from database. Is there a way to check it without providing correct value, down to nanosecond accuracy, because I don&#39;t know will I pass it to nanoseconds?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654079955,"post_id":72459667,"comment_id":128005133,"body_markdown":"You probably need to query within a range, not an exact value. Or truncate the value","body":"You probably need to query within a range, not an exact value. Or truncate the value"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654118288,"creation_date":1654111390,"answer_id":72467099,"question_id":72459667,"body_markdown":"# tl;dr\r\n\r\nYou are using the wrong types. \r\n\r\n - To exchange data with a DB2 column of type `TIMESTAMP WITHOUT TIME ZONE`, use `java.time.LocalDateTime`.\r\n - To exchange data with a DB2 column of type `TIMESTAMP WITH TIME ZONE`, use `java.time.OffsetDateTime`.\r\n\r\nNever use the flawed legacy class `java.sql.Timestamp`. \r\n\r\n&#128073; Your hour difference is likely resulting from that class adjusting for time zone, which is problematic because the `TIMESTAMP` column (`TIMESTAMP WITHOUT TIME ZONE` column) in DB2 has no time zone or offset.\r\n\r\n# Details\r\n\r\n&gt;Format of Timestamp in DB2 is: 2022-05-25-11:10:44.662000\r\n\r\nNo, a [`TIMESTAMP`](https://www.ibm.com/docs/en/db2-for-zos/13?topic=values-timestamp) type in DB2 does not have a format. That type does not contain text. That type uses its own internally-defined data for tracking a date-time value.\r\n\r\nThe matching type in Java for a DB2 column of type `TIMESTAMP WITHOUT TIME ZONE` is `java.time.LocalDateTime`.\r\n\r\n&gt; but in java.sql.Timestamp\r\n\r\nNever use the `Timestamp` class. That class is part of the legacy date-time classes that were tragically flawed in their design. They were years ago supplanted by the modern *java.time* classes defined in JSR 310. The `Timestamp` class was specifically replaced by `java.time.Instant`, though for interacting with a database you would use `OffsetDateTime` class.\r\n\r\nJDBC 4.2 and later requires all JDBC drivers to support an appropriate subset of the *java.time* classes. \r\n\r\n# Moment versus not-a-moment\r\n\r\nAnother issue is that `TIMESTAMP` in DB2 (short for `TIMESTAMP WITHOUT TIME ZONE`) purposely lacks the context of an offset-from-UTC or time zone. Without an offset or zone, that type cannot be used to represent a moment, a specific point on the timeline. \r\n\r\nIn contrast, the `java.sql.Timestamp` class *does* represent a moment, a specific point on the timeline. \r\n\r\nSo `TIMESTAMP` in DB2 does not match up to `java.sql.Timestamp`.\r\n\r\n&#128073; Instead, for exchanging values with a `TIMESTAMP` column in DB2, use the `java.time.LocalDateTime` class. Like the DB2 type, that class purposely lacks the context of an offset or zone.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2022-05-25T11:10:44.662000&quot; ) ;\r\n\r\nSee this [code run live at Ideone.com][1].\r\n\r\n&gt;ldt.toString() is 2022-05-25T11:10:44.662\r\n\r\nWriting.\r\n\r\n    myPreparedStatement.setObject( â€¦ , ldt ) ;\r\n\r\nRetrieval.\r\n\r\n    LocalDateTime ldt = myResultSet.getObject( â€¦ , LocalDateTime.class ) ;\r\n\r\n# Resolution\r\n\r\nThe `TIMESTAMP` type in DB2 resolves to the very FINE resolution of picoseconds. To quote the manual:\r\n\r\n&gt; The number of digits in the fractional seconds portion is specified using an attribute in the range 0 - 12 with a default of 6\r\n\r\nA [nanosecond][2], a billionth of a second, is a fractional second of nine digits. Twelve digits represent a [picosecond][3], a trillionth of a second.\r\n\r\nThe *java.time* classes have a resolution of nanoseconds. \r\n\r\n\r\n  [1]: https://ideone.com/pvzClV\r\n  [2]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [3]: https://en.wikipedia.org/wiki/Picosecond","title":"Match java.sql.Timestamp with DB2 Timestamp","body":"<h1>tl;dr</h1>\n<p>You are using the wrong types.</p>\n<ul>\n<li>To exchange data with a DB2 column of type <code>TIMESTAMP WITHOUT TIME ZONE</code>, use <code>java.time.LocalDateTime</code>.</li>\n<li>To exchange data with a DB2 column of type <code>TIMESTAMP WITH TIME ZONE</code>, use <code>java.time.OffsetDateTime</code>.</li>\n</ul>\n<p>Never use the flawed legacy class <code>java.sql.Timestamp</code>.</p>\n<p>ðŸ‘‰ Your hour difference is likely resulting from that class adjusting for time zone, which is problematic because the <code>TIMESTAMP</code> column (<code>TIMESTAMP WITHOUT TIME ZONE</code> column) in DB2 has no time zone or offset.</p>\n<h1>Details</h1>\n<blockquote>\n<p>Format of Timestamp in DB2 is: 2022-05-25-11:10:44.662000</p>\n</blockquote>\n<p>No, a <a href=\"https://www.ibm.com/docs/en/db2-for-zos/13?topic=values-timestamp\" rel=\"nofollow noreferrer\"><code>TIMESTAMP</code></a> type in DB2 does not have a format. That type does not contain text. That type uses its own internally-defined data for tracking a date-time value.</p>\n<p>The matching type in Java for a DB2 column of type <code>TIMESTAMP WITHOUT TIME ZONE</code> is <code>java.time.LocalDateTime</code>.</p>\n<blockquote>\n<p>but in java.sql.Timestamp</p>\n</blockquote>\n<p>Never use the <code>Timestamp</code> class. That class is part of the legacy date-time classes that were tragically flawed in their design. They were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. The <code>Timestamp</code> class was specifically replaced by <code>java.time.Instant</code>, though for interacting with a database you would use <code>OffsetDateTime</code> class.</p>\n<p>JDBC 4.2 and later requires all JDBC drivers to support an appropriate subset of the <em>java.time</em> classes.</p>\n<h1>Moment versus not-a-moment</h1>\n<p>Another issue is that <code>TIMESTAMP</code> in DB2 (short for <code>TIMESTAMP WITHOUT TIME ZONE</code>) purposely lacks the context of an offset-from-UTC or time zone. Without an offset or zone, that type cannot be used to represent a moment, a specific point on the timeline.</p>\n<p>In contrast, the <code>java.sql.Timestamp</code> class <em>does</em> represent a moment, a specific point on the timeline.</p>\n<p>So <code>TIMESTAMP</code> in DB2 does not match up to <code>java.sql.Timestamp</code>.</p>\n<p>ðŸ‘‰ Instead, for exchanging values with a <code>TIMESTAMP</code> column in DB2, use the <code>java.time.LocalDateTime</code> class. Like the DB2 type, that class purposely lacks the context of an offset or zone.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2022-05-25T11:10:44.662000&quot; ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/pvzClV\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>ldt.toString() is 2022-05-25T11:10:44.662</p>\n</blockquote>\n<p>Writing.</p>\n<pre><code>myPreparedStatement.setObject( â€¦ , ldt ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( â€¦ , LocalDateTime.class ) ;\n</code></pre>\n<h1>Resolution</h1>\n<p>The <code>TIMESTAMP</code> type in DB2 resolves to the very FINE resolution of picoseconds. To quote the manual:</p>\n<blockquote>\n<p>The number of digits in the fractional seconds portion is specified using an attribute in the range 0 - 12 with a default of 6</p>\n</blockquote>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanosecond</a>, a billionth of a second, is a fractional second of nine digits. Twelve digits represent a <a href=\"https://en.wikipedia.org/wiki/Picosecond\" rel=\"nofollow noreferrer\">picosecond</a>, a trillionth of a second.</p>\n<p>The <em>java.time</em> classes have a resolution of nanoseconds.</p>\n"}],"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72467099,"answer_count":1,"score":0,"last_activity_date":1654146388,"creation_date":1654076530,"question_id":72459667,"body_markdown":"I need to pass Timestamp value as parameter in URL to retrieve some data.\r\nFormat of Timestamp in DB2 is: 2022-05-25-11:10:44.662000, but in java.sql.Timestamp is: 2022-05-25 11:10:44.0\r\nand when I pass it, it returns empty list.\r\n\r\nMy ActionController class method: \r\n\r\n    @GetMapping(value = &quot;/fetchData/{id}/{timestamp}&quot;)\r\n      def fetchData(@PathVariable int id, @PathVariable Timestamp timestamp) {\r\n        def serviceResult = actionService.fetchData(id, timestamp);\r\n        return parseServiceResult(serviceResult)\r\n      }\r\n\r\nMy ActionService class method:\r\n\r\n      ServiceResult fetchData(int id, Timestamp timestamp) {\r\n        ServiceResult ret = new ServiceResult()\r\n        List&lt;DataDTO&gt; retSet = new ArrayList&lt;DataDTO&gt;()\r\n        List&lt;String&gt; errorMessage = new ArrayList&lt;String&gt;()\r\n        try {\r\n          retSet = actionEntity.fetchData(id, timestamp)\r\n        } catch (CollectionsException e) {\r\n          errorMessage &lt;&lt; &quot;ActionService.fetchData error&quot;\r\n          log.debug(&quot;ActionService.fetchData error&quot; + e.getMessage())\r\n        }\r\n        ret = new ServiceResult(success: errorMessage.isEmpty(), result: retSet, errorMessageTextList: errorMessage)\r\n    \r\n        ret\r\n      }\r\n\r\nMy ActionEntity class method:\r\n\r\n    ArrayList&lt;DataDTO&gt; fetchPoulsFromStorno(int id, Timestamp timestamp) throws CollectionsException {\r\n    \r\n        def sql = &quot;&quot;&quot;SELECT * FROM NSNP.TABLE1 PT INNER JOIN NSNP.TABLE2 ST\r\n                            ON (ST.COLUMN1 = PT.COLUMN1 AND\r\n                            ST.COLUMN2 = PT.COLUMN2 AND\r\n                            ST.COLUMN3 = PT.COLUMN3 AND\r\n                            ST.COLUMN4 = PT.COLUMN4 AND\r\n                            ST.COLUMN5 = PT.COLUMN5 AND\r\n                            ST.COLUMN6 = PT.COLUMN6 AND\r\n                            ST.COLUMN7 = PT.COLUMN7 AND\r\n                            ST.COLUMN8 = PT.COLUMN8 )\r\n                            WHERE ST.ID = $id AND ST.TIMESTAMP= $timestamp&quot;&quot;&quot;\r\n    \r\n    \r\n        ArrayList&lt;DataDTO&gt; dataList = new ArrayList&lt;DataDTO&gt;()\r\n    \r\n        try {\r\n          if (this.sql != null) {\r\n            this.sql.eachRow(sql) {\r\n              resultSet -&gt;\r\n                System.out.println(resultSet)\r\n                DataDTO dataDTO = new DataDTO()\r\n                dataDTO .setProperty1(resultSet.COLUMN1)\r\n                dataDTO .setPropety2(resultSet.COLUMN2)\r\n                dataDTO .setProperty3(resultSet.COLUMN3)\r\n                \r\n                dataList.add(dataDTO)\r\n            }\r\n          }\r\n        } catch (SQLException se) {\r\n          log.info &quot;ActionEntity.fetchData error $se.message  executed sql: $sql&quot;\r\n        } finally {\r\n          if (this.sql != null) {\r\n            this.sql.close()\r\n          }\r\n        }\r\n        dataList\r\n      }\r\n\r\nCan&#39;t provide you exact and real data, but I&#39;m sure you&#39;ll understand code and what I&#39;m trying to do. ","title":"Match java.sql.Timestamp with DB2 Timestamp","body":"<p>I need to pass Timestamp value as parameter in URL to retrieve some data.\nFormat of Timestamp in DB2 is: 2022-05-25-11:10:44.662000, but in java.sql.Timestamp is: 2022-05-25 11:10:44.0\nand when I pass it, it returns empty list.</p>\n<p>My ActionController class method:</p>\n<pre><code>@GetMapping(value = &quot;/fetchData/{id}/{timestamp}&quot;)\n  def fetchData(@PathVariable int id, @PathVariable Timestamp timestamp) {\n    def serviceResult = actionService.fetchData(id, timestamp);\n    return parseServiceResult(serviceResult)\n  }\n</code></pre>\n<p>My ActionService class method:</p>\n<pre><code>  ServiceResult fetchData(int id, Timestamp timestamp) {\n    ServiceResult ret = new ServiceResult()\n    List&lt;DataDTO&gt; retSet = new ArrayList&lt;DataDTO&gt;()\n    List&lt;String&gt; errorMessage = new ArrayList&lt;String&gt;()\n    try {\n      retSet = actionEntity.fetchData(id, timestamp)\n    } catch (CollectionsException e) {\n      errorMessage &lt;&lt; &quot;ActionService.fetchData error&quot;\n      log.debug(&quot;ActionService.fetchData error&quot; + e.getMessage())\n    }\n    ret = new ServiceResult(success: errorMessage.isEmpty(), result: retSet, errorMessageTextList: errorMessage)\n\n    ret\n  }\n</code></pre>\n<p>My ActionEntity class method:</p>\n<pre><code>ArrayList&lt;DataDTO&gt; fetchPoulsFromStorno(int id, Timestamp timestamp) throws CollectionsException {\n\n    def sql = &quot;&quot;&quot;SELECT * FROM NSNP.TABLE1 PT INNER JOIN NSNP.TABLE2 ST\n                        ON (ST.COLUMN1 = PT.COLUMN1 AND\n                        ST.COLUMN2 = PT.COLUMN2 AND\n                        ST.COLUMN3 = PT.COLUMN3 AND\n                        ST.COLUMN4 = PT.COLUMN4 AND\n                        ST.COLUMN5 = PT.COLUMN5 AND\n                        ST.COLUMN6 = PT.COLUMN6 AND\n                        ST.COLUMN7 = PT.COLUMN7 AND\n                        ST.COLUMN8 = PT.COLUMN8 )\n                        WHERE ST.ID = $id AND ST.TIMESTAMP= $timestamp&quot;&quot;&quot;\n\n\n    ArrayList&lt;DataDTO&gt; dataList = new ArrayList&lt;DataDTO&gt;()\n\n    try {\n      if (this.sql != null) {\n        this.sql.eachRow(sql) {\n          resultSet -&gt;\n            System.out.println(resultSet)\n            DataDTO dataDTO = new DataDTO()\n            dataDTO .setProperty1(resultSet.COLUMN1)\n            dataDTO .setPropety2(resultSet.COLUMN2)\n            dataDTO .setProperty3(resultSet.COLUMN3)\n            \n            dataList.add(dataDTO)\n        }\n      }\n    } catch (SQLException se) {\n      log.info &quot;ActionEntity.fetchData error $se.message  executed sql: $sql&quot;\n    } finally {\n      if (this.sql != null) {\n        this.sql.close()\n      }\n    }\n    dataList\n  }\n</code></pre>\n<p>Can't provide you exact and real data, but I'm sure you'll understand code and what I'm trying to do.</p>\n"},{"tags":["java","matrix","transpose"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654145991,"creation_date":1654145991,"answer_id":72470873,"question_id":72470775,"body_markdown":"You are transposing each pair of elements twice, which puts them back how they were.  \r\n\r\nOne solution would be to change `for(int j = 0;` in the inner loop to `for(int j = i + 1;`.  This would make sure that each pair of elements is only transposed once.\r\n\r\nAlso be aware that this general solution only works for square matrices.","title":"Inplace transpose of a matrix in Java","body":"<p>You are transposing each pair of elements twice, which puts them back how they were.</p>\n<p>One solution would be to change <code>for(int j = 0;</code> in the inner loop to <code>for(int j = i + 1;</code>.  This would make sure that each pair of elements is only transposed once.</p>\n<p>Also be aware that this general solution only works for square matrices.</p>\n"},{"tags":[],"owner":{"account_id":19833403,"reputation":571,"user_id":14527497,"display_name":"dangerousmanleesanghyeon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654145997,"creation_date":1654145997,"answer_id":72470874,"question_id":72470775,"body_markdown":"how about this way?\r\n\r\n```java\r\npublic int[][] transpose(int[][] matrix) {\r\n    int[][] result = new int[matrix.length][matrix[0].length];\r\n    for(int i = 0; i &lt; matrix[0].length; i++){\r\n        for(int j = 0; j &lt; matrix.length; j++){\r\n            result[j][i] = matrix[i][j];\r\n            System.out.println(Arrays.deepToString(result));\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n```","title":"Inplace transpose of a matrix in Java","body":"<p>how about this way?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[][] transpose(int[][] matrix) {\n    int[][] result = new int[matrix.length][matrix[0].length];\n    for(int i = 0; i &lt; matrix[0].length; i++){\n        for(int j = 0; j &lt; matrix.length; j++){\n            result[j][i] = matrix[i][j];\n            System.out.println(Arrays.deepToString(result));\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":21454914,"reputation":728,"user_id":15806697,"display_name":"Uttam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72470873,"answer_count":2,"score":0,"last_activity_date":1654145997,"creation_date":1654145057,"question_id":72470775,"body_markdown":"I&#39;m trying a simple intuition to transpose a matrix in place.\r\n\r\nI&#39;m trying to swap elements of `matrix[i][j]` and `matrix[j][i]` but it is not working, I&#39;m wondering what is happening behind the scene.\r\n\r\n```\r\nclass Solution {\r\n    public int[][] transpose(int[][] matrix) {\r\n        \r\n        \r\n        for(int i = 0; i &lt; matrix.length; i++){\r\n            for(int j = 0; j &lt; matrix[0].length; j++){\r\n                int temp = matrix[i][j];\r\n                matrix[i][j] = matrix[j][i];\r\n                matrix[j][i] = temp;\r\n            }\r\n        }\r\n        \r\n        return matrix;\r\n    }\r\n}\r\n```\r\n\r\n**Output**\r\n\r\nFor matrix -&gt; [[1,2,3],[4,5,6],[7,8,9]]\r\n\r\nIt is giving output -&gt; [[1,2,3],[4,5,6],[7,8,9]]\r\n\r\nbut the expected output should be -&gt; [[1,4,7],[2,5,8],[3,6,9]]","title":"Inplace transpose of a matrix in Java","body":"<p>I'm trying a simple intuition to transpose a matrix in place.</p>\n<p>I'm trying to swap elements of <code>matrix[i][j]</code> and <code>matrix[j][i]</code> but it is not working, I'm wondering what is happening behind the scene.</p>\n<pre><code>class Solution {\n    public int[][] transpose(int[][] matrix) {\n        \n        \n        for(int i = 0; i &lt; matrix.length; i++){\n            for(int j = 0; j &lt; matrix[0].length; j++){\n                int temp = matrix[i][j];\n                matrix[i][j] = matrix[j][i];\n                matrix[j][i] = temp;\n            }\n        }\n        \n        return matrix;\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p>For matrix -&gt; [[1,2,3],[4,5,6],[7,8,9]]</p>\n<p>It is giving output -&gt; [[1,2,3],[4,5,6],[7,8,9]]</p>\n<p>but the expected output should be -&gt; [[1,4,7],[2,5,8],[3,6,9]]</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":275526,"reputation":2877,"user_id":568447,"accept_rate":76,"display_name":"Ben"},"score":0,"creation_date":1350496774,"post_id":12940421,"comment_id":17539024,"body_markdown":"Not completely sure what you&#39;re asking, but constructors aren&#39;t static in java (though there is a static block).  Constructors setup the object for initial use and are called when instantiated.","body":"Not completely sure what you&#39;re asking, but constructors aren&#39;t static in java (though there is a static block).  Constructors setup the object for initial use and are called when instantiated."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":2,"creation_date":1350496866,"post_id":12940421,"comment_id":17539068,"body_markdown":"Since when a constructor is static?","body":"Since when a constructor is static?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1350521902,"post_id":12940421,"comment_id":17547700,"body_markdown":"What &quot;standard book&quot;? All the [JLS](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.8) says is that &quot;In all other respects [other than its name], the constructor declaration *looks just like* a method declaration that has no result type&quot; (my emphasis). If your book says anything different from that, it is wrong by definition. There&#39;s nothing there that says &#39;constructors are a special type of function&#39;, so the question of static/non-static doesn&#39;t even arise. It&#39;s not a real question.","body":"What &quot;standard book&quot;? All the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.8\" rel=\"nofollow noreferrer\">JLS</a> says is that &quot;In all other respects [other than its name], the constructor declaration <i>looks just like</i> a method declaration that has no result type&quot; (my emphasis). If your book says anything different from that, it is wrong by definition. There&#39;s nothing there that says &#39;constructors are a special type of function&#39;, so the question of static/non-static doesn&#39;t even arise. It&#39;s not a real question."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1350497076,"creation_date":1350496758,"answer_id":12940446,"question_id":12940421,"body_markdown":"Your second example hits the spot. `this` reference is available in the constructor, which means constructor is executed against some object - the one that is currently being created.\r\n\r\nIn principle when you create a new object (by using `new` operator), JVM will allocate some memory for it and then call a constructor on that newly created object. Also JVM makes sure that no other method is called before the constructor (that&#39;s what makes it special).\r\n\r\nActually, on machine level, constructor is a function with one special, implicit `this` parameter. This special parameter (passed by the runtime) makes the difference between object and static methods. In other words:\r\n\r\n    foo.bar(42);\r\n\r\nis translated to:\r\n\r\n    bar(foo, 42);\r\n\r\nwhere first parameter is named `this`. On the other hand `static` methods are called as-is:\r\n\r\n    Foo.bar(42);\r\n\r\ntranslates to:\r\n\r\n    bar(42);\r\n\r\n`Foo` here is just a namespace existing barely in the source code.","title":"Constructor is static or non static","body":"<p>Your second example hits the spot. <code>this</code> reference is available in the constructor, which means constructor is executed against some object - the one that is currently being created.</p>\n\n<p>In principle when you create a new object (by using <code>new</code> operator), JVM will allocate some memory for it and then call a constructor on that newly created object. Also JVM makes sure that no other method is called before the constructor (that's what makes it special).</p>\n\n<p>Actually, on machine level, constructor is a function with one special, implicit <code>this</code> parameter. This special parameter (passed by the runtime) makes the difference between object and static methods. In other words:</p>\n\n<pre><code>foo.bar(42);\n</code></pre>\n\n<p>is translated to:</p>\n\n<pre><code>bar(foo, 42);\n</code></pre>\n\n<p>where first parameter is named <code>this</code>. On the other hand <code>static</code> methods are called as-is:</p>\n\n<pre><code>Foo.bar(42);\n</code></pre>\n\n<p>translates to:</p>\n\n<pre><code>bar(42);\n</code></pre>\n\n<p><code>Foo</code> here is just a namespace existing barely in the source code.</p>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350496803,"creation_date":1350496803,"answer_id":12940459,"question_id":12940421,"body_markdown":"Constructors are non-static. Every method first parameter is implicit `this` (except static) and constructor is one of that.","title":"Constructor is static or non static","body":"<p>Constructors are non-static. Every method first parameter is implicit <code>this</code> (except static) and constructor is one of that.</p>\n"},{"tags":[],"owner":{"account_id":1351148,"reputation":4254,"user_id":1290720,"accept_rate":50,"display_name":"Sidharth Mudgal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350496813,"creation_date":1350496813,"answer_id":12940463,"question_id":12940421,"body_markdown":"Constructors are NOT static functions. When you do `Test test =new  Test();` a new `Test` object is created and then the constructor is called on that object (I mean `this` points to the newly created object).","title":"Constructor is static or non static","body":"<p>Constructors are NOT static functions. When you do <code>Test test =new  Test();</code> a new <code>Test</code> object is created and then the constructor is called on that object (I mean <code>this</code> points to the newly created object).</p>\n"},{"tags":[],"owner":{"account_id":446661,"reputation":2862,"user_id":839829,"accept_rate":90,"display_name":"mfsiega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350496831,"creation_date":1350496831,"answer_id":12940467,"question_id":12940421,"body_markdown":"The `new` keyword here is the trick. You&#39;re correct in noting that in general, if you&#39;re calling it without an object, a method is static. However in this special case (i.e., preceded by the `new` keyword) the compiler knows to call the constructor. ","title":"Constructor is static or non static","body":"<p>The <code>new</code> keyword here is the trick. You're correct in noting that in general, if you're calling it without an object, a method is static. However in this special case (i.e., preceded by the <code>new</code> keyword) the compiler knows to call the constructor. </p>\n"},{"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1350496901,"creation_date":1350496901,"answer_id":12940482,"question_id":12940421,"body_markdown":"Not static. Read about constructors http://www.javaworld.com/jw-10-2000/jw-1013-constructors.html.","title":"Constructor is static or non static","body":"<p>Not static. Read about constructors <a href=\"http://www.javaworld.com/jw-10-2000/jw-1013-constructors.html\" rel=\"nofollow\">http://www.javaworld.com/jw-10-2000/jw-1013-constructors.html</a>.</p>\n"},{"tags":[],"owner":{"account_id":1760643,"reputation":1,"user_id":1607857,"display_name":"Raimund Gr&#252;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350497028,"creation_date":1350497028,"answer_id":12940509,"question_id":12940421,"body_markdown":"The `new` operator returns a reference to the object it created.\r\n\r\n    new Test(); // creates an instance.\r\n\r\nThe `System.out.println(this);` is called after the `new` operator has instantiated the object","title":"Constructor is static or non static","body":"<p>The <code>new</code> operator returns a reference to the object it created.</p>\n\n<pre><code>new Test(); // creates an instance.\n</code></pre>\n\n<p>The <code>System.out.println(this);</code> is called after the <code>new</code> operator has instantiated the object</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1350500456,"creation_date":1350500456,"answer_id":12941428,"question_id":12940421,"body_markdown":"Neither. \r\n\r\nMethods can be divided into 2 types: static/non-static methods, aka class/instance methods.\r\n\r\nBut constructors are not methods. ","title":"Constructor is static or non static","body":"<p>Neither. </p>\n\n<p>Methods can be divided into 2 types: static/non-static methods, aka class/instance methods.</p>\n\n<p>But constructors are not methods. </p>\n"},{"tags":[],"owner":{"account_id":1128840,"reputation":2152,"user_id":1115406,"accept_rate":86,"display_name":"Akhilesh Dhar Dubey"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1654145977,"creation_date":1379445386,"answer_id":18858093,"question_id":12940421,"body_markdown":"**Static:**\r\n\r\n    Temp t= new Temp();\r\n\r\nThe `new` operator creates memory in the heap area and passes it to the constructor as `Temp(this)` implicitly. It then initializes a non-static instance variable defined in a class called `this` to the local parameter variable `this`.\r\n\r\n**Below example is just for understanding the concept, if someone tries to compile it, it will give the compile-time error.**\r\n\r\n    class Temp{\r\n        int a;\r\n        Temp this; //inserted by compiler.\r\n        Temp(Temp this){ //passed by compiler\r\n            this.this=this; // initialise this instance variable here. \r\n            this.a=10;//when we write only a=10; and all the non-static member access by this implicitly.\r\n            return this; // so that we can&#39;t return any value from constructor.\r\n        }\r\n    }\r\n\r\nConstructor is static because:\r\n\r\n1. It is helping to create object.\r\n2. It is called without object.","title":"Constructor is static or non static","body":"<p><strong>Static:</strong></p>\n<pre><code>Temp t= new Temp();\n</code></pre>\n<p>The <code>new</code> operator creates memory in the heap area and passes it to the constructor as <code>Temp(this)</code> implicitly. It then initializes a non-static instance variable defined in a class called <code>this</code> to the local parameter variable <code>this</code>.</p>\n<p><strong>Below example is just for understanding the concept, if someone tries to compile it, it will give the compile-time error.</strong></p>\n<pre><code>class Temp{\n    int a;\n    Temp this; //inserted by compiler.\n    Temp(Temp this){ //passed by compiler\n        this.this=this; // initialise this instance variable here. \n        this.a=10;//when we write only a=10; and all the non-static member access by this implicitly.\n        return this; // so that we can't return any value from constructor.\n    }\n}\n</code></pre>\n<p>Constructor is static because:</p>\n<ol>\n<li>It is helping to create object.</li>\n<li>It is called without object.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4646609,"reputation":1,"user_id":3764698,"display_name":"Rustam Tyagi"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1403440628,"creation_date":1403440628,"answer_id":24351295,"question_id":12940421,"body_markdown":"Constructor is used to initialize the object and has the behavior of non-static methods,as non-static methods belong to objects so as constructor also and its invoked by the JVM to initialize the objects with the reference of object,created by new operator","title":"Constructor is static or non static","body":"<p>Constructor is used to initialize the object and has the behavior of non-static methods,as non-static methods belong to objects so as constructor also and its invoked by the JVM to initialize the objects with the reference of object,created by new operator</p>\n"},{"tags":[],"owner":{"account_id":16733171,"reputation":1,"user_id":12095022,"display_name":"Yatin Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568985780,"creation_date":1568975758,"answer_id":58026700,"question_id":12940421,"body_markdown":"When we talk about static class then it comes to our mind that methods are called with class name,But in case of constructor ,Constructor is initialized when object is created So this proves to be non-static.","title":"Constructor is static or non static","body":"<p>When we talk about static class then it comes to our mind that methods are called with class name,But in case of constructor ,Constructor is initialized when object is created So this proves to be non-static.</p>\n"},{"tags":[],"owner":{"account_id":17445236,"reputation":1,"user_id":12646432,"display_name":"Sumitha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578048496,"creation_date":1578048496,"answer_id":59577196,"question_id":12940421,"body_markdown":"Constructors are neither static (as called using class name) or non-static as executed while creating an object. ","title":"Constructor is static or non static","body":"<p>Constructors are neither static (as called using class name) or non-static as executed while creating an object. </p>\n"}],"owner":{"account_id":1895433,"reputation":1038,"user_id":1712517,"accept_rate":61,"display_name":"Arun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10136,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"accepted_answer_id":12940446,"answer_count":11,"score":13,"last_activity_date":1654145977,"creation_date":1350496664,"question_id":12940421,"body_markdown":"As per standard book constructor is a special type of function which is used to initialize  objects.As constructor is defined as a function and inside class function can have only two type either static or non static.My doubt is what constructor is ?\r\n\r\n    1.)As constructor is called without object so it must be static\r\n    \r\n      Test test =new  Test();//Test() is being called without object\r\n       so must be static\r\n\r\n\r\nMy doubt is if constructor is static  method then how can we frequently used this inside \r\nconstructor\r\n\r\n    Test(){\r\n        System.out.println(this);\r\n    }\r\n\r\nDoes the output `Test@12aw212` mean constructors are non-static?","title":"Constructor is static or non static","body":"<p>As per standard book constructor is a special type of function which is used to initialize  objects.As constructor is defined as a function and inside class function can have only two type either static or non static.My doubt is what constructor is ?</p>\n\n<pre><code>1.)As constructor is called without object so it must be static\n\n  Test test =new  Test();//Test() is being called without object\n   so must be static\n</code></pre>\n\n<p>My doubt is if constructor is static  method then how can we frequently used this inside \nconstructor</p>\n\n<pre><code>Test(){\n    System.out.println(this);\n}\n</code></pre>\n\n<p>Does the output <code>Test@12aw212</code> mean constructors are non-static?</p>\n"},{"tags":["java","opencv","image-processing"],"comments":[{"owner":{"account_id":89244,"reputation":172607,"user_id":246342,"display_name":"Alex K."},"score":0,"creation_date":1432727780,"post_id":30481593,"comment_id":49042092,"body_markdown":"How are you checking the channel count? If your doing it via imread are you specifying CV_LOAD_IMAGE_GRAYSCALE? by default you will get BGR","body":"How are you checking the channel count? If your doing it via imread are you specifying CV_LOAD_IMAGE_GRAYSCALE? by default you will get BGR"},{"owner":{"account_id":1136458,"reputation":10832,"user_id":1652954,"accept_rate":58,"display_name":"Amrmsmb"},"score":0,"creation_date":1432727960,"post_id":30481593,"comment_id":49042235,"body_markdown":"@AlexK. please see my updates above","body":"@AlexK. please see my updates above"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1432728091,"post_id":30481593,"comment_id":49042346,"body_markdown":"Why don&#39;t you try `ImgProc.cvtColor(mat, grayscale, ImgProc.COLOR_BGR2GRAY,1)`?","body":"Why don&#39;t you try <code>ImgProc.cvtColor(mat, grayscale, ImgProc.COLOR_BGR2GRAY,1)</code>?"},{"owner":{"account_id":1136458,"reputation":10832,"user_id":1652954,"accept_rate":58,"display_name":"Amrmsmb"},"score":0,"creation_date":1432729061,"post_id":30481593,"comment_id":49043032,"body_markdown":"@RealSkeptic please tell me , why there is 1 as last parameter in your code?","body":"@RealSkeptic please tell me , why there is 1 as last parameter in your code?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1432729135,"post_id":30481593,"comment_id":49043083,"body_markdown":"Because that&#39;s the parameter that determines the number of channels in the output.","body":"Because that&#39;s the parameter that determines the number of channels in the output."},{"owner":{"account_id":1136458,"reputation":10832,"user_id":1652954,"accept_rate":58,"display_name":"Amrmsmb"},"score":0,"creation_date":1432730507,"post_id":30481593,"comment_id":49044079,"body_markdown":"@RealSkeptic doe sthe type of the Mat could has any influence, I mean if the mat is of type CV_32F or CV_16U. and please let me know what these types mean?","body":"@RealSkeptic doe sthe type of the Mat could has any influence, I mean if the mat is of type CV_32F or CV_16U. and please let me know what these types mean?"}],"answers":[{"tags":[],"owner":{"account_id":6360160,"reputation":123,"user_id":4935899,"display_name":"zeeshan ali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432727843,"creation_date":1432727843,"answer_id":30481741,"question_id":30481593,"body_markdown":"The depth (or better color depth) is the number of bits used to represent a color value.  a color depth of 8 usually means 8-bits per channel (so you have 256 color values - or better: shades of grey- per channel - from 0 to 255) and 3 channels mean then one pixel value is composed of 3*8=24 bits.\r\n\r\nHowever, this also depends on nomenclature. Usually you will say\r\n\r\n&quot;Color depth is 8-bits per channel&quot;\r\n\r\nbut you also could say\r\n\r\n&quot;The color depth of the image is 32-bits&quot;\r\n\r\nand then mean 8 bits per RGBA channel or\r\n\r\n&quot;The image has a color depth of 24-bits&quot;\r\n\r\nand mean 8-bits per R,G and B channels.","title":"why the grayscale image has 3 channels","body":"<p>The depth (or better color depth) is the number of bits used to represent a color value.  a color depth of 8 usually means 8-bits per channel (so you have 256 color values - or better: shades of grey- per channel - from 0 to 255) and 3 channels mean then one pixel value is composed of 3*8=24 bits.</p>\n\n<p>However, this also depends on nomenclature. Usually you will say</p>\n\n<p>\"Color depth is 8-bits per channel\"</p>\n\n<p>but you also could say</p>\n\n<p>\"The color depth of the image is 32-bits\"</p>\n\n<p>and then mean 8 bits per RGBA channel or</p>\n\n<p>\"The image has a color depth of 24-bits\"</p>\n\n<p>and mean 8-bits per R,G and B channels.</p>\n"},{"tags":[],"owner":{"account_id":24253813,"reputation":1,"user_id":18204524,"display_name":"Ashutosh Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654145460,"creation_date":1654145460,"answer_id":72470816,"question_id":30481593,"body_markdown":"The grayscale image has three channels because technically it is **not a grayscale** image. It is a colored image with the **same values** for all the three channels (r, g, b) in every pixel. Therefore, visually it looks like a grayscale image. \r\n\r\nTo check the channels in the image, use-\r\n\r\n**img.getbands()**","title":"why the grayscale image has 3 channels","body":"<p>The grayscale image has three channels because technically it is <strong>not a grayscale</strong> image. It is a colored image with the <strong>same values</strong> for all the three channels (r, g, b) in every pixel. Therefore, visually it looks like a grayscale image.</p>\n<p>To check the channels in the image, use-</p>\n<p><strong>img.getbands()</strong></p>\n"}],"owner":{"account_id":1136458,"reputation":10832,"user_id":1652954,"accept_rate":58,"display_name":"Amrmsmb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13739,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1654145460,"creation_date":1432727362,"question_id":30481593,"body_markdown":"i am performing operations on a grayscale image, and the resultant image of these operations has the same extension as the input image. for an example if the input image is `.jpg` or `.png` the output image is either `.jpg` or `.png` respectively.\r\n\r\nand I am converting the image into grayscale as follows:\r\n\r\n    ImgProc.cvtColor(mat, grayscale, ImgProc.COLOR_BGR2GRAY),\r\n\r\nand I am checking the channels count using:\r\n\r\n    .channels()\r\n\r\nthe problem is when I wnat to know how many channels the image contain, despit it is a grayscale image, i always receive umber of channels = 3!!\r\n\r\nkindly please let me know why that is happening\r\n\r\n","title":"why the grayscale image has 3 channels","body":"<p>i am performing operations on a grayscale image, and the resultant image of these operations has the same extension as the input image. for an example if the input image is <code>.jpg</code> or <code>.png</code> the output image is either <code>.jpg</code> or <code>.png</code> respectively.</p>\n\n<p>and I am converting the image into grayscale as follows:</p>\n\n<pre><code>ImgProc.cvtColor(mat, grayscale, ImgProc.COLOR_BGR2GRAY),\n</code></pre>\n\n<p>and I am checking the channels count using:</p>\n\n<pre><code>.channels()\n</code></pre>\n\n<p>the problem is when I wnat to know how many channels the image contain, despit it is a grayscale image, i always receive umber of channels = 3!!</p>\n\n<p>kindly please let me know why that is happening</p>\n"},{"tags":["java","game-development"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1653974593,"post_id":72442400,"comment_id":127974493,"body_markdown":"The lines `int xDistance = Math.abs(gp.player.worldX = previousEventX);` and `int yDistance = Math.abs(gp.player.worldY = previousEventY);` look wrong. Are you sure you didn&#39;t intend to write `int xDistance = Math.abs(gp.player.worldX - previousEventX);` and `int yDistance = Math.abs(gp.player.worldY - previousEventY);`?","body":"The lines <code>int xDistance = Math.abs(gp.player.worldX = previousEventX);</code> and <code>int yDistance = Math.abs(gp.player.worldY = previousEventY);</code> look wrong. Are you sure you didn&#39;t intend to write <code>int xDistance = Math.abs(gp.player.worldX - previousEventX);</code> and <code>int yDistance = Math.abs(gp.player.worldY - previousEventY);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654145416,"creation_date":1654145416,"answer_id":72470811,"question_id":72442400,"body_markdown":"Your `checkEvent()` method is wrong:\r\n\r\n    public void checkEvent() {\r\n\r\n        //check if character is one tile away from  last event\r\n        int xDistance = Math.abs(gp.player.worldX = previousEventX);\r\n        int yDistance = Math.abs(gp.player.worldY = previousEventY);\r\n        int distance = Math.max(xDistance, yDistance);\r\n        if (distance &gt; gp.tileSize) {\r\n            canTouchEvent = true;\r\n        }\r\n\r\n        if(canTouchEvent == true) {\r\n            if (hit(27, 16, &quot;any&quot;) == true) {damagePit(27, 16, gp.dialogueState);}\r\n            if (hit(27, 18, &quot;any&quot;) == true) {healingPool(27, 18, gp.dialogueState);}\r\n        }\r\n    }\r\n\r\nIn the line `int xDistance = Math.abs(gp.player.worldX = previousEventX);` you are assigning the current value of `previousEventX` (which is 0) to `gp.player.worldX` (which transports the player to the X coordinate 0) and sets the `xDistance` to 0 (because you calculate `Math.abs(0)`).\r\n\r\nThe next line for the `yDistance` is similar.\r\n\r\nChange those two lines to\r\n\r\n        int xDistance = Math.abs(gp.player.worldX - previousEventX);\r\n        int yDistance = Math.abs(gp.player.worldY - previousEventY);\r\n","title":"Bug Affecting Entity Movement in Java Game Development","body":"<p>Your <code>checkEvent()</code> method is wrong:</p>\n<pre><code>public void checkEvent() {\n\n    //check if character is one tile away from  last event\n    int xDistance = Math.abs(gp.player.worldX = previousEventX);\n    int yDistance = Math.abs(gp.player.worldY = previousEventY);\n    int distance = Math.max(xDistance, yDistance);\n    if (distance &gt; gp.tileSize) {\n        canTouchEvent = true;\n    }\n\n    if(canTouchEvent == true) {\n        if (hit(27, 16, &quot;any&quot;) == true) {damagePit(27, 16, gp.dialogueState);}\n        if (hit(27, 18, &quot;any&quot;) == true) {healingPool(27, 18, gp.dialogueState);}\n    }\n}\n</code></pre>\n<p>In the line <code>int xDistance = Math.abs(gp.player.worldX = previousEventX);</code> you are assigning the current value of <code>previousEventX</code> (which is 0) to <code>gp.player.worldX</code> (which transports the player to the X coordinate 0) and sets the <code>xDistance</code> to 0 (because you calculate <code>Math.abs(0)</code>).</p>\n<p>The next line for the <code>yDistance</code> is similar.</p>\n<p>Change those two lines to</p>\n<pre><code>    int xDistance = Math.abs(gp.player.worldX - previousEventX);\n    int yDistance = Math.abs(gp.player.worldY - previousEventY);\n</code></pre>\n"}],"owner":{"account_id":25432843,"reputation":3,"user_id":19236966,"display_name":"SaltySnack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72470811,"answer_count":1,"score":-1,"last_activity_date":1654145416,"creation_date":1653972493,"question_id":72442400,"body_markdown":"I am working through a tutorial from Youtube on how to make a 2D style game in Java ([Click here][1] for Video 1, though I am currently working on video #20)\r\n\r\nI recently tried to add Event Tiles that cause the player to teleport/heal/take damage. I no longer have the teleport option while troubleshooting, but essentially what is happening when I start the game is that my player spawns where it should, but when I press any directional key, I am instantly transported to the top left tile and I have no clue why. \r\n\r\nI&#39;ve narrowed it down to my checkEvent method, which I will post below. \r\n\r\nPlease let me know if I can post more code, I also have  a KeyHandler, Entity, Player, and Event Rectangle classes, but in troubleshooting, it wasnt until I took away the checkEvent method below that I was able to move again. \r\n\r\n\r\n\r\n    package main;\r\n    public class EventHandler {\r\n        GamePanel gp;\r\n        EventRect eventRect[][];\r\n\r\n        int previousEventX, previousEventY;\r\n        boolean canTouchEvent = true;\r\n\r\n        public EventHandler(GamePanel gp) {\r\n            this.gp = gp;\r\n\r\n            eventRect = new EventRect[gp.maxWorldCol][gp.maxWorldRow];\r\n\r\n            int col = 0;\r\n            int row = 0;\r\n\r\n            while (col &lt; gp.maxWorldCol &amp;&amp; row &lt; gp.maxWorldRow) {\r\n\r\n                eventRect[col][row] = new EventRect();\r\n                eventRect[col][row].x = 23;\r\n                eventRect[col][row].y = 23;\r\n                eventRect[col][row].width = 2;\r\n                eventRect[col][row].height = 2;\r\n                eventRect[col][row].eventRectDefaultX = eventRect[col][row].x;\r\n                eventRect[col][row].eventRectDefaultY = eventRect[col][row].y;\r\n\r\n                col++;\r\n                if (col == gp.maxWorldCol) {\r\n                    col = 0;\r\n                    row++;\r\n                }\r\n            }\r\n        }\r\n\r\n        public void checkEvent() {\r\n\r\n            //check if character is one tile away from  last event\r\n            int xDistance = Math.abs(gp.player.worldX = previousEventX);\r\n            int yDistance = Math.abs(gp.player.worldY = previousEventY);\r\n            int distance = Math.max(xDistance, yDistance);\r\n            if (distance &gt; gp.tileSize) {\r\n                canTouchEvent = true;\r\n            }\r\n\r\n            if(canTouchEvent == true) {\r\n                if (hit(27, 16, &quot;any&quot;) == true) {damagePit(27, 16, gp.dialogueState);}\r\n                if (hit(27, 18, &quot;any&quot;) == true) {healingPool(27, 18, gp.dialogueState);}\r\n            }\r\n        }\r\n\r\n        public boolean hit(int col, int row, String reqDirection) {\r\n\r\n            boolean hit = false;\r\n            gp.player.solidArea.x = gp.player.worldX + gp.player.solidArea.x;\r\n            gp.player.solidArea.y = gp.player.worldY + gp.player.solidArea.y;\r\n            eventRect[col][row].x = col*gp.tileSize + eventRect[col][row].x;\r\n            eventRect[col][row].y = row*gp.tileSize + eventRect[col][row].y;\r\n\r\n            if (gp.player.solidArea.intersects(eventRect[col][row]) &amp;&amp; eventRect[col][row].eventDone == false) {\r\n                if (gp.player.direction.contentEquals(reqDirection) || reqDirection.contentEquals(&quot;any&quot;)) {\r\n                    hit = true;\r\n\r\n                    previousEventX = gp.player.worldX;\r\n                    previousEventY = gp.player.worldY;\r\n                }\r\n            }\r\n\r\n            gp.player.solidArea.x = gp.player.solidAreaDefaultX;\r\n            gp.player.solidArea.y = gp.player.solidAreaDefaultY;\r\n            eventRect[col][row].x = eventRect[col][row].eventRectDefaultX;\r\n            eventRect[col][row].y = eventRect[col][row].eventRectDefaultY;\r\n\r\n\r\n            return hit;\r\n        }\r\n\r\n        /*public void teleport(int col, int row, int gameState) {\r\n            gp.gameState = gp.gameState;\r\n            gp.ui.currentDialogue = &quot;NYOOM&quot;;\r\n            gp.player.worldX = gp.tileSize * 17;\r\n            gp.player.worldY = gp.tileSize * 20;\r\n            canTouchEvent = false;\r\n        }\r\n         */\r\n        public void damagePit(int col, int row, int gameState) {\r\n            gp.gameState = gameState;\r\n            gp.ui.currentDialogue = &quot;MWAHA! You dun messed up&quot;;\r\n            gp.player.life -= 1;\r\n            //eventRect[col][row].eventDone = true;\r\n            canTouchEvent = true;\r\n        }\r\n        public void healingPool(int col, int row, int gameState) {\r\n            if (gp.keyH.enterPressed == true) {\r\n                gp.gameState = gameState;\r\n                gp.ui.currentDialogue = &quot;Ahh, moistness&quot;;\r\n                gp.player.life = gp.player.maxLife;\r\n            }\r\n        }\r\n    }\r\n\r\nThis is my first time posting, so if there is etiquette I am not following, please let me know :)\r\n\r\n  [1]: https://www.youtube.com/watch?v=om59cwR7psI&amp;list=PL_QPQmz5C6WUF-pOQDsbsKbaBZqXj4qSq&amp;index=1&amp;ab_channel=RyiSnow","title":"Bug Affecting Entity Movement in Java Game Development","body":"<p>I am working through a tutorial from Youtube on how to make a 2D style game in Java (<a href=\"https://www.youtube.com/watch?v=om59cwR7psI&amp;list=PL_QPQmz5C6WUF-pOQDsbsKbaBZqXj4qSq&amp;index=1&amp;ab_channel=RyiSnow\" rel=\"nofollow noreferrer\">Click here</a> for Video 1, though I am currently working on video #20)</p>\n<p>I recently tried to add Event Tiles that cause the player to teleport/heal/take damage. I no longer have the teleport option while troubleshooting, but essentially what is happening when I start the game is that my player spawns where it should, but when I press any directional key, I am instantly transported to the top left tile and I have no clue why.</p>\n<p>I've narrowed it down to my checkEvent method, which I will post below.</p>\n<p>Please let me know if I can post more code, I also have  a KeyHandler, Entity, Player, and Event Rectangle classes, but in troubleshooting, it wasnt until I took away the checkEvent method below that I was able to move again.</p>\n<pre><code>package main;\npublic class EventHandler {\n    GamePanel gp;\n    EventRect eventRect[][];\n\n    int previousEventX, previousEventY;\n    boolean canTouchEvent = true;\n\n    public EventHandler(GamePanel gp) {\n        this.gp = gp;\n\n        eventRect = new EventRect[gp.maxWorldCol][gp.maxWorldRow];\n\n        int col = 0;\n        int row = 0;\n\n        while (col &lt; gp.maxWorldCol &amp;&amp; row &lt; gp.maxWorldRow) {\n\n            eventRect[col][row] = new EventRect();\n            eventRect[col][row].x = 23;\n            eventRect[col][row].y = 23;\n            eventRect[col][row].width = 2;\n            eventRect[col][row].height = 2;\n            eventRect[col][row].eventRectDefaultX = eventRect[col][row].x;\n            eventRect[col][row].eventRectDefaultY = eventRect[col][row].y;\n\n            col++;\n            if (col == gp.maxWorldCol) {\n                col = 0;\n                row++;\n            }\n        }\n    }\n\n    public void checkEvent() {\n\n        //check if character is one tile away from  last event\n        int xDistance = Math.abs(gp.player.worldX = previousEventX);\n        int yDistance = Math.abs(gp.player.worldY = previousEventY);\n        int distance = Math.max(xDistance, yDistance);\n        if (distance &gt; gp.tileSize) {\n            canTouchEvent = true;\n        }\n\n        if(canTouchEvent == true) {\n            if (hit(27, 16, &quot;any&quot;) == true) {damagePit(27, 16, gp.dialogueState);}\n            if (hit(27, 18, &quot;any&quot;) == true) {healingPool(27, 18, gp.dialogueState);}\n        }\n    }\n\n    public boolean hit(int col, int row, String reqDirection) {\n\n        boolean hit = false;\n        gp.player.solidArea.x = gp.player.worldX + gp.player.solidArea.x;\n        gp.player.solidArea.y = gp.player.worldY + gp.player.solidArea.y;\n        eventRect[col][row].x = col*gp.tileSize + eventRect[col][row].x;\n        eventRect[col][row].y = row*gp.tileSize + eventRect[col][row].y;\n\n        if (gp.player.solidArea.intersects(eventRect[col][row]) &amp;&amp; eventRect[col][row].eventDone == false) {\n            if (gp.player.direction.contentEquals(reqDirection) || reqDirection.contentEquals(&quot;any&quot;)) {\n                hit = true;\n\n                previousEventX = gp.player.worldX;\n                previousEventY = gp.player.worldY;\n            }\n        }\n\n        gp.player.solidArea.x = gp.player.solidAreaDefaultX;\n        gp.player.solidArea.y = gp.player.solidAreaDefaultY;\n        eventRect[col][row].x = eventRect[col][row].eventRectDefaultX;\n        eventRect[col][row].y = eventRect[col][row].eventRectDefaultY;\n\n\n        return hit;\n    }\n\n    /*public void teleport(int col, int row, int gameState) {\n        gp.gameState = gp.gameState;\n        gp.ui.currentDialogue = &quot;NYOOM&quot;;\n        gp.player.worldX = gp.tileSize * 17;\n        gp.player.worldY = gp.tileSize * 20;\n        canTouchEvent = false;\n    }\n     */\n    public void damagePit(int col, int row, int gameState) {\n        gp.gameState = gameState;\n        gp.ui.currentDialogue = &quot;MWAHA! You dun messed up&quot;;\n        gp.player.life -= 1;\n        //eventRect[col][row].eventDone = true;\n        canTouchEvent = true;\n    }\n    public void healingPool(int col, int row, int gameState) {\n        if (gp.keyH.enterPressed == true) {\n            gp.gameState = gameState;\n            gp.ui.currentDialogue = &quot;Ahh, moistness&quot;;\n            gp.player.life = gp.player.maxLife;\n        }\n    }\n}\n</code></pre>\n<p>This is my first time posting, so if there is etiquette I am not following, please let me know :)</p>\n"},{"tags":["java","android","flutter","dart","telephony"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1653642114,"post_id":72402844,"comment_id":127905109,"body_markdown":"If you are building a calling app, did you see: https://developer.android.com/guide/topics/connectivity/telecom/selfManaged","body":"If you are building a calling app, did you see: <a href=\"https://developer.android.com/guide/topics/connectivity/telecom/selfManaged\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/telecom/&hellip;</a>"},{"owner":{"account_id":1842720,"reputation":760,"user_id":1671807,"accept_rate":22,"display_name":"Sudipta Roy"},"score":0,"creation_date":1653642567,"post_id":72402844,"comment_id":127905260,"body_markdown":"No I am not trying to build a calling app. My main motivation is to see how these background task are done when the app is not running, in flutter. For testing I am receiveing the call events in my `BroadcastReceiver` which is working as it is. The telephony package also gets incoming messages when the app is not running.","body":"No I am not trying to build a calling app. My main motivation is to see how these background task are done when the app is not running, in flutter. For testing I am receiveing the call events in my <code>BroadcastReceiver</code> which is working as it is. The telephony package also gets incoming messages when the app is not running."}],"owner":{"account_id":1842720,"reputation":760,"user_id":1671807,"accept_rate":22,"display_name":"Sudipta Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654145340,"creation_date":1653641442,"question_id":72402844,"body_markdown":"This is in relation to the question [How to run a background task in android when the app is killed][1] which I posted a few days ago.\r\n\r\n\r\nAfter reading some blogs (e.g [this][2]) and code (of [telephony][3]) I have done some coding. My requirement is to show the user some sort of notification when a call is received, even when my app is not running (much like the **Truecaller** app in android). I am posting the code below.\r\n\r\n```callback_dispatcher.dart```\r\n\r\n    const String HANDLE_INCOMING_CALL_BG = &quot;handleIncomingCallBg&quot;;\r\n    const String INCOMING_CALL_BG_INITIALIZED = &quot;incomingCallBgInitialized&quot;;\r\n    const String INCOMING_CALL_BG_INIT_SERVICE = &quot;incomingCallBgInitService&quot;;\r\n    const String backgroundChannelId = &quot;background_channel&quot;;\r\n    const String foregroundChannelId = &quot;foreground_channel&quot;;\r\n\r\n    void callback_dispatcher() {\r\n        const MethodChannel _backgroundChannel = MethodChannel(backgroundChannelId);\r\n        WidgetsFlutterBinding.ensureInitialized();\r\n        _backgroundChannel.setMethodCallHandler((MethodCall call) =&gt;\r\n        methodCallHandler(call));\r\n        _backgroundChannel.invokeMethod&lt;void&gt;(INCOMING_CALL_BG_INITIALIZED);\r\n    }\r\n\r\n    Future&lt;dynamic&gt; methodCallHandler(MethodCall call) async {\r\n        if(call.method == HANDLE_INCOMING_CALL_BG) {\r\n            final CallbackHandle _handle =\r\n            CallbackHandle.fromRawHandle(call.arguments[&#39;handle&#39;]);\r\n            final Function _handlerFunc = PluginUtilities.getCallbackFromHandle(_handle)!;\r\n            try {\r\n                await _handlerFunc(call.arguments[&#39;message&#39;]);\r\n            } catch(e) {\r\n                print(&#39;Unable to handle incoming call in background&#39;);\r\n                print(e);\r\n            }\r\n        }\r\n        return Future&lt;void&gt;.value();\r\n    }\r\n\r\n    void handleBgMsg(String msg) {\r\n        debugPrint(&quot;[handleBgMsg] incoming call number : &quot; + msg);\r\n        // notification to user\r\n    }\r\n\r\n```background_incoming_call.dart```\r\n\r\n    typedef BgMessageHandler(String msg);\r\n\r\n    class BackgroundIncomingCall {\r\n        MethodChannel? foregroundChannel;\r\n\r\n        Future&lt;void&gt; initialize(BgMessageHandler onBgMessage) async {\r\n            foregroundChannel = const MethodChannel(foregroundChannelId);\r\n            final CallbackHandle? bgSetupHandle = \r\n            PluginUtilities.getCallbackHandle(callback_dispatcher);\r\n            final CallbackHandle? bgMsgHandle = \r\n            PluginUtilities.getCallbackHandle(onBgMessage);\r\n            await foregroundChannel?.invokeMethod&lt;bool&gt;(\r\n                INCOMING_CALL_BG_INIT_SERVICE,\r\n                &lt;String, dynamic&gt; {\r\n                &#39;bgSetupHandle&#39;: bgSetupHandle?.toRawHandle(),\r\n                &#39;bgMsgHandle&#39;: bgMsgHandle?.toRawHandle()\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nIn `main.dart` I am initializing `BackgroundIncomingCall().initialize(handleBgMsg);`.\r\n\r\nOn the Android part I have created a `BroadcastReceiver` as follows (the code mostly from the aforementioned **Telephony** package).\r\n\r\n\r\n\r\n\r\n    public class CallEventReceiver extends BroadcastReceiver implements\r\n        MethodChannel.MethodCallHandler {\r\n    private static final String TAG = &quot;[TEST]&quot;;\r\n    private static final int NUMBER_LEN = 10;\r\n\r\n    public static String INCOMING_CALL_BG_INITIALIZED = &quot;incomingCallBgInitialized&quot;;\r\n    public static String INCOMING_CALL_BG_INIT_SERVICE = &quot;incomingCallBgInitService&quot;;\r\n    public static String SETUP_HANDLE = &quot;bgSetupHandle&quot;;\r\n    public static String MESSAGE_HANDLE = &quot;bgMsgHandle&quot;;\r\n    public static String BG_INCOMING_CALL_CHANNEL_ID = &quot;background_channel&quot;;\r\n    public static String FG_INCOMING_CALL_CHANNEL_ID = &quot;foreground_channel&quot;;\r\n    public static String HANDLE_INCOMING_CALL_BG = &quot;handleIncomingCallBg&quot;;\r\n    public static String SHARED_PREF_NAME = &quot;incomingCallSharedPrefBg&quot;;\r\n    public static String SHARED_PREF_BG_INCOMING_CALL_HANDLE = &quot;incomingCallSharedPrefBgHandle&quot;;\r\n    public static String SHARED_PREFS_BACKGROUND_SETUP_HANDLE = &quot;backgroundSetupHandle&quot;;\r\n\r\n    private Activity activity = null;\r\n\r\n    /* for background isolate*/\r\n    private Context appContext = null;\r\n    private AtomicBoolean isIsolateRunning = new AtomicBoolean(false);\r\n    private List&lt;String&gt; bgIncomingCallQueue = Collections.synchronizedList(new ArrayList&lt;String&gt;());\r\n    private MethodChannel bgIncomingCallChannel = null;;\r\n    private MethodChannel fgIncomingCallChannel = null;;\r\n    private FlutterLoader flutterLoader = null;\r\n    private FlutterEngine bgFlutterEngine = null;\r\n    private Long bgIncomingCallHandle = null;\r\n    /* END */\r\n\r\n    public CallEventReceiver() {}\r\n\r\n    public CallEventReceiver(Activity activity) {\r\n        super();\r\n        this.activity = activity;\r\n    }\r\n\r\n    @Override\r\n    public void onMethodCall(@NonNull MethodCall call, @NonNull MethodChannel.Result result) {\r\n        if(call.method.equals(INCOMING_CALL_BG_INITIALIZED)) {\r\n            if(appContext != null) {\r\n                onChannelInitialized(appContext);\r\n            } else {\r\n                throw new RuntimeException(&quot;Application context is not set&quot;);\r\n            }\r\n        } else if(call.method.equals(INCOMING_CALL_BG_INIT_SERVICE)) {\r\n            if(appContext != null) {\r\n                if(call.hasArgument(SETUP_HANDLE) &amp;&amp; call.hasArgument(MESSAGE_HANDLE)) {\r\n                    Long setupHandle = call.&lt;Long&gt;argument(SETUP_HANDLE);\r\n                    Long msgHandle = call.&lt;Long&gt;argument(MESSAGE_HANDLE);\r\n                    if (setupHandle == null || msgHandle == null) {\r\n                        result.error(&quot;ILLEGAL_ARGS&quot;, &quot;Setup handle or message handle is missing&quot;, null);\r\n                        return;\r\n                    }\r\n                    setBgSetupHandle(appContext, setupHandle);\r\n                    setBgMessageHandle(appContext, msgHandle);\r\n                }\r\n            } else {\r\n                throw new RuntimeException(&quot;Application context is not set&quot;);\r\n            }\r\n        } else {\r\n            result.notImplemented();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        this.appContext = context;\r\n        try {\r\n            Log.i(TAG, &quot;[CallEventHandler] Receiver start&quot;);\r\n            String state = intent.getStringExtra(TelephonyManager.EXTRA_STATE);\r\n            String incomingNumber = intent.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER);\r\n            if(state.equals(TelephonyManager.EXTRA_STATE_RINGING)) {\r\n                if(incomingNumber != null) {\r\n                    Log.i(TAG, &quot;[CallEventHandler] Incoming number : &quot; + incomingNumber);\r\n                    if(incomingNumber.length() &gt; NUMBER_LEN) {\r\n                        incomingNumber = incomingNumber.substring(incomingNumber.length() - NUMBER_LEN, incomingNumber.length());\r\n                        Log.i(TAG, &quot;[CallEventHandler] Incoming number after : &quot; + incomingNumber);\r\n                        processIncomingCall(context, incomingNumber);\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void setBgMessageHandle(Context ctx, Long handle) {\r\n        bgIncomingCallHandle = handle;\r\n        SharedPreferences pref = ctx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\r\n        pref.edit().putLong(SHARED_PREF_BG_INCOMING_CALL_HANDLE, handle).apply();\r\n    }\r\n\r\n    public void setBgSetupHandle(Context ctx, Long setupBgHandle) {\r\n        SharedPreferences pref = ctx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\r\n        pref.edit().putLong(SHARED_PREFS_BACKGROUND_SETUP_HANDLE, setupBgHandle).apply();\r\n    }\r\n\r\n    private void processIncomingCall(Context ctx, String incomingNumber) {\r\n        boolean isForeground = isAppForeground(ctx);\r\n        Log.i(TAG, &quot;[processIncomingCall] is app in foreground : &quot; + isForeground);\r\n        if (isForeground) {\r\n            processIncomingCallInForeground(incomingNumber);\r\n        } else {\r\n            processIncomingCallInBackground(ctx, incomingNumber);\r\n        }\r\n    }\r\n\r\n    private void processIncomingCallInBackground(Context ctx, String incomingNumber) {\r\n        if(!isIsolateRunning.get()) {\r\n            init(ctx);\r\n            SharedPreferences sharedPref = ctx.getSharedPreferences(SHARED_PREF_NAME,\r\n                    Context.MODE_PRIVATE);\r\n            Long bgCallbackHandle = sharedPref.getLong(SHARED_PREFS_BACKGROUND_SETUP_HANDLE, 0);\r\n            startBackgroundIsolate(ctx, bgCallbackHandle);\r\n            bgIncomingCallQueue.add(incomingNumber);\r\n        } else {\r\n            executeDartCallbackInBgIsolate(ctx, incomingNumber);\r\n        }\r\n    }\r\n\r\n    private void processIncomingCallInForeground(String incomingNumber) {\r\n        Log.i(TAG, &quot;[processIncomingCallInFg] incoming number : &quot; + incomingNumber);\r\n        if(activity != null) {\r\n            activity.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if(eventSink != null) {\r\n                        eventSink.success(incomingNumber);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void onChannelInitialized(Context ctx) {\r\n        isIsolateRunning.set(true);\r\n        synchronized(bgIncomingCallQueue) {\r\n            Iterator&lt;String&gt; it = bgIncomingCallQueue.iterator();\r\n            while(it.hasNext()) {\r\n                executeDartCallbackInBgIsolate(ctx, it.next());\r\n            }\r\n            bgIncomingCallQueue.clear();\r\n        }\r\n    }\r\n\r\n    private void init(Context ctx) {\r\n        FlutterInjector flutterInjector = FlutterInjector.instance();\r\n        flutterLoader = flutterInjector.flutterLoader();\r\n        flutterLoader.startInitialization(ctx);\r\n    }\r\n\r\n    private void executeDartCallbackInBgIsolate(Context ctx, String incomingNumber) {\r\n        if(bgIncomingCallChannel == null) {\r\n            throw new RuntimeException(&quot;background channel is not initialized&quot;);\r\n        }\r\n\r\n        if(bgIncomingCallHandle == null) {\r\n            bgIncomingCallHandle = getBgMessageHandle(ctx);\r\n        }\r\n        HashMap&lt;String, Object&gt; args = new HashMap&lt;String, Object&gt;();\r\n        args.put(&quot;handle&quot;, bgIncomingCallHandle);\r\n        args.put(&quot;message&quot;, incomingNumber);\r\n        bgIncomingCallChannel.invokeMethod(HANDLE_INCOMING_CALL_BG, args);\r\n    }\r\n\r\n    private Long getBgMessageHandle(Context ctx) {\r\n        return ctx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE)\r\n                .getLong(SHARED_PREF_BG_INCOMING_CALL_HANDLE, 0);\r\n    }\r\n\r\n    private void startBackgroundIsolate(Context ctx, Long callbackHandle) {\r\n        String appBundlePath = flutterLoader.findAppBundlePath();\r\n        FlutterCallbackInformation cbInfo = FlutterCallbackInformation.\r\n                lookupCallbackInformation(callbackHandle);\r\n\r\n        DartExecutor.DartCallback dartEntryPoint =\r\n                new DartExecutor.DartCallback(ctx.getAssets(), appBundlePath, cbInfo);\r\n        bgFlutterEngine = new FlutterEngine(ctx, flutterLoader, new FlutterJNI());\r\n        bgFlutterEngine.getDartExecutor().executeDartCallback(dartEntryPoint);\r\n\r\n        bgIncomingCallChannel = new MethodChannel(bgFlutterEngine.getDartExecutor(),\r\n                BG_INCOMING_CALL_CHANNEL_ID);\r\n        bgIncomingCallChannel.setMethodCallHandler(this);\r\n    }\r\n\r\n    private boolean isAppForeground(Context ctx) {\r\n        KeyguardManager keyGuardManager = (KeyguardManager) ctx.\r\n                getSystemService(Context.KEYGUARD_SERVICE);\r\n        if(keyGuardManager.isKeyguardLocked()) {\r\n            return false;\r\n        }\r\n        int pid = Process.myPid();\r\n        ActivityManager activityManager = (ActivityManager) ctx.\r\n                getSystemService(Context.ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; list =\r\n                activityManager.getRunningAppProcesses();\r\n        for(ActivityManager.RunningAppProcessInfo proc : list) {\r\n            if(pid == proc.pid) {\r\n                return proc.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\nIn my `AndroidManifest.xml` I am registering the broadcast receiver\r\n    \r\n    &lt;receiver android:name=&quot;org.cdot.diu.handler.CallEventReceiver&quot; android:exported=&quot;true&quot;&gt;\r\n           &lt;intent-filter&gt;\r\n               &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot;/&gt;\r\n           &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nNow If I run my app and minimize it, the `handleBgMsg` is called successfully. Since no print or debug message is shown in terminal when I kill the app, I am sending an SMS to me using Telephony package, which is sent successfully when the app is minimized. But it does not work if I kill the application, no SMS is sent. I am not sure what I am doing wrong here. My guess is that the Broadcast Receiver is killed when the app is killed. However, in the **telephony** package there is nothing to indicate that special care is done to keep the receiver alive when the app is killed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72301378/how-to-run-a-background-task-in-android-when-the-app-is-killed\r\n  [2]: https://medium.com/flutter/executing-dart-in-the-background-with-flutter-plugins-and-geofencing-2b3e40a1a124\r\n  [3]: https://pub.dev/packages/telephony","title":"Issue running a background task in android when the app is killed","body":"<p>This is in relation to the question <a href=\"https://stackoverflow.com/questions/72301378/how-to-run-a-background-task-in-android-when-the-app-is-killed\">How to run a background task in android when the app is killed</a> which I posted a few days ago.</p>\n<p>After reading some blogs (e.g <a href=\"https://medium.com/flutter/executing-dart-in-the-background-with-flutter-plugins-and-geofencing-2b3e40a1a124\" rel=\"nofollow noreferrer\">this</a>) and code (of <a href=\"https://pub.dev/packages/telephony\" rel=\"nofollow noreferrer\">telephony</a>) I have done some coding. My requirement is to show the user some sort of notification when a call is received, even when my app is not running (much like the <strong>Truecaller</strong> app in android). I am posting the code below.</p>\n<p><code>callback_dispatcher.dart</code></p>\n<pre><code>const String HANDLE_INCOMING_CALL_BG = &quot;handleIncomingCallBg&quot;;\nconst String INCOMING_CALL_BG_INITIALIZED = &quot;incomingCallBgInitialized&quot;;\nconst String INCOMING_CALL_BG_INIT_SERVICE = &quot;incomingCallBgInitService&quot;;\nconst String backgroundChannelId = &quot;background_channel&quot;;\nconst String foregroundChannelId = &quot;foreground_channel&quot;;\n\nvoid callback_dispatcher() {\n    const MethodChannel _backgroundChannel = MethodChannel(backgroundChannelId);\n    WidgetsFlutterBinding.ensureInitialized();\n    _backgroundChannel.setMethodCallHandler((MethodCall call) =&gt;\n    methodCallHandler(call));\n    _backgroundChannel.invokeMethod&lt;void&gt;(INCOMING_CALL_BG_INITIALIZED);\n}\n\nFuture&lt;dynamic&gt; methodCallHandler(MethodCall call) async {\n    if(call.method == HANDLE_INCOMING_CALL_BG) {\n        final CallbackHandle _handle =\n        CallbackHandle.fromRawHandle(call.arguments['handle']);\n        final Function _handlerFunc = PluginUtilities.getCallbackFromHandle(_handle)!;\n        try {\n            await _handlerFunc(call.arguments['message']);\n        } catch(e) {\n            print('Unable to handle incoming call in background');\n            print(e);\n        }\n    }\n    return Future&lt;void&gt;.value();\n}\n\nvoid handleBgMsg(String msg) {\n    debugPrint(&quot;[handleBgMsg] incoming call number : &quot; + msg);\n    // notification to user\n}\n</code></pre>\n<p><code>background_incoming_call.dart</code></p>\n<pre><code>typedef BgMessageHandler(String msg);\n\nclass BackgroundIncomingCall {\n    MethodChannel? foregroundChannel;\n\n    Future&lt;void&gt; initialize(BgMessageHandler onBgMessage) async {\n        foregroundChannel = const MethodChannel(foregroundChannelId);\n        final CallbackHandle? bgSetupHandle = \n        PluginUtilities.getCallbackHandle(callback_dispatcher);\n        final CallbackHandle? bgMsgHandle = \n        PluginUtilities.getCallbackHandle(onBgMessage);\n        await foregroundChannel?.invokeMethod&lt;bool&gt;(\n            INCOMING_CALL_BG_INIT_SERVICE,\n            &lt;String, dynamic&gt; {\n            'bgSetupHandle': bgSetupHandle?.toRawHandle(),\n            'bgMsgHandle': bgMsgHandle?.toRawHandle()\n            }\n        );\n    }\n}\n</code></pre>\n<p>In <code>main.dart</code> I am initializing <code>BackgroundIncomingCall().initialize(handleBgMsg);</code>.</p>\n<p>On the Android part I have created a <code>BroadcastReceiver</code> as follows (the code mostly from the aforementioned <strong>Telephony</strong> package).</p>\n<pre><code>public class CallEventReceiver extends BroadcastReceiver implements\n    MethodChannel.MethodCallHandler {\nprivate static final String TAG = &quot;[TEST]&quot;;\nprivate static final int NUMBER_LEN = 10;\n\npublic static String INCOMING_CALL_BG_INITIALIZED = &quot;incomingCallBgInitialized&quot;;\npublic static String INCOMING_CALL_BG_INIT_SERVICE = &quot;incomingCallBgInitService&quot;;\npublic static String SETUP_HANDLE = &quot;bgSetupHandle&quot;;\npublic static String MESSAGE_HANDLE = &quot;bgMsgHandle&quot;;\npublic static String BG_INCOMING_CALL_CHANNEL_ID = &quot;background_channel&quot;;\npublic static String FG_INCOMING_CALL_CHANNEL_ID = &quot;foreground_channel&quot;;\npublic static String HANDLE_INCOMING_CALL_BG = &quot;handleIncomingCallBg&quot;;\npublic static String SHARED_PREF_NAME = &quot;incomingCallSharedPrefBg&quot;;\npublic static String SHARED_PREF_BG_INCOMING_CALL_HANDLE = &quot;incomingCallSharedPrefBgHandle&quot;;\npublic static String SHARED_PREFS_BACKGROUND_SETUP_HANDLE = &quot;backgroundSetupHandle&quot;;\n\nprivate Activity activity = null;\n\n/* for background isolate*/\nprivate Context appContext = null;\nprivate AtomicBoolean isIsolateRunning = new AtomicBoolean(false);\nprivate List&lt;String&gt; bgIncomingCallQueue = Collections.synchronizedList(new ArrayList&lt;String&gt;());\nprivate MethodChannel bgIncomingCallChannel = null;;\nprivate MethodChannel fgIncomingCallChannel = null;;\nprivate FlutterLoader flutterLoader = null;\nprivate FlutterEngine bgFlutterEngine = null;\nprivate Long bgIncomingCallHandle = null;\n/* END */\n\npublic CallEventReceiver() {}\n\npublic CallEventReceiver(Activity activity) {\n    super();\n    this.activity = activity;\n}\n\n@Override\npublic void onMethodCall(@NonNull MethodCall call, @NonNull MethodChannel.Result result) {\n    if(call.method.equals(INCOMING_CALL_BG_INITIALIZED)) {\n        if(appContext != null) {\n            onChannelInitialized(appContext);\n        } else {\n            throw new RuntimeException(&quot;Application context is not set&quot;);\n        }\n    } else if(call.method.equals(INCOMING_CALL_BG_INIT_SERVICE)) {\n        if(appContext != null) {\n            if(call.hasArgument(SETUP_HANDLE) &amp;&amp; call.hasArgument(MESSAGE_HANDLE)) {\n                Long setupHandle = call.&lt;Long&gt;argument(SETUP_HANDLE);\n                Long msgHandle = call.&lt;Long&gt;argument(MESSAGE_HANDLE);\n                if (setupHandle == null || msgHandle == null) {\n                    result.error(&quot;ILLEGAL_ARGS&quot;, &quot;Setup handle or message handle is missing&quot;, null);\n                    return;\n                }\n                setBgSetupHandle(appContext, setupHandle);\n                setBgMessageHandle(appContext, msgHandle);\n            }\n        } else {\n            throw new RuntimeException(&quot;Application context is not set&quot;);\n        }\n    } else {\n        result.notImplemented();\n    }\n}\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    this.appContext = context;\n    try {\n        Log.i(TAG, &quot;[CallEventHandler] Receiver start&quot;);\n        String state = intent.getStringExtra(TelephonyManager.EXTRA_STATE);\n        String incomingNumber = intent.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER);\n        if(state.equals(TelephonyManager.EXTRA_STATE_RINGING)) {\n            if(incomingNumber != null) {\n                Log.i(TAG, &quot;[CallEventHandler] Incoming number : &quot; + incomingNumber);\n                if(incomingNumber.length() &gt; NUMBER_LEN) {\n                    incomingNumber = incomingNumber.substring(incomingNumber.length() - NUMBER_LEN, incomingNumber.length());\n                    Log.i(TAG, &quot;[CallEventHandler] Incoming number after : &quot; + incomingNumber);\n                    processIncomingCall(context, incomingNumber);\n                }\n            }\n        }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n}\n\npublic void setBgMessageHandle(Context ctx, Long handle) {\n    bgIncomingCallHandle = handle;\n    SharedPreferences pref = ctx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\n    pref.edit().putLong(SHARED_PREF_BG_INCOMING_CALL_HANDLE, handle).apply();\n}\n\npublic void setBgSetupHandle(Context ctx, Long setupBgHandle) {\n    SharedPreferences pref = ctx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\n    pref.edit().putLong(SHARED_PREFS_BACKGROUND_SETUP_HANDLE, setupBgHandle).apply();\n}\n\nprivate void processIncomingCall(Context ctx, String incomingNumber) {\n    boolean isForeground = isAppForeground(ctx);\n    Log.i(TAG, &quot;[processIncomingCall] is app in foreground : &quot; + isForeground);\n    if (isForeground) {\n        processIncomingCallInForeground(incomingNumber);\n    } else {\n        processIncomingCallInBackground(ctx, incomingNumber);\n    }\n}\n\nprivate void processIncomingCallInBackground(Context ctx, String incomingNumber) {\n    if(!isIsolateRunning.get()) {\n        init(ctx);\n        SharedPreferences sharedPref = ctx.getSharedPreferences(SHARED_PREF_NAME,\n                Context.MODE_PRIVATE);\n        Long bgCallbackHandle = sharedPref.getLong(SHARED_PREFS_BACKGROUND_SETUP_HANDLE, 0);\n        startBackgroundIsolate(ctx, bgCallbackHandle);\n        bgIncomingCallQueue.add(incomingNumber);\n    } else {\n        executeDartCallbackInBgIsolate(ctx, incomingNumber);\n    }\n}\n\nprivate void processIncomingCallInForeground(String incomingNumber) {\n    Log.i(TAG, &quot;[processIncomingCallInFg] incoming number : &quot; + incomingNumber);\n    if(activity != null) {\n        activity.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                if(eventSink != null) {\n                    eventSink.success(incomingNumber);\n                }\n            }\n        });\n    }\n}\n\nprivate void onChannelInitialized(Context ctx) {\n    isIsolateRunning.set(true);\n    synchronized(bgIncomingCallQueue) {\n        Iterator&lt;String&gt; it = bgIncomingCallQueue.iterator();\n        while(it.hasNext()) {\n            executeDartCallbackInBgIsolate(ctx, it.next());\n        }\n        bgIncomingCallQueue.clear();\n    }\n}\n\nprivate void init(Context ctx) {\n    FlutterInjector flutterInjector = FlutterInjector.instance();\n    flutterLoader = flutterInjector.flutterLoader();\n    flutterLoader.startInitialization(ctx);\n}\n\nprivate void executeDartCallbackInBgIsolate(Context ctx, String incomingNumber) {\n    if(bgIncomingCallChannel == null) {\n        throw new RuntimeException(&quot;background channel is not initialized&quot;);\n    }\n\n    if(bgIncomingCallHandle == null) {\n        bgIncomingCallHandle = getBgMessageHandle(ctx);\n    }\n    HashMap&lt;String, Object&gt; args = new HashMap&lt;String, Object&gt;();\n    args.put(&quot;handle&quot;, bgIncomingCallHandle);\n    args.put(&quot;message&quot;, incomingNumber);\n    bgIncomingCallChannel.invokeMethod(HANDLE_INCOMING_CALL_BG, args);\n}\n\nprivate Long getBgMessageHandle(Context ctx) {\n    return ctx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE)\n            .getLong(SHARED_PREF_BG_INCOMING_CALL_HANDLE, 0);\n}\n\nprivate void startBackgroundIsolate(Context ctx, Long callbackHandle) {\n    String appBundlePath = flutterLoader.findAppBundlePath();\n    FlutterCallbackInformation cbInfo = FlutterCallbackInformation.\n            lookupCallbackInformation(callbackHandle);\n\n    DartExecutor.DartCallback dartEntryPoint =\n            new DartExecutor.DartCallback(ctx.getAssets(), appBundlePath, cbInfo);\n    bgFlutterEngine = new FlutterEngine(ctx, flutterLoader, new FlutterJNI());\n    bgFlutterEngine.getDartExecutor().executeDartCallback(dartEntryPoint);\n\n    bgIncomingCallChannel = new MethodChannel(bgFlutterEngine.getDartExecutor(),\n            BG_INCOMING_CALL_CHANNEL_ID);\n    bgIncomingCallChannel.setMethodCallHandler(this);\n}\n\nprivate boolean isAppForeground(Context ctx) {\n    KeyguardManager keyGuardManager = (KeyguardManager) ctx.\n            getSystemService(Context.KEYGUARD_SERVICE);\n    if(keyGuardManager.isKeyguardLocked()) {\n        return false;\n    }\n    int pid = Process.myPid();\n    ActivityManager activityManager = (ActivityManager) ctx.\n            getSystemService(Context.ACTIVITY_SERVICE);\n    List&lt;ActivityManager.RunningAppProcessInfo&gt; list =\n            activityManager.getRunningAppProcesses();\n    for(ActivityManager.RunningAppProcessInfo proc : list) {\n        if(pid == proc.pid) {\n            return proc.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>}</p>\n<p>In my <code>AndroidManifest.xml</code> I am registering the broadcast receiver</p>\n<pre><code>&lt;receiver android:name=&quot;org.cdot.diu.handler.CallEventReceiver&quot; android:exported=&quot;true&quot;&gt;\n       &lt;intent-filter&gt;\n           &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot;/&gt;\n       &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>Now If I run my app and minimize it, the <code>handleBgMsg</code> is called successfully. Since no print or debug message is shown in terminal when I kill the app, I am sending an SMS to me using Telephony package, which is sent successfully when the app is minimized. But it does not work if I kill the application, no SMS is sent. I am not sure what I am doing wrong here. My guess is that the Broadcast Receiver is killed when the app is killed. However, in the <strong>telephony</strong> package there is nothing to indicate that special care is done to keep the receiver alive when the app is killed.</p>\n"},{"tags":["java","azure","azure-active-directory","microsoft-graph-api","azure-spring-boot"],"comments":[{"owner":{"account_id":25451959,"reputation":11,"user_id":19253200,"display_name":"Ram"},"score":1,"creation_date":1654251149,"post_id":72470754,"comment_id":128051653,"body_markdown":"Looks like this way of approach may not be possible to fix the complication that I mentioned in the post, it is possible by using the gallery application as a template instead! and this has been answered here. https://learn.microsoft.com/en-us/answers/questions/873775/programmatically-creating-the-azuread-saml-sso-app.html","body":"Looks like this way of approach may not be possible to fix the complication that I mentioned in the post, it is possible by using the gallery application as a template instead! and this has been answered here. <a href=\"https://learn.microsoft.com/en-us/answers/questions/873775/programmatically-creating-the-azuread-saml-sso-app.html\" rel=\"nofollow noreferrer\" title=\"programmatically creating the azuread saml sso app.html\">learn.microsoft.com/en-us/answers/questions/873775/&hellip;</a>"}],"owner":{"account_id":25451959,"reputation":11,"user_id":19253200,"display_name":"Ram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654144921,"creation_date":1654144853,"question_id":72470754,"body_markdown":"- Using **[Microsoft Graph APIs][1]** I&#39;m able to create an AAD SAML SSO application (a non-gallery application) but I notice **Identifier (Entity ID)** value is not getting populated in the AAD portal on the **Edit** popup screen, and interestingly the value is showing outside (under the &quot;**Basic SAML Configuration**&quot;) (screenshot added). \r\n- When I test this SAML configuration with my some Service provider tool, SSO fails and I had to come back to AAD portal and update this **Entity ID** value manually in the Edit screen, then SSO works. So I kind of notice it&#39;s because of the Entity ID is getting updated inconsistently.\r\n- Programmatically my code looks as below, Please help with any inputs if I&#39;m missing something to get this Entity Id value updated consistently.\r\n\r\n        // Create Application\r\n    \tApplication app = new Application();\r\n    \tapp.displayName = &quot;TestName&quot;;\r\n    \tapp.identifierUris = Arrays.asList(&quot;some uri&quot;);\r\n    \tapp.web = new WebApplication();\r\n    \tapp.web.redirectUris = Arrays.asList(&quot;https://testredirect.com&quot;);\r\n    \tApplication registeredApp = graphServiceClient.applications()\r\n\t    \t.buildRequest()\r\n\t    \t.post(app);\r\n    \t\r\n    \t// Create Service principal\r\n    \tServicePrincipal sp = new ServicePrincipal();\r\n    \tsp.appId = registeredApp.appId;\r\n    \tsp.preferredSingleSignOnMode = &quot;saml&quot;;\r\n    \tsp.tags = Arrays.asList(&quot;WindowsAzureActiveDirectoryCustomSingleSignOnApplication&quot;, &quot;WindowsAzureActiveDirectoryIntegratedApp&quot;);\r\n    \tServicePrincipal createdServicePrincipal = graphServiceClient.servicePrincipals()\r\n\t    \t.buildRequest()\r\n\t    \t.post(sp);\r\n\r\n[AAD portal screenshot][2]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/api/application-post-applications?view=graph-rest-1.0&amp;tabs=http\r\n  [2]: https://i.stack.imgur.com/qs3iO.png","title":"Programmatically creating the AzureAD SAML SSO application (a non-gallery enterprise app) not getting updated by the Identifier (Entity ID) value","body":"<ul>\n<li><p>Using <strong><a href=\"https://learn.microsoft.com/en-us/graph/api/application-post-applications?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">Microsoft Graph APIs</a></strong> I'm able to create an AAD SAML SSO application (a non-gallery application) but I notice <strong>Identifier (Entity ID)</strong> value is not getting populated in the AAD portal on the <strong>Edit</strong> popup screen, and interestingly the value is showing outside (under the &quot;<strong>Basic SAML Configuration</strong>&quot;) (screenshot added).</p>\n</li>\n<li><p>When I test this SAML configuration with my some Service provider tool, SSO fails and I had to come back to AAD portal and update this <strong>Entity ID</strong> value manually in the Edit screen, then SSO works. So I kind of notice it's because of the Entity ID is getting updated inconsistently.</p>\n</li>\n<li><p>Programmatically my code looks as below, Please help with any inputs if I'm missing something to get this Entity Id value updated consistently.</p>\n<pre><code>  // Create Application\n  Application app = new Application();\n  app.displayName = &quot;TestName&quot;;\n  app.identifierUris = Arrays.asList(&quot;some uri&quot;);\n  app.web = new WebApplication();\n  app.web.redirectUris = Arrays.asList(&quot;https://testredirect.com&quot;);\n  Application registeredApp = graphServiceClient.applications()\n      .buildRequest()\n      .post(app);\n\n  // Create Service principal\n  ServicePrincipal sp = new ServicePrincipal();\n  sp.appId = registeredApp.appId;\n  sp.preferredSingleSignOnMode = &quot;saml&quot;;\n  sp.tags = Arrays.asList(&quot;WindowsAzureActiveDirectoryCustomSingleSignOnApplication&quot;, &quot;WindowsAzureActiveDirectoryIntegratedApp&quot;);\n  ServicePrincipal createdServicePrincipal = graphServiceClient.servicePrincipals()\n      .buildRequest()\n      .post(sp);\n</code></pre>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/qs3iO.png\" rel=\"nofollow noreferrer\">AAD portal screenshot</a></p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":1,"up_vote_count":52,"is_accepted":true,"score":51,"last_activity_date":1220906810,"creation_date":1220904969,"answer_id":50567,"question_id":50524,"body_markdown":"It means that the grouping is [atomic][1], and it throws away backtracking information for a matched group. So, this expression is possessive; it won&#39;t back off even if doing so is the only way for the regex as a whole to succeed. It&#39;s &quot;independent&quot; in the sense that it doesn&#39;t cooperate, via backtracking, with other elements of the regex to ensure a match.\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/atomic.html","title":"What is a regex &quot;independent non-capturing group&quot;?","body":"<p>It means that the grouping is <a href=\"http://www.regular-expressions.info/atomic.html\" rel=\"noreferrer\">atomic</a>, and it throws away backtracking information for a matched group. So, this expression is possessive; it won't back off even if doing so is the only way for the regex as a whole to succeed. It's \"independent\" in the sense that it doesn't cooperate, via backtracking, with other elements of the regex to ensure a match.</p>\n"},{"tags":[],"owner":{"display_name":"Jeff Stuart"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1452848043,"creation_date":1230326534,"answer_id":394291,"question_id":50524,"body_markdown":"If you have `foo(?&gt;(co)*)co`, that will never match. I&#39;m sure there are practical examples of when this would be useful, try O&#39;Reilly&#39;s book.","title":"What is a regex &quot;independent non-capturing group&quot;?","body":"<p>If you have <code>foo(?&gt;(co)*)co</code>, that will never match. I'm sure there are practical examples of when this would be useful, try O'Reilly's book.</p>\n"},{"tags":[],"owner":{"account_id":5597041,"reputation":130,"user_id":4434482,"display_name":"beibichunai"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1654144870,"creation_date":1424643562,"answer_id":28663993,"question_id":50524,"body_markdown":"`(?&gt;X?)` equals `(?:X)?+`, `(?&gt;X*)` equals `(?:X)*+`, `(?&gt;X+)` equals `(?:X)++`.\r\n\r\nTaking away the fact that X must be a non-capturing group, the preceding equivalence is:\r\n\r\n`(?&gt;X?)` equals `X?+`, `(?&gt;X*)` equals `X*+`, `(?&gt;X+)` equals `X++`.","title":"What is a regex &quot;independent non-capturing group&quot;?","body":"<p><code>(?&gt;X?)</code> equals <code>(?:X)?+</code>, <code>(?&gt;X*)</code> equals <code>(?:X)*+</code>, <code>(?&gt;X+)</code> equals <code>(?:X)++</code>.</p>\n<p>Taking away the fact that X must be a non-capturing group, the preceding equivalence is:</p>\n<p><code>(?&gt;X?)</code> equals <code>X?+</code>, <code>(?&gt;X*)</code> equals <code>X*+</code>, <code>(?&gt;X+)</code> equals <code>X++</code>.</p>\n"},{"tags":[],"owner":{"account_id":9886452,"reputation":174,"user_id":7320818,"display_name":"kajibu"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1525319199,"creation_date":1525318307,"answer_id":50146523,"question_id":50524,"body_markdown":"I think [this tutorial][1] explains what exactly &quot;independent, non-capturing group&quot; or &quot;Atomic Grouping&quot; is \r\n\r\n  [1]: https://www.regular-expressions.info/atomic.html\r\n\r\nThe regular expression `a(bc|b)c` (capturing group) matches **abcc** and **abc**. The regex `a(?&gt;bc|b)c` (atomic group) matches **abcc** but not **abc**.\r\n\r\nWhen applied to **abc**, both regexes will match `a` to **a**, `bc` to **bc**, and then `c` will fail to match at the end of the string. Here their paths diverge. The regex with the ***capturing group*** has remembered a backtracking position for the alternation. The group will give up its match, `b` then matches **b** and `c` matches **c**. Match found!\r\n\r\nThe regex with the ***atomic group***, however, exited from an atomic group after `bc` was matched. At that point, all backtracking positions for tokens inside the group are discarded. In this example, the alternation&#39;s option to try `b` at the second position in the string is discarded. As a result, when `c` fails, the regex engine has no alternatives left to try.\r\n\r\n","title":"What is a regex &quot;independent non-capturing group&quot;?","body":"<p>I think <a href=\"https://www.regular-expressions.info/atomic.html\" rel=\"noreferrer\">this tutorial</a> explains what exactly \"independent, non-capturing group\" or \"Atomic Grouping\" is </p>\n\n<p>The regular expression <code>a(bc|b)c</code> (capturing group) matches <strong>abcc</strong> and <strong>abc</strong>. The regex <code>a(?&gt;bc|b)c</code> (atomic group) matches <strong>abcc</strong> but not <strong>abc</strong>.</p>\n\n<p>When applied to <strong>abc</strong>, both regexes will match <code>a</code> to <strong>a</strong>, <code>bc</code> to <strong>bc</strong>, and then <code>c</code> will fail to match at the end of the string. Here their paths diverge. The regex with the <strong><em>capturing group</em></strong> has remembered a backtracking position for the alternation. The group will give up its match, <code>b</code> then matches <strong>b</strong> and <code>c</code> matches <strong>c</strong>. Match found!</p>\n\n<p>The regex with the <strong><em>atomic group</em></strong>, however, exited from an atomic group after <code>bc</code> was matched. At that point, all backtracking positions for tokens inside the group are discarded. In this example, the alternation's option to try <code>b</code> at the second position in the string is discarded. As a result, when <code>c</code> fails, the regex engine has no alternatives left to try.</p>\n"}],"owner":{"account_id":3012,"reputation":4955,"user_id":4265,"accept_rate":90,"display_name":"Peter Hart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7908,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":50567,"answer_count":4,"score":70,"last_activity_date":1654144870,"creation_date":1220903823,"question_id":50524,"body_markdown":"From the Java 6 [Pattern][1] documentation:\r\n\r\n&gt; Special constructs (non-capturing)\r\n&gt; \r\n&gt; &lt;code&gt;(?:&lt;/code&gt;&lt;i&gt;X&lt;/i&gt;&lt;code&gt;)&lt;/code&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;i&gt;X&lt;/i&gt;, as a non-capturing group\r\n&gt;\r\n&gt; â€¦\r\n&gt;\r\n&gt; &lt;code&gt;(?&gt;&lt;/code&gt;&lt;i&gt;X&lt;/i&gt;&lt;code&gt;)&lt;/code&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;i&gt;X&lt;/i&gt;, as an independent, non-capturing group\r\n\r\nBetween `(?:X)` and `(?&gt;X)` what is the difference? What does the **independent** mean in this context?\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\r\n","title":"What is a regex &quot;independent non-capturing group&quot;?","body":"<p>From the Java 6 <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Pattern</a> documentation:</p>\n\n<blockquote>\n  <p>Special constructs (non-capturing)</p>\n  \n  <p><code>(?:</code><i>X</i><code>)</code>&nbsp;&nbsp;&nbsp;<i>X</i>, as a non-capturing group</p>\n  \n  <p>â€¦</p>\n  \n  <p><code>(?></code><i>X</i><code>)</code>&nbsp;&nbsp;&nbsp;<i>X</i>, as an independent, non-capturing group</p>\n</blockquote>\n\n<p>Between <code>(?:X)</code> and <code>(?&gt;X)</code> what is the difference? What does the <strong>independent</strong> mean in this context?</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1654143527,"post_id":72470599,"comment_id":128022332,"body_markdown":"I&#39;m not sure I understand your question correctly.  Are you saying that it works correctly now (that is, `updatable=true` allows it to update, but `updatable=false` doesn&#39;t), but earlier worked incorrectly?  If so, I don&#39;t know how to help you, without seeing what the earlier, incorrect code looked like.  There&#39;s no way for me to tell what it was you unwittingly changed.","body":"I&#39;m not sure I understand your question correctly.  Are you saying that it works correctly now (that is, <code>updatable=true</code> allows it to update, but <code>updatable=false</code> doesn&#39;t), but earlier worked incorrectly?  If so, I don&#39;t know how to help you, without seeing what the earlier, incorrect code looked like.  There&#39;s no way for me to tell what it was you unwittingly changed."},{"owner":{"account_id":24040560,"reputation":43,"user_id":18020301,"display_name":"Sophia"},"score":0,"creation_date":1654144646,"post_id":72470599,"comment_id":128022496,"body_markdown":"@DawoodibnKareem, question updated","body":"@DawoodibnKareem, question updated"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654144856,"post_id":72470599,"comment_id":128022534,"body_markdown":"I still don&#39;t understand your question for exactly the same reasons as @DawoodibnKareem Please clarify what you are asking. Are you sure you are remembering the difference between insert and update?","body":"I still don&#39;t understand your question for exactly the same reasons as @DawoodibnKareem Please clarify what you are asking. Are you sure you are remembering the difference between insert and update?"},{"owner":{"account_id":24040560,"reputation":43,"user_id":18020301,"display_name":"Sophia"},"score":0,"creation_date":1654144913,"post_id":72470599,"comment_id":128022543,"body_markdown":"@tgdavies which part you dont understand ?","body":"@tgdavies which part you dont understand ?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1654144948,"post_id":72470599,"comment_id":128022547,"body_markdown":"Sophia, you changed _something_, even if you can&#39;t remember changing anything.  And there&#39;s no way anyone reading this question is going to be able to know what it was.  I don&#39;t think you&#39;re going to get any kind of useful answer.  Fortunately, it sounds like everything&#39;s now working correctly.","body":"Sophia, you changed <i>something</i>, even if you can&#39;t remember changing anything.  And there&#39;s no way anyone reading this question is going to be able to know what it was.  I don&#39;t think you&#39;re going to get any kind of useful answer.  Fortunately, it sounds like everything&#39;s now working correctly."},{"owner":{"account_id":24040560,"reputation":43,"user_id":18020301,"display_name":"Sophia"},"score":0,"creation_date":1654145008,"post_id":72470599,"comment_id":128022560,"body_markdown":"@DawoodibnKareem, okiee, but can you please share how come @Column(updatable = false) allows to update fields in table ?","body":"@DawoodibnKareem, okiee, but can you please share how come @Column(updatable = false) allows to update fields in table ?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1654145084,"post_id":72470599,"comment_id":128022564,"body_markdown":"It doesn&#39;t.  You can insert values into a column with `updatable=false`, but you can&#39;t update them through JPA.","body":"It doesn&#39;t.  You can insert values into a column with <code>updatable=false</code>, but you can&#39;t update them through JPA."},{"owner":{"account_id":24040560,"reputation":43,"user_id":18020301,"display_name":"Sophia"},"score":0,"creation_date":1654145387,"post_id":72470599,"comment_id":128022614,"body_markdown":"so if key cols value matches, then it should not insert....right ?","body":"so if key cols value matches, then it should not insert....right ?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1654145612,"post_id":72470599,"comment_id":128022644,"body_markdown":"You haven&#39;t specified that the key columns are actually the database key, so JPA won&#39;t stop you inserting duplicate keys.  However, it&#39;s common practice to set up the database with a uniqueness constraint on the columns that are used as a key.  That way, the database itself rejects any duplicate inserts.","body":"You haven&#39;t specified that the key columns are actually the database key, so JPA won&#39;t stop you inserting duplicate keys.  However, it&#39;s common practice to set up the database with a uniqueness constraint on the columns that are used as a key.  That way, the database itself rejects any duplicate inserts."}],"owner":{"account_id":24040560,"reputation":43,"user_id":18020301,"display_name":"Sophia"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654144632,"creation_date":1654143282,"question_id":72470599,"body_markdown":"I was able to update below entity\r\n\r\n    @Table(name = &quot;MyTable&quot;)\r\n    public class MyInfoLine{\r\n    \r\n    \tprivate CompositeKeyCols id;\r\n    \t\r\n    \t@Column(updatable = false)\r\n    \tprivate String status;\r\n    \t\r\n    \t@Column(updatable = false)\r\n    \tprivate LocalDateTime time;\r\n    \r\n    \r\n    }\r\n\r\n\r\nservice to update\r\n\r\n    MyInfoLine myinfo = new MyInfoLine();\r\n    \r\n    CompositeKeyCols key = new CompositeKeyCols();\r\n    key.setkey1(key1);\r\n    key.setkey2(key2);\r\n    key.setkey3(key3);\r\n    key.setkey4(key4);\r\n    myinfo.setstatus(status);\r\n    myinfo.settime(time);\r\n    myinfo.setid(key);\r\n    \r\n    myrepository.save(myinfo);\r\n\r\n\r\nEarlier it used to update `status and time` fields in table with `(updatable = false)`, but suddenly stopped updating in table. While running I can see only `Select` query on console but not the `update` query.\r\n\r\n\r\nMy first doubt is, why even earlier it allowed to update with `@Column(updatable = false)` ? Read online, but still not cleared.\r\n\r\n\r\n`second`, when I change `@Column(updatable = false) &gt; @Column(updatable = true)`, it works fine.\r\n\r\n`third`, what could go wrong that it suddenly stopped updating while @Column(updatable = false) ? In debugger I can see that all values are assigned properly to `myinfo` so that it could update.\r\n\r\n\r\nplease share suggestions. \r\n\r\n    There is no change in code except setting @Column(updatable = true) after same coding stopped working, earlier it was @Column(updatable = false)\r\n\r\n","title":"updatable = false suddenly stopped working","body":"<p>I was able to update below entity</p>\n<pre><code>@Table(name = &quot;MyTable&quot;)\npublic class MyInfoLine{\n\n    private CompositeKeyCols id;\n    \n    @Column(updatable = false)\n    private String status;\n    \n    @Column(updatable = false)\n    private LocalDateTime time;\n\n\n}\n</code></pre>\n<p>service to update</p>\n<pre><code>MyInfoLine myinfo = new MyInfoLine();\n\nCompositeKeyCols key = new CompositeKeyCols();\nkey.setkey1(key1);\nkey.setkey2(key2);\nkey.setkey3(key3);\nkey.setkey4(key4);\nmyinfo.setstatus(status);\nmyinfo.settime(time);\nmyinfo.setid(key);\n\nmyrepository.save(myinfo);\n</code></pre>\n<p>Earlier it used to update <code>status and time</code> fields in table with <code>(updatable = false)</code>, but suddenly stopped updating in table. While running I can see only <code>Select</code> query on console but not the <code>update</code> query.</p>\n<p>My first doubt is, why even earlier it allowed to update with <code>@Column(updatable = false)</code> ? Read online, but still not cleared.</p>\n<p><code>second</code>, when I change <code>@Column(updatable = false) &gt; @Column(updatable = true)</code>, it works fine.</p>\n<p><code>third</code>, what could go wrong that it suddenly stopped updating while @Column(updatable = false) ? In debugger I can see that all values are assigned properly to <code>myinfo</code> so that it could update.</p>\n<p>please share suggestions.</p>\n<pre><code>There is no change in code except setting @Column(updatable = true) after same coding stopped working, earlier it was @Column(updatable = false)\n</code></pre>\n"},{"tags":["java","logging","sentry"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654118473,"post_id":72468064,"comment_id":128018531,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654144272,"creation_date":1654144272,"answer_id":72470698,"question_id":72468064,"body_markdown":"In 1.7 servlet integration was baked into the Sentry Code. Starting from 3.x there is a [separate module for servlet integration](https://docs.sentry.io/platforms/java/guides/servlet/). If you use Spring or Spring Boot, you should look into [dedicated modules](https://docs.sentry.io/platforms/java/guides/spring-boot/) for these.","title":"Sentry Java 5.7.4 Client/Browser tags not shown","body":"<p>In 1.7 servlet integration was baked into the Sentry Code. Starting from 3.x there is a <a href=\"https://docs.sentry.io/platforms/java/guides/servlet/\" rel=\"nofollow noreferrer\">separate module for servlet integration</a>. If you use Spring or Spring Boot, you should look into <a href=\"https://docs.sentry.io/platforms/java/guides/spring-boot/\" rel=\"nofollow noreferrer\">dedicated modules</a> for these.</p>\n"}],"owner":{"account_id":25325192,"reputation":3,"user_id":19145957,"display_name":"user19145957"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72470698,"answer_count":1,"score":0,"last_activity_date":1654144272,"creation_date":1654117629,"question_id":72468064,"body_markdown":"So please tell me if I&#39;m just missing something here, but here is the issue.\r\n\r\n - Sentry Java updated from legacy 1.7.3 -&gt; 5.7.4\r\n - Update working showing - release, username, stack trace, extras all showing\r\n - tags like browser, browser.name, client_os, client_os.name, url not being captured\r\n - runtime and runtime.name are captured now (not captured in our implementation of 1.7.3)\r\n\r\nWe need the browser/os tags to be captured. I was under the impression that these were captured via the init? Maybe I&#39;m wrong here. Any ideas?","title":"Sentry Java 5.7.4 Client/Browser tags not shown","body":"<p>So please tell me if I'm just missing something here, but here is the issue.</p>\n<ul>\n<li>Sentry Java updated from legacy 1.7.3 -&gt; 5.7.4</li>\n<li>Update working showing - release, username, stack trace, extras all showing</li>\n<li>tags like browser, browser.name, client_os, client_os.name, url not being captured</li>\n<li>runtime and runtime.name are captured now (not captured in our implementation of 1.7.3)</li>\n</ul>\n<p>We need the browser/os tags to be captured. I was under the impression that these were captured via the init? Maybe I'm wrong here. Any ideas?</p>\n"},{"tags":["java","jar","package","netty","nio"],"answers":[{"tags":[],"owner":{"account_id":1905096,"reputation":596,"user_id":1720130,"display_name":"vilpan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654143198,"creation_date":1405758477,"answer_id":24838358,"question_id":24821923,"body_markdown":"You seem to be trying to build an application developed against Netty 3.x using **Netty 4.0**.\r\n\r\nThere have been [API changes][1], including channel creation and bootstrap. Also, the package prefix changed from `org.jboss.netty` to `io.netty` reflecting the project status change.\r\n\r\nUse the [API documentation][2] (which no longer documents `NioClientSocketChannelFactory`) corresponding to the release you&#39;re using and checkout the provided examples (*netty-example-4.0.21.Final-sources.jar*) to help port any code you have that&#39;s built against Netty 3.x.\r\n\r\n\r\n  [1]: http://netty.io/wiki/new-and-noteworthy-in-4.0.html\r\n  [2]: http://netty.io/4.0/api/index.html","title":"Package org.jboss.netty.channel.socket.nio does not exist","body":"<p>You seem to be trying to build an application developed against Netty 3.x using <strong>Netty 4.0</strong>.</p>\n<p>There have been <a href=\"http://netty.io/wiki/new-and-noteworthy-in-4.0.html\" rel=\"nofollow noreferrer\">API changes</a>, including channel creation and bootstrap. Also, the package prefix changed from <code>org.jboss.netty</code> to <code>io.netty</code> reflecting the project status change.</p>\n<p>Use the <a href=\"http://netty.io/4.0/api/index.html\" rel=\"nofollow noreferrer\">API documentation</a> (which no longer documents <code>NioClientSocketChannelFactory</code>) corresponding to the release you're using and checkout the provided examples (<em>netty-example-4.0.21.Final-sources.jar</em>) to help port any code you have that's built against Netty 3.x.</p>\n"}],"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24838358,"answer_count":1,"score":1,"last_activity_date":1654143428,"creation_date":1405676581,"question_id":24821923,"body_markdown":"Which JAR contains `org.jboss.netty.channel.socket.nio`?   \r\nI&#39;m **not** using Maven or Ivy, just Ant.\r\n\r\nAnt compile gives:\r\n\r\n    -do-compile:\r\n        [javac] Compiling 4 source files to /home/thufir/NetBeansProjects/EchoClient/build/classes\r\n        [javac] /home/thufir/NetBeansProjects/EchoClient/src/net/bounceme/dur/netty/client/ObjectEchoClient.java:3: error: package org.jboss.netty.channel.socket.nio does not exist\r\n        [javac] import org.jboss.netty.channel.socket.nio.NioClientSocketChannelFactory;\r\n\r\n\r\nIn the classpath is:\r\n\r\n    thufir@dur:~/NetBeansProjects/EchoClient/nbproject$ \r\n    thufir@dur:~/NetBeansProjects/EchoClient/nbproject$ head -n 58 project.properties | tail -n 29\r\n    endorsed.classpath=\r\n    excludes=\r\n    file.reference.netty-all-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/all-in-one/netty-all-4.0.21.Final-sources.jar\r\n    file.reference.netty-all-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/all-in-one/netty-all-4.0.21.Final.jar\r\n    file.reference.netty-buffer-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-buffer-4.0.21.Final-sources.jar\r\n    file.reference.netty-buffer-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-buffer-4.0.21.Final.jar\r\n    file.reference.netty-codec-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-4.0.21.Final-sources.jar\r\n    file.reference.netty-codec-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-4.0.21.Final.jar\r\n    file.reference.netty-codec-http-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-http-4.0.21.Final-sources.jar\r\n    file.reference.netty-codec-http-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-http-4.0.21.Final.jar\r\n    file.reference.netty-codec-socks-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-socks-4.0.21.Final-sources.jar\r\n    file.reference.netty-codec-socks-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-socks-4.0.21.Final.jar\r\n    file.reference.netty-common-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-common-4.0.21.Final-sources.jar\r\n    file.reference.netty-common-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-common-4.0.21.Final.jar\r\n    file.reference.netty-example-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-example-4.0.21.Final-sources.jar\r\n    file.reference.netty-example-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-example-4.0.21.Final.jar\r\n    file.reference.netty-handler-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-handler-4.0.21.Final-sources.jar\r\n    file.reference.netty-handler-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-handler-4.0.21.Final.jar\r\n    file.reference.netty-tcnative-1.1.30.Fork2-linux-x86_64.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-tcnative-1.1.30.Fork2-linux-x86_64.jar\r\n    file.reference.netty-tcnative-1.1.30.Fork2-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-tcnative-1.1.30.Fork2-sources.jar\r\n    file.reference.netty-transport-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-4.0.21.Final-sources.jar\r\n    file.reference.netty-transport-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-4.0.21.Final.jar\r\n    file.reference.netty-transport-rxtx-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-rxtx-4.0.21.Final-sources.jar\r\n    file.reference.netty-transport-rxtx-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-rxtx-4.0.21.Final.jar\r\n    file.reference.netty-transport-sctp-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-sctp-4.0.21.Final-sources.jar\r\n    file.reference.netty-transport-sctp-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-sctp-4.0.21.Final.jar\r\n    file.reference.netty-transport-udt-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-udt-4.0.21.Final-sources.jar\r\n    file.reference.netty-transport-udt-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-udt-4.0.21.Final.jar\r\n    includes=**\r\n    thufir@dur:~/NetBeansProjects/EchoClient/nbproject$ \r\n\r\n\r\nThe library is `netty-4.0.21.Final.tar.bz2`, which was downloaded from the official Netty [website][1].\r\n\r\n\r\n\r\nI added each JAR from that download to the project. Yes, I realize it&#39;s not using the CLI `javac` classpath, but the JAR&#39;s are visible in the project, as well as in the output above.\r\n\r\nI looked through some of the JAR&#39;s and was unable to find this specific class.\r\n\r\n\r\n  [1]: https://netty.io/downloads.html","title":"Package org.jboss.netty.channel.socket.nio does not exist","body":"<p>Which JAR contains <code>org.jboss.netty.channel.socket.nio</code>?<br />\nI'm <strong>not</strong> using Maven or Ivy, just Ant.</p>\n<p>Ant compile gives:</p>\n<pre><code>-do-compile:\n    [javac] Compiling 4 source files to /home/thufir/NetBeansProjects/EchoClient/build/classes\n    [javac] /home/thufir/NetBeansProjects/EchoClient/src/net/bounceme/dur/netty/client/ObjectEchoClient.java:3: error: package org.jboss.netty.channel.socket.nio does not exist\n    [javac] import org.jboss.netty.channel.socket.nio.NioClientSocketChannelFactory;\n</code></pre>\n<p>In the classpath is:</p>\n<pre><code>thufir@dur:~/NetBeansProjects/EchoClient/nbproject$ \nthufir@dur:~/NetBeansProjects/EchoClient/nbproject$ head -n 58 project.properties | tail -n 29\nendorsed.classpath=\nexcludes=\nfile.reference.netty-all-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/all-in-one/netty-all-4.0.21.Final-sources.jar\nfile.reference.netty-all-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/all-in-one/netty-all-4.0.21.Final.jar\nfile.reference.netty-buffer-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-buffer-4.0.21.Final-sources.jar\nfile.reference.netty-buffer-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-buffer-4.0.21.Final.jar\nfile.reference.netty-codec-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-4.0.21.Final-sources.jar\nfile.reference.netty-codec-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-4.0.21.Final.jar\nfile.reference.netty-codec-http-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-http-4.0.21.Final-sources.jar\nfile.reference.netty-codec-http-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-http-4.0.21.Final.jar\nfile.reference.netty-codec-socks-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-socks-4.0.21.Final-sources.jar\nfile.reference.netty-codec-socks-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-codec-socks-4.0.21.Final.jar\nfile.reference.netty-common-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-common-4.0.21.Final-sources.jar\nfile.reference.netty-common-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-common-4.0.21.Final.jar\nfile.reference.netty-example-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-example-4.0.21.Final-sources.jar\nfile.reference.netty-example-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-example-4.0.21.Final.jar\nfile.reference.netty-handler-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-handler-4.0.21.Final-sources.jar\nfile.reference.netty-handler-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-handler-4.0.21.Final.jar\nfile.reference.netty-tcnative-1.1.30.Fork2-linux-x86_64.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-tcnative-1.1.30.Fork2-linux-x86_64.jar\nfile.reference.netty-tcnative-1.1.30.Fork2-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-tcnative-1.1.30.Fork2-sources.jar\nfile.reference.netty-transport-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-4.0.21.Final-sources.jar\nfile.reference.netty-transport-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-4.0.21.Final.jar\nfile.reference.netty-transport-rxtx-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-rxtx-4.0.21.Final-sources.jar\nfile.reference.netty-transport-rxtx-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-rxtx-4.0.21.Final.jar\nfile.reference.netty-transport-sctp-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-sctp-4.0.21.Final-sources.jar\nfile.reference.netty-transport-sctp-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-sctp-4.0.21.Final.jar\nfile.reference.netty-transport-udt-4.0.21.Final-sources.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-udt-4.0.21.Final-sources.jar\nfile.reference.netty-transport-udt-4.0.21.Final.jar=/home/thufir/jars/netty-4.0.21.Final/jar/netty-transport-udt-4.0.21.Final.jar\nincludes=**\nthufir@dur:~/NetBeansProjects/EchoClient/nbproject$ \n</code></pre>\n<p>The library is <code>netty-4.0.21.Final.tar.bz2</code>, which was downloaded from the official Netty <a href=\"https://netty.io/downloads.html\" rel=\"nofollow noreferrer\">website</a>.</p>\n<p>I added each JAR from that download to the project. Yes, I realize it's not using the CLI <code>javac</code> classpath, but the JAR's are visible in the project, as well as in the output above.</p>\n<p>I looked through some of the JAR's and was unable to find this specific class.</p>\n"},{"tags":["java","null","resultset"],"comments":[{"owner":{"account_id":243192,"reputation":6619,"user_id":515205,"accept_rate":83,"display_name":"spaaarky21"},"score":23,"creation_date":1325704628,"post_id":2920364,"comment_id":10874792,"body_markdown":"I found this question because I have a nullable column in a database and it&#39;s represented by an Integer in Java.  You would think that having a nullable numeric column in a database would be common enough that the ResultSet API would accommodate it a little more elegantly.","body":"I found this question because I have a nullable column in a database and it&#39;s represented by an Integer in Java.  You would think that having a nullable numeric column in a database would be common enough that the ResultSet API would accommodate it a little more elegantly."},{"owner":{"account_id":2777652,"reputation":163,"user_id":2714418,"display_name":"s.co.tt"},"score":0,"creation_date":1572404708,"post_id":2920364,"comment_id":103545500,"body_markdown":"I&#39;m not posting this as an answer because it&#39;s tangential and far from universal: My usual solution to this is to put `IF(colName = NULL, 0, colName) AS colName` in the `SELECT` statement (preferably in a stored proc).  Philosophically this comes down to whether the DB should conform to the app, or vice versa.  Since SQL handles NULLs easily and many SQL consumers do not (i.e. `java.sql.ResultSet`), I opt to handle it at the DB when possible.  (This, of course, assumes that conceptually NULL and zero are equivalent for your purposes.)","body":"I&#39;m not posting this as an answer because it&#39;s tangential and far from universal: My usual solution to this is to put <code>IF(colName = NULL, 0, colName) AS colName</code> in the <code>SELECT</code> statement (preferably in a stored proc).  Philosophically this comes down to whether the DB should conform to the app, or vice versa.  Since SQL handles NULLs easily and many SQL consumers do not (i.e. <code>java.sql.ResultSet</code>), I opt to handle it at the DB when possible.  (This, of course, assumes that conceptually NULL and zero are equivalent for your purposes.)"},{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":0,"creation_date":1606573404,"post_id":2920364,"comment_id":115003327,"body_markdown":"You could do this easily in SQL without worrying about SQL `NULL` and Java `null`. Just write `... IS NOT NULL` and retrieve this as a `boolean` value in JDBC.","body":"You could do this easily in SQL without worrying about SQL <code>NULL</code> and Java <code>null</code>. Just write <code>... IS NOT NULL</code> and retrieve this as a <code>boolean</code> value in JDBC."}],"answers":[{"tags":[],"owner":{"account_id":25459,"reputation":9750,"user_id":65454,"display_name":"Richard"},"down_vote_count":1,"up_vote_count":441,"is_accepted":true,"score":440,"last_activity_date":1486629567,"creation_date":1274957440,"answer_id":2920420,"question_id":2920364,"body_markdown":"The default for `ResultSet.getInt` when the field value is `NULL` is to return `0`, which is also the default value for your `iVal` declaration. In which case your test is completely redundant.\r\n\r\nIf you actually want to do something different if the field value is NULL, I suggest:\r\n\r\n    int iVal = 0;\r\n    ResultSet rs = magicallyAppearingStmt.executeQuery(query);\r\n    if (rs.next()) {\r\n        iVal = rs.getInt(&quot;ID_PARENT&quot;);\r\n        if (rs.wasNull()) {\r\n            // handle NULL field value\r\n        }\r\n    }\r\n\r\n(Edited as @martin comments below; the OP code as written would not compile because `iVal` is not initialised)","title":"Checking for a null int value from a Java ResultSet","body":"<p>The default for <code>ResultSet.getInt</code> when the field value is <code>NULL</code> is to return <code>0</code>, which is also the default value for your <code>iVal</code> declaration. In which case your test is completely redundant.</p>\n\n<p>If you actually want to do something different if the field value is NULL, I suggest:</p>\n\n<pre><code>int iVal = 0;\nResultSet rs = magicallyAppearingStmt.executeQuery(query);\nif (rs.next()) {\n    iVal = rs.getInt(\"ID_PARENT\");\n    if (rs.wasNull()) {\n        // handle NULL field value\n    }\n}\n</code></pre>\n\n<p>(Edited as @martin comments below; the OP code as written would not compile because <code>iVal</code> is not initialised)</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1395660771,"creation_date":1274957628,"answer_id":2920436,"question_id":2920364,"body_markdown":"I think, it is redundant. `rs.getObject(&quot;ID_PARENT&quot;)` should return an `Integer` object or `null`, if the column value actually was `NULL`. So it should even be possible to do something like:\r\n\r\n    if (rs.next()) {\r\n      Integer idParent = (Integer) rs.getObject(&quot;ID_PARENT&quot;);\r\n      if (idParent != null) {\r\n        iVal = idParent; // works for Java 1.5+\r\n      } else {\r\n        // handle this case\r\n      }      \r\n    }\r\n\r\n","title":"Checking for a null int value from a Java ResultSet","body":"<p>I think, it is redundant. <code>rs.getObject(\"ID_PARENT\")</code> should return an <code>Integer</code> object or <code>null</code>, if the column value actually was <code>NULL</code>. So it should even be possible to do something like:</p>\n\n<pre><code>if (rs.next()) {\n  Integer idParent = (Integer) rs.getObject(\"ID_PARENT\");\n  if (idParent != null) {\n    iVal = idParent; // works for Java 1.5+\n  } else {\n    // handle this case\n  }      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1274957772,"creation_date":1274957772,"answer_id":2920454,"question_id":2920364,"body_markdown":"AFAIK you can simply use\r\n\r\n    iVal = rs.getInt(&quot;ID_PARENT&quot;);\r\n    if (rs.wasNull()) {\r\n      // do somthing interesting to handle this situation\r\n    }\r\n\r\neven if it is NULL.\r\n\r\n\r\n","title":"Checking for a null int value from a Java ResultSet","body":"<p>AFAIK you can simply use</p>\n\n<pre><code>iVal = rs.getInt(\"ID_PARENT\");\nif (rs.wasNull()) {\n  // do somthing interesting to handle this situation\n}\n</code></pre>\n\n<p>even if it is NULL.</p>\n"},{"tags":[],"owner":{"account_id":141574,"reputation":1442,"user_id":348712,"accept_rate":100,"display_name":"Chris"},"down_vote_count":14,"up_vote_count":6,"is_accepted":false,"score":-8,"last_activity_date":1382012891,"creation_date":1274970507,"answer_id":2922012,"question_id":2920364,"body_markdown":"Another nice way of checking, if you have control the SQL, is to add a default value in the query itself for your int column. Then just check for that value.\r\n\r\ne.g for an Oracle database, use NVL\r\n\r\n    SELECT NVL(ID_PARENT, -999) FROM TABLE_NAME;\r\n\r\nthen check\r\n\r\n    if (rs.getInt(&#39;ID_PARENT&#39;) != -999)\r\n    {\r\n    }\r\n\r\nOf course this also is under the assumption that there is a value that wouldn&#39;t normally be found in the column.","title":"Checking for a null int value from a Java ResultSet","body":"<p>Another nice way of checking, if you have control the SQL, is to add a default value in the query itself for your int column. Then just check for that value.</p>\n\n<p>e.g for an Oracle database, use NVL</p>\n\n<pre><code>SELECT NVL(ID_PARENT, -999) FROM TABLE_NAME;\n</code></pre>\n\n<p>then check</p>\n\n<pre><code>if (rs.getInt('ID_PARENT') != -999)\n{\n}\n</code></pre>\n\n<p>Of course this also is under the assumption that there is a value that wouldn't normally be found in the column.</p>\n"},{"tags":[],"owner":{"account_id":652925,"reputation":1121,"user_id":457254,"display_name":"Patrice IMBERT"},"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1431600898,"creation_date":1285330887,"answer_id":3786996,"question_id":2920364,"body_markdown":"Another solution:\r\n\r\n    public class DaoTools {\r\n    \tstatic public Integer getInteger(ResultSet rs, String strColName) throws SQLException {\r\n    \t\tint nValue = rs.getInt(strColName);\r\n    \t\treturn rs.wasNull() ? null : nValue;\r\n    \t}\r\n    }\r\n\r\n","title":"Checking for a null int value from a Java ResultSet","body":"<p>Another solution:</p>\n\n<pre><code>public class DaoTools {\n    static public Integer getInteger(ResultSet rs, String strColName) throws SQLException {\n        int nValue = rs.getInt(strColName);\n        return rs.wasNull() ? null : nValue;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1432027230,"creation_date":1285331239,"answer_id":3787042,"question_id":2920364,"body_markdown":"Just check if the field is `null` or not using [`ResultSet#getObject()`][1]. Substitute `-1` with whatever null-case value you want.\r\n\r\n    int foo = resultSet.getObject(&quot;foo&quot;) != null ? resultSet.getInt(&quot;foo&quot;) : -1;\r\n\r\nOr, if you can guarantee that you use the right DB column type so that `ResultSet#getObject()` really returns an `Integer` (and thus not `Long`, `Short` or `Byte`), then you can also just typecast it to an `Integer`.\r\n\r\n    Integer foo = (Integer) resultSet.getObject(&quot;foo&quot;);\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-java.lang.String-","title":"Checking for a null int value from a Java ResultSet","body":"<p>Just check if the field is <code>null</code> or not using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-java.lang.String-\" rel=\"noreferrer\"><code>ResultSet#getObject()</code></a>. Substitute <code>-1</code> with whatever null-case value you want.</p>\n\n<pre><code>int foo = resultSet.getObject(\"foo\") != null ? resultSet.getInt(\"foo\") : -1;\n</code></pre>\n\n<p>Or, if you can guarantee that you use the right DB column type so that <code>ResultSet#getObject()</code> really returns an <code>Integer</code> (and thus not <code>Long</code>, <code>Short</code> or <code>Byte</code>), then you can also just typecast it to an <code>Integer</code>.</p>\n\n<pre><code>Integer foo = (Integer) resultSet.getObject(\"foo\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5320261,"reputation":7235,"user_id":4243908,"accept_rate":77,"display_name":"George"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1467882846,"creation_date":1467882846,"answer_id":38241632,"question_id":2920364,"body_markdown":"With java 8 you can do this:\r\n\r\n    Long nVal = Optional.ofNullable(resultSet.getBigDecimal(&quot;col_name&quot;))\r\n                        .map(BigDecimal::longValue).orElse(null));\r\n\r\nIn that case you ensure that the nVal will be null (and not zero) if the SQL value is NULL","title":"Checking for a null int value from a Java ResultSet","body":"<p>With java 8 you can do this:</p>\n\n<pre><code>Long nVal = Optional.ofNullable(resultSet.getBigDecimal(\"col_name\"))\n                    .map(BigDecimal::longValue).orElse(null));\n</code></pre>\n\n<p>In that case you ensure that the nVal will be null (and not zero) if the SQL value is NULL</p>\n"},{"tags":[],"owner":{"account_id":6625345,"reputation":176,"user_id":5115752,"accept_rate":38,"display_name":"Jacob Crofts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486275017,"creation_date":1486275017,"answer_id":42049092,"question_id":2920364,"body_markdown":"For convenience, you can create a wrapper class around ResultSet that returns null values when `ResultSet` ordinarily would not.\r\n\r\n\tpublic final class ResultSetWrapper {\r\n\t\t\r\n\t\tprivate final ResultSet rs;\r\n\t\r\n\t\tpublic ResultSetWrapper(ResultSet rs) {\r\n\t\t\tthis.rs = rs;\r\n\t\t}\r\n\t\t\r\n\t\tpublic ResultSet getResultSet() {\r\n\t\t\treturn rs;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Boolean getBoolean(String label) throws SQLException {\r\n\t\t\tfinal boolean b = rs.getBoolean(label);\r\n\t\t\tif (rs.wasNull()) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn b;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Byte getByte(String label) throws SQLException {\r\n\t\t\tfinal byte b = rs.getByte(label);\r\n\t\t\tif (rs.wasNull()) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn b;\r\n\t\t}\r\n\t\t\r\n\t\t// ...\r\n\t\t\r\n\t}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html","title":"Checking for a null int value from a Java ResultSet","body":"<p>For convenience, you can create a wrapper class around ResultSet that returns null values when <code>ResultSet</code> ordinarily would not.</p>\n\n<pre><code>public final class ResultSetWrapper {\n\n    private final ResultSet rs;\n\n    public ResultSetWrapper(ResultSet rs) {\n        this.rs = rs;\n    }\n\n    public ResultSet getResultSet() {\n        return rs;\n    }\n\n    public Boolean getBoolean(String label) throws SQLException {\n        final boolean b = rs.getBoolean(label);\n        if (rs.wasNull()) {\n            return null;\n        }\n        return b;\n    }\n\n    public Byte getByte(String label) throws SQLException {\n        final byte b = rs.getByte(label);\n        if (rs.wasNull()) {\n            return null;\n        }\n        return b;\n    }\n\n    // ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1027194,"reputation":419,"user_id":1036250,"display_name":"luchoct"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1499196480,"creation_date":1499196480,"answer_id":44912979,"question_id":2920364,"body_markdown":"Just an update with Java Generics.\r\n\r\nYou could create an utility method to retrieve an optional value of any Java type from a given ResultSet, previously casted.\r\n\r\nUnfortunately, getObject(columnName, Class&lt;T&gt;) does not return null, but the default value for given Java type, so 2 calls are required \r\n\r\n    public &lt;T&gt; T getOptionalValue(final ResultSet rs, final String columnName, final Class&lt;T&gt; clazz) throws SQLException {\r\n        final T value = rs.getObject(columnName, clazz);\r\n        return rs.wasNull() ? null : value;\r\n    }\r\n\r\nIn this example, your code could look like below:\r\n\r\n    final Integer columnValue = getOptionalValue(rs, Integer.class);\r\n    if (columnValue == null) {\r\n        //null handling\r\n    } else {\r\n        //use int value of columnValue with autoboxing\r\n    }\r\n\r\n  Happy to get feedback\r\n\r\n\r\n","title":"Checking for a null int value from a Java ResultSet","body":"<p>Just an update with Java Generics.</p>\n\n<p>You could create an utility method to retrieve an optional value of any Java type from a given ResultSet, previously casted.</p>\n\n<p>Unfortunately, getObject(columnName, Class) does not return null, but the default value for given Java type, so 2 calls are required </p>\n\n<pre><code>public &lt;T&gt; T getOptionalValue(final ResultSet rs, final String columnName, final Class&lt;T&gt; clazz) throws SQLException {\n    final T value = rs.getObject(columnName, clazz);\n    return rs.wasNull() ? null : value;\n}\n</code></pre>\n\n<p>In this example, your code could look like below:</p>\n\n<pre><code>final Integer columnValue = getOptionalValue(rs, Integer.class);\nif (columnValue == null) {\n    //null handling\n} else {\n    //use int value of columnValue with autoboxing\n}\n</code></pre>\n\n<p>Happy to get feedback</p>\n"},{"tags":[],"owner":{"account_id":4216305,"reputation":43,"user_id":3452404,"display_name":"amine kriaa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553360955,"creation_date":1553191104,"answer_id":55286563,"question_id":2920364,"body_markdown":"You can call this method using the resultSet and the column name having Number type. It will either return the Integer value, or null. There will be no zeros returned for empty value in the database\r\n\r\n    private Integer getIntWithNullCheck(ResultSet rset, String columnName) {\r\n        try {\r\n            Integer value = rset.getInt(columnName);\r\n            return rset.wasNull() ? null : value;\r\n        } catch (Exception e) {\r\n            return null;\r\n        }\r\n    }","title":"Checking for a null int value from a Java ResultSet","body":"<p>You can call this method using the resultSet and the column name having Number type. It will either return the Integer value, or null. There will be no zeros returned for empty value in the database</p>\n\n<pre><code>private Integer getIntWithNullCheck(ResultSet rset, String columnName) {\n    try {\n        Integer value = rset.getInt(columnName);\n        return rset.wasNull() ? null : value;\n    } catch (Exception e) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1675380,"reputation":76,"user_id":1541066,"display_name":"Gilson Araujo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617309228,"creation_date":1617309228,"answer_id":66911219,"question_id":2920364,"body_markdown":"Just in case someone comes here while programming in Kotlin (as I did), the answer suggested by BalusC works fine. Just be aware that `Short` and `Float` are instantiated as `Integer` and `Double` (respectively) inside `ResultSet`, and we should cast them to the correct type after calling `getObject()`. In my case the final code was:\r\n\r\n    when {\r\n        propKClass.isSubclassOf(Int::class) -&gt; rs.getObject(colName) as Int? \r\n        propKClass.isSubclassOf(Short::class) -&gt; (rs.getObject(colName) as Int?)?.toShort()\r\n        propKClass.isSubclassOf(Long::class) -&gt; rs.getObject(colName) as Long?\r\n        propKClass.isSubclassOf(Boolean::class) -&gt; rs.getObject(colName) as Boolean?\r\n        propKClass.isSubclassOf(Double::class) -&gt; rs.getObject(colName) as Double?\r\n        propKClass.isSubclassOf(Float::class) -&gt; (rs.getObject(colName) as Double?)?.toFloat()\r\n        else -&gt; rs.getString(colName)\r\n    }\r\n","title":"Checking for a null int value from a Java ResultSet","body":"<p>Just in case someone comes here while programming in Kotlin (as I did), the answer suggested by BalusC works fine. Just be aware that <code>Short</code> and <code>Float</code> are instantiated as <code>Integer</code> and <code>Double</code> (respectively) inside <code>ResultSet</code>, and we should cast them to the correct type after calling <code>getObject()</code>. In my case the final code was:</p>\n<pre><code>when {\n    propKClass.isSubclassOf(Int::class) -&gt; rs.getObject(colName) as Int? \n    propKClass.isSubclassOf(Short::class) -&gt; (rs.getObject(colName) as Int?)?.toShort()\n    propKClass.isSubclassOf(Long::class) -&gt; rs.getObject(colName) as Long?\n    propKClass.isSubclassOf(Boolean::class) -&gt; rs.getObject(colName) as Boolean?\n    propKClass.isSubclassOf(Double::class) -&gt; rs.getObject(colName) as Double?\n    propKClass.isSubclassOf(Float::class) -&gt; (rs.getObject(colName) as Double?)?.toFloat()\n    else -&gt; rs.getString(colName)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5423691,"reputation":1195,"user_id":4316647,"display_name":"Chad Juliano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639674868,"creation_date":1639674868,"answer_id":70383052,"question_id":2920364,"body_markdown":"If you want an alternative to calling `ResultSet.wasNull()` you can use `getObject()` and cast to the correct type.\r\n\r\n    Long val = (Long)rs.getObject(pos++);\r\n\r\nYou can also set null values in a `Statement` with `setObject()`.\r\n\r\n    pstmt.setObject(pos++, null);\r\n\r\n\r\n","title":"Checking for a null int value from a Java ResultSet","body":"<p>If you want an alternative to calling <code>ResultSet.wasNull()</code> you can use <code>getObject()</code> and cast to the correct type.</p>\n<pre><code>Long val = (Long)rs.getObject(pos++);\n</code></pre>\n<p>You can also set null values in a <code>Statement</code> with <code>setObject()</code>.</p>\n<pre><code>pstmt.setObject(pos++, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":990768,"reputation":6513,"user_id":1008162,"accept_rate":90,"display_name":"Naruto Sempai"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654143240,"creation_date":1654141433,"answer_id":72470414,"question_id":2920364,"body_markdown":"In Kotlin I would just solve it once and be done with the issue forever with this: \r\n\r\n```\r\nfun &lt;K : Any&gt; ResultSet.getNullable(columnLabel: String, type: KClass&lt;K&gt;): K? = \r\n    this.getObject(columnLabel, type.java)\r\n```\r\n\r\nSo later you can just do this: \r\n\r\n```\r\nrs.getNullable(&quot;ID_PARENT&quot;, Int::class)\r\n```\r\n\r\nI guess if you want you could also do this too\r\n\r\n```\r\nfun &lt;K&gt; ResultSet.getNullable(columnLabel: String, type: Class&lt;K&gt;): K? = \r\n    this.getObject(columnLabel, type)\r\n```\r\n\r\nSo you can just do this: \r\n\r\n```\r\nrs.getNullable(&quot;ID_PARENT&quot;, Int::class.java)\r\n```\r\n\r\n**Or** better still make both methods available if you happen to be dealing with developers that can&#39;t agree on even the simplest of things.\r\n\r\n```\r\nfun &lt;K : Any&gt; ResultSet.getNullable(columnLabel: String, type: KClass&lt;K&gt;): K? =\r\n        this.getNullable(columnLabel, type.java)\r\n\r\nfun &lt;K&gt; ResultSet.getNullable(columnLabel: String, type: Class&lt;K&gt;): K? =\r\n        this.getObject(columnLabel, type)\r\n```\r\n\r\nEdit: if the library is still being fussy you can finally do something like: \r\n\r\n```\r\nrs.getNullable(&quot;ID_PARENT&quot;, String::class)?.let {FOO.valueOf(it) }\r\n```","title":"Checking for a null int value from a Java ResultSet","body":"<p>In Kotlin I would just solve it once and be done with the issue forever with this:</p>\n<pre><code>fun &lt;K : Any&gt; ResultSet.getNullable(columnLabel: String, type: KClass&lt;K&gt;): K? = \n    this.getObject(columnLabel, type.java)\n</code></pre>\n<p>So later you can just do this:</p>\n<pre><code>rs.getNullable(&quot;ID_PARENT&quot;, Int::class)\n</code></pre>\n<p>I guess if you want you could also do this too</p>\n<pre><code>fun &lt;K&gt; ResultSet.getNullable(columnLabel: String, type: Class&lt;K&gt;): K? = \n    this.getObject(columnLabel, type)\n</code></pre>\n<p>So you can just do this:</p>\n<pre><code>rs.getNullable(&quot;ID_PARENT&quot;, Int::class.java)\n</code></pre>\n<p><strong>Or</strong> better still make both methods available if you happen to be dealing with developers that can't agree on even the simplest of things.</p>\n<pre><code>fun &lt;K : Any&gt; ResultSet.getNullable(columnLabel: String, type: KClass&lt;K&gt;): K? =\n        this.getNullable(columnLabel, type.java)\n\nfun &lt;K&gt; ResultSet.getNullable(columnLabel: String, type: Class&lt;K&gt;): K? =\n        this.getObject(columnLabel, type)\n</code></pre>\n<p>Edit: if the library is still being fussy you can finally do something like:</p>\n<pre><code>rs.getNullable(&quot;ID_PARENT&quot;, String::class)?.let {FOO.valueOf(it) }\n</code></pre>\n"}],"owner":{"account_id":8581,"reputation":5936,"user_id":15530,"accept_rate":95,"display_name":"ian_scho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326733,"favorite_count":0,"down_vote_count":1,"up_vote_count":331,"accepted_answer_id":2920420,"answer_count":13,"score":330,"last_activity_date":1654143240,"creation_date":1274956939,"question_id":2920364,"body_markdown":"In Java I&#39;m trying to test for a null value, from a ResultSet, where the column is being cast to a primitive *int* type. \r\n\r\n    int iVal;\r\n    ResultSet rs = magicallyAppearingStmt.executeQuery(query);\r\n    if (rs.next()) {\r\n      if (rs.getObject(&quot;ID_PARENT&quot;) != null &amp;&amp; !rs.wasNull()) {\r\n        iVal = rs.getInt(&quot;ID_PARENT&quot;);\r\n      }\r\n    }\r\n\r\nFrom the code fragment above, is there a better way to do this, and I assume that the second [wasNull()][1] test is redundant?\r\n\r\nEducate us, and Thanks \r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/sql/ResultSet.html#wasNull()","title":"Checking for a null int value from a Java ResultSet","body":"<p>In Java I'm trying to test for a null value, from a ResultSet, where the column is being cast to a primitive <em>int</em> type. </p>\n\n<pre><code>int iVal;\nResultSet rs = magicallyAppearingStmt.executeQuery(query);\nif (rs.next()) {\n  if (rs.getObject(\"ID_PARENT\") != null &amp;&amp; !rs.wasNull()) {\n    iVal = rs.getInt(\"ID_PARENT\");\n  }\n}\n</code></pre>\n\n<p>From the code fragment above, is there a better way to do this, and I assume that the second <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/sql/ResultSet.html#wasNull()\" rel=\"noreferrer\">wasNull()</a> test is redundant?</p>\n\n<p>Educate us, and Thanks </p>\n"},{"tags":["java","testing","karate","web-api-testing"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654143107,"creation_date":1654143107,"answer_id":72470586,"question_id":72470573,"body_markdown":"Aren&#39;t you missing the quotes (for a string argument to `Java.type()`\r\n\r\n    * def XMLValidator = Java.type(&#39;base.utility.XMLValidator&#39;)","title":"Karate ReferenceError: package is not defined","body":"<p>Aren't you missing the quotes (for a string argument to <code>Java.type()</code></p>\n<pre><code>* def XMLValidator = Java.type('base.utility.XMLValidator')\n</code></pre>\n"}],"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72470586,"answer_count":1,"score":1,"last_activity_date":1654143107,"creation_date":1654142968,"question_id":72470573,"body_markdown":"I&#39;m using java codes in karate feature file, refering github demo: \r\n```\r\nBackground:\r\n* url demoBaseUrl\r\n* def JavaDemo = Java.type(&#39;com.intuit.karate.demo.util.JavaDemo&#39;)\r\n\r\n```\r\nI noticed that the feature file is in src/test/java, which defined as classpath in pom.xml. Meanwhile the util class is in src/main/java.\r\n\r\nIn my project I use similar structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fmKab.png\r\n\r\nFollowing code is in the feature file with Class Reference:\r\n\r\n```\r\n    * def XMLValidator = Java.type(base.utility.XMLValidator)\r\n    * def validator = new XMLValidator()\r\n```\r\n\r\nBut I got an exception below:\r\n\r\n```\r\norg.graalvm.polyglot.PolyglotException: ReferenceError: &quot;base&quot; is not defined\r\n```\r\n\r\nIs it a classpath problem?","title":"Karate ReferenceError: package is not defined","body":"<p>I'm using java codes in karate feature file, refering github demo:</p>\n<pre><code>Background:\n* url demoBaseUrl\n* def JavaDemo = Java.type('com.intuit.karate.demo.util.JavaDemo')\n\n</code></pre>\n<p>I noticed that the feature file is in src/test/java, which defined as classpath in pom.xml. Meanwhile the util class is in src/main/java.</p>\n<p>In my project I use similar structure</p>\n<p><a href=\"https://i.stack.imgur.com/fmKab.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fmKab.png\" alt=\"enter image description here\" /></a></p>\n<p>Following code is in the feature file with Class Reference:</p>\n<pre><code>    * def XMLValidator = Java.type(base.utility.XMLValidator)\n    * def validator = new XMLValidator()\n</code></pre>\n<p>But I got an exception below:</p>\n<pre><code>org.graalvm.polyglot.PolyglotException: ReferenceError: &quot;base&quot; is not defined\n</code></pre>\n<p>Is it a classpath problem?</p>\n"},{"tags":["java","netbeans","signals","netbeans-7","shutdown-hook"],"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":2,"creation_date":1311871658,"post_id":6861939,"comment_id":8162570,"body_markdown":"[This](http://netbeans.org/bugzilla/show_bug.cgi?id=22641) maybe of used.  I haven&#39;t read it all, but it seems it&#39;s a bug.","body":"<a href=\"http://netbeans.org/bugzilla/show_bug.cgi?id=22641\" rel=\"nofollow noreferrer\">This</a> maybe of used.  I haven&#39;t read it all, but it seems it&#39;s a bug."},{"owner":{"account_id":138690,"reputation":1761,"user_id":343794,"accept_rate":89,"display_name":"Fabio Filippi"},"score":0,"creation_date":1311872420,"post_id":6861939,"comment_id":8162797,"body_markdown":"Thank you. Maybe is impossible.","body":"Thank you. Maybe is impossible."},{"owner":{"account_id":138690,"reputation":1761,"user_id":343794,"accept_rate":89,"display_name":"Fabio Filippi"},"score":0,"creation_date":1312067037,"post_id":6861939,"comment_id":8196162,"body_markdown":"@Paul No, at the moment. Except for the &quot;StopThread&quot;.","body":"@Paul No, at the moment. Except for the &quot;StopThread&quot;."}],"answers":[{"tags":[],"owner":{"account_id":78275,"reputation":2320,"user_id":222892,"accept_rate":100,"display_name":"Ivan Sopov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1312056535,"creation_date":1312056128,"answer_id":6885678,"question_id":6861939,"body_markdown":"You are on Linux and this makes it really easy. I have written very little test and observe\r\nthe same behavior as you - with crtl+c running from the terminal hook is working, stopping in Netbeans it does not. Here are some workarounds:\r\n\r\n1. I&#39;m on Gnome and when I find the running process in the System Monitor and press &quot;End process&quot; on it - hook is working.\r\n2. Other, more universal way:\r\n\r\n        $ ps ax | grep Hook\r\n        17144 ?        Sl     1:21 /usr/lib/jvm/java-6-sun/bin/java -Dfile.encoding=UTF-8 -classpath /home/isopov/NetBeansProjects/ShutdownHookTest/build/classes:/home/isopov/NetBeansProjects/ShutdownHookTest/src shutdownhooktest.ShutdownHookTest\r\n        17176 pts/2    R+     0:00 grep --color=auto Hook\r\n        $ kill -15 17144\r\n\r\nOr in one line:\r\n\r\n        $ ps x | grep HookTest | grep java | awk &#39;{print $1}&#39; | xargs kill -15","title":"How netbeans stops a run?","body":"<p>You are on Linux and this makes it really easy. I have written very little test and observe\nthe same behavior as you - with crtl+c running from the terminal hook is working, stopping in Netbeans it does not. Here are some workarounds:</p>\n\n<ol>\n<li>I'm on Gnome and when I find the running process in the System Monitor and press \"End process\" on it - hook is working.</li>\n<li><p>Other, more universal way:</p>\n\n<pre><code>$ ps ax | grep Hook\n17144 ?        Sl     1:21 /usr/lib/jvm/java-6-sun/bin/java -Dfile.encoding=UTF-8 -classpath /home/isopov/NetBeansProjects/ShutdownHookTest/build/classes:/home/isopov/NetBeansProjects/ShutdownHookTest/src shutdownhooktest.ShutdownHookTest\n17176 pts/2    R+     0:00 grep --color=auto Hook\n$ kill -15 17144\n</code></pre></li>\n</ol>\n\n<p>Or in one line:</p>\n\n<pre><code>    $ ps x | grep HookTest | grep java | awk '{print $1}' | xargs kill -15\n</code></pre>\n"}],"owner":{"account_id":138690,"reputation":1761,"user_id":343794,"accept_rate":89,"display_name":"Fabio Filippi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9052,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6885678,"answer_count":1,"score":4,"last_activity_date":1654142969,"creation_date":1311868525,"question_id":6861939,"body_markdown":"I&#39;m programming with Java in Linux using Netbeans 7 and as my program (sometimes) could not exit (not in this eon, maybe) I create a thread to handle shutdown\r\n\r\n    Runtime.getRuntime().addShutdownHook(new StopThread());\r\n\r\nBut when I launch the code with netbeans (F6) and stop it through the &quot;STOP&quot; button the thread is not created; but if I run the program through the terminal and send CTRL-c the thread is created.  \r\nThe question is: what type of signal netbeans launches to terminate the program?  \r\nOr (better): how can i handle the stop of netbeans such that the thread is created if i force to stop the program?  \r\nOr is there a way to modify how the stop works?\r\n\r\nThank you!","title":"How netbeans stops a run?","body":"<p>I'm programming with Java in Linux using Netbeans 7 and as my program (sometimes) could not exit (not in this eon, maybe) I create a thread to handle shutdown</p>\n\n<pre><code>Runtime.getRuntime().addShutdownHook(new StopThread());\n</code></pre>\n\n<p>But when I launch the code with netbeans (F6) and stop it through the \"STOP\" button the thread is not created; but if I run the program through the terminal and send CTRL-c the thread is created.<br>\nThe question is: what type of signal netbeans launches to terminate the program?<br>\nOr (better): how can i handle the stop of netbeans such that the thread is created if i force to stop the program?<br>\nOr is there a way to modify how the stop works?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","javascript","button","click","selenium-webdriver"],"comments":[{"owner":{"account_id":541053,"reputation":16663,"user_id":909376,"accept_rate":100,"display_name":"WTK"},"score":0,"creation_date":1344931050,"post_id":11947832,"comment_id":15918497,"body_markdown":"I don&#39;t get it - you want the `.click()` to fire javascript function binded to that button? Or do you need something like http://code.google.com/p/selenium/wiki/FrequentlyAskedQuestions#Q:_How_do_I_execute_Javascript_directly?","body":"I don&#39;t get it - you want the <code>.click()</code> to fire javascript function binded to that button? Or do you need something like <a href=\"http://code.google.com/p/selenium/wiki/FrequentlyAskedQuestions#Q:_How_do_I_execute_Javascript_directly\" rel=\"nofollow noreferrer\">code.google.com/p/selenium/wiki/&hellip;</a>?"}],"answers":[{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1344932030,"creation_date":1344932030,"answer_id":11948299,"question_id":11947832,"body_markdown":"Here is the code using JavaScript to click the button in WebDriver:\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;document.getElementById(&#39;gbqfb&#39;).click();&quot;);","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>Here is the code using JavaScript to click the button in WebDriver:</p>\n\n<pre><code>WebDriver driver = new FirefoxDriver();\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(\"document.getElementById('gbqfb').click();\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":376029,"reputation":1682,"user_id":727226,"accept_rate":77,"display_name":"Stilltorik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466599792,"creation_date":1344932291,"answer_id":11948367,"question_id":11947832,"body_markdown":"You can&#39;t use WebDriver to do it in JavaScript, as WebDriver is a Java tool. However, you can execute JavaScript from Java using WebDriver, and you could call some JavaScript code that clicks a particular button.\r\n\r\n    WebDriver driver; // Assigned elsewhere\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;window.document.getElementById(&#39;gbqfb&#39;).click()&quot;);\r\n\r\n","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>You can't use WebDriver to do it in JavaScript, as WebDriver is a Java tool. However, you can execute JavaScript from Java using WebDriver, and you could call some JavaScript code that clicks a particular button.</p>\n\n<pre><code>WebDriver driver; // Assigned elsewhere\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"window.document.getElementById('gbqfb').click()\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":157039,"reputation":27241,"user_id":374693,"accept_rate":79,"display_name":"JimEvans"},"down_vote_count":1,"up_vote_count":116,"is_accepted":true,"score":115,"last_activity_date":1590173666,"creation_date":1344959389,"answer_id":11956130,"question_id":11947832,"body_markdown":"Executing a click via JavaScript has some behaviors of which you should be aware. If for example, the code bound to the `onclick` event of your element invokes `window.alert()`, you may find your Selenium code hanging, depending on the implementation of the browser driver. That said, you can use the `JavascriptExecutor` class to do this. My solution differs from others proposed, however, in that you can still use the WebDriver methods for locating the elements.\r\n\r\n    // Assume driver is a valid WebDriver instance that\r\n    // has been properly instantiated elsewhere.\r\n    WebElement element = driver.findElement(By.id(&quot;gbqfd&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\r\nYou should also note that you might be better off using the `click()` method of the `WebElement` interface, but [disabling native events][1] before instantiating your driver. This would accomplish the same goal (with the same potential limitations), but not force you to write and maintain your own JavaScript.\r\n\r\n[1]: https://github.com/SeleniumHQ/selenium/wiki/DesiredCapabilities","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>Executing a click via JavaScript has some behaviors of which you should be aware. If for example, the code bound to the <code>onclick</code> event of your element invokes <code>window.alert()</code>, you may find your Selenium code hanging, depending on the implementation of the browser driver. That said, you can use the <code>JavascriptExecutor</code> class to do this. My solution differs from others proposed, however, in that you can still use the WebDriver methods for locating the elements.</p>\n\n<pre><code>// Assume driver is a valid WebDriver instance that\n// has been properly instantiated elsewhere.\nWebElement element = driver.findElement(By.id(\"gbqfd\"));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(\"arguments[0].click();\", element);\n</code></pre>\n\n<p>You should also note that you might be better off using the <code>click()</code> method of the <code>WebElement</code> interface, but <a href=\"https://github.com/SeleniumHQ/selenium/wiki/DesiredCapabilities\" rel=\"noreferrer\">disabling native events</a> before instantiating your driver. This would accomplish the same goal (with the same potential limitations), but not force you to write and maintain your own JavaScript.</p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1355853567,"creation_date":1355853567,"answer_id":13938778,"question_id":11947832,"body_markdown":"I know this isn&#39;t JavaScript, but you can also physically use the mouse-click to click a dynamic Javascript anchor:\r\n\r\n\tpublic static void mouseClickByLocator( String cssLocator ) {\r\n\t\t String locator = cssLocator;\r\n\t\t WebElement el = driver.findElement( By.cssSelector( locator ) );\r\n    \t Actions builder = new Actions(driver);\r\n\t\t builder.moveToElement( el ).click( el );\r\n\t\t builder.perform();\r\n\t}","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>I know this isn't JavaScript, but you can also physically use the mouse-click to click a dynamic Javascript anchor:</p>\n\n<pre><code>public static void mouseClickByLocator( String cssLocator ) {\n     String locator = cssLocator;\n     WebElement el = driver.findElement( By.cssSelector( locator ) );\n     Actions builder = new Actions(driver);\n     builder.moveToElement( el ).click( el );\n     builder.perform();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2838920,"reputation":61,"user_id":2438891,"display_name":"Dale"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1371412123,"creation_date":1371411005,"answer_id":17136899,"question_id":11947832,"body_markdown":"Not sure OP answer was really answered.\r\n\r\n    var driver = new webdriver.Builder().usingServer(&#39;serverAddress&#39;).withCapabilities({&#39;browserName&#39;: &#39;firefox&#39;}).build();\r\n    \r\n    driver.get(&#39;http://www.google.com&#39;);\r\n    driver.findElement(webdriver.By.id(&#39;gbqfb&#39;)).click();","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>Not sure OP answer was really answered.</p>\n\n<pre><code>var driver = new webdriver.Builder().usingServer('serverAddress').withCapabilities({'browserName': 'firefox'}).build();\n\ndriver.get('http://www.google.com');\ndriver.findElement(webdriver.By.id('gbqfb')).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5073586,"reputation":27,"user_id":4071681,"display_name":"Mofazzal Hossain"},"down_vote_count":15,"up_vote_count":1,"is_accepted":false,"score":-14,"last_activity_date":1412954965,"creation_date":1411494783,"answer_id":26001601,"question_id":11947832,"body_markdown":"Cross browser testing java scripts \r\n\r\n\r\n    public class MultipleBrowser {\r\n        \r\n        public WebDriver driver= null;\r\n        String browser=&quot;mozilla&quot;;\r\n        String url=&quot;https://www.omnicard.com&quot;;\r\n     \r\n        @BeforeMethod\r\n        public void LaunchBrowser() {\r\n              \r\n            if(browser.equalsIgnoreCase(&quot;mozilla&quot;))\r\n                driver= new FirefoxDriver();\r\n            else if(browser.equalsIgnoreCase(&quot;safari&quot;))\r\n                driver= new SafariDriver();\r\n            else if(browser.equalsIgnoreCase(&quot;chrome&quot;))\r\n                //System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/mhossain/Desktop/chromedriver&quot;);\r\n                driver= new ChromeDriver();\t\r\n            driver.manage().timeouts().implicitlyWait(4, TimeUnit.SECONDS);\r\n            driver.navigate().to(url);\r\n        }\r\n        \r\n    }\r\n\r\nbut when you want to run firefox you need to chrome path disable, otherwise browser will launch but application may not.(try both way) .","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>Cross browser testing java scripts </p>\n\n<pre><code>public class MultipleBrowser {\n\n    public WebDriver driver= null;\n    String browser=\"mozilla\";\n    String url=\"https://www.omnicard.com\";\n\n    @BeforeMethod\n    public void LaunchBrowser() {\n\n        if(browser.equalsIgnoreCase(\"mozilla\"))\n            driver= new FirefoxDriver();\n        else if(browser.equalsIgnoreCase(\"safari\"))\n            driver= new SafariDriver();\n        else if(browser.equalsIgnoreCase(\"chrome\"))\n            //System.setProperty(\"webdriver.chrome.driver\",\"/Users/mhossain/Desktop/chromedriver\");\n            driver= new ChromeDriver(); \n        driver.manage().timeouts().implicitlyWait(4, TimeUnit.SECONDS);\n        driver.navigate().to(url);\n    }\n\n}\n</code></pre>\n\n<p>but when you want to run firefox you need to chrome path disable, otherwise browser will launch but application may not.(try both way) .</p>\n"},{"tags":[],"owner":{"account_id":6754500,"reputation":1960,"user_id":5203451,"accept_rate":0,"display_name":"hemanto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1504258211,"creation_date":1485942869,"answer_id":41976662,"question_id":11947832,"body_markdown":"This code will perform the click operation on the `WebElement` &quot;we&quot; after 100 ms:\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    \r\n    jse.executeScript(&quot;var elem=arguments[0]; setTimeout(function() {elem.click();}, 100)&quot;, we);","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>This code will perform the click operation on the <code>WebElement</code> \"we\" after 100 ms:</p>\n\n<pre><code>WebDriver driver = new FirefoxDriver();\nJavascriptExecutor jse = (JavascriptExecutor)driver;\n\njse.executeScript(\"var elem=arguments[0]; setTimeout(function() {elem.click();}, 100)\", we);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14062431,"reputation":11,"user_id":10158111,"display_name":"Jyothi M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533792676,"creation_date":1533791346,"answer_id":51759230,"question_id":11947832,"body_markdown":"By XPath: inspect the element on target page, copy Xpath and use the below script:worked for me.\r\n\r\n    WebElement nameInputField = driver.findElement(By.xpath(&quot;html/body/div[6]/div[1]/div[3]/div/div/div[1]/div[3]/ul/li[4]/a&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, nameInputField);","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>By XPath: inspect the element on target page, copy Xpath and use the below script:worked for me.</p>\n\n<pre><code>WebElement nameInputField = driver.findElement(By.xpath(\"html/body/div[6]/div[1]/div[3]/div/div/div[1]/div[3]/ul/li[4]/a\"));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(\"arguments[0].click();\", nameInputField);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11530906,"reputation":87,"user_id":8449888,"display_name":"Muneeb Akhtar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583969531,"creation_date":1583969531,"answer_id":60645713,"question_id":11947832,"body_markdown":"Another easiest solution is to use  ```Key.RETUEN```\r\n\r\n\r\nClick [here for solution in detail](https://www.youtube.com/watch?v=JFW3TnVuYNI &quot;click to check detail solution&quot;)\r\n\r\n``` driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;Selenium Tutorial&quot;, Key.RETURN); ```","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>Another easiest solution is to use  <code>Key.RETUEN</code></p>\n\n<p>Click <a href=\"https://www.youtube.com/watch?v=JFW3TnVuYNI\" rel=\"nofollow noreferrer\" title=\"click to check detail solution\">here for solution in detail</a></p>\n\n<p><code>driver.findElement(By.name(\"q\")).sendKeys(\"Selenium Tutorial\", Key.RETURN);</code></p>\n"},{"tags":[],"owner":{"account_id":18264965,"reputation":11,"user_id":13296906,"display_name":"Rafael Garcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588652595,"creation_date":1588649791,"answer_id":61605330,"question_id":11947832,"body_markdown":"    const {Builder, By, Key, util} = require(&#39;selenium-webdriver&#39;)\r\n    \r\n    // FUN&#199;&#195;O PARA PAUSA\r\n    function sleep(ms) {\r\n        return new Promise(resolve =&gt; setTimeout(resolve, ms));\r\n    }\r\n    \r\n    async function example() {\r\n    \r\n        // chrome\r\n        let driver = await new Builder().forBrowser(&quot;firefox&quot;).build()\r\n        await driver.get(&#39;https://www.google.com.br&#39;)\r\n        // await driver.findElement(By.name(&#39;q&#39;)).sendKeys(&#39;Selenium&#39; ,Key.RETURN)\r\n    \r\n        await sleep(2000)\r\n    \r\n        await driver.findElement(By.name(&#39;q&#39;)).sendKeys(&#39;Selenium&#39;)\r\n    \r\n        await sleep(2000)\r\n    \r\n        // CLICAR\r\n        driver.findElement(By.name(&#39;btnK&#39;)).click()\r\n       \r\n    \r\n    }\r\n    example()\r\n\r\nCom essas &#250;ltimas linhas, voc&#234; pode clicar !","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<pre><code>const {Builder, By, Key, util} = require('selenium-webdriver')\n\n// FUNÃ‡ÃƒO PARA PAUSA\nfunction sleep(ms) {\n    return new Promise(resolve =&gt; setTimeout(resolve, ms));\n}\n\nasync function example() {\n\n    // chrome\n    let driver = await new Builder().forBrowser(\"firefox\").build()\n    await driver.get('https://www.google.com.br')\n    // await driver.findElement(By.name('q')).sendKeys('Selenium' ,Key.RETURN)\n\n    await sleep(2000)\n\n    await driver.findElement(By.name('q')).sendKeys('Selenium')\n\n    await sleep(2000)\n\n    // CLICAR\n    driver.findElement(By.name('btnK')).click()\n\n\n}\nexample()\n</code></pre>\n\n<p>Com essas Ãºltimas linhas, vocÃª pode clicar !</p>\n"},{"tags":[],"owner":{"account_id":22288536,"reputation":1,"user_id":16515785,"display_name":"Madan reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654141703,"creation_date":1653903584,"answer_id":72432188,"question_id":11947832,"body_markdown":"Use the code below, which worked for me:\r\n    \r\n    public void sendKeysJavascript() {\r\n      String file = getfile();\r\n      WebElement browser = driver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;));\r\n      JavascriptExecutor js = (JavascriptExecutor) driver;\r\n      actionClass.waitforSeconds(5);\r\n      js.executeScript(&quot;arguments[0].click();&quot;, browser);\r\n      actionClass.waitforSeconds(1);\r\n      browser.sendKeys(file);\r\n    }\r\n    String getfile() {\r\n      return new File(&quot;./src/main/resources/TestData/example.pdf&quot;).getAbsolutePath();\r\n    }\r\n\r\nDon&#39;t forget to add wait time before the js click action. It is mandatory","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>Use the code below, which worked for me:</p>\n<pre><code>public void sendKeysJavascript() {\n  String file = getfile();\n  WebElement browser = driver.findElement(By.xpath(&quot;//input[@type='file']&quot;));\n  JavascriptExecutor js = (JavascriptExecutor) driver;\n  actionClass.waitforSeconds(5);\n  js.executeScript(&quot;arguments[0].click();&quot;, browser);\n  actionClass.waitforSeconds(1);\n  browser.sendKeys(file);\n}\nString getfile() {\n  return new File(&quot;./src/main/resources/TestData/example.pdf&quot;).getAbsolutePath();\n}\n</code></pre>\n<p>Don't forget to add wait time before the js click action. It is mandatory</p>\n"},{"tags":[],"owner":{"account_id":22391229,"reputation":11,"user_id":16603266,"display_name":"MouraCass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654107468,"creation_date":1654106533,"answer_id":72466232,"question_id":11947832,"body_markdown":"I think some parts of above codes has changed a little, I&#39;m learning Selenium with JavaScript and I founded 2 options to click\r\n\r\n To start we need to find the element we want to click, could be By (id, class, etc.), here is how, https://www.youtube.com/watch?v=BQ-9e13kJ58&amp;list=PLZMWkkQEwOPl0udc9Dap2NbEAkwkdOTV3.\r\n\r\nRight down are the 2 ways that I&#39;m talking about:\r\n\r\n```\r\n\r\nFIRST Method: \r\nawait driver.findElement(By.id(&quot;sampletodotext&quot;)).sendKeys(&quot;Learning Selenium&quot;, Key.RETURN);\r\n\r\n- Here we found an empty field by it&#39;s Id, and then we write &quot;Learning Selenium&quot; in this field with the sendKeys().\r\n- Key.RETURN: Simulate the person pressing the ENTER key in keyboard.\r\n\r\nSECOND Method: \r\nawait driver.findElement(By.id(&quot;sampletodotext&quot;)).sendKeys(&quot;Learn Selenium&quot;);\r\n    await driver.findElement(By.id(&quot;addbutton&quot;)).click().finally();\r\n\r\n- The difference here, is we switched the Key.RETURN of the FIRST method, for the entire second line, in the SECOND method.\r\n```","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>I think some parts of above codes has changed a little, I'm learning Selenium with JavaScript and I founded 2 options to click</p>\n<p>To start we need to find the element we want to click, could be By (id, class, etc.), here is how, <a href=\"https://www.youtube.com/watch?v=BQ-9e13kJ58&amp;list=PLZMWkkQEwOPl0udc9Dap2NbEAkwkdOTV3\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=BQ-9e13kJ58&amp;list=PLZMWkkQEwOPl0udc9Dap2NbEAkwkdOTV3</a>.</p>\n<p>Right down are the 2 ways that I'm talking about:</p>\n<pre><code>\nFIRST Method: \nawait driver.findElement(By.id(&quot;sampletodotext&quot;)).sendKeys(&quot;Learning Selenium&quot;, Key.RETURN);\n\n- Here we found an empty field by it's Id, and then we write &quot;Learning Selenium&quot; in this field with the sendKeys().\n- Key.RETURN: Simulate the person pressing the ENTER key in keyboard.\n\nSECOND Method: \nawait driver.findElement(By.id(&quot;sampletodotext&quot;)).sendKeys(&quot;Learn Selenium&quot;);\n    await driver.findElement(By.id(&quot;addbutton&quot;)).click().finally();\n\n- The difference here, is we switched the Key.RETURN of the FIRST method, for the entire second line, in the SECOND method.\n</code></pre>\n"}],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479038,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":11956130,"answer_count":12,"score":52,"last_activity_date":1654141703,"creation_date":1344930076,"question_id":11947832,"body_markdown":"I have the following HTML:\r\n\r\n    &lt;button name=&quot;btnG&quot; class=&quot;gbqfb&quot; aria-label=&quot;Google Search&quot; id=&quot;gbqfb&quot;&gt;&lt;span class=&quot;gbqfi&quot;&gt;&lt;/span&gt;&lt;/button&gt;\r\n\r\nMy following code for clicking &quot;Google Search&quot; button is working well using Java in WebDriver.\r\n\r\n    driver.findElement(By.id(&quot;gbqfb&quot;)).click();\r\n\r\nI want to use [JavaScript][1] with WebDriver to click the button. How can I do it?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JavaScript\r\n","title":"How to click an element in Selenium WebDriver using JavaScript?","body":"<p>I have the following HTML:</p>\n\n<pre><code>&lt;button name=\"btnG\" class=\"gbqfb\" aria-label=\"Google Search\" id=\"gbqfb\"&gt;&lt;span class=\"gbqfi\"&gt;&lt;/span&gt;&lt;/button&gt;\n</code></pre>\n\n<p>My following code for clicking \"Google Search\" button is working well using Java in WebDriver.</p>\n\n<pre><code>driver.findElement(By.id(\"gbqfb\")).click();\n</code></pre>\n\n<p>I want to use <a href=\"http://en.wikipedia.org/wiki/JavaScript\">JavaScript</a> with WebDriver to click the button. How can I do it?</p>\n"},{"tags":["java","hibernate","jpa","primary-key","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":4774363,"reputation":723,"user_id":3858003,"display_name":"Abass A"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654141573,"creation_date":1510827248,"answer_id":47326933,"question_id":47322306,"body_markdown":"You can achieve what you want with `@MapsId` annotation.\r\n\r\nExample:\r\n\r\n    @Entity\r\n    public class Provider{\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private long idProvider;\r\n    \r\n        @OneToOne(cascade=CascadeType.ALL, mappedBy=&quot;provider&quot;)\r\n        private GlobalRating rating;\r\n\r\n        // Getter &amp; Setter\r\n    }\r\n\r\n    @Entity\r\n    public class GlobalRating{\r\n\r\n        @Id\r\n        private long idProvider;\r\n            \r\n        @OneToOne(cascade=CascadeType.ALL) \r\n        @MapsId\r\n        @JoinColumn(name=&quot;idProvider&quot;)\r\n        private Provider provider;\r\n     \r\n        // Getter &amp; Setter          \r\n    }","title":"How Map two entities that share the same primary key in hibernate with annotations?","body":"<p>You can achieve what you want with <code>@MapsId</code> annotation.</p>\n<p>Example:</p>\n<pre><code>@Entity\npublic class Provider{\n\n    @Id\n    @GeneratedValue\n    private long idProvider;\n\n    @OneToOne(cascade=CascadeType.ALL, mappedBy=&quot;provider&quot;)\n    private GlobalRating rating;\n\n    // Getter &amp; Setter\n}\n\n@Entity\npublic class GlobalRating{\n\n    @Id\n    private long idProvider;\n        \n    @OneToOne(cascade=CascadeType.ALL) \n    @MapsId\n    @JoinColumn(name=&quot;idProvider&quot;)\n    private Provider provider;\n \n    // Getter &amp; Setter          \n}\n</code></pre>\n"}],"owner":{"account_id":12261077,"reputation":21,"user_id":8948762,"display_name":"Fernando Cordoba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654141573,"creation_date":1510810248,"question_id":47322306,"body_markdown":"I&#39;m new to **hibernate** and I do not know how to map this simple [Model][1]\r\nusing **JPA** or **Hibernate annotations**. I try to model is that a provider has a global rating and the identifier of the global rating entity is the same identifier of the provider entity (unidirectional OneToOne), in other words I want to have the **foreign key** in the entity global rating be **primary** and **foreign** at the same time, but that the provider entity also has a **foreign key** of the entity global rating. This is possible?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ss9hI.png","title":"How Map two entities that share the same primary key in hibernate with annotations?","body":"<p>I'm new to <strong>hibernate</strong> and I do not know how to map this simple <a href=\"https://i.stack.imgur.com/ss9hI.png\" rel=\"nofollow noreferrer\">Model</a>\nusing <strong>JPA</strong> or <strong>Hibernate annotations</strong>. I try to model is that a provider has a global rating and the identifier of the global rating entity is the same identifier of the provider entity (unidirectional OneToOne), in other words I want to have the <strong>foreign key</strong> in the entity global rating be <strong>primary</strong> and <strong>foreign</strong> at the same time, but that the provider entity also has a <strong>foreign key</strong> of the entity global rating. This is possible?</p>\n"},{"tags":["java","android","okhttp"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1422971193,"post_id":28300359,"comment_id":44952330,"body_markdown":"Maybe it`s a duplicate of [http://stackoverflow.com/questions/5769717/how-can-i-get-an-http-response-body-as-a-string-in-java](http://stackoverflow.com/questions/5769717/how-can-i-get-an-http-response-body-as-a-string-in-java)","body":"Maybe it`s a duplicate of <a href=\"http://stackoverflow.com/questions/5769717/how-can-i-get-an-http-response-body-as-a-string-in-java\">http://stackoverflow.com/questions/5769717/how-can-i-get-an-&zwnj;&#8203;http-response-body-a&zwnj;&#8203;s-a-string-in-java</a>"},{"owner":{"account_id":5027108,"reputation":22471,"user_id":4101725,"display_name":"Michele d&#39;Amico"},"score":0,"creation_date":1422971352,"post_id":28300359,"comment_id":44952426,"body_markdown":"You just print an object and your trace confirm it.","body":"You just print an object and your trace confirm it."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":5,"creation_date":1422971696,"post_id":28300359,"comment_id":44952645,"body_markdown":"read the doc. the method you are looking for is `string`","body":"read the doc. the method you are looking for is <code>string</code>"},{"owner":{"account_id":13752109,"reputation":367,"user_id":9923927,"display_name":"Imran Baig"},"score":0,"creation_date":1599566587,"post_id":28300359,"comment_id":112807542,"body_markdown":"val responseBodyString = response.body()!!.string()\n        response = response.newBuilder()\n            .body(ResponseBody.create(responseBody?.contentType(), responseBodyString.toByteArray()))\n            .build()","body":"val responseBodyString = response.body()!!.string()         response = response.newBuilder()             .body(ResponseBody.create(responseBody?.contentType(), responseBodyString.toByteArray()))             .build()"},{"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"score":0,"creation_date":1642954726,"post_id":28300359,"comment_id":125205726,"body_markdown":"Please see this link https://stackoverflow.com/a/70824088/12272687","body":"Please see this link <a href=\"https://stackoverflow.com/a/70824088/12272687\">stackoverflow.com/a/70824088/12272687</a>"}],"answers":[{"tags":[],"owner":{"account_id":928350,"reputation":9520,"user_id":958670,"accept_rate":80,"display_name":"V.J."},"down_vote_count":1,"up_vote_count":309,"is_accepted":false,"score":308,"last_activity_date":1511756566,"creation_date":1422971533,"answer_id":28300602,"question_id":28300359,"body_markdown":"You have use `.string()` function to print the response in ` System.out.println()`. But at last in `Log.i()` you are using `.toString()`.\r\n\r\nSo please use `.string()` on response body to print and get your request&#39;s response, like:\r\n\r\n    response.body().string();\r\n\r\n**NOTE:**\r\n\r\n 1. `.toString()`: This returns your object in string format.\r\n\r\n 2. `.string()`: This returns your response. \r\n\r\nI think this solve your problem... Right.","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>You have use <code>.string()</code> function to print the response in <code>System.out.println()</code>. But at last in <code>Log.i()</code> you are using <code>.toString()</code>.</p>\n\n<p>So please use <code>.string()</code> on response body to print and get your request's response, like:</p>\n\n<pre><code>response.body().string();\n</code></pre>\n\n<p><strong>NOTE:</strong></p>\n\n<ol>\n<li><p><code>.toString()</code>: This returns your object in string format.</p></li>\n<li><p><code>.string()</code>: This returns your response. </p></li>\n</ol>\n\n<p>I think this solve your problem... Right.</p>\n"},{"tags":[],"owner":{"account_id":285007,"reputation":4113,"user_id":583425,"accept_rate":85,"display_name":"Oded Regev"},"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1520757169,"creation_date":1441012911,"answer_id":32307866,"question_id":28300359,"body_markdown":"Just in case someone bumps into the same weird thing as I have. I run my code during development in **Debug Mode** and apparently since OKHttp 2.4 \r\n\r\n&gt; ..the response body is a one-shot value that may be consumed only once\r\n\r\nSo when in debug there is a call &quot;behind the scene&quot; from the inspector and the body is always empty. See: https://square.github.io/okhttp/3.x/okhttp/okhttp3/ResponseBody.html\r\n","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>Just in case someone bumps into the same weird thing as I have. I run my code during development in <strong>Debug Mode</strong> and apparently since OKHttp 2.4 </p>\n\n<blockquote>\n  <p>..the response body is a one-shot value that may be consumed only once</p>\n</blockquote>\n\n<p>So when in debug there is a call \"behind the scene\" from the inspector and the body is always empty. See: <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/ResponseBody.html\" rel=\"noreferrer\">https://square.github.io/okhttp/3.x/okhttp/okhttp3/ResponseBody.html</a></p>\n"},{"tags":[],"owner":{"account_id":4668435,"reputation":239,"user_id":3780883,"display_name":"Nethaji Narasimalu"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1654141457,"creation_date":1519111709,"answer_id":48879889,"question_id":28300359,"body_markdown":"The `response.body.string()` can be consumed only once.\r\nPlease use as below:\r\n\r\n```    \r\nString responseBodyString = response.body.string();\r\n```\r\n\r\nUse the responseBodyString as needed in your application.","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>The <code>response.body.string()</code> can be consumed only once.\nPlease use as below:</p>\n<pre><code>String responseBodyString = response.body.string();\n</code></pre>\n<p>Use the responseBodyString as needed in your application.</p>\n"},{"tags":[],"owner":{"account_id":10006227,"reputation":47,"user_id":7400604,"display_name":"Aoun allah Billel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1546473952,"creation_date":1546473952,"answer_id":54014772,"question_id":28300359,"body_markdown":"try to change it like that  for example: \r\n\r\n \r\n\r\n    protected String doInBackground(String... params) {\r\n                try {\r\n                    JSONObject root = new JSONObject();\r\n                    JSONObject data = new JSONObject();\r\n                    data.put(&quot;type&quot;, type);\r\n                    data.put(&quot;message&quot;, message);\r\n                    data.put(&quot;title&quot;, title);\r\n                    data.put(&quot;image_url&quot;, imageUrl);\r\n                    data.put(&quot;uid&quot;,uid);\r\n                    data.put(&quot;id&quot;, id);\r\n                    data.put(&quot;message_id&quot;, messageId);\r\n                    data.put(&quot;display_name&quot;, displayName);\r\n                    root.put(&quot;data&quot;, data);\r\n                    root.put(&quot;registration_ids&quot;, new JSONArray(receipts));\r\n                    RequestBody body = RequestBody.create(JSON, root.toString());\r\n                    Request request = new Request.Builder()\r\n                            .url(URL)\r\n                            .post(body)\r\n                            .addHeader(&quot;Authorization&quot;, &quot;key=&quot; + serverKey)\r\n                            .build();\r\n                    Response response = mClient.newCall(request).execute();\r\n                    String result = response.body().string();\r\n                    Log.d(TAG, &quot;Result: &quot; + result);\r\n                    return result;\r\n                } catch (Exception ex) {\r\n                    Log.e(TAG,&quot;Exception -&gt; &quot;+ex.getMessage());\r\n                }\r\n                return null;\r\n            }\r\n\r\n","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>try to change it like that  for example: </p>\n\n<pre><code>protected String doInBackground(String... params) {\n            try {\n                JSONObject root = new JSONObject();\n                JSONObject data = new JSONObject();\n                data.put(\"type\", type);\n                data.put(\"message\", message);\n                data.put(\"title\", title);\n                data.put(\"image_url\", imageUrl);\n                data.put(\"uid\",uid);\n                data.put(\"id\", id);\n                data.put(\"message_id\", messageId);\n                data.put(\"display_name\", displayName);\n                root.put(\"data\", data);\n                root.put(\"registration_ids\", new JSONArray(receipts));\n                RequestBody body = RequestBody.create(JSON, root.toString());\n                Request request = new Request.Builder()\n                        .url(URL)\n                        .post(body)\n                        .addHeader(\"Authorization\", \"key=\" + serverKey)\n                        .build();\n                Response response = mClient.newCall(request).execute();\n                String result = response.body().string();\n                Log.d(TAG, \"Result: \" + result);\n                return result;\n            } catch (Exception ex) {\n                Log.e(TAG,\"Exception -&gt; \"+ex.getMessage());\n            }\n            return null;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593472075,"creation_date":1593472075,"answer_id":62647945,"question_id":28300359,"body_markdown":"Given that a response can potentially produce an `OutOfMemoryError` in cases of large files, you can instead &quot;peek&quot; the body with the number of bytes and call the `string()` method.  \r\n\r\nNote that this will consume the body.\r\n\r\n`response.peekBody(500).string());`","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>Given that a response can potentially produce an <code>OutOfMemoryError</code> in cases of large files, you can instead &quot;peek&quot; the body with the number of bytes and call the <code>string()</code> method.</p>\n<p>Note that this will consume the body.</p>\n<p><code>response.peekBody(500).string());</code></p>\n"},{"tags":[],"owner":{"account_id":13752109,"reputation":367,"user_id":9923927,"display_name":"Imran Baig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599566667,"creation_date":1599566667,"answer_id":63793538,"question_id":28300359,"body_markdown":"Recreate the response object after consuming the string\r\n\r\n\r\nval responseBodyString = response.body()!!.string()\r\n\r\nresponse = response.newBuilder()\r\n            .body(ResponseBody.create(responseBody?.contentType(), responseBodyString.toByteArray()))\r\n            .build()\r\n","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>Recreate the response object after consuming the string</p>\n<p>val responseBodyString = response.body()!!.string()</p>\n<p>response = response.newBuilder()\n.body(ResponseBody.create(responseBody?.contentType(), responseBodyString.toByteArray()))\n.build()</p>\n"},{"tags":[],"owner":{"account_id":13752109,"reputation":367,"user_id":9923927,"display_name":"Imran Baig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599572938,"creation_date":1599570887,"answer_id":63794730,"question_id":28300359,"body_markdown":"Following is my modified CurlInterceptor. Check the end of the intercept function where I m recreating the Response object after consuming the old Response.\r\n\r\n\r\n&gt; var responseBodyString = responseBody?.string()\r\n&gt; \r\n&gt; response = response.newBuilder()\r\n&gt;                 .body(\r\n&gt;                     ResponseBody.create(\r\n&gt;                         responseBody?.contentType(),\r\n&gt;                         responseBodyString.toByteArray()\r\n&gt;                     )\r\n&gt;                 )\r\n&gt;                 .build()\r\n\r\n\r\n    class CurlInterceptor: Interceptor\r\n    {\r\n    \r\n        var gson = GsonBuilder().setPrettyPrinting().create()\r\n\r\n        override fun intercept(chain: Interceptor.Chain): Response {\r\n\r\n        Timber.d(&quot; **** -&gt;&gt;Request to server -&gt; ****&quot;)\r\n\r\n        val request = chain.request()\r\n        var response = chain.proceed(request)\r\n\r\n        var curl = &quot;curl -v -X  ${request.method()}&quot;\r\n\r\n        val headers = request.headers()\r\n\r\n        for ( i in 0..(headers.size() -1) ){\r\n            curl = &quot;${curl} -H \\&quot;${headers.name(i)}: ${headers.value(i)}\\&quot;&quot;\r\n        }\r\n\r\n        val requestBody = request.body()\r\n        if (requestBody != null) {\r\n            val buffer = Buffer()\r\n            requestBody.writeTo(buffer)\r\n            var charset: Charset =\r\n                Charset.forName(&quot;UTF-8&quot;)\r\n            curl = &quot;${curl} --data &#39;${buffer.readString(charset).replace(&quot;\\n&quot;, &quot;\\\\n&quot;)}&#39;&quot;\r\n        }\r\n\r\n        Timber.d(&quot;$curl ${request.url()}&quot;)\r\n        Timber.d(&quot;response status code ${response.code()} message: ${response.message()}&quot;)\r\n\r\n        \r\n        dumbHeaders(response)\r\n\r\n        var responseBody = response?.body()\r\n\r\n        if(responseBody != null )\r\n        {\r\n            var responseBodyString = responseBody?.string()\r\n\r\n                response = response.newBuilder()\r\n                    .body(\r\n                        ResponseBody.create(\r\n                            responseBody?.contentType(),\r\n                            responseBodyString.toByteArray()\r\n                        )\r\n                    )\r\n                    .build()\r\n\r\n\r\n            responseBodyString = gson.toJson(responseBodyString)\r\n\r\n            Timber.d(&quot;response json -&gt; \\n $responseBodyString&quot;)\r\n\r\n        }\r\n\r\n        Timber.d(&quot; **** &lt;&lt; Response from server ****&quot;)\r\n\r\n        return response\r\n    }\r\n\r\n\r\n\r\n    fun dumbHeaders(response: Response) {\r\n        try {\r\n            if (response.headers() != null) {\r\n\r\n                for (headerName in response.headers().names()) {\r\n                    for (headerValue in response.headers(headerName)) {\r\n                        Timber.d(&quot;Header $headerName : $headerValue&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    catch (ex: Exception){}\r\n    }\r\n    }","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>Following is my modified CurlInterceptor. Check the end of the intercept function where I m recreating the Response object after consuming the old Response.</p>\n<blockquote>\n<p>var responseBodyString = responseBody?.string()</p>\n<p>response = response.newBuilder()\n.body(\nResponseBody.create(\nresponseBody?.contentType(),\nresponseBodyString.toByteArray()\n)\n)\n.build()</p>\n</blockquote>\n<pre><code>class CurlInterceptor: Interceptor\n{\n\n    var gson = GsonBuilder().setPrettyPrinting().create()\n\n    override fun intercept(chain: Interceptor.Chain): Response {\n\n    Timber.d(&quot; **** -&gt;&gt;Request to server -&gt; ****&quot;)\n\n    val request = chain.request()\n    var response = chain.proceed(request)\n\n    var curl = &quot;curl -v -X  ${request.method()}&quot;\n\n    val headers = request.headers()\n\n    for ( i in 0..(headers.size() -1) ){\n        curl = &quot;${curl} -H \\&quot;${headers.name(i)}: ${headers.value(i)}\\&quot;&quot;\n    }\n\n    val requestBody = request.body()\n    if (requestBody != null) {\n        val buffer = Buffer()\n        requestBody.writeTo(buffer)\n        var charset: Charset =\n            Charset.forName(&quot;UTF-8&quot;)\n        curl = &quot;${curl} --data '${buffer.readString(charset).replace(&quot;\\n&quot;, &quot;\\\\n&quot;)}'&quot;\n    }\n\n    Timber.d(&quot;$curl ${request.url()}&quot;)\n    Timber.d(&quot;response status code ${response.code()} message: ${response.message()}&quot;)\n\n    \n    dumbHeaders(response)\n\n    var responseBody = response?.body()\n\n    if(responseBody != null )\n    {\n        var responseBodyString = responseBody?.string()\n\n            response = response.newBuilder()\n                .body(\n                    ResponseBody.create(\n                        responseBody?.contentType(),\n                        responseBodyString.toByteArray()\n                    )\n                )\n                .build()\n\n\n        responseBodyString = gson.toJson(responseBodyString)\n\n        Timber.d(&quot;response json -&gt; \\n $responseBodyString&quot;)\n\n    }\n\n    Timber.d(&quot; **** &lt;&lt; Response from server ****&quot;)\n\n    return response\n}\n\n\n\nfun dumbHeaders(response: Response) {\n    try {\n        if (response.headers() != null) {\n\n            for (headerName in response.headers().names()) {\n                for (headerValue in response.headers(headerName)) {\n                    Timber.d(&quot;Header $headerName : $headerValue&quot;)\n                }\n            }\n        }\n    }\ncatch (ex: Exception){}\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022751,"reputation":443,"user_id":5381398,"display_name":"Marko SlijepÄeviÄ‡"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631609252,"creation_date":1631609252,"answer_id":69174694,"question_id":28300359,"body_markdown":"Instead of using .toString() which returns an object\r\n\r\n    String results = response.body().toString();\r\n\r\nyou can use\r\n\r\n    String results = response.body().string();\r\n\r\n","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>Instead of using .toString() which returns an object</p>\n<pre><code>String results = response.body().toString();\n</code></pre>\n<p>you can use</p>\n<pre><code>String results = response.body().string();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12602864,"reputation":11,"user_id":9164978,"display_name":"Utkarsh chakrwarti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651495101,"creation_date":1651495101,"answer_id":72086825,"question_id":28300359,"body_markdown":"       \r\n       Call call = client.newCall(request);\r\n       return call.execute().body().string();\r\n\r\nwe can get response as a return fromby these","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<pre><code>   Call call = client.newCall(request);\n   return call.execute().body().string();\n</code></pre>\n<p>we can get response as a return fromby these</p>\n"},{"tags":[],"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653469652,"creation_date":1653469652,"answer_id":72374782,"question_id":28300359,"body_markdown":"Kotlin Programmers I am here for you\r\n\r\n     response.body?.charStream()?.readText()?.let { \r\n                            //Where it refers to Response string\r\n                            callBack.onAPISuccess(it)\r\n                        }\r\n\r\nHere you can not use .toString() function and .string() function is not available in Kotlin than you can user charStream() and than convert that charStream into readText() but you have to unwrap the whole value before passing it.But it will never create problem.\r\n\r\nI have not explored these charStream() and readText() functions in java but I think it should be there and you can use this in java if these functions are available because I just got to know that java has deprecated the .string() function.\r\n","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>Kotlin Programmers I am here for you</p>\n<pre><code> response.body?.charStream()?.readText()?.let { \n                        //Where it refers to Response string\n                        callBack.onAPISuccess(it)\n                    }\n</code></pre>\n<p>Here you can not use .toString() function and .string() function is not available in Kotlin than you can user charStream() and than convert that charStream into readText() but you have to unwrap the whole value before passing it.But it will never create problem.</p>\n<p>I have not explored these charStream() and readText() functions in java but I think it should be there and you can use this in java if these functions are available because I just got to know that java has deprecated the .string() function.</p>\n"}],"owner":{"account_id":5626232,"reputation":2164,"user_id":4454579,"display_name":"freddieptf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147587,"favorite_count":0,"down_vote_count":1,"up_vote_count":115,"accepted_answer_id":32307866,"answer_count":10,"score":114,"last_activity_date":1654141457,"creation_date":1422970870,"question_id":28300359,"body_markdown":"I&#39;m trying to get some json data using OkHttp and can&#39;t figure out why when i try logging the `response.body().toString()` what i get is `Results:ï¹• com.squareup.okhttp.Call$RealResponseBody@41c16aa8`\r\n\r\n\r\n    try {\r\n            URL url = new URL(BaseUrl);\r\n            OkHttpClient client = new OkHttpClient();\r\n            Request request = new Request.Builder()\r\n                    .url(url)\r\n                    .header(/****/)\r\n                    .build();\r\n\r\n            Call call = client.newCall(request);\r\n            Response response = call.execute();\r\n\r\n            **//for some reason this successfully prints out the response**\r\n            System.out.println(&quot;YEAH: &quot; + response.body().string());\r\n\r\n            if(!response.isSuccessful()) {\r\n                Log.i(&quot;Response code&quot;, &quot; &quot; + response.code());\r\n            }\r\n\r\n            Log.i(&quot;Response code&quot;, response.code() + &quot; &quot;);\r\n            String results = response.body().toString();\r\n\r\n            Log.i(&quot;OkHTTP Results: &quot;, results);\r\n\r\n![Log][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/xS2M3.png\r\n\r\n\r\nI don&#39;t know what i&#39;m doing wrong here. How do i get the response string?","title":"Can&#39;t get OkHttp&#39;s response.body.toString() to return a string","body":"<p>I'm trying to get some json data using OkHttp and can't figure out why when i try logging the <code>response.body().toString()</code> what i get is <code>Results:ï¹• com.squareup.okhttp.Call$RealResponseBody@41c16aa8</code></p>\n\n<pre><code>try {\n        URL url = new URL(BaseUrl);\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder()\n                .url(url)\n                .header(/****/)\n                .build();\n\n        Call call = client.newCall(request);\n        Response response = call.execute();\n\n        **//for some reason this successfully prints out the response**\n        System.out.println(\"YEAH: \" + response.body().string());\n\n        if(!response.isSuccessful()) {\n            Log.i(\"Response code\", \" \" + response.code());\n        }\n\n        Log.i(\"Response code\", response.code() + \" \");\n        String results = response.body().toString();\n\n        Log.i(\"OkHTTP Results: \", results);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/xS2M3.png\" alt=\"Log\"></p>\n\n<p>I don't know what i'm doing wrong here. How do i get the response string?</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":20405057,"reputation":1,"user_id":14969843,"display_name":"EulerTao"},"score":0,"creation_date":1654139717,"post_id":72470241,"comment_id":128021831,"body_markdown":"I mean that:   selector.select(500)   always return 1 , but read(allocate) return -1. \nIs that a conflict?","body":"I mean that:   selector.select(500)   always return 1 , but read(allocate) return -1.  Is that a conflict?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1654139818,"post_id":72470241,"comment_id":128021838,"body_markdown":"`while (true)` is an infinite loop that you never `break` out of.","body":"<code>while (true)</code> is an infinite loop that you never <code>break</code> out of."},{"owner":{"account_id":20405057,"reputation":1,"user_id":14969843,"display_name":"EulerTao"},"score":0,"creation_date":1654140549,"post_id":72470241,"comment_id":128021937,"body_markdown":"@Abra emmm,Yeah  , `while(true)` is used to receive data from TCP stream forever, I think there no problem. When I read **all data** from TCP stream, I don&#39;t know that: why `selector.select()` return 1.","body":"@Abra emmm,Yeah  , <code>while(true)</code> is used to receive data from TCP stream forever, I think there no problem. When I read <b>all data</b> from TCP stream, I don&#39;t know that: why <code>selector.select()</code> return 1."},{"owner":{"account_id":20405057,"reputation":1,"user_id":14969843,"display_name":"EulerTao"},"score":0,"creation_date":1654140756,"post_id":72470241,"comment_id":128021964,"body_markdown":"outer while loop to receive data forever , inner while loop is used to process OP_READ event. If use `break` in the outer loop, the program can&#39;t receive any more data.","body":"outer while loop to receive data forever , inner while loop is used to process OP_READ event. If use <code>break</code> in the outer loop, the program can&#39;t receive any more data."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654148397,"post_id":72470241,"comment_id":128023140,"body_markdown":"You are almost certainly looping at end of stream. If `read()` returns -1 you should close the socket.","body":"You are almost certainly looping at end of stream. If <code>read()</code> returns -1 you should close the socket."}],"owner":{"account_id":20405057,"reputation":1,"user_id":14969843,"display_name":"EulerTao"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654244043,"answer_count":0,"score":0,"last_activity_date":1654140872,"creation_date":1654139496,"question_id":72470241,"body_markdown":"I have a NIO problem in Java.I am trying writing a read TCP data stream program.`TCPDemoNIO`  is the code.The problem is:\r\n**when data coming, it can read first,but then OP_READ is always triggered.So the while loop is an endless loop.There is high CPU usage.**\r\n\r\nI debug the code,`channel.read(buffer)` is returning -1.Why there is OP_READ event?\r\n\r\n```java\r\n\r\npublic class TCPDemoNIO {\r\n        SocketChannel socket = SocketChannel.open(new InetSocketAddress(&quot;localhost&quot;, 7890));\r\n\r\n        socket.configureBlocking(true);\r\n        System.out.println(socket.getLocalAddress());\r\n        OutputStream outputStream = socket.socket().getOutputStream();\r\n        outputStream.write(new byte[]{5, 0, 1});\r\n        outputStream.flush();\r\n        ByteBuffer allocate1 = ByteBuffer.allocate(17);\r\n        byte[] b = {5, 1, 0, 3};\r\n        allocate1.put(b);\r\n        allocate1.put(&quot;a.baidu.com&quot;.getBytes(StandardCharsets.UTF_8));\r\n        allocate1.put(new byte[]{00, 80});\r\n        allocate1.flip();\r\n        outputStream.write(allocate1.array());\r\n        outputStream.flush();\r\n        socket.configureBlocking(false);\r\n        Selector selector = Selector.open();\r\n        socket.register(selector, SelectionKey.OP_READ);\r\n        ByteBuffer allocate = ByteBuffer.allocate(128);\r\n        while (true) {\r\n        \r\n            if (selector.select(500) == 0) {\r\n                System.out.print(&quot;.&quot;);\r\n                continue;\r\n            }\r\n            System.out.print(&quot;x&quot;);\r\n            Thread.sleep(500);\r\n\r\n            Set&lt;SelectionKey&gt; selectionKeys = selector.selectedKeys();\r\n            Iterator&lt;SelectionKey&gt; iterator = selectionKeys.iterator();\r\n            while (iterator.hasNext()) {\r\n                SelectionKey key = iterator.next();\r\n                iterator.remove();\r\n                if (key.isReadable()) {\r\n                    SocketChannel channel = (SocketChannel) key.channel();\r\n                    int read;\r\n                    allocate.clear();\r\n                    while ((read = channel.read(allocate)) &gt; 0) {\r\n                        allocate.flip();\r\n                        System.out.print(Charset.forName(&quot;utf-8&quot;).decode(allocate));\r\n                        allocate.clear();\r\n                    }\r\n                }\r\n            }\r\n            selectionKeys.clear();\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"NIO endless loop of OP_READ","body":"<p>I have a NIO problem in Java.I am trying writing a read TCP data stream program.<code>TCPDemoNIO</code>  is the code.The problem is:\n<strong>when data coming, it can read first,but then OP_READ is always triggered.So the while loop is an endless loop.There is high CPU usage.</strong></p>\n<p>I debug the code,<code>channel.read(buffer)</code> is returning -1.Why there is OP_READ event?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class TCPDemoNIO {\n        SocketChannel socket = SocketChannel.open(new InetSocketAddress(&quot;localhost&quot;, 7890));\n\n        socket.configureBlocking(true);\n        System.out.println(socket.getLocalAddress());\n        OutputStream outputStream = socket.socket().getOutputStream();\n        outputStream.write(new byte[]{5, 0, 1});\n        outputStream.flush();\n        ByteBuffer allocate1 = ByteBuffer.allocate(17);\n        byte[] b = {5, 1, 0, 3};\n        allocate1.put(b);\n        allocate1.put(&quot;a.baidu.com&quot;.getBytes(StandardCharsets.UTF_8));\n        allocate1.put(new byte[]{00, 80});\n        allocate1.flip();\n        outputStream.write(allocate1.array());\n        outputStream.flush();\n        socket.configureBlocking(false);\n        Selector selector = Selector.open();\n        socket.register(selector, SelectionKey.OP_READ);\n        ByteBuffer allocate = ByteBuffer.allocate(128);\n        while (true) {\n        \n            if (selector.select(500) == 0) {\n                System.out.print(&quot;.&quot;);\n                continue;\n            }\n            System.out.print(&quot;x&quot;);\n            Thread.sleep(500);\n\n            Set&lt;SelectionKey&gt; selectionKeys = selector.selectedKeys();\n            Iterator&lt;SelectionKey&gt; iterator = selectionKeys.iterator();\n            while (iterator.hasNext()) {\n                SelectionKey key = iterator.next();\n                iterator.remove();\n                if (key.isReadable()) {\n                    SocketChannel channel = (SocketChannel) key.channel();\n                    int read;\n                    allocate.clear();\n                    while ((read = channel.read(allocate)) &gt; 0) {\n                        allocate.flip();\n                        System.out.print(Charset.forName(&quot;utf-8&quot;).decode(allocate));\n                        allocate.clear();\n                    }\n                }\n            }\n            selectionKeys.clear();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","regex","capture-group"],"comments":[{"owner":{"account_id":114376,"reputation":8472,"user_id":300797,"accept_rate":93,"display_name":"thecoshman"},"score":0,"creation_date":1437303555,"post_id":31500422,"comment_id":50963967,"body_markdown":"I think this would depend on where you are using the regex. Java&#39;s standard regex strings might require it, whilst I am fairly sure Perls would consider it redundant.","body":"I think this would depend on where you are using the regex. Java&#39;s standard regex strings might require it, whilst I am fairly sure Perls would consider it redundant."},{"owner":{"account_id":6561101,"reputation":734,"user_id":5072169,"display_name":"Muhammad Imran"},"score":5,"creation_date":1437319815,"post_id":31500422,"comment_id":50968382,"body_markdown":"non-capturing groups are heavy on processor(since it requires extra processing) while capturing groups are heavy on memory(since it has to store many things). But, they&#39;re semantically equivalent in a sense that they can match the same thing(s) but in a different way. You can think these as  cars having different engines, but both serves as a mean of riding.","body":"non-capturing groups are heavy on processor(since it requires extra processing) while capturing groups are heavy on memory(since it has to store many things). But, they&#39;re semantically equivalent in a sense that they can match the same thing(s) but in a different way. You can think these as  cars having different engines, but both serves as a mean of riding."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor StribiÅ¼ew"},"score":1,"creation_date":1557127742,"post_id":31500422,"comment_id":98647630,"body_markdown":"Hi, if you think the answer below works for you, please consider accepting.","body":"Hi, if you think the answer below works for you, please consider accepting."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":2,"creation_date":1592561404,"post_id":31500422,"comment_id":110475722,"body_markdown":"@MuhammadImran Could you provide a reference for the claim that *non-capturing groups are heavy on processor*?","body":"@MuhammadImran Could you provide a reference for the claim that <i>non-capturing groups are heavy on processor</i>?"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor StribiÅ¼ew"},"score":0,"creation_date":1635334083,"post_id":31500422,"comment_id":123268316,"body_markdown":"If my answer below worked for you please consider accepting the answer.","body":"If my answer below worked for you please consider accepting the answer."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor StribiÅ¼ew"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1468920961,"creation_date":1437304119,"answer_id":31500517,"question_id":31500422,"body_markdown":"Your `(?:wo)?men` and `(wo)?men` are semantically equivalent, but technically are different, namely, the first is using a non-capturing and the other a capturing group. Thus, the question is *why use non-capturing groups when we have capturing ones*?\r\n\r\nNon-caprturing groups are of help sometimes.\r\n\r\n 1. To avoid excessive number of backreferences (remember that it is sometimes difficult to use backreferences higher than 9)\r\n 2. To avoid the problem with 99 numbered backreferences limit (by reducing the number of numbered capturing groups) (source: [*Regular-expressions.info*](http://www.regular-expressions.info/backref.html): *Most regex flavors support up to 99 capturing groups and double-digit backreferences.*)&lt;br/&gt; **NOTE** this does not pertain to Java regex engine, nor to PHP or .NET regex engines.\r\n 3. To [lessen the overhead][1] caused by storing the captures in the stack\r\n 4. We can add more groupings to existing regex without ruining the order of capturing groups.\r\n\r\nAlso, it is just [makes our matches cleaner][2]:\r\n\r\n&gt; You can use a non-capturing group to retain the organisational or grouping benefits but without the overhead of capturing. \r\n\r\nIt does not seem a good idea to re-factor existing regular expressions to convert capturing to non-capturing groups, since it [may ruin the code][3] or require too much effort.\r\n\r\n\r\n  [1]: https://books.google.pl/books?id=6k7IfACN_P8C&amp;pg=PA65&amp;lpg=PA65&amp;dq=noncapturing%20groups%20advantages&amp;source=bl&amp;ots=CpHf6IrpZO&amp;sig=m_18G0-jhiLYEJnayUq7hMBLcag&amp;hl=pl&amp;sa=X&amp;ved=0CEMQ6AEwBGoVChMI7fzfmojnxgIVRd0sCh3cXgYo#v=onepage&amp;q=noncapturing%20groups%20advantages&amp;f=false\r\n  [2]: http://www.javamex.com/tutorials/regular_expressions/non_capturing_groups.shtml#.VauGaPntlHw\r\n  [3]: http://blog.getify.com/to-capture-or-not/","title":"Are non-capturing groups redundant?","body":"<p>Your <code>(?:wo)?men</code> and <code>(wo)?men</code> are semantically equivalent, but technically are different, namely, the first is using a non-capturing and the other a capturing group. Thus, the question is <em>why use non-capturing groups when we have capturing ones</em>?</p>\n\n<p>Non-caprturing groups are of help sometimes.</p>\n\n<ol>\n<li>To avoid excessive number of backreferences (remember that it is sometimes difficult to use backreferences higher than 9)</li>\n<li>To avoid the problem with 99 numbered backreferences limit (by reducing the number of numbered capturing groups) (source: <a href=\"http://www.regular-expressions.info/backref.html\" rel=\"noreferrer\"><em>Regular-expressions.info</em></a>: <em>Most regex flavors support up to 99 capturing groups and double-digit backreferences.</em>)<br/> <strong>NOTE</strong> this does not pertain to Java regex engine, nor to PHP or .NET regex engines.</li>\n<li>To <a href=\"https://books.google.pl/books?id=6k7IfACN_P8C&amp;pg=PA65&amp;lpg=PA65&amp;dq=noncapturing%20groups%20advantages&amp;source=bl&amp;ots=CpHf6IrpZO&amp;sig=m_18G0-jhiLYEJnayUq7hMBLcag&amp;hl=pl&amp;sa=X&amp;ved=0CEMQ6AEwBGoVChMI7fzfmojnxgIVRd0sCh3cXgYo#v=onepage&amp;q=noncapturing%20groups%20advantages&amp;f=false\" rel=\"noreferrer\">lessen the overhead</a> caused by storing the captures in the stack</li>\n<li>We can add more groupings to existing regex without ruining the order of capturing groups.</li>\n</ol>\n\n<p>Also, it is just <a href=\"http://www.javamex.com/tutorials/regular_expressions/non_capturing_groups.shtml#.VauGaPntlHw\" rel=\"noreferrer\">makes our matches cleaner</a>:</p>\n\n<blockquote>\n  <p>You can use a non-capturing group to retain the organisational or grouping benefits but without the overhead of capturing. </p>\n</blockquote>\n\n<p>It does not seem a good idea to re-factor existing regular expressions to convert capturing to non-capturing groups, since it <a href=\"http://blog.getify.com/to-capture-or-not/\" rel=\"noreferrer\">may ruin the code</a> or require too much effort.</p>\n"},{"tags":[],"owner":{"account_id":5529755,"reputation":28247,"user_id":4390160,"accept_rate":100,"display_name":"Grismar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654140211,"creation_date":1654140211,"answer_id":72470310,"question_id":31500422,"body_markdown":"A question elsewhere was asking the same and I provided an answer with an example in Python:\r\n\r\nIt doesn&#39;t &quot;have the same effect&quot; - in one case the group is captured and accessible, in the other it is only used to complete the match. \r\n\r\nPeople use non-capturing groups when they are not interesting in accessing the value of the group - to save space for situations with many matches, but also for better performance in cases where the regex engine is optimised for it.\r\n\r\nA useless example in Python to illustrate the point:\r\n```\r\nfrom timeit import timeit\r\nimport re\r\n\r\nchars = &#39;abcdefghij&#39;\r\ns = &#39;&#39;.join(chars[i % len(chars)] for i in range(100000))\r\n\r\n\r\ndef capturing():\r\n    re.findall(&#39;(a(b(c(d(e(f(g(h(i(j))))))))))&#39;, s)\r\n\r\n\r\ndef noncapturing():\r\n    re.findall(&#39;(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(j))))))))))&#39;, s)\r\n\r\n\r\nprint(timeit(capturing, number=1000))\r\nprint(timeit(noncapturing, number=1000))\r\n```\r\nOutput:\r\n```\r\n5.8383678999998665\r\n1.0528525999998237\r\n```\r\nNote: this is in spite of PyCharm (if you happen to use it) warning &quot;Unnecessary non-capturing group&quot; - the warning is correct, but not the whole truth, clearly. It&#39;s logically unneeded, but definitely does not have the same practical effect.\r\n\r\nIf the reason you wanted to get rid of them was to suppress such warnings, PyCharm allows you to do so with this:\r\n```\r\n# noinspection RegExpUnnecessaryNonCapturingGroup\r\nre.findall(&#39;(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(j))))))))))&#39;, s)\r\n```\r\n\r\nAnother note for the pedantic: the examples above aren&#39;t strictly logically equivalent either. But they match the same strings, just with different results.\r\n```\r\nc = re.findall(&#39;(a(b(c(d(e(f(g(h(i(j))))))))))&#39;, s)\r\nnc = re.findall(&#39;(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(j))))))))))&#39;, s)\r\n```\r\n`c` is a list of 10-tuples (`[(&#39;abcdefghij&#39;, &#39;bcdefghij&#39;, ..), ..]`), while `nc` is a list of single strings (`[&#39;j&#39;, ..]`). ","title":"Are non-capturing groups redundant?","body":"<p>A question elsewhere was asking the same and I provided an answer with an example in Python:</p>\n<p>It doesn't &quot;have the same effect&quot; - in one case the group is captured and accessible, in the other it is only used to complete the match.</p>\n<p>People use non-capturing groups when they are not interesting in accessing the value of the group - to save space for situations with many matches, but also for better performance in cases where the regex engine is optimised for it.</p>\n<p>A useless example in Python to illustrate the point:</p>\n<pre><code>from timeit import timeit\nimport re\n\nchars = 'abcdefghij'\ns = ''.join(chars[i % len(chars)] for i in range(100000))\n\n\ndef capturing():\n    re.findall('(a(b(c(d(e(f(g(h(i(j))))))))))', s)\n\n\ndef noncapturing():\n    re.findall('(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(j))))))))))', s)\n\n\nprint(timeit(capturing, number=1000))\nprint(timeit(noncapturing, number=1000))\n</code></pre>\n<p>Output:</p>\n<pre><code>5.8383678999998665\n1.0528525999998237\n</code></pre>\n<p>Note: this is in spite of PyCharm (if you happen to use it) warning &quot;Unnecessary non-capturing group&quot; - the warning is correct, but not the whole truth, clearly. It's logically unneeded, but definitely does not have the same practical effect.</p>\n<p>If the reason you wanted to get rid of them was to suppress such warnings, PyCharm allows you to do so with this:</p>\n<pre><code># noinspection RegExpUnnecessaryNonCapturingGroup\nre.findall('(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(j))))))))))', s)\n</code></pre>\n<p>Another note for the pedantic: the examples above aren't strictly logically equivalent either. But they match the same strings, just with different results.</p>\n<pre><code>c = re.findall('(a(b(c(d(e(f(g(h(i(j))))))))))', s)\nnc = re.findall('(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(j))))))))))', s)\n</code></pre>\n<p><code>c</code> is a list of 10-tuples (<code>[('abcdefghij', 'bcdefghij', ..), ..]</code>), while <code>nc</code> is a list of single strings (<code>['j', ..]</code>).</p>\n"}],"owner":{"account_id":91845,"reputation":258335,"user_id":252000,"accept_rate":95,"display_name":"fredoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1866,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":31500517,"answer_count":2,"score":9,"last_activity_date":1654140211,"creation_date":1437303437,"question_id":31500422,"body_markdown":"Are optional non-capturing groups redundant?\r\n\r\nIs the following regex:\r\n\r\n    (?:wo)?men\r\n\r\nsemantically equivalent to the following regex?\r\n\r\n    (wo)?men\r\n","title":"Are non-capturing groups redundant?","body":"<p>Are optional non-capturing groups redundant?</p>\n\n<p>Is the following regex:</p>\n\n<pre><code>(?:wo)?men\n</code></pre>\n\n<p>semantically equivalent to the following regex?</p>\n\n<pre><code>(wo)?men\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa","criteria-api","criteriaquery"],"owner":{"account_id":9055746,"reputation":11,"user_id":6744175,"display_name":"s_91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654139901,"creation_date":1654139901,"question_id":72470277,"body_markdown":"How do i write criteria api for the below entity of type string-array\r\n\r\n   \r\n\r\n    @Table(name = &quot;Test&quot;)\r\n         public class Test\r\n        { \r\n            @Type(type = &quot;string-array&quot;)\r\n            @Column(name = &quot;tempCol&quot;,columnDefinition = &quot;text[]&quot;)\r\n            public List&lt;String&gt; sampleColumnList;\r\n        }\r\n\r\nQuery\r\n```\r\n//value={&quot;abc,&quot;def&quot;}\r\nprivate Predicate getPredicate(List&lt;String&gt; value,entityManager e) \r\n{\r\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\nCriteriaQuery&lt;SampleColumn&gt; cq = cb.createQuery(SampleColumn.class);\r\nRoot&lt;SampleColumn&gt; root = cq.from(SampleColumn.class);\r\n\r\nObject[] strArray1 = new Object[] {value};\r\nExpression&lt;Object[]&gt; exp=root.get(&quot;tempCol&quot;);\r\nPredicate predicate = cb.and(exp.in(strArray1));\r\n\r\ncq.select(root).where(predicate);\r\nTypedQuery&lt;Test&gt; tp = entityManager.createQuery(cq);\r\nList&lt;Test&gt;c=tp.getResultList();\r\n    }\r\n```\r\nI tried the above method but I am trying to query for records with abc, def as values from  tempCol\r\n\r\ni keep getting the exception ***The provided abc is not Object[] or List!***,i tried with list&lt;String&gt; instead of Object[] as well still didn&#39;t work.\r\nWhat am I doing wrong \r\n\r\n[Exception stack trace][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HpOYr.png","title":"JPA Spring -How to use criteria query on Object[] using spring jpa -Getting is not a Object[] or List","body":"<p>How do i write criteria api for the below entity of type string-array</p>\n<pre><code>@Table(name = &quot;Test&quot;)\n     public class Test\n    { \n        @Type(type = &quot;string-array&quot;)\n        @Column(name = &quot;tempCol&quot;,columnDefinition = &quot;text[]&quot;)\n        public List&lt;String&gt; sampleColumnList;\n    }\n</code></pre>\n<p>Query</p>\n<pre><code>//value={&quot;abc,&quot;def&quot;}\nprivate Predicate getPredicate(List&lt;String&gt; value,entityManager e) \n{\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;SampleColumn&gt; cq = cb.createQuery(SampleColumn.class);\nRoot&lt;SampleColumn&gt; root = cq.from(SampleColumn.class);\n\nObject[] strArray1 = new Object[] {value};\nExpression&lt;Object[]&gt; exp=root.get(&quot;tempCol&quot;);\nPredicate predicate = cb.and(exp.in(strArray1));\n\ncq.select(root).where(predicate);\nTypedQuery&lt;Test&gt; tp = entityManager.createQuery(cq);\nList&lt;Test&gt;c=tp.getResultList();\n    }\n</code></pre>\n<p>I tried the above method but I am trying to query for records with abc, def as values from  tempCol</p>\n<p>i keep getting the exception <em><strong>The provided abc is not Object[] or List!</strong></em>,i tried with list instead of Object[] as well still didn't work.\nWhat am I doing wrong</p>\n<p><a href=\"https://i.stack.imgur.com/HpOYr.png\" rel=\"nofollow noreferrer\">Exception stack trace</a></p>\n"},{"tags":["java","intellij-idea","bufferedreader","readline"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654139296,"creation_date":1654107775,"answer_id":72466474,"question_id":72466413,"body_markdown":"It&#39;s a [known bug in IntelliJ IDEA](https://youtrack.jetbrains.com/issue/IDEA-293951/Console-readLine-skips-input-in-202211). The fix is already available, please [update](https://www.jetbrains.com/idea/download/index.html).","title":"ReadLine (Buffered reader) does not work in a loop","body":"<p>It's a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-293951/Console-readLine-skips-input-in-202211\" rel=\"nofollow noreferrer\">known bug in IntelliJ IDEA</a>. The fix is already available, please <a href=\"https://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">update</a>.</p>\n"}],"owner":{"account_id":25336590,"reputation":9,"user_id":19155633,"display_name":"Dark 98"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1654113944,"accepted_answer_id":72466474,"answer_count":1,"score":-1,"last_activity_date":1654139296,"creation_date":1654107479,"question_id":72466413,"body_markdown":"I&#39;m writing code in Intelij. readLine does not correctly read the input (puts a line break at the end of the line), which is why the next readline does not work (becomes automatically empty).\r\nCode:\r\n\r\n\r\n    public class Start {\r\n        public static void main(String[] args) throws IOException {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n            String s = reader.readLine();\r\n            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            while (true) {\r\n                if (s == null || s.isEmpty()) {\r\n                    break;\r\n                }\r\n                else list.add(s);\r\n                s = reader.readLine();\r\n            }\r\n    \r\n            for (String str : list) {\r\n                System.out.println(str);\r\n            }\r\n\r\nIf important: LF separator and UTF-8 encoding\r\n","title":"ReadLine (Buffered reader) does not work in a loop","body":"<p>I'm writing code in Intelij. readLine does not correctly read the input (puts a line break at the end of the line), which is why the next readline does not work (becomes automatically empty).\nCode:</p>\n<pre><code>public class Start {\n    public static void main(String[] args) throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        String s = reader.readLine();\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n        while (true) {\n            if (s == null || s.isEmpty()) {\n                break;\n            }\n            else list.add(s);\n            s = reader.readLine();\n        }\n\n        for (String str : list) {\n            System.out.println(str);\n        }\n</code></pre>\n<p>If important: LF separator and UTF-8 encoding</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654138644,"post_id":72440905,"comment_id":128021713,"body_markdown":"By the way, that is the default behavior of [records](http://openjdk.java.net/jeps/395) in Java 16+. The member fields can be accessed by either of two ways: the member field name (`somePerson.name`) or a method named the same as the field name (`somePerson.name()`).","body":"By the way, that is the default behavior of <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a> in Java 16+. The member fields can be accessed by either of two ways: the member field name (<code>somePerson.name</code>) or a method named the same as the field name (<code>somePerson.name()</code>)."}],"answers":[{"tags":[],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1653957978,"creation_date":1653957978,"answer_id":72441206,"question_id":72440905,"body_markdown":"    lombok.accessors.fluent = true\r\n    \r\nThat fluent option gives us means of access that do not have a get or set prefix.\r\n\r\nWe will now take a look at the chain option , but since it is enabled by default, let&#39;s disable it explicitly for now:\r\n\r\n```java\r\n@Accessors(fluent = true, chain = false)\r\n@Getter\r\n@Setter\r\npublic class FluentAccount {\r\n    private String name;\r\n    private BigDecimal balance;\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Test\r\npublic void givenFluentAccount_thenUseFluentAccessors() {\r\n    FluentAccount account = new FluentAccount();\r\n    account.name(&quot;Fluent Account&quot;);\r\n    account.balance(BigDecimal.TEN);\r\n\r\n    assertEquals(&quot;Fluent Account&quot;, account.name()); \r\n    assertEquals(BigDecimal.TEN, account.balance());\r\n}\r\n```\r\n\r\n\r\nNow let&#39;s take a look at the **chain** option :\r\n\r\n    @Accessors(chain = true)\r\nThe chain option gives us setters that return this . Note again that it is set to true by default, but we will set it explicitly for clarity.\r\n\r\nThis means that we can combine several set operations in one statement.\r\n\r\nLet&#39;s build on our fluent accessors and change the chain parameter to true :\r\n```java\r\n@Accessors(fluent = true, chain = true)\r\n@Getter \r\n@Setter \r\npublic class ChainedFluentAccount { \r\n    private String name; \r\n    private BigDecimal balance;\r\n}\r\n```\r\n\r\nWe get the same effect if we omit the chain and just point:\r\n\r\n    @Accessors(fluent = true)\r\n\r\nNow let&#39;s see how this affects our test case:\r\n```java\r\n@Test\r\npublic void givenChainedFluentAccount_thenUseChainedFluentAccessors() {\r\n    ChainedFluentAccount account = new ChainedFluentAccount()\r\n      .name(&quot;Fluent Account&quot;)\r\n      .balance(BigDecimal.TEN);\r\n\r\n    assertEquals(&quot;Fluent Account&quot;, account.name()); \r\n    assertEquals(BigDecimal.TEN, account.balance());\r\n}\r\n```\r\nNotice how the new statement gets longer with setters , tied together, removing some of the patterning.\r\n\r\nThis, of course, is how Lombok @Builder uses chain ed fluent accessors.\r\n\r\n","title":"Is there a way to configure Lombok to generate getters as field() instead of getField()?","body":"<pre><code>lombok.accessors.fluent = true\n</code></pre>\n<p>That fluent option gives us means of access that do not have a get or set prefix.</p>\n<p>We will now take a look at the chain option , but since it is enabled by default, let's disable it explicitly for now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Accessors(fluent = true, chain = false)\n@Getter\n@Setter\npublic class FluentAccount {\n    private String name;\n    private BigDecimal balance;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void givenFluentAccount_thenUseFluentAccessors() {\n    FluentAccount account = new FluentAccount();\n    account.name(&quot;Fluent Account&quot;);\n    account.balance(BigDecimal.TEN);\n\n    assertEquals(&quot;Fluent Account&quot;, account.name()); \n    assertEquals(BigDecimal.TEN, account.balance());\n}\n</code></pre>\n<p>Now let's take a look at the <strong>chain</strong> option :</p>\n<pre><code>@Accessors(chain = true)\n</code></pre>\n<p>The chain option gives us setters that return this . Note again that it is set to true by default, but we will set it explicitly for clarity.</p>\n<p>This means that we can combine several set operations in one statement.</p>\n<p>Let's build on our fluent accessors and change the chain parameter to true :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Accessors(fluent = true, chain = true)\n@Getter \n@Setter \npublic class ChainedFluentAccount { \n    private String name; \n    private BigDecimal balance;\n}\n</code></pre>\n<p>We get the same effect if we omit the chain and just point:</p>\n<pre><code>@Accessors(fluent = true)\n</code></pre>\n<p>Now let's see how this affects our test case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void givenChainedFluentAccount_thenUseChainedFluentAccessors() {\n    ChainedFluentAccount account = new ChainedFluentAccount()\n      .name(&quot;Fluent Account&quot;)\n      .balance(BigDecimal.TEN);\n\n    assertEquals(&quot;Fluent Account&quot;, account.name()); \n    assertEquals(BigDecimal.TEN, account.balance());\n}\n</code></pre>\n<p>Notice how the new statement gets longer with setters , tied together, removing some of the patterning.</p>\n<p>This, of course, is how Lombok @Builder uses chain ed fluent accessors.</p>\n"}],"owner":{"account_id":25431495,"reputation":41,"user_id":19235824,"display_name":"Robbie Gorey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1654138399,"creation_date":1653953838,"question_id":72440905,"body_markdown":"I&#39;d like to configure Lombok to generate getters named as `field()`, rather than `getField()`.\r\n\r\nIs that possible to do?  If so, how?","title":"Is there a way to configure Lombok to generate getters as field() instead of getField()?","body":"<p>I'd like to configure Lombok to generate getters named as <code>field()</code>, rather than <code>getField()</code>.</p>\n<p>Is that possible to do?  If so, how?</p>\n"},{"tags":["java","spring","list","iterator"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":1,"creation_date":1654091716,"post_id":72463020,"comment_id":128009418,"body_markdown":"why not use simple `for` loop with `indexes`?","body":"why not use simple <code>for</code> loop with <code>indexes</code>?"},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654091797,"post_id":72463020,"comment_id":128009440,"body_markdown":"Use iterator.previous() twice to go back to the element","body":"Use iterator.previous() twice to go back to the element"},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1654091939,"post_id":72463020,"comment_id":128009510,"body_markdown":"@SivaRahul wouldn&#39;t it change the current iteration position?","body":"@SivaRahul wouldn&#39;t it change the current iteration position?"},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654092086,"post_id":72463020,"comment_id":128009560,"body_markdown":"Since you need both the previous value and the next value, use iterator.previous() first and iterator.next() twice to get the values and be in the same position.","body":"Since you need both the previous value and the next value, use iterator.previous() first and iterator.next() twice to get the values and be in the same position."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654095644,"creation_date":1654095340,"answer_id":72463983,"question_id":72463020,"body_markdown":"If you need to process *previous*, *current* and *next* nodes at each iteration step, you can simply define a couple local variables before the loop.\r\n\r\nThe idea of utilizing `ListIterator` will not improve the readability, conversely to make the `ListIterator` approach working you have to introduce a lot of redundancy because each call of `next()` or `previous()` advances the iterator, and it&#39;ll also cause unnecessary performance overhead.\r\n\r\nThat&#39;s how it can be done by maintaining two variables for *previous* and *current* nodes.\r\n\r\n    public static boolean processNodes(List&lt;Node&gt; nodeList) {\r\n        if (nodeList.size() &lt; 3) return false;\r\n    \r\n        Node prev = nodeList.get(0); // previous node\r\n        Node cur = nodeList.get(1);  // current node\r\n        \r\n        for (int i = 2; i &lt; nodeList.size(); i++) {\r\n            Node next = nodeList.get(i); // next node\r\n            \r\n            if (cur.equals(something) &amp;&amp; someSondition(prev, next)) {\r\n                return true; // or introduce a flag (before the loop), set the flag to true and break from the loop\r\n            }\r\n            prev = cur; // reassigning nodes\r\n            cur = next;\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\nI would also suggest introducing a `boolean` flag initialized to `false` and change it value to `true` in the loop, rather than returning from the middle of the method.\r\n\r\n    public static boolean processNodes(List&lt;Node&gt; nodeList) {\r\n        boolean result = false;\r\n        \r\n        if (nodeList.size() &lt; 3) return result;\r\n        \r\n        Node prev = nodeList.get(0); // previous node\r\n        Node cur = nodeList.get(1);  // current node\r\n        \r\n        for (int i = 2; i &lt; nodeList.size(); i++) {\r\n            Node next = nodeList.get(i); // next node\r\n            \r\n            if (cur.equals(something) &amp;&amp; someSondition(prev, next)) {\r\n                result = true;\r\n                break;\r\n            }\r\n            prev = cur; // reassigning nodes\r\n            cur = next;\r\n        }\r\n        \r\n        return result;\r\n    }","title":"Using ListIterator to get the Next and Previous elements from the Current element of the List","body":"<p>If you need to process <em>previous</em>, <em>current</em> and <em>next</em> nodes at each iteration step, you can simply define a couple local variables before the loop.</p>\n<p>The idea of utilizing <code>ListIterator</code> will not improve the readability, conversely to make the <code>ListIterator</code> approach working you have to introduce a lot of redundancy because each call of <code>next()</code> or <code>previous()</code> advances the iterator, and it'll also cause unnecessary performance overhead.</p>\n<p>That's how it can be done by maintaining two variables for <em>previous</em> and <em>current</em> nodes.</p>\n<pre><code>public static boolean processNodes(List&lt;Node&gt; nodeList) {\n    if (nodeList.size() &lt; 3) return false;\n\n    Node prev = nodeList.get(0); // previous node\n    Node cur = nodeList.get(1);  // current node\n    \n    for (int i = 2; i &lt; nodeList.size(); i++) {\n        Node next = nodeList.get(i); // next node\n        \n        if (cur.equals(something) &amp;&amp; someSondition(prev, next)) {\n            return true; // or introduce a flag (before the loop), set the flag to true and break from the loop\n        }\n        prev = cur; // reassigning nodes\n        cur = next;\n    }\n    \n    return false;\n}\n</code></pre>\n<p>I would also suggest introducing a <code>boolean</code> flag initialized to <code>false</code> and change it value to <code>true</code> in the loop, rather than returning from the middle of the method.</p>\n<pre><code>public static boolean processNodes(List&lt;Node&gt; nodeList) {\n    boolean result = false;\n    \n    if (nodeList.size() &lt; 3) return result;\n    \n    Node prev = nodeList.get(0); // previous node\n    Node cur = nodeList.get(1);  // current node\n    \n    for (int i = 2; i &lt; nodeList.size(); i++) {\n        Node next = nodeList.get(i); // next node\n        \n        if (cur.equals(something) &amp;&amp; someSondition(prev, next)) {\n            result = true;\n            break;\n        }\n        prev = cur; // reassigning nodes\n        cur = next;\n    }\n    \n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":19101732,"reputation":21,"user_id":13949856,"display_name":"Saniya Javed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654137903,"creation_date":1654091497,"question_id":72463020,"body_markdown":"I have list of element for that I have to match some specified element and get the previous and next for that element.\r\n\r\nThe problem here is when you do `iterator.next()` or `iterator.prev()` it returns the same element because the cursor is moved back and forth returning to the same element. So what I did is I use `previousIndex()` and `nextIndex()` method to get only index and retrieve element from the list from that index.\r\n\r\nAlso make sure to do decrement from previous index as cursor is moved to next element so current element will be returned.\r\n\r\n    for (final ListIterator&lt;Xyz&gt; iterator =  nodeList.listIterator();iterator.hasNext();){\r\n        \t\tif(iterator.next().equals(midString.get())) {\r\n        \t\t\tfinal Xyz prev=nodeList.get(iterator.previousIndex()-1);\r\n        \t\t\tfinal Xyz next= nodeList.get(iterator.nextIndex());\r\n        \t\t\treturn some condition true;\r\n        \t\t}\r\n        \t}\r\n\r\nWanted to know is there any better approach to achieve same or any improvements in existing solution.","title":"Using ListIterator to get the Next and Previous elements from the Current element of the List","body":"<p>I have list of element for that I have to match some specified element and get the previous and next for that element.</p>\n<p>The problem here is when you do <code>iterator.next()</code> or <code>iterator.prev()</code> it returns the same element because the cursor is moved back and forth returning to the same element. So what I did is I use <code>previousIndex()</code> and <code>nextIndex()</code> method to get only index and retrieve element from the list from that index.</p>\n<p>Also make sure to do decrement from previous index as cursor is moved to next element so current element will be returned.</p>\n<pre><code>for (final ListIterator&lt;Xyz&gt; iterator =  nodeList.listIterator();iterator.hasNext();){\n            if(iterator.next().equals(midString.get())) {\n                final Xyz prev=nodeList.get(iterator.previousIndex()-1);\n                final Xyz next= nodeList.get(iterator.nextIndex());\n                return some condition true;\n            }\n        }\n</code></pre>\n<p>Wanted to know is there any better approach to achieve same or any improvements in existing solution.</p>\n"},{"tags":["java","sockets","networking","tcp","wan"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1621709306,"post_id":67653037,"comment_id":119579688,"body_markdown":"*...Various applications also communicate to the server...* You need port forwarding if *your* program is acting a server, i.e. listening for a connection on a specific port.","body":"<i>...Various applications also communicate to the server...</i> You need port forwarding if <i>your</i> program is acting a server, i.e. listening for a connection on a specific port."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1621709420,"post_id":67653037,"comment_id":119579712,"body_markdown":"You not only need port forwarding, but also an address on the public internet. Your IP is likely dynamic so will change - youâ€™ll need to set up a dynDNS provider and hope youâ€™re not behind a carrier-grade NAT.","body":"You not only need port forwarding, but also an address on the public internet. Your IP is likely dynamic so will change - youâ€™ll need to set up a dynDNS provider and hope youâ€™re not behind a carrier-grade NAT."},{"owner":{"account_id":20800296,"reputation":1,"user_id":15276488,"display_name":"Chinmay Pant"},"score":0,"creation_date":1621709965,"post_id":67653037,"comment_id":119579843,"body_markdown":"@PresidentJamesK.Polk yes, I have created Server.java to accept connections sent by Client.java. But can you just explain or provide me any resource that why actually a Server requires Port Forwarding to be enabled","body":"@PresidentJamesK.Polk yes, I have created Server.java to accept connections sent by Client.java. But can you just explain or provide me any resource that why actually a Server requires Port Forwarding to be enabled"},{"owner":{"account_id":20800296,"reputation":1,"user_id":15276488,"display_name":"Chinmay Pant"},"score":0,"creation_date":1621710228,"post_id":67653037,"comment_id":119579918,"body_markdown":"@BoristheSpider I have just created this small program for learning purpose, so I don&#39;t think dynamic DNS should cause problem for testing it. But the main problem was regarding port forwarding , and understanding the REASON why actually it is required, and why other applications dont","body":"@BoristheSpider I have just created this small program for learning purpose, so I don&#39;t think dynamic DNS should cause problem for testing it. But the main problem was regarding port forwarding , and understanding the REASON why actually it is required, and why other applications dont"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1621710338,"post_id":67653037,"comment_id":119579948,"body_markdown":"A server needs to receive connections - it needs a port forward at each NAT on the route. Your router is the receptionist in a block of flats - if you donâ€™t tell it youâ€™re expecting post it will decline to accept any packages. Regarding not needs dynDNS - what do you plan to enter in the â€œdestination addressâ€ of the client?","body":"A server needs to receive connections - it needs a port forward at each NAT on the route. Your router is the receptionist in a block of flats - if you donâ€™t tell it youâ€™re expecting post it will decline to accept any packages. Regarding not needs dynDNS - what do you plan to enter in the â€œdestination addressâ€ of the client?"},{"owner":{"account_id":20800296,"reputation":1,"user_id":15276488,"display_name":"Chinmay Pant"},"score":0,"creation_date":1621710657,"post_id":67653037,"comment_id":119580016,"body_markdown":"@BoristheSpider I made very simple program ,and just provided my Public IP address and port number in my Client.java file and gave port to listen on for Server.java","body":"@BoristheSpider I made very simple program ,and just provided my Public IP address and port number in my Client.java file and gave port to listen on for Server.java"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1621710894,"post_id":67653037,"comment_id":119580079,"body_markdown":"Okay, so you should see the problem. Your router runs a NAT. Your computerâ€™s IP will be an RFC1918 address. Your router will receive a connection on a port - without telling the router that connections on that port need to go to an internal location, the router will think someone is trying to talk to it - and decline the connection.","body":"Okay, so you should see the problem. Your router runs a NAT. Your computerâ€™s IP will be an RFC1918 address. Your router will receive a connection on a port - without telling the router that connections on that port need to go to an internal location, the router will think someone is trying to talk to it - and decline the connection."},{"owner":{"account_id":20800296,"reputation":1,"user_id":15276488,"display_name":"Chinmay Pant"},"score":0,"creation_date":1621711268,"post_id":67653037,"comment_id":119580177,"body_markdown":"@BoristheSpider Okay that is much clear now , but one doubt that why this same condition does not come when we use other applications like spotify or youtube app on our pc , they also communicate to the internet","body":"@BoristheSpider Okay that is much clear now , but one doubt that why this same condition does not come when we use other applications like spotify or youtube app on our pc , they also communicate to the internet"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1621711639,"post_id":67653037,"comment_id":119580270,"body_markdown":"You run YouTube? Do people connect to your computer to watch YouTube? Or do you browse to YouTube _servers_? Can you see the difference? **No one is connecting to you**","body":"You run YouTube? Do people connect to your computer to watch YouTube? Or do you browse to YouTube <i>servers</i>? Can you see the difference? <b>No one is connecting to you</b>"},{"owner":{"account_id":20800296,"reputation":1,"user_id":15276488,"display_name":"Chinmay Pant"},"score":0,"creation_date":1621711725,"post_id":67653037,"comment_id":119580301,"body_markdown":"@BoristheSpider , now it is almost clear. Thanks a lot for your kind help.","body":"@BoristheSpider , now it is almost clear. Thanks a lot for your kind help."}],"answers":[{"tags":[],"owner":{"account_id":20620380,"reputation":1,"user_id":15137537,"display_name":"Tejas Bishnoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654137631,"creation_date":1654137631,"answer_id":72470065,"question_id":67653037,"body_markdown":"I also came across the same question. The reason is that sockets are default to local host and there is no way you can use that by simply putting the ip of the server into the client when the server is hosted on a local network, to put the server onto the internet we use port forwarding . Port forwarding allows to make a static ip for our computer and allows other computer to easily connect to the server and use it , other wise the ip will dynamically change because with out port forwarding the ip will be dynamic not static..\r\nHope this solves your problem...","title":"Port Forwarding in socket Programming","body":"<p>I also came across the same question. The reason is that sockets are default to local host and there is no way you can use that by simply putting the ip of the server into the client when the server is hosted on a local network, to put the server onto the internet we use port forwarding . Port forwarding allows to make a static ip for our computer and allows other computer to easily connect to the server and use it , other wise the ip will dynamically change because with out port forwarding the ip will be dynamic not static..\nHope this solves your problem...</p>\n"}],"owner":{"account_id":20800296,"reputation":1,"user_id":15276488,"display_name":"Chinmay Pant"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654137631,"creation_date":1621708909,"question_id":67653037,"body_markdown":"I created a program in Java using socket programming, which sends messages between two devices. It works great in LAN, but It doesn&#39;t work in WAN. I searched a lot and many said to enable port forwarding in my router. I have a doubt, that we use many applications in our computer which connect to the Internet. Various applications also communicate to the server, and **none of them require any Port Forwarding** .\r\nSo why this java program requires something like port forwarding to work?","title":"Port Forwarding in socket Programming","body":"<p>I created a program in Java using socket programming, which sends messages between two devices. It works great in LAN, but It doesn't work in WAN. I searched a lot and many said to enable port forwarding in my router. I have a doubt, that we use many applications in our computer which connect to the Internet. Various applications also communicate to the server, and <strong>none of them require any Port Forwarding</strong> .\nSo why this java program requires something like port forwarding to work?</p>\n"},{"tags":["java","ssl","socketexception"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1623405717,"post_id":66866105,"comment_id":120075826,"body_markdown":"It &#39;came out&#39; because you tried to shutdown a socket that you had already closed. The error message is quite clear.","body":"It &#39;came out&#39; because you tried to shutdown a socket that you had already closed. The error message is quite clear."}],"answers":[{"tags":[],"owner":{"account_id":5279253,"reputation":21,"user_id":4215169,"display_name":"Patrik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619082738,"creation_date":1619082738,"answer_id":67210270,"question_id":66866105,"body_markdown":"Was looking for the same thing, found https://bugs.openjdk.java.net/browse/JDK-8255148 which indicates that this logging is misleading.","title":"SSLSocket duplex close failed","body":"<p>Was looking for the same thing, found <a href=\"https://bugs.openjdk.java.net/browse/JDK-8255148\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8255148</a> which indicates that this logging is misleading.</p>\n"},{"tags":[],"owner":{"account_id":2515170,"reputation":1590,"user_id":2186777,"accept_rate":83,"display_name":"fl4l"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1623413264,"creation_date":1623405096,"answer_id":67934852,"question_id":66866105,"body_markdown":"I experienced this behavior with openJDK11 and above, it seems due to the new implementation of SSL/TLS channel in Java 11 in order to support TLSv1.3. The error it is noticed when it is called a server that supports also TLSv1.3, the JVM tries to open a channel using this protocol with no luck, evidently it is not fully supported yet.\r\n\r\nI found a workaround (useful in OpenJDK11) by forcing TLSv1.2, just add the following options to JVM at application startup: `-Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2`\r\n\r\nNotice that this solution does not always work, it depends also by your java code and used libs.\r\n\r\nA second way is to downgrade to Jdk1.8, that in default builds does not support TLSv1.3, but it is not always possible.\r\n\r\nIf you want to investigate more in detail the TLS handshake add also the following JVM parameter at startup: `-Djavax.net.debug=ssl` (for more details set it to `all`)\r\n\r\nEdit\r\n----\r\n\r\nI initially experienced this error in Jenkins on openJDK11 during updates in &quot;add-on manager&quot; from 02/2021, when the repository added the support to TLSv1.3 (https://updates.jenkins.io). During the investigation of the issue I found and tried with jdk11 the following code [from jenkins issue report][1]:\r\n\r\n     public class DownloadWebpageExample {\r\n        public static void main(String[] args) {\r\n            try  {\r\n                URL url = new URL(&quot;https://updates.jenkins.io/download/plugins/plugin-util-api/1.2.5/plugin-util-api.hpi&quot;);\r\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                readStream(con.getInputStream());\r\n                // Give output for the command line\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        private static void  readStream(InputStream in)\r\n        {\r\n            char[] buf = new char[1024];\r\n            try (BufferedReader reader = new BufferedReader(new InputStreamReader(in));) {\r\n                while (reader.read(buf, 0, 1024) != -1) { }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nby running it with `java -Djavax.net.debug=ssl DownloadWebpageExample` it gives the error as above:\r\n\r\n    javax.net.ssl|DEBUG|01|main|2021-06-11 12:40:59.499 CEST|SSLSocketImpl.java:636|close inbound of SSLSocket\r\n    javax.net.ssl|WARNING|01|main|2021-06-11 12:40:59.501 CEST|SSLSocketImpl.java:494|SSLSocket duplex close failed (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Socket is closed\r\n            at java.base/java.net.Socket.shutdownInput(Socket.java:1521)\r\n\r\nBy executing it with `java -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Djavax.net.debug=ssl DownloadWebpageExample` does not solve the problem.&lt;br&gt;I tried this code with many jdk versions and I found that jdk8 and openJDK9 are not affected by this behaviour, but it is in openJDK11-16.&lt;br&gt;&lt;br&gt;\r\nIn Jenkins I noticed a different behaviour, by adding the parameters in `/etc/sysconfig/jenkins` file like the following solved the problem with openJDK11. For me it is the confirmation that the error it is also dependent by source code implementation:\r\n\r\n    JENKINS_JAVA_OPTIONS=&quot;-Djava.awt.headless=true -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2&quot;\r\n\r\n  [1]: https://issues.jenkins.io/browse/JENKINS-63506?workflowName=JNJira%20%2B%20In-Review&amp;stepId=6","title":"SSLSocket duplex close failed","body":"<p>I experienced this behavior with openJDK11 and above, it seems due to the new implementation of SSL/TLS channel in Java 11 in order to support TLSv1.3. The error it is noticed when it is called a server that supports also TLSv1.3, the JVM tries to open a channel using this protocol with no luck, evidently it is not fully supported yet.</p>\n<p>I found a workaround (useful in OpenJDK11) by forcing TLSv1.2, just add the following options to JVM at application startup: <code>-Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2</code></p>\n<p>Notice that this solution does not always work, it depends also by your java code and used libs.</p>\n<p>A second way is to downgrade to Jdk1.8, that in default builds does not support TLSv1.3, but it is not always possible.</p>\n<p>If you want to investigate more in detail the TLS handshake add also the following JVM parameter at startup: <code>-Djavax.net.debug=ssl</code> (for more details set it to <code>all</code>)</p>\n<h2>Edit</h2>\n<p>I initially experienced this error in Jenkins on openJDK11 during updates in &quot;add-on manager&quot; from 02/2021, when the repository added the support to TLSv1.3 (<a href=\"https://updates.jenkins.io\" rel=\"nofollow noreferrer\">https://updates.jenkins.io</a>). During the investigation of the issue I found and tried with jdk11 the following code <a href=\"https://issues.jenkins.io/browse/JENKINS-63506?workflowName=JNJira%20%2B%20In-Review&amp;stepId=6\" rel=\"nofollow noreferrer\">from jenkins issue report</a>:</p>\n<pre><code> public class DownloadWebpageExample {\n    public static void main(String[] args) {\n        try  {\n            URL url = new URL(&quot;https://updates.jenkins.io/download/plugins/plugin-util-api/1.2.5/plugin-util-api.hpi&quot;);\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\n            readStream(con.getInputStream());\n            // Give output for the command line\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    private static void  readStream(InputStream in)\n    {\n        char[] buf = new char[1024];\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(in));) {\n            while (reader.read(buf, 0, 1024) != -1) { }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>by running it with <code>java -Djavax.net.debug=ssl DownloadWebpageExample</code> it gives the error as above:</p>\n<pre><code>javax.net.ssl|DEBUG|01|main|2021-06-11 12:40:59.499 CEST|SSLSocketImpl.java:636|close inbound of SSLSocket\njavax.net.ssl|WARNING|01|main|2021-06-11 12:40:59.501 CEST|SSLSocketImpl.java:494|SSLSocket duplex close failed (\n&quot;throwable&quot; : {\n  java.net.SocketException: Socket is closed\n        at java.base/java.net.Socket.shutdownInput(Socket.java:1521)\n</code></pre>\n<p>By executing it with <code>java -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Djavax.net.debug=ssl DownloadWebpageExample</code> does not solve the problem.<br>I tried this code with many jdk versions and I found that jdk8 and openJDK9 are not affected by this behaviour, but it is in openJDK11-16.<br><br>\nIn Jenkins I noticed a different behaviour, by adding the parameters in <code>/etc/sysconfig/jenkins</code> file like the following solved the problem with openJDK11. For me it is the confirmation that the error it is also dependent by source code implementation:</p>\n<pre><code>JENKINS_JAVA_OPTIONS=&quot;-Djava.awt.headless=true -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2&quot;\n</code></pre>\n"}],"owner":{"account_id":7451271,"reputation":69,"user_id":5665962,"display_name":"seansd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18289,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":2,"score":6,"last_activity_date":1654135400,"creation_date":1617087494,"question_id":66866105,"body_markdown":"I am getting following exception:\r\n\r\n\r\n\r\n&gt;     javax.net.ssl|DEBUG|79|Keep-Alive-Timer|2021-03-29 23:34:12.355 PDT|SSLSocketImpl.java:479|duplex close of SSLSocket&lt;br&gt;\r\n&gt;     javax.net.ssl|DEBUG|79|Keep-Alive-Timer|2021-03-29 23:34:12.356 PDT|SSLSocketImpl.java:1569|close the underlying socket&lt;br&gt;\r\n&gt;     javax.net.ssl|DEBUG|79|Keep-Alive-Timer|2021-03-29 23:34:12.356 PDT|SSLSocketImpl.java:1588|close the SSL connection (initiative)&lt;br&gt;\r\n&gt;     javax.net.ssl|DEBUG|79|Keep-Alive-Timer|2021-03-29 23:34:12.356 PDT|SSLSocketImpl.java:727|close inbound of SSLSocket&lt;br&gt;\r\n&gt;     javax.net.ssl|WARNING|79|Keep-Alive-Timer|2021-03-29 23:34:12.356 PDT|SSLSocketImpl.java:500|SSLSocket duplex close failed (\r\n&gt;     &quot;throwable&quot; : { \r\n&gt;         java.net.SocketException: Socket is closed\r\n&gt;      \tat java.base/java.net.Socket.shutdownInput(Socket.java:1538)\r\n&gt;       \tat java.base/sun.security.ssl.BaseSSLSocketImpl.shutdownInput(BaseSSLSocketImpl.java:216)\r\n&gt;       \tat java.base/sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:742)\r\n&gt;       \tat java.base/sun.security.ssl.SSLSocketImpl.bruteForceCloseInput(SSLSocketImpl.java:692)\r\n&gt;       \tat java.base/sun.security.ssl.SSLSocketImpl.duplexCloseOutput(SSLSocketImpl.java:553)\r\n&gt;       \tat java.base/sun.security.ssl.SSLSocketImpl.close(SSLSocketImpl.java:485)\r\n&gt;       \tat java.base/sun.net.www.http.HttpClient.closeServer(HttpClient.java:1058)\r\n&gt;       \tat java.base/sun.net.www.http.KeepAliveCache.run(KeepAliveCache.java:183)\r\n&gt;       \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n&gt;       \tat java.base/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:134)\r\n&gt;     }\r\n\r\n\r\nI am really puzzled about where is this error came out. ","title":"SSLSocket duplex close failed","body":"<p>I am getting following exception:</p>\n<blockquote>\n<pre><code>javax.net.ssl|DEBUG|79|Keep-Alive-Timer|2021-03-29 23:34:12.355 PDT|SSLSocketImpl.java:479|duplex close of SSLSocket&lt;br&gt;\njavax.net.ssl|DEBUG|79|Keep-Alive-Timer|2021-03-29 23:34:12.356 PDT|SSLSocketImpl.java:1569|close the underlying socket&lt;br&gt;\njavax.net.ssl|DEBUG|79|Keep-Alive-Timer|2021-03-29 23:34:12.356 PDT|SSLSocketImpl.java:1588|close the SSL connection (initiative)&lt;br&gt;\njavax.net.ssl|DEBUG|79|Keep-Alive-Timer|2021-03-29 23:34:12.356 PDT|SSLSocketImpl.java:727|close inbound of SSLSocket&lt;br&gt;\njavax.net.ssl|WARNING|79|Keep-Alive-Timer|2021-03-29 23:34:12.356 PDT|SSLSocketImpl.java:500|SSLSocket duplex close failed (\n&quot;throwable&quot; : { \n    java.net.SocketException: Socket is closed\n  at java.base/java.net.Socket.shutdownInput(Socket.java:1538)\n      at java.base/sun.security.ssl.BaseSSLSocketImpl.shutdownInput(BaseSSLSocketImpl.java:216)\n      at java.base/sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:742)\n      at java.base/sun.security.ssl.SSLSocketImpl.bruteForceCloseInput(SSLSocketImpl.java:692)\n      at java.base/sun.security.ssl.SSLSocketImpl.duplexCloseOutput(SSLSocketImpl.java:553)\n      at java.base/sun.security.ssl.SSLSocketImpl.close(SSLSocketImpl.java:485)\n      at java.base/sun.net.www.http.HttpClient.closeServer(HttpClient.java:1058)\n      at java.base/sun.net.www.http.KeepAliveCache.run(KeepAliveCache.java:183)\n      at java.base/java.lang.Thread.run(Thread.java:834)\n      at java.base/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:134)\n}\n</code></pre>\n</blockquote>\n<p>I am really puzzled about where is this error came out.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1654059444,"post_id":72456585,"comment_id":127998930,"body_markdown":"It is almost never worthwhile to write unit tests for controllers, since their job is to serve as glue between HTTP (with HTML, JSON, or similar) and services. Instead, use slices or `@SpringBootTest` and make JSON requests or use Selenium to test the full setup (including such items as Jackson or Thymeleaf configuration).","body":"It is almost never worthwhile to write unit tests for controllers, since their job is to serve as glue between HTTP (with HTML, JSON, or similar) and services. Instead, use slices or <code>@SpringBootTest</code> and make JSON requests or use Selenium to test the full setup (including such items as Jackson or Thymeleaf configuration)."}],"answers":[{"tags":[],"owner":{"account_id":12914655,"reputation":1112,"user_id":9339330,"display_name":"Min Hyoung Hong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654133471,"creation_date":1654133471,"answer_id":72469680,"question_id":72456585,"body_markdown":"Spring offers `@WebMvcTest` for controller layer slicing test.\r\n(Strictly, it is not unit test. but also not integrated test.)\r\n\r\nhttps://spring.io/guides/gs/testing-web/\r\n\r\nfor example \r\n```\r\n@WebMvcTest\r\npublic class YourTest() {\r\n    @Autowired\r\n\tprivate MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void hello() {\r\n       this.mockMvc\r\n           .perform(get(&quot;/showFormForUpdate/111&quot;))\r\n           .andDo(print())\r\n           .andExpect(status().isOk())     \r\n    }\r\n}\r\n```","title":"Problems with Unit_Tests","body":"<p>Spring offers <code>@WebMvcTest</code> for controller layer slicing test.\n(Strictly, it is not unit test. but also not integrated test.)</p>\n<p><a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/testing-web/</a></p>\n<p>for example</p>\n<pre><code>@WebMvcTest\npublic class YourTest() {\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void hello() {\n       this.mockMvc\n           .perform(get(&quot;/showFormForUpdate/111&quot;))\n           .andDo(print())\n           .andExpect(status().isOk())     \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20443287,"reputation":81,"user_id":14999671,"display_name":"Feliks_JS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72469680,"answer_count":1,"score":0,"last_activity_date":1654133471,"creation_date":1654059274,"question_id":72456585,"body_markdown":"I am trying to write UNIT Test for my controller in MVC - Spring Boot , actually i am new to it . I have added dependency of Unit testing in `pom/xml`.\r\nHere is my controller :\r\n```\r\n@GetMapping(&quot;/showFormForUpdate/{id}&quot;)\r\n\tpublic String showFormForUpdate(@PathVariable ( value = &quot;id&quot;) long id, Model model) {\r\n\t\t\r\n\t\t// get employee from the service\r\n\t\tEmployee employee = employeeService.getEmployeeById(id);\r\n\t\t\r\n\t\t// set employee as a model attribute to pre-populate the form\r\n\t\tmodel.addAttribute(&quot;employee&quot;, employee);\r\n\t\treturn &quot;update_employee&quot;;\r\n\t}\r\n```\r\nHere is what i did: \r\n\r\npublic class ControllerTests {\r\n\r\n    @Test\r\n    void hello(){\r\n        EmployeeController controller = new EmployeeController();//Arrange\r\n        String response = controller.showFormForUpdate( long id);\r\n\r\n    }\r\n}\r\n```\r\nHow could i write a good Unit test for this?","title":"Problems with Unit_Tests","body":"<p>I am trying to write UNIT Test for my controller in MVC - Spring Boot , actually i am new to it . I have added dependency of Unit testing in <code>pom/xml</code>.\nHere is my controller :</p>\n<pre><code>@GetMapping(&quot;/showFormForUpdate/{id}&quot;)\n    public String showFormForUpdate(@PathVariable ( value = &quot;id&quot;) long id, Model model) {\n        \n        // get employee from the service\n        Employee employee = employeeService.getEmployeeById(id);\n        \n        // set employee as a model attribute to pre-populate the form\n        model.addAttribute(&quot;employee&quot;, employee);\n        return &quot;update_employee&quot;;\n    }\n</code></pre>\n<p>Here is what i did:</p>\n<p>public class ControllerTests {</p>\n<pre><code>@Test\nvoid hello(){\n    EmployeeController controller = new EmployeeController();//Arrange\n    String response = controller.showFormForUpdate( long id);\n\n}\n</code></pre>\n<p>}</p>\n<pre><code>How could i write a good Unit test for this?\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1654142515,"post_id":72469377,"comment_id":128022181,"body_markdown":"If you want to submit a self-answered question (and these are very welcome), please follow the standard format, describe the problem and the solution.","body":"If you want to submit a self-answered question (and these are very welcome), please follow the standard format, describe the problem and the solution."}],"owner":{"account_id":7069759,"reputation":81,"user_id":5411777,"display_name":"Baidiuk Yevhen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1654142519,"answer_count":0,"score":4,"last_activity_date":1654130004,"creation_date":1654130004,"question_id":72469377,"body_markdown":"Solution:\r\nI just spend a lot of time with the same problem. \r\nI figured out that it&#39;s bug in IntelliJ with spring &gt; 2.7.0 and will be fixed in release 222.2889.\r\nFor now, I just reduce my spring version to 2.6.8 \r\n\r\n[Bug link][1]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-294599/Spring-Boot-after-update-to-SB-version-270-the-autoconfigured-beans-appear-as-not-available-for-autowiring","title":"Spring boot 2.7.0 bean could not be found using IntelliJ idea","body":"<p>Solution:\nI just spend a lot of time with the same problem.\nI figured out that it's bug in IntelliJ with spring &gt; 2.7.0 and will be fixed in release 222.2889.\nFor now, I just reduce my spring version to 2.6.8</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-294599/Spring-Boot-after-update-to-SB-version-270-the-autoconfigured-beans-appear-as-not-available-for-autowiring\" rel=\"nofollow noreferrer\">Bug link</a></p>\n"},{"tags":["java","loops","types","byte","short"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654128061,"post_id":72468892,"comment_id":128020287,"body_markdown":"Your third example behaves exactly the same for me. Please provide a complete example.","body":"Your third example behaves exactly the same for me. Please provide a complete example."}],"answers":[{"tags":[],"owner":{"account_id":1957250,"reputation":449,"user_id":1759970,"display_name":"Hu Bin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654126252,"creation_date":1654126252,"answer_id":72469048,"question_id":72468892,"body_markdown":"In java, the + operator promotes them to an int.\r\nYou can cast an int value to short value.\r\n\r\n      short a = 5;\r\n      short b = 6;\r\n      short c = 0;\r\n      int i = 0;\r\n      while(i &lt; 10) {\r\n          c = (short) (a + b);\r\n          i++;\r\n      }","title":"Short and byte data types don&#39;t work in loop","body":"<p>In java, the + operator promotes them to an int.\nYou can cast an int value to short value.</p>\n<pre><code>  short a = 5;\n  short b = 6;\n  short c = 0;\n  int i = 0;\n  while(i &lt; 10) {\n      c = (short) (a + b);\n      i++;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654129313,"creation_date":1654129313,"answer_id":72469322,"question_id":72468892,"body_markdown":"The full trace would require four citations to the Java Language Specification, but the short answer is that in your working case, where the variables are never re-assigned ever, the compiler is able to find that `a` and `b` are [_effectively final_](https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.12.4) and is treating them as a constant expression whose value (11) is known to be representable in a variable of size `short`. This appears to be technically in violation of the spec, which would require that only &quot;real&quot; final variables trigger constant-expression treatment, but correct in executed semantics.","title":"Short and byte data types don&#39;t work in loop","body":"<p>The full trace would require four citations to the Java Language Specification, but the short answer is that in your working case, where the variables are never re-assigned ever, the compiler is able to find that <code>a</code> and <code>b</code> are <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\"><em>effectively final</em></a> and is treating them as a constant expression whose value (11) is known to be representable in a variable of size <code>short</code>. This appears to be technically in violation of the spec, which would require that only &quot;real&quot; final variables trigger constant-expression treatment, but correct in executed semantics.</p>\n"}],"owner":{"account_id":18938730,"reputation":43,"user_id":13819261,"display_name":"humankind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654130372,"answer_count":2,"score":1,"last_activity_date":1654129313,"creation_date":1654124658,"question_id":72468892,"body_markdown":"I can&#39;t add two short numbers when they are in a loop, but when they outside loop they adds well. Byte type behaves the same. But with integers everything works well. Why does this happening?\r\nJava, version 18.\r\n\r\nHere is an example:\r\n```\r\nshort a = 5;\r\nshort b = 6;\r\nshort c = 0;\r\nint i = 0;\r\nwhile(i &lt; 10) {\r\n  c = a + b;\r\n  i++;\r\n}\r\n```\r\nWhen I trying to compile this, it&#39;s give me error: **incompatible types, possible lossy conversion from int to short.**\r\n\r\n\r\n\r\nThis also do not work:\r\n```\r\nint i = 0;\r\nwhile(i &lt; 10) {\r\n  short a = 5;\r\n  short b = 6;\r\n  short c = 0;\r\n  c = a + b;\r\n  i++;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nBut if I do this(without loop):\r\n```\r\nshort a = 5;\r\nshort b = 6;\r\nshort c = 0;\r\nc = a + b;\r\n```\r\nit works well.","title":"Short and byte data types don&#39;t work in loop","body":"<p>I can't add two short numbers when they are in a loop, but when they outside loop they adds well. Byte type behaves the same. But with integers everything works well. Why does this happening?\nJava, version 18.</p>\n<p>Here is an example:</p>\n<pre><code>short a = 5;\nshort b = 6;\nshort c = 0;\nint i = 0;\nwhile(i &lt; 10) {\n  c = a + b;\n  i++;\n}\n</code></pre>\n<p>When I trying to compile this, it's give me error: <strong>incompatible types, possible lossy conversion from int to short.</strong></p>\n<p>This also do not work:</p>\n<pre><code>int i = 0;\nwhile(i &lt; 10) {\n  short a = 5;\n  short b = 6;\n  short c = 0;\n  c = a + b;\n  i++;\n}\n</code></pre>\n<p>But if I do this(without loop):</p>\n<pre><code>short a = 5;\nshort b = 6;\nshort c = 0;\nc = a + b;\n</code></pre>\n<p>it works well.</p>\n"},{"tags":["java","mysql","nullpointerexception"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1654109909,"post_id":72466810,"comment_id":128016037,"body_markdown":"Did you ever set `conexao` to anything?","body":"Did you ever set <code>conexao</code> to anything?"},{"owner":{"account_id":25379092,"reputation":1,"user_id":19191754,"display_name":"Diego Diego Carvalho"},"score":0,"creation_date":1654110530,"post_id":72466810,"comment_id":128016201,"body_markdown":"already, the class of connection with the bank is working perfectly","body":"already, the class of connection with the bank is working perfectly"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1654112513,"post_id":72466810,"comment_id":128016835,"body_markdown":"@DiegoDiegoCarvalho no, you never initialize `conexao`","body":"@DiegoDiegoCarvalho no, you never initialize <code>conexao</code>"},{"owner":{"account_id":25379092,"reputation":1,"user_id":19191754,"display_name":"Diego Diego Carvalho"},"score":0,"creation_date":1654116207,"post_id":72466810,"comment_id":128017900,"body_markdown":"This helps in parts but doesn&#39;t solve the whole problem.","body":"This helps in parts but doesn&#39;t solve the whole problem."}],"answers":[{"tags":[],"owner":{"account_id":1841280,"reputation":2686,"user_id":1670616,"display_name":"sgpalit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654118829,"creation_date":1654118432,"answer_id":72468183,"question_id":72466810,"body_markdown":"You should initialize your connection, otherwise it will be always null.\r\n\r\n    Connection conexao = null;\r\n    String dbms = &quot;mysql&quot;; // or other\r\n    String serverName = &quot;localhost&quot;; // or the name/IP of database server\r\n    String portNumber = &quot;3306&quot;;\r\n    String dbName = &quot;database_name&quot;;\r\n    String userName = &quot;userName&quot;;\r\n    String password = &quot;password&quot;;\r\n\r\n    // in your TelaLogin constructor you can try to establish a connection\r\n    Properties connectionProps = new Properties();\r\n    connectionProps.put(&quot;user&quot;, this.userName);\r\n    connectionProps.put(&quot;password&quot;, this.password);\r\n    conexao = DriverManager.getConnection(\r\n                   &quot;jdbc:&quot; + this.dbms + &quot;://&quot; +\r\n                   this.serverName +\r\n                   &quot;:&quot; + this.portNumber +\r\n                   &quot;/&quot; + this.dbName,\r\n                   connectionProps);\r\n\r\nAlso do not forget to add in you libraries the client dependency for your desired database.","title":"Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;this.conexao&quot; is null","body":"<p>You should initialize your connection, otherwise it will be always null.</p>\n<pre><code>Connection conexao = null;\nString dbms = &quot;mysql&quot;; // or other\nString serverName = &quot;localhost&quot;; // or the name/IP of database server\nString portNumber = &quot;3306&quot;;\nString dbName = &quot;database_name&quot;;\nString userName = &quot;userName&quot;;\nString password = &quot;password&quot;;\n\n// in your TelaLogin constructor you can try to establish a connection\nProperties connectionProps = new Properties();\nconnectionProps.put(&quot;user&quot;, this.userName);\nconnectionProps.put(&quot;password&quot;, this.password);\nconexao = DriverManager.getConnection(\n               &quot;jdbc:&quot; + this.dbms + &quot;://&quot; +\n               this.serverName +\n               &quot;:&quot; + this.portNumber +\n               &quot;/&quot; + this.dbName,\n               connectionProps);\n</code></pre>\n<p>Also do not forget to add in you libraries the client dependency for your desired database.</p>\n"}],"owner":{"account_id":25379092,"reputation":1,"user_id":19191754,"display_name":"Diego Diego Carvalho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":876,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1654127881,"answer_count":1,"score":-1,"last_activity_date":1654127905,"creation_date":1654109771,"question_id":72466810,"body_markdown":"I&#39;m trying to perform an action from one screen within the other but whenever I click on the login button I get this error   -----&gt;   java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;this.conexao&quot; is null\r\n\r\nBelow are the class codes\r\n\r\n\r\n    package br.com.mycompany.telas;\r\n    \r\n    import java.sql.*;\r\n    import javax.swing.*;\r\n    \r\n    public class TelaLogin extends javax.swing.JFrame {\r\n    \r\n        Connection conexao = null;\r\n        PreparedStatement stm = null;\r\n        ResultSet rs = null;\r\n    \r\n        public void logar() {\r\n            String sql = &quot;select * from usuarios where login=? and senha= ?&quot;;\r\n    \r\n            try {\r\n                stm = conexao.prepareStatement(sql);\r\n                stm.setString(1, txtUsuario.getText());\r\n                stm.setString(1, txtSenha.getText());\r\n                rs = stm.executeQuery();\r\n    \r\n                if (rs.next()) {\r\n                    TelaPrincipal principal = new TelaPrincipal();\r\n                    principal.setVisible(true);\r\n                } else {\r\n                    JOptionPane.showMessageDialog(null, &quot;deu ruim&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    \r\n        public TelaLogin() {\r\n            initComponents();\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            jLabel1 = new javax.swing.JLabel();\r\n            jLabel2 = new javax.swing.JLabel();\r\n            txtUsuario = new javax.swing.JTextField();\r\n            txtSenha = new javax.swing.JPasswordField();\r\n            jButton1 = new javax.swing.JButton();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            jLabel1.setText(&quot;Usuario&quot;);\r\n    \r\n            jLabel2.setText(&quot;Senha&quot;);\r\n    \r\n            jButton1.setText(&quot;Login&quot;);\r\n            jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    jButton1ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(146, 146, 146)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                        .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 58, Short.MAX_VALUE))\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                        .addComponent(txtUsuario)\r\n                        .addComponent(txtSenha, javax.swing.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE))\r\n                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                    .addContainerGap(283, Short.MAX_VALUE)\r\n                    .addComponent(jButton1)\r\n                    .addGap(258, 258, 258))\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(87, 87, 87)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(jLabel1)\r\n                        .addComponent(txtUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addGap(58, 58, 58)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(jLabel2)\r\n                        .addComponent(txtSenha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 53, Short.MAX_VALUE)\r\n                    .addComponent(jButton1)\r\n                    .addGap(49, 49, 49))\r\n            );\r\n    \r\n            pack();\r\n            setLocationRelativeTo(null);\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n            logar();\r\n        }                                        \r\n    \r\n        public static void main(String args[]) {\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new TelaLogin().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JButton jButton1;\r\n        private javax.swing.JLabel jLabel1;\r\n        private javax.swing.JLabel jLabel2;\r\n        private javax.swing.JPasswordField txtSenha;\r\n        private javax.swing.JTextField txtUsuario;\r\n        // End of variables declaration                   \r\n    }","title":"Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;this.conexao&quot; is null","body":"<p>I'm trying to perform an action from one screen within the other but whenever I click on the login button I get this error   -----&gt;   java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;this.conexao&quot; is null</p>\n<p>Below are the class codes</p>\n<pre><code>package br.com.mycompany.telas;\n\nimport java.sql.*;\nimport javax.swing.*;\n\npublic class TelaLogin extends javax.swing.JFrame {\n\n    Connection conexao = null;\n    PreparedStatement stm = null;\n    ResultSet rs = null;\n\n    public void logar() {\n        String sql = &quot;select * from usuarios where login=? and senha= ?&quot;;\n\n        try {\n            stm = conexao.prepareStatement(sql);\n            stm.setString(1, txtUsuario.getText());\n            stm.setString(1, txtSenha.getText());\n            rs = stm.executeQuery();\n\n            if (rs.next()) {\n                TelaPrincipal principal = new TelaPrincipal();\n                principal.setVisible(true);\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;deu ruim&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n\n    public TelaLogin() {\n        initComponents();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jLabel1 = new javax.swing.JLabel();\n        jLabel2 = new javax.swing.JLabel();\n        txtUsuario = new javax.swing.JTextField();\n        txtSenha = new javax.swing.JPasswordField();\n        jButton1 = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jLabel1.setText(&quot;Usuario&quot;);\n\n        jLabel2.setText(&quot;Senha&quot;);\n\n        jButton1.setText(&quot;Login&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(146, 146, 146)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                    .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 58, Short.MAX_VALUE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                    .addComponent(txtUsuario)\n                    .addComponent(txtSenha, javax.swing.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                .addContainerGap(283, Short.MAX_VALUE)\n                .addComponent(jButton1)\n                .addGap(258, 258, 258))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(87, 87, 87)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jLabel1)\n                    .addComponent(txtUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(58, 58, 58)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jLabel2)\n                    .addComponent(txtSenha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 53, Short.MAX_VALUE)\n                .addComponent(jButton1)\n                .addGap(49, 49, 49))\n        );\n\n        pack();\n        setLocationRelativeTo(null);\n    }// &lt;/editor-fold&gt;                        \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        logar();\n    }                                        \n\n    public static void main(String args[]) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new TelaLogin().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JPasswordField txtSenha;\n    private javax.swing.JTextField txtUsuario;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1552183347,"post_id":55083793,"comment_id":96913158,"body_markdown":"Java developers usually use `new` to create instances, not just the class name ...","body":"Java developers usually use <code>new</code> to create instances, not just the class name ..."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1552184644,"post_id":55083793,"comment_id":96913342,"body_markdown":"FYI, `java.util.Date` is a terrible class that was supplanted years ago by the *java.time* classes, specifically `Instant`.","body":"FYI, <code>java.util.Date</code> is a terrible class that was supplanted years ago by the <i>java.time</i> classes, specifically <code>Instant</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1552197537,"creation_date":1552184826,"answer_id":55083899,"question_id":55083793,"body_markdown":"# `new Date( â€¦ )`\r\n\r\nUse `new` to instantiate a `java.util.Date`.\r\n\r\n    ENUM_OPTION1( new Date( 10_000_000_000L ) ) \r\n\r\n\r\nFYI, `java.util.Date` is a terrible class that was supplanted years ago by the *java.time* classes, specifically [`Instant`][1].\r\n\r\n# Full example\r\n\r\nAdd a constructor on your enum. On each instance of the enum you declare, call the constructor. To that constructor, pass the specific date. See [tutorial by Oracle][2].\r\n\r\n    public enum History {\r\n        US_DECLARATION_OF_INDEPENDENCE( LocalDate.of( 1776 , Month.July , 4 ) ) ,\r\n        US_CONSTITIUTION_APPROVED( LocalDate.of( 1787 , 9 , 17 ) ) \r\n        ;\r\n\r\n        private LocalDate localDate ;\r\n\r\n        // Constructor\r\n        public History( LocalDate ld ) {\r\n            Objects.requireNonNull( ld ) ;\r\n            this.localDate = ld ;\r\n        }\r\n\r\n        // Getter\r\n        public LocalDate getLocalDate() {\r\n            return this.localDate ;\r\n        }\r\n\r\n    }\r\n\r\nTo use this enum, call the instance method on one of the named constant instances.\r\n\r\n    LocalDate ld = History.US_DECLARATION_OF_INDEPENDENCE.getLocalDate() ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"In an enum class, how can one cast values as dates?","body":"<h1><code>new Date( â€¦ )</code></h1>\n\n<p>Use <code>new</code> to instantiate a <code>java.util.Date</code>.</p>\n\n<pre><code>ENUM_OPTION1( new Date( 10_000_000_000L ) ) \n</code></pre>\n\n<p>FYI, <code>java.util.Date</code> is a terrible class that was supplanted years ago by the <em>java.time</em> classes, specifically <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>.</p>\n\n<h1>Full example</h1>\n\n<p>Add a constructor on your enum. On each instance of the enum you declare, call the constructor. To that constructor, pass the specific date. See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">tutorial by Oracle</a>.</p>\n\n<pre><code>public enum History {\n    US_DECLARATION_OF_INDEPENDENCE( LocalDate.of( 1776 , Month.July , 4 ) ) ,\n    US_CONSTITIUTION_APPROVED( LocalDate.of( 1787 , 9 , 17 ) ) \n    ;\n\n    private LocalDate localDate ;\n\n    // Constructor\n    public History( LocalDate ld ) {\n        Objects.requireNonNull( ld ) ;\n        this.localDate = ld ;\n    }\n\n    // Getter\n    public LocalDate getLocalDate() {\n        return this.localDate ;\n    }\n\n}\n</code></pre>\n\n<p>To use this enum, call the instance method on one of the named constant instances.</p>\n\n<pre><code>LocalDate ld = History.US_DECLARATION_OF_INDEPENDENCE.getLocalDate() ;\n</code></pre>\n"}],"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1687,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":55083899,"answer_count":1,"score":-2,"last_activity_date":1654127855,"creation_date":1552183192,"question_id":55083793,"body_markdown":"In an enum class, how can one cast a value as the type `java.util.date`?\r\nThe enum still has to have a name.\r\n\r\nI have tried:\r\n\r\n    ENUM_OPTION1(Date(10000000000L))\r\nBut I got an error saying that\r\n&quot;Symbol Date(long) wasn&#39;t recognized&quot;, even though I imported the class at the top of my file. ","title":"In an enum class, how can one cast values as dates?","body":"<p>In an enum class, how can one cast a value as the type <code>java.util.date</code>?\nThe enum still has to have a name.</p>\n<p>I have tried:</p>\n<pre><code>ENUM_OPTION1(Date(10000000000L))\n</code></pre>\n<p>But I got an error saying that\n&quot;Symbol Date(long) wasn't recognized&quot;, even though I imported the class at the top of my file.</p>\n"},{"tags":["java","intellij-idea","grails","groovy"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1654070519,"post_id":72453364,"comment_id":128001730,"body_markdown":"`I am restarting the project every single time I make a small change in the project` do you mean restarting helps? Looking at the error - it seems that the cause if that some program locks files or the process IDE launches to compiler the project. Do you have antivirus/firewall? Please try with it disabled or make sure that IDE [settings/caches directories](https://intellij-support.jetbrains.com/hc/en-us/articles/206544519), the IDE installation home and project files are excluded from the scan.","body":"<code>I am restarting the project every single time I make a small change in the project</code> do you mean restarting helps? Looking at the error - it seems that the cause if that some program locks files or the process IDE launches to compiler the project. Do you have antivirus/firewall? Please try with it disabled or make sure that IDE <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544519\" rel=\"nofollow noreferrer\">settings/caches directories</a>, the IDE installation home and project files are excluded from the scan."},{"owner":{"account_id":2729141,"reputation":1675,"user_id":3901086,"display_name":"Shadab K"},"score":0,"creation_date":1654072936,"post_id":72453364,"comment_id":128002535,"body_markdown":"There is no Antivirus or Firewall, I am on plain MacOS 12.4","body":"There is no Antivirus or Firewall, I am on plain MacOS 12.4"},{"owner":{"account_id":2729141,"reputation":1675,"user_id":3901086,"display_name":"Shadab K"},"score":0,"creation_date":1654073009,"post_id":72453364,"comment_id":128002569,"body_markdown":"Also the restarting of project is more towards reloading the code into memory every single time I make a change. The IDE just doesn&#39;t reload the changes or aka `hot swap` the codes.","body":"Also the restarting of project is more towards reloading the code into memory every single time I make a change. The IDE just doesn&#39;t reload the changes or aka <code>hot swap</code> the codes."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1654087236,"post_id":72453364,"comment_id":128007786,"body_markdown":"It is interesting that the error message indicates that `/out/production/project-name/messages_de.properties` is mentioned as the output.  Normally that directory would be relative to your project root instead of the root of the file system.  It is possible the IDE is reporting that in a way that is misleading, but it looks like that might be relevant.","body":"It is interesting that the error message indicates that <code>&#47;out&#47;production&#47;project-name&#47;messages_de.properties</code> is mentioned as the output.  Normally that directory would be relative to your project root instead of the root of the file system.  It is possible the IDE is reporting that in a way that is misleading, but it looks like that might be relevant."},{"owner":{"account_id":2729141,"reputation":1675,"user_id":3901086,"display_name":"Shadab K"},"score":0,"creation_date":1654102348,"post_id":72453364,"comment_id":128013530,"body_markdown":"The error comes when I try to run the project but when I just build it, it builds the `.war` file completely.","body":"The error comes when I try to run the project but when I just build it, it builds the <code>.war</code> file completely."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1654106300,"post_id":72453364,"comment_id":128014848,"body_markdown":"Do you have write permissions to `/out/production/project-name/messages_de.properties`?","body":"Do you have write permissions to <code>&#47;out&#47;production&#47;project-name&#47;messages_de.properties</code>?"},{"owner":{"account_id":2729141,"reputation":1675,"user_id":3901086,"display_name":"Shadab K"},"score":0,"creation_date":1654126690,"post_id":72453364,"comment_id":128020062,"body_markdown":"Thanks for the assisatance @JeffScottBrown \nI resolved the file copy issue with Resources copy restrictions lifted.","body":"Thanks for the assisatance @JeffScottBrown  I resolved the file copy issue with Resources copy restrictions lifted."}],"answers":[{"tags":[],"owner":{"account_id":2729141,"reputation":1675,"user_id":3901086,"display_name":"Shadab K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654126942,"creation_date":1654126942,"answer_id":72469111,"question_id":72453364,"body_markdown":"I resolved the file copy issue with broadening the Compiler Resource Copy Restrictions.\r\n\r\n[![Resource not copying issue resolve Settings in IntelliJ Idea][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Avz0A.png","title":"Grails 2.4.4 Project Build and Run Error in IntelliJIdea Ultimate","body":"<p>I resolved the file copy issue with broadening the Compiler Resource Copy Restrictions.</p>\n<p><a href=\"https://i.stack.imgur.com/Avz0A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Avz0A.png\" alt=\"Resource not copying issue resolve Settings in IntelliJ Idea\" /></a></p>\n"}],"owner":{"account_id":2729141,"reputation":1675,"user_id":3901086,"display_name":"Shadab K"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72469111,"answer_count":1,"score":0,"last_activity_date":1654126942,"creation_date":1654026132,"question_id":72453364,"body_markdown":"I am not able to run the Grails 2.4.4 project directly from the &quot;Run&quot; button from IntelliJ IDEA Ultimate IDE.\r\n\r\n        Resource compiler: Error: Couldn&#39;t copy [/project-path/grails-app/i18n/messages_de.properties] to [/out/production/project-name/messages_de.properties]\r\n    java.io.IOException: Couldn&#39;t copy [/project-path/grails-app/i18n/messages_de.properties] to [/out/production/project-name/messages_de.properties]\r\n    \tat com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:425)\r\n    \tat com.intellij.openapi.util.io.FileUtil.copyContent(FileUtil.java:415)\r\n    \tat org.jetbrains.jps.incremental.FSOperations.copy(FSOperations.java:476)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.copyResource(ResourcesBuilder.java:122)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.lambda$build$0(ResourcesBuilder.java:67)\r\n    \tat org.jetbrains.jps.incremental.fs.BuildFSState.processFilesToRecompile(BuildFSState.java:375)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder$6.processDirtyFiles(IncProjectBuilder.java:1257)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:56)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:27)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildTarget(IncProjectBuilder.java:1262)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1162)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1299)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1114)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:885)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:467)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:197)\r\n    \tat org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:150)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:348)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:175)\r\n    \tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:218)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nThis is the build error I get.\r\n[![i18n files not able to copy][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ypSC4.png\r\n\r\nBasically the i18n files mentioned above are the files that are not getting copied into the production folder\r\n\r\n    Resource compiler: Error: Couldn&#39;t copy [/project-path/grails-app/i18n/messages_de.properties] to [/out/production/project-name/messages_de.properties]\r\n\r\nI am restarting the project every single time I make a small change in the project and it is as good as taking ages to build a single element API which can be done in 2 mins.\r\n","title":"Grails 2.4.4 Project Build and Run Error in IntelliJIdea Ultimate","body":"<p>I am not able to run the Grails 2.4.4 project directly from the &quot;Run&quot; button from IntelliJ IDEA Ultimate IDE.</p>\n<pre><code>    Resource compiler: Error: Couldn't copy [/project-path/grails-app/i18n/messages_de.properties] to [/out/production/project-name/messages_de.properties]\njava.io.IOException: Couldn't copy [/project-path/grails-app/i18n/messages_de.properties] to [/out/production/project-name/messages_de.properties]\n    at com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:425)\n    at com.intellij.openapi.util.io.FileUtil.copyContent(FileUtil.java:415)\n    at org.jetbrains.jps.incremental.FSOperations.copy(FSOperations.java:476)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.copyResource(ResourcesBuilder.java:122)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.lambda$build$0(ResourcesBuilder.java:67)\n    at org.jetbrains.jps.incremental.fs.BuildFSState.processFilesToRecompile(BuildFSState.java:375)\n    at org.jetbrains.jps.incremental.IncProjectBuilder$6.processDirtyFiles(IncProjectBuilder.java:1257)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:56)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:27)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildTarget(IncProjectBuilder.java:1262)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1162)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1299)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1114)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:885)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:467)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:197)\n    at org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:150)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:348)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:175)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:218)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>This is the build error I get.\n<a href=\"https://i.stack.imgur.com/ypSC4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ypSC4.png\" alt=\"i18n files not able to copy\" /></a></p>\n<p>Basically the i18n files mentioned above are the files that are not getting copied into the production folder</p>\n<pre><code>Resource compiler: Error: Couldn't copy [/project-path/grails-app/i18n/messages_de.properties] to [/out/production/project-name/messages_de.properties]\n</code></pre>\n<p>I am restarting the project every single time I make a small change in the project and it is as good as taking ages to build a single element API which can be done in 2 mins.</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1654127109,"post_id":72468658,"comment_id":128020129,"body_markdown":"It is better if you provide a question which shows the problem - and then you can post a separate answer which shows [how you solved your problem](https://stackoverflow.com/help/self-answer). As it stands, it is going to be hard for anyone else to benefit from your solution, given it&#39;s not clear what _specific_ problem is actually being solved.","body":"It is better if you provide a question which shows the problem - and then you can post a separate answer which shows <a href=\"https://stackoverflow.com/help/self-answer\">how you solved your problem</a>. As it stands, it is going to be hard for anyone else to benefit from your solution, given it&#39;s not clear what <i>specific</i> problem is actually being solved."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1654127319,"post_id":72468658,"comment_id":128020166,"body_markdown":"Also, make sure your solution is not solving a [duplicate problem](https://www.google.com/search?q=write+a+csv+file+using+opencsv+and+java+site%3Astackoverflow.com) for which there is already an answer.","body":"Also, make sure your solution is not solving a <a href=\"https://www.google.com/search?q=write+a+csv+file+using+opencsv+and+java+site%3Astackoverflow.com\" rel=\"nofollow noreferrer\">duplicate problem</a> for which there is already an answer."}],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654125803,"creation_date":1654122118,"question_id":72468658,"body_markdown":"[Edited] By editing my question, I have solved the problem. I just solved the problem by applying the following code to my method. I came to the decision to edit my old question. Because I have solved the problem.\r\n\r\n     ****if (!file.exists())\r\n                theRows.clear();****\r\n    \r\n    @Repository\r\n    public class DatabaseImpl implements Database {\r\n    \r\n        List&lt;String[]&gt; theRows = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n        @Override\r\n        public int insert(String tableName, List&lt;String&gt; values) {\r\n            File file = new File(tableName + &quot;.csv&quot;);\r\n            if (!file.exists()) {\r\n                prepareCsvFileAndInsertDataToCsvFile(values, file);\r\n            } else {\r\n                prepareCsvFileAndInsertDataToCsvFile(values, file);\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        private void prepareCsvFileAndInsertDataToCsvFile(List&lt;String&gt; values, File file) {\r\n            if (!file.exists())\r\n                theRows.clear();\r\n            try (CSVWriter writer = new CSVWriter(new FileWriter(file))) {\r\n                String[] header = new String[]{&quot;id&quot;, &quot;name&quot;, &quot;surname&quot;, &quot;age&quot;, &quot;salary&quot;};\r\n                theRows.add(values.toArray(String[]::new));//arasdiracam\r\n                writer.writeNext(header);\r\n                writer.writeAll(theRows, false);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void update(String tableName, int rowId, List&lt;String&gt; values) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public List&lt;String&gt; select(String tableName, int rowId) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"Writing a CSV file in Java using OpenCSV","body":"<p>[Edited] By editing my question, I have solved the problem. I just solved the problem by applying the following code to my method. I came to the decision to edit my old question. Because I have solved the problem.</p>\n<pre><code> ****if (!file.exists())\n            theRows.clear();****\n\n@Repository\npublic class DatabaseImpl implements Database {\n\n    List&lt;String[]&gt; theRows = new ArrayList&lt;&gt;();\n\n\n    @Override\n    public int insert(String tableName, List&lt;String&gt; values) {\n        File file = new File(tableName + &quot;.csv&quot;);\n        if (!file.exists()) {\n            prepareCsvFileAndInsertDataToCsvFile(values, file);\n        } else {\n            prepareCsvFileAndInsertDataToCsvFile(values, file);\n        }\n        return 0;\n    }\n\n    private void prepareCsvFileAndInsertDataToCsvFile(List&lt;String&gt; values, File file) {\n        if (!file.exists())\n            theRows.clear();\n        try (CSVWriter writer = new CSVWriter(new FileWriter(file))) {\n            String[] header = new String[]{&quot;id&quot;, &quot;name&quot;, &quot;surname&quot;, &quot;age&quot;, &quot;salary&quot;};\n            theRows.add(values.toArray(String[]::new));//arasdiracam\n            writer.writeNext(header);\n            writer.writeAll(theRows, false);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    @Override\n    public void update(String tableName, int rowId, List&lt;String&gt; values) {\n\n    }\n\n    @Override\n    public List&lt;String&gt; select(String tableName, int rowId) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":3197290,"reputation":541,"user_id":2700206,"accept_rate":46,"display_name":"AKR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513421644,"creation_date":1513421644,"answer_id":47844887,"question_id":47844432,"body_markdown":"There is a very old pull request in the official Github repo of spring-retry, that seems to enable just what you want to do. \r\n\r\nhttps://github.com/spring-projects/spring-retry/pull/77","title":"Annotation way to register listener to spring&#39;s @Retryable","body":"<p>There is a very old pull request in the official Github repo of spring-retry, that seems to enable just what you want to do. </p>\n\n<p><a href=\"https://github.com/spring-projects/spring-retry/pull/77\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-retry/pull/77</a></p>\n"},{"tags":[],"owner":{"account_id":9066711,"reputation":1261,"user_id":6751275,"accept_rate":86,"display_name":"Akshay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569939054,"creation_date":1569939054,"answer_id":58186633,"question_id":47844432,"body_markdown":"I think you are looking for something like below. `Retryable` annotation has listeners parameter(`spring-retry:1.2.4.RELEASE`)\r\n\r\n    @Retryable(value = { Exception.class }, maxAttempts = 2, backoff = @Backoff(delay = 5000), listeners = &quot;networkcallRetryLogListener&quot;)\r\n    List&lt;ServiceObj&gt; getDataFromThirdpartyService();\r\n\r\nAnd `networkcallRetryLogListener` tries to log in my case.\r\n\r\n    public class NetworkcallRetryLogListener extends RetryListenerSupport {\r\n    private static final Logger LOG = LoggerFactory.getLogger(NetworkcallRetryLogListener.class);\r\n\r\n    @Override\r\n    public &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n        LOG.warn(&quot;Retry attempt {} for retryable method {} threw exception {}&quot;, context.getRetryCount(),\r\n                context.getAttribute(&quot;context.name&quot;), ExceptionUtils.getStackTrace(throwable));\r\n        super.onError(context, callback, throwable);\r\n        }\r\n    }\r\n\r\nI hope this helps.","title":"Annotation way to register listener to spring&#39;s @Retryable","body":"<p>I think you are looking for something like below. <code>Retryable</code> annotation has listeners parameter(<code>spring-retry:1.2.4.RELEASE</code>)</p>\n\n<pre><code>@Retryable(value = { Exception.class }, maxAttempts = 2, backoff = @Backoff(delay = 5000), listeners = \"networkcallRetryLogListener\")\nList&lt;ServiceObj&gt; getDataFromThirdpartyService();\n</code></pre>\n\n<p>And <code>networkcallRetryLogListener</code> tries to log in my case.</p>\n\n<pre><code>public class NetworkcallRetryLogListener extends RetryListenerSupport {\nprivate static final Logger LOG = LoggerFactory.getLogger(NetworkcallRetryLogListener.class);\n\n@Override\npublic &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n    LOG.warn(\"Retry attempt {} for retryable method {} threw exception {}\", context.getRetryCount(),\n            context.getAttribute(\"context.name\"), ExceptionUtils.getStackTrace(throwable));\n    super.onError(context, callback, throwable);\n    }\n}\n</code></pre>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654124462,"creation_date":1570451087,"answer_id":58269499,"question_id":47844432,"body_markdown":"You can specify `listeners` in `@Retryable` like this. The `listeners` attributes takes an array of strings which are bean names for implementations of `RetryListener`.\r\n\r\n    @Retryable(maxAttempts = 5,backoff = @Backoff(delay = 5000),listeners = {&quot;retryListener&quot;})\r\n    public void getSomeData() {\r\n                    log.info(&quot;Get Some Date !!!!&quot;);\r\n                    throw new RuntimeException(&quot;Test Exception&quot;);\r\n                } \r\n\r\n\r\n    @Component\r\n    public class RetryListener extends RetryListenerSupport {\r\n    \r\n        @Override\r\n        public &lt;T, E extends Throwable&gt; void close(RetryContext context,\r\n                                                   RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n    \r\n            log.error(&quot;Unable to recover from  Exception&quot;);\r\n            log.error(&quot;Error &quot;, throwable);\r\n            super.close(context, callback, throwable);\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n            log.error(&quot;Exception Occurred, Retry Count {} &quot;, context.getRetryCount());\r\n            super.onError(context, callback, throwable);\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T, E extends Throwable&gt; boolean open(RetryContext context,\r\n                                                     RetryCallback&lt;T, E&gt; callback) {\r\n            log.error(&quot;Exception Occurred, Retry Session Started &quot;);\r\n            return super.open(context, callback);\r\n        }\r\n    }\r\n    \r\n     \r\n\r\n","title":"Annotation way to register listener to spring&#39;s @Retryable","body":"<p>You can specify <code>listeners</code> in <code>@Retryable</code> like this. The <code>listeners</code> attributes takes an array of strings which are bean names for implementations of <code>RetryListener</code>.</p>\n<pre><code>@Retryable(maxAttempts = 5,backoff = @Backoff(delay = 5000),listeners = {&quot;retryListener&quot;})\npublic void getSomeData() {\n                log.info(&quot;Get Some Date !!!!&quot;);\n                throw new RuntimeException(&quot;Test Exception&quot;);\n            } \n\n\n@Component\npublic class RetryListener extends RetryListenerSupport {\n\n    @Override\n    public &lt;T, E extends Throwable&gt; void close(RetryContext context,\n                                               RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n\n        log.error(&quot;Unable to recover from  Exception&quot;);\n        log.error(&quot;Error &quot;, throwable);\n        super.close(context, callback, throwable);\n    }\n\n    @Override\n    public &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n        log.error(&quot;Exception Occurred, Retry Count {} &quot;, context.getRetryCount());\n        super.onError(context, callback, throwable);\n    }\n\n    @Override\n    public &lt;T, E extends Throwable&gt; boolean open(RetryContext context,\n                                                 RetryCallback&lt;T, E&gt; callback) {\n        log.error(&quot;Exception Occurred, Retry Session Started &quot;);\n        return super.open(context, callback);\n    }\n}\n\n \n</code></pre>\n"}],"owner":{"account_id":2453924,"reputation":1686,"user_id":2139560,"accept_rate":0,"display_name":"sanit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7324,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1654124462,"creation_date":1513418085,"question_id":47844432,"body_markdown":"How to register a listener in `spring-retry` using `@Retryable()` annotation?\r\n\r\n    @Bean\r\n\tpublic RetryListener myRetryListener() {\r\n\t\treturn new MyRetryListener();\r\n\t}\r\n\r\n    @Service\r\n    public class SampleService {\r\n\t   private int cnt = 1;\r\n\r\n\t   @Retryable(RuntimeException.class)\r\n\t   public void retryMethod(int x) throws Exception {\r\n\t\t  System.out.println(&quot;SampleService invoked.&quot;);\r\n\t\t  Thread.sleep(500);\r\n\r\n\t\t  if (cnt++ &lt; 4) {\r\n\t\t\tthrow new RuntimeException(&quot;SampleService throwing exception&quot;);\r\n\t\t  }\r\n\t   }\r\n\r\n    }\r\n\r\nIf I create any listener bean, it automatically registers to `RetryTemplate`. So if I have multiple listeners then how can I ask particular listeners to listen to my retry-able service?","title":"Annotation way to register listener to spring&#39;s @Retryable","body":"<p>How to register a listener in <code>spring-retry</code> using <code>@Retryable()</code> annotation?</p>\n\n<pre><code>@Bean\npublic RetryListener myRetryListener() {\n    return new MyRetryListener();\n}\n\n@Service\npublic class SampleService {\n   private int cnt = 1;\n\n   @Retryable(RuntimeException.class)\n   public void retryMethod(int x) throws Exception {\n      System.out.println(\"SampleService invoked.\");\n      Thread.sleep(500);\n\n      if (cnt++ &lt; 4) {\n        throw new RuntimeException(\"SampleService throwing exception\");\n      }\n   }\n\n}\n</code></pre>\n\n<p>If I create any listener bean, it automatically registers to <code>RetryTemplate</code>. So if I have multiple listeners then how can I ask particular listeners to listen to my retry-able service?</p>\n"},{"tags":["java","spring","hibernate","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1654335564,"post_id":72468827,"comment_id":128070111,"body_markdown":"I do not remember this exception in any situation. Please publish a minimal reproducer ([MCVE](https://stackoverflow.com/help/mcve)) on GitHub, ideally a Maven project. If you need a data source in ordfer to reproduce this, make sure it is an in-memory database like H2 which is preconfigured, so I can just run the example and see the error. Thank you.","body":"I do not remember this exception in any situation. Please publish a minimal reproducer (<a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>) on GitHub, ideally a Maven project. If you need a data source in ordfer to reproduce this, make sure it is an in-memory database like H2 which is preconfigured, so I can just run the example and see the error. Thank you."},{"owner":{"account_id":14720853,"reputation":1079,"user_id":10631518,"display_name":"AllirionX"},"score":0,"creation_date":1654426766,"post_id":72468827,"comment_id":128083731,"body_markdown":"Thanks for your answer. It&#39;s probably not gonna be easy to build an MCVE, as the problem does not always happen, but I&#39;ll give it a go. As different builds/environments behave differently, I am thinking it is probably not a problem with aspectj itself. But to get to the source of the problem, I need to understand why aspectj is rendering Tests (what&#39;s a Test in that context) and what could cause it to render a Literal test.","body":"Thanks for your answer. It&#39;s probably not gonna be easy to build an MCVE, as the problem does not always happen, but I&#39;ll give it a go. As different builds/environments behave differently, I am thinking it is probably not a problem with aspectj itself. But to get to the source of the problem, I need to understand why aspectj is rendering Tests (what&#39;s a Test in that context) and what could cause it to render a Literal test."},{"owner":{"account_id":14720853,"reputation":1079,"user_id":10631518,"display_name":"AllirionX"},"score":0,"creation_date":1654426828,"post_id":72468827,"comment_id":128083747,"body_markdown":"@kriegaex I could not find documentation about test rendering in aspectj, if it exists and you could point it to me, that would be super appreciated. Thanks","body":"@kriegaex I could not find documentation about test rendering in aspectj, if it exists and you could point it to me, that would be super appreciated. Thanks"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1654431968,"post_id":72468827,"comment_id":128084709,"body_markdown":"I never worked on that part of the code before, so I cannot answer your question without digging into it, which I am too busy for at the moment. I do not think you need to understand the inner workings of AspectJ in order to create an MCVE. If you manage to create one, please let me know. Maybe you also want to test if upgrading to AspectJ 1.9.9.1 changes the situation, even though I am unaware of any changes in that part of the code. An upgrade might help if you are using [more recent JDK versions](https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/JavaVersionCompatibility.md).","body":"I never worked on that part of the code before, so I cannot answer your question without digging into it, which I am too busy for at the moment. I do not think you need to understand the inner workings of AspectJ in order to create an MCVE. If you manage to create one, please let me know. Maybe you also want to test if upgrading to AspectJ 1.9.9.1 changes the situation, even though I am unaware of any changes in that part of the code. An upgrade might help if you are using <a href=\"https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/JavaVersionCompatibility.md\" rel=\"nofollow noreferrer\">more recent JDK versions</a>."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1655845116,"post_id":72468827,"comment_id":128427326,"body_markdown":"So? Is the problem no longer relevant?","body":"So? Is the problem no longer relevant?"},{"owner":{"account_id":14720853,"reputation":1079,"user_id":10631518,"display_name":"AllirionX"},"score":0,"creation_date":1655939675,"post_id":72468827,"comment_id":128453865,"body_markdown":"Thanks for following up on this. The problem is still relevant, but I did not manage to create a minimal reproducer yet, and with my current load I won&#39;t be able to work on that anytime soon. I&#39;ll reach out here or on github if I manage to reproduce the issue reliabily. Thanks","body":"Thanks for following up on this. The problem is still relevant, but I did not manage to create a minimal reproducer yet, and with my current load I won&#39;t be able to work on that anytime soon. I&#39;ll reach out here or on github if I manage to reproduce the issue reliabily. Thanks"}],"owner":{"account_id":14720853,"reputation":1079,"user_id":10631518,"display_name":"AllirionX"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654123928,"creation_date":1654123928,"question_id":72468827,"body_markdown":"The project I am working on uses aspectj weaver 1.9.7\r\n\r\nIt is used with the `@Configurable` on hibernate entity classes.\r\n\r\nWhen starting the project I randomly get `BCException: visiting a false expression` when trying to weave an entity class. The entity is not always the same, and the error does not always happen.\r\n\r\nDo you know what could cause such an error? \r\n\r\n    [localhost-startStop-1] org.aspectj.weaver.tools.Jdk14Trace.error my/package/FailingHibernateEntity\r\n    \torg.aspectj.weaver.BCException: visiting a false expression\r\n    when weaving classes \r\n    when weaving \r\n    \t\tat org.aspectj.weaver.bcel.BcelRenderer.visit(BcelRenderer.java:203)\r\n    \t\tat org.aspectj.weaver.ast.Literal.accept(Literal.java:29)\r\n    \t\tat org.aspectj.weaver.bcel.BcelRenderer.recur(BcelRenderer.java:110)\r\n    \t\tat org.aspectj.weaver.bcel.BcelRenderer.renderTest(BcelRenderer.java:100)\r\n    \t\tat org.aspectj.weaver.bcel.BcelAdvice.getTestInstructions(BcelAdvice.java:702)\r\n    \t\tat org.aspectj.weaver.bcel.BcelAdvice.getAdviceInstructions(BcelAdvice.java:527)\r\n    \t\tat org.aspectj.weaver.bcel.BcelShadow.getAfterReturningAdviceDispatchInstructions(BcelShadow.java:1806)\r\n    \t\tat org.aspectj.weaver.bcel.BcelShadow.weaveAfterReturning(BcelShadow.java:1719)\r\n    \t\tat org.aspectj.weaver.bcel.BcelAdvice.implementOn(BcelAdvice.java:365)\r\n    \t\tat org.aspectj.weaver.Shadow.implementMungers(Shadow.java:645)\r\n    \t\tat org.aspectj.weaver.Shadow.implement(Shadow.java:547)\r\n    \t\tat org.aspectj.weaver.bcel.BcelClassWeaver.positionAndImplement(BcelClassWeaver.java:1662)\r\n    \t\tat org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:510)\r\n    \t\tat org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:103)\r\n    \t\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1707)\r\n    \t\tat org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump(BcelWeaver.java:1651)\r\n    \t\tat org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:1418)\r\n    \t\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1192)\r\n    \t\tat org.aspectj.weaver.tools.WeavingAdaptor.getWovenBytes(WeavingAdaptor.java:549)\r\n    \t\tat org.aspectj.weaver.tools.WeavingAdaptor.weaveClass(WeavingAdaptor.java:385)\r\n    \t\tat org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:115)\r\n    \t\tat org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:51)\r\n    \t\tat org.springframework.context.weaving.AspectJWeavingEnabler$AspectJClassBypassingClassFileTransformer.transform(AspectJWeavingEnabler.java:122)\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2382)\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:870)\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1341)\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1195)\r\n    \t\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:202)\r\n    \t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t\tat java.lang.Class.forName0(Native Method)\r\n    \t\tat java.lang.Class.forName(Class.java:348)\r\n    \t\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:130)\r\n    \t\tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.&lt;init&gt;(AnnotationMetadataSourceProcessorImpl.java:108)\r\n    \t\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.&lt;init&gt;(MetadataBuildingProcess.java:164)\r\n    \t\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:158)\r\n    \t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224)\r\n    \t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255)\r\n    \t\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n    \t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n    \t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n    \t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n    \t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \t\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n    \t\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n    \t\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n    \t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4705)\r\n    \t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5171)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\r\n    \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\n    \t\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1176)\r\n    \t\tat org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1917)\r\n    \t\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \t\tat java.lang.Thread.run(Thread.java:748)","title":"AspectJ throws BCException &quot;visiting a false expression&quot;","body":"<p>The project I am working on uses aspectj weaver 1.9.7</p>\n<p>It is used with the <code>@Configurable</code> on hibernate entity classes.</p>\n<p>When starting the project I randomly get <code>BCException: visiting a false expression</code> when trying to weave an entity class. The entity is not always the same, and the error does not always happen.</p>\n<p>Do you know what could cause such an error?</p>\n<pre><code>[localhost-startStop-1] org.aspectj.weaver.tools.Jdk14Trace.error my/package/FailingHibernateEntity\n    org.aspectj.weaver.BCException: visiting a false expression\nwhen weaving classes \nwhen weaving \n        at org.aspectj.weaver.bcel.BcelRenderer.visit(BcelRenderer.java:203)\n        at org.aspectj.weaver.ast.Literal.accept(Literal.java:29)\n        at org.aspectj.weaver.bcel.BcelRenderer.recur(BcelRenderer.java:110)\n        at org.aspectj.weaver.bcel.BcelRenderer.renderTest(BcelRenderer.java:100)\n        at org.aspectj.weaver.bcel.BcelAdvice.getTestInstructions(BcelAdvice.java:702)\n        at org.aspectj.weaver.bcel.BcelAdvice.getAdviceInstructions(BcelAdvice.java:527)\n        at org.aspectj.weaver.bcel.BcelShadow.getAfterReturningAdviceDispatchInstructions(BcelShadow.java:1806)\n        at org.aspectj.weaver.bcel.BcelShadow.weaveAfterReturning(BcelShadow.java:1719)\n        at org.aspectj.weaver.bcel.BcelAdvice.implementOn(BcelAdvice.java:365)\n        at org.aspectj.weaver.Shadow.implementMungers(Shadow.java:645)\n        at org.aspectj.weaver.Shadow.implement(Shadow.java:547)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.positionAndImplement(BcelClassWeaver.java:1662)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:510)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:103)\n        at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1707)\n        at org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump(BcelWeaver.java:1651)\n        at org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:1418)\n        at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1192)\n        at org.aspectj.weaver.tools.WeavingAdaptor.getWovenBytes(WeavingAdaptor.java:549)\n        at org.aspectj.weaver.tools.WeavingAdaptor.weaveClass(WeavingAdaptor.java:385)\n        at org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:115)\n        at org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:51)\n        at org.springframework.context.weaving.AspectJWeavingEnabler$AspectJClassBypassingClassFileTransformer.transform(AspectJWeavingEnabler.java:122)\n        at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2382)\n        at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:870)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1341)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1195)\n        at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:202)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:130)\n        at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.&lt;init&gt;(AnnotationMetadataSourceProcessorImpl.java:108)\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.&lt;init&gt;(MetadataBuildingProcess.java:164)\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:158)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255)\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4705)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5171)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\n        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1176)\n        at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1917)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","angular","spring-boot","docker","cors"],"answers":[{"tags":[],"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1654123792,"creation_date":1654123107,"answer_id":72468740,"question_id":72468402,"body_markdown":"You&#39;ve configured the wrong allowed origin.\r\n\r\nOrigin has a specific [meaning][1]:\r\n&gt; The Origin request header indicates the origin (scheme, hostname, and port) **that caused the request**. For example, if a user agent needs to request resources included in a page, or fetched by scripts that it executes, then the origin of the page may be included in the request. \r\n\r\nThis effectively means that the configured allowed origin must match the URL that appears in the browser when the request is made. You configured the allowed origin to be your nginx IP, but you are not accessing your frontend through your nginx IP, you&#39;re accessing it through `http://localhost:4200` as indicated by the error message.\r\n\r\nChange your allowed origin to reflect that:\r\n```java\r\nprivate String url = &quot;http://localhost:4200&quot;;\r\n```\r\n\r\nNote that when Spring Security receives an Origin which has not been allowed, it refuses the request with a 403 and does not add any `Access-Control-*` headers, hence your last error message.\r\n\r\nAdditionally, you may wish to [lower the log level][2] of `org.springframework.web.cors.DefaultCorsProcessor` to `DEBUG` for it to log errors when it sees a disallowed origin for debugging purposes.\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin\r\n  [2]: https://stackoverflow.com/questions/20485059/spring-boot-how-can-i-set-the-logging-level-with-application-properties","title":"Even if Cors Configuration is set on server side, I&#39;m still blocked by CORS policy:","body":"<p>You've configured the wrong allowed origin.</p>\n<p>Origin has a specific <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin\" rel=\"nofollow noreferrer\">meaning</a>:</p>\n<blockquote>\n<p>The Origin request header indicates the origin (scheme, hostname, and port) <strong>that caused the request</strong>. For example, if a user agent needs to request resources included in a page, or fetched by scripts that it executes, then the origin of the page may be included in the request.</p>\n</blockquote>\n<p>This effectively means that the configured allowed origin must match the URL that appears in the browser when the request is made. You configured the allowed origin to be your nginx IP, but you are not accessing your frontend through your nginx IP, you're accessing it through <code>http://localhost:4200</code> as indicated by the error message.</p>\n<p>Change your allowed origin to reflect that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String url = &quot;http://localhost:4200&quot;;\n</code></pre>\n<p>Note that when Spring Security receives an Origin which has not been allowed, it refuses the request with a 403 and does not add any <code>Access-Control-*</code> headers, hence your last error message.</p>\n<p>Additionally, you may wish to <a href=\"https://stackoverflow.com/questions/20485059/spring-boot-how-can-i-set-the-logging-level-with-application-properties\">lower the log level</a> of <code>org.springframework.web.cors.DefaultCorsProcessor</code> to <code>DEBUG</code> for it to log errors when it sees a disallowed origin for debugging purposes.</p>\n"}],"owner":{"account_id":19624065,"reputation":197,"user_id":14363890,"display_name":"kuzua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":1,"score":0,"last_activity_date":1654123792,"creation_date":1654119975,"question_id":72468402,"body_markdown":"So I have already implemented a spring boot JAVA application as a server and angular as a frontend. So actually, everything works pretty well when I run those locally. \r\n\r\nBut when I build the Docker images for both and try to test them as containers, I&#39;m facing a CORS error.   \r\n\r\n since I&#39;m using the JWT token as security, I have disabled the crsf and default spring security token. so here you can see the JAVA configuration for the CORS; \r\n\r\n    private String url = &quot;http://10.1.2.37:4200&quot;;\r\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().cors().configurationSource(new CorsConfigurationSource() {\r\n        @Override\r\n    \tpublic CorsConfiguration getCorsConfiguration(HttpServletRequest request) {\r\n    \t    CorsConfiguration config = new CorsConfiguration();\r\n    \t    config.setAllowedOrigins(Collections.singletonList(url));\r\n    \t    config.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n    \t\tconfig.setAllowCredentials(true);\r\n    \t\tconfig.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n    \t\tconfig.setExposedHeaders(Arrays.asList(&quot;Authorization&quot;));\r\n    \t\tconfig.setMaxAge(1200L);\r\n    \t\treturn config;\r\n    \t}}).and()\r\n    \t.authorizeRequests()\r\n    \t.antMatchers(&quot;/user&quot;).authenticated()\r\n    \t.antMatchers(HttpMethod.GET, &quot;/user&quot;).authenticated()\r\n        .and().csrf().disable()\r\n   \t\t.oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter);\r\n    \t\thttp.headers().frameOptions().sameOrigin();\r\n\r\nand this is the **nginx.conf** \r\n\r\n    events{}\r\n    http {\r\n        include /etc/nginx/mime.types;\r\n        server {\r\n            listen 80;\r\n            server_name  10.1.2.37;\r\n         \r\n            root /usr/share/nginx/html;\r\n            index index.html;\r\n            location / {\r\n                try_files $uri $uri/ /index.html;\r\n            }\r\n        }\r\n    }\r\n\r\neven if when I try to run those Docker images in the same network by using `--network` flag, it&#39;s not solved. \r\n\r\nhow do I run the docker images?\r\nfor the angular part;\r\n\r\n    docker run  --network &quot;project&quot;  --name project_frontend -d -p 4200:80 project_front_end\r\n\r\n\r\nfor the backend;\r\n\r\n    docker run  --network &quot;project&quot;  -d --name project_backend -p 8080:80 project_backend\r\n\r\nboth of them are up and running. but the thing is when I open the browser to test is I&#39;m getting;\r\n\r\n    Access to XMLHttpRequest at &#39;http://10.1.2.37:8080/menu&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nI&#39;m about to lose my mind. really. \r\nAny help will be appreciated. I&#39;m asking here to understand why this is happening. \r\n\r\n","title":"Even if Cors Configuration is set on server side, I&#39;m still blocked by CORS policy:","body":"<p>So I have already implemented a spring boot JAVA application as a server and angular as a frontend. So actually, everything works pretty well when I run those locally.</p>\n<p>But when I build the Docker images for both and try to test them as containers, I'm facing a CORS error.</p>\n<p>since I'm using the JWT token as security, I have disabled the crsf and default spring security token. so here you can see the JAVA configuration for the CORS;</p>\n<pre><code>private String url = &quot;http://10.1.2.37:4200&quot;;\nhttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().cors().configurationSource(new CorsConfigurationSource() {\n    @Override\n    public CorsConfiguration getCorsConfiguration(HttpServletRequest request) {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(Collections.singletonList(url));\n        config.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n        config.setAllowCredentials(true);\n        config.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n        config.setExposedHeaders(Arrays.asList(&quot;Authorization&quot;));\n        config.setMaxAge(1200L);\n        return config;\n    }}).and()\n    .authorizeRequests()\n    .antMatchers(&quot;/user&quot;).authenticated()\n    .antMatchers(HttpMethod.GET, &quot;/user&quot;).authenticated()\n    .and().csrf().disable()\n    .oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter);\n        http.headers().frameOptions().sameOrigin();\n</code></pre>\n<p>and this is the <strong>nginx.conf</strong></p>\n<pre><code>events{}\nhttp {\n    include /etc/nginx/mime.types;\n    server {\n        listen 80;\n        server_name  10.1.2.37;\n     \n        root /usr/share/nginx/html;\n        index index.html;\n        location / {\n            try_files $uri $uri/ /index.html;\n        }\n    }\n}\n</code></pre>\n<p>even if when I try to run those Docker images in the same network by using <code>--network</code> flag, it's not solved.</p>\n<p>how do I run the docker images?\nfor the angular part;</p>\n<pre><code>docker run  --network &quot;project&quot;  --name project_frontend -d -p 4200:80 project_front_end\n</code></pre>\n<p>for the backend;</p>\n<pre><code>docker run  --network &quot;project&quot;  -d --name project_backend -p 8080:80 project_backend\n</code></pre>\n<p>both of them are up and running. but the thing is when I open the browser to test is I'm getting;</p>\n<pre><code>Access to XMLHttpRequest at 'http://10.1.2.37:8080/menu' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>I'm about to lose my mind. really.\nAny help will be appreciated. I'm asking here to understand why this is happening.</p>\n"},{"tags":["java","spring-boot","kotlin"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1654120916,"post_id":72468337,"comment_id":128019060,"body_markdown":"Are you looking for help defining the type of the filter parameter? Or are you stuck with a `Any` and want to know how to deal with it?","body":"Are you looking for help defining the type of the filter parameter? Or are you stuck with a <code>Any</code> and want to know how to deal with it?"},{"owner":{"account_id":17453657,"reputation":171,"user_id":12653071,"display_name":"mat373"},"score":0,"creation_date":1654121116,"post_id":72468337,"comment_id":128019106,"body_markdown":"Filter type parametr can be a list, string or null. Im stuck with Any","body":"Filter type parametr can be a list, string or null. Im stuck with Any"}],"answers":[{"tags":[],"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654123334,"creation_date":1654121327,"answer_id":72468571,"question_id":72468337,"body_markdown":"If you&#39;re really stuck with `Any?` you could use this rather unsafe way:\r\n\r\n```kotlin\r\nfun getFilteredItems(param: Any?): List&lt;Item&gt; = when(param) {\r\n    &quot;ALL&quot;, null -&gt; items\r\n    is List&lt;*&gt; -&gt; items.filter { it.id in param }\r\n    else -&gt; error(&quot;Invalid filter parameter &#39;$param&#39;&quot;)\r\n}\r\n```\r\n\r\nBut that doesn&#39;t fail if the list contains other things than `Long`, it will just return an empty list in that case.\r\n\r\nA better, more type-safe way is to type your parameter with a sealed class:\r\n\r\n```kotlin\r\nsealed class Filter {\r\n\r\n    object All : Filter()\r\n\r\n    data class ById(val ids: List&lt;Long&gt;): Filter()\r\n}\r\n\r\nfun getFilteredItems(param: Filter): List&lt;Item&gt; = when(param) {\r\n    Filter.All -&gt; items\r\n    is Filter.ById -&gt; items.filter { it.id in param.ids }\r\n}\r\n```","title":"Kotlin / Java - Filter by unknown Type","body":"<p>If you're really stuck with <code>Any?</code> you could use this rather unsafe way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getFilteredItems(param: Any?): List&lt;Item&gt; = when(param) {\n    &quot;ALL&quot;, null -&gt; items\n    is List&lt;*&gt; -&gt; items.filter { it.id in param }\n    else -&gt; error(&quot;Invalid filter parameter '$param'&quot;)\n}\n</code></pre>\n<p>But that doesn't fail if the list contains other things than <code>Long</code>, it will just return an empty list in that case.</p>\n<p>A better, more type-safe way is to type your parameter with a sealed class:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>sealed class Filter {\n\n    object All : Filter()\n\n    data class ById(val ids: List&lt;Long&gt;): Filter()\n}\n\nfun getFilteredItems(param: Filter): List&lt;Item&gt; = when(param) {\n    Filter.All -&gt; items\n    is Filter.ById -&gt; items.filter { it.id in param.ids }\n}\n</code></pre>\n"}],"owner":{"account_id":17453657,"reputation":171,"user_id":12653071,"display_name":"mat373"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654123334,"creation_date":1654119387,"question_id":72468337,"body_markdown":"Is any solution for given situation that\r\nI have List of Objects and I&#39;d like to filter it by given predicate but i don&#39;t know type of filter param. \r\n\r\nWhat I do know than filter param can be\r\n1. List of Long\r\n2. String but only &quot;ALL&quot; word\r\n3. null\r\n\r\n\r\n- When param is List&lt;_Long&gt; i have to return Object with IDs contained in param\r\n- When param is &quot;ALL&quot; or null i have to return all objects\r\n\r\nHave anyone idea how can do this ??\r\n","title":"Kotlin / Java - Filter by unknown Type","body":"<p>Is any solution for given situation that\nI have List of Objects and I'd like to filter it by given predicate but i don't know type of filter param.</p>\n<p>What I do know than filter param can be</p>\n<ol>\n<li>List of Long</li>\n<li>String but only &quot;ALL&quot; word</li>\n<li>null</li>\n</ol>\n<ul>\n<li>When param is List&lt;_Long&gt; i have to return Object with IDs contained in param</li>\n<li>When param is &quot;ALL&quot; or null i have to return all objects</li>\n</ul>\n<p>Have anyone idea how can do this ??</p>\n"},{"tags":["java","arrays","sorting","arraylist","filereader"],"answers":[{"tags":[],"owner":{"account_id":1318651,"reputation":640,"user_id":1264967,"display_name":"J. Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654123044,"creation_date":1654122609,"answer_id":72468697,"question_id":72468666,"body_markdown":"Do you mean you just wanted to extract 237 and not 237.6?\r\n\r\n    int val = Math.round(Math.floor(input.nextDouble()));\r\n\r\nAlso you can use this function to check the next value\r\n\r\n     if (scanner.hasNextDouble()) { /*do double conversion*/ } else { /*just read int*/ }","title":"Storing only integer values in Integer variable while having doubles in the input","body":"<p>Do you mean you just wanted to extract 237 and not 237.6?</p>\n<pre><code>int val = Math.round(Math.floor(input.nextDouble()));\n</code></pre>\n<p>Also you can use this function to check the next value</p>\n<pre><code> if (scanner.hasNextDouble()) { /*do double conversion*/ } else { /*just read int*/ }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654123282,"creation_date":1654123282,"answer_id":72468760,"question_id":72468666,"body_markdown":"Test if the next token is an `int` (or a `double`) before you consume it. If it isn&#39;t skip the token. Something like,\r\n\r\n    while (input.hasNext() ) {\r\n        if (input.hasNextInt()) {\r\n            integerArrayList.add(input.nextInt());\r\n        } else if (input.hasNextDouble()) {\r\n            doubleArrayList.add(input.nextDouble());\r\n        } else {\r\n            System.out.printf(&quot;Skipping non-numeric token: %s%n&quot;, input.next());\r\n        }\r\n    }\r\n","title":"Storing only integer values in Integer variable while having doubles in the input","body":"<p>Test if the next token is an <code>int</code> (or a <code>double</code>) before you consume it. If it isn't skip the token. Something like,</p>\n<pre><code>while (input.hasNext() ) {\n    if (input.hasNextInt()) {\n        integerArrayList.add(input.nextInt());\n    } else if (input.hasNextDouble()) {\n        doubleArrayList.add(input.nextDouble());\n    } else {\n        System.out.printf(&quot;Skipping non-numeric token: %s%n&quot;, input.next());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11623679,"reputation":23,"user_id":9161731,"display_name":"moutasim omran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72468760,"answer_count":2,"score":0,"last_activity_date":1654123282,"creation_date":1654122201,"question_id":72468666,"body_markdown":"So basically I am trying to get only Integer values from the file being read, I want to store the values each in its own ArrayList.\r\n\r\nThe data formatting from the file getting read is as following\r\n```\r\n1002\t53\t1\t82\t169\t120\t80\t237.6\t239.0\t177.6\t42.5\t885.8\t7.4\r\n1004\t53\t1\t83.7\t169\t110\t70\t160.2\t173.4\t115.8\t44.0\t73.5\t8.2\r\n1006\t48\t1\t81.1\t158\t130\t70\t102.6\t173.4\t100.4\t61.8\t73.5\t5.2\r\n```\r\netc...\r\n\r\nHere is my chuck of code:\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Integer&gt; integerArrayList = new ArrayList();\r\n        ArrayList&lt;Double&gt; doubleArrayList = new ArrayList();\r\n        String filePath = &quot;records.txt&quot;;\r\n        try { // Methodology Store in string, split on spaces, covert to int or double,\r\n            // add to the variables directly from the Arraylist.\r\n            Scanner input = new Scanner(new File(filePath));\r\n            Integer integerVal = 0;\r\n            Double doubleVal = 0.0;\r\n\r\n\r\n            while (input.hasNextLine() ) {\r\n                integerVal = input.nextInt();\r\n                if (integerVal instanceof Integer) {\r\n                    integerArrayList.add(integerVal);\r\n                }\r\n                doubleVal = input.nextDouble();\r\n                if (doubleVal instanceof Double) {\r\n                    doubleArrayList.add(doubleVal);\r\n                }\r\n            }\r\n            System.out.println(integerArrayList);\r\n            System.out.println(doubleArrayList);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to debug step by step, the problem is it stores every value in both variables as expected **until it reaches the double values...**\r\n\r\nLast executable step:\r\n[![Last executable step][1]][1]\r\n\r\nOutput Exception: \r\n[![Error message][2]][2]\r\n\r\n\r\n**If you have any other solution/ approach please let me know, Thanks.**\r\n\r\n  [1]: https://i.stack.imgur.com/oEaiA.png\r\n  [2]: https://i.stack.imgur.com/xZXsa.png","title":"Storing only integer values in Integer variable while having doubles in the input","body":"<p>So basically I am trying to get only Integer values from the file being read, I want to store the values each in its own ArrayList.</p>\n<p>The data formatting from the file getting read is as following</p>\n<pre><code>1002    53  1   82  169 120 80  237.6   239.0   177.6   42.5    885.8   7.4\n1004    53  1   83.7    169 110 70  160.2   173.4   115.8   44.0    73.5    8.2\n1006    48  1   81.1    158 130 70  102.6   173.4   100.4   61.8    73.5    5.2\n</code></pre>\n<p>etc...</p>\n<p>Here is my chuck of code:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; integerArrayList = new ArrayList();\n        ArrayList&lt;Double&gt; doubleArrayList = new ArrayList();\n        String filePath = &quot;records.txt&quot;;\n        try { // Methodology Store in string, split on spaces, covert to int or double,\n            // add to the variables directly from the Arraylist.\n            Scanner input = new Scanner(new File(filePath));\n            Integer integerVal = 0;\n            Double doubleVal = 0.0;\n\n\n            while (input.hasNextLine() ) {\n                integerVal = input.nextInt();\n                if (integerVal instanceof Integer) {\n                    integerArrayList.add(integerVal);\n                }\n                doubleVal = input.nextDouble();\n                if (doubleVal instanceof Double) {\n                    doubleArrayList.add(doubleVal);\n                }\n            }\n            System.out.println(integerArrayList);\n            System.out.println(doubleArrayList);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I tried to debug step by step, the problem is it stores every value in both variables as expected <strong>until it reaches the double values...</strong></p>\n<p>Last executable step:\n<a href=\"https://i.stack.imgur.com/oEaiA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oEaiA.png\" alt=\"Last executable step\" /></a></p>\n<p>Output Exception:\n<a href=\"https://i.stack.imgur.com/xZXsa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZXsa.png\" alt=\"Error message\" /></a></p>\n<p><strong>If you have any other solution/ approach please let me know, Thanks.</strong></p>\n"},{"tags":["java","httpurlconnection"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1496383571,"post_id":44321769,"comment_id":75648771,"body_markdown":"Unlikely. Could there be a proxy between the client and the server in one case and not the other?","body":"Unlikely. Could there be a proxy between the client and the server in one case and not the other?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1496383621,"post_id":44321769,"comment_id":75648798,"body_markdown":"Or could the security policy be based on IP addresses?","body":"Or could the security policy be based on IP addresses?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1496383633,"post_id":44321769,"comment_id":75648804,"body_markdown":"might be as well as a restriction on the server side. Are you in the same network? Perhaps authentication is only enforced for unknown hosts?","body":"might be as well as a restriction on the server side. Are you in the same network? Perhaps authentication is only enforced for unknown hosts?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1496383849,"post_id":44321769,"comment_id":75648897,"body_markdown":"If I ran this code from home, I would most likely get the server responses, whereas if I ran it from my work place, the proxy would ask for an authentication.","body":"If I ran this code from home, I would most likely get the server responses, whereas if I ran it from my work place, the proxy would ask for an authentication."},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1496385147,"post_id":44321769,"comment_id":75649498,"body_markdown":"@Maurice Perry - there is no such ip filter implemented.","body":"@Maurice Perry - there is no such ip filter implemented."},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1496385323,"post_id":44321769,"comment_id":75649589,"body_markdown":"@P.J.Meisch - Person who got 401 and myself are in same network.","body":"@P.J.Meisch - Person who got 401 and myself are in same network."},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1496387054,"post_id":44321769,"comment_id":75650466,"body_markdown":"@Wave I&#39;d suggest you use TCPMon to see what really is and is not sent. You may still ask the service provider to help you to resolve ..","body":"@Wave I&#39;d suggest you use TCPMon to see what really is and is not sent. You may still ask the service provider to help you to resolve .."}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654123169,"creation_date":1496382987,"question_id":44321769,"body_markdown":"I am little confused with the below code or behavior of HttpURLConnection class. I have the below code which hits the URL (rest service in .net) and gets the response from it. When I run the code I am getting the response in both Windows and Unix environment. I have access to this URL.\r\n\r\nWhen I provided the same code to someone who don&#39;t have access to the URL, it throws `401 Unauthorized` error. But in below code I didn&#39;t pass my credentials, how does it automatically validates my credentials ? Is it working for me because HttpURLConnection sets Windows authentication in background in request ?\r\n\r\n\t\tURL url = new URL(URL);\t\t\t\r\n\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection(); \r\n\t\tconnection.setRequestMethod(&quot;GET&quot;); \t\t\t\r\n\t\tconnection.setUseCaches(false); \r\n\t\tconnection.setDoOutput(true); \r\n\t\tBufferedReader in = new BufferedReader( new InputStreamReader(connection.getInputStream())); \r\n\t\tString inputLine; \r\n\t\tStringBuffer response = new StringBuffer(); \r\n\t\twhile ((inputLine = in.readLine()) != null) { \r\n\t\t\tresponse.append(inputLine); \r\n\t\t} \r\n\t\tin.close(); \r\n\t\tSystem.out.println(response);\r\n","title":"HTTPURLConnetion to hit a service","body":"<p>I am little confused with the below code or behavior of HttpURLConnection class. I have the below code which hits the URL (rest service in .net) and gets the response from it. When I run the code I am getting the response in both Windows and Unix environment. I have access to this URL.</p>\n<p>When I provided the same code to someone who don't have access to the URL, it throws <code>401 Unauthorized</code> error. But in below code I didn't pass my credentials, how does it automatically validates my credentials ? Is it working for me because HttpURLConnection sets Windows authentication in background in request ?</p>\n<pre><code>    URL url = new URL(URL);         \n    HttpURLConnection connection = (HttpURLConnection) url.openConnection(); \n    connection.setRequestMethod(&quot;GET&quot;);             \n    connection.setUseCaches(false); \n    connection.setDoOutput(true); \n    BufferedReader in = new BufferedReader( new InputStreamReader(connection.getInputStream())); \n    String inputLine; \n    StringBuffer response = new StringBuffer(); \n    while ((inputLine = in.readLine()) != null) { \n        response.append(inputLine); \n    } \n    in.close(); \n    System.out.println(response);\n</code></pre>\n"},{"tags":["java","spring","hibernate","grails","transactions"],"comments":[{"owner":{"account_id":4456728,"reputation":344,"user_id":3626747,"display_name":"robert_peszek"},"score":0,"creation_date":1407107418,"post_id":25106636,"comment_id":39076969,"body_markdown":"From what I remember about Spring Framework, hibernate sessions are also implicit there and long lived.  GORM methods are implemented as Spring Framework Templates.  So, to some extend, the problem is partially inherited from Spring Framework.  I view it as Hibernate design gotcha but maybe Spring Framework community has figured out some solutions?  Adding Spring as a tag.","body":"From what I remember about Spring Framework, hibernate sessions are also implicit there and long lived.  GORM methods are implemented as Spring Framework Templates.  So, to some extend, the problem is partially inherited from Spring Framework.  I view it as Hibernate design gotcha but maybe Spring Framework community has figured out some solutions?  Adding Spring as a tag."},{"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"score":0,"creation_date":1407248796,"post_id":25106636,"comment_id":39134918,"body_markdown":"I would like trying to help you. Can you post logs for one scenary, I would like to discuss a) SQL statements (see http://stackoverflow.com/questions/2568507/how-to-log-sql-statements-in-grails) and b) transactions (see http://stackoverflow.com/questions/1965454/showing-a-spring-transaction-in-log)?","body":"I would like trying to help you. Can you post logs for one scenary, I would like to discuss a) SQL statements (see <a href=\"http://stackoverflow.com/questions/2568507/how-to-log-sql-statements-in-grails\" title=\"how to log sql statements in grails\">stackoverflow.com/questions/2568507/&hellip;</a>) and b) transactions (see <a href=\"http://stackoverflow.com/questions/1965454/showing-a-spring-transaction-in-log\" title=\"showing a spring transaction in log\">stackoverflow.com/questions/1965454/&hellip;</a>)?"},{"owner":{"account_id":4456728,"reputation":344,"user_id":3626747,"display_name":"robert_peszek"},"score":0,"creation_date":1407539793,"post_id":25106636,"comment_id":39269973,"body_markdown":"Test case demonstrating the issue has been posted on GRAILS JIRA ticket.  Detailed examples are in my blog (see EDITED section above for links)","body":"Test case demonstrating the issue has been posted on GRAILS JIRA ticket.  Detailed examples are in my blog (see EDITED section above for links)"}],"answers":[{"tags":[],"owner":{"account_id":4456728,"reputation":344,"user_id":3626747,"display_name":"robert_peszek"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1411592556,"creation_date":1407682221,"answer_id":25229767,"question_id":25106636,"body_markdown":"Here is my own attempt to answer this question.\r\n\r\n(**ADDED 9/24/2014** There is simply no good solution to this problem.  Sadly, HHH-9367 JIRA ticket has been rejected by Hibernate as &#39;not a bug&#39;. The only solution suggested in that ticket was to use refresh (I assume that would require changing all queries to something that looks like: \r\n\r\n    BankAccount.findAllBy...(...).each{ it.refresh() }\r\n\r\nPersonally, I do not agree that this is a meaningful solution.)  \r\n\r\nAs I have explained above, if Hibernate/GORM query returns a set of DomainObjects and some of these\r\nobjects are already in hibernate session (populated by previous queries) the query will return these old objects, and these objects will not be automatically refreshed.  This can cause some hard to spot concurrency issues.  I call it Repeatable Finder problem.\r\n\r\nThis has nothing to do with 2nd level cache.  This problem is caused by how hibernate works even without the 2nd level cache configured.  (EDITED 9/24/2014: And, this is not any ORM, any DB application issue, the issue is specific to use of Hibernate).\r\n\r\n**Implications to your application:**\r\n\r\n(*I can only explain the impacts I know of,  I am not claiming that these are the only impacts*). \r\n\r\nDomain objects typically have a set of associated constraints/logical rules that need to hold across typically several records and are enforced by either the application or the database itself. I will borrow a term from FP and testing and will call these &#39;properties&#39;.  \r\n\r\nExample properties:\r\nIn the above BankAccount example,  name uniqueness (enforced by DB) is a property (for example, you may use it in defining equals() method), if money is transferred between accounts, \r\nthe total amount of money in these accounts needs to be a constant - this is a property.  \r\nIf I modify my BankAccount class and add &#39;branch&#39; association to it:\r\n    \r\n    BankBranch branch\r\nThen this is a property as well:  \r\n\r\n    assert BankAccount.findAllByBranch(b).every{it.branch == b}.\r\n\r\n(EDITED, This property should technically be enforced by DB and implementation of the finder method and developer may assume it is &#39;safe&#39; and not breakable. In fact most &#39;where&#39; criteria and &#39;joins&#39; used by your app somewhere underneath hibernate define properties of similar nature.).\r\n\r\nRepeatable finder problem can cause most of the properties to break under concurrent use (scary stuff!).  For example I reiterate here a piece of code I wrote in\r\nthe relevant JIRA ticket linked in the question:\r\n\r\n    ... a1 has branch b1\r\n    BankAccount.findByName(&#39;a1&#39;)\r\n       \r\n    ... concurrently a1 is moved to branch b2\r\n    //fails because stale a1.branch == b1\r\n    assert BankAccount.findAllByBranch(b2).every{it.branch == b2} \r\n\r\nYour application probably uses explicit and implicit properties and may have logic to enforce them.\r\nFor example, application may rely on names being unique and will exception or return wrong results if they are not unique (maybe name on its own is used to define equals()).  This is explicit usage.\r\nApplication may provide list views and it will be very embarrassing if list shows property violated (list for accounts under branch b2 shows some accounts with branch b1 - this is implicit usage).  Any of such cases will be affected by &quot;repeatable finder&#39;.\r\n\r\nIf Grails code (not DB constraint) is used to enforce a property, then in addition to &#39;repeatable finder&#39; more obvious concurrency concerns need to be addressed. (I am not discussing these here.)\r\n \r\n**Finding problems:**\r\n\r\n(*This pertains to broken properties only.  I do not know if repeatable finder causes other issues.*)  \r\n\r\nSo, I think the first step is to identify all properties in the app (EDITED: there will be many of them, potentially too many to examine - so, focusing on domain objects that are likely to change concurrently maybe the key here.), the second step is to identify where and how the application (implicitly or explicitly) uses these properties and how are they enforced.  Code for each of these needs to be examined to verify that repeatable finder is not the issue.\r\n\r\nIt maybe a good idea, to simply enable SQL tracing (as well as tracing of where each HTTP request starts and ends) and examine log traces from identified areas of concern for any table name in the &#39;from&#39; part of SQL.  If such table shows up more than once\r\nper request this may be a good indication of a problem.  Good Functional Test coverage could help in generating such log files.\r\n\r\nThis is obviously a not trivial process and there are no bullet proof solutions here.\r\n\r\n**Fixing problems:**\r\n\r\nUsing discard() on objects from previous queries or running the query which relies on certain application property/properties in a separate hibernate session should solve the problem.  Using new session approach should be more bullet proof. I do not recommend using refresh() here.\r\n(Note,  hibernate provides no public API to query for objects attached to its session.)  \r\nUsing new session will expose the application to \r\nsome new problems like LazyInitalizationException or DupicateKeyException.  These are trivial by comparison. \r\n\r\nSIDE NOTE:  I personally consider framework design decision which causes code to break when additional query is added: a terrible design flaw.\r\n\r\nIt is interesting to compare Hibernate against Active Record (which I know much less about).  Hibernate took the ORM purist approach of trying to make RDBMS into OO,  Active Record took the &#39;share nothing&#39; approach of staying closer to DB and \r\nhaving DB deal with more complex concurrency issues.   \r\nSure, in Active Record node.children.first().parent != parent but is that such a bad thing?   \r\nI admit to not understanding the reasons behind hibernate decision to not refresh objects in its cache when the new query is executed.\r\nHave they been concerned about side effects?  Can Hibernate and Grails be lobbied to change that?  Because that seems to be the BEST long term solution. (Edited 9/24/2014: my efforts to have Hibernate resolve the issue have failed.)\r\n\r\nADDED (2014/08/12):\r\nIt could also helpful to rethink design of your Grails app and use GORM/Hibernate only as a very thin persistence layer.  Designing such layer with a tight control over what queries are issued during each request should minimize this problem.  This is obviously not what Grails framework advocates, (EDITED 9/24/2014 and it will only reduce not eliminate the problem.) \r\n\r\nAfter lot of thinking about it, I seems to me that this maybe a major logical hole in Grails/Hibernate technology stack. There is really no good solution if you care about concurrency, you should be concerned.","title":"Strategies for dealing with concurrency issues caused by stale Domain Objects (Grails/GORM/Hibernate)","body":"<p>Here is my own attempt to answer this question.</p>\n\n<p>(<strong>ADDED 9/24/2014</strong> There is simply no good solution to this problem.  Sadly, HHH-9367 JIRA ticket has been rejected by Hibernate as 'not a bug'. The only solution suggested in that ticket was to use refresh (I assume that would require changing all queries to something that looks like: </p>\n\n<pre><code>BankAccount.findAllBy...(...).each{ it.refresh() }\n</code></pre>\n\n<p>Personally, I do not agree that this is a meaningful solution.)  </p>\n\n<p>As I have explained above, if Hibernate/GORM query returns a set of DomainObjects and some of these\nobjects are already in hibernate session (populated by previous queries) the query will return these old objects, and these objects will not be automatically refreshed.  This can cause some hard to spot concurrency issues.  I call it Repeatable Finder problem.</p>\n\n<p>This has nothing to do with 2nd level cache.  This problem is caused by how hibernate works even without the 2nd level cache configured.  (EDITED 9/24/2014: And, this is not any ORM, any DB application issue, the issue is specific to use of Hibernate).</p>\n\n<p><strong>Implications to your application:</strong></p>\n\n<p>(<em>I can only explain the impacts I know of,  I am not claiming that these are the only impacts</em>). </p>\n\n<p>Domain objects typically have a set of associated constraints/logical rules that need to hold across typically several records and are enforced by either the application or the database itself. I will borrow a term from FP and testing and will call these 'properties'.  </p>\n\n<p>Example properties:\nIn the above BankAccount example,  name uniqueness (enforced by DB) is a property (for example, you may use it in defining equals() method), if money is transferred between accounts, \nthe total amount of money in these accounts needs to be a constant - this is a property.<br>\nIf I modify my BankAccount class and add 'branch' association to it:</p>\n\n<pre><code>BankBranch branch\n</code></pre>\n\n<p>Then this is a property as well:  </p>\n\n<pre><code>assert BankAccount.findAllByBranch(b).every{it.branch == b}.\n</code></pre>\n\n<p>(EDITED, This property should technically be enforced by DB and implementation of the finder method and developer may assume it is 'safe' and not breakable. In fact most 'where' criteria and 'joins' used by your app somewhere underneath hibernate define properties of similar nature.).</p>\n\n<p>Repeatable finder problem can cause most of the properties to break under concurrent use (scary stuff!).  For example I reiterate here a piece of code I wrote in\nthe relevant JIRA ticket linked in the question:</p>\n\n<pre><code>... a1 has branch b1\nBankAccount.findByName('a1')\n\n... concurrently a1 is moved to branch b2\n//fails because stale a1.branch == b1\nassert BankAccount.findAllByBranch(b2).every{it.branch == b2} \n</code></pre>\n\n<p>Your application probably uses explicit and implicit properties and may have logic to enforce them.\nFor example, application may rely on names being unique and will exception or return wrong results if they are not unique (maybe name on its own is used to define equals()).  This is explicit usage.\nApplication may provide list views and it will be very embarrassing if list shows property violated (list for accounts under branch b2 shows some accounts with branch b1 - this is implicit usage).  Any of such cases will be affected by \"repeatable finder'.</p>\n\n<p>If Grails code (not DB constraint) is used to enforce a property, then in addition to 'repeatable finder' more obvious concurrency concerns need to be addressed. (I am not discussing these here.)</p>\n\n<p><strong>Finding problems:</strong></p>\n\n<p>(<em>This pertains to broken properties only.  I do not know if repeatable finder causes other issues.</em>)  </p>\n\n<p>So, I think the first step is to identify all properties in the app (EDITED: there will be many of them, potentially too many to examine - so, focusing on domain objects that are likely to change concurrently maybe the key here.), the second step is to identify where and how the application (implicitly or explicitly) uses these properties and how are they enforced.  Code for each of these needs to be examined to verify that repeatable finder is not the issue.</p>\n\n<p>It maybe a good idea, to simply enable SQL tracing (as well as tracing of where each HTTP request starts and ends) and examine log traces from identified areas of concern for any table name in the 'from' part of SQL.  If such table shows up more than once\nper request this may be a good indication of a problem.  Good Functional Test coverage could help in generating such log files.</p>\n\n<p>This is obviously a not trivial process and there are no bullet proof solutions here.</p>\n\n<p><strong>Fixing problems:</strong></p>\n\n<p>Using discard() on objects from previous queries or running the query which relies on certain application property/properties in a separate hibernate session should solve the problem.  Using new session approach should be more bullet proof. I do not recommend using refresh() here.\n(Note,  hibernate provides no public API to query for objects attached to its session.)<br>\nUsing new session will expose the application to \nsome new problems like LazyInitalizationException or DupicateKeyException.  These are trivial by comparison. </p>\n\n<p>SIDE NOTE:  I personally consider framework design decision which causes code to break when additional query is added: a terrible design flaw.</p>\n\n<p>It is interesting to compare Hibernate against Active Record (which I know much less about).  Hibernate took the ORM purist approach of trying to make RDBMS into OO,  Active Record took the 'share nothing' approach of staying closer to DB and \nhaving DB deal with more complex concurrency issues.<br>\nSure, in Active Record node.children.first().parent != parent but is that such a bad thing?<br>\nI admit to not understanding the reasons behind hibernate decision to not refresh objects in its cache when the new query is executed.\nHave they been concerned about side effects?  Can Hibernate and Grails be lobbied to change that?  Because that seems to be the BEST long term solution. (Edited 9/24/2014: my efforts to have Hibernate resolve the issue have failed.)</p>\n\n<p>ADDED (2014/08/12):\nIt could also helpful to rethink design of your Grails app and use GORM/Hibernate only as a very thin persistence layer.  Designing such layer with a tight control over what queries are issued during each request should minimize this problem.  This is obviously not what Grails framework advocates, (EDITED 9/24/2014 and it will only reduce not eliminate the problem.) </p>\n\n<p>After lot of thinking about it, I seems to me that this maybe a major logical hole in Grails/Hibernate technology stack. There is really no good solution if you care about concurrency, you should be concerned.</p>\n"},{"tags":[],"owner":{"account_id":15267,"reputation":366,"user_id":3588231,"display_name":"Tim van der Leeuw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408366639,"creation_date":1408366639,"answer_id":25363868,"question_id":25106636,"body_markdown":"As far as I can understand the question, the problem boils down to insufficient database transaction isolation.\r\n\r\nI would also suggest that this problem can exist in anyapplicatoin, with any framework for database access.\r\n\r\nWithin a database transaction you have to live on the assumption that you are the only accessor to the database and have a consistent view of the database within that transaction.\r\n\r\nUpon commit you might find that state has changed in a way incompatible with changes you made, and your transaction will roll back.\r\n\r\nIf you only did read-only access, then you have to still live on the assumption of consistency within the scope of your transaction, and the database shielding you from other concurrent modifications.\r\n\r\nHibernate&#39;s 2nd level cache spans transactions, so it should be cleared when there are concurrent modifications and in any case, a database can be modified by other applications, thus the 2nd level cache should be used with care.\r\n\r\nBut you said already the 2nd level cache is not your problem. Well, I agree. Your problem sounds like an insufficient degree of transaction isolation in your database. Can this be addressed?\r\n","title":"Strategies for dealing with concurrency issues caused by stale Domain Objects (Grails/GORM/Hibernate)","body":"<p>As far as I can understand the question, the problem boils down to insufficient database transaction isolation.</p>\n\n<p>I would also suggest that this problem can exist in anyapplicatoin, with any framework for database access.</p>\n\n<p>Within a database transaction you have to live on the assumption that you are the only accessor to the database and have a consistent view of the database within that transaction.</p>\n\n<p>Upon commit you might find that state has changed in a way incompatible with changes you made, and your transaction will roll back.</p>\n\n<p>If you only did read-only access, then you have to still live on the assumption of consistency within the scope of your transaction, and the database shielding you from other concurrent modifications.</p>\n\n<p>Hibernate's 2nd level cache spans transactions, so it should be cleared when there are concurrent modifications and in any case, a database can be modified by other applications, thus the 2nd level cache should be used with care.</p>\n\n<p>But you said already the 2nd level cache is not your problem. Well, I agree. Your problem sounds like an insufficient degree of transaction isolation in your database. Can this be addressed?</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1535297622,"creation_date":1411642911,"answer_id":26036941,"question_id":25106636,"body_markdown":"Repeatable reads are a way of [preventing lost updates][1] in a database transaction. Most applications employ a read-modify-write data access pattern breaking database transaction boundaries and [pushing transactions to the application-layer][2]. \r\n\r\nHibernate employs a [transactional write-behind policy][3], so entity state transitions are delayed as much as possible, to reduce database locking associated to DML statements.\r\n\r\nIn an application-level transaction, the first level cache acts as a application-level repeatable read mechanism. But while database locking ensures repeatable read consistency when using physical transactions, for application-level transactions you need an application-level locking mechanism. That&#39;s why you should always use optimistic locking in the first place.\r\n\r\nOptimistic locking allows others to modify your previously loaded data while preventing you from updating stale data. \r\n\r\nIt&#39;s not the equals that&#39;s broken. The database constraints should always enforce unique business keys anyway.\r\n\r\nFor operations concerning account updates you should either use a single database transaction that ensures safety through lock acquisitions (SELECT FOR UPDATE) or use optimistic locking, so when others update your data you will get a stale entity exception.\r\n\r\nI could [replicate your use case][4]. The entity is reused from the 1st-level cache. For SQL queries you have the freedom of loading concurrent changes. As long as you load entities for updating them later you should be fine, because the optimistic locking mechanism will prevent you from saving stale data.\r\n\r\nIf you use HQL/JPQL just for viewing then you might want to use projections instead.\r\n\r\n\r\n  [1]: http://vladmihalcea.com/a-beginners-guide-to-database-locking-and-the-lost-update-phenomena/\r\n  [2]: http://vladmihalcea.com/preventing-lost-updates-in-long-conversations/\r\n  [3]: http://vladmihalcea.com/a-beginners-guide-to-jpahibernate-flush-strategies/\r\n  [4]: https://github.com/vladmihalcea/hibernate-master-class/blob/master/core/src/test/java/com/vladmihalcea/hibernate/masterclass/laboratory/concurrency/EntityFirstLevelCacheReuseTest.java","title":"Strategies for dealing with concurrency issues caused by stale Domain Objects (Grails/GORM/Hibernate)","body":"<p>Repeatable reads are a way of <a href=\"http://vladmihalcea.com/a-beginners-guide-to-database-locking-and-the-lost-update-phenomena/\" rel=\"nofollow noreferrer\">preventing lost updates</a> in a database transaction. Most applications employ a read-modify-write data access pattern breaking database transaction boundaries and <a href=\"http://vladmihalcea.com/preventing-lost-updates-in-long-conversations/\" rel=\"nofollow noreferrer\">pushing transactions to the application-layer</a>. </p>\n\n<p>Hibernate employs a <a href=\"http://vladmihalcea.com/a-beginners-guide-to-jpahibernate-flush-strategies/\" rel=\"nofollow noreferrer\">transactional write-behind policy</a>, so entity state transitions are delayed as much as possible, to reduce database locking associated to DML statements.</p>\n\n<p>In an application-level transaction, the first level cache acts as a application-level repeatable read mechanism. But while database locking ensures repeatable read consistency when using physical transactions, for application-level transactions you need an application-level locking mechanism. That's why you should always use optimistic locking in the first place.</p>\n\n<p>Optimistic locking allows others to modify your previously loaded data while preventing you from updating stale data. </p>\n\n<p>It's not the equals that's broken. The database constraints should always enforce unique business keys anyway.</p>\n\n<p>For operations concerning account updates you should either use a single database transaction that ensures safety through lock acquisitions (SELECT FOR UPDATE) or use optimistic locking, so when others update your data you will get a stale entity exception.</p>\n\n<p>I could <a href=\"https://github.com/vladmihalcea/hibernate-master-class/blob/master/core/src/test/java/com/vladmihalcea/hibernate/masterclass/laboratory/concurrency/EntityFirstLevelCacheReuseTest.java\" rel=\"nofollow noreferrer\">replicate your use case</a>. The entity is reused from the 1st-level cache. For SQL queries you have the freedom of loading concurrent changes. As long as you load entities for updating them later you should be fine, because the optimistic locking mechanism will prevent you from saving stale data.</p>\n\n<p>If you use HQL/JPQL just for viewing then you might want to use projections instead.</p>\n"},{"tags":[],"owner":{"account_id":1445162,"reputation":4907,"user_id":1363927,"accept_rate":85,"display_name":"Merlin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654123103,"creation_date":1452806033,"answer_id":34799852,"question_id":25106636,"body_markdown":"A good article from **Marc Palmer** about these problems. I found it Very interesting. At the end of the article he gives somes &quot;solutions&quot; that could fit the needs of some of you.\r\n\r\n[The false optimism of GORM and Hibernate][1] ([archive][2])\r\n\r\n\r\n  [1]: http://www.anyware.co.uk/2005/2012/11/12/the-false-optimism-of-gorm-and-hibernate/\r\n  [2]: https://web.archive.org/web/20170503034144/http://www.anyware.co.uk/2005/2012/11/12/the-false-optimism-of-gorm-and-hibernate/\r\n","title":"Strategies for dealing with concurrency issues caused by stale Domain Objects (Grails/GORM/Hibernate)","body":"<p>A good article from <strong>Marc Palmer</strong> about these problems. I found it Very interesting. At the end of the article he gives somes &quot;solutions&quot; that could fit the needs of some of you.</p>\n<p><a href=\"http://www.anyware.co.uk/2005/2012/11/12/the-false-optimism-of-gorm-and-hibernate/\" rel=\"nofollow noreferrer\">The false optimism of GORM and Hibernate</a> (<a href=\"https://web.archive.org/web/20170503034144/http://www.anyware.co.uk/2005/2012/11/12/the-false-optimism-of-gorm-and-hibernate/\" rel=\"nofollow noreferrer\">archive</a>)</p>\n"}],"owner":{"account_id":4456728,"reputation":344,"user_id":3626747,"display_name":"robert_peszek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3153,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"answer_count":4,"score":21,"last_activity_date":1654123103,"creation_date":1407082767,"question_id":25106636,"body_markdown":"I like to refer to this issue as &#39;repeatable finder&#39; problem because it it in some sense opposite to &#39;non repeatable read&#39;.  Because hibernate reuses objects attached to its session, results from a finder may include some old versions of objects which are now stale.\r\n\r\nThe problem is technically a Hibernate design gotcha, but since Hibernate session is implicit in Grails and Grails domain objects are long lived (HTTP request is long to me) I decided to ask this question in the context of Grails/GORM.\r\n\r\nI would like to ask experts here if there are any commonly established strategies for dealing with this issue.\r\n\r\nConsider this:\r\n\r\n        class BankAccount {\r\n          String name\r\n          Float amount\r\n  \r\n          static constraints = {\r\n            name unique: true\r\n          }\r\n        }\r\n\r\nand &#39;componentA&#39; code:\r\n\r\n        BankAccount.findByName(&#39;a1&#39;)\r\n\r\n&#39;componentB code:\r\n\r\n        def result = BankAccount.findAll()\r\n\r\nAssume that componentA executes first, followed by some other logic, followed by componentB, result from component B is rendered by a view.  Components A and B do not want to know much about each other.\r\n\r\nThis way componentB result contains old version of BankAccount &#39;a1&#39;. \r\n\r\nMany very embarrassing things can happen.  If BankAccounts have been concurrently modified the presented list can, for example, contain 2 items with name &#39;a1&#39; (uniqueness looks gone to the user!) or money transfers between accounts can show as partially applied transaction (if money was transferred from a2 to a1 then it will show deducted from a2 but not there yet for a1). \r\nThese problems are embarrassing and can reduce user confidence in the application.\r\n\r\n(**ADDED 9/24/2014:** Here is an eye opening example, this assert may fail:\r\n\r\n      BankAccount.findAllByName(&#39;a1&#39;).every{ it.name == &#39;a1&#39; }\r\n\r\nExamples of how that happens can be found in any of the linked JIRA tickets or my blog. \r\n)\r\n\r\n(**ADDED 9/24/2014:**  NOTE: a seemingly sound advice to use database enforced unique keys in implementing equals() method is not concurrency safe.  You may get 2 object with the same value of the &#39;business key&#39; which are different.)\r\n\r\nPossible solutions seem to be add a lot of discard() calls or a lot of withNewSession() calls and deal with LazyIntializationExeption and DuplicateKeyException, etc.   \r\nBut if I do that why am I using hibernate/GORM?  Calling refresh on each object returned from each query seems simply ridiculous.\r\n\r\nMy current thinking is that using short sessions/withNewSession in certain critical areas are the best approach but it does not solve the issue in all cases, just is some critical application areas.\r\n\r\nIs this something Grails applications have to live with? \r\nCan you point me to any documentation/discussion about this issue?\r\n\r\n**EDITED 9/24/2014**:\r\nRelevant Grails JIRA ticket: https://jira.grails.org/browse/GRAILS-11645,\r\nHibernate JIRA: https://hibernate.atlassian.net/browse/HHH-9367 (has sadly been rejected),\r\nmy blog has more detailed examples: http://rpeszek.blogspot.com/2014/08/i-dont-like-hibernategrails-part-2.html\r\n       \r\n**ADDED 10/17/2014:**  I got several replies stating that this is any DB application/any ORM issue. This not correct.\r\n\r\nIt is true that this problem can be avoided by using long transactions (Hibernate session length/HTTP request length) + setting higher than normal DB isolation level of REPEATABLE READ. This solution is simply not acceptable (why do we have transnational services if for the application to work properly we need HTTP request long transactions!?)\r\n\r\nDB applications and other ORMs will not exhibit this problem. They will not need long transactions to work and the problem is prevent with just READ COMMITTED.\r\n\r\nIt is now 2 months, since I posted this question here, and it has not received a meaningful answer. That is simply because this issue has no answer. It is something that Hibernate can fix, not something a Grails application can fix.**ADDED 10/17/2014-END**\r\n\r\n","title":"Strategies for dealing with concurrency issues caused by stale Domain Objects (Grails/GORM/Hibernate)","body":"<p>I like to refer to this issue as 'repeatable finder' problem because it it in some sense opposite to 'non repeatable read'.  Because hibernate reuses objects attached to its session, results from a finder may include some old versions of objects which are now stale.</p>\n\n<p>The problem is technically a Hibernate design gotcha, but since Hibernate session is implicit in Grails and Grails domain objects are long lived (HTTP request is long to me) I decided to ask this question in the context of Grails/GORM.</p>\n\n<p>I would like to ask experts here if there are any commonly established strategies for dealing with this issue.</p>\n\n<p>Consider this:</p>\n\n<pre><code>    class BankAccount {\n      String name\n      Float amount\n\n      static constraints = {\n        name unique: true\n      }\n    }\n</code></pre>\n\n<p>and 'componentA' code:</p>\n\n<pre><code>    BankAccount.findByName('a1')\n</code></pre>\n\n<p>'componentB code:</p>\n\n<pre><code>    def result = BankAccount.findAll()\n</code></pre>\n\n<p>Assume that componentA executes first, followed by some other logic, followed by componentB, result from component B is rendered by a view.  Components A and B do not want to know much about each other.</p>\n\n<p>This way componentB result contains old version of BankAccount 'a1'. </p>\n\n<p>Many very embarrassing things can happen.  If BankAccounts have been concurrently modified the presented list can, for example, contain 2 items with name 'a1' (uniqueness looks gone to the user!) or money transfers between accounts can show as partially applied transaction (if money was transferred from a2 to a1 then it will show deducted from a2 but not there yet for a1). \nThese problems are embarrassing and can reduce user confidence in the application.</p>\n\n<p>(<strong>ADDED 9/24/2014:</strong> Here is an eye opening example, this assert may fail:</p>\n\n<pre><code>  BankAccount.findAllByName('a1').every{ it.name == 'a1' }\n</code></pre>\n\n<p>Examples of how that happens can be found in any of the linked JIRA tickets or my blog. \n)</p>\n\n<p>(<strong>ADDED 9/24/2014:</strong>  NOTE: a seemingly sound advice to use database enforced unique keys in implementing equals() method is not concurrency safe.  You may get 2 object with the same value of the 'business key' which are different.)</p>\n\n<p>Possible solutions seem to be add a lot of discard() calls or a lot of withNewSession() calls and deal with LazyIntializationExeption and DuplicateKeyException, etc.<br>\nBut if I do that why am I using hibernate/GORM?  Calling refresh on each object returned from each query seems simply ridiculous.</p>\n\n<p>My current thinking is that using short sessions/withNewSession in certain critical areas are the best approach but it does not solve the issue in all cases, just is some critical application areas.</p>\n\n<p>Is this something Grails applications have to live with? \nCan you point me to any documentation/discussion about this issue?</p>\n\n<p><strong>EDITED 9/24/2014</strong>:\nRelevant Grails JIRA ticket: <a href=\"https://jira.grails.org/browse/GRAILS-11645\">https://jira.grails.org/browse/GRAILS-11645</a>,\nHibernate JIRA: <a href=\"https://hibernate.atlassian.net/browse/HHH-9367\">https://hibernate.atlassian.net/browse/HHH-9367</a> (has sadly been rejected),\nmy blog has more detailed examples: <a href=\"http://rpeszek.blogspot.com/2014/08/i-dont-like-hibernategrails-part-2.html\">http://rpeszek.blogspot.com/2014/08/i-dont-like-hibernategrails-part-2.html</a></p>\n\n<p><strong>ADDED 10/17/2014:</strong>  I got several replies stating that this is any DB application/any ORM issue. This not correct.</p>\n\n<p>It is true that this problem can be avoided by using long transactions (Hibernate session length/HTTP request length) + setting higher than normal DB isolation level of REPEATABLE READ. This solution is simply not acceptable (why do we have transnational services if for the application to work properly we need HTTP request long transactions!?)</p>\n\n<p>DB applications and other ORMs will not exhibit this problem. They will not need long transactions to work and the problem is prevent with just READ COMMITTED.</p>\n\n<p>It is now 2 months, since I posted this question here, and it has not received a meaningful answer. That is simply because this issue has no answer. It is something that Hibernate can fix, not something a Grails application can fix.<strong>ADDED 10/17/2014-END</strong></p>\n"},{"tags":["java","android","android-studio","android-fragments","bundle"],"comments":[{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1654116569,"post_id":72467697,"comment_id":128018012,"body_markdown":"You create ` ProfileFragment profileFragment = new ProfileFragment();`, set arguments but don&#39;t use it furthermore.","body":"You create ` ProfileFragment profileFragment = new ProfileFragment();`, set arguments but don&#39;t use it furthermore."},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1654116614,"post_id":72467697,"comment_id":128018028,"body_markdown":"This question can help - https://stackoverflow.com/questions/14727759/send-values-from-viewpager-activity-to-a-fragment-by-bundle","body":"This question can help - <a href=\"https://stackoverflow.com/questions/14727759/send-values-from-viewpager-activity-to-a-fragment-by-bundle\" title=\"send values from viewpager activity to a fragment by bundle\">stackoverflow.com/questions/14727759/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25390928,"reputation":201,"user_id":19201926,"display_name":"Andrei Naumets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654123041,"creation_date":1654123041,"answer_id":72468734,"question_id":72467697,"body_markdown":"Use only one Activity with ViewModel","title":"Why can&#39;t I get data from my activity to my fragment?","body":"<p>Use only one Activity with ViewModel</p>\n"}],"owner":{"account_id":19919616,"reputation":63,"user_id":14595783,"display_name":"Calas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654123041,"creation_date":1654115275,"question_id":72467697,"body_markdown":"I have a MainActivity that sends login information such as name, date ,email to a SecondActivity. From that SecondActivity I am trying to add that information to a fragment called ProfileFragment that is in a tab of SecondActivity. I keep getting an error saying:\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.os.Bundle.getString(java.lang.String)&#39; on a null object reference.\r\n\r\nBelow is the method in my MainActivity that handles the a datepicker dialog button, and also the submit button that puts the data into a bundle and sends it to SecondActivity. There is no problem here.\r\n\r\n```\r\n@Override\r\n    public void onClick(View v) {\r\n        //When the date button is clicked, display a calendar dialog\r\n        if (v.getId() == R.id.dateButton) {\r\n            final Calendar cal = Calendar.getInstance();\r\n            mYear = cal.get(Calendar.YEAR);\r\n            mMonth = cal.get(Calendar.MONTH);\r\n            mDay = cal.get(Calendar.DAY_OF_MONTH);\r\n            DatePickerDialog datePickerDialog = new DatePickerDialog(this, new DatePickerDialog.OnDateSetListener() {\r\n\r\n                @Override\r\n                public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\r\n\r\n                    dateText.setText(dayOfMonth + &quot;-&quot; + (monthOfYear + 1) + &quot;-&quot; + year);\r\n\r\n                }\r\n            }, mYear, mMonth, mDay);\r\n            datePickerDialog.show();\r\n        }\r\n        //When submit button is clicked. Validate form data and go to next activity\r\n        if (v.getId() == R.id.submitButton) {\r\n            //Create intent for ProfileActivity\r\n            Intent SecondActivity = new Intent(MainActivity.this, SecondActivity.class);\r\n            //Create a new bundle\r\n            Bundle bundle = new Bundle();\r\n\r\n            //Convert all input data to strings\r\n            String stringName = name.getText().toString();\r\n            String stringEmail = email.getText().toString();\r\n            String stringUserName = userName.getText().toString();\r\n            String stringDate = dateText.getText().toString();\r\n            String stringDescription = description.getText().toString();\r\n            String stringOccupation = occupation.getText().toString();\r\n\r\n            try {   //If age/name/email/username is invalid or under 18 then return\r\n                if ( !validateEmail() || !checkAge(convertDate(stringDate)) || !validateName() || !validateUserName() || !validateDescription() || !validateOccupation()) {\r\n                    validateEmail();\r\n                    validateName();\r\n                    validateUserName();\r\n                    validateDescription();\r\n                    validateOccupation();\r\n                    checkAge(convertDate(stringDate));\r\n                    return;\r\n                    //If age/name/username/email is valid then bundle data to send to ProfileActivity\r\n                } else {\r\n                    //get users age\r\n                    int age = getAge(convertDate(stringDate));\r\n                    //add data to bundle\r\n                    bundle.putString(&quot;name&quot;, stringName);\r\n                    bundle.putString(&quot;email&quot;, stringEmail);\r\n                    bundle.putString(&quot;date&quot;, stringDate);\r\n                    bundle.putString(&quot;userName&quot;, stringUserName);\r\n                    bundle.putString(&quot;description&quot;,stringDescription);\r\n                    bundle.putString(&quot;occupation&quot;,stringOccupation);\r\n                    bundle.putInt(&quot;age&quot;, age);\r\n                    //Start activity\r\n                    SecondActivity.putExtras(bundle);\r\n                    startActivity(SecondActivity);\r\n                }\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\nhere is my SecondActivity\r\n\r\n```\r\npublic class SecondActivity extends AppCompatActivity {\r\nprivate TabLayout tabLayout;\r\nprivate ViewPager2 viewPager2;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_second);\r\n\r\n        tabLayout = findViewById(R.id.tablayout);\r\n        viewPager2 = findViewById(R.id.viewpager2);\r\n\r\n        viewPager2.setAdapter(createAdapter());\r\n\r\n        //create profilefragment\r\n        ProfileFragment profileFragment = new ProfileFragment();\r\n\r\n        //get bundle\r\n\r\n            Bundle bundle = getIntent().getExtras();\r\n            if(bundle != null) {\r\n            String stringDate = bundle.getString(&quot;date&quot;);\r\n            String stringName = bundle.getString(&quot;name&quot;);\r\n            String stringEmail = bundle.getString(&quot;email&quot;);\r\n            String stringUserName = bundle.getString(&quot;userName&quot;);\r\n            String stringDescription = bundle.getString(&quot;description&quot;);\r\n            String stringOccupation = bundle.getString(&quot;occupation&quot;);\r\n            int userAge = bundle.getInt(&quot;age&quot;);\r\n\r\n            //set arguments\r\n            profileFragment.setArguments(bundle);\r\n        }\r\n    }\r\n\r\n    private VpAdapter createAdapter(){\r\n        VpAdapter adapter = new VpAdapter(this);\r\n        return adapter;\r\n    }\r\n}\r\n\r\nclass VpAdapter extends FragmentStateAdapter {\r\n    public VpAdapter(FragmentActivity fa){\r\n        super(fa);\r\n    }\r\n    private static int NUM_ITEMS = 1;\r\n    @Override\r\n    public Fragment createFragment(int position){\r\n        Fragment fragment = null;\r\n\r\n        switch(position){\r\n            case 0:\r\n                fragment = new ProfileFragment();\r\n                break;\r\n        }\r\n        return fragment;\r\n    }\r\n    @Override\r\n    public int getItemCount() {\r\n        return NUM_ITEMS;\r\n    }\r\n}\r\n```\r\n\r\nAnd then here is my ProfileFragment\r\n\r\n```\r\npublic class ProfileFragment extends Fragment {\r\n    TextView welcome;\r\n    TextView name;\r\n    TextView age;\r\n    TextView description;\r\n    TextView occupation;\r\n\r\npublic ProfileFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n@Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_profile, container, false);\r\n\r\n        //Receive data from secondActivity through getArguments\r\n\r\n        String mStringDate = getArguments().getString(&quot;date&quot;);\r\n        String mStringName = getArguments().getString(&quot;name&quot;);\r\n        String mStringEmail = getArguments().getString(&quot;email&quot;);\r\n        String mStringUserName = getArguments().getString(&quot;userName&quot;);\r\n        String mStringDescription = getArguments().getString(&quot;description&quot;);\r\n        String mStringOccupation = getArguments().getString(&quot;occupation&quot;);\r\n        int mUserAge = getArguments().getInt(&quot;age&quot;);\r\n\r\n        welcome = v.findViewById(R.id.welcome);\r\n        name = v.findViewById(R.id.user_name);\r\n        age = v.findViewById(R.id.age);\r\n        description = v.findViewById(R.id.description);\r\n        occupation = v.findViewById(R.id.occupation);\r\n\r\n\r\n        //set username in welcome message.\r\n        welcome.setText(&quot;Welcome &quot; + mStringUserName);\r\n\r\n        //set username, age, description, and job into the profile fields\r\n        name.append(mStringUserName);\r\n        age.append(String.valueOf(mUserAge));\r\n        description.append(mStringDescription);\r\n        occupation.append(mStringOccupation);\r\n\r\n        // Inflate the layout for this fragment\r\n        return v;\r\n    }\r\n```\r\nMy error points to this line &quot;String mStringDate = getArguments().getString(&quot;date&quot;);&quot; where I get a null object reference. Can anyone please help me?","title":"Why can&#39;t I get data from my activity to my fragment?","body":"<p>I have a MainActivity that sends login information such as name, date ,email to a SecondActivity. From that SecondActivity I am trying to add that information to a fragment called ProfileFragment that is in a tab of SecondActivity. I keep getting an error saying:</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.os.Bundle.getString(java.lang.String)' on a null object reference.</p>\n<p>Below is the method in my MainActivity that handles the a datepicker dialog button, and also the submit button that puts the data into a bundle and sends it to SecondActivity. There is no problem here.</p>\n<pre><code>@Override\n    public void onClick(View v) {\n        //When the date button is clicked, display a calendar dialog\n        if (v.getId() == R.id.dateButton) {\n            final Calendar cal = Calendar.getInstance();\n            mYear = cal.get(Calendar.YEAR);\n            mMonth = cal.get(Calendar.MONTH);\n            mDay = cal.get(Calendar.DAY_OF_MONTH);\n            DatePickerDialog datePickerDialog = new DatePickerDialog(this, new DatePickerDialog.OnDateSetListener() {\n\n                @Override\n                public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\n\n                    dateText.setText(dayOfMonth + &quot;-&quot; + (monthOfYear + 1) + &quot;-&quot; + year);\n\n                }\n            }, mYear, mMonth, mDay);\n            datePickerDialog.show();\n        }\n        //When submit button is clicked. Validate form data and go to next activity\n        if (v.getId() == R.id.submitButton) {\n            //Create intent for ProfileActivity\n            Intent SecondActivity = new Intent(MainActivity.this, SecondActivity.class);\n            //Create a new bundle\n            Bundle bundle = new Bundle();\n\n            //Convert all input data to strings\n            String stringName = name.getText().toString();\n            String stringEmail = email.getText().toString();\n            String stringUserName = userName.getText().toString();\n            String stringDate = dateText.getText().toString();\n            String stringDescription = description.getText().toString();\n            String stringOccupation = occupation.getText().toString();\n\n            try {   //If age/name/email/username is invalid or under 18 then return\n                if ( !validateEmail() || !checkAge(convertDate(stringDate)) || !validateName() || !validateUserName() || !validateDescription() || !validateOccupation()) {\n                    validateEmail();\n                    validateName();\n                    validateUserName();\n                    validateDescription();\n                    validateOccupation();\n                    checkAge(convertDate(stringDate));\n                    return;\n                    //If age/name/username/email is valid then bundle data to send to ProfileActivity\n                } else {\n                    //get users age\n                    int age = getAge(convertDate(stringDate));\n                    //add data to bundle\n                    bundle.putString(&quot;name&quot;, stringName);\n                    bundle.putString(&quot;email&quot;, stringEmail);\n                    bundle.putString(&quot;date&quot;, stringDate);\n                    bundle.putString(&quot;userName&quot;, stringUserName);\n                    bundle.putString(&quot;description&quot;,stringDescription);\n                    bundle.putString(&quot;occupation&quot;,stringOccupation);\n                    bundle.putInt(&quot;age&quot;, age);\n                    //Start activity\n                    SecondActivity.putExtras(bundle);\n                    startActivity(SecondActivity);\n                }\n            } catch (ParseException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n</code></pre>\n<p>here is my SecondActivity</p>\n<pre><code>public class SecondActivity extends AppCompatActivity {\nprivate TabLayout tabLayout;\nprivate ViewPager2 viewPager2;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_second);\n\n        tabLayout = findViewById(R.id.tablayout);\n        viewPager2 = findViewById(R.id.viewpager2);\n\n        viewPager2.setAdapter(createAdapter());\n\n        //create profilefragment\n        ProfileFragment profileFragment = new ProfileFragment();\n\n        //get bundle\n\n            Bundle bundle = getIntent().getExtras();\n            if(bundle != null) {\n            String stringDate = bundle.getString(&quot;date&quot;);\n            String stringName = bundle.getString(&quot;name&quot;);\n            String stringEmail = bundle.getString(&quot;email&quot;);\n            String stringUserName = bundle.getString(&quot;userName&quot;);\n            String stringDescription = bundle.getString(&quot;description&quot;);\n            String stringOccupation = bundle.getString(&quot;occupation&quot;);\n            int userAge = bundle.getInt(&quot;age&quot;);\n\n            //set arguments\n            profileFragment.setArguments(bundle);\n        }\n    }\n\n    private VpAdapter createAdapter(){\n        VpAdapter adapter = new VpAdapter(this);\n        return adapter;\n    }\n}\n\nclass VpAdapter extends FragmentStateAdapter {\n    public VpAdapter(FragmentActivity fa){\n        super(fa);\n    }\n    private static int NUM_ITEMS = 1;\n    @Override\n    public Fragment createFragment(int position){\n        Fragment fragment = null;\n\n        switch(position){\n            case 0:\n                fragment = new ProfileFragment();\n                break;\n        }\n        return fragment;\n    }\n    @Override\n    public int getItemCount() {\n        return NUM_ITEMS;\n    }\n}\n</code></pre>\n<p>And then here is my ProfileFragment</p>\n<pre><code>public class ProfileFragment extends Fragment {\n    TextView welcome;\n    TextView name;\n    TextView age;\n    TextView description;\n    TextView occupation;\n\npublic ProfileFragment() {\n        // Required empty public constructor\n    }\n\n@Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View v = inflater.inflate(R.layout.fragment_profile, container, false);\n\n        //Receive data from secondActivity through getArguments\n\n        String mStringDate = getArguments().getString(&quot;date&quot;);\n        String mStringName = getArguments().getString(&quot;name&quot;);\n        String mStringEmail = getArguments().getString(&quot;email&quot;);\n        String mStringUserName = getArguments().getString(&quot;userName&quot;);\n        String mStringDescription = getArguments().getString(&quot;description&quot;);\n        String mStringOccupation = getArguments().getString(&quot;occupation&quot;);\n        int mUserAge = getArguments().getInt(&quot;age&quot;);\n\n        welcome = v.findViewById(R.id.welcome);\n        name = v.findViewById(R.id.user_name);\n        age = v.findViewById(R.id.age);\n        description = v.findViewById(R.id.description);\n        occupation = v.findViewById(R.id.occupation);\n\n\n        //set username in welcome message.\n        welcome.setText(&quot;Welcome &quot; + mStringUserName);\n\n        //set username, age, description, and job into the profile fields\n        name.append(mStringUserName);\n        age.append(String.valueOf(mUserAge));\n        description.append(mStringDescription);\n        occupation.append(mStringOccupation);\n\n        // Inflate the layout for this fragment\n        return v;\n    }\n</code></pre>\n<p>My error points to this line &quot;String mStringDate = getArguments().getString(&quot;date&quot;);&quot; where I get a null object reference. Can anyone please help me?</p>\n"},{"tags":["java","hadoop","bigdata","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":13472617,"reputation":425,"user_id":10060134,"display_name":"Niko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636361550,"creation_date":1636361550,"answer_id":69880794,"question_id":69873085,"body_markdown":"Maybe you want to pass your `.csv` as an argument to your program ? \r\nSomething like:\r\n```\r\ndef main(args: Array[String]): Unit = {\r\n  val ldbcSample = ParameterTool.fromArgs(args).getRequired(&quot;ldbc_sample&quot;)\r\n  ...\r\n}\r\n```\r\nor you can make your `.properties` file with different arguments:\r\n```\r\nldbc_sample: /ldbc_sample/edges.csv\r\ntopic_source: TOPIC_NAME\r\n```\r\n\r\n```\r\nval jobParams = ParameterTool.fromArgs(args)\r\nval jobArgs = ParameterTool.fromPropertiesFile(jobParams.getRequired(&quot;properties_file_path&quot;))\r\n```\r\n","title":"Flink can&#39;t access files in JAR","body":"<p>Maybe you want to pass your <code>.csv</code> as an argument to your program ?\nSomething like:</p>\n<pre><code>def main(args: Array[String]): Unit = {\n  val ldbcSample = ParameterTool.fromArgs(args).getRequired(&quot;ldbc_sample&quot;)\n  ...\n}\n</code></pre>\n<p>or you can make your <code>.properties</code> file with different arguments:</p>\n<pre><code>ldbc_sample: /ldbc_sample/edges.csv\ntopic_source: TOPIC_NAME\n</code></pre>\n<pre><code>val jobParams = ParameterTool.fromArgs(args)\nval jobArgs = ParameterTool.fromPropertiesFile(jobParams.getRequired(&quot;properties_file_path&quot;))\n</code></pre>\n"}],"owner":{"account_id":13239018,"reputation":108,"user_id":9560200,"display_name":"nanobot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654122625,"creation_date":1636293459,"question_id":69873085,"body_markdown":"I tried to run a JAR in a flink cluster but I get this FileNotFound Exception.\r\n\r\n```\r\nCaused by: java.io.FileNotFoundException: File file:/tmp/flink-web-88bf3f41-94fc-40bd-a865-bb0e6d5ac95c/flink-web-upload/82227475-523d-4607-8ab2-09bae8602248-tutorial-1.0-jar-with-dependencies.jar!/ldbc_sample/edges.csv does not exist or the user running Flink (&#39;userA&#39;) has insufficient permissions to access it.\r\n\tat org.apache.flink.core.fs.local.LocalFileSystem.getFileStatus(LocalFileSystem.java:106)\r\n```\r\n\r\nThe csv files are located in a folder in the resources directory of the project.\r\n\r\n\r\n\r\nI access the file path by:\r\n\r\n```java\r\nURL resource = Helper.class.getClassLoader().getResource(&quot;ldbc_sample&quot;);\r\nreturn resource.getPath();\r\n```\r\n\r\n\r\n\r\n\r\nI opened the jar and made sure that the files definitely exist, and I also run it locally, and it worked.\r\nWhat do I have to do, to make sure that flink can access my csv?","title":"Flink can&#39;t access files in JAR","body":"<p>I tried to run a JAR in a flink cluster but I get this FileNotFound Exception.</p>\n<pre><code>Caused by: java.io.FileNotFoundException: File file:/tmp/flink-web-88bf3f41-94fc-40bd-a865-bb0e6d5ac95c/flink-web-upload/82227475-523d-4607-8ab2-09bae8602248-tutorial-1.0-jar-with-dependencies.jar!/ldbc_sample/edges.csv does not exist or the user running Flink ('userA') has insufficient permissions to access it.\n    at org.apache.flink.core.fs.local.LocalFileSystem.getFileStatus(LocalFileSystem.java:106)\n</code></pre>\n<p>The csv files are located in a folder in the resources directory of the project.</p>\n<p>I access the file path by:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL resource = Helper.class.getClassLoader().getResource(&quot;ldbc_sample&quot;);\nreturn resource.getPath();\n</code></pre>\n<p>I opened the jar and made sure that the files definitely exist, and I also run it locally, and it worked.\nWhat do I have to do, to make sure that flink can access my csv?</p>\n"},{"tags":["java","maven","h2","liquibase"],"comments":[{"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":0,"creation_date":1411425891,"post_id":25984157,"comment_id":40689371,"body_markdown":"[Javadocs for h2](http://www.h2database.com/javadoc/org/h2/constant/DbSettings.html) state that &quot;**Setting this to &quot;false&quot; is experimental**&quot; (emphasis mine).","body":"<a href=\"http://www.h2database.com/javadoc/org/h2/constant/DbSettings.html\" rel=\"nofollow noreferrer\">Javadocs for h2</a> state that &quot;<b>Setting this to &quot;false&quot; is experimental</b>&quot; (emphasis mine)."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1411464161,"post_id":25984157,"comment_id":40701982,"body_markdown":"I&#39;m not sure, who created the table? Liquibase? If yes, I guess you need to add the tag `liquibase`.","body":"I&#39;m not sure, who created the table? Liquibase? If yes, I guess you need to add the tag <code>liquibase</code>."},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":0,"creation_date":1476059747,"post_id":25984157,"comment_id":67180144,"body_markdown":"@ThomasMueller, I&#39;m also interested in having tables in my db&#39;s in lower-case instead of upper. Is there a possibility h2 could have a feature to either ignore case on queries or to create tables with lower case (reverse of present)? When writing SQL my IDE will complete everything in upper.","body":"@ThomasMueller, I&#39;m also interested in having tables in my db&#39;s in lower-case instead of upper. Is there a possibility h2 could have a feature to either ignore case on queries or to create tables with lower case (reverse of present)? When writing SQL my IDE will complete everything in upper."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1476169132,"post_id":25984157,"comment_id":67222923,"body_markdown":"@BrettRyan not sure if I understand the problem and the reasons why you want to do that, I would probably ask a new question.","body":"@BrettRyan not sure if I understand the problem and the reasons why you want to do that, I would probably ask a new question."},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":0,"creation_date":1476169764,"post_id":25984157,"comment_id":67223193,"body_markdown":"lol, just saw you here and thought I&#39;d cheat :) The issue arises when one uses the auto-complete feature of a sql editor (like in NetBeans). Inserting completed references will put them in the same case as the names in the schema. I have always preferred all lower case identifiers.","body":"lol, just saw you here and thought I&#39;d cheat :) The issue arises when one uses the auto-complete feature of a sql editor (like in NetBeans). Inserting completed references will put them in the same case as the names in the schema. I have always preferred all lower case identifiers."}],"answers":[{"tags":[],"owner":{"account_id":5476486,"reputation":121,"user_id":4354377,"display_name":"philosophman1978"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1447678469,"creation_date":1447678469,"answer_id":33735916,"question_id":25984157,"body_markdown":"Try to use in H2 connection URL setting &quot;database_to_upper=false&quot;. ","title":"H2 Database: How to have lowercase for tablename?","body":"<p>Try to use in H2 connection URL setting \"database_to_upper=false\". </p>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1611231215,"creation_date":1611231215,"answer_id":65827189,"question_id":25984157,"body_markdown":"Use **DATABASE_TO_LOWER=TRUE** in h2 connection URL. Example : \r\n\r\n    url: jdbc:h2:mem:testdb;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;CASE_INSENSITIVE_IDENTIFIERS=TRUE;","title":"H2 Database: How to have lowercase for tablename?","body":"<p>Use <strong>DATABASE_TO_LOWER=TRUE</strong> in h2 connection URL. Example :</p>\n<pre><code>url: jdbc:h2:mem:testdb;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;CASE_INSENSITIVE_IDENTIFIERS=TRUE;\n</code></pre>\n"}],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14102,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1654120796,"creation_date":1411425647,"question_id":25984157,"body_markdown":"- I want to keep all my tablenames as lowercase. example `person`\r\n\r\n- I use [*Liquibase*][1] to setup my database and it looks like  \r\n    ```xml\r\n    &lt;databaseChangeLog\r\n    \t\txmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n    \t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\txsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n             http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd&quot;&gt;\r\n    \t&lt;changeSet author=&quot;harit&quot; id=&quot;09222014.0639&quot;&gt;\r\n    \t\t&lt;comment&gt;Add Person Table&lt;/comment&gt;\r\n    \t\t&lt;createTable tableName=&quot;person&quot;&gt;\r\n    \t\t\t&lt;column name=&quot;id&quot; type=&quot;INT&quot;/&gt;\r\n    \t\t\t&lt;column name=&quot;firstName&quot; type=&quot;varchar(255)&quot;/&gt;\r\n    \t\t\t&lt;column name=&quot;lastName&quot; type=&quot;varchar(255)&quot;/&gt;\r\n    \t\t&lt;/createTable&gt;\r\n    \t&lt;/changeSet&gt;\r\n    &lt;/databaseChangeLog&gt;  \r\n    ```\r\nI use `H2` database to run my integration tests and set up in `pom.xml` as  \r\n\r\n       &lt;cargo.datasource.datasource.earth&gt;\r\n    \t\tcargo.datasource.driver=${h2.driver}|\r\n    \t\tcargo.datasource.url=${datasource.url}|\r\n    \t\tcargo.datasource.jndi=${datasource.jndi}|\r\n    \t\tcargo.datasource.username=${h2.user}|\r\n    \t\tcargo.datasource.password=${h2.user}\r\n    \t&lt;/cargo.datasource.datasource.earth&gt;\r\n\r\nwhere `datasource.url` looks like  \r\n\r\n    &lt;datasource.url&gt;jdbc:h2:${project.build.directory}/earth;DATABASE_TO_UPPER=false&lt;/datasource.url&gt;\r\n\r\nWhen I run `mvn`, I see  \r\n\r\n    INFO 9/22/14 3:32 PM:liquibase: Successfully acquired change log lock\r\n    INFO 9/22/14 3:32 PM:liquibase: Dropping Database Objects in schema: UNIT-TESTING-PU.PUBLIC\r\n    INFO 9/22/14 3:32 PM:liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG\r\n    INFO 9/22/14 3:32 PM:liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG\r\n    INFO 9/22/14 3:32 PM:liquibase: Successfully released change log lock\r\n    INFO 9/22/14 3:32 PM:liquibase: Successfully acquired change log lock\r\n    INFO 9/22/14 3:32 PM:liquibase: Reading from PUBLIC.DATABASECHANGELOG\r\n    INFO 9/22/14 3:32 PM:liquibase: Reading from PUBLIC.DATABASECHANGELOG\r\n    INFO 9/22/14 3:32 PM:liquibase: Reading from PUBLIC.DATABASECHANGELOG\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/01.xml::09222014.0639::harit: Reading from PUBLIC.DATABASECHANGELOG\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/01.xml::09222014.0639::harit: Table person created\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/01.xml::09222014.0639::harit: ChangeSet liquibase/2014/01.xml::09222014.0639::harit ran successfully in 1ms\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/01.xml::09222014.0639::harit: Reading from PUBLIC.DATABASECHANGELOG\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: Reading from PUBLIC.DATABASECHANGELOG\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: ChangeSet liquibase/2014/02.xml::09222014.0844::harit ran successfully in 3ms\r\n    INFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: Reading from PUBLIC.DATABASECHANGELOG\r\n    INFO 9/22/14 3:32 PM:liquibase: Successfully released change log lock\r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.929 sec\r\n    Running com.learner.integration.HelloIT\r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.443 sec\r\n    Running com.learner.integration.PersonsIT\r\n    [INFO] [talledLocalContainer] 15:32:59,145 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-15) SQL Error: 42102, SQLState: 42S02\r\n    [INFO] [talledLocalContainer] 15:32:59,146 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-15) Table &quot;Person&quot; not found; SQL statement:\r\n    [INFO] [talledLocalContainer] select person0_.id as id1_0_, person0_.firstName as firstNam2_0_, person0_.lastName as lastName3_0_ from Person person0_ [42102-181]\r\n    [INFO] [talledLocalContainer] 15:32:59,153 ERROR [org.jboss.as.ejb3.invocation] (default task-15) JBAS014134: EJB Invocation failed on component PersonManager for method public java.util.List com.learner.business.manager.PersonManager.getPersons(): javax.ejb.EJBException: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n    [INFO] [talledLocalContainer] \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:190) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\r\n    [INFO] [talledLocalContainer] \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\r\n    [INFO] [talledLocalContainer] \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\r\n    [INFO] [talledLocalContainer] \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\r\n    [INFO] [talledLocalContainer] \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    [INFO] [talledLocalContainer] \tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\r\n    [INFO] [talledLocalContainer] \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n\r\n\r\nAs you can see, liquibase created `person` table and I used `DATABASE_TO_UPPER=false` for `H2` which made it from `PERSON` to `Person`  \r\n\r\n**Question**  \r\nHow can I tell `H2` that my tables are all lowercase -&gt; `person` and **not** `Person`?\r\n\r\n\r\n  [1]: http://www.liquibase.org","title":"H2 Database: How to have lowercase for tablename?","body":"<ul>\n<li><p>I want to keep all my tablenames as lowercase. example <code>person</code></p>\n</li>\n<li><p>I use <a href=\"http://www.liquibase.org\" rel=\"nofollow noreferrer\"><em>Liquibase</em></a> to setup my database and it looks like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd&quot;&gt;\n    &lt;changeSet author=&quot;harit&quot; id=&quot;09222014.0639&quot;&gt;\n        &lt;comment&gt;Add Person Table&lt;/comment&gt;\n        &lt;createTable tableName=&quot;person&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;INT&quot;/&gt;\n            &lt;column name=&quot;firstName&quot; type=&quot;varchar(255)&quot;/&gt;\n            &lt;column name=&quot;lastName&quot; type=&quot;varchar(255)&quot;/&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;  \n</code></pre>\n</li>\n</ul>\n<p>I use <code>H2</code> database to run my integration tests and set up in <code>pom.xml</code> as</p>\n<pre><code>   &lt;cargo.datasource.datasource.earth&gt;\n        cargo.datasource.driver=${h2.driver}|\n        cargo.datasource.url=${datasource.url}|\n        cargo.datasource.jndi=${datasource.jndi}|\n        cargo.datasource.username=${h2.user}|\n        cargo.datasource.password=${h2.user}\n    &lt;/cargo.datasource.datasource.earth&gt;\n</code></pre>\n<p>where <code>datasource.url</code> looks like</p>\n<pre><code>&lt;datasource.url&gt;jdbc:h2:${project.build.directory}/earth;DATABASE_TO_UPPER=false&lt;/datasource.url&gt;\n</code></pre>\n<p>When I run <code>mvn</code>, I see</p>\n<pre><code>INFO 9/22/14 3:32 PM:liquibase: Successfully acquired change log lock\nINFO 9/22/14 3:32 PM:liquibase: Dropping Database Objects in schema: UNIT-TESTING-PU.PUBLIC\nINFO 9/22/14 3:32 PM:liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG\nINFO 9/22/14 3:32 PM:liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG\nINFO 9/22/14 3:32 PM:liquibase: Successfully released change log lock\nINFO 9/22/14 3:32 PM:liquibase: Successfully acquired change log lock\nINFO 9/22/14 3:32 PM:liquibase: Reading from PUBLIC.DATABASECHANGELOG\nINFO 9/22/14 3:32 PM:liquibase: Reading from PUBLIC.DATABASECHANGELOG\nINFO 9/22/14 3:32 PM:liquibase: Reading from PUBLIC.DATABASECHANGELOG\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/01.xml::09222014.0639::harit: Reading from PUBLIC.DATABASECHANGELOG\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/01.xml::09222014.0639::harit: Table person created\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/01.xml::09222014.0639::harit: ChangeSet liquibase/2014/01.xml::09222014.0639::harit ran successfully in 1ms\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/01.xml::09222014.0639::harit: Reading from PUBLIC.DATABASECHANGELOG\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: Reading from PUBLIC.DATABASECHANGELOG\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: New row inserted into person\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: ChangeSet liquibase/2014/02.xml::09222014.0844::harit ran successfully in 3ms\nINFO 9/22/14 3:32 PM:liquibase: liquibase/changelog.xml: liquibase/2014/02.xml::09222014.0844::harit: Reading from PUBLIC.DATABASECHANGELOG\nINFO 9/22/14 3:32 PM:liquibase: Successfully released change log lock\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.929 sec\nRunning com.learner.integration.HelloIT\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.443 sec\nRunning com.learner.integration.PersonsIT\n[INFO] [talledLocalContainer] 15:32:59,145 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-15) SQL Error: 42102, SQLState: 42S02\n[INFO] [talledLocalContainer] 15:32:59,146 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-15) Table &quot;Person&quot; not found; SQL statement:\n[INFO] [talledLocalContainer] select person0_.id as id1_0_, person0_.firstName as firstNam2_0_, person0_.lastName as lastName3_0_ from Person person0_ [42102-181]\n[INFO] [talledLocalContainer] 15:32:59,153 ERROR [org.jboss.as.ejb3.invocation] (default task-15) JBAS014134: EJB Invocation failed on component PersonManager for method public java.util.List com.learner.business.manager.PersonManager.getPersons(): javax.ejb.EJBException: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\n[INFO] [talledLocalContainer]   at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:190) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\n[INFO] [talledLocalContainer]   at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\n[INFO] [talledLocalContainer]   at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\n[INFO] [talledLocalContainer]   at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\n[INFO] [talledLocalContainer]   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n[INFO] [talledLocalContainer]   at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]\n[INFO] [talledLocalContainer]   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n</code></pre>\n<p>As you can see, liquibase created <code>person</code> table and I used <code>DATABASE_TO_UPPER=false</code> for <code>H2</code> which made it from <code>PERSON</code> to <code>Person</code></p>\n<p><strong>Question</strong><br />\nHow can I tell <code>H2</code> that my tables are all lowercase -&gt; <code>person</code> and <strong>not</strong> <code>Person</code>?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1372601899,"post_id":17391239,"comment_id":25248394,"body_markdown":"What prevents you from running a thread(s) for the loop?","body":"What prevents you from running a thread(s) for the loop?"},{"owner":{"account_id":358051,"reputation":18070,"user_id":698583,"accept_rate":83,"display_name":"wullxz"},"score":0,"creation_date":1372602101,"post_id":17391239,"comment_id":25248454,"body_markdown":"The fact that I haven&#39;t learned much about threads yet.","body":"The fact that I haven&#39;t learned much about threads yet."},{"owner":{"account_id":336387,"reputation":2593,"user_id":664010,"accept_rate":83,"display_name":"Stefan"},"score":0,"creation_date":1372602203,"post_id":17391239,"comment_id":25248481,"body_markdown":"then now its time to learn ;-) But special answers like swingworker are already given!","body":"then now its time to learn ;-) But special answers like swingworker are already given!"}],"answers":[{"tags":[],"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496855692,"creation_date":1372601845,"answer_id":17391263,"question_id":17391239,"body_markdown":"Use a [SwingWorker][1]. Basically, all UI event handling is always done on a single specific thread, called the Event Dispatch Thread, and doing anything else in that thread prevents UI events (mouse clicks, keyboard input etc) from being processed and thus makes the UI &quot;hang&quot;.\r\n\r\nThe `SwingWorker` class was added to the JRE specifically for doing time-consuming tasks &quot;in the background&quot; (not in the UI thread) and allows you to easily do your heavy lifting someplace else, optionally update the UI at intervals (think progress bar), and, again optionally, update the UI once you&#39;re done. You do this simply by overriding specific methods (`doInBackground()` and `done()`) and you never need to directly deal with threading.\r\n\r\nThe [SwingWorker Javadoc page][2] has everything you need to start using it, including example code.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html","title":"Process other GUI events while in a loop","body":"<p>Use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">SwingWorker</a>. Basically, all UI event handling is always done on a single specific thread, called the Event Dispatch Thread, and doing anything else in that thread prevents UI events (mouse clicks, keyboard input etc) from being processed and thus makes the UI \"hang\".</p>\n\n<p>The <code>SwingWorker</code> class was added to the JRE specifically for doing time-consuming tasks \"in the background\" (not in the UI thread) and allows you to easily do your heavy lifting someplace else, optionally update the UI at intervals (think progress bar), and, again optionally, update the UI once you're done. You do this simply by overriding specific methods (<code>doInBackground()</code> and <code>done()</code>) and you never need to directly deal with threading.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">SwingWorker Javadoc page</a> has everything you need to start using it, including example code.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1654120578,"creation_date":1372602075,"answer_id":17391295,"question_id":17391239,"body_markdown":"**No**, unlike Qt framework (which is C++ based), Java does not support manually processing and/or dispatching UI events (at least, at time of writting, 2022).\r\n\r\nIn other words, don&#39;t block the EDT (Event Dispatch Thread) - the GUI will &#39;freeze&#39; when that happens (and there is not way out yet).\r\nInstead of calling `Thread.sleep(n)` implement:\r\n* a Swing `Timer` for repeating tasks \r\n* or a `SwingWorker` for long running tasks.\r\n\r\nSee [Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/) for more details.\r\n","title":"Process other GUI events while in a loop","body":"<p><strong>No</strong>, unlike Qt framework (which is C++ based), Java does not support manually processing and/or dispatching UI events (at least, at time of writting, 2022).</p>\n<p>In other words, don't block the EDT (Event Dispatch Thread) - the GUI will 'freeze' when that happens (and there is not way out yet).\nInstead of calling <code>Thread.sleep(n)</code> implement:</p>\n<ul>\n<li>a Swing <code>Timer</code> for repeating tasks</li>\n<li>or a <code>SwingWorker</code> for long running tasks.</li>\n</ul>\n<p>See <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n"}],"owner":{"account_id":358051,"reputation":18070,"user_id":698583,"accept_rate":83,"display_name":"wullxz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1283,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17391295,"answer_count":2,"score":2,"last_activity_date":1654120578,"creation_date":1372601650,"question_id":17391239,"body_markdown":"I&#39;m coding a Java 7 Swing application which calls a non-GUI class to do something in a loop.  Unfortunately, I can&#39;t interact with the GUI while the loop is running.  Is it possible to force the processing of GUI events while in that loop?\r\n\r\nI&#39;m searching for something that tells the JVM to process other GUI events like button clicks before continuing with the loop.\r\n\r\nIs there something in Java 7 Swing that does what I want or do I really have to mess with multi-threading by myself (I&#39;m not that far yet...)?","title":"Process other GUI events while in a loop","body":"<p>I'm coding a Java 7 Swing application which calls a non-GUI class to do something in a loop.  Unfortunately, I can't interact with the GUI while the loop is running.  Is it possible to force the processing of GUI events while in that loop?</p>\n\n<p>I'm searching for something that tells the JVM to process other GUI events like button clicks before continuing with the loop.</p>\n\n<p>Is there something in Java 7 Swing that does what I want or do I really have to mess with multi-threading by myself (I'm not that far yet...)?</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","dockerfile"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1654091540,"post_id":72462995,"comment_id":128009340,"body_markdown":"You&#39;re running `docker build` out of the `src/main/Docker/dev` directory, but your actual source files are several directories above this.  Move the `docker-compose.yml` and `Dockerfile` up to the top level of your repository, next to the `pom.xml` file.","body":"You&#39;re running <code>docker build</code> out of the <code>src&#47;main&#47;Docker&#47;dev</code> directory, but your actual source files are several directories above this.  Move the <code>docker-compose.yml</code> and <code>Dockerfile</code> up to the top level of your repository, next to the <code>pom.xml</code> file."},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1654091657,"post_id":72462995,"comment_id":128009386,"body_markdown":"when you have the source as many `*.jar` and target as single `app.jar` , it is not right!","body":"when you have the source as many <code>*.jar</code> and target as single <code>app.jar</code> , it is not right!"},{"owner":{"account_id":17086924,"reputation":85,"user_id":12363920,"display_name":"Piotror"},"score":0,"creation_date":1654097266,"post_id":72462995,"comment_id":128011663,"body_markdown":"@DavidMaze but is it possible to refer to a jar file using ../../ in Dockerfile ARG?","body":"@DavidMaze but is it possible to refer to a jar file using ../../ in Dockerfile ARG?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1654100831,"post_id":72462995,"comment_id":128013012,"body_markdown":"No, you can never `COPY` from a higher-level directory than the Dockerfile (or more correctly the `build:` or `build: { context: }` directory).","body":"No, you can never <code>COPY</code> from a higher-level directory than the Dockerfile (or more correctly the <code>build:</code> or <code>build: { context: }</code> directory)."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1654100946,"post_id":72462995,"comment_id":128013058,"body_markdown":"Piotror: a dockerfile cannot reference files in a higher-level directory. This is because `docker build` doesn&#39;t actually do the building itself -- it packages up the identified directory and everything _below_ it (but not above) and sends them as &#39;context&#39; to the _daemon_ which does the build -- using _only_ the &#39;context&#39;. You could exclude the `src` tree that isn&#39;t needed using [`.dockerignore`](https://docs.docker.com/engine/reference/builder/#dockerignore-file)","body":"Piotror: a dockerfile cannot reference files in a higher-level directory. This is because <code>docker build</code> doesn&#39;t actually do the building itself -- it packages up the identified directory and everything <i>below</i> it (but not above) and sends them as &#39;context&#39; to the <i>daemon</i> which does the build -- using <i>only</i> the &#39;context&#39;. You could exclude the <code>src</code> tree that isn&#39;t needed using <a href=\"https://docs.docker.com/engine/reference/builder/#dockerignore-file\" rel=\"nofollow noreferrer\"><code>.dockerignore</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":25447107,"reputation":66,"user_id":19249160,"display_name":"urwah1996"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654120230,"creation_date":1654120230,"answer_id":72468441,"question_id":72462995,"body_markdown":"I guess you can try using the Makefile to automate some work for you?\r\n\r\nhere is a sample implementation:\r\n```\r\nPOM_VERSION = $(shell mvn help:evaluate -Dexpression=project.version -q -DforceStdout)\r\n\r\nbuild:\r\n\tcp target/app-$(POM_VERSION).jar src/main/Docker/dev/my-app.jar\r\n\r\ndocker-build: build\r\n    cd src/main/Docker/dev &amp;&amp; docker-compose up\r\n```\r\nplace this Makefile in root dir. \r\n\r\nand Dockerfile should be:\r\n\r\n```\r\nFROM openjdk:11-jdk\r\nEXPOSE 8010\r\nADD my-app.jar my-app.jar\r\nENTRYPOINT [&quot;java&quot;, &quot;-Dspring.profiles.active=dev&quot;, &quot;-jar&quot;, &quot;/my-app.jar&quot;]\r\n```\r\n\r\nnow simply run: `make docker-build`\r\n\r\nmake sure that the makefile has tabular spaces","title":"How to set path to jar file in Dockerfile?","body":"<p>I guess you can try using the Makefile to automate some work for you?</p>\n<p>here is a sample implementation:</p>\n<pre><code>POM_VERSION = $(shell mvn help:evaluate -Dexpression=project.version -q -DforceStdout)\n\nbuild:\n    cp target/app-$(POM_VERSION).jar src/main/Docker/dev/my-app.jar\n\ndocker-build: build\n    cd src/main/Docker/dev &amp;&amp; docker-compose up\n</code></pre>\n<p>place this Makefile in root dir.</p>\n<p>and Dockerfile should be:</p>\n<pre><code>FROM openjdk:11-jdk\nEXPOSE 8010\nADD my-app.jar my-app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-Dspring.profiles.active=dev&quot;, &quot;-jar&quot;, &quot;/my-app.jar&quot;]\n</code></pre>\n<p>now simply run: <code>make docker-build</code></p>\n<p>make sure that the makefile has tabular spaces</p>\n"}],"owner":{"account_id":17086924,"reputation":85,"user_id":12363920,"display_name":"Piotror"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654120230,"creation_date":1654091402,"question_id":72462995,"body_markdown":"I&#39;m trying to run Spring application by **docker compose up** and then I have error \r\n\r\n&gt; ERROR [2/2] COPY target/*.jar app.jar\r\n\r\nMy thoughts are that the path is wrong in Dockerfile to jar file.\r\n\r\ndocker-compose.yml\r\n \r\n\r\n    version: &#39;3.8&#39;\r\n    services:\r\n      app-backend:\r\n        image: my-app\r\n        ports:\r\n          - &quot;8010:8080&quot;\r\n      build:\r\n        context: .\r\n        dockerfile: &quot;Dockerfile&quot;\r\nDockerfile\r\n\r\n    FROM openjdk:11-jdk\r\n    EXPOSE 8010\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} my-app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-Dspring.profiles.active=dev&quot;, &quot;-jar&quot;, &quot;/my-app.jar&quot;]\r\n\r\nAnd here is a structure of my project\r\n\r\n[![structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NybDk.png\r\n\r\nSo my question is: what is wrong with this path or what causes this error?","title":"How to set path to jar file in Dockerfile?","body":"<p>I'm trying to run Spring application by <strong>docker compose up</strong> and then I have error</p>\n<blockquote>\n<p>ERROR [2/2] COPY target/*.jar app.jar</p>\n</blockquote>\n<p>My thoughts are that the path is wrong in Dockerfile to jar file.</p>\n<p>docker-compose.yml</p>\n<pre><code>version: '3.8'\nservices:\n  app-backend:\n    image: my-app\n    ports:\n      - &quot;8010:8080&quot;\n  build:\n    context: .\n    dockerfile: &quot;Dockerfile&quot;\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM openjdk:11-jdk\nEXPOSE 8010\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} my-app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-Dspring.profiles.active=dev&quot;, &quot;-jar&quot;, &quot;/my-app.jar&quot;]\n</code></pre>\n<p>And here is a structure of my project</p>\n<p><a href=\"https://i.stack.imgur.com/NybDk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NybDk.png\" alt=\"structure\" /></a></p>\n<p>So my question is: what is wrong with this path or what causes this error?</p>\n"},{"tags":["java","spring","hibernate","spring-data","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":150208,"reputation":1565,"user_id":1266633,"display_name":"xMort"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1489062244,"creation_date":1489062244,"answer_id":42695340,"question_id":42695339,"body_markdown":"I finally figured it out. I will post it here for others:\r\n\r\nI created a new class that implements `org.hibernate.boot.spi.SessionFactoryBuilderFactory` interface. In this class I can get reference to the `TypeResolver` from metadata and register my custom type.\r\n\r\n    package com.example.configuration;\r\n    \r\n    import org.hibernate.boot.SessionFactoryBuilder;\r\n    import org.hibernate.boot.spi.MetadataImplementor;\r\n    import org.hibernate.boot.spi.SessionFactoryBuilderFactory;\r\n    import org.hibernate.boot.spi.SessionFactoryBuilderImplementor;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import com.example.CustomType;\r\n    \r\n    public class CustomDataTypesRegistration implements SessionFactoryBuilderFactory {\r\n    \r\n        private static final org.slf4j.Logger logger = LoggerFactory.getLogger(CustomDataTypesRegistration.class);\r\n    \r\n        @Override\r\n        public SessionFactoryBuilder getSessionFactoryBuilder(final MetadataImplementor metadata, final SessionFactoryBuilderImplementor defaultBuilder) {\r\n            logger.info(&quot;Registering custom Hibernate data types&quot;);\r\n            metadata.getTypeResolver().registerTypeOverride(CustomType.INSTANCE);\r\n            return defaultBuilder;\r\n        }\r\n    }\r\n\r\nThe class must be then registered via [Java ServiceLoader mechanism][1] by adding full name of the class with its packages into the file with name `org.hibernate.boot.spi.SessionFactoryBuilderFactory` into the java moduleâ€™s `META-INF/services` directory:\r\n\r\n    src/main/resources/META-INF/services/org.hibernate.boot.spi.SessionFactoryBuilderFactory\r\n\r\nThe file can contain multiple lines, each referencing different class. In this case it is:\r\n\r\n    com.example.configuration.CustomDataTypesRegistration \r\n\r\nThis way the Spring Data starts and custom type is successfully registered during Hibernate initialization.\r\n\r\nWhat helped my quite a lot was this [SO answer][2] that deals with schema export in Hibernate 5 under Spring Data.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\r\n  [2]: https://stackoverflow.com/questions/34612019/programmatic-schemaexport-schemaupdate-with-hibernate-5-and-spring-4","title":"How should I register custom Hibernate 5 data type (BasicType) when Spring Data is used?","body":"<p>I finally figured it out. I will post it here for others:</p>\n\n<p>I created a new class that implements <code>org.hibernate.boot.spi.SessionFactoryBuilderFactory</code> interface. In this class I can get reference to the <code>TypeResolver</code> from metadata and register my custom type.</p>\n\n<pre><code>package com.example.configuration;\n\nimport org.hibernate.boot.SessionFactoryBuilder;\nimport org.hibernate.boot.spi.MetadataImplementor;\nimport org.hibernate.boot.spi.SessionFactoryBuilderFactory;\nimport org.hibernate.boot.spi.SessionFactoryBuilderImplementor;\nimport org.slf4j.LoggerFactory;\n\nimport com.example.CustomType;\n\npublic class CustomDataTypesRegistration implements SessionFactoryBuilderFactory {\n\n    private static final org.slf4j.Logger logger = LoggerFactory.getLogger(CustomDataTypesRegistration.class);\n\n    @Override\n    public SessionFactoryBuilder getSessionFactoryBuilder(final MetadataImplementor metadata, final SessionFactoryBuilderImplementor defaultBuilder) {\n        logger.info(\"Registering custom Hibernate data types\");\n        metadata.getTypeResolver().registerTypeOverride(CustomType.INSTANCE);\n        return defaultBuilder;\n    }\n}\n</code></pre>\n\n<p>The class must be then registered via <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"noreferrer\">Java ServiceLoader mechanism</a> by adding full name of the class with its packages into the file with name <code>org.hibernate.boot.spi.SessionFactoryBuilderFactory</code> into the java moduleâ€™s <code>META-INF/services</code> directory:</p>\n\n<pre><code>src/main/resources/META-INF/services/org.hibernate.boot.spi.SessionFactoryBuilderFactory\n</code></pre>\n\n<p>The file can contain multiple lines, each referencing different class. In this case it is:</p>\n\n<pre><code>com.example.configuration.CustomDataTypesRegistration \n</code></pre>\n\n<p>This way the Spring Data starts and custom type is successfully registered during Hibernate initialization.</p>\n\n<p>What helped my quite a lot was this <a href=\"https://stackoverflow.com/questions/34612019/programmatic-schemaexport-schemaupdate-with-hibernate-5-and-spring-4\">SO answer</a> that deals with schema export in Hibernate 5 under Spring Data.</p>\n"},{"tags":[],"owner":{"account_id":12219814,"reputation":111,"user_id":8919186,"display_name":"alex.tran"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1525322728,"creation_date":1525322728,"answer_id":50147121,"question_id":42695339,"body_markdown":"I use JPA with Spring 4.3.9 and Hibernate 5.0.5 and I use custom property **EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS** with Spring \r\nLocalContainerEntityManagerFactoryBean to override Hibernate BasicTypes.\r\n\r\n    final Properties jpaProperties = new Properties();\r\n    jpaProperties.put(EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS, new TypeContributorList() {\r\n\t\t@Override\r\n\t    public List&lt;TypeContributor&gt; getTypeContributors() {\r\n\t\t     return Lists.newArrayList(new CustomDateTimeTypeContributor());\r\n        }\r\n    });\r\n    final LocalContainerEntityManagerFactoryBean factoryBean = new \r\n    LocalContainerEntityManagerFactoryBean();\r\n    factoryBean.setJpaProperties(jpaProperties);\r\n    factoryBean.setJpaVendorAdapter(jpaVendorAdapter);\r\n    return factoryBean;","title":"How should I register custom Hibernate 5 data type (BasicType) when Spring Data is used?","body":"<p>I use JPA with Spring 4.3.9 and Hibernate 5.0.5 and I use custom property <strong>EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS</strong> with Spring \nLocalContainerEntityManagerFactoryBean to override Hibernate BasicTypes.</p>\n\n<pre><code>final Properties jpaProperties = new Properties();\njpaProperties.put(EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS, new TypeContributorList() {\n    @Override\n    public List&lt;TypeContributor&gt; getTypeContributors() {\n         return Lists.newArrayList(new CustomDateTimeTypeContributor());\n    }\n});\nfinal LocalContainerEntityManagerFactoryBean factoryBean = new \nLocalContainerEntityManagerFactoryBean();\nfactoryBean.setJpaProperties(jpaProperties);\nfactoryBean.setJpaVendorAdapter(jpaVendorAdapter);\nreturn factoryBean;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":470389,"reputation":5201,"user_id":877570,"accept_rate":40,"display_name":"user64141"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1533488936,"creation_date":1533488936,"answer_id":51696508,"question_id":42695339,"body_markdown":"There&#39;s a much easier solution to this -- in fact, it&#39;s just 1 line of code.  You can just use the @TypeDef annotation and thus avoid having to register the custom type:\r\n\r\n    @Entity(name = &quot;Product&quot;)\r\n    @TypeDef(\r\n    \tname = &quot;bitset&quot;,\r\n    \tdefaultForType = BitSet.class,\r\n    \ttypeClass = BitSetType.class\r\n    )\r\n    public static class Product {\r\n    \r\n    \t@Id\r\n    \tprivate Integer id;\r\n    \r\n    \tprivate BitSet bitSet;\r\n\r\n\r\nFor an example, see &quot;Example 11. Using @TypeDef to register a custom Type&quot; in http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html\r\n","title":"How should I register custom Hibernate 5 data type (BasicType) when Spring Data is used?","body":"<p>There's a much easier solution to this -- in fact, it's just 1 line of code.  You can just use the @TypeDef annotation and thus avoid having to register the custom type:</p>\n\n<pre><code>@Entity(name = \"Product\")\n@TypeDef(\n    name = \"bitset\",\n    defaultForType = BitSet.class,\n    typeClass = BitSetType.class\n)\npublic static class Product {\n\n    @Id\n    private Integer id;\n\n    private BitSet bitSet;\n</code></pre>\n\n<p>For an example, see \"Example 11. Using @TypeDef to register a custom Type\" in <a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html</a></p>\n"},{"tags":[],"owner":{"account_id":2800832,"reputation":107,"user_id":2409114,"display_name":"cinereo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1561102436,"creation_date":1561102436,"answer_id":56698849,"question_id":42695339,"body_markdown":"An alternative to what xMort did, can be registering a org.hibernate.boot.model.TypeContributor via ServiceLoader mechanism. \r\n\r\n1. Implement TypeContributor\r\n\r\n```\r\npackage com.example.configuration;\r\n\r\nimport org.hibernate.boot.model.TypeContributions;\r\nimport org.hibernate.boot.model.TypeContributor;\r\nimport org.hibernate.service.ServiceRegistry;\r\n\r\npublic class CustomTypeContributor implements TypeContributor {\r\n    @Override\r\n    public void contribute(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\r\n        typeContributions.contributeType(CustomType.INSTANCE);\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. Create a file org.hibernate.boot.model.TypeContributor into the java moduleâ€™s META-INF/services \r\n\r\n```\r\nsrc/main/resources/META-INF/services/org.hibernate.boot.model.TypeContributor\r\n```\r\n\r\n3. Reference the TypeContributor, file content:\r\n\r\n```\r\nru.eastbanctech.scs.air.transaction.repositories.StringArrayTypeContributor\r\n```\r\n\r\nAs of Hibernate 5.2.17, the code that picks up the TypeContributor service can be found at org.hibernate.boot.model.process.spi.MetadataBuildingProcess#handleTypes.","title":"How should I register custom Hibernate 5 data type (BasicType) when Spring Data is used?","body":"<p>An alternative to what xMort did, can be registering a org.hibernate.boot.model.TypeContributor via ServiceLoader mechanism. </p>\n\n<ol>\n<li>Implement TypeContributor</li>\n</ol>\n\n<pre><code>package com.example.configuration;\n\nimport org.hibernate.boot.model.TypeContributions;\nimport org.hibernate.boot.model.TypeContributor;\nimport org.hibernate.service.ServiceRegistry;\n\npublic class CustomTypeContributor implements TypeContributor {\n    @Override\n    public void contribute(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\n        typeContributions.contributeType(CustomType.INSTANCE);\n    }\n}\n\n</code></pre>\n\n<ol start=\"2\">\n<li>Create a file org.hibernate.boot.model.TypeContributor into the java moduleâ€™s META-INF/services </li>\n</ol>\n\n<pre><code>src/main/resources/META-INF/services/org.hibernate.boot.model.TypeContributor\n</code></pre>\n\n<ol start=\"3\">\n<li>Reference the TypeContributor, file content:</li>\n</ol>\n\n<pre><code>ru.eastbanctech.scs.air.transaction.repositories.StringArrayTypeContributor\n</code></pre>\n\n<p>As of Hibernate 5.2.17, the code that picks up the TypeContributor service can be found at org.hibernate.boot.model.process.spi.MetadataBuildingProcess#handleTypes.</p>\n"},{"tags":[],"owner":{"account_id":6673629,"reputation":513,"user_id":5149064,"accept_rate":0,"display_name":"pto3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623107475,"creation_date":1623107475,"answer_id":67879639,"question_id":42695339,"body_markdown":"There is another solution.\r\n\r\n1. We extend Hibernate `MetadaSources` overriding methods `getMetadataBuilder` by creating `MetadataBuilder`:\r\n\r\n```\r\nimport org.hibernate.boot.MetadataBuilder;\r\nimport org.hibernate.boot.MetadataSources;\r\nimport org.hibernate.boot.internal.MetadataBuilderImpl;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\n\r\npublic class CustomTypeIncludedMetadataSources extends MetadataSources {\r\n\r\n    @Override\r\n    public MetadataBuilder getMetadataBuilder() {\r\n        MetadataBuilder b = new MetadataBuilderImpl(this);\r\n        applyCustomTypes(b);\r\n        return b;\r\n    }\r\n\r\n    @Override\r\n    @Deprecated\r\n    public MetadataBuilder getMetadataBuilder(StandardServiceRegistry serviceRegistry) {\r\n        MetadataBuilder b = new MetadataBuilderImpl(this, serviceRegistry);\r\n        applyCustomTypes(b);\r\n        return b;\r\n    }\r\n\r\n    private void applyCustomTypes(MetadataBuilder b) {\r\n        b.applyBasicType(new CustomType());\r\n        ...\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. Next, in Spring `@Configuration` class we set an instance of our `CustomTypeIncludedMetadataSources` into Spring `LocalSessionFactoryBean`:\r\n\r\n```\r\n@Bean\r\npublic LocalSessionFactoryBean sessionFactory(DataSource dataSource) {\r\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n    sessionFactory.setMetadataSources(new CustomTypeIncludedMetadataSources());\r\n    sessionFactory.setDataSource(dataSource);\r\n    ...\r\n    return sessionFactory;\r\n}\r\n```","title":"How should I register custom Hibernate 5 data type (BasicType) when Spring Data is used?","body":"<p>There is another solution.</p>\n<ol>\n<li>We extend Hibernate <code>MetadaSources</code> overriding methods <code>getMetadataBuilder</code> by creating <code>MetadataBuilder</code>:</li>\n</ol>\n<pre><code>import org.hibernate.boot.MetadataBuilder;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.internal.MetadataBuilderImpl;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\n\npublic class CustomTypeIncludedMetadataSources extends MetadataSources {\n\n    @Override\n    public MetadataBuilder getMetadataBuilder() {\n        MetadataBuilder b = new MetadataBuilderImpl(this);\n        applyCustomTypes(b);\n        return b;\n    }\n\n    @Override\n    @Deprecated\n    public MetadataBuilder getMetadataBuilder(StandardServiceRegistry serviceRegistry) {\n        MetadataBuilder b = new MetadataBuilderImpl(this, serviceRegistry);\n        applyCustomTypes(b);\n        return b;\n    }\n\n    private void applyCustomTypes(MetadataBuilder b) {\n        b.applyBasicType(new CustomType());\n        ...\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>Next, in Spring <code>@Configuration</code> class we set an instance of our <code>CustomTypeIncludedMetadataSources</code> into Spring <code>LocalSessionFactoryBean</code>:</li>\n</ol>\n<pre><code>@Bean\npublic LocalSessionFactoryBean sessionFactory(DataSource dataSource) {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n    sessionFactory.setMetadataSources(new CustomTypeIncludedMetadataSources());\n    sessionFactory.setDataSource(dataSource);\n    ...\n    return sessionFactory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641254301,"creation_date":1641254301,"answer_id":70572707,"question_id":42695339,"body_markdown":"Inspired by @alex.tran&#39;s answer:\r\n\r\n```java\r\n@Bean\r\npublic HibernatePropertiesCustomizer customHibernateTypeRegistrar() {\r\n    return (Map&lt;String, Object&gt; props) -&gt; {\r\n        props.put(\r\n                EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS,\r\n                (TypeContributorList) () -&gt; Arrays.asList((TypeContributor) (typeContributions, serviceRegistry) -&gt; {\r\n                    // Deregister built-in org.hibernate.type.OffsetDateTimeSingleColumnType as it hides our mapping.\r\n                    final BasicTypeRegistry basicTypeRegistry = typeContributions.getTypeConfiguration().getBasicTypeRegistry();\r\n                    Class&lt;OffsetDateTime&gt; clazz = OffsetDateTime.class;\r\n                    basicTypeRegistry.unregister(clazz.getName());\r\n                    basicTypeRegistry.unregister(clazz.getSimpleName());\r\n\r\n                    typeContributions.contributeSqlTypeDescriptor(OffsetDateTimeMsSqlTypeDescriptor.INSTANCE);\r\n                    typeContributions.contributeJavaTypeDescriptor(OffsetDateTimeJavaTypeDescriptor.INSTANCE);\r\n                    typeContributions.contributeType(OffsetDateTimeSingleColumnType.INSTANCE);\r\n                }));\r\n    };\r\n}\r\n```\r\n\r\nMagical constant `EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS` &amp; bean of type `HibernatePropertiesCustomizer` **do the magic** in `EntityManagerFactoryBuilderImpl`:\r\n\r\n\r\n`HibernateJpaAutoConfiguration` -&gt; `HibernateJpaConfiguration` -&gt; `JpaBaseConfiguration` -&gt; `LocalContainerEntityManagerFactoryBean` -&gt; `HibernatePersistenceProvider` -&gt; `Bootstrap.getEntityManagerFactoryBuilder()` -&gt; `EntityManagerFactoryBuilderImpl`.\r\n\r\nSee details: https://discourse.hibernate.org/t/map-ms-sql-server-datetimeoffset-to-java-8-offsetdatetime/5937/7\r\n\r\nSolution keeps Boot magic intact as it plugs into Spring Boot autoconfiguration, also there is no need to redefine lots of beans (like transaction or entity manager).","title":"How should I register custom Hibernate 5 data type (BasicType) when Spring Data is used?","body":"<p>Inspired by @alex.tran's answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic HibernatePropertiesCustomizer customHibernateTypeRegistrar() {\n    return (Map&lt;String, Object&gt; props) -&gt; {\n        props.put(\n                EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS,\n                (TypeContributorList) () -&gt; Arrays.asList((TypeContributor) (typeContributions, serviceRegistry) -&gt; {\n                    // Deregister built-in org.hibernate.type.OffsetDateTimeSingleColumnType as it hides our mapping.\n                    final BasicTypeRegistry basicTypeRegistry = typeContributions.getTypeConfiguration().getBasicTypeRegistry();\n                    Class&lt;OffsetDateTime&gt; clazz = OffsetDateTime.class;\n                    basicTypeRegistry.unregister(clazz.getName());\n                    basicTypeRegistry.unregister(clazz.getSimpleName());\n\n                    typeContributions.contributeSqlTypeDescriptor(OffsetDateTimeMsSqlTypeDescriptor.INSTANCE);\n                    typeContributions.contributeJavaTypeDescriptor(OffsetDateTimeJavaTypeDescriptor.INSTANCE);\n                    typeContributions.contributeType(OffsetDateTimeSingleColumnType.INSTANCE);\n                }));\n    };\n}\n</code></pre>\n<p>Magical constant <code>EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS</code> &amp; bean of type <code>HibernatePropertiesCustomizer</code> <strong>do the magic</strong> in <code>EntityManagerFactoryBuilderImpl</code>:</p>\n<p><code>HibernateJpaAutoConfiguration</code> -&gt; <code>HibernateJpaConfiguration</code> -&gt; <code>JpaBaseConfiguration</code> -&gt; <code>LocalContainerEntityManagerFactoryBean</code> -&gt; <code>HibernatePersistenceProvider</code> -&gt; <code>Bootstrap.getEntityManagerFactoryBuilder()</code> -&gt; <code>EntityManagerFactoryBuilderImpl</code>.</p>\n<p>See details: <a href=\"https://discourse.hibernate.org/t/map-ms-sql-server-datetimeoffset-to-java-8-offsetdatetime/5937/7\" rel=\"nofollow noreferrer\">https://discourse.hibernate.org/t/map-ms-sql-server-datetimeoffset-to-java-8-offsetdatetime/5937/7</a></p>\n<p>Solution keeps Boot magic intact as it plugs into Spring Boot autoconfiguration, also there is no need to redefine lots of beans (like transaction or entity manager).</p>\n"},{"tags":[],"owner":{"account_id":12609810,"reputation":111,"user_id":9169379,"display_name":"Miguel Galindo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654120049,"creation_date":1653937817,"answer_id":72439040,"question_id":42695339,"body_markdown":"You can use the HibernatePropertiesCustomizer class spring will load all beans of this type (for more details see [HibernateJpaConfiguration][1]) \r\n\r\nAlso see [PG Json config Test][2]\r\n\r\nthis is an example (I&#39;m adding Json type only in case postgress dialect is configured)\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(value = &quot;spring.jpa.properties.hibernate.dialect&quot;,\r\n        havingValue = &quot;org.hibernate.dialect.PostgreSQL10Dialect&quot;)\r\n    public HibernatePropertiesCustomizer hibernatePropertiesCustomizerPG(ObjectMapper objectMapper) {\r\n        return hibernateProperties -&gt; {\r\n            hibernateProperties.put(EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS,\r\n                (TypeContributorList) () -&gt; List.of(\r\n                    (TypeContributor) (TypeContributions typeContributions, ServiceRegistry serviceRegistry) -&gt;\r\n                        typeContributions.contributeType(new JsonType(objectMapper))));\r\n        };\r\n    }\r\n\r\n\r\nThis is the same than have \r\n\r\n\r\n    @TypeDefs({\r\n        @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n    })\r\n    @MappedSuperclass\r\n    public class BaseEntity {\r\n        //Code omitted for brevity\r\n    }\r\n\r\n\r\nI prefer to do in this way to not override any bean handled by spring such as SessionFactory\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.java\r\n  [2]: https://github.com/vladmihalcea/hibernate-types/blob/master/hibernate-types-55/src/test/java/com/vladmihalcea/hibernate/type/json/configuration/PostgreSQLJsonBinaryTypeProgrammaticConfigurationTest.java","title":"How should I register custom Hibernate 5 data type (BasicType) when Spring Data is used?","body":"<p>You can use the HibernatePropertiesCustomizer class spring will load all beans of this type (for more details see <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.java\" rel=\"nofollow noreferrer\">HibernateJpaConfiguration</a>)</p>\n<p>Also see <a href=\"https://github.com/vladmihalcea/hibernate-types/blob/master/hibernate-types-55/src/test/java/com/vladmihalcea/hibernate/type/json/configuration/PostgreSQLJsonBinaryTypeProgrammaticConfigurationTest.java\" rel=\"nofollow noreferrer\">PG Json config Test</a></p>\n<p>this is an example (I'm adding Json type only in case postgress dialect is configured)</p>\n<pre><code>@Bean\n@ConditionalOnProperty(value = &quot;spring.jpa.properties.hibernate.dialect&quot;,\n    havingValue = &quot;org.hibernate.dialect.PostgreSQL10Dialect&quot;)\npublic HibernatePropertiesCustomizer hibernatePropertiesCustomizerPG(ObjectMapper objectMapper) {\n    return hibernateProperties -&gt; {\n        hibernateProperties.put(EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS,\n            (TypeContributorList) () -&gt; List.of(\n                (TypeContributor) (TypeContributions typeContributions, ServiceRegistry serviceRegistry) -&gt;\n                    typeContributions.contributeType(new JsonType(objectMapper))));\n    };\n}\n</code></pre>\n<p>This is the same than have</p>\n<pre><code>@TypeDefs({\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\n})\n@MappedSuperclass\npublic class BaseEntity {\n    //Code omitted for brevity\n}\n</code></pre>\n<p>I prefer to do in this way to not override any bean handled by spring such as SessionFactory</p>\n"}],"owner":{"account_id":150208,"reputation":1565,"user_id":1266633,"display_name":"xMort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14844,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":42695340,"answer_count":7,"score":18,"last_activity_date":1654120049,"creation_date":1489062244,"question_id":42695339,"body_markdown":"I use Spring Data and decided that I want to create new custom data type that can be used in Hibernate entities. I checked the documentation and choose `BasicType` and implemented it according to this [official user guide][1]. \r\n\r\nI wanted to be able to register the type under its class name and be able to use the new type in entities without need for `@Type` annotation. Unfortunately, Iâ€™m unable to get reference to the `MetadataBuilder` or Hibernate configuration to register the new type. Is there a way how to get it in Spring Data? It seems that initialization of the Hibernate is hidden from the user and cannot be easily accessed. We use following class to initialize the JPA:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;transactionManager&quot;,\r\n            basePackages = {\r\n                    &quot;...&quot; // omitted\r\n            }\r\n    )\r\n    public class JpaConfiguration implements TransactionManagementConfigurer {\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;entityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean configureEntityManagerFactory(\r\n    \t\tDataSource dataSource,\r\n    \t\tSchemaPerTenantConnectionProviderImpl provider) {\r\n    \t\t\r\n            LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n            entityManagerFactoryBean.setPersistenceUnitName(&quot;defaultPersistenceUnit&quot;);\r\n            entityManagerFactoryBean.setDataSource(dataSource);\r\n            entityManagerFactoryBean.setPackagesToScan(\r\n                    &quot;...&quot; // omitted\r\n            );\r\n            entityManagerFactoryBean.setJpaProperties(properties(provider));\r\n            entityManagerFactoryBean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n            return entityManagerFactoryBean;\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;transactionManager&quot;)\r\n        public PlatformTransactionManager annotationDrivenTransactionManager() {\r\n            return new JpaTransactionManager();\r\n        }\r\n    \r\n        private Properties properties(SchemaPerTenantConnectionProviderImpl provider) {\r\n            Properties properties = new Properties();\r\n            // omitted\r\n            return properties;\r\n        }\r\n    }\r\n\r\nI found lots of articles about way how to do it with Hibernateâ€™s Configuration object but this one refers to Hibernate 3 and 4. I also found way how to do it via Hibernate `org.hibernate.integrator.spi.Integrator` but when I use it according to the articles I found I will get exception with the message *â€œorg.hibernate.HibernateException: Can not alter TypeRegistry at this timeâ€*\r\nWhat is the correct way to register custom types in Spring Data?\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type","title":"How should I register custom Hibernate 5 data type (BasicType) when Spring Data is used?","body":"<p>I use Spring Data and decided that I want to create new custom data type that can be used in Hibernate entities. I checked the documentation and choose <code>BasicType</code> and implemented it according to this <a href=\"http://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type\" rel=\"noreferrer\">official user guide</a>. </p>\n\n<p>I wanted to be able to register the type under its class name and be able to use the new type in entities without need for <code>@Type</code> annotation. Unfortunately, Iâ€™m unable to get reference to the <code>MetadataBuilder</code> or Hibernate configuration to register the new type. Is there a way how to get it in Spring Data? It seems that initialization of the Hibernate is hidden from the user and cannot be easily accessed. We use following class to initialize the JPA:</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = \"entityManagerFactory\",\n        transactionManagerRef = \"transactionManager\",\n        basePackages = {\n                \"...\" // omitted\n        }\n)\npublic class JpaConfiguration implements TransactionManagementConfigurer {\n\n    @Primary\n    @Bean(name = \"entityManagerFactory\")\n    public LocalContainerEntityManagerFactoryBean configureEntityManagerFactory(\n        DataSource dataSource,\n        SchemaPerTenantConnectionProviderImpl provider) {\n\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setPersistenceUnitName(\"defaultPersistenceUnit\");\n        entityManagerFactoryBean.setDataSource(dataSource);\n        entityManagerFactoryBean.setPackagesToScan(\n                \"...\" // omitted\n        );\n        entityManagerFactoryBean.setJpaProperties(properties(provider));\n        entityManagerFactoryBean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        return entityManagerFactoryBean;\n    }\n\n    @Primary\n    @Bean(name = \"transactionManager\")\n    public PlatformTransactionManager annotationDrivenTransactionManager() {\n        return new JpaTransactionManager();\n    }\n\n    private Properties properties(SchemaPerTenantConnectionProviderImpl provider) {\n        Properties properties = new Properties();\n        // omitted\n        return properties;\n    }\n}\n</code></pre>\n\n<p>I found lots of articles about way how to do it with Hibernateâ€™s Configuration object but this one refers to Hibernate 3 and 4. I also found way how to do it via Hibernate <code>org.hibernate.integrator.spi.Integrator</code> but when I use it according to the articles I found I will get exception with the message <em>â€œorg.hibernate.HibernateException: Can not alter TypeRegistry at this timeâ€</em>\nWhat is the correct way to register custom types in Spring Data?</p>\n"},{"tags":["java","spring-boot","hibernate","lombok"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1654121764,"post_id":72468399,"comment_id":128019245,"body_markdown":"See https://stackoverflow.com/questions/64870905/how-to-know-which-versions-of-hibernate-spring-data-are-used-in-spring-boot-proj. Just run `mvn dependency:tree`\n to show all dependencies of your project, perform search for hibernate dependency","body":"See <a href=\"https://stackoverflow.com/questions/64870905/how-to-know-which-versions-of-hibernate-spring-data-are-used-in-spring-boot-proj\" title=\"how to know which versions of hibernate spring data are used in spring boot proj\">stackoverflow.com/questions/64870905/&hellip;</a>. Just run <code>mvn dependency:tree</code>  to show all dependencies of your project, perform search for hibernate dependency"},{"owner":{"account_id":10593328,"reputation":319,"user_id":7803070,"display_name":"AOUADI Slim"},"score":0,"creation_date":1654125319,"post_id":72468399,"comment_id":128019848,"body_markdown":"well i did look there but i got so confused i did find spring-boot-data-jpa-start and hibernate core i guess that means he&#39;s using hibernate right ?","body":"well i did look there but i got so confused i did find spring-boot-data-jpa-start and hibernate core i guess that means he&#39;s using hibernate right ?"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":3,"creation_date":1654125903,"post_id":72468399,"comment_id":128019944,"body_markdown":"yes, hibernate dependency should be under `org.springframework.boot:spring-boot-starter-data-jpa`. It means that you are using it. Also you can see log about `org.hibernate.Version` during startup server it also means that yor server is using hibernate","body":"yes, hibernate dependency should be under <code>org.springframework.boot:spring-boot-starter-data-jpa</code>. It means that you are using it. Also you can see log about <code>org.hibernate.Version</code> during startup server it also means that yor server is using hibernate"}],"owner":{"account_id":10593328,"reputation":319,"user_id":7803070,"display_name":"AOUADI Slim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654119945,"creation_date":1654119945,"question_id":72468399,"body_markdown":"this might be a dumb question, i have a spring boot application generated using Lombok, so i want to know if its using hibernate as a default orm ot not ?\r\n\r\nis there a way to know such thing ?","title":"How to know exactly if my spring boot application is using hibernate or not?","body":"<p>this might be a dumb question, i have a spring boot application generated using Lombok, so i want to know if its using hibernate as a default orm ot not ?</p>\n<p>is there a way to know such thing ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654127853,"post_id":72468025,"comment_id":128020246,"body_markdown":"The solution is to Validate it at the server. That&#39;s where the problem is. Fixing the client only fixes the problem for users at that client. Web browsers still exist, and so do other programs.","body":"The solution is to Validate it at the server. That&#39;s where the problem is. Fixing the client only fixes the problem for users at that client. Web browsers still exist, and so do other programs."}],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654119914,"creation_date":1654119914,"answer_id":72468397,"question_id":72468025,"body_markdown":"You can validate against the URLs passed in the requests against a set of permitted URLs in your system for making connection.\r\n\r\n&gt; URL url = new URL(pagina);\r\n\r\nIn your case, you can validate `url.getHost()` to check whether your system should allow requests to this system or not. A simple way to do this by creating a list of allowed URLs/addresses and then perform the validation against them.","title":"Security - URLConnection Server-Side Request Forgery (SSRF) and File Disclosure","body":"<p>You can validate against the URLs passed in the requests against a set of permitted URLs in your system for making connection.</p>\n<blockquote>\n<p>URL url = new URL(pagina);</p>\n</blockquote>\n<p>In your case, you can validate <code>url.getHost()</code> to check whether your system should allow requests to this system or not. A simple way to do this by creating a list of allowed URLs/addresses and then perform the validation against them.</p>\n"}],"owner":{"account_id":24787369,"reputation":11,"user_id":18670517,"display_name":"porfirio zacarias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1999,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654119914,"creation_date":1654117372,"question_id":72468025,"body_markdown":"Server-Side Request Forgery occur when a web server executes a request to a user supplied destination parameter that is not validated. Such vulnerabilities could allow an attacker to access internal services or to launch attacks from your web server.\r\n\r\nURLConnection can be used with `file://` protocol or other protocols to access local filesystem and potentially other services.\t\r\n\r\nHow do I fix this vulnerability?\r\n\r\n```\r\nHttpURLConnection conn = null;\r\nURL url = new URL(pagina);\r\nif (!url.getProtocol().startsWith(&quot;http&quot;))\r\n    throw new Exception();\r\nInetAddress inetAddress = InetAddress.getByName(url.getHost());\r\nif (inetAddress.isAnyLocalAddress() || inetAddress.isLoopbackAddress() || inetAddress.isLinkLocalAddress()) {\r\n    throw new Exception();\r\n}\r\nconn = (HttpURLConnection) url.openConnection();\r\nreturn conn;\r\n```","title":"Security - URLConnection Server-Side Request Forgery (SSRF) and File Disclosure","body":"<p>Server-Side Request Forgery occur when a web server executes a request to a user supplied destination parameter that is not validated. Such vulnerabilities could allow an attacker to access internal services or to launch attacks from your web server.</p>\n<p>URLConnection can be used with <code>file://</code> protocol or other protocols to access local filesystem and potentially other services.</p>\n<p>How do I fix this vulnerability?</p>\n<pre><code>HttpURLConnection conn = null;\nURL url = new URL(pagina);\nif (!url.getProtocol().startsWith(&quot;http&quot;))\n    throw new Exception();\nInetAddress inetAddress = InetAddress.getByName(url.getHost());\nif (inetAddress.isAnyLocalAddress() || inetAddress.isLoopbackAddress() || inetAddress.isLinkLocalAddress()) {\n    throw new Exception();\n}\nconn = (HttpURLConnection) url.openConnection();\nreturn conn;\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653905249,"post_id":72432525,"comment_id":127957388,"body_markdown":"I&#39;m assuming you&#39;re not using one of the java versions where javafx was part of the jdk. Did you add javafx as a dependency in your pom?","body":"I&#39;m assuming you&#39;re not using one of the java versions where javafx was part of the jdk. Did you add javafx as a dependency in your pom?"},{"owner":{"display_name":"user437212"},"score":0,"creation_date":1654116189,"post_id":72432525,"comment_id":128017896,"body_markdown":"@jewelsea that&#39;s pretty much most of an actual answer right there","body":"@jewelsea that&#39;s pretty much most of an actual answer right there"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1654152475,"post_id":72432525,"comment_id":128024312,"body_markdown":"@clvrmnky I replaced the comment with an answer, as it is probably better that way as you point out.","body":"@clvrmnky I replaced the comment with an answer, as it is probably better that way as you point out."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654119548,"creation_date":1654119548,"answer_id":72468360,"question_id":72432525,"body_markdown":"Go to openjfx.io. Open the Getting Started section. Follow the net beans instructions in the sections titled &quot;JavaFX and NetBeans&quot;, and &quot;Modular with Maven&quot;:\r\n\r\n * https://openjfx.io/openjfx-docs/\r\n\r\nIf you need to use external 3rd party libraries which don&#39;t work well with JavaFX Modules, then follow the instructions &quot;Non-modular with Maven&quot; instead.\r\n\r\nI advise you to use maven and follow the info on adding the media module here:\r\n\r\n * https://stackoverflow.com/questions/64016623/can-not-work-with-mediaplayer-class-javafx-media-is-not-found \r\n\r\nOR, use Bellsoft Liberica â€œFull JDKâ€ or an equivalent that includes JavaFX modules.\r\n\r\n * https://bell-sw.com/pages/downloads\r\n\r\nMake sure if you use Liberica that you choose &quot;Full JDK&quot;, not &quot;Standard JDK&quot;.","title":"import javafx in netbeans 13","body":"<p>Go to openjfx.io. Open the Getting Started section. Follow the net beans instructions in the sections titled &quot;JavaFX and NetBeans&quot;, and &quot;Modular with Maven&quot;:</p>\n<ul>\n<li><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a></li>\n</ul>\n<p>If you need to use external 3rd party libraries which don't work well with JavaFX Modules, then follow the instructions &quot;Non-modular with Maven&quot; instead.</p>\n<p>I advise you to use maven and follow the info on adding the media module here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/64016623/can-not-work-with-mediaplayer-class-javafx-media-is-not-found\">Can not work with MediaPlayer class, javafx.media is not found</a></li>\n</ul>\n<p>OR, use Bellsoft Liberica â€œFull JDKâ€ or an equivalent that includes JavaFX modules.</p>\n<ul>\n<li><a href=\"https://bell-sw.com/pages/downloads\" rel=\"nofollow noreferrer\">https://bell-sw.com/pages/downloads</a></li>\n</ul>\n<p>Make sure if you use Liberica that you choose &quot;Full JDK&quot;, not &quot;Standard JDK&quot;.</p>\n"}],"owner":{"account_id":25425845,"reputation":1,"user_id":19231046,"display_name":"IssaKass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654119548,"creation_date":1653904944,"question_id":72432525,"body_markdown":"I want to import javafx media player but it doesn&#39;t appear, I can just import java and javax tools.\r\n\r\nPlease how can I import javafx in a maven project??\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DvZwK.png","title":"import javafx in netbeans 13","body":"<p>I want to import javafx media player but it doesn't appear, I can just import java and javax tools.</p>\n<p>Please how can I import javafx in a maven project??</p>\n<p><a href=\"https://i.stack.imgur.com/DvZwK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DvZwK.png\" alt=\"\" /></a></p>\n"},{"tags":["java","cucumber","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1653618807,"post_id":72399019,"comment_id":127900294,"body_markdown":"we may need to improve header support. see this answer if it helps: https://stackoverflow.com/a/72245287/143475 - and if you provide a way to replicate, we can investigate and improve this for future releases: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"we may need to improve header support. see this answer if it helps: <a href=\"https://stackoverflow.com/a/72245287/143475\">stackoverflow.com/a/72245287/143475</a> - and if you provide a way to replicate, we can investigate and improve this for future releases: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"}],"answers":[{"tags":[],"owner":{"account_id":1201633,"reputation":2153,"user_id":1172194,"accept_rate":92,"display_name":"Dinesh Arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654119190,"creation_date":1654119190,"answer_id":72468293,"question_id":72399019,"body_markdown":"Do it like this. I was able to get a response match.\r\n\r\n```\r\nScenario: pathMatches(&#39;/path&#39;) &amp;&amp; methodIs(&#39;get&#39;) &amp;&amp; headerContains(&#39;If-None-Match&#39;, &#39;1&#39;)\r\n* def responseStatus = 200\r\n* def responseHeaders = {&#39;Etag&#39;:&#39;1&#39; }\r\n```","title":"If-None-Match header in karate mock","body":"<p>Do it like this. I was able to get a response match.</p>\n<pre><code>Scenario: pathMatches('/path') &amp;&amp; methodIs('get') &amp;&amp; headerContains('If-None-Match', '1')\n* def responseStatus = 200\n* def responseHeaders = {'Etag':'1' }\n</code></pre>\n"}],"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654119190,"creation_date":1653607670,"question_id":72399019,"body_markdown":"I want to create a mock with karate to act on `If-None-Match` header.  I tried to do what is shown [here][1]\r\n\r\n    Scenario: pathMatches(&#39;/path&#39;) &amp;&amp; methodIs(&#39;get&#39;) &amp;&amp; karate.get(&#39;requestHeaders.If-None-Match[0]&#39;) == &#39;1&#39;\r\n       * def responseStatus = 304\r\n       * def responseHeaders = { &#39;ETag&#39;: &#39;1&#39; }\r\n  \r\nIt is not working. It is ignoring the `karate.get` part, and using the scenario defined after (the same one without headers):\r\n\r\n    Scenario: pathMatches(&#39;/path&#39;) &amp;&amp; methodIs(&#39;get&#39;)\r\n    ...\r\n\r\nWhat am I doing wrong here?\r\n\r\n\r\n  [1]: https://github.com/karatelabs/karate/tree/master/karate-netty#requestheaders","title":"If-None-Match header in karate mock","body":"<p>I want to create a mock with karate to act on <code>If-None-Match</code> header.  I tried to do what is shown <a href=\"https://github.com/karatelabs/karate/tree/master/karate-netty#requestheaders\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>Scenario: pathMatches('/path') &amp;&amp; methodIs('get') &amp;&amp; karate.get('requestHeaders.If-None-Match[0]') == '1'\n   * def responseStatus = 304\n   * def responseHeaders = { 'ETag': '1' }\n</code></pre>\n<p>It is not working. It is ignoring the <code>karate.get</code> part, and using the scenario defined after (the same one without headers):</p>\n<pre><code>Scenario: pathMatches('/path') &amp;&amp; methodIs('get')\n...\n</code></pre>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","arrays","sorting","selection-sort"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1653470978,"post_id":72375021,"comment_id":127858318,"body_markdown":"Don&#39;t do the swap in the nested for-loop. You need to first find the min, THEN swap it.","body":"Don&#39;t do the swap in the nested for-loop. You need to first find the min, THEN swap it."},{"owner":{"display_name":"user18906827"},"score":0,"creation_date":1653471078,"post_id":72375021,"comment_id":127858353,"body_markdown":"Oh wow stupid me, you&#39;re right!  Thanks","body":"Oh wow stupid me, you&#39;re right!  Thanks"}],"answers":[{"tags":[],"owner":{"account_id":25450025,"reputation":1,"user_id":19251619,"display_name":"Rylan Cruthers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654119103,"creation_date":1654119103,"answer_id":72468279,"question_id":72375021,"body_markdown":"Your understanding is almost correct, it compares the `element[minimum]` with the next elements `element[j]` and `if element[j] &lt; element[minimum]` then the minimum index is equal to j. Then it repeats until j reaches the end of the array. After it swaps the index at `element[i]` with `element[minimum]`. \r\n\r\nWhat this is doing is swapping `element[i]` with the smallest number to the right of index i. Then moving index i to the next spot. Repeating this gives you a sorted array.\r\n\r\nTLDR:\r\nMove the swapping outside of the second for loop. It should be:\r\n\r\n    public static void SelectionSort1(int[] list){\r\n        for (int i = 0; i &lt; (list.length - 1); i++){\r\n            int min =  i; \r\n            for (int j = i + 1; j&lt;list.length; j++){\r\n                if(list[j] &lt; list[min]){\r\n                    min = j;\r\n                }\r\n            }\r\n                int smallernumber = list[i];\r\n                list[i] = list[min];\r\n                list[min] = smallernumber;\r\n            \r\n        }\r\n    }","title":"Selection Sort wrong output","body":"<p>Your understanding is almost correct, it compares the <code>element[minimum]</code> with the next elements <code>element[j]</code> and <code>if element[j] &lt; element[minimum]</code> then the minimum index is equal to j. Then it repeats until j reaches the end of the array. After it swaps the index at <code>element[i]</code> with <code>element[minimum]</code>.</p>\n<p>What this is doing is swapping <code>element[i]</code> with the smallest number to the right of index i. Then moving index i to the next spot. Repeating this gives you a sorted array.</p>\n<p>TLDR:\nMove the swapping outside of the second for loop. It should be:</p>\n<pre><code>public static void SelectionSort1(int[] list){\n    for (int i = 0; i &lt; (list.length - 1); i++){\n        int min =  i; \n        for (int j = i + 1; j&lt;list.length; j++){\n            if(list[j] &lt; list[min]){\n                min = j;\n            }\n        }\n            int smallernumber = list[i];\n            list[i] = list[min];\n            list[min] = smallernumber;\n        \n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18906827"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654119103,"creation_date":1653470710,"question_id":72375021,"body_markdown":"I am trying to understand the SelectionSort for arrays. \r\n\r\nIf I understand it correctly, it compares the `element[minimum]` with the next elements `element[i]` and swaps positions if `element[i] &lt; element[minimum]`. Then it repeats this with `element[i + 1]` until the list is sorted. \r\n\r\nNow when I try it with the following code, I get an incorrect sort and can&#39;t figure out what I&#39;m doing wrong. \r\n\r\n        \r\n \r\n\r\n    public static void SelectionSort1(int[] list){\r\n        for (int i = 0; i &lt; (list.length - 1); i++){\r\n    \t\tint min =  i; \r\n    \t\tfor (int j = i + 1; j&lt;list.length; j++){\r\n    \t\t\tif(list[j] &lt; list[min]){\r\n    \t\t\t\tmin = j;\r\n    \t\t\t}\r\n    \t\t\tint smallernumber = list[i];\r\n    \t\t\tlist[i] = list[min];\r\n    \t\t\tlist[min] = smallernumber;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n    public static void main (String [] args){\r\n    \r\n    \tint[] list = {5,4,2,1,3};\r\n    \r\n    \tSystem.out.println(&quot;Before Sort&quot; + Arrays.toString(list));\r\n    \tSelectionSort1(list);\r\n    \tSystem.out.println(&quot;After Sort &quot; + Arrays.toString(list));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n****My output is: &lt;br&gt;&lt;br&gt;\r\nBefore Sort[5, 4, 2, 1, 3]&lt;br&gt;\r\nAfter Sort [2, 3, 1, 4, 5]****\r\n\r\n\r\nCan anyone point me in the right direction? \r\n\r\n\r\n","title":"Selection Sort wrong output","body":"<p>I am trying to understand the SelectionSort for arrays.</p>\n<p>If I understand it correctly, it compares the <code>element[minimum]</code> with the next elements <code>element[i]</code> and swaps positions if <code>element[i] &lt; element[minimum]</code>. Then it repeats this with <code>element[i + 1]</code> until the list is sorted.</p>\n<p>Now when I try it with the following code, I get an incorrect sort and can't figure out what I'm doing wrong.</p>\n<pre><code>public static void SelectionSort1(int[] list){\n    for (int i = 0; i &lt; (list.length - 1); i++){\n        int min =  i; \n        for (int j = i + 1; j&lt;list.length; j++){\n            if(list[j] &lt; list[min]){\n                min = j;\n            }\n            int smallernumber = list[i];\n            list[i] = list[min];\n            list[min] = smallernumber;\n        }\n    }\n}\n\n\npublic static void main (String [] args){\n\n    int[] list = {5,4,2,1,3};\n\n    System.out.println(&quot;Before Sort&quot; + Arrays.toString(list));\n    SelectionSort1(list);\n    System.out.println(&quot;After Sort &quot; + Arrays.toString(list));\n}\n</code></pre>\n<p><strong><strong>My output is: <br><br>\nBefore Sort[5, 4, 2, 1, 3]<br>\nAfter Sort [2, 3, 1, 4, 5]</strong></strong></p>\n<p>Can anyone point me in the right direction?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":4,"creation_date":1654118221,"post_id":72468123,"comment_id":128018474,"body_markdown":"For the only reason that they ever make a difference: because they change the order of operations. What is there not to understand?","body":"For the only reason that they ever make a difference: because they change the order of operations. What is there not to understand?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1654118897,"post_id":72468123,"comment_id":128018616,"body_markdown":"I&#39;d recommend you always use parens, if only to make your code more readable. Takes the guesswork out of operator precedence.","body":"I&#39;d recommend you always use parens, if only to make your code more readable. Takes the guesswork out of operator precedence."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1654119244,"post_id":72468123,"comment_id":128018698,"body_markdown":"One should know operator precedence and associativity of their used operators. Introducing named intermediate variables for better clarity is IMHO superior to redundant parenthesis.","body":"One should know operator precedence and associativity of their used operators. Introducing named intermediate variables for better clarity is IMHO superior to redundant parenthesis."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1654119388,"post_id":72468123,"comment_id":128018731,"body_markdown":"I definitely agree about adding parens to remove ambiguity. I&#39;ve been programming professionally for about a decade and don&#39;t know all the operator precedence rules, especially around ternaries. If there&#39;s even a small risk of confusion, I add the parens and don&#39;t worry about arcane compiler rules. :)","body":"I definitely agree about adding parens to remove ambiguity. I&#39;ve been programming professionally for about a decade and don&#39;t know all the operator precedence rules, especially around ternaries. If there&#39;s even a small risk of confusion, I add the parens and don&#39;t worry about arcane compiler rules. :)"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1654119547,"post_id":72468123,"comment_id":128018759,"body_markdown":"It&#39;s the same reason why `(3+2)*5` gives a different result than `3+2*5`","body":"It&#39;s the same reason why <code>(3+2)*5</code> gives a different result than <code>3+2*5</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654118711,"creation_date":1654118711,"answer_id":72468218,"question_id":72468123,"body_markdown":"With parens, and boiling it down to bare essence, it&#39;s:\r\n\r\n&gt; `return (a ? false : b) || c ? false : d;`\r\n\r\nWithout them, it&#39;s resolved as:\r\n\r\n`return a ? false : ((b || c) ? false : d);`\r\n","title":"why does the parentheses make a difference in this line of code","body":"<p>With parens, and boiling it down to bare essence, it's:</p>\n<blockquote>\n<p><code>return (a ? false : b) || c ? false : d;</code></p>\n</blockquote>\n<p>Without them, it's resolved as:</p>\n<p><code>return a ? false : ((b || c) ? false : d);</code></p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654119025,"creation_date":1654119025,"answer_id":72468266,"question_id":72468123,"body_markdown":"From the used operators the precedence is as follows:\r\n\r\n1. subtraction (left-to-right)\r\n2. equality (left-to-right)\r\n3. logical or (left-to-right)\r\n4. ternary operator (right-to-left)\r\n\r\n*where the upper ones overrule the lower*\r\n\r\nSo suppose you have two ternary operators intertwined like so:\r\n\r\n```java\r\nvar value1 = a ? b : c || d ? e : f;\r\nvar value2 = (a ? b : c) || (d ? e : f);\r\nvar value3 = a ? b : (c || d) ? e : f;\r\nvar value4 = a ? b : ((c || d) ? e : f);\r\n```\r\n\r\nAnd `value1` has no parenthesis, therefore we will compute the logical or first, such that we arrive at the equation for `value3`.\r\n\r\nIn `value3` the next higher operator is the ternary operator, which is [right-associative][1], such that we will compute it as if we would put the right-most ternary calculation in parenthesis as in equation for `value4`.\r\n\r\nNow you should clearly see, that solution for `value4` differs very much from the one for `value2`.\r\n\r\nSource: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\r\nhttps://introcs.cs.princeton.edu/java/11precedence/\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Associative_property","title":"why does the parentheses make a difference in this line of code","body":"<p>From the used operators the precedence is as follows:</p>\n<ol>\n<li>subtraction (left-to-right)</li>\n<li>equality (left-to-right)</li>\n<li>logical or (left-to-right)</li>\n<li>ternary operator (right-to-left)</li>\n</ol>\n<p><em>where the upper ones overrule the lower</em></p>\n<p>So suppose you have two ternary operators intertwined like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var value1 = a ? b : c || d ? e : f;\nvar value2 = (a ? b : c) || (d ? e : f);\nvar value3 = a ? b : (c || d) ? e : f;\nvar value4 = a ? b : ((c || d) ? e : f);\n</code></pre>\n<p>And <code>value1</code> has no parenthesis, therefore we will compute the logical or first, such that we arrive at the equation for <code>value3</code>.</p>\n<p>In <code>value3</code> the next higher operator is the ternary operator, which is <a href=\"https://en.wikipedia.org/wiki/Associative_property\" rel=\"nofollow noreferrer\">right-associative</a>, such that we will compute it as if we would put the right-most ternary calculation in parenthesis as in equation for <code>value4</code>.</p>\n<p>Now you should clearly see, that solution for <code>value4</code> differs very much from the one for <code>value2</code>.</p>\n<p>Source: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html</a>\n<a href=\"https://introcs.cs.princeton.edu/java/11precedence/\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/11precedence/</a></p>\n"}],"owner":{"account_id":23029902,"reputation":37,"user_id":17149582,"display_name":"BettyQ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72468218,"answer_count":2,"score":1,"last_activity_date":1654119025,"creation_date":1654118062,"question_id":72468123,"body_markdown":"I was working on leetcode #112 and this is my solution:\r\n```class Solution {\r\n    public boolean hasPathSum(TreeNode root, int targetSum) {\r\n        if(root == null){\r\n            return false;\r\n        }\r\n        return helper(root, targetSum);\r\n    }\r\n        private boolean helper(TreeNode root, int sum) {\r\n            if(root.left == null &amp;&amp; root.right == null) {\r\n                return sum - root.val == 0;\r\n            }\r\n            \r\n            return (root.left == null? false : helper(root.left, sum - root.val)) || \r\n                root.right == null? false : helper(root.right, sum - root.val);\r\n        }\r\n    \r\n}\r\n```\r\non the last return in the helper function, the test would only pass if there were parentheses around the ternary statements(shown around root.left). I was wondering why does the parenthese make a difference in this case?","title":"why does the parentheses make a difference in this line of code","body":"<p>I was working on leetcode #112 and this is my solution:</p>\n<pre><code>    public boolean hasPathSum(TreeNode root, int targetSum) {\n        if(root == null){\n            return false;\n        }\n        return helper(root, targetSum);\n    }\n        private boolean helper(TreeNode root, int sum) {\n            if(root.left == null &amp;&amp; root.right == null) {\n                return sum - root.val == 0;\n            }\n            \n            return (root.left == null? false : helper(root.left, sum - root.val)) || \n                root.right == null? false : helper(root.right, sum - root.val);\n        }\n    \n}\n</code></pre>\n<p>on the last return in the helper function, the test would only pass if there were parentheses around the ternary statements(shown around root.left). I was wondering why does the parenthese make a difference in this case?</p>\n"},{"tags":["java","amazon-web-services","unit-testing","mockito","aws-secrets-manager"],"answers":[{"tags":[],"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622213462,"creation_date":1622213462,"answer_id":67741078,"question_id":67741000,"body_markdown":"You need to install the mockito extension via: `@ExtendWith(MockitoExtension.class)`\r\n\r\n(I think you&#39;ll need to make the member variables non-private too).\r\n\r\nMore clues here: https://www.baeldung.com/mockito-junit-5-extension\r\n\r\n\r\n\r\n","title":"Mock Test for AWS Secret Manager - Java","body":"<p>You need to install the mockito extension via: <code>@ExtendWith(MockitoExtension.class)</code></p>\n<p>(I think you'll need to make the member variables non-private too).</p>\n<p>More clues here: <a href=\"https://www.baeldung.com/mockito-junit-5-extension\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-junit-5-extension</a></p>\n"},{"tags":[],"owner":{"account_id":21812874,"reputation":11,"user_id":16110130,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622667117,"creation_date":1622666242,"answer_id":67812249,"question_id":67741000,"body_markdown":"Have you tried setting the value on the GetSecretVaueResult first then returning it; something like this?\r\n\r\n    @Mock\r\n    AWSSecretsManager secretsClient;\r\n    GetSecretValueResult secretValueResult = new GetSecretValueResult();\r\n    secretValueResult.setSecretString(&quot;{\\&quot;client_id\\&quot;: \\&quot;XXXXXX\\&quot;,\\&quot;client_secret\\&quot;: \\&quot;XXXXXX\\&quot;}&quot;);\r\n\r\n    when(secretsClient.getSecretValue(any(GetSecretValueRequest.class))).thenReturn(secretValueResult);\r\n\r\n\r\n","title":"Mock Test for AWS Secret Manager - Java","body":"<p>Have you tried setting the value on the GetSecretVaueResult first then returning it; something like this?</p>\n<pre><code>@Mock\nAWSSecretsManager secretsClient;\nGetSecretValueResult secretValueResult = new GetSecretValueResult();\nsecretValueResult.setSecretString(&quot;{\\&quot;client_id\\&quot;: \\&quot;XXXXXX\\&quot;,\\&quot;client_secret\\&quot;: \\&quot;XXXXXX\\&quot;}&quot;);\n\nwhen(secretsClient.getSecretValue(any(GetSecretValueRequest.class))).thenReturn(secretValueResult);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19358745,"reputation":386,"user_id":14898689,"display_name":"henry sneed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649012287,"creation_date":1649012287,"answer_id":71729000,"question_id":67741000,"body_markdown":"I would determine how you are building your AWSSecretsManager instance within your getSecret() method.\r\n\r\nConsider if you are using a getSecret() method similar to the one AWS provides like the following: \r\n```\r\npublic static void getSecret() {\r\n    String secretName = &quot;arn:aws:secretsmanager:us-east-1:xxxxxxx&quot;;\r\n    String region = &quot;us-east-1&quot;;\r\n\r\n    // Create a Secrets Manager client\r\n    AWSSecretsManager client  = AWSSecretsManagerClientBuilder.standard()\r\n                                    .withRegion(region)\r\n                                    .build();\r\n    \r\n    GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()\r\n        .withSecretId(secretName);\r\n    GetSecretValueResult getSecretValueResult;\r\n\r\n    try {\r\n      getSecretValueResult = client.getSecretValue(getSecretValueRequest);\r\n    } catch (Exception e) {\r\n      logger.error(&quot;Error retrieving secret: {0}&quot;, e);\r\n      throw e;\r\n    }\r\n    ...\r\n}\r\n```\r\nIn this case, mocking AWSSecretsManager within your JUnit test will not have the desired outcome because the getSecret() method is instantiating AWSSecretsManagerClientBuilder and assigning it to client each time getSecret() is called. Instead, you can **add a configuration class with an AWSSecretsManager bean** as and then **autowire it in the constructor** of the class that contains the getSecret() method. \r\n\r\n### Add Configuration\r\n```\r\n@Configuration\r\npublic class Config {\r\n\r\n  @Value(&quot;${cloud.aws.region.static}&quot;)\r\n  private String region;\r\n\r\n  @Bean\r\n  public AWSSecretsManager awsSecretsManager(String region) {\r\n    return AWSSecretsManagerClientBuilder.standard()\r\n        .withRegion(region)\r\n        .build();\r\n  }\r\n}\r\n```\r\n### Update getSecret()\r\nAfter doing so, your method should look more like this\r\n```\r\n private String getSecret() {\r\n    GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()\r\n        .withSecretId(secretName);\r\n    GetSecretValueResult getSecretValueResult;\r\n\r\n    try {\r\n      getSecretValueResult = client.getSecretValue(getSecretValueRequest);\r\n    } catch (Exception e) {\r\n      logger.error(&quot;Error retrieving secret: {0}&quot;, e);\r\n      throw e;\r\n    }\r\n    ...\r\n  } \r\n    \r\n```\r\n### Test\r\n\r\nNow, you will be able to mock the AWSSecretsManager as intended: \r\n\r\n```\r\n  @Mock\r\n  AWSSecretsManager client;\r\n\r\n  private final YourClass undertest;\r\n\r\n  @BeforeEach\r\n  void setUp() {\r\n    MockitoAnnotations.openMocks(this);\r\n    undertest = new YourClass(...)\r\n  }\r\n  \r\n  @Test\r\n  void testYourClass() {\r\n    GetSecretValueResult expected = new GetSecretValueResult();\r\n    expected.setSecretString(&quot;{\\&quot;client_id\\&quot;: \\&quot;XXXXXX\\&quot;,\\&quot;client_secret\\&quot;: \\&quot;XXXXXX\\&quot;}&quot;); \r\n    when(client.getSecretValue(any(GetSecretValueRequest.class)))\r\n        .thenReturn(expected);\r\n    ...\r\n}\r\n```","title":"Mock Test for AWS Secret Manager - Java","body":"<p>I would determine how you are building your AWSSecretsManager instance within your getSecret() method.</p>\n<p>Consider if you are using a getSecret() method similar to the one AWS provides like the following:</p>\n<pre><code>public static void getSecret() {\n    String secretName = &quot;arn:aws:secretsmanager:us-east-1:xxxxxxx&quot;;\n    String region = &quot;us-east-1&quot;;\n\n    // Create a Secrets Manager client\n    AWSSecretsManager client  = AWSSecretsManagerClientBuilder.standard()\n                                    .withRegion(region)\n                                    .build();\n    \n    GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()\n        .withSecretId(secretName);\n    GetSecretValueResult getSecretValueResult;\n\n    try {\n      getSecretValueResult = client.getSecretValue(getSecretValueRequest);\n    } catch (Exception e) {\n      logger.error(&quot;Error retrieving secret: {0}&quot;, e);\n      throw e;\n    }\n    ...\n}\n</code></pre>\n<p>In this case, mocking AWSSecretsManager within your JUnit test will not have the desired outcome because the getSecret() method is instantiating AWSSecretsManagerClientBuilder and assigning it to client each time getSecret() is called. Instead, you can <strong>add a configuration class with an AWSSecretsManager bean</strong> as and then <strong>autowire it in the constructor</strong> of the class that contains the getSecret() method.</p>\n<h3>Add Configuration</h3>\n<pre><code>@Configuration\npublic class Config {\n\n  @Value(&quot;${cloud.aws.region.static}&quot;)\n  private String region;\n\n  @Bean\n  public AWSSecretsManager awsSecretsManager(String region) {\n    return AWSSecretsManagerClientBuilder.standard()\n        .withRegion(region)\n        .build();\n  }\n}\n</code></pre>\n<h3>Update getSecret()</h3>\n<p>After doing so, your method should look more like this</p>\n<pre><code> private String getSecret() {\n    GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()\n        .withSecretId(secretName);\n    GetSecretValueResult getSecretValueResult;\n\n    try {\n      getSecretValueResult = client.getSecretValue(getSecretValueRequest);\n    } catch (Exception e) {\n      logger.error(&quot;Error retrieving secret: {0}&quot;, e);\n      throw e;\n    }\n    ...\n  } \n    \n</code></pre>\n<h3>Test</h3>\n<p>Now, you will be able to mock the AWSSecretsManager as intended:</p>\n<pre><code>  @Mock\n  AWSSecretsManager client;\n\n  private final YourClass undertest;\n\n  @BeforeEach\n  void setUp() {\n    MockitoAnnotations.openMocks(this);\n    undertest = new YourClass(...)\n  }\n  \n  @Test\n  void testYourClass() {\n    GetSecretValueResult expected = new GetSecretValueResult();\n    expected.setSecretString(&quot;{\\&quot;client_id\\&quot;: \\&quot;XXXXXX\\&quot;,\\&quot;client_secret\\&quot;: \\&quot;XXXXXX\\&quot;}&quot;); \n    when(client.getSecretValue(any(GetSecretValueRequest.class)))\n        .thenReturn(expected);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4119388,"reputation":106,"user_id":3380174,"display_name":"ohrlando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654118197,"creation_date":1654113583,"answer_id":72467412,"question_id":67741000,"body_markdown":"solution is create real `GetSecretValueResponse`:\r\n\r\n    GetSecretValueResponse response = GetSecretValueResponse.builder().secretString(secretValue).build();\r\n\r\nso my test is:\r\n\r\n    public class AWSSecretsManagerTest {\r\n        @InjectMock SecretsManagerClient client;\r\n    \r\n        @Inject AWSSecretsManager secretsManager;\r\n    \r\n        @Test\r\n        void getSecret_GetSecretStringByName() {\r\n            // FIXTURE\r\n            var secretValue = &quot;some-value&quot;;\r\n            GetSecretValueResponse response = GetSecretValueResponse.builder().secretString(secretValue).build();\r\n            when(client.getSecretValue((GetSecretValueRequest) any())).thenReturn(response);\r\n            // exercise\r\n            var result = secretsManager.getSecret(&quot;some-secret&quot;);\r\n            //verify\r\n            Assertions.assertEquals(secretValue, result);\r\n        }\r\n    }\r\n\r\nmy manager:\r\n\r\n    @ApplicationScoped\r\n    public class AWSSecretsManager implements SecretsManager {\r\n        public static final String VERSION_STAGE = &quot;AWSCURRENT&quot;;\r\n    \r\n        @Inject\r\n        SecretsManagerClient secretsManagerClient;\r\n    \r\n        private GetSecretValueRequest generateGetSecretValueRequest(String secretName) {\r\n            return GetSecretValueRequest.builder()\r\n                    .secretId(secretName)\r\n                    .versionStage(VERSION_STAGE)\r\n                    .build();\r\n        }\r\n    \r\n        public String getSecret(String secretName) {\r\n            return secretsManagerClient.getSecretValue(generateGetSecretValueRequest(secretName)).secretString();\r\n        }\r\n    }","title":"Mock Test for AWS Secret Manager - Java","body":"<p>solution is create real <code>GetSecretValueResponse</code>:</p>\n<pre><code>GetSecretValueResponse response = GetSecretValueResponse.builder().secretString(secretValue).build();\n</code></pre>\n<p>so my test is:</p>\n<pre><code>public class AWSSecretsManagerTest {\n    @InjectMock SecretsManagerClient client;\n\n    @Inject AWSSecretsManager secretsManager;\n\n    @Test\n    void getSecret_GetSecretStringByName() {\n        // FIXTURE\n        var secretValue = &quot;some-value&quot;;\n        GetSecretValueResponse response = GetSecretValueResponse.builder().secretString(secretValue).build();\n        when(client.getSecretValue((GetSecretValueRequest) any())).thenReturn(response);\n        // exercise\n        var result = secretsManager.getSecret(&quot;some-secret&quot;);\n        //verify\n        Assertions.assertEquals(secretValue, result);\n    }\n}\n</code></pre>\n<p>my manager:</p>\n<pre><code>@ApplicationScoped\npublic class AWSSecretsManager implements SecretsManager {\n    public static final String VERSION_STAGE = &quot;AWSCURRENT&quot;;\n\n    @Inject\n    SecretsManagerClient secretsManagerClient;\n\n    private GetSecretValueRequest generateGetSecretValueRequest(String secretName) {\n        return GetSecretValueRequest.builder()\n                .secretId(secretName)\n                .versionStage(VERSION_STAGE)\n                .build();\n    }\n\n    public String getSecret(String secretName) {\n        return secretsManagerClient.getSecretValue(generateGetSecretValueRequest(secretName)).secretString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13735461,"reputation":59,"user_id":9911882,"display_name":"mkarki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8057,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1654118197,"creation_date":1622213142,"question_id":67741000,"body_markdown":"I am trying to test the AWS SecretManager call using Mockito but when I run the program, I am getting the Null Pointer Exception.\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass XXXX{\r\n\r\nString secret = &quot;{ \\&quot;client_id\\&quot;: \\&quot;XXXXXX\\&quot;,\\&quot;client_secret\\&quot;: \\&quot;XXXXXX\\&quot;} &quot;;\r\n    \r\n    @Mock\r\n\tAWSSecretsManager secretsClient;\r\n    @Mock\r\n\tGetSecretValueRequest secretValueRequest;\r\n\t@Mock\r\n\tGetSecretValueResult secretValueResult;\r\n\r\n  @BeforeEach\r\n  public void setUp(){\r\n    lenient().when(secretsClient.getSecretValue(secretValueRequest)).thenReturn(secretValueResult);\r\n\tlenient().when(secretValueResult.getSecretString()).thenReturn(secret);\r\n  }\r\n\r\n}\r\n```\r\nHere, when I am running, I am getting the NullPointerException at ```when(secretsClient.getSecretValue(secretValueRequest))```. It says as ```secretsClient.getSecretValue(secretValueRequest) is null``` which is passed as parameter to ```when()```. Any suggestion or advice what I am doing wrong here, please.","title":"Mock Test for AWS Secret Manager - Java","body":"<p>I am trying to test the AWS SecretManager call using Mockito but when I run the program, I am getting the Null Pointer Exception.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass XXXX{\n\nString secret = &quot;{ \\&quot;client_id\\&quot;: \\&quot;XXXXXX\\&quot;,\\&quot;client_secret\\&quot;: \\&quot;XXXXXX\\&quot;} &quot;;\n    \n    @Mock\n    AWSSecretsManager secretsClient;\n    @Mock\n    GetSecretValueRequest secretValueRequest;\n    @Mock\n    GetSecretValueResult secretValueResult;\n\n  @BeforeEach\n  public void setUp(){\n    lenient().when(secretsClient.getSecretValue(secretValueRequest)).thenReturn(secretValueResult);\n    lenient().when(secretValueResult.getSecretString()).thenReturn(secret);\n  }\n\n}\n</code></pre>\n<p>Here, when I am running, I am getting the NullPointerException at <code>when(secretsClient.getSecretValue(secretValueRequest))</code>. It says as <code>secretsClient.getSecretValue(secretValueRequest) is null</code> which is passed as parameter to <code>when()</code>. Any suggestion or advice what I am doing wrong here, please.</p>\n"},{"tags":["java","spring","http","spring-security"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1654116509,"post_id":72467851,"comment_id":128017986,"body_markdown":"HTTP GET requests with forged headers are also possible.","body":"HTTP GET requests with forged headers are also possible."},{"owner":{"account_id":13671184,"reputation":45,"user_id":9863810,"display_name":"Himani Mukne"},"score":0,"creation_date":1654117288,"post_id":72467851,"comment_id":128018233,"body_markdown":"@ValerijDobler , what sort of forged headers? I am a novice at this","body":"@ValerijDobler , what sort of forged headers? I am a novice at this"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654118179,"creation_date":1654118179,"answer_id":72468142,"question_id":72467851,"body_markdown":"There are many GitHub projects, which maintain code for testing for those vulnerabilities. For example [this one][1].\r\n\r\nStudy the source code and rebuild it in a language you fancy. Or use it out of the box. There are also solutions, which run in Docker, so no additional resources are needed.\r\n\r\n  [1]: https://github.com/redhuntlabs/Hunt4Spring/blob/main/main.go","title":"Spring4Shell detection without knowing spring, JDK version, or code","body":"<p>There are many GitHub projects, which maintain code for testing for those vulnerabilities. For example <a href=\"https://github.com/redhuntlabs/Hunt4Spring/blob/main/main.go\" rel=\"nofollow noreferrer\">this one</a>.</p>\n<p>Study the source code and rebuild it in a language you fancy. Or use it out of the box. There are also solutions, which run in Docker, so no additional resources are needed.</p>\n"}],"owner":{"account_id":13671184,"reputation":45,"user_id":9863810,"display_name":"Himani Mukne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72468142,"answer_count":1,"score":-1,"last_activity_date":1654118179,"creation_date":1654116338,"question_id":72467851,"body_markdown":"I understand that popular exploits for Sping4Shell are performed by submitting HTTP POST requests with form data that attempts to get server-side data-binding code to alter a classLoader field. How do I construct this request?","title":"Spring4Shell detection without knowing spring, JDK version, or code","body":"<p>I understand that popular exploits for Sping4Shell are performed by submitting HTTP POST requests with form data that attempts to get server-side data-binding code to alter a classLoader field. How do I construct this request?</p>\n"},{"tags":["java","macos","maven"],"answers":[{"tags":[],"owner":{"account_id":21211538,"reputation":1,"user_id":15600027,"display_name":"ehCris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654117261,"creation_date":1654117261,"answer_id":72467999,"question_id":72446441,"body_markdown":"try &quot;Invalidate caches &amp; Restart&quot;!!","title":"Plugin &#39;org.apache.maven.plugins:maven-gpg-plugin:3.0.1&#39; not found","body":"<p>try &quot;Invalidate caches &amp; Restart&quot;!!</p>\n"}],"owner":{"account_id":4148701,"reputation":15584,"user_id":3924118,"accept_rate":35,"display_name":"nbro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654117261,"creation_date":1653994268,"question_id":72446441,"body_markdown":"I&#39;ve come across a project with a `pom.xml` file that contains the following\r\n\r\n```\r\n...\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.0.1&lt;/version&gt;\r\n                  &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                      &lt;id&gt;sign-artifacts&lt;/id&gt;\r\n                      &lt;phase&gt;verify&lt;/phase&gt;\r\n                      &lt;goals&gt;\r\n                        &lt;goal&gt;sign&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n...\r\n```\r\n\r\nSo, this `pom.xml` file contains what is suggested in [the documentation][1].\r\n\r\nBut my IntelliJ IDE is telling me \r\n\r\n&gt; Plugin &#39;org.apache.maven.plugins:maven-gpg-plugin:3.0.1&#39; not found\r\n\r\nI tried to update the Maven indices, but this did not fix the issue.\r\n\r\nI can still do `mvn clean install` (provided I comment a section related to the documentation, but this is another, I think unrelated, issue).\r\n\r\nOf course, I never used this plugin and I don&#39;t know what `maven-gpg-plugin` actually does (well, I think it&#39;s used for signing software). I just wanted to run this project that I found, but, at the same time, I would not like to run it with these errors.\r\n\r\nThe [documentation of this plugin][2] explains that `gpg` should be on the path. \r\n\r\n&gt; Signs all of a project&#39;s attached artifacts with GnuPG.\r\n&gt;\r\n&gt;You need to have previously configured the default key.\r\n&gt;\r\n&gt; **`gpg` also needs to be on the search path.**\r\n\r\nSo, I realised that I had not installed manually GnuGP, and so that I didn&#39;t probably have `gpg` on the path. So, I thought I had to install it first, and that&#39;s what I did. \r\n\r\n[Here][3] are the instructions on how to install it. \r\n\r\nI am on a mac, so I tried to find a `brew` formula to install it - [here][4] it is. So, I did `brew install --cask gpg-suite` (and I have now `gpg` on the path), but this did not solve the problem.\r\n\r\nWhy am I having this problem, and how can I solve it?\r\n\r\n\r\n [1]: https://maven.apache.org/plugins/maven-gpg-plugin/usage.html\r\n [2]: https://maven.apache.org/plugins/maven-gpg-plugin/usage.html\r\n [3]: https://gnupg.org/download/index.html\r\n [4]: https://formulae.brew.sh/cask/gpg-suite\r\n","title":"Plugin &#39;org.apache.maven.plugins:maven-gpg-plugin:3.0.1&#39; not found","body":"<p>I've come across a project with a <code>pom.xml</code> file that contains the following</p>\n<pre><code>...\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                  &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\n                  &lt;version&gt;3.0.1&lt;/version&gt;\n                  &lt;executions&gt;\n                    &lt;execution&gt;\n                      &lt;id&gt;sign-artifacts&lt;/id&gt;\n                      &lt;phase&gt;verify&lt;/phase&gt;\n                      &lt;goals&gt;\n                        &lt;goal&gt;sign&lt;/goal&gt;\n                      &lt;/goals&gt;\n                    &lt;/execution&gt;\n                  &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n...\n</code></pre>\n<p>So, this <code>pom.xml</code> file contains what is suggested in <a href=\"https://maven.apache.org/plugins/maven-gpg-plugin/usage.html\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>But my IntelliJ IDE is telling me</p>\n<blockquote>\n<p>Plugin 'org.apache.maven.plugins:maven-gpg-plugin:3.0.1' not found</p>\n</blockquote>\n<p>I tried to update the Maven indices, but this did not fix the issue.</p>\n<p>I can still do <code>mvn clean install</code> (provided I comment a section related to the documentation, but this is another, I think unrelated, issue).</p>\n<p>Of course, I never used this plugin and I don't know what <code>maven-gpg-plugin</code> actually does (well, I think it's used for signing software). I just wanted to run this project that I found, but, at the same time, I would not like to run it with these errors.</p>\n<p>The <a href=\"https://maven.apache.org/plugins/maven-gpg-plugin/usage.html\" rel=\"nofollow noreferrer\">documentation of this plugin</a> explains that <code>gpg</code> should be on the path.</p>\n<blockquote>\n<p>Signs all of a project's attached artifacts with GnuPG.</p>\n<p>You need to have previously configured the default key.</p>\n<p><strong><code>gpg</code> also needs to be on the search path.</strong></p>\n</blockquote>\n<p>So, I realised that I had not installed manually GnuGP, and so that I didn't probably have <code>gpg</code> on the path. So, I thought I had to install it first, and that's what I did.</p>\n<p><a href=\"https://gnupg.org/download/index.html\" rel=\"nofollow noreferrer\">Here</a> are the instructions on how to install it.</p>\n<p>I am on a mac, so I tried to find a <code>brew</code> formula to install it - <a href=\"https://formulae.brew.sh/cask/gpg-suite\" rel=\"nofollow noreferrer\">here</a> it is. So, I did <code>brew install --cask gpg-suite</code> (and I have now <code>gpg</code> on the path), but this did not solve the problem.</p>\n<p>Why am I having this problem, and how can I solve it?</p>\n"},{"tags":["java","algorithm","dynamic-programming","memoization","dice"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1653663564,"post_id":72406541,"comment_id":127912836,"body_markdown":"At first, i thought this was going to be `sides`^2 but it turns out i was wrong.\nhttps://www.online-java.com/Te1ZdjVlLQ\nYour original code didn&#39;t compile, i kinda fixed it up for you. You have 43 calls to `PrintTargetSumCombination` method.","body":"At first, i thought this was going to be <code>sides</code>^2 but it turns out i was wrong. <a href=\"https://www.online-java.com/Te1ZdjVlLQ\" rel=\"nofollow noreferrer\">online-java.com/Te1ZdjVlLQ</a> Your original code didn&#39;t compile, i kinda fixed it up for you. You have 43 calls to <code>PrintTargetSumCombination</code> method."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1653663682,"post_id":72406541,"comment_id":127912883,"body_markdown":"Additionally, you don&#39;t employ any memoization here, so i removed the tag. Feel free to edit the question to ask about how to make it use memoization before re-adding the tag.","body":"Additionally, you don&#39;t employ any memoization here, so i removed the tag. Feel free to edit the question to ask about how to make it use memoization before re-adding the tag."},{"owner":{"account_id":6686089,"reputation":77,"user_id":5157293,"accept_rate":40,"display_name":"Sibi Sundarrajan"},"score":0,"creation_date":1653730890,"post_id":72406541,"comment_id":127925619,"body_markdown":"Thanks @Shark I want to know the Big O notation of time complexity, because number of calls will vary for different inputs","body":"Thanks @Shark I want to know the Big O notation of time complexity, because number of calls will vary for different inputs"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1653903262,"post_id":72406541,"comment_id":127956640,"body_markdown":"Have you tried using the [Master Theorem](https://en.wikipedia.org/wiki/Master_theorem_(analysis_of_algorithms)) to calculate it perhaps? I finished college a long time ago, so it kinda evaporated from my head due to not using it.","body":"Have you tried using the <a href=\"https://en.wikipedia.org/wiki/Master_theorem_(analysis_of_algorithms)\" rel=\"nofollow noreferrer\">Master Theorem</a> to calculate it perhaps? I finished college a long time ago, so it kinda evaporated from my head due to not using it."}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654042608,"creation_date":1654042608,"answer_id":72455276,"question_id":72406541,"body_markdown":"Below is an option to optimize your function. The approach is similar to yours, but it includes the additional condition, which stops the recursion if the branch can&#39;t lead to any correct solutions. This significantly reduces number of required iterations. With numbers from your example the iteraton count decreases from 43 to 7. I&#39;m not sure about the O complexity, it depends on the input, but with some tests I see the number of iterations is proportional to the nr of solutions, so I&#39;d assume it&#39;s O(n)\r\n\r\n    public class Dice {\r\n        static final int target = 10;\r\n        static final int diceCount = 2;\r\n        static final int sides = 6;\r\n        static int iterations = 0;\r\n        static int validIterations = 0;\r\n    \r\n        public static void main(String[] args) {\r\n            scorePrinter(sides, diceCount, new ArrayList&lt;&gt;());\r\n            System.out.println(&quot;Iterations nr: &quot; + iterations);\r\n            System.out.println(&quot;Valid combinations: &quot; + validIterations);\r\n        }\r\n    \r\n        static int scorePrinter(int sides, int dice, List&lt;Integer&gt; scores) {\r\n            int scoresSum = scores.stream().reduce(0, Integer::sum);\r\n            if (dice == 0 &amp;&amp; scoresSum == target) {\r\n                System.out.println(scores);\r\n                validIterations++;\r\n                return iterations++;\r\n            }\r\n            else if (dice == 0) {\r\n                return iterations++;\r\n            }\r\n            else {\r\n                for (int i = 1; i &lt; sides + 1; i++) {\r\n                    if ((dice - 1 &lt;= (target - scoresSum - i)) &amp;&amp; ((sides * (dice - 1)) &gt;= target - scoresSum - i))\r\n                        scorePrinter(sides, dice - 1, Stream.concat(scores.stream(), Stream.of(i)).collect(Collectors.toList()));\r\n                }\r\n                return iterations++;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Printing all dice combinations for a target sum using dynamic programming","body":"<p>Below is an option to optimize your function. The approach is similar to yours, but it includes the additional condition, which stops the recursion if the branch can't lead to any correct solutions. This significantly reduces number of required iterations. With numbers from your example the iteraton count decreases from 43 to 7. I'm not sure about the O complexity, it depends on the input, but with some tests I see the number of iterations is proportional to the nr of solutions, so I'd assume it's O(n)</p>\n<pre><code>public class Dice {\n    static final int target = 10;\n    static final int diceCount = 2;\n    static final int sides = 6;\n    static int iterations = 0;\n    static int validIterations = 0;\n\n    public static void main(String[] args) {\n        scorePrinter(sides, diceCount, new ArrayList&lt;&gt;());\n        System.out.println(&quot;Iterations nr: &quot; + iterations);\n        System.out.println(&quot;Valid combinations: &quot; + validIterations);\n    }\n\n    static int scorePrinter(int sides, int dice, List&lt;Integer&gt; scores) {\n        int scoresSum = scores.stream().reduce(0, Integer::sum);\n        if (dice == 0 &amp;&amp; scoresSum == target) {\n            System.out.println(scores);\n            validIterations++;\n            return iterations++;\n        }\n        else if (dice == 0) {\n            return iterations++;\n        }\n        else {\n            for (int i = 1; i &lt; sides + 1; i++) {\n                if ((dice - 1 &lt;= (target - scoresSum - i)) &amp;&amp; ((sides * (dice - 1)) &gt;= target - scoresSum - i))\n                    scorePrinter(sides, dice - 1, Stream.concat(scores.stream(), Stream.of(i)).collect(Collectors.toList()));\n            }\n            return iterations++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654112551,"creation_date":1654112233,"answer_id":72467211,"question_id":72406541,"body_markdown":"Here is a DP implementation.\r\n\r\nThe idea is: to solve the problem with `n` dice and target `t`, you can:\r\n\r\n- Take the first die and consider all its possible values\r\n- For every value `v`, consider the subproblem consisting of `n - 1` dice and target `t - v`\r\n- Combine `v` with the solutions of the subproblem\r\n\r\nWhen a problem (`n`, `t`) is solved, its solutions are stored in a map (memoization).\r\n\r\n``` lang-java\r\nimport java.util.*;\r\n\r\npublic class DiceSolver\r\n{\r\n\tprivate int sides;\r\n\tprivate HashMap&lt;String, List&lt;int[]&gt;&gt; cache;\r\n\r\n\tpublic DiceSolver(int sides)\r\n\t{\r\n\t\tthis.sides = sides;\r\n\t\tcache = new HashMap&lt;String, List&lt;int[]&gt;&gt;();\r\n\t}\r\n\r\n\tpublic List&lt;int[]&gt; getSolutions(int numDice, int target)\r\n\t{\r\n\t\t// No need to compute anything if the target is out of reach\r\n\t\tif(target &lt; numDice || target &gt; sides * numDice)\r\n\t\t\treturn Collections.emptyList();\r\n\r\n\t\tString key = numDice + &quot;|&quot; + target;\r\n\t\tList&lt;int[]&gt; solutions = cache.get(key);\r\n\t\tif(solutions==null)\r\n\t\t{\r\n\t\t\t// Compute the solutions and store them in the cache\r\n\t\t\tsolutions = computeSolutions(numDice, target);\r\n\t\t\tcache.put(key, solutions);\r\n\t\t}\r\n\t\treturn solutions;\r\n\t}\r\n\r\n\tprivate List&lt;int[]&gt; computeSolutions(int numDice, int target)\r\n\t{\r\n\t\tif(numDice &gt; 1)\r\n\t\t{\r\n\t\t\tList&lt;int[]&gt; solutions = new ArrayList&lt;int[]&gt;();\r\n\t\t\tfor(int v=1;v&lt;=sides;v++)\r\n\t\t\t{\r\n\t\t\t\t// Combine the first die with the solutions of the subproblem\r\n\t\t\t\tfor(int[] sol : getSolutions(numDice - 1, target - v))\r\n\t\t\t\t\tsolutions.add(prepend(v, sol));\r\n\t\t\t}\r\n\t\t\treturn solutions;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// 1-die problem\r\n\t\t\treturn Collections.singletonList(new int[]{target});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static int[] prepend(int val, int[] arr)\r\n\t{\r\n\t\tint[] res = new int[arr.length + 1];\r\n\t\tres[0] = val;\r\n\t\tSystem.arraycopy(arr, 0, res, 1, arr.length);\r\n\t\treturn res;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tDiceSolver solver = new DiceSolver(6);\r\n\t\tList&lt;int[]&gt; solutions = solver.getSolutions(2, 10);\r\n\t\tsolutions.forEach(sol -&gt; System.out.println(Arrays.toString(sol)));\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\n[4, 6]\r\n[5, 5]\r\n[6, 4]\r\n```\r\n","title":"Printing all dice combinations for a target sum using dynamic programming","body":"<p>Here is a DP implementation.</p>\n<p>The idea is: to solve the problem with <code>n</code> dice and target <code>t</code>, you can:</p>\n<ul>\n<li>Take the first die and consider all its possible values</li>\n<li>For every value <code>v</code>, consider the subproblem consisting of <code>n - 1</code> dice and target <code>t - v</code></li>\n<li>Combine <code>v</code> with the solutions of the subproblem</li>\n</ul>\n<p>When a problem (<code>n</code>, <code>t</code>) is solved, its solutions are stored in a map (memoization).</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class DiceSolver\n{\n    private int sides;\n    private HashMap&lt;String, List&lt;int[]&gt;&gt; cache;\n\n    public DiceSolver(int sides)\n    {\n        this.sides = sides;\n        cache = new HashMap&lt;String, List&lt;int[]&gt;&gt;();\n    }\n\n    public List&lt;int[]&gt; getSolutions(int numDice, int target)\n    {\n        // No need to compute anything if the target is out of reach\n        if(target &lt; numDice || target &gt; sides * numDice)\n            return Collections.emptyList();\n\n        String key = numDice + &quot;|&quot; + target;\n        List&lt;int[]&gt; solutions = cache.get(key);\n        if(solutions==null)\n        {\n            // Compute the solutions and store them in the cache\n            solutions = computeSolutions(numDice, target);\n            cache.put(key, solutions);\n        }\n        return solutions;\n    }\n\n    private List&lt;int[]&gt; computeSolutions(int numDice, int target)\n    {\n        if(numDice &gt; 1)\n        {\n            List&lt;int[]&gt; solutions = new ArrayList&lt;int[]&gt;();\n            for(int v=1;v&lt;=sides;v++)\n            {\n                // Combine the first die with the solutions of the subproblem\n                for(int[] sol : getSolutions(numDice - 1, target - v))\n                    solutions.add(prepend(v, sol));\n            }\n            return solutions;\n        }\n        else\n        {\n            // 1-die problem\n            return Collections.singletonList(new int[]{target});\n        }\n    }\n\n    private static int[] prepend(int val, int[] arr)\n    {\n        int[] res = new int[arr.length + 1];\n        res[0] = val;\n        System.arraycopy(arr, 0, res, 1, arr.length);\n        return res;\n    }\n\n    public static void main(String[] args) \n    {\n        DiceSolver solver = new DiceSolver(6);\n        List&lt;int[]&gt; solutions = solver.getSolutions(2, 10);\n        solutions.forEach(sol -&gt; System.out.println(Arrays.toString(sol)));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[4, 6]\n[5, 5]\n[6, 4]\n</code></pre>\n"}],"owner":{"account_id":6686089,"reputation":77,"user_id":5157293,"accept_rate":40,"display_name":"Sibi Sundarrajan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72467211,"answer_count":2,"score":0,"last_activity_date":1654116849,"creation_date":1653659800,"question_id":72406541,"body_markdown":"I have a problem to solve where we have n number of dice, each with 6 faces. I need to print all possible combinations for which the sum of the face-up numbers equals target.  \r\nfor example: if `n=2, target=10`, then I need to print `(4,6), (6,4), (5,5)`\r\n\r\nI was able to get to solve this with the below code but I want a more optimized solution using dynamic programming. \r\nAlso, I was not sure how to calculate the time complexity for the below code, please help me to find the time complexity (Big O notation) of the below code and also help me to optimize and reduce the time complexity of this code using dynamic programming and memoization\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        int numDie = 2;\r\n        int target = 10;\r\n        int sides = 6;\r\n        printTargetSumCombination(numDie, target, sides, new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    private static void printTargetSumCombination(int numDie, int target, int sides, List&lt;Integer&gt; chosen) {\r\n        if (numDie == 0) {\r\n            if(chosen.stream().mapToInt(Integer::intValue).sum()==target)\r\n                System.out.println(chosen);\r\n        } else {\r\n            for (int i = 1; i &lt;= sides; i++) {\r\n                chosen.add(i);\r\n                printTargetSumCombination(numDie - 1, target, sides, chosen);\r\n                chosen.remove(chosen.size() - 1);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Printing all dice combinations for a target sum using dynamic programming","body":"<p>I have a problem to solve where we have n number of dice, each with 6 faces. I need to print all possible combinations for which the sum of the face-up numbers equals target.<br />\nfor example: if <code>n=2, target=10</code>, then I need to print <code>(4,6), (6,4), (5,5)</code></p>\n<p>I was able to get to solve this with the below code but I want a more optimized solution using dynamic programming.\nAlso, I was not sure how to calculate the time complexity for the below code, please help me to find the time complexity (Big O notation) of the below code and also help me to optimize and reduce the time complexity of this code using dynamic programming and memoization</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        int numDie = 2;\n        int target = 10;\n        int sides = 6;\n        printTargetSumCombination(numDie, target, sides, new ArrayList&lt;&gt;());\n    }\n\n    private static void printTargetSumCombination(int numDie, int target, int sides, List&lt;Integer&gt; chosen) {\n        if (numDie == 0) {\n            if(chosen.stream().mapToInt(Integer::intValue).sum()==target)\n                System.out.println(chosen);\n        } else {\n            for (int i = 1; i &lt;= sides; i++) {\n                chosen.add(i);\n                printTargetSumCombination(numDie - 1, target, sides, chosen);\n                chosen.remove(chosen.size() - 1);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","liquibase"],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654116781,"creation_date":1654116781,"answer_id":72467921,"question_id":71541891,"body_markdown":"This answer was posted previously: https://stackoverflow.com/questions/29711327/error-creating-bean-with-name-liquibase-defined-in-class-path-resource-co \r\n\r\n&gt; I had the same problem. My solution is this way:\r\n&gt; \r\n&gt; ```\r\n&gt;      Open ;\r\n&gt;      *Database Tables (mySql or postgresql or another)\r\n&gt;      *databasechangeloglock Table\r\n&gt; \r\n&gt;      Change;\r\n&gt;      *Locked=false\r\n&gt;```\r\n&gt; \r\n&gt; I reached the solution in this way. I hope it solves your problem.","title":"Creating multiple beans by a list in properties","body":"<p>This answer was posted previously: <a href=\"https://stackoverflow.com/questions/29711327/error-creating-bean-with-name-liquibase-defined-in-class-path-resource-co\">Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class</a></p>\n<blockquote>\n<p>I had the same problem. My solution is this way:</p>\n<pre><code>     Open ;\n     *Database Tables (mySql or postgresql or another)\n     *databasechangeloglock Table\n\n     Change;\n     *Locked=false\n</code></pre>\n<p>I reached the solution in this way. I hope it solves your problem.</p>\n</blockquote>\n"}],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654116781,"creation_date":1647722431,"question_id":71541891,"body_markdown":"Basically, I would like to create beans by a list in my application.yml file.\r\n\r\nI have to use multiple Liquibase changelog files within my Spring Boot application. Sadly, I can&#39;t do it in spring boot&#39;s configuration and I cannot put these files into one file, because the number of changelog files is always changing. Not an ideal situation but I cannot do anything against it now.\r\nSo, I figured out that defining Liquibase beans can help me out. Changelog files are getting used in the right order. But I want to add the files in the `application.yml` file.\r\n```yml\r\nmyconfig:\r\n  - pathToChangeLogFile_1\r\n  - pathToChangeLogFile_2\r\n  - pathToChangeLogFile_3\r\n```\r\n```java\r\nimport java.sql.DataSource;\r\nimport liquibase.integration.spring.SpringLiquibase;\r\n\r\n@Configuration\r\nclass LiquibaseConfiguration {\r\n    \r\n    @Bean\r\n    public SpringLiquibase firstLiquibase(Datasource dataSource) {\r\n        SpringLiquibase liquibase = new SpringLiquibse();\r\n        liquibase.setDataSource(dataSource);\r\n        // ...\r\n        // other method calls\r\n        liquibase.setChangeLog(&quot;pathToChangeLogFile_1&quot;);\r\n        return liquibase;\r\n    }\r\n\r\n    @Bean\r\n    @DependsOn(&quot;firstLiquibase&quot;)\r\n    public SpringLiquibase secondLiquibase(Datasource dataSource) {\r\n        SpringLiquibase liquibase = new SpringLiquibse();\r\n        liquibase.setDataSource(dataSource);\r\n        // ...\r\n        // other method calls\r\n        liquibase.setChangeLog(&quot;pathToChangeLogFile_2&quot;);\r\n        return liquibase;\r\n    }\r\n\r\n    // Other beans and etc.\r\n}\r\n```\r\nI don&#39;t want to rewrite my code every time a file is getting added. How would I create beans in spring by the application property config (list)? I thought of some kind of bean factory but I don&#39;t know how should I make sure my bean is getting the `DataSource` there which is pretty straightforward with bean definition.\r\nI looked at `ImportBeanDefinitionRegistrar`, `EnvironmentAware`, `BeanFactoryAware` interfaces but I can&#39;t tell if I am on the good track. ","title":"Creating multiple beans by a list in properties","body":"<p>Basically, I would like to create beans by a list in my application.yml file.</p>\n<p>I have to use multiple Liquibase changelog files within my Spring Boot application. Sadly, I can't do it in spring boot's configuration and I cannot put these files into one file, because the number of changelog files is always changing. Not an ideal situation but I cannot do anything against it now.\nSo, I figured out that defining Liquibase beans can help me out. Changelog files are getting used in the right order. But I want to add the files in the <code>application.yml</code> file.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>myconfig:\n  - pathToChangeLogFile_1\n  - pathToChangeLogFile_2\n  - pathToChangeLogFile_3\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.DataSource;\nimport liquibase.integration.spring.SpringLiquibase;\n\n@Configuration\nclass LiquibaseConfiguration {\n    \n    @Bean\n    public SpringLiquibase firstLiquibase(Datasource dataSource) {\n        SpringLiquibase liquibase = new SpringLiquibse();\n        liquibase.setDataSource(dataSource);\n        // ...\n        // other method calls\n        liquibase.setChangeLog(&quot;pathToChangeLogFile_1&quot;);\n        return liquibase;\n    }\n\n    @Bean\n    @DependsOn(&quot;firstLiquibase&quot;)\n    public SpringLiquibase secondLiquibase(Datasource dataSource) {\n        SpringLiquibase liquibase = new SpringLiquibse();\n        liquibase.setDataSource(dataSource);\n        // ...\n        // other method calls\n        liquibase.setChangeLog(&quot;pathToChangeLogFile_2&quot;);\n        return liquibase;\n    }\n\n    // Other beans and etc.\n}\n</code></pre>\n<p>I don't want to rewrite my code every time a file is getting added. How would I create beans in spring by the application property config (list)? I thought of some kind of bean factory but I don't know how should I make sure my bean is getting the <code>DataSource</code> there which is pretty straightforward with bean definition.\nI looked at <code>ImportBeanDefinitionRegistrar</code>, <code>EnvironmentAware</code>, <code>BeanFactoryAware</code> interfaces but I can't tell if I am on the good track.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":2,"creation_date":1654111300,"post_id":72466948,"comment_id":128016430,"body_markdown":"So you have *several* imageviews backed by images, one of them is throwing OOM, and you&#39;d like to know which one? The OOM is not predictable; depending on the device&#39;s memory situation at any given run, it may crash on one attempt at allocation or at another.","body":"So you have <i>several</i> imageviews backed by images, one of them is throwing OOM, and you&#39;d like to know which one? The OOM is not predictable; depending on the device&#39;s memory situation at any given run, it may crash on one attempt at allocation or at another."},{"owner":{"account_id":25065028,"reputation":19,"user_id":18919463,"display_name":"Elparaguas"},"score":0,"creation_date":1654111574,"post_id":72466948,"comment_id":128016514,"body_markdown":"@SevaAlekseyev I have an image that is 1800x1800px, could it be that image that is causing the problem? I mean is 1800x1800px images be a factor of memory leak?","body":"@SevaAlekseyev I have an image that is 1800x1800px, could it be that image that is causing the problem? I mean is 1800x1800px images be a factor of memory leak?"},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":0,"creation_date":1654111861,"post_id":72466948,"comment_id":128016606,"body_markdown":"Your call stack looks like program&#39;s initial startup. A memory leak is unlikely; leaks usually manifest after some running time. It&#39;s probably the image. That said, modern Android devices should be able to handle a 12 MB image. Do you have *one* image that big, or several? Try looking at the heap state at crash time - any other big memory consumers?","body":"Your call stack looks like program&#39;s initial startup. A memory leak is unlikely; leaks usually manifest after some running time. It&#39;s probably the image. That said, modern Android devices should be able to handle a 12 MB image. Do you have <i>one</i> image that big, or several? Try looking at the heap state at crash time - any other big memory consumers?"},{"owner":{"account_id":25065028,"reputation":19,"user_id":18919463,"display_name":"Elparaguas"},"score":0,"creation_date":1654112274,"post_id":72466948,"comment_id":128016748,"body_markdown":"@SevaAlekseyev How can I look at the heap state at crash time?","body":"@SevaAlekseyev How can I look at the heap state at crash time?"},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":0,"creation_date":1654112430,"post_id":72466948,"comment_id":128016803,"body_markdown":"Is this crash happening on your device, or on a user&#39;s one?","body":"Is this crash happening on your device, or on a user&#39;s one?"},{"owner":{"account_id":25065028,"reputation":19,"user_id":18919463,"display_name":"Elparaguas"},"score":1,"creation_date":1654112695,"post_id":72466948,"comment_id":128016889,"body_markdown":"@SevaAlekseyev on a user device. It is an error of the developer console panel. I have the device model only","body":"@SevaAlekseyev on a user device. It is an error of the developer console panel. I have the device model only"}],"answers":[{"tags":[],"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1654113150,"creation_date":1654113150,"answer_id":72467346,"question_id":72466948,"body_markdown":"So it&#39;s a user crash. You are out of luck then. So you have a user with a cheap device that can&#39;t handle that image. :)\r\n\r\nThe best I can suggest:\r\n\r\n - Create a downscaled version of the image\r\n - Do a `try/catch` in `ActivityWorkout.onCreate`\r\n - Capture the out-of-memory exception\r\n - Set a &quot;this is a low-memory device&quot; flag in the settings (use `SharedPreferences`)\r\n - Before loading the layout, read that flag\r\n - Depending on its value, conditionally use either the full, or the downscaled version of the image","title":"Out of memory error java.lang.OutOfMemoryError","body":"<p>So it's a user crash. You are out of luck then. So you have a user with a cheap device that can't handle that image. :)</p>\n<p>The best I can suggest:</p>\n<ul>\n<li>Create a downscaled version of the image</li>\n<li>Do a <code>try/catch</code> in <code>ActivityWorkout.onCreate</code></li>\n<li>Capture the out-of-memory exception</li>\n<li>Set a &quot;this is a low-memory device&quot; flag in the settings (use <code>SharedPreferences</code>)</li>\n<li>Before loading the layout, read that flag</li>\n<li>Depending on its value, conditionally use either the full, or the downscaled version of the image</li>\n</ul>\n"}],"owner":{"account_id":25065028,"reputation":19,"user_id":18919463,"display_name":"Elparaguas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72467346,"answer_count":1,"score":0,"last_activity_date":1654116552,"creation_date":1654110450,"question_id":72466948,"body_markdown":"So I&#39;m trying to see what is producing this error but I can&#180;t see where is the problem. . I know that this error is produced because some images are too big so memory can&#180;t be reserved for it. but I have been a couple of days trying to see what image is making this error to show but I can&#180;t see it.Hope someone can help me. This is stack trace:\r\n\r\n```\r\njava.lang.OutOfMemoryError: \r\n\r\n```\r\n\r\n\r\n","title":"Out of memory error java.lang.OutOfMemoryError","body":"<p>So I'm trying to see what is producing this error but I canÂ´t see where is the problem. . I know that this error is produced because some images are too big so memory canÂ´t be reserved for it. but I have been a couple of days trying to see what image is making this error to show but I canÂ´t see it.Hope someone can help me. This is stack trace:</p>\n<pre><code>java.lang.OutOfMemoryError: \n\n</code></pre>\n"},{"tags":["java","user-interface","swing"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1299660700,"creation_date":1299660700,"answer_id":5243290,"question_id":5243218,"body_markdown":"Your code is perfectible (the mouse listener is not needed, and the panel should be added to the content pane of the JFrame), but it works. Maybe it would seem to work better if you gave some text to your menu items :\r\n\r\n    cut = new JMenuItem(&quot;Cut&quot;);\r\n\r\n","title":"JPopupMenu is not working","body":"<p>Your code is perfectible (the mouse listener is not needed, and the panel should be added to the content pane of the JFrame), but it works. Maybe it would seem to work better if you gave some text to your menu items :</p>\n\n<pre><code>cut = new JMenuItem(\"Cut\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":240243,"reputation":12119,"user_id":510360,"accept_rate":80,"display_name":"Mohamed Saligh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654116063,"creation_date":1299660812,"answer_id":5243304,"question_id":5243218,"body_markdown":"Your `MenuItem` size is `0` that is the reason I guess.\r\n\r\nSo, set some text for your `MenuItem`.\r\n\r\n    cut = new JMenuItem(&quot;Cut&quot;);\r\n    ...\r\n    copy = new JMenuItem(&quot;Copy&quot;);\r\n\r\n","title":"JPopupMenu is not working","body":"<p>Your <code>MenuItem</code> size is <code>0</code> that is the reason I guess.</p>\n<p>So, set some text for your <code>MenuItem</code>.</p>\n<pre><code>cut = new JMenuItem(&quot;Cut&quot;);\n...\ncopy = new JMenuItem(&quot;Copy&quot;);\n</code></pre>\n"}],"owner":{"account_id":257306,"reputation":3952,"user_id":538636,"accept_rate":86,"display_name":"Pavithra Gunasekara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5243290,"answer_count":2,"score":0,"last_activity_date":1654116063,"creation_date":1299660257,"question_id":5243218,"body_markdown":"I wrote a simple program to understand how `JPopupMenu` works. But something is wrong with my code it doesn&#39;t show popup menu correctly. Please can someone tell me the reason?\r\n\r\n\r\n\r\n    \r\n\r\n    public class PopUpMenu extends JFrame implements ActionListener {\r\n\r\n\tJPanel panel;\r\n\tJPopupMenu popMenu;\r\n\tJMenuItem cut;\r\n\tJMenuItem copy;\r\n\r\n\tpublic PopUpMenu() {\r\n\r\n\t\tsetVisible(true);\r\n\t\tsetSize(300, 300);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\r\n\t\tpanel = new JPanel();\r\n\t\tpopMenu = new JPopupMenu();\r\n\t\tcut = new JMenuItem();\r\n\t\tpopMenu.add(cut);\r\n\t\tcopy = new JMenuItem();\r\n\t\tpopMenu.add(copy);\r\n\r\n\t\tadd(panel);\r\n\t\tpanel.setComponentPopupMenu(popMenu);\r\n\r\n\t\taddMouseListener(new MouseAdapter() {\r\n\t\t\tpublic void mouseReleased(MouseEvent Me) {\r\n\t\t\t\tif (Me.isPopupTrigger()) {\r\n\t\t\t\t\tpopMenu.show(Me.getComponent(), Me.getX(), Me.getY());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tpublic void actionPerformed(ActionEvent arg0) {\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tRunnable r = new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tPopUpMenu pop = new PopUpMenu();\r\n\t\t\t}\r\n\t\t};\r\n\t\tSwingUtilities.invokeLater(r);\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n   ","title":"JPopupMenu is not working","body":"<p>I wrote a simple program to understand how <code>JPopupMenu</code> works. But something is wrong with my code it doesn't show popup menu correctly. Please can someone tell me the reason?</p>\n\n<pre><code>public class PopUpMenu extends JFrame implements ActionListener {\n\nJPanel panel;\nJPopupMenu popMenu;\nJMenuItem cut;\nJMenuItem copy;\n\npublic PopUpMenu() {\n\n    setVisible(true);\n    setSize(300, 300);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n    panel = new JPanel();\n    popMenu = new JPopupMenu();\n    cut = new JMenuItem();\n    popMenu.add(cut);\n    copy = new JMenuItem();\n    popMenu.add(copy);\n\n    add(panel);\n    panel.setComponentPopupMenu(popMenu);\n\n    addMouseListener(new MouseAdapter() {\n        public void mouseReleased(MouseEvent Me) {\n            if (Me.isPopupTrigger()) {\n                popMenu.show(Me.getComponent(), Me.getX(), Me.getY());\n            }\n        }\n    });\n\n}\n\npublic void actionPerformed(ActionEvent arg0) {\n\n}\n\npublic static void main(String[] args) {\n\n    Runnable r = new Runnable() {\n        public void run() {\n            PopUpMenu pop = new PopUpMenu();\n        }\n    };\n    SwingUtilities.invokeLater(r);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","cryptography","sha256","salt"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654103575,"post_id":72465660,"comment_id":128013928,"body_markdown":"You should probably show how you&#39;re calling that code. Of course if you use the empty ctor,  `salt` and `hash` will be left as null strings","body":"You should probably show how you&#39;re calling that code. Of course if you use the empty ctor,  <code>salt</code> and <code>hash</code> will be left as null strings"},{"owner":{"account_id":20375743,"reputation":135,"user_id":14946977,"display_name":"Trung Ki&#234;n"},"score":0,"creation_date":1654104046,"post_id":72465660,"comment_id":128014086,"body_markdown":"@g00se I edited the question. Also the empty ctor is auto generated by vscode extension and I forgot to delete it.","body":"@g00se I edited the question. Also the empty ctor is auto generated by vscode extension and I forgot to delete it."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1654104538,"post_id":72465660,"comment_id":128014242,"body_markdown":"Where to begin? [A] This code is _incredibly_ inefficient, doing all sorts of bizarre things (such as using string &#39;math&#39; to concatenate binary prints instead of just processing the bytes as they are), and making pointless `new String` calls, [B] hashing passwords with SHA256 is a dumb thing to do. Use BCrypt, SCrypt, PBKDF2, or any other password-specific hashing scheme, [C] Do not handroll your crypto algorithms. This one, for example, has timing attack vulnerabilities everywhere.","body":"Where to begin? [A] This code is <i>incredibly</i> inefficient, doing all sorts of bizarre things (such as using string &#39;math&#39; to concatenate binary prints instead of just processing the bytes as they are), and making pointless <code>new String</code> calls, [B] hashing passwords with SHA256 is a dumb thing to do. Use BCrypt, SCrypt, PBKDF2, or any other password-specific hashing scheme, [C] Do not handroll your crypto algorithms. This one, for example, has timing attack vulnerabilities everywhere."},{"owner":{"account_id":20375743,"reputation":135,"user_id":14946977,"display_name":"Trung Ki&#234;n"},"score":0,"creation_date":1654104737,"post_id":72465660,"comment_id":128014300,"body_markdown":"@rzwitserloot Sorry for the problems. I only write this for learning purpose to understand how it works, and I&#39;m still learning PBKDF2, so I didn&#39;t make it that far. And as I said, I&#39;m new to Java so inefficient is really unavoidable.","body":"@rzwitserloot Sorry for the problems. I only write this for learning purpose to understand how it works, and I&#39;m still learning PBKDF2, so I didn&#39;t make it that far. And as I said, I&#39;m new to Java so inefficient is really unavoidable."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1654104896,"post_id":72465660,"comment_id":128014354,"body_markdown":"If you are doing it as a learning exercise, get rid of all the custom preprocessing that isn&#39;t teaching you anything good. SHA-256 works on a string of bytes. Just encode your text (using a specified `Charset` like `StandardCharsets.UTF_8`) to bytes and &quot;learn&quot; how SHA-256 works with that. Your problem might go away with that, but if the problem remains, at least people can focus on the stuff that matters instead of the strange string processing you are doing.","body":"If you are doing it as a learning exercise, get rid of all the custom preprocessing that isn&#39;t teaching you anything good. SHA-256 works on a string of bytes. Just encode your text (using a specified <code>Charset</code> like <code>StandardCharsets.UTF_8</code>) to bytes and &quot;learn&quot; how SHA-256 works with that. Your problem might go away with that, but if the problem remains, at least people can focus on the stuff that matters instead of the strange string processing you are doing."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1654105004,"post_id":72465660,"comment_id":128014387,"body_markdown":"A good practice to learn is to never, ever do your own cryptography.","body":"A good practice to learn is to never, ever do your own cryptography."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1654107137,"post_id":72465660,"comment_id":128015115,"body_markdown":"In any case, you should separate your SHA-256 implementation from any other processing. Then write tests on the SHA-256 algorithm using published &quot;test vectors&quot; and other known-good inputs and outputs. Basic divide and conquer debugging.","body":"In any case, you should separate your SHA-256 implementation from any other processing. Then write tests on the SHA-256 algorithm using published &quot;test vectors&quot; and other known-good inputs and outputs. Basic divide and conquer debugging."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654115775,"creation_date":1654115775,"answer_id":72467763,"question_id":72465660,"body_markdown":"The error occurs in the processing of the message schedule array (the `w` arraylist, the terminology is from https://en.wikipedia.org/wiki/SHA-2):\r\n\r\n      for (int j = 0; j &lt; 64; j++) {\r\n        int temp1 = h + rightRotate3(e) + ((e &amp; f) ^ (~e &amp; g)) + K[i] + w.get(i);\r\n        int temp2 = rightRotate4(a) + ((a &amp; b) ^ (a &amp; c) ^ (b &amp; c));\r\n        h = g;\r\n        g = f;\r\n        f = e;\r\n        e = d + temp1;\r\n        d = c;\r\n        c = b;\r\n        b = a;\r\n        a = temp1 + temp2;\r\n      }\r\n\r\nYour loop variable here is `j`, but you use the variable `i` to access the message schedule array (`i` is used in the outer loop that processes the message chunks).\r\n\r\nThe correct code is\r\n\r\n      for (int j = 0; j &lt; 64; j++) {\r\n        int temp1 = h + rightRotate3(e) + ((e &amp; f) ^ (~e &amp; g)) + K[j] + w.get(j);\r\n        int temp2 = rightRotate4(a) + ((a &amp; b) ^ (a &amp; c) ^ (b &amp; c));\r\n        h = g;\r\n        g = f;\r\n        f = e;\r\n        e = d + temp1;\r\n        d = c;\r\n        c = b;\r\n        b = a;\r\n        a = temp1 + temp2;\r\n      }","title":"SHA256 keeps creating same hash with different salt value","body":"<p>The error occurs in the processing of the message schedule array (the <code>w</code> arraylist, the terminology is from <a href=\"https://en.wikipedia.org/wiki/SHA-2\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/SHA-2</a>):</p>\n<pre><code>  for (int j = 0; j &lt; 64; j++) {\n    int temp1 = h + rightRotate3(e) + ((e &amp; f) ^ (~e &amp; g)) + K[i] + w.get(i);\n    int temp2 = rightRotate4(a) + ((a &amp; b) ^ (a &amp; c) ^ (b &amp; c));\n    h = g;\n    g = f;\n    f = e;\n    e = d + temp1;\n    d = c;\n    c = b;\n    b = a;\n    a = temp1 + temp2;\n  }\n</code></pre>\n<p>Your loop variable here is <code>j</code>, but you use the variable <code>i</code> to access the message schedule array (<code>i</code> is used in the outer loop that processes the message chunks).</p>\n<p>The correct code is</p>\n<pre><code>  for (int j = 0; j &lt; 64; j++) {\n    int temp1 = h + rightRotate3(e) + ((e &amp; f) ^ (~e &amp; g)) + K[j] + w.get(j);\n    int temp2 = rightRotate4(a) + ((a &amp; b) ^ (a &amp; c) ^ (b &amp; c));\n    h = g;\n    g = f;\n    f = e;\n    e = d + temp1;\n    d = c;\n    c = b;\n    b = a;\n    a = temp1 + temp2;\n  }\n</code></pre>\n"}],"owner":{"account_id":20375743,"reputation":135,"user_id":14946977,"display_name":"Trung Ki&#234;n"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654115775,"creation_date":1654103269,"question_id":72465660,"body_markdown":"I wrote a simplified version of SHA256 algorithm and tried some inputs. At first it seems to work fine(although the output is a bit different from the online codes), but when I tried with input `&quot;admin&quot;`, it outputs the same hash regardless of salt String added to input. Surprisingly, if input is `&quot;admi`&quot;, `&quot;admin1&quot;` or `&quot;admin1234&quot;`, it still outputs the same hash. I didn&#39;t find any other input that has the same problem.\r\nHere&#39;s the code:\r\n```java\r\npackage src.encrypt;\r\n\r\nimport java.time.Instant;\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\npublic class Password {\r\n  private String salt;\r\n  private String hash;\r\n\r\n  private String saltGen() {\r\n    final String hex = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\r\n    Random rnd = new Random(Instant.now().toEpochMilli());\r\n    char[] salt = new char[16];\r\n    for (int i = 0; i &lt; 16; i++) {\r\n      int n = rnd.nextInt(hex.length());\r\n      salt[i] = hex.charAt(n);\r\n    }\r\n    return String.valueOf(salt);\r\n  }\r\n\r\n  public Password() {\r\n  };\r\n\r\n  public Password(String pass) {\r\n    salt = saltGen();\r\n    String p = new String(pass + salt);\r\n    hash = sha256(p);\r\n  }\r\n\r\n  public String getSalt() {\r\n    return salt;\r\n  }\r\n\r\n  public String getHash() {\r\n    return hash;\r\n  }\r\n\r\n  public boolean compareHash(String h) {\r\n    return getHash().equals(sha256(h + getSalt()));\r\n  }\r\n\r\n  // SHA-256 Hashing Algorithm\r\n  public String sha256(String str) {\r\n\r\n    // Pre-processing\r\n    ArrayList&lt;String&gt; hash = new ArrayList&lt;&gt;();\r\n    byte[] bytes = str.getBytes();\r\n    int i = 0;\r\n    for (i = 0; i &lt; bytes.length - 4; i += 4) {\r\n      String tmp = String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[i] &amp; 0xff)).replace(&#39; &#39;, &#39;0&#39;)\r\n          + String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[i + 1] &amp; 0xff)).replace(&#39; &#39;, &#39;0&#39;) +\r\n          String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[i + 2] &amp; 0xff)).replace(&#39; &#39;, &#39;0&#39;) +\r\n          String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[i + 3] &amp; 0xff)).replace(&#39; &#39;, &#39;0&#39;);\r\n      hash.add(tmp);\r\n    }\r\n    String temp = new String();\r\n    for (int j = i; j &lt; bytes.length; j++)\r\n      temp = new String(temp + String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[j] &amp; 0xff)).replace(&#39; &#39;, &#39;0&#39;));\r\n    if (temp.length() &lt; 32)\r\n      temp = new String(temp + &quot;10000000&quot;);\r\n    while (temp.length() &lt; 32)\r\n      temp = new String(temp + &quot;00000000&quot;);\r\n    hash.add(temp);\r\n    int l = 14 - hash.size() % 16;\r\n    for (i = 0; i &lt; l; i++)\r\n      hash.add(new String(&quot;00000000000000000000000000000000&quot;));\r\n    String tmp = String.format(&quot;%64s&quot;, Long.toBinaryString((long) (bytes.length * 8))).replace(&#39; &#39;, &#39;0&#39;);\r\n    hash.add(tmp.substring(0, 32));\r\n    hash.add(tmp.substring(32));\r\n\r\n    // Init Hash values\r\n    int H[] = {\r\n        0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\r\n    };\r\n\r\n    // Init Round Constants\r\n    int K[] = {\r\n        0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\r\n        0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\r\n        0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\r\n        0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\r\n        0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\r\n        0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\r\n        0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\r\n        0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\r\n    };\r\n\r\n    // Create Message Schedule and Compressing\r\n    l = hash.size() / 16;\r\n    int a = H[0], b = H[1], c = H[2], d = H[3], e = H[4], f = H[5], g = H[6], h = H[7];\r\n    ArrayList&lt;Integer&gt; w = new ArrayList&lt;&gt;();\r\n    for (i = 0; i &lt; l; i++) {\r\n      for (int j = i * 16; j &lt; (i + 1) * 16; j++) {\r\n        w.add(Integer.parseInt(hash.get(j), 2));\r\n      }\r\n      for (int j = 16; j &lt; 64; j++) {\r\n        int s0 = rightRotate1(w.get(j - 15));\r\n        int s1 = rightRotate2(w.get(j - 15));\r\n        w.add(w.get(j - 16) + s0 + w.get(j - 7) + s1);\r\n      }\r\n      for (int j = 0; j &lt; 64; j++) {\r\n        int temp1 = h + rightRotate3(e) + ((e &amp; f) ^ (~e &amp; g)) + K[i] + w.get(i);\r\n        int temp2 = rightRotate4(a) + ((a &amp; b) ^ (a &amp; c) ^ (b &amp; c));\r\n        h = g;\r\n        g = f;\r\n        f = e;\r\n        e = d + temp1;\r\n        d = c;\r\n        c = b;\r\n        b = a;\r\n        a = temp1 + temp2;\r\n      }\r\n      // Modify final values\r\n      H[0] = H[0] + a;\r\n      H[1] = H[1] + b;\r\n      H[2] = H[2] + c;\r\n      H[3] = H[3] + d;\r\n      H[4] = H[4] + e;\r\n      H[5] = H[5] + f;\r\n      H[6] = H[6] + g;\r\n      H[7] = H[7] + h;\r\n    }\r\n    // Concatenate final hash\r\n    String s = new String();\r\n    for (i = 0; i &lt; 8; i++) {\r\n      s = new String(s + String.format(&quot;%08X&quot;, H[i]).toLowerCase());\r\n    }\r\n    return s;\r\n  };\r\n  // right rotate\r\n  private int rotr(int x, int n) {\r\n    return (x &gt;&gt;&gt; n) | (x &lt;&lt; (32 - n));\r\n  }\r\n\r\n  private int rightRotate3(int x) {\r\n    return rotr(x, 6) ^ rotr(x, 11) ^ rotr(x, 25);\r\n  }\r\n\r\n  private int rightRotate4(int x) {\r\n    return rotr(x, 2) ^ rotr(x, 13) ^ rotr(x, 22);\r\n  }\r\n\r\n  private int rightRotate1(int x) {\r\n    return rotr(x, 7) ^ rotr(x, 18) ^ x &gt;&gt;&gt; 3;\r\n  }\r\n\r\n  private int rightRotate2(int x) {\r\n    return rotr(x, 17) ^ rotr(x, 19) ^ x &gt;&gt;&gt; 10;\r\n  }\r\n```\r\nWith input `&quot;admin&quot;`, output is always `&quot;0920b401857e70a28c7b645c04195f2f15b54b98a7e7810f6d46c3a9c74adf6a&quot;`&lt;br&gt;\r\nCan anyone spot some bugs or mistakes that I made?&lt;br&gt;\r\nPlease note that I&#39;m new to Java so some methods I use maybe unefficient.\r\n\r\n**EDIT**\r\nHere&#39;s how I call the method:\r\n```java\r\n// Main.java\r\nimport src.encrypt.Password;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    String pass = &quot;admin&quot;;\r\n    Password p = new Password(pass);\r\n    System.out.println(p.getSalt()); // different calls, different values\r\n    System.out.println(p.getHash()); // different calls, same value\r\n  }\r\n}\r\n```","title":"SHA256 keeps creating same hash with different salt value","body":"<p>I wrote a simplified version of SHA256 algorithm and tried some inputs. At first it seems to work fine(although the output is a bit different from the online codes), but when I tried with input <code>&quot;admin&quot;</code>, it outputs the same hash regardless of salt String added to input. Surprisingly, if input is <code>&quot;admi</code>&quot;, <code>&quot;admin1&quot;</code> or <code>&quot;admin1234&quot;</code>, it still outputs the same hash. I didn't find any other input that has the same problem.\nHere's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package src.encrypt;\n\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.Random;\n\npublic class Password {\n  private String salt;\n  private String hash;\n\n  private String saltGen() {\n    final String hex = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\n    Random rnd = new Random(Instant.now().toEpochMilli());\n    char[] salt = new char[16];\n    for (int i = 0; i &lt; 16; i++) {\n      int n = rnd.nextInt(hex.length());\n      salt[i] = hex.charAt(n);\n    }\n    return String.valueOf(salt);\n  }\n\n  public Password() {\n  };\n\n  public Password(String pass) {\n    salt = saltGen();\n    String p = new String(pass + salt);\n    hash = sha256(p);\n  }\n\n  public String getSalt() {\n    return salt;\n  }\n\n  public String getHash() {\n    return hash;\n  }\n\n  public boolean compareHash(String h) {\n    return getHash().equals(sha256(h + getSalt()));\n  }\n\n  // SHA-256 Hashing Algorithm\n  public String sha256(String str) {\n\n    // Pre-processing\n    ArrayList&lt;String&gt; hash = new ArrayList&lt;&gt;();\n    byte[] bytes = str.getBytes();\n    int i = 0;\n    for (i = 0; i &lt; bytes.length - 4; i += 4) {\n      String tmp = String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[i] &amp; 0xff)).replace(' ', '0')\n          + String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[i + 1] &amp; 0xff)).replace(' ', '0') +\n          String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[i + 2] &amp; 0xff)).replace(' ', '0') +\n          String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[i + 3] &amp; 0xff)).replace(' ', '0');\n      hash.add(tmp);\n    }\n    String temp = new String();\n    for (int j = i; j &lt; bytes.length; j++)\n      temp = new String(temp + String.format(&quot;%8s&quot;, Integer.toBinaryString(bytes[j] &amp; 0xff)).replace(' ', '0'));\n    if (temp.length() &lt; 32)\n      temp = new String(temp + &quot;10000000&quot;);\n    while (temp.length() &lt; 32)\n      temp = new String(temp + &quot;00000000&quot;);\n    hash.add(temp);\n    int l = 14 - hash.size() % 16;\n    for (i = 0; i &lt; l; i++)\n      hash.add(new String(&quot;00000000000000000000000000000000&quot;));\n    String tmp = String.format(&quot;%64s&quot;, Long.toBinaryString((long) (bytes.length * 8))).replace(' ', '0');\n    hash.add(tmp.substring(0, 32));\n    hash.add(tmp.substring(32));\n\n    // Init Hash values\n    int H[] = {\n        0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n    };\n\n    // Init Round Constants\n    int K[] = {\n        0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n        0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n        0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n        0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n        0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n        0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n        0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n        0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n    };\n\n    // Create Message Schedule and Compressing\n    l = hash.size() / 16;\n    int a = H[0], b = H[1], c = H[2], d = H[3], e = H[4], f = H[5], g = H[6], h = H[7];\n    ArrayList&lt;Integer&gt; w = new ArrayList&lt;&gt;();\n    for (i = 0; i &lt; l; i++) {\n      for (int j = i * 16; j &lt; (i + 1) * 16; j++) {\n        w.add(Integer.parseInt(hash.get(j), 2));\n      }\n      for (int j = 16; j &lt; 64; j++) {\n        int s0 = rightRotate1(w.get(j - 15));\n        int s1 = rightRotate2(w.get(j - 15));\n        w.add(w.get(j - 16) + s0 + w.get(j - 7) + s1);\n      }\n      for (int j = 0; j &lt; 64; j++) {\n        int temp1 = h + rightRotate3(e) + ((e &amp; f) ^ (~e &amp; g)) + K[i] + w.get(i);\n        int temp2 = rightRotate4(a) + ((a &amp; b) ^ (a &amp; c) ^ (b &amp; c));\n        h = g;\n        g = f;\n        f = e;\n        e = d + temp1;\n        d = c;\n        c = b;\n        b = a;\n        a = temp1 + temp2;\n      }\n      // Modify final values\n      H[0] = H[0] + a;\n      H[1] = H[1] + b;\n      H[2] = H[2] + c;\n      H[3] = H[3] + d;\n      H[4] = H[4] + e;\n      H[5] = H[5] + f;\n      H[6] = H[6] + g;\n      H[7] = H[7] + h;\n    }\n    // Concatenate final hash\n    String s = new String();\n    for (i = 0; i &lt; 8; i++) {\n      s = new String(s + String.format(&quot;%08X&quot;, H[i]).toLowerCase());\n    }\n    return s;\n  };\n  // right rotate\n  private int rotr(int x, int n) {\n    return (x &gt;&gt;&gt; n) | (x &lt;&lt; (32 - n));\n  }\n\n  private int rightRotate3(int x) {\n    return rotr(x, 6) ^ rotr(x, 11) ^ rotr(x, 25);\n  }\n\n  private int rightRotate4(int x) {\n    return rotr(x, 2) ^ rotr(x, 13) ^ rotr(x, 22);\n  }\n\n  private int rightRotate1(int x) {\n    return rotr(x, 7) ^ rotr(x, 18) ^ x &gt;&gt;&gt; 3;\n  }\n\n  private int rightRotate2(int x) {\n    return rotr(x, 17) ^ rotr(x, 19) ^ x &gt;&gt;&gt; 10;\n  }\n</code></pre>\n<p>With input <code>&quot;admin&quot;</code>, output is always <code>&quot;0920b401857e70a28c7b645c04195f2f15b54b98a7e7810f6d46c3a9c74adf6a&quot;</code><br>\nCan anyone spot some bugs or mistakes that I made?<br>\nPlease note that I'm new to Java so some methods I use maybe unefficient.</p>\n<p><strong>EDIT</strong>\nHere's how I call the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Main.java\nimport src.encrypt.Password;\n\npublic class Main {\n  public static void main(String[] args) {\n    String pass = &quot;admin&quot;;\n    Password p = new Password(pass);\n    System.out.println(p.getSalt()); // different calls, different values\n    System.out.println(p.getHash()); // different calls, same value\n  }\n}\n</code></pre>\n"},{"tags":["java","kotlin","dictionary","data-structures","jvm"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1654111453,"post_id":72466939,"comment_id":128016478,"body_markdown":"Can you show more examples? What if the filter was `ParameterName(&quot;A&quot;) to setOf(&quot;color&quot;)` or `ParameterName(&quot;A&quot;) to setOf(&quot;brand&quot;, &quot;color&quot;)` or what if there are multiple parameter names with the same set like `ParameterName(&quot;A&quot;) to setOf(&quot;brand&quot;), ParameterName(&quot;B&quot;) to setOf(&quot;brand&quot;)`, or what if the set is empty like `ParameterName(&quot;A&quot;) to setOf()`?","body":"Can you show more examples? What if the filter was <code>ParameterName(&quot;A&quot;) to setOf(&quot;color&quot;)</code> or <code>ParameterName(&quot;A&quot;) to setOf(&quot;brand&quot;, &quot;color&quot;)</code> or what if there are multiple parameter names with the same set like <code>ParameterName(&quot;A&quot;) to setOf(&quot;brand&quot;), ParameterName(&quot;B&quot;) to setOf(&quot;brand&quot;)</code>, or what if the set is empty like <code>ParameterName(&quot;A&quot;) to setOf()</code>?"},{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":0,"creation_date":1654111563,"post_id":72466939,"comment_id":128016510,"body_markdown":"1) Why the data class _ParameterName_? A String would do.\n2) Why the data class _Filter_? A Map would do.","body":"1) Why the data class <i>ParameterName</i>? A String would do. 2) Why the data class <i>Filter</i>? A Map would do."},{"owner":{"account_id":25439409,"reputation":25,"user_id":19242618,"display_name":"xard4sTR"},"score":0,"creation_date":1654111879,"post_id":72466939,"comment_id":128016612,"body_markdown":"The incoming data are created in such a way that the parameters that I will have to save will always be the only value in the set (eg ```ParameterName (&quot;Author&quot;) to setOf (&quot;Murakami&quot;)``` For example - the producer will always be one, the author will also be one etc. If eg Brand parameter will be duplicated - I save the first If the value for the searched key is empty - I write null.","body":"The incoming data are created in such a way that the parameters that I will have to save will always be the only value in the set (eg <code>ParameterName (&quot;Author&quot;) to setOf (&quot;Murakami&quot;)</code> For example - the producer will always be one, the author will also be one etc. If eg Brand parameter will be duplicated - I save the first If the value for the searched key is empty - I write null."},{"owner":{"account_id":25439409,"reputation":25,"user_id":19242618,"display_name":"xard4sTR"},"score":0,"creation_date":1654111931,"post_id":72466939,"comment_id":128016629,"body_markdown":"Such requirements were imposed. I can&#39;t change it.","body":"Such requirements were imposed. I can&#39;t change it."},{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":0,"creation_date":1654112103,"post_id":72466939,"comment_id":128016683,"body_markdown":"Are the data classes your code? Meaning could you change them?","body":"Are the data classes your code? Meaning could you change them?"},{"owner":{"account_id":25439409,"reputation":25,"user_id":19242618,"display_name":"xard4sTR"},"score":0,"creation_date":1654112424,"post_id":72466939,"comment_id":128016800,"body_markdown":"If the change does not change the business logic and I have arguments to defend it - then yes, but only Filter class. Rest - not. (\nin short - I can try to convince to change the structure on Filter to ``` &lt;String, Set &lt;String&gt;&gt;```)","body":"If the change does not change the business logic and I have arguments to defend it - then yes, but only Filter class. Rest - not. ( in short - I can try to convince to change the structure on Filter to ``` &lt;String, Set &lt;String&gt;&gt;```)"},{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":0,"creation_date":1654112653,"post_id":72466939,"comment_id":128016873,"body_markdown":"A data class with one property is usually superfluous. _data class ParameterName(val key: String)_ is nothing else than a _String_. And _data class Filter(val filters: Map&lt;ParameterName, Set&lt;String&gt;&gt;)_ is nothing else than a _Map&lt;String, Set&lt;String&gt;&gt;_.","body":"A data class with one property is usually superfluous. <i>data class ParameterName(val key: String)</i> is nothing else than a <i>String</i>. And <i>data class Filter(val filters: Map&lt;ParameterName, Set&lt;String&gt;&gt;)</i> is nothing else than a <i>Map&lt;String, Set&lt;String&gt;&gt;</i>."},{"owner":{"account_id":25439409,"reputation":25,"user_id":19242618,"display_name":"xard4sTR"},"score":0,"creation_date":1654112871,"post_id":72466939,"comment_id":128016937,"body_markdown":"Then I will try to output the solution  Map&lt;String, Set &lt;String&gt;&gt;. Unfortunately, even in this form, I do not know how to meet the business requirements (create a filtering method)","body":"Then I will try to output the solution  Map&lt;String, Set &lt;String&gt;&gt;. Unfortunately, even in this form, I do not know how to meet the business requirements (create a filtering method)"},{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":0,"creation_date":1654113143,"post_id":72466939,"comment_id":128017012,"body_markdown":"Ok. Next question: in the _data class Parameter_ do all three properties need to be nullable?","body":"Ok. Next question: in the <i>data class Parameter</i> do all three properties need to be nullable?"},{"owner":{"account_id":25439409,"reputation":25,"user_id":19242618,"display_name":"xard4sTR"},"score":0,"creation_date":1654113288,"post_id":72466939,"comment_id":128017043,"body_markdown":"Yes. Data comes from multiple sources and tends to be incomplete.","body":"Yes. Data comes from multiple sources and tends to be incomplete."},{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":0,"creation_date":1654113485,"post_id":72466939,"comment_id":128017105,"body_markdown":"But when a _Parameter_ instance is built, does your code add for example for a missing _id_ _null_ or &quot;&quot; (an empty string)? Same question for name. And for missing information for the property _values_: do you add _null_ or _emptyList()_?","body":"But when a <i>Parameter</i> instance is built, does your code add for example for a missing <i>id</i> <i>null</i> or &quot;&quot; (an empty string)? Same question for name. And for missing information for the property <i>values</i>: do you add <i>null</i> or <i>emptyList()</i>?"},{"owner":{"account_id":25439409,"reputation":25,"user_id":19242618,"display_name":"xard4sTR"},"score":0,"creation_date":1654113728,"post_id":72466939,"comment_id":128017171,"body_markdown":"null for id and name.  emptyList() for values","body":"null for id and name.  emptyList() for values"}],"answers":[{"tags":[],"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654115278,"creation_date":1654113782,"answer_id":72467435,"question_id":72466939,"body_markdown":"    data class Parameter(\r\n      val id: String?,\r\n      val name: String?,\r\n      val values: List&lt;String&gt;?\r\n    )\r\n    \r\n    val parameters = listOf(\r\n      Parameter(&quot;123&quot;, &quot;brand&quot;, listOf(&quot;Nike&quot;)),\r\n      Parameter(&quot;3433&quot;, &quot;color&quot;, listOf(&quot;red&quot;, &quot;black&quot;)),\r\n      Parameter(&quot;22313&quot;, &quot;model&quot;, listOf(&quot;air max&quot;)),\r\n      Parameter(&quot;2312&quot;, &quot;origin&quot;, listOf(&quot;USA&quot;)),\r\n      Parameter(null, &quot;size&quot;, listOf(&quot;7&quot;, &quot;7.5&quot;, &quot;8&quot;, &quot;9&quot;)),\r\n      Parameter(&quot;987&quot;, null, listOf(&quot;lalala&quot;)),\r\n      Parameter(&quot;999&quot;, &quot;code&quot;, null),\r\n      Parameter(null, null, null)\r\n    )\r\n    \r\n    val filters = mapOf(\r\n      &quot;Manufacturer&quot; to setOf(&quot;brand&quot;, &quot;producer&quot;),\r\n      &quot;Country&quot; to setOf(&quot;origin&quot;, &quot;from&quot;)\r\n    )\r\n    \r\n    fun getValuesForParameterName(parameters: List&lt;Parameter&gt;, filters: Map&lt;String, Set&lt;String&gt;&gt;): Map&lt;String, List&lt;String&gt;&gt; {\r\n      return parameters\r\n        .filter { parameter -&gt; parameter.name in filters.flatMap { map -&gt; map.value } }\r\n        .map { parameter -&gt; filters.filter { map -&gt; map.value.contains(parameter.name) }.keys.first() to parameter.values }\r\n        .groupBy { (name, _) -&gt; name }\r\n        .map { (name, values) -&gt; name to values.map { (_, list) -&gt; list ?: emptyList() }.flatten() }\r\n        .toMap()\r\n    }\r\n    \r\n    val result = getValuesForParameterName(parameters, filters)\r\n    println(result)                   // Output: {Manufacturer=[Nike], Property=[USA]}\r\n    println(result[&quot;Manufacturer&quot;])   // Output: [Nike]\r\n    println(result[&quot;Country&quot;])        // Output: [USA]\r\n\r\n","title":"Filtering the list of objects using the Map in Kotlin","body":"<pre><code>data class Parameter(\n  val id: String?,\n  val name: String?,\n  val values: List&lt;String&gt;?\n)\n\nval parameters = listOf(\n  Parameter(&quot;123&quot;, &quot;brand&quot;, listOf(&quot;Nike&quot;)),\n  Parameter(&quot;3433&quot;, &quot;color&quot;, listOf(&quot;red&quot;, &quot;black&quot;)),\n  Parameter(&quot;22313&quot;, &quot;model&quot;, listOf(&quot;air max&quot;)),\n  Parameter(&quot;2312&quot;, &quot;origin&quot;, listOf(&quot;USA&quot;)),\n  Parameter(null, &quot;size&quot;, listOf(&quot;7&quot;, &quot;7.5&quot;, &quot;8&quot;, &quot;9&quot;)),\n  Parameter(&quot;987&quot;, null, listOf(&quot;lalala&quot;)),\n  Parameter(&quot;999&quot;, &quot;code&quot;, null),\n  Parameter(null, null, null)\n)\n\nval filters = mapOf(\n  &quot;Manufacturer&quot; to setOf(&quot;brand&quot;, &quot;producer&quot;),\n  &quot;Country&quot; to setOf(&quot;origin&quot;, &quot;from&quot;)\n)\n\nfun getValuesForParameterName(parameters: List&lt;Parameter&gt;, filters: Map&lt;String, Set&lt;String&gt;&gt;): Map&lt;String, List&lt;String&gt;&gt; {\n  return parameters\n    .filter { parameter -&gt; parameter.name in filters.flatMap { map -&gt; map.value } }\n    .map { parameter -&gt; filters.filter { map -&gt; map.value.contains(parameter.name) }.keys.first() to parameter.values }\n    .groupBy { (name, _) -&gt; name }\n    .map { (name, values) -&gt; name to values.map { (_, list) -&gt; list ?: emptyList() }.flatten() }\n    .toMap()\n}\n\nval result = getValuesForParameterName(parameters, filters)\nprintln(result)                   // Output: {Manufacturer=[Nike], Property=[USA]}\nprintln(result[&quot;Manufacturer&quot;])   // Output: [Nike]\nprintln(result[&quot;Country&quot;])        // Output: [USA]\n</code></pre>\n"}],"owner":{"account_id":25439409,"reputation":25,"user_id":19242618,"display_name":"xard4sTR"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72467435,"answer_count":1,"score":0,"last_activity_date":1654115278,"creation_date":1654110409,"question_id":72466939,"body_markdown":"I am trying to create a dictionary filter that will filter the incoming list of parameters.  \r\nThe problem is that when there are parameters in the list that should be filtered and removed - I get a NullPointerException.  \r\nBasic informations:  \r\nThis is how filter looks: \r\n```\r\ndata class Filter(\r\n    val filters: Map&lt;ParameterName, Set&lt;String&gt;&gt;\r\n)\r\n\r\ndata class ParameterName(\r\n    val key: String\r\n)\r\n```\r\nExample of filter: \r\n```\r\nFilter(filters={ParameterName(key=Manufacturer)=[brand, producer]})\r\n```\r\n\r\nThe filtered list (`List&lt;Parameter&gt;`) has the following structure:  \r\n```\r\ndata class Parameter(\r\n    val id: String?,\r\n    val name: String?,\r\n    val values: List&lt;String&gt;?\r\n)\r\n```\r\nExample of `List&lt;Parameter&gt;`\r\n```\r\n[Parameter(id=123, name=brand, values=[Nike]), Parameter(id=345, name=color, values=[black, pink]), Parameter(id=823, name=test, values=[some, thing])]\r\n\r\n```\r\n\r\nThe logic is that the filtered list is changed to Map &lt;String, ParameterValue&gt;. Where:  \r\na) String (key) is the value of the filter key (The key in the filter map has the main value and any other names under it. For example - under Manufacturer we have got values &quot;brand&quot; or &quot;producer&quot;)\r\n  \r\nb) The parameter value (e.g. Nike) is assigned to the ParameterValue object (val value: String). \r\n  \r\nWhat have I prepared:\r\n\r\n```\r\n        fun filterParameters(\r\n            parametersList: List&lt;Parameter&gt;,\r\n            filters: Map&lt;ParameterName, Set&lt;String&gt;&gt;\r\n        ): Map&lt;String, ParameterValue&gt; {\r\n            return parametersList.associate { param -&gt;\r\n                filters.filter {\r\n                    it.value.first().equals(param.name, ignoreCase = true)\r\n                }.keys.first().key to ParameterValue(value = param.values!!.first())\r\n            }.toMap()\r\n        }\r\n```\r\n\r\n  \r\nFlow example: \r\n1) Input to the method:  \r\na) Parameters list:  \r\n```\r\n        listOf(\r\n            Parameter(\r\n                &quot;123&quot;,\r\n                &quot;brand&quot;,\r\n                listOf(&quot;Nike&quot;)\r\n            ),\r\n            Parameter(\r\n                &quot;345&quot;,\r\n                &quot;color&quot;,\r\n                listOf(&quot;black&quot;, &quot;pink&quot;)\r\n            ),\r\n            Parameter(\r\n                &quot;823&quot;,\r\n                &quot;test&quot;,\r\n                listOf(&quot;some&quot;, &quot;thing&quot;)\r\n            )\r\n        )\r\n```\r\nb) Filter: \r\n```\r\n        mapOf(\r\n            ParameterName(&quot;Manufacturer&quot;) to setOf(&quot;brand&quot;, &quot;producer&quot;)\r\n        )\r\n```\r\n\r\n2)Expected output:\r\n```\r\n{Manufacturer=ParameterValue(value=Nike)}\r\n\r\n```\r\n  \r\nExpected output structure:  \r\n\r\n    Map&lt;String, ParameterValue&gt;\r\n\r\nwhere \r\n\r\n    data class ParameterValue(\r\n    val parameterId: String? = null,\r\n    val value: String,\r\n    val valueId: String? = null\r\n)\r\n\r\nSo we just fill value - String","title":"Filtering the list of objects using the Map in Kotlin","body":"<p>I am trying to create a dictionary filter that will filter the incoming list of parameters.<br />\nThe problem is that when there are parameters in the list that should be filtered and removed - I get a NullPointerException.<br />\nBasic informations:<br />\nThis is how filter looks:</p>\n<pre><code>data class Filter(\n    val filters: Map&lt;ParameterName, Set&lt;String&gt;&gt;\n)\n\ndata class ParameterName(\n    val key: String\n)\n</code></pre>\n<p>Example of filter:</p>\n<pre><code>Filter(filters={ParameterName(key=Manufacturer)=[brand, producer]})\n</code></pre>\n<p>The filtered list (<code>List&lt;Parameter&gt;</code>) has the following structure:</p>\n<pre><code>data class Parameter(\n    val id: String?,\n    val name: String?,\n    val values: List&lt;String&gt;?\n)\n</code></pre>\n<p>Example of <code>List&lt;Parameter&gt;</code></p>\n<pre><code>[Parameter(id=123, name=brand, values=[Nike]), Parameter(id=345, name=color, values=[black, pink]), Parameter(id=823, name=test, values=[some, thing])]\n\n</code></pre>\n<p>The logic is that the filtered list is changed to Map &lt;String, ParameterValue&gt;. Where:<br />\na) String (key) is the value of the filter key (The key in the filter map has the main value and any other names under it. For example - under Manufacturer we have got values &quot;brand&quot; or &quot;producer&quot;)</p>\n<p>b) The parameter value (e.g. Nike) is assigned to the ParameterValue object (val value: String).</p>\n<p>What have I prepared:</p>\n<pre><code>        fun filterParameters(\n            parametersList: List&lt;Parameter&gt;,\n            filters: Map&lt;ParameterName, Set&lt;String&gt;&gt;\n        ): Map&lt;String, ParameterValue&gt; {\n            return parametersList.associate { param -&gt;\n                filters.filter {\n                    it.value.first().equals(param.name, ignoreCase = true)\n                }.keys.first().key to ParameterValue(value = param.values!!.first())\n            }.toMap()\n        }\n</code></pre>\n<p>Flow example:</p>\n<ol>\n<li>Input to the method:<br />\na) Parameters list:</li>\n</ol>\n<pre><code>        listOf(\n            Parameter(\n                &quot;123&quot;,\n                &quot;brand&quot;,\n                listOf(&quot;Nike&quot;)\n            ),\n            Parameter(\n                &quot;345&quot;,\n                &quot;color&quot;,\n                listOf(&quot;black&quot;, &quot;pink&quot;)\n            ),\n            Parameter(\n                &quot;823&quot;,\n                &quot;test&quot;,\n                listOf(&quot;some&quot;, &quot;thing&quot;)\n            )\n        )\n</code></pre>\n<p>b) Filter:</p>\n<pre><code>        mapOf(\n            ParameterName(&quot;Manufacturer&quot;) to setOf(&quot;brand&quot;, &quot;producer&quot;)\n        )\n</code></pre>\n<p>2)Expected output:</p>\n<pre><code>{Manufacturer=ParameterValue(value=Nike)}\n\n</code></pre>\n<p>Expected output structure:</p>\n<pre><code>Map&lt;String, ParameterValue&gt;\n</code></pre>\n<p>where</p>\n<pre><code>data class ParameterValue(\nval parameterId: String? = null,\nval value: String,\nval valueId: String? = null\n</code></pre>\n<p>)</p>\n<p>So we just fill value - String</p>\n"},{"tags":["java","android","unicode","printing","arabic"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1545629547,"post_id":53909331,"comment_id":94663439,"body_markdown":"It may help to list what printer / software version you are testing against.","body":"It may help to list what printer / software version you are testing against."},{"owner":{"account_id":433666,"reputation":694,"user_id":819135,"accept_rate":28,"display_name":"Mayuri Ruparel"},"score":1,"creation_date":1545644625,"post_id":53909331,"comment_id":94667286,"body_markdown":"I am using Epson Tm-30 .. If i print character byte I can see arabic printed.. so its not that its not supporting..","body":"I am using Epson Tm-30 .. If i print character byte I can see arabic printed.. so its not that its not supporting.."},{"owner":{"account_id":9555532,"reputation":373,"user_id":7098141,"display_name":"mike"},"score":1,"creation_date":1546228776,"post_id":53909331,"comment_id":94804273,"body_markdown":"see if it helps: https://stackoverflow.com/questions/10640030/java-escpos-charset-encoding","body":"see if it helps: <a href=\"https://stackoverflow.com/questions/10640030/java-escpos-charset-encoding\" title=\"java escpos charset encoding\">stackoverflow.com/questions/10640030/&hellip;</a>"},{"owner":{"account_id":15012756,"reputation":66,"user_id":10836744,"display_name":"Aavery"},"score":2,"creation_date":1546538369,"post_id":53909331,"comment_id":94891236,"body_markdown":"Could the problem be that you are getting the bytes as us-ascii? I don&#39;t think that it supports most characters. (stringToBytesASCIIOK method)","body":"Could the problem be that you are getting the bytes as us-ascii? I don&#39;t think that it supports most characters. (stringToBytesASCIIOK method)"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1546567185,"creation_date":1546562592,"answer_id":54031768,"question_id":53909331,"body_markdown":"most easy would be to use the Epson SDK; because it does not care if it&#39;s an Epson printer - only the vendor ID in the device-filter for USB devices differs in between the vendors; but Star Micronics and other 100% compatibles work just fine. if you want to write your own driver, which literally means re-inventing the wheel; have a look at [ESC/POS][1] appendix C, page 73:\r\n\r\nfor Arabic you&#39;d need to select character table `13` with the `ESC t` command, which is IBM code-page [CP864][2]. the sequence would be: ` \\x1B \\x74 \\xD`. the output also would have to be encoded as `CP864`, converted from `UTF-16`, so that it matches the code-page, which the printer then expects.\r\n\r\n  [1]: https://files.support.epson.com/pdf/general/escp2ref.pdf\r\n  [2]: https://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/PC/CP864.TXT","title":"Android Thermal printer Arabic Issue","body":"<p>most easy would be to use the Epson SDK; because it does not care if it's an Epson printer - only the vendor ID in the device-filter for USB devices differs in between the vendors; but Star Micronics and other 100% compatibles work just fine. if you want to write your own driver, which literally means re-inventing the wheel; have a look at <a href=\"https://files.support.epson.com/pdf/general/escp2ref.pdf\" rel=\"nofollow noreferrer\">ESC/POS</a> appendix C, page 73:</p>\n\n<p>for Arabic you'd need to select character table <code>13</code> with the <code>ESC t</code> command, which is IBM code-page <a href=\"https://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/PC/CP864.TXT\" rel=\"nofollow noreferrer\">CP864</a>. the sequence would be: <code>\\x1B \\x74 \\xD</code>. the output also would have to be encoded as <code>CP864</code>, converted from <code>UTF-16</code>, so that it matches the code-page, which the printer then expects.</p>\n"},{"tags":[],"owner":{"account_id":10130788,"reputation":21,"user_id":7484297,"display_name":"Elrayes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654115075,"creation_date":1654115075,"answer_id":72467657,"question_id":53909331,"body_markdown":"You have to find the character table for your printer and write the corresponding commands to let the printer know that you are printing multi byte characters such as Arabic characters. In my case, I was using sunmi printer and the only thing that worked for me was finding its character table and I wrote the commands and it worked very well. Here&#39;s a picture of what they said in the documentation.\r\n[a picture of what they said in the documentation][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IiYRm.png\r\n\r\nAnd this is what I did and it worked perfectly\r\n\r\n        const utf8Encoder = Utf8Encoder();\r\n    final encodedStr = utf8Encoder.convert(invoice.description);\r\n    bytes += generator.textEncoded(Uint8List.fromList([\r\n      ...[0x1C, 0x26, 0x1C, 0x43, 0xFF],\r\n      ...encodedStr\r\n    ]));","title":"Android Thermal printer Arabic Issue","body":"<p>You have to find the character table for your printer and write the corresponding commands to let the printer know that you are printing multi byte characters such as Arabic characters. In my case, I was using sunmi printer and the only thing that worked for me was finding its character table and I wrote the commands and it worked very well. Here's a picture of what they said in the documentation.\n<a href=\"https://i.stack.imgur.com/IiYRm.png\" rel=\"nofollow noreferrer\">a picture of what they said in the documentation</a></p>\n<p>And this is what I did and it worked perfectly</p>\n<pre><code>    const utf8Encoder = Utf8Encoder();\nfinal encodedStr = utf8Encoder.convert(invoice.description);\nbytes += generator.textEncoded(Uint8List.fromList([\n  ...[0x1C, 0x26, 0x1C, 0x43, 0xFF],\n  ...encodedStr\n]));\n</code></pre>\n"}],"owner":{"account_id":433666,"reputation":694,"user_id":819135,"accept_rate":28,"display_name":"Mayuri Ruparel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3921,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1654115075,"creation_date":1545627722,"question_id":53909331,"body_markdown":"    \r\n    \r\n    public class Globals {\r\n        // TODO IMPORTANT CONFIG CHANGES\r\n        // ** IMPORTANT CONFIGURATION\r\n        private static String serverRealUrl = &quot;http://www.myserver.com/api&quot;;    //Real Server configuration\r\n        private static String serverLocalUrl = &quot;http://localhost:80/api&quot;;             //local configuration\r\n        /**\r\n         * Substitute you own sender ID here. This is the project number you got\r\n         * from the API Console, as described in &quot;Getting Started.&quot;\r\n         */\r\n    \r\n        public static String SENDER_ID = &quot;000000&quot;;\r\n        public static String base64EncodedPublicKey = &quot;xxxxx&quot;;\r\n        //DEBUG MODO\r\n        public static boolean debugModeBoolean = true;  //USE in DEBUG MODE\r\n        //public static boolean debugModeBoolean = false;  //USE in REAL  MODE\r\n    \r\n    \r\n        //PRINT FROM WEB ENABLES\r\n        //public static boolean printFronWebEnabled = true;  //USE to activate print fron web\r\n        public static boolean printFronWebEnabled = false;  //USE  to deactivate print fron web\r\n    \r\n        //GCM Register\r\n        //public static boolean gcmRegisterEnabled = true;  //USE to register device in GCM\r\n        public static boolean gcmRegisterEnabled = false;  // not use gcm services\r\n    \r\n    \r\n        //IN APP BILLING\r\n        //public static boolean inAppBillingModeON = true;  //USE in pay app modo on\r\n        public static boolean inAppBillingModeON = false;  //USE in pay app modo off\r\n    \r\n    \r\n        private static String internalClassName = &quot;Globals&quot;;    // * Tag used on log messages.\r\n        public static int deviceType = 0;                       // * Device type\r\n        //0 Pending config (Default as start)\r\n        //1 NET Print\r\n        //2 RS232   -&gt;Pending\r\n        //3 USB\r\n        //4 BT\r\n    \r\n        //Google subscriptions\r\n        public static boolean mSubscribedToYearlyUsed = false;\r\n    \r\n    \r\n        // Bluetooth  variable Config\r\n        public static BluetoothAdapter mBluetoothAdapter;\r\n        public static BluetoothSocket mmSocket;\r\n        public static BluetoothDevice mmDevice;\r\n    \r\n    \r\n        public static String logoProcesed = &quot;&quot;;\r\n    \r\n        public static OutputStream mmOutputStream;\r\n        public static InputStream mmInputStream;\r\n    \r\n    \r\n        // NET Printer Config\r\n        public static String deviceIP = &quot;&quot;;\r\n        public static int devicePort = 0;\r\n        public static int usbDeviceID = 0;\r\n        public static int usbVendorID = 0;\r\n        public static int usbProductID = 0;\r\n        public static String blueToothDeviceAdress = &quot;&quot;;\r\n        public static int blueToothSpinnerSelected = -1;\r\n    \r\n        public static String tmpDeviceIP = &quot;&quot;;\r\n        public static int tmpDevicePort = 0;\r\n        public static int tmpUsbDeviceID = 0;\r\n        public static int tmpUsbVendorID = 0;\r\n        public static int tmpUsbProductID = 0;\r\n        public static String link_code = &quot;&quot;;\r\n        public static String tmpBlueToothDeviceAdress = &quot;&quot;;\r\n    \r\n    \r\n        public static String getServerUrl() {\r\n            String actualServer = &quot;&quot;;\r\n            if (debugModeBoolean) {\r\n                actualServer = serverLocalUrl;\r\n            } else {\r\n                actualServer = serverRealUrl;\r\n            }\r\n    \r\n            return actualServer;\r\n        }\r\n    \r\n        public static String server_registerPrinter = &quot;registerPrinter&quot;;\r\n        public static String server_getData = &quot;getData&quot;;\r\n        public static String regid = &quot;&quot;;\r\n        public static String picturePath = &quot;&quot;;\r\n    \r\n    \r\n        public static void savePreferences(SharedPreferences sharedPrefs) {\r\n            Log.i(internalClassName, &quot;savePreferences&quot;);\r\n    \r\n    \r\n            SharedPreferences.Editor editor = sharedPrefs.edit();\r\n            editor.putString(&quot;usbDeviceID&quot;, String.valueOf(usbDeviceID));\r\n            editor.putString(&quot;usbVendorID&quot;, String.valueOf(usbVendorID));\r\n            editor.putString(&quot;usbProductID&quot;, String.valueOf(usbProductID));\r\n    \r\n    \r\n            editor.putString(&quot;blueToothDeviceAdress&quot;, String.valueOf(blueToothDeviceAdress));\r\n    \r\n    \r\n            editor.putString(&quot;deviceType&quot;, String.valueOf(deviceType));\r\n            //Ethernet\r\n            editor.putString(&quot;deviceIP&quot;, String.valueOf(deviceIP));\r\n            editor.putString(&quot;devicePort&quot;, String.valueOf(devicePort));\r\n    \r\n            editor.putString(&quot;link_code&quot;, String.valueOf(link_code));\r\n            editor.putString(&quot;picturePath&quot;, String.valueOf(picturePath));\r\n            editor.putString(&quot;logoProcesed&quot;, logoProcesed);\r\n    \r\n            Log.i(internalClassName, &quot;               deviceType=&quot; + String.valueOf(deviceType));\r\n            Log.i(internalClassName, &quot;               deviceIP=&quot; + String.valueOf(deviceIP));\r\n            Log.i(internalClassName, &quot;               devicePort=&quot; + String.valueOf(devicePort));\r\n            Log.i(internalClassName, &quot;               usbDeviceID=&quot; + String.valueOf(usbDeviceID));\r\n            Log.i(internalClassName, &quot;               blueToothDeviceAdress=&quot; + String.valueOf(blueToothDeviceAdress));\r\n    \r\n    \r\n            editor.commit();\r\n    \r\n        }\r\n    \r\n        public static void savePreferenceskitchen(SharedPreferences sharedPrefs) {\r\n            Log.i(internalClassName, &quot;savePreferences&quot;);\r\n    \r\n    \r\n            SharedPreferences.Editor editor = sharedPrefs.edit();\r\n            editor.putString(&quot;usbDeviceID&quot;, String.valueOf(usbDeviceID));\r\n            editor.putString(&quot;usbVendorID&quot;, String.valueOf(usbVendorID));\r\n            editor.putString(&quot;usbProductID&quot;, String.valueOf(usbProductID));\r\n    \r\n    \r\n            editor.putString(&quot;blueToothDeviceAdress&quot;, String.valueOf(blueToothDeviceAdress));\r\n    \r\n    \r\n            editor.putString(&quot;deviceType&quot;, String.valueOf(deviceType));\r\n            //Ethernet\r\n            editor.putString(&quot;deviceIP&quot;, String.valueOf(deviceIP));\r\n            editor.putString(&quot;devicePort&quot;, String.valueOf(devicePort));\r\n    \r\n            editor.putString(&quot;link_code&quot;, String.valueOf(link_code));\r\n            editor.putString(&quot;picturePath&quot;, String.valueOf(picturePath));\r\n            editor.putString(&quot;logoProcesed&quot;, logoProcesed);\r\n    \r\n            Log.i(internalClassName, &quot;               deviceType=&quot; + String.valueOf(deviceType));\r\n            Log.i(internalClassName, &quot;               deviceIP=&quot; + String.valueOf(deviceIP));\r\n            Log.i(internalClassName, &quot;               devicePort=&quot; + String.valueOf(devicePort));\r\n            Log.i(internalClassName, &quot;               usbDeviceID=&quot; + String.valueOf(usbDeviceID));\r\n            Log.i(internalClassName, &quot;               blueToothDeviceAdress=&quot; + String.valueOf(blueToothDeviceAdress));\r\n    \r\n    \r\n            editor.commit();\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        public static void loadPreferences(SharedPreferences sharedPrefs) {\r\n            Log.i(internalClassName, &quot;loadPreferences&quot;);\r\n    \r\n    \r\n            usbDeviceID = mathIntegerFromString(sharedPrefs.getString(&quot;usbDeviceID&quot;, &quot;0&quot;), 0);\r\n            usbVendorID = mathIntegerFromString(sharedPrefs.getString(&quot;usbVendorID&quot;, &quot;0&quot;), 0);\r\n            usbProductID = mathIntegerFromString(sharedPrefs.getString(&quot;usbProductID&quot;, &quot;0&quot;), 0);\r\n    \r\n    \r\n            link_code = sharedPrefs.getString(&quot;link_code&quot;, &quot;&quot;);\r\n            picturePath = sharedPrefs.getString(&quot;picturePath&quot;, &quot;&quot;);\r\n            blueToothDeviceAdress = sharedPrefs.getString(&quot;blueToothDeviceAdress&quot;, &quot;x:x:x:x&quot;);\r\n    \r\n            deviceType = mathIntegerFromString(sharedPrefs.getString(&quot;deviceType&quot;, &quot;0&quot;), 0);\r\n            //Ethernet\r\n            deviceIP = sharedPrefs.getString(&quot;deviceIP&quot;, &quot;192.168.0.98&quot;);\r\n            devicePort = mathIntegerFromString(sharedPrefs.getString(&quot;devicePort&quot;, &quot;9100&quot;), 9100);\r\n            logoProcesed = sharedPrefs.getString(&quot;logoProcesed&quot;, &quot;&quot;);\r\n    \r\n    \r\n            Log.i(internalClassName, &quot;               deviceType=&quot; + String.valueOf(deviceType));\r\n            Log.i(internalClassName, &quot;               deviceIP=&quot; + String.valueOf(deviceIP));\r\n            Log.i(internalClassName, &quot;               devicePort=&quot; + String.valueOf(devicePort));\r\n            Log.i(internalClassName, &quot;               usbDeviceID=&quot; + String.valueOf(usbDeviceID));\r\n            Log.i(internalClassName, &quot;               blueToothDeviceAdress=&quot; + String.valueOf(blueToothDeviceAdress));\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        public static void loadPreferenceskitchen(SharedPreferences sharedPrefs) {\r\n            Log.i(internalClassName, &quot;loadPreferences&quot;);\r\n    \r\n    \r\n            usbDeviceID = mathIntegerFromString(sharedPrefs.getString(&quot;usbDeviceID&quot;, &quot;0&quot;), 0);\r\n            usbVendorID = mathIntegerFromString(sharedPrefs.getString(&quot;usbVendorID&quot;, &quot;0&quot;), 0);\r\n            usbProductID = mathIntegerFromString(sharedPrefs.getString(&quot;usbProductID&quot;, &quot;0&quot;), 0);\r\n    \r\n    \r\n            link_code = sharedPrefs.getString(&quot;link_code&quot;, &quot;&quot;);\r\n            picturePath = sharedPrefs.getString(&quot;picturePath&quot;, &quot;&quot;);\r\n            blueToothDeviceAdress = sharedPrefs.getString(&quot;blueToothDeviceAdress&quot;, &quot;x:x:x:x&quot;);\r\n    \r\n            deviceType = mathIntegerFromString(sharedPrefs.getString(&quot;deviceType&quot;, &quot;0&quot;), 0);\r\n            //Ethernet\r\n            deviceIP = sharedPrefs.getString(&quot;deviceIP&quot;, &quot;192.168.0.98&quot;);\r\n            devicePort = mathIntegerFromString(sharedPrefs.getString(&quot;devicePort&quot;, &quot;9100&quot;), 9100);\r\n            logoProcesed = sharedPrefs.getString(&quot;logoProcesed&quot;, &quot;&quot;);\r\n    \r\n    \r\n            Log.i(internalClassName, &quot;               deviceType=&quot; + String.valueOf(deviceType));\r\n            Log.i(internalClassName, &quot;               deviceIP=&quot; + String.valueOf(deviceIP));\r\n            Log.i(internalClassName, &quot;               devicePort=&quot; + String.valueOf(devicePort));\r\n            Log.i(internalClassName, &quot;               usbDeviceID=&quot; + String.valueOf(usbDeviceID));\r\n            Log.i(internalClassName, &quot;               blueToothDeviceAdress=&quot; + String.valueOf(blueToothDeviceAdress));\r\n    \r\n    \r\n        }\r\n    \r\n        public static Integer mathIntegerFromString(String inti, Integer defi) {\r\n            //used for preferences\r\n            Integer returi = defi;\r\n            if (!inti.equals(&quot;&quot;)) {\r\n                try {\r\n                    returi = Integer.valueOf(inti);\r\n                } catch (NumberFormatException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return returi;\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        public static String prepareDataToPrint(String data) {\r\n            //ESC POS Comamnds convertions\r\n    \r\n    \r\n            data = data.replace(&quot;$bold$&quot;, &quot;&#183;27&#183;E&#183;1&#183;&quot;);\r\n            data = data.replace(&quot;$unbold$&quot;, &quot;&#183;27&#183;E&#183;0&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;$intro$&quot;, &quot;&#183;13&#183;&#183;10&#183;&quot;);\r\n            data = data.replace(&quot;$cut$&quot;, &quot;&#183;27&#183;m&quot;);\r\n            data = data.replace(&quot;$cutt$&quot;, &quot;&#183;27&#183;i&quot;);\r\n    \r\n            data = data.replace(&quot;$al_left$&quot;, &quot;&#183;27&#183;a&#183;0&#183;&quot;);\r\n            data = data.replace(&quot;$al_center$&quot;, &quot;&#183;27&#183;a&#183;1&#183;&quot;);\r\n            data = data.replace(&quot;$al_right$&quot;, &quot;&#183;27&#183;a&#183;2&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$small$&quot;, &quot;&#183;27&#183;!&#183;1&#183;&quot;);\r\n            data = data.replace(&quot;$smallh$&quot;, &quot;&#183;27&#183;!&#183;17&#183;&quot;);\r\n            data = data.replace(&quot;$smallw$&quot;, &quot;&#183;27&#183;!&#183;33&#183;&quot;);\r\n            data = data.replace(&quot;$smallhw$&quot;, &quot;&#183;27&#183;!&#183;49&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$smallu$&quot;, &quot;&#183;27&#183;!&#183;129&#183;&quot;);\r\n            data = data.replace(&quot;$smalluh$&quot;, &quot;&#183;27&#183;!&#183;145&#183;&quot;);\r\n            data = data.replace(&quot;$smalluw$&quot;, &quot;&#183;27&#183;!&#183;161&#183;&quot;);\r\n            data = data.replace(&quot;$smalluhw$&quot;, &quot;&#183;27&#183;!&#183;177&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;$big$&quot;, &quot;&#183;27&#183;!&#183;0&#183;&quot;);\r\n            data = data.replace(&quot;$bigh$&quot;, &quot;&#183;27&#183;!&#183;16&#183;&quot;);\r\n            data = data.replace(&quot;$bigw$&quot;, &quot;&#183;27&#183;!&#183;32&#183;&quot;);\r\n            data = data.replace(&quot;$bighw$&quot;, &quot;&#183;27&#183;!&#183;48&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$bigu$&quot;, &quot;&#183;27&#183;!&#183;128&#183;&quot;);\r\n            data = data.replace(&quot;$biguh$&quot;, &quot;&#183;27&#183;!&#183;144&#183;&quot;);\r\n            data = data.replace(&quot;$biguw$&quot;, &quot;&#183;27&#183;!&#183;160&#183;&quot;);\r\n            data = data.replace(&quot;$biguhw$&quot;, &quot;&#183;27&#183;!&#183;176&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$drawer$&quot;, &quot;&#183;27&#183;&#183;112&#183;&#183;48&#183;&#183;200&#183;&#183;100&#183;&quot;);\r\n            data = data.replace(&quot;$drawer2$&quot;, &quot;&#183;27&#183;&#183;112&#183;&#183;49&#183;&#183;200&#183;&#183;100&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;$enter$&quot;, &quot;&#183;13&#183;&#183;10&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$letrap$&quot;, &quot;&#183;27&#183;!&#183;1&#183;&quot;);\r\n            data = data.replace(&quot;$letraph$&quot;, &quot;&#183;27&#183;!&#183;17&#183;&quot;);\r\n            data = data.replace(&quot;$letrapw$&quot;, &quot;&#183;27&#183;!&#183;33&#183;&quot;);\r\n            data = data.replace(&quot;$letraphw$&quot;, &quot;&#183;27&#183;!&#183;49&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$letrapu$&quot;, &quot;&#183;27&#183;!&#183;129&#183;&quot;);\r\n            data = data.replace(&quot;$letrapuh$&quot;, &quot;&#183;27&#183;!&#183;145&#183;&quot;);\r\n            data = data.replace(&quot;$letrapuw$&quot;, &quot;&#183;27&#183;!&#183;161&#183;&quot;);\r\n            data = data.replace(&quot;$letrapuhw$&quot;, &quot;&#183;27&#183;!&#183;177&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;$letrag$&quot;, &quot;&#183;27&#183;!&#183;0&#183;&quot;);\r\n            data = data.replace(&quot;$letragh$&quot;, &quot;&#183;27&#183;!&#183;16&#183;&quot;);\r\n            data = data.replace(&quot;$letragw$&quot;, &quot;&#183;27&#183;!&#183;32&#183;&quot;);\r\n            data = data.replace(&quot;$letraghw$&quot;, &quot;&#183;27&#183;!&#183;48&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$letragu$&quot;, &quot;&#183;27&#183;!&#183;128&#183;&quot;);\r\n            data = data.replace(&quot;$letraguh$&quot;, &quot;&#183;27&#183;!&#183;144&#183;&quot;);\r\n            data = data.replace(&quot;$letraguw$&quot;, &quot;&#183;27&#183;!&#183;160&#183;&quot;);\r\n            data = data.replace(&quot;$letraguhw$&quot;, &quot;&#183;27&#183;!&#183;176&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;$letracorte$&quot;, &quot;&#183;27&#183;m&quot;);\r\n            data = data.replace(&quot;$LETRACORTE$&quot;, &quot;&#183;27&#183;m&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;$ENTER$&quot;, &quot;&#183;13&#183;&#183;10&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$LETRAP$&quot;, &quot;&#183;27&#183;!&#183;1&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAPH$&quot;, &quot;&#183;27&#183;!&#183;17&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAPW$&quot;, &quot;&#183;27&#183;!&#183;33&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAPHW$&quot;, &quot;&#183;27&#183;!&#183;49&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$LETRAPU$&quot;, &quot;&#183;27&#183;!&#183;129&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAPUH$&quot;, &quot;&#183;27&#183;!&#183;145&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAPUW$&quot;, &quot;&#183;27&#183;!&#183;161&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAPUHW$&quot;, &quot;&#183;27&#183;!&#183;177&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;$LETRAG$&quot;, &quot;&#183;27&#183;!&#183;0&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAGH$&quot;, &quot;&#183;27&#183;!&#183;16&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAGW$&quot;, &quot;&#183;27&#183;!&#183;32&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAGHW$&quot;, &quot;&#183;27&#183;!&#183;48&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;$LETRAGU$&quot;, &quot;&#183;27&#183;!&#183;128&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAGUH$&quot;, &quot;&#183;27&#183;!&#183;144&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAGUW$&quot;, &quot;&#183;27&#183;!&#183;160&#183;&quot;);\r\n            data = data.replace(&quot;$LETRAGUHW$&quot;, &quot;&#183;27&#183;!&#183;176&#183;&quot;);\r\n    \r\n    \r\n    \r\n            data = data.replace(&quot;&#225;&quot;, &quot;&#183;160&#183;&quot;);\r\n            data = data.replace(&quot;&#224;&quot;, &quot;&#183;133&#183;&quot;);\r\n            data = data.replace(&quot;&#226;&quot;, &quot;&#183;131&#183;&quot;);\r\n            data = data.replace(&quot;&#228;&quot;, &quot;&#183;132&#183;&quot;);\r\n            data = data.replace(&quot;&#229;&quot;, &quot;&#183;134&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;&#193;&quot;, &quot;&#183;193&#183;&quot;);\r\n            data = data.replace(&quot;&#192;&quot;, &quot;&#183;192&#183;&quot;);\r\n            data = data.replace(&quot;&#194;&quot;, &quot;&#183;194&#183;&quot;);\r\n            data = data.replace(&quot;&#196;&quot;, &quot;&#183;142&#183;&quot;);\r\n            data = data.replace(&quot;&#197;&quot;, &quot;&#183;143&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;&#233;&quot;, &quot;&#183;130&#183;&quot;);\r\n            data = data.replace(&quot;&#232;&quot;, &quot;&#183;138&#183;&quot;);\r\n            data = data.replace(&quot;&#234;&quot;, &quot;&#183;136&#183;&quot;);\r\n            data = data.replace(&quot;&#235;&quot;, &quot;&#183;137&#183;&quot;);\r\n            //data = data.replace(&quot;&quot;,&quot;&#183;&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;&#201;&quot;, &quot;&#183;144&#183;&quot;);\r\n            data = data.replace(&quot;&#200;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#202;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#203;&quot;, &quot;&#183;&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;&#241;&quot;, &quot;&#183;164&#183;&quot;);\r\n            data = data.replace(&quot;&#209;&quot;, &quot;&#183;165&#183;&quot;);\r\n    \r\n            //data = data.replace(&quot;&quot;,&quot;&#183;&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;&#237;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#236;&quot;, &quot;&#183;141&#183;&quot;);\r\n            data = data.replace(&quot;&#238;&quot;, &quot;&#183;140&#183;&quot;);\r\n            data = data.replace(&quot;&#239;&quot;, &quot;&#183;139&#183;&quot;);\r\n            //data = data.replace(&quot;&quot;,&quot;&#183;&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;&#243;&quot;, &quot;&#183;149&#183;&quot;);\r\n            data = data.replace(&quot;&#242;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#244;&quot;, &quot;&#183;147&#183;&quot;);\r\n            data = data.replace(&quot;&#246;&quot;, &quot;&#183;148&#183;&quot;);\r\n            //data = data.replace(&quot;&quot;,&quot;&#183;&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;&#211;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#210;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#212;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#214;&quot;, &quot;&#183;153&#183;&quot;);\r\n            //data = data.replace(&quot;&quot;,&quot;&#183;&#183;&quot;);\r\n    \r\n            data = data.replace(&quot;&#250;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#249;&quot;, &quot;&#183;151&#183;&quot;);\r\n            data = data.replace(&quot;&#251;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#252;&quot;, &quot;&#183;129&#183;&quot;);\r\n            //data = data.replace(&quot;&quot;,&quot;&#183;&#183;&quot;);\r\n    \r\n    \r\n            data = data.replace(&quot;&#250;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#249;&quot;, &quot;&#183;151&#183;&quot;);\r\n            data = data.replace(&quot;&#251;&quot;, &quot;&#183;&#183;&quot;);\r\n            data = data.replace(&quot;&#252;&quot;, &quot;&#183;129&#183;&quot;);\r\n    \r\n            //data = data.replace(&quot;..&quot;, &quot;&quot;);\r\n    \r\n            for (int l = 0; l &lt;= 255; l++) {\r\n                data = data.replace(&quot;&#183;&quot; + String.valueOf(l) + &quot;&#183;&quot;, String.valueOf(((char) l)));\r\n                data = data.replace(&quot;$codepage&quot; + String.valueOf(l) + &quot;$&quot;,  String.valueOf(((char) 27)) + &quot;t&quot; + String.valueOf(((char) l)));\r\n            }\r\n    \r\n            Log.d(&quot;here----&quot;, &quot;&quot;+data);\r\n    \r\n            return data;\r\n        }\r\n    \r\n        //Convert string in Byte asccii to print\r\n    //    public static byte[] stringToBytesASCII(String str) {\r\n    //        byte[] b = new byte[str.length()];\r\n    //        for (int i = 0; i &lt; b.length; i++) {\r\n    //            b[i] = (byte) str.charAt(i);\r\n    //        }\r\n    //        Log.d(&quot;bytes=-===&quot;, &quot;&quot;+b.toString());\r\n    //        return b;\r\n    //    }\r\n    \r\n        public static byte[] stringToBytesASCII(String input) {\r\n    //        int length = input.length();\r\n    //        byte[] retVal = new byte[length];\r\n    //\r\n    //        for(int i=0; i&lt;length; i++)\r\n    //        {\r\n    //            char c = input.charAt(i);\r\n    //\r\n    //            if (c &lt; 127)\r\n    //            {\r\n    //                retVal[i] = (byte)c;\r\n    //            }\r\n    //            else\r\n    //            {\r\n    //                retVal[i] = (byte)(c - 256);\r\n    //            }\r\n    //        }\r\n    //\r\n    //        return retVal;\r\n            return stringToBytesASCIIOK(input);\r\n            // return createImageFromText(100, 500,18 ,input, &quot;Center&quot;);\r\n        }\r\n    \r\n       \r\n    \r\n    \r\n        // generate demo text\r\n        public static String getDemoText(Resources resources, Context context) {\r\n            String dataToPrint = &quot;&quot;;\r\n    \r\n            StringBuilder textData = new StringBuilder();\r\n            textData.append(&quot;$codepage32$&quot;);\r\n            textData.append(&quot;$al_center$$al_center$&quot;);\r\n    \r\n            textData.append(&quot;$big$&quot;+M.getBrandName(context)+&quot;$intro$&quot;);\r\n            textData.append(M.getRestAddress(context)+&quot;$intro$&quot;);\r\n            textData.append(&quot;Phone: &quot;+ M.getRestPhoneNumber(context)+&quot;$intro$&quot;);\r\n            textData.append(&quot;GST# &quot;+ M.getGST(context)+&quot;$intro$&quot;);\r\n            textData.append(&quot;--------------------------------------$intro$&quot;);\r\n            textData.append(&quot;Order By : &quot;+ M.getWaitername(context)+&quot;\\t $intro$&quot;);\r\n    \r\n    \r\n            textData.append(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(new Date())+&quot;\\n&quot;);\r\n            textData.append(&quot;ORDER # RES11-121&quot;+&quot;\\n&quot;);\r\n    \r\n            textData.append(&quot;--------------------------------------\\n&quot;);\r\n            textData.append(&quot;TOKEN # &quot;+21+&quot;\\t&quot;+ &quot;dine in&quot; +&quot;\\n&quot;);\r\n    \r\n    \r\n    \r\n            textData.append(&quot;--------------------------------------\\n&quot;);\r\n    \r\n            textData.append(&quot;Order comment \\t&quot;);\r\n            textData.append(&quot;need spicy&quot; + &quot;\\n&quot;);\r\n    \r\n            textData.append(&quot;--------------------------------------\\n&quot;);\r\n    \r\n    \r\n            String qty = &quot;1&quot;;\r\n    \r\n            textData.append(padLine(qty + &quot;    Cheese Mayo Fries&quot;, 120 + &quot;&quot;, 40, &quot; &quot;) + &quot;\\n&quot;);\r\n            textData.append(padLine(qty + &quot;    Chocolate Milkshake&quot;, 130 + &quot;&quot;, 40, &quot; &quot;) + &quot;\\n&quot;);\r\n            textData.append(padLine(qty + &quot;    Veg Sandwich&quot;, 100 + &quot;&quot;, 40, &quot; &quot;) + &quot;\\n&quot;);\r\n            textData.append(padLine(qty + &quot;    Ø¨ÙŠØªØ²Ø§ &quot;, 120 + &quot;&quot;, 40, &quot; &quot;) + &quot;\\n&quot;);\r\n            textData.append(padLine(qty + &quot;   Ø¨ÙŠØªØ²Ø§ &quot;, 130 + &quot;&quot;, 40, &quot; &quot;) + &quot;\\n&quot;);\r\n            textData.append(padLine(qty + &quot;   Ø¨ÙŠØªØ²Ø§ &quot;, 100 + &quot;&quot;, 40, &quot; &quot;) + &quot;\\n&quot;);\r\n    \r\n            textData.append(&quot;--------------------------------------\\n&quot;);\r\n    \r\n            textData.append(&quot;--------------------------------------\\n&quot;);\r\n    \r\n    \r\n            textData.append(&quot;SUBTOTAL                    &quot;+350+&quot;\\n&quot;);\r\n            textData.append(&quot;CGST @&quot;+6+&quot;%                    &quot;+21+&quot;\\n&quot;);\r\n            textData.append(&quot;SGST @&quot;+6+&quot;%                    &quot;+21+&quot;\\n&quot;);\r\n    \r\n    \r\n    \r\n            textData.append(&quot;TOTAL       392&quot;+&quot;\\n&quot;);\r\n    \r\n    \r\n    \r\n            textData.append(&quot;CASH                         400&quot;+&quot;\\n&quot;);\r\n            textData.append(&quot;CHANGE                     &quot;+8+&quot;\\n&quot;);\r\n    \r\n            textData.append(&quot;--------------------------------------\\n&quot;);\r\n    \r\n    \r\n            textData.append(&quot;Thank you  &quot;+&quot;Visit Again\\n&quot;);\r\n    \r\n    \r\n    //        dataToPrint = dataToPrint + &quot;$codepage0$$intro$&quot;;\r\n    //        dataToPrint = dataToPrint + Globals.getImageDataPosPrinterLogo(resources);\r\n    //\r\n    //        dataToPrint = dataToPrint + &quot;$bighw$PosPrinterDriver.com$intro$$intro$&quot;;\r\n    //        dataToPrint = dataToPrint + &quot;$big$ ESC/POS Types:$intro$ &quot;;\r\n    //        dataToPrint = dataToPrint + &quot;$small$ &#183;36&#183;small&#183;36&#183; -&gt;Small type letter$intro$&quot;;\r\n    //        dataToPrint = dataToPrint + &quot;$big$ &#183;36&#183;big&#183;36&#183; -&gt;Big type letter$intro$&quot;;\r\n    //\r\n    //\r\n    //        dataToPrint = dataToPrint + &quot;$big$ ESC/POS functions:$intro$ &quot;;\r\n    //        dataToPrint = dataToPrint + &quot;$big$ &#183;36&#183;cut&#183;36&#183;: Cutt paper$intro$ &quot;;\r\n    //        dataToPrint = dataToPrint + &quot;$big$ &#183;36&#183;cutt&#183;36&#183;: Cutt total paper$intro$ &quot;;\r\n    //        dataToPrint = dataToPrint + &quot;$big$ &#183;36&#183;drawer&#183;36&#183;: Open drawer 1 $intro$ &quot;;\r\n    //        dataToPrint = dataToPrint + &quot;$big$ &#183;36&#183;drawer2&#183;36&#183;: Open drawer 2 $intro$ &quot;;\r\n    //\r\n    //        dataToPrint = dataToPrint + &quot;Specials characters capabilities $intro$&quot;;\r\n            //test to find page codes\r\n            //for (int l = 50; l &lt;= 255; l++) {\r\n            //  datos=datos+    &quot;valor &quot;+ String.valueOf(l) + &quot;= &#183;&quot; + String.valueOf(l) + &quot;&#183;&quot;;\r\n            //}\r\n         /*   String defTextToPrint=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ $intro$a&#225;&#224;&#226;&#228;&#229;  A&#193;&#192;&#194;&#196;&#197; $intro$e&#233;&#232;&#234;&#235;  &quot; +\r\n                    &quot;E&#201;&#200;&#202;&#203;$intro$i&#237;&#236;&#238;&#239; I&#205;&#204;&#206;&#207; $intro$o&#243;&#242;&#244;&#246; O&#211;&#210;&#212;&#214; $intro$u&#250;&#249;&#251;&#252; U&#218;&#217;&#219;&#220; $intro$&#241; &#209; â‚¬  $intro$&quot;;\r\n    \r\n    \r\n    \r\n            dataToPrint = dataToPrint + &quot;$codepage0$$intro$&quot;;\r\n            dataToPrint = dataToPrint + &quot;Select code page 0 PC437 [U.S.A., Standard Europe]$intro$&quot;;\r\n            dataToPrint = dataToPrint + defTextToPrint;\r\n    \r\n            dataToPrint = dataToPrint + &quot;$codepage1$$intro$&quot;;\r\n            dataToPrint = dataToPrint + &quot;Select code page 1 [Katakana]$intro$&quot;;\r\n            dataToPrint = dataToPrint + defTextToPrint;\r\n    \r\n            dataToPrint = dataToPrint + &quot;$codepage2$$intro$&quot;;\r\n            dataToPrint = dataToPrint + &quot;Select code page 2 PC850 [Multilingual]$intro$&quot;;\r\n            dataToPrint = dataToPrint + defTextToPrint;\r\n    \r\n            dataToPrint = dataToPrint + &quot;$codepage3$$intro$&quot;;\r\n            dataToPrint = dataToPrint + &quot;Select code page 3 PC860 [Portuguese]$intro$&quot;;\r\n            dataToPrint = dataToPrint + defTextToPrint;\r\n    \r\n            dataToPrint = dataToPrint + &quot;$codepage4$$intro$&quot;;\r\n            dataToPrint = dataToPrint + &quot;Select code page 4 PC863 [Canadian-French]$intro$&quot;;\r\n            dataToPrint = dataToPrint + defTextToPrint;\r\n    \r\n            dataToPrint = dataToPrint + &quot;$codepage5$$intro$&quot;;\r\n            dataToPrint = dataToPrint + &quot;Select code page 5 PC865 [Nordic]$intro$&quot;;\r\n            dataToPrint = dataToPrint + defTextToPrint;\r\n    \r\n            dataToPrint = dataToPrint + &quot;$codepage17$$intro$&quot;;\r\n            dataToPrint = dataToPrint + &quot;Select code page 17 PC866 [Cyrillic]$intro$&quot;;\r\n            dataToPrint = dataToPrint + defTextToPrint;\r\n    \r\n            //0 PC437 [U.S.A., Standard Europe]\r\n            //1 Katakana\r\n           // 2 PC850 [Multilingual]\r\n           // 3 PC860 [Portuguese]\r\n           // 4 PC863 [Canadian-French]\r\n           // 5 PC865 [Nordic]\r\n           // 17 PC866 [Cyrillic #2]\r\n            dataToPrint = dataToPrint + &quot;$codepage31$$intro$&quot;;\r\n            dataToPrint = dataToPrint + &quot;Select code page 31 HEBREW $intro$&quot;;\r\n            dataToPrint = dataToPrint + defTextToPrint;\r\n    \r\n    \r\n    //\r\n    \r\n    \r\n            if (Globals.picturePath != &quot;&quot;) {\r\n                dataToPrint = dataToPrint + Globals.getImageData();\r\n            }\r\n            Log.e(internalClassName, &quot;dataToPrint&quot; + dataToPrint);*/\r\n    //        dataToPrint = dataToPrint +&quot;$intro$$intro$$intro$$intro$$cutt$$intro$&quot;;\r\n            textData.append(&quot;$intro$$intro$$intro$$intro$$cutt$$intro$&quot;);\r\n    \r\n            dataToPrint = textData.toString();\r\n            return dataToPrint;\r\n        }\r\n    \r\n        protected static String padLine(@Nullable String partOne, @Nullable String partTwo, int columnsPerLine, String str){\r\n            if(partOne == null) {partOne = &quot;&quot;;}\r\n            if(partTwo == null) {partTwo = &quot;&quot;;}\r\n            if(str == null) {str = &quot; &quot;;}\r\n            String concat;\r\n            if((partOne.length() + partTwo.length()) &gt; columnsPerLine) {\r\n                concat = partOne + str + partTwo;\r\n            } else {\r\n                int padding = columnsPerLine - (partOne.length() + partTwo.length());\r\n                concat = partOne + repeat(str, padding) + partTwo;\r\n            }\r\n            return concat;\r\n        }\r\n    \r\n        protected static String repeat(String str, int i){\r\n            return new String(new char[i]).replace(&quot;\\0&quot;, str);\r\n        }\r\n        public static final byte GS =  0x1D;// Group separator\r\n        //get actual logo data\r\n        public static byte[] getImageData(Bitmap bitmap) {\r\n    \r\n    //        if (Globals.picturePath!=null &amp;&amp; Globals.picturePath != &quot;&quot;) {\r\n    //            if (Globals.logoProcesed.length() &gt; 0) {\r\n    //                //response with calculated logo data text\r\n    //                return Globals.logoProcesed;\r\n    //            } else {\r\n    //                byte[] bytes1  = new byte[4];\r\n    //                bytes1[0] = GS;\r\n    //                bytes1[1] = 0x76;\r\n    //                bytes1[2] = 0x30;\r\n    //                bytes1[3] = 0x00;\r\n    //\r\n    //                byte[] bytes2 = BytesUtil.getBytesFromBitMap(bitmap);\r\n    \r\n            return getBytesFromBitMap(bitmap, 32);\r\n    //            }\r\n    //        } else {\r\n    //            return &quot;&quot;;\r\n    //        }\r\n        }\r\n    \r\n        public static byte[] stringToBytesASCIIOK(String str) {\r\n            String TAG = &quot;posprinterdriver_AsyncNetPrint&quot;;\r\n    \r\n            byte[] b = new byte[0];\r\n            try {\r\n                b = str.getBytes(&quot;US-ASCII&quot;);\r\n            } catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n    //        byte[] b = new byte[str.length()];\r\n    //        if (str.length() &gt; 0) {\r\n    //            Log.i(TAG, &quot;                 Caracter de 2 partes=&quot; + str + &quot; -&gt;parte1=&quot; + str.charAt(0) + &quot;-&gt;&quot; + str.charAt(1));\r\n    //\r\n    //        }\r\n    //      for (int i = 0; i &lt; b.length; i++) {\r\n    //\r\n    //          b[i] = (byte) str.charAt(i);\r\n    //\r\n    //\r\n    //      }\r\n            for (int i = 0; i &lt; b.length; i++) {\r\n    \r\n                b[i] = (byte) str.charAt(i);\r\n                Log.i(&quot;&quot;, &quot;                CAdena encontrada=&quot; + i + &quot; -&gt;parte1=&quot; + str.charAt(i) + &quot; -&gt;parte1=&quot; + (int) str.charAt(i));\r\n    \r\n            }\r\n    \r\n            return b;\r\n    \r\n        }\r\n    \r\n    \r\n       \r\n    \r\n    \r\n    \r\n\r\nI have Android app, which is working very well with English printing from the thermal printer. The code is perfect. But the problem is when I pass Arabic characters or any other Unicode it does not print properly.\r\n\r\nThe problem is with a code page. I tried different codepage which supports Arabic as well as Unicode while converting strings to byte. It shows the proper string in the log also of Arabic, but when It prints it does not work.\r\n\r\nNote: My printer supports Arabic and codepage is 32. I need a universal printer solution. I am not using Epson SDK. I am using ESC/POS commands.\r\n        \r\n","title":"Android Thermal printer Arabic Issue","body":"<pre><code>public class Globals {\n    // TODO IMPORTANT CONFIG CHANGES\n    // ** IMPORTANT CONFIGURATION\n    private static String serverRealUrl = \"http://www.myserver.com/api\";    //Real Server configuration\n    private static String serverLocalUrl = \"http://localhost:80/api\";             //local configuration\n    /**\n     * Substitute you own sender ID here. This is the project number you got\n     * from the API Console, as described in \"Getting Started.\"\n     */\n\n    public static String SENDER_ID = \"000000\";\n    public static String base64EncodedPublicKey = \"xxxxx\";\n    //DEBUG MODO\n    public static boolean debugModeBoolean = true;  //USE in DEBUG MODE\n    //public static boolean debugModeBoolean = false;  //USE in REAL  MODE\n\n\n    //PRINT FROM WEB ENABLES\n    //public static boolean printFronWebEnabled = true;  //USE to activate print fron web\n    public static boolean printFronWebEnabled = false;  //USE  to deactivate print fron web\n\n    //GCM Register\n    //public static boolean gcmRegisterEnabled = true;  //USE to register device in GCM\n    public static boolean gcmRegisterEnabled = false;  // not use gcm services\n\n\n    //IN APP BILLING\n    //public static boolean inAppBillingModeON = true;  //USE in pay app modo on\n    public static boolean inAppBillingModeON = false;  //USE in pay app modo off\n\n\n    private static String internalClassName = \"Globals\";    // * Tag used on log messages.\n    public static int deviceType = 0;                       // * Device type\n    //0 Pending config (Default as start)\n    //1 NET Print\n    //2 RS232   -&gt;Pending\n    //3 USB\n    //4 BT\n\n    //Google subscriptions\n    public static boolean mSubscribedToYearlyUsed = false;\n\n\n    // Bluetooth  variable Config\n    public static BluetoothAdapter mBluetoothAdapter;\n    public static BluetoothSocket mmSocket;\n    public static BluetoothDevice mmDevice;\n\n\n    public static String logoProcesed = \"\";\n\n    public static OutputStream mmOutputStream;\n    public static InputStream mmInputStream;\n\n\n    // NET Printer Config\n    public static String deviceIP = \"\";\n    public static int devicePort = 0;\n    public static int usbDeviceID = 0;\n    public static int usbVendorID = 0;\n    public static int usbProductID = 0;\n    public static String blueToothDeviceAdress = \"\";\n    public static int blueToothSpinnerSelected = -1;\n\n    public static String tmpDeviceIP = \"\";\n    public static int tmpDevicePort = 0;\n    public static int tmpUsbDeviceID = 0;\n    public static int tmpUsbVendorID = 0;\n    public static int tmpUsbProductID = 0;\n    public static String link_code = \"\";\n    public static String tmpBlueToothDeviceAdress = \"\";\n\n\n    public static String getServerUrl() {\n        String actualServer = \"\";\n        if (debugModeBoolean) {\n            actualServer = serverLocalUrl;\n        } else {\n            actualServer = serverRealUrl;\n        }\n\n        return actualServer;\n    }\n\n    public static String server_registerPrinter = \"registerPrinter\";\n    public static String server_getData = \"getData\";\n    public static String regid = \"\";\n    public static String picturePath = \"\";\n\n\n    public static void savePreferences(SharedPreferences sharedPrefs) {\n        Log.i(internalClassName, \"savePreferences\");\n\n\n        SharedPreferences.Editor editor = sharedPrefs.edit();\n        editor.putString(\"usbDeviceID\", String.valueOf(usbDeviceID));\n        editor.putString(\"usbVendorID\", String.valueOf(usbVendorID));\n        editor.putString(\"usbProductID\", String.valueOf(usbProductID));\n\n\n        editor.putString(\"blueToothDeviceAdress\", String.valueOf(blueToothDeviceAdress));\n\n\n        editor.putString(\"deviceType\", String.valueOf(deviceType));\n        //Ethernet\n        editor.putString(\"deviceIP\", String.valueOf(deviceIP));\n        editor.putString(\"devicePort\", String.valueOf(devicePort));\n\n        editor.putString(\"link_code\", String.valueOf(link_code));\n        editor.putString(\"picturePath\", String.valueOf(picturePath));\n        editor.putString(\"logoProcesed\", logoProcesed);\n\n        Log.i(internalClassName, \"               deviceType=\" + String.valueOf(deviceType));\n        Log.i(internalClassName, \"               deviceIP=\" + String.valueOf(deviceIP));\n        Log.i(internalClassName, \"               devicePort=\" + String.valueOf(devicePort));\n        Log.i(internalClassName, \"               usbDeviceID=\" + String.valueOf(usbDeviceID));\n        Log.i(internalClassName, \"               blueToothDeviceAdress=\" + String.valueOf(blueToothDeviceAdress));\n\n\n        editor.commit();\n\n    }\n\n    public static void savePreferenceskitchen(SharedPreferences sharedPrefs) {\n        Log.i(internalClassName, \"savePreferences\");\n\n\n        SharedPreferences.Editor editor = sharedPrefs.edit();\n        editor.putString(\"usbDeviceID\", String.valueOf(usbDeviceID));\n        editor.putString(\"usbVendorID\", String.valueOf(usbVendorID));\n        editor.putString(\"usbProductID\", String.valueOf(usbProductID));\n\n\n        editor.putString(\"blueToothDeviceAdress\", String.valueOf(blueToothDeviceAdress));\n\n\n        editor.putString(\"deviceType\", String.valueOf(deviceType));\n        //Ethernet\n        editor.putString(\"deviceIP\", String.valueOf(deviceIP));\n        editor.putString(\"devicePort\", String.valueOf(devicePort));\n\n        editor.putString(\"link_code\", String.valueOf(link_code));\n        editor.putString(\"picturePath\", String.valueOf(picturePath));\n        editor.putString(\"logoProcesed\", logoProcesed);\n\n        Log.i(internalClassName, \"               deviceType=\" + String.valueOf(deviceType));\n        Log.i(internalClassName, \"               deviceIP=\" + String.valueOf(deviceIP));\n        Log.i(internalClassName, \"               devicePort=\" + String.valueOf(devicePort));\n        Log.i(internalClassName, \"               usbDeviceID=\" + String.valueOf(usbDeviceID));\n        Log.i(internalClassName, \"               blueToothDeviceAdress=\" + String.valueOf(blueToothDeviceAdress));\n\n\n        editor.commit();\n\n    }\n\n\n\n    public static void loadPreferences(SharedPreferences sharedPrefs) {\n        Log.i(internalClassName, \"loadPreferences\");\n\n\n        usbDeviceID = mathIntegerFromString(sharedPrefs.getString(\"usbDeviceID\", \"0\"), 0);\n        usbVendorID = mathIntegerFromString(sharedPrefs.getString(\"usbVendorID\", \"0\"), 0);\n        usbProductID = mathIntegerFromString(sharedPrefs.getString(\"usbProductID\", \"0\"), 0);\n\n\n        link_code = sharedPrefs.getString(\"link_code\", \"\");\n        picturePath = sharedPrefs.getString(\"picturePath\", \"\");\n        blueToothDeviceAdress = sharedPrefs.getString(\"blueToothDeviceAdress\", \"x:x:x:x\");\n\n        deviceType = mathIntegerFromString(sharedPrefs.getString(\"deviceType\", \"0\"), 0);\n        //Ethernet\n        deviceIP = sharedPrefs.getString(\"deviceIP\", \"192.168.0.98\");\n        devicePort = mathIntegerFromString(sharedPrefs.getString(\"devicePort\", \"9100\"), 9100);\n        logoProcesed = sharedPrefs.getString(\"logoProcesed\", \"\");\n\n\n        Log.i(internalClassName, \"               deviceType=\" + String.valueOf(deviceType));\n        Log.i(internalClassName, \"               deviceIP=\" + String.valueOf(deviceIP));\n        Log.i(internalClassName, \"               devicePort=\" + String.valueOf(devicePort));\n        Log.i(internalClassName, \"               usbDeviceID=\" + String.valueOf(usbDeviceID));\n        Log.i(internalClassName, \"               blueToothDeviceAdress=\" + String.valueOf(blueToothDeviceAdress));\n\n\n    }\n\n\n    public static void loadPreferenceskitchen(SharedPreferences sharedPrefs) {\n        Log.i(internalClassName, \"loadPreferences\");\n\n\n        usbDeviceID = mathIntegerFromString(sharedPrefs.getString(\"usbDeviceID\", \"0\"), 0);\n        usbVendorID = mathIntegerFromString(sharedPrefs.getString(\"usbVendorID\", \"0\"), 0);\n        usbProductID = mathIntegerFromString(sharedPrefs.getString(\"usbProductID\", \"0\"), 0);\n\n\n        link_code = sharedPrefs.getString(\"link_code\", \"\");\n        picturePath = sharedPrefs.getString(\"picturePath\", \"\");\n        blueToothDeviceAdress = sharedPrefs.getString(\"blueToothDeviceAdress\", \"x:x:x:x\");\n\n        deviceType = mathIntegerFromString(sharedPrefs.getString(\"deviceType\", \"0\"), 0);\n        //Ethernet\n        deviceIP = sharedPrefs.getString(\"deviceIP\", \"192.168.0.98\");\n        devicePort = mathIntegerFromString(sharedPrefs.getString(\"devicePort\", \"9100\"), 9100);\n        logoProcesed = sharedPrefs.getString(\"logoProcesed\", \"\");\n\n\n        Log.i(internalClassName, \"               deviceType=\" + String.valueOf(deviceType));\n        Log.i(internalClassName, \"               deviceIP=\" + String.valueOf(deviceIP));\n        Log.i(internalClassName, \"               devicePort=\" + String.valueOf(devicePort));\n        Log.i(internalClassName, \"               usbDeviceID=\" + String.valueOf(usbDeviceID));\n        Log.i(internalClassName, \"               blueToothDeviceAdress=\" + String.valueOf(blueToothDeviceAdress));\n\n\n    }\n\n    public static Integer mathIntegerFromString(String inti, Integer defi) {\n        //used for preferences\n        Integer returi = defi;\n        if (!inti.equals(\"\")) {\n            try {\n                returi = Integer.valueOf(inti);\n            } catch (NumberFormatException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return returi;\n\n    }\n\n\n\n\n    public static String prepareDataToPrint(String data) {\n        //ESC POS Comamnds convertions\n\n\n        data = data.replace(\"$bold$\", \"Â·27Â·EÂ·1Â·\");\n        data = data.replace(\"$unbold$\", \"Â·27Â·EÂ·0Â·\");\n\n\n        data = data.replace(\"$intro$\", \"Â·13Â·Â·10Â·\");\n        data = data.replace(\"$cut$\", \"Â·27Â·m\");\n        data = data.replace(\"$cutt$\", \"Â·27Â·i\");\n\n        data = data.replace(\"$al_left$\", \"Â·27Â·aÂ·0Â·\");\n        data = data.replace(\"$al_center$\", \"Â·27Â·aÂ·1Â·\");\n        data = data.replace(\"$al_right$\", \"Â·27Â·aÂ·2Â·\");\n\n        data = data.replace(\"$small$\", \"Â·27Â·!Â·1Â·\");\n        data = data.replace(\"$smallh$\", \"Â·27Â·!Â·17Â·\");\n        data = data.replace(\"$smallw$\", \"Â·27Â·!Â·33Â·\");\n        data = data.replace(\"$smallhw$\", \"Â·27Â·!Â·49Â·\");\n\n        data = data.replace(\"$smallu$\", \"Â·27Â·!Â·129Â·\");\n        data = data.replace(\"$smalluh$\", \"Â·27Â·!Â·145Â·\");\n        data = data.replace(\"$smalluw$\", \"Â·27Â·!Â·161Â·\");\n        data = data.replace(\"$smalluhw$\", \"Â·27Â·!Â·177Â·\");\n\n\n        data = data.replace(\"$big$\", \"Â·27Â·!Â·0Â·\");\n        data = data.replace(\"$bigh$\", \"Â·27Â·!Â·16Â·\");\n        data = data.replace(\"$bigw$\", \"Â·27Â·!Â·32Â·\");\n        data = data.replace(\"$bighw$\", \"Â·27Â·!Â·48Â·\");\n\n        data = data.replace(\"$bigu$\", \"Â·27Â·!Â·128Â·\");\n        data = data.replace(\"$biguh$\", \"Â·27Â·!Â·144Â·\");\n        data = data.replace(\"$biguw$\", \"Â·27Â·!Â·160Â·\");\n        data = data.replace(\"$biguhw$\", \"Â·27Â·!Â·176Â·\");\n\n        data = data.replace(\"$drawer$\", \"Â·27Â·Â·112Â·Â·48Â·Â·200Â·Â·100Â·\");\n        data = data.replace(\"$drawer2$\", \"Â·27Â·Â·112Â·Â·49Â·Â·200Â·Â·100Â·\");\n\n\n        data = data.replace(\"$enter$\", \"Â·13Â·Â·10Â·\");\n\n        data = data.replace(\"$letrap$\", \"Â·27Â·!Â·1Â·\");\n        data = data.replace(\"$letraph$\", \"Â·27Â·!Â·17Â·\");\n        data = data.replace(\"$letrapw$\", \"Â·27Â·!Â·33Â·\");\n        data = data.replace(\"$letraphw$\", \"Â·27Â·!Â·49Â·\");\n\n        data = data.replace(\"$letrapu$\", \"Â·27Â·!Â·129Â·\");\n        data = data.replace(\"$letrapuh$\", \"Â·27Â·!Â·145Â·\");\n        data = data.replace(\"$letrapuw$\", \"Â·27Â·!Â·161Â·\");\n        data = data.replace(\"$letrapuhw$\", \"Â·27Â·!Â·177Â·\");\n\n\n        data = data.replace(\"$letrag$\", \"Â·27Â·!Â·0Â·\");\n        data = data.replace(\"$letragh$\", \"Â·27Â·!Â·16Â·\");\n        data = data.replace(\"$letragw$\", \"Â·27Â·!Â·32Â·\");\n        data = data.replace(\"$letraghw$\", \"Â·27Â·!Â·48Â·\");\n\n        data = data.replace(\"$letragu$\", \"Â·27Â·!Â·128Â·\");\n        data = data.replace(\"$letraguh$\", \"Â·27Â·!Â·144Â·\");\n        data = data.replace(\"$letraguw$\", \"Â·27Â·!Â·160Â·\");\n        data = data.replace(\"$letraguhw$\", \"Â·27Â·!Â·176Â·\");\n\n\n        data = data.replace(\"$letracorte$\", \"Â·27Â·m\");\n        data = data.replace(\"$LETRACORTE$\", \"Â·27Â·m\");\n\n\n        data = data.replace(\"$ENTER$\", \"Â·13Â·Â·10Â·\");\n\n        data = data.replace(\"$LETRAP$\", \"Â·27Â·!Â·1Â·\");\n        data = data.replace(\"$LETRAPH$\", \"Â·27Â·!Â·17Â·\");\n        data = data.replace(\"$LETRAPW$\", \"Â·27Â·!Â·33Â·\");\n        data = data.replace(\"$LETRAPHW$\", \"Â·27Â·!Â·49Â·\");\n\n        data = data.replace(\"$LETRAPU$\", \"Â·27Â·!Â·129Â·\");\n        data = data.replace(\"$LETRAPUH$\", \"Â·27Â·!Â·145Â·\");\n        data = data.replace(\"$LETRAPUW$\", \"Â·27Â·!Â·161Â·\");\n        data = data.replace(\"$LETRAPUHW$\", \"Â·27Â·!Â·177Â·\");\n\n\n        data = data.replace(\"$LETRAG$\", \"Â·27Â·!Â·0Â·\");\n        data = data.replace(\"$LETRAGH$\", \"Â·27Â·!Â·16Â·\");\n        data = data.replace(\"$LETRAGW$\", \"Â·27Â·!Â·32Â·\");\n        data = data.replace(\"$LETRAGHW$\", \"Â·27Â·!Â·48Â·\");\n\n        data = data.replace(\"$LETRAGU$\", \"Â·27Â·!Â·128Â·\");\n        data = data.replace(\"$LETRAGUH$\", \"Â·27Â·!Â·144Â·\");\n        data = data.replace(\"$LETRAGUW$\", \"Â·27Â·!Â·160Â·\");\n        data = data.replace(\"$LETRAGUHW$\", \"Â·27Â·!Â·176Â·\");\n\n\n\n        data = data.replace(\"Ã¡\", \"Â·160Â·\");\n        data = data.replace(\"Ã \", \"Â·133Â·\");\n        data = data.replace(\"Ã¢\", \"Â·131Â·\");\n        data = data.replace(\"Ã¤\", \"Â·132Â·\");\n        data = data.replace(\"Ã¥\", \"Â·134Â·\");\n\n        data = data.replace(\"Ã\", \"Â·193Â·\");\n        data = data.replace(\"Ã€\", \"Â·192Â·\");\n        data = data.replace(\"Ã‚\", \"Â·194Â·\");\n        data = data.replace(\"Ã„\", \"Â·142Â·\");\n        data = data.replace(\"Ã…\", \"Â·143Â·\");\n\n\n        data = data.replace(\"Ã©\", \"Â·130Â·\");\n        data = data.replace(\"Ã¨\", \"Â·138Â·\");\n        data = data.replace(\"Ãª\", \"Â·136Â·\");\n        data = data.replace(\"Ã«\", \"Â·137Â·\");\n        //data = data.replace(\"\",\"Â·Â·\");\n\n\n        data = data.replace(\"Ã‰\", \"Â·144Â·\");\n        data = data.replace(\"Ãˆ\", \"Â·Â·\");\n        data = data.replace(\"ÃŠ\", \"Â·Â·\");\n        data = data.replace(\"Ã‹\", \"Â·Â·\");\n\n        data = data.replace(\"Ã±\", \"Â·164Â·\");\n        data = data.replace(\"Ã‘\", \"Â·165Â·\");\n\n        //data = data.replace(\"\",\"Â·Â·\");\n\n\n        data = data.replace(\"Ã­\", \"Â·Â·\");\n        data = data.replace(\"Ã¬\", \"Â·141Â·\");\n        data = data.replace(\"Ã®\", \"Â·140Â·\");\n        data = data.replace(\"Ã¯\", \"Â·139Â·\");\n        //data = data.replace(\"\",\"Â·Â·\");\n\n\n        data = data.replace(\"Ã³\", \"Â·149Â·\");\n        data = data.replace(\"Ã²\", \"Â·Â·\");\n        data = data.replace(\"Ã´\", \"Â·147Â·\");\n        data = data.replace(\"Ã¶\", \"Â·148Â·\");\n        //data = data.replace(\"\",\"Â·Â·\");\n\n        data = data.replace(\"Ã“\", \"Â·Â·\");\n        data = data.replace(\"Ã’\", \"Â·Â·\");\n        data = data.replace(\"Ã”\", \"Â·Â·\");\n        data = data.replace(\"Ã–\", \"Â·153Â·\");\n        //data = data.replace(\"\",\"Â·Â·\");\n\n        data = data.replace(\"Ãº\", \"Â·Â·\");\n        data = data.replace(\"Ã¹\", \"Â·151Â·\");\n        data = data.replace(\"Ã»\", \"Â·Â·\");\n        data = data.replace(\"Ã¼\", \"Â·129Â·\");\n        //data = data.replace(\"\",\"Â·Â·\");\n\n\n        data = data.replace(\"Ãº\", \"Â·Â·\");\n        data = data.replace(\"Ã¹\", \"Â·151Â·\");\n        data = data.replace(\"Ã»\", \"Â·Â·\");\n        data = data.replace(\"Ã¼\", \"Â·129Â·\");\n\n        //data = data.replace(\"..\", \"\");\n\n        for (int l = 0; l &lt;= 255; l++) {\n            data = data.replace(\"Â·\" + String.valueOf(l) + \"Â·\", String.valueOf(((char) l)));\n            data = data.replace(\"$codepage\" + String.valueOf(l) + \"$\",  String.valueOf(((char) 27)) + \"t\" + String.valueOf(((char) l)));\n        }\n\n        Log.d(\"here----\", \"\"+data);\n\n        return data;\n    }\n\n    //Convert string in Byte asccii to print\n//    public static byte[] stringToBytesASCII(String str) {\n//        byte[] b = new byte[str.length()];\n//        for (int i = 0; i &lt; b.length; i++) {\n//            b[i] = (byte) str.charAt(i);\n//        }\n//        Log.d(\"bytes=-===\", \"\"+b.toString());\n//        return b;\n//    }\n\n    public static byte[] stringToBytesASCII(String input) {\n//        int length = input.length();\n//        byte[] retVal = new byte[length];\n//\n//        for(int i=0; i&lt;length; i++)\n//        {\n//            char c = input.charAt(i);\n//\n//            if (c &lt; 127)\n//            {\n//                retVal[i] = (byte)c;\n//            }\n//            else\n//            {\n//                retVal[i] = (byte)(c - 256);\n//            }\n//        }\n//\n//        return retVal;\n        return stringToBytesASCIIOK(input);\n        // return createImageFromText(100, 500,18 ,input, \"Center\");\n    }\n\n\n\n\n    // generate demo text\n    public static String getDemoText(Resources resources, Context context) {\n        String dataToPrint = \"\";\n\n        StringBuilder textData = new StringBuilder();\n        textData.append(\"$codepage32$\");\n        textData.append(\"$al_center$$al_center$\");\n\n        textData.append(\"$big$\"+M.getBrandName(context)+\"$intro$\");\n        textData.append(M.getRestAddress(context)+\"$intro$\");\n        textData.append(\"Phone: \"+ M.getRestPhoneNumber(context)+\"$intro$\");\n        textData.append(\"GST# \"+ M.getGST(context)+\"$intro$\");\n        textData.append(\"--------------------------------------$intro$\");\n        textData.append(\"Order By : \"+ M.getWaitername(context)+\"\\t $intro$\");\n\n\n        textData.append(new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").format(new Date())+\"\\n\");\n        textData.append(\"ORDER # RES11-121\"+\"\\n\");\n\n        textData.append(\"--------------------------------------\\n\");\n        textData.append(\"TOKEN # \"+21+\"\\t\"+ \"dine in\" +\"\\n\");\n\n\n\n        textData.append(\"--------------------------------------\\n\");\n\n        textData.append(\"Order comment \\t\");\n        textData.append(\"need spicy\" + \"\\n\");\n\n        textData.append(\"--------------------------------------\\n\");\n\n\n        String qty = \"1\";\n\n        textData.append(padLine(qty + \"    Cheese Mayo Fries\", 120 + \"\", 40, \" \") + \"\\n\");\n        textData.append(padLine(qty + \"    Chocolate Milkshake\", 130 + \"\", 40, \" \") + \"\\n\");\n        textData.append(padLine(qty + \"    Veg Sandwich\", 100 + \"\", 40, \" \") + \"\\n\");\n        textData.append(padLine(qty + \"    Ø¨ÙŠØªØ²Ø§ \", 120 + \"\", 40, \" \") + \"\\n\");\n        textData.append(padLine(qty + \"   Ø¨ÙŠØªØ²Ø§ \", 130 + \"\", 40, \" \") + \"\\n\");\n        textData.append(padLine(qty + \"   Ø¨ÙŠØªØ²Ø§ \", 100 + \"\", 40, \" \") + \"\\n\");\n\n        textData.append(\"--------------------------------------\\n\");\n\n        textData.append(\"--------------------------------------\\n\");\n\n\n        textData.append(\"SUBTOTAL                    \"+350+\"\\n\");\n        textData.append(\"CGST @\"+6+\"%                    \"+21+\"\\n\");\n        textData.append(\"SGST @\"+6+\"%                    \"+21+\"\\n\");\n\n\n\n        textData.append(\"TOTAL       392\"+\"\\n\");\n\n\n\n        textData.append(\"CASH                         400\"+\"\\n\");\n        textData.append(\"CHANGE                     \"+8+\"\\n\");\n\n        textData.append(\"--------------------------------------\\n\");\n\n\n        textData.append(\"Thank you  \"+\"Visit Again\\n\");\n\n\n//        dataToPrint = dataToPrint + \"$codepage0$$intro$\";\n//        dataToPrint = dataToPrint + Globals.getImageDataPosPrinterLogo(resources);\n//\n//        dataToPrint = dataToPrint + \"$bighw$PosPrinterDriver.com$intro$$intro$\";\n//        dataToPrint = dataToPrint + \"$big$ ESC/POS Types:$intro$ \";\n//        dataToPrint = dataToPrint + \"$small$ Â·36Â·smallÂ·36Â· -&gt;Small type letter$intro$\";\n//        dataToPrint = dataToPrint + \"$big$ Â·36Â·bigÂ·36Â· -&gt;Big type letter$intro$\";\n//\n//\n//        dataToPrint = dataToPrint + \"$big$ ESC/POS functions:$intro$ \";\n//        dataToPrint = dataToPrint + \"$big$ Â·36Â·cutÂ·36Â·: Cutt paper$intro$ \";\n//        dataToPrint = dataToPrint + \"$big$ Â·36Â·cuttÂ·36Â·: Cutt total paper$intro$ \";\n//        dataToPrint = dataToPrint + \"$big$ Â·36Â·drawerÂ·36Â·: Open drawer 1 $intro$ \";\n//        dataToPrint = dataToPrint + \"$big$ Â·36Â·drawer2Â·36Â·: Open drawer 2 $intro$ \";\n//\n//        dataToPrint = dataToPrint + \"Specials characters capabilities $intro$\";\n        //test to find page codes\n        //for (int l = 50; l &lt;= 255; l++) {\n        //  datos=datos+    \"valor \"+ String.valueOf(l) + \"= Â·\" + String.valueOf(l) + \"Â·\";\n        //}\n     /*   String defTextToPrint=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ $intro$aÃ¡Ã Ã¢Ã¤Ã¥  AÃÃ€Ã‚Ã„Ã… $intro$eÃ©Ã¨ÃªÃ«  \" +\n                \"EÃ‰ÃˆÃŠÃ‹$intro$iÃ­Ã¬Ã®Ã¯ IÃÃŒÃŽÃ $intro$oÃ³Ã²Ã´Ã¶ OÃ“Ã’Ã”Ã– $intro$uÃºÃ¹Ã»Ã¼ UÃšÃ™Ã›Ãœ $intro$Ã± Ã‘ â‚¬  $intro$\";\n\n\n\n        dataToPrint = dataToPrint + \"$codepage0$$intro$\";\n        dataToPrint = dataToPrint + \"Select code page 0 PC437 [U.S.A., Standard Europe]$intro$\";\n        dataToPrint = dataToPrint + defTextToPrint;\n\n        dataToPrint = dataToPrint + \"$codepage1$$intro$\";\n        dataToPrint = dataToPrint + \"Select code page 1 [Katakana]$intro$\";\n        dataToPrint = dataToPrint + defTextToPrint;\n\n        dataToPrint = dataToPrint + \"$codepage2$$intro$\";\n        dataToPrint = dataToPrint + \"Select code page 2 PC850 [Multilingual]$intro$\";\n        dataToPrint = dataToPrint + defTextToPrint;\n\n        dataToPrint = dataToPrint + \"$codepage3$$intro$\";\n        dataToPrint = dataToPrint + \"Select code page 3 PC860 [Portuguese]$intro$\";\n        dataToPrint = dataToPrint + defTextToPrint;\n\n        dataToPrint = dataToPrint + \"$codepage4$$intro$\";\n        dataToPrint = dataToPrint + \"Select code page 4 PC863 [Canadian-French]$intro$\";\n        dataToPrint = dataToPrint + defTextToPrint;\n\n        dataToPrint = dataToPrint + \"$codepage5$$intro$\";\n        dataToPrint = dataToPrint + \"Select code page 5 PC865 [Nordic]$intro$\";\n        dataToPrint = dataToPrint + defTextToPrint;\n\n        dataToPrint = dataToPrint + \"$codepage17$$intro$\";\n        dataToPrint = dataToPrint + \"Select code page 17 PC866 [Cyrillic]$intro$\";\n        dataToPrint = dataToPrint + defTextToPrint;\n\n        //0 PC437 [U.S.A., Standard Europe]\n        //1 Katakana\n       // 2 PC850 [Multilingual]\n       // 3 PC860 [Portuguese]\n       // 4 PC863 [Canadian-French]\n       // 5 PC865 [Nordic]\n       // 17 PC866 [Cyrillic #2]\n        dataToPrint = dataToPrint + \"$codepage31$$intro$\";\n        dataToPrint = dataToPrint + \"Select code page 31 HEBREW $intro$\";\n        dataToPrint = dataToPrint + defTextToPrint;\n\n\n//\n\n\n        if (Globals.picturePath != \"\") {\n            dataToPrint = dataToPrint + Globals.getImageData();\n        }\n        Log.e(internalClassName, \"dataToPrint\" + dataToPrint);*/\n//        dataToPrint = dataToPrint +\"$intro$$intro$$intro$$intro$$cutt$$intro$\";\n        textData.append(\"$intro$$intro$$intro$$intro$$cutt$$intro$\");\n\n        dataToPrint = textData.toString();\n        return dataToPrint;\n    }\n\n    protected static String padLine(@Nullable String partOne, @Nullable String partTwo, int columnsPerLine, String str){\n        if(partOne == null) {partOne = \"\";}\n        if(partTwo == null) {partTwo = \"\";}\n        if(str == null) {str = \" \";}\n        String concat;\n        if((partOne.length() + partTwo.length()) &gt; columnsPerLine) {\n            concat = partOne + str + partTwo;\n        } else {\n            int padding = columnsPerLine - (partOne.length() + partTwo.length());\n            concat = partOne + repeat(str, padding) + partTwo;\n        }\n        return concat;\n    }\n\n    protected static String repeat(String str, int i){\n        return new String(new char[i]).replace(\"\\0\", str);\n    }\n    public static final byte GS =  0x1D;// Group separator\n    //get actual logo data\n    public static byte[] getImageData(Bitmap bitmap) {\n\n//        if (Globals.picturePath!=null &amp;&amp; Globals.picturePath != \"\") {\n//            if (Globals.logoProcesed.length() &gt; 0) {\n//                //response with calculated logo data text\n//                return Globals.logoProcesed;\n//            } else {\n//                byte[] bytes1  = new byte[4];\n//                bytes1[0] = GS;\n//                bytes1[1] = 0x76;\n//                bytes1[2] = 0x30;\n//                bytes1[3] = 0x00;\n//\n//                byte[] bytes2 = BytesUtil.getBytesFromBitMap(bitmap);\n\n        return getBytesFromBitMap(bitmap, 32);\n//            }\n//        } else {\n//            return \"\";\n//        }\n    }\n\n    public static byte[] stringToBytesASCIIOK(String str) {\n        String TAG = \"posprinterdriver_AsyncNetPrint\";\n\n        byte[] b = new byte[0];\n        try {\n            b = str.getBytes(\"US-ASCII\");\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n\n\n//        byte[] b = new byte[str.length()];\n//        if (str.length() &gt; 0) {\n//            Log.i(TAG, \"                 Caracter de 2 partes=\" + str + \" -&gt;parte1=\" + str.charAt(0) + \"-&gt;\" + str.charAt(1));\n//\n//        }\n//      for (int i = 0; i &lt; b.length; i++) {\n//\n//          b[i] = (byte) str.charAt(i);\n//\n//\n//      }\n        for (int i = 0; i &lt; b.length; i++) {\n\n            b[i] = (byte) str.charAt(i);\n            Log.i(\"\", \"                CAdena encontrada=\" + i + \" -&gt;parte1=\" + str.charAt(i) + \" -&gt;parte1=\" + (int) str.charAt(i));\n\n        }\n\n        return b;\n\n    }\n</code></pre>\n\n<p>I have Android app, which is working very well with English printing from the thermal printer. The code is perfect. But the problem is when I pass Arabic characters or any other Unicode it does not print properly.</p>\n\n<p>The problem is with a code page. I tried different codepage which supports Arabic as well as Unicode while converting strings to byte. It shows the proper string in the log also of Arabic, but when It prints it does not work.</p>\n\n<p>Note: My printer supports Arabic and codepage is 32. I need a universal printer solution. I am not using Epson SDK. I am using ESC/POS commands.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","multi-module"],"owner":{"account_id":2233381,"reputation":613,"user_id":1970440,"accept_rate":36,"display_name":"AlexeiP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654114109,"creation_date":1654114109,"question_id":72467484,"body_markdown":"My home pet-project is a multimodule maven spring boot application\r\n\r\n```\r\nsbsuite-pom\r\n    |_ web (Spring Boot application)\r\n        |_ pom.xml\r\n    |_ frontendUI (VueJs app)\r\n        |_ pom.xml\r\n    |_ sbsuitedata (MySql persistence layer)\r\n        |_ pom.xml\r\n    |_ pom.xml\r\n```\r\n\r\nI manage to insert jpa project from online course as a submodule &quot;sbsuitedata&quot;, \r\nbut here is a problem, - properties files from &quot;sbsuitedata&quot; not visible in SpringBoot web module until I move them into sbsuite-pom\\web project.\r\nWhat if I want to have more than one persistent layer submodule, let&#39;s say one for MySql and other for Oracle?\r\nSo each persistent layer submodule will work with it&#39;s own database and have it&#39;s own property file to list connections.\r\n\r\nWhat is the right approach to handle such requirement?","title":"Multi-module Spring Boot app with more than one database","body":"<p>My home pet-project is a multimodule maven spring boot application</p>\n<pre><code>sbsuite-pom\n    |_ web (Spring Boot application)\n        |_ pom.xml\n    |_ frontendUI (VueJs app)\n        |_ pom.xml\n    |_ sbsuitedata (MySql persistence layer)\n        |_ pom.xml\n    |_ pom.xml\n</code></pre>\n<p>I manage to insert jpa project from online course as a submodule &quot;sbsuitedata&quot;,\nbut here is a problem, - properties files from &quot;sbsuitedata&quot; not visible in SpringBoot web module until I move them into sbsuite-pom\\web project.\nWhat if I want to have more than one persistent layer submodule, let's say one for MySql and other for Oracle?\nSo each persistent layer submodule will work with it's own database and have it's own property file to list connections.</p>\n<p>What is the right approach to handle such requirement?</p>\n"},{"tags":["javascript","java","selenium"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1654098276,"post_id":72464608,"comment_id":128012074,"body_markdown":"Can you provide the HTML?","body":"Can you provide the HTML?"},{"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"score":0,"creation_date":1654098628,"post_id":72464608,"comment_id":128012215,"body_markdown":"Sorry, I cant do that.","body":"Sorry, I cant do that."},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1654098878,"post_id":72464608,"comment_id":128012318,"body_markdown":"May be you are not providing sufficient time. Have you tried explicit wait?","body":"May be you are not providing sufficient time. Have you tried explicit wait?"},{"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"score":0,"creation_date":1654099504,"post_id":72464608,"comment_id":128012548,"body_markdown":"I can see it in debug mode it is not with wait. I see now that there are lot of issues with isDisplayed(). But trying to find other solution like maybe         return js.executeScript(readScript(&quot;isDisplayedInViewport&quot;), e.getId());","body":"I can see it in debug mode it is not with wait. I see now that there are lot of issues with isDisplayed(). But trying to find other solution like maybe         return js.executeScript(readScript(&quot;isDisplayedInViewport&quot;), e.getId());"},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1654099908,"post_id":72464608,"comment_id":128012692,"body_markdown":"If it working in debug mode means you need to add wait.","body":"If it working in debug mode means you need to add wait."},{"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"score":0,"creation_date":1654100080,"post_id":72464608,"comment_id":128012758,"body_markdown":"It is not working in any mode, but it is also not related with the waiting. Something similar , but not same is https://stackoverflow.com/questions/2646195/how-to-check-if-an-element-is-visible-with-webdriver","body":"It is not working in any mode, but it is also not related with the waiting. Something similar , but not same is <a href=\"https://stackoverflow.com/questions/2646195/how-to-check-if-an-element-is-visible-with-webdriver\" title=\"how to check if an element is visible with webdriver\">stackoverflow.com/questions/2646195/&hellip;</a>"}],"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654113965,"creation_date":1654097931,"question_id":72464608,"body_markdown":"    driver.findElements(By.id(&quot;1234&quot;)).size() == 1 returns true\r\n    driver.findElement(By.id(&quot;1234&quot;))).isDisplayed() returns false\r\n\r\nWhen I paste selector I can clearly see it in html and in browser, it is not hidden.\r\n\r\nDoes anyone know solution with JS. Executor in combination with selenium?","title":"isDisplayed in selenium returning false all the time even element is there","body":"<pre><code>driver.findElements(By.id(&quot;1234&quot;)).size() == 1 returns true\ndriver.findElement(By.id(&quot;1234&quot;))).isDisplayed() returns false\n</code></pre>\n<p>When I paste selector I can clearly see it in html and in browser, it is not hidden.</p>\n<p>Does anyone know solution with JS. Executor in combination with selenium?</p>\n"},{"tags":["java","html","selenium"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":0,"creation_date":1654031528,"post_id":72452807,"comment_id":127994593,"body_markdown":"Is there any iframes, shadowroots?","body":"Is there any iframes, shadowroots?"},{"owner":{"display_name":"user9347168"},"score":0,"creation_date":1654035693,"post_id":72452807,"comment_id":127995543,"body_markdown":"Not that I can see, or know of. It&#39;s an Angular page, though.","body":"Not that I can see, or know of. It&#39;s an Angular page, though."},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1654099958,"post_id":72452807,"comment_id":128012713,"body_markdown":"Have you tried xPath?","body":"Have you tried xPath?"},{"owner":{"display_name":"user9347168"},"score":0,"creation_date":1654104620,"post_id":72452807,"comment_id":128014273,"body_markdown":"I really, really don&#39;t link xpath if I can avoid it, due to it&#39;s lack of robustness.","body":"I really, really don&#39;t link xpath if I can avoid it, due to it&#39;s lack of robustness."},{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":0,"creation_date":1654109123,"post_id":72452807,"comment_id":128015803,"body_markdown":"Try using some waits maybe then due to page loads.","body":"Try using some waits maybe then due to page loads."},{"owner":{"display_name":"user9347168"},"score":0,"creation_date":1654113607,"post_id":72452807,"comment_id":128017130,"body_markdown":"I&#39;ve tried waitForElementVisible() and waitForElementClickable() on the element, but it doesn&#39;t work.","body":"I&#39;ve tried waitForElementVisible() and waitForElementClickable() on the element, but it doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":7178839,"reputation":166,"user_id":5483654,"display_name":"Ivan Costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654036923,"creation_date":1654036923,"answer_id":72454776,"question_id":72452807,"body_markdown":"Have you tried to use some other library like for instance JSoup?\r\n[https://jsoup.org/cookbook/input/load-document-from-url][1]\r\n\r\n\r\n  [1]: https://jsoup.org/cookbook/input/load-document-from-url","title":"Selenium (Java) refuses to find elements that are present on the page","body":"<p>Have you tried to use some other library like for instance JSoup?\n<a href=\"https://jsoup.org/cookbook/input/load-document-from-url\" rel=\"nofollow noreferrer\">https://jsoup.org/cookbook/input/load-document-from-url</a></p>\n"}],"owner":{"display_name":"user9347168"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654113805,"creation_date":1654022999,"question_id":72452807,"body_markdown":"I&#39;ve got a page where Selenium is unable to find a &lt;span&gt; tag, but find other tags without any problems.\r\n\r\nMarkup:\r\n\r\n    &lt;div id=&quot;dokumentkrav&quot;&gt;\r\n     &lt;strong id=&quot;kravtype-Skatteoppgj&#248;r&quot;&gt;Skatteoppgj&#248;r&lt;/strong&gt;&lt;br&gt;\r\n     &lt;span id=&quot;fornavn-etternavn&quot;&gt; Fornavn Etternavn &lt;/span&gt;\r\n    &lt;/div&gt;\r\n\r\n(this is confirmed by inspecting the elements on the page)\r\n\r\nJava/Selenium:\r\n\r\n    for (WebElement e : alleDokumentasjonskrav()) {\r\n\t    String a = e.findElement(By.cssSelector(&quot;strong&quot;)).getText();\r\n        String b = e.findElement(By.id(&quot;fornavn-ettenavn&quot;)).getText();\r\n    }\r\n\r\n    private List&lt;WebElement&gt; alleDokumentasjonskrav() {\r\n        return driver.findElements(By.id(&quot;dokumentkrav&quot;));\r\n    }\r\n\r\nString a gets the text withing the &lt;strong&gt; tags. (For specific reasons, the ID cannot be used here). This works like a charm.\r\n\r\nBut - String B gives the following error:\r\n\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#fornavn\\-etternavn&quot;}\r\n\r\nI also tried finding String b with\r\n\r\n    String b = e.findElement(By.cssSelector(&quot;span&quot;)).getText();\r\n\r\nto no avail.\r\n\r\nI&#39;ve also tried using waitForElementVisible() and waitForElementClickable() on the element. No help there either.\r\n\r\nAny ideas? It&#39;s been a while since I&#39;ve worked with Selenium, so I might be missing something essential here.\r\n\r\n","title":"Selenium (Java) refuses to find elements that are present on the page","body":"<p>I've got a page where Selenium is unable to find a  tag, but find other tags without any problems.</p>\n<p>Markup:</p>\n<pre><code>&lt;div id=&quot;dokumentkrav&quot;&gt;\n &lt;strong id=&quot;kravtype-SkatteoppgjÃ¸r&quot;&gt;SkatteoppgjÃ¸r&lt;/strong&gt;&lt;br&gt;\n &lt;span id=&quot;fornavn-etternavn&quot;&gt; Fornavn Etternavn &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n<p>(this is confirmed by inspecting the elements on the page)</p>\n<p>Java/Selenium:</p>\n<pre><code>for (WebElement e : alleDokumentasjonskrav()) {\n    String a = e.findElement(By.cssSelector(&quot;strong&quot;)).getText();\n    String b = e.findElement(By.id(&quot;fornavn-ettenavn&quot;)).getText();\n}\n\nprivate List&lt;WebElement&gt; alleDokumentasjonskrav() {\n    return driver.findElements(By.id(&quot;dokumentkrav&quot;));\n}\n</code></pre>\n<p>String a gets the text withing the  tags. (For specific reasons, the ID cannot be used here). This works like a charm.</p>\n<p>But - String B gives the following error:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#fornavn\\-etternavn&quot;}\n</code></pre>\n<p>I also tried finding String b with</p>\n<pre><code>String b = e.findElement(By.cssSelector(&quot;span&quot;)).getText();\n</code></pre>\n<p>to no avail.</p>\n<p>I've also tried using waitForElementVisible() and waitForElementClickable() on the element. No help there either.</p>\n<p>Any ideas? It's been a while since I've worked with Selenium, so I might be missing something essential here.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9400379,"reputation":442,"user_id":9754585,"display_name":"Drivers Sea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649375951,"creation_date":1649375951,"answer_id":71790217,"question_id":71790044,"body_markdown":"You can drop the question from the array list and make the random number 1 smaller each time. You have to make sure the list can be reset and is automatically reset when it gets to 0 if you do this.","title":"how to get next item in ArrayList in java","body":"<p>You can drop the question from the array list and make the random number 1 smaller each time. You have to make sure the list can be reset and is automatically reset when it gets to 0 if you do this.</p>\n"},{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1654113591,"creation_date":1649375999,"answer_id":71790221,"question_id":71790044,"body_markdown":"To avoid getting the same selection multiple times, you may want to remove it from the list after it was chosen. The syntax could look something like this:\r\n\r\n        Random rand = new Random();\r\n        ArrayList &lt;Type&gt; list = new ArrayList&lt;&gt;();\r\n        int selection = rand.nextInt(list.size() + 1);\r\n\r\n        switch(selection)\r\n        {\r\n            case X:\r\n                do the X stuff;\r\n                list.remove(X);\r\n                break;\r\n        }\r\n\r\nThe ArrayList knows what index X is at, so calling it by name will remove the entry. Using the size of the ArrayList to create the bounds for Random numbers also helps keep it dynamic\r\n\r\n**NOTE** this is NOT complete code\r\n\r\nInformation/examples about preserving contents of the ArrayList using **`list.clone()`**\r\n&gt;&lt;https://www.tutorialspoint.com/clone-an-arraylist-in-java&gt; --  An ArrayList can be cloned using the java.util.ArrayList.clone() method. This method does not take any parameters but returns a shallow copy of the specified ArrayList instance. This means that the new ArrayList created using the ArrayList.clone() method refers to the same elements as the original ArrayList but it does not duplicate the elements.","title":"how to get next item in ArrayList in java","body":"<p>To avoid getting the same selection multiple times, you may want to remove it from the list after it was chosen. The syntax could look something like this:</p>\n<pre><code>    Random rand = new Random();\n    ArrayList &lt;Type&gt; list = new ArrayList&lt;&gt;();\n    int selection = rand.nextInt(list.size() + 1);\n\n    switch(selection)\n    {\n        case X:\n            do the X stuff;\n            list.remove(X);\n            break;\n    }\n</code></pre>\n<p>The ArrayList knows what index X is at, so calling it by name will remove the entry. Using the size of the ArrayList to create the bounds for Random numbers also helps keep it dynamic</p>\n<p><strong>NOTE</strong> this is NOT complete code</p>\n<p>Information/examples about preserving contents of the ArrayList using <strong><code>list.clone()</code></strong></p>\n<blockquote>\n<p><a href=\"https://www.tutorialspoint.com/clone-an-arraylist-in-java\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/clone-an-arraylist-in-java</a> --  An ArrayList can be cloned using the java.util.ArrayList.clone() method. This method does not take any parameters but returns a shallow copy of the specified ArrayList instance. This means that the new ArrayList created using the ArrayList.clone() method refers to the same elements as the original ArrayList but it does not duplicate the elements.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23091688,"reputation":21,"user_id":18573620,"display_name":"WOSAJ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649474643,"creation_date":1649378014,"answer_id":71790403,"question_id":71790044,"body_markdown":"there are two ways to get the next item in the list:\r\n\r\n - Using the index: \r\n```java\r\n  list.get(list.indexOf(item)+1);  \r\n```\r\n   list - your list of questions\r\n   item - current question\r\n\r\n - use `LinkedList` and its methods","title":"how to get next item in ArrayList in java","body":"<p>there are two ways to get the next item in the list:</p>\n<ul>\n<li>Using the index:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>  list.get(list.indexOf(item)+1);  \n</code></pre>\n<p>list - your list of questions\nitem - current question</p>\n<ul>\n<li>use <code>LinkedList</code> and its methods</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649398607,"creation_date":1649398607,"answer_id":71792424,"question_id":71790044,"body_markdown":"If you want to maintain a list of questions, and then some method of identifying if those have been asked, there are multiple ways to do this. \r\n\r\nYou could add a boolean value inside `QuizModel` which holds whether the question has been asked or not in this round, and part of the process to starting a new round of the quiz would be to ensure they are all set to `false`. The value can be set to `true` when that question has been asked, and you&#39;d check that value before deciding to use this question or getting another.\r\n\r\nAlternatively, you could make the problem less specific to your usecase and more generalised. - for example, all you&#39;re really asking is how to get a random number, from a set of numbers, minimising the possibility of duplicates. This is a common software problem that has been solved many many times before. \r\n\r\nsee https://stackoverflow.com/questions/4040001/creating-random-numbers-with-no-duplicates for example. Then you could work this solution into your question selection code. \r\n\r\n","title":"how to get next item in ArrayList in java","body":"<p>If you want to maintain a list of questions, and then some method of identifying if those have been asked, there are multiple ways to do this.</p>\n<p>You could add a boolean value inside <code>QuizModel</code> which holds whether the question has been asked or not in this round, and part of the process to starting a new round of the quiz would be to ensure they are all set to <code>false</code>. The value can be set to <code>true</code> when that question has been asked, and you'd check that value before deciding to use this question or getting another.</p>\n<p>Alternatively, you could make the problem less specific to your usecase and more generalised. - for example, all you're really asking is how to get a random number, from a set of numbers, minimising the possibility of duplicates. This is a common software problem that has been solved many many times before.</p>\n<p>see <a href=\"https://stackoverflow.com/questions/4040001/creating-random-numbers-with-no-duplicates\">Creating random numbers with no duplicates</a> for example. Then you could work this solution into your question selection code.</p>\n"}],"owner":{"account_id":19915728,"reputation":35,"user_id":14592763,"display_name":"ayoub touti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71790221,"answer_count":4,"score":1,"last_activity_date":1654113591,"creation_date":1649374310,"question_id":71790044,"body_markdown":"i followed a YouTube tutorial about programming a quiz app using java android studio\r\nin the tutorial you put the question in array list then you get randomly question from it\r\nthis can cause a problem of getting the same question many time.\r\nHow can i fix that? i thought about instead of using random i use a function to get the next item in the list but it didn&#39;t work for me.\r\nYhis is my code\r\n\r\n    package com.example.quiz20;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import com.google.android.material.bottomsheet.BottomSheetDialog;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Random;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private TextView questionTV,questionNumberTV;\r\n        private Button option1Btn,option2Btn,option3Btn,option4Btn;\r\n        private ArrayList&lt;QuizModel&gt; quizModelArrayList;\r\n        Random random;\r\n        int currentScore = 0 , questionAttempted = 0, currentPos;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            questionTV= findViewById(R.id.idTVQuestion);\r\n            questionNumberTV=findViewById(R.id.idTVQuestionAttempted);\r\n            option1Btn=findViewById(R.id.idBtnOption1);\r\n            option2Btn=findViewById(R.id.idBtnOption2);\r\n            option3Btn=findViewById(R.id.idBtnOption3);\r\n            option4Btn=findViewById(R.id.idBtnOption4);\r\n            quizModelArrayList = new ArrayList&lt;&gt;();\r\n            random = new Random();\r\n            getQuizQuestion(quizModelArrayList);\r\n            currentPos = random.nextInt(quizModelArrayList.size());\r\n            setDataToViews(currentPos);\r\n            option1Btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(quizModelArrayList.get(currentPos).getAnswer().trim().toLowerCase().equals(option1Btn.getText().toString().trim().toLowerCase())){\r\n                        currentScore++;\r\n                    }\r\n                    questionAttempted++;\r\n                    currentPos = random.nextInt(quizModelArrayList.size());\r\n                    setDataToViews(currentPos);\r\n    \r\n                }\r\n            });\r\n    \r\n            option2Btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(quizModelArrayList.get(currentPos).getAnswer().trim().toLowerCase().equals(option2Btn.getText().toString().trim().toLowerCase())){\r\n                        currentScore++;\r\n                    }\r\n                    questionAttempted++;\r\n                    currentPos = random.nextInt(quizModelArrayList.size());\r\n                    setDataToViews(currentPos);\r\n                }\r\n            });\r\n    \r\n            option3Btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(quizModelArrayList.get(currentPos).getAnswer().trim().toLowerCase().equals(option3Btn.getText().toString().trim().toLowerCase())){\r\n                        currentScore++;\r\n                    }\r\n                    questionAttempted++;\r\n                    currentPos = random.nextInt(quizModelArrayList.size());\r\n                    setDataToViews(currentPos);\r\n                }\r\n            });\r\n    \r\n            option4Btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(quizModelArrayList.get(currentPos).getAnswer().trim().toLowerCase().equals(option4Btn.getText().toString().trim().toLowerCase())){\r\n                        currentScore++;\r\n                    }\r\n                    questionAttempted++;\r\n                    currentPos = random.nextInt(quizModelArrayList.size());\r\n                    setDataToViews(currentPos);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private void showBottomSheet(){\r\n            BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(MainActivity.this);\r\n            View bottomSheetView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.score_bottom_sheet,(LinearLayout)findViewById(R.id.idLLScore));\r\n            TextView scoreTV = bottomSheetView.findViewById(R.id.idTVScore);\r\n            Button restartQuizBtn = bottomSheetView.findViewById(R.id.idBtnRestart);\r\n            scoreTV.setText(&quot;you score is \\n&quot;+currentScore + &quot;/4&quot;);\r\n            restartQuizBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    currentPos = random.nextInt(quizModelArrayList.size());\r\n                    setDataToViews(currentPos);\r\n                    questionAttempted = 0;\r\n                    currentScore = 0;\r\n                    bottomSheetDialog.dismiss();\r\n                }\r\n            });\r\n            bottomSheetDialog.setCancelable(false);\r\n            bottomSheetDialog.setContentView(bottomSheetView);\r\n            bottomSheetDialog.show();\r\n        }\r\n    \r\n        private void setDataToViews(int currentPos){\r\n            questionNumberTV.setText(&quot;Question Attempted : &quot;+questionAttempted + &quot;/4&quot;);\r\n            if(questionAttempted == 4){\r\n                showBottomSheet();\r\n            }else {\r\n                questionTV.setText(quizModelArrayList.get(currentPos).getQuestion());\r\n                option1Btn.setText(quizModelArrayList.get(currentPos).getOption1());\r\n                option2Btn.setText(quizModelArrayList.get(currentPos).getOption2());\r\n                option3Btn.setText(quizModelArrayList.get(currentPos).getOption3());\r\n                option4Btn.setText(quizModelArrayList.get(currentPos).getOption4());\r\n            }\r\n    \r\n    \r\n        }\r\n        private void getQuizQuestion(ArrayList&lt;QuizModel&gt; quizModelArrayList) {\r\n            quizModelArrayList.add(new QuizModel(&quot;in which year google released?&quot;,&quot;1998&quot;,&quot;2000&quot;,&quot;2004&quot;,&quot;1995&quot;,&quot;1998&quot;));\r\n            quizModelArrayList.add(new QuizModel(&quot;What does CPU stand for?&quot;,&quot;Core Processing Unit&quot;,&quot;Central Processing Unit&quot;,&quot;Command Processing Unit&quot;,&quot;Custom Processing Unit&quot;,&quot;Central Processing Unit&quot;));\r\n            quizModelArrayList.add(new QuizModel(&quot;what is the name of the first internet search engine?&quot;,&quot;Google&quot;,&quot;Yahoo&quot;,&quot;AOL&quot;,&quot;Archie&quot;,&quot;Archie&quot;));\r\n            quizModelArrayList.add(new QuizModel(&quot;Which Programming language is the most widely used?&quot;,&quot;JavaScript&quot;,&quot;JAVA&quot;,&quot;Python&quot;,&quot;PHP&quot;,&quot;JavaScript&quot;));\r\n    \r\n        }\r\n    }","title":"how to get next item in ArrayList in java","body":"<p>i followed a YouTube tutorial about programming a quiz app using java android studio\nin the tutorial you put the question in array list then you get randomly question from it\nthis can cause a problem of getting the same question many time.\nHow can i fix that? i thought about instead of using random i use a function to get the next item in the list but it didn't work for me.\nYhis is my code</p>\n<pre><code>package com.example.quiz20;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\n\nimport java.util.ArrayList;\nimport java.util.Random;\n\npublic class MainActivity extends AppCompatActivity {\n    private TextView questionTV,questionNumberTV;\n    private Button option1Btn,option2Btn,option3Btn,option4Btn;\n    private ArrayList&lt;QuizModel&gt; quizModelArrayList;\n    Random random;\n    int currentScore = 0 , questionAttempted = 0, currentPos;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        questionTV= findViewById(R.id.idTVQuestion);\n        questionNumberTV=findViewById(R.id.idTVQuestionAttempted);\n        option1Btn=findViewById(R.id.idBtnOption1);\n        option2Btn=findViewById(R.id.idBtnOption2);\n        option3Btn=findViewById(R.id.idBtnOption3);\n        option4Btn=findViewById(R.id.idBtnOption4);\n        quizModelArrayList = new ArrayList&lt;&gt;();\n        random = new Random();\n        getQuizQuestion(quizModelArrayList);\n        currentPos = random.nextInt(quizModelArrayList.size());\n        setDataToViews(currentPos);\n        option1Btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(quizModelArrayList.get(currentPos).getAnswer().trim().toLowerCase().equals(option1Btn.getText().toString().trim().toLowerCase())){\n                    currentScore++;\n                }\n                questionAttempted++;\n                currentPos = random.nextInt(quizModelArrayList.size());\n                setDataToViews(currentPos);\n\n            }\n        });\n\n        option2Btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(quizModelArrayList.get(currentPos).getAnswer().trim().toLowerCase().equals(option2Btn.getText().toString().trim().toLowerCase())){\n                    currentScore++;\n                }\n                questionAttempted++;\n                currentPos = random.nextInt(quizModelArrayList.size());\n                setDataToViews(currentPos);\n            }\n        });\n\n        option3Btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(quizModelArrayList.get(currentPos).getAnswer().trim().toLowerCase().equals(option3Btn.getText().toString().trim().toLowerCase())){\n                    currentScore++;\n                }\n                questionAttempted++;\n                currentPos = random.nextInt(quizModelArrayList.size());\n                setDataToViews(currentPos);\n            }\n        });\n\n        option4Btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(quizModelArrayList.get(currentPos).getAnswer().trim().toLowerCase().equals(option4Btn.getText().toString().trim().toLowerCase())){\n                    currentScore++;\n                }\n                questionAttempted++;\n                currentPos = random.nextInt(quizModelArrayList.size());\n                setDataToViews(currentPos);\n            }\n        });\n\n    }\n\n    private void showBottomSheet(){\n        BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(MainActivity.this);\n        View bottomSheetView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.score_bottom_sheet,(LinearLayout)findViewById(R.id.idLLScore));\n        TextView scoreTV = bottomSheetView.findViewById(R.id.idTVScore);\n        Button restartQuizBtn = bottomSheetView.findViewById(R.id.idBtnRestart);\n        scoreTV.setText(&quot;you score is \\n&quot;+currentScore + &quot;/4&quot;);\n        restartQuizBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                currentPos = random.nextInt(quizModelArrayList.size());\n                setDataToViews(currentPos);\n                questionAttempted = 0;\n                currentScore = 0;\n                bottomSheetDialog.dismiss();\n            }\n        });\n        bottomSheetDialog.setCancelable(false);\n        bottomSheetDialog.setContentView(bottomSheetView);\n        bottomSheetDialog.show();\n    }\n\n    private void setDataToViews(int currentPos){\n        questionNumberTV.setText(&quot;Question Attempted : &quot;+questionAttempted + &quot;/4&quot;);\n        if(questionAttempted == 4){\n            showBottomSheet();\n        }else {\n            questionTV.setText(quizModelArrayList.get(currentPos).getQuestion());\n            option1Btn.setText(quizModelArrayList.get(currentPos).getOption1());\n            option2Btn.setText(quizModelArrayList.get(currentPos).getOption2());\n            option3Btn.setText(quizModelArrayList.get(currentPos).getOption3());\n            option4Btn.setText(quizModelArrayList.get(currentPos).getOption4());\n        }\n\n\n    }\n    private void getQuizQuestion(ArrayList&lt;QuizModel&gt; quizModelArrayList) {\n        quizModelArrayList.add(new QuizModel(&quot;in which year google released?&quot;,&quot;1998&quot;,&quot;2000&quot;,&quot;2004&quot;,&quot;1995&quot;,&quot;1998&quot;));\n        quizModelArrayList.add(new QuizModel(&quot;What does CPU stand for?&quot;,&quot;Core Processing Unit&quot;,&quot;Central Processing Unit&quot;,&quot;Command Processing Unit&quot;,&quot;Custom Processing Unit&quot;,&quot;Central Processing Unit&quot;));\n        quizModelArrayList.add(new QuizModel(&quot;what is the name of the first internet search engine?&quot;,&quot;Google&quot;,&quot;Yahoo&quot;,&quot;AOL&quot;,&quot;Archie&quot;,&quot;Archie&quot;));\n        quizModelArrayList.add(new QuizModel(&quot;Which Programming language is the most widely used?&quot;,&quot;JavaScript&quot;,&quot;JAVA&quot;,&quot;Python&quot;,&quot;PHP&quot;,&quot;JavaScript&quot;));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":7457995,"reputation":872,"user_id":5670592,"display_name":"Andonaeus"},"score":0,"creation_date":1457713403,"post_id":35944951,"comment_id":59546760,"body_markdown":"If you do not need the threads to return (which I think you do), you can set them as daemons.","body":"If you do not need the threads to return (which I think you do), you can set them as daemons."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1457716576,"post_id":35944951,"comment_id":59548874,"body_markdown":"No, it looks like `shutdown()` is required.  You&#39;ll have to call it.","body":"No, it looks like <code>shutdown()</code> is required.  You&#39;ll have to call it."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457964905,"creation_date":1457718271,"answer_id":35946634,"question_id":35944951,"body_markdown":"&gt; Can anyone show me how to close all the threads which executed successfully without shutting down ExecutorService.\r\n\r\nThat is not what `ExecutorService` is for.  When you create an ExecutorService, you give it _tasks_ to perform, and you let _it_ manage the threads that it uses to execute your task.  You aren&#39;t supposed to know or care about the threads that it uses.\r\n\r\nWhen you don&#39;t want it anymore (e.g., when you want to terminate the program), then you shut it down.\r\n\r\n---------------------------\r\n\r\nP.S., Your `Thread1` class `extends Thread`.  That&#39;s a bad habit that leads you into a less-useful way of thinking about threads.  The right way to think about threads and executors is that a thread or an executor is just this thing that executes some piece or pieces of code that you give it.  Nothing more.\r\n\r\nI&#39;ve seen a lot of questions that say things like, &quot;I need the X thread to do Y, but...&quot;, and what&#39;s leading them into trouble is that the developer has given the X thread too many _responsibilities_.\r\n\r\nIn a well-designed program, it should not matter _which_ thread does Y.  Threads should be anonymous and interchangeable.\r\n\r\n-----------------------------\r\n**Update:**\r\n\r\n&gt; Can you suggest any method to close the threads without shutting down executor service.\r\n\r\nNo, I can&#39;t.  If the threads were created by an ExecutorService, then it would be wrong for your program to kill those threads behind its back.\r\n\r\n**Q:** What class are you using that implements `ExecutorService`?  Is it a `ThreadPoolExecutor` perhaps?  Perhaps you could solve your problem by creating a `ThreadFactory` that makes _daemon_ threads, and then construct your `ThreadPoolExecutor` using that factory.  A daemon thread will not stop the program from exiting.","title":"Closing Threads in Executor Service without shutting it down","body":"<blockquote>\n  <p>Can anyone show me how to close all the threads which executed successfully without shutting down ExecutorService.</p>\n</blockquote>\n\n<p>That is not what <code>ExecutorService</code> is for.  When you create an ExecutorService, you give it <em>tasks</em> to perform, and you let <em>it</em> manage the threads that it uses to execute your task.  You aren't supposed to know or care about the threads that it uses.</p>\n\n<p>When you don't want it anymore (e.g., when you want to terminate the program), then you shut it down.</p>\n\n<hr>\n\n<p>P.S., Your <code>Thread1</code> class <code>extends Thread</code>.  That's a bad habit that leads you into a less-useful way of thinking about threads.  The right way to think about threads and executors is that a thread or an executor is just this thing that executes some piece or pieces of code that you give it.  Nothing more.</p>\n\n<p>I've seen a lot of questions that say things like, \"I need the X thread to do Y, but...\", and what's leading them into trouble is that the developer has given the X thread too many <em>responsibilities</em>.</p>\n\n<p>In a well-designed program, it should not matter <em>which</em> thread does Y.  Threads should be anonymous and interchangeable.</p>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<blockquote>\n  <p>Can you suggest any method to close the threads without shutting down executor service.</p>\n</blockquote>\n\n<p>No, I can't.  If the threads were created by an ExecutorService, then it would be wrong for your program to kill those threads behind its back.</p>\n\n<p><strong>Q:</strong> What class are you using that implements <code>ExecutorService</code>?  Is it a <code>ThreadPoolExecutor</code> perhaps?  Perhaps you could solve your problem by creating a <code>ThreadFactory</code> that makes <em>daemon</em> threads, and then construct your <code>ThreadPoolExecutor</code> using that factory.  A daemon thread will not stop the program from exiting.</p>\n"},{"tags":[],"owner":{"account_id":21129688,"reputation":1,"user_id":15534329,"display_name":"Mattia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654113041,"creation_date":1654113041,"answer_id":72467337,"question_id":35944951,"body_markdown":"You can use Executors class that provides newFixedThreadPool method, so in this way you can select the max number of threads that you want to use. \r\nExceutors will use the same number of threads and will reuse the space if necessary. I attached the documentation\r\n\r\n    enter code hereint maxNumberOfThread=10;\r\n    ExecutorService pool=Executors.newFixedThreadPool(maxNumberOfThread);\r\n    ... \r\n    pool.execute(new Thread1(listOfFiles[i]));\r\n\r\n\r\nDocumentation\r\n[Executors][1], \r\n[ExecutorService][2]\r\n\r\n  \r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/Executors.html\r\n[2]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ExecutorService.html","title":"Closing Threads in Executor Service without shutting it down","body":"<p>You can use Executors class that provides newFixedThreadPool method, so in this way you can select the max number of threads that you want to use.\nExceutors will use the same number of threads and will reuse the space if necessary. I attached the documentation</p>\n<pre><code>enter code hereint maxNumberOfThread=10;\nExecutorService pool=Executors.newFixedThreadPool(maxNumberOfThread);\n... \npool.execute(new Thread1(listOfFiles[i]));\n</code></pre>\n<p>Documentation\n<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">Executors</a>,\n<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a></p>\n"}],"owner":{"account_id":7892626,"reputation":84,"user_id":5962312,"accept_rate":75,"display_name":"agasthya_tadakamalla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35946634,"answer_count":2,"score":0,"last_activity_date":1654113041,"creation_date":1457712829,"question_id":35944951,"body_markdown":"My code for executor service is shown below. I am executing multiple threads. But for some reason the program is not exiting as there are some threads in waiting state according to the logs. If I use Thread.start(), then I don&#39;t have that problem. I am facing the problem only when I am using ExecutorService.Can anyone tell me how to close all the threads which executed successfully without shutting down ExecutorService.\r\n\r\n    class ExecutorExample{\r\n        public static void main(){\r\n            File folder = new File(&quot;/home/agasthyt/agasthyt&quot;);\r\n            File[] listOfFiles = folder.listFiles();\r\n            for (int i = 0; i &lt; listOfFiles.length; i++) {\r\n                Thread1 thread1=new Thread1(listOfFiles[i]);\r\n                es.execute(thread1);\r\n        }\r\n      }\r\n    }\r\n\r\nclass Thread1 extends Thread{public void run(){......}}","title":"Closing Threads in Executor Service without shutting it down","body":"<p>My code for executor service is shown below. I am executing multiple threads. But for some reason the program is not exiting as there are some threads in waiting state according to the logs. If I use Thread.start(), then I don't have that problem. I am facing the problem only when I am using ExecutorService.Can anyone tell me how to close all the threads which executed successfully without shutting down ExecutorService.</p>\n\n<pre><code>class ExecutorExample{\n    public static void main(){\n        File folder = new File(\"/home/agasthyt/agasthyt\");\n        File[] listOfFiles = folder.listFiles();\n        for (int i = 0; i &lt; listOfFiles.length; i++) {\n            Thread1 thread1=new Thread1(listOfFiles[i]);\n            es.execute(thread1);\n    }\n  }\n}\n</code></pre>\n\n<p>class Thread1 extends Thread{public void run(){......}}</p>\n"},{"tags":["java","list","sorting","collections"],"comments":[{"owner":{"account_id":28352,"reputation":12591,"user_id":75694,"accept_rate":71,"display_name":"theycallmemorty"},"score":2,"creation_date":1259161782,"post_id":1797550,"comment_id":1685219,"body_markdown":"Can you show the code you&#39;re using to copy the list?","body":"Can you show the code you&#39;re using to copy the list?"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1259161901,"creation_date":1259161901,"answer_id":1797570,"question_id":1797550,"body_markdown":"        List unmodifiableList = Collections.unmodifiableList(list);\r\n\r\n        List newList = new ArrayList(unmodifiableList);\r\n\r\n        Collections.sort(newList);\r\n\r\nThe constructor of `ArrayList` takes an existing list, reads its elements (without modifying them!), and adds them to the new List.","title":"Java: Sort an unmodifiable list","body":"<pre><code>    List unmodifiableList = Collections.unmodifiableList(list);\n\n    List newList = new ArrayList(unmodifiableList);\n\n    Collections.sort(newList);\n</code></pre>\n\n<p>The constructor of <code>ArrayList</code> takes an existing list, reads its elements (without modifying them!), and adds them to the new List.</p>\n"},{"tags":[],"owner":{"account_id":5022,"reputation":13852,"user_id":7867,"accept_rate":70,"display_name":"Mr. Shiny and New å®‰å®‡"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1259162051,"creation_date":1259162051,"answer_id":1797596,"question_id":1797550,"body_markdown":"Are you creating an empty list using `Collections.emptyList()`? If so, that is an unmodifiable list too and that may be the source of your problem.\r\n\r\nCreate a new list using the constructor for your List implementation, such as `new ArrayList()`.  You can pass the original list into the constructor or else use the `addAll()` method.","title":"Java: Sort an unmodifiable list","body":"<p>Are you creating an empty list using <code>Collections.emptyList()</code>? If so, that is an unmodifiable list too and that may be the source of your problem.</p>\n\n<p>Create a new list using the constructor for your List implementation, such as <code>new ArrayList()</code>.  You can pass the original list into the constructor or else use the <code>addAll()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259162128,"creation_date":1259162128,"answer_id":1797606,"question_id":1797550,"body_markdown":"It should work as described. Elements in an unmodifiable List are not unmodifiable themselves. Of course you can&#39;t sort an unmodifiable List, because it has to be rewritten with add and delete operations, and those are not allowed. \r\n\r\nGuess the error is somewhere else, best would be to show your code :)","title":"Java: Sort an unmodifiable list","body":"<p>It should work as described. Elements in an unmodifiable List are not unmodifiable themselves. Of course you can't sort an unmodifiable List, because it has to be rewritten with add and delete operations, and those are not allowed. </p>\n\n<p>Guess the error is somewhere else, best would be to show your code :)</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1631980628,"creation_date":1259165372,"answer_id":1798006,"question_id":1797550,"body_markdown":"FWIW, with [google-collections][1] it&#39;s a one-liner:\r\n\r\n    List&lt;Foo&gt; sorted = Ordering.natural().sortedCopy(unmodifiableList);\r\n\r\n\r\n  [1]: https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Ordering.html#natural--","title":"Java: Sort an unmodifiable list","body":"<p>FWIW, with <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Ordering.html#natural--\" rel=\"nofollow noreferrer\">google-collections</a> it's a one-liner:</p>\n<pre><code>List&lt;Foo&gt; sorted = Ordering.natural().sortedCopy(unmodifiableList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1493165844,"creation_date":1259241115,"answer_id":1803602,"question_id":1797550,"body_markdown":"I will answer your second question:\r\n\r\nYou cannot add to your &#39;taskListModifiable&#39; list because that is an &#39;unmodifiable&#39; list, which in Java means that it is immutable. An unmodifiable/immutable list or collection of any kind cannot be directly changed in any way - you cannot add elements to it, remove elements from it, or change references to existing elements.\r\n\r\nNote that existing elements in the list/collection may be changed if they are themselves mutable, but references to them from the list cannot be changed. That is, until the list goes completely out of scope and is garbage collected, the unmodifiable list will always contain those same references.\r\n\r\nNow, in your case, Collections.emptyList() returns an unmodifiable *EMPTY* list. This is actually always the same instance since it is immutable and always empty. You cannot add to it because of the rule that an immutable list cannot be expanded (added to). Since it is empty there is also nothing in it that can be changed.\r\n\r\nI should add to make it even more clear that Collection.emptyList() does not create an empty list. It just returns a reference to a singleton list instance.","title":"Java: Sort an unmodifiable list","body":"<p>I will answer your second question:</p>\n\n<p>You cannot add to your 'taskListModifiable' list because that is an 'unmodifiable' list, which in Java means that it is immutable. An unmodifiable/immutable list or collection of any kind cannot be directly changed in any way - you cannot add elements to it, remove elements from it, or change references to existing elements.</p>\n\n<p>Note that existing elements in the list/collection may be changed if they are themselves mutable, but references to them from the list cannot be changed. That is, until the list goes completely out of scope and is garbage collected, the unmodifiable list will always contain those same references.</p>\n\n<p>Now, in your case, Collections.emptyList() returns an unmodifiable <em>EMPTY</em> list. This is actually always the same instance since it is immutable and always empty. You cannot add to it because of the rule that an immutable list cannot be expanded (added to). Since it is empty there is also nothing in it that can be changed.</p>\n\n<p>I should add to make it even more clear that Collection.emptyList() does not create an empty list. It just returns a reference to a singleton list instance.</p>\n"},{"tags":[],"owner":{"account_id":153319,"reputation":2930,"user_id":368491,"display_name":"Soulman"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1654112703,"creation_date":1466000631,"answer_id":37838203,"question_id":1797550,"body_markdown":"In Java 8, you can use the streams API. For instance:\r\n\r\n    List&lt;?&gt; sortedList = unsortedList.stream().sorted().collect(Collectors.toList());\r\n\r\nSince Java 16, a Stream.toList() function was added, so the above can be shortened to:\r\n\r\n    List&lt;?&gt; sortedList = unsortedList.stream().sorted().toList();\r\n","title":"Java: Sort an unmodifiable list","body":"<p>In Java 8, you can use the streams API. For instance:</p>\n<pre><code>List&lt;?&gt; sortedList = unsortedList.stream().sorted().collect(Collectors.toList());\n</code></pre>\n<p>Since Java 16, a Stream.toList() function was added, so the above can be shortened to:</p>\n<pre><code>List&lt;?&gt; sortedList = unsortedList.stream().sorted().toList();\n</code></pre>\n"}],"owner":{"account_id":50383,"reputation":2186,"user_id":150295,"accept_rate":50,"display_name":"Lista"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45467,"favorite_count":0,"down_vote_count":3,"up_vote_count":33,"accepted_answer_id":1797596,"answer_count":6,"score":30,"last_activity_date":1654112703,"creation_date":1259161734,"question_id":1797550,"body_markdown":"How would one do this?\r\n\r\nI have tried creating a new, empty list, then copying unmodifiable list&#39;s elements to it, but I&#39;m getting unsupported operation error.\r\n\r\nAny help is appreciated.","title":"Java: Sort an unmodifiable list","body":"<p>How would one do this?</p>\n\n<p>I have tried creating a new, empty list, then copying unmodifiable list's elements to it, but I'm getting unsupported operation error.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","database","h2"],"answers":[{"tags":[],"owner":{"account_id":19880578,"reputation":119,"user_id":14564685,"display_name":"marcellorinaldo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654112475,"creation_date":1654112475,"answer_id":72467253,"question_id":69952158,"body_markdown":"The error you posted might due to a bug in the SHUTDOWN DEFRAG procedure.\r\n\r\nI had the same issue and solved it by opening the DB using the latest version of H2, which at the time of writing is 2.1.212.\r\n\r\nFor reference, [the H2 changelog][1] and the (suspected) issue link [Possibility of corruption after SHUTDOWN DEFRAG][2].\r\n\r\n\r\n  [1]: http://h2database.com/html/changelog.html\r\n  [2]: https://github.com/h2database/h2database/issues/3471","title":"Running H2 recovery script fails with [42000-200]","body":"<p>The error you posted might due to a bug in the SHUTDOWN DEFRAG procedure.</p>\n<p>I had the same issue and solved it by opening the DB using the latest version of H2, which at the time of writing is 2.1.212.</p>\n<p>For reference, <a href=\"http://h2database.com/html/changelog.html\" rel=\"nofollow noreferrer\">the H2 changelog</a> and the (suspected) issue link <a href=\"https://github.com/h2database/h2database/issues/3471\" rel=\"nofollow noreferrer\">Possibility of corruption after SHUTDOWN DEFRAG</a>.</p>\n"}],"owner":{"account_id":17645311,"reputation":11,"user_id":12806878,"display_name":"Alex Pogorelov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654112475,"creation_date":1636786595,"question_id":69952158,"body_markdown":"I have my H2 database corrupted (for unknown reason) having `java.lang.IllegalStateException: Chunk 1936 not found [1.4.200/9]`. \r\nNow I try to recover data. I made the following steps:\r\n\r\n 1. `java -cp h2*.jar org.h2.tools.Recover`\r\n 2.  `java -cp h2*.jar org.h2.tools.RunScript -url â€œjdbc:h2:file:~/tmp/recoveryâ€ -user user -password password -script file_generated_by_previous_step.mv.txt -showResults`\r\n\r\nSecond step starts and generates a lot of output (about processed roots and chunks), but then fails with error:\r\n```\r\n [42000-200]\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:453)\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)\r\n        at org.h2.message.DbException.get(DbException.java:205)\r\n        at org.h2.message.DbException.get(DbException.java:181)\r\n        at org.h2.message.DbException.getSyntaxError(DbException.java:229)\r\n        at org.h2.command.Parser.getSyntaxError(Parser.java:1051)\r\n        at org.h2.command.Parser.parsePrepared(Parser.java:1013)\r\n        at org.h2.command.Parser.parse(Parser.java:843)\r\n        at org.h2.command.Parser.parse(Parser.java:819)\r\n        at org.h2.command.Parser.prepareCommand(Parser.java:738)\r\n        at org.h2.engine.Session.prepareLocal(Session.java:657)\r\n        at org.h2.engine.Session.prepareCommand(Session.java:595)\r\n        at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)\r\n        at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212)\r\n        at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201)\r\n        at org.h2.tools.RunScript.process(RunScript.java:224)\r\n        at org.h2.tools.RunScript.process(RunScript.java:192)\r\n        at org.h2.tools.RunScript.process(RunScript.java:328)\r\n        at org.h2.tools.RunScript.runTool(RunScript.java:143)\r\n        at org.h2.tools.RunScript.main(RunScript.java:70)\r\n```\r\n\r\nAs a result generated `recovery.mv.db` is just an empty database with no data. \r\n\r\nPlease, help to extract any data from corrupted H2 database. I swear, I will never use this database again.","title":"Running H2 recovery script fails with [42000-200]","body":"<p>I have my H2 database corrupted (for unknown reason) having <code>java.lang.IllegalStateException: Chunk 1936 not found [1.4.200/9]</code>.\nNow I try to recover data. I made the following steps:</p>\n<ol>\n<li><code>java -cp h2*.jar org.h2.tools.Recover</code></li>\n<li><code>java -cp h2*.jar org.h2.tools.RunScript -url â€œjdbc:h2:file:~/tmp/recoveryâ€ -user user -password password -script file_generated_by_previous_step.mv.txt -showResults</code></li>\n</ol>\n<p>Second step starts and generates a lot of output (about processed roots and chunks), but then fails with error:</p>\n<pre><code> [42000-200]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:453)\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)\n        at org.h2.message.DbException.get(DbException.java:205)\n        at org.h2.message.DbException.get(DbException.java:181)\n        at org.h2.message.DbException.getSyntaxError(DbException.java:229)\n        at org.h2.command.Parser.getSyntaxError(Parser.java:1051)\n        at org.h2.command.Parser.parsePrepared(Parser.java:1013)\n        at org.h2.command.Parser.parse(Parser.java:843)\n        at org.h2.command.Parser.parse(Parser.java:819)\n        at org.h2.command.Parser.prepareCommand(Parser.java:738)\n        at org.h2.engine.Session.prepareLocal(Session.java:657)\n        at org.h2.engine.Session.prepareCommand(Session.java:595)\n        at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)\n        at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212)\n        at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201)\n        at org.h2.tools.RunScript.process(RunScript.java:224)\n        at org.h2.tools.RunScript.process(RunScript.java:192)\n        at org.h2.tools.RunScript.process(RunScript.java:328)\n        at org.h2.tools.RunScript.runTool(RunScript.java:143)\n        at org.h2.tools.RunScript.main(RunScript.java:70)\n</code></pre>\n<p>As a result generated <code>recovery.mv.db</code> is just an empty database with no data.</p>\n<p>Please, help to extract any data from corrupted H2 database. I swear, I will never use this database again.</p>\n"},{"tags":["java","eclipse","jar","executable-jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654079518,"post_id":72460266,"comment_id":128004990,"body_markdown":"You just need to put your resources [in the right place for Eclipse](https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse)","body":"You just need to put your resources <a href=\"https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse\" rel=\"nofollow noreferrer\">in the right place for Eclipse</a>"},{"owner":{"account_id":25445064,"reputation":3,"user_id":19247380,"display_name":"Ojee"},"score":0,"creation_date":1654108109,"post_id":72460266,"comment_id":128015465,"body_markdown":"@g00se It worked for the images but not for the csv file. When I run in Eclipse the images and the csv file work but when I import as jar the csv file doesnt work. &quot;Invalid file path&quot;\n\nThis works for the images.\n`background.setIcon(new ImageIcon(getClass().getResource(&quot;/resources/marvel_800_500.png&quot;)));`\n\nThis works in eclipse but not in jar\n\n`public static void loadAbilities(String filePath) throws IOException {\nBufferedReader br = new BufferedReader(new FileReader(filePath));`\n\n`loadAbilities((getClass().getResource(&quot;/resources/Abilities.csv&quot;)).getPath());`","body":"@g00se It worked for the images but not for the csv file. When I run in Eclipse the images and the csv file work but when I import as jar the csv file doesnt work. &quot;Invalid file path&quot;  This works for the images. <code>background.setIcon(new ImageIcon(getClass().getResource(&quot;&#47;resources&#47;marvel_800_500.&zwnj;&#8203;png&quot;)));</code>  This works in eclipse but not in jar  <code>public static void loadAbilities(String filePath) throws IOException { BufferedReader br = new BufferedReader(new FileReader(filePath));</code>  <code>loadAbilities((getClass().getResource(&quot;&#47;resources&#47;Abilities.&zwnj;&#8203;csv&quot;)).getPath());</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654108857,"post_id":72460266,"comment_id":128015709,"body_markdown":"Sorry. Try this `try (BufferedReader br = new BufferedReader(\n                new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/foo.csv&quot;)))) {\n            // Code here\n        }\n`","body":"Sorry. Try this <code>try (BufferedReader br = new BufferedReader(                 new InputStreamReader(getClass().getResourceAsStream(&quot;&#47;resources&zwnj;&#8203;&#47;foo.csv&quot;)))) {             &#47;&#47; Code here         } </code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654110749,"post_id":72460266,"comment_id":128016263,"body_markdown":"Will add as answer if you can accept","body":"Will add as answer if you can accept"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654110805,"creation_date":1654110805,"answer_id":72466996,"question_id":72460266,"body_markdown":"    try (BufferedReader br = new BufferedReader(\r\n            new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/foo.csv&quot;)))) {\r\n        // Code here\r\n    }\r\n\r\nIs the correct way to read a resource with a `BufferedReader`","title":"Exporting JAR file from Eclipse doesn&#39;t include folders/files outside src","body":"<pre><code>try (BufferedReader br = new BufferedReader(\n        new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/foo.csv&quot;)))) {\n    // Code here\n}\n</code></pre>\n<p>Is the correct way to read a resource with a <code>BufferedReader</code></p>\n"}],"owner":{"account_id":25445064,"reputation":3,"user_id":19247380,"display_name":"Ojee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72466996,"answer_count":1,"score":0,"last_activity_date":1654110805,"creation_date":1654079237,"question_id":72460266,"body_markdown":"I am trying to export a jar file using eclipse but it doesn&#39;t include any folder or file outside the src. I have an images folder and 2 csv files that I need to be in the jar file so the images can be displayed and for the csv files to be loaded. When I run in eclipse the images are displayed and the csv files are loaded but when I export as jar file they don&#39;t.\r\n\r\n    background.setIcon(new ImageIcon(&quot;images\\\\marvel_800_500.png&quot;));\r\n\r\nThis is how I&#39;m setting the images\r\n\r\n    public static void loadAbilities(String filePath)\r\n.\r\n\r\n    loadAbilities(&quot;Abilities.csv&quot;);\r\n\r\nHow can I include the folder/files in the jar file or load them in any way?\r\n\r\n[Java Project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JKtVT.png","title":"Exporting JAR file from Eclipse doesn&#39;t include folders/files outside src","body":"<p>I am trying to export a jar file using eclipse but it doesn't include any folder or file outside the src. I have an images folder and 2 csv files that I need to be in the jar file so the images can be displayed and for the csv files to be loaded. When I run in eclipse the images are displayed and the csv files are loaded but when I export as jar file they don't.</p>\n<pre><code>background.setIcon(new ImageIcon(&quot;images\\\\marvel_800_500.png&quot;));\n</code></pre>\n<p>This is how I'm setting the images</p>\n<pre><code>public static void loadAbilities(String filePath)\n</code></pre>\n<p>.</p>\n<pre><code>loadAbilities(&quot;Abilities.csv&quot;);\n</code></pre>\n<p>How can I include the folder/files in the jar file or load them in any way?</p>\n<p><a href=\"https://i.stack.imgur.com/JKtVT.png\" rel=\"nofollow noreferrer\">Java Project</a></p>\n"},{"tags":["java","html","forms","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":19332677,"reputation":302,"user_id":14133911,"display_name":"Rafael da Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654110459,"creation_date":1654110459,"answer_id":72466949,"question_id":72452286,"body_markdown":"you can try to use `${#strings.toLowerCase(element.key)}`\r\n\r\n    &lt;form th:action=&quot;#&quot; th:object=&quot;${foo}&quot; method=&quot;post&quot;&gt;...\r\n        &lt;input type=&quot;text&quot; th:id=&quot;${#strings.toLowerCase(element.key)}&quot; th:name=${#strings.toLowerCase(element.key)} th:value=&quot;${element.value}&quot;/&gt; ...\r\n    &lt;/form&gt; ","title":"thymeleaf object binding can ignore case for form fields?","body":"<p>you can try to use <code>${#strings.toLowerCase(element.key)}</code></p>\n<pre><code>&lt;form th:action=&quot;#&quot; th:object=&quot;${foo}&quot; method=&quot;post&quot;&gt;...\n    &lt;input type=&quot;text&quot; th:id=&quot;${#strings.toLowerCase(element.key)}&quot; th:name=${#strings.toLowerCase(element.key)} th:value=&quot;${element.value}&quot;/&gt; ...\n&lt;/form&gt; \n</code></pre>\n"}],"owner":{"account_id":3252649,"reputation":230,"user_id":2742526,"accept_rate":100,"display_name":"aarav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72466949,"answer_count":1,"score":0,"last_activity_date":1654110459,"creation_date":1654020086,"question_id":72452286,"body_markdown":"Newly started using thymeleaf for my application. I am building a dynamic form from controller where form fields are created as a list of map. Each key value pair is iterated as below.\r\n\r\n      &lt;form th:action=&quot;#&quot; th:object=&quot;${foo}&quot; method=&quot;post&quot;&gt;...\r\n      &lt;input type=&quot;text&quot; id=${element.key}   \r\n\t\t\tth:name=${element.key} th:value=&quot;${element.value}&quot;/&gt; ...&lt;/form&gt; \r\n\r\n  \r\n\r\nMy Pojo has properties in lower case as following java standard. But when building the key property my code uses the Capital letters from external file and also in order to have a better readability on UI not converting from upper case to lower case conversion in \r\n ` mydata.put(&quot;KEY&quot;, 90);`.\r\n\r\nUpon submitting the page, my form elements not binding with propery key  of Foo class due to KEY to key is not mapping. Getting `null` for the form fields due to input form field name as &#39;KEY&#39;. I suspect the reason for getting null values for input text fields entered in html pages are due to case-sensitive of object properties in Foo class. \r\n\r\n` class Foo {\r\n  private String key;  //KEY can be a fix but naming convention is missing.\r\n}\r\n`\r\n\r\nIs there any thymeleaf tags available to ignore cases when binding html-elements to objects  ? Or shall I use any JavaScript tweak upon submitting the form ? Like sending lower case and converting to upper case on form load to display ?\r\n\r\n","title":"thymeleaf object binding can ignore case for form fields?","body":"<p>Newly started using thymeleaf for my application. I am building a dynamic form from controller where form fields are created as a list of map. Each key value pair is iterated as below.</p>\n<pre><code>  &lt;form th:action=&quot;#&quot; th:object=&quot;${foo}&quot; method=&quot;post&quot;&gt;...\n  &lt;input type=&quot;text&quot; id=${element.key}   \n        th:name=${element.key} th:value=&quot;${element.value}&quot;/&gt; ...&lt;/form&gt; \n</code></pre>\n<p>My Pojo has properties in lower case as following java standard. But when building the key property my code uses the Capital letters from external file and also in order to have a better readability on UI not converting from upper case to lower case conversion in\n<code> mydata.put(&quot;KEY&quot;, 90);</code>.</p>\n<p>Upon submitting the page, my form elements not binding with propery key  of Foo class due to KEY to key is not mapping. Getting <code>null</code> for the form fields due to input form field name as 'KEY'. I suspect the reason for getting null values for input text fields entered in html pages are due to case-sensitive of object properties in Foo class.</p>\n<p><code>class Foo { private String key;  //KEY can be a fix but naming convention is missing. }</code></p>\n<p>Is there any thymeleaf tags available to ignore cases when binding html-elements to objects  ? Or shall I use any JavaScript tweak upon submitting the form ? Like sending lower case and converting to upper case on form load to display ?</p>\n"},{"tags":["java","debugging","arguments","stack-trace"],"comments":[{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1297247931,"post_id":4943612,"comment_id":5512925,"body_markdown":"you can if you attach a debugger, otherwise - no. The parameters might be in CPU registers (not on the stack)","body":"you can if you attach a debugger, otherwise - no. The parameters might be in CPU registers (not on the stack)"},{"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":0,"creation_date":1297247993,"post_id":4943612,"comment_id":5512939,"body_markdown":"I&#39;m afraid I cannot attach a debugger for my purposes","body":"I&#39;m afraid I cannot attach a debugger for my purposes"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1297248165,"post_id":4943612,"comment_id":5512991,"body_markdown":"Then you&#39;re lost, besides ClassLoader and enhancing on-the-fly the class to trap the arguments. (but you&#39;d not ask if you knew how)","body":"Then you&#39;re lost, besides ClassLoader and enhancing on-the-fly the class to trap the arguments. (but you&#39;d not ask if you knew how)"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1297248877,"post_id":4943612,"comment_id":5513166,"body_markdown":"When a debugger can do it, then it must be possible somehow. AFAIK, a debugger doesn&#39;t use code instrumentation or alike, since it can be attached to any Java process. No idea how this works, maybe some JMX?","body":"When a debugger can do it, then it must be possible somehow. AFAIK, a debugger doesn&#39;t use code instrumentation or alike, since it can be attached to any Java process. No idea how this works, maybe some JMX?"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1297248985,"post_id":4943612,"comment_id":5513188,"body_markdown":"The debugger has its own API and it&#39;s not JMX but you must start java w/ the debugger settings. Technically you can implement the debugger interface, stop the thread, examine the stack frame, etc...","body":"The debugger has its own API and it&#39;s not JMX but you must start java w/ the debugger settings. Technically you can implement the debugger interface, stop the thread, examine the stack frame, etc..."},{"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":0,"creation_date":1297249432,"post_id":4943612,"comment_id":5513275,"body_markdown":"@bestssss so theoretically it is possible to copy paste the debugger API into my own debugging library?","body":"@bestssss so theoretically it is possible to copy paste the debugger API into my own debugging library?"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1297249760,"post_id":4943612,"comment_id":5513331,"body_markdown":"@Tom, copy/paste  - hardly, eclipse has an implementation of (the API is socket based). Which part of &#39;starting w/ the debgger settings&#39; is unclear? I told that in my very 1st comment. Anaways, to recap: you have the options: a) start w/ a debugger settings and implement and interface, hopefully you can debugger from the same process; b) modify the JVM; c) load the classes and enhance them on-the-fly to store their arguments and clean on exit, it will slow down the execution significantly.","body":"@Tom, copy/paste  - hardly, eclipse has an implementation of (the API is socket based). Which part of &#39;starting w/ the debgger settings&#39; is unclear? I told that in my very 1st comment. Anaways, to recap: you have the options: a) start w/ a debugger settings and implement and interface, hopefully you can debugger from the same process; b) modify the JVM; c) load the classes and enhance them on-the-fly to store their arguments and clean on exit, it will slow down the execution significantly."},{"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":0,"creation_date":1297249875,"post_id":4943612,"comment_id":5513356,"body_markdown":"@bestsss, what class would you extend in the JDK to modifiy the JVM (option b)? How would you enhance the classes on the fly (option c) to store their arguments?","body":"@bestsss, what class would you extend in the JDK to modifiy the JVM (option b)? How would you enhance the classes on the fly (option c) to store their arguments?"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1297249944,"post_id":4943612,"comment_id":5513371,"body_markdown":"@Tom, still i am in the haze, how will you call your OWN classes within unmodified source code? The call illustrated above in your question cannot happen unless you force it to...","body":"@Tom, still i am in the haze, how will you call your OWN classes within unmodified source code? The call illustrated above in your question cannot happen unless you force it to..."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1297250029,"post_id":4943612,"comment_id":5513398,"body_markdown":"@Tom, enhancing on the fly will be around at least 3k-4k lines of code, modifying the VM - not extending, you need to hack the hotspot (it&#39;s in C)","body":"@Tom, enhancing on the fly will be around at least 3k-4k lines of code, modifying the VM - not extending, you need to hack the hotspot (it&#39;s in C)"},{"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":0,"creation_date":1297250355,"post_id":4943612,"comment_id":5513473,"body_markdown":"@bestsss, of course the methods are called by an application. I however do not wish to modifiy the source of this application in order to see the arguments of the caller (it&#39;s a temporary debug). I cannot attach a debugger either. So I am interested in option b and c. For option b, can I not just find a &quot;Method&quot; class in the JDK source, modify that and rebuild the JDK? (I am talking about the high level .java files source, not the C source)","body":"@bestsss, of course the methods are called by an application. I however do not wish to modifiy the source of this application in order to see the arguments of the caller (it&#39;s a temporary debug). I cannot attach a debugger either. So I am interested in option b and c. For option b, can I not just find a &quot;Method&quot; class in the JDK source, modify that and rebuild the JDK? (I am talking about the high level .java files source, not the C source)"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1297250536,"post_id":4943612,"comment_id":5513503,"body_markdown":"@Tom, I never mentioned JDK, and if you have full control over the running environment I see no reason to skip the debugger as the most natural choice.","body":"@Tom, I never mentioned JDK, and if you have full control over the running environment I see no reason to skip the debugger as the most natural choice."},{"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":0,"creation_date":1297250670,"post_id":4943612,"comment_id":5513529,"body_markdown":"@bestsss, I cannot attach a debugger (I have my reasons). Simply redistributing a modified JDK is more suitable for my needs. Is there no class in the JDK that each method inherits?","body":"@bestsss, I cannot attach a debugger (I have my reasons). Simply redistributing a modified JDK is more suitable for my needs. Is there no class in the JDK that each method inherits?"},{"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":1,"creation_date":1297257438,"post_id":4943612,"comment_id":5515039,"body_markdown":"@bestsss, this lead me to a follow up question: http://stackoverflow.com/questions/4945358/java-do-methods-inherit-a-jre-super-class-like-classes-inherit-object - I accepted this question.","body":"@bestsss, this lead me to a follow up question: <a href=\"http://stackoverflow.com/questions/4945358/java-do-methods-inherit-a-jre-super-class-like-classes-inherit-object\" title=\"java do methods inherit a jre super class like classes inherit object\">stackoverflow.com/questions/4945358/&hellip;</a> - I accepted this question."}],"answers":[{"tags":[],"owner":{"account_id":50391,"reputation":11219,"user_id":150325,"accept_rate":100,"display_name":"Christopher Klewes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297253900,"creation_date":1297247756,"answer_id":4943672,"question_id":4943612,"body_markdown":"I think this could be possible, because `input` is out of scope but isn&#39;t yet accessible for garbage collection, so the value still exists, but unfortunately I don&#39;t believe there is an default API way to access it. This could be maybe possible with a custom implemented NDC (*nested diagnostic context*) for the logging approach.","title":"How to get arguments passed to method that called this method?","body":"<p>I think this could be possible, because <code>input</code> is out of scope but isn't yet accessible for garbage collection, so the value still exists, but unfortunately I don't believe there is an default API way to access it. This could be maybe possible with a custom implemented NDC (<em>nested diagnostic context</em>) for the logging approach.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1297247783,"creation_date":1297247783,"answer_id":4943679,"question_id":4943612,"body_markdown":"I don&#39;t believe this is possible using the standard Java API.\r\n\r\nWhat you could do is to use AspectJ, place a point-cut at the calling method, save the arguments, place a point-cut at the called method and pass on the arguments.\r\n\r\nAnother option (slightly more advanced) is to use a custom, bytecode-rewriting, class loader that saves the original arguments, and passes them on as extra arguments to the next method. This would probably take a day or two to implement. Suitable frameworks are [BCEL](http://jakarta.apache.org/bcel/) or [ASM](http://asm.ow2.org/).","title":"How to get arguments passed to method that called this method?","body":"<p>I don't believe this is possible using the standard Java API.</p>\n\n<p>What you could do is to use AspectJ, place a point-cut at the calling method, save the arguments, place a point-cut at the called method and pass on the arguments.</p>\n\n<p>Another option (slightly more advanced) is to use a custom, bytecode-rewriting, class loader that saves the original arguments, and passes them on as extra arguments to the next method. This would probably take a day or two to implement. Suitable frameworks are <a href=\"http://jakarta.apache.org/bcel/\" rel=\"nofollow\">BCEL</a> or <a href=\"http://asm.ow2.org/\" rel=\"nofollow\">ASM</a>.</p>\n"},{"tags":[],"owner":{"account_id":801922,"reputation":1,"user_id":609585,"display_name":"Ujjwal"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1362146842,"creation_date":1297248260,"answer_id":4943764,"question_id":4943612,"body_markdown":"This is possible using Reflection API !\r\n\r\n    public class StackTrace {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tStackTrace st = new StackTrace();\r\n    \t\tst.func();\r\n    \t}\r\n    \tpublic void func() {\r\n    \t\tOtherClass os =new OtherClass();\r\n    \t\tos.getStackTrace(this);\r\n    \t}\r\n    }\r\n    \r\n    class OtherClass {\r\n    \tvoid getStackTrace(Object obj)  {\r\n    \t\tSystem.out.println(obj.getClass());\r\n    \t}\r\n    }\r\n","title":"How to get arguments passed to method that called this method?","body":"<p>This is possible using Reflection API !</p>\n\n<pre><code>public class StackTrace {\n    public static void main(String args[]) {\n        StackTrace st = new StackTrace();\n        st.func();\n    }\n    public void func() {\n        OtherClass os =new OtherClass();\n        os.getStackTrace(this);\n    }\n}\n\nclass OtherClass {\n    void getStackTrace(Object obj)  {\n        System.out.println(obj.getClass());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300661,"reputation":1942,"user_id":607917,"display_name":"evilcandybag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297248339,"creation_date":1297248339,"answer_id":4943779,"question_id":4943612,"body_markdown":"I&#39;m not sure why you&#39;d ever want to do this in Java?\r\n\r\nThe only way I can think of is to create a custom wrapper object for the passed string, thus sending the reference to the wrapper instead of a new string each time.  \r\nI&#39;d advice against it, though, since it clutters your original code, and makes it even more error prone.  \r\n\r\nMight this problem not be solved using a debugger, like the one built into eclipse, to inspect your state?","title":"How to get arguments passed to method that called this method?","body":"<p>I'm not sure why you'd ever want to do this in Java?</p>\n\n<p>The only way I can think of is to create a custom wrapper object for the passed string, thus sending the reference to the wrapper instead of a new string each time.<br>\nI'd advice against it, though, since it clutters your original code, and makes it even more error prone.  </p>\n\n<p>Might this problem not be solved using a debugger, like the one built into eclipse, to inspect your state?</p>\n"},{"tags":[],"owner":{"account_id":1931144,"reputation":2211,"user_id":1740505,"display_name":"Lalit Jha"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1375355840,"creation_date":1375355840,"answer_id":17992582,"question_id":4943612,"body_markdown":"You can get name of caller method and its class, but you have to add some code in current method:\r\n\r\n        public static void main(String[] args) throws Exception {\r\n\t\tcall();\r\n\t}\r\n\r\n\tprivate static void call() {\r\n\t\tException exception = new Exception();\r\n\t\tfor(StackTraceElement trace : exception.getStackTrace()){\r\n\t\t\tSystem.out.println(trace.getMethodName());\r\n\t\t}\r\n\t}\r\n\r\nThis will print &quot;call&quot; and &quot;main&quot;, methods name in called order (reverse).","title":"How to get arguments passed to method that called this method?","body":"<p>You can get name of caller method and its class, but you have to add some code in current method:</p>\n\n<pre><code>    public static void main(String[] args) throws Exception {\n    call();\n}\n\nprivate static void call() {\n    Exception exception = new Exception();\n    for(StackTraceElement trace : exception.getStackTrace()){\n        System.out.println(trace.getMethodName());\n    }\n}\n</code></pre>\n\n<p>This will print \"call\" and \"main\", methods name in called order (reverse).</p>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582722559,"creation_date":1582722559,"answer_id":60414705,"question_id":4943612,"body_markdown":"In my case, I needed to get a parameter value has been passed to a method in a certain stack frame to be used later within the execution flow\r\n\r\nI used `ThreadLocal` to store it and when I needed it I was able to retrieve it at any point in code as I declared it as `public static` \r\n\r\nhere is a skeleton example\r\n\r\n    public static final ThreadLocal&lt;SomeType&gt; IMPORTANT_THREAD_LOCAL_FOR_BLA = ThreadLocal.withInitial(whatever);\r\n\r\n    methodWithImportantParam(SomeType importantValue){\r\n        // save it in the static threadLocal Field\r\n        this.IMPORTANT_THREAD_LOCAL_FOR_BLA.get()=importantValue;// code to set the value\r\n        // continue method logic\r\n    }\r\n\r\nand somewhere in code where you need that value \r\n\r\n    YourClass.IMPORTANT_THREAD_LOCAL_FOR_BLA.get()\r\n\r\nbut make sure the execution flow that you set the value then you retrieve it \r\n\r\n\r\nhope my answer add something valuable to this question","title":"How to get arguments passed to method that called this method?","body":"<p>In my case, I needed to get a parameter value has been passed to a method in a certain stack frame to be used later within the execution flow</p>\n\n<p>I used <code>ThreadLocal</code> to store it and when I needed it I was able to retrieve it at any point in code as I declared it as <code>public static</code> </p>\n\n<p>here is a skeleton example</p>\n\n<pre><code>public static final ThreadLocal&lt;SomeType&gt; IMPORTANT_THREAD_LOCAL_FOR_BLA = ThreadLocal.withInitial(whatever);\n\nmethodWithImportantParam(SomeType importantValue){\n    // save it in the static threadLocal Field\n    this.IMPORTANT_THREAD_LOCAL_FOR_BLA.get()=importantValue;// code to set the value\n    // continue method logic\n}\n</code></pre>\n\n<p>and somewhere in code where you need that value </p>\n\n<pre><code>YourClass.IMPORTANT_THREAD_LOCAL_FOR_BLA.get()\n</code></pre>\n\n<p>but make sure the execution flow that you set the value then you retrieve it </p>\n\n<p>hope my answer add something valuable to this question</p>\n"}],"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10247,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":4943679,"answer_count":6,"score":19,"last_activity_date":1654110141,"creation_date":1297247487,"question_id":4943612,"body_markdown":"In Java, it is possible to get the class and method that called the current method (the method in which you get the StackTrace).\r\n\r\nCan I get the arguments that were passed to the method that called this method?\r\n\r\nI need this for debugging purposes.\r\n\r\nEg:\r\n\r\n    baseClass {\r\n       initialFunc(input) {\r\n           var modifiedInput = input + &quot; I modified you&quot;;\r\n           otherClass.doSomething(modifiedInput);\r\n       }\r\n    }\r\n    \r\n    otherClass {\r\n        doSomething(input)  {\r\n             //GET THE ARGUMENTS PASSED TO THE METHOD OF THE CLASS THAT CALLED THIS METHOD\r\n        }\r\n    }\r\n\r\nCan one get this information from the stacktrace, or are there other means?\r\n\r\n*(Note that I need to be able to do this in runtime and cannot actually change the source of baseClass, this is going to be a feature of my debugging class that does not know the source beforehand)*","title":"How to get arguments passed to method that called this method?","body":"<p>In Java, it is possible to get the class and method that called the current method (the method in which you get the StackTrace).</p>\n<p>Can I get the arguments that were passed to the method that called this method?</p>\n<p>I need this for debugging purposes.</p>\n<p>Eg:</p>\n<pre><code>baseClass {\n   initialFunc(input) {\n       var modifiedInput = input + &quot; I modified you&quot;;\n       otherClass.doSomething(modifiedInput);\n   }\n}\n\notherClass {\n    doSomething(input)  {\n         //GET THE ARGUMENTS PASSED TO THE METHOD OF THE CLASS THAT CALLED THIS METHOD\n    }\n}\n</code></pre>\n<p>Can one get this information from the stacktrace, or are there other means?</p>\n<p><em>(Note that I need to be able to do this in runtime and cannot actually change the source of baseClass, this is going to be a feature of my debugging class that does not know the source beforehand)</em></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654054699,"post_id":72456181,"comment_id":127998184,"body_markdown":"Please read [ask].","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654067570,"creation_date":1654067570,"answer_id":72457698,"question_id":72456181,"body_markdown":"If you want to rewrite your `handleRequest` method by using streams, then you simply need to stream the `event.getRecords()`, invoke the `map` operation to map each record to the `Map` given by the `getNewImage()` method, filter for only the maps that contain the &quot;status&quot; key and whose value is equals to &quot;finished&quot;. Finally, execute the operations you need in the terminal operation `foreach`.\r\n\r\n```\r\npublic void handleRequest(final DynamodbEvent event, final Context context) {\r\n    event.getRecords().stream()\r\n        .map(ddbRecord -&gt; ddbRecord.getDynamodb().getNewImage())\r\n        .filter(map -&gt; map.containsKey(&quot;status&quot;) &amp;&amp; map.get(&quot;status&quot;).equals(&quot;FINISHED&quot;))\r\n        .foreach(value -&gt; /*... do something ...*/);\r\n}\r\n```","title":"Transform and filter through streams this java code","body":"<p>If you want to rewrite your <code>handleRequest</code> method by using streams, then you simply need to stream the <code>event.getRecords()</code>, invoke the <code>map</code> operation to map each record to the <code>Map</code> given by the <code>getNewImage()</code> method, filter for only the maps that contain the &quot;status&quot; key and whose value is equals to &quot;finished&quot;. Finally, execute the operations you need in the terminal operation <code>foreach</code>.</p>\n<pre><code>public void handleRequest(final DynamodbEvent event, final Context context) {\n    event.getRecords().stream()\n        .map(ddbRecord -&gt; ddbRecord.getDynamodb().getNewImage())\n        .filter(map -&gt; map.containsKey(&quot;status&quot;) &amp;&amp; map.get(&quot;status&quot;).equals(&quot;FINISHED&quot;))\n        .foreach(value -&gt; /*... do something ...*/);\n}\n</code></pre>\n"}],"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1654110082,"creation_date":1654054410,"question_id":72456181,"body_markdown":"I have the below code, and I would like to utilize the new java constructs such as streams, filters etc to simplify it.\r\n\r\nPossibly something like \r\n```\r\n eventsToBeProcessed = event.getRecords().filter(\r\n   // filter all status that are finished\r\n);\r\nif (eventsToBeProcessed == null)\r\n\r\n     return from function;\r\n\r\n// loop through all the eventsToBeProcessed for processing\r\n\r\n```\r\n\r\nThis is the code I currently have\r\n```\r\n public Void handleRequest(final DynamodbEvent event, final Context context) {\r\n\r\n     for (final DynamodbEvent.DynamodbStreamRecord ddbRecord : event.getRecords()) {\r\n            Map&lt;String, AttributeValue&gt; map = ddbRecord.getDynamodb().getNewImage();\r\n            if (map.containsKey(&quot;status&quot;) &amp;&amp; map.get(&quot;status&quot;).equals(&quot;FINISHED&quot;)) {\r\n                // Do something\r\n            }\r\n        }\r\n  }\r\n\r\n// return from function","title":"Transform and filter through streams this java code","body":"<p>I have the below code, and I would like to utilize the new java constructs such as streams, filters etc to simplify it.</p>\n<p>Possibly something like</p>\n<pre><code> eventsToBeProcessed = event.getRecords().filter(\n   // filter all status that are finished\n);\nif (eventsToBeProcessed == null)\n\n     return from function;\n\n// loop through all the eventsToBeProcessed for processing\n\n</code></pre>\n<p>This is the code I currently have</p>\n<pre><code> public Void handleRequest(final DynamodbEvent event, final Context context) {\n\n     for (final DynamodbEvent.DynamodbStreamRecord ddbRecord : event.getRecords()) {\n            Map&lt;String, AttributeValue&gt; map = ddbRecord.getDynamodb().getNewImage();\n            if (map.containsKey(&quot;status&quot;) &amp;&amp; map.get(&quot;status&quot;).equals(&quot;FINISHED&quot;)) {\n                // Do something\n            }\n        }\n  }\n\n// return from function\n</code></pre>\n"},{"tags":["java","spring","spring-boot","postman"],"answers":[{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654109953,"creation_date":1654109953,"answer_id":72466842,"question_id":72466412,"body_markdown":"For quotes, the data type that should come as per the json string is a List. but was given a Map in the DTO.  \r\nThe DTO should be :: \r\n```\r\nimport com.google.gson.Gson;\r\n\r\nimport java.util.List;\r\n\r\npublic class GsonMappingExample {\r\n    public static void main(String[] args) {\r\n        String jsonString = &quot;{\\&quot;stockId\\&quot;:\\&quot;test3\\&quot;,\\&quot;quotes\\&quot;:[{\\&quot;quoteDate\\&quot;:\\&quot;2003-05-14\\&quot;,\\&quot;quoteValue\\&quot;:\\&quot;35.9\\&quot;},{\\&quot;quoteDate\\&quot;:\\&quot;2016-03-28\\&quot;,\\&quot;quoteValue\\&quot;:\\&quot;55.0\\&quot;}]}&quot;;\r\n        Gson gson = new Gson();\r\n        StockDTO stockDTO = gson.fromJson(jsonString, StockDTO.class);\r\n        System.out.println(stockDTO);\r\n    }\r\n}\r\n\r\nclass StockDTO {\r\n    private final String stockId;\r\n    private final List&lt;Quote&gt; quotes;\r\n\r\n    public StockDTO(String stockId, List&lt;Quote&gt; quotes) {\r\n        this.stockId = stockId;\r\n        this.quotes = quotes;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;StockDTO{&quot; +\r\n                &quot;stockId=&#39;&quot; + stockId + &#39;\\&#39;&#39; +\r\n                &quot;, quoteList=&quot; + quotes +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\nclass Quote {\r\n    private final String quoteDate;\r\n    private final Double quoteValue;\r\n\r\n    public Quote(String quoteDate, Double quoteValue) {\r\n        this.quoteDate = quoteDate;\r\n        this.quoteValue = quoteValue;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Quote{&quot; +\r\n                &quot;quoteDate=&quot; + quoteDate +\r\n                &quot;, quoteValue=&quot; + quoteValue +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nPS: Here I&#39;m using Gson library to parse the json string, spring-boot automatically does that (using Jackson library I think!)","title":"How do I receive a dto, with a map as one of it&#39;s atributes, as a parameter of my controller? (REST API)","body":"<p>For quotes, the data type that should come as per the json string is a List. but was given a Map in the DTO.<br />\nThe DTO should be ::</p>\n<pre><code>import com.google.gson.Gson;\n\nimport java.util.List;\n\npublic class GsonMappingExample {\n    public static void main(String[] args) {\n        String jsonString = &quot;{\\&quot;stockId\\&quot;:\\&quot;test3\\&quot;,\\&quot;quotes\\&quot;:[{\\&quot;quoteDate\\&quot;:\\&quot;2003-05-14\\&quot;,\\&quot;quoteValue\\&quot;:\\&quot;35.9\\&quot;},{\\&quot;quoteDate\\&quot;:\\&quot;2016-03-28\\&quot;,\\&quot;quoteValue\\&quot;:\\&quot;55.0\\&quot;}]}&quot;;\n        Gson gson = new Gson();\n        StockDTO stockDTO = gson.fromJson(jsonString, StockDTO.class);\n        System.out.println(stockDTO);\n    }\n}\n\nclass StockDTO {\n    private final String stockId;\n    private final List&lt;Quote&gt; quotes;\n\n    public StockDTO(String stockId, List&lt;Quote&gt; quotes) {\n        this.stockId = stockId;\n        this.quotes = quotes;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;StockDTO{&quot; +\n                &quot;stockId='&quot; + stockId + '\\'' +\n                &quot;, quoteList=&quot; + quotes +\n                '}';\n    }\n}\n\nclass Quote {\n    private final String quoteDate;\n    private final Double quoteValue;\n\n    public Quote(String quoteDate, Double quoteValue) {\n        this.quoteDate = quoteDate;\n        this.quoteValue = quoteValue;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Quote{&quot; +\n                &quot;quoteDate=&quot; + quoteDate +\n                &quot;, quoteValue=&quot; + quoteValue +\n                '}';\n    }\n}\n</code></pre>\n<p>PS: Here I'm using Gson library to parse the json string, spring-boot automatically does that (using Jackson library I think!)</p>\n"}],"owner":{"account_id":18557063,"reputation":13,"user_id":13521876,"display_name":"Bruno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72466842,"answer_count":1,"score":1,"last_activity_date":1654109953,"creation_date":1654107478,"question_id":72466412,"body_markdown":"When I try to send it, it show me the &quot;error&quot;: &quot;Bad Request&quot;,\r\n&quot;trace&quot;: &quot;...HttpMessageNotReadableException: JSON parse error: Cannot deserialize Map key of type `java.time.LocalDate` from String \\&quot;quoteDate\\&quot;: Failed to deserialize java.time.LocalDate&quot;\r\n\r\nThe JSON I am sending via postman:\r\n```\r\n{\r\n    &quot;stockId&quot;:&quot;test3&quot;,\r\n    &quot;quotes&quot;:[\r\n        {\r\n        &quot;quoteDate&quot;:&quot;2003-05-14&quot;,\r\n        &quot;quoteValue&quot;:&quot;35.9&quot;\r\n        },\r\n        {\r\n        &quot;quoteDate&quot;:&quot;2016-03-28&quot;,\r\n        &quot;quoteValue&quot;:&quot;55.0&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\nThe controller:\r\n```\r\n@PostMapping(&quot;/stock/save&quot;)\r\n    public void saveQuotes(@RequestBody StockDTO stockDTO) {\r\n        System.out.println(stockDTO.toString());\r\n    }\r\n```\r\nThe DTO\r\n```\r\npublic class StockDTO {\r\n    String id;\r\n    String stockId;\r\n    Map&lt;LocalDate, Double&gt; quotes;\r\n}\r\n```","title":"How do I receive a dto, with a map as one of it&#39;s atributes, as a parameter of my controller? (REST API)","body":"<p>When I try to send it, it show me the &quot;error&quot;: &quot;Bad Request&quot;,\n&quot;trace&quot;: &quot;...HttpMessageNotReadableException: JSON parse error: Cannot deserialize Map key of type <code>java.time.LocalDate</code> from String &quot;quoteDate&quot;: Failed to deserialize java.time.LocalDate&quot;</p>\n<p>The JSON I am sending via postman:</p>\n<pre><code>{\n    &quot;stockId&quot;:&quot;test3&quot;,\n    &quot;quotes&quot;:[\n        {\n        &quot;quoteDate&quot;:&quot;2003-05-14&quot;,\n        &quot;quoteValue&quot;:&quot;35.9&quot;\n        },\n        {\n        &quot;quoteDate&quot;:&quot;2016-03-28&quot;,\n        &quot;quoteValue&quot;:&quot;55.0&quot;\n        }\n    ]\n}\n</code></pre>\n<p>The controller:</p>\n<pre><code>@PostMapping(&quot;/stock/save&quot;)\n    public void saveQuotes(@RequestBody StockDTO stockDTO) {\n        System.out.println(stockDTO.toString());\n    }\n</code></pre>\n<p>The DTO</p>\n<pre><code>public class StockDTO {\n    String id;\n    String stockId;\n    Map&lt;LocalDate, Double&gt; quotes;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7247808,"reputation":3044,"user_id":5819877,"accept_rate":100,"display_name":"Praveen Kumar K S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654109930,"creation_date":1586142467,"answer_id":61052381,"question_id":61052063,"body_markdown":"Please add this line in your ```application.properties``` file \r\n\r\n```\r\nmanagement.security.enabled= false\r\n```","title":"How to insert data under secure rest endpoints by spring security using MYSQL","body":"<p>Please add this line in your <code>application.properties</code> file</p>\n<pre><code>management.security.enabled= false\n</code></pre>\n"}],"owner":{"account_id":4238143,"reputation":121,"user_id":3468771,"display_name":"Badar Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654109930,"creation_date":1586139562,"question_id":61052063,"body_markdown":"I am new to spring boot 2. For creating rest-full service using spring security and MySQL based authentication, I am following this [article][1] but got stucked in registration process.\r\n\r\n**Problem 1**: I am unable to understand URL requesting pattern to register a user with particular role.  \r\n**Problem 2:** On browser side, If I hit `localhost:8080` then I get login page which I haven&#39;t implemented. Why I am getting a UI and from where?\r\n\r\nPom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;badar.tme&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;tme&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;tme&lt;/name&gt;\r\n    \t&lt;description&gt;TME ordering system developed by ONSETS&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- spring security --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\n[Here is Login UI which is miracle for me right now.][2]\r\n\r\nAuth Controller (rest controller)\r\n\r\n     @RequestMapping(value = &quot;/registration&quot;, method = RequestMethod.POST)\r\n    \t    public ResponseEntity&lt;Users&gt; createNewUser(@Valid Users user, String role) {\r\n    \t        \r\n    \t        Users userExists = userService.findUserByEmail(user.getEmail());\r\n    \t        if (userExists == null) {\r\n    \t        \tResponseEntity.badRequest().build();\r\n    \t        } \r\n    \t        return ResponseEntity.ok(userService.save(user, role));\r\n    \t    }\r\n\r\n\r\nWebSecurityConfigurerAdapter child file\r\n\r\n    package com.tme.runner;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.WebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    \r\n    import com.tme.service.MyUserDetailsService;\r\n    \r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableJpaRepositories(basePackageClasses = com.tme.repo.UserRepository.class)\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter{\r\n    \r\n    \t@Autowired\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    \t@Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n            BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\r\n            return bCryptPasswordEncoder;\r\n        }\r\n    \t\r\n        @Autowired\r\n        private MyUserDetailsService userDetailsService;\r\n        \r\n    //    @Bean\r\n    //    public PasswordEncoder passwordEncoder() {\r\n    //        return new BCryptPasswordEncoder();\r\n    //    }\r\n    \r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n                    auth\r\n                        .userDetailsService(userDetailsService)\r\n                        .passwordEncoder(bCryptPasswordEncoder);\r\n        }\r\n        \r\n        \r\n       \r\n        \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            http\r\n            \t\t.httpBasic()\r\n            \t\t.and()\r\n            \t\t.authorizeRequests()\r\n                    .antMatchers(&quot;/login&quot;).permitAll()\r\n                    .antMatchers(&quot;/registration&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/**&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                    .and()\r\n                    .csrf().disable()\r\n                    .formLogin().disable();\r\n                    \r\n        }\r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web\r\n                    .ignoring()\r\n                    .antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;);\r\n        }\r\n        \r\n    }\r\n\r\n\r\nUser Entity class\r\n\r\n    package com.tme.model;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.hibernate.validator.constraints.Length;\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Email;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import java.util.Set;\r\n    \r\n    \r\n    /**\r\n     * @author badar\r\n     */\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class Users {\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;user_id&quot;)\r\n        private int id;\r\n        @Column(name = &quot;user_name&quot;)\r\n        @Length(min = 5, message = &quot;*Your user name must have at least 5 characters&quot;)\r\n        @NotEmpty(message = &quot;*Please provide a user name&quot;)\r\n        private String userName;\r\n        @Column(name = &quot;email&quot;)\r\n        @Email(message = &quot;*Please provide a valid Email&quot;)\r\n        @NotEmpty(message = &quot;*Please provide an email&quot;)\r\n        private String email;\r\n        @Column(name = &quot;password&quot;)\r\n        @Length(min = 5, message = &quot;*Your password must have at least 5 characters&quot;)\r\n        @NotEmpty(message = &quot;*Please provide your password&quot;)\r\n        private String password;\r\n        @Column(name = &quot;name&quot;)\r\n        @NotEmpty(message = &quot;*Please provide your name&quot;)\r\n        private String name;\r\n        @Column(name = &quot;last_name&quot;)\r\n        @NotEmpty(message = &quot;*Please provide your last name&quot;)\r\n        private String lastName;\r\n        @Column(name = &quot;active&quot;)\r\n        private Boolean active;\r\n        @ManyToMany(cascade = CascadeType.MERGE)\r\n        @JoinTable(name = &quot;user_role&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n        private Set&lt;Roles&gt; roles;\r\n        \r\n        public Users() {}\r\n        public Users(\r\n    \t\t\tString userName,\r\n    \t\t\tString email,\r\n    \t\t\tString password,\r\n    \t\t\tString name,\r\n    \t\t\tString lastName, \r\n    \t\t\tBoolean active) {\r\n    \t\t\r\n    \t\tthis.userName = userName;\r\n    \t\tthis.email = email;\r\n    \t\tthis.password = password;\r\n    \t\tthis.name = name;\r\n    \t\tthis.lastName = lastName;\r\n    \t\tthis.active = active;\r\n    \t}\r\n    \tpublic Users(\r\n    \t\t\tString userName,\r\n    \t\t\tString email,\r\n    \t\t\tString password,\r\n    \t\t\tString name,\r\n    \t\t\tString lastName, \r\n    \t\t\tBoolean active, \r\n    \t\t\tSet&lt;Roles&gt; roles) {\r\n    \t\t\r\n    \t\tthis.userName = userName;\r\n    \t\tthis.email = email;\r\n    \t\tthis.password = password;\r\n    \t\tthis.name = name;\r\n    \t\tthis.lastName = lastName;\r\n    \t\tthis.active = active;\r\n    \t\tthis.roles = roles;\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getUserName() {\r\n    \t\treturn userName;\r\n    \t}\r\n    \r\n    \tpublic void setUserName(String userName) {\r\n    \t\tthis.userName = userName;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \tpublic Boolean getActive() {\r\n    \t\treturn active;\r\n    \t}\r\n    \r\n    \tpublic void setActive(Boolean active) {\r\n    \t\tthis.active = active;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;Roles&gt; getRoles() {\r\n    \t\treturn roles;\r\n    \t}\r\n    \r\n    \tpublic void setRoles(Set&lt;Roles&gt; roles) {\r\n    \t\tthis.roles = roles;\r\n    \t}\r\n        \r\n        \r\n        \r\n    }\r\n\r\nService Class\r\n\r\n    package com.tme.service;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.tme.model.Roles;\r\n    import com.tme.model.Users;\r\n    import com.tme.repo.RoleRepository;\r\n    import com.tme.repo.UserRepository;\r\n    \r\n    @Service\r\n    public class UsersServices {\r\n    \r\n    \t@Autowired(required=false)\r\n    \tprivate UserRepository userRepository;\r\n    \t@Autowired(required=false)\r\n        private RoleRepository roleRepository;\r\n        @Autowired(required=false)\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    //    public UsersServices(BCryptPasswordEncoder bCryptPasswordEncoder,UserRepository userRepository,\r\n    //                       RoleRepository roleRepository\r\n    //                       ) {\r\n    //        this.userRepository = userRepository;\r\n    //        this.roleRepository = roleRepository;\r\n    //        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    //    }\r\n        \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \t\r\n    \tpublic List&lt;Users&gt; findAll(){\r\n    \t\treturn userRepository.findAll();\r\n    \t}\r\n    \t\r\n    \tpublic Users findUserByEmail(String email) {\r\n            return userRepository.findByEmail(email);\r\n        }\r\n    \t\r\n    \tpublic Users findUserByUserName(String userName) {\r\n            return userRepository.findByUserName(userName);\r\n        }\r\n    \t\r\n    \tpublic Optional&lt;Users&gt; findById(Long id){\r\n    \t\treturn userRepository.findById(id);\r\n    \t}\r\n    \t\r\n    \tpublic Users save(Users data) {\r\n    \t\tdata.setPassword(bCryptPasswordEncoder.encode(data.getPassword()));\r\n    \t\tdata.setActive(true);\r\n            Roles userRole = roleRepository.findByRole(&quot;ADMIN&quot;);\r\n            data.setRoles(new HashSet&lt;Roles&gt;(Arrays.asList(userRole)));\r\n            return userRepository.save(data);\r\n    \t}\r\n    \t\r\n    \tpublic Users save(Users data, String role) {\r\n    \t\tdata.setPassword(bCryptPasswordEncoder.encode(data.getPassword()));\r\n            Roles userRole = roleRepository.findByRole(role);\r\n            data.setRoles(new HashSet&lt;Roles&gt;(Arrays.asList(userRole)));\r\n            return userRepository.save(data);\r\n    \t}\r\n    \t\r\n    \tpublic void deleteById(Long id) {\r\n    \t\tuserRepository.deleteById(id);\r\n    \t}\r\n    }\r\n\r\nMyUserDetailsService class\r\n\r\n    @Service\r\n    public class MyUserDetailsService implements UserDetailsService{\r\n    \r\n    \t@Autowired\r\n        private UsersServices userService;\r\n        \r\n        @Override\r\n        @Transactional\r\n        public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        \t\r\n            Users user = userService.findUserByEmail(email);\r\n            if (user == null) {\r\n                throw new UsernameNotFoundException(&quot;Not found!&quot;);\r\n            }\r\n            \r\n            List&lt;GrantedAuthority&gt; authorities = getUserAuthority(user.getRoles());\r\n            return buildUserForAuthentication(user, authorities);\r\n        }\r\n    \r\n        private List&lt;GrantedAuthority&gt; getUserAuthority(Set&lt;Roles&gt; userRoles) {\r\n            Set&lt;GrantedAuthority&gt; roles = new HashSet&lt;GrantedAuthority&gt;();\r\n            for (Roles role : userRoles) {\r\n                roles.add(new SimpleGrantedAuthority(role.getRole()));\r\n            }\r\n            List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;(roles);\r\n            return grantedAuthorities;\r\n        }\r\n        \r\n        private UserDetails buildUserForAuthentication(Users user, List&lt;GrantedAuthority&gt; authorities) {\r\n            return new org.springframework.security.core.userdetails.User(user.getUserName(), user.getPassword(),\r\n                    user.getActive(), true, true, true, authorities);\r\n        }\r\n    }\r\n\r\nMyUserDetail\r\n\r\n    public class MyUserDetails extends Users implements UserDetails{\r\n    \t\r\n    \tprivate String userName;\r\n    \tprivate String email;\r\n    \tprivate String password;\r\n    \tprivate String name;\r\n    \tprivate String lastName; \r\n    \tprivate Boolean active;\r\n    \t \r\n    \t\r\n    \tpublic MyUserDetails(Users user) {\r\n    \t\tthis.userName = user.getUserName();\r\n    \t\tthis.email = user.getEmail();\r\n    \t\tthis.password = user.getPassword();\r\n    \t\tthis.name = user.getName();\r\n    \t\tthis.lastName = user.getLastName();\r\n    \t\tthis.active = user.getActive();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn getRoles()\r\n                    .stream()\r\n                    .map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getRole()))\r\n                    .collect(Collectors.toList());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getPassword() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getUsername() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn userName;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isAccountNonExpired() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isAccountNonLocked() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isCredentialsNonExpired() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isEnabled() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn active;\r\n    \t}\r\n    \r\n    }\r\n\r\nI think I have done every thing. Don&#39;t know how to save/Regsiter New user. If I will be able to regsiter a user then can test my login URL. Thanks inadvance.\r\n\r\n  [1]: https://medium.com/@gustavo.ponce.ch/spring-boot-spring-mvc-spring-security-mysql-a5d8545d837d\r\n  [2]: https://i.stack.imgur.com/sUNpz.png\r\n\r\n","title":"How to insert data under secure rest endpoints by spring security using MYSQL","body":"<p>I am new to spring boot 2. For creating rest-full service using spring security and MySQL based authentication, I am following this <a href=\"https://medium.com/@gustavo.ponce.ch/spring-boot-spring-mvc-spring-security-mysql-a5d8545d837d\" rel=\"nofollow noreferrer\">article</a> but got stucked in registration process.</p>\n\n<p><strong>Problem 1</strong>: I am unable to understand URL requesting pattern to register a user with particular role.<br>\n<strong>Problem 2:</strong> On browser side, If I hit <code>localhost:8080</code> then I get login page which I haven't implemented. Why I am getting a UI and from where?</p>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;badar.tme&lt;/groupId&gt;\n    &lt;artifactId&gt;tme&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;tme&lt;/name&gt;\n    &lt;description&gt;TME ordering system developed by ONSETS&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- spring security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/sUNpz.png\" rel=\"nofollow noreferrer\">Here is Login UI which is miracle for me right now.</a></p>\n\n<p>Auth Controller (rest controller)</p>\n\n<pre><code> @RequestMapping(value = \"/registration\", method = RequestMethod.POST)\n        public ResponseEntity&lt;Users&gt; createNewUser(@Valid Users user, String role) {\n\n            Users userExists = userService.findUserByEmail(user.getEmail());\n            if (userExists == null) {\n                ResponseEntity.badRequest().build();\n            } \n            return ResponseEntity.ok(userService.save(user, role));\n        }\n</code></pre>\n\n<p>WebSecurityConfigurerAdapter child file</p>\n\n<pre><code>package com.tme.runner;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\nimport com.tme.service.MyUserDetailsService;\n\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@Configuration\n@EnableWebSecurity\n@EnableJpaRepositories(basePackageClasses = com.tme.repo.UserRepository.class)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter{\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\n        return bCryptPasswordEncoder;\n    }\n\n    @Autowired\n    private MyUserDetailsService userDetailsService;\n\n//    @Bean\n//    public PasswordEncoder passwordEncoder() {\n//        return new BCryptPasswordEncoder();\n//    }\n\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n                auth\n                    .userDetailsService(userDetailsService)\n                    .passwordEncoder(bCryptPasswordEncoder);\n    }\n\n\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http\n                .httpBasic()\n                .and()\n                .authorizeRequests()\n                .antMatchers(\"/login\").permitAll()\n                .antMatchers(\"/registration\").permitAll()\n                .antMatchers(\"/api/v1/**\").hasAuthority(\"ADMIN\")\n                .and()\n                .csrf().disable()\n                .formLogin().disable();\n\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web\n                .ignoring()\n                .antMatchers(\"/resources/**\", \"/static/**\", \"/css/**\", \"/js/**\", \"/images/**\");\n    }\n\n}\n</code></pre>\n\n<p>User Entity class</p>\n\n<pre><code>package com.tme.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.validator.constraints.Length;\nimport javax.persistence.*;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotEmpty;\nimport java.util.Set;\n\n\n/**\n * @author badar\n */\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = \"users\")\npublic class Users {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"user_id\")\n    private int id;\n    @Column(name = \"user_name\")\n    @Length(min = 5, message = \"*Your user name must have at least 5 characters\")\n    @NotEmpty(message = \"*Please provide a user name\")\n    private String userName;\n    @Column(name = \"email\")\n    @Email(message = \"*Please provide a valid Email\")\n    @NotEmpty(message = \"*Please provide an email\")\n    private String email;\n    @Column(name = \"password\")\n    @Length(min = 5, message = \"*Your password must have at least 5 characters\")\n    @NotEmpty(message = \"*Please provide your password\")\n    private String password;\n    @Column(name = \"name\")\n    @NotEmpty(message = \"*Please provide your name\")\n    private String name;\n    @Column(name = \"last_name\")\n    @NotEmpty(message = \"*Please provide your last name\")\n    private String lastName;\n    @Column(name = \"active\")\n    private Boolean active;\n    @ManyToMany(cascade = CascadeType.MERGE)\n    @JoinTable(name = \"user_role\", joinColumns = @JoinColumn(name = \"user_id\"), inverseJoinColumns = @JoinColumn(name = \"role_id\"))\n    private Set&lt;Roles&gt; roles;\n\n    public Users() {}\n    public Users(\n            String userName,\n            String email,\n            String password,\n            String name,\n            String lastName, \n            Boolean active) {\n\n        this.userName = userName;\n        this.email = email;\n        this.password = password;\n        this.name = name;\n        this.lastName = lastName;\n        this.active = active;\n    }\n    public Users(\n            String userName,\n            String email,\n            String password,\n            String name,\n            String lastName, \n            Boolean active, \n            Set&lt;Roles&gt; roles) {\n\n        this.userName = userName;\n        this.email = email;\n        this.password = password;\n        this.name = name;\n        this.lastName = lastName;\n        this.active = active;\n        this.roles = roles;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public Boolean getActive() {\n        return active;\n    }\n\n    public void setActive(Boolean active) {\n        this.active = active;\n    }\n\n    public Set&lt;Roles&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set&lt;Roles&gt; roles) {\n        this.roles = roles;\n    }\n\n\n\n}\n</code></pre>\n\n<p>Service Class</p>\n\n<pre><code>package com.tme.service;\n\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport com.tme.model.Roles;\nimport com.tme.model.Users;\nimport com.tme.repo.RoleRepository;\nimport com.tme.repo.UserRepository;\n\n@Service\npublic class UsersServices {\n\n    @Autowired(required=false)\n    private UserRepository userRepository;\n    @Autowired(required=false)\n    private RoleRepository roleRepository;\n    @Autowired(required=false)\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n//    public UsersServices(BCryptPasswordEncoder bCryptPasswordEncoder,UserRepository userRepository,\n//                       RoleRepository roleRepository\n//                       ) {\n//        this.userRepository = userRepository;\n//        this.roleRepository = roleRepository;\n//        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n//    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    public List&lt;Users&gt; findAll(){\n        return userRepository.findAll();\n    }\n\n    public Users findUserByEmail(String email) {\n        return userRepository.findByEmail(email);\n    }\n\n    public Users findUserByUserName(String userName) {\n        return userRepository.findByUserName(userName);\n    }\n\n    public Optional&lt;Users&gt; findById(Long id){\n        return userRepository.findById(id);\n    }\n\n    public Users save(Users data) {\n        data.setPassword(bCryptPasswordEncoder.encode(data.getPassword()));\n        data.setActive(true);\n        Roles userRole = roleRepository.findByRole(\"ADMIN\");\n        data.setRoles(new HashSet&lt;Roles&gt;(Arrays.asList(userRole)));\n        return userRepository.save(data);\n    }\n\n    public Users save(Users data, String role) {\n        data.setPassword(bCryptPasswordEncoder.encode(data.getPassword()));\n        Roles userRole = roleRepository.findByRole(role);\n        data.setRoles(new HashSet&lt;Roles&gt;(Arrays.asList(userRole)));\n        return userRepository.save(data);\n    }\n\n    public void deleteById(Long id) {\n        userRepository.deleteById(id);\n    }\n}\n</code></pre>\n\n<p>MyUserDetailsService class</p>\n\n<pre><code>@Service\npublic class MyUserDetailsService implements UserDetailsService{\n\n    @Autowired\n    private UsersServices userService;\n\n    @Override\n    @Transactional\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n\n        Users user = userService.findUserByEmail(email);\n        if (user == null) {\n            throw new UsernameNotFoundException(\"Not found!\");\n        }\n\n        List&lt;GrantedAuthority&gt; authorities = getUserAuthority(user.getRoles());\n        return buildUserForAuthentication(user, authorities);\n    }\n\n    private List&lt;GrantedAuthority&gt; getUserAuthority(Set&lt;Roles&gt; userRoles) {\n        Set&lt;GrantedAuthority&gt; roles = new HashSet&lt;GrantedAuthority&gt;();\n        for (Roles role : userRoles) {\n            roles.add(new SimpleGrantedAuthority(role.getRole()));\n        }\n        List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;(roles);\n        return grantedAuthorities;\n    }\n\n    private UserDetails buildUserForAuthentication(Users user, List&lt;GrantedAuthority&gt; authorities) {\n        return new org.springframework.security.core.userdetails.User(user.getUserName(), user.getPassword(),\n                user.getActive(), true, true, true, authorities);\n    }\n}\n</code></pre>\n\n<p>MyUserDetail</p>\n\n<pre><code>public class MyUserDetails extends Users implements UserDetails{\n\n    private String userName;\n    private String email;\n    private String password;\n    private String name;\n    private String lastName; \n    private Boolean active;\n\n\n    public MyUserDetails(Users user) {\n        this.userName = user.getUserName();\n        this.email = user.getEmail();\n        this.password = user.getPassword();\n        this.name = user.getName();\n        this.lastName = user.getLastName();\n        this.active = user.getActive();\n    }\n\n\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        // TODO Auto-generated method stub\n        return getRoles()\n                .stream()\n                .map(role -&gt; new SimpleGrantedAuthority(\"ROLE_\" + role.getRole()))\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public String getPassword() {\n        // TODO Auto-generated method stub\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        // TODO Auto-generated method stub\n        return userName;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        // TODO Auto-generated method stub\n        return active;\n    }\n\n}\n</code></pre>\n\n<p>I think I have done every thing. Don't know how to save/Regsiter New user. If I will be able to regsiter a user then can test my login URL. Thanks inadvance.</p>\n"},{"tags":["java","hibernate","date","input","thymeleaf"],"comments":[{"owner":{"account_id":316095,"reputation":749,"user_id":632075,"display_name":"BitExodus"},"score":0,"creation_date":1470050980,"post_id":38693971,"comment_id":64773487,"body_markdown":"Can you show us the controller methods for your GET and POST actions and also the thymeleaf form?","body":"Can you show us the controller methods for your GET and POST actions and also the thymeleaf form?"},{"owner":{"account_id":8867826,"reputation":1378,"user_id":6622440,"accept_rate":52,"display_name":"zzheads"},"score":1,"creation_date":1470051593,"post_id":38693971,"comment_id":64773835,"body_markdown":"Sure, added it to question","body":"Sure, added it to question"},{"owner":{"account_id":316095,"reputation":749,"user_id":632075,"display_name":"BitExodus"},"score":0,"creation_date":1470052736,"post_id":38693971,"comment_id":64774487,"body_markdown":"Please include the &quot;form&quot; element in the template and the Project class with the property &quot;start&quot; and the get and set methods for it.","body":"Please include the &quot;form&quot; element in the template and the Project class with the property &quot;start&quot; and the get and set methods for it."},{"owner":{"account_id":8867826,"reputation":1378,"user_id":6622440,"accept_rate":52,"display_name":"zzheads"},"score":0,"creation_date":1470053500,"post_id":38693971,"comment_id":64774967,"body_markdown":"Done, added &lt;form&gt; and Project class with getters/setters","body":"Done, added &lt;form&gt; and Project class with getters/setters"},{"owner":{"account_id":316095,"reputation":749,"user_id":632075,"display_name":"BitExodus"},"score":0,"creation_date":1470057227,"post_id":38693971,"comment_id":64777484,"body_markdown":"Can you confirm the exact error code you are getting from your browser? Which browser is it?","body":"Can you confirm the exact error code you are getting from your browser? Which browser is it?"},{"owner":{"account_id":8867826,"reputation":1378,"user_id":6622440,"accept_rate":52,"display_name":"zzheads"},"score":0,"creation_date":1470057366,"post_id":38693971,"comment_id":64777584,"body_markdown":"400 error code, browser Chrome","body":"400 error code, browser Chrome"},{"owner":{"account_id":316095,"reputation":749,"user_id":632075,"display_name":"BitExodus"},"score":0,"creation_date":1470058686,"post_id":38693971,"comment_id":64778462,"body_markdown":"I am getting a 405 instead with my project configuration, so I am unable to test your code in the same conditions at this very moment, but from what I can see, you need to change your &quot;th:value&quot; and &quot;th:field&quot; attributes from your template for the date value from &quot;${project.start}&quot; to &quot;*{start}&quot;.","body":"I am getting a 405 instead with my project configuration, so I am unable to test your code in the same conditions at this very moment, but from what I can see, you need to change your &quot;th:value&quot; and &quot;th:field&quot; attributes from your template for the date value from &quot;${project.start}&quot; to &quot;*{start}&quot;."},{"owner":{"account_id":3485084,"reputation":766,"user_id":2916240,"display_name":"Hasitha Diluka"},"score":0,"creation_date":1470119246,"post_id":38693971,"comment_id":64803091,"body_markdown":"Can you post the error log","body":"Can you post the error log"},{"owner":{"account_id":8867826,"reputation":1378,"user_id":6622440,"accept_rate":52,"display_name":"zzheads"},"score":0,"creation_date":1470120386,"post_id":38693971,"comment_id":64803635,"body_markdown":"There is no any logs messages, just after I&#39;m posting form, only error message &quot;400 Error&quot;, and no new records in project table.","body":"There is no any logs messages, just after I&#39;m posting form, only error message &quot;400 Error&quot;, and no new records in project table."},{"owner":{"account_id":8867826,"reputation":1378,"user_id":6622440,"accept_rate":52,"display_name":"zzheads"},"score":0,"creation_date":1470121036,"post_id":38693971,"comment_id":64803980,"body_markdown":"Field error in object &#39;project&#39; on field &#39;startDate&#39;: rejected value [2016-08-03]; codes [typeMismatch.project.startDate,typeMismatch.startDate,typeMismatch.java.util.Date,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [project.startDate,startDate]; arguments []; default message [startDate]]; default message [Failed to convert property value of type [java.lang.String] to required type [java.util.Date] for property &#39;startDate&#39;;","body":"Field error in object &#39;project&#39; on field &#39;startDate&#39;: rejected value [2016-08-03]; codes [typeMismatch.project.startDate,typeMismatch.startDate,typeM&zwnj;&#8203;ismatch.java.util.Da&zwnj;&#8203;te,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceRes&zwnj;&#8203;olvable: codes [project.startDate,startDate]; arguments []; default message [startDate]]; default message [Failed to convert property value of type [java.lang.String] to required type [java.util.Date] for property &#39;startDate&#39;;"},{"owner":{"account_id":8867826,"reputation":1378,"user_id":6622440,"accept_rate":52,"display_name":"zzheads"},"score":0,"creation_date":1470121095,"post_id":38693971,"comment_id":64804008,"body_markdown":"so &lt;input type=&quot;date&quot;&gt; input String, not Date?","body":"so &lt;input type=&quot;date&quot;&gt; input String, not Date?"}],"answers":[{"tags":[],"owner":{"account_id":316095,"reputation":749,"user_id":632075,"display_name":"BitExodus"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1586100141,"creation_date":1470129762,"answer_id":38716532,"question_id":38693971,"body_markdown":"Taking a look at the comment with the error log it seems to be a conversion problem between `String` to `java.util.Date`. After searching for a while in the Thymeleaf GitHub I saw two issues which can explain how to proceed in this case:\r\n\r\n - Discussion of the conversion including date in [this issue][1].\r\n - Implementation of the conversion is explained [here][2].\r\n\r\nFrom the last point, I added an annotation to the start date of your project class:\r\n\r\n    // This is &quot;org.springframework.format.annotation.DateTimeFormat&quot;\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n\tprivate Date start;\r\n\r\nAnd after that, I was able to receive the date in your controller POST method.\r\n\r\nTake into account you also need to change your `th:value` and `th:field` attributes from your template for the date value from `${project.start}` to `*{start}`, as I wrote in the comments, as you did for the `name` and `description` fields.\r\n\r\n\r\n  [1]: https://github.com/thymeleaf/thymeleaf-spring/issues/19\r\n  [2]: https://github.com/thymeleaf/thymeleaf/issues/223","title":"Input type=&quot;date&quot; thymeleaf","body":"<p>Taking a look at the comment with the error log it seems to be a conversion problem between <code>String</code> to <code>java.util.Date</code>. After searching for a while in the Thymeleaf GitHub I saw two issues which can explain how to proceed in this case:</p>\n\n<ul>\n<li>Discussion of the conversion including date in <a href=\"https://github.com/thymeleaf/thymeleaf-spring/issues/19\" rel=\"noreferrer\">this issue</a>.</li>\n<li>Implementation of the conversion is explained <a href=\"https://github.com/thymeleaf/thymeleaf/issues/223\" rel=\"noreferrer\">here</a>.</li>\n</ul>\n\n<p>From the last point, I added an annotation to the start date of your project class:</p>\n\n<pre><code>// This is \"org.springframework.format.annotation.DateTimeFormat\"\n@DateTimeFormat(pattern = \"yyyy-MM-dd\")\nprivate Date start;\n</code></pre>\n\n<p>And after that, I was able to receive the date in your controller POST method.</p>\n\n<p>Take into account you also need to change your <code>th:value</code> and <code>th:field</code> attributes from your template for the date value from <code>${project.start}</code> to <code>*{start}</code>, as I wrote in the comments, as you did for the <code>name</code> and <code>description</code> fields.</p>\n"},{"tags":[],"owner":{"account_id":17157883,"reputation":31,"user_id":12418282,"display_name":"jais"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654109439,"creation_date":1574454596,"answer_id":59001330,"question_id":38693971,"body_markdown":"Use String instead of Date:\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private String fromDate;","title":"Input type=&quot;date&quot; thymeleaf","body":"<p>Use String instead of Date:</p>\n<pre><code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\nprivate String fromDate;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17683797,"reputation":139,"user_id":12837091,"display_name":"Baba Fakruddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635512876,"creation_date":1635512537,"answer_id":69769351,"question_id":38693971,"body_markdown":"    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date date;\r\n\r\ncontroller class\r\n\r\n    pNow.setDate(new Date());\r\n\r\n\r\n","title":"Input type=&quot;date&quot; thymeleaf","body":"<pre><code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\nprivate Date date;\n</code></pre>\n<p>controller class</p>\n<pre><code>pNow.setDate(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18093144,"reputation":565,"user_id":13152124,"display_name":"Mama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637318813,"creation_date":1637318813,"answer_id":70033592,"question_id":38693971,"body_markdown":"    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date start;\r\n\r\n&gt; This Annotation get the current year date and month . If you want to\r\n&gt; show current date in web page you can use this simple tag\r\n\r\n    th:attr=&quot;max=${#dates.format(#dates.createNow(), &#39;yyyy-MM-dd&#39;)}&quot;","title":"Input type=&quot;date&quot; thymeleaf","body":"<pre><code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\nprivate Date start;\n</code></pre>\n<blockquote>\n<p>This Annotation get the current year date and month . If you want to\nshow current date in web page you can use this simple tag</p>\n</blockquote>\n<pre><code>th:attr=&quot;max=${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1377069,"reputation":392,"user_id":1310875,"accept_rate":75,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638190406,"creation_date":1638190406,"answer_id":70154994,"question_id":38693971,"body_markdown":"One common issue is that the date format expected by html form/datepicker is not the same as the spring default date format. This causes the form datetime-local input to show up as blank even when the value attribute is populated.\r\n\r\nYou can set the below values in `application.properties` to rectify this:\r\n\r\n    spring.mvc.format.date-time=yyyy-MM-dd&#39;T&#39;HH:mm:ss\r\n    spring.mvc.format.date=yyyy-MM-dd&#39;T&#39;HH:mm:ss\r\n    spring.mvc.format.time=HH:mm:ss\r\n\r\n\r\nAn additional benefit is that date strings in json responses are not affected by this property.","title":"Input type=&quot;date&quot; thymeleaf","body":"<p>One common issue is that the date format expected by html form/datepicker is not the same as the spring default date format. This causes the form datetime-local input to show up as blank even when the value attribute is populated.</p>\n<p>You can set the below values in <code>application.properties</code> to rectify this:</p>\n<pre><code>spring.mvc.format.date-time=yyyy-MM-dd'T'HH:mm:ss\nspring.mvc.format.date=yyyy-MM-dd'T'HH:mm:ss\nspring.mvc.format.time=HH:mm:ss\n</code></pre>\n<p>An additional benefit is that date strings in json responses are not affected by this property.</p>\n"}],"owner":{"account_id":8867826,"reputation":1378,"user_id":6622440,"accept_rate":52,"display_name":"zzheads"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48691,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":38716532,"answer_count":5,"score":14,"last_activity_date":1654109439,"creation_date":1470039412,"question_id":38693971,"body_markdown":"I need to add date to my entity and let the user set it in web form.\r\nThis field needs to have today&#39;s date filled in by default.\r\n\r\n    1. &lt;input type=&quot;date&quot; value=&quot;2016-08-01&quot;&gt; \r\nshows correct date setted for default \r\n\r\n    2. &lt;input type=&quot;date&quot; th:value=&quot;${startDate}&quot;&gt; \r\nshows date picker without any value (note: String startDate = &quot;2016-08-01&quot;;) \r\n\r\n    3. &lt;input type=&quot;date&quot; th:field=&quot;${startDate}&quot;&gt; \r\ngenerates 400 error (Bad request) (note: Date startDate = new Date();) \r\n\r\nSo, question is: how to use thymeleaf for input date?\r\n\r\n- can I use Date() datatype for input and store such data?\r\n- how I need to set &quot;th:field&quot; in &lt;input type=&quot;date&quot;&gt; form?\r\n- how I need to set &quot;th:value&quot; in same form?\r\n\r\nMy controller(s):\r\n\r\n    @RequestMapping(&quot;/project_new&quot;)\r\n    public String createProject(Model model) {\r\n        Project project = new Project ();\r\n        List&lt;Role&gt; roles = mRoleService.findAll();\r\n\r\n        project.setStart(new Date());\r\n\r\n        model.addAttribute(&quot;page_title&quot;, &quot;create project&quot;);\r\n        model.addAttribute(&quot;roles&quot;, roles);\r\n        model.addAttribute(&quot;statuses&quot;, Status.values());\r\n        model.addAttribute(&quot;project&quot;, project);\r\n        return &quot;project_new&quot;;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/project_new&quot;, method = RequestMethod.POST)\r\n    public String createProject(@ModelAttribute Project project, Model model) {\r\n        // Fill id field for project.rolesNeeded\r\n        mRoleService.setRolesId(project.getRolesNeeded());\r\n        project.fixCollaboratorsAndRoles();\r\n\r\n        mProjectService.save(project);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\nMy template:\r\n\r\n    &lt;form th:action=&quot;@{/project_new}&quot; method=&quot;post&quot; th:object=&quot;${project}&quot;&gt;\r\n      &lt;div class=&quot;project-list single&quot;&gt;\r\n        &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;name&quot; required=&quot;true&quot; th:placeholder=&quot;*{name}&quot; th:value=&quot;*{name}&quot; th:field=&quot;*{name}&quot;/&gt;\r\n        &lt;label for=&quot;description&quot;&gt;Description:&lt;/label&gt;\r\n        &lt;textarea rows=&quot;5&quot; id=&quot;description&quot; type=&quot;text&quot;  required=&quot;true&quot; th:placeholder=&quot;*{description}&quot; th:value=&quot;*{description}&quot; th:field=&quot;*{description}&quot;/&gt;\r\n    \r\n        &lt;label for=&quot;date-started&quot;&gt;Date started:&lt;/label&gt;\r\n        &lt;input type=&quot;date&quot; th:value=&quot;${project.start}&quot; th:field=&quot;${project.start}&quot; id=&quot;date-started&quot;/&gt;\r\n    \r\n        &lt;div&gt;\r\n          &lt;label for=&quot;project_status&quot;&gt;Project Status:&lt;/label&gt;\r\n          &lt;div class=&quot;custom-select&quot;&gt;\r\n            &lt;span class=&quot;dropdown-arrow&quot;&gt;&lt;/span&gt;\r\n            &lt;select th:field=&quot;*{status}&quot; id=&quot;project_status&quot;&gt;\r\n              &lt;option th:each=&quot;s : ${statuses}&quot; th:value=&quot;${s}&quot; th:text=&quot;${s}&quot;&gt;Active&lt;/option&gt;\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    \r\n      &lt;div class=&quot;roles-collaborators&quot;&gt;\r\n        &lt;ul class=&quot;checkbox-list&quot;&gt;\r\n          &lt;li th:if=&quot;${role.name} ne &#39;Undefined&#39;&quot; th:each=&quot;role : ${roles}&quot;&gt;\r\n          &lt;input type=&quot;checkbox&quot;  th:value=&quot;${role}&quot; th:field=&quot;${project.rolesNeeded}&quot; class=&quot;checkbox&quot;/&gt;\r\n          &lt;span th:text=&quot;${role.name}&quot; th:value=&quot;${role}&quot; class=&quot;checkbox&quot;&gt;Developer&lt;/span&gt;\r\n          &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n    \r\n      &lt;div class=&quot;actions&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;button&quot;&gt;Save&lt;/button&gt;\r\n        &lt;a th:href=&quot;@{/}&quot; class=&quot;button button-secondary&quot;&gt;Cancel&lt;/a&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nProject entity:\r\n\r\n    @Entity\r\n    public class Project {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    @NotNull\r\n    @Size (min = 3)\r\n    private String name;\r\n    \r\n    @Column(columnDefinition=&quot;TEXT&quot;)\r\n    private String description;\r\n    \r\n    @Column\r\n    private Status status;\r\n    \r\n    @Column\r\n    private Date start;\r\n    \r\n    @ManyToMany\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    private List&lt;Role&gt; rolesNeeded;\r\n    \r\n    @ManyToMany\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    private List&lt;Collaborator&gt; collaborators;\r\n    \r\n    public Date getStart() {\r\n        return start;\r\n    }\r\n    \r\n    public void setStart(Date start) {\r\n        this.start = start;\r\n    }\r\n\r\n\r\n","title":"Input type=&quot;date&quot; thymeleaf","body":"<p>I need to add date to my entity and let the user set it in web form.\nThis field needs to have today's date filled in by default.</p>\n\n<pre><code>1. &lt;input type=\"date\" value=\"2016-08-01\"&gt; \n</code></pre>\n\n<p>shows correct date setted for default </p>\n\n<pre><code>2. &lt;input type=\"date\" th:value=\"${startDate}\"&gt; \n</code></pre>\n\n<p>shows date picker without any value (note: String startDate = \"2016-08-01\";) </p>\n\n<pre><code>3. &lt;input type=\"date\" th:field=\"${startDate}\"&gt; \n</code></pre>\n\n<p>generates 400 error (Bad request) (note: Date startDate = new Date();) </p>\n\n<p>So, question is: how to use thymeleaf for input date?</p>\n\n<ul>\n<li>can I use Date() datatype for input and store such data?</li>\n<li>how I need to set \"th:field\" in  form?</li>\n<li>how I need to set \"th:value\" in same form?</li>\n</ul>\n\n<p>My controller(s):</p>\n\n<pre><code>@RequestMapping(\"/project_new\")\npublic String createProject(Model model) {\n    Project project = new Project ();\n    List&lt;Role&gt; roles = mRoleService.findAll();\n\n    project.setStart(new Date());\n\n    model.addAttribute(\"page_title\", \"create project\");\n    model.addAttribute(\"roles\", roles);\n    model.addAttribute(\"statuses\", Status.values());\n    model.addAttribute(\"project\", project);\n    return \"project_new\";\n}\n\n@RequestMapping(value = \"/project_new\", method = RequestMethod.POST)\npublic String createProject(@ModelAttribute Project project, Model model) {\n    // Fill id field for project.rolesNeeded\n    mRoleService.setRolesId(project.getRolesNeeded());\n    project.fixCollaboratorsAndRoles();\n\n    mProjectService.save(project);\n    return \"redirect:/\";\n}\n</code></pre>\n\n<p>My template:</p>\n\n<pre><code>&lt;form th:action=\"@{/project_new}\" method=\"post\" th:object=\"${project}\"&gt;\n  &lt;div class=\"project-list single\"&gt;\n    &lt;label for=\"name\"&gt;Name:&lt;/label&gt;\n    &lt;input type=\"text\" id=\"name\" required=\"true\" th:placeholder=\"*{name}\" th:value=\"*{name}\" th:field=\"*{name}\"/&gt;\n    &lt;label for=\"description\"&gt;Description:&lt;/label&gt;\n    &lt;textarea rows=\"5\" id=\"description\" type=\"text\"  required=\"true\" th:placeholder=\"*{description}\" th:value=\"*{description}\" th:field=\"*{description}\"/&gt;\n\n    &lt;label for=\"date-started\"&gt;Date started:&lt;/label&gt;\n    &lt;input type=\"date\" th:value=\"${project.start}\" th:field=\"${project.start}\" id=\"date-started\"/&gt;\n\n    &lt;div&gt;\n      &lt;label for=\"project_status\"&gt;Project Status:&lt;/label&gt;\n      &lt;div class=\"custom-select\"&gt;\n        &lt;span class=\"dropdown-arrow\"&gt;&lt;/span&gt;\n        &lt;select th:field=\"*{status}\" id=\"project_status\"&gt;\n          &lt;option th:each=\"s : ${statuses}\" th:value=\"${s}\" th:text=\"${s}\"&gt;Active&lt;/option&gt;\n        &lt;/select&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n  &lt;div class=\"roles-collaborators\"&gt;\n    &lt;ul class=\"checkbox-list\"&gt;\n      &lt;li th:if=\"${role.name} ne 'Undefined'\" th:each=\"role : ${roles}\"&gt;\n      &lt;input type=\"checkbox\"  th:value=\"${role}\" th:field=\"${project.rolesNeeded}\" class=\"checkbox\"/&gt;\n      &lt;span th:text=\"${role.name}\" th:value=\"${role}\" class=\"checkbox\"&gt;Developer&lt;/span&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"actions\"&gt;\n    &lt;button type=\"submit\" class=\"button\"&gt;Save&lt;/button&gt;\n    &lt;a th:href=\"@{/}\" class=\"button button-secondary\"&gt;Cancel&lt;/a&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Project entity:</p>\n\n<pre><code>@Entity\npublic class Project {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@NotNull\n@Size (min = 3)\nprivate String name;\n\n@Column(columnDefinition=\"TEXT\")\nprivate String description;\n\n@Column\nprivate Status status;\n\n@Column\nprivate Date start;\n\n@ManyToMany\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate List&lt;Role&gt; rolesNeeded;\n\n@ManyToMany\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate List&lt;Collaborator&gt; collaborators;\n\npublic Date getStart() {\n    return start;\n}\n\npublic void setStart(Date start) {\n    this.start = start;\n}\n</code></pre>\n"},{"tags":["java","web-scraping","htmlunit"],"comments":[{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1655285791,"post_id":72464695,"comment_id":128294281,"body_markdown":"Sorry but i did not get your point but i like to help you with this. Please open an issue for HtmlUnit and we can discuss this in more detail.","body":"Sorry but i did not get your point but i like to help you with this. Please open an issue for HtmlUnit and we can discuss this in more detail."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1656071316,"post_id":72464695,"comment_id":128488241,"body_markdown":"I would first extract all links (List of URL) and than follow then in a loop (getPage(URL)). What exactly is your problem?","body":"I would first extract all links (List of URL) and than follow then in a loop (getPage(URL)). What exactly is your problem?"}],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654109321,"creation_date":1654098268,"question_id":72464695,"body_markdown":"I am using htmlunit to web-scrape a page.\r\n\r\nI am doing a table iteration with many rows (tr) where each row has one link that I want access to get data. This final page is a real time updated.\r\n\r\nIn the first iteration (1) I call a getPage() method and everything it&#39;s ok.\r\nBut in the next iterations (1....N) I want to reduce time and not call again the getPage() but only to access to the first HtmlPage object created and get new data (updated). My approach is to keep the pages always accessible and save time.\r\n\r\nAnyone already had this approach?\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  \r\n\r\n","title":"htmlunit iteration getPage","body":"<p>I am using htmlunit to web-scrape a page.</p>\n<p>I am doing a table iteration with many rows (tr) where each row has one link that I want access to get data. This final page is a real time updated.</p>\n<p>In the first iteration (1) I call a getPage() method and everything it's ok.\nBut in the next iterations (1....N) I want to reduce time and not call again the getPage() but only to access to the first HtmlPage object created and get new data (updated). My approach is to keep the pages always accessible and save time.</p>\n<p>Anyone already had this approach?</p>\n"},{"tags":["java","sql","spring","jpa"],"comments":[{"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"score":0,"creation_date":1654099353,"post_id":72464777,"comment_id":128012495,"body_markdown":"This looks like a recursion. A &quot;Category&quot; will have a couple of child categories and each of them has a couple of categories again. This might be one to many relationship. Again not sure. Shared my thoughts.","body":"This looks like a recursion. A &quot;Category&quot; will have a couple of child categories and each of them has a couple of categories again. This might be one to many relationship. Again not sure. Shared my thoughts."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1654102312,"post_id":72464777,"comment_id":128013519,"body_markdown":"Why would a Child&#39;s parent also be in its list of children?  A4 has both A1 as its parent and in its list of children - A1 should have A4 marked as its parent, so this JSON seems incorrect. Otherwise, this is a simple 1:M with a M:1 back pointer in JPA. For JSON, this circular loop needs a stop; you should pick one &#39;side&#39; to only include the IDs, possibly by using JsonIdentityReference where appropriate or you&#39;ll get a stackoverflowexception. JsonIdentityReference should ensure only the ID value is used to indicate the reference, stopping recursive loops.","body":"Why would a Child&#39;s parent also be in its list of children?  A4 has both A1 as its parent and in its list of children - A1 should have A4 marked as its parent, so this JSON seems incorrect. Otherwise, this is a simple 1:M with a M:1 back pointer in JPA. For JSON, this circular loop needs a stop; you should pick one &#39;side&#39; to only include the IDs, possibly by using JsonIdentityReference where appropriate or you&#39;ll get a stackoverflowexception. JsonIdentityReference should ensure only the ID value is used to indicate the reference, stopping recursive loops."},{"owner":{"account_id":14431641,"reputation":23,"user_id":10424825,"display_name":"Alberto Valenty"},"score":0,"creation_date":1654105142,"post_id":72464777,"comment_id":128014436,"body_markdown":"Sorry, i fixed the Json, i hope now what i need is clear.","body":"Sorry, i fixed the Json, i hope now what i need is clear."},{"owner":{"account_id":1018878,"reputation":1383,"user_id":1029822,"display_name":"Andrzej Sydor"},"score":0,"creation_date":1654108805,"post_id":72464777,"comment_id":128015689,"body_markdown":"here similar question with answers: https://stackoverflow.com/questions/8584764/jpa-mapping-for-parent-child-with-same-class","body":"here similar question with answers: <a href=\"https://stackoverflow.com/questions/8584764/jpa-mapping-for-parent-child-with-same-class\" title=\"jpa mapping for parent child with same class\">stackoverflow.com/questions/8584764/&hellip;</a>"},{"owner":{"account_id":1018878,"reputation":1383,"user_id":1029822,"display_name":"Andrzej Sydor"},"score":0,"creation_date":1654108826,"post_id":72464777,"comment_id":128015698,"body_markdown":"Does this answer your question? [JPA mapping for Parent-Child with same class](https://stackoverflow.com/questions/8584764/jpa-mapping-for-parent-child-with-same-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8584764/jpa-mapping-for-parent-child-with-same-class\">JPA mapping for Parent-Child with same class</a>"}],"answers":[{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654108764,"creation_date":1654108411,"answer_id":72466564,"question_id":72464777,"body_markdown":"We can construct this recursive tree like structure in a single database table ( Entity, in spring data jpa ) and fetch the whole tree upto leaf nodes with two database call, if we design our model carefully. \r\n\r\nBefore start table design / Entity modeling lets boil down some facts\r\n\r\n1. Every Category should have a parent category if it is a subcategory, otherwise the category is the root category\r\n\r\n2. Every Category which is subcategory must have a root category.\r\n \r\n\r\n**Category.java**\r\n```java\r\n@Entity\r\npublic class Category {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tpublic Long categoryId;\r\n\r\n\t@Column(nullable = false)\r\n\tpublic String name;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;parent_category_id&quot;)\r\n\t@JsonIgnore\r\n\tpublic Category parentCategory;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;root_category_id&quot;)\r\n\t@JsonIgnore\r\n\tpublic Category rootCategory;\r\n\t\r\n\t@Transient\r\n\tpublic List&lt;Category&gt; childrens = new ArrayList&lt;Category&gt;();\r\n}\r\n```\r\n\r\n\r\n**CategoryRepository.java**\r\n```java\r\n@Repository\r\npublic interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\r\n\t\r\n\t@Query(&quot;SELECT category FROM Category category &quot;\r\n\t\t\t+ &quot; WHERE category.parentCategory.categoryId IS NULL&quot;)\r\n\tpublic List&lt;Category&gt; findAllRoots();\r\n\r\n\t@Query(&quot;SELECT category FROM Category category&quot;\r\n\t\t\t+ &quot; WHERE category.rootCategory.categoryId IN :rootIds &quot;)\r\n\tpublic List&lt;Category&gt; findAllSubCategoriesInRoot(@Param(&quot;rootIds&quot;) List&lt;Long&gt; rootIds);\r\n}\r\n```\r\n\r\n**CategoryController.java**\r\n\r\n```java\r\n@RestController\r\npublic class CategoryController {\r\n\t\r\n\t@Autowired\r\n\tpublic CategoryRepository categoryRepository;\r\n\r\n\t@GetMapping(&quot;/categories&quot;)\r\n\t@Transactional(readOnly = true)\r\n\tpublic List&lt;Category&gt; getCategories() {\r\n\t\tList&lt;Category&gt; rootCategories = categoryRepository.findAllRoots(); // first db call\r\n\r\n\t\t// Now Find all the subcategories\r\n\t\tList&lt;Long&gt; rootCategoryIds = rootCategories.stream().map(Category::getCategoryId).collect(Collectors.toList());\r\n\t\tList&lt;Category&gt; subCategories = categoryRepository.findAllSubCategoriesInRoot(rootCategoryIds); // second db call\r\n\r\n\t\tsubCategories.forEach(subCategory -&gt; {\r\n\t\t\tsubCategory.getParentCategory().getChildrens().add(subCategory); // no further db call, because everyone inside the root is in the persistence context.\r\n\t\t});\r\n\r\n\t\treturn rootCategories;\r\n\t}\r\n}\r\n```\r\n\r\n**Sample dataset**\r\n\r\n```sql\r\n-- root\r\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (1, &#39;A&#39;, null, null);\r\n\r\n-- first level\r\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (2, &#39;B&#39;, 1, 1);\r\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (3, &#39;C&#39;, 1, 1);\r\n\r\n-- second level\r\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (4, &#39;D&#39;, 2, 1);\r\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (5, &#39;E&#39;, 3, 1);\r\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (6, &#39;F&#39;, 3, 1);\r\n\r\n-- another root\r\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (7, &#39;P&#39;, null, null);\r\n\r\n-- first level of another root\r\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (8, &#39;Q&#39;, 7, 7);\r\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (9, &#39;R&#39;, 7, 7);\r\n```\r\n\r\n\r\n**Generated response**\r\n\r\n```json\r\n[\r\n\t{\r\n\t\t&quot;categoryId&quot;: 1,\r\n\t\t&quot;name&quot;: &quot;A&quot;,\r\n\t\t&quot;childrens&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;categoryId&quot;: 2,\r\n\t\t\t\t&quot;name&quot;: &quot;B&quot;,\r\n\t\t\t\t&quot;childrens&quot;: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;categoryId&quot;: 4,\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;D&quot;,\r\n\t\t\t\t\t\t&quot;childrens&quot;: []\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;categoryId&quot;: 3,\r\n\t\t\t\t&quot;name&quot;: &quot;C&quot;,\r\n\t\t\t\t&quot;childrens&quot;: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;categoryId&quot;: 5,\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;E&quot;,\r\n\t\t\t\t\t\t&quot;childrens&quot;: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;categoryId&quot;: 6,\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;F&quot;,\r\n\t\t\t\t\t\t&quot;childrens&quot;: []\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\t&quot;categoryId&quot;: 7,\r\n\t\t&quot;name&quot;: &quot;P&quot;,\r\n\t\t&quot;childrens&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;categoryId&quot;: 8,\r\n\t\t\t\t&quot;name&quot;: &quot;Q&quot;,\r\n\t\t\t\t&quot;childrens&quot;: []\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;categoryId&quot;: 9,\r\n\t\t\t\t&quot;name&quot;: &quot;R&quot;,\r\n\t\t\t\t&quot;childrens&quot;: []\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n]\r\n```\r\n\r\nI intentionally skipped the `parent` as per your sample response because adding the parent in the body will unnecessarily increase the response size. \r\n\r\nIf you really need that `parent` key in all the sub categories, then you have to introduce another POJO (not entity) containing the `id` &amp; `name` of the parent category and copy the parent category `id` &amp; `name` into that POJO and set it to the corresponding sub category.","title":"Unlimited Hierarchical child parent relationship in the same table using JPA (TreeView)","body":"<p>We can construct this recursive tree like structure in a single database table ( Entity, in spring data jpa ) and fetch the whole tree upto leaf nodes with two database call, if we design our model carefully.</p>\n<p>Before start table design / Entity modeling lets boil down some facts</p>\n<ol>\n<li><p>Every Category should have a parent category if it is a subcategory, otherwise the category is the root category</p>\n</li>\n<li><p>Every Category which is subcategory must have a root category.</p>\n</li>\n</ol>\n<p><strong>Category.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Category {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long categoryId;\n\n    @Column(nullable = false)\n    public String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_category_id&quot;)\n    @JsonIgnore\n    public Category parentCategory;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;root_category_id&quot;)\n    @JsonIgnore\n    public Category rootCategory;\n    \n    @Transient\n    public List&lt;Category&gt; childrens = new ArrayList&lt;Category&gt;();\n}\n</code></pre>\n<p><strong>CategoryRepository.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\n    \n    @Query(&quot;SELECT category FROM Category category &quot;\n            + &quot; WHERE category.parentCategory.categoryId IS NULL&quot;)\n    public List&lt;Category&gt; findAllRoots();\n\n    @Query(&quot;SELECT category FROM Category category&quot;\n            + &quot; WHERE category.rootCategory.categoryId IN :rootIds &quot;)\n    public List&lt;Category&gt; findAllSubCategoriesInRoot(@Param(&quot;rootIds&quot;) List&lt;Long&gt; rootIds);\n}\n</code></pre>\n<p><strong>CategoryController.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class CategoryController {\n    \n    @Autowired\n    public CategoryRepository categoryRepository;\n\n    @GetMapping(&quot;/categories&quot;)\n    @Transactional(readOnly = true)\n    public List&lt;Category&gt; getCategories() {\n        List&lt;Category&gt; rootCategories = categoryRepository.findAllRoots(); // first db call\n\n        // Now Find all the subcategories\n        List&lt;Long&gt; rootCategoryIds = rootCategories.stream().map(Category::getCategoryId).collect(Collectors.toList());\n        List&lt;Category&gt; subCategories = categoryRepository.findAllSubCategoriesInRoot(rootCategoryIds); // second db call\n\n        subCategories.forEach(subCategory -&gt; {\n            subCategory.getParentCategory().getChildrens().add(subCategory); // no further db call, because everyone inside the root is in the persistence context.\n        });\n\n        return rootCategories;\n    }\n}\n</code></pre>\n<p><strong>Sample dataset</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- root\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (1, 'A', null, null);\n\n-- first level\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (2, 'B', 1, 1);\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (3, 'C', 1, 1);\n\n-- second level\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (4, 'D', 2, 1);\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (5, 'E', 3, 1);\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (6, 'F', 3, 1);\n\n-- another root\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (7, 'P', null, null);\n\n-- first level of another root\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (8, 'Q', 7, 7);\nINSERT INTO category (category_id, name, parent_category_id, root_category_id) VALUES (9, 'R', 7, 7);\n</code></pre>\n<p><strong>Generated response</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;categoryId&quot;: 1,\n        &quot;name&quot;: &quot;A&quot;,\n        &quot;childrens&quot;: [\n            {\n                &quot;categoryId&quot;: 2,\n                &quot;name&quot;: &quot;B&quot;,\n                &quot;childrens&quot;: [\n                    {\n                        &quot;categoryId&quot;: 4,\n                        &quot;name&quot;: &quot;D&quot;,\n                        &quot;childrens&quot;: []\n                    }\n                ]\n            },\n            {\n                &quot;categoryId&quot;: 3,\n                &quot;name&quot;: &quot;C&quot;,\n                &quot;childrens&quot;: [\n                    {\n                        &quot;categoryId&quot;: 5,\n                        &quot;name&quot;: &quot;E&quot;,\n                        &quot;childrens&quot;: []\n                    },\n                    {\n                        &quot;categoryId&quot;: 6,\n                        &quot;name&quot;: &quot;F&quot;,\n                        &quot;childrens&quot;: []\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        &quot;categoryId&quot;: 7,\n        &quot;name&quot;: &quot;P&quot;,\n        &quot;childrens&quot;: [\n            {\n                &quot;categoryId&quot;: 8,\n                &quot;name&quot;: &quot;Q&quot;,\n                &quot;childrens&quot;: []\n            },\n            {\n                &quot;categoryId&quot;: 9,\n                &quot;name&quot;: &quot;R&quot;,\n                &quot;childrens&quot;: []\n            }\n        ]\n    }\n]\n</code></pre>\n<p>I intentionally skipped the <code>parent</code> as per your sample response because adding the parent in the body will unnecessarily increase the response size.</p>\n<p>If you really need that <code>parent</code> key in all the sub categories, then you have to introduce another POJO (not entity) containing the <code>id</code> &amp; <code>name</code> of the parent category and copy the parent category <code>id</code> &amp; <code>name</code> into that POJO and set it to the corresponding sub category.</p>\n"}],"owner":{"account_id":14431641,"reputation":23,"user_id":10424825,"display_name":"Alberto Valenty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72466564,"answer_count":1,"score":2,"last_activity_date":1654108764,"creation_date":1654098632,"question_id":72464777,"body_markdown":"I am trying to create a &quot;Category and Subcategories&quot; Entity, i tried to do some research but i couldn&#39;t find a good solution, i need a light on how can i model this Entity and have the bellow result! Be able to retrieve the data in this tree view format. \r\n\r\n       {\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;Account 1&quot;,\r\n    &quot;children&quot;: [\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Account 1.1&quot;,\r\n            &quot;parent&quot;: {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;Account 1&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: 3,\r\n            &quot;name&quot;: &quot;Account 1.2&quot;,\r\n            &quot;parent&quot;: {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;Account 1&quot;\r\n            },\r\n\t\t\tchildren: [\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;id&quot;: 4,\r\n\t\t\t\t\t&quot;name&quot;: &quot;Account 1.2.1&quot;,\r\n\t\t\t\t\t&quot;children&quot;: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;id&quot;: 5,\r\n\t\t\t\t\t\t\t&quot;name&quot;: &quot;Account 1.2.1.1&quot;,\r\n\t\t\t\t\t\t\t&quot;parent&quot;: {\r\n\t\t\t\t\t\t\t\t&quot;id&quot;: 4,\r\n\t\t\t\t\t\t\t\t&quot;name&quot;: &quot;Account 1.2.1&quot;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;id&quot;: 6,\r\n\t\t\t\t\t\t\t&quot;name&quot;: &quot;Account 1.2.1.2&quot;,\r\n\t\t\t\t\t\t\t&quot;parent&quot;: {\r\n\t\t\t\t\t\t\t\t&quot;id&quot;: 4,\r\n\t\t\t\t\t\t\t\t&quot;name&quot;: &quot;Account 1.2.1&quot;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n        }\r\n    ]\r\n}","title":"Unlimited Hierarchical child parent relationship in the same table using JPA (TreeView)","body":"<p>I am trying to create a &quot;Category and Subcategories&quot; Entity, i tried to do some research but i couldn't find a good solution, i need a light on how can i model this Entity and have the bellow result! Be able to retrieve the data in this tree view format.</p>\n<pre><code>   {\n&quot;id&quot;: 1,\n&quot;name&quot;: &quot;Account 1&quot;,\n&quot;children&quot;: [\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Account 1.1&quot;,\n        &quot;parent&quot;: {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Account 1&quot;\n        }\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;name&quot;: &quot;Account 1.2&quot;,\n        &quot;parent&quot;: {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Account 1&quot;\n        },\n        children: [\n            {\n                &quot;id&quot;: 4,\n                &quot;name&quot;: &quot;Account 1.2.1&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 5,\n                        &quot;name&quot;: &quot;Account 1.2.1.1&quot;,\n                        &quot;parent&quot;: {\n                            &quot;id&quot;: 4,\n                            &quot;name&quot;: &quot;Account 1.2.1&quot;\n                        }\n                    },\n                    {\n                        &quot;id&quot;: 6,\n                        &quot;name&quot;: &quot;Account 1.2.1.2&quot;,\n                        &quot;parent&quot;: {\n                            &quot;id&quot;: 4,\n                            &quot;name&quot;: &quot;Account 1.2.1&quot;\n                        },\n                        children: [\n                        \n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n]\n</code></pre>\n<p>}</p>\n"},{"tags":["java","lexical-analysis","jflex"],"answers":[{"tags":[],"owner":{"account_id":25258808,"reputation":47,"user_id":19090002,"display_name":"coding2"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654108730,"creation_date":1654108730,"answer_id":72466623,"question_id":72466138,"body_markdown":"I found the solution: \r\n\r\n    alphaNumeric=({L}+|{L}+{D}+)+\r\n    email={alphaNumeric}&quot;@&quot;{alphaNumeric}&quot;.&quot;({L}+|{L}+&quot;.&quot;{L}+)\r\nThis is the regular expression","title":"Regular expression for email in flex","body":"<p>I found the solution:</p>\n<pre><code>alphaNumeric=({L}+|{L}+{D}+)+\nemail={alphaNumeric}&quot;@&quot;{alphaNumeric}&quot;.&quot;({L}+|{L}+&quot;.&quot;{L}+)\n</code></pre>\n<p>This is the regular expression</p>\n"}],"owner":{"account_id":25258808,"reputation":47,"user_id":19090002,"display_name":"coding2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654108730,"creation_date":1654106067,"question_id":72466138,"body_markdown":"I am trying to wirte a regular expression for emails in JFlex. So far I tried with this\r\n\r\n    L=[a-zA-Z_]+\r\n    D=[0-9]+    \r\n    email=[^(.+)@(\\S+)$]\r\n    %{\r\n        public String lexeme;\r\n    %}\r\n    %%\r\n    {L}({L}|{D})* {lexeme=yytext(); return Identi;}\r\n    (&quot;(-&quot;{D}+&quot;)&quot;)|{D}+ {lexeme=yytext(); return Number;}\r\n    {email} {lexeme=yytext(); return Email;}\r\n     . {return ERROR;}\r\n\r\nWhen I test with an email, the lexer is not matching any email. \r\nHow to match email?","title":"Regular expression for email in flex","body":"<p>I am trying to wirte a regular expression for emails in JFlex. So far I tried with this</p>\n<pre><code>L=[a-zA-Z_]+\nD=[0-9]+    \nemail=[^(.+)@(\\S+)$]\n%{\n    public String lexeme;\n%}\n%%\n{L}({L}|{D})* {lexeme=yytext(); return Identi;}\n(&quot;(-&quot;{D}+&quot;)&quot;)|{D}+ {lexeme=yytext(); return Number;}\n{email} {lexeme=yytext(); return Email;}\n . {return ERROR;}\n</code></pre>\n<p>When I test with an email, the lexer is not matching any email.\nHow to match email?</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1654108188,"post_id":72466419,"comment_id":128015489,"body_markdown":"Because you implement encryption and decryption together, you inadmissibly mix the various encodings/decodings. E.g. you Base64 decode the passed data. This makes sense for decryption, but not for encryption, where a UTF-8 encoding would make sense. A possible solution is to pass and return the data as `byte[]` and do the encoding/decoding outside your function.","body":"Because you implement encryption and decryption together, you inadmissibly mix the various encodings/decodings. E.g. you Base64 decode the passed data. This makes sense for decryption, but not for encryption, where a UTF-8 encoding would make sense. A possible solution is to pass and return the data as <code>byte[]</code> and do the encoding/decoding outside your function."},{"owner":{"account_id":25448730,"reputation":1,"user_id":19250520,"display_name":"Samuel"},"score":0,"creation_date":1654120866,"post_id":72466419,"comment_id":128019048,"body_markdown":"So would it make more sense to just do every operation using `byte []`  through UTF-8 encoding (with string), then converting to base64 or hexadecimal only when writing to the files that I am using to store everything?","body":"So would it make more sense to just do every operation using <code>byte []</code>  through UTF-8 encoding (with string), then converting to base64 or hexadecimal only when writing to the files that I am using to store everything?"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654108632,"creation_date":1654108632,"answer_id":72466606,"question_id":72466419,"body_markdown":"This is a problem with the way you are using base-64 encoding.\r\n\r\nWhen you encrypt, you are treating &quot;message&quot; as base-64 encoded bytes. The last block is &quot;age&quot;. A strict decoder would reject that input, because it is missing padding, and has some extra bits that spill over into the third byte. But a permissive decoder ignores that, and decodes the array as `{ 0x99, 0xeb, 0x2c, 0x6a, 0x07 }`\r\n\r\nThe correct base-64 encoding of `{ 0x99, 0xeb, 0x2c, 0x6a, 0x07 }` is &quot;messagc=&quot;.\r\n\r\nTo make this work correctly, every statement in your method should differ depending on the mode flag. It would be more clear and clean to separate encrypt and decrypt methods.","title":"AES Decryption in Java Not Returning the Same String as the Plaintext","body":"<p>This is a problem with the way you are using base-64 encoding.</p>\n<p>When you encrypt, you are treating &quot;message&quot; as base-64 encoded bytes. The last block is &quot;age&quot;. A strict decoder would reject that input, because it is missing padding, and has some extra bits that spill over into the third byte. But a permissive decoder ignores that, and decodes the array as <code>{ 0x99, 0xeb, 0x2c, 0x6a, 0x07 }</code></p>\n<p>The correct base-64 encoding of <code>{ 0x99, 0xeb, 0x2c, 0x6a, 0x07 }</code> is &quot;messagc=&quot;.</p>\n<p>To make this work correctly, every statement in your method should differ depending on the mode flag. It would be more clear and clean to separate encrypt and decrypt methods.</p>\n"}],"owner":{"account_id":25448730,"reputation":1,"user_id":19250520,"display_name":"Samuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654108632,"creation_date":1654107495,"question_id":72466419,"body_markdown":"I am trying to create a program in java in which part of it uses AES encryption to encrypt data for my final project in a coding class. Here is the code that I am using for my encryption:\r\n\r\n```\r\nstatic String symmetric(String info, String key, String mode) {\r\n    try {\r\n        Cipher c = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n        byte [] bytes = Base64.getDecoder().decode(Crypto.sha256(key));\r\n        byte [] information = Base64.getDecoder().decode(info);\r\n        Key k = new SecretKeySpec(bytes, &quot;AES&quot;);\r\n\r\n        if (mode.equals(&quot;ENCRYPT&quot;)) {\r\n            c.init(Cipher.ENCRYPT_MODE, k);\r\n        } else if (mode.equals(&quot;DECRYPT&quot;)) {\r\n            c.init(Cipher.DECRYPT_MODE, k);\r\n        }\r\n            \r\n        return (Base64.getEncoder().encodeToString(c.doFinal(information)).trim());\r\n        \r\n    } catch (Exception e) {\r\n        JOptionPane.showMessageDialog(null, e.getMessage());\r\n    }\r\n    return (null);\r\n}\r\n```\r\nWhen I encrypt my data using `String ciphterText = symmetric(&quot;message&quot;, &quot;key&quot;, &quot;ENCRYPT&quot;)` and decrypt the ciphertext using `symmetric(cipherText, &quot;key&quot;, &quot;DECRYPT&quot;)`, the string it returns is `&quot;messagc=&quot;`. I&#39;m worried that the padding is weird but I don&#39;t know how to fix it.\r\n\r\n**FYI:** `Crypto.sha256(String input)` is a method I created that returns the sha256 hash of info as a base 64 string. Here is the code for it if it helps:\r\n```\r\npublic static String sha256(String input) {\r\n    try {\r\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        byte [] tempHash = digest.digest(input.getBytes(StandardCharsets.UTF_8));\r\n\r\n        return (Base64.getEncoder().encodeToString(tempHash));\r\n\r\n    } catch (NoSuchAlgorithmException e) {\r\n        JOptionPane.showMessageDialog(null, e.getMessage());\r\n    }\r\n\r\n    return (null);\r\n}\r\n```\r\n**Also** I know ECB is not secure compared to other methods that use initialization vectors, but it is a small project and I don&#39;t have enough time to do that, which is the same reason why I&#39;m not salting my hashes. Is there anything I can do to fix it?","title":"AES Decryption in Java Not Returning the Same String as the Plaintext","body":"<p>I am trying to create a program in java in which part of it uses AES encryption to encrypt data for my final project in a coding class. Here is the code that I am using for my encryption:</p>\n<pre><code>static String symmetric(String info, String key, String mode) {\n    try {\n        Cipher c = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n        byte [] bytes = Base64.getDecoder().decode(Crypto.sha256(key));\n        byte [] information = Base64.getDecoder().decode(info);\n        Key k = new SecretKeySpec(bytes, &quot;AES&quot;);\n\n        if (mode.equals(&quot;ENCRYPT&quot;)) {\n            c.init(Cipher.ENCRYPT_MODE, k);\n        } else if (mode.equals(&quot;DECRYPT&quot;)) {\n            c.init(Cipher.DECRYPT_MODE, k);\n        }\n            \n        return (Base64.getEncoder().encodeToString(c.doFinal(information)).trim());\n        \n    } catch (Exception e) {\n        JOptionPane.showMessageDialog(null, e.getMessage());\n    }\n    return (null);\n}\n</code></pre>\n<p>When I encrypt my data using <code>String ciphterText = symmetric(&quot;message&quot;, &quot;key&quot;, &quot;ENCRYPT&quot;)</code> and decrypt the ciphertext using <code>symmetric(cipherText, &quot;key&quot;, &quot;DECRYPT&quot;)</code>, the string it returns is <code>&quot;messagc=&quot;</code>. I'm worried that the padding is weird but I don't know how to fix it.</p>\n<p><strong>FYI:</strong> <code>Crypto.sha256(String input)</code> is a method I created that returns the sha256 hash of info as a base 64 string. Here is the code for it if it helps:</p>\n<pre><code>public static String sha256(String input) {\n    try {\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        byte [] tempHash = digest.digest(input.getBytes(StandardCharsets.UTF_8));\n\n        return (Base64.getEncoder().encodeToString(tempHash));\n\n    } catch (NoSuchAlgorithmException e) {\n        JOptionPane.showMessageDialog(null, e.getMessage());\n    }\n\n    return (null);\n}\n</code></pre>\n<p><strong>Also</strong> I know ECB is not secure compared to other methods that use initialization vectors, but it is a small project and I don't have enough time to do that, which is the same reason why I'm not salting my hashes. Is there anything I can do to fix it?</p>\n"},{"tags":["java","multithreading","while-loop"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1654068084,"post_id":72457763,"comment_id":128000851,"body_markdown":"Does it do anything after that? Maybe something that could be a problem if done without any pause between attempts?","body":"Does it do anything after that? Maybe something that could be a problem if done without any pause between attempts?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1654068109,"post_id":72457763,"comment_id":128000858,"body_markdown":"No it&#39;s not for reducing performance, it&#39;s making a thread sleep a second at a time. If that&#39; s the *only* thing the thread does, it&#39;s odd, but most likely it&#39;s just someone doing wait-polling because the author either didn&#39;t have better options (unlikely) or didn&#39;t know of any better options.","body":"No it&#39;s not for reducing performance, it&#39;s making a thread sleep a second at a time. If that&#39; s the <i>only</i> thing the thread does, it&#39;s odd, but most likely it&#39;s just someone doing wait-polling because the author either didn&#39;t have better options (unlikely) or didn&#39;t know of any better options."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":14,"creation_date":1654068160,"post_id":72457763,"comment_id":128000882,"body_markdown":"I think the &quot;other stuff happening here&quot; is probably the context that we would need to be able to make an educated guess.","body":"I think the &quot;other stuff happening here&quot; is probably the context that we would need to be able to make an educated guess."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1654071313,"post_id":72457763,"comment_id":128001986,"body_markdown":"That eternal loop might exist to make a server stay running, i.e. without it the server would terminate.","body":"That eternal loop might exist to make a server stay running, i.e. without it the server would terminate."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1654104640,"post_id":72457763,"comment_id":128014278,"body_markdown":"Re, &quot;... intentional to reduce performance...&quot; Nobody ever wants to reduce performance. Talk about &quot;performance&quot; is talk about how well the program satisfies its requirements. The sleep reduces the _rate_ at which the &quot;other stuff&quot; happens, but maybe the program would perform _poorly_ if the &quot;other stuff&quot; happened too often.","body":"Re, &quot;... intentional to reduce performance...&quot; Nobody ever wants to reduce performance. Talk about &quot;performance&quot; is talk about how well the program satisfies its requirements. The sleep reduces the <i>rate</i> at which the &quot;other stuff&quot; happens, but maybe the program would perform <i>poorly</i> if the &quot;other stuff&quot; happened too often."},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1654165882,"post_id":72457763,"comment_id":128028599,"body_markdown":"This is not uncommon.  I use such a sleep loop to flash a LED on embedded boards.  At a glance, without any further investigation, I can tell that the power is on, CPU hardware running and that, at least some of, the software is running.  The performance hit is negligible.  It needs, like, 16 words of stack and that&#39;s it:)","body":"This is not uncommon.  I use such a sleep loop to flash a LED on embedded boards.  At a glance, without any further investigation, I can tell that the power is on, CPU hardware running and that, at least some of, the software is running.  The performance hit is negligible.  It needs, like, 16 words of stack and that&#39;s it:)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654108457,"creation_date":1654073225,"answer_id":72458880,"question_id":72457763,"body_markdown":"# Take a break to let other threads execute\r\n\r\nThat code uses sleep merely to delay each repetition of the â€œother stuffâ€ code. Without such a delay, the code may be running more often than is needed, wasting CPU cycles. While that thread is asleep, some  other thread can be running for that second. \r\n\r\nThis sleeping will be even more performant in the future if the [virtual threads][1] proposed by *Project Loom* succeed.\r\n\r\n## `ScheduledExecutorSerivce`\r\n\r\nAn alternative approach is a [scheduled executor service][2]. A `Runnable` or `Callable` task could be [submitted to run with a second of pause time][3] in between runs. \r\n\r\n    ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\r\n\r\n    Runnable task = () -&gt; otherStuff() ;\r\n    ses.scheduleAtFixedRate ( task , 0 , 1 , TimeUnit.SECONDS ); // ( task , initialDelay , period , unit )\r\n\r\n    â€¦ // Eventually shutdown the executor service, otherwise the backing thread pool may run indefinitely.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/425\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)","title":"Why Thread.sleep() in a while (true)","body":"<h1>Take a break to let other threads execute</h1>\n<p>That code uses sleep merely to delay each repetition of the â€œother stuffâ€ code. Without such a delay, the code may be running more often than is needed, wasting CPU cycles. While that thread is asleep, some  other thread can be running for that second.</p>\n<p>This sleeping will be even more performant in the future if the <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a> proposed by <em>Project Loom</em> succeed.</p>\n<h2><code>ScheduledExecutorSerivce</code></h2>\n<p>An alternative approach is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">scheduled executor service</a>. A <code>Runnable</code> or <code>Callable</code> task could be <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">submitted to run with a second of pause time</a> in between runs.</p>\n<pre><code>ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\n\nRunnable task = () -&gt; otherStuff() ;\nses.scheduleAtFixedRate ( task , 0 , 1 , TimeUnit.SECONDS ); // ( task , initialDelay , period , unit )\n\nâ€¦ // Eventually shutdown the executor service, otherwise the backing thread pool may run indefinitely.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654075642,"creation_date":1654075642,"answer_id":72459449,"question_id":72457763,"body_markdown":"There is not sufficient context to explain exactly the purpose of the `sleep` here.\r\n\r\nOne possibility is that this is simply to run the `other stuff happening here;` code roughly once a second ... because it needs to be run once a second.  This can be done other ways.\r\n\r\nAnother possibility is that it is a &quot;hack&quot; to avoid make a polling loop less &quot;expensive&quot;.  For example compare these two bits of code:\r\n\r\n    volatile boolean someFlag;\r\n    ...\r\n    while (true)\r\n        if (someFlag) {\r\n           //  do something\r\n           someFlag = false;\r\n        }\r\n    }\r\n\r\nversus\r\n\r\n    volatile boolean someFlag;\r\n    ...\r\n    while (true)\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            break;\r\n        }\r\n        if (someFlag) {\r\n           //  do something\r\n           someFlag = false;\r\n        }\r\n    }\r\n\r\nThe idea of this code is to do something whenever some other thread sets `someFlag` is set to `true`.  The difference between the two versions is that the first one polls the flag at a high rate to achieve a quick response, while the second will not respond to the flag being set for up to a second.  On the other hand, the second version doesn&#39;t keep a core busy while waiting.\r\n\r\nThere are ways to get a fast response to the state change more efficiently; e.g. if the two threads use `wait` / `notify` or `Semaphores` or some other synchronization class.  Code that polls a flag with or without a `sleep` should be treated with suspicion ...","title":"Why Thread.sleep() in a while (true)","body":"<p>There is not sufficient context to explain exactly the purpose of the <code>sleep</code> here.</p>\n<p>One possibility is that this is simply to run the <code>other stuff happening here;</code> code roughly once a second ... because it needs to be run once a second.  This can be done other ways.</p>\n<p>Another possibility is that it is a &quot;hack&quot; to avoid make a polling loop less &quot;expensive&quot;.  For example compare these two bits of code:</p>\n<pre><code>volatile boolean someFlag;\n...\nwhile (true)\n    if (someFlag) {\n       //  do something\n       someFlag = false;\n    }\n}\n</code></pre>\n<p>versus</p>\n<pre><code>volatile boolean someFlag;\n...\nwhile (true)\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        break;\n    }\n    if (someFlag) {\n       //  do something\n       someFlag = false;\n    }\n}\n</code></pre>\n<p>The idea of this code is to do something whenever some other thread sets <code>someFlag</code> is set to <code>true</code>.  The difference between the two versions is that the first one polls the flag at a high rate to achieve a quick response, while the second will not respond to the flag being set for up to a second.  On the other hand, the second version doesn't keep a core busy while waiting.</p>\n<p>There are ways to get a fast response to the state change more efficiently; e.g. if the two threads use <code>wait</code> / <code>notify</code> or <code>Semaphores</code> or some other synchronization class.  Code that polls a flag with or without a <code>sleep</code> should be treated with suspicion ...</p>\n"}],"owner":{"account_id":24968465,"reputation":11,"user_id":19246082,"display_name":"Teknikos Cave"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1654077231,"answer_count":2,"score":0,"last_activity_date":1654108457,"creation_date":1654067901,"question_id":72457763,"body_markdown":"I am taking over a new project and I came across this bunch of code that just seems odd to me.  I am new to Java in general but I do have experience in C#.  What I understand from this is it will just keep trying to put a Thread to sleep?  It seems intentional to reduce performance or maybe I am totally off here.  Could anyone explain? Thank you.\r\n\r\n    while (true) {\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            break;\r\n        }\r\n        other stuff happening here;\r\n    }","title":"Why Thread.sleep() in a while (true)","body":"<p>I am taking over a new project and I came across this bunch of code that just seems odd to me.  I am new to Java in general but I do have experience in C#.  What I understand from this is it will just keep trying to put a Thread to sleep?  It seems intentional to reduce performance or maybe I am totally off here.  Could anyone explain? Thank you.</p>\n<pre><code>while (true) {\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        break;\n    }\n    other stuff happening here;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","frontend","android-constraintlayout"],"answers":[{"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571664100,"creation_date":1571664100,"answer_id":58487229,"question_id":58269540,"body_markdown":"Constraints are not a part of LayoutParams.\r\n\r\nWhat you are looking for is **[ConstraintSet][1]** set on the ConstraintLayout itself.\r\n\r\n        final ConstraintSet constraintSet = new ConstraintSet();\r\n        constraintSet.clone(constraintLayout);\r\n        constraintSet.connect(R.id.textViewId, ConstraintSet.BOTTOM, R.id.details, ConstraintSet.TOP,10 /*&quot;DP&quot;*/);\r\n        constraintSet.connect(R.id.textViewId, ConstraintSet.END, ConstraintSet.PARENT_ID, ConstraintSet.END,10 /*&quot;DP&quot;*/);\r\n        constraintSet.connect(R.id.textViewId, ConstraintSet.START, R.id.image, ConstraintSet.END,10 /*&quot;DP&quot;*/);\r\n        constraintSet.connect(R.id.textViewId, ConstraintSet.TOP, ConstraintSet.PARENT_ID, ConstraintSet.TOP,10 /*&quot;DP&quot;*/);\r\n        constraintSet.applyTo(constraintLayout);\r\nBear in mind that value you pass as the last param will be in pixel when in code so you will have to convert it to dimension pixels(DP).\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/constraint/ConstraintSet","title":"Set constraint widgets dynamically","body":"<p>Constraints are not a part of LayoutParams.</p>\n\n<p>What you are looking for is <strong><a href=\"https://developer.android.com/reference/android/support/constraint/ConstraintSet\" rel=\"nofollow noreferrer\">ConstraintSet</a></strong> set on the ConstraintLayout itself.</p>\n\n<pre><code>    final ConstraintSet constraintSet = new ConstraintSet();\n    constraintSet.clone(constraintLayout);\n    constraintSet.connect(R.id.textViewId, ConstraintSet.BOTTOM, R.id.details, ConstraintSet.TOP,10 /*\"DP\"*/);\n    constraintSet.connect(R.id.textViewId, ConstraintSet.END, ConstraintSet.PARENT_ID, ConstraintSet.END,10 /*\"DP\"*/);\n    constraintSet.connect(R.id.textViewId, ConstraintSet.START, R.id.image, ConstraintSet.END,10 /*\"DP\"*/);\n    constraintSet.connect(R.id.textViewId, ConstraintSet.TOP, ConstraintSet.PARENT_ID, ConstraintSet.TOP,10 /*\"DP\"*/);\n    constraintSet.applyTo(constraintLayout);\n</code></pre>\n\n<p>Bear in mind that value you pass as the last param will be in pixel when in code so you will have to convert it to dimension pixels(DP).</p>\n"}],"owner":{"account_id":9824068,"reputation":335,"user_id":7277725,"display_name":"Bobin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654107983,"creation_date":1570451278,"question_id":58269540,"body_markdown":"You can easily create constraints in the layout xml: \r\n\r\n[![example][1]][1]  \n&lt;sub&gt;(source: [bilder-upload.eu](https://www.bilder-upload.eu/upload/1e283e-1570450851.png))&lt;/sub&gt;  \n\r\n\r\nHowever I was not able to do the exact same thing in code.\r\nMay somebody help to transfer the following xml into java code?\r\n\r\n```xml\r\n&lt;TextView\r\n    ...\r\n    android:layout_marginStart=&quot;10dp&quot;\r\n    android:layout_marginTop=&quot;10dp&quot;\r\n    android:layout_marginEnd=&quot;10dp&quot;\r\n    android:layout_marginBottom=&quot;10dp&quot;\r\n    app:layout_constraintBottom_toTopOf=&quot;@+id/details&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toEndOf=&quot;@+id/image&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\n\r\nI tried the following code for setting the margins, but it does not work. The textView is always at the same place.\r\n\r\n    ConstraintLayout.LayoutParams layoutParams = new ConstraintLayout.LayoutParams(textView.getLayoutParams());\r\n    layoutParams.setMargins(10,10,10,10);\r\n    description.setLayoutParams(layoutParams);\n\n [1]: https://i.stack.imgur.com/6Mhi6.png","title":"Set constraint widgets dynamically","body":"<p>You can easily create constraints in the layout xml:</p>\n<p><a href=\"https://i.stack.imgur.com/6Mhi6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Mhi6.png\" alt=\"example\" /></a><br />\n<sub>(source: <a href=\"https://www.bilder-upload.eu/upload/1e283e-1570450851.png\" rel=\"nofollow noreferrer\">bilder-upload.eu</a>)</sub></p>\n<p>However I was not able to do the exact same thing in code.\nMay somebody help to transfer the following xml into java code?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TextView\n    ...\n    android:layout_marginStart=&quot;10dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/details&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toEndOf=&quot;@+id/image&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>I tried the following code for setting the margins, but it does not work. The textView is always at the same place.</p>\n<pre><code>ConstraintLayout.LayoutParams layoutParams = new ConstraintLayout.LayoutParams(textView.getLayoutParams());\nlayoutParams.setMargins(10,10,10,10);\ndescription.setLayoutParams(layoutParams);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","openapi"],"comments":[{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1653446012,"post_id":72355196,"comment_id":127852421,"body_markdown":"Can you provide a generated class so that we can reproduce the error message?","body":"Can you provide a generated class so that we can reproduce the error message?"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":1,"creation_date":1653469712,"post_id":72355196,"comment_id":127857886,"body_markdown":"I&#39;ll put a test case up on GitHub. I&#39;ll mention it here when it&#39;s ready.","body":"I&#39;ll put a test case up on GitHub. I&#39;ll mention it here when it&#39;s ready."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1653531780,"post_id":72355196,"comment_id":127877171,"body_markdown":"The test case can be found at https://github.com/SwingGuy1024/SpringBootDemo.22.05.25\nYou can read the README.md file, at the top, for instructions on how to reproduce the errors that generate the messages.","body":"The test case can be found at <a href=\"https://github.com/SwingGuy1024/SpringBootDemo.22.05.25\" rel=\"nofollow noreferrer\">github.com/SwingGuy1024/SpringBootDemo.22.05.25</a> You can read the README.md file, at the top, for instructions on how to reproduce the errors that generate the messages."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1653687606,"post_id":72355196,"comment_id":127920026,"body_markdown":"have you checked [this](https://stackoverflow.com/a/70218368/365237)","body":"have you checked <a href=\"https://stackoverflow.com/a/70218368/365237\">this</a>"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1653698764,"post_id":72355196,"comment_id":127921725,"body_markdown":"@eis Yes. I mention the two suggested properties in my section on application properties, above.","body":"@eis Yes. I mention the two suggested properties in my section on application properties, above."}],"answers":[{"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653767325,"creation_date":1653767325,"answer_id":72418824,"question_id":72355196,"body_markdown":"The default SpringBoot error-handler does not provide a response body for MethodArgumentNotValidException:\r\n```\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n        return this.handleExceptionInternal(ex, (Object)null, headers, status, request);\r\n    }\r\n\r\n```\r\n\r\nThe good news: you can override this in your GlobalResponseExceptionHandler class:\r\n```\r\n  @Override\r\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n    return handleExceptionInternal(ex, ex.getBindingResult(), headers, status, request);\r\n  }\r\n```\r\nIn the above code, we simply return the entire binding-result as the response body. If you want to, you can tweak this (e.g. only include the errors).\r\n\r\nWhen you call the controller with the invalid payload, you&#39;ll now get the following response:\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2022-05-28T19:40:47.295+00:00&quot;,\r\n  &quot;status&quot;: 400,\r\n  &quot;error&quot;: &quot;Bad Request&quot;,\r\n  &quot;exception&quot;: &quot;org.springframework.web.bind.MethodArgumentNotValidException&quot;,\r\n  &quot;message&quot;: &quot;Validation failed for object=&#39;menuItemOptionDto&#39;. Error count: 1&quot;,\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;codes&quot;: [\r\n        &quot;NotNull.menuItemOptionDto.deltaPrice&quot;,\r\n        &quot;NotNull.deltaPrice&quot;,\r\n        &quot;NotNull.java.math.BigDecimal&quot;,\r\n        &quot;NotNull&quot;\r\n      ],\r\n      &quot;arguments&quot;: [\r\n        {\r\n          &quot;codes&quot;: [\r\n            &quot;menuItemOptionDto.deltaPrice&quot;,\r\n            &quot;deltaPrice&quot;\r\n          ],\r\n          &quot;arguments&quot;: null,\r\n          &quot;defaultMessage&quot;: &quot;deltaPrice&quot;,\r\n          &quot;code&quot;: &quot;deltaPrice&quot;\r\n        }\r\n      ],\r\n      &quot;defaultMessage&quot;: &quot;must not be null&quot;,\r\n      &quot;objectName&quot;: &quot;menuItemOptionDto&quot;,\r\n      &quot;field&quot;: &quot;deltaPrice&quot;,\r\n      &quot;rejectedValue&quot;: null,\r\n      &quot;bindingFailure&quot;: false,\r\n      &quot;code&quot;: &quot;NotNull&quot;\r\n    }\r\n  ],\r\n  &quot;path&quot;: &quot;/demo/admin/menuItem/addOption/1&quot;\r\n}\r\n```","title":"I&#39;m Getting Inadequate Error Messages from Spring Boot","body":"<p>The default SpringBoot error-handler does not provide a response body for MethodArgumentNotValidException:</p>\n<pre><code>    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        return this.handleExceptionInternal(ex, (Object)null, headers, status, request);\n    }\n\n</code></pre>\n<p>The good news: you can override this in your GlobalResponseExceptionHandler class:</p>\n<pre><code>  @Override\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n    return handleExceptionInternal(ex, ex.getBindingResult(), headers, status, request);\n  }\n</code></pre>\n<p>In the above code, we simply return the entire binding-result as the response body. If you want to, you can tweak this (e.g. only include the errors).</p>\n<p>When you call the controller with the invalid payload, you'll now get the following response:</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2022-05-28T19:40:47.295+00:00&quot;,\n  &quot;status&quot;: 400,\n  &quot;error&quot;: &quot;Bad Request&quot;,\n  &quot;exception&quot;: &quot;org.springframework.web.bind.MethodArgumentNotValidException&quot;,\n  &quot;message&quot;: &quot;Validation failed for object='menuItemOptionDto'. Error count: 1&quot;,\n  &quot;errors&quot;: [\n    {\n      &quot;codes&quot;: [\n        &quot;NotNull.menuItemOptionDto.deltaPrice&quot;,\n        &quot;NotNull.deltaPrice&quot;,\n        &quot;NotNull.java.math.BigDecimal&quot;,\n        &quot;NotNull&quot;\n      ],\n      &quot;arguments&quot;: [\n        {\n          &quot;codes&quot;: [\n            &quot;menuItemOptionDto.deltaPrice&quot;,\n            &quot;deltaPrice&quot;\n          ],\n          &quot;arguments&quot;: null,\n          &quot;defaultMessage&quot;: &quot;deltaPrice&quot;,\n          &quot;code&quot;: &quot;deltaPrice&quot;\n        }\n      ],\n      &quot;defaultMessage&quot;: &quot;must not be null&quot;,\n      &quot;objectName&quot;: &quot;menuItemOptionDto&quot;,\n      &quot;field&quot;: &quot;deltaPrice&quot;,\n      &quot;rejectedValue&quot;: null,\n      &quot;bindingFailure&quot;: false,\n      &quot;code&quot;: &quot;NotNull&quot;\n    }\n  ],\n  &quot;path&quot;: &quot;/demo/admin/menuItem/addOption/1&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654107498,"creation_date":1654107498,"answer_id":72466420,"question_id":72355196,"body_markdown":"Based on [OpenAPI generator to spring-boot with custom java validations][1]\r\n\r\n&gt;  - You can add some another validation layer in your code, which is    independent of OpenAPI generator. This layer will be called from   \r\n&gt; PetsController and PetsController will validate only basic OpenAPI   \r\n&gt; known constraints.\r\n&gt;    \r\n&gt;  - You can add you validations not via annotations, but via xml config    as shown [here][2].\r\n&gt;    \r\n&gt;   - maybe something else.\r\n&gt;    \r\n&gt;   - Hack it a bit. I was looking for a solution in which my custom    validation will be defined in OpenAPI spec same way as â€œrequiredâ€.   \r\n&gt; Naturally I decided not to use solutions 1 or 2 (even thought it   \r\n&gt; might be the right way for a lot of cases). I found out the   \r\n&gt; openapi-generator actually provides a way of modifying the way the   \r\n&gt; code is generated. That means that I can actually define custom   \r\n&gt; constraint in OpenAPI specs as my own made up properties.\r\n\r\nPlease follow instructions in the above link for implementing last method.\r\n\r\n  [1]: https://bartko-mat.medium.com/openapi-generator-to-spring-boot-with-custom-java-validations-623381df9215\r\n  [2]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#chapter-xml-configuration\r\n","title":"I&#39;m Getting Inadequate Error Messages from Spring Boot","body":"<p>Based on <a href=\"https://bartko-mat.medium.com/openapi-generator-to-spring-boot-with-custom-java-validations-623381df9215\" rel=\"nofollow noreferrer\">OpenAPI generator to spring-boot with custom java validations</a></p>\n<blockquote>\n<ul>\n<li><p>You can add some another validation layer in your code, which is    independent of OpenAPI generator. This layer will be called from<br />\nPetsController and PetsController will validate only basic OpenAPI<br />\nknown constraints.</p>\n</li>\n<li><p>You can add you validations not via annotations, but via xml config    as shown <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#chapter-xml-configuration\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n<li><p>maybe something else.</p>\n</li>\n<li><p>Hack it a bit. I was looking for a solution in which my custom    validation will be defined in OpenAPI spec same way as â€œrequiredâ€.<br />\nNaturally I decided not to use solutions 1 or 2 (even thought it<br />\nmight be the right way for a lot of cases). I found out the<br />\nopenapi-generator actually provides a way of modifying the way the<br />\ncode is generated. That means that I can actually define custom<br />\nconstraint in OpenAPI specs as my own made up properties.</p>\n</li>\n</ul>\n</blockquote>\n<p>Please follow instructions in the above link for implementing last method.</p>\n"}],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72418824,"answer_count":2,"score":4,"last_activity_date":1654107498,"creation_date":1653343008,"question_id":72355196,"body_markdown":"In my Spring Boot application, I specified my API using OpenApi 3.0.0. When I test its response to bad input, I&#39;m not happy with some of the error messages. The messages are useful when Hibernate can&#39;t handle my input. They include the class, field, and even the illegal value. But when Spring Boot rejects my input without even entering my code, I just get the vague message `The request cannot be fulfilled due to bad syntax.` There&#39;s no information about what field is bad, or what object holds the bad field value.\r\n\r\nWhen I specify my DTO in the .yaml file, two fields are required:\r\n\r\n    MenuItemOptionDto:\r\n      type: object\r\n      description: Option for a MenuItem\r\n      properties:\r\n        name:\r\n          type: string\r\n        deltaPrice:\r\n          type: number\r\n          description: Floating point price. Strings are easier to work with.\r\n        id:\r\n          type: integer\r\n          format: int32\r\n      required:\r\n        - name\r\n        - deltaPrice\r\n\r\nBut suppose I submit a DTO with a missing deltaPrice, like this: `{&quot;name&quot;: &quot;onions&quot;}` The error message just says `The request cannot be fulfilled due to bad syntax.` I want the error message to say which DTO is incorrect, and which field is missing.\r\n\r\nI have specified three relevant application properties. Any one of these will give me Hibernate validation error messages, but none give me spring-boot validation messages:\r\n\r\n    server.error.include-message=always\r\n    server.error.include-binding-errors=always\r\n    server.error.include-exception=true\r\n\r\nAnd I&#39;ve received advise to add a validator bean to my main application, which didn&#39;t help:\r\n\r\n    @ComponentScan(basePackages = {&quot;com.myWork.dummy&quot;,&quot;org.openapitools&quot;,})\r\n    @EnableCaching\r\n    @SpringBootApplication\r\n    public class ServerMaster implements CommandLineRunner {\r\n      private static final Logger log = LoggerFactory.getLogger(ServerMaster.class);\r\n      public static void main(String[] args) {\r\n        new SpringApplication(ServerMaster.class).run(args);\r\n      }\r\n\r\n      @Override\r\n      public void run(String... arg0) { ... }\r\n\r\n      // This was suggested at https://stackoverflow.com/questions/49538896/spring-boot-error-message-doesnt-work\r\n      // in order to give me better error messages when OpenAPI validations are triggered, but it doesn&#39;t help.\r\n      @Bean public Validator validator() {\r\n        return new LocalValidatorFactoryBean();\r\n      }\r\n    }\r\n\r\nWhen I generate the code, it doesn&#39;t matter if I turn on the `performBeanValidation` or `useBeanValidation` options. The generated code doesn&#39;t change. Either way, the `@NotNull` annotations are applied to the getters for the name and deltaPrice fields, and these are getting honored by the server, but without useful error messages.\r\n\r\nFinally, I&#39;m using Spring-Boot 2.3.4, and I declare a dependency on Spring Boot annotations:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nSpring-Boot correctly rejects the input because the OpenAPI generator puts `@NotNull` annotations on the getters of the generated `MenuItemOptionDTO`, but since the code is generated, I can&#39;t customize them with an error message, and I don&#39;t want to turn off the generator. How can I get Spring or OpenAPI to give me better error messages?\r\n\r\n#### Test Case\r\nTo see these messages in action, check out the code at https://github.com/SwingGuy1024/SpringBootDemo.22.05.25","title":"I&#39;m Getting Inadequate Error Messages from Spring Boot","body":"<p>In my Spring Boot application, I specified my API using OpenApi 3.0.0. When I test its response to bad input, I'm not happy with some of the error messages. The messages are useful when Hibernate can't handle my input. They include the class, field, and even the illegal value. But when Spring Boot rejects my input without even entering my code, I just get the vague message <code>The request cannot be fulfilled due to bad syntax.</code> There's no information about what field is bad, or what object holds the bad field value.</p>\n<p>When I specify my DTO in the .yaml file, two fields are required:</p>\n<pre><code>MenuItemOptionDto:\n  type: object\n  description: Option for a MenuItem\n  properties:\n    name:\n      type: string\n    deltaPrice:\n      type: number\n      description: Floating point price. Strings are easier to work with.\n    id:\n      type: integer\n      format: int32\n  required:\n    - name\n    - deltaPrice\n</code></pre>\n<p>But suppose I submit a DTO with a missing deltaPrice, like this: <code>{&quot;name&quot;: &quot;onions&quot;}</code> The error message just says <code>The request cannot be fulfilled due to bad syntax.</code> I want the error message to say which DTO is incorrect, and which field is missing.</p>\n<p>I have specified three relevant application properties. Any one of these will give me Hibernate validation error messages, but none give me spring-boot validation messages:</p>\n<pre><code>server.error.include-message=always\nserver.error.include-binding-errors=always\nserver.error.include-exception=true\n</code></pre>\n<p>And I've received advise to add a validator bean to my main application, which didn't help:</p>\n<pre><code>@ComponentScan(basePackages = {&quot;com.myWork.dummy&quot;,&quot;org.openapitools&quot;,})\n@EnableCaching\n@SpringBootApplication\npublic class ServerMaster implements CommandLineRunner {\n  private static final Logger log = LoggerFactory.getLogger(ServerMaster.class);\n  public static void main(String[] args) {\n    new SpringApplication(ServerMaster.class).run(args);\n  }\n\n  @Override\n  public void run(String... arg0) { ... }\n\n  // This was suggested at https://stackoverflow.com/questions/49538896/spring-boot-error-message-doesnt-work\n  // in order to give me better error messages when OpenAPI validations are triggered, but it doesn't help.\n  @Bean public Validator validator() {\n    return new LocalValidatorFactoryBean();\n  }\n}\n</code></pre>\n<p>When I generate the code, it doesn't matter if I turn on the <code>performBeanValidation</code> or <code>useBeanValidation</code> options. The generated code doesn't change. Either way, the <code>@NotNull</code> annotations are applied to the getters for the name and deltaPrice fields, and these are getting honored by the server, but without useful error messages.</p>\n<p>Finally, I'm using Spring-Boot 2.3.4, and I declare a dependency on Spring Boot annotations:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Spring-Boot correctly rejects the input because the OpenAPI generator puts <code>@NotNull</code> annotations on the getters of the generated <code>MenuItemOptionDTO</code>, but since the code is generated, I can't customize them with an error message, and I don't want to turn off the generator. How can I get Spring or OpenAPI to give me better error messages?</p>\n<h4>Test Case</h4>\n<p>To see these messages in action, check out the code at <a href=\"https://github.com/SwingGuy1024/SpringBootDemo.22.05.25\" rel=\"nofollow noreferrer\">https://github.com/SwingGuy1024/SpringBootDemo.22.05.25</a></p>\n"},{"tags":["java","image","jpanel","itext","bufferedimage"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - é€€ã—ãŸ"},"score":0,"creation_date":1490468893,"post_id":43019998,"comment_id":73129190,"body_markdown":"Perhaps try and set the JPanel&#39;s **opaque** property to false. `panel.setOpaque(false);`.","body":"Perhaps try and set the JPanel&#39;s <b>opaque</b> property to false. <code>panel.setOpaque(false);</code>."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490468798,"creation_date":1490468798,"answer_id":43020700,"question_id":43019998,"body_markdown":"&gt; Is there a way to convert it to image and print it to PDF with white or transparent background?\r\n\r\nWell by default a JPanel is opaque and has its own background so the background get copied to the image.\r\n\r\nI have never tried this before but maybe nesting panels something like this will work:\r\n\r\n    JPanel imagePanel = new JPanel();\r\n    imagePanel.setOpaque(false);\r\n    JPanel backgroundPanel = new JPanel( new BorderLayout() );\r\n    backgroundPanel.add( imagePanel );\r\n    frame.add( backgroundPanel );\r\n\r\nSo now the imagePanel should be be transparent when you create the BufferedImage. But it will inherit the background color of the backgroundPanel so it still looks correct in the frame.","title":"Converting JPanel to Image to be added in iText PDF with white or transparent background","body":"<blockquote>\n  <p>Is there a way to convert it to image and print it to PDF with white or transparent background?</p>\n</blockquote>\n\n<p>Well by default a JPanel is opaque and has its own background so the background get copied to the image.</p>\n\n<p>I have never tried this before but maybe nesting panels something like this will work:</p>\n\n<pre><code>JPanel imagePanel = new JPanel();\nimagePanel.setOpaque(false);\nJPanel backgroundPanel = new JPanel( new BorderLayout() );\nbackgroundPanel.add( imagePanel );\nframe.add( backgroundPanel );\n</code></pre>\n\n<p>So now the imagePanel should be be transparent when you create the BufferedImage. But it will inherit the background color of the backgroundPanel so it still looks correct in the frame.</p>\n"},{"tags":[],"owner":{"account_id":22985989,"reputation":1,"user_id":17112211,"display_name":"Äáº·ng Nghiá»‡p CÆ°á»ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654107348,"creation_date":1654107348,"answer_id":72466385,"question_id":43019998,"body_markdown":"I think the easiest way is to fit the Panel size to the inside components, then the components may cover all the Panel background","title":"Converting JPanel to Image to be added in iText PDF with white or transparent background","body":"<p>I think the easiest way is to fit the Panel size to the inside components, then the components may cover all the Panel background</p>\n"}],"owner":{"account_id":10122153,"reputation":3,"user_id":7478729,"accept_rate":0,"display_name":"James-Andrew Sarmiento"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654107348,"creation_date":1490464979,"question_id":43019998,"body_markdown":"I am trying to convert a JPanel to Image and will be writing it to a PDF using iText.\r\nI have searched ways on how to convert JPanel to Image and found two &quot;Working&quot; solutions.\r\n\r\n    private BufferedImage createImage(JPanel panel) {\r\n\t\tint w = panel.getWidth();\r\n\t\tint h = panel.getHeight();\r\n\t\tBufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n\t\tGraphics2D g = bi.createGraphics();\r\n\t\tpanel.print(g);\r\n\t\treturn bi;\r\n\t}\r\n\r\n    public static java.awt.Image getImageFromPanel(JPanel component) {\r\n        BufferedImage image = new BufferedImage(component.getWidth(),\r\n                component.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n        component.paint(image.getGraphics());\r\n        return image;\r\n    }\r\n\r\nAs you can see, I already used &quot;ARGB&quot; to try to convert it to image with a transparent or white background but it doesnt work. See attached image.\r\nIs there a way to convert it to image and print it to PDF with white or transparent background?\r\n\r\nBelow is the image converted from the JPanel using codes above\r\n[Image written on PDF][1]\r\n\r\nBottom is the JPanel I want to convert to Image\r\n[JPanel I want to convert][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0aAeM.png\r\n  [2]: https://i.stack.imgur.com/ZxxDB.png","title":"Converting JPanel to Image to be added in iText PDF with white or transparent background","body":"<p>I am trying to convert a JPanel to Image and will be writing it to a PDF using iText.\nI have searched ways on how to convert JPanel to Image and found two \"Working\" solutions.</p>\n\n<pre><code>private BufferedImage createImage(JPanel panel) {\n    int w = panel.getWidth();\n    int h = panel.getHeight();\n    BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g = bi.createGraphics();\n    panel.print(g);\n    return bi;\n}\n\npublic static java.awt.Image getImageFromPanel(JPanel component) {\n    BufferedImage image = new BufferedImage(component.getWidth(),\n            component.getHeight(), BufferedImage.TYPE_INT_ARGB);\n    component.paint(image.getGraphics());\n    return image;\n}\n</code></pre>\n\n<p>As you can see, I already used \"ARGB\" to try to convert it to image with a transparent or white background but it doesnt work. See attached image.\nIs there a way to convert it to image and print it to PDF with white or transparent background?</p>\n\n<p>Below is the image converted from the JPanel using codes above\n<a href=\"https://i.stack.imgur.com/0aAeM.png\" rel=\"nofollow noreferrer\">Image written on PDF</a></p>\n\n<p>Bottom is the JPanel I want to convert to Image\n<a href=\"https://i.stack.imgur.com/ZxxDB.png\" rel=\"nofollow noreferrer\">JPanel I want to convert</a></p>\n"},{"tags":["java","visual-studio-code","launch"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1652751142,"post_id":72258054,"comment_id":127676424,"body_markdown":"Your launch.json file is set correctly, and there is no problem with the extensions you installed. And when codeâ€˜s running, it does appear this prompt box, but it won&#39;t last long. Have you tried &quot;ctrl+shift+P&quot; and choose &quot;Java: Clean Java language server workspace&quot;? If it still doesn&#39;t work, try reinstalling &quot;Extension pack for Java&quot;.","body":"Your launch.json file is set correctly, and there is no problem with the extensions you installed. And when codeâ€˜s running, it does appear this prompt box, but it won&#39;t last long. Have you tried &quot;ctrl+shift+P&quot; and choose &quot;Java: Clean Java language server workspace&quot;? If it still doesn&#39;t work, try reinstalling &quot;Extension pack for Java&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1549490,"reputation":1,"user_id":4332469,"display_name":"tapiov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654107338,"creation_date":1654107338,"answer_id":72466382,"question_id":72258054,"body_markdown":"[Solved]:\r\n\r\nI removed the launch.json and added tasks.json below\r\n\r\n    {\r\n        &quot;version&quot;: &quot;2.0.0&quot;,\r\n        &quot;tasks&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;mainClass&quot;: &quot;com.coolapp.App&quot;,\r\n                &quot;targetPath&quot;: &quot;${workspaceFolder}/${workspaceFolderBasename}.jar&quot;,\r\n                &quot;elements&quot;: [\r\n                    &quot;${compileOutput}&quot;,\r\n                    &quot;${dependencies}&quot;\r\n                ],\r\n                &quot;problemMatcher&quot;: [],\r\n                &quot;label&quot;: &quot;java: exportjar:coolapp&quot;,\r\n                &quot;group&quot;: {\r\n                    &quot;kind&quot;: &quot;build&quot;,\r\n                    &quot;isDefault&quot;: true\r\n                }\r\n            }\r\n        ]\r\n    }\r\n\r\nAlso, I noticed (there was a message which I ignored earlier) that there was a Netbeans java language service extension which I uninstalled. The error message btw did not specify which extensions were conflicting so I went on with a guess.\r\n\r\nThen I cleaned the Java language server workspace as suggested below. These fixed the issue.\r\n\r\nSo, it seems you don&#39;t necessarily need launch.json. And do not install conflicting extensions.\r\n","title":"Visual Studio Code Java Run Without Debugging stucks on &quot;Run: Compiling...&quot; pop-up","body":"<p>[Solved]:</p>\n<p>I removed the launch.json and added tasks.json below</p>\n<pre><code>{\n    &quot;version&quot;: &quot;2.0.0&quot;,\n    &quot;tasks&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;mainClass&quot;: &quot;com.coolapp.App&quot;,\n            &quot;targetPath&quot;: &quot;${workspaceFolder}/${workspaceFolderBasename}.jar&quot;,\n            &quot;elements&quot;: [\n                &quot;${compileOutput}&quot;,\n                &quot;${dependencies}&quot;\n            ],\n            &quot;problemMatcher&quot;: [],\n            &quot;label&quot;: &quot;java: exportjar:coolapp&quot;,\n            &quot;group&quot;: {\n                &quot;kind&quot;: &quot;build&quot;,\n                &quot;isDefault&quot;: true\n            }\n        }\n    ]\n}\n</code></pre>\n<p>Also, I noticed (there was a message which I ignored earlier) that there was a Netbeans java language service extension which I uninstalled. The error message btw did not specify which extensions were conflicting so I went on with a guess.</p>\n<p>Then I cleaned the Java language server workspace as suggested below. These fixed the issue.</p>\n<p>So, it seems you don't necessarily need launch.json. And do not install conflicting extensions.</p>\n"}],"owner":{"account_id":1549490,"reputation":1,"user_id":4332469,"display_name":"tapiov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654107338,"creation_date":1652698367,"question_id":72258054,"body_markdown":"I have a simple Java application with 3 source files. The program compiled and ran fine in the integrated terminal before. Until I tried to use an extension GraalVM for Java or something. Didn&#39;t understand how to use that, so I uninstalled it. \r\nNow when I use &quot;Run without Debugging&quot; I just get a pop-up saying &quot;Run: Compiling ... Source: Debugger for Java (Extension)&quot; and the program does not start in the integrated terminal. \r\nI think this is related to file launch.json which is \r\n\r\n```code\r\n{\r\n    &quot;configurations&quot;: [\r\n    {\r\n        &quot;type&quot;: &quot;java&quot;,\r\n        &quot;name&quot;: &quot;Launch Current File&quot;,\r\n        &quot;request&quot;: &quot;launch&quot;,\r\n        &quot;mainClass&quot;: &quot;${file}&quot;\r\n    }\r\n    ]\r\n}\r\n```\r\nDo I need some sort of tasks.json file as well and what should go into it? There are a lot of extensions as well and their tasks and relations are not too clear.\r\n\r\n1) Debugger for Java (Microsoft)\r\n2) Extension Pack for Java (Microsoft)\r\n3) Gradle for Java, although I seem to have pom.xml as well? I used &quot;Java: Create Javafx project&quot;\r\n4) Jupyter. I am not doing tests, this is a small project\r\n5) Language support for Java (Red Hat)\r\n6) Maven for Java (Microsoft)\r\n7) Project Manager for Java (Microsoft)\r\n\r\nOn the left bottom corner, on the tab &quot;Run configuration&quot;, all values seem to have &lt;default&gt; values. Should they be set and how?\r\n\r\nHave tried:\r\n- Restarting VSC - no change, stuck on &quot;Compiling ...&quot;\r\n\r\nAnything more I should try? ","title":"Visual Studio Code Java Run Without Debugging stucks on &quot;Run: Compiling...&quot; pop-up","body":"<p>I have a simple Java application with 3 source files. The program compiled and ran fine in the integrated terminal before. Until I tried to use an extension GraalVM for Java or something. Didn't understand how to use that, so I uninstalled it.\nNow when I use &quot;Run without Debugging&quot; I just get a pop-up saying &quot;Run: Compiling ... Source: Debugger for Java (Extension)&quot; and the program does not start in the integrated terminal.\nI think this is related to file launch.json which is</p>\n<pre><code>{\n    &quot;configurations&quot;: [\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch Current File&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;${file}&quot;\n    }\n    ]\n}\n</code></pre>\n<p>Do I need some sort of tasks.json file as well and what should go into it? There are a lot of extensions as well and their tasks and relations are not too clear.</p>\n<ol>\n<li>Debugger for Java (Microsoft)</li>\n<li>Extension Pack for Java (Microsoft)</li>\n<li>Gradle for Java, although I seem to have pom.xml as well? I used &quot;Java: Create Javafx project&quot;</li>\n<li>Jupyter. I am not doing tests, this is a small project</li>\n<li>Language support for Java (Red Hat)</li>\n<li>Maven for Java (Microsoft)</li>\n<li>Project Manager for Java (Microsoft)</li>\n</ol>\n<p>On the left bottom corner, on the tab &quot;Run configuration&quot;, all values seem to have  values. Should they be set and how?</p>\n<p>Have tried:</p>\n<ul>\n<li>Restarting VSC - no change, stuck on &quot;Compiling ...&quot;</li>\n</ul>\n<p>Anything more I should try?</p>\n"},{"tags":["java","junit5","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18179826,"reputation":1213,"user_id":13227834,"display_name":"Jakub SÅ‚owikowski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1607890913,"creation_date":1607890913,"answer_id":65280251,"question_id":65214038,"body_markdown":"Nested mapper is null, because Spring context is not loaded. Due to this, @Autowired is not working.\r\n\r\nSolution is to inject nested mappers via ReflectionTestUtils.\r\n\r\n    @InjectMocks\r\n    private UserMapper mapper = UserMapperImpl.INSTANCE;\r\n    \r\n    @Before\r\n    public void init() {\r\n        RoleMapper roleMapper = Mappers.getMapper(RoleMapper.class);\r\n        ReflectionTestUtils.setField(mapper, &quot;roleMapper&quot;, roleMapper);\r\n    }\r\n\r\n","title":"How to mock MapStruct nested mapper in JUnit5","body":"<p>Nested mapper is null, because Spring context is not loaded. Due to this, @Autowired is not working.</p>\n<p>Solution is to inject nested mappers via ReflectionTestUtils.</p>\n<pre><code>@InjectMocks\nprivate UserMapper mapper = UserMapperImpl.INSTANCE;\n\n@Before\npublic void init() {\n    RoleMapper roleMapper = Mappers.getMapper(RoleMapper.class);\n    ReflectionTestUtils.setField(mapper, &quot;roleMapper&quot;, roleMapper);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2513760,"reputation":840,"user_id":2185612,"accept_rate":33,"display_name":"WeGa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626854615,"creation_date":1626854615,"answer_id":68465992,"question_id":65214038,"body_markdown":"I don&#39;t know about your app&#39;s ecosystem, but if you use spring boot, you can mark test class UserMapperTest as `@SpringBootTest` and autowire your mapper as a regular bean\r\n```\r\n    @Autowired\r\n    private UserMapper mapper;\r\n```","title":"How to mock MapStruct nested mapper in JUnit5","body":"<p>I don't know about your app's ecosystem, but if you use spring boot, you can mark test class UserMapperTest as <code>@SpringBootTest</code> and autowire your mapper as a regular bean</p>\n<pre><code>    @Autowired\n    private UserMapper mapper;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21513721,"reputation":49,"user_id":15855970,"display_name":"Attila Hejja"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1654107202,"creation_date":1654107202,"answer_id":72466352,"question_id":65214038,"body_markdown":"As [Jakub SÅ‚owikowski](https://stackoverflow.com/users/13227834/jakub-s%c5%82owikowski) mentioned, but a bit more fancy:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass MyClassTest {\r\n    @InjectMocks\r\n    private MyService myService;\r\n\r\n    @Mock\r\n    private MyApi myApi;\r\n\r\n    @Spy\r\n    private MyMapper myMapper = Mappers.getMapper(MyMapper.class);\r\n\r\n    @Test\r\n    void myTest() {\r\n        ...\r\n    }\r\n}\r\n```","title":"How to mock MapStruct nested mapper in JUnit5","body":"<p>As <a href=\"https://stackoverflow.com/users/13227834/jakub-s%c5%82owikowski\">Jakub SÅ‚owikowski</a> mentioned, but a bit more fancy:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyClassTest {\n    @InjectMocks\n    private MyService myService;\n\n    @Mock\n    private MyApi myApi;\n\n    @Spy\n    private MyMapper myMapper = Mappers.getMapper(MyMapper.class);\n\n    @Test\n    void myTest() {\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1756623,"reputation":934,"user_id":1604503,"accept_rate":33,"display_name":"fukit0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3173,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65280251,"answer_count":3,"score":3,"last_activity_date":1654107202,"creation_date":1607506195,"question_id":65214038,"body_markdown":"I have been searching a solution for about a day now. I still cannot produce a working example. \r\n\r\nMy problem is simple. I have a mapper uses another mapper:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;, uses = {RoleMapper.class})\r\npublic interface UserMapper {\r\n\r\n    /**\r\n     * Converts User DTO to User JPA Entity\r\n     * @Mapping annotation is used to convert fields with different names\r\n     * @param dto\r\n     * @return\r\n     */\r\n    @Mappings({\r\n            @Mapping(target = &quot;identityNo&quot;, source = &quot;dto.userIdentity&quot;),\r\n            @Mapping(target = &quot;role&quot;, source = &quot;dto.roleDTO&quot;)\r\n    })\r\n    User dtoToEntity(UserDTO dto);\r\n\r\n    /**\r\n     * Converts User JPA Entity to User DTO\r\n     * @Mapping annotation is used to convert fields with different names\r\n     * @param entity\r\n     * @return\r\n     */\r\n    @Mappings({\r\n            @Mapping(target = &quot;userIdentity&quot;, source = &quot;entity.identityNo&quot;),\r\n            @Mapping(target = &quot;roleDTO&quot;, source = &quot;entity.role&quot;)\r\n    })\r\n    UserDTO entityToDto(User entity);\r\n\r\n}\r\n\r\n```\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface RoleMapper {\r\n\r\n    Role roleDtoToEntity(RoleDTO dto);\r\n    RoleDTO roleEntityToDto(Role entity);\r\n}\r\n\r\n```\r\nMy test class which tests mapper works as it should:\r\n```\r\nclass UserMapperTest {\r\n\r\n    private UserMapper mapper = Mappers.getMapper(UserMapper.class);\r\n\r\n    @Test\r\n    void dtoToEntity() {\r\n\r\n        User user = new User();\r\n        user.setName(&quot;john&quot;);\r\n        user.setSurname(&quot;doe&quot;);\r\n        user.setIdentityNo(&quot;11111111111&quot;);\r\n        user.setRole(new Role(&quot;ROLE_ADMIN&quot;));\r\n\r\n        UserDTO dto = mapper.entityToDto(user);\r\n\r\n        Assertions.assertEquals(user.getName(), dto.getName());\r\n        Assertions.assertEquals(user.getSurname(), dto.getSurname());\r\n        Assertions.assertEquals(user.getIdentityNo(), dto.getUserIdentity());\r\n        Assertions.assertEquals(user.getRole().getName(), dto.getRoleDTO().getName());\r\n    }\r\n}\r\n```\r\n\r\nHowever, NullPointerException is thrown on the line where roleMapper is called in automatically generated impl class **UserMapperImpl**:\r\n\r\n[![img][1]][1]\r\n\r\nit comes to my basic problem, *how to mock or autowire a nested mapper class?*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v42Fj.png","title":"How to mock MapStruct nested mapper in JUnit5","body":"<p>I have been searching a solution for about a day now. I still cannot produce a working example.</p>\n<p>My problem is simple. I have a mapper uses another mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = {RoleMapper.class})\npublic interface UserMapper {\n\n    /**\n     * Converts User DTO to User JPA Entity\n     * @Mapping annotation is used to convert fields with different names\n     * @param dto\n     * @return\n     */\n    @Mappings({\n            @Mapping(target = &quot;identityNo&quot;, source = &quot;dto.userIdentity&quot;),\n            @Mapping(target = &quot;role&quot;, source = &quot;dto.roleDTO&quot;)\n    })\n    User dtoToEntity(UserDTO dto);\n\n    /**\n     * Converts User JPA Entity to User DTO\n     * @Mapping annotation is used to convert fields with different names\n     * @param entity\n     * @return\n     */\n    @Mappings({\n            @Mapping(target = &quot;userIdentity&quot;, source = &quot;entity.identityNo&quot;),\n            @Mapping(target = &quot;roleDTO&quot;, source = &quot;entity.role&quot;)\n    })\n    UserDTO entityToDto(User entity);\n\n}\n\n</code></pre>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface RoleMapper {\n\n    Role roleDtoToEntity(RoleDTO dto);\n    RoleDTO roleEntityToDto(Role entity);\n}\n\n</code></pre>\n<p>My test class which tests mapper works as it should:</p>\n<pre><code>class UserMapperTest {\n\n    private UserMapper mapper = Mappers.getMapper(UserMapper.class);\n\n    @Test\n    void dtoToEntity() {\n\n        User user = new User();\n        user.setName(&quot;john&quot;);\n        user.setSurname(&quot;doe&quot;);\n        user.setIdentityNo(&quot;11111111111&quot;);\n        user.setRole(new Role(&quot;ROLE_ADMIN&quot;));\n\n        UserDTO dto = mapper.entityToDto(user);\n\n        Assertions.assertEquals(user.getName(), dto.getName());\n        Assertions.assertEquals(user.getSurname(), dto.getSurname());\n        Assertions.assertEquals(user.getIdentityNo(), dto.getUserIdentity());\n        Assertions.assertEquals(user.getRole().getName(), dto.getRoleDTO().getName());\n    }\n}\n</code></pre>\n<p>However, NullPointerException is thrown on the line where roleMapper is called in automatically generated impl class <strong>UserMapperImpl</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/v42Fj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v42Fj.png\" alt=\"img\" /></a></p>\n<p>it comes to my basic problem, <em>how to mock or autowire a nested mapper class?</em></p>\n"},{"tags":["java","android","xml","shadow","bottom-sheet"],"answers":[{"tags":[],"owner":{"account_id":11779404,"reputation":764,"user_id":8619606,"display_name":"Kirguduck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654095840,"creation_date":1654095840,"answer_id":72464112,"question_id":71514855,"body_markdown":"add  \r\n\r\n     android:elevation=&quot;15dp&quot;\r\n     android:outlineProvider=&quot;bounds&quot;\r\n\r\nto your `bottomsheet` viewgroup(RelativeLayout)","title":"Make bottom sheet have a shadow at the top android studio","body":"<p>add</p>\n<pre><code> android:elevation=&quot;15dp&quot;\n android:outlineProvider=&quot;bounds&quot;\n</code></pre>\n<p>to your <code>bottomsheet</code> viewgroup(RelativeLayout)</p>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654106969,"creation_date":1647530553,"question_id":71514855,"body_markdown":"I am having a `bottom sheet` and i would like the top to have a `shadow` because the back fragment is white and the bottom sheet is also white and is confusing\r\n\r\nBelow is the code of the bottom sheet \r\n\r\n```\r\n\r\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/bottom_sheet&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:behavior_hideable=&quot;true&quot;\r\n    app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/bottomsheet&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Bottom Sheet Text&quot;\r\n            android:textSize=&quot;30sp&quot;/&gt;\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n```\r\n","title":"Make bottom sheet have a shadow at the top android studio","body":"<p>I am having a <code>bottom sheet</code> and i would like the top to have a <code>shadow</code> because the back fragment is white and the bottom sheet is also white and is confusing</p>\n<p>Below is the code of the bottom sheet</p>\n<pre><code>\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/bottom_sheet&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:behavior_hideable=&quot;true&quot;\n    app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/bottomsheet&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Bottom Sheet Text&quot;\n            android:textSize=&quot;30sp&quot;/&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1654074913,"post_id":72459221,"comment_id":128003232,"body_markdown":"persist assumes a new entity, where as merge does more checks to validate existing objects. Instead of `em.find` you could do `em.getReference` which will get you a lazy proxy of the object (and eventually a query).","body":"persist assumes a new entity, where as merge does more checks to validate existing objects. Instead of <code>em.find</code> you could do <code>em.getReference</code> which will get you a lazy proxy of the object (and eventually a query)."},{"owner":{"account_id":2106266,"reputation":5117,"user_id":1872540,"display_name":"LovaBill"},"score":0,"creation_date":1654077571,"post_id":72459221,"comment_id":128004262,"body_markdown":"Hi Deinum. I create a new entity with FK to an existing one (from a &#39;picklist&#39;). What I want is after the save, to get all the data. I don&#39;t want to be optimal in performance terms, but the opposite: get the whole FK entity in response. Thanks.","body":"Hi Deinum. I create a new entity with FK to an existing one (from a &#39;picklist&#39;). What I want is after the save, to get all the data. I don&#39;t want to be optimal in performance terms, but the opposite: get the whole FK entity in response. Thanks."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654077673,"post_id":72459221,"comment_id":128004298,"body_markdown":"Which you get with an `em.merge` already...","body":"Which you get with an <code>em.merge</code> already..."},{"owner":{"account_id":2106266,"reputation":5117,"user_id":1872540,"display_name":"LovaBill"},"score":0,"creation_date":1654077887,"post_id":72459221,"comment_id":128004388,"body_markdown":"em.merge does not work with new entities. This will produce an error about detouched entity or not-null column. I want to execute a single save operation on the &quot;Task&quot;. Some intermediate &#39;merging&#39; is what I&#39;m looking for! But in a one-liner solution. :) Or at least someone tell me, why em.persist stores the related entity, but does not eagerly merges it in the response.","body":"em.merge does not work with new entities. This will produce an error about detouched entity or not-null column. I want to execute a single save operation on the &quot;Task&quot;. Some intermediate &#39;merging&#39; is what I&#39;m looking for! But in a one-liner solution. :) Or at least someone tell me, why em.persist stores the related entity, but does not eagerly merges it in the response."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654081567,"post_id":72459221,"comment_id":128005731,"body_markdown":"Which is why you should use the `em.getReference` for the relation and **not** `new TaskType(&quot;ddfsjkfd&quot;)`. It stores it because it is a new entity and not an existing one.","body":"Which is why you should use the <code>em.getReference</code> for the relation and <b>not</b> <code>new TaskType(&quot;ddfsjkfd&quot;)</code>. It stores it because it is a new entity and not an existing one."},{"owner":{"account_id":2106266,"reputation":5117,"user_id":1872540,"display_name":"LovaBill"},"score":0,"creation_date":1654084913,"post_id":72459221,"comment_id":128006863,"body_markdown":"I already said that by merging the existing one will work for me.But  I am not looking for this answer. I want to understand why em.persist vs em.merge with the same input, produces different output. I don&#39;t want to merge it myself. I want to understand the reason hibernate does it for em.mege and it doesn&#39;t do it for em.persist.","body":"I already said that by merging the existing one will work for me.But  I am not looking for this answer. I want to understand why em.persist vs em.merge with the same input, produces different output. I don&#39;t want to merge it myself. I want to understand the reason hibernate does it for em.mege and it doesn&#39;t do it for em.persist."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654085305,"post_id":72459221,"comment_id":128007017,"body_markdown":"That I explained in my already first comment.","body":"That I explained in my already first comment."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1654130744,"post_id":72459221,"comment_id":128020678,"body_markdown":"It doesn&#39;t make sense to use merge in this case, but keep in mind that usually this is how it&#39;s supposed to be used: `Task managedTask = (Task) em.merge(task);`","body":"It doesn&#39;t make sense to use merge in this case, but keep in mind that usually this is how it&#39;s supposed to be used: <code>Task managedTask = (Task) em.merge(task);</code>"}],"owner":{"account_id":2106266,"reputation":5117,"user_id":1872540,"display_name":"LovaBill"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654106841,"creation_date":1654074581,"question_id":72459221,"body_markdown":"I have a Task that belongs to a TaskType (no cascade):\r\n\r\n    Task{\r\n     @Id String id;\r\n     \r\n     @ManyToOne TaskType taskType;\r\n    }\r\n\r\nWhen I create a new task, I assign a detached taskType with only the primary key:\r\n\r\n    Task task = new Task();\r\n    task.setTaskType(new TaskType(&quot;study&quot;));  //&quot;Study&quot; task type already exists.\r\n\r\nThe TaskType entries pre-exists in the database. So, I only want to add new Task entries. When I create a new task with \r\n\r\nem.persist(task);\r\n\r\nAs a response, I receive an entity where the taskType has only the primary key. The save is ok, I can check it in my database. The taskType was not modified or duplicated.\r\n\r\nThe problem is that when accessing task.getTaskType() it seems to be a reference of the actual object, i.e. only the PK is loaded. No LAZY query takes place since the default is EAGER.\r\n\r\nWhen I&#39;m updating a task with the exact same steps but using:\r\n    \r\n    em.merge(task); //all data are available after this line\r\n\r\nThe task.taskType now holds all the information of the row.\r\n\r\n\r\nI&#39;m aware that I can first find and set an attached entity of type to my task:\r\n\r\n    task.setTaskType(em.find(TaskType.class, &quot;study&quot;)); //this will fetch all data, not a reference\r\n    em.persist(task); // Now all info is available\r\n\r\nCan someone give me an alternative or an one-liner solution? Or at least explain why this difference exists between em.persist and em.merge when referring a @ManyToOne entity without cascade?","title":"em.persist does not fetch @ManyToOne existing data","body":"<p>I have a Task that belongs to a TaskType (no cascade):</p>\n<pre><code>Task{\n @Id String id;\n \n @ManyToOne TaskType taskType;\n}\n</code></pre>\n<p>When I create a new task, I assign a detached taskType with only the primary key:</p>\n<pre><code>Task task = new Task();\ntask.setTaskType(new TaskType(&quot;study&quot;));  //&quot;Study&quot; task type already exists.\n</code></pre>\n<p>The TaskType entries pre-exists in the database. So, I only want to add new Task entries. When I create a new task with</p>\n<p>em.persist(task);</p>\n<p>As a response, I receive an entity where the taskType has only the primary key. The save is ok, I can check it in my database. The taskType was not modified or duplicated.</p>\n<p>The problem is that when accessing task.getTaskType() it seems to be a reference of the actual object, i.e. only the PK is loaded. No LAZY query takes place since the default is EAGER.</p>\n<p>When I'm updating a task with the exact same steps but using:</p>\n<pre><code>em.merge(task); //all data are available after this line\n</code></pre>\n<p>The task.taskType now holds all the information of the row.</p>\n<p>I'm aware that I can first find and set an attached entity of type to my task:</p>\n<pre><code>task.setTaskType(em.find(TaskType.class, &quot;study&quot;)); //this will fetch all data, not a reference\nem.persist(task); // Now all info is available\n</code></pre>\n<p>Can someone give me an alternative or an one-liner solution? Or at least explain why this difference exists between em.persist and em.merge when referring a @ManyToOne entity without cascade?</p>\n"},{"tags":["javascript","java","reactjs","spring-boot","react-router"],"comments":[{"owner":{"account_id":11418070,"reputation":2294,"user_id":8370370,"accept_rate":20,"display_name":"dee"},"score":0,"creation_date":1624970494,"post_id":68178610,"comment_id":120498020,"body_markdown":"Does this answer your question\nhttps://stackoverflow.com/questions/39331929/spring-catch-all-route-for-index-html","body":"Does this answer your question <a href=\"https://stackoverflow.com/questions/39331929/spring-catch-all-route-for-index-html\" title=\"spring catch all route for index html\">stackoverflow.com/questions/39331929/&hellip;</a>"},{"owner":{"account_id":3781656,"reputation":464,"user_id":3448304,"accept_rate":44,"display_name":"Jurass"},"score":0,"creation_date":1625052276,"post_id":68178610,"comment_id":120523331,"body_markdown":"Unfortunatelly it doesn&#39;t.","body":"Unfortunatelly it doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":15616901,"reputation":647,"user_id":11266880,"display_name":"ehhc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624970102,"creation_date":1624970102,"answer_id":68178780,"question_id":68178610,"body_markdown":"I think what you&#39;re looking for is a ResourceHandler https://www.baeldung.com/spring-mvc-static-resources#3-chaining-resourceresolvers resp. https://github.com/eugenp/tutorials/blob/c9882f2090e918d0f441eeebf1f456e89dda2a17/spring-static-resources/src/main/java/com/baeldung/spring/MvcConfig.java#L57\r\n\r\nHope that helps you to have a starting point for your research :) ","title":"Serve static folder with Spring Boot and React Router","body":"<p>I think what you're looking for is a ResourceHandler <a href=\"https://www.baeldung.com/spring-mvc-static-resources#3-chaining-resourceresolvers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-static-resources#3-chaining-resourceresolvers</a> resp. <a href=\"https://github.com/eugenp/tutorials/blob/c9882f2090e918d0f441eeebf1f456e89dda2a17/spring-static-resources/src/main/java/com/baeldung/spring/MvcConfig.java#L57\" rel=\"nofollow noreferrer\">https://github.com/eugenp/tutorials/blob/c9882f2090e918d0f441eeebf1f456e89dda2a17/spring-static-resources/src/main/java/com/baeldung/spring/MvcConfig.java#L57</a></p>\n<p>Hope that helps you to have a starting point for your research :)</p>\n"},{"tags":[],"owner":{"account_id":3781656,"reputation":464,"user_id":3448304,"accept_rate":44,"display_name":"Jurass"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1625211442,"creation_date":1625052085,"answer_id":68193822,"question_id":68178610,"body_markdown":"After lot of research and trying various approaches I have come to conclusion that the simplest solution would be to implement Filter and handle serving of static web files on my own, which bypasses the Spring&#39;s handling:\r\n\r\n    @Component\r\n    public class StaticContentFilter implements Filter {\r\n        \r\n        private List&lt;String&gt; fileExtensions = Arrays.asList(&quot;html&quot;, &quot;js&quot;, &quot;json&quot;, &quot;csv&quot;, &quot;css&quot;, &quot;png&quot;, &quot;svg&quot;, &quot;eot&quot;, &quot;ttf&quot;, &quot;woff&quot;, &quot;appcache&quot;, &quot;jpg&quot;, &quot;jpeg&quot;, &quot;gif&quot;, &quot;ico&quot;);\r\n        \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            doFilter((HttpServletRequest) request, (HttpServletResponse) response, chain);\r\n        }\r\n        \r\n        private void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            String path = request.getServletPath();\r\n            \r\n            boolean isApi = path.startsWith(&quot;/api&quot;);\r\n            boolean isResourceFile = !isApi &amp;&amp; fileExtensions.stream().anyMatch(path::contains);\r\n            \r\n            if (isApi) {\r\n                chain.doFilter(request, response);\r\n            } else if (isResourceFile) {\r\n                resourceToResponse(&quot;static&quot; + path, response);\r\n            } else {\r\n                resourceToResponse(&quot;static/index.html&quot;, response);\r\n            }\r\n        }\r\n        \r\n        private void resourceToResponse(String resourcePath, HttpServletResponse response) throws IOException {\r\n            InputStream inputStream = Thread.currentThread()\r\n                    .getContextClassLoader()\r\n                    .getResourceAsStream(resourcePath);\r\n            \r\n            if (inputStream == null) {\r\n                response.sendError(NOT_FOUND.value(), NOT_FOUND.getReasonPhrase());\r\n                return;\r\n            }\r\n            \r\n            inputStream.transferTo(response.getOutputStream());\r\n        }\r\n    }","title":"Serve static folder with Spring Boot and React Router","body":"<p>After lot of research and trying various approaches I have come to conclusion that the simplest solution would be to implement Filter and handle serving of static web files on my own, which bypasses the Spring's handling:</p>\n<pre><code>@Component\npublic class StaticContentFilter implements Filter {\n    \n    private List&lt;String&gt; fileExtensions = Arrays.asList(&quot;html&quot;, &quot;js&quot;, &quot;json&quot;, &quot;csv&quot;, &quot;css&quot;, &quot;png&quot;, &quot;svg&quot;, &quot;eot&quot;, &quot;ttf&quot;, &quot;woff&quot;, &quot;appcache&quot;, &quot;jpg&quot;, &quot;jpeg&quot;, &quot;gif&quot;, &quot;ico&quot;);\n    \n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        doFilter((HttpServletRequest) request, (HttpServletResponse) response, chain);\n    }\n    \n    private void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n        String path = request.getServletPath();\n        \n        boolean isApi = path.startsWith(&quot;/api&quot;);\n        boolean isResourceFile = !isApi &amp;&amp; fileExtensions.stream().anyMatch(path::contains);\n        \n        if (isApi) {\n            chain.doFilter(request, response);\n        } else if (isResourceFile) {\n            resourceToResponse(&quot;static&quot; + path, response);\n        } else {\n            resourceToResponse(&quot;static/index.html&quot;, response);\n        }\n    }\n    \n    private void resourceToResponse(String resourcePath, HttpServletResponse response) throws IOException {\n        InputStream inputStream = Thread.currentThread()\n                .getContextClassLoader()\n                .getResourceAsStream(resourcePath);\n        \n        if (inputStream == null) {\n            response.sendError(NOT_FOUND.value(), NOT_FOUND.getReasonPhrase());\n            return;\n        }\n        \n        inputStream.transferTo(response.getOutputStream());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1339086,"reputation":79,"user_id":1281158,"display_name":"Tom&#225;Å¡ Johan Pr&#237;trsk&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654105865,"creation_date":1654105865,"answer_id":72466110,"question_id":68178610,"body_markdown":"Jurass&#39;s answer worked for me, but I needed to set ContentType headers. Without correct headers the browser would print the HTML as text in quotes. This is how I enabled natural paths in React. \r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    @Component\r\n    public class StaticContentFilter implements Filter {\r\n    \r\n        private List&lt;String&gt; fileExtensions = Arrays.asList(&quot;html&quot;, &quot;js&quot;, &quot;json&quot;, &quot;csv&quot;, &quot;css&quot;, &quot;png&quot;, &quot;svg&quot;, &quot;eot&quot;, &quot;ttf&quot;, &quot;woff&quot;, &quot;appcache&quot;, &quot;jpg&quot;, &quot;jpeg&quot;, &quot;gif&quot;, &quot;ico&quot;);\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            doFilter((HttpServletRequest) request, (HttpServletResponse) response, chain);\r\n        }\r\n    \r\n        private void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            String path = request.getServletPath();\r\n    \r\n            boolean isApi = path.startsWith(&quot;/api&quot;);\r\n            boolean isResourceFile = !isApi &amp;&amp; fileExtensions.stream().anyMatch(path::contains);\r\n    \r\n            if (isApi) {\r\n                chain.doFilter(request, response);\r\n            } else if (isResourceFile) {\r\n                resourceToResponse(&quot;static&quot; + path, response);\r\n            } else {\r\n                resourceToResponse(&quot;static/index.html&quot;, response);\r\n            }\r\n        }\r\n    \r\n        private void resourceToResponse(String resourcePath, HttpServletResponse response) throws IOException {\r\n            InputStream inputStream = Thread.currentThread()\r\n                    .getContextClassLoader()\r\n                    .getResourceAsStream(resourcePath);\r\n    \r\n            if (inputStream == null) {\r\n                response.sendError(HttpStatus.NOT_FOUND.value(), HttpStatus.NOT_FOUND.getReasonPhrase());\r\n                return;\r\n            }\r\n\r\n            //headers\r\n            if (resourcePath.endsWith(&quot;.html&quot;)) {\r\n                response.setContentType(&quot;text/html&quot;);\r\n            }\r\n            if (resourcePath.endsWith(&quot;.css&quot;)) {\r\n                response.setContentType(&quot;text/css&quot;);\r\n            }\r\n            if (resourcePath.endsWith(&quot;.js&quot;)) {\r\n                response.setContentType(&quot;text/javascript&quot;);\r\n            }\r\n    \r\n            inputStream.transferTo(response.getOutputStream());\r\n        }\r\n    }\r\n\r\nIf you&#39;ve found a better solution, please let me know.\r\n\r\n","title":"Serve static folder with Spring Boot and React Router","body":"<p>Jurass's answer worked for me, but I needed to set ContentType headers. Without correct headers the browser would print the HTML as text in quotes. This is how I enabled natural paths in React.</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Arrays;\nimport java.util.List;\n\n@Component\npublic class StaticContentFilter implements Filter {\n\n    private List&lt;String&gt; fileExtensions = Arrays.asList(&quot;html&quot;, &quot;js&quot;, &quot;json&quot;, &quot;csv&quot;, &quot;css&quot;, &quot;png&quot;, &quot;svg&quot;, &quot;eot&quot;, &quot;ttf&quot;, &quot;woff&quot;, &quot;appcache&quot;, &quot;jpg&quot;, &quot;jpeg&quot;, &quot;gif&quot;, &quot;ico&quot;);\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        doFilter((HttpServletRequest) request, (HttpServletResponse) response, chain);\n    }\n\n    private void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n        String path = request.getServletPath();\n\n        boolean isApi = path.startsWith(&quot;/api&quot;);\n        boolean isResourceFile = !isApi &amp;&amp; fileExtensions.stream().anyMatch(path::contains);\n\n        if (isApi) {\n            chain.doFilter(request, response);\n        } else if (isResourceFile) {\n            resourceToResponse(&quot;static&quot; + path, response);\n        } else {\n            resourceToResponse(&quot;static/index.html&quot;, response);\n        }\n    }\n\n    private void resourceToResponse(String resourcePath, HttpServletResponse response) throws IOException {\n        InputStream inputStream = Thread.currentThread()\n                .getContextClassLoader()\n                .getResourceAsStream(resourcePath);\n\n        if (inputStream == null) {\n            response.sendError(HttpStatus.NOT_FOUND.value(), HttpStatus.NOT_FOUND.getReasonPhrase());\n            return;\n        }\n\n        //headers\n        if (resourcePath.endsWith(&quot;.html&quot;)) {\n            response.setContentType(&quot;text/html&quot;);\n        }\n        if (resourcePath.endsWith(&quot;.css&quot;)) {\n            response.setContentType(&quot;text/css&quot;);\n        }\n        if (resourcePath.endsWith(&quot;.js&quot;)) {\n            response.setContentType(&quot;text/javascript&quot;);\n        }\n\n        inputStream.transferTo(response.getOutputStream());\n    }\n}\n</code></pre>\n<p>If you've found a better solution, please let me know.</p>\n"}],"owner":{"account_id":3781656,"reputation":464,"user_id":3448304,"accept_rate":44,"display_name":"Jurass"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68193822,"answer_count":3,"score":2,"last_activity_date":1654105865,"creation_date":1624969285,"question_id":68178610,"body_markdown":"I have a React client application which is build and compiled into the Java resource folder\r\n\r\n    src/main/resources/static\r\n\r\nContent of the *static* folder is then served by standard Spring Boot application with no issues.\r\n\r\nHowever, when I will start to use React Router, I need to be able to resolve this path:\r\n\r\n    localhost:8080/userSettingsPage\r\n\r\ninto *index.html*:\r\n\r\n    src/resource/static/index.html\r\n\r\nI&#39;m aware that I can do this in Controller as follow:\r\n\r\n    @Controller\r\n    public class MyController {\r\n        @RequestMapping(&quot;/userSettingsPage&quot;)\r\n        public String getIndex() {\r\n           return &quot;index.html&quot;;\r\n        }\r\n    }\r\n\r\nHowever I would like to specify my Controller in more generic way:\r\n\r\n 1. If URL *{path}* ends with any of *&quot;.html&quot;, &quot;.js&quot;, &quot;.json&quot;, &quot;.csv&quot;, &quot;.css&quot;, &quot;.png&quot;, &quot;.svg&quot;, &quot;.eot&quot;, &quot;.ttf&quot;, &quot;.woff&quot;, &quot;.appcache&quot;, &quot;.jpg&quot;, &quot;.jpeg&quot;, &quot;.gif&quot;, &quot;.ico&quot;*, then return file in */static/{path}*\r\n 2. Else return */static/index.html*\r\n\r\nHow can I achieve it?\r\n","title":"Serve static folder with Spring Boot and React Router","body":"<p>I have a React client application which is build and compiled into the Java resource folder</p>\n<pre><code>src/main/resources/static\n</code></pre>\n<p>Content of the <em>static</em> folder is then served by standard Spring Boot application with no issues.</p>\n<p>However, when I will start to use React Router, I need to be able to resolve this path:</p>\n<pre><code>localhost:8080/userSettingsPage\n</code></pre>\n<p>into <em>index.html</em>:</p>\n<pre><code>src/resource/static/index.html\n</code></pre>\n<p>I'm aware that I can do this in Controller as follow:</p>\n<pre><code>@Controller\npublic class MyController {\n    @RequestMapping(&quot;/userSettingsPage&quot;)\n    public String getIndex() {\n       return &quot;index.html&quot;;\n    }\n}\n</code></pre>\n<p>However I would like to specify my Controller in more generic way:</p>\n<ol>\n<li>If URL <em>{path}</em> ends with any of <em>&quot;.html&quot;, &quot;.js&quot;, &quot;.json&quot;, &quot;.csv&quot;, &quot;.css&quot;, &quot;.png&quot;, &quot;.svg&quot;, &quot;.eot&quot;, &quot;.ttf&quot;, &quot;.woff&quot;, &quot;.appcache&quot;, &quot;.jpg&quot;, &quot;.jpeg&quot;, &quot;.gif&quot;, &quot;.ico&quot;</em>, then return file in <em>/static/{path}</em></li>\n<li>Else return <em>/static/index.html</em></li>\n</ol>\n<p>How can I achieve it?</p>\n"},{"tags":["java","gradle","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":10583924,"reputation":328,"user_id":7796872,"display_name":"Z3RP"},"score":0,"creation_date":1578296790,"post_id":59608312,"comment_id":105380217,"body_markdown":"try to remove the cache with rm `-rf ~/.gradle`. For me it looks like you are missing some dependencies. Try to google something like gradle could note resolve dependencies and i think you will find a solution.","body":"try to remove the cache with rm <code>-rf ~&#47;.gradle</code>. For me it looks like you are missing some dependencies. Try to google something like gradle could note resolve dependencies and i think you will find a solution."},{"owner":{"account_id":14609456,"reputation":962,"user_id":10551333,"display_name":"Shantanu Shinde"},"score":0,"creation_date":1578297041,"post_id":59608312,"comment_id":105380302,"body_markdown":"@Z3RP doesn&#39;t help. I am still getting the same error. I even tried different version of minecraft forge. still same error","body":"@Z3RP doesn&#39;t help. I am still getting the same error. I even tried different version of minecraft forge. still same error"},{"owner":{"account_id":10583924,"reputation":328,"user_id":7796872,"display_name":"Z3RP"},"score":0,"creation_date":1578297169,"post_id":59608312,"comment_id":105380337,"body_markdown":"Can you show us your gradle configuration ?","body":"Can you show us your gradle configuration ?"},{"owner":{"account_id":14609456,"reputation":962,"user_id":10551333,"display_name":"Shantanu Shinde"},"score":0,"creation_date":1578297404,"post_id":59608312,"comment_id":105380407,"body_markdown":"@Z3RP how do I show the configuration? I have not downloaded the gradle separately. I am using the same that comes with minecraft forge","body":"@Z3RP how do I show the configuration? I have not downloaded the gradle separately. I am using the same that comes with minecraft forge"},{"owner":{"account_id":10583924,"reputation":328,"user_id":7796872,"display_name":"Z3RP"},"score":0,"creation_date":1578298398,"post_id":59608312,"comment_id":105380697,"body_markdown":"there must be  a gradle.build file. That is the config file","body":"there must be  a gradle.build file. That is the config file"},{"owner":{"account_id":14609456,"reputation":962,"user_id":10551333,"display_name":"Shantanu Shinde"},"score":0,"creation_date":1578298588,"post_id":59608312,"comment_id":105380770,"body_markdown":"@Z3RP I added the contents of build.gradle file to the question.","body":"@Z3RP I added the contents of build.gradle file to the question."},{"owner":{"account_id":10583924,"reputation":328,"user_id":7796872,"display_name":"Z3RP"},"score":0,"creation_date":1578298982,"post_id":59608312,"comment_id":105380901,"body_markdown":"Can you try this configuration or just to change the repo url\n[gradle.build](https://gist.github.com/Runemoro/f8ea27bece4806d8169c47ff8dcdf69a)","body":"Can you try this configuration or just to change the repo url <a href=\"https://gist.github.com/Runemoro/f8ea27bece4806d8169c47ff8dcdf69a\" rel=\"nofollow noreferrer\">gradle.build</a>"},{"owner":{"account_id":14609456,"reputation":962,"user_id":10551333,"display_name":"Shantanu Shinde"},"score":0,"creation_date":1578305836,"post_id":59608312,"comment_id":105383831,"body_markdown":"@Z3RP I replaced the repositories and dependencies part as per the repo. but now I get error the implementation() for the first implementation in the dependencies could not be found","body":"@Z3RP I replaced the repositories and dependencies part as per the repo. but now I get error the implementation() for the first implementation in the dependencies could not be found"},{"owner":{"account_id":540166,"reputation":15708,"user_id":1663383,"accept_rate":54,"display_name":"Draco18s no longer trusts SE"},"score":0,"creation_date":1578326563,"post_id":59608312,"comment_id":105393601,"body_markdown":"You might get better help on the [forge forums](https://www.minecraftforge.net/forum/forum/70-modder-support/).","body":"You might get better help on the <a href=\"https://www.minecraftforge.net/forum/forum/70-modder-support/\" rel=\"nofollow noreferrer\">forge forums</a>."},{"owner":{"account_id":14609456,"reputation":962,"user_id":10551333,"display_name":"Shantanu Shinde"},"score":0,"creation_date":1578327497,"post_id":59608312,"comment_id":105394143,"body_markdown":"@Draco18snolongertrustsSE I have already posted it there. I thought posting at both sites, so it will be resolved relatively faster","body":"@Draco18snolongertrustsSE I have already posted it there. I thought posting at both sites, so it will be resolved relatively faster"},{"owner":{"account_id":540166,"reputation":15708,"user_id":1663383,"accept_rate":54,"display_name":"Draco18s no longer trusts SE"},"score":0,"creation_date":1578332374,"post_id":59608312,"comment_id":105396429,"body_markdown":"I had made a cursory check and didn&#39;t see a thread that matched (no similar user name and only seemingly related thread had a different error).","body":"I had made a cursory check and didn&#39;t see a thread that matched (no similar user name and only seemingly related thread had a different error)."},{"owner":{"account_id":14609456,"reputation":962,"user_id":10551333,"display_name":"Shantanu Shinde"},"score":0,"creation_date":1578356812,"post_id":59608312,"comment_id":105404789,"body_markdown":"@Draco18snolongertrustsSE https://www.minecraftforge.net/forum/topic/79450-build-failed-with-exception-error-of-setting-up-workspace/?tab=comments#comment-379458 this one","body":"@Draco18snolongertrustsSE <a href=\"https://www.minecraftforge.net/forum/topic/79450-build-failed-with-exception-error-of-setting-up-workspace/?tab=comments#comment-379458\" rel=\"nofollow noreferrer\">minecraftforge.net/forum/topic/&hellip;</a> this one"},{"owner":{"account_id":14609456,"reputation":962,"user_id":10551333,"display_name":"Shantanu Shinde"},"score":0,"creation_date":1578356907,"post_id":59608312,"comment_id":105404809,"body_markdown":"@Draco18snolongertrustsSE also,now other things are working but I am  getting error that `client-extra.jar` could not be found. and it showed a folder where it searched and it doesn&#39;t have that file","body":"@Draco18snolongertrustsSE also,now other things are working but I am  getting error that <code>client-extra.jar</code> could not be found. and it showed a folder where it searched and it doesn&#39;t have that file"},{"owner":{"account_id":540166,"reputation":15708,"user_id":1663383,"accept_rate":54,"display_name":"Draco18s no longer trusts SE"},"score":0,"creation_date":1578362084,"post_id":59608312,"comment_id":105405810,"body_markdown":"It should be generated by the setup/decomp process.","body":"It should be generated by the setup/decomp process."},{"owner":{"account_id":14609456,"reputation":962,"user_id":10551333,"display_name":"Shantanu Shinde"},"score":0,"creation_date":1578362591,"post_id":59608312,"comment_id":105405913,"body_markdown":"@Draco18snolongertrustsSE should the `.\\gradlew setupDecompWorkspace` command be used first or just `.\\gradlew eclipse` is enough?","body":"@Draco18snolongertrustsSE should the <code>.\\gradlew setupDecompWorkspace</code> command be used first or just <code>.\\gradlew eclipse</code> is enough?"}],"answers":[{"tags":[],"owner":{"account_id":18491200,"reputation":1,"user_id":13470753,"display_name":"TheSaikos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588634433,"creation_date":1588634433,"answer_id":61603249,"question_id":59608312,"body_markdown":"I think the gradle version you are using is too high.Youre currently using gradle 5.0 and you should try to use gradle 4.9.\r\n","title":"Error on setting up workspace for Minecraft modding","body":"<p>I think the gradle version you are using is too high.Youre currently using gradle 5.0 and you should try to use gradle 4.9.</p>\n"},{"tags":[],"owner":{"account_id":16505150,"reputation":1,"user_id":11925357,"display_name":"Tehcn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602377478,"creation_date":1602377478,"answer_id":64299676,"question_id":59608312,"body_markdown":"The solution that worked for me is simple instead of `gradlew setupDecompWorkspace`, use `gradlew eclipse`. For those of you who found this as a result on google, it won&#39;t with Intellij.","title":"Error on setting up workspace for Minecraft modding","body":"<p>The solution that worked for me is simple instead of <code>gradlew setupDecompWorkspace</code>, use <code>gradlew eclipse</code>. For those of you who found this as a result on google, it won't with Intellij.</p>\n"},{"tags":[],"owner":{"account_id":21768508,"reputation":41,"user_id":16071989,"display_name":"Bluesillybeard2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654104633,"creation_date":1654104633,"answer_id":72465908,"question_id":59608312,"body_markdown":"Replacing every instance of &quot;http://files.minecraftforge.net/maven&quot; with &quot;https://libraries.minecraft.net&quot; in build.gradle fixed it for me.\r\n","title":"Error on setting up workspace for Minecraft modding","body":"<p>Replacing every instance of &quot;http://files.minecraftforge.net/maven&quot; with &quot;https://libraries.minecraft.net&quot; in build.gradle fixed it for me.</p>\n"}],"owner":{"account_id":14609456,"reputation":962,"user_id":10551333,"display_name":"Shantanu Shinde"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6180,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1654104633,"creation_date":1578296382,"question_id":59608312,"body_markdown":"I am trying to set up the workspace for creating mods for Minecraft. I installed JRE, installed JDK 8. I installed eclipse. I downloaded the latest mdk file of minecraft forge. I setup the environment variables for JDK. I extracted the forge zip file. I opened powershell in the extracted forge folder. I ran the command `.\\gradlew setupDecompWorkspace`. I am getting the following error:\r\n\r\n    &gt; FAILURE: Build failed with an exception.\r\n    &gt; \r\n    &gt; * What went wrong: A problem occurred configuring root project &#39;First Mod&#39;.\r\n    &gt; &gt; Could not resolve all files for configuration &#39;:_compileJava_1&#39;.\r\n    &gt;    &gt; Could not resolve com.mojang:patchy:1.1.\r\n    &gt;      Required by:\r\n    &gt;          project : &gt; net.minecraft:client:1.15.1\r\n    &gt;       &gt; Skipped due to earlier error\r\n    &gt;    &gt; Could not resolve oshi-project:oshi-core:1.1.\r\n    &gt;      Required by:\r\n    &gt;          project : &gt; net.minecraft:client:1.15.1\r\n    &gt;       &gt; Skipped due to earlier error\r\n    &gt;    &gt; Could not resolve com.ibm.icu:icu4j-core-mojang:51.2.\r\n    &gt;      Required by:\r\n    &gt;          project : &gt; net.minecraft:client:1.15.1\r\n    &gt;       &gt; Skipped due to earlier error\r\n    &gt;    &gt; Could not resolve com.mojang:javabridge:1.0.22.\r\n    &gt;      Required by:\r\n    &gt;          project : &gt; net.minecraft:client:1.15.1\r\n    &gt;       &gt; Skipped due to earlier error\r\n    &gt;    &gt; Could not resolve com.mojang:brigadier:1.0.17.\r\n    &gt;      Required by:\r\n    &gt;          project : &gt; net.minecraft:client:1.15.1\r\n    &gt;       &gt; Skipped due to earlier error\r\n    &gt;    &gt; Could not resolve com.mojang:datafixerupper:2.0.24.\r\n    &gt;      Required by:\r\n    &gt;          project : &gt; net.minecraft:client:1.15.1\r\n    &gt;       &gt; Skipped due to earlier error\r\n    &gt;    &gt; Could not resolve com.mojang:authlib:1.5.25.\r\n    &gt;      Required by:\r\n    &gt;          project : &gt; net.minecraft:client:1.15.1\r\n    &gt;       &gt; Skipped due to earlier error\r\n    &gt;    &gt; Could not resolve com.mojang:text2speech:1.11.3.\r\n    &gt;      Required by:\r\n    &gt;          project : &gt; net.minecraft:client:1.15.1\r\n    &gt;       &gt; Skipped due to earlier error\r\n    &gt; \r\n    &gt; * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    &gt; \r\n    &gt; * Get more help at https://help.gradle.org\r\n    &gt; \r\n    &gt; Deprecated Gradle features were used in this build, making it\r\n    &gt; incompatible with Gradle 5.0. Use &#39;--warning-mode all&#39; to show the\r\n    &gt; individual deprecation warnings. See\r\n    &gt; https://docs.gradle.org/4.9/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nHow do I fix this error? I even tried the other command that I found online. &quot;.\\gradlew genEclipseRuns` this gives the following error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    A problem occurred configuring root project &#39;First Mod&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:_compileJava_1&#39;.\r\n       &gt; Could not resolve com.mojang:patchy:1.1.\r\n         Required by:\r\n             project : &gt; net.minecraft:client:1.15.1\r\n          &gt; Skipped due to earlier error\r\n       &gt; Could not resolve oshi-project:oshi-core:1.1.\r\n         Required by:\r\n             project : &gt; net.minecraft:client:1.15.1\r\n          &gt; Skipped due to earlier error\r\n       &gt; Could not resolve com.ibm.icu:icu4j-core-mojang:51.2.\r\n         Required by:\r\n             project : &gt; net.minecraft:client:1.15.1\r\n          &gt; Skipped due to earlier error\r\n       &gt; Could not resolve com.mojang:javabridge:1.0.22.\r\n         Required by:\r\n             project : &gt; net.minecraft:client:1.15.1\r\n          &gt; Skipped due to earlier error\r\n       &gt; Could not resolve com.mojang:brigadier:1.0.17.\r\n         Required by:\r\n             project : &gt; net.minecraft:client:1.15.1\r\n          &gt; Skipped due to earlier error\r\n       &gt; Could not resolve com.mojang:datafixerupper:2.0.24.\r\n         Required by:\r\n             project : &gt; net.minecraft:client:1.15.1\r\n          &gt; Skipped due to earlier error\r\n       &gt; Could not resolve com.mojang:authlib:1.5.25.\r\n         Required by:\r\n             project : &gt; net.minecraft:client:1.15.1\r\n          &gt; Skipped due to earlier error\r\n       &gt; Could not resolve com.mojang:text2speech:1.11.3.\r\n         Required by:\r\n             project : &gt; net.minecraft:client:1.15.1\r\n          &gt; Skipped due to earlier error\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/4.9/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 44s\r\n\r\nThis is the gradle.build file present in the minecraft forge folder:\r\n\r\n    buildscript {\r\n        repositories {\r\n            maven { url = &#39;https://files.minecraftforge.net/maven&#39; }\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath group: &#39;net.minecraftforge.gradle&#39;, name: &#39;ForgeGradle&#39;, version: &#39;3.+&#39;, changing: true\r\n        }\r\n    }\r\n    apply plugin: &#39;net.minecraftforge.gradle&#39;\r\n    // Only edit below this line, the above code adds and enables the necessary things for Forge to be setup.\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    \r\n    version = &#39;1.0&#39;\r\n    group = &#39;com.yourname.modid&#39; // http://maven.apache.org/guides/mini/guide-naming-conventions.html\r\n    archivesBaseName = &#39;modid&#39;\r\n    \r\n    sourceCompatibility = targetCompatibility = compileJava.sourceCompatibility = compileJava.targetCompatibility = &#39;1.8&#39; // Need this here so eclipse task generates correctly.\r\n    \r\n    minecraft {\r\n        // The mappings can be changed at any time, and must be in the following format.\r\n        // snapshot_YYYYMMDD   Snapshot are built nightly.\r\n        // stable_#            Stables are built at the discretion of the MCP team.\r\n        // Use non-default mappings at your own risk. they may not always work.\r\n        // Simply re-run your setup task after changing the mappings to update your workspace.\r\n        mappings channel: &#39;snapshot&#39;, version: &#39;20190719-1.14.3&#39;\r\n        // makeObfSourceJar = false // an Srg named sources jar is made by default. uncomment this to disable.\r\n        \r\n        // accessTransformer = file(&#39;src/main/resources/META-INF/accesstransformer.cfg&#39;)\r\n    \r\n        // Default run configurations.\r\n        // These can be tweaked, removed, or duplicated as needed.\r\n        runs {\r\n            client {\r\n                workingDirectory project.file(&#39;run&#39;)\r\n    \r\n                // Recommended logging data for a userdev environment\r\n                property &#39;forge.logging.markers&#39;, &#39;SCAN,REGISTRIES,REGISTRYDUMP&#39;\r\n    \r\n                // Recommended logging level for the console\r\n                property &#39;forge.logging.console.level&#39;, &#39;debug&#39;\r\n    \r\n                mods {\r\n                    examplemod {\r\n                        source sourceSets.main\r\n                    }\r\n                }\r\n            }\r\n    \r\n            server {\r\n                workingDirectory project.file(&#39;run&#39;)\r\n    \r\n                // Recommended logging data for a userdev environment\r\n                property &#39;forge.logging.markers&#39;, &#39;SCAN,REGISTRIES,REGISTRYDUMP&#39;\r\n    \r\n                // Recommended logging level for the console\r\n                property &#39;forge.logging.console.level&#39;, &#39;debug&#39;\r\n    \r\n                mods {\r\n                    examplemod {\r\n                        source sourceSets.main\r\n                    }\r\n                }\r\n            }\r\n    \r\n            data {\r\n                workingDirectory project.file(&#39;run&#39;)\r\n    \r\n                // Recommended logging data for a userdev environment\r\n                property &#39;forge.logging.markers&#39;, &#39;SCAN,REGISTRIES,REGISTRYDUMP&#39;\r\n    \r\n                // Recommended logging level for the console\r\n                property &#39;forge.logging.console.level&#39;, &#39;debug&#39;\r\n    \r\n                args &#39;--mod&#39;, &#39;examplemod&#39;, &#39;--all&#39;, &#39;--output&#39;, file(&#39;src/generated/resources/&#39;)\r\n    \r\n                mods {\r\n                    examplemod {\r\n                        source sourceSets.main\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        // Specify the version of Minecraft to use, If this is any group other then &#39;net.minecraft&#39; it is assumed\r\n        // that the dep is a ForgeGradle &#39;patcher&#39; dependency. And it&#39;s patches will be applied.\r\n        // The userdev artifact is a special name and will get all sorts of transformations applied to it.\r\n        minecraft &#39;net.minecraftforge:forge:1.15.1-30.0.26&#39;\r\n    \r\n        // You may put jars on which you depend on in ./libs or you may define them like so..\r\n        // compile &quot;some.group:artifact:version:classifier&quot;\r\n        // compile &quot;some.group:artifact:version&quot;\r\n    \r\n        // Real examples\r\n        // compile &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;  // adds buildcraft to the dev env\r\n        // compile &#39;com.googlecode.efficient-java-matrix-library:ejml:0.24&#39; // adds ejml to the dev env\r\n    \r\n        // The &#39;provided&#39; configuration is for optional dependencies that exist at compile-time but might not at runtime.\r\n        // provided &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;\r\n    \r\n        // These dependencies get remapped to your current MCP mappings\r\n        // deobf &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;\r\n    \r\n        // For more info...\r\n        // http://www.gradle.org/docs/current/userguide/artifact_dependencies_tutorial.html\r\n        // http://www.gradle.org/docs/current/userguide/dependency_management.html\r\n    \r\n    }\r\n    \r\n    // Example for how to get properties into the manifest for reading by the runtime..\r\n    jar {\r\n        manifest {\r\n            attributes([\r\n                &quot;Specification-Title&quot;: &quot;examplemod&quot;,\r\n                &quot;Specification-Vendor&quot;: &quot;examplemodsareus&quot;,\r\n                &quot;Specification-Version&quot;: &quot;1&quot;, // We are version 1 of ourselves\r\n                &quot;Implementation-Title&quot;: project.name,\r\n                &quot;Implementation-Version&quot;: &quot;${version}&quot;,\r\n                &quot;Implementation-Vendor&quot; :&quot;examplemodsareus&quot;,\r\n                &quot;Implementation-Timestamp&quot;: new Date().format(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n            ])\r\n        }\r\n    }\r\n    \r\n    // Example configuration to allow publishing using the maven-publish task\r\n    // we define a custom artifact that is sourced from the reobfJar output task\r\n    // and then declare that to be published\r\n    // Note you&#39;ll need to add a repository here\r\n    def reobfFile = file(&quot;$buildDir/reobfJar/output.jar&quot;)\r\n    def reobfArtifact = artifacts.add(&#39;default&#39;, reobfFile) {\r\n        type &#39;jar&#39;\r\n        builtBy &#39;reobfJar&#39;\r\n    }\r\n    publishing {\r\n        publications {\r\n            mavenJava(MavenPublication) {\r\n                artifact reobfArtifact\r\n            }\r\n        }\r\n        repositories {\r\n            maven {\r\n                url &quot;file:///${project.projectDir}/mcmodsrepo&quot;\r\n            }\r\n        }\r\n    }","title":"Error on setting up workspace for Minecraft modding","body":"<p>I am trying to set up the workspace for creating mods for Minecraft. I installed JRE, installed JDK 8. I installed eclipse. I downloaded the latest mdk file of minecraft forge. I setup the environment variables for JDK. I extracted the forge zip file. I opened powershell in the extracted forge folder. I ran the command <code>.\\gradlew setupDecompWorkspace</code>. I am getting the following error:</p>\n\n<pre><code>&gt; FAILURE: Build failed with an exception.\n&gt; \n&gt; * What went wrong: A problem occurred configuring root project 'First Mod'.\n&gt; &gt; Could not resolve all files for configuration ':_compileJava_1'.\n&gt;    &gt; Could not resolve com.mojang:patchy:1.1.\n&gt;      Required by:\n&gt;          project : &gt; net.minecraft:client:1.15.1\n&gt;       &gt; Skipped due to earlier error\n&gt;    &gt; Could not resolve oshi-project:oshi-core:1.1.\n&gt;      Required by:\n&gt;          project : &gt; net.minecraft:client:1.15.1\n&gt;       &gt; Skipped due to earlier error\n&gt;    &gt; Could not resolve com.ibm.icu:icu4j-core-mojang:51.2.\n&gt;      Required by:\n&gt;          project : &gt; net.minecraft:client:1.15.1\n&gt;       &gt; Skipped due to earlier error\n&gt;    &gt; Could not resolve com.mojang:javabridge:1.0.22.\n&gt;      Required by:\n&gt;          project : &gt; net.minecraft:client:1.15.1\n&gt;       &gt; Skipped due to earlier error\n&gt;    &gt; Could not resolve com.mojang:brigadier:1.0.17.\n&gt;      Required by:\n&gt;          project : &gt; net.minecraft:client:1.15.1\n&gt;       &gt; Skipped due to earlier error\n&gt;    &gt; Could not resolve com.mojang:datafixerupper:2.0.24.\n&gt;      Required by:\n&gt;          project : &gt; net.minecraft:client:1.15.1\n&gt;       &gt; Skipped due to earlier error\n&gt;    &gt; Could not resolve com.mojang:authlib:1.5.25.\n&gt;      Required by:\n&gt;          project : &gt; net.minecraft:client:1.15.1\n&gt;       &gt; Skipped due to earlier error\n&gt;    &gt; Could not resolve com.mojang:text2speech:1.11.3.\n&gt;      Required by:\n&gt;          project : &gt; net.minecraft:client:1.15.1\n&gt;       &gt; Skipped due to earlier error\n&gt; \n&gt; * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n&gt; \n&gt; * Get more help at https://help.gradle.org\n&gt; \n&gt; Deprecated Gradle features were used in this build, making it\n&gt; incompatible with Gradle 5.0. Use '--warning-mode all' to show the\n&gt; individual deprecation warnings. See\n&gt; https://docs.gradle.org/4.9/userguide/command_line_interface.html#sec:command_line_warnings\n</code></pre>\n\n<p>How do I fix this error? I even tried the other command that I found online. \".\\gradlew genEclipseRuns` this gives the following error:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'First Mod'.\n&gt; Could not resolve all files for configuration ':_compileJava_1'.\n   &gt; Could not resolve com.mojang:patchy:1.1.\n     Required by:\n         project : &gt; net.minecraft:client:1.15.1\n      &gt; Skipped due to earlier error\n   &gt; Could not resolve oshi-project:oshi-core:1.1.\n     Required by:\n         project : &gt; net.minecraft:client:1.15.1\n      &gt; Skipped due to earlier error\n   &gt; Could not resolve com.ibm.icu:icu4j-core-mojang:51.2.\n     Required by:\n         project : &gt; net.minecraft:client:1.15.1\n      &gt; Skipped due to earlier error\n   &gt; Could not resolve com.mojang:javabridge:1.0.22.\n     Required by:\n         project : &gt; net.minecraft:client:1.15.1\n      &gt; Skipped due to earlier error\n   &gt; Could not resolve com.mojang:brigadier:1.0.17.\n     Required by:\n         project : &gt; net.minecraft:client:1.15.1\n      &gt; Skipped due to earlier error\n   &gt; Could not resolve com.mojang:datafixerupper:2.0.24.\n     Required by:\n         project : &gt; net.minecraft:client:1.15.1\n      &gt; Skipped due to earlier error\n   &gt; Could not resolve com.mojang:authlib:1.5.25.\n     Required by:\n         project : &gt; net.minecraft:client:1.15.1\n      &gt; Skipped due to earlier error\n   &gt; Could not resolve com.mojang:text2speech:1.11.3.\n     Required by:\n         project : &gt; net.minecraft:client:1.15.1\n      &gt; Skipped due to earlier error\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/4.9/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 44s\n</code></pre>\n\n<p>This is the gradle.build file present in the minecraft forge folder:</p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url = 'https://files.minecraftforge.net/maven' }\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath group: 'net.minecraftforge.gradle', name: 'ForgeGradle', version: '3.+', changing: true\n    }\n}\napply plugin: 'net.minecraftforge.gradle'\n// Only edit below this line, the above code adds and enables the necessary things for Forge to be setup.\napply plugin: 'eclipse'\napply plugin: 'maven-publish'\n\nversion = '1.0'\ngroup = 'com.yourname.modid' // http://maven.apache.org/guides/mini/guide-naming-conventions.html\narchivesBaseName = 'modid'\n\nsourceCompatibility = targetCompatibility = compileJava.sourceCompatibility = compileJava.targetCompatibility = '1.8' // Need this here so eclipse task generates correctly.\n\nminecraft {\n    // The mappings can be changed at any time, and must be in the following format.\n    // snapshot_YYYYMMDD   Snapshot are built nightly.\n    // stable_#            Stables are built at the discretion of the MCP team.\n    // Use non-default mappings at your own risk. they may not always work.\n    // Simply re-run your setup task after changing the mappings to update your workspace.\n    mappings channel: 'snapshot', version: '20190719-1.14.3'\n    // makeObfSourceJar = false // an Srg named sources jar is made by default. uncomment this to disable.\n\n    // accessTransformer = file('src/main/resources/META-INF/accesstransformer.cfg')\n\n    // Default run configurations.\n    // These can be tweaked, removed, or duplicated as needed.\n    runs {\n        client {\n            workingDirectory project.file('run')\n\n            // Recommended logging data for a userdev environment\n            property 'forge.logging.markers', 'SCAN,REGISTRIES,REGISTRYDUMP'\n\n            // Recommended logging level for the console\n            property 'forge.logging.console.level', 'debug'\n\n            mods {\n                examplemod {\n                    source sourceSets.main\n                }\n            }\n        }\n\n        server {\n            workingDirectory project.file('run')\n\n            // Recommended logging data for a userdev environment\n            property 'forge.logging.markers', 'SCAN,REGISTRIES,REGISTRYDUMP'\n\n            // Recommended logging level for the console\n            property 'forge.logging.console.level', 'debug'\n\n            mods {\n                examplemod {\n                    source sourceSets.main\n                }\n            }\n        }\n\n        data {\n            workingDirectory project.file('run')\n\n            // Recommended logging data for a userdev environment\n            property 'forge.logging.markers', 'SCAN,REGISTRIES,REGISTRYDUMP'\n\n            // Recommended logging level for the console\n            property 'forge.logging.console.level', 'debug'\n\n            args '--mod', 'examplemod', '--all', '--output', file('src/generated/resources/')\n\n            mods {\n                examplemod {\n                    source sourceSets.main\n                }\n            }\n        }\n    }\n}\n\ndependencies {\n    // Specify the version of Minecraft to use, If this is any group other then 'net.minecraft' it is assumed\n    // that the dep is a ForgeGradle 'patcher' dependency. And it's patches will be applied.\n    // The userdev artifact is a special name and will get all sorts of transformations applied to it.\n    minecraft 'net.minecraftforge:forge:1.15.1-30.0.26'\n\n    // You may put jars on which you depend on in ./libs or you may define them like so..\n    // compile \"some.group:artifact:version:classifier\"\n    // compile \"some.group:artifact:version\"\n\n    // Real examples\n    // compile 'com.mod-buildcraft:buildcraft:6.0.8:dev'  // adds buildcraft to the dev env\n    // compile 'com.googlecode.efficient-java-matrix-library:ejml:0.24' // adds ejml to the dev env\n\n    // The 'provided' configuration is for optional dependencies that exist at compile-time but might not at runtime.\n    // provided 'com.mod-buildcraft:buildcraft:6.0.8:dev'\n\n    // These dependencies get remapped to your current MCP mappings\n    // deobf 'com.mod-buildcraft:buildcraft:6.0.8:dev'\n\n    // For more info...\n    // http://www.gradle.org/docs/current/userguide/artifact_dependencies_tutorial.html\n    // http://www.gradle.org/docs/current/userguide/dependency_management.html\n\n}\n\n// Example for how to get properties into the manifest for reading by the runtime..\njar {\n    manifest {\n        attributes([\n            \"Specification-Title\": \"examplemod\",\n            \"Specification-Vendor\": \"examplemodsareus\",\n            \"Specification-Version\": \"1\", // We are version 1 of ourselves\n            \"Implementation-Title\": project.name,\n            \"Implementation-Version\": \"${version}\",\n            \"Implementation-Vendor\" :\"examplemodsareus\",\n            \"Implementation-Timestamp\": new Date().format(\"yyyy-MM-dd'T'HH:mm:ssZ\")\n        ])\n    }\n}\n\n// Example configuration to allow publishing using the maven-publish task\n// we define a custom artifact that is sourced from the reobfJar output task\n// and then declare that to be published\n// Note you'll need to add a repository here\ndef reobfFile = file(\"$buildDir/reobfJar/output.jar\")\ndef reobfArtifact = artifacts.add('default', reobfFile) {\n    type 'jar'\n    builtBy 'reobfJar'\n}\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n            artifact reobfArtifact\n        }\n    }\n    repositories {\n        maven {\n            url \"file:///${project.projectDir}/mcmodsrepo\"\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","localization","internationalization"],"comments":[{"owner":{"account_id":5757383,"reputation":13785,"user_id":4544823,"display_name":"Ken Bekov"},"score":0,"creation_date":1459045365,"post_id":36238853,"comment_id":60116655,"body_markdown":"Is it for russian letters from message source only? Can you see russian letters in pages?","body":"Is it for russian letters from message source only? Can you see russian letters in pages?"},{"owner":{"account_id":6539693,"reputation":1278,"user_id":5057758,"accept_rate":50,"display_name":"Kadzhaev Marat"},"score":0,"creation_date":1459052324,"post_id":36238853,"comment_id":60117745,"body_markdown":"@KenBekov yes, only for letters from message source. Yes, I can","body":"@KenBekov yes, only for letters from message source. Yes, I can"},{"owner":{"account_id":5757383,"reputation":13785,"user_id":4544823,"display_name":"Ken Bekov"},"score":0,"creation_date":1459054257,"post_id":36238853,"comment_id":60118047,"body_markdown":"It is possible you saved messages file in wrong encoding. Check file that contains russian messages saved in utf-8 encoding.","body":"It is possible you saved messages file in wrong encoding. Check file that contains russian messages saved in utf-8 encoding."}],"answers":[{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459017527,"creation_date":1459017527,"answer_id":36239265,"question_id":36238853,"body_markdown":"Just a guess: in &quot;addInterceptor&quot; you are constructing the LocaleChangeInterceptor manually yourself. If this class depends on other spring beans (like MessageSource) then these are not injected. Find a way to let spring instantiate the LocaleChangeInterceptor (e.g. by using one of the various getBean() of the application context).","title":"Spring i18n question marks instead of text","body":"<p>Just a guess: in \"addInterceptor\" you are constructing the LocaleChangeInterceptor manually yourself. If this class depends on other spring beans (like MessageSource) then these are not injected. Find a way to let spring instantiate the LocaleChangeInterceptor (e.g. by using one of the various getBean() of the application context).</p>\n"},{"tags":[],"owner":{"account_id":15221962,"reputation":542,"user_id":10983605,"display_name":"Stanislau Listratsenka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654104565,"creation_date":1654104565,"answer_id":72465901,"question_id":36238853,"body_markdown":"Your files encoding is wrong. You should set it to `UTF-8`. If you use Intellij IDEA you can find it in the right bottom corner. If this option is disabled go to `Settings -&gt; Editor -&gt; File Encodings` and change the `Default encoding for properties files` parameter","title":"Spring i18n question marks instead of text","body":"<p>Your files encoding is wrong. You should set it to <code>UTF-8</code>. If you use Intellij IDEA you can find it in the right bottom corner. If this option is disabled go to <code>Settings -&gt; Editor -&gt; File Encodings</code> and change the <code>Default encoding for properties files</code> parameter</p>\n"}],"owner":{"account_id":6539693,"reputation":1278,"user_id":5057758,"accept_rate":50,"display_name":"Kadzhaev Marat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1657,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1654104565,"creation_date":1459015374,"question_id":36238853,"body_markdown":"I hava i18n, but experience problems with russian letters. I have question marks `?????` instead of text. Configuration:\r\n\r\n    @Bean\r\n    public LocaleResolver localeResolver(){\r\n        CookieLocaleResolver resolver = new CookieLocaleResolver();\r\n        resolver.setDefaultLocale(new Locale(&quot;ru&quot;));\r\n        resolver.setCookieName(&quot;locale&quot;);\r\n        resolver.setCookieMaxAge(60 * 60 * 24 * 365 * 10);\r\n        return resolver;\r\n    }\r\n\r\n    @Bean\r\n    public LocaleChangeInterceptor localeChangeInterceptor() {\r\n        LocaleChangeInterceptor changeInterceptor = new LocaleChangeInterceptor();\r\n        changeInterceptor.setParamName(&quot;lang&quot;);\r\n        return changeInterceptor;\r\n    }\r\n\r\n    @Bean\r\n    public MessageSource messageSource() {\r\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n        messageSource.setBasename(&quot;classpath:/i18n/messages&quot;);\r\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n        return messageSource;\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(localeChangeInterceptor());\r\n    }\r\n\r\nAlso I am using Thymeleaf.\r\n\r\n    &lt;h1 th:text=&quot;#{message}&quot;&gt;&lt;/h1&gt;\r\n","title":"Spring i18n question marks instead of text","body":"<p>I hava i18n, but experience problems with russian letters. I have question marks <code>?????</code> instead of text. Configuration:</p>\n\n<pre><code>@Bean\npublic LocaleResolver localeResolver(){\n    CookieLocaleResolver resolver = new CookieLocaleResolver();\n    resolver.setDefaultLocale(new Locale(\"ru\"));\n    resolver.setCookieName(\"locale\");\n    resolver.setCookieMaxAge(60 * 60 * 24 * 365 * 10);\n    return resolver;\n}\n\n@Bean\npublic LocaleChangeInterceptor localeChangeInterceptor() {\n    LocaleChangeInterceptor changeInterceptor = new LocaleChangeInterceptor();\n    changeInterceptor.setParamName(\"lang\");\n    return changeInterceptor;\n}\n\n@Bean\npublic MessageSource messageSource() {\n    ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n    messageSource.setBasename(\"classpath:/i18n/messages\");\n    messageSource.setDefaultEncoding(\"UTF-8\");\n    return messageSource;\n}\n\n@Override\npublic void addInterceptors(InterceptorRegistry registry) {\n    registry.addInterceptor(localeChangeInterceptor());\n}\n</code></pre>\n\n<p>Also I am using Thymeleaf.</p>\n\n<pre><code>&lt;h1 th:text=\"#{message}\"&gt;&lt;/h1&gt;\n</code></pre>\n"},{"tags":["java","android","android-camera2","effect"],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654104449,"creation_date":1654104449,"answer_id":72465881,"question_id":72434802,"body_markdown":"`characteristics.get(CameraCharacteristics.CONTROL_AVAILABLE_EFFECTS)` tells you which effects are supported by that camera, not which effect is currently applied.\r\n\r\nYou&#39;ll need to look if the effect you want to apply is actually listed in `CONTROL_AVAILABLE_EFFECTS`.  If it&#39;s not, then it&#39;s not supported by the device.","title":"Camera2 Effects is not applied to neither the preview nor the photo","body":"<p><code>characteristics.get(CameraCharacteristics.CONTROL_AVAILABLE_EFFECTS)</code> tells you which effects are supported by that camera, not which effect is currently applied.</p>\n<p>You'll need to look if the effect you want to apply is actually listed in <code>CONTROL_AVAILABLE_EFFECTS</code>.  If it's not, then it's not supported by the device.</p>\n"}],"owner":{"account_id":21016068,"reputation":84,"user_id":15443504,"display_name":"Talha &#199;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654104449,"creation_date":1653915818,"question_id":72434802,"body_markdown":"When I try to apply the camera effect in my camera application that uses the camera2 api, where I can adjust the camera settings such as awb, brightness in runtime successfully, there is no change in the neither preview nor captured picture. However when I look to see if the effect has been applied to the camera by checking `characteristics.get(CameraCharacteristics.CONTROL_AVAILABLE_EFFECTS)` I see it applied. I am using a device with Android 10 operating system.\r\n\r\nThe setEffect function:\r\n```\r\npublic void setCameraEffect(int cameraEffect){\r\n        try{\r\n            mCameraCaptureSession.stopRepeating();\r\n            previewRequestBuilder.set(CaptureRequest.CONTROL_EFFECT_MODE, cameraEffect);\r\n            CaptureRequest previewRequest = previewRequestBuilder.build();\r\n            mCameraCaptureSession.setRepeatingRequest(previewRequest, mCaptureCallback, mHandler);\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n```\r\n\r\n How can I solve this problem?\r\n","title":"Camera2 Effects is not applied to neither the preview nor the photo","body":"<p>When I try to apply the camera effect in my camera application that uses the camera2 api, where I can adjust the camera settings such as awb, brightness in runtime successfully, there is no change in the neither preview nor captured picture. However when I look to see if the effect has been applied to the camera by checking <code>characteristics.get(CameraCharacteristics.CONTROL_AVAILABLE_EFFECTS)</code> I see it applied. I am using a device with Android 10 operating system.</p>\n<p>The setEffect function:</p>\n<pre><code>public void setCameraEffect(int cameraEffect){\n        try{\n            mCameraCaptureSession.stopRepeating();\n            previewRequestBuilder.set(CaptureRequest.CONTROL_EFFECT_MODE, cameraEffect);\n            CaptureRequest previewRequest = previewRequestBuilder.build();\n            mCameraCaptureSession.setRepeatingRequest(previewRequest, mCaptureCallback, mHandler);\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n</code></pre>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","eclipse","ubuntu","wizard"],"comments":[{"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"score":0,"creation_date":1339677570,"post_id":11033201,"comment_id":14427239,"body_markdown":"I suspect you downloaded the wrong instance of eclipse. They have a bunch of flavors, not all are for java. What version did you download?","body":"I suspect you downloaded the wrong instance of eclipse. They have a bunch of flavors, not all are for java. What version did you download?"},{"owner":{"account_id":1212553,"reputation":201,"user_id":1180835,"display_name":"Daniel Graef"},"score":0,"creation_date":1339677820,"post_id":11033201,"comment_id":14427324,"body_markdown":"Like I say I just used apt-get, so I presume it picked the right version? I have 32-bit ubuntu 12.04 on my machine and the eclipse version is: 3.7.2","body":"Like I say I just used apt-get, so I presume it picked the right version? I have 32-bit ubuntu 12.04 on my machine and the eclipse version is: 3.7.2"},{"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"score":1,"creation_date":1339677891,"post_id":11033201,"comment_id":14427353,"body_markdown":"Can you check the output of `dpkg --get-selections | grep eclipse` to make sure the `eclipse-jdt` is correctly installed?","body":"Can you check the output of <code>dpkg --get-selections | grep eclipse</code> to make sure the <code>eclipse-jdt</code> is correctly installed?"}],"answers":[{"tags":[],"owner":{"account_id":405051,"reputation":4512,"user_id":773718,"accept_rate":43,"display_name":"MSaudi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339678033,"creation_date":1339678033,"answer_id":11033353,"question_id":11033201,"body_markdown":"Make sure that the JDK is installed. `sudo apt-get install openjdk-7-jdk`\r\n\r\nalso make sure that the installer is up to date : `sudo apt-get update` , `sudo apt-get upgrade`\r\n\r\n\r\nYou have another option. Try downloading eclipse from the Eclipse website www.eclipse.org\r\n\r\ndownload the appropriate version for your machine and try running it from the command line directly yourDownloadPath/eclipse\r\n\r\n* Don&#39;t forget to add the executable permission(chmod +x) if necessary\r\n\r\nGood luck.","title":"No java project option in eclipse","body":"<p>Make sure that the JDK is installed. <code>sudo apt-get install openjdk-7-jdk</code></p>\n\n<p>also make sure that the installer is up to date : <code>sudo apt-get update</code> , <code>sudo apt-get upgrade</code></p>\n\n<p>You have another option. Try downloading eclipse from the Eclipse website www.eclipse.org</p>\n\n<p>download the appropriate version for your machine and try running it from the command line directly yourDownloadPath/eclipse</p>\n\n<ul>\n<li>Don't forget to add the executable permission(chmod +x) if necessary</li>\n</ul>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":1626017,"reputation":41,"user_id":1501564,"display_name":"persteffen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1341404844,"creation_date":1341404844,"answer_id":11329108,"question_id":11033201,"body_markdown":"I had the same issue and was able to resolve it in deleting the entire ~/.eclipse directory along with everything in the workspace of eclipse. When I started eclipse after this, it was again possible to add java projects. ","title":"No java project option in eclipse","body":"<p>I had the same issue and was able to resolve it in deleting the entire ~/.eclipse directory along with everything in the workspace of eclipse. When I started eclipse after this, it was again possible to add java projects. </p>\n"},{"tags":[],"owner":{"account_id":1395163,"reputation":1318,"user_id":1325081,"accept_rate":75,"display_name":"Steve Beer"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1344843560,"creation_date":1344843560,"answer_id":11930002,"question_id":11033201,"body_markdown":"I had the same problem and found out it was because I had installed another version of eclipse which I had downloaded manually. I simply removed the package again (&quot;sudo apt-get remove eclipse&quot;) and deleted everything concerning eclipse:\r\n\r\n - ~/.eclipse\r\n - ~/workspace\r\n - everything that showed up on &quot;whereis eclipse&quot;\r\n\r\nand then reinstalled it using &quot;sudo apt-get install eclipse&quot;. Worked fine for me.","title":"No java project option in eclipse","body":"<p>I had the same problem and found out it was because I had installed another version of eclipse which I had downloaded manually. I simply removed the package again (\"sudo apt-get remove eclipse\") and deleted everything concerning eclipse:</p>\n\n<ul>\n<li>~/.eclipse</li>\n<li>~/workspace</li>\n<li>everything that showed up on \"whereis eclipse\"</li>\n</ul>\n\n<p>and then reinstalled it using \"sudo apt-get install eclipse\". Worked fine for me.</p>\n"},{"tags":[],"owner":{"account_id":1934732,"reputation":4942,"user_id":1745064,"accept_rate":100,"display_name":"thiagowfx"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1357074613,"creation_date":1357074613,"answer_id":14114268,"question_id":11033201,"body_markdown":"I was with the same problem. Try doing that:\r\n\r\n    sudo apt-get update &amp;&amp; sudo apt-get upgrade\r\n    \r\n    sudo apt-get remove eclipse\r\n    sudo apt-get purge eclipse\r\n    rm -r ~/.eclipse\r\n    sudo apt-get install eclipse\r\n\r\nI didn&#39;t need to remove all the locations which showed up on *whereis eclipse*, like Steve Beer said.\r\n\r\nBesides, you can also try doing\r\n\r\n    sudo apt-get install --reinstall eclipse-jdt\r\n\r\nif the previous commands don&#39;t work out.","title":"No java project option in eclipse","body":"<p>I was with the same problem. Try doing that:</p>\n\n<pre><code>sudo apt-get update &amp;&amp; sudo apt-get upgrade\n\nsudo apt-get remove eclipse\nsudo apt-get purge eclipse\nrm -r ~/.eclipse\nsudo apt-get install eclipse\n</code></pre>\n\n<p>I didn't need to remove all the locations which showed up on <em>whereis eclipse</em>, like Steve Beer said.</p>\n\n<p>Besides, you can also try doing</p>\n\n<pre><code>sudo apt-get install --reinstall eclipse-jdt\n</code></pre>\n\n<p>if the previous commands don't work out.</p>\n"},{"tags":[],"owner":{"account_id":2863202,"reputation":349,"user_id":2458001,"display_name":"Jade"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1370486740,"creation_date":1370486740,"answer_id":16952934,"question_id":11033201,"body_markdown":"Window &gt; Open Perspective &gt; Java\r\n\r\nI feel like an idiot for how long it took me to figure this out.  It&#39;s not very intuitive now, is it?  &gt;.&lt;","title":"No java project option in eclipse","body":"<p>Window > Open Perspective > Java</p>\n\n<p>I feel like an idiot for how long it took me to figure this out.  It's not very intuitive now, is it?  >.&lt;</p>\n"},{"tags":[],"owner":{"account_id":5527479,"reputation":13,"user_id":4388558,"display_name":"leuza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424853166,"creation_date":1424853166,"answer_id":28714424,"question_id":11033201,"body_markdown":"Same as @thiagowfx answered, just need to add * in last commant\r\n\r\n    sudo apt-get remove eclipse*\r\n    sudo apt-get purge eclipse*\r\n    rm -r ~/.eclipse*\r\n    rm -r workspace*\r\n\r\nThen install the eclipse\r\n\r\n    sudo apt-get install eclipse","title":"No java project option in eclipse","body":"<p>Same as @thiagowfx answered, just need to add * in last commant</p>\n\n<pre><code>sudo apt-get remove eclipse*\nsudo apt-get purge eclipse*\nrm -r ~/.eclipse*\nrm -r workspace*\n</code></pre>\n\n<p>Then install the eclipse</p>\n\n<pre><code>sudo apt-get install eclipse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11161397,"reputation":15,"user_id":8191399,"display_name":"Sara M"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1498006726,"creation_date":1498006726,"answer_id":44665229,"question_id":11033201,"body_markdown":"these both commands completely solved the problem for me:\r\n\r\nsudo apt-get install --reinstall eclipse-jdt\r\n\r\nsudo apt-get update\r\n\r\n","title":"No java project option in eclipse","body":"<p>these both commands completely solved the problem for me:</p>\n\n<p>sudo apt-get install --reinstall eclipse-jdt</p>\n\n<p>sudo apt-get update</p>\n"}],"owner":{"account_id":1212553,"reputation":201,"user_id":1180835,"display_name":"Daniel Graef"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43111,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":7,"score":14,"last_activity_date":1654104013,"creation_date":1339677480,"question_id":11033201,"body_markdown":"There may well be a very simple answer to this but having googled for an hour, I am resorting to asking here.\r\n\r\nI am simply trying to install eclipse Indigo(3.7.2) on Ubuntu 12.04 and get it to let me make a java application.\r\n\r\nI have used:\r\n\r\n    sudo apt-get install eclipse\r\n\r\nto get eclipse, which also installs the jdt package needed for making java projects.\r\n\r\nHowever, when I navigate to new -&gt; project, I am not given the option of a java project wizard (see screenshot).\r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/0E3F3.png&quot; alt=&quot;New eclipse project&quot;/&gt;\r\n\r\nAnyone know how to fix this?\r\n\r\nEDIT: Dowloading the .tar.gz myself and unpacking it seems to have worked fine. I&#39;m not sure why apt-get didn&#39;t work.\r\n\r\n","title":"No java project option in eclipse","body":"<p>There may well be a very simple answer to this but having googled for an hour, I am resorting to asking here.</p>\n\n<p>I am simply trying to install eclipse Indigo(3.7.2) on Ubuntu 12.04 and get it to let me make a java application.</p>\n\n<p>I have used:</p>\n\n<pre><code>sudo apt-get install eclipse\n</code></pre>\n\n<p>to get eclipse, which also installs the jdt package needed for making java projects.</p>\n\n<p>However, when I navigate to new -> project, I am not given the option of a java project wizard (see screenshot).</p>\n\n<p><img src=\"https://i.stack.imgur.com/0E3F3.png\" alt=\"New eclipse project\"/></p>\n\n<p>Anyone know how to fix this?</p>\n\n<p>EDIT: Dowloading the .tar.gz myself and unpacking it seems to have worked fine. I'm not sure why apt-get didn't work.</p>\n"},{"tags":["javascript","java","graalvm","graaljs"],"answers":[{"tags":[],"owner":{"account_id":12938746,"reputation":286,"user_id":9355253,"display_name":"Christian Wirth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654103867,"creation_date":1654103867,"answer_id":72465778,"question_id":72069844,"body_markdown":"as the documentation states, those are *language launcher options*. You would typically provide them to a launcher like *js*, *node* or similar.\r\n\r\n    $ js --engine.TraceCompilation yourJSFile.js\r\n\r\nAs you seem to start from Java, you can also provide them to the Java process with system properties (by preprending *polyglot* and explicitly providing *true* for boolean options):\r\n\r\n    $ java -Dpolyglot.engine.TraceCompilation=true yourJavaClass\r\n\r\nI don&#39;t believe you can provide those options as late as in the bindings of the language, because they should not affect the language but the overall GraalVM system. (this is also why your *polyglot.js.engine.TraceCompilation* is off; the option has nothing to do with *js*) \r\n\r\nHTH, Christian\r\n","title":"GraalVM JS: How I do pass Truffle options via Bindings (Nashorn compat mode) and Context in a Java application?","body":"<p>as the documentation states, those are <em>language launcher options</em>. You would typically provide them to a launcher like <em>js</em>, <em>node</em> or similar.</p>\n<pre><code>$ js --engine.TraceCompilation yourJSFile.js\n</code></pre>\n<p>As you seem to start from Java, you can also provide them to the Java process with system properties (by preprending <em>polyglot</em> and explicitly providing <em>true</em> for boolean options):</p>\n<pre><code>$ java -Dpolyglot.engine.TraceCompilation=true yourJavaClass\n</code></pre>\n<p>I don't believe you can provide those options as late as in the bindings of the language, because they should not affect the language but the overall GraalVM system. (this is also why your <em>polyglot.js.engine.TraceCompilation</em> is off; the option has nothing to do with <em>js</em>)</p>\n<p>HTH, Christian</p>\n"}],"owner":{"account_id":70109,"reputation":113,"user_id":203633,"display_name":"Lester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72465778,"answer_count":1,"score":2,"last_activity_date":1654103867,"creation_date":1651332923,"question_id":72069844,"body_markdown":"I&#39;m trying to understand performance of my JavaScript running within a Java application but I can&#39;t find a way to pass Truffle options through the Java interfaces like Bindings (when in Nashorn compat mode) and Context.\r\n\r\nSpecifically, I&#39;m trying to turn on compilation info **--engine.TraceCompilation** mentioned in:\r\nhttps://www.graalvm.org/22.1/graalvm-as-a-platform/language-implementation-framework/Options/\r\n\r\nbut all I find are examples like this:\r\n```\r\nScriptEngine js = scriptEngineManager.getEngineByName(&quot;graal.js&quot;);\r\n\r\nBindings bindings = js.getBindings(ScriptContext.ENGINE_SCOPE);\r\n\r\nbindings.put(&quot;polyglot.js.allowHostAccess&quot;, true);\r\nbindings.put(&quot;polyglot.js.nashorn-compat&quot;, true);\r\n\r\n// -------   I want to do something like this: -----------\r\nbindings.put(&quot;polyglot.js.engine.TraceCompilation&quot;, true); // &lt;-- does not work\r\n//--------------------------------------------------------\r\n```\r\n\r\nThis guide mentions the list of options that can be passed this way and none of the Truffle options are listed:\r\nhttps://www.graalvm.org/22.1/reference-manual/js/ScriptEngine/\r\n\r\nNote that for legacy reasons I need to use Nashorn compatibility mode to run the JavaScript code.\r\n\r\n","title":"GraalVM JS: How I do pass Truffle options via Bindings (Nashorn compat mode) and Context in a Java application?","body":"<p>I'm trying to understand performance of my JavaScript running within a Java application but I can't find a way to pass Truffle options through the Java interfaces like Bindings (when in Nashorn compat mode) and Context.</p>\n<p>Specifically, I'm trying to turn on compilation info <strong>--engine.TraceCompilation</strong> mentioned in:\n<a href=\"https://www.graalvm.org/22.1/graalvm-as-a-platform/language-implementation-framework/Options/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.1/graalvm-as-a-platform/language-implementation-framework/Options/</a></p>\n<p>but all I find are examples like this:</p>\n<pre><code>ScriptEngine js = scriptEngineManager.getEngineByName(&quot;graal.js&quot;);\n\nBindings bindings = js.getBindings(ScriptContext.ENGINE_SCOPE);\n\nbindings.put(&quot;polyglot.js.allowHostAccess&quot;, true);\nbindings.put(&quot;polyglot.js.nashorn-compat&quot;, true);\n\n// -------   I want to do something like this: -----------\nbindings.put(&quot;polyglot.js.engine.TraceCompilation&quot;, true); // &lt;-- does not work\n//--------------------------------------------------------\n</code></pre>\n<p>This guide mentions the list of options that can be passed this way and none of the Truffle options are listed:\n<a href=\"https://www.graalvm.org/22.1/reference-manual/js/ScriptEngine/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.1/reference-manual/js/ScriptEngine/</a></p>\n<p>Note that for legacy reasons I need to use Nashorn compatibility mode to run the JavaScript code.</p>\n"},{"tags":["java","jquery","html","spring-boot","spring-security"],"comments":[{"owner":{"account_id":9765334,"reputation":677,"user_id":7238979,"accept_rate":100,"display_name":"RKR"},"score":0,"creation_date":1485060211,"post_id":41787219,"comment_id":70764447,"body_markdown":"I tried `httpSecurity.authorizeRequests().antMatchers(&quot;/home*&quot;).hasRole(&quot;USER&quot;)\n    .and()\n    .formLogin().loginPage(&quot;login.html&quot;)`.But it returned the same spring login page.","body":"I tried <code>httpSecurity.authorizeRequests().antMatchers(&quot;&#47;home*&quot;).hasRo&zwnj;&#8203;le(&quot;USER&quot;)     .and()     .formLogin().loginPage(&quot;login.html&quot;)</code>.But it returned the same spring login page."},{"owner":{"account_id":9765334,"reputation":677,"user_id":7238979,"accept_rate":100,"display_name":"RKR"},"score":0,"creation_date":1485066687,"post_id":41787219,"comment_id":70765628,"body_markdown":"Change login page to my custom one not the spring security&#39;s default page","body":"Change login page to my custom one not the spring security&#39;s default page"},{"owner":{"account_id":8949179,"reputation":125,"user_id":6675764,"display_name":"JonahCui"},"score":0,"creation_date":1485071526,"post_id":41787219,"comment_id":70766450,"body_markdown":"You must make sure the `url` &quot;/login.html&quot; can be handled right","body":"You must make sure the <code>url</code> &quot;/login.html&quot; can be handled right"}],"answers":[{"tags":[],"owner":{"account_id":2067188,"reputation":2606,"user_id":1842482,"accept_rate":100,"display_name":"chaoluo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485071910,"creation_date":1485071416,"answer_id":41788576,"question_id":41787219,"body_markdown":"    httpSecurity.authorizeRequests()\r\n                    .antMatchers(&quot;/home*&quot;).hasRoâ€Œâ€‹le(&quot;USER&quot;).and()                                          \r\n                 .formLogin()\r\n                     .loginPage(&quot;/login.html&quot;)\r\n                     .permitAll();\r\n\r\n`loginFormUrl` must be started with &quot;/&quot; or a absolute url. and make sure the request `/login.html` can be handled right. \r\n\r\nBTW: if you didn&#39;t config the processing url, the processing url will be same with `login page`(`/login.html`) url with `post` method, but in your login page, the action url is `/home.html`, please config the processing url to &#39;/home.html&#39;\r\n\r\n    .formLogin()\r\n        .loginProcessingUrl(&quot;/home.html&quot;)\r\n        .loginPage(&quot;/login.html&quot;)\r\n        .permitAll();\r\n\r\nAnd `CSRF` is enabled by default, I can&#39;t find any `CSRF` token in your login form. you can disable csrf or request with token.\r\n\r\n    http.csrf().disable();\r\n\r\n\r\n","title":"How to use Spring Security to custom login page?","body":"<pre><code>httpSecurity.authorizeRequests()\n                .antMatchers(\"/home*\").hasRoâ€Œâ€‹le(\"USER\").and()                                          \n             .formLogin()\n                 .loginPage(\"/login.html\")\n                 .permitAll();\n</code></pre>\n\n<p><code>loginFormUrl</code> must be started with \"/\" or a absolute url. and make sure the request <code>/login.html</code> can be handled right. </p>\n\n<p>BTW: if you didn't config the processing url, the processing url will be same with <code>login page</code>(<code>/login.html</code>) url with <code>post</code> method, but in your login page, the action url is <code>/home.html</code>, please config the processing url to '/home.html'</p>\n\n<pre><code>.formLogin()\n    .loginProcessingUrl(\"/home.html\")\n    .loginPage(\"/login.html\")\n    .permitAll();\n</code></pre>\n\n<p>And <code>CSRF</code> is enabled by default, I can't find any <code>CSRF</code> token in your login form. you can disable csrf or request with token.</p>\n\n<pre><code>http.csrf().disable();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1485081772,"creation_date":1485080972,"answer_id":41789834,"question_id":41787219,"body_markdown":"See [Spring Security Reference](https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-form):\r\n\r\n&gt; While the automatically generated log in page is convenient to get up and running quickly, most applications will want to provide their own log in page. To do so we can update our configuration as seen below:\r\n&gt; \r\n&gt; &lt;!-- language: java --&gt;\r\n&gt;\r\n&gt;     protected void configure(HttpSecurity http) throws Exception {\r\n&gt;     \thttp\r\n&gt;     \t\t.authorizeRequests()\r\n&gt;     \t\t\t.anyRequest().authenticated()\r\n&gt;     \t\t\t.and()\r\n&gt;     \t\t.formLogin()\r\n&gt;     \t\t\t.loginPage(&quot;/login&quot;) 1\r\n&gt;     \t\t\t.permitAll();        2\r\n&gt;     }\r\n&gt;\r\n&gt; **1** The updated configuration specifies the location of the log in page.  \r\n&gt; **2** We must grant all users (i.e. unauthenticated users) access to our log in page. The formLogin().permitAll() method allows granting access to all users for all URLs associated with form based log in.\r\n\r\nYour modified code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/home*&quot;).hasRole(&quot;USER&quot;)\r\n                .and()\r\n            .formLogin()\r\n                .loginPage(&quot;/login.html&quot;)\r\n                .permitAll();\r\n    }\r\n","title":"How to use Spring Security to custom login page?","body":"<p>See <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-form\" rel=\"noreferrer\">Spring Security Reference</a>:</p>\n\n<blockquote>\n  <p>While the automatically generated log in page is convenient to get up and running quickly, most applications will want to provide their own log in page. To do so we can update our configuration as seen below:</p>\n  \n  <pre class=\"lang-java prettyprint-override\"><code>protected void configure(HttpSecurity http) throws Exception {\n  http\n      .authorizeRequests()\n          .anyRequest().authenticated()\n          .and()\n      .formLogin()\n          .loginPage(\"/login\") 1\n          .permitAll();        2\n}\n</code></pre>\n  \n  <p><strong>1</strong> The updated configuration specifies the location of the log in page.<br>\n  <strong>2</strong> We must grant all users (i.e. unauthenticated users) access to our log in page. The formLogin().permitAll() method allows granting access to all users for all URLs associated with form based log in.</p>\n</blockquote>\n\n<p>Your modified code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void configure(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity\n        .authorizeRequests()\n            .antMatchers(\"/home*\").hasRole(\"USER\")\n            .and()\n        .formLogin()\n            .loginPage(\"/login.html\")\n            .permitAll();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12590926,"reputation":444,"user_id":9157665,"display_name":"LexSav"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1654103660,"creation_date":1547121658,"answer_id":54128237,"question_id":41787219,"body_markdown":"Just want to pinpoint a few moments that were not clarified here.\r\n\r\n1) First of all, `.loginPage(&quot;/login.html&quot;)` won&#39;t do the trick (it didn&#39;t in my case anyway). What is in quotes here is an URL path that will be searched for in your controller. Here is the snippet from my security config file:\r\n\r\n        .formLogin().loginPage(&quot;/login&quot;)\r\n        .loginProcessingUrl(&quot;/authentication&quot;).permitAll();\r\n\r\nHere I wrote `&quot;/login&quot;`. So now in your controller define that the `/login` path should point to your `login.html` page.\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String login() {\r\n        return &quot;login&quot;;\r\n    }\r\n\r\nOnly then it should redirect to the required view page. I usually place view pages under the `/webapp/WEB-INF/view` folder.&lt;br/&gt; \r\nP.S. I hope you configured your `ViewResolver` bean right, cos otherwise it won&#39;t work :)\r\n\r\n2) And one more thing. I see you wanna use some CSS for the page. To enable CSS and other static resources for your custom login page, you should add this line \r\n\r\n`.antMatchers(&quot;/resources/**&quot;).permitAll()`\r\n\r\nSo, in the end it will be like that (very short and creepy version, but your custom login should work):\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/resources/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n\r\n            .formLogin().loginPage(&quot;/login&quot;)\r\n            .loginProcessingUrl(&quot;/authentication&quot;).permitAll();\r\n    }\r\n\r\nFYI, place your resources under `/webapp/resources/`. Also, you should configure your resource handler in your spring configuration file.\r\n\r\nHere is also a nice link to wrap your head around it: [Creating a Custom Login Form: Grant access to remaining resources][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.5.7/guides/form-javaconfig.html#grant-access-to-remaining-resources\r\n","title":"How to use Spring Security to custom login page?","body":"<p>Just want to pinpoint a few moments that were not clarified here.</p>\n<ol>\n<li><p>First of all, <code>.loginPage(&quot;/login.html&quot;)</code> won't do the trick (it didn't in my case anyway). What is in quotes here is an URL path that will be searched for in your controller. Here is the snippet from my security config file:</p>\n<pre><code> .formLogin().loginPage(&quot;/login&quot;)\n .loginProcessingUrl(&quot;/authentication&quot;).permitAll();\n</code></pre>\n</li>\n</ol>\n<p>Here I wrote <code>&quot;/login&quot;</code>. So now in your controller define that the <code>/login</code> path should point to your <code>login.html</code> page.</p>\n<pre><code>@GetMapping(&quot;/login&quot;)\npublic String login() {\n    return &quot;login&quot;;\n}\n</code></pre>\n<p>Only then it should redirect to the required view page. I usually place view pages under the <code>/webapp/WEB-INF/view</code> folder.<br/>\nP.S. I hope you configured your <code>ViewResolver</code> bean right, cos otherwise it won't work :)</p>\n<ol start=\"2\">\n<li>And one more thing. I see you wanna use some CSS for the page. To enable CSS and other static resources for your custom login page, you should add this line</li>\n</ol>\n<p><code>.antMatchers(&quot;/resources/**&quot;).permitAll()</code></p>\n<p>So, in the end it will be like that (very short and creepy version, but your custom login should work):</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n            .antMatchers(&quot;/resources/**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n\n        .formLogin().loginPage(&quot;/login&quot;)\n        .loginProcessingUrl(&quot;/authentication&quot;).permitAll();\n}\n</code></pre>\n<p>FYI, place your resources under <code>/webapp/resources/</code>. Also, you should configure your resource handler in your spring configuration file.</p>\n<p>Here is also a nice link to wrap your head around it: <a href=\"https://docs.spring.io/spring-security/site/docs/5.5.7/guides/form-javaconfig.html#grant-access-to-remaining-resources\" rel=\"nofollow noreferrer\">Creating a Custom Login Form: Grant access to remaining resources</a></p>\n"}],"owner":{"account_id":9765334,"reputation":677,"user_id":7238979,"accept_rate":100,"display_name":"RKR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33589,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":41789834,"answer_count":3,"score":8,"last_activity_date":1654103660,"creation_date":1485057849,"question_id":41787219,"body_markdown":"I am using Spring Security to my application and here is the security part which authenticates the user but the login page is given by Spring Security:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        public void configure(HttpSecurity httpSecurity) throws Exception {\r\n        \thttpSecurity\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/home*&quot;).hasRole(&quot;USER&quot;)\r\n    \t            .and()\r\n    \t        .formLogin();\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t    auth\r\n    \t\t    .inMemoryAuthentication()\r\n    \t\t\t     .withUser(&quot;user&quot;)\r\n                     .password(&quot;password&quot;)\r\n                     .roles(&quot;USER&quot;)\r\n        }\r\n    }\r\n\r\nInstead of Spring&#39;s login page I want to use my login page which is below:\r\n\r\n`login.html`:\r\n\r\n&lt;!-- language: html --&gt;\r\n\r\n    &lt;html lang=&#39;en&#39;&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;WebApp&lt;/title&gt;\r\n            &lt;meta charset=&#39;utf-8&#39; /&gt;\r\n    \r\n            &lt;script src=&quot;https://code.jquery.com/jquery-1.11.3.min.js&quot;&gt;&lt;/script&gt;\r\n                 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/bootstrap.css&quot; /&gt;\r\n                 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css&quot; /&gt;\r\n                 &lt;link rel=&quot;stylesheet&quot; href=&quot;css/login.css&quot; /&gt;  \r\n        &lt;/head&gt;\r\n    \r\n        &lt;body&gt;\r\n            &lt;div class=&quot;login-page&quot;&gt;\r\n                &lt;img src=&#39;img/taxi_.jpg&#39; style=&#39;width: 180px; margin-left: auto; margin-right: auto; display: block; padding-top: 20px; padding-bottom:20px;&#39; /&gt;\r\n                \r\n                &lt;div class=&quot;heading&quot;&gt;\r\n                    &lt;center&gt;Dashboard&lt;/center&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form&quot;&gt;\r\n                    &lt;form action =&quot;home.html&quot; class=&quot;register-form&quot;&gt;\r\n                        &lt;input type=&quot;text&quot; placeholder=&quot;name&quot;/&gt;\r\n                        &lt;input type=&quot;password&quot; placeholder=&quot;password&quot;/&gt;\r\n                        &lt;input type=&quot;text&quot; placeholder=&quot;email address&quot;/&gt;\r\n                        &lt;button&gt;create&lt;/button&gt;\r\n                        &lt;p class=&quot;message&quot;&gt;Already registered? &lt;a href=&quot;#&quot;&gt;Sign In&lt;/a&gt;&lt;/p&gt;\r\n                   &lt;/form&gt;\r\n                   &lt;form action=&quot;home.html&quot; class=&quot;login-form&quot;&gt;\r\n                        &lt;input type=&quot;text&quot; placeholder=&quot;username&quot;/&gt;\r\n                        &lt;input type=&quot;password&quot; placeholder=&quot;password&quot;/&gt;\r\n                        &lt;button id=&quot;button_login&quot;&gt;login&lt;/button&gt;\r\n                        &lt;p class=&quot;message&quot;&gt;Not registered? &lt;a href=&quot;#&quot;&gt;Create an account&lt;/a&gt;&lt;/p&gt;\r\n                   &lt;/form&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHow can I use my custom login page to be shown instead of Spring Security&#39;s login page?","title":"How to use Spring Security to custom login page?","body":"<p>I am using Spring Security to my application and here is the security part which authenticates the user but the login page is given by Spring Security:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    public void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n            .authorizeRequests()\n                .antMatchers(\"/home*\").hasRole(\"USER\")\n                .and()\n            .formLogin();\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n                 .withUser(\"user\")\n                 .password(\"password\")\n                 .roles(\"USER\")\n    }\n}\n</code></pre>\n\n<p>Instead of Spring's login page I want to use my login page which is below:</p>\n\n<p><code>login.html</code>:</p>\n\n<pre><code>&lt;html lang='en'&gt;\n    &lt;head&gt;\n        &lt;title&gt;WebApp&lt;/title&gt;\n        &lt;meta charset='utf-8' /&gt;\n\n        &lt;script src=\"https://code.jquery.com/jquery-1.11.3.min.js\"&gt;&lt;/script&gt;\n             &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/bootstrap.css\" /&gt;\n             &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css\" /&gt;\n             &lt;link rel=\"stylesheet\" href=\"css/login.css\" /&gt;  \n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div class=\"login-page\"&gt;\n            &lt;img src='img/taxi_.jpg' style='width: 180px; margin-left: auto; margin-right: auto; display: block; padding-top: 20px; padding-bottom:20px;' /&gt;\n\n            &lt;div class=\"heading\"&gt;\n                &lt;center&gt;Dashboard&lt;/center&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form\"&gt;\n                &lt;form action =\"home.html\" class=\"register-form\"&gt;\n                    &lt;input type=\"text\" placeholder=\"name\"/&gt;\n                    &lt;input type=\"password\" placeholder=\"password\"/&gt;\n                    &lt;input type=\"text\" placeholder=\"email address\"/&gt;\n                    &lt;button&gt;create&lt;/button&gt;\n                    &lt;p class=\"message\"&gt;Already registered? &lt;a href=\"#\"&gt;Sign In&lt;/a&gt;&lt;/p&gt;\n               &lt;/form&gt;\n               &lt;form action=\"home.html\" class=\"login-form\"&gt;\n                    &lt;input type=\"text\" placeholder=\"username\"/&gt;\n                    &lt;input type=\"password\" placeholder=\"password\"/&gt;\n                    &lt;button id=\"button_login\"&gt;login&lt;/button&gt;\n                    &lt;p class=\"message\"&gt;Not registered? &lt;a href=\"#\"&gt;Create an account&lt;/a&gt;&lt;/p&gt;\n               &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>How can I use my custom login page to be shown instead of Spring Security's login page?</p>\n"},{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":934156,"reputation":1171,"user_id":963412,"accept_rate":50,"display_name":"cybye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1361220102,"creation_date":1361219081,"answer_id":14944692,"question_id":14944528,"body_markdown":"you can use something like [jgroups][1] (allowing discovery based on multicast [lan] etc) or some [peer-to-peer][2] implementatons for that, although the latter require at least some servers for initial discovery. \r\n\r\nin principle that works the way, that the clients send a message out to &quot;the world&quot; using some well known address and wait for someone to answer. each client itself waits meanwhile for such a message and replies it with information how to &quot;connect&quot; to the current client. This can be done via a so called blackboard, where this bb is either a special tcp-address for multicast-messages (the os/tcp sends the message to all clients listening concurrently) or one or more servers (seeds) that take and coordinate the request and the &quot;membership&quot; lists. anyway, there are some tools ;) \r\n\r\n\r\n  [1]: http://jgroups.org\r\n  [2]: http://jxta.kenai.com/","title":"Java Sockets Local Connection Between 2 clients - Design","body":"<p>you can use something like <a href=\"http://jgroups.org\" rel=\"nofollow\">jgroups</a> (allowing discovery based on multicast [lan] etc) or some <a href=\"http://jxta.kenai.com/\" rel=\"nofollow\">peer-to-peer</a> implementatons for that, although the latter require at least some servers for initial discovery. </p>\n\n<p>in principle that works the way, that the clients send a message out to \"the world\" using some well known address and wait for someone to answer. each client itself waits meanwhile for such a message and replies it with information how to \"connect\" to the current client. This can be done via a so called blackboard, where this bb is either a special tcp-address for multicast-messages (the os/tcp sends the message to all clients listening concurrently) or one or more servers (seeds) that take and coordinate the request and the \"membership\" lists. anyway, there are some tools ;) </p>\n"}],"owner":{"account_id":1880243,"reputation":5612,"user_id":1700618,"accept_rate":100,"display_name":"Vineet Kosaraju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14944692,"answer_count":1,"score":0,"last_activity_date":1654103650,"creation_date":1361218426,"question_id":14944528,"body_markdown":"I have an application where the user (client #1) enters a local ip and a port and the application sends a picture to client #2 (who is also using the same application). However for the final application, I do not want the user to enter the local ip because they will not know this information, and I want my program to automatically figure this out. \r\n\r\nMy first idea:\r\nOriginally, I thought that I could scan all the local ip&#39;s for an open port, but this would take way too long.\r\n\r\nMy second idea:\r\nMy next idea was to have the clients send their local hostnames to a remote server which then swaps them and sends them back to the clients.\r\n\r\nHowever, I do not want to run a dedicated server for my second idea.\r\n\r\nBecause this is more of a design question, I am not including any code but I will do so if necessary.\r\n\r\nDo you guys have any ideas on how I should design my application to automatically figure out the local ips?\r\n\r\nI did try to google this but couldn&#39;t figure out a solution, and so I gave up after an hour and just put my question here.","title":"Java Sockets Local Connection Between 2 clients - Design","body":"<p>I have an application where the user (client #1) enters a local ip and a port and the application sends a picture to client #2 (who is also using the same application). However for the final application, I do not want the user to enter the local ip because they will not know this information, and I want my program to automatically figure this out.</p>\n<p>My first idea:\nOriginally, I thought that I could scan all the local ip's for an open port, but this would take way too long.</p>\n<p>My second idea:\nMy next idea was to have the clients send their local hostnames to a remote server which then swaps them and sends them back to the clients.</p>\n<p>However, I do not want to run a dedicated server for my second idea.</p>\n<p>Because this is more of a design question, I am not including any code but I will do so if necessary.</p>\n<p>Do you guys have any ideas on how I should design my application to automatically figure out the local ips?</p>\n<p>I did try to google this but couldn't figure out a solution, and so I gave up after an hour and just put my question here.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1654101616,"post_id":72465183,"comment_id":128013289,"body_markdown":"Looks ok - verify and add your imports to post : `import android.widget.TextView` and `import android.view.View.OnClickListener` .  Or `androidx` equivalents.  (The `setOnClickListener` comes from the `View` parent class which is common to both Button and TextView - actually Button is a subclass of TextView!)","body":"Looks ok - verify and add your imports to post : <code>import android.widget.TextView</code> and <code>import android.view.View.OnClickListener</code> .  Or <code>androidx</code> equivalents.  (The <code>setOnClickListener</code> comes from the <code>View</code> parent class which is common to both Button and TextView - actually Button is a subclass of TextView!)"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1654102005,"post_id":72465183,"comment_id":128013418,"body_markdown":"`Invalidate and restart` is always an option if this really seems like something which should work (which it does).","body":"<code>Invalidate and restart</code> is always an option if this really seems like something which should work (which it does)."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1654103965,"post_id":72465183,"comment_id":128014059,"body_markdown":"Does this answer your question? [Java Android - setOnClickListener(View.OnClickListener) in the type View is not applicable for the arguments (new OnClickListener(){})](https://stackoverflow.com/questions/16708684/java-android-setonclicklistenerview-onclicklistener-in-the-type-view-is-not)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16708684/java-android-setonclicklistenerview-onclicklistener-in-the-type-view-is-not\">Java Android - setOnClickListener(View.OnClickListener) in the type View is not applicable for the arguments (new OnClickListener(){})</a>"}],"owner":{"account_id":25448192,"reputation":1,"user_id":19250068,"display_name":"Arbaab Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654103541,"creation_date":1654100635,"question_id":72465183,"body_markdown":"I am new to android development I am just wondering that like we have onclicklisteners on buttons can we have a onclicklisteners on textviews also? I tried this but it does not work \r\n   \r\n    TextView numbers = (TextView) findViewById(R.id.numbers_textview);\r\n    numbers.setOnClickListener(new OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            // my logic\r\n        }\r\n    });\r\n\r\nThe error I got is:\r\n\r\n&gt; cannot resolve symbol &#39;setOnClickListener&#39;\r\n\r\nIf someone can help it will be really helpful for me thanks in advance.","title":"How can I set onClickListeners on TextViews","body":"<p>I am new to android development I am just wondering that like we have onclicklisteners on buttons can we have a onclicklisteners on textviews also? I tried this but it does not work</p>\n<pre><code>TextView numbers = (TextView) findViewById(R.id.numbers_textview);\nnumbers.setOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        // my logic\n    }\n});\n</code></pre>\n<p>The error I got is:</p>\n<blockquote>\n<p>cannot resolve symbol 'setOnClickListener'</p>\n</blockquote>\n<p>If someone can help it will be really helpful for me thanks in advance.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1653977979,"post_id":72442961,"comment_id":127975249,"body_markdown":"Array of 3 has index 0, 1, 2.","body":"Array of 3 has index 0, 1, 2."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1653978204,"post_id":72442961,"comment_id":127975311,"body_markdown":"Have you looked at String split? https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String) (regex would be \\s{2}) - but you could use regex with (\\d+)\\s{2}(\\d+) as well and use the capture groups  https://regex101.com/","body":"Have you looked at String split? <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> (regex would be \\s{2}) - but you could use regex with (\\d+)\\s{2}(\\d+) as well and use the capture groups  <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":25430203,"reputation":91,"user_id":19234749,"display_name":"Jonathan Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653978869,"creation_date":1653978869,"answer_id":72443160,"question_id":72442961,"body_markdown":"Iâ€™m not sure if what you showed is an abridged version of your code, but here is how to resolve your problem.\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.print(&quot;Please R and C with two spaces in between: &quot;);\r\n    int R = scanner.nextInt();\r\n    int C = scanner.nextInt();\r\n\r\nIf you absolutely need an array, then do this:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Please R and C with two spaces in between:&quot;);\r\n    int[] inputs = {scanner.nextInt(), scanner.nextInt()};\r\n    int R = inputs[0];\r\n    int C = inputs[1];\r\n\r\n\r\nNote: the space is skipped unless you use `nextLine()`","title":"How to fill an array based on users input in a single line","body":"<p>Iâ€™m not sure if what you showed is an abridged version of your code, but here is how to resolve your problem.</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nSystem.out.print(&quot;Please R and C with two spaces in between: &quot;);\nint R = scanner.nextInt();\nint C = scanner.nextInt();\n</code></pre>\n<p>If you absolutely need an array, then do this:</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nSystem.out.println(&quot;Please R and C with two spaces in between:&quot;);\nint[] inputs = {scanner.nextInt(), scanner.nextInt()};\nint R = inputs[0];\nint C = inputs[1];\n</code></pre>\n<p>Note: the space is skipped unless you use <code>nextLine()</code></p>\n"}],"owner":{"account_id":25213836,"reputation":35,"user_id":19051202,"display_name":"Mojgan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72443160,"answer_count":1,"score":0,"last_activity_date":1654102712,"creation_date":1653977589,"question_id":72442961,"body_markdown":"I have an array of 3 and want to fill it with users input at once(not to ask for input twice) \r\n```lang-java\r\nScanner myArray = new Scanner(System.in);\r\nSystem.out.println(&quot;Please R and C with two spaces in between:&quot;);\r\ninputs[i] = myArray.nextInt();\r\nR = (inputs[0]);\r\nC = (inputs[3]);\r\n```\r\n\r\nbut I am receiving error for assigning `C = (inputs[3]);`.  \r\nHow can I fix it?","title":"How to fill an array based on users input in a single line","body":"<p>I have an array of 3 and want to fill it with users input at once(not to ask for input twice)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner myArray = new Scanner(System.in);\nSystem.out.println(&quot;Please R and C with two spaces in between:&quot;);\ninputs[i] = myArray.nextInt();\nR = (inputs[0]);\nC = (inputs[3]);\n</code></pre>\n<p>but I am receiving error for assigning <code>C = (inputs[3]);</code>.<br />\nHow can I fix it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8696,"page":1296,"page_size":100}
