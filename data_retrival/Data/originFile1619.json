{"items":[{"tags":["java","swing","jdialog"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1643761999,"post_id":70949257,"comment_id":125424534,"body_markdown":"Works fine for me, maybe you should include your OS and java version? Also, have you considered using &#39;setContentPane&#39; instead of &#39;add&#39;?","body":"Works fine for me, maybe you should include your OS and java version? Also, have you considered using &#39;setContentPane&#39; instead of &#39;add&#39;?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1643762279,"post_id":70949257,"comment_id":125424581,"body_markdown":"Works fine for me.  It almost looks like you&#39;re violating the paint chain responsibility some where","body":"Works fine for me.  It almost looks like you&#39;re violating the paint chain responsibility some where"},{"owner":{"account_id":26689,"reputation":2716,"user_id":69698,"accept_rate":75,"display_name":"Paul Walker"},"score":0,"creation_date":1643762438,"post_id":70949257,"comment_id":125424608,"body_markdown":"This is on Windows 10 with JDK 17.0.2. I&#39;ve tried using setContentPane(pnl) instead of add(pnl) - no difference for me. Interesting that it seems to be working for other people though, thanks for trying it! :)","body":"This is on Windows 10 with JDK 17.0.2. I&#39;ve tried using setContentPane(pnl) instead of add(pnl) - no difference for me. Interesting that it seems to be working for other people though, thanks for trying it! :)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1643763618,"post_id":70949257,"comment_id":125424803,"body_markdown":"Works fine on Windows 11 with openjdk 17.0.1","body":"Works fine on Windows 11 with openjdk 17.0.1"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1643773112,"post_id":70949257,"comment_id":125426171,"body_markdown":"Works fine for me on Windows 10 with openjdk 17","body":"Works fine for me on Windows 10 with openjdk 17"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1643776707,"post_id":70949257,"comment_id":125426758,"body_markdown":"Are you running the exact code in your question? Have you got any look and feel set, or other code not included in the question? You could try to specify a minimum size for your JPanel `pnl.setMinimumSize(new Dimension(400, 200));` which should force the size of your JDialog so that the components fit correctly.","body":"Are you running the exact code in your question? Have you got any look and feel set, or other code not included in the question? You could try to specify a minimum size for your JPanel <code>pnl.setMinimumSize(new Dimension(400, 200));</code> which should force the size of your JDialog so that the components fit correctly."},{"owner":{"account_id":26689,"reputation":2716,"user_id":69698,"accept_rate":75,"display_name":"Paul Walker"},"score":0,"creation_date":1643935317,"post_id":70949257,"comment_id":125478473,"body_markdown":"@sorifiend Yes, that&#39;s the exact code I&#39;m running. `pnl.setMinimumSize(new Dimension(400, 200));` doesn&#39;t seem to help, but thanks for the suggestion :)","body":"@sorifiend Yes, that&#39;s the exact code I&#39;m running. <code>pnl.setMinimumSize(new Dimension(400, 200));</code> doesn&#39;t seem to help, but thanks for the suggestion :)"}],"answers":[{"tags":[],"owner":{"account_id":26689,"reputation":2716,"user_id":69698,"accept_rate":75,"display_name":"Paul Walker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644017651,"creation_date":1644017651,"answer_id":70994014,"question_id":70949257,"body_markdown":"I&#39;ve found a [similar issue](https://bz.apache.org/netbeans/show_bug.cgi?id=230959) descibed in an Apache NetBeans Bugzilla. [Comment 7](https://bz.apache.org/netbeans/show_bug.cgi?id=230959#c7), by &quot;everflux&quot;, describes setting a JVM parameter:\r\n\r\n&gt; I assume this is due to Java 8 enbabling the xrender extension by default. I have serious graphics issues with Netbeans 8/Java 8 on Nvidia machine, flickering, windows only scrolling partly etc.\r\n&gt;\r\n&gt;I added the following flag to the netbeans startup options:\r\n-J-Dsun.java2d.opengl=true \r\n&gt;\r\n&gt;this seemed to mitigate the problems, at least during a 10 minute test period. I encourage other users experiencing graphics problems to test it and report their results.\r\n\r\nAdding `-Dsun.java2d.opengl=true` either on the command line or in Eclipse as a VM argument in the Run Configuration has fixed it for me.","title":"Why does this JDialog not draw properly when called from a JFrame?","body":"<p>I've found a <a href=\"https://bz.apache.org/netbeans/show_bug.cgi?id=230959\" rel=\"nofollow noreferrer\">similar issue</a> descibed in an Apache NetBeans Bugzilla. <a href=\"https://bz.apache.org/netbeans/show_bug.cgi?id=230959#c7\" rel=\"nofollow noreferrer\">Comment 7</a>, by &quot;everflux&quot;, describes setting a JVM parameter:</p>\n<blockquote>\n<p>I assume this is due to Java 8 enbabling the xrender extension by default. I have serious graphics issues with Netbeans 8/Java 8 on Nvidia machine, flickering, windows only scrolling partly etc.</p>\n<p>I added the following flag to the netbeans startup options:\n-J-Dsun.java2d.opengl=true</p>\n<p>this seemed to mitigate the problems, at least during a 10 minute test period. I encourage other users experiencing graphics problems to test it and report their results.</p>\n</blockquote>\n<p>Adding <code>-Dsun.java2d.opengl=true</code> either on the command line or in Eclipse as a VM argument in the Run Configuration has fixed it for me.</p>\n"}],"owner":{"account_id":26689,"reputation":2716,"user_id":69698,"accept_rate":75,"display_name":"Paul Walker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70994014,"answer_count":1,"score":1,"last_activity_date":1644017651,"creation_date":1643761437,"question_id":70949257,"body_markdown":"I&#39;m having a problem with the display of a JDialog when called from a JFrame. The JFrame only contains a button. When pressed, this launches a JDialog with a JLabel, JTextField and JButton.\r\n\r\nThe JFrame displays fine. The JDialog displays strangely, kinda like it&#39;s trying to draw it (or elements of it) offset multiple times! As you move the mouse around over different components, it keeps refreshing, but still weirdly. As soon as you use the mouse to resize the JDialog, it behaves normally (doesn&#39;t matter whether you increase/decrease the size).\r\n\r\nThis is how it first appears:\r\n\r\n[![The dialog showing JButtons drawn weirdly][1]][1]\r\n\r\nAfter resizing it a little, it is drawn properly:\r\n\r\n[![The dialog drawn properly after resizing][2]][2]\r\n\r\nWhere am I going wrong please?\r\n\r\n```\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\n\r\npublic class Demo extends JFrame implements Runnable {\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Demo());\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\tsetTitle(&quot;My JFrame&quot;);\r\n\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tJButton btn = new JButton(&quot;Launch JDialog&quot;);\r\n\t\tbtn.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tnew Dlg();\r\n\t\t\t}\r\n\t\t});\r\n\t\tadd(btn);\r\n\t\tpack();\r\n\t\tsetVisible(true);\r\n\t}\r\n}\r\n\t\r\n\r\nclass Dlg extends JDialog {\r\n\tpublic Dlg() {\r\n\t\tsetTitle(&quot;My JDialog&quot;);\r\n\t\t\r\n\t\tJPanel pnl = new JPanel();\r\n\t\tpnl.setLayout(new BoxLayout(pnl, BoxLayout.X_AXIS));\r\n\t\t\r\n\t\tJLabel lbl1 = new JLabel(&quot;Label 1&quot;);\r\n\t\tJTextField txt1 = new JTextField(5);\r\n\t\tJButton btn1 = new JButton(&quot;Button 1&quot;);\r\n\t\t\r\n\t\tpnl.add(lbl1);\r\n\t\tpnl.add(txt1);\r\n\t\tpnl.add(btn1);\r\n\t\t\r\n\t\tadd(pnl);\r\n\t\t\r\n\t\tpack();\r\n\t\tsetVisible(true);\r\n\t}\r\n}\r\n```\r\n\r\n## Edit\r\nThis is on Windows 10 with JDK 17.0.2\r\n\r\n  [1]: https://i.stack.imgur.com/ZaCgF.png\r\n  [2]: https://i.stack.imgur.com/IFXhL.png","title":"Why does this JDialog not draw properly when called from a JFrame?","body":"<p>I'm having a problem with the display of a JDialog when called from a JFrame. The JFrame only contains a button. When pressed, this launches a JDialog with a JLabel, JTextField and JButton.</p>\n<p>The JFrame displays fine. The JDialog displays strangely, kinda like it's trying to draw it (or elements of it) offset multiple times! As you move the mouse around over different components, it keeps refreshing, but still weirdly. As soon as you use the mouse to resize the JDialog, it behaves normally (doesn't matter whether you increase/decrease the size).</p>\n<p>This is how it first appears:</p>\n<p><a href=\"https://i.stack.imgur.com/ZaCgF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZaCgF.png\" alt=\"The dialog showing JButtons drawn weirdly\" /></a></p>\n<p>After resizing it a little, it is drawn properly:</p>\n<p><a href=\"https://i.stack.imgur.com/IFXhL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IFXhL.png\" alt=\"The dialog drawn properly after resizing\" /></a></p>\n<p>Where am I going wrong please?</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.event.*;\nimport javax.swing.*;\n\n\npublic class Demo extends JFrame implements Runnable {\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Demo());\n    }\n    \n    public void run() {\n        setTitle(&quot;My JFrame&quot;);\n\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JButton btn = new JButton(&quot;Launch JDialog&quot;);\n        btn.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                new Dlg();\n            }\n        });\n        add(btn);\n        pack();\n        setVisible(true);\n    }\n}\n    \n\nclass Dlg extends JDialog {\n    public Dlg() {\n        setTitle(&quot;My JDialog&quot;);\n        \n        JPanel pnl = new JPanel();\n        pnl.setLayout(new BoxLayout(pnl, BoxLayout.X_AXIS));\n        \n        JLabel lbl1 = new JLabel(&quot;Label 1&quot;);\n        JTextField txt1 = new JTextField(5);\n        JButton btn1 = new JButton(&quot;Button 1&quot;);\n        \n        pnl.add(lbl1);\n        pnl.add(txt1);\n        pnl.add(btn1);\n        \n        add(pnl);\n        \n        pack();\n        setVisible(true);\n    }\n}\n</code></pre>\n<h2>Edit</h2>\n<p>This is on Windows 10 with JDK 17.0.2</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1644007739,"post_id":70992605,"comment_id":125500036,"body_markdown":"I guess that will do.. https://stackoverflow.com/questions/47162098/is-it-possible-to-match-nested-brackets-with-a-regex-without-using-recursion-or","body":"I guess that will do.. <a href=\"https://stackoverflow.com/questions/47162098/is-it-possible-to-match-nested-brackets-with-a-regex-without-using-recursion-or\" title=\"is it possible to match nested brackets with a regex without using recursion or\">stackoverflow.com/questions/47162098/&hellip;</a>"},{"owner":{"account_id":6593416,"reputation":27460,"user_id":5093961,"display_name":"Steven Spungin"},"score":0,"creation_date":1644007867,"post_id":70992605,"comment_id":125500077,"body_markdown":"Your problem is that you are hitting `}` tokens before the one you are seeking, such as the one that closes the `enum`.","body":"Your problem is that you are hitting <code>}</code> tokens before the one you are seeking, such as the one that closes the <code>enum</code>."}],"answers":[{"tags":[],"owner":{"account_id":6593416,"reputation":27460,"user_id":5093961,"display_name":"Steven Spungin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644011184,"creation_date":1644007499,"answer_id":70992653,"question_id":70992605,"body_markdown":"Try this for your regex.  It anchors on `message` being the start of a line, and uses a positive lookahead to find the next message or the end of messages.\r\n\r\n```java\r\nPattern.compile(&quot;(?s)\\r\\n(message.*?)(?=(\\r\\n)+message|$)&quot;)\r\n// or\r\nPattern.compile(&quot;(?s)\\r?\\n(message.*?)(?=(\\r?\\n)+message|$)&quot;)\r\n```\r\n\r\nNo spliting, parsing, or managing nested braces either :)\r\n\r\nhttps://regex101.com/r/Wa2xxx/1","title":"Regex: starts with messages and string between parent message curly brace","body":"<p>Try this for your regex.  It anchors on <code>message</code> being the start of a line, and uses a positive lookahead to find the next message or the end of messages.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern.compile(&quot;(?s)\\r\\n(message.*?)(?=(\\r\\n)+message|$)&quot;)\n// or\nPattern.compile(&quot;(?s)\\r?\\n(message.*?)(?=(\\r?\\n)+message|$)&quot;)\n</code></pre>\n<p>No spliting, parsing, or managing nested braces either :)</p>\n<p><a href=\"https://regex101.com/r/Wa2xxx/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/Wa2xxx/1</a></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644016522,"creation_date":1644008077,"answer_id":70992736,"question_id":70992605,"body_markdown":"First remove the input prior to `&quot;message&quot;` appearing at the start of the line, then split on newlines followed by `&quot;message&quot;` (include the newlines in the split so newlines that intervene parent messages are consumed):\r\n\r\n\tString[] messages = data.replaceAll(&quot;(?sm)\\\\A.*?(?=message)&quot;, &quot;&quot;).split(&quot;\\\\R+(?=message)&quot;);\r\n\r\nSee [live demo][1].\r\n\r\nIf you actually need a `List&lt;String&gt;`, pass that result to `Arrays.asList()`:\r\n\r\n    List&lt;String&gt; = Arrays.asList(data.replaceAll(&quot;(?sm)\\\\A.*?(?=message)&quot;, &quot;&quot;).split(&quot;\\\\R+(?=message)&quot;));\r\n   \r\nThe first regex matches everything from start up to, but not including, the first line that starts with message, which is replaced with a blank (ie deleted). Breaking the down:\r\n\r\n- `(?sm)` turns on flags `s`, which makes dot also match newlines, and `m`, which makes `^` and `$` match start and end of each line\r\n- `\\\\A` means the very start of input\r\n- `.*?` `.*` means any quantity of any character (including newline as per the `s` flag being set), but adding `?` makes this *reluctant*, so it matches as *few* characters as possible while still matching\r\n- `(?=^message)` is a *look ahead* and means the following characters are a start of a line then `&quot;message&quot;`\r\n\r\nSee [regex101 live demo][2] for a thorough explanation.\r\n\r\nThe split regex matches one or more line break sequences when they are followed by `&quot;message&quot;`:\r\n\r\n- `\\\\R+` means one or more line break sequences (all OS variants)\r\n- `(?=message)` is a *look ahead* and means the following characters are `&quot;message&quot;`\r\n\r\nSee [regex101 live demo][3] for a thorough explanation.\r\n\r\n  [1]: https://ideone.com/FaT6LW\r\n  [2]: https://regex101.com/r/i8VNzf/1\r\n  [3]: https://regex101.com/r/ztSykl/1","title":"Regex: starts with messages and string between parent message curly brace","body":"<p>First remove the input prior to <code>&quot;message&quot;</code> appearing at the start of the line, then split on newlines followed by <code>&quot;message&quot;</code> (include the newlines in the split so newlines that intervene parent messages are consumed):</p>\n<pre><code>String[] messages = data.replaceAll(&quot;(?sm)\\\\A.*?(?=message)&quot;, &quot;&quot;).split(&quot;\\\\R+(?=message)&quot;);\n</code></pre>\n<p>See <a href=\"https://ideone.com/FaT6LW\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>If you actually need a <code>List&lt;String&gt;</code>, pass that result to <code>Arrays.asList()</code>:</p>\n<pre><code>List&lt;String&gt; = Arrays.asList(data.replaceAll(&quot;(?sm)\\\\A.*?(?=message)&quot;, &quot;&quot;).split(&quot;\\\\R+(?=message)&quot;));\n</code></pre>\n<p>The first regex matches everything from start up to, but not including, the first line that starts with message, which is replaced with a blank (ie deleted). Breaking the down:</p>\n<ul>\n<li><code>(?sm)</code> turns on flags <code>s</code>, which makes dot also match newlines, and <code>m</code>, which makes <code>^</code> and <code>$</code> match start and end of each line</li>\n<li><code>\\\\A</code> means the very start of input</li>\n<li><code>.*?</code> <code>.*</code> means any quantity of any character (including newline as per the <code>s</code> flag being set), but adding <code>?</code> makes this <em>reluctant</em>, so it matches as <em>few</em> characters as possible while still matching</li>\n<li><code>(?=^message)</code> is a <em>look ahead</em> and means the following characters are a start of a line then <code>&quot;message&quot;</code></li>\n</ul>\n<p>See <a href=\"https://regex101.com/r/i8VNzf/1\" rel=\"nofollow noreferrer\">regex101 live demo</a> for a thorough explanation.</p>\n<p>The split regex matches one or more line break sequences when they are followed by <code>&quot;message&quot;</code>:</p>\n<ul>\n<li><code>\\\\R+</code> means one or more line break sequences (all OS variants)</li>\n<li><code>(?=message)</code> is a <em>look ahead</em> and means the following characters are <code>&quot;message&quot;</code></li>\n</ul>\n<p>See <a href=\"https://regex101.com/r/ztSykl/1\" rel=\"nofollow noreferrer\">regex101 live demo</a> for a thorough explanation.</p>\n"}],"owner":{"account_id":14455833,"reputation":660,"user_id":10443925,"display_name":"Maana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70992736,"answer_count":2,"score":1,"last_activity_date":1644016522,"creation_date":1644007200,"question_id":70992605,"body_markdown":"I want to get all the message data. Such that it should look for message and all the data between curly braces of the parent message. With the below pattern, I am not getting all parent body. \r\n\r\n```\r\n String data = &quot;syntax = \\&quot;proto3\\&quot;;\\r\\n&quot; + \r\n\t  \t\t&quot;package grpc;\\r\\n&quot; + \r\n\t  \t\t&quot;\\r\\n&quot; + \r\n\t  \t\t&quot;import \\&quot;envoyproxy/protoc-gen-validate/validate/validate.proto\\&quot;;\\r\\n&quot; + \r\n\t  \t\t&quot;import \\&quot;google/api/annotations.proto\\&quot;;\\r\\n&quot; + \r\n\t  \t\t&quot;import \\&quot;google/protobuf/wrappers.proto\\&quot;;\\r\\n&quot; + \r\n\t  \t\t&quot;import \\&quot;protoc-gen-swagger/options/annotations.proto\\&quot;;\\r\\n&quot; + \r\n\t  \t\t&quot;\\r\\n&quot; + \r\n\t  \t\t&quot;message Acc {\\r\\n&quot; + \r\n\t  \t\t&quot;    message AccErr {\\r\\n&quot; + \r\n\t  \t\t&quot;        enum Enum {\\r\\n&quot; + \r\n\t  \t\t&quot;            UNKNOWN = 0;\\r\\n&quot; + \r\n\t  \t\t&quot;            CASH = 1;\\r\\n&quot; + \r\n\t  \t\t&quot;        }\\r\\n&quot; + \r\n\t  \t\t&quot;    }\\r\\n&quot; + \r\n\t  \t\t&quot;    string account_id = 1;\\r\\n&quot; + \r\n\t  \t\t&quot;    string name = 3;\\r\\n&quot; + \r\n\t  \t\t&quot;    string account_type = 4;\\r\\n&quot; + \r\n\t  \t\t&quot;}\\r\\n&quot; + \r\n\t  \t\t&quot;\\r\\n&quot; + \r\n\t  \t\t&quot;message Name {\\r\\n&quot; + \r\n\t  \t\t&quot;    string firstname = 1;\\r\\n&quot; + \r\n\t  \t\t&quot;    string lastname = 2;\\r\\n&quot; + \r\n\t  \t\t&quot;}&quot;;\r\n\t\tList&lt;String&gt; allMessages = new ArrayList&lt;&gt;();\r\n\t\tPattern pattern = Pattern.compile(&quot;message[^\\\\}]*\\\\}&quot;);\r\n\t    Matcher matcher = pattern.matcher(data);\r\n\t    while (matcher.find()) {\r\n\t        String str = matcher.group();\r\n\t        allMessages.add(str);\r\n            System.out.println(str);\r\n\t    }\r\n\t}\r\n\t\r\n```\r\n\r\nI am expecting response like below in my array list of string with size 2.\r\n\r\n`allMessage.get(0)` should be:\r\n```\r\nmessage Acc {\r\n    message AccErr {\r\n        enum Enum {\r\n            UNKNOWN = 0;\r\n            CASH = 1;\r\n        }\r\n    }\r\n    string account_id = 1;\r\n    string name = 3;\r\n    string account_type = 4;\r\n}\r\n```\r\n\r\nand `allMessage.get(1)` should be:\r\n\r\n```\r\nmessage Name {\r\n    string firstname = 1;\r\n    string lastname = 2;\r\n}\r\n```","title":"Regex: starts with messages and string between parent message curly brace","body":"<p>I want to get all the message data. Such that it should look for message and all the data between curly braces of the parent message. With the below pattern, I am not getting all parent body.</p>\n<pre><code> String data = &quot;syntax = \\&quot;proto3\\&quot;;\\r\\n&quot; + \n            &quot;package grpc;\\r\\n&quot; + \n            &quot;\\r\\n&quot; + \n            &quot;import \\&quot;envoyproxy/protoc-gen-validate/validate/validate.proto\\&quot;;\\r\\n&quot; + \n            &quot;import \\&quot;google/api/annotations.proto\\&quot;;\\r\\n&quot; + \n            &quot;import \\&quot;google/protobuf/wrappers.proto\\&quot;;\\r\\n&quot; + \n            &quot;import \\&quot;protoc-gen-swagger/options/annotations.proto\\&quot;;\\r\\n&quot; + \n            &quot;\\r\\n&quot; + \n            &quot;message Acc {\\r\\n&quot; + \n            &quot;    message AccErr {\\r\\n&quot; + \n            &quot;        enum Enum {\\r\\n&quot; + \n            &quot;            UNKNOWN = 0;\\r\\n&quot; + \n            &quot;            CASH = 1;\\r\\n&quot; + \n            &quot;        }\\r\\n&quot; + \n            &quot;    }\\r\\n&quot; + \n            &quot;    string account_id = 1;\\r\\n&quot; + \n            &quot;    string name = 3;\\r\\n&quot; + \n            &quot;    string account_type = 4;\\r\\n&quot; + \n            &quot;}\\r\\n&quot; + \n            &quot;\\r\\n&quot; + \n            &quot;message Name {\\r\\n&quot; + \n            &quot;    string firstname = 1;\\r\\n&quot; + \n            &quot;    string lastname = 2;\\r\\n&quot; + \n            &quot;}&quot;;\n        List&lt;String&gt; allMessages = new ArrayList&lt;&gt;();\n        Pattern pattern = Pattern.compile(&quot;message[^\\\\}]*\\\\}&quot;);\n        Matcher matcher = pattern.matcher(data);\n        while (matcher.find()) {\n            String str = matcher.group();\n            allMessages.add(str);\n            System.out.println(str);\n        }\n    }\n    \n</code></pre>\n<p>I am expecting response like below in my array list of string with size 2.</p>\n<p><code>allMessage.get(0)</code> should be:</p>\n<pre><code>message Acc {\n    message AccErr {\n        enum Enum {\n            UNKNOWN = 0;\n            CASH = 1;\n        }\n    }\n    string account_id = 1;\n    string name = 3;\n    string account_type = 4;\n}\n</code></pre>\n<p>and <code>allMessage.get(1)</code> should be:</p>\n<pre><code>message Name {\n    string firstname = 1;\n    string lastname = 2;\n}\n</code></pre>\n"},{"tags":["java","csv","parsing"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1643998185,"post_id":70990841,"comment_id":125496894,"body_markdown":"You can&#39;t have unescaped commas in fields in a CSV file. You need to enclose fields that have commas in double quotes.","body":"You can&#39;t have unescaped commas in fields in a CSV file. You need to enclose fields that have commas in double quotes."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644922426,"post_id":70990841,"comment_id":125727892,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644016142,"creation_date":1644016142,"answer_id":70993838,"question_id":70990841,"body_markdown":"Can you edit your question and add the expected output?\r\n\r\nSomething like:\r\n```\r\nBob Billy\r\n97669013000\r\n05/22/2020\r\n```\r\nAnd so on? Also, do you want to retain the markers ```@@\\``` etc, or drop them?","title":"Parsing a CSV file using Java and it stays in one line","body":"<p>Can you edit your question and add the expected output?</p>\n<p>Something like:</p>\n<pre><code>Bob Billy\n97669013000\n05/22/2020\n</code></pre>\n<p>And so on? Also, do you want to retain the markers <code>@@\\</code> etc, or drop them?</p>\n"}],"owner":{"account_id":24157929,"reputation":1,"user_id":18121916,"display_name":"Bob Billy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1644016142,"creation_date":1643997487,"question_id":70990841,"body_markdown":"Each line in the CSV file looks like this:\r\n\r\nBob Billy, 97669013000,05/22/2020,@@\\978334032=1003,disclosure,4869t,floodcert437289-17894729523.pdf,1003,disclosure,3247t,floodcert,9728453,472947361.\r\n\r\nAfter the @@\\ to .pdf should all have the commas in them. This shouldnt be parsed. Just the end to beginning with pipes or something. Then from the comma after the .pdf to flood cert, should also keep all the commas, and the 7 and 9 digit number stay parsed.\r\n\r\nIm new to Java and would like to see how this is done. I have an idea but its very ugly.","title":"Parsing a CSV file using Java and it stays in one line","body":"<p>Each line in the CSV file looks like this:</p>\n<p>Bob Billy, 97669013000,05/22/2020,@@\\978334032=1003,disclosure,4869t,floodcert437289-17894729523.pdf,1003,disclosure,3247t,floodcert,9728453,472947361.</p>\n<p>After the @@\\ to .pdf should all have the commas in them. This shouldnt be parsed. Just the end to beginning with pipes or something. Then from the comma after the .pdf to flood cert, should also keep all the commas, and the 7 and 9 digit number stay parsed.</p>\n<p>Im new to Java and would like to see how this is done. I have an idea but its very ugly.</p>\n"},{"tags":["java","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":1030428,"reputation":20420,"user_id":1038826,"display_name":"zsxwing"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372655258,"creation_date":1372655258,"answer_id":17397758,"question_id":17397714,"body_markdown":"You can not use the abstract class `FileInputFormat` directly. If your inputs are text, you can use `org.apache.hadoop.mapreduce.lib.input.TextInputFormat`. For example,\r\n\r\n\r\n    MultipleInputs.addInputPath(job1, new Path(args[0]), TextInputFormat.class);\r\n    MultipleInputs.addInputPath(job1, new Path(args[1]), TextInputFormat.class);","title":"How to use MultipleInput class in mapreduce?","body":"<p>You can not use the abstract class <code>FileInputFormat</code> directly. If your inputs are text, you can use <code>org.apache.hadoop.mapreduce.lib.input.TextInputFormat</code>. For example,</p>\n\n<pre><code>MultipleInputs.addInputPath(job1, new Path(args[0]), TextInputFormat.class);\nMultipleInputs.addInputPath(job1, new Path(args[1]), TextInputFormat.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":320796,"reputation":5721,"user_id":639256,"accept_rate":14,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1372664723,"creation_date":1372664723,"answer_id":17399591,"question_id":17397714,"body_markdown":"\r\nThis is how you can use multiple input files in your job:\r\n\r\n    job1.setInputFormatClass(TextInputFormat.class);\r\n\r\n    FileInputFormat.setInputPaths(job1, input_1 + &quot;,&quot;\r\n\t\t\t\t\t+ input_2);","title":"How to use MultipleInput class in mapreduce?","body":"<p>This is how you can use multiple input files in your job:</p>\n\n<pre><code>job1.setInputFormatClass(TextInputFormat.class);\n\nFileInputFormat.setInputPaths(job1, input_1 + \",\"\n                + input_2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":909177,"reputation":2696,"user_id":943432,"accept_rate":100,"display_name":"Alex A."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386014833,"creation_date":1386014833,"answer_id":20336875,"question_id":17397714,"body_markdown":"I think it&#39;s worth mentioning another method that can be used for adding multiple input paths, and in my mind the prettiest and simplest: [FileInputFormat.setInputPaths(Job job, Path... inputPaths)][1]\r\n\r\nThe `Path...` signature tells you that you can give any number of Path objects to this call. Example:\r\n\r\n    FileInputFormat.setInputPaths(job, new Path(args[0]), new Path(args[1]), new Path(args[2]));\r\n\r\n  [1]: http://hadoop.apache.org/docs/current/api/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.html#setInputPaths%28org.apache.hadoop.mapreduce.Job,%20org.apache.hadoop.fs.Path...%29","title":"How to use MultipleInput class in mapreduce?","body":"<p>I think it's worth mentioning another method that can be used for adding multiple input paths, and in my mind the prettiest and simplest: <a href=\"http://hadoop.apache.org/docs/current/api/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.html#setInputPaths%28org.apache.hadoop.mapreduce.Job,%20org.apache.hadoop.fs.Path...%29\" rel=\"nofollow\">FileInputFormat.setInputPaths(Job job, Path... inputPaths)</a></p>\n\n<p>The <code>Path...</code> signature tells you that you can give any number of Path objects to this call. Example:</p>\n\n<pre><code>FileInputFormat.setInputPaths(job, new Path(args[0]), new Path(args[1]), new Path(args[2]));\n</code></pre>\n"}],"owner":{"account_id":2242383,"reputation":151,"user_id":1976546,"display_name":"user1976546"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7398,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1644015609,"creation_date":1372654976,"question_id":17397714,"body_markdown":"I have a one question.\r\n\r\n**I need two files as an Input to mapreduce program.**\r\n\r\n    @Override\r\n    public int run(String[] args) throws Exception {\r\n\t\r\n        (argument skip)\r\n    \tJob job1 = new Job();           \r\n        job1.setJarByClass(CFRecommenderDriver.class);\r\n       \r\n        job1.setMapperClass(CFRecommenderMapper.class); \t\r\n        //job1.setReducerClass(CFRecommenderReducer.class);    \r\n        \r\n        job1.setMapOutputKeyClass(Text.class);\r\n        job1.setMapOutputValueClass(TextDoublePairWritableComparable.class);\r\n        \r\n        //job1.setOutputKeyClass(TextTwoWritableComparable.class);\r\n        //job1.setOutputValueClass(TextDoubleTwoPairsWritableComparable.class);\r\n        \r\n        MultipleInputs.addInputPath(job1, new Path(args[0]), FileInputFormat.class);\r\n        MultipleInputs.addInputPath(job1, new Path(args[1]), FileInputFormat.class);\r\n\r\n\tjob1.setNumReduceTasks(0);\r\n\t\t\r\n        boolean step1 = job1.waitForCompletion(true);\r\n        if(!(step1)) return -1;\r\n\r\n\r\n**If I&#39;m running program with the following command:**\r\n\r\n    hadoop jar mapreduce-0.1.jar cf /input/cf-re/data1 /input/cf-re/data2 /output/cf-r/data1\r\n\r\n**I get the following error:**\r\n\r\n    2013-07-01 13:13:44.822 java[45783:1603] Unable to load realm info from SCDynamicStore\r\n    13/07/01 13:13:45 WARN mapred.JobClient: Use GenericOptionsParser for parsing the        arguments. Applications should implement Tool for the same.\r\n     13/07/01 13:13:45 INFO mapred.JobClient: Cleaning up the staging area  hdfs://127.0.0.1:9000/tmp/hadoop- suhyunjeon/mapred/staging/suhyunjeon/.staging/job_201306191432_0218\r\n     java.lang.RuntimeException: java.lang.InstantiationException\r\n\tat org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:115)\r\n\tat org.apache.hadoop.mapreduce.lib.input.MultipleInputs.getInputFormatMap(MultipleInputs.java:109)\r\n\tat org.apache.hadoop.mapreduce.lib.input.DelegatingInputFormat.getSplits(DelegatingInputFormat.java:58)\r\n\tat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:1024)\r\n\tat org.apache.hadoop.mapred.JobClient.writeSplits(JobClient.java:1041)\r\n\tat org.apache.hadoop.mapred.JobClient.access$700(JobClient.java:179)\r\n\tat org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:959)\r\n\tat org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:912)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1149)\r\n\tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:912)\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:500)\r\n\tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:530)\r\n\tat org.ankus.hadoop.mapreduce.algorithm.cf.recommender.CFRecommenderDriver.run(CFRecommenderDriver.java:86)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)\r\n\tat org.ankus.hadoop.mapreduce.algorithm.cf.recommender.CFRecommenderDriver.main(CFRecommenderDriver.java:49)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:68)\r\n\tat org.apache.hadoop.util.ProgramDriver.driver(ProgramDriver.java:139)\r\n\tat org.ankus.hadoop.mapreduce.MapReduceDriver.main(MapReduceDriver.java:64)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.hadoop.util.RunJar.main(RunJar.java:156)\r\n    Caused by: java.lang.InstantiationException\r\n\tat sun.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:30)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n\tat org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:113)\r\n\t... 29 more\r\n\r\n\r\nI don&#39;t know what exactly the problem. Please help me.","title":"How to use MultipleInput class in mapreduce?","body":"<p>I have a one question.</p>\n\n<p><strong>I need two files as an Input to mapreduce program.</strong></p>\n\n<pre><code>@Override\npublic int run(String[] args) throws Exception {\n\n    (argument skip)\n    Job job1 = new Job();           \n    job1.setJarByClass(CFRecommenderDriver.class);\n\n    job1.setMapperClass(CFRecommenderMapper.class);     \n    //job1.setReducerClass(CFRecommenderReducer.class);    \n\n    job1.setMapOutputKeyClass(Text.class);\n    job1.setMapOutputValueClass(TextDoublePairWritableComparable.class);\n\n    //job1.setOutputKeyClass(TextTwoWritableComparable.class);\n    //job1.setOutputValueClass(TextDoubleTwoPairsWritableComparable.class);\n\n    MultipleInputs.addInputPath(job1, new Path(args[0]), FileInputFormat.class);\n    MultipleInputs.addInputPath(job1, new Path(args[1]), FileInputFormat.class);\n\njob1.setNumReduceTasks(0);\n\n    boolean step1 = job1.waitForCompletion(true);\n    if(!(step1)) return -1;\n</code></pre>\n\n<p><strong>If I'm running program with the following command:</strong></p>\n\n<pre><code>hadoop jar mapreduce-0.1.jar cf /input/cf-re/data1 /input/cf-re/data2 /output/cf-r/data1\n</code></pre>\n\n<p><strong>I get the following error:</strong></p>\n\n<pre><code>2013-07-01 13:13:44.822 java[45783:1603] Unable to load realm info from SCDynamicStore\n13/07/01 13:13:45 WARN mapred.JobClient: Use GenericOptionsParser for parsing the        arguments. Applications should implement Tool for the same.\n 13/07/01 13:13:45 INFO mapred.JobClient: Cleaning up the staging area  hdfs://127.0.0.1:9000/tmp/hadoop- suhyunjeon/mapred/staging/suhyunjeon/.staging/job_201306191432_0218\n java.lang.RuntimeException: java.lang.InstantiationException\nat org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:115)\nat org.apache.hadoop.mapreduce.lib.input.MultipleInputs.getInputFormatMap(MultipleInputs.java:109)\nat org.apache.hadoop.mapreduce.lib.input.DelegatingInputFormat.getSplits(DelegatingInputFormat.java:58)\nat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:1024)\nat org.apache.hadoop.mapred.JobClient.writeSplits(JobClient.java:1041)\nat org.apache.hadoop.mapred.JobClient.access$700(JobClient.java:179)\nat org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:959)\nat org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:912)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:396)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1149)\nat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:912)\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:500)\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:530)\nat org.ankus.hadoop.mapreduce.algorithm.cf.recommender.CFRecommenderDriver.run(CFRecommenderDriver.java:86)\nat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\nat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)\nat org.ankus.hadoop.mapreduce.algorithm.cf.recommender.CFRecommenderDriver.main(CFRecommenderDriver.java:49)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:68)\nat org.apache.hadoop.util.ProgramDriver.driver(ProgramDriver.java:139)\nat org.ankus.hadoop.mapreduce.MapReduceDriver.main(MapReduceDriver.java:64)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.apache.hadoop.util.RunJar.main(RunJar.java:156)\nCaused by: java.lang.InstantiationException\nat sun.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:30)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\nat org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:113)\n... 29 more\n</code></pre>\n\n<p>I don't know what exactly the problem. Please help me.</p>\n"},{"tags":["java","rest","jsp"],"answers":[{"tags":[],"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644015567,"creation_date":1644015567,"answer_id":70993759,"question_id":70991739,"body_markdown":"Your JSP line:\r\n```\r\n&lt;button \r\n   value=&quot;Honduras&quot; \r\n   type=&quot;submit&quot; \r\n   name=&quot;add&quot; \r\n   class=&quot;btn btn-primary&quot;&gt;\r\n      Add to Cart\r\n&lt;/a&gt;\r\n```\r\n\r\nUses a ```button``` to open the tag, but uses a ```a``` to close the tag\r\n\r\nNot sure if this is the issue, but it is incorrect","title":"JSP file and button value","body":"<p>Your JSP line:</p>\n<pre><code>&lt;button \n   value=&quot;Honduras&quot; \n   type=&quot;submit&quot; \n   name=&quot;add&quot; \n   class=&quot;btn btn-primary&quot;&gt;\n      Add to Cart\n&lt;/a&gt;\n</code></pre>\n<p>Uses a <code>button</code> to open the tag, but uses a <code>a</code> to close the tag</p>\n<p>Not sure if this is the issue, but it is incorrect</p>\n"}],"owner":{"account_id":18875662,"reputation":111,"user_id":13769249,"display_name":"michaelpnrs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644015567,"creation_date":1644002174,"question_id":70991739,"body_markdown":"I have a **JSP** file. Inside that file I want to take the value when the button is pressed. \r\n\r\n    &lt;button value=&quot;Honduras&quot; type=&quot;submit&quot; name=&quot;add&quot; class=&quot;btn btn-primary&quot;&gt;Add to Cart&lt;/a&gt;\r\n\r\nI am trying to extract `value=&quot;Honduras&quot;` when button with `name=&quot;add&quot;` is pressed. \r\n\r\n    String productName = request.getParameter(&quot;add&quot;); //Expected productName=&quot;Honduras&quot;\r\n\r\nBut I get the following error which refers to the line above: \r\n\r\n    Message An exception occurred processing [/index.jsp] at line [68]\r\n\r\nAny thoughts?\r\n\r\n\r\n","title":"JSP file and button value","body":"<p>I have a <strong>JSP</strong> file. Inside that file I want to take the value when the button is pressed.</p>\n<pre><code>&lt;button value=&quot;Honduras&quot; type=&quot;submit&quot; name=&quot;add&quot; class=&quot;btn btn-primary&quot;&gt;Add to Cart&lt;/a&gt;\n</code></pre>\n<p>I am trying to extract <code>value=&quot;Honduras&quot;</code> when button with <code>name=&quot;add&quot;</code> is pressed.</p>\n<pre><code>String productName = request.getParameter(&quot;add&quot;); //Expected productName=&quot;Honduras&quot;\n</code></pre>\n<p>But I get the following error which refers to the line above:</p>\n<pre><code>Message An exception occurred processing [/index.jsp] at line [68]\n</code></pre>\n<p>Any thoughts?</p>\n"},{"tags":["java","reactjs","spring","postgresql"],"comments":[{"owner":{"account_id":16296860,"reputation":579,"user_id":11768882,"display_name":"Arturo Mendes"},"score":0,"creation_date":1643965547,"post_id":70983761,"comment_id":125484066,"body_markdown":"I think that your question is very broad, but aside from that, it would benefit from you giving some code from your API and some idea of how is your database modelled.","body":"I think that your question is very broad, but aside from that, it would benefit from you giving some code from your API and some idea of how is your database modelled."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644860487,"post_id":70983761,"comment_id":125712063,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24121639,"reputation":21,"user_id":18090721,"display_name":"Raza88"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644014743,"creation_date":1643965347,"question_id":70983761,"body_markdown":"For my project, I am building a fitness app with React front-end and Spring back-end. DB I am using is Postgres.\r\nI have completed my back-end set up which includes all my controllers.\r\nMy front-end is supposed to be have a landing page which displays a list of all muscles. I have got that by writing the following code:\r\n\r\n```const MusclesGrid = ({muscles}) =&gt;{\r\n    const renderedMuscles = muscles.map((muscle) =&gt;{\r\n        return &lt;MuscleCard muscle={muscle} key={muscle.id}/&gt;\r\n    });\r\n```\r\n\r\nI am then returning {renderedMuscles} which generates a list of muscle items.\r\nI am now stuck on the following: \r\n\r\n 1. I want to click on a muscle item and then fetch exercises for the clicked muscle from the DB. For example, clicking on &#39;chest&#39; should return a list that includes &#39;bench press&#39;, &#39;dumbbell flies&#39;, &#39;press ups&#39; etc.\r\n 2. I then want to click on an exercise which brings up a form that has an increment and decrement button for reps, and increment and decrement button for weight and a save button.\r\n\r\nHow do I progress with this? My instructor suggested that I may have to use react controllers instead of Spring but other than that he doesn&#39;t know how I can achieve this or what I can do next. If I create a React router, what is it that I can achieve with it that I can&#39;t with my current set up?\r\nI am more than half-way through my project and I feel I am really close to completion but really frustrated with what I am stuck on. Any help with this would be much appreciated. Thanks","title":"React JS, Spring and Postgres project","body":"<p>For my project, I am building a fitness app with React front-end and Spring back-end. DB I am using is Postgres.\nI have completed my back-end set up which includes all my controllers.\nMy front-end is supposed to be have a landing page which displays a list of all muscles. I have got that by writing the following code:</p>\n<pre><code>    const renderedMuscles = muscles.map((muscle) =&gt;{\n        return &lt;MuscleCard muscle={muscle} key={muscle.id}/&gt;\n    });\n</code></pre>\n<p>I am then returning {renderedMuscles} which generates a list of muscle items.\nI am now stuck on the following:</p>\n<ol>\n<li>I want to click on a muscle item and then fetch exercises for the clicked muscle from the DB. For example, clicking on 'chest' should return a list that includes 'bench press', 'dumbbell flies', 'press ups' etc.</li>\n<li>I then want to click on an exercise which brings up a form that has an increment and decrement button for reps, and increment and decrement button for weight and a save button.</li>\n</ol>\n<p>How do I progress with this? My instructor suggested that I may have to use react controllers instead of Spring but other than that he doesn't know how I can achieve this or what I can do next. If I create a React router, what is it that I can achieve with it that I can't with my current set up?\nI am more than half-way through my project and I feel I am really close to completion but really frustrated with what I am stuck on. Any help with this would be much appreciated. Thanks</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634667310,"creation_date":1634667310,"answer_id":69635858,"question_id":69618836,"body_markdown":"MapStruct has a way to use custom mapping between some fields. So in your case you can do someting like:\r\n\r\n```\r\n@Mapper(componentModel = &quot;cdi&quot;)\r\npublic interface MyMapper {\r\n\r\n    @Mapping(target = &quot;fieldRequiringCustomMapping&quot;, qualifiedByName = &quot;customFieldMapping&quot;)\r\n    MyDto toDTO(MyEntity myEntity);\r\n\r\n    // The @(org.mapstruct.)Named is only needed if the Return and Target type are not unique\r\n    @Named(&quot;customFieldMapping&quot;)\r\n    default FieldRequiringCustomMapping customMapping(SourceForFieldRequiringCustomMapping source) {\r\n        // Custom mapping here resulting in a Map&lt;&gt; map\r\n        return map\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI do not know from what your `fieldRequiringCustomMapping` needs to be mapped, the example assumes that you have such a field in `MyEntity` as well, if that is not the case you&#39;ll need to add `source` to the `@Mapping`.\r\n\r\n\r\n-----\r\n\r\nSide Note: When using a non default `componentModel` in your case `cdi` it is not recommended to use the `Mappers` factory. It will not perform the injection of other mappers in case you use them in a mapper.","title":"How to implement a partial custom mapping with MapStruct?","body":"<p>MapStruct has a way to use custom mapping between some fields. So in your case you can do someting like:</p>\n<pre><code>@Mapper(componentModel = &quot;cdi&quot;)\npublic interface MyMapper {\n\n    @Mapping(target = &quot;fieldRequiringCustomMapping&quot;, qualifiedByName = &quot;customFieldMapping&quot;)\n    MyDto toDTO(MyEntity myEntity);\n\n    // The @(org.mapstruct.)Named is only needed if the Return and Target type are not unique\n    @Named(&quot;customFieldMapping&quot;)\n    default FieldRequiringCustomMapping customMapping(SourceForFieldRequiringCustomMapping source) {\n        // Custom mapping here resulting in a Map&lt;&gt; map\n        return map\n    }\n    \n}\n</code></pre>\n<p>I do not know from what your <code>fieldRequiringCustomMapping</code> needs to be mapped, the example assumes that you have such a field in <code>MyEntity</code> as well, if that is not the case you'll need to add <code>source</code> to the <code>@Mapping</code>.</p>\n<hr />\n<p>Side Note: When using a non default <code>componentModel</code> in your case <code>cdi</code> it is not recommended to use the <code>Mappers</code> factory. It will not perform the injection of other mappers in case you use them in a mapper.</p>\n"}],"owner":{"account_id":801994,"reputation":4036,"user_id":884319,"accept_rate":88,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3185,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69635858,"answer_count":1,"score":3,"last_activity_date":1644014282,"creation_date":1634571441,"question_id":69618836,"body_markdown":"I would like MapStruct to map every property of my Object, **except for one particular one for which I would like to provide a custom mapping**. \r\n\r\nSo far, I implemented the whole mapper myself, but every time I add a new property to my Entity, I forget to update the mapper. \r\n\r\n    @Mapper(componentModel = &quot;cdi&quot;)\r\n    public interface MyMapper {\r\n        MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\r\n    \r\n        default MyDto toDTO(MyEntity myEntity){\r\n            MyDto dto = new MyDto();\r\n            dto.field1 = myEntity.field1;\r\n            // [...]\r\n            dto.fieldN = myEntity.fieldN;\r\n    \r\n            // Custom mapping here resulting in a Map&lt;&gt; map\r\n            dto.fieldRequiringCustomMapping = map;\r\n    \r\n        }\r\n    }\r\n\r\nIs there a way to **outsource the mapping for my field fieldRequiringCustomMapping** and tell MapStruct to map **all the other ones** like usual? &#129300;\r\n\r\n\r\n\r\n","title":"How to implement a partial custom mapping with MapStruct?","body":"<p>I would like MapStruct to map every property of my Object, <strong>except for one particular one for which I would like to provide a custom mapping</strong>.</p>\n<p>So far, I implemented the whole mapper myself, but every time I add a new property to my Entity, I forget to update the mapper.</p>\n<pre><code>@Mapper(componentModel = &quot;cdi&quot;)\npublic interface MyMapper {\n    MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\n\n    default MyDto toDTO(MyEntity myEntity){\n        MyDto dto = new MyDto();\n        dto.field1 = myEntity.field1;\n        // [...]\n        dto.fieldN = myEntity.fieldN;\n\n        // Custom mapping here resulting in a Map&lt;&gt; map\n        dto.fieldRequiringCustomMapping = map;\n\n    }\n}\n</code></pre>\n<p>Is there a way to <strong>outsource the mapping for my field fieldRequiringCustomMapping</strong> and tell MapStruct to map <strong>all the other ones</strong> like usual? 🤔</p>\n"},{"tags":["java","blob","jpeg","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":2279626,"reputation":17055,"user_id":2005061,"display_name":"Todd Kerpelman"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1644013358,"creation_date":1520979700,"answer_id":49266770,"question_id":49265931,"body_markdown":"As a general rule, unless you&#39;re storing fairly small icons, I&#39;d say, &quot;Don&#39;t do this.&quot; \r\n\r\nWhile you can store native binary data in Cloud Firestore you&#39;re going to run up against some limits in the database, specifically, a single document can&#39;t be more than 1&#160;MB large. (You don&#39;t really need to Base64-encode your image.) \r\n\r\nInstead, I would store the images themselves in Cloud Storage for Firebase and then just keep the download URLs in Cloud Firestore. Cloud Storage is approximately 7x cheaper in terms of storage costs, has much larger limits in terms of maximum file size, and by grabbing these download URLs, you can take advantage of third-party libraries like Picasso and Glide that can manage the image downloading for you, while also adding nifty features like memory or disk caching or showing placeholder graphics.\r\n\r\nYou might want to check out the &quot;[Getting Started with Firebase Storage on Android][1]&quot; video for more information.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=7puuTDSf3pk","title":"How to add an image to a record in a Firestore database","body":"<p>As a general rule, unless you're storing fairly small icons, I'd say, &quot;Don't do this.&quot;</p>\n<p>While you can store native binary data in Cloud Firestore you're going to run up against some limits in the database, specifically, a single document can't be more than 1 MB large. (You don't really need to Base64-encode your image.)</p>\n<p>Instead, I would store the images themselves in Cloud Storage for Firebase and then just keep the download URLs in Cloud Firestore. Cloud Storage is approximately 7x cheaper in terms of storage costs, has much larger limits in terms of maximum file size, and by grabbing these download URLs, you can take advantage of third-party libraries like Picasso and Glide that can manage the image downloading for you, while also adding nifty features like memory or disk caching or showing placeholder graphics.</p>\n<p>You might want to check out the &quot;<a href=\"https://www.youtube.com/watch?v=7puuTDSf3pk\" rel=\"nofollow noreferrer\">Getting Started with Firebase Storage on Android</a>&quot; video for more information.</p>\n"}],"owner":{"account_id":3281253,"reputation":151,"user_id":2761822,"accept_rate":0,"display_name":"rosey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26680,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1644013358,"creation_date":1520975498,"question_id":49265931,"body_markdown":"I need to add JPEG images to Firestore DB records. My preferred way would be in a blob as I have used in SQLite records. I ran into some problems trying this.\r\n\r\nThis is my best try so far:\r\n\r\n    public Blob getImage() {\r\n        Uri uri = Uri.fromFile(new\r\n    File(mCurrentPhotoPath));\r\n        File f1 = new File(mCurrentPhotoPath);\r\n        URL myURL = null;\r\n        try {\r\n\r\n            myURL = f1.toURI().toURL();\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Bitmap bitmap = null;\r\n\r\n        BitmapFactory.Options options = new\r\n    BitmapFactory.Options();\r\n        options.inPreferredConfig =\r\n    Bitmap.Config.ARGB_8888;\r\n        try {\r\n            if (myURL != null) {\r\n                bitmap =\r\n    BitmapFactory.decodeStream(\r\n    myURL.openConnection().getInputStream());\r\n                String wBlob =\r\n    encodeToBase64(bitmap,\r\n     Bitmap.CompressFormat.JPEG, 100);\r\n           blob = fromBase64String(wBlob);\r\n    }\r\n\r\n\r\n        } catch (java.io.IOException e) {\r\n            e.printStackTrace();\r\n\r\n        }\r\n        return blob;\r\n    }\r\n\r\nMy problem is in the line:\r\n\r\n    blob = fromBase64String(wBlob);\r\n\r\nI also have a problem with passing a blob to the class that sets the record:\r\n\r\n    intent.putExtra(&quot;blobImage&quot;,  blob );\r\n","title":"How to add an image to a record in a Firestore database","body":"<p>I need to add JPEG images to Firestore DB records. My preferred way would be in a blob as I have used in SQLite records. I ran into some problems trying this.</p>\n<p>This is my best try so far:</p>\n<pre><code>public Blob getImage() {\n    Uri uri = Uri.fromFile(new\nFile(mCurrentPhotoPath));\n    File f1 = new File(mCurrentPhotoPath);\n    URL myURL = null;\n    try {\n\n        myURL = f1.toURI().toURL();\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n\n    Bitmap bitmap = null;\n\n    BitmapFactory.Options options = new\nBitmapFactory.Options();\n    options.inPreferredConfig =\nBitmap.Config.ARGB_8888;\n    try {\n        if (myURL != null) {\n            bitmap =\nBitmapFactory.decodeStream(\nmyURL.openConnection().getInputStream());\n            String wBlob =\nencodeToBase64(bitmap,\n Bitmap.CompressFormat.JPEG, 100);\n       blob = fromBase64String(wBlob);\n}\n\n\n    } catch (java.io.IOException e) {\n        e.printStackTrace();\n\n    }\n    return blob;\n}\n</code></pre>\n<p>My problem is in the line:</p>\n<pre><code>blob = fromBase64String(wBlob);\n</code></pre>\n<p>I also have a problem with passing a blob to the class that sets the record:</p>\n<pre><code>intent.putExtra(&quot;blobImage&quot;,  blob );\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3180842,"reputation":1675,"user_id":2687589,"accept_rate":83,"display_name":"Brandon McKenzie"},"score":1,"creation_date":1438713376,"post_id":31814812,"comment_id":51558976,"body_markdown":"Can you clarify &quot;it didn&#39;t work&quot;?  Did you get an error message?  Did your code not compile?   Did you get a NoClassDefFound message during runtime?","body":"Can you clarify &quot;it didn&#39;t work&quot;?  Did you get an error message?  Did your code not compile?   Did you get a NoClassDefFound message during runtime?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1644013217,"creation_date":1443178837,"answer_id":32780697,"question_id":31814812,"body_markdown":"Maybe there are better, simpler ways, cleaner ways, but I think you have three options here.\r\n\r\n### First option\r\n\r\nSince `BaseTest` is a class that is in fact part of a reusable testing library (you use it in both projects), you could simply create a `testing` subprojects, where BaseTest is defined in src/main/java and not src/test/java. The `testCompile` configuration of the other two subprojects would both have a dependency on `project(&#39;testing&#39;)`.\r\n\r\n### Second option (UPDATED for Gradle 7.3)\r\n\r\nIn this second option, you would define an additional artifact and configuration in the first project:\r\n\r\n    configurations {\r\n      testClasses {\r\n        extendsFrom(testImplementation)\r\n      }\r\n    }\r\n    \r\n    task testJar(type: Jar) {\r\n      archiveClassifier.set(&#39;test&#39;)\r\n      from sourceSets.test.output\r\n    }\r\n    \r\n    // add the jar generated by the testJar task to the testClasses dependency\r\n    artifacts {\r\n      testClasses testJar\r\n    }\r\n\r\nand you would depend on this configuration in the second project:\r\n\r\n    dependencies {\r\n      testCompile project(path: &#39;:ProjA&#39;, configuration: &#39;testClasses&#39;)\r\n    }\r\n\r\n### Third option\r\n\r\nBasically the same as the second one, except it doesn&#39;t add a new configuration to the first project:\r\n\r\n    task testJar(type: Jar) {\r\n      archiveClassifier.set(&#39;test&#39;)\r\n      from sourceSets.test.output\r\n    }\r\n    \r\n    artifacts {\r\n      testRuntime testJar\r\n    }\r\n\r\nand\r\n\r\n    dependencies {\r\n      testCompile project(path: &#39;:one&#39;, configuration: &#39;testRuntime&#39;)\r\n    }","title":"How to share test classes across Gradle projects?","body":"<p>Maybe there are better, simpler ways, cleaner ways, but I think you have three options here.</p>\n<h3>First option</h3>\n<p>Since <code>BaseTest</code> is a class that is in fact part of a reusable testing library (you use it in both projects), you could simply create a <code>testing</code> subprojects, where BaseTest is defined in src/main/java and not src/test/java. The <code>testCompile</code> configuration of the other two subprojects would both have a dependency on <code>project('testing')</code>.</p>\n<h3>Second option (UPDATED for Gradle 7.3)</h3>\n<p>In this second option, you would define an additional artifact and configuration in the first project:</p>\n<pre><code>configurations {\n  testClasses {\n    extendsFrom(testImplementation)\n  }\n}\n\ntask testJar(type: Jar) {\n  archiveClassifier.set('test')\n  from sourceSets.test.output\n}\n\n// add the jar generated by the testJar task to the testClasses dependency\nartifacts {\n  testClasses testJar\n}\n</code></pre>\n<p>and you would depend on this configuration in the second project:</p>\n<pre><code>dependencies {\n  testCompile project(path: ':ProjA', configuration: 'testClasses')\n}\n</code></pre>\n<h3>Third option</h3>\n<p>Basically the same as the second one, except it doesn't add a new configuration to the first project:</p>\n<pre><code>task testJar(type: Jar) {\n  archiveClassifier.set('test')\n  from sourceSets.test.output\n}\n\nartifacts {\n  testRuntime testJar\n}\n</code></pre>\n<p>and</p>\n<pre><code>dependencies {\n  testCompile project(path: ':one', configuration: 'testRuntime')\n}\n</code></pre>\n"}],"owner":{"account_id":2329817,"reputation":481,"user_id":2043517,"accept_rate":0,"display_name":"Britboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11134,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"closed_date":1505919985,"answer_count":1,"score":19,"last_activity_date":1644013217,"creation_date":1438706480,"question_id":31814812,"body_markdown":"I am using Gradle to build and test my projects. I have two projects:\r\n\r\n    ProjA  contains      src\\test\\java\\BaseTest.java       \r\n    ProjB  contains      src\\test\\java\\MyTest.java\r\n\r\n    MyTest extends BaseTest\r\n\r\nWhen I run `ProjB.gradle`, how do I get it to see the `BaseTest` class from ProjA?\r\n\r\nI tried adding:\r\n\r\n    dependencies {\r\n      testCompile project(&#39;ProjA&#39;) \r\n    }\r\n\r\nBut it didn&#39;t work.","title":"How to share test classes across Gradle projects?","body":"<p>I am using Gradle to build and test my projects. I have two projects:</p>\n\n<pre><code>ProjA  contains      src\\test\\java\\BaseTest.java       \nProjB  contains      src\\test\\java\\MyTest.java\n\nMyTest extends BaseTest\n</code></pre>\n\n<p>When I run <code>ProjB.gradle</code>, how do I get it to see the <code>BaseTest</code> class from ProjA?</p>\n\n<p>I tried adding:</p>\n\n<pre><code>dependencies {\n  testCompile project('ProjA') \n}\n</code></pre>\n\n<p>But it didn't work.</p>\n"},{"tags":["java","android","image","compression"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1644014514,"post_id":70993469,"comment_id":125501879,"body_markdown":"For this, I&#39;d definitely go `assets/` over a resource. You might try unpacking your APK (it&#39;s a ZIP file), grabbing the PNG out of there, and try that with your Golang code (or maybe just compare hashes with a known-good PNG). If the APK copy is different, then the issue may be that your PNG is being modified as part of the build process. Another way to do the same test is to try reading in a PNG that is stored as a file on the device.","body":"For this, I&#39;d definitely go <code>assets&#47;</code> over a resource. You might try unpacking your APK (it&#39;s a ZIP file), grabbing the PNG out of there, and try that with your Golang code (or maybe just compare hashes with a known-good PNG). If the APK copy is different, then the issue may be that your PNG is being modified as part of the build process. Another way to do the same test is to try reading in a PNG that is stored as a file on the device."}],"owner":{"account_id":159315,"reputation":398,"user_id":378541,"display_name":"Casey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644013154,"creation_date":1644013154,"question_id":70993469,"body_markdown":"I&#39;m trying to load a PNG into a Bitmap object using BitmapFactory like this: \r\n\r\n```BitmapFactory.decodeResource(resources, R.drawable.tile_18_23);```\r\n\r\nThe raw values of the pixels will be used in a GL shader program and need to be exact (or at least as close as floats every get) but what I&#39;m getting is clipped for low values (anything lower than RGB 20 or so is translated to zero for any color channel) and some sort of color-space mapping appears to be happening that I haven&#39;t been able to reason about.  The values are off by 2x or more. \r\n\r\nI&#39;ve tried tons of configurations of `BitmapFactory.Options` but none of them seem to produce output consistent with raw input. In worst-case I&#39;d be ok with re-mapping the colors but can&#39;t figure out the logic it&#39;s using and neither `options.inPreferredColorSpace` or `options.outColorSpace` appear to have much impact.  Based on other answers, here&#39;s my best attempt at options that still doesn&#39;t work: \r\n\r\n```\r\n            BitmapFactory.Options options = new BitmapFactory.Options();\r\n            options.inDither = false;\r\n            options.inPreferredConfig = Bitmap.Config.ARGB_8888;\r\n            Bitmap bm = BitmapFactory.decodeResource(resources, R.drawable.tile_18_23, options);\r\n```\r\n\r\nTried putting the image in both assets and drawable-nodpi without any change. \r\n\r\nIf I read the PNG using Golang, all the channels have exactly the values I&#39;d expect in the PNG so I don&#39;t think the problem is in creation of the PNG.  ","title":"Load PNG into Bitmap without pixel modification","body":"<p>I'm trying to load a PNG into a Bitmap object using BitmapFactory like this:</p>\n<p><code>BitmapFactory.decodeResource(resources, R.drawable.tile_18_23);</code></p>\n<p>The raw values of the pixels will be used in a GL shader program and need to be exact (or at least as close as floats every get) but what I'm getting is clipped for low values (anything lower than RGB 20 or so is translated to zero for any color channel) and some sort of color-space mapping appears to be happening that I haven't been able to reason about.  The values are off by 2x or more.</p>\n<p>I've tried tons of configurations of <code>BitmapFactory.Options</code> but none of them seem to produce output consistent with raw input. In worst-case I'd be ok with re-mapping the colors but can't figure out the logic it's using and neither <code>options.inPreferredColorSpace</code> or <code>options.outColorSpace</code> appear to have much impact.  Based on other answers, here's my best attempt at options that still doesn't work:</p>\n<pre><code>            BitmapFactory.Options options = new BitmapFactory.Options();\n            options.inDither = false;\n            options.inPreferredConfig = Bitmap.Config.ARGB_8888;\n            Bitmap bm = BitmapFactory.decodeResource(resources, R.drawable.tile_18_23, options);\n</code></pre>\n<p>Tried putting the image in both assets and drawable-nodpi without any change.</p>\n<p>If I read the PNG using Golang, all the channels have exactly the values I'd expect in the PNG so I don't think the problem is in creation of the PNG.</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643967435,"creation_date":1643967435,"answer_id":70984154,"question_id":70983872,"body_markdown":"First of all, it&#39;s almost impossible to unit test something properly when static variables are involved.\r\nChanging the variable value or internal state have chances to leak in following tests, and it&#39;s much worse when several tests are ran in parallel (Surfire does run tests in parallel for example).\r\n\r\nSo the first thing to do is to refactor your code to don&#39;t use static variables.\r\nYou should for example use dependency injection, if you are using a framework with that feature such as Spring.\r\n\r\nSecondly, to test time sensitive stuff as it looks to be the case here, you can use [clocks](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Clock.html).\r\nAs time is everywhere in applications, this isn&#39;t as easy to set up as it looks like, though.\r\n","title":"How to write a unit test for static variable?","body":"<p>First of all, it's almost impossible to unit test something properly when static variables are involved.\nChanging the variable value or internal state have chances to leak in following tests, and it's much worse when several tests are ran in parallel (Surfire does run tests in parallel for example).</p>\n<p>So the first thing to do is to refactor your code to don't use static variables.\nYou should for example use dependency injection, if you are using a framework with that feature such as Spring.</p>\n<p>Secondly, to test time sensitive stuff as it looks to be the case here, you can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Clock.html\" rel=\"nofollow noreferrer\">clocks</a>.\nAs time is everywhere in applications, this isn't as easy to set up as it looks like, though.</p>\n"},{"tags":[],"owner":{"account_id":7931581,"reputation":86,"user_id":5989233,"display_name":"AlexMelgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643967769,"creation_date":1643967769,"answer_id":70984234,"question_id":70983872,"body_markdown":"- I may not have enough context on how you&#39;re planning to use the Auth class, however, base on what I can see, your `shouldCreateNewToken` method will ALWAYS return true.\r\n\r\n  Static variables are created before the `main` is executed. When your program/service is initialized, you&#39;ll already have a value for `tokenExpiration` (let&#39;s say 10), and when you&#39;re method is executed, it will always pick a value greater than the tokenExpiration (let&#39;s say 11,12,...)\r\n\r\n  Here I shared a quick guide to understand that behavior: https://www.baeldung.com/java-static-variables-initialization\r\n\r\n- About the mock question you have, there are 2 approaches which could be used:\r\n  1. You could use [mockStatic][1] from Mockito, or even PowerMockito has a similar approach (depending what you use/prefer), and mock the Instant object\r\n\r\n         Instant instant = Instant.now();\r\n\r\n         try (MockedStatic&lt;Instant&gt; mockedInstant = Mockito.mockStatic(Instant.class)) {\r\n             mockedInstant.when(now()).thenReturn(instant);\r\n             ...\r\n         }\r\n\r\n  2. The second approach is to pass the `tokenExpiration` instant as parameter of the Auth class&#39; constructor, this way you 1) avoid the mocking, allowing you to pass the instant you want, and 2) allows you to create different Auth configurations base on different needs.\r\n\r\n         class Auth {\r\n             \r\n             private final Instant tokenExpiration;\r\n\r\n             public Auth(Instant tokenExpiration) {\r\n                 this.tokenExpiration = tokenExpiration;\r\n             }\r\n        \r\n             ...\r\n\r\n         }\r\n\r\n\r\n[1]: https://www.baeldung.com/mockito-mock-static-methods","title":"How to write a unit test for static variable?","body":"<ul>\n<li><p>I may not have enough context on how you're planning to use the Auth class, however, base on what I can see, your <code>shouldCreateNewToken</code> method will ALWAYS return true.</p>\n<p>Static variables are created before the <code>main</code> is executed. When your program/service is initialized, you'll already have a value for <code>tokenExpiration</code> (let's say 10), and when you're method is executed, it will always pick a value greater than the tokenExpiration (let's say 11,12,...)</p>\n<p>Here I shared a quick guide to understand that behavior: <a href=\"https://www.baeldung.com/java-static-variables-initialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-static-variables-initialization</a></p>\n</li>\n<li><p>About the mock question you have, there are 2 approaches which could be used:</p>\n<ol>\n<li><p>You could use <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">mockStatic</a> from Mockito, or even PowerMockito has a similar approach (depending what you use/prefer), and mock the Instant object</p>\n<pre><code>Instant instant = Instant.now();\n\ntry (MockedStatic&lt;Instant&gt; mockedInstant = Mockito.mockStatic(Instant.class)) {\n    mockedInstant.when(now()).thenReturn(instant);\n    ...\n}\n</code></pre>\n</li>\n<li><p>The second approach is to pass the <code>tokenExpiration</code> instant as parameter of the Auth class' constructor, this way you 1) avoid the mocking, allowing you to pass the instant you want, and 2) allows you to create different Auth configurations base on different needs.</p>\n<pre><code>class Auth {\n\n    private final Instant tokenExpiration;\n\n    public Auth(Instant tokenExpiration) {\n        this.tokenExpiration = tokenExpiration;\n    }\n\n    ...\n\n}\n</code></pre>\n</li>\n</ol>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644013052,"creation_date":1643967997,"answer_id":70984274,"question_id":70983872,"body_markdown":"In the current form, you cannot test that code.\r\n\r\nWhile you can still use Reflection to modify `Auth.tokenExpiration` for testing, you fail to set the local variable `currentTimestamp`.\r\n\r\nModify your code like this:\r\n\r\n```java\r\npublic class Auth \r\n{\r\n  private static Clock clock = Clock.systemUTC(); // NOT final!\r\n  private static Instant tokenExpiration = Instant.now( clock );  // NOT final!\r\n\r\n  public boolean shouldCreateNewToken() \r\n  {\r\n    Instant currentTimestamp = Instant.now( clock ); \r\n    Duration differenceInTime = Duration.between( currentTimestamp, tokenExpiration );\r\n\r\n    if( currentTimestamp.isAfter( tokenExpiration ) || differenceInTime.getSeconds() &lt; 120) \r\n    {\r\n      return true;\r\n    }   \r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\nThis allows you to manipulate the time: via reflection you can set the `Auth.tokenExpiration` to an arbitrary instant, then you modify `Auth.clock` before each call to `Auth.shouldCreateNewToken()`.\r\n\r\nHave a look to [the Javadoc for Clock][1] for the details.\r\n\r\nI assume you do not need help on how to use Reflection or on how to write the test itself?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html#fixed(java.time.Instant,java.time.ZoneId)\r\n","title":"How to write a unit test for static variable?","body":"<p>In the current form, you cannot test that code.</p>\n<p>While you can still use Reflection to modify <code>Auth.tokenExpiration</code> for testing, you fail to set the local variable <code>currentTimestamp</code>.</p>\n<p>Modify your code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Auth \n{\n  private static Clock clock = Clock.systemUTC(); // NOT final!\n  private static Instant tokenExpiration = Instant.now( clock );  // NOT final!\n\n  public boolean shouldCreateNewToken() \n  {\n    Instant currentTimestamp = Instant.now( clock ); \n    Duration differenceInTime = Duration.between( currentTimestamp, tokenExpiration );\n\n    if( currentTimestamp.isAfter( tokenExpiration ) || differenceInTime.getSeconds() &lt; 120) \n    {\n      return true;\n    }   \n    return false;\n  }\n}\n</code></pre>\n<p>This allows you to manipulate the time: via reflection you can set the <code>Auth.tokenExpiration</code> to an arbitrary instant, then you modify <code>Auth.clock</code> before each call to <code>Auth.shouldCreateNewToken()</code>.</p>\n<p>Have a look to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html#fixed(java.time.Instant,java.time.ZoneId)\" rel=\"nofollow noreferrer\">the Javadoc for Clock</a> for the details.</p>\n<p>I assume you do not need help on how to use Reflection or on how to write the test itself?</p>\n"}],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1644013052,"creation_date":1643965907,"question_id":70983872,"body_markdown":"I have a class that has a static variable and a function that makes use of that variable. I need to write a unit test for shouldCreateNewToken() method.\r\n```sql\r\npublic class Auth {\r\n    private static Instant tokenExpiration = Instant.now();\r\n\r\n    public boolean shouldCreateNewToken() {\r\n\t\tInstant currentTimestamp = Instant.now(); \r\n\t\tDuration differenceInTime = Duration.between(currentTimestamp, tokenExpiration);\r\n\r\n\t\tif (currentTimestamp.compareTo(tokenExpiration) &gt; 0 || differenceInTime.getSeconds() &lt; 120) {\r\n\t\t\treturn true;\r\n\t\t}\t\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n","title":"How to write a unit test for static variable?","body":"<p>I have a class that has a static variable and a function that makes use of that variable. I need to write a unit test for shouldCreateNewToken() method.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>public class Auth {\n    private static Instant tokenExpiration = Instant.now();\n\n    public boolean shouldCreateNewToken() {\n        Instant currentTimestamp = Instant.now(); \n        Duration differenceInTime = Duration.between(currentTimestamp, tokenExpiration);\n\n        if (currentTimestamp.compareTo(tokenExpiration) &gt; 0 || differenceInTime.getSeconds() &lt; 120) {\n            return true;\n        }   \n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":5,"creation_date":1644012809,"post_id":70993325,"comment_id":125501458,"body_markdown":"`String`s are immutable - `str1.replaceAll(&quot;our&quot;, &quot;or&quot;);` does not change `str1`.  The result (a new `String`) needs to be assigned and used.  For example: `str1 = str1.replaceAll(&quot;our&quot;, &quot;or&quot;);`.","body":"<code>String</code>s are immutable - <code>str1.replaceAll(&quot;our&quot;, &quot;or&quot;);</code> does not change <code>str1</code>.  The result (a new <code>String</code>) needs to be assigned and used.  For example: <code>str1 = str1.replaceAll(&quot;our&quot;, &quot;or&quot;);</code>."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1644013354,"post_id":70993325,"comment_id":125501587,"body_markdown":"Does this answer your question? [Immutability of Strings in Java](https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java\">Immutability of Strings in Java</a>"},{"owner":{"account_id":9464807,"reputation":132,"user_id":7037530,"display_name":"Anton Serdyuchenko"},"score":0,"creation_date":1644014357,"post_id":70993325,"comment_id":125501847,"body_markdown":"@KarlKnechtel I think it doesn&#39;t answer this question. Because answer to question &quot;why string doesn&#39;t changed&quot; is &quot;string immutability&quot;. And &quot;[Immutability of Strings in Java](https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java)&quot; is the answer to question &quot;what is string immutability&quot;.","body":"@KarlKnechtel I think it doesn&#39;t answer this question. Because answer to question &quot;why string doesn&#39;t changed&quot; is &quot;string immutability&quot;. And &quot;<a href=\"https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java\">Immutability of Strings in Java</a>&quot; is the answer to question &quot;what is string immutability&quot;."}],"answers":[{"tags":[],"owner":{"account_id":9464807,"reputation":132,"user_id":7037530,"display_name":"Anton Serdyuchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644013010,"creation_date":1644013010,"answer_id":70993436,"question_id":70993325,"body_markdown":"Method `replaceAll` returns a new string where each occurrence of the matching substring is replaced with the replacement string.\r\n\r\nYour code doesn&#39;t work because `String` is immutable. So, `str1.replaceAll(&quot;our&quot;, &quot;or&quot;);` doesn&#39;t change `str1`.\r\n\r\nTry this code:\r\n\r\n        String str1 = &quot;I am trying to replace the pattern.&quot;;\r\n        String str2 = str1.replaceAll(&quot;replace&quot;, &quot;change&quot;);\r\n        System.out.println(str2);\r\n\r\nIf you don&#39;t what `str2`, try this code:\r\n\r\n        String str1 = &quot;I am trying to replace the pattern.&quot;;\r\n        System.out.println(str1.replaceAll(&quot;replace&quot;, &quot;change&quot;));\r\n\r\nAnd read about [Immutability of Strings in Java][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java","title":"I am trying to replace the pattern &quot;our&quot; in the string to become &quot;or&quot; however this is not working","body":"<p>Method <code>replaceAll</code> returns a new string where each occurrence of the matching substring is replaced with the replacement string.</p>\n<p>Your code doesn't work because <code>String</code> is immutable. So, <code>str1.replaceAll(&quot;our&quot;, &quot;or&quot;);</code> doesn't change <code>str1</code>.</p>\n<p>Try this code:</p>\n<pre><code>    String str1 = &quot;I am trying to replace the pattern.&quot;;\n    String str2 = str1.replaceAll(&quot;replace&quot;, &quot;change&quot;);\n    System.out.println(str2);\n</code></pre>\n<p>If you don't what <code>str2</code>, try this code:</p>\n<pre><code>    String str1 = &quot;I am trying to replace the pattern.&quot;;\n    System.out.println(str1.replaceAll(&quot;replace&quot;, &quot;change&quot;));\n</code></pre>\n<p>And read about <a href=\"https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java\">Immutability of Strings in Java</a>.</p>\n"}],"owner":{"account_id":24127638,"reputation":21,"user_id":18095673,"display_name":"michaael115"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644013010,"creation_date":1644012213,"question_id":70993325,"body_markdown":" String str1 = &quot;The rumour is that the neighbours displayed good behaviour by labouring to help Mike because he is favoured.&quot;;\r\n\r\n str1.replaceAll(&quot;our&quot;, &quot;or&quot;);\r\n\r\n System.out.println(str1);","title":"I am trying to replace the pattern &quot;our&quot; in the string to become &quot;or&quot; however this is not working","body":"<p>String str1 = &quot;The rumour is that the neighbours displayed good behaviour by labouring to help Mike because he is favoured.&quot;;</p>\n<p>str1.replaceAll(&quot;our&quot;, &quot;or&quot;);</p>\n<p>System.out.println(str1);</p>\n"},{"tags":["java","arrays","processing","pixel"],"comments":[{"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"score":1,"creation_date":1644015102,"post_id":70993394,"comment_id":125502002,"body_markdown":"pixels[x+y*width] = …etc Should work I think , but maybe you have the same upper boundary for the two for loops like in the example above instead of the outer loop be bounded by number of rows and the inner loop be bounded by number of columns ?","body":"pixels[x+y*width] = …etc Should work I think , but maybe you have the same upper boundary for the two for loops like in the example above instead of the outer loop be bounded by number of rows and the inner loop be bounded by number of columns ?"},{"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"score":0,"creation_date":1644222031,"post_id":70993394,"comment_id":125538074,"body_markdown":"Ah yes! This is it! I have less rows than columns! thank you!","body":"Ah yes! This is it! I have less rows than columns! thank you!"}],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644012660,"creation_date":1644012660,"question_id":70993394,"body_markdown":"I have a squared PGraphics where I want to read the color of each pixel. I do this with the following lines:\r\n\r\n    size(1080,1080, P2D);\r\n    pg = createGraphics(width, height, P2D);\r\n\r\n…then in draw:\r\n\r\n     pg.loadPixels();\r\n      for (int y = 0; y &lt; pixel; y++) {\r\n        for (int x = 0; x &lt; pixel; x++) {\r\n          int ix = int(size*x);\r\n          int iy = int(size*y);\r\n          color c = pg.pixels[iy * width + ix];\r\n\r\nHowever, if I now change the size so that the PGrpahics or my sketch window is no longer squared I get an `ArrayIndexOutOfBoundsException` error message. I know that you can also read the pixels from rectangular sketches, for example with:\r\n\r\n \r\n\r\n       pixels[x+y*width] = …etc\r\n\r\nWorks fine – but what is it that I am missing above if I change the size to lets say `size(1920,1080, P2D);`?\r\n\r\n","title":"Run each pixel through a rectangular PGraphics (Processing)","body":"<p>I have a squared PGraphics where I want to read the color of each pixel. I do this with the following lines:</p>\n<pre><code>size(1080,1080, P2D);\npg = createGraphics(width, height, P2D);\n</code></pre>\n<p>…then in draw:</p>\n<pre><code> pg.loadPixels();\n  for (int y = 0; y &lt; pixel; y++) {\n    for (int x = 0; x &lt; pixel; x++) {\n      int ix = int(size*x);\n      int iy = int(size*y);\n      color c = pg.pixels[iy * width + ix];\n</code></pre>\n<p>However, if I now change the size so that the PGrpahics or my sketch window is no longer squared I get an <code>ArrayIndexOutOfBoundsException</code> error message. I know that you can also read the pixels from rectangular sketches, for example with:</p>\n<pre><code>   pixels[x+y*width] = …etc\n</code></pre>\n<p>Works fine – but what is it that I am missing above if I change the size to lets say <code>size(1920,1080, P2D);</code>?</p>\n"},{"tags":["java","mp3"],"answers":[{"tags":[],"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1644012150,"creation_date":1309734706,"answer_id":6566127,"question_id":6566018,"body_markdown":"I understand there are libraries already available that perform this task (see [https://id3.org/Implementations][1]). Perhaps you could download the source and see how they do it?\r\n\r\n\r\n  [1]: https://id3.org/Implementations","title":"Java code that determines the headers in an mp3 file","body":"<p>I understand there are libraries already available that perform this task (see <a href=\"https://id3.org/Implementations\" rel=\"nofollow noreferrer\">https://id3.org/Implementations</a>). Perhaps you could download the source and see how they do it?</p>\n"}],"owner":{"account_id":320898,"reputation":135,"user_id":639422,"accept_rate":88,"display_name":"Istv&#225;n Kohn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1640,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6566127,"answer_count":1,"score":3,"last_activity_date":1644012150,"creation_date":1309733282,"question_id":6566018,"body_markdown":"I&#39;ve been writing a program that can determine any and every data about an mp3 file.\r\nBased on the info on this webpage (http://www.multiweb.cz/twoinches/mp3inside.htm), my program reads the whole mp3 file into a byte array, then checks for Tag v2 at the start and Tag v1 at the end of the file. \r\n\r\nMy problem is with the data that you can get from the headers.\r\nAs far as I understand, I need to search for bytes that are 1111_1111 and the next one is 111x_xxxx. There are a fair few matches for this criteria that aren&#39;t headers, just random coincidence, so I&#39;ve made an MP3Header class, that has all the fields mentioned on the above webpage (ID, layer, bitrate etc..) and overriden the equals method to return true if ID, layer, and frequency match(I use the first header that I find as the base, and compare every other one after it to that one).\r\n\r\nThis method seems to work perfectly for CBR mp3 files, however some VBR ones are giving me a hard time. The first header I find is incorrect, and from that point on, the whole comparison is screwed (I&#39;m not checking bitrate for equality so that can&#39;t be the reason). The only valid explanation I can come up with, is that the Tag at the start may contain characters from the extended ASCII table, and since Java doesn&#39;t have unsigned int, a 1111_1111 (255) byte might be interpreted as -1 when converted to int.\r\nMy question is, how can I make sure that the bytes I find are indeed a proper header? Or should I store everything that matches the criteria, and check which one is the most frequent, and go with that?\r\n\r\nThanks,\r\nIstv&#225;n\r\n\r\nP.S: I know this could probably be solved with only a few lines of code if I used JMF, however I&#39;m enjoying the challenge of writing it like this.","title":"Java code that determines the headers in an mp3 file","body":"<p>I've been writing a program that can determine any and every data about an mp3 file.\nBased on the info on this webpage (http://www.multiweb.cz/twoinches/mp3inside.htm), my program reads the whole mp3 file into a byte array, then checks for Tag v2 at the start and Tag v1 at the end of the file. </p>\n\n<p>My problem is with the data that you can get from the headers.\nAs far as I understand, I need to search for bytes that are 1111_1111 and the next one is 111x_xxxx. There are a fair few matches for this criteria that aren't headers, just random coincidence, so I've made an MP3Header class, that has all the fields mentioned on the above webpage (ID, layer, bitrate etc..) and overriden the equals method to return true if ID, layer, and frequency match(I use the first header that I find as the base, and compare every other one after it to that one).</p>\n\n<p>This method seems to work perfectly for CBR mp3 files, however some VBR ones are giving me a hard time. The first header I find is incorrect, and from that point on, the whole comparison is screwed (I'm not checking bitrate for equality so that can't be the reason). The only valid explanation I can come up with, is that the Tag at the start may contain characters from the extended ASCII table, and since Java doesn't have unsigned int, a 1111_1111 (255) byte might be interpreted as -1 when converted to int.\nMy question is, how can I make sure that the bytes I find are indeed a proper header? Or should I store everything that matches the criteria, and check which one is the most frequent, and go with that?</p>\n\n<p>Thanks,\nIstván</p>\n\n<p>P.S: I know this could probably be solved with only a few lines of code if I used JMF, however I'm enjoying the challenge of writing it like this.</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":8866,"reputation":59368,"user_id":16148,"accept_rate":73,"display_name":"Corey Goldberg"},"score":0,"creation_date":1528596997,"post_id":50772879,"comment_id":88566797,"body_markdown":"maximizing should make no difference to locating elements","body":"maximizing should make no difference to locating elements"},{"owner":{"account_id":11796905,"reputation":197,"user_id":8631430,"accept_rate":40,"display_name":"elie"},"score":0,"creation_date":1528703775,"post_id":50772879,"comment_id":88591662,"body_markdown":"@CoreyGoldberg i&#39;m locating element by id ,ex:(if the button is not showing on the browser because of minimize lets say it doesn&#39;t work) my question to you is selenium works with coordinates (x,y) ?","body":"@CoreyGoldberg i&#39;m locating element by id ,ex:(if the button is not showing on the browser because of minimize lets say it doesn&#39;t work) my question to you is selenium works with coordinates (x,y) ?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528704652,"creation_date":1528574193,"answer_id":50778009,"question_id":50772879,"body_markdown":"As per [manage().window().maximize() method not maximize a correct window](https://bugs.chromium.org/p/chromedriver/issues/detail?id=596) using `driver.manage().window().maximize();` to maximize the `Chrome Browser` is not the optimum way. Instead use **ChromeOptions** to maximize the _Chrome Browser_ as follows:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;start-maximized&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);\r\n\r\nAs an alternative you can also use the argument **`window-size`** as follows:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;window-size=1400,600&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);","title":"chrome doesn&#39;t maximize when running selenium testNG from jenkins","body":"<p>As per <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=596\" rel=\"nofollow noreferrer\">manage().window().maximize() method not maximize a correct window</a> using <code>driver.manage().window().maximize();</code> to maximize the <code>Chrome Browser</code> is not the optimum way. Instead use <strong>ChromeOptions</strong> to maximize the <em>Chrome Browser</em> as follows:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"start-maximized\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>As an alternative you can also use the argument <strong><code>window-size</code></strong> as follows:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"window-size=1400,600\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8544568,"reputation":218,"user_id":6403493,"display_name":"Abhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528625460,"creation_date":1528625149,"answer_id":50782579,"question_id":50772879,"body_markdown":"When you run your Selenium Suite from jenkins to particular server then `driver.manage().window().maximize()` doesnt work sometime. Thats why the preferred way is to go by usinn options depending on the browser you are using.\r\n\r\nEg:- \r\nFor MAC or Linux:\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.addArguments(&quot;--kiosk&quot;);\r\n    driver = new ChromeDriver(chromeOptions);\r\n\r\nFor Windows:\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n    driver = new ChromeDriver(chromeOptions);\r\n\r\nYou can try with this, it will work using jenkins","title":"chrome doesn&#39;t maximize when running selenium testNG from jenkins","body":"<p>When you run your Selenium Suite from jenkins to particular server then <code>driver.manage().window().maximize()</code> doesnt work sometime. Thats why the preferred way is to go by usinn options depending on the browser you are using.</p>\n\n<p>Eg:- \nFor MAC or Linux:</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.addArguments(\"--kiosk\");\ndriver = new ChromeDriver(chromeOptions);\n</code></pre>\n\n<p>For Windows:</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.addArguments(\"--start-maximized\");\ndriver = new ChromeDriver(chromeOptions);\n</code></pre>\n\n<p>You can try with this, it will work using jenkins</p>\n"},{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575518144,"creation_date":1564599556,"answer_id":57297322,"question_id":50772879,"body_markdown":"Were facing the same kind of problem and solved using this snippet: (Java)\r\n\r\ndriver.manage().window().fullscreen();\r\n\r\nIt started failing, then passed arguments to reduce the font size for the contents displayed in screen.\r\n\r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n\t\t\tchromeOptions.addArguments(&quot;window-size=1920,1080&quot;);\r\n\t\t\tchromeOptions.addArguments(&quot;--disable-notifications&quot;);\r\n\t\t\tchromeOptions.addArguments(&quot;--disable-extenstions&quot;);\r\n\t\t\tchromeOptions.addArguments(&quot;disable-infobars&quot;);\r\n\t\t\tchromeOptions.addArguments(&quot;force-device-scale-factor=0.75&quot;);\r\n\t\t\tchromeOptions.addArguments(&quot;high-dpi-support=0.75&quot;);\r\n\t\t\tdriver = new ChromeDriver(chromeOptions);","title":"chrome doesn&#39;t maximize when running selenium testNG from jenkins","body":"<p>Were facing the same kind of problem and solved using this snippet: (Java)</p>\n\n<p>driver.manage().window().fullscreen();</p>\n\n<p>It started failing, then passed arguments to reduce the font size for the contents displayed in screen.</p>\n\n<pre><code>        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(\"window-size=1920,1080\");\n        chromeOptions.addArguments(\"--disable-notifications\");\n        chromeOptions.addArguments(\"--disable-extenstions\");\n        chromeOptions.addArguments(\"disable-infobars\");\n        chromeOptions.addArguments(\"force-device-scale-factor=0.75\");\n        chromeOptions.addArguments(\"high-dpi-support=0.75\");\n        driver = new ChromeDriver(chromeOptions);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user12990506"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644012029,"creation_date":1644010412,"answer_id":70993064,"question_id":50772879,"body_markdown":"I have same problem, \r\n\r\n    chromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n\r\nis not enough,\r\n\r\nI also use this\r\n\r\n    chromeOptions.addArguments(&quot;force-device-scale-factor=0.75&quot;);\r\n","title":"chrome doesn&#39;t maximize when running selenium testNG from jenkins","body":"<p>I have same problem,</p>\n<pre><code>chromeOptions.addArguments(&quot;--start-maximized&quot;);\n</code></pre>\n<p>is not enough,</p>\n<p>I also use this</p>\n<pre><code>chromeOptions.addArguments(&quot;force-device-scale-factor=0.75&quot;);\n</code></pre>\n"}],"owner":{"account_id":11796905,"reputation":197,"user_id":8631430,"accept_rate":40,"display_name":"elie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1888,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1644012029,"creation_date":1528537129,"question_id":50772879,"body_markdown":"I am facing a problem with running \r\n\r\n&gt; selenium testNG\r\n\r\n test from jenkins , the problem is that i am doing a login to my application and checking some element visibility , when i run the test from the batch file directly i got a success because i&#39;m setting my google chrome driver to maximize using:\r\n\r\n&gt; driver.manage().window().maximize();\r\n\r\nbut if the browser is minimized some elements are not visible (front-end requirements) , so when i run the test from `jenkins` the test failed because i think that the browser doesn&#39;t maximized ,\r\n\r\ncan someone correct for me if i&#39;m wrong , and some help of how to maximize the browser when running from jenkins?\r\n\r\n   \r\n\r\n","title":"chrome doesn&#39;t maximize when running selenium testNG from jenkins","body":"<p>I am facing a problem with running </p>\n\n<blockquote>\n  <p>selenium testNG</p>\n</blockquote>\n\n<p>test from jenkins , the problem is that i am doing a login to my application and checking some element visibility , when i run the test from the batch file directly i got a success because i'm setting my google chrome driver to maximize using:</p>\n\n<blockquote>\n  <p>driver.manage().window().maximize();</p>\n</blockquote>\n\n<p>but if the browser is minimized some elements are not visible (front-end requirements) , so when i run the test from <code>jenkins</code> the test failed because i think that the browser doesn't maximized ,</p>\n\n<p>can someone correct for me if i'm wrong , and some help of how to maximize the browser when running from jenkins?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1644012567,"post_id":70993303,"comment_id":125501401,"body_markdown":"put everything you put inside `onBindViewHolder` in the ViewHolder&#39;s constructor instead. Also, I think everything in `onBindViewHolder` should give you an error message. Paste the log error message here also.","body":"put everything you put inside <code>onBindViewHolder</code> in the ViewHolder&#39;s constructor instead. Also, I think everything in <code>onBindViewHolder</code> should give you an error message. Paste the log error message here also."},{"owner":{"account_id":24159567,"reputation":1,"user_id":18123286,"display_name":"oRenanzao"},"score":0,"creation_date":1644018427,"post_id":70993303,"comment_id":125502624,"body_markdown":"It&#39;s actually working. The app is running properly. I just don&#39;t understand what does what","body":"It&#39;s actually working. The app is running properly. I just don&#39;t understand what does what"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1644046765,"post_id":70993303,"comment_id":125505932,"body_markdown":"No need for changes, it&#39;s implemented properly. Although maybe it would&#39;ve been more convinient to make a class with the different values and pass an array of it, instead of 7 arrays. But that&#39;s optional I guess. Also, it&#39;s recommended to override `getItemId`, you could return `purch_id.get(position)`.","body":"No need for changes, it&#39;s implemented properly. Although maybe it would&#39;ve been more convinient to make a class with the different values and pass an array of it, instead of 7 arrays. But that&#39;s optional I guess. Also, it&#39;s recommended to override <code>getItemId</code>, you could return <code>purch_id.get(position)</code>."}],"owner":{"account_id":24159567,"reputation":1,"user_id":18123286,"display_name":"oRenanzao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644012024,"creation_date":1644012024,"question_id":70993303,"body_markdown":"I&#39;ve tried to read articles and pages about adaptors, but I couldn&#39;t really understand it. So I followed a Youtube tutorial that works perfectly fine, even  though I don&#39;t know why.\r\nIf you could explain me in simple words like you would do in a pseudocode or something, it would be perfect. What I really want to know is how this adaptor is able to get the data and place it in different text boxes each time a new register is added.  The code I adapted from the video is below and if you&#39;d like to watch it yourself, this is the link: https://www.youtube.com/watch?v=VQKq9RHMS_0\r\n(I&#39;m new here, sorry if I&#39;ve done something wrong)\r\n\r\n    public class Adaptador extends RecyclerView.Adapter&lt;Adaptador.MyViewHolder&gt; {\r\n\r\n    private Context context;\r\n    private Activity activity;\r\n    private ArrayList purch_id, purch_loja, purch_produto, purch_valor, purch_data, purch_meiopagamento, purch_descricao;\r\n\r\n    Adaptador(Activity activity, Context context, ArrayList purch_id,\r\n              ArrayList purch_loja,\r\n              ArrayList purch_produto,\r\n              ArrayList purch_valor,\r\n              ArrayList purch_data,\r\n              ArrayList purch_meiopagamento,\r\n              ArrayList purch_descricao){\r\n\r\n        this.activity = activity;\r\n        this.context = context;\r\n        this.purch_id = purch_id;\r\n        this.purch_loja = purch_loja;\r\n        this.purch_produto = purch_produto;\r\n        this.purch_valor = purch_valor;\r\n        this.purch_data = purch_data;\r\n        this.purch_meiopagamento = purch_meiopagamento;\r\n        this.purch_descricao = purch_descricao;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.recycler_layout, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final MyViewHolder holder, final int position) {\r\n\r\n        holder.txtpurch_id.setText(String.valueOf(purch_id.get(position)));\r\n        holder.txtpurch_loja.setText(String.valueOf(purch_loja.get(position)));\r\n        holder.txtpurch_produto.setText(String.valueOf(purch_produto.get(position)));\r\n        holder.txtpurch_valor.setText(String.valueOf(purch_valor.get(position)));\r\n        holder.txtpurch_meiopagamento.setText(String.valueOf(purch_meiopagamento.get(position)));\r\n        holder.txtpurch_data.setText(String.valueOf(purch_data.get(position)));\r\n        holder.txtpurch_descricao.setText(String.valueOf(purch_descricao.get(position)));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return purch_id.size();\r\n    }\r\n\r\n    class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView txtpurch_id, txtpurch_loja, txtpurch_produto,txtpurch_valor,txtpurch_meiopagamento,\r\n                txtpurch_data, txtpurch_descricao;\r\n\r\n        MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtpurch_id = itemView.findViewById(R.id.txtpurch_id);\r\n            txtpurch_loja = itemView.findViewById(R.id.txtpurch_loja);\r\n            txtpurch_produto = itemView.findViewById(R.id.txtpurch_produto);\r\n            txtpurch_valor = itemView.findViewById(R.id.txtpurch_valor);\r\n            txtpurch_meiopagamento = itemView.findViewById(R.id.txtpurch_meiopagamento);\r\n            txtpurch_data = itemView.findViewById(R.id.txtpurch_data);\r\n            txtpurch_descricao = itemView.findViewById(R.id.txtpurch_descricao);\r\n\r\n        }\r\n    }\r\n","title":"How can data be stored in the Recycler View?","body":"<p>I've tried to read articles and pages about adaptors, but I couldn't really understand it. So I followed a Youtube tutorial that works perfectly fine, even  though I don't know why.\nIf you could explain me in simple words like you would do in a pseudocode or something, it would be perfect. What I really want to know is how this adaptor is able to get the data and place it in different text boxes each time a new register is added.  The code I adapted from the video is below and if you'd like to watch it yourself, this is the link: <a href=\"https://www.youtube.com/watch?v=VQKq9RHMS_0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=VQKq9RHMS_0</a>\n(I'm new here, sorry if I've done something wrong)</p>\n<pre><code>public class Adaptador extends RecyclerView.Adapter&lt;Adaptador.MyViewHolder&gt; {\n\nprivate Context context;\nprivate Activity activity;\nprivate ArrayList purch_id, purch_loja, purch_produto, purch_valor, purch_data, purch_meiopagamento, purch_descricao;\n\nAdaptador(Activity activity, Context context, ArrayList purch_id,\n          ArrayList purch_loja,\n          ArrayList purch_produto,\n          ArrayList purch_valor,\n          ArrayList purch_data,\n          ArrayList purch_meiopagamento,\n          ArrayList purch_descricao){\n\n    this.activity = activity;\n    this.context = context;\n    this.purch_id = purch_id;\n    this.purch_loja = purch_loja;\n    this.purch_produto = purch_produto;\n    this.purch_valor = purch_valor;\n    this.purch_data = purch_data;\n    this.purch_meiopagamento = purch_meiopagamento;\n    this.purch_descricao = purch_descricao;\n}\n\n@NonNull\n@Override\n\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    LayoutInflater inflater = LayoutInflater.from(context);\n    View view = inflater.inflate(R.layout.recycler_layout, parent, false);\n    return new MyViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull final MyViewHolder holder, final int position) {\n\n    holder.txtpurch_id.setText(String.valueOf(purch_id.get(position)));\n    holder.txtpurch_loja.setText(String.valueOf(purch_loja.get(position)));\n    holder.txtpurch_produto.setText(String.valueOf(purch_produto.get(position)));\n    holder.txtpurch_valor.setText(String.valueOf(purch_valor.get(position)));\n    holder.txtpurch_meiopagamento.setText(String.valueOf(purch_meiopagamento.get(position)));\n    holder.txtpurch_data.setText(String.valueOf(purch_data.get(position)));\n    holder.txtpurch_descricao.setText(String.valueOf(purch_descricao.get(position)));\n}\n\n@Override\npublic int getItemCount() {\n    return purch_id.size();\n}\n\nclass MyViewHolder extends RecyclerView.ViewHolder{\n\n    TextView txtpurch_id, txtpurch_loja, txtpurch_produto,txtpurch_valor,txtpurch_meiopagamento,\n            txtpurch_data, txtpurch_descricao;\n\n    MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        txtpurch_id = itemView.findViewById(R.id.txtpurch_id);\n        txtpurch_loja = itemView.findViewById(R.id.txtpurch_loja);\n        txtpurch_produto = itemView.findViewById(R.id.txtpurch_produto);\n        txtpurch_valor = itemView.findViewById(R.id.txtpurch_valor);\n        txtpurch_meiopagamento = itemView.findViewById(R.id.txtpurch_meiopagamento);\n        txtpurch_data = itemView.findViewById(R.id.txtpurch_data);\n        txtpurch_descricao = itemView.findViewById(R.id.txtpurch_descricao);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","accessibility"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1629389441,"post_id":68851104,"comment_id":121680145,"body_markdown":"Most people use proper screen reader tools and plugins. I am sure Eclipse also has such plugins somewhere on the marketplace.","body":"Most people use proper screen reader tools and plugins. I am sure Eclipse also has such plugins somewhere on the marketplace."}],"answers":[{"tags":[],"owner":{"account_id":47100,"reputation":1425,"user_id":139380,"display_name":"Azquelt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638359311,"creation_date":1629389450,"answer_id":68851286,"question_id":68851104,"body_markdown":"In eclipse you can use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;.&lt;/kbd&gt; and &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;,&lt;/kbd&gt; to navigate forwards and backwards through underlined sections.\r\n\r\nWhen the cursor is in an underlined section, the error is shown in the status bar which your screen reader may be able to read (with JAWS use &lt;kbd&gt;Insert&lt;/kbd&gt;+&lt;kbd&gt;PgDn&lt;/kbd&gt; or &lt;kbd&gt;CapsLock&lt;/kbd&gt;+&lt;kbd&gt;PgDn&lt;/kbd&gt;).\r\n\r\nThere are some more tips for Eclipse&#39;s accessibility features in the [Eclipse Help pages][accessibility-help].\r\n\r\n[accessibility-help]:https://help.eclipse.org/2021-06/index.jsp?topic=%2Forg.eclipse.platform.doc.user%2Fconcepts%2Faccessibility%2Ftext_editor.htm","title":"How do blind users interact with error indicators in Eclipse?","body":"<p>In eclipse you can use <kbd>Ctrl</kbd>+<kbd>.</kbd> and <kbd>Ctrl</kbd>+<kbd>,</kbd> to navigate forwards and backwards through underlined sections.</p>\n<p>When the cursor is in an underlined section, the error is shown in the status bar which your screen reader may be able to read (with JAWS use <kbd>Insert</kbd>+<kbd>PgDn</kbd> or <kbd>CapsLock</kbd>+<kbd>PgDn</kbd>).</p>\n<p>There are some more tips for Eclipse's accessibility features in the <a href=\"https://help.eclipse.org/2021-06/index.jsp?topic=%2Forg.eclipse.platform.doc.user%2Fconcepts%2Faccessibility%2Ftext_editor.htm\" rel=\"nofollow noreferrer\">Eclipse Help pages</a>.</p>\n"},{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629492738,"creation_date":1629492738,"answer_id":68867956,"question_id":68851104,"body_markdown":"Jaws normally says &quot;invalid&quot; before each invalid part of code in the code editor as you navigate with arrow keys.\r\nYou have nothing specific to configure for this. At least for me, it worked out of the box from day 1.\r\n\r\nIN case of doubt or if it doesn&#39;t work out of the box, you can customize the way Jaws behaves by going to the setting center.\r\nMore specifically, in the speech and sound scheme, you might pick a modern scheme different than classic, or want to customize the way the &quot;invalid&quot; font style is announced.\r\n\r\nYou will also certainly need to pay triple attention to things that eclipse automatically insert for you as you type, like closing parens and braces, as **they aren&#39;t announced at all by Jaws** when they are automatically inserted. They can easily make you enter unwanted extra characters.\r\nAs a blind user I prefer to completely disable all autocompletes like this and only keep it on demand with shortcuts like F2, but that&#39;s a personal choice.\r\n\r\nUnfortunately, I can&#39;t help if you are using NVDA, but there certainly are solutions as well.\r\n","title":"How do blind users interact with error indicators in Eclipse?","body":"<p>Jaws normally says &quot;invalid&quot; before each invalid part of code in the code editor as you navigate with arrow keys.\nYou have nothing specific to configure for this. At least for me, it worked out of the box from day 1.</p>\n<p>IN case of doubt or if it doesn't work out of the box, you can customize the way Jaws behaves by going to the setting center.\nMore specifically, in the speech and sound scheme, you might pick a modern scheme different than classic, or want to customize the way the &quot;invalid&quot; font style is announced.</p>\n<p>You will also certainly need to pay triple attention to things that eclipse automatically insert for you as you type, like closing parens and braces, as <strong>they aren't announced at all by Jaws</strong> when they are automatically inserted. They can easily make you enter unwanted extra characters.\nAs a blind user I prefer to completely disable all autocompletes like this and only keep it on demand with shortcuts like F2, but that's a personal choice.</p>\n<p>Unfortunately, I can't help if you are using NVDA, but there certainly are solutions as well.</p>\n"}],"owner":{"account_id":11678357,"reputation":41,"user_id":8551035,"display_name":"SarelSeemonster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1644011665,"creation_date":1629388773,"question_id":68851104,"body_markdown":"I am currently helping a blind person to learn Java using Eclipse as their IDE. However, when there are errors, e.g. a typo, the red underlines indicating an error are not useful/apparent.\r\n\r\nHow can blind users be made aware of errors or other visual indicators within Eclipse?","title":"How do blind users interact with error indicators in Eclipse?","body":"<p>I am currently helping a blind person to learn Java using Eclipse as their IDE. However, when there are errors, e.g. a typo, the red underlines indicating an error are not useful/apparent.</p>\n<p>How can blind users be made aware of errors or other visual indicators within Eclipse?</p>\n"},{"tags":["java","string","string-formatting"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1515788220,"post_id":48233220,"comment_id":83449320,"body_markdown":"can you show us which case you want to handle?","body":"can you show us which case you want to handle?"},{"owner":{"account_id":211531,"reputation":26644,"user_id":463758,"accept_rate":83,"display_name":"balki"},"score":0,"creation_date":1515788795,"post_id":48233220,"comment_id":83449561,"body_markdown":"@YCF_L Added example","body":"@YCF_L Added example"},{"owner":{"account_id":10192855,"reputation":2443,"user_id":8347081,"display_name":"mypetlion"},"score":0,"creation_date":1515788892,"post_id":48233220,"comment_id":83449592,"body_markdown":"What would you like done with the extra arguments?","body":"What would you like done with the extra arguments?"},{"owner":{"account_id":434849,"reputation":9817,"user_id":821110,"accept_rate":95,"display_name":"W.K.S"},"score":0,"creation_date":1515788940,"post_id":48233220,"comment_id":83449612,"body_markdown":"You can simply count the instances of substrings beginning with %, exclude %%, and check if the resulting number matches the length of the arguments","body":"You can simply count the instances of substrings beginning with %, exclude %%, and check if the resulting number matches the length of the arguments"},{"owner":{"account_id":211531,"reputation":26644,"user_id":463758,"accept_rate":83,"display_name":"balki"},"score":0,"creation_date":1515788978,"post_id":48233220,"comment_id":83449632,"body_markdown":"@mypetlion print in a different way as shown in example.","body":"@mypetlion print in a different way as shown in example."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1515790290,"post_id":48233220,"comment_id":83450163,"body_markdown":"It&#39;s not a simple problem. Consider this: `String.format(&quot;%1$s %1$s&quot;, 1, 2)`. Should it fail because `2` is unused? What about `String.format(&quot;%2$s&quot;, 1, 2)`?","body":"It&#39;s not a simple problem. Consider this: <code>String.format(&quot;%1$s %1$s&quot;, 1, 2)</code>. Should it fail because <code>2</code> is unused? What about <code>String.format(&quot;%2$s&quot;, 1, 2)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":211531,"reputation":26644,"user_id":463758,"accept_rate":83,"display_name":"balki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644011437,"creation_date":1515794324,"answer_id":48234579,"question_id":48233220,"body_markdown":"Taking a different approach without counting or parsing for `%`. Not an efficient one though.\r\n\r\n    public static String safeFormat(String formatStr, Object... args) {\r\n        List&lt;Object&gt; objects = Arrays.asList(args);\r\n        // https://commons.apache.org/proper/commons-lang/javadocs/api-3.7/org/apache/commons/lang3/mutable/MutableBoolean.html\r\n        MutableBoolean isCalled = new MutableBoolean(false);\r\n        objects.add(new Object(){\r\n            @Override\r\n            public String toString() {\r\n                isCalled.setTrue();\r\n                return &quot;&quot;;\r\n            }\r\n        });\r\n        String result = String.format(formatStr+&quot;%s&quot;, objects.toArray());\r\n        if(isCalled.isFalse()) {\r\n            throw new IllegalArgumentException(&quot;Not all arguments used by formatter&quot;);\r\n        }\r\n\r\n        return result;\r\n    }","title":"Stricter String.format that does not ignore extra arguments?","body":"<p>Taking a different approach without counting or parsing for <code>%</code>. Not an efficient one though.</p>\n<pre><code>public static String safeFormat(String formatStr, Object... args) {\n    List&lt;Object&gt; objects = Arrays.asList(args);\n    // https://commons.apache.org/proper/commons-lang/javadocs/api-3.7/org/apache/commons/lang3/mutable/MutableBoolean.html\n    MutableBoolean isCalled = new MutableBoolean(false);\n    objects.add(new Object(){\n        @Override\n        public String toString() {\n            isCalled.setTrue();\n            return &quot;&quot;;\n        }\n    });\n    String result = String.format(formatStr+&quot;%s&quot;, objects.toArray());\n    if(isCalled.isFalse()) {\n        throw new IllegalArgumentException(&quot;Not all arguments used by formatter&quot;);\n    }\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":211531,"reputation":26644,"user_id":463758,"accept_rate":83,"display_name":"balki"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2012,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48234579,"answer_count":1,"score":4,"last_activity_date":1644011437,"creation_date":1515787158,"question_id":48233220,"body_markdown":"Java&#39;s `String.format` silently ignores extra arguments passed that are not used in format string but fails if less or invalid ones are passed. Is there a way to handle the case when more arguments are passed ?\r\n\r\n&gt; If there are more arguments than format specifiers, the extra arguments are ignored\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\r\n\r\n\r\n    private static void doStuff(Stuff stuff, String details, Object... args) {\r\n        if(stuff.someCondition()) {\r\n            try {\r\n                details = String.format(&quot;Details: &quot; + details, args);\r\n            } catch (Exception ex) { //No Exception thrown when args are not used by\r\n                String arguments = Arrays.stream(args)\r\n                        .map(Objects::toString)\r\n                        .collect(joining(&quot;;&quot;));\r\n                details = String.format(&quot;Details: %s Args: %s&quot;, details, arguments);\r\n            }\r\n        }\r\n        stuff.process(details);\r\n    }\r\n\r\n    private static void foo() {\r\n        Stuff stuff = new Stuff();\r\n        doStuff(stuff, &quot;blah blah %s &quot;, &quot;blah&quot;); // No exception, works as expected\r\n        doStuff(stuff, &quot;blah blah %s %s&quot;, &quot;blah&quot;); // Fails as expected and args are printed\r\n        doStuff(stuff, &quot;blah blah %s&quot;, &quot;blah&quot;, &quot;blah&quot;); // Silently ignores. How to handle this case?\r\n    }","title":"Stricter String.format that does not ignore extra arguments?","body":"<p>Java's <code>String.format</code> silently ignores extra arguments passed that are not used in format string but fails if less or invalid ones are passed. Is there a way to handle the case when more arguments are passed ?</p>\n\n<blockquote>\n  <p>If there are more arguments than format specifiers, the extra arguments are ignored</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-</a></p>\n\n<pre><code>private static void doStuff(Stuff stuff, String details, Object... args) {\n    if(stuff.someCondition()) {\n        try {\n            details = String.format(\"Details: \" + details, args);\n        } catch (Exception ex) { //No Exception thrown when args are not used by\n            String arguments = Arrays.stream(args)\n                    .map(Objects::toString)\n                    .collect(joining(\";\"));\n            details = String.format(\"Details: %s Args: %s\", details, arguments);\n        }\n    }\n    stuff.process(details);\n}\n\nprivate static void foo() {\n    Stuff stuff = new Stuff();\n    doStuff(stuff, \"blah blah %s \", \"blah\"); // No exception, works as expected\n    doStuff(stuff, \"blah blah %s %s\", \"blah\"); // Fails as expected and args are printed\n    doStuff(stuff, \"blah blah %s\", \"blah\", \"blah\"); // Silently ignores. How to handle this case?\n}\n</code></pre>\n"},{"tags":["java","object","null","return-value","getmethod"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":3,"creation_date":1643237192,"post_id":70871187,"comment_id":125289752,"body_markdown":"Create and post your [mcve].","body":"Create and post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1643237259,"post_id":70871187,"comment_id":125289771,"body_markdown":"Your code is incomplete, so we can&#39;t really tell.   What guarantees that the initialization has been executed?  Where is that initialization code?  It must belong in some method, or the constructor, but you have not shown that part, which is crucial to the answer.","body":"Your code is incomplete, so we can&#39;t really tell.   What guarantees that the initialization has been executed?  Where is that initialization code?  It must belong in some method, or the constructor, but you have not shown that part, which is crucial to the answer."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1643237424,"post_id":70871187,"comment_id":125289806,"body_markdown":"re: *when the return value is steps [4][4]*  There is no such thing. Both of the dimensions run from 0 to 3; index 4 would be off the end.  When a and b are both 4, you return steps[0][0].","body":"re: <i>when the return value is steps [4][4]</i>  There is no such thing. Both of the dimensions run from 0 to 3; index 4 would be off the end.  When a and b are both 4, you return steps[0][0]."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1643238243,"post_id":70871187,"comment_id":125289994,"body_markdown":"Where is your code which *fills* this array located? Is it perhaps in some method? Are you sure that this method is being called *before* you try to read values from array? There are many scenarios which can cause this problem but to say for sure which is it we would need code which we can actually run so we could debug it. So to get proper answer please use [edit] option and provide [SSCCE](http://sscce.org) (a.k.a. [MCVE]).","body":"Where is your code which <i>fills</i> this array located? Is it perhaps in some method? Are you sure that this method is being called <i>before</i> you try to read values from array? There are many scenarios which can cause this problem but to say for sure which is it we would need code which we can actually run so we could debug it. So to get proper answer please use <a href=\"https://stackoverflow.com/posts/70871187/edit\">edit</a> option and provide <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a> (a.k.a. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1643242831,"post_id":70871187,"comment_id":125290829,"body_markdown":"Each iteration of your loop, you set `steps` to a **new empty array** and then set one element in it. This line should not be inside your loops: `steps = new Step[buttonCount][buttonCount];`","body":"Each iteration of your loop, you set <code>steps</code> to a <b>new empty array</b> and then set one element in it. This line should not be inside your loops: <code>steps = new Step[buttonCount][buttonCount];</code>"}],"answers":[{"tags":[],"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1643237637,"creation_date":1643237455,"answer_id":70871238,"question_id":70871187,"body_markdown":"Your for loop to initialize the array either needs to be placed in a constructor or enclosed in curly brackets to use it as an initialization block.\n\n    public class MyClass {\n        // wrap the loop in curly brackets\n        {\n            for (...)\n        }\n        ...\n    }\n\nIf your code is within a static class, you need to mark your initialization block as static, too.\n\n    public static class MyClass {\n        // wrap the loop in curly brackets\n        static {\n            for (...)\n        }\n        ...\n    }\n\nPersonally, I recommend putting this code in a constructor method.","title":"Why does this get Method return a null value?","body":"<p>Your for loop to initialize the array either needs to be placed in a constructor or enclosed in curly brackets to use it as an initialization block.</p>\n<pre><code>public class MyClass {\n    // wrap the loop in curly brackets\n    {\n        for (...)\n    }\n    ...\n}\n</code></pre>\n<p>If your code is within a static class, you need to mark your initialization block as static, too.</p>\n<pre><code>public static class MyClass {\n    // wrap the loop in curly brackets\n    static {\n        for (...)\n    }\n    ...\n}\n</code></pre>\n<p>Personally, I recommend putting this code in a constructor method.</p>\n"},{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644011359,"creation_date":1644011359,"answer_id":70993203,"question_id":70871187,"body_markdown":"Here:\r\n\r\n        for (int i = 0; i &lt; buttonCount; i++) {\r\n            for (int j = 0; j &lt; buttonCount; j++) {\r\n                steps = new Step[buttonCount][buttonCount];\r\n                ... \r\n\r\nIn each iteration of your loop, you set steps to a new **empty** array and then set one element in it.\r\n\r\nThe `steps =` line should not be inside your loops. Move it to before:\r\n\r\n        steps = new Step[buttonCount][buttonCount];\r\n        for (int i = 0; i &lt; buttonCount; i++) {\r\n            for (int j = 0; j &lt; buttonCount; j++) {\r\n                ... ","title":"Why does this get Method return a null value?","body":"<p>Here:</p>\n<pre><code>    for (int i = 0; i &lt; buttonCount; i++) {\n        for (int j = 0; j &lt; buttonCount; j++) {\n            steps = new Step[buttonCount][buttonCount];\n            ... \n</code></pre>\n<p>In each iteration of your loop, you set steps to a new <strong>empty</strong> array and then set one element in it.</p>\n<p>The <code>steps =</code> line should not be inside your loops. Move it to before:</p>\n<pre><code>    steps = new Step[buttonCount][buttonCount];\n    for (int i = 0; i &lt; buttonCount; i++) {\n        for (int j = 0; j &lt; buttonCount; j++) {\n            ... \n</code></pre>\n"}],"owner":{"account_id":22628263,"reputation":11,"user_id":16806046,"display_name":"Osasikemwen Ogieva"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1298,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1644011359,"creation_date":1643237067,"question_id":70871187,"body_markdown":"I can not figure out why the return value for method `getButton` is null.\r\n\r\nI am trying to create a maze game. The `setUp` method, in the `MazeFrame`, class draws the maze. Each step within the maze is a button which, in this program, is a `Step` object which extends `JButton`.\r\n\r\nI need the `getButton` method to work, so I can call it in other classes and refer to a particular step/button by its index, but this method is bent on always returning null, instead of the correct button I am referring to.\r\n\r\nThe only time it does not return null is when I call it with a = 6, b = 6, which is the step.length - 1. Then it returns the correct button.\r\n\r\nI tried creating an `ArrayList` where I stored each Step/Button as soon as they were created. Then I had the `getButton` method run through this array list and return the step within it that had the same index values (a and b, i and j, row and column) as the index values passed into `getButton`.\r\n\r\nThe return value is still null.\r\n```java\r\npublic class MazeFrame extends JFrame {\r\n    Container contentPane;\r\n    private int buttonCount = 7;\r\n    private Step[][] steps;\r\n    private ArrayList&lt;Step&gt; locations = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        FirstMaze thisOne = new FirstMaze();\r\n        thisOne.SetUp();\r\n        thisOne.pack();\r\n        thisOne.setVisible(true);\r\n        thisOne.setSize(new Dimension(400, 400));\r\n    }\r\n\r\n    public void SetUp() {\r\n        //sets up container and sets layout grid\r\n        contentPane = this.getContentPane();\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        contentPane.setLayout(new GridLayout(buttonCount, buttonCount));\r\n\r\n        //run through the grid\r\n        for (int i = 0; i &lt; buttonCount; i++) {\r\n            for (int j = 0; j &lt; buttonCount; j++) {\r\n                steps = new Step[buttonCount][buttonCount];\r\n\r\n                //create and add buttons to the container\r\n                //for the start button\r\n                if (i == 0 &amp;&amp; j == 0) {\r\n                    contentPane.add(steps[i][j] = new Step(i, j, &quot;start&quot;, this));\r\n                }\r\n                //for the goal button\r\n                else if (i == buttonCount - 1 &amp;&amp; j == buttonCount - 1) {\r\n                    contentPane.add(steps[i][j] = new Step(i, j, &quot;goal&quot;, this));\r\n                }\r\n                //every other button\r\n                else {\r\n                    contentPane.add(steps[i][j] = new Step(i, j, &quot;intermediary&quot;, this));\r\n                }\r\n                steps[i][j].setTransitions(steps[i][j].getTransitions(i, j));\r\n                getButton(i, j); //call to getButton\r\n            }\r\n        }\r\n    }\r\n\r\n    public Step getButton(int a, int b) {\r\n        System.out.println(&quot;is the step: a,b null? &quot; + (steps[a][b] == null)); //Print statement is a test\r\n        return steps[a][b];\r\n    }\r\n}\r\n```\r\nThe print statement in `getButton` is a test, and it confirms that the return value is null.      \r\n","title":"Why does this get Method return a null value?","body":"<p>I can not figure out why the return value for method <code>getButton</code> is null.</p>\n<p>I am trying to create a maze game. The <code>setUp</code> method, in the <code>MazeFrame</code>, class draws the maze. Each step within the maze is a button which, in this program, is a <code>Step</code> object which extends <code>JButton</code>.</p>\n<p>I need the <code>getButton</code> method to work, so I can call it in other classes and refer to a particular step/button by its index, but this method is bent on always returning null, instead of the correct button I am referring to.</p>\n<p>The only time it does not return null is when I call it with a = 6, b = 6, which is the step.length - 1. Then it returns the correct button.</p>\n<p>I tried creating an <code>ArrayList</code> where I stored each Step/Button as soon as they were created. Then I had the <code>getButton</code> method run through this array list and return the step within it that had the same index values (a and b, i and j, row and column) as the index values passed into <code>getButton</code>.</p>\n<p>The return value is still null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MazeFrame extends JFrame {\n    Container contentPane;\n    private int buttonCount = 7;\n    private Step[][] steps;\n    private ArrayList&lt;Step&gt; locations = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        FirstMaze thisOne = new FirstMaze();\n        thisOne.SetUp();\n        thisOne.pack();\n        thisOne.setVisible(true);\n        thisOne.setSize(new Dimension(400, 400));\n    }\n\n    public void SetUp() {\n        //sets up container and sets layout grid\n        contentPane = this.getContentPane();\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        contentPane.setLayout(new GridLayout(buttonCount, buttonCount));\n\n        //run through the grid\n        for (int i = 0; i &lt; buttonCount; i++) {\n            for (int j = 0; j &lt; buttonCount; j++) {\n                steps = new Step[buttonCount][buttonCount];\n\n                //create and add buttons to the container\n                //for the start button\n                if (i == 0 &amp;&amp; j == 0) {\n                    contentPane.add(steps[i][j] = new Step(i, j, &quot;start&quot;, this));\n                }\n                //for the goal button\n                else if (i == buttonCount - 1 &amp;&amp; j == buttonCount - 1) {\n                    contentPane.add(steps[i][j] = new Step(i, j, &quot;goal&quot;, this));\n                }\n                //every other button\n                else {\n                    contentPane.add(steps[i][j] = new Step(i, j, &quot;intermediary&quot;, this));\n                }\n                steps[i][j].setTransitions(steps[i][j].getTransitions(i, j));\n                getButton(i, j); //call to getButton\n            }\n        }\n    }\n\n    public Step getButton(int a, int b) {\n        System.out.println(&quot;is the step: a,b null? &quot; + (steps[a][b] == null)); //Print statement is a test\n        return steps[a][b];\n    }\n}\n</code></pre>\n<p>The print statement in <code>getButton</code> is a test, and it confirms that the return value is null.</p>\n"},{"tags":["java","parameters","profiling","jfr"],"comments":[{"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"score":0,"creation_date":1673369538,"post_id":32589840,"comment_id":132481241,"body_markdown":"FOR newer versions:\n\n-XX:FlightRecorderOptions=disk=... has been removed. Use -XX:StartFlightRecording=disk=... instead.","body":"FOR newer versions:  -XX:FlightRecorderOptions=disk=... has been removed. Use -XX:StartFlightRecording=disk=... instead."}],"answers":[{"tags":[],"owner":{"account_id":185127,"reputation":2955,"user_id":2471311,"display_name":"Klara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1442397349,"creation_date":1442397349,"answer_id":32605321,"question_id":32589840,"body_markdown":"The maxage and maxsize options only apply when you have a continuous recording (= have not set duration). I also think that they are only guidelines, not exact limits.\r\n\r\n\r\nIf you want to get the data flushed to disk for a continuous recording, you can set disk=true, and if you want to specify where the data should end up, you can set repository=path\r\n(I believe the data will only be flushed to disk when the the in memory buffers are full, I&#39;m not sure if it&#39;s when the thread local buffers are full, or when the global buffers are full, see slide 13 in this slidedeck for a picture describing this: http://www.slideshare.net/marcushirt/java-mission-control-java-flight-recorder-deep-dive)\r\n\r\nSee https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html\r\nXX:FlightRecorderOptions for more info. You can check the threadbuffersize and globalbuffersize as well.\r\n\r\nI know the valid combinations of flags have varied a bit, so the documentation might not be entirely up to date.\r\n\r\n\r\n[Kire Haglin][1] can correct me where I&#39;ve misunderstood things.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2049208/kire-haglin","title":"Java Flight Recorder options not working and file is stored only in the end of the duration setting","body":"<p>The maxage and maxsize options only apply when you have a continuous recording (= have not set duration). I also think that they are only guidelines, not exact limits.</p>\n\n<p>If you want to get the data flushed to disk for a continuous recording, you can set disk=true, and if you want to specify where the data should end up, you can set repository=path\n(I believe the data will only be flushed to disk when the the in memory buffers are full, I'm not sure if it's when the thread local buffers are full, or when the global buffers are full, see slide 13 in this slidedeck for a picture describing this: <a href=\"http://www.slideshare.net/marcushirt/java-mission-control-java-flight-recorder-deep-dive\" rel=\"nofollow noreferrer\">http://www.slideshare.net/marcushirt/java-mission-control-java-flight-recorder-deep-dive</a>)</p>\n\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html</a>\nXX:FlightRecorderOptions for more info. You can check the threadbuffersize and globalbuffersize as well.</p>\n\n<p>I know the valid combinations of flags have varied a bit, so the documentation might not be entirely up to date.</p>\n\n<p><a href=\"https://stackoverflow.com/users/2049208/kire-haglin\">Kire Haglin</a> can correct me where I've misunderstood things.</p>\n"},{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1442942614,"creation_date":1442606087,"answer_id":32660042,"question_id":32589840,"body_markdown":"This is for JDK 7 and JDK 8 (Hotspot), and JDK 5 and 6 (JRockit). \r\n\r\nFirst, **maxsize** and **maxage** only works if you have a disk based recording, since the parameters controls how much data to keep on disk. \r\n\r\nIf you have an in-memory recording (**defaultrecording=true,disk=false**), the size of the memory buffers depends on the number of threads that are in use, how much memory each thread is allowed to use, number of global buffers etc. \r\n\r\nFlight Recorder was designed for large servers with GB of memory and TB of disk, so I don&#39;t think the JVM will be able to respect the number you provided, i.e. a single event could be larger than 100 kb, but typically they are about 50-150 bytes.\r\n\r\nSecond, the name of the parameters (**maxsize** and **maxage**) are misleading. It&#39;s not the maximum size/age, but the threshold at which the JVM will remove a log file when they are rotated, which typically happens every 12 MB. To minimize overhead the JVM doesn&#39;t stop all the threads immediately when the threshold is met, which means  data spills over so in reality it is 12-15 MB. If the system is highly saturated, it could be a lot more, think 30-40 MB. \r\n\r\nSo setting the **maxsize** to 100k will not work, you will always get at least 12 Mb,\r\n\r\nIf you set the **maxage** to 1 minute you will get data for *at least* one minute, perhaps more if it can fit in the size of about one log file, 12-15 Mb.\r\n\r\nIf you have an in-memory recording, the data is copied from the memory buffers to disk when the recording ends. That&#39;s why your file is empty. If you want Flight Recorder to write continuously to disk, you should set **disk=true**. \r\n","title":"Java Flight Recorder options not working and file is stored only in the end of the duration setting","body":"<p>This is for JDK 7 and JDK 8 (Hotspot), and JDK 5 and 6 (JRockit). </p>\n\n<p>First, <strong>maxsize</strong> and <strong>maxage</strong> only works if you have a disk based recording, since the parameters controls how much data to keep on disk. </p>\n\n<p>If you have an in-memory recording (<strong>defaultrecording=true,disk=false</strong>), the size of the memory buffers depends on the number of threads that are in use, how much memory each thread is allowed to use, number of global buffers etc. </p>\n\n<p>Flight Recorder was designed for large servers with GB of memory and TB of disk, so I don't think the JVM will be able to respect the number you provided, i.e. a single event could be larger than 100 kb, but typically they are about 50-150 bytes.</p>\n\n<p>Second, the name of the parameters (<strong>maxsize</strong> and <strong>maxage</strong>) are misleading. It's not the maximum size/age, but the threshold at which the JVM will remove a log file when they are rotated, which typically happens every 12 MB. To minimize overhead the JVM doesn't stop all the threads immediately when the threshold is met, which means  data spills over so in reality it is 12-15 MB. If the system is highly saturated, it could be a lot more, think 30-40 MB. </p>\n\n<p>So setting the <strong>maxsize</strong> to 100k will not work, you will always get at least 12 Mb,</p>\n\n<p>If you set the <strong>maxage</strong> to 1 minute you will get data for <em>at least</em> one minute, perhaps more if it can fit in the size of about one log file, 12-15 Mb.</p>\n\n<p>If you have an in-memory recording, the data is copied from the memory buffers to disk when the recording ends. That's why your file is empty. If you want Flight Recorder to write continuously to disk, you should set <strong>disk=true</strong>. </p>\n"}],"owner":{"account_id":1168065,"reputation":833,"user_id":1145896,"accept_rate":88,"display_name":"pokeRex110"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32605321,"answer_count":2,"score":3,"last_activity_date":1644010639,"creation_date":1442330563,"question_id":32589840,"body_markdown":"I have a Java process and I start it (as suggested here : [parameters for FR][1]) with the options :\r\n\r\n\r\n-XX:+UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=duration=2m,filename=myflightrecord.jfr -XX:FlightRecorderOptions=maxsize=100k,maxage=1m\r\n\r\nin order to have Flight Recorder information.\r\n\r\nI would expect that the **maxage=1m** would give me only one minute of record, and **maxsize=100k** the file size wouldnt be larger than 100Kb, but none of them does work as expected.\r\n\r\nAnother problem that I encounter is that I want the file to be stored every amount of time, lets suppose every one minute. But the file &quot;**myflightrecord.jfr**&quot; is empty until the duration is reached (2minutes in the example). \r\n\r\nIs there any way to make the Flight recorder flush before the end of the duration? \r\n\r\nps: The version of Java I am using is JDK1.8.0_45\r\n\r\n  [1]: https://docs.oracle.com/javacomponents/jmc-5-4/jfr-runtime-guide/run.htm","title":"Java Flight Recorder options not working and file is stored only in the end of the duration setting","body":"<p>I have a Java process and I start it (as suggested here : <a href=\"https://docs.oracle.com/javacomponents/jmc-5-4/jfr-runtime-guide/run.htm\" rel=\"nofollow\">parameters for FR</a>) with the options :</p>\n\n<p>-XX:+UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=duration=2m,filename=myflightrecord.jfr -XX:FlightRecorderOptions=maxsize=100k,maxage=1m</p>\n\n<p>in order to have Flight Recorder information.</p>\n\n<p>I would expect that the <strong>maxage=1m</strong> would give me only one minute of record, and <strong>maxsize=100k</strong> the file size wouldnt be larger than 100Kb, but none of them does work as expected.</p>\n\n<p>Another problem that I encounter is that I want the file to be stored every amount of time, lets suppose every one minute. But the file \"<strong>myflightrecord.jfr</strong>\" is empty until the duration is reached (2minutes in the example). </p>\n\n<p>Is there any way to make the Flight recorder flush before the end of the duration? </p>\n\n<p>ps: The version of Java I am using is JDK1.8.0_45</p>\n"},{"tags":["java","github","ant","codeql"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1646499257,"post_id":70993072,"comment_id":126140716,"body_markdown":"Maybe try enabling debug logging as mentioned [here](https://github.com/github/codeql-action/issues/430#issuecomment-804450261), or report the issue on the codeql-action repository.","body":"Maybe try enabling debug logging as mentioned <a href=\"https://github.com/github/codeql-action/issues/430#issuecomment-804450261\" rel=\"nofollow noreferrer\">here</a>, or report the issue on the codeql-action repository."}],"owner":{"account_id":356056,"reputation":61,"user_id":695351,"display_name":"Bakul Brahmbhatt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644010457,"creation_date":1644010457,"question_id":70993072,"body_markdown":"Any pointer why my codeql analysis is failing ? I am not getting any indication in log. Once Analysis ends, it also deletes all files from _work/_temp thus I am unable to see what&#39;s happening. \r\n\r\n***Here is my yml to start the code ql analysis***\r\n\r\n```\r\nname: &quot;CodeQL CI Workflow&quot;\r\n\r\nenv:\r\n  CATALINA_HOME: &quot;/apps/tomcat/apache-tomcat-9.0.44&quot;\r\n  JAVA_HOME: &quot;/apps/jdk1.8.0_231&quot;\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n      - support/*\r\n  pull_request:\r\n    branches:\r\n      - master\r\n      - support/*\r\n\r\njobs:\r\n  code_ql_scan:\r\n    runs-on: [ rhelcicd ]\r\n    environment: dev\r\n    strategy:\r\n      fail-fast: false\r\n      matrix:\r\n        language: [ &#39;java&#39; ]\r\n    steps:\r\n      - run: env\r\n      - uses: actions/checkout@v2\r\n      # Initializes the CodeQL tools for scanning.\r\n      - name: Initialize CodeQL\r\n        uses: github/codeql-action/init@v1\r\n        with:\r\n          debug: true\r\n          languages: ${{ matrix.language }}\r\n          config-file: ./.github/codeql/codeql-config.yml\r\n      - name: Building application using ant\r\n        run: ant -f build.xml -Dfile.encoding=ISO-8859-1 -Ddir.javadevlib=./javadevlib -Ddir.deploy=./built_artifact -Dapp.name=my-webapp\r\n      # Perform the CodeQL Analysis on compiled code by Ant \r\n      - name: Perform CodeQL Analysis\r\n        uses: github/codeql-action/analyze@v1\r\n        with:\r\n          debug: true\r\n      - name: Cleanup\r\n        if: ${{ always() }}\r\n        run: docker ps -q | xargs -n 1 -P 8 -I {} docker stop {}\r\n      - run : pwd\r\n      - run : ls\r\n```\r\n\r\n***Here is my query config file ( ./.github/codeql/codeql-config.yml )***\r\n\r\n```\r\nname: &quot;CodeQL config&quot;\r\nqueries:\r\n  - uses: security-and-quality\r\n  - uses: security-extended\r\npaths-ignore:\r\n  - .idea\r\n  - .m2\r\n  - conf\r\n  - etc\r\n  - public_html\r\n  - ssccloud\r\n  - xmlfiles\r\n  - lib\r\n  - javadevlib\r\n```\r\n\r\n***Here is the log*** \r\n\r\n```\r\n...................................... lots of other CWE processing logs ...........................................................\r\n\r\n2022-02-04T20:51:05.1870388Z [27/178] Found in cache: /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-502/UnsafeDeserialization.ql.\r\n2022-02-04T20:51:05.1871797Z Compiling query plan for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-611/XXE.ql.\r\n2022-02-04T20:51:05.1873100Z Resolving imports for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-611/XXE.ql.\r\n2022-02-04T20:51:05.1874485Z Compiling query plan for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-614/InsecureCookie.ql.\r\n2022-02-04T20:51:05.1876013Z Resolving imports for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-614/InsecureCookie.ql.\r\n2022-02-04T20:51:05.1877647Z Compilation cache hit for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-614/InsecureCookie.ql.\r\n2022-02-04T20:51:05.1879200Z [28/178] Found in cache: /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-614/InsecureCookie.ql.\r\n2022-02-04T20:51:05.1880653Z Compiling query plan for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-643/XPathInjection.ql.\r\n2022-02-04T20:51:05.1882101Z Resolving imports for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-643/XPathInjection.ql.\r\n2022-02-04T20:51:05.1883909Z Compilation cache hit for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-611/XXE.ql.\r\n2022-02-04T20:51:05.1885185Z [29/178] Found in cache: /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-611/XXE.ql.\r\n2022-02-04T20:51:05.1886658Z Compiling query plan for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-681/NumericCastTainted.ql.\r\n2022-02-04T20:51:05.1887950Z Resolving imports for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-j\r\n2022-02-04T20:51:05.1889117Z     at runQueries (/home/actions/actions-runner/_work/_actions/github/codeql-action/v1/lib/analyze.js:193:19)\r\n2022-02-04T20:51:05.1890035Z     at processTicksAndRejections (internal/process/task_queues.js:93:5) {\r\n2022-02-04T20:51:05.1890832Z   name: &#39;CodeQLAnalysisError&#39;,\r\n2022-02-04T20:51:05.1891564Z   queriesStatusReport: { analyze_failure_language: &#39;java&#39; }\r\n2022-02-04T20:51:05.1892054Z }\r\n2022-02-04T20:51:05.3776434Z Post job cleanup.\r\n2022-02-04T20:51:05.8506780Z Cleaning up orphan processes\r\n```\r\n","title":"codeql java analysis is failing with ant build without giving proper hint","body":"<p>Any pointer why my codeql analysis is failing ? I am not getting any indication in log. Once Analysis ends, it also deletes all files from _work/_temp thus I am unable to see what's happening.</p>\n<p><em><strong>Here is my yml to start the code ql analysis</strong></em></p>\n<pre><code>name: &quot;CodeQL CI Workflow&quot;\n\nenv:\n  CATALINA_HOME: &quot;/apps/tomcat/apache-tomcat-9.0.44&quot;\n  JAVA_HOME: &quot;/apps/jdk1.8.0_231&quot;\n\non:\n  push:\n    branches:\n      - master\n      - support/*\n  pull_request:\n    branches:\n      - master\n      - support/*\n\njobs:\n  code_ql_scan:\n    runs-on: [ rhelcicd ]\n    environment: dev\n    strategy:\n      fail-fast: false\n      matrix:\n        language: [ 'java' ]\n    steps:\n      - run: env\n      - uses: actions/checkout@v2\n      # Initializes the CodeQL tools for scanning.\n      - name: Initialize CodeQL\n        uses: github/codeql-action/init@v1\n        with:\n          debug: true\n          languages: ${{ matrix.language }}\n          config-file: ./.github/codeql/codeql-config.yml\n      - name: Building application using ant\n        run: ant -f build.xml -Dfile.encoding=ISO-8859-1 -Ddir.javadevlib=./javadevlib -Ddir.deploy=./built_artifact -Dapp.name=my-webapp\n      # Perform the CodeQL Analysis on compiled code by Ant \n      - name: Perform CodeQL Analysis\n        uses: github/codeql-action/analyze@v1\n        with:\n          debug: true\n      - name: Cleanup\n        if: ${{ always() }}\n        run: docker ps -q | xargs -n 1 -P 8 -I {} docker stop {}\n      - run : pwd\n      - run : ls\n</code></pre>\n<p><em><strong>Here is my query config file ( ./.github/codeql/codeql-config.yml )</strong></em></p>\n<pre><code>name: &quot;CodeQL config&quot;\nqueries:\n  - uses: security-and-quality\n  - uses: security-extended\npaths-ignore:\n  - .idea\n  - .m2\n  - conf\n  - etc\n  - public_html\n  - ssccloud\n  - xmlfiles\n  - lib\n  - javadevlib\n</code></pre>\n<p><em><strong>Here is the log</strong></em></p>\n<pre><code>...................................... lots of other CWE processing logs ...........................................................\n\n2022-02-04T20:51:05.1870388Z [27/178] Found in cache: /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-502/UnsafeDeserialization.ql.\n2022-02-04T20:51:05.1871797Z Compiling query plan for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-611/XXE.ql.\n2022-02-04T20:51:05.1873100Z Resolving imports for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-611/XXE.ql.\n2022-02-04T20:51:05.1874485Z Compiling query plan for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-614/InsecureCookie.ql.\n2022-02-04T20:51:05.1876013Z Resolving imports for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-614/InsecureCookie.ql.\n2022-02-04T20:51:05.1877647Z Compilation cache hit for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-614/InsecureCookie.ql.\n2022-02-04T20:51:05.1879200Z [28/178] Found in cache: /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-614/InsecureCookie.ql.\n2022-02-04T20:51:05.1880653Z Compiling query plan for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-643/XPathInjection.ql.\n2022-02-04T20:51:05.1882101Z Resolving imports for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-643/XPathInjection.ql.\n2022-02-04T20:51:05.1883909Z Compilation cache hit for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-611/XXE.ql.\n2022-02-04T20:51:05.1885185Z [29/178] Found in cache: /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-611/XXE.ql.\n2022-02-04T20:51:05.1886658Z Compiling query plan for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-java/Security/CWE/CWE-681/NumericCastTainted.ql.\n2022-02-04T20:51:05.1887950Z Resolving imports for /home/actions/actions-runner/_work/_tool/CodeQL/0.0.0-20211005/x64/codeql/qlpacks/codeql-j\n2022-02-04T20:51:05.1889117Z     at runQueries (/home/actions/actions-runner/_work/_actions/github/codeql-action/v1/lib/analyze.js:193:19)\n2022-02-04T20:51:05.1890035Z     at processTicksAndRejections (internal/process/task_queues.js:93:5) {\n2022-02-04T20:51:05.1890832Z   name: 'CodeQLAnalysisError',\n2022-02-04T20:51:05.1891564Z   queriesStatusReport: { analyze_failure_language: 'java' }\n2022-02-04T20:51:05.1892054Z }\n2022-02-04T20:51:05.3776434Z Post job cleanup.\n2022-02-04T20:51:05.8506780Z Cleaning up orphan processes\n</code></pre>\n"},{"tags":["java","multidimensional-array","file-io","char"],"comments":[{"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"score":0,"creation_date":1644008237,"post_id":70992579,"comment_id":125500210,"body_markdown":"Please try explaining your question better, what exactly are you asking? Are you trying to understand how to get char from line[j] ?","body":"Please try explaining your question better, what exactly are you asking? Are you trying to understand how to get char from line[j] ?"},{"owner":{"account_id":18310831,"reputation":11,"user_id":13333671,"display_name":"LSNRQMNZ"},"score":0,"creation_date":1644009744,"post_id":70992579,"comment_id":125500652,"body_markdown":"I&#39;m trying to populate the array I made with the file elements.","body":"I&#39;m trying to populate the array I made with the file elements."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644010141,"creation_date":1644008275,"answer_id":70992769,"question_id":70992579,"body_markdown":"When you do add something to the array make certain it is a character and not a String.  This is a solution using a String array.  You can adapt it to using a Scanner.\r\n- `String.charAt()` gets the character at the specified index.  In this case `0`.\r\n- `\\\\s+` splits on one or more white space characters.\r\n```\r\nString[] s = { &quot;C B A B&quot;, &quot;B N O D&quot;, &quot;M D E E&quot; };\r\n\r\nint m = 3;\r\nint n = 4;\r\nchar[][] wordMatrix = new char[m][n];\r\nfor (int i = 0; i &lt; s.length; i++) {\r\n\tString[] line = s[i].trim().split(&quot;\\\\s+&quot;);\r\n\tfor (int j = 0; j &lt; line.length; j++) {\r\n\t\twordMatrix[i][j] = line[j].charAt(0);\r\n\t} // end j for loop\r\n} // end i for loop\r\nSystem.out.println(Arrays.deepToString(wordMatrix));\r\n```\r\nprints\r\n```\r\n[[C, B, A, B], [B, N, O, D], [M, D, E, E]]\r\n\r\n","title":"Populating a 2D array with char inputs from a text file","body":"<p>When you do add something to the array make certain it is a character and not a String.  This is a solution using a String array.  You can adapt it to using a Scanner.</p>\n<ul>\n<li><code>String.charAt()</code> gets the character at the specified index.  In this case <code>0</code>.</li>\n<li><code>\\\\s+</code> splits on one or more white space characters.</li>\n</ul>\n<pre><code>String[] s = { &quot;C B A B&quot;, &quot;B N O D&quot;, &quot;M D E E&quot; };\n\nint m = 3;\nint n = 4;\nchar[][] wordMatrix = new char[m][n];\nfor (int i = 0; i &lt; s.length; i++) {\n    String[] line = s[i].trim().split(&quot;\\\\s+&quot;);\n    for (int j = 0; j &lt; line.length; j++) {\n        wordMatrix[i][j] = line[j].charAt(0);\n    } // end j for loop\n} // end i for loop\nSystem.out.println(Arrays.deepToString(wordMatrix));\n</code></pre>\n<p>prints</p>\n<pre><code>[[C, B, A, B], [B, N, O, D], [M, D, E, E]]\n\n</code></pre>\n"}],"owner":{"account_id":18310831,"reputation":11,"user_id":13333671,"display_name":"LSNRQMNZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644010141,"creation_date":1644007060,"question_id":70992579,"body_markdown":"I want take this text\r\n\r\nC B A B\r\n\r\nB N O D\r\n\r\nM D E E\r\n\r\nand populate a 2D array. I can print out the array with this code, but it is empty as I don&#39;t know what to put in the line I commented out.\r\nSo it just prints out [[ , , , , ],[ , , , , ],[ , , , , ]] as I already got the size of the array.\r\n\r\n    char[][] wordMatrix = new char[m][n];\r\n    \t\t\twhile(scan.hasNext()) {\r\n    \t\t\t\tfor(int i = 0; i &lt; wordMatrix.length;i++) {\r\n    \t\t\t\t\tString[] line = scan.nextLine().trim().split(&quot; &quot;);\r\n    \t\t\t\t\tfor (int j = 0; j &lt;line.length;j++) {\r\n    \t\t\t\t\t\t//wordMatrix[i][j]= Char.parseChar(line[j]);\t\t\r\n    \t\t\t\t\t}//end j for loop\r\n    \t\t\t\t}//end i for loop\t\r\n    \t\t\t\tSystem.out.println(Arrays.deepToString(wordMatrix));\r\n    \t\t\t}//end while loop","title":"Populating a 2D array with char inputs from a text file","body":"<p>I want take this text</p>\n<p>C B A B</p>\n<p>B N O D</p>\n<p>M D E E</p>\n<p>and populate a 2D array. I can print out the array with this code, but it is empty as I don't know what to put in the line I commented out.\nSo it just prints out [[ , , , , ],[ , , , , ],[ , , , , ]] as I already got the size of the array.</p>\n<pre><code>char[][] wordMatrix = new char[m][n];\n            while(scan.hasNext()) {\n                for(int i = 0; i &lt; wordMatrix.length;i++) {\n                    String[] line = scan.nextLine().trim().split(&quot; &quot;);\n                    for (int j = 0; j &lt;line.length;j++) {\n                        //wordMatrix[i][j]= Char.parseChar(line[j]);        \n                    }//end j for loop\n                }//end i for loop   \n                System.out.println(Arrays.deepToString(wordMatrix));\n            }//end while loop\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","http-request-parameters"],"comments":[{"owner":{"account_id":13042702,"reputation":503,"user_id":9425556,"display_name":"jamesngyz"},"score":1,"creation_date":1643905468,"post_id":70973810,"comment_id":125468807,"body_markdown":"Does this answer your question? [How to check spring RestController for unknown query params?](https://stackoverflow.com/questions/28092449/how-to-check-spring-restcontroller-for-unknown-query-params)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28092449/how-to-check-spring-restcontroller-for-unknown-query-params\">How to check spring RestController for unknown query params?</a>"},{"owner":{"account_id":18216145,"reputation":83,"user_id":13257797,"display_name":"eln"},"score":0,"creation_date":1643905946,"post_id":70973810,"comment_id":125469008,"body_markdown":"kinda. It seems that when the web service finds in an url unknown request parameters it is standard convention that they are being ignored.\nCheck trying to add `?some=thing ` to your current url, you&#39;ll probably see that it changes nothing","body":"kinda. It seems that when the web service finds in an url unknown request parameters it is standard convention that they are being ignored. Check trying to add <code>?some=thing </code> to your current url, you&#39;ll probably see that it changes nothing"},{"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"score":0,"creation_date":1643906519,"post_id":70973810,"comment_id":125469268,"body_markdown":"If you really need raising an exception on a undefined request param, you can achieve it with an interceptor","body":"If you really need raising an exception on a undefined request param, you can achieve it with an interceptor"}],"answers":[{"tags":[],"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643907548,"creation_date":1643907548,"answer_id":70975319,"question_id":70973810,"body_markdown":"Query param are often optional, so it&#39;s rare that a server could reject you because of that.  \r\nBut what you are trying to achieve can be implemented with an Interceptor, you need some reflection to get the parameters of your method and verify that each client param is defined on the signature of your method.\r\n\r\nSomething like:\r\n\r\n```\r\n@Component\r\npublic class QueryParamInterceptor implements HandlerInterceptor {\r\n\r\n    @Override\r\n    public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response, final Object handler) {\r\n        Map&lt;String, String[]&gt; clientRequestParameters = request.getParameterMap();\r\n        MethodParameter[] methodParameters = ((HandlerMethod) handler).getMethodParameters();\r\n        List&lt;String&gt; definedMethodsParameters = Arrays.stream(methodParameters)\r\n                .flatMap(methodParameter -&gt; Arrays.stream(methodParameter.getParameterAnnotations()))\r\n                .filter(annotation -&gt; annotation.annotationType().isAssignableFrom(RequestParam.class))\r\n                .map(annotation -&gt; ((RequestParam) annotation).name())\r\n                .collect(Collectors.toList());\r\n\r\n        for (String clientRequestParameterKey : clientRequestParameters.keySet()) {\r\n            if (!definedMethodsParameters.contains(clientRequestParameterKey)) {\r\n                throw new IllegalArgumentException(&quot;The parameter &quot; + clientRequestParameterKey + &quot; passed by the client is unknown&quot;);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nNote that an interceptor will be called at each request. So I would not use that in production due to the high cost of object introspection..","title":"Spring GET method how to raise Exception if an unknown request param in controller","body":"<p>Query param are often optional, so it's rare that a server could reject you because of that.<br />\nBut what you are trying to achieve can be implemented with an Interceptor, you need some reflection to get the parameters of your method and verify that each client param is defined on the signature of your method.</p>\n<p>Something like:</p>\n<pre><code>@Component\npublic class QueryParamInterceptor implements HandlerInterceptor {\n\n    @Override\n    public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response, final Object handler) {\n        Map&lt;String, String[]&gt; clientRequestParameters = request.getParameterMap();\n        MethodParameter[] methodParameters = ((HandlerMethod) handler).getMethodParameters();\n        List&lt;String&gt; definedMethodsParameters = Arrays.stream(methodParameters)\n                .flatMap(methodParameter -&gt; Arrays.stream(methodParameter.getParameterAnnotations()))\n                .filter(annotation -&gt; annotation.annotationType().isAssignableFrom(RequestParam.class))\n                .map(annotation -&gt; ((RequestParam) annotation).name())\n                .collect(Collectors.toList());\n\n        for (String clientRequestParameterKey : clientRequestParameters.keySet()) {\n            if (!definedMethodsParameters.contains(clientRequestParameterKey)) {\n                throw new IllegalArgumentException(&quot;The parameter &quot; + clientRequestParameterKey + &quot; passed by the client is unknown&quot;);\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Note that an interceptor will be called at each request. So I would not use that in production due to the high cost of object introspection..</p>\n"},{"tags":[],"owner":{"account_id":15013053,"reputation":81,"user_id":10836912,"display_name":"T.Okrajni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644009053,"creation_date":1644009053,"answer_id":70992873,"question_id":70973810,"body_markdown":"    @GetMapping(path = &quot;/users/search&quot;)\r\n    public @ResponseBody\r\n    ResponseEntity&lt;List&lt;User&gt;&gt; getUserLike(\r\n            @RequestParam Map&lt;String, String&gt; allParams,\r\n            @RequestParam(name = &quot;id&quot;, required = false) Long id,\r\n            @RequestParam(name = &quot;name&quot;, required = false) String name,\r\n            @RequestParam(name = &quot;dateofbirth&quot;, required = false) @DateTimeFormat(pattern = &quot;dd-MM-yyyy&quot;) LocalDate dateOfBirth\r\n    ) {\r\n        // here check if allParams contains only valid keys\r\n        return userService.getUserLike(id, name, dateOfBirth);\r\n    }","title":"Spring GET method how to raise Exception if an unknown request param in controller","body":"<pre><code>@GetMapping(path = &quot;/users/search&quot;)\npublic @ResponseBody\nResponseEntity&lt;List&lt;User&gt;&gt; getUserLike(\n        @RequestParam Map&lt;String, String&gt; allParams,\n        @RequestParam(name = &quot;id&quot;, required = false) Long id,\n        @RequestParam(name = &quot;name&quot;, required = false) String name,\n        @RequestParam(name = &quot;dateofbirth&quot;, required = false) @DateTimeFormat(pattern = &quot;dd-MM-yyyy&quot;) LocalDate dateOfBirth\n) {\n    // here check if allParams contains only valid keys\n    return userService.getUserLike(id, name, dateOfBirth);\n}\n</code></pre>\n"}],"owner":{"account_id":18216145,"reputation":83,"user_id":13257797,"display_name":"eln"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2851,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70975319,"answer_count":2,"score":1,"last_activity_date":1644009053,"creation_date":1643901496,"question_id":70973810,"body_markdown":"So I have in my controller a GET method with optional request params:\r\n```java\r\n@GetMapping(path = &quot;/users/search&quot;)\r\n    public @ResponseBody ResponseEntity&lt;List&lt;User&gt;&gt; getUserLike(\r\n      @RequestParam(name = &quot;id&quot;, required = false) Long id,\r\n      @RequestParam(name = &quot;name&quot;, required = false) String name,\r\n      @RequestParam(name = &quot;dateofbirth&quot;, required = false) @DateTimeFormat(pattern = &quot;dd-MM-yyyy&quot;) LocalDate dateOfBirth\r\n    ) {\r\n      return userService.getUserLike(id, name, dateOfBirth);\r\n    }\r\n```\r\nWhen I try to call this request with unknown parameters\r\n\r\n```\r\n/users/search?id=1&amp;myunknownparam=unknownParam\r\n```\r\n\r\nI&#39;d like to raise an Exception when request has unknown param such as **myunknownparam** here.\r\n\r\nThough for now as all my parameters are optional my service returns the same result as it would with all the parameters set to null.","title":"Spring GET method how to raise Exception if an unknown request param in controller","body":"<p>So I have in my controller a GET method with optional request params:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/users/search&quot;)\n    public @ResponseBody ResponseEntity&lt;List&lt;User&gt;&gt; getUserLike(\n      @RequestParam(name = &quot;id&quot;, required = false) Long id,\n      @RequestParam(name = &quot;name&quot;, required = false) String name,\n      @RequestParam(name = &quot;dateofbirth&quot;, required = false) @DateTimeFormat(pattern = &quot;dd-MM-yyyy&quot;) LocalDate dateOfBirth\n    ) {\n      return userService.getUserLike(id, name, dateOfBirth);\n    }\n</code></pre>\n<p>When I try to call this request with unknown parameters</p>\n<pre><code>/users/search?id=1&amp;myunknownparam=unknownParam\n</code></pre>\n<p>I'd like to raise an Exception when request has unknown param such as <strong>myunknownparam</strong> here.</p>\n<p>Though for now as all my parameters are optional my service returns the same result as it would with all the parameters set to null.</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":3438922,"reputation":5562,"user_id":2881298,"display_name":"yamafontes"},"score":4,"creation_date":1384214437,"post_id":19918418,"comment_id":29638556,"body_markdown":"What is an &quot;empty object&quot; by your definition?","body":"What is an &quot;empty object&quot; by your definition?"},{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1384214455,"post_id":19918418,"comment_id":29638559,"body_markdown":"yes it is as simple as that but as Kepani asked, what are targeting at. You should elaborate on your understanding","body":"yes it is as simple as that but as Kepani asked, what are targeting at. You should elaborate on your understanding"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1384214564,"post_id":19918418,"comment_id":29638592,"body_markdown":"I&#39;m a little confused by your question as it is extremely vague. Objects either exist or don&#39;t (null). Empty likely depends on the class you&#39;re working with, something you&#39;re not showing us. Please clarify just what you&#39;re asking.","body":"I&#39;m a little confused by your question as it is extremely vague. Objects either exist or don&#39;t (null). Empty likely depends on the class you&#39;re working with, something you&#39;re not showing us. Please clarify just what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1571011,"reputation":1340,"user_id":1458699,"accept_rate":75,"display_name":"SJP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384214493,"creation_date":1384214493,"answer_id":19918454,"question_id":19918418,"body_markdown":"It depends what you mean by empty. What you have done is instantiated an object. If the objects constructor initialized the fields of the Name object then the objects fields have values assigned to them. Also the memory for these fields was allocated when you called new. So even if you havent assigned values to them they do in fact exist in memory but are simply not initialized. ","title":"Creating empty object in Java?","body":"<p>It depends what you mean by empty. What you have done is instantiated an object. If the objects constructor initialized the fields of the Name object then the objects fields have values assigned to them. Also the memory for these fields was allocated when you called new. So even if you havent assigned values to them they do in fact exist in memory but are simply not initialized. </p>\n"},{"tags":[],"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1644008885,"creation_date":1384214517,"answer_id":19918458,"question_id":19918418,"body_markdown":"If `Name` has a parameterless constructor, sure.  Whether or not it&#39;s &quot;empty&quot; depends on what that constructor does or what defaults it may have.\r\n\r\nHow do you define &quot;empty object&quot; anyway?\r\n\r\nFor example, if you want a variable but don&#39;t want it to actually have an object, you can just declare the variable without initializing it:\r\n\r\n    Name myName;\r\n\r\nIn this case `myName` will be `null` (or &quot;unassigned&quot;? depends on the context), but will be of type `Name` and can be used as such later (once it&#39;s assigned a value).\r\n\r\nAll the variable itself does is point to a location in memory where the &quot;object&quot; exists.  So something like `Name myName` doesn&#39;t &quot;create&quot; an object, it just creates the pointer to a memory location.  `new Name()` actually creates an object by calling its constructor.  When used together like in your example, the latter half creates the object and then the former half points to the location in memory where the object exists.","title":"Creating empty object in Java?","body":"<p>If <code>Name</code> has a parameterless constructor, sure.  Whether or not it's &quot;empty&quot; depends on what that constructor does or what defaults it may have.</p>\n<p>How do you define &quot;empty object&quot; anyway?</p>\n<p>For example, if you want a variable but don't want it to actually have an object, you can just declare the variable without initializing it:</p>\n<pre><code>Name myName;\n</code></pre>\n<p>In this case <code>myName</code> will be <code>null</code> (or &quot;unassigned&quot;? depends on the context), but will be of type <code>Name</code> and can be used as such later (once it's assigned a value).</p>\n<p>All the variable itself does is point to a location in memory where the &quot;object&quot; exists.  So something like <code>Name myName</code> doesn't &quot;create&quot; an object, it just creates the pointer to a memory location.  <code>new Name()</code> actually creates an object by calling its constructor.  When used together like in your example, the latter half creates the object and then the former half points to the location in memory where the object exists.</p>\n"},{"tags":[],"owner":{"account_id":3438922,"reputation":5562,"user_id":2881298,"display_name":"yamafontes"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1384214762,"creation_date":1384214762,"answer_id":19918494,"question_id":19918418,"body_markdown":"An &quot;empty object&quot; is pretty ambiguous in java terms. I could interpret that as this:\r\n\r\n    Object empty = new Object();\r\n\r\nwhich is about the emptiest object you can create.\r\n\r\nHowever in your example,\r\n\r\n    Name myName = new Name();\r\n\r\nThat&#39;s going to create an object based on whatever code you&#39;ve put in your default constructor. (Which, i guess if you&#39;re setting everything to a default value, is pretty empty)","title":"Creating empty object in Java?","body":"<p>An \"empty object\" is pretty ambiguous in java terms. I could interpret that as this:</p>\n\n<pre><code>Object empty = new Object();\n</code></pre>\n\n<p>which is about the emptiest object you can create.</p>\n\n<p>However in your example,</p>\n\n<pre><code>Name myName = new Name();\n</code></pre>\n\n<p>That's going to create an object based on whatever code you've put in your default constructor. (Which, i guess if you're setting everything to a default value, is pretty empty)</p>\n"}],"owner":{"account_id":3404735,"reputation":101,"user_id":2856101,"accept_rate":33,"display_name":"Java Newb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77383,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1384220161,"accepted_answer_id":19918458,"answer_count":3,"score":5,"last_activity_date":1644008885,"creation_date":1384214321,"question_id":19918418,"body_markdown":"How do you go about doing this? Is it as simple as this:\r\n\r\n    Name myName = new Name();\r\n\r\nI&#39;m a little confused. It should be a class with no instance variables.  I simply have to &quot;create an empty object&quot;. The constructor will also be empty of course.","title":"Creating empty object in Java?","body":"<p>How do you go about doing this? Is it as simple as this:</p>\n\n<pre><code>Name myName = new Name();\n</code></pre>\n\n<p>I'm a little confused. It should be a class with no instance variables.  I simply have to \"create an empty object\". The constructor will also be empty of course.</p>\n"},{"tags":["java","integer","byte"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1644001958,"post_id":70991648,"comment_id":125498149,"body_markdown":"All Java integer operations are promoted to `int`, then assignments get made.  So when you take `b` and multiply it by -1, it becomes an `int`.  Then you have to tell the compiler it&#39;s ok to assign the `int` to a byte by casting it.","body":"All Java integer operations are promoted to <code>int</code>, then assignments get made.  So when you take <code>b</code> and multiply it by -1, it becomes an <code>int</code>.  Then you have to tell the compiler it&#39;s ok to assign the <code>int</code> to a byte by casting it."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1644002992,"post_id":70991648,"comment_id":125498495,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.15.3","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.15.3\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se17/html/&hellip;</a>"}],"owner":{"account_id":23713791,"reputation":11,"user_id":17757350,"display_name":"Kango Vince"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1644144173,"answer_count":0,"score":1,"last_activity_date":1644008494,"creation_date":1644001737,"question_id":70991648,"body_markdown":"        byte b = 1;\r\n        b = -b; //i get highlited in red in here\r\n        \r\n        int a = 1;\r\n        a = -a; //it is ok for jvm\r\n\r\n\r\nwhy if (b = -b), then I get a mistake, but if i do the same with int, it is OK? What is the reason?\r\n\r\nSorry for such a newbie question, but I can&#39;t understand reason myself, neither found answer in google of SO.","title":"Casting of types: byte vs int (Java)","body":"<pre><code>    byte b = 1;\n    b = -b; //i get highlited in red in here\n    \n    int a = 1;\n    a = -a; //it is ok for jvm\n</code></pre>\n<p>why if (b = -b), then I get a mistake, but if i do the same with int, it is OK? What is the reason?</p>\n<p>Sorry for such a newbie question, but I can't understand reason myself, neither found answer in google of SO.</p>\n"},{"tags":["java","eclipse","swing","field","windowbuilder"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1552054716,"post_id":55064225,"comment_id":96877942,"body_markdown":"Is this the default dark theme? Does all not work: clicking in the field, clicking on the square on the right side in the field, and via keyboard (e.g. tap to navigate and space to toggle a checkbox)?","body":"Is this the default dark theme? Does all not work: clicking in the field, clicking on the square on the right side in the field, and via keyboard (e.g. tap to navigate and space to toggle a checkbox)?"},{"owner":{"account_id":12282235,"reputation":13,"user_id":8963364,"display_name":"Gourav Verma"},"score":0,"creation_date":1552140701,"post_id":55064225,"comment_id":96902722,"body_markdown":"Yes this is default dark theme of eclipse and i am aware about the basic of windowBuilder and working on with windows but in linux eclipse can&#39;t edit by mouse or by keyboard.","body":"Yes this is default dark theme of eclipse and i am aware about the basic of windowBuilder and working on with windows but in linux eclipse can&#39;t edit by mouse or by keyboard."}],"answers":[{"tags":[],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644007461,"creation_date":1644007461,"answer_id":70992646,"question_id":55064225,"body_markdown":"I had this issue and for me the solution was to download last good build directly from update site instead of Eclipse Marketplace.\r\n\r\nhttps://www.eclipse.org/windowbuilder/download.php\r\n","title":"Eclipse WindowBuilder can&#39;t change value","body":"<p>I had this issue and for me the solution was to download last good build directly from update site instead of Eclipse Marketplace.</p>\n<p><a href=\"https://www.eclipse.org/windowbuilder/download.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/windowbuilder/download.php</a></p>\n"}],"owner":{"account_id":12282235,"reputation":13,"user_id":8963364,"display_name":"Gourav Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644007461,"creation_date":1552051730,"question_id":55064225,"body_markdown":"I am working with the Eclipse IDE for Java Developers 2018-12 (4.10) on Ubuntu 18.04 with the JDK 1.8 (202) on a Java project, I have installed WindowBuilder components for drag and drop designing with Java Swing Components:\r\n\r\n[![List of components installed in eclipse software][1]][1]\r\n\r\nI can successfully add components but can&#39;t change any field value like bounds value or text value in Ubuntu eclipse I have worked on it in windows and able to change there but here is this bug.\r\n\r\nI&#39;ve checked the code and working with windows eclipse WindowBuilder \r\n\r\nNot working even in a new project. \r\n\r\n[![Properties Image][2]][2] \r\n\r\n  [1]: https://i.stack.imgur.com/9erif.png\r\n  [2]: https://i.stack.imgur.com/MD7YZ.png","title":"Eclipse WindowBuilder can&#39;t change value","body":"<p>I am working with the Eclipse IDE for Java Developers 2018-12 (4.10) on Ubuntu 18.04 with the JDK 1.8 (202) on a Java project, I have installed WindowBuilder components for drag and drop designing with Java Swing Components:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9erif.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9erif.png\" alt=\"List of components installed in eclipse software\"></a></p>\n\n<p>I can successfully add components but can't change any field value like bounds value or text value in Ubuntu eclipse I have worked on it in windows and able to change there but here is this bug.</p>\n\n<p>I've checked the code and working with windows eclipse WindowBuilder </p>\n\n<p>Not working even in a new project. </p>\n\n<p><a href=\"https://i.stack.imgur.com/MD7YZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MD7YZ.png\" alt=\"Properties Image\"></a> </p>\n"},{"tags":["java","spring-boot","security","spring-data-jpa"],"owner":{"account_id":18195686,"reputation":23,"user_id":13240779,"display_name":"tim_ulle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644007284,"creation_date":1644007284,"question_id":70992622,"body_markdown":"Let&#39;s say we have a user entity which stores some data like username, nickname and the encrypted password.\r\nIs there any security issue by adding this user object as Spring SessionAttribute? Because for my understanding the @SessionAttributes annotation puts this data in the http-session, which is server-sided, so the application user can only view the session id but not the stored data, right?","title":"Security issue by adding user object as Spring SessionAttribute?","body":"<p>Let's say we have a user entity which stores some data like username, nickname and the encrypted password.\nIs there any security issue by adding this user object as Spring SessionAttribute? Because for my understanding the @SessionAttributes annotation puts this data in the http-session, which is server-sided, so the application user can only view the session id but not the stored data, right?</p>\n"},{"tags":["java","microsoft-graph-api","azure-ad-msal","microsoft-graph-sdks","microsoft-graph-calendar"],"comments":[{"owner":{"account_id":18664773,"reputation":1033,"user_id":13605044,"display_name":"Md. Faisal Habib"},"score":0,"creation_date":1643913202,"post_id":70971906,"comment_id":125472076,"body_markdown":"does invoking GetRefreshToken through okenResponse help? for example in your case, string refreshToken = future.GetRefreshToken();","body":"does invoking GetRefreshToken through okenResponse help? for example in your case, string refreshToken = future.GetRefreshToken();"},{"owner":{"account_id":1131463,"reputation":1279,"user_id":1117438,"accept_rate":88,"display_name":"Nikhil"},"score":0,"creation_date":1643914406,"post_id":70971906,"comment_id":125472503,"body_markdown":"@Md.FaisalHabib No. That method is not present on future","body":"@Md.FaisalHabib No. That method is not present on future"},{"owner":{"account_id":19892464,"reputation":11446,"user_id":14574199,"display_name":"Tiny Wang"},"score":0,"creation_date":1643922803,"post_id":70971906,"comment_id":125475269,"body_markdown":"`without having a signed in user present` then means you need to use [client credential flow](https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow), using this kind of flow means you can&#39;t get a refresh token.","body":"<code>without having a signed in user present</code> then means you need to use <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow\" rel=\"nofollow noreferrer\">client credential flow</a>, using this kind of flow means you can&#39;t get a refresh token."},{"owner":{"account_id":1131463,"reputation":1279,"user_id":1117438,"accept_rate":88,"display_name":"Nikhil"},"score":0,"creation_date":1643923213,"post_id":70971906,"comment_id":125475426,"body_markdown":"I cannot use &quot;client credential flow&quot; because it is valid only for organizational accounts. I want to use my web application with personal MSA (Microsoft Accounts).","body":"I cannot use &quot;client credential flow&quot; because it is valid only for organizational accounts. I want to use my web application with personal MSA (Microsoft Accounts)."}],"answers":[{"tags":[],"owner":{"account_id":1131463,"reputation":1279,"user_id":1117438,"accept_rate":88,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644007167,"creation_date":1644007167,"answer_id":70992596,"question_id":70971906,"body_markdown":"I got the answer from this link: https://github.com/AzureAD/microsoft-authentication-library-for-java/issues/228\r\n\r\nShort Answer: Use reflection\r\n\r\n    try {\r\n                //see com.microsoft.aad.msal4j.AuthenticationResult#refreshToken\r\n                final Field refreshTokenField = result.getClass()\r\n                    .getDeclaredField(&quot;refreshToken&quot;);\r\n                refreshTokenField.setAccessible(true);\r\n                return refreshTokenField.get(result).toString();\r\n            } catch (IllegalAccessException | NoSuchFieldException e) {\r\n                throw new RuntimeException(e);\r\n            }","title":"How to obtain refresh token in Microsoft Authorization Code flow - java sdk","body":"<p>I got the answer from this link: <a href=\"https://github.com/AzureAD/microsoft-authentication-library-for-java/issues/228\" rel=\"nofollow noreferrer\">https://github.com/AzureAD/microsoft-authentication-library-for-java/issues/228</a></p>\n<p>Short Answer: Use reflection</p>\n<pre><code>try {\n            //see com.microsoft.aad.msal4j.AuthenticationResult#refreshToken\n            final Field refreshTokenField = result.getClass()\n                .getDeclaredField(&quot;refreshToken&quot;);\n            refreshTokenField.setAccessible(true);\n            return refreshTokenField.get(result).toString();\n        } catch (IllegalAccessException | NoSuchFieldException e) {\n            throw new RuntimeException(e);\n        }\n</code></pre>\n"}],"owner":{"account_id":1131463,"reputation":1279,"user_id":1117438,"accept_rate":88,"display_name":"Nikhil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70992596,"answer_count":1,"score":0,"last_activity_date":1644007167,"creation_date":1643893898,"question_id":70971906,"body_markdown":"I am implementing &quot;Login with Microsoft button&quot; and I need to store the refresh token in my database so that I can use that to obtain new access tokens in future. I am trying to do this with Java sdk for microsoft graph. \r\n\r\n**Edit 1:** I actually want to create calendar events using my web application. So, the goal is for the web app to access Graph API without having a signed in user present.\r\n\r\n\r\nThis is what the code looks like:\r\n\r\n    AuthorizationCode authorizationCode = new AuthorizationCode(httpServletRequest.getParameter(&quot;code&quot;));\r\n    \t\tString currentUri = httpServletRequest.getRequestURL().toString();\r\n    \t\t\r\n    \t\tIAuthenticationResult result;\r\n    \t\tConfidentialClientApplication app;\r\n    \t\ttry {\r\n    \t\t\tapp = createClientApplication();\r\n    \r\n    \t\t\tString authCode = authorizationCode.getValue();\r\n    \t\t\tSet&lt;String&gt; scopes = new HashSet&lt;String&gt;();\r\n    \t\t\tscopes.add(&quot;Calendars.ReadWrite&quot;);\r\n    \t\t\t\r\n    \t\t\tAuthorizationCodeParameters parameters = AuthorizationCodeParameters.builder(authCode, new URI(currentUri)).scopes(scopes)\r\n    \t\t\t\t\t.build();\r\n    \t\t\t\r\n    \t\t\tFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(parameters);\r\n    \t\t\tresult = future.get();\r\n    \t\t\r\n    \t\t} catch (ExecutionException e) {\r\n    \t\t\tthrow e.getCause();\r\n    \t\t}\r\n    String accessToken = result.accessToken();\r\n    \r\n    /*\r\n    IAuthenticationResult does not contain any method to get the refresh token - how do I get the refresh token??\r\n    \r\n    I want to do something like: result.refreshToken();\r\n    */\r\n\r\nIAuthenticationResult is implemented by AuthenticationResult -- but, AuthenticationResult is declared in another class and is not public. AuthenticationResult exposes a method to obtain refreshToken but, I am not able to access it.\r\n\r\nCan someone help me access the refresh token? \r\n\r\nThanks!","title":"How to obtain refresh token in Microsoft Authorization Code flow - java sdk","body":"<p>I am implementing &quot;Login with Microsoft button&quot; and I need to store the refresh token in my database so that I can use that to obtain new access tokens in future. I am trying to do this with Java sdk for microsoft graph.</p>\n<p><strong>Edit 1:</strong> I actually want to create calendar events using my web application. So, the goal is for the web app to access Graph API without having a signed in user present.</p>\n<p>This is what the code looks like:</p>\n<pre><code>AuthorizationCode authorizationCode = new AuthorizationCode(httpServletRequest.getParameter(&quot;code&quot;));\n        String currentUri = httpServletRequest.getRequestURL().toString();\n        \n        IAuthenticationResult result;\n        ConfidentialClientApplication app;\n        try {\n            app = createClientApplication();\n\n            String authCode = authorizationCode.getValue();\n            Set&lt;String&gt; scopes = new HashSet&lt;String&gt;();\n            scopes.add(&quot;Calendars.ReadWrite&quot;);\n            \n            AuthorizationCodeParameters parameters = AuthorizationCodeParameters.builder(authCode, new URI(currentUri)).scopes(scopes)\n                    .build();\n            \n            Future&lt;IAuthenticationResult&gt; future = app.acquireToken(parameters);\n            result = future.get();\n        \n        } catch (ExecutionException e) {\n            throw e.getCause();\n        }\nString accessToken = result.accessToken();\n\n/*\nIAuthenticationResult does not contain any method to get the refresh token - how do I get the refresh token??\n\nI want to do something like: result.refreshToken();\n*/\n</code></pre>\n<p>IAuthenticationResult is implemented by AuthenticationResult -- but, AuthenticationResult is declared in another class and is not public. AuthenticationResult exposes a method to obtain refreshToken but, I am not able to access it.</p>\n<p>Can someone help me access the refresh token?</p>\n<p>Thanks!</p>\n"},{"tags":["java","string","if-statement","performance"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324915366,"post_id":8637202,"comment_id":10727025,"body_markdown":"Just one point: you should do `&quot;&quot;.equals(yourstring)` instead of `yourstring.equals(&quot;&quot;)`, it will allow not to throw an NPE if `yourstring` appends to be null for one reason or another","body":"Just one point: you should do <code>&quot;&quot;.equals(yourstring)</code> instead of <code>yourstring.equals(&quot;&quot;)</code>, it will allow not to throw an NPE if <code>yourstring</code> appends to be null for one reason or another"},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1324916810,"post_id":8637202,"comment_id":10727266,"body_markdown":"@fge Yeah yoda programming.. horrible to read and great to hide bugs really. If `getText()` suddenly starts returning null, it&#39;s probably a good idea to get a nice exception about that.","body":"@fge Yeah yoda programming.. horrible to read and great to hide bugs really. If <code>getText()</code> suddenly starts returning null, it&#39;s probably a good idea to get a nice exception about that."}],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1383227105,"creation_date":1324915101,"answer_id":8637235,"question_id":8637202,"body_markdown":"More efficient? No.\r\n\r\nMore readable? Yep&amp;ndash;efficiency of a different sort.\r\n\r\nCreate something like an `isValid()` method for each field, or field type. These will contain simple validations like blank checks, regexes, etc., and occasionally other domain-specific logic.\r\n\r\nThere are a ton of ways to break up and/or abstract this functionality, most roughly equivalent to:\r\n\r\n    private void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\r\n        String firstName = firstNameTextField.getText();\r\n        String lastName = lastNameTextField.getText();\r\n        String emailAddress = emailTextField.getText();\r\n    \r\n        if (   isNameValid(firstName, &quot;First name&quot;)\r\n            &amp;&amp; isNameValid(lastName, &quot;Last name&quot;)\r\n            &amp;&amp; isEmailValid(emailAddress, &quot;Email address&quot;)) {\r\n            personArrayList.add(new Person(firstName, lastName, emailAddress));\r\n            System.out.println(&quot;Person added!&quot;);\r\n        }\r\n    }\r\n\r\nThe idea is to keep the mainline code clean and concise, in a way that fits with your personal style, the libraries you&#39;re using, etc. In addition to rolling your own, there are existing libraries to wrap this up.\r\n\r\nIf you have many &quot;forms&quot; like this it might make sense to abstract the form itself, and its validation; if it&#39;s just the one, there might not be a compelling reason to take it any further than something resembling the above.","title":"Java - Check for empty String without if statement","body":"<p>More efficient? No.</p>\n\n<p>More readable? Yep&ndash;efficiency of a different sort.</p>\n\n<p>Create something like an <code>isValid()</code> method for each field, or field type. These will contain simple validations like blank checks, regexes, etc., and occasionally other domain-specific logic.</p>\n\n<p>There are a ton of ways to break up and/or abstract this functionality, most roughly equivalent to:</p>\n\n<pre><code>private void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\n    String firstName = firstNameTextField.getText();\n    String lastName = lastNameTextField.getText();\n    String emailAddress = emailTextField.getText();\n\n    if (   isNameValid(firstName, \"First name\")\n        &amp;&amp; isNameValid(lastName, \"Last name\")\n        &amp;&amp; isEmailValid(emailAddress, \"Email address\")) {\n        personArrayList.add(new Person(firstName, lastName, emailAddress));\n        System.out.println(\"Person added!\");\n    }\n}\n</code></pre>\n\n<p>The idea is to keep the mainline code clean and concise, in a way that fits with your personal style, the libraries you're using, etc. In addition to rolling your own, there are existing libraries to wrap this up.</p>\n\n<p>If you have many \"forms\" like this it might make sense to abstract the form itself, and its validation; if it's just the one, there might not be a compelling reason to take it any further than something resembling the above.</p>\n"},{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324915229,"creation_date":1324915229,"answer_id":8637244,"question_id":8637202,"body_markdown":"Just a little change that might help:\r\n\r\n    private void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\r\n        String firstName = firstNameTextField.getText();\r\n        String lastName = lastNameTextField.getText();\r\n        String emailAddress = emailTextField.getText();\r\n        boolean valid = true;\r\n    \r\n        if (firstName.equals(&quot;&quot;)) {\r\n            System.out.println(&quot;First Name is missing&quot;);\r\n            valid = false;\r\n        }  \r\n        if (lastName.equals(&quot;&quot;)) {\r\n            System.out.println(&quot;Last Name is missing&quot;);\r\n            valid = false;\r\n        } \r\n        if (emailAddress.equals(&quot;&quot;)) {\r\n            System.out.println(&quot;E-Mail address is missing&quot;);\r\n            valid = false;\r\n        } \r\n        if (!Email.isValid(emailAddress)) {\r\n            System.out.println(&quot;E-Mail address is invalid&quot;);\r\n            valid = false;\r\n        } \r\n        if(valid) {\r\n            personArrayList.add(new Person(firstName, lastName, emailAddress));\r\n            System.out.println(&quot;Person added!&quot;);\r\n        }\r\n    }","title":"Java - Check for empty String without if statement","body":"<p>Just a little change that might help:</p>\n\n<pre><code>private void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\n    String firstName = firstNameTextField.getText();\n    String lastName = lastNameTextField.getText();\n    String emailAddress = emailTextField.getText();\n    boolean valid = true;\n\n    if (firstName.equals(\"\")) {\n        System.out.println(\"First Name is missing\");\n        valid = false;\n    }  \n    if (lastName.equals(\"\")) {\n        System.out.println(\"Last Name is missing\");\n        valid = false;\n    } \n    if (emailAddress.equals(\"\")) {\n        System.out.println(\"E-Mail address is missing\");\n        valid = false;\n    } \n    if (!Email.isValid(emailAddress)) {\n        System.out.println(\"E-Mail address is invalid\");\n        valid = false;\n    } \n    if(valid) {\n        personArrayList.add(new Person(firstName, lastName, emailAddress));\n        System.out.println(\"Person added!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324915531,"creation_date":1324915531,"answer_id":8637287,"question_id":8637202,"body_markdown":"As @Dave Newton noted: it&#39;s only for readability reasons. Performance is not affected.\r\n\r\nMake an utility method:\r\n\r\n    private boolean checkNotEmpty(String value, String messageIfEmpty) {\r\n       if (value.equals(&quot;&quot;))\r\n          System.out.println(messageIfEmpty);\r\n    }\r\n\r\nso you can write this:\r\n\r\n    checkNotEmpty(firstNameTextField.getText(), &quot;First name is missing&quot;);\r\n    checkNotEmpty(lastNameTextField.getText(), &quot;Last name is missing&quot;);\r\n\r\nand so on...\r\n\r\nEven you can write some other methods &#224; la JUnit like:\r\n\r\n    checkTrue(boolean value, String messageIfNotTrue) {...}\r\n\r\nso you can write weird conditions like:\r\n\r\n    checkTrue(textbox.getValue().length() % 2 == 0, &quot;The number of chars is not even!!&quot;)\r\n\r\n","title":"Java - Check for empty String without if statement","body":"<p>As @Dave Newton noted: it's only for readability reasons. Performance is not affected.</p>\n\n<p>Make an utility method:</p>\n\n<pre><code>private boolean checkNotEmpty(String value, String messageIfEmpty) {\n   if (value.equals(\"\"))\n      System.out.println(messageIfEmpty);\n}\n</code></pre>\n\n<p>so you can write this:</p>\n\n<pre><code>checkNotEmpty(firstNameTextField.getText(), \"First name is missing\");\ncheckNotEmpty(lastNameTextField.getText(), \"Last name is missing\");\n</code></pre>\n\n<p>and so on...</p>\n\n<p>Even you can write some other methods à la JUnit like:</p>\n\n<pre><code>checkTrue(boolean value, String messageIfNotTrue) {...}\n</code></pre>\n\n<p>so you can write weird conditions like:</p>\n\n<pre><code>checkTrue(textbox.getValue().length() % 2 == 0, \"The number of chars is not even!!\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324915764,"creation_date":1324915764,"answer_id":8637323,"question_id":8637202,"body_markdown":"Create a couple of sub-classes that extend &lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/javax/swing/InputVerifier.html&quot;&gt;InputVerifier&lt;/a&gt; that implement basic verification rules, and attach the to your text fields. A second constructor of the verifier can take the warning text and you&#39;re ready to go.\r\n\r\nYou can also create a composite verifier, that has several instances of your rules and requires for all of them to be true for the field to pass. e.g. combine something like not-empty and only-alpha-numerics. In this case, the composite constructor can take the warning text, and initialize the sub rules&#39; text when they&#39;re added.","title":"Java - Check for empty String without if statement","body":"<p>Create a couple of sub-classes that extend <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/InputVerifier.html\" rel=\"nofollow\">InputVerifier</a> that implement basic verification rules, and attach the to your text fields. A second constructor of the verifier can take the warning text and you're ready to go.</p>\n\n<p>You can also create a composite verifier, that has several instances of your rules and requires for all of them to be true for the field to pass. e.g. combine something like not-empty and only-alpha-numerics. In this case, the composite constructor can take the warning text, and initialize the sub rules' text when they're added.</p>\n"},{"tags":[],"owner":{"account_id":1118622,"reputation":1419,"user_id":1107413,"accept_rate":83,"display_name":"Sabya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324916398,"creation_date":1324916071,"answer_id":8637348,"question_id":8637202,"body_markdown":"Completely agree with Binyamin Sharet and Dave.\r\n\r\nIf you want to reduce the no of &quot;if&quot; statements in your code , you can use ternary operator instead.\r\n\r\n\r\n\t\tString firstName= &quot;&quot;;\r\n\t\tString b;\r\n\t\tb = firstName.equals(&quot;&quot;) ? &quot;First Name is missing&quot; : &quot;Present&quot; ;\r\n\t\tSystem.out.println(b);\r\n\r\nThat will increase the readability of your code if you want.","title":"Java - Check for empty String without if statement","body":"<p>Completely agree with Binyamin Sharet and Dave.</p>\n\n<p>If you want to reduce the no of \"if\" statements in your code , you can use ternary operator instead.</p>\n\n<pre><code>    String firstName= \"\";\n    String b;\n    b = firstName.equals(\"\") ? \"First Name is missing\" : \"Present\" ;\n    System.out.println(b);\n</code></pre>\n\n<p>That will increase the readability of your code if you want.</p>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324916102,"creation_date":1324916102,"answer_id":8637352,"question_id":8637202,"body_markdown":"You could create a class called Validations (or such), which internally has a List of error messages. Each Validations method does a check and returns the same Validations object, for easy chaining. The last method returns the List. Something like:\r\n\r\n    public class Validations {\r\n        private List&lt;String&gt; errors = new ArrayList&lt;String&gt;();\r\n        \r\n        Validations notEmpty(String fieldDescription, String value) {\r\n            if (value.length() == 0)\r\n                errors.add(fieldDescription + &quot; can&#39;t be empty&quot;);\r\n            return this;\r\n        }\r\n\r\n        List&lt;String&gt; errors() {\r\n            return errors;\r\n        }\r\n    }\r\n\r\nAnd then in usage:\r\n\r\n    List&lt;String&gt; errors = new Validations()\r\n        .notEmpty(&quot;first name&quot;, firstNameTextField.value())\r\n        .notEmpty(&quot;last name&quot;, lastNameTextField.value())\r\n        .errors();\r\n    if (!errors.isEmpty()) {\r\n        System.out.println(errors);\r\n    }\r\n\r\nThis approach lets you handle multiple errors pretty easily.","title":"Java - Check for empty String without if statement","body":"<p>You could create a class called Validations (or such), which internally has a List of error messages. Each Validations method does a check and returns the same Validations object, for easy chaining. The last method returns the List. Something like:</p>\n\n<pre><code>public class Validations {\n    private List&lt;String&gt; errors = new ArrayList&lt;String&gt;();\n\n    Validations notEmpty(String fieldDescription, String value) {\n        if (value.length() == 0)\n            errors.add(fieldDescription + \" can't be empty\");\n        return this;\n    }\n\n    List&lt;String&gt; errors() {\n        return errors;\n    }\n}\n</code></pre>\n\n<p>And then in usage:</p>\n\n<pre><code>List&lt;String&gt; errors = new Validations()\n    .notEmpty(\"first name\", firstNameTextField.value())\n    .notEmpty(\"last name\", lastNameTextField.value())\n    .errors();\nif (!errors.isEmpty()) {\n    System.out.println(errors);\n}\n</code></pre>\n\n<p>This approach lets you handle multiple errors pretty easily.</p>\n"},{"tags":[],"owner":{"account_id":143588,"reputation":401,"user_id":352033,"display_name":"wayneseymour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325015715,"creation_date":1325015715,"answer_id":8648685,"question_id":8637202,"body_markdown":"I like many of the answers.\r\nPlease allow me to throw my tidbit in.\r\n\r\nI like to use the [strategy pattern][1] with a default case.\r\n\r\nYou can default your implementation to look for empty strings and whatever else you may fancy.\r\n\r\nYou could call it &quot;MyStringUtils&quot;.\r\nYou can pass it objects that extend the behavior that way you could use &quot;MyStringUtils&quot; in other places.\r\n\r\nI&#39;d take the code snips from above and embed them in this code util.\r\n\r\nHappy coding mate.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Strategy_pattern","title":"Java - Check for empty String without if statement","body":"<p>I like many of the answers.\nPlease allow me to throw my tidbit in.</p>\n\n<p>I like to use the <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow\">strategy pattern</a> with a default case.</p>\n\n<p>You can default your implementation to look for empty strings and whatever else you may fancy.</p>\n\n<p>You could call it \"MyStringUtils\".\nYou can pass it objects that extend the behavior that way you could use \"MyStringUtils\" in other places.</p>\n\n<p>I'd take the code snips from above and embed them in this code util.</p>\n\n<p>Happy coding mate.</p>\n"},{"tags":[],"owner":{"account_id":3249338,"reputation":2505,"user_id":2740071,"accept_rate":80,"display_name":"Melih Altıntaş"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383236650,"creation_date":1383235844,"answer_id":19711545,"question_id":8637202,"body_markdown":"    public String validate(JTextField... fields) {\r\n        StringBuilder builder = new StringBuilder();\r\n        for (JTextField s : fields) {\r\n            if (s.getText() == null || &quot;&quot;.equals(s.getText())) {\r\n                builder.append(s.getName() + &quot; is missing\\n&quot;);\r\n            }\r\n        }\r\n        return builder.toString();\r\n    }\r\n\r\n\r\n    private void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\r\n        String message = validate(firstNameTextField,lastNameTextField,emailTextField);\r\n        if(message.isEmpty()) // addperson...\r\n        else // print message .. \r\n    }","title":"Java - Check for empty String without if statement","body":"<pre><code>public String validate(JTextField... fields) {\n    StringBuilder builder = new StringBuilder();\n    for (JTextField s : fields) {\n        if (s.getText() == null || \"\".equals(s.getText())) {\n            builder.append(s.getName() + \" is missing\\n\");\n        }\n    }\n    return builder.toString();\n}\n\n\nprivate void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\n    String message = validate(firstNameTextField,lastNameTextField,emailTextField);\n    if(message.isEmpty()) // addperson...\n    else // print message .. \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24159169,"reputation":1,"user_id":18122963,"display_name":"amine benayada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644007147,"creation_date":1644007147,"answer_id":70992592,"question_id":8637202,"body_markdown":"You can try use isEmpty\r\n\r\n    private void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\r\n    String firstName = firstNameTextField.getText();\r\n    String lastName = lastNameTextField.getText();\r\n    String emailAddress = emailTextField.getText();\r\n\r\n    if (firstName.isEmpty()) {\r\n        System.out.println(&quot;First Name is missing&quot;);\r\n    } else if (lastName.equals()) {\r\n        System.out.println(&quot;Last Name is missing&quot;);\r\n    } else if (emailAddress.isEmpty(&quot;&quot;)) {\r\n        System.out.println(&quot;E-Mail address is missing&quot;);\r\n    } else if (!Email.isValid(emailAddress)) {\r\n        System.out.println(&quot;E-Mail address is invalid&quot;);\r\n    } else {\r\n        personArrayList.add(new Person(firstName, lastName, emailAddress));\r\n        System.out.println(&quot;Person added!&quot;);\r\n    }\r\n    }","title":"Java - Check for empty String without if statement","body":"<p>You can try use isEmpty</p>\n<pre><code>private void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\nString firstName = firstNameTextField.getText();\nString lastName = lastNameTextField.getText();\nString emailAddress = emailTextField.getText();\n\nif (firstName.isEmpty()) {\n    System.out.println(&quot;First Name is missing&quot;);\n} else if (lastName.equals()) {\n    System.out.println(&quot;Last Name is missing&quot;);\n} else if (emailAddress.isEmpty(&quot;&quot;)) {\n    System.out.println(&quot;E-Mail address is missing&quot;);\n} else if (!Email.isValid(emailAddress)) {\n    System.out.println(&quot;E-Mail address is invalid&quot;);\n} else {\n    personArrayList.add(new Person(firstName, lastName, emailAddress));\n    System.out.println(&quot;Person added!&quot;);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1130195,"reputation":61,"user_id":1116481,"accept_rate":0,"display_name":"Thomas Richards"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8371,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":9,"score":4,"last_activity_date":1644007147,"creation_date":1324914842,"question_id":8637202,"body_markdown":"I have a simple JFrame with three text boxes: First Name, Last Name and E-Mail address. Once the add button is pressed, the details are added to an Array List. Currently I have a group of if statements to check if the user has entered something in the text box as shown below:\r\n\r\n    private void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\r\n        String firstName = firstNameTextField.getText();\r\n        String lastName = lastNameTextField.getText();\r\n        String emailAddress = emailTextField.getText();\r\n\r\n        if (firstName.equals(&quot;&quot;)) {\r\n            System.out.println(&quot;First Name is missing&quot;);\r\n        } else if (lastName.equals(&quot;&quot;)) {\r\n            System.out.println(&quot;Last Name is missing&quot;);\r\n        } else if (emailAddress.equals(&quot;&quot;)) {\r\n            System.out.println(&quot;E-Mail address is missing&quot;);\r\n        } else if (!Email.isValid(emailAddress)) {\r\n            System.out.println(&quot;E-Mail address is invalid&quot;);\r\n        } else {\r\n            personArrayList.add(new Person(firstName, lastName, emailAddress));\r\n            System.out.println(&quot;Person added!&quot;);\r\n        }\r\n    }\r\n\r\nHowever, I find having long blocks of if statements makes the code difficult to read; it also won&#39;t alert the user about multiple text fields being empty. Is there a more efficient way of doing this?\r\n\r\nThanks in advance!","title":"Java - Check for empty String without if statement","body":"<p>I have a simple JFrame with three text boxes: First Name, Last Name and E-Mail address. Once the add button is pressed, the details are added to an Array List. Currently I have a group of if statements to check if the user has entered something in the text box as shown below:</p>\n\n<pre><code>private void addPersonButtonActionPerformed(java.awt.event.ActionEvent evt) {\n    String firstName = firstNameTextField.getText();\n    String lastName = lastNameTextField.getText();\n    String emailAddress = emailTextField.getText();\n\n    if (firstName.equals(\"\")) {\n        System.out.println(\"First Name is missing\");\n    } else if (lastName.equals(\"\")) {\n        System.out.println(\"Last Name is missing\");\n    } else if (emailAddress.equals(\"\")) {\n        System.out.println(\"E-Mail address is missing\");\n    } else if (!Email.isValid(emailAddress)) {\n        System.out.println(\"E-Mail address is invalid\");\n    } else {\n        personArrayList.add(new Person(firstName, lastName, emailAddress));\n        System.out.println(\"Person added!\");\n    }\n}\n</code></pre>\n\n<p>However, I find having long blocks of if statements makes the code difficult to read; it also won't alert the user about multiple text fields being empty. Is there a more efficient way of doing this?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","c++","java-native-interface"],"owner":{"account_id":19767606,"reputation":21,"user_id":14475236,"display_name":"ayoub ifadir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1644005908,"creation_date":1644005166,"question_id":70992280,"body_markdown":"I want to hide my admob adunits , so I searched a way to obfuscate resources files but it seems that its impossible . but I found a recommendation that I can store any sensitive data in a c++ file (hard to reverse engineer) and retrieve the data at runtime so is this true?\r\nif it is true a code example would be of great help\r\n\r\nI tried storing them in the build.gradle like so :\r\n\r\n     debug {\r\n              //test ads\r\n            resValue  (&quot;string&quot; , &quot;admob_app_id&quot; , &quot;ca-app-pub-3940256099942544~3347511713&quot;)\r\n            resValue (&quot;string&quot; , &quot;admob_interstitial_id&quot; , &quot;ca-app-pub-3940256099942544/1033173712&quot;)\r\n            \r\n\r\n        }\r\n\r\n\r\n        release {\r\n\r\n            resValue  (&quot;string&quot; , &quot;admob_app_id&quot; , &quot;real adunit&quot;)\r\n            resValue  (&quot;string&quot; ,&quot;admob_interstitial_id&quot; , &quot;real adunit&quot;)\r\n            \r\n            minifyEnabled true\r\n            shrinkResources true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n\r\n \r\n\r\nbut  after decompiling in apktool I find the adunits in plain text in strings.xml\r\nI can hide interstitial adunit in a as a constant in a class and called it programatically\r\nbut this is not possible for admob app id since you can not write to AndroidManifest.xml\r\n\r\nThank you","title":"Can I write to AndroidManifest.xml and strings.xml from native c++ at runtime?","body":"<p>I want to hide my admob adunits , so I searched a way to obfuscate resources files but it seems that its impossible . but I found a recommendation that I can store any sensitive data in a c++ file (hard to reverse engineer) and retrieve the data at runtime so is this true?\nif it is true a code example would be of great help</p>\n<p>I tried storing them in the build.gradle like so :</p>\n<pre><code> debug {\n          //test ads\n        resValue  (&quot;string&quot; , &quot;admob_app_id&quot; , &quot;ca-app-pub-3940256099942544~3347511713&quot;)\n        resValue (&quot;string&quot; , &quot;admob_interstitial_id&quot; , &quot;ca-app-pub-3940256099942544/1033173712&quot;)\n        \n\n    }\n\n\n    release {\n\n        resValue  (&quot;string&quot; , &quot;admob_app_id&quot; , &quot;real adunit&quot;)\n        resValue  (&quot;string&quot; ,&quot;admob_interstitial_id&quot; , &quot;real adunit&quot;)\n        \n        minifyEnabled true\n        shrinkResources true\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n</code></pre>\n<p>but  after decompiling in apktool I find the adunits in plain text in strings.xml\nI can hide interstitial adunit in a as a constant in a class and called it programatically\nbut this is not possible for admob app id since you can not write to AndroidManifest.xml</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":9344539,"reputation":1083,"user_id":6936154,"display_name":"Danil Perestoronin"},"score":0,"creation_date":1643976930,"post_id":70985954,"comment_id":125488184,"body_markdown":"Maybe this will be useful: https://stackoverflow.com/questions/63767345/org-hibernate-property-access-spi-propertyaccessexception-error-accessing-field \nTake a look at the answer comments","body":"Maybe this will be useful: <a href=\"https://stackoverflow.com/questions/63767345/org-hibernate-property-access-spi-propertyaccessexception-error-accessing-field\" title=\"org hibernate property access spi propertyaccessexception error accessing field\">stackoverflow.com/questions/63767345/&hellip;</a>  Take a look at the answer comments"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643978743,"post_id":70985954,"comment_id":125488800,"body_markdown":"Maybe debug at the line you are getting at exception at, and see if (id) is the same type it should be.","body":"Maybe debug at the line you are getting at exception at, and see if (id) is the same type it should be."},{"owner":{"account_id":19564760,"reputation":83,"user_id":18011833,"display_name":"MarkKush"},"score":0,"creation_date":1644170150,"post_id":70985954,"comment_id":125529121,"body_markdown":"the solution was found, there was a problem that the data type in one column of the table of disciplines and the semester was enum , but in essence the boolean data type was registered, changing them to the correct ones, the addition succeeded","body":"the solution was found, there was a problem that the data type in one column of the table of disciplines and the semester was enum , but in essence the boolean data type was registered, changing them to the correct ones, the addition succeeded"}],"owner":{"account_id":19564760,"reputation":83,"user_id":18011833,"display_name":"MarkKush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644004898,"creation_date":1643975570,"question_id":70985954,"body_markdown":"I can’t set the discipline values ​​​​for my semester, when I work out the controller, I get all the data I need, but I can’t connect them, can anyone tell me with an experienced eye what is the reason? I am getting this kind of error:\r\n\r\nRequest processing failed; nested exception is \r\n&gt; org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private int com.kushnirmark.spring.project.entity.Discipline.id] by reflection for persistent property [com.kushnirmark.spring.project.entity.Discipline#id] : Higher mathematics\r\n\r\n\r\nHere is my entity Semestr: \r\n```java\r\npackage com.kushnirmark.spring.project.entity;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;semestr&quot;)\r\npublic class Semestr {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;duration&quot;)\r\n    private String duration;\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    private boolean status = true;\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;semestr_discipline&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_semestr&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_discipline&quot;)\r\n    )\r\n    private List&lt;Discipline&gt; disciplineList;\r\n\r\n\r\n    public void addDisciplineToSemester(Discipline discipline) {\r\n        if (disciplineList == null) {\r\n            disciplineList = new ArrayList&lt;&gt;();\r\n        }\r\n        disciplineList.add(discipline);\r\n    }\r\n\r\n    public Semestr() {\r\n    }\r\n\r\n    public Semestr(int id, String name, String duration, boolean status) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.duration = duration;\r\n        this.status = status;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDuration() {\r\n        return duration;\r\n    }\r\n\r\n    public void setDuration(String duration) {\r\n        this.duration = duration;\r\n    }\r\n\r\n    public boolean isStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(boolean status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public List&lt;Discipline&gt; getDisciplineList() {\r\n        return disciplineList;\r\n    }\r\n\r\n    public void setDisciplineList(List&lt;Discipline&gt; disciplineList) {\r\n        this.disciplineList = disciplineList;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Semestr semestr = (Semestr) o;\r\n\r\n        if (id != semestr.id) return false;\r\n        if (status != semestr.status) return false;\r\n        if (name != null ? !name.equals(semestr.name) : semestr.name != null) return false;\r\n        return duration != null ? duration.equals(semestr.duration) : semestr.duration == null;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int result = id;\r\n        result = 31 * result + (name != null ? name.hashCode() : 0);\r\n        result = 31 * result + (duration != null ? duration.hashCode() : 0);\r\n        result = 31 * result + (status ? 1 : 0);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Semestr{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, duration=&#39;&quot; + duration + &#39;\\&#39;&#39; +\r\n                &quot;, status=&quot; + status +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nController :\r\n\r\n```java\r\n@RequestMapping(&quot;/saveNewSemester&quot;)\r\npublic String saveNewSemester(@ModelAttribute(&quot;semestr&quot;) Semestr semestr,\r\n                              @RequestParam(name = &quot;AllDiscipline&quot;) String[] AllDiscipline,\r\n                              Model model) {\r\n    List&lt;Integer&gt; list = Arrays.stream(AllDiscipline).map(Integer::parseInt).collect(Collectors.toList());\r\n    List&lt;Discipline&gt; disciplineSemestrList = service.getDisciplineList(list);\r\n    semestr.setDisciplineList(disciplineSemestrList);\r\n    service.saveNewSemester(semestr);\r\n    return &quot;redirect:/semestr&quot;;\r\n}\r\n\r\n```\r\n\r\nHere is my entity Discipline :\r\n\r\n```java\r\npackage com.kushnirmark.spring.project.entity;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;discipline&quot;)\r\npublic class Discipline {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;discipline&quot;)\r\n    private String discipline;\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    private boolean status = true;\r\n\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;semestr_discipline&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_discipline&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_semestr&quot;)\r\n    )\r\n    private List&lt;Semestr&gt; semestrList;\r\n\r\n    public void addSemesterToDiscipline(Semestr semestr) {\r\n        if (semestrList == null) {\r\n            semestrList = new ArrayList&lt;&gt;();\r\n        }\r\n        semestrList.add(semestr);\r\n    }\r\n\r\n    public Discipline() {\r\n\r\n    }\r\n\r\n\r\n    public Discipline(int id, String discipline, boolean status) {\r\n        this.id = id;\r\n        this.discipline = discipline;\r\n        this.status = status;\r\n\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getDiscipline() {\r\n        return discipline;\r\n    }\r\n\r\n    public void setDiscipline(String discipline) {\r\n        this.discipline = discipline;\r\n    }\r\n\r\n    public boolean isStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(boolean status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public List&lt;Semestr&gt; getSemestrList() {\r\n        return semestrList;\r\n    }\r\n\r\n    public void setSemestrList(List&lt;Semestr&gt; semestrList) {\r\n        this.semestrList = semestrList;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Discipline that = (Discipline) o;\r\n        return id == that.id &amp;&amp;\r\n                status == that.status &amp;&amp;\r\n                Objects.equals(discipline, that.discipline);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, discipline, status);\r\n    }\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Discipline{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, discipline=&#39;&quot; + discipline + &#39;\\&#39;&#39; +\r\n                &quot;, status=&quot; + status +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Unable to add value to entity","body":"<p>I can’t set the discipline values ​​​​for my semester, when I work out the controller, I get all the data I need, but I can’t connect them, can anyone tell me with an experienced eye what is the reason? I am getting this kind of error:</p>\n<p>Request processing failed; nested exception is</p>\n<blockquote>\n<p>org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private int com.kushnirmark.spring.project.entity.Discipline.id] by reflection for persistent property [com.kushnirmark.spring.project.entity.Discipline#id] : Higher mathematics</p>\n</blockquote>\n<p>Here is my entity Semestr:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kushnirmark.spring.project.entity;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;semestr&quot;)\npublic class Semestr {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;duration&quot;)\n    private String duration;\n\n    @Column(name = &quot;status&quot;)\n    private boolean status = true;\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;semestr_discipline&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_semestr&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_discipline&quot;)\n    )\n    private List&lt;Discipline&gt; disciplineList;\n\n\n    public void addDisciplineToSemester(Discipline discipline) {\n        if (disciplineList == null) {\n            disciplineList = new ArrayList&lt;&gt;();\n        }\n        disciplineList.add(discipline);\n    }\n\n    public Semestr() {\n    }\n\n    public Semestr(int id, String name, String duration, boolean status) {\n        this.id = id;\n        this.name = name;\n        this.duration = duration;\n        this.status = status;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDuration() {\n        return duration;\n    }\n\n    public void setDuration(String duration) {\n        this.duration = duration;\n    }\n\n    public boolean isStatus() {\n        return status;\n    }\n\n    public void setStatus(boolean status) {\n        this.status = status;\n    }\n\n    public List&lt;Discipline&gt; getDisciplineList() {\n        return disciplineList;\n    }\n\n    public void setDisciplineList(List&lt;Discipline&gt; disciplineList) {\n        this.disciplineList = disciplineList;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Semestr semestr = (Semestr) o;\n\n        if (id != semestr.id) return false;\n        if (status != semestr.status) return false;\n        if (name != null ? !name.equals(semestr.name) : semestr.name != null) return false;\n        return duration != null ? duration.equals(semestr.duration) : semestr.duration == null;\n    }\n\n    @Override\n    public int hashCode() {\n        int result = id;\n        result = 31 * result + (name != null ? name.hashCode() : 0);\n        result = 31 * result + (duration != null ? duration.hashCode() : 0);\n        result = 31 * result + (status ? 1 : 0);\n        return result;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Semestr{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, duration='&quot; + duration + '\\'' +\n                &quot;, status=&quot; + status +\n                '}';\n    }\n}\n</code></pre>\n<p>Controller :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/saveNewSemester&quot;)\npublic String saveNewSemester(@ModelAttribute(&quot;semestr&quot;) Semestr semestr,\n                              @RequestParam(name = &quot;AllDiscipline&quot;) String[] AllDiscipline,\n                              Model model) {\n    List&lt;Integer&gt; list = Arrays.stream(AllDiscipline).map(Integer::parseInt).collect(Collectors.toList());\n    List&lt;Discipline&gt; disciplineSemestrList = service.getDisciplineList(list);\n    semestr.setDisciplineList(disciplineSemestrList);\n    service.saveNewSemester(semestr);\n    return &quot;redirect:/semestr&quot;;\n}\n\n</code></pre>\n<p>Here is my entity Discipline :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kushnirmark.spring.project.entity;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\n\n@Entity\n@Table(name = &quot;discipline&quot;)\npublic class Discipline {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;discipline&quot;)\n    private String discipline;\n\n    @Column(name = &quot;status&quot;)\n    private boolean status = true;\n\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;semestr_discipline&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_discipline&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_semestr&quot;)\n    )\n    private List&lt;Semestr&gt; semestrList;\n\n    public void addSemesterToDiscipline(Semestr semestr) {\n        if (semestrList == null) {\n            semestrList = new ArrayList&lt;&gt;();\n        }\n        semestrList.add(semestr);\n    }\n\n    public Discipline() {\n\n    }\n\n\n    public Discipline(int id, String discipline, boolean status) {\n        this.id = id;\n        this.discipline = discipline;\n        this.status = status;\n\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getDiscipline() {\n        return discipline;\n    }\n\n    public void setDiscipline(String discipline) {\n        this.discipline = discipline;\n    }\n\n    public boolean isStatus() {\n        return status;\n    }\n\n    public void setStatus(boolean status) {\n        this.status = status;\n    }\n\n    public List&lt;Semestr&gt; getSemestrList() {\n        return semestrList;\n    }\n\n    public void setSemestrList(List&lt;Semestr&gt; semestrList) {\n        this.semestrList = semestrList;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Discipline that = (Discipline) o;\n        return id == that.id &amp;&amp;\n                status == that.status &amp;&amp;\n                Objects.equals(discipline, that.discipline);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, discipline, status);\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;Discipline{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, discipline='&quot; + discipline + '\\'' +\n                &quot;, status=&quot; + status +\n                '}';\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","osgi","pax","ops4j"],"answers":[{"tags":[],"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644004320,"creation_date":1644004320,"answer_id":70992132,"question_id":45608002,"body_markdown":"As per my answer [here](https://stackoverflow.com/a/70901372/628006) I think you just need to declare a property in the file `org.ops4j.pax.logging.cfg`:\r\n\r\n    org.ops4j.pax.logging.log4j2.config.file=path/to/log4j2.xml\r\n\r\nto configure the Log4j2 configuration with pax-logging-log4j2 implementation.","title":"Pax-log4j2 logging configuration ignored after OSGi stops","body":"<p>As per my answer <a href=\"https://stackoverflow.com/a/70901372/628006\">here</a> I think you just need to declare a property in the file <code>org.ops4j.pax.logging.cfg</code>:</p>\n<pre><code>org.ops4j.pax.logging.log4j2.config.file=path/to/log4j2.xml\n</code></pre>\n<p>to configure the Log4j2 configuration with pax-logging-log4j2 implementation.</p>\n"}],"owner":{"account_id":6168141,"reputation":821,"user_id":4807301,"accept_rate":58,"display_name":"Asma Zinneera Jabir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1644004320,"creation_date":1502352776,"question_id":45608002,"body_markdown":"I have a maven project with number of OSGi bundles and I use log4j2 with pax-logging for the logging backend. When I stop the program, after the OSGi framework is shut down the rest of the logs does not follow the log4j2 configurations and so the log messages take a different pattern. I have used the following two system properties:\r\n\r\n    org.ops4j.pax.logging.DefaultServiceLog.level=WARN \r\n    org.ops4j.pax.logging.property.file=path/to/pax-logging.properties\r\n\r\n \r\nto set pax-logging.properties config file and for defaultSerivceLog level and log4j2.xml is the configuration file used for logging. After OSGi is shut down the pax-logging is used but not with log4j2 configurations. I want to get it logged through pax-log4j2.","title":"Pax-log4j2 logging configuration ignored after OSGi stops","body":"<p>I have a maven project with number of OSGi bundles and I use log4j2 with pax-logging for the logging backend. When I stop the program, after the OSGi framework is shut down the rest of the logs does not follow the log4j2 configurations and so the log messages take a different pattern. I have used the following two system properties:</p>\n\n<pre><code>org.ops4j.pax.logging.DefaultServiceLog.level=WARN \norg.ops4j.pax.logging.property.file=path/to/pax-logging.properties\n</code></pre>\n\n<p>to set pax-logging.properties config file and for defaultSerivceLog level and log4j2.xml is the configuration file used for logging. After OSGi is shut down the pax-logging is used but not with log4j2 configurations. I want to get it logged through pax-log4j2.</p>\n"},{"tags":["java","ssl","wildfly"],"answers":[{"tags":[],"owner":{"account_id":2733255,"reputation":1,"user_id":2356514,"display_name":"jnaithani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644004191,"creation_date":1644004191,"answer_id":70992110,"question_id":70883887,"body_markdown":"There is a fix to the problem of initializing the SSL context with Wildfly 18, when using updated BC FIPS libraries.\r\n\r\nThe fix is available in Wildfly 21.\r\n\r\nhttps://github.com/wildfly-security/wildfly-elytron/commit/3d7375f5f61526a7b8c4046878adc68e6777b308","title":"Unable to initialize SSL context during Wildfly 18 startup with Amazon JDK 1.8, and latest BC FIPS libraries for JCAJCE and TLS","body":"<p>There is a fix to the problem of initializing the SSL context with Wildfly 18, when using updated BC FIPS libraries.</p>\n<p>The fix is available in Wildfly 21.</p>\n<p><a href=\"https://github.com/wildfly-security/wildfly-elytron/commit/3d7375f5f61526a7b8c4046878adc68e6777b308\" rel=\"nofollow noreferrer\">https://github.com/wildfly-security/wildfly-elytron/commit/3d7375f5f61526a7b8c4046878adc68e6777b308</a></p>\n"}],"owner":{"account_id":2733255,"reputation":1,"user_id":2356514,"display_name":"jnaithani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644004191,"creation_date":1643308102,"question_id":70883887,"body_markdown":"We are unable to successfully startup Wildfly 18 when the 1.8 Java Corretto JDK is configured with the latest BC FIPS libraries to support FIPS compliant AWS EC2 Linux based environments.\r\n\r\nbc-fips-1.0.2.1.jar (also tried with bc-fips-1-0-2.jar)\r\nbctls-fips-1.0.12.2.jar\r\n\r\nThe error appears to be related to the unsuccessful initialization of the Wildlfy SSL context during startup.  When the request to get context data is being issued - the BCJSSE provider does not appear have performed the context data initialization - and a null value for the context data results in the exception being thown.\r\n\r\nEnabling FINEST level logging for both Wildfly and the BouncyCastle libraries does not provide any trace level information to confirm context initialization prior to when the error condition is reported.\r\n\r\n--\r\n```\r\n2022-01-24 14:46:52,518 FINE  [org.bouncycastle.jsse.provider.PropertyUtils] (MSC service thread 1-2) Boolean system property [org.bouncycastle.jsse.trustManager.checkEKU] defaulted to: true\r\n2022-01-24 14:46:52,639 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service org.wildfly.security.ssl-context.httpsSSLContext: org.jboss.msc.service.StartException in service org.wildfly.security.ssl-context.httpsSSLContext: Failed to start service\r\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)        \r\n        at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)        \r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)        \r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalStateException: SSLContext has not been initialized.\r\n        at org.bouncycastle.jsse.provider.ProvSSLContextSpi.getContextData(ProvSSLContextSpi.java:877)\r\n        at org.bouncycastle.jsse.provider.ProvSSLContextSpi.engineGetServerSessionContext(ProvSSLContextSpi.java:821)\r\n        at javax.net.ssl.SSLContext.getServerSessionContext(SSLContext.java:386)\r\n        at org.wildfly.security.ssl.SSLContextBuilder.lambda$build$0(SSLContextBuilder.java:340)\r\n        at org.wildfly.security.OneTimeSecurityFactory.create(OneTimeSecurityFactory.java:53)\r\n        at org.wildfly.extension.elytron.SSLDefinitions$6.lambda$getValueSupplier$1(SSLDefinitions.java:1173)\r\n        at org.wildfly.extension.elytron.TrivialService.start(TrivialService.java:53)\r\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n        ... 6 more\r\n```\r\n\r\n--\r\n\r\nThe JDK security providers are configured as following:\r\n```\r\nsecurity.provider.1 = org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider\r\nsecurity.provider.2 = sun.security.provider.Sun\r\nsecurity.provider.3 = org.bouncycastle.jsse.provider.BouncyCastleJsseProvider fips:BCFIPS\r\nsecurity.provider.4 = sun.security.rsa.SunRsaSign\r\nsecurity.provider.5 = sun.security.ec.SunEC\r\nsecurity.provider.6 = com.sun.crypto.provider.SunJCE\r\nsecurity.provider.7 = sun.security.jgss.SunProvider\r\nsecurity.provider.8 = com.sun.security.sasl.Provider\r\nsecurity.provider.9 = org.jcp.xml.dsig.internal.dom.XMLDSigRI\r\n```\r\nAlso - with the same JDK provider settings and standalone.xml settings in place - Wildlfy startup is successful when the JDK is configured with an older set of BCFIPS jars.\r\n\r\nbc-fips-1.0.1.jar\r\nbctls-fips-1.0.8.jar\r\n\r\nAny help or suggestions on why the Wildfly 18 server is no longer able to successfully initialize the HTTPS service SSL context during startup, when the JDK is configured with the newest set of BouncyCastle FIPS jars would be very much appreciated.\r\n\r\nThank you,\r\n\r\n-Jayesh","title":"Unable to initialize SSL context during Wildfly 18 startup with Amazon JDK 1.8, and latest BC FIPS libraries for JCAJCE and TLS","body":"<p>We are unable to successfully startup Wildfly 18 when the 1.8 Java Corretto JDK is configured with the latest BC FIPS libraries to support FIPS compliant AWS EC2 Linux based environments.</p>\n<p>bc-fips-1.0.2.1.jar (also tried with bc-fips-1-0-2.jar)\nbctls-fips-1.0.12.2.jar</p>\n<p>The error appears to be related to the unsuccessful initialization of the Wildlfy SSL context during startup.  When the request to get context data is being issued - the BCJSSE provider does not appear have performed the context data initialization - and a null value for the context data results in the exception being thown.</p>\n<p>Enabling FINEST level logging for both Wildfly and the BouncyCastle libraries does not provide any trace level information to confirm context initialization prior to when the error condition is reported.</p>\n<p>--</p>\n<pre><code>2022-01-24 14:46:52,518 FINE  [org.bouncycastle.jsse.provider.PropertyUtils] (MSC service thread 1-2) Boolean system property [org.bouncycastle.jsse.trustManager.checkEKU] defaulted to: true\n2022-01-24 14:46:52,639 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service org.wildfly.security.ssl-context.httpsSSLContext: org.jboss.msc.service.StartException in service org.wildfly.security.ssl-context.httpsSSLContext: Failed to start service\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)        \n        at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)        \n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)        \n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalStateException: SSLContext has not been initialized.\n        at org.bouncycastle.jsse.provider.ProvSSLContextSpi.getContextData(ProvSSLContextSpi.java:877)\n        at org.bouncycastle.jsse.provider.ProvSSLContextSpi.engineGetServerSessionContext(ProvSSLContextSpi.java:821)\n        at javax.net.ssl.SSLContext.getServerSessionContext(SSLContext.java:386)\n        at org.wildfly.security.ssl.SSLContextBuilder.lambda$build$0(SSLContextBuilder.java:340)\n        at org.wildfly.security.OneTimeSecurityFactory.create(OneTimeSecurityFactory.java:53)\n        at org.wildfly.extension.elytron.SSLDefinitions$6.lambda$getValueSupplier$1(SSLDefinitions.java:1173)\n        at org.wildfly.extension.elytron.TrivialService.start(TrivialService.java:53)\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n        ... 6 more\n</code></pre>\n<p>--</p>\n<p>The JDK security providers are configured as following:</p>\n<pre><code>security.provider.1 = org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider\nsecurity.provider.2 = sun.security.provider.Sun\nsecurity.provider.3 = org.bouncycastle.jsse.provider.BouncyCastleJsseProvider fips:BCFIPS\nsecurity.provider.4 = sun.security.rsa.SunRsaSign\nsecurity.provider.5 = sun.security.ec.SunEC\nsecurity.provider.6 = com.sun.crypto.provider.SunJCE\nsecurity.provider.7 = sun.security.jgss.SunProvider\nsecurity.provider.8 = com.sun.security.sasl.Provider\nsecurity.provider.9 = org.jcp.xml.dsig.internal.dom.XMLDSigRI\n</code></pre>\n<p>Also - with the same JDK provider settings and standalone.xml settings in place - Wildlfy startup is successful when the JDK is configured with an older set of BCFIPS jars.</p>\n<p>bc-fips-1.0.1.jar\nbctls-fips-1.0.8.jar</p>\n<p>Any help or suggestions on why the Wildfly 18 server is no longer able to successfully initialize the HTTPS service SSL context during startup, when the JDK is configured with the newest set of BouncyCastle FIPS jars would be very much appreciated.</p>\n<p>Thank you,</p>\n<p>-Jayesh</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","download"],"answers":[{"tags":[],"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569453878,"creation_date":1569453878,"answer_id":58107721,"question_id":58100356,"body_markdown":"SSE-C with pre-signed URLs may not work the way you expect.\r\n\r\nThe input to the request-signing algorithm includes all headers that begin with `x-amz-*`.  This is significant for a reason that will become clearer in a moment.\r\n\r\nThe signature-generating code needs to know *what these values will be* when you actually make the request, and that is *the only thing* `.withSSECustomerKey()` does -- provides information that the signing algorithm needs so that the signature matches the actual request you eventually send.  \r\n\r\nThe encryption key isn&#39;t actually embedded in the pre-signed URL.  It needs to be supplied a second time, when the request is actually made.\r\n\r\n&gt;When using server-side encryption with customer-provided encryption keys (SSE-C), you must provide encryption key information using the following request headers.\r\n\r\n&gt;`x-amz-server-side​-encryption​-customer-algorithm` Use this header to specify the encryption algorithm. The header value must be `AES256`.\r\n\r\n&gt;`x-amz-server-side​-encryption​-customer-key` Use this header to provide the 256-bit, base64-encoded encryption key for Amazon S3 to use to encrypt or decrypt your data.\r\n\r\n&gt;`x-amz-server-side​-encryption​-customer-key-MD5` Use this header to provide the base64-encoded 128-bit MD5 digest of the encryption key according to RFC 1321. Amazon S3 uses this header for a message integrity check to ensure that the encryption key was transmitted without error.\r\n\r\n&gt;https://docs.aws.amazon.com/AmazonS3/latest/dev/ServerSideEncryptionCustomerKeys.html\r\n\r\nSo you can use the pre-signed URL from a server using an HTTP client library (by injecting these headers with the request) or you could use it from the browser from Javascript, similarly, or with tools like Postman and Curl, but you can&#39;t use it as a clickable or pastable hyperlink, because a URL doesn&#39;t provide a way to specify HTTP headers.  And, of course, it seems like a bad idea to use it from browser-side JS, too, since that reveals the encryption key in clear text... so if you are planning to download an object stored with SSE-C, that&#39;s only appropriate in a secure environment, anyway, because of the need to handle the key in the clear.","title":"Download objects (files) using presigned url in AWS S3 doesn&#39;t work","body":"<p>SSE-C with pre-signed URLs may not work the way you expect.</p>\n\n<p>The input to the request-signing algorithm includes all headers that begin with <code>x-amz-*</code>.  This is significant for a reason that will become clearer in a moment.</p>\n\n<p>The signature-generating code needs to know <em>what these values will be</em> when you actually make the request, and that is <em>the only thing</em> <code>.withSSECustomerKey()</code> does -- provides information that the signing algorithm needs so that the signature matches the actual request you eventually send.  </p>\n\n<p>The encryption key isn't actually embedded in the pre-signed URL.  It needs to be supplied a second time, when the request is actually made.</p>\n\n<blockquote>\n  <p>When using server-side encryption with customer-provided encryption keys (SSE-C), you must provide encryption key information using the following request headers.</p>\n  \n  <p><code>x-amz-server-side​-encryption​-customer-algorithm</code> Use this header to specify the encryption algorithm. The header value must be <code>AES256</code>.</p>\n  \n  <p><code>x-amz-server-side​-encryption​-customer-key</code> Use this header to provide the 256-bit, base64-encoded encryption key for Amazon S3 to use to encrypt or decrypt your data.</p>\n  \n  <p><code>x-amz-server-side​-encryption​-customer-key-MD5</code> Use this header to provide the base64-encoded 128-bit MD5 digest of the encryption key according to RFC 1321. Amazon S3 uses this header for a message integrity check to ensure that the encryption key was transmitted without error.</p>\n  \n  <p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/ServerSideEncryptionCustomerKeys.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/dev/ServerSideEncryptionCustomerKeys.html</a></p>\n</blockquote>\n\n<p>So you can use the pre-signed URL from a server using an HTTP client library (by injecting these headers with the request) or you could use it from the browser from Javascript, similarly, or with tools like Postman and Curl, but you can't use it as a clickable or pastable hyperlink, because a URL doesn't provide a way to specify HTTP headers.  And, of course, it seems like a bad idea to use it from browser-side JS, too, since that reveals the encryption key in clear text... so if you are planning to download an object stored with SSE-C, that's only appropriate in a secure environment, anyway, because of the need to handle the key in the clear.</p>\n"},{"tags":[],"owner":{"account_id":10634574,"reputation":31,"user_id":9739240,"display_name":"antoweb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644003873,"creation_date":1644003873,"answer_id":70992060,"question_id":58100356,"body_markdown":"Ok but with a curl lime this:\r\n\r\n\r\ncurl -v -T ${S3_UPLOAD_FILE} https://$S3_BUCKET.s3.amazonaws.com/${S3_DESTINATION_FILE} -H &quot;Date: ${S3_DATE}&quot; -H &quot;Authorization: AWS ${S3_KEY}:${S3_SIGNATURE}&quot; -H &quot;Content-Type: ${S3_CONTENT_TYPE}&quot; -H &quot;Content-MD5: ${S3_MD5SUM}&quot; -H &quot;x-amz-server-side-encryption-customer-algorithm:${S3_SSEC_ALGORITHM}&quot; -H &quot;x-amz-server-side-encryption-customer-key:${S3_ENCRYPTION_KEY}&quot; -H &quot;x-amz-server-side-encryption-customer-key-MD5:${S3_ENCRYPTION_MD5}&quot;\r\n\r\nI can upload a file ro an s3 bucket with sse-c key. Wath about download?\r\n","title":"Download objects (files) using presigned url in AWS S3 doesn&#39;t work","body":"<p>Ok but with a curl lime this:</p>\n<p>curl -v -T ${S3_UPLOAD_FILE} https://$S3_BUCKET.s3.amazonaws.com/${S3_DESTINATION_FILE} -H &quot;Date: ${S3_DATE}&quot; -H &quot;Authorization: AWS ${S3_KEY}:${S3_SIGNATURE}&quot; -H &quot;Content-Type: ${S3_CONTENT_TYPE}&quot; -H &quot;Content-MD5: ${S3_MD5SUM}&quot; -H &quot;x-amz-server-side-encryption-customer-algorithm:${S3_SSEC_ALGORITHM}&quot; -H &quot;x-amz-server-side-encryption-customer-key:${S3_ENCRYPTION_KEY}&quot; -H &quot;x-amz-server-side-encryption-customer-key-MD5:${S3_ENCRYPTION_MD5}&quot;</p>\n<p>I can upload a file ro an s3 bucket with sse-c key. Wath about download?</p>\n"}],"owner":{"account_id":15599599,"reputation":1,"user_id":11254076,"display_name":"rzz24118"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1644003873,"creation_date":1569420543,"question_id":58100356,"body_markdown":"I uploaded encrypted object using server-side encryption with customer-provided keys (SSE-C).\r\n  Is it possible to download an object using pre-signed URL in AWS S3?\r\n\r\nI tried like this\r\n\r\n ```\r\nGeneratePresignedUrlRequest generatePresignedUrlRequest1 = new GeneratePresignedUrlRequest(&quot;bucketname&quot;, &quot;objectpath&quot;)\r\n        .withMethod(HttpMethod.GET)\r\n        .withSSECustomerKey(new SSECustomerKey(&quot;base64mykey&quot;))\r\n        .withExpiration(new Date( System.currentTimeMillis() + (60 * 60 * 1000)));\r\n```\r\n\r\nThe link is generated but when accessing it in the browser I&#39;m getting this error `The request signature we calculated does not match the signature you provided. Check your key and signing method.` Is there a solution for this?","title":"Download objects (files) using presigned url in AWS S3 doesn&#39;t work","body":"<p>I uploaded encrypted object using server-side encryption with customer-provided keys (SSE-C).\n  Is it possible to download an object using pre-signed URL in AWS S3?</p>\n\n<p>I tried like this</p>\n\n<pre><code>GeneratePresignedUrlRequest generatePresignedUrlRequest1 = new GeneratePresignedUrlRequest(\"bucketname\", \"objectpath\")\n       .withMethod(HttpMethod.GET)\n       .withSSECustomerKey(new SSECustomerKey(\"base64mykey\"))\n       .withExpiration(new Date( System.currentTimeMillis() + (60 * 60 * 1000)));\n</code></pre>\n\n<p>The link is generated but when accessing it in the browser I'm getting this error <code>The request signature we calculated does not match the signature you provided. Check your key and signing method.</code> Is there a solution for this?</p>\n"},{"tags":["java","spring","unit-testing","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":1,"creation_date":1518075593,"post_id":48679637,"comment_id":84357147,"body_markdown":"Have you tried @SpringBootTest(classes=FooServiceImpl.class)?","body":"Have you tried @SpringBootTest(classes=FooServiceImpl.class)?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1518078094,"post_id":48679637,"comment_id":84358379,"body_markdown":"The fact that you need a context already makes it an integration test. If you want a unit test just create an instance of the repository, mock the dependencies and be done. As soon as you need a context it is an integration test.","body":"The fact that you need a context already makes it an integration test. If you want a unit test just create an instance of the repository, mock the dependencies and be done. As soon as you need a context it is an integration test."},{"owner":{"account_id":5573460,"reputation":2100,"user_id":4417818,"accept_rate":64,"display_name":"Nilesh"},"score":0,"creation_date":1518082737,"post_id":48679637,"comment_id":84361332,"body_markdown":"@Justas Your comment should be an answer, along with &#39;Explanation of Spring Boot component scanning in unit test&#39;","body":"@Justas Your comment should be an answer, along with &#39;Explanation of Spring Boot component scanning in unit test&#39;"}],"answers":[{"tags":[],"owner":{"account_id":7999707,"reputation":5543,"user_id":6034951,"display_name":"ekem chitsiga"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518078376,"creation_date":1518078376,"answer_id":48680821,"question_id":48679637,"body_markdown":"A unit test should test a component in isolation. You don`t even need to use the Spring Test context framework for a unit test. You can using mocking frameworks such as Mockito, JMock or EasyMock to isolate the dependencies in your component and verify the expectations.\r\n\r\nIf you want a true integration test then you need to use the @SpringBootTest annotation on your test class. If you dont specify the classes attribute it loads the @SpringBootApplication annotated class. This results in production components like db connections being loaded.\r\n\r\nTo eliminate these define a separate test configuration class which for example defines an embedded database instead of the production one\r\n\r\n    @SpringBootTest(classes = TestConfiguration.class)\r\n    public class ServiceFooTest{\r\n    }\r\n\r\n    @Configuration\r\n    @Import(SomeProductionConfiguration.class)\r\n    public class TestConfiguration{\r\n       //test specific components\r\n    }\r\n","title":"Why component scanning does not work for Spring Boot unit tests?","body":"<p>A unit test should test a component in isolation. You don`t even need to use the Spring Test context framework for a unit test. You can using mocking frameworks such as Mockito, JMock or EasyMock to isolate the dependencies in your component and verify the expectations.</p>\n\n<p>If you want a true integration test then you need to use the @SpringBootTest annotation on your test class. If you dont specify the classes attribute it loads the @SpringBootApplication annotated class. This results in production components like db connections being loaded.</p>\n\n<p>To eliminate these define a separate test configuration class which for example defines an embedded database instead of the production one</p>\n\n<pre><code>@SpringBootTest(classes = TestConfiguration.class)\npublic class ServiceFooTest{\n}\n\n@Configuration\n@Import(SomeProductionConfiguration.class)\npublic class TestConfiguration{\n   //test specific components\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1644002937,"creation_date":1518083120,"answer_id":48682255,"question_id":48679637,"body_markdown":"You should use `@SpringBootTest(classes=FooServiceImpl.class)`. \r\n\r\nAs it&#39;s mentioned on [Annotation Type SpringBootTest][1]:\r\n\r\n&gt; public abstract Class&lt;?&gt;[] classes\r\n&gt; \r\n&gt; The annotated classes to use for loading an ApplicationContext. Can\r\n&gt; also be specified using @ContextConfiguration(classes=...). If no\r\n&gt; explicit classes are defined the test will look for nested\r\n&gt; @Configuration classes, before falling back to a\r\n&gt; SpringBootConfiguration search.\r\n&gt; \r\n&gt; Returns:\r\n&gt;     the annotated classes used to load the application context See Also:\r\n&gt;     ContextConfiguration.classes()\r\n&gt; \r\n&gt; Default:\r\n&gt;     {}\r\n\r\nThis would load only necessary class. If don&#39;t specify, it may load a database configuration and other stuff which would make your test slower.\r\n\r\nOn the other hand, if you want really want unit test, you can test this code without Spring - then `@RunWith(SpringRunner.class)` and `@SpringBootTest` annotations are not necessary. You can test `FooServiceImpl` instance. If you have `Autowired`/injected properties or services, you set them via setters, constructors or mock with [Mockito][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\r\n  [2]: https://dzone.com/articles/a-guide-to-mocking-with-mockito","title":"Why component scanning does not work for Spring Boot unit tests?","body":"<p>You should use <code>@SpringBootTest(classes=FooServiceImpl.class)</code>.</p>\n<p>As it's mentioned on <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"nofollow noreferrer\">Annotation Type SpringBootTest</a>:</p>\n<blockquote>\n<p>public abstract Class&lt;?&gt;[] classes</p>\n<p>The annotated classes to use for loading an ApplicationContext. Can\nalso be specified using @ContextConfiguration(classes=...). If no\nexplicit classes are defined the test will look for nested\n@Configuration classes, before falling back to a\nSpringBootConfiguration search.</p>\n<p>Returns:\nthe annotated classes used to load the application context See Also:\nContextConfiguration.classes()</p>\n<p>Default:\n{}</p>\n</blockquote>\n<p>This would load only necessary class. If don't specify, it may load a database configuration and other stuff which would make your test slower.</p>\n<p>On the other hand, if you want really want unit test, you can test this code without Spring - then <code>@RunWith(SpringRunner.class)</code> and <code>@SpringBootTest</code> annotations are not necessary. You can test <code>FooServiceImpl</code> instance. If you have <code>Autowired</code>/injected properties or services, you set them via setters, constructors or mock with <a href=\"https://dzone.com/articles/a-guide-to-mocking-with-mockito\" rel=\"nofollow noreferrer\">Mockito</a>.</p>\n"},{"tags":[],"owner":{"account_id":6613027,"reputation":788,"user_id":5107365,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540252482,"creation_date":1540252482,"answer_id":52939210,"question_id":48679637,"body_markdown":"I had to solve a similar problem with a slight variation. Thought to share the details of that, thinking it might give choices to those who hit upon similar issues.\r\n\r\nI wanted to write integration tests with only necessary dependencies loaded up instead of all of the app dependencies. So I chose to use ```@DataJpaTest```, instead of ```@SpringBootTest```. And, I had to include ```@ComponentScan``` too to parse the @Service beans. However, the moment ServiceOne started using a mapper bean from another package, I had to specify the specific packages to be loaded with ```@ComponentScan```. Surprisingly, I even had to do this for the second service that does not auto-wire this mapper. I did not like that because it leaves the impression to the reader that this service depends on that mapper when it is actually not. So I realized that the package structure for services needs to be fine-tuned further to represent the dependencies more accurately. \r\n\r\nTo summarise, instead of @SpringBootTest, a combination of @DataJpaTest+@ComponentScan with package names can use to load just the layer-specific dependencies. This might even help us to fine-tune the design to represent your dependencies more accurately.\r\n\r\n### Design before \r\n\r\n**1. com.java.service.ServiceOneImpl**\r\n\r\n    @Service\r\n    public class ServiceOneImpl implements ServiceOne {   \r\n      @Autowired\r\n      private RepositoryOne repositoryOne;    \r\n      @Autowired\r\n      private ServiceTwo serviceTwo;      \r\n      @Autowired\r\n      private MapperOne mapperOne;\r\n    }\r\n\r\n**2. com.java.service.ServiceTwoImpl**\r\n\r\n    @Service\r\n    public class ServiceTwoImpl implements ServiceTwo {   \r\n      @Autowired\r\n      private RepositoryTwo repositoryTwo;    \r\n    }\r\n\r\n**3. ServiceOneIntegrationTest**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @ComponentScan({&quot;com.java.service&quot;,&quot;com.java.mapper&quot;})\r\n    public class ServiceOneIntegrationTest {\r\n\r\n\r\n**4. ServiceTwoIntegrationTest.java**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @ComponentScan({&quot;com.java.service&quot;,&quot;com.java.mapper&quot;})\r\n    public class ServiceTwoIntegrationTest {\r\n\r\n### After fine-tuning the package names\r\n\r\n**1. com.java.service.one.ServiceOneImpl**\r\n\r\n    @Service\r\n    public class ServiceOneImpl implements ServiceOne {   \r\n      @Autowired\r\n      private RepositoryOne repositoryOne;    \r\n      @Autowired\r\n      private ServiceTwo serviceTwo;      \r\n      @Autowired\r\n      private MapperOne mapperOne;\r\n    }\r\n\r\n**2. com.java.service.two.ServiceTwoImpl**\r\n\r\n    @Service\r\n    public class ServiceTwoImpl implements ServiceTwo {   \r\n      @Autowired\r\n      private RepositoryTwo repositoryTwo;    \r\n    }\r\n\r\n**3. ServiceOneIntegrationTest**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @ComponentScan({&quot;com.java.service&quot;,&quot;com.java.mapper&quot;})\r\n    public class ServiceOneIntegrationTest {\r\n\r\n\r\n**4. ServiceTwoIntegrationTest.java**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @ComponentScan({&quot;com.java.service.two&quot;}) // CHANGE in the packages\r\n    public class ServiceTwoIntegrationTest {","title":"Why component scanning does not work for Spring Boot unit tests?","body":"<p>I had to solve a similar problem with a slight variation. Thought to share the details of that, thinking it might give choices to those who hit upon similar issues.</p>\n\n<p>I wanted to write integration tests with only necessary dependencies loaded up instead of all of the app dependencies. So I chose to use <code>@DataJpaTest</code>, instead of <code>@SpringBootTest</code>. And, I had to include <code>@ComponentScan</code> too to parse the @Service beans. However, the moment ServiceOne started using a mapper bean from another package, I had to specify the specific packages to be loaded with <code>@ComponentScan</code>. Surprisingly, I even had to do this for the second service that does not auto-wire this mapper. I did not like that because it leaves the impression to the reader that this service depends on that mapper when it is actually not. So I realized that the package structure for services needs to be fine-tuned further to represent the dependencies more accurately. </p>\n\n<p>To summarise, instead of @SpringBootTest, a combination of @DataJpaTest+@ComponentScan with package names can use to load just the layer-specific dependencies. This might even help us to fine-tune the design to represent your dependencies more accurately.</p>\n\n<h3>Design before</h3>\n\n<p><strong>1. com.java.service.ServiceOneImpl</strong></p>\n\n<pre><code>@Service\npublic class ServiceOneImpl implements ServiceOne {   \n  @Autowired\n  private RepositoryOne repositoryOne;    \n  @Autowired\n  private ServiceTwo serviceTwo;      \n  @Autowired\n  private MapperOne mapperOne;\n}\n</code></pre>\n\n<p><strong>2. com.java.service.ServiceTwoImpl</strong></p>\n\n<pre><code>@Service\npublic class ServiceTwoImpl implements ServiceTwo {   \n  @Autowired\n  private RepositoryTwo repositoryTwo;    \n}\n</code></pre>\n\n<p><strong>3. ServiceOneIntegrationTest</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@ComponentScan({\"com.java.service\",\"com.java.mapper\"})\npublic class ServiceOneIntegrationTest {\n</code></pre>\n\n<p><strong>4. ServiceTwoIntegrationTest.java</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@ComponentScan({\"com.java.service\",\"com.java.mapper\"})\npublic class ServiceTwoIntegrationTest {\n</code></pre>\n\n<h3>After fine-tuning the package names</h3>\n\n<p><strong>1. com.java.service.one.ServiceOneImpl</strong></p>\n\n<pre><code>@Service\npublic class ServiceOneImpl implements ServiceOne {   \n  @Autowired\n  private RepositoryOne repositoryOne;    \n  @Autowired\n  private ServiceTwo serviceTwo;      \n  @Autowired\n  private MapperOne mapperOne;\n}\n</code></pre>\n\n<p><strong>2. com.java.service.two.ServiceTwoImpl</strong></p>\n\n<pre><code>@Service\npublic class ServiceTwoImpl implements ServiceTwo {   \n  @Autowired\n  private RepositoryTwo repositoryTwo;    \n}\n</code></pre>\n\n<p><strong>3. ServiceOneIntegrationTest</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@ComponentScan({\"com.java.service\",\"com.java.mapper\"})\npublic class ServiceOneIntegrationTest {\n</code></pre>\n\n<p><strong>4. ServiceTwoIntegrationTest.java</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@ComponentScan({\"com.java.service.two\"}) // CHANGE in the packages\npublic class ServiceTwoIntegrationTest {\n</code></pre>\n"}],"owner":{"account_id":5573460,"reputation":2100,"user_id":4417818,"accept_rate":64,"display_name":"Nilesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19868,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":48682255,"answer_count":3,"score":5,"last_activity_date":1644002937,"creation_date":1518074075,"question_id":48679637,"body_markdown":"The service class `FooServiceImpl` is annotated with [@Service][1] aka `@Component` which makes it eligible for autowiring. Why this class is not being picked up and autowired during unit tests?\r\n\r\n    @Service\r\n    public class FooServiceImpl implements FooService {\r\n        @Override\r\n        public String reverse(String bar) {\r\n            return new StringBuilder(bar).reverse().toString();\r\n        }\r\n    }\r\n\r\n    @RunWith(SpringRunner.class)\r\n    //@SpringBootTest\r\n    public class FooServiceTest {\r\n        @Autowired\r\n        private FooService fooService;\r\n        @Test\r\n        public void reverseStringShouldReverseAnyString() {\r\n            String reverse = fooService.reverse(&quot;hello&quot;);\r\n            assertThat(reverse).isEqualTo(&quot;olleh&quot;);\r\n        }\r\n    }\r\n\r\nThe test failed to load application context,\r\n\r\n    2018-02-08T10:58:42,385 INFO    Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.github.thenilesh.service.impl.FooServiceTest], using DelegatingSmartContextLoader\r\n    2018-02-08T10:58:42,393 INFO    Could not detect default resource locations for test class [io.github.thenilesh.service.impl.FooServiceTest]: no resource found for suffixes {-context.xml}.\r\n    2018-02-08T10:58:42,394 INFO    Could not detect default configuration classes for test class [io.github.thenilesh.service.impl.FooServiceTest]: FooServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n    2018-02-08T10:58:42,432 INFO    Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, (...)org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]\r\n    2018-02-08T10:58:42,448 INFO    Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@f0ea28, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@16efaab,(...)org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@9604d9]\r\n    2018-02-08T10:58:42,521 INFO    Refreshing org.springframework.context.support.GenericApplicationContext@173f9fc: startup date [Thu Feb 08 10:58:42 IST 2018]; root of context hierarchy\r\n    2018-02-08T10:58:42,606 INFO    JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    2018-02-08T10:58:42,666 ERROR    Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@19aaa5] to prepare test instance [io.github.thenilesh.service.impl.FooServiceTest@57f43]\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;io.github.thenilesh.service.impl.FooServiceTest&#39;: Unsatisfied dependency expressed through field &#39;fooService&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;io.github.thenilesh.service.FooService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n        . . . \r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192) [.cp/:?]\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;io.github.thenilesh.service.FooService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n        ... 28 more\r\n    2018-02-08T10:58:42,698 INFO    Closing org.springframework.context.support.GenericApplicationContext@173f9fc: startup date [Thu Feb 08 10:58:42 IST 2018]; root of context hierarchy\r\n \r\n[Full stack trace][2]\r\n\r\n\r\nIf test class is annotated with [@SpringBootTest][3] then it creates whole application context including database connection and a lot of unrelated beans which obviously not needed for this unit test(It won&#39;t be *unit* test then!). What is expected is that only beans on which `FooService` depends should be instantiated, except which are mocked, with `@MockBean`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/stereotype/Service.html\r\n  [2]: https://gist.github.com/TheNilesh/3bb6cf7bef40d1706d9d939118f66886\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html","title":"Why component scanning does not work for Spring Boot unit tests?","body":"<p>The service class <code>FooServiceImpl</code> is annotated with <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/stereotype/Service.html\" rel=\"nofollow noreferrer\">@Service</a> aka <code>@Component</code> which makes it eligible for autowiring. Why this class is not being picked up and autowired during unit tests?</p>\n\n<pre><code>@Service\npublic class FooServiceImpl implements FooService {\n    @Override\n    public String reverse(String bar) {\n        return new StringBuilder(bar).reverse().toString();\n    }\n}\n\n@RunWith(SpringRunner.class)\n//@SpringBootTest\npublic class FooServiceTest {\n    @Autowired\n    private FooService fooService;\n    @Test\n    public void reverseStringShouldReverseAnyString() {\n        String reverse = fooService.reverse(\"hello\");\n        assertThat(reverse).isEqualTo(\"olleh\");\n    }\n}\n</code></pre>\n\n<p>The test failed to load application context,</p>\n\n<pre><code>2018-02-08T10:58:42,385 INFO    Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.github.thenilesh.service.impl.FooServiceTest], using DelegatingSmartContextLoader\n2018-02-08T10:58:42,393 INFO    Could not detect default resource locations for test class [io.github.thenilesh.service.impl.FooServiceTest]: no resource found for suffixes {-context.xml}.\n2018-02-08T10:58:42,394 INFO    Could not detect default configuration classes for test class [io.github.thenilesh.service.impl.FooServiceTest]: FooServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n2018-02-08T10:58:42,432 INFO    Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, (...)org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]\n2018-02-08T10:58:42,448 INFO    Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@f0ea28, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@16efaab,(...)org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@9604d9]\n2018-02-08T10:58:42,521 INFO    Refreshing org.springframework.context.support.GenericApplicationContext@173f9fc: startup date [Thu Feb 08 10:58:42 IST 2018]; root of context hierarchy\n2018-02-08T10:58:42,606 INFO    JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n2018-02-08T10:58:42,666 ERROR    Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@19aaa5] to prepare test instance [io.github.thenilesh.service.impl.FooServiceTest@57f43]\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'io.github.thenilesh.service.impl.FooServiceTest': Unsatisfied dependency expressed through field 'fooService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'io.github.thenilesh.service.FooService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    . . . \n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192) [.cp/:?]\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'io.github.thenilesh.service.FooService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 28 more\n2018-02-08T10:58:42,698 INFO    Closing org.springframework.context.support.GenericApplicationContext@173f9fc: startup date [Thu Feb 08 10:58:42 IST 2018]; root of context hierarchy\n</code></pre>\n\n<p><a href=\"https://gist.github.com/TheNilesh/3bb6cf7bef40d1706d9d939118f66886\" rel=\"nofollow noreferrer\">Full stack trace</a></p>\n\n<p>If test class is annotated with <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"nofollow noreferrer\">@SpringBootTest</a> then it creates whole application context including database connection and a lot of unrelated beans which obviously not needed for this unit test(It won't be <em>unit</em> test then!). What is expected is that only beans on which <code>FooService</code> depends should be instantiated, except which are mocked, with <code>@MockBean</code>.</p>\n"},{"tags":["java","android","android-studio","spinner","autocompletetextview"],"answers":[{"tags":[],"owner":{"account_id":21212229,"reputation":17,"user_id":15600603,"display_name":"lifeofdekisugi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644002845,"creation_date":1644002845,"answer_id":70991890,"question_id":70962988,"body_markdown":"If I set an error on `customerSpinnerLayout` then it works \r\n\r\nEverything is the same as above you just have to change the condition \r\n\r\n        if (gender.isEmpty()){\r\n            customerSpinnerLayout.setError(&quot;Select your gender&quot;);\r\n            // you can also requestFocus\r\n        }\r\n\r\nIt works for me. Best of luck","title":"Displaying Error if no item from a AutoCompleteTextView is selected","body":"<p>If I set an error on <code>customerSpinnerLayout</code> then it works</p>\n<p>Everything is the same as above you just have to change the condition</p>\n<pre><code>    if (gender.isEmpty()){\n        customerSpinnerLayout.setError(&quot;Select your gender&quot;);\n        // you can also requestFocus\n    }\n</code></pre>\n<p>It works for me. Best of luck</p>\n"}],"owner":{"account_id":21212229,"reputation":17,"user_id":15600603,"display_name":"lifeofdekisugi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70991890,"answer_count":1,"score":0,"last_activity_date":1644002845,"creation_date":1643836605,"question_id":70962988,"body_markdown":"I want to show an error message if no item is selected from the AutoCompleteTextView.\r\n\r\nHere is my XML \r\n\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/customerSpinnerLayout&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginRight=&quot;20dp&quot;\r\n                android:hint=&quot;Gender&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout3&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_gender&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\r\n                    android:id=&quot;@+id/spinnerGender&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:inputType=&quot;none&quot;\r\n                    android:focusable=&quot;false&quot;\r\n                    tools:ignore=&quot;KeyboardInaccessibleWidget,SpeakableTextPresentCheck&quot; /&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\nJava Code \r\n\r\n        ArrayAdapter&lt;CharSequence&gt; genderAdapter = ArrayAdapter.createFromResource(this,\r\n                R.array.gender,\r\n                android.R.layout.simple_spinner_item);\r\n        genderAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinnerGender.setAdapter(genderAdapter);\r\n\r\n\r\n        String gender = spinnerGender.getText().toString();\r\n\r\n        if (gender.isEmpty()){\r\n            spinnerGender.setError(&quot;Select your gender&quot;);\r\n            spinnerGender.requestFocus();\r\n        }\r\n\r\nIt is not working What am I doing wrong? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lQJ1V.png","title":"Displaying Error if no item from a AutoCompleteTextView is selected","body":"<p>I want to show an error message if no item is selected from the AutoCompleteTextView.</p>\n<p>Here is my XML</p>\n<pre><code>        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/customerSpinnerLayout&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;20dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginRight=&quot;20dp&quot;\n            android:hint=&quot;Gender&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout3&quot;\n            app:startIconDrawable=&quot;@drawable/ic_gender&quot;&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\n                android:id=&quot;@+id/spinnerGender&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:clickable=&quot;true&quot;\n                android:inputType=&quot;none&quot;\n                android:focusable=&quot;false&quot;\n                tools:ignore=&quot;KeyboardInaccessibleWidget,SpeakableTextPresentCheck&quot; /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>Java Code</p>\n<pre><code>    ArrayAdapter&lt;CharSequence&gt; genderAdapter = ArrayAdapter.createFromResource(this,\n            R.array.gender,\n            android.R.layout.simple_spinner_item);\n    genderAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinnerGender.setAdapter(genderAdapter);\n\n\n    String gender = spinnerGender.getText().toString();\n\n    if (gender.isEmpty()){\n        spinnerGender.setError(&quot;Select your gender&quot;);\n        spinnerGender.requestFocus();\n    }\n</code></pre>\n<p>It is not working What am I doing wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/lQJ1V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lQJ1V.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19970181,"reputation":186,"user_id":14635852,"display_name":"Josh Van de Walle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643994816,"creation_date":1643993363,"answer_id":70990010,"question_id":70989489,"body_markdown":"Bean Validation is performed when the @Valid or @Validated annotations are used on a method parameter. Further details [here.][1] You could use a method to validate your loanRequestBean. To check the result of validation you can use [BindingResult.][2] Edit: Unrelated but I would consider renmaing loanRequestBean to LoanRequestBean to follow java class name conventions.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-valid-vs-validated\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/BindingResult.html","title":"How to validate variables of a class/bean class while assigning values with the setter of the class","body":"<p>Bean Validation is performed when the @Valid or @Validated annotations are used on a method parameter. Further details <a href=\"https://www.baeldung.com/spring-valid-vs-validated\" rel=\"nofollow noreferrer\">here.</a> You could use a method to validate your loanRequestBean. To check the result of validation you can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/BindingResult.html\" rel=\"nofollow noreferrer\">BindingResult.</a> Edit: Unrelated but I would consider renmaing loanRequestBean to LoanRequestBean to follow java class name conventions.</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644002426,"creation_date":1644002426,"answer_id":70991791,"question_id":70989489,"body_markdown":"You would need to programmatically trigger the validation of your `loanRequest` object as follows:\r\n```java\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class BancsRequestRecords {\r\n     private LoanRequestBean loanRequest = new LoanRequestBean();\r\n     private Validator validator;\r\n\r\n     public BancsRequestRecords(Validator validator) {\r\n          this.validator = validator;\r\n     }\r\n    \r\n     public loanRequestBean RequestParser(String message) {\r\n          String[] fieldsArray = message.split(&quot;&#172;&quot;);\r\n          loanRequest.setUniqueRefBancs(fieldsArray[0]);\r\n          loanRequest.setLoanId(Integer.valueOf( fieldsArray[1]));\r\n          loanRequest.setLoanIban(fieldsArray[2]);\r\n\r\n          Set&lt;ConstraintViolation&lt;LoanRequestBean&gt;&gt; violations = validator.validate(loanRequest);\r\n\r\n          return loanRequest;\r\n    }\r\n}\r\n```\r\n\r\nYou can read more about this at https://www.baeldung.com/javax-validation#programmatic.","title":"How to validate variables of a class/bean class while assigning values with the setter of the class","body":"<p>You would need to programmatically trigger the validation of your <code>loanRequest</code> object as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.stereotype.Component;\n\n@Component\npublic class BancsRequestRecords {\n     private LoanRequestBean loanRequest = new LoanRequestBean();\n     private Validator validator;\n\n     public BancsRequestRecords(Validator validator) {\n          this.validator = validator;\n     }\n    \n     public loanRequestBean RequestParser(String message) {\n          String[] fieldsArray = message.split(&quot;¬&quot;);\n          loanRequest.setUniqueRefBancs(fieldsArray[0]);\n          loanRequest.setLoanId(Integer.valueOf( fieldsArray[1]));\n          loanRequest.setLoanIban(fieldsArray[2]);\n\n          Set&lt;ConstraintViolation&lt;LoanRequestBean&gt;&gt; violations = validator.validate(loanRequest);\n\n          return loanRequest;\n    }\n}\n</code></pre>\n<p>You can read more about this at <a href=\"https://www.baeldung.com/javax-validation#programmatic\" rel=\"nofollow noreferrer\">https://www.baeldung.com/javax-validation#programmatic</a>.</p>\n"}],"owner":{"account_id":18932459,"reputation":15,"user_id":13814320,"display_name":"Sukesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1644002426,"creation_date":1643991150,"question_id":70989489,"body_markdown":"I am very new to Java and Spring Boot and trying to implement validation on the variable of a class as shown below and wants to validate each of the variables while initializing the value using the setter of the class.\r\n\r\n    import javax.validation.constraints.Digits;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    public class LoanRequestBean {\r\n    \t@Size(max = 8)\r\n    \tString uniqueRefBancs;\r\n    \t@Digits(integer=2)\r\n    \tInteger loanId;\r\n    \t@Size(max = 20)\r\n    \tString loanIban;\r\n    }\r\nThe variable initialization is done by the setter as shown below.\r\n\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class BancsRequestRecords {\r\n    \tprivate String[] fieldsArray;\r\n        @Valid\r\n    \tLoanRequestBean loanRequest = new LoanRequestBean();\r\n    \t\r\n    \t public loanRequestBean RequestParser(String message) {\r\n    \t\t fieldsArray = message.split(&quot;&#172;&quot;);\r\n    \t\t\tloanRequest.setUniqueRefBancs(fieldsArray[0]);\r\n    \t\t\tloanRequest.setLoanId(Integer.valueOf( fieldsArray[1]));\r\n    \t\t\tloanRequest.setLoanIban(fieldsArray[2]);\r\n               return loanRequest;\r\n    \r\n    }\r\n    }\r\n\r\nWhen I try to invoke Requestparser method with message as **2028110600000001000752&#172;123456&#172;FI9080706050403020** in the argument of the method, the values are not getting validated. eg: uniqueRefBancs has max length of 8 but still it does not throw any error while initialization.  Could you please help me if it&#39;s the right approach to validate the variables or any any other way to achieve it?","title":"How to validate variables of a class/bean class while assigning values with the setter of the class","body":"<p>I am very new to Java and Spring Boot and trying to implement validation on the variable of a class as shown below and wants to validate each of the variables while initializing the value using the setter of the class.</p>\n<pre><code>import javax.validation.constraints.Digits;\nimport javax.validation.constraints.Size;\n\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\npublic class LoanRequestBean {\n    @Size(max = 8)\n    String uniqueRefBancs;\n    @Digits(integer=2)\n    Integer loanId;\n    @Size(max = 20)\n    String loanIban;\n}\n</code></pre>\n<p>The variable initialization is done by the setter as shown below.</p>\n<pre><code>import org.springframework.stereotype.Component;\n\n@Component\npublic class BancsRequestRecords {\n    private String[] fieldsArray;\n    @Valid\n    LoanRequestBean loanRequest = new LoanRequestBean();\n    \n     public loanRequestBean RequestParser(String message) {\n         fieldsArray = message.split(&quot;¬&quot;);\n            loanRequest.setUniqueRefBancs(fieldsArray[0]);\n            loanRequest.setLoanId(Integer.valueOf( fieldsArray[1]));\n            loanRequest.setLoanIban(fieldsArray[2]);\n           return loanRequest;\n\n}\n}\n</code></pre>\n<p>When I try to invoke Requestparser method with message as <strong>2028110600000001000752¬123456¬FI9080706050403020</strong> in the argument of the method, the values are not getting validated. eg: uniqueRefBancs has max length of 8 but still it does not throw any error while initialization.  Could you please help me if it's the right approach to validate the variables or any any other way to achieve it?</p>\n"},{"tags":["java","html","spring"],"answers":[{"tags":[],"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644002221,"creation_date":1644001900,"answer_id":70991678,"question_id":70989674,"body_markdown":"In order to implement login and register workflow you need to implement few things:\r\n1. REST API http endpoints for login and register - you can use Spring for that\r\n2. Data base of some sort to to store users data (that should be encrypted) - you can use MySQL for that \r\n3. Some sort of mechanism to authenticate users - I recommend using JWT for that\r\n\r\nConsidering your tech stack, which include Spring (I guess it is Spring Boot), and MySQL I can suggest going through this great [article](https://www.bezkoder.com/spring-boot-login-example-mysql/) which walks you through building login workflow using Spring boot, MySQL and JWT\r\n\r\nI can also recommend using existing technology for managing user data, specifically I recommend [KeyCloak](https://www.keycloak.org/) which is a Open Source Identity and Access Management.","title":"Java Spring and Existing HTML site","body":"<p>In order to implement login and register workflow you need to implement few things:</p>\n<ol>\n<li>REST API http endpoints for login and register - you can use Spring for that</li>\n<li>Data base of some sort to to store users data (that should be encrypted) - you can use MySQL for that</li>\n<li>Some sort of mechanism to authenticate users - I recommend using JWT for that</li>\n</ol>\n<p>Considering your tech stack, which include Spring (I guess it is Spring Boot), and MySQL I can suggest going through this great <a href=\"https://www.bezkoder.com/spring-boot-login-example-mysql/\" rel=\"nofollow noreferrer\">article</a> which walks you through building login workflow using Spring boot, MySQL and JWT</p>\n<p>I can also recommend using existing technology for managing user data, specifically I recommend <a href=\"https://www.keycloak.org/\" rel=\"nofollow noreferrer\">KeyCloak</a> which is a Open Source Identity and Access Management.</p>\n"}],"owner":{"account_id":23241875,"reputation":17,"user_id":17331052,"display_name":"kooliobrb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70991678,"answer_count":1,"score":-1,"last_activity_date":1644002221,"creation_date":1643991950,"question_id":70989674,"body_markdown":"I have established connection between my Spring project and MySQL DB, I also have an existing HTML site with login and register templates. Can someone point me into the right direction on how to connect Spring with my existing HTML?","title":"Java Spring and Existing HTML site","body":"<p>I have established connection between my Spring project and MySQL DB, I also have an existing HTML site with login and register templates. Can someone point me into the right direction on how to connect Spring with my existing HTML?</p>\n"},{"tags":["java","sqlite","jdbc","sqldatatypes"],"comments":[{"owner":{"account_id":6852,"reputation":175273,"user_id":11654,"display_name":"CL."},"score":0,"creation_date":1461570438,"post_id":36829026,"comment_id":61240029,"body_markdown":"There are several SQLite JDBC drivers. But might it be possible that you have one running right now on your computer?","body":"There are several SQLite JDBC drivers. But might it be possible that you have one running right now on your computer?"},{"owner":{"account_id":8291812,"reputation":2301,"user_id":6233164,"display_name":"cypherfunc"},"score":0,"creation_date":1462341350,"post_id":36829026,"comment_id":61590203,"body_markdown":"I&#39;m using the Xerial driver through IntelliJ IDEA specifically.","body":"I&#39;m using the Xerial driver through IntelliJ IDEA specifically."}],"answers":[{"tags":[],"owner":{"account_id":6852,"reputation":175273,"user_id":11654,"display_name":"CL."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644001497,"creation_date":1462350896,"answer_id":37022468,"question_id":36829026,"body_markdown":"SQLite uses dynamic typing.\r\n\r\nThe Xerial driver combines both the declared column type name and the actual type of the value to determine the JDBC type; see the [implementation of `getColumnType()`](https://github.com/xerial/sqlite-jdbc/blob/master/src/main/java/org/sqlite/jdbc3/JDBC3ResultSet.java#L656).\r\nYou get the JDBC type if the column&#39;s type name is in the following list, *and* if the actual type matches:\r\n&lt;pre&gt;\r\nBOOLEAN\r\nTINYINT\r\nSMALLINT\r\nINT2\r\nBIGINT\r\nINT8\r\nUNSIGNED BIG INT\r\nDATE\r\nDATETIME\r\nINT\r\nINTEGER\r\nMEDIUMINT\r\nDECIMAL\r\nDOUBLE\r\nDOUBLE PRECISION\r\nNUMERIC\r\nREAL\r\nFLOAT\r\nCHARACTER\r\nNCHAR\r\nNATIVE CHARACTER\r\nCLOB\r\nDATE\r\nDATETIME\r\nVARCHAR\r\nVARYING CHARACTER\r\nNVARCHAR\r\nTEXT\r\nBINARY\r\nBLOB\r\n&lt;/pre&gt;\r\nOtherwise, you get NULL.","title":"How do SQLite data types map to Java?","body":"<p>SQLite uses dynamic typing.</p>\n<p>The Xerial driver combines both the declared column type name and the actual type of the value to determine the JDBC type; see the <a href=\"https://github.com/xerial/sqlite-jdbc/blob/master/src/main/java/org/sqlite/jdbc3/JDBC3ResultSet.java#L656\" rel=\"nofollow noreferrer\">implementation of <code>getColumnType()</code></a>.\nYou get the JDBC type if the column's type name is in the following list, <em>and</em> if the actual type matches:</p>\n<pre>\nBOOLEAN\nTINYINT\nSMALLINT\nINT2\nBIGINT\nINT8\nUNSIGNED BIG INT\nDATE\nDATETIME\nINT\nINTEGER\nMEDIUMINT\nDECIMAL\nDOUBLE\nDOUBLE PRECISION\nNUMERIC\nREAL\nFLOAT\nCHARACTER\nNCHAR\nNATIVE CHARACTER\nCLOB\nDATE\nDATETIME\nVARCHAR\nVARYING CHARACTER\nNVARCHAR\nTEXT\nBINARY\nBLOB\n</pre>\n<p>Otherwise, you get NULL.</p>\n"}],"owner":{"account_id":8291812,"reputation":2301,"user_id":6233164,"display_name":"cypherfunc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1868,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644001497,"creation_date":1461532859,"question_id":36829026,"body_markdown":"SQLite only has a few data types: `NULL, INTEGER, REAL, TEXT, BLOB`\r\n\r\nMeanwhile, the JDBC has:  \r\n\r\n    -7\tBIT,  \r\n    -6\tTINYINT,  \r\n    -5\tBIGINT,  \r\n    -4\tLONGVARBINARY,  \r\n    -3\tVARBINARY,  \r\n    -2\tBINARY,  \r\n    -1\tLONGVARCHAR, \r\n    0\tNULL,  \r\n    1\tCHAR,  \r\n    2\tNUMERIC,  \r\n    3\tDECIMAL,  \r\n    4\tINTEGER,  \r\n    5\tSMALLINT,  \r\n    6\tFLOAT,  \r\n    7\tREAL,  \r\n    8\tDOUBLE,  \r\n    12\tVARCHAR,  \r\n    91\tDATE,  \r\n    92\tTIME,  \r\n    93\tTIMESTAMP,   \r\n    1111 \tOTHER.  \r\n    (possibly more)\r\n\r\nI can&#39;t find any documentation anywhere for the SQLite-specific JDBC driver, and I need to know how the driver maps the types.\r\n\r\nObviously null is null,  \r\ninteger is integer (probably),  \r\nreal is real (probably),  \r\nbut what do text and blob map to?\r\n\r\n","title":"How do SQLite data types map to Java?","body":"<p>SQLite only has a few data types: <code>NULL, INTEGER, REAL, TEXT, BLOB</code></p>\n\n<p>Meanwhile, the JDBC has:  </p>\n\n<pre><code>-7  BIT,  \n-6  TINYINT,  \n-5  BIGINT,  \n-4  LONGVARBINARY,  \n-3  VARBINARY,  \n-2  BINARY,  \n-1  LONGVARCHAR, \n0   NULL,  \n1   CHAR,  \n2   NUMERIC,  \n3   DECIMAL,  \n4   INTEGER,  \n5   SMALLINT,  \n6   FLOAT,  \n7   REAL,  \n8   DOUBLE,  \n12  VARCHAR,  \n91  DATE,  \n92  TIME,  \n93  TIMESTAMP,   \n1111    OTHER.  \n(possibly more)\n</code></pre>\n\n<p>I can't find any documentation anywhere for the SQLite-specific JDBC driver, and I need to know how the driver maps the types.</p>\n\n<p>Obviously null is null,<br>\ninteger is integer (probably),<br>\nreal is real (probably),<br>\nbut what do text and blob map to?</p>\n"},{"tags":["java","inheritance","lombok"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1644000307,"post_id":70990997,"comment_id":125497643,"body_markdown":"By the way, the only difference between using `@Data` and using all of `@Getter`, `@Setter`, and `@ToString` is that the former also gets you `@EqualsAndHashCode` so unless there&#39;s some reason you want to avoid having Lombok generate the `equals` and `hashCode` methods on `Parent`, using just `@Data` is a lot more terse.","body":"By the way, the only difference between using <code>@Data</code> and using all of <code>@Getter</code>, <code>@Setter</code>, and <code>@ToString</code> is that the former also gets you <code>@EqualsAndHashCode</code> so unless there&#39;s some reason you want to avoid having Lombok generate the <code>equals</code> and <code>hashCode</code> methods on <code>Parent</code>, using just <code>@Data</code> is a lot more terse."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1644000375,"post_id":70990997,"comment_id":125497668,"body_markdown":"Hey, can you accept @rentox98&#39;s answer now, instead? And then I&#39;ll just delete mine. Thanks.","body":"Hey, can you accept @rentox98&#39;s answer now, instead? And then I&#39;ll just delete mine. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1644000237,"creation_date":1643998805,"answer_id":70991102,"question_id":70990997,"body_markdown":"In your Child class you have no attributes, so `@NoArgsConstructor` and `@AllArgsConstructor` are the same and the error occurs.\r\n\r\n---\r\nIf you wanted an all-args constructor that would pass the properties to the parent class&#39;s all-args constructor, you&#39;d have to write it yourself; Lombok won&#39;t generate it.\r\n\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    public class Child extends Parent {\r\n        public Child(String propertyA, String propertyB) {\r\n            super(StringUtils.upperCase(propertyA), propertyB);\r\n        }\r\n        \r\n        @Override\r\n        public void setPropertyA(String propertyA) {\r\n            this.propertyA(StringUtils.upperCase(propertyA));\r\n        }\r\n    }","title":"NoArgsConstructor and AllArgsConstructor annotation on Child class for parent constructors","body":"<p>In your Child class you have no attributes, so <code>@NoArgsConstructor</code> and <code>@AllArgsConstructor</code> are the same and the error occurs.</p>\n<hr />\n<p>If you wanted an all-args constructor that would pass the properties to the parent class's all-args constructor, you'd have to write it yourself; Lombok won't generate it.</p>\n<pre><code>@SuperBuilder\n@NoArgsConstructor\npublic class Child extends Parent {\n    public Child(String propertyA, String propertyB) {\n        super(StringUtils.upperCase(propertyA), propertyB);\n    }\n    \n    @Override\n    public void setPropertyA(String propertyA) {\n        this.propertyA(StringUtils.upperCase(propertyA));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12654666,"reputation":470,"user_id":9197553,"display_name":"Ceci Semble Absurde."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70991102,"answer_count":1,"score":0,"last_activity_date":1644000237,"creation_date":1643998343,"question_id":70990997,"body_markdown":"Hello to the overflow community, I am struggling on an inheritance problem with Lombok. I&#39;m trying to add both annotation `@AllArgsConstructor` and `@NoArgsConstructor` on a child class in order to use the parent lombok constructors but got the error _&quot;Duplicate method Child()&quot;_.\r\n\r\nParent class:\r\n``` lang-java\r\n@ToString\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\npublic class Parent {\r\n    private String propertyA;\r\n    private String propertyB;\r\n}\r\n```\r\n\r\nChild class:\r\n``` lang-java\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Child extends Parent {\r\n    @Override\r\n    public void setPropertyA(String propertyA) {\r\n        this.propertyA(StringUtils.upperCase(propertyA));\r\n    }\r\n}\r\n```\r\n\r\nThe error message:\r\n&gt; Duplicate method Child() in type Child Java(67109219)\r\n\r\nThanks to the [@rentox98][1] reply, I understand that the ArgsConstructor on my child class would always be empty, resulting on two identical constructors.\r\n\r\nIs there a Lombok way to generate ArgsConstructors on my child class based on the parent lombok ArgsConstructors ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70990997/noargsconstructor-and-allargsconstructor-annotation-on-child-class/70991102#70991102","title":"NoArgsConstructor and AllArgsConstructor annotation on Child class for parent constructors","body":"<p>Hello to the overflow community, I am struggling on an inheritance problem with Lombok. I'm trying to add both annotation <code>@AllArgsConstructor</code> and <code>@NoArgsConstructor</code> on a child class in order to use the parent lombok constructors but got the error <em>&quot;Duplicate method Child()&quot;</em>.</p>\n<p>Parent class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\npublic class Parent {\n    private String propertyA;\n    private String propertyB;\n}\n</code></pre>\n<p>Child class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Child extends Parent {\n    @Override\n    public void setPropertyA(String propertyA) {\n        this.propertyA(StringUtils.upperCase(propertyA));\n    }\n}\n</code></pre>\n<p>The error message:</p>\n<blockquote>\n<p>Duplicate method Child() in type Child Java(67109219)</p>\n</blockquote>\n<p>Thanks to the <a href=\"https://stackoverflow.com/questions/70990997/noargsconstructor-and-allargsconstructor-annotation-on-child-class/70991102#70991102\">@rentox98</a> reply, I understand that the ArgsConstructor on my child class would always be empty, resulting on two identical constructors.</p>\n<p>Is there a Lombok way to generate ArgsConstructors on my child class based on the parent lombok ArgsConstructors ?</p>\n"},{"tags":["java","android","kotlin","mobile-development"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1644009027,"post_id":70991350,"comment_id":125500438,"body_markdown":"You have not overriden the `onStatusChanged` method in your custom location listener.","body":"You have not overriden the <code>onStatusChanged</code> method in your custom location listener."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1644009045,"post_id":70991350,"comment_id":125500444,"body_markdown":"Does this answer your question? [How do I get the current GPS location programmatically in Android?](https://stackoverflow.com/questions/1513485/how-do-i-get-the-current-gps-location-programmatically-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1513485/how-do-i-get-the-current-gps-location-programmatically-in-android\">How do I get the current GPS location programmatically in Android?</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1644024702,"post_id":70991350,"comment_id":125503600,"body_markdown":"They shouldn&#39;t need to, it has a default implementation.","body":"They shouldn&#39;t need to, it has a default implementation."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1644053284,"post_id":70991350,"comment_id":125506963,"body_markdown":"[According to the docs `onStatusChanged` still needs to be overriden in versions less than R(api&lt;30)](https://developer.android.com/reference/android/location/LocationListener#onStatusChanged(java.lang.String,%20int,%20android.os.Bundle)).","body":"<a href=\"https://developer.android.com/reference/android/location/LocationListener#onStatusChanged(java.lang.String,%20int,%20android.os.Bundle)\" rel=\"nofollow noreferrer\">According to the docs <code>onStatusChanged</code> still needs to be overriden in versions less than R(api&lt;30)</a>."}],"owner":{"account_id":9667352,"reputation":1,"user_id":7173453,"display_name":"Pope.King"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644000126,"creation_date":1644000126,"question_id":70991350,"body_markdown":"My Application crashes sometimes after location listener I started.\r\nwith The Error bellow\r\n\r\n&lt;font colour=&quot;red&quot;&gt;2022-02-03 13:05:26.458 2383-2383/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.casontek.farmconnect, PID: 2383\r\njava.lang.AbstractMethodError: abstract method &quot;void android.location.LocationListener.onStatusChanged(java.lang.String, int, android.os.Bundle)&quot;\r\nat android.location.LocationManager$ListenerTransport._handleMessage(LocationManager.java:299)\r\n        at android.location.LocationManager$ListenerTransport.-wrap0(Unknown Source:0)\r\n        at android.location.LocationManager$ListenerTransport$1.handleMessage(LocationManager.java:237)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6524)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:451)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:888)\r\n2022-02-03 14:05:09.685 13052-13052/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n&lt;/font&gt;\r\n\r\n\r\n```\r\nprivate val locationListener = LocationListener {\r\n        //your code here\r\n        latitude = it.latitude\r\n        longitude = it.longitude\r\n\r\n        Log.i(&quot;_&amp;loc&quot;, &quot;location detail: ${it.latitude}, ${it.longitude}&quot;)\r\n    } \r\n\r\n\r\nif(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n            &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n\t    \r\n\t     if(locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)){\r\n\t          val manager = getSystemService(Context.LOCATION_SERVICE) as LocationManager\r\n                  manager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 20000L, 500F, locationListener)\r\n\t\t}\r\n        }\r\n\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.location&quot;\r\n        android:required=&quot;true&quot;/&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;","title":"My Application Crashes after listening to location service","body":"<p>My Application crashes sometimes after location listener I started.\nwith The Error bellow</p>\n<p>2022-02-03 13:05:26.458 2383-2383/? E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.casontek.farmconnect, PID: 2383\njava.lang.AbstractMethodError: abstract method &quot;void android.location.LocationListener.onStatusChanged(java.lang.String, int, android.os.Bundle)&quot;\nat android.location.LocationManager$ListenerTransport._handleMessage(LocationManager.java:299)\nat android.location.LocationManager$ListenerTransport.-wrap0(Unknown Source:0)\nat android.location.LocationManager$ListenerTransport$1.handleMessage(LocationManager.java:237)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:6524)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:451)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:888)\n2022-02-03 14:05:09.685 13052-13052/? E/AndroidRuntime: FATAL EXCEPTION: main\n</p>\n<pre><code>private val locationListener = LocationListener {\n        //your code here\n        latitude = it.latitude\n        longitude = it.longitude\n\n        Log.i(&quot;_&amp;loc&quot;, &quot;location detail: ${it.latitude}, ${it.longitude}&quot;)\n    } \n\n\nif(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n            &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n        \n         if(locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)){\n              val manager = getSystemService(Context.LOCATION_SERVICE) as LocationManager\n                  manager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 20000L, 500F, locationListener)\n        }\n        }\n\n\n    &lt;uses-feature android:name=&quot;android.hardware.location&quot;\n        android:required=&quot;true&quot;/&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","spotify"],"comments":[{"owner":{"account_id":1801598,"reputation":1104,"user_id":2218580,"display_name":"TreeAndLeaf"},"score":0,"creation_date":1653353398,"post_id":70960560,"comment_id":127826354,"body_markdown":"Question: I&#39;d love to know how you got the web player working in webview AT ALL. For me it immediately throws an error about missing keysystem. Can you point me at any solution you found for this issue?","body":"Question: I&#39;d love to know how you got the web player working in webview AT ALL. For me it immediately throws an error about missing keysystem. Can you point me at any solution you found for this issue?"}],"owner":{"account_id":1517505,"reputation":547,"user_id":1418155,"display_name":"flamewave000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643999667,"creation_date":1643824842,"question_id":70960560,"body_markdown":"I am working on an android app that uses the Spotify Web Playback SDK. This works fine for about 99% of the time, but that 1% is where my app will crash due to Spotify. Currently I receive the following stack trace:\r\n```\r\n2022-02-02 11:20:39.931 13285-13285/app.***.musicplayer E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: app.***.musicplayer, PID: 13285\r\n    java.lang.NullPointerException: Attempt to read from field &#39;byte[] ES.a&#39; on a null object reference\r\n        at GS.b(Unknown Source:2)\r\n        at zS.onKeyStatusChange(Unknown Source:10)\r\n        at android.media.MediaDrm.lambda$createOnKeyStatusChangeListener$1$MediaDrm(MediaDrm.java:809)\r\n        at android.media.-$$Lambda$MediaDrm$_FHBF1q3qSxz22Mhv8jmgjN4xt0.accept(Unknown Source:6)\r\n        at android.media.MediaDrm.lambda$postEventFromNative$4(MediaDrm.java:920)\r\n        at android.media.-$$Lambda$MediaDrm$UPVWCanGo24eu9-1S_t6PvJ1Zno.run(Unknown Source:18)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n2022-02-02 12:23:43.223 26211-26249/? E/Finsky:instant_app_inst: [50634] EnabledStatusSyncService.d(47): Failed updateUserPrefs: Account=Account {name=***@***.app, type=com.google}, EnableInstantApps=true\r\n```\r\n\r\nFrom what I can figure out, Spotify attempts to use the system WebView&#39;s Media DRM for managing Key Sessions. At some point, Spotify attempts to do something which causes the WebView to throw this `NullPointerException` which in-turn crashes my app.\r\n\r\n**Is there ANY way I can somehow catch this exception and recover to prevent my app from crashing?**\r\n\r\nI&#39;ve been looking at maybe trying to find a third-party WebView, but I&#39;d hate to have to bloat my app because of something like this.\r\n\r\nI don&#39;t know if this is in-fact the offending code, but it was the only thing in the Spotify SDK that I could find that referenced a `keyStatusChangeListener`:\r\n\r\n```js\r\nt.prototype.destroySessions = function () {\r\n\tfor (var e = [], t = 0, r = this._keySessions; t &lt; r.length; t++) {\r\n\t\tvar n = r[t];\r\n\t\ttry {\r\n\t\t\tvar i = n.keySession;\r\n\t\t\tif (!i) continue;\r\n\t\t\tn.onMessageListener &amp;&amp; i.removeEventListener(s.Event.KEY_SESSION_MESSAGE, n.onMessageListener), n.onKeyStatusChangeListener &amp;&amp; i.removeEventListener(s.Event.KEY_SESSION_STATUSES_CHANGE, n.onKeyStatusChangeListener);\r\n\t\t\tvar o = Promise.resolve(i.close()).catch(function (e) {\r\n\t\t\t\tE.warn(&quot;Failed to close KeySession&quot;, e);\r\n\t\t\t});\r\n\t\t\te.push(o), n.keySession = null, n.onMessageListener = null, n.onKeyStatusChangeListener = null, E.info(&quot;Closed KeySession&quot;);\r\n\t\t} catch (e) {\r\n\t\t\tE.warn(&quot;Failed to close KeySession&quot;, e);\r\n\t\t}\r\n\t}\r\n\treturn this._keySessions = [], Promise.all(e);\r\n}\r\n```\r\n\r\nThey put a try...catch around it to handle errors, but it&#39;s not like they can do anything when the WebView itself has no safety checks:\r\n\r\n&gt; MediaDrm.java from the Android code base\r\n```java\r\nprivate Consumer&lt;ListenerArgs&gt; createOnKeyStatusChangeListener(\r\n        OnKeyStatusChangeListener listener) {\r\n    return args -&gt; {\r\n        byte[] sessionId = args.sessionId;\r\n        if (sessionId.length &gt; 0) {\r\n            List&lt;KeyStatus&gt; keyStatusList = args.keyStatusList;\r\n            boolean hasNewUsableKey = args.hasNewUsableKey;\r\n\r\n            Log.i(TAG, &quot;Drm key status changed&quot;);\r\n            listener.onKeyStatusChange(this, sessionId, keyStatusList, hasNewUsableKey);\r\n        }\r\n    };\r\n}\r\n```","title":"Spotify Web Player crashes system WebView due to MediaDrm exception","body":"<p>I am working on an android app that uses the Spotify Web Playback SDK. This works fine for about 99% of the time, but that 1% is where my app will crash due to Spotify. Currently I receive the following stack trace:</p>\n<pre><code>2022-02-02 11:20:39.931 13285-13285/app.***.musicplayer E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: app.***.musicplayer, PID: 13285\n    java.lang.NullPointerException: Attempt to read from field 'byte[] ES.a' on a null object reference\n        at GS.b(Unknown Source:2)\n        at zS.onKeyStatusChange(Unknown Source:10)\n        at android.media.MediaDrm.lambda$createOnKeyStatusChangeListener$1$MediaDrm(MediaDrm.java:809)\n        at android.media.-$$Lambda$MediaDrm$_FHBF1q3qSxz22Mhv8jmgjN4xt0.accept(Unknown Source:6)\n        at android.media.MediaDrm.lambda$postEventFromNative$4(MediaDrm.java:920)\n        at android.media.-$$Lambda$MediaDrm$UPVWCanGo24eu9-1S_t6PvJ1Zno.run(Unknown Source:18)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2022-02-02 12:23:43.223 26211-26249/? E/Finsky:instant_app_inst: [50634] EnabledStatusSyncService.d(47): Failed updateUserPrefs: Account=Account {name=***@***.app, type=com.google}, EnableInstantApps=true\n</code></pre>\n<p>From what I can figure out, Spotify attempts to use the system WebView's Media DRM for managing Key Sessions. At some point, Spotify attempts to do something which causes the WebView to throw this <code>NullPointerException</code> which in-turn crashes my app.</p>\n<p><strong>Is there ANY way I can somehow catch this exception and recover to prevent my app from crashing?</strong></p>\n<p>I've been looking at maybe trying to find a third-party WebView, but I'd hate to have to bloat my app because of something like this.</p>\n<p>I don't know if this is in-fact the offending code, but it was the only thing in the Spotify SDK that I could find that referenced a <code>keyStatusChangeListener</code>:</p>\n<pre class=\"lang-js prettyprint-override\"><code>t.prototype.destroySessions = function () {\n    for (var e = [], t = 0, r = this._keySessions; t &lt; r.length; t++) {\n        var n = r[t];\n        try {\n            var i = n.keySession;\n            if (!i) continue;\n            n.onMessageListener &amp;&amp; i.removeEventListener(s.Event.KEY_SESSION_MESSAGE, n.onMessageListener), n.onKeyStatusChangeListener &amp;&amp; i.removeEventListener(s.Event.KEY_SESSION_STATUSES_CHANGE, n.onKeyStatusChangeListener);\n            var o = Promise.resolve(i.close()).catch(function (e) {\n                E.warn(&quot;Failed to close KeySession&quot;, e);\n            });\n            e.push(o), n.keySession = null, n.onMessageListener = null, n.onKeyStatusChangeListener = null, E.info(&quot;Closed KeySession&quot;);\n        } catch (e) {\n            E.warn(&quot;Failed to close KeySession&quot;, e);\n        }\n    }\n    return this._keySessions = [], Promise.all(e);\n}\n</code></pre>\n<p>They put a try...catch around it to handle errors, but it's not like they can do anything when the WebView itself has no safety checks:</p>\n<blockquote>\n<p>MediaDrm.java from the Android code base</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>private Consumer&lt;ListenerArgs&gt; createOnKeyStatusChangeListener(\n        OnKeyStatusChangeListener listener) {\n    return args -&gt; {\n        byte[] sessionId = args.sessionId;\n        if (sessionId.length &gt; 0) {\n            List&lt;KeyStatus&gt; keyStatusList = args.keyStatusList;\n            boolean hasNewUsableKey = args.hasNewUsableKey;\n\n            Log.i(TAG, &quot;Drm key status changed&quot;);\n            listener.onKeyStatusChange(this, sessionId, keyStatusList, hasNewUsableKey);\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":20974698,"reputation":141,"user_id":15411013,"display_name":"matez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643999430,"creation_date":1643999430,"answer_id":70991223,"question_id":70815723,"body_markdown":"It is possible via Mixin. Check out https://github.com/SpongePowered/Mixin/wiki. With that you&#39;re able to overwrite Minecraft&#39;s code and make, as you want, player or any other mob breathe under water.\r\nExplore Fabric&#39;s mixin tutorial: https://fabricmc.net/wiki/tutorial:mixin_introduction it will help you understanding this. You&#39;ll have to add to your build.gradle new imports as well as creating refmap.json file","title":"How to modify player in minecraft forge?","body":"<p>It is possible via Mixin. Check out <a href=\"https://github.com/SpongePowered/Mixin/wiki\" rel=\"nofollow noreferrer\">https://github.com/SpongePowered/Mixin/wiki</a>. With that you're able to overwrite Minecraft's code and make, as you want, player or any other mob breathe under water.\nExplore Fabric's mixin tutorial: <a href=\"https://fabricmc.net/wiki/tutorial:mixin_introduction\" rel=\"nofollow noreferrer\">https://fabricmc.net/wiki/tutorial:mixin_introduction</a> it will help you understanding this. You'll have to add to your build.gradle new imports as well as creating refmap.json file</p>\n"}],"owner":{"account_id":20757668,"reputation":76,"user_id":15243700,"display_name":"Turtle corporation"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":70991223,"answer_count":1,"score":-3,"last_activity_date":1643999430,"creation_date":1642875074,"question_id":70815723,"body_markdown":"I tried to modify the player in minecraft forge (1.18.1) so that a particular player can breath under water but not above water. So is it possible to change the player abilities?","title":"How to modify player in minecraft forge?","body":"<p>I tried to modify the player in minecraft forge (1.18.1) so that a particular player can breath under water but not above water. So is it possible to change the player abilities?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1644001377,"post_id":70991096,"comment_id":125497983,"body_markdown":"Stackoverflow is not for getting other people to write the code for you. Have a look at https://poi.apache.org/components/spreadsheet/examples.html for sample code and there are plenty of existing stackoverflow questions relating to POI and how to do things like add borders.","body":"Stackoverflow is not for getting other people to write the code for you. Have a look at <a href=\"https://poi.apache.org/components/spreadsheet/examples.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/examples.html</a> for sample code and there are plenty of existing stackoverflow questions relating to POI and how to do things like add borders."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1644042877,"post_id":70991096,"comment_id":125505375,"body_markdown":"What your picture shows is not one row but three rows having one column merged over the three rows. So [Sheet.addMergedRegion](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#addMergedRegion-org.apache.poi.ss.util.CellRangeAddress-) needs to be used. How exactly? Well this only can be answered having a [minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example). So please show a such.","body":"What your picture shows is not one row but three rows having one column merged over the three rows. So <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#addMergedRegion-org.apache.poi.ss.util.CellRangeAddress-\" rel=\"nofollow noreferrer\">Sheet.addMergedRegion</a> needs to be used. How exactly? Well this only can be answered having a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a>. So please show a such."},{"owner":{"account_id":3373927,"reputation":351,"user_id":2832503,"display_name":"sashikanta"},"score":0,"creation_date":1644688067,"post_id":70991096,"comment_id":125674946,"body_markdown":"@PJFanning Ohh .I was not aware of that this website is for entertainment purpose. Thank you for remind me anyway.","body":"@PJFanning Ohh .I was not aware of that this website is for entertainment purpose. Thank you for remind me anyway."}],"owner":{"account_id":3373927,"reputation":351,"user_id":2832503,"display_name":"sashikanta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1644687836,"answer_count":0,"score":0,"last_activity_date":1643998782,"creation_date":1643998782,"question_id":70991096,"body_markdown":"I am new to Apache POI. I have a requirement where i am writing json data to excel. In one case in a particular cell I have to create thin border rows as show in image and need to insert data(Abc,pqr...). How to achieve this using apace POI. \r\n\r\nI am creating dynamic row based on JSON data. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IA5rC.png","title":"how to create new box(row) inside existing column apache POI","body":"<p>I am new to Apache POI. I have a requirement where i am writing json data to excel. In one case in a particular cell I have to create thin border rows as show in image and need to insert data(Abc,pqr...). How to achieve this using apace POI.</p>\n<p>I am creating dynamic row based on JSON data. <a href=\"https://i.stack.imgur.com/IA5rC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IA5rC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","performance","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1643980346,"post_id":70986856,"comment_id":125489353,"body_markdown":"Is `addValueBuf1` the same as `add1`?","body":"Is <code>addValueBuf1</code> the same as <code>add1</code>?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1643980807,"post_id":70986856,"comment_id":125489540,"body_markdown":"Is it important that `collector.reset()` only resets `fIdx`, not the size of the array?","body":"Is it important that <code>collector.reset()</code> only resets <code>fIdx</code>, not the size of the array?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1643981058,"post_id":70986856,"comment_id":125489628,"body_markdown":"Final point, have you considered saving valuable development time and used an existing primitive collection library which guarantees efficient performance?","body":"Final point, have you considered saving valuable development time and used an existing primitive collection library which guarantees efficient performance?"},{"owner":{"account_id":24154457,"reputation":23,"user_id":18118867,"display_name":"foosmate"},"score":0,"creation_date":1643984954,"post_id":70986856,"comment_id":125491255,"body_markdown":"The source code is not meant to do something useful. It is just a highly simplified minimal example to reproduce the problem.\n\nThe original problem is located in our complex processing pipeline which is an integral part of one of our software components for geospatial traffic processing. Which of course we decided to develop because it doesn&#39;t exist like this. :-)","body":"The source code is not meant to do something useful. It is just a highly simplified minimal example to reproduce the problem.  The original problem is located in our complex processing pipeline which is an integral part of one of our software components for geospatial traffic processing. Which of course we decided to develop because it doesn&#39;t exist like this. :-)"},{"owner":{"account_id":24154457,"reputation":23,"user_id":18118867,"display_name":"foosmate"},"score":0,"creation_date":1643985059,"post_id":70986856,"comment_id":125491304,"body_markdown":"But apart from the fact that we suffer strongly from this performance degration. The observed effect seems to be weird!? \nWhy does HotSpot not optimize the variant with ```fBuffer2``` (even after 1h the throughput is only half as of ```fBuffer1```)?","body":"But apart from the fact that we suffer strongly from this performance degration. The observed effect seems to be weird!?  Why does HotSpot not optimize the variant with <code>fBuffer2</code> (even after 1h the throughput is only half as of <code>fBuffer1</code>)?"},{"owner":{"account_id":24154457,"reputation":23,"user_id":18118867,"display_name":"foosmate"},"score":0,"creation_date":1643985169,"post_id":70986856,"comment_id":125491372,"body_markdown":"@AndyTurner If you pull the code of ```addX()``` one level higher, then both variants perform equally bad. The reset only applies to ```fIdx``` since this can be seen as length indicator for the buffer. Furthermore the buffer itself should only grow and never shrink (except it is explicitly trimmed). It&#39;s a similar strategy as performed by ```ArrayList``` for instance.","body":"@AndyTurner If you pull the code of <code>addX()</code> one level higher, then both variants perform equally bad. The reset only applies to <code>fIdx</code> since this can be seen as length indicator for the buffer. Furthermore the buffer itself should only grow and never shrink (except it is explicitly trimmed). It&#39;s a similar strategy as performed by <code>ArrayList</code> for instance."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1643989613,"post_id":70986856,"comment_id":125493369,"body_markdown":"My guess is that the code gets heavily inlined, and the compiler can only eliminate array bounds checks when it can prove that the array length is guaranteed to be constant.","body":"My guess is that the code gets heavily inlined, and the compiler can only eliminate array bounds checks when it can prove that the array length is guaranteed to be constant."},{"owner":{"account_id":24154457,"reputation":23,"user_id":18118867,"display_name":"foosmate"},"score":0,"creation_date":1643990440,"post_id":70986856,"comment_id":125493766,"body_markdown":"That&#39;s a good point. Thus you mean, as long as the array instance is not replaced the JIT compiler may simplify the array access by skipping all further bounds checks.","body":"That&#39;s a good point. Thus you mean, as long as the array instance is not replaced the JIT compiler may simplify the array access by skipping all further bounds checks."},{"owner":{"account_id":24154457,"reputation":23,"user_id":18118867,"display_name":"foosmate"},"score":0,"creation_date":1643990892,"post_id":70986856,"comment_id":125493949,"body_markdown":"I do some further tests and re-assign the ```fBuffer1``` field in line 56 with a variable length, but the massive performance difference is still there. \n```collector.fBuffer.fBuffer1 = new long[BUFFER_LENGTH * 2 + (int) (System.currentTimeMillis() % 2)];```","body":"I do some further tests and re-assign the <code>fBuffer1</code> field in line 56 with a variable length, but the massive performance difference is still there.  <code>collector.fBuffer.fBuffer1 = new long[BUFFER_LENGTH * 2 + (int) (System.currentTimeMillis() % 2)];</code>"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643998763,"creation_date":1643992355,"answer_id":70989786,"question_id":70986856,"body_markdown":"JIT compilation in HotSpot JVM is 1) based on runtime profile data; 2) uses speculative optimizations.\r\n\r\nOnce the method is compiled at the maximum optimization level, HotSpot stops profiling this code, so it is never recompiled afterwards, no matter how long the code runs. (The exception is when the method needs to be deoptimized or unloaded, but it&#39;s not your case).\r\n\r\nIn the first case (SELECT_QUICK == true), the condition `remaining &gt; fBuffer1.length - fIdx` is never met, and HotSpot JVM is aware of that from profiling data collected at [lower tiers](https://stackoverflow.com/a/35614237/3448419). So it speculatively hoists the check out of the loop, and compiles the loop body with the assumption that array index is always within bounds. After the optimization, the loop is compiled like this (in pseudocode):\r\n```\r\nif (VALUE_COUNT &gt; collector.fBuffer.fBuffer1.length) {\r\n    uncommon_trap();\r\n}\r\nfor (int k = 0; k &lt; VALUE_COUNT; k++) {\r\n    collector.fBuffer.fBuffer1[k] = k;  // no bounds check\r\n}\r\n```\r\n\r\nIn the second case (SELECT_QUICK == false), on the contrary, HotSpot knows that  condition `remaining &gt; fBuffer2.length - fIdx` is *sometimes* met, so it cannot eliminate the check.\r\n\r\nSince `fIdx` is not the loop counter, HotSpot is apparently not smart enough to split the loop into two parts (with and without bounds check). However, you can help JIT compiler by splitting the loop manually:\r\n\r\n```\r\nfor (long j = 0L; j &lt; LOOP_COUNT; j++) {\r\n    collector.reset();\r\n\r\n    int fastCount = Math.min(collector.fBuffer.fBuffer2.length, VALUE_COUNT);\r\n    for (int k = 0; k &lt; fastCount; k++) {\r\n        collector.addValueBuf2Fast(k);\r\n    }\r\n\r\n    for (int k = fastCount; k &lt; VALUE_COUNT; k++) {\r\n        collector.addValueBuf2(k);\r\n    }\r\n}\r\n```\r\nwhere `addValueBuf2Fast` inserts a value without bounds check:\r\n```\r\n    public void addValueBuf2Fast(long val) {fBuffer.add2Fast(val);}\r\n\r\n    public static final class Buffer {\r\n        ...\r\n        public void add2Fast(long value) {\r\n            fBuffer2[fIdx++] = value;\r\n        }\r\n    }\r\n```\r\nThis should dramatically improve performance of the loop:\r\n```\r\nmake buffer 2 larger\r\nduration buf2 (resized): 5,537.681ms (5.5s)\r\nduration buf2 (resized): 5,461.519ms (5.5s)\r\nduration buf2 (resized): 5,450.445ms (5.5s)\r\n```","title":"Why does Java HotSpot can not optimize array instance after one-time resizing (leads to massive performance loss)?","body":"<p>JIT compilation in HotSpot JVM is 1) based on runtime profile data; 2) uses speculative optimizations.</p>\n<p>Once the method is compiled at the maximum optimization level, HotSpot stops profiling this code, so it is never recompiled afterwards, no matter how long the code runs. (The exception is when the method needs to be deoptimized or unloaded, but it's not your case).</p>\n<p>In the first case (SELECT_QUICK == true), the condition <code>remaining &gt; fBuffer1.length - fIdx</code> is never met, and HotSpot JVM is aware of that from profiling data collected at <a href=\"https://stackoverflow.com/a/35614237/3448419\">lower tiers</a>. So it speculatively hoists the check out of the loop, and compiles the loop body with the assumption that array index is always within bounds. After the optimization, the loop is compiled like this (in pseudocode):</p>\n<pre><code>if (VALUE_COUNT &gt; collector.fBuffer.fBuffer1.length) {\n    uncommon_trap();\n}\nfor (int k = 0; k &lt; VALUE_COUNT; k++) {\n    collector.fBuffer.fBuffer1[k] = k;  // no bounds check\n}\n</code></pre>\n<p>In the second case (SELECT_QUICK == false), on the contrary, HotSpot knows that  condition <code>remaining &gt; fBuffer2.length - fIdx</code> is <em>sometimes</em> met, so it cannot eliminate the check.</p>\n<p>Since <code>fIdx</code> is not the loop counter, HotSpot is apparently not smart enough to split the loop into two parts (with and without bounds check). However, you can help JIT compiler by splitting the loop manually:</p>\n<pre><code>for (long j = 0L; j &lt; LOOP_COUNT; j++) {\n    collector.reset();\n\n    int fastCount = Math.min(collector.fBuffer.fBuffer2.length, VALUE_COUNT);\n    for (int k = 0; k &lt; fastCount; k++) {\n        collector.addValueBuf2Fast(k);\n    }\n\n    for (int k = fastCount; k &lt; VALUE_COUNT; k++) {\n        collector.addValueBuf2(k);\n    }\n}\n</code></pre>\n<p>where <code>addValueBuf2Fast</code> inserts a value without bounds check:</p>\n<pre><code>    public void addValueBuf2Fast(long val) {fBuffer.add2Fast(val);}\n\n    public static final class Buffer {\n        ...\n        public void add2Fast(long value) {\n            fBuffer2[fIdx++] = value;\n        }\n    }\n</code></pre>\n<p>This should dramatically improve performance of the loop:</p>\n<pre><code>make buffer 2 larger\nduration buf2 (resized): 5,537.681ms (5.5s)\nduration buf2 (resized): 5,461.519ms (5.5s)\nduration buf2 (resized): 5,450.445ms (5.5s)\n</code></pre>\n"}],"owner":{"account_id":24154457,"reputation":23,"user_id":18118867,"display_name":"foosmate"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70989786,"answer_count":1,"score":2,"last_activity_date":1643998763,"creation_date":1643979842,"question_id":70986856,"body_markdown":"# Question\r\n\r\nWhy is the use of `fBuffer1` in the attached code example (`SELECT_QUICK = true`) **double as fast** as the other variant when `fBuffer2` is resized only once at the beginning (`SELECT_QUICK = false`)?\r\n\r\nThe code path is absolutely identical but even after 10 minutes the throughput of `fBuffer2` does not increase to this level of `fBuffer1`.\r\n\r\n# Background:\r\n\r\nWe have a generic data processing framework that collects thousands of Java primitive values in different subclasses (one subclass for each primitive type). These values are stored internally in arrays, which we originally sized sufficiently large. To save heap memory, we have now switched these arrays to dynamic resizing (arrays grow only if needed). As expected, this change has massively reduce the heap memory. However, on the other hand the performance has unfortunately degenerated significantly. Our processing jobs now take 2-3 times longer as before (e.g. 6 min instead of 2 min as before).\r\n\r\nI have reduced our problem to a minimum working example and attached it. You can choose with `SELECT_QUICK` which buffer should be used. I see the same effect with `jdk-1.8.0_202-x64` as well as with `openjdk-17.0.1-x64`.\r\n\r\n### Buffer 1 (is not resized) shows the following numbers:\r\n\r\n```\r\nduration buf1: 8,890.551ms (8.9s)\r\nduration buf1: 8,339.755ms (8.3s)\r\nduration buf1: 8,620.633ms (8.6s)\r\nduration buf1: 8,682.809ms (8.7s)\r\n...\r\n```\r\n\r\n### Buffer 2 (is resized exactly 1 time at the beginning) shows the following numbers:\r\n\r\n```\r\nmake buffer 2 larger\r\nduration buf2 (resized): 19,542.750ms (19.5s)\r\nduration buf2 (resized): 22,423.529ms (22.4s)\r\nduration buf2 (resized): 22,413.364ms (22.4s)\r\nduration buf2 (resized): 22,219.383ms (22.2s)\r\n...\r\n```\r\n\r\nI would really appreciate to get some hints, how I can change the code so that `fBuffer2` (after resizing) works as fast as `fBuffer1`. The other way round (make `fBuffer1` as slow as `fBuffer2`) is pretty easy. ;-) Since this problem is placed in some framework-like component I would prefer to change the code instead of tuning the hotspot (with external arguments). But of course, suggestions in both directions are very welcome.\r\n\r\n# Source Code\r\n\r\n```\r\nimport java.util.Locale;\r\n\r\npublic final class Collector {\r\n\r\n    private static final boolean SELECT_QUICK = true;\r\n\r\n    private static final long LOOP_COUNT = 50_000L;\r\n    private static final int VALUE_COUNT = 150_000;\r\n    private static final int BUFFER_LENGTH = 100_000;\r\n\r\n    private final Buffer fBuffer = new Buffer();\r\n\r\n    public void reset() {fBuffer.reset();}\r\n    public void addValueBuf1(long val) {fBuffer.add1(val);}\r\n    public void addValueBuf2(long val) {fBuffer.add2(val);}\r\n\r\n    public static final class Buffer {\r\n\r\n        private int fIdx = 0;\r\n        private long[] fBuffer1 = new long[BUFFER_LENGTH * 2];\r\n        private long[] fBuffer2 = new long[BUFFER_LENGTH];\r\n\r\n        public void reset() {fIdx = 0;}\r\n\r\n        public void add1(long value) {\r\n            ensureRemainingBuf1(1);\r\n            fBuffer1[fIdx++] = value;\r\n        }\r\n\r\n        public void add2(long value) {\r\n            ensureRemainingBuf2(1);\r\n            fBuffer2[fIdx++] = value;\r\n        }\r\n\r\n        private void ensureRemainingBuf1(int remaining) {\r\n            if (remaining &gt; fBuffer1.length - fIdx) {\r\n                System.out.println(&quot;make buffer 1 larger&quot;);\r\n                fBuffer1 = new long[(fIdx + remaining) &lt;&lt; 1];\r\n            }\r\n        }\r\n\r\n        private void ensureRemainingBuf2(int remaining) {\r\n            if (remaining &gt; fBuffer2.length - fIdx) {\r\n                System.out.println(&quot;make buffer 2 larger&quot;);\r\n                fBuffer2 = new long[(fIdx + remaining) &lt;&lt; 1];\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Locale.setDefault(Locale.ENGLISH);\r\n        final Collector collector = new Collector();\r\n        if (SELECT_QUICK) {\r\n            while (true) {\r\n                final long start = System.nanoTime();\r\n                for (long j = 0L; j &lt; LOOP_COUNT; j++) {\r\n                    collector.reset();\r\n                    for (int k = 0; k &lt; VALUE_COUNT; k++) {\r\n                        collector.addValueBuf1(k);\r\n                    }\r\n                }\r\n                final long nanos = System.nanoTime() - start;\r\n                System.out.printf(&quot;duration buf1: %1$,.3fms (%2$,.1fs)%n&quot;,\r\n                    nanos / 1_000_000d, nanos / 1_000_000_000d);\r\n            }\r\n        } else {\r\n            while (true) {\r\n                final long start = System.nanoTime();\r\n                for (long j = 0L; j &lt; LOOP_COUNT; j++) {\r\n                    collector.reset();\r\n                    for (int k = 0; k &lt; VALUE_COUNT; k++) {\r\n                        collector.addValueBuf2(k);\r\n                    }\r\n                }\r\n                final long nanos = System.nanoTime() - start;\r\n                System.out.printf(&quot;duration buf2 (resized): %1$,.3fms (%2$,.1fs)%n&quot;,\r\n                    nanos / 1_000_000d, nanos / 1_000_000_000d);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"Why does Java HotSpot can not optimize array instance after one-time resizing (leads to massive performance loss)?","body":"<h1>Question</h1>\n<p>Why is the use of <code>fBuffer1</code> in the attached code example (<code>SELECT_QUICK = true</code>) <strong>double as fast</strong> as the other variant when <code>fBuffer2</code> is resized only once at the beginning (<code>SELECT_QUICK = false</code>)?</p>\n<p>The code path is absolutely identical but even after 10 minutes the throughput of <code>fBuffer2</code> does not increase to this level of <code>fBuffer1</code>.</p>\n<h1>Background:</h1>\n<p>We have a generic data processing framework that collects thousands of Java primitive values in different subclasses (one subclass for each primitive type). These values are stored internally in arrays, which we originally sized sufficiently large. To save heap memory, we have now switched these arrays to dynamic resizing (arrays grow only if needed). As expected, this change has massively reduce the heap memory. However, on the other hand the performance has unfortunately degenerated significantly. Our processing jobs now take 2-3 times longer as before (e.g. 6 min instead of 2 min as before).</p>\n<p>I have reduced our problem to a minimum working example and attached it. You can choose with <code>SELECT_QUICK</code> which buffer should be used. I see the same effect with <code>jdk-1.8.0_202-x64</code> as well as with <code>openjdk-17.0.1-x64</code>.</p>\n<h3>Buffer 1 (is not resized) shows the following numbers:</h3>\n<pre><code>duration buf1: 8,890.551ms (8.9s)\nduration buf1: 8,339.755ms (8.3s)\nduration buf1: 8,620.633ms (8.6s)\nduration buf1: 8,682.809ms (8.7s)\n...\n</code></pre>\n<h3>Buffer 2 (is resized exactly 1 time at the beginning) shows the following numbers:</h3>\n<pre><code>make buffer 2 larger\nduration buf2 (resized): 19,542.750ms (19.5s)\nduration buf2 (resized): 22,423.529ms (22.4s)\nduration buf2 (resized): 22,413.364ms (22.4s)\nduration buf2 (resized): 22,219.383ms (22.2s)\n...\n</code></pre>\n<p>I would really appreciate to get some hints, how I can change the code so that <code>fBuffer2</code> (after resizing) works as fast as <code>fBuffer1</code>. The other way round (make <code>fBuffer1</code> as slow as <code>fBuffer2</code>) is pretty easy. ;-) Since this problem is placed in some framework-like component I would prefer to change the code instead of tuning the hotspot (with external arguments). But of course, suggestions in both directions are very welcome.</p>\n<h1>Source Code</h1>\n<pre><code>import java.util.Locale;\n\npublic final class Collector {\n\n    private static final boolean SELECT_QUICK = true;\n\n    private static final long LOOP_COUNT = 50_000L;\n    private static final int VALUE_COUNT = 150_000;\n    private static final int BUFFER_LENGTH = 100_000;\n\n    private final Buffer fBuffer = new Buffer();\n\n    public void reset() {fBuffer.reset();}\n    public void addValueBuf1(long val) {fBuffer.add1(val);}\n    public void addValueBuf2(long val) {fBuffer.add2(val);}\n\n    public static final class Buffer {\n\n        private int fIdx = 0;\n        private long[] fBuffer1 = new long[BUFFER_LENGTH * 2];\n        private long[] fBuffer2 = new long[BUFFER_LENGTH];\n\n        public void reset() {fIdx = 0;}\n\n        public void add1(long value) {\n            ensureRemainingBuf1(1);\n            fBuffer1[fIdx++] = value;\n        }\n\n        public void add2(long value) {\n            ensureRemainingBuf2(1);\n            fBuffer2[fIdx++] = value;\n        }\n\n        private void ensureRemainingBuf1(int remaining) {\n            if (remaining &gt; fBuffer1.length - fIdx) {\n                System.out.println(&quot;make buffer 1 larger&quot;);\n                fBuffer1 = new long[(fIdx + remaining) &lt;&lt; 1];\n            }\n        }\n\n        private void ensureRemainingBuf2(int remaining) {\n            if (remaining &gt; fBuffer2.length - fIdx) {\n                System.out.println(&quot;make buffer 2 larger&quot;);\n                fBuffer2 = new long[(fIdx + remaining) &lt;&lt; 1];\n            }\n        }\n\n    }\n\n    public static void main(String[] args) {\n        Locale.setDefault(Locale.ENGLISH);\n        final Collector collector = new Collector();\n        if (SELECT_QUICK) {\n            while (true) {\n                final long start = System.nanoTime();\n                for (long j = 0L; j &lt; LOOP_COUNT; j++) {\n                    collector.reset();\n                    for (int k = 0; k &lt; VALUE_COUNT; k++) {\n                        collector.addValueBuf1(k);\n                    }\n                }\n                final long nanos = System.nanoTime() - start;\n                System.out.printf(&quot;duration buf1: %1$,.3fms (%2$,.1fs)%n&quot;,\n                    nanos / 1_000_000d, nanos / 1_000_000_000d);\n            }\n        } else {\n            while (true) {\n                final long start = System.nanoTime();\n                for (long j = 0L; j &lt; LOOP_COUNT; j++) {\n                    collector.reset();\n                    for (int k = 0; k &lt; VALUE_COUNT; k++) {\n                        collector.addValueBuf2(k);\n                    }\n                }\n                final long nanos = System.nanoTime() - start;\n                System.out.printf(&quot;duration buf2 (resized): %1$,.3fms (%2$,.1fs)%n&quot;,\n                    nanos / 1_000_000d, nanos / 1_000_000_000d);\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","aws-lambda","amazon-cognito-triggers"],"answers":[{"tags":[],"owner":{"account_id":5709550,"reputation":602,"user_id":4512039,"accept_rate":40,"display_name":"Eric Spiegelberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643998115,"creation_date":1643998115,"answer_id":70990962,"question_id":70950095,"body_markdown":"I was able to solve my issue. \r\n\r\nThe code sample above worked correctly with no changes. \r\n\r\nFor others that encounter this issue (including my future self), the key piece of information was in a note in the [documentation](https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-pre-sign-up.html):\r\n\r\n```\r\nNOTE:\r\nResponse parameters autoVerifyPhone, autoVerifyEmail and autoConfirmUser are ignored by Amazon Cognito when the Pre Sign-up lambda is triggered by the AdminCreateUser API.\r\n```\r\n\r\nAs all of my prior testing was performed in the Admin console, upon reading this I realized I should perform testing from my app. Sure enough, when testing from the app the Lambda worked as expected without modification. \r\n\r\nTo summarize, when developing a Cognito Pre-Sign-up Lambda trigger the trigger will not produce the desired results (ie: a user confirmed with a verified email) when executed from the AWS admin console UI but will when executed from your application.","title":"Java-based AWS Cognito Pre-Sign-up Lambda Trigger: Automatically confirm user and validate email","body":"<p>I was able to solve my issue.</p>\n<p>The code sample above worked correctly with no changes.</p>\n<p>For others that encounter this issue (including my future self), the key piece of information was in a note in the <a href=\"https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-pre-sign-up.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<pre><code>NOTE:\nResponse parameters autoVerifyPhone, autoVerifyEmail and autoConfirmUser are ignored by Amazon Cognito when the Pre Sign-up lambda is triggered by the AdminCreateUser API.\n</code></pre>\n<p>As all of my prior testing was performed in the Admin console, upon reading this I realized I should perform testing from my app. Sure enough, when testing from the app the Lambda worked as expected without modification.</p>\n<p>To summarize, when developing a Cognito Pre-Sign-up Lambda trigger the trigger will not produce the desired results (ie: a user confirmed with a verified email) when executed from the AWS admin console UI but will when executed from your application.</p>\n"}],"owner":{"account_id":5709550,"reputation":602,"user_id":4512039,"accept_rate":40,"display_name":"Eric Spiegelberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643998115,"creation_date":1643771205,"question_id":70950095,"body_markdown":"I am developing a Java-based AWS Cognito Pre-Sign-up Lambda trigger to automatically confirm the user and set their email as verified.\r\n\r\nPer the [AWS documentation](https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-pre-authentication.html), &quot;Amazon Cognito passes event information to your Lambda function. The function then returns the same event object back to Amazon Cognito, with any changes in the response.&quot; I&#39;ve seen [documentation](https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-pre-sign-up.html#aws-lambda-triggers-pre-registration-example-2) (and numerous StackOverflow discussions) about how &quot;autoConfirmUser&quot; and &quot;autoVerifyEmail&quot; should be used in a Pre-Sign-up Lambda response; examples are even provided for Node.js and Python.\r\n\r\nWhile it seems straightforward to do similar in Java, I am apparently not returning the expected response and my users are being created without being automagically confirmed and email verified.\r\n\r\nWith the Function registered and set as the Pre sign-up trigger on my Cognito User Pool, l can see my Lambda is invoked each time a user is created (such as through the admin console using &quot;Create User&quot;). Logging the request coming into the Lambda, the request is:\r\n\r\n```\r\n{\r\n version = 1, region = us - east - 1, userPoolId = us - east - 1_1 IhOKuyug, userName = user@test.com, callerContext = {\r\n  awsSdkVersion = aws - sdk - unknown - unknown,\r\n  clientId = CLIENT_ID_NOT_APPLICABLE\r\n }, triggerSource = PreSignUp_AdminCreateUser, request = {\r\n  userAttributes = {\r\n   phone_number = +15555555555,\r\n   email = user@test.com\r\n  },\r\n  validationData = null\r\n }, response = {\r\n  autoConfirmUser = false,\r\n  autoVerifyEmail = false,\r\n  autoVerifyPhone = false\r\n }\r\n}\r\n```\r\n\r\nMy Lambda is:\r\n\r\n```\r\npublic class PreSignUpRequestHandler implements RequestHandler {\r\n\r\n  @Override\r\n  public Object handleRequest(Object requestObject, Context context) {\r\n\r\n    Map requestObjectMap = (Map) requestObject;\r\n\r\n    Map&lt;String, Object&gt; responseData = (Map) requestObjectMap.get(&quot;response&quot;);\r\n    responseData.put(&quot;autoConfirmUser&quot;, true);\r\n    responseData.put(&quot;autoVerifyEmail&quot;, true);\r\n    responseData.put(&quot;autoVerifyPhone&quot;, false);\r\n\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    String jsonResponse = gson.toJson(requestObject);\r\n    context.getLogger().log(&quot;Response JSON: &quot; + jsonResponse);\r\n\r\n    return requestObject;\r\n  }\r\n\r\n}\r\n```\r\n\r\nUsing the AWS Cognito General Settings &gt; Users and Group &gt; Create user,  the user is created but the account status is listed as &quot;FORCE_CHANGE_PASSWORD&quot; and the email verified is listed as &quot;-&quot;. A user created prior to the Lambda expression being assigned as the trigger that went through the confirmation/validation process has the account status listed as &quot;CONFIRMED&quot; and email verified listed as &quot;true&quot;.\r\n\r\nLooking at CloudWatch, the above Lambda produced:\r\n```\r\nResponse JSON: \r\n{\r\n    &quot;version&quot;: &quot;1&quot;,\r\n    &quot;region&quot;: &quot;us-east-1&quot;,\r\n    &quot;userPoolId&quot;: &quot;us-east-1_1IhOKuyRR&quot;,\r\n    &quot;userName&quot;: &quot;user@test.com&quot;,\r\n    &quot;callerContext&quot;: {\r\n        &quot;awsSdkVersion&quot;: &quot;aws-sdk-unknown-unknown&quot;,\r\n        &quot;clientId&quot;: &quot;CLIENT_ID_NOT_APPLICABLE&quot;\r\n    },\r\n    &quot;triggerSource&quot;: &quot;PreSignUp_AdminCreateUser&quot;,\r\n    &quot;request&quot;: {\r\n        &quot;userAttributes&quot;: {\r\n            &quot;phone_number&quot;: &quot;+5555555555&quot;,\r\n            &quot;email&quot;: &quot;user@test.com&quot;\r\n        }\r\n    },\r\n    &quot;response&quot;: {\r\n        &quot;autoConfirmUser&quot;: true,\r\n        &quot;autoVerifyEmail&quot;: true,\r\n        &quot;autoVerifyPhone&quot;: false\r\n    }\r\n}\r\n```\r\nClearly, the user was created and the Lambda was fired. Yet, despite the Lambda returning &quot;autoConfirmUser&quot; and &quot;autoVerifyEmail&quot; as both true, the user was created without these response settings being applied.\r\n\r\nWhat am I missing and what am I doing wrong?","title":"Java-based AWS Cognito Pre-Sign-up Lambda Trigger: Automatically confirm user and validate email","body":"<p>I am developing a Java-based AWS Cognito Pre-Sign-up Lambda trigger to automatically confirm the user and set their email as verified.</p>\n<p>Per the <a href=\"https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-pre-authentication.html\" rel=\"nofollow noreferrer\">AWS documentation</a>, &quot;Amazon Cognito passes event information to your Lambda function. The function then returns the same event object back to Amazon Cognito, with any changes in the response.&quot; I've seen <a href=\"https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-pre-sign-up.html#aws-lambda-triggers-pre-registration-example-2\" rel=\"nofollow noreferrer\">documentation</a> (and numerous StackOverflow discussions) about how &quot;autoConfirmUser&quot; and &quot;autoVerifyEmail&quot; should be used in a Pre-Sign-up Lambda response; examples are even provided for Node.js and Python.</p>\n<p>While it seems straightforward to do similar in Java, I am apparently not returning the expected response and my users are being created without being automagically confirmed and email verified.</p>\n<p>With the Function registered and set as the Pre sign-up trigger on my Cognito User Pool, l can see my Lambda is invoked each time a user is created (such as through the admin console using &quot;Create User&quot;). Logging the request coming into the Lambda, the request is:</p>\n<pre><code>{\n version = 1, region = us - east - 1, userPoolId = us - east - 1_1 IhOKuyug, userName = user@test.com, callerContext = {\n  awsSdkVersion = aws - sdk - unknown - unknown,\n  clientId = CLIENT_ID_NOT_APPLICABLE\n }, triggerSource = PreSignUp_AdminCreateUser, request = {\n  userAttributes = {\n   phone_number = +15555555555,\n   email = user@test.com\n  },\n  validationData = null\n }, response = {\n  autoConfirmUser = false,\n  autoVerifyEmail = false,\n  autoVerifyPhone = false\n }\n}\n</code></pre>\n<p>My Lambda is:</p>\n<pre><code>public class PreSignUpRequestHandler implements RequestHandler {\n\n  @Override\n  public Object handleRequest(Object requestObject, Context context) {\n\n    Map requestObjectMap = (Map) requestObject;\n\n    Map&lt;String, Object&gt; responseData = (Map) requestObjectMap.get(&quot;response&quot;);\n    responseData.put(&quot;autoConfirmUser&quot;, true);\n    responseData.put(&quot;autoVerifyEmail&quot;, true);\n    responseData.put(&quot;autoVerifyPhone&quot;, false);\n\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n    String jsonResponse = gson.toJson(requestObject);\n    context.getLogger().log(&quot;Response JSON: &quot; + jsonResponse);\n\n    return requestObject;\n  }\n\n}\n</code></pre>\n<p>Using the AWS Cognito General Settings &gt; Users and Group &gt; Create user,  the user is created but the account status is listed as &quot;FORCE_CHANGE_PASSWORD&quot; and the email verified is listed as &quot;-&quot;. A user created prior to the Lambda expression being assigned as the trigger that went through the confirmation/validation process has the account status listed as &quot;CONFIRMED&quot; and email verified listed as &quot;true&quot;.</p>\n<p>Looking at CloudWatch, the above Lambda produced:</p>\n<pre><code>Response JSON: \n{\n    &quot;version&quot;: &quot;1&quot;,\n    &quot;region&quot;: &quot;us-east-1&quot;,\n    &quot;userPoolId&quot;: &quot;us-east-1_1IhOKuyRR&quot;,\n    &quot;userName&quot;: &quot;user@test.com&quot;,\n    &quot;callerContext&quot;: {\n        &quot;awsSdkVersion&quot;: &quot;aws-sdk-unknown-unknown&quot;,\n        &quot;clientId&quot;: &quot;CLIENT_ID_NOT_APPLICABLE&quot;\n    },\n    &quot;triggerSource&quot;: &quot;PreSignUp_AdminCreateUser&quot;,\n    &quot;request&quot;: {\n        &quot;userAttributes&quot;: {\n            &quot;phone_number&quot;: &quot;+5555555555&quot;,\n            &quot;email&quot;: &quot;user@test.com&quot;\n        }\n    },\n    &quot;response&quot;: {\n        &quot;autoConfirmUser&quot;: true,\n        &quot;autoVerifyEmail&quot;: true,\n        &quot;autoVerifyPhone&quot;: false\n    }\n}\n</code></pre>\n<p>Clearly, the user was created and the Lambda was fired. Yet, despite the Lambda returning &quot;autoConfirmUser&quot; and &quot;autoVerifyEmail&quot; as both true, the user was created without these response settings being applied.</p>\n<p>What am I missing and what am I doing wrong?</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643907950,"creation_date":1643897419,"answer_id":70972756,"question_id":70972557,"body_markdown":"The method [`Player.damage`](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Damageable.html#damage(double)) method to make everything as &quot;normal&quot;.\r\n\r\nIf you want to send your own packet, yous should use the `PacketPlayOutAnimation`, with the value `1` ([Why?](https://wiki.vg/Protocol#Entity_Animation_.28clientbound.29))\r\n\r\nFor 1.16 and lower:\r\n```\r\nimport net.minecraft.server.MC_VERSION.PacketPlayOutAnimation;\r\n\r\nEntityPlayer ep = ((CraftPlayer) p).getHandle();\r\nep.playerConnection.sendPacket(new PacketPlayOutAnimation(ep, 1));\r\n```\r\nFor 1.17 and more:\r\n```\r\nimport net.minecraft.network.protocol.game.PacketPlayOutAnimation;\r\n\r\nEntityPlayer ep = ((CraftPlayer) p).getHandle();\r\nep.b.sendPacket(new PacketPlayOutAnimation(ep, 1));\r\n```\r\n\r\nHere is a version with import of direct minecraft version. You can use [reflection](https://www.oracle.com/technical-resources/articles/java/javareflection.html) to use those [NMS](https://www.spigotmc.org/threads/204127/) for all versions.\r\n\r\nOr with ProtocolLib, it seems to be something like that:\r\n```\r\nPacketContainer packetContainer = protocolManager.createPacket(Play.Server.ANIMATION);\r\npacketContainer.getIntegers().write(0, entityId);\r\npacketContainer.getIntegers().write(0, 1);\r\nmanager.sendServerPacket(p, packetContainer); // seems to be how you send packet\r\n```\r\nMore informations about the packet in ProtocolLib [here](https://github.com/dmulloy2/ProtocolLib/blob/master/src/main/java/com/comphenix/protocol/PacketType.java#L112)","title":"How can I send Animation-Packet with ProtocolLib in Spigot?","body":"<p>The method <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Damageable.html#damage(double)\" rel=\"nofollow noreferrer\"><code>Player.damage</code></a> method to make everything as &quot;normal&quot;.</p>\n<p>If you want to send your own packet, yous should use the <code>PacketPlayOutAnimation</code>, with the value <code>1</code> (<a href=\"https://wiki.vg/Protocol#Entity_Animation_.28clientbound.29\" rel=\"nofollow noreferrer\">Why?</a>)</p>\n<p>For 1.16 and lower:</p>\n<pre><code>import net.minecraft.server.MC_VERSION.PacketPlayOutAnimation;\n\nEntityPlayer ep = ((CraftPlayer) p).getHandle();\nep.playerConnection.sendPacket(new PacketPlayOutAnimation(ep, 1));\n</code></pre>\n<p>For 1.17 and more:</p>\n<pre><code>import net.minecraft.network.protocol.game.PacketPlayOutAnimation;\n\nEntityPlayer ep = ((CraftPlayer) p).getHandle();\nep.b.sendPacket(new PacketPlayOutAnimation(ep, 1));\n</code></pre>\n<p>Here is a version with import of direct minecraft version. You can use <a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">reflection</a> to use those <a href=\"https://www.spigotmc.org/threads/204127/\" rel=\"nofollow noreferrer\">NMS</a> for all versions.</p>\n<p>Or with ProtocolLib, it seems to be something like that:</p>\n<pre><code>PacketContainer packetContainer = protocolManager.createPacket(Play.Server.ANIMATION);\npacketContainer.getIntegers().write(0, entityId);\npacketContainer.getIntegers().write(0, 1);\nmanager.sendServerPacket(p, packetContainer); // seems to be how you send packet\n</code></pre>\n<p>More informations about the packet in ProtocolLib <a href=\"https://github.com/dmulloy2/ProtocolLib/blob/master/src/main/java/com/comphenix/protocol/PacketType.java#L112\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":22201748,"reputation":55,"user_id":16442331,"display_name":"Undercraft_CR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70972756,"answer_count":1,"score":0,"last_activity_date":1643997838,"creation_date":1643896588,"question_id":70972557,"body_markdown":"I want to show a damage animation on a entity without damage.\r\nNOT:\r\n\r\n    entity.damage(2);\r\n\r\nand then\r\n\r\n    public void onEntityDamage(EntityDamageEvent event) {\r\n        event.setDamage(0);\r\n\r\nmore like that:\r\n\r\n    entity.setHealth(entity.getHealth - 2);\r\n    &quot;Send a packet to Player Damage Animation IF POSSIBLE WITH ProtocolLib&quot;","title":"How can I send Animation-Packet with ProtocolLib in Spigot?","body":"<p>I want to show a damage animation on a entity without damage.\nNOT:</p>\n<pre><code>entity.damage(2);\n</code></pre>\n<p>and then</p>\n<pre><code>public void onEntityDamage(EntityDamageEvent event) {\n    event.setDamage(0);\n</code></pre>\n<p>more like that:</p>\n<pre><code>entity.setHealth(entity.getHealth - 2);\n&quot;Send a packet to Player Damage Animation IF POSSIBLE WITH ProtocolLib&quot;\n</code></pre>\n"},{"tags":["java","json","serialization","jackson","default-value"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643997742,"creation_date":1643997742,"answer_id":70990894,"question_id":70973830,"body_markdown":"Copying the text of your first question from the title of the post:\r\n&gt; Which JsonInclude.Include value does Jackson use if it has not been\r\n&gt; configured explicitly?\r\n\r\nIt uses the `ObjectMapper` configuration settings that are equals to `JsonInclude.Include.USE_DEFAULTS` for *content* and *value* fields (map entries and classes) :\r\n\r\n~~~\r\nObjectMapper objectMapper = new ObjectMapper();\r\nValue value = objectMapper.getSerializationConfig().getDefaultPropertyInclusion();\r\nSystem.out.println(value); //&lt;-- JsonInclude.Value(value=USE_DEFAULTS,content=USE_DEFAULTS)\r\n~~~\r\n\r\nYour second question:\r\n&gt; Also, can this default be relied on, or is it something that is\r\n&gt; frequently changed by other frameworks, e. g. Spring, during\r\n&gt; confiduration?\r\n\r\nFor Spring framework the initial configuration starts with the same values previously said, so unless you explicitely set it to new values or create a custom `ObjectMapper` you can rely on it.","title":"Which `JsonInclude.Include` value does Jackson use if it has not been configured explicitly?","body":"<p>Copying the text of your first question from the title of the post:</p>\n<blockquote>\n<p>Which JsonInclude.Include value does Jackson use if it has not been\nconfigured explicitly?</p>\n</blockquote>\n<p>It uses the <code>ObjectMapper</code> configuration settings that are equals to <code>JsonInclude.Include.USE_DEFAULTS</code> for <em>content</em> and <em>value</em> fields (map entries and classes) :</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nValue value = objectMapper.getSerializationConfig().getDefaultPropertyInclusion();\nSystem.out.println(value); //&lt;-- JsonInclude.Value(value=USE_DEFAULTS,content=USE_DEFAULTS)\n</code></pre>\n<p>Your second question:</p>\n<blockquote>\n<p>Also, can this default be relied on, or is it something that is\nfrequently changed by other frameworks, e. g. Spring, during\nconfiduration?</p>\n</blockquote>\n<p>For Spring framework the initial configuration starts with the same values previously said, so unless you explicitely set it to new values or create a custom <code>ObjectMapper</code> you can rely on it.</p>\n"}],"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643997742,"creation_date":1643901591,"question_id":70973830,"body_markdown":"The documentation on `JsonInclude.Include.USE_DEFAULTS` reads:\r\n\r\n&gt; Pseudo-value used to indicate that the higher-level defaults make sense, to avoid overriding inclusion value. For example, if returned for a property this would use defaults for the class that contains property, if any defined; and if none defined for that, then global serialization inclusion details.\r\n\r\nSo what does this global inclusion value default to?\r\n\r\nAlso, can this default be relied on, or is it something that is frequently changed by other frameworks, e. g. Spring, during confiduration?","title":"Which `JsonInclude.Include` value does Jackson use if it has not been configured explicitly?","body":"<p>The documentation on <code>JsonInclude.Include.USE_DEFAULTS</code> reads:</p>\n<blockquote>\n<p>Pseudo-value used to indicate that the higher-level defaults make sense, to avoid overriding inclusion value. For example, if returned for a property this would use defaults for the class that contains property, if any defined; and if none defined for that, then global serialization inclusion details.</p>\n</blockquote>\n<p>So what does this global inclusion value default to?</p>\n<p>Also, can this default be relied on, or is it something that is frequently changed by other frameworks, e. g. Spring, during confiduration?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":0,"creation_date":1443524393,"post_id":32842169,"comment_id":53518676,"body_markdown":"Show us what have you tried?","body":"Show us what have you tried?"},{"owner":{"account_id":5882708,"reputation":65,"user_id":4631614,"accept_rate":33,"display_name":"Daniel Stoica"},"score":0,"creation_date":1443524481,"post_id":32842169,"comment_id":53518733,"body_markdown":"Nothing that worked like I need it to work.","body":"Nothing that worked like I need it to work."},{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":6,"creation_date":1443524509,"post_id":32842169,"comment_id":53518749,"body_markdown":"[SO](http://stackoverflow.com/help/on-topic): Questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it.","body":"<a href=\"http://stackoverflow.com/help/on-topic\">SO</a>: Questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it."},{"owner":{"account_id":5871084,"reputation":695,"user_id":4623404,"display_name":"Daniel Rosano"},"score":0,"creation_date":1443524742,"post_id":32842169,"comment_id":53518893,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Calendar.html</a>"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1443525583,"post_id":32842169,"comment_id":53519447,"body_markdown":"What Java version are you using? Java SE 8?","body":"What Java version are you using? Java SE 8?"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1443525641,"post_id":32842169,"comment_id":53519480,"body_markdown":"Why did you add the &quot;webdriver&quot; tag? How is this question related?","body":"Why did you add the &quot;webdriver&quot; tag? How is this question related?"}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1443530903,"creation_date":1443524639,"answer_id":32842260,"question_id":32842169,"body_markdown":"    Calendar c = new GregorianCalendar();\r\n    c.setTime(new Date());\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;MMMM YYYY&quot;);\r\n    System.out.println(sdf.format(c.getTime()));   // NOW\r\n    c.add(Calendar.MONTH, -1);\r\n    System.out.println(sdf.format(c.getTime()));   // One month ago\r\n    c.add(Calendar.MONTH, -1);\r\n    System.out.println(sdf.format(c.getTime()));   // Two month ago","title":"How to get current month, previous month and two months ago","body":"<pre><code>Calendar c = new GregorianCalendar();\nc.setTime(new Date());\nSimpleDateFormat sdf = new SimpleDateFormat(\"MMMM YYYY\");\nSystem.out.println(sdf.format(c.getTime()));   // NOW\nc.add(Calendar.MONTH, -1);\nSystem.out.println(sdf.format(c.getTime()));   // One month ago\nc.add(Calendar.MONTH, -1);\nSystem.out.println(sdf.format(c.getTime()));   // Two month ago\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443524716,"creation_date":1443524716,"answer_id":32842291,"question_id":32842169,"body_markdown":" 1. Get the Months you need (Current, Current -1 and Current -2)  see\r\n    [here][1]\r\n 2. Get the Textual form of the Months like shown [here][2]\r\n\r\n  [1]: https://stackoverflow.com/questions/7182996/java-get-month-integer-from-date\r\n  [2]: https://stackoverflow.com/questions/1038570/how-can-i-convert-an-integer-to-localized-month-name-in-java","title":"How to get current month, previous month and two months ago","body":"<ol>\n<li>Get the Months you need (Current, Current -1 and Current -2)  see\n<a href=\"https://stackoverflow.com/questions/7182996/java-get-month-integer-from-date\">here</a></li>\n<li>Get the Textual form of the Months like shown <a href=\"https://stackoverflow.com/questions/1038570/how-can-i-convert-an-integer-to-localized-month-name-in-java\">here</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4053412,"reputation":1135,"user_id":3332186,"accept_rate":22,"display_name":"Pankaj Saboo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443526395,"creation_date":1443526395,"answer_id":32842819,"question_id":32842169,"body_markdown":"    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.GregorianCalendar;\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n    Date currentDate = null;\r\n    String dateString = null;\r\n    try {\r\n        Calendar c = new GregorianCalendar();\r\n        c.set(Calendar.HOUR_OF_DAY, 0); // anything 0 - 23\r\n        c.set(Calendar.MINUTE, 0);\r\n        c.set(Calendar.SECOND, 0);\r\n        //c.add(Calendar.MONTH, -1);//previous month\r\n        //c.add(Calendar.MONTH, -2);//two months back\r\n        currentDate = c.getTime(); // the midnight, that&#39;s the first second\r\n        // of the day.\r\n\r\n\r\n        SimpleDateFormat sdfr = new SimpleDateFormat(&quot;MMMM yyyy&quot;);\r\n        dateString = sdfr.format(currentDate);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    System.out.println(dateString); //prints current date\r\n}","title":"How to get current month, previous month and two months ago","body":"<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.GregorianCalendar;\n\npublic static void main(String[] args) {\n\n\nDate currentDate = null;\nString dateString = null;\ntry {\n    Calendar c = new GregorianCalendar();\n    c.set(Calendar.HOUR_OF_DAY, 0); // anything 0 - 23\n    c.set(Calendar.MINUTE, 0);\n    c.set(Calendar.SECOND, 0);\n    //c.add(Calendar.MONTH, -1);//previous month\n    //c.add(Calendar.MONTH, -2);//two months back\n    currentDate = c.getTime(); // the midnight, that's the first second\n    // of the day.\n\n\n    SimpleDateFormat sdfr = new SimpleDateFormat(\"MMMM yyyy\");\n    dateString = sdfr.format(currentDate);\n} catch (Exception e) {\n    e.printStackTrace();\n}\nSystem.out.println(dateString); //prints current date\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2721223,"reputation":7815,"user_id":2347483,"display_name":"Phylogenesis"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1443529319,"creation_date":1443528985,"answer_id":32843814,"question_id":32842169,"body_markdown":"A Java 8 version (using the [`java.time.YearMonth`](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html) class) is [here](http://ideone.com/4LqrrP).\r\n\r\n    YearMonth thisMonth    = YearMonth.now();\r\n    YearMonth lastMonth    = thisMonth.minusMonths(1);\r\n    YearMonth twoMonthsAgo = thisMonth.minusMonths(2);\r\n\r\n    DateTimeFormatter monthYearFormatter = DateTimeFormatter.ofPattern(&quot;MMMM yyyy&quot;);\r\n\r\n    System.out.printf(&quot;Today: %s\\n&quot;, thisMonth.format(monthYearFormatter));\r\n    System.out.printf(&quot;Last Month: %s\\n&quot;, lastMonth.format(monthYearFormatter));\r\n    System.out.printf(&quot;Two Months Ago: %s\\n&quot;, twoMonthsAgo.format(monthYearFormatter));\r\n\r\nThis prints the following:\r\n\r\n&gt; Today: September 2015\r\n&gt;\r\n&gt; Last Month: August 2015\r\n&gt;\r\n&gt; Two Months Ago: July 2015\r\n","title":"How to get current month, previous month and two months ago","body":"<p>A Java 8 version (using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"noreferrer\"><code>java.time.YearMonth</code></a> class) is <a href=\"http://ideone.com/4LqrrP\" rel=\"noreferrer\">here</a>.</p>\n\n<pre><code>YearMonth thisMonth    = YearMonth.now();\nYearMonth lastMonth    = thisMonth.minusMonths(1);\nYearMonth twoMonthsAgo = thisMonth.minusMonths(2);\n\nDateTimeFormatter monthYearFormatter = DateTimeFormatter.ofPattern(\"MMMM yyyy\");\n\nSystem.out.printf(\"Today: %s\\n\", thisMonth.format(monthYearFormatter));\nSystem.out.printf(\"Last Month: %s\\n\", lastMonth.format(monthYearFormatter));\nSystem.out.printf(\"Two Months Ago: %s\\n\", twoMonthsAgo.format(monthYearFormatter));\n</code></pre>\n\n<p>This prints the following:</p>\n\n<blockquote>\n  <p>Today: September 2015</p>\n  \n  <p>Last Month: August 2015</p>\n  \n  <p>Two Months Ago: July 2015</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21610968,"reputation":279,"user_id":15937552,"display_name":"Anne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643997698,"creation_date":1643997698,"answer_id":70990885,"question_id":32842169,"body_markdown":"Below is an example using `LocalDate` written in Kotlin.\r\n\r\n    import java.time.LocalDate\r\n    import java.time.format.TextStyle\r\n    import java.util.Locale\r\n\r\n    val currentMonth = LocalDate.now().month.getDisplayName(TextStyle.FULL, Locale.getDefault()) //February\r\n    val prevMonth = LocalDate.now().minusMonths(1).getDisplayName(TextStyle.FULL, Locale.getDefault()) //January\r\n    val twoMonthsAgo = LocalDate.now().minusMonths(2) //DECEMBER","title":"How to get current month, previous month and two months ago","body":"<p>Below is an example using <code>LocalDate</code> written in Kotlin.</p>\n<pre><code>import java.time.LocalDate\nimport java.time.format.TextStyle\nimport java.util.Locale\n\nval currentMonth = LocalDate.now().month.getDisplayName(TextStyle.FULL, Locale.getDefault()) //February\nval prevMonth = LocalDate.now().minusMonths(1).getDisplayName(TextStyle.FULL, Locale.getDefault()) //January\nval twoMonthsAgo = LocalDate.now().minusMonths(2) //DECEMBER\n</code></pre>\n"}],"owner":{"account_id":5882708,"reputation":65,"user_id":4631614,"accept_rate":33,"display_name":"Daniel Stoica"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32168,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"accepted_answer_id":32843814,"answer_count":5,"score":-3,"last_activity_date":1643997698,"creation_date":1443524357,"question_id":32842169,"body_markdown":"I need a function that will return three strings:\r\n\r\n 1. first string will contain the current month and the current year.\r\n 2. second string will contain the previous month and current year.\r\n 3. third string will contain two months ago and current year.\r\n\r\nThis, of course, should also work if current month is January, for example.\r\n\r\nSo right now, the results should be:\r\n\r\n - September 2015\r\n - August 2015\r\n - July 2015","title":"How to get current month, previous month and two months ago","body":"<p>I need a function that will return three strings:</p>\n\n<ol>\n<li>first string will contain the current month and the current year.</li>\n<li>second string will contain the previous month and current year.</li>\n<li>third string will contain two months ago and current year.</li>\n</ol>\n\n<p>This, of course, should also work if current month is January, for example.</p>\n\n<p>So right now, the results should be:</p>\n\n<ul>\n<li>September 2015</li>\n<li>August 2015</li>\n<li>July 2015</li>\n</ul>\n"},{"tags":["java","spring","groovy","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643997657,"creation_date":1643997657,"answer_id":70990879,"question_id":70990040,"body_markdown":"You&#39;re using wrong version of the plugin. Look that you&#39;re using contract in version 3.0.x through the 2020.0.x release train plugin. Since the old plugin generates junit4 tests the latest boot doesn&#39;t run it. Just upgrade the plugin to the latest 3.0.x version.","title":"Spring Cloud Contract ContractVerifierTest.java not generated","body":"<p>You're using wrong version of the plugin. Look that you're using contract in version 3.0.x through the 2020.0.x release train plugin. Since the old plugin generates junit4 tests the latest boot doesn't run it. Just upgrade the plugin to the latest 3.0.x version.</p>\n"}],"owner":{"account_id":21774978,"reputation":45,"user_id":16077546,"display_name":"BlueRey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643997657,"creation_date":1643993545,"question_id":70990040,"body_markdown":"So I&#39;m trying to write contracts in Java, but the problem is that the verifying tests are not running at all. I&#39;ve tried writing contracts in Groovy and it runs fine, I don&#39;t know what&#39;s the difference.\r\n\r\nIs there some configuration I&#39;m missing for the plugin? I&#39;m following an example project from [here](https://github.com/spring-cloud-samples/spring-cloud-contract-samples/blob/main/producer_java/pom.xml).\r\n\r\nThis is the `pom.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;contract_producer&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;contract_producer&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.5&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-contract-verifier&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-contract-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\r\n\t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;testFramework&gt;JUNIT5&lt;/testFramework&gt;\r\n\t\t\t\t\t&lt;baseClassForTests&gt;\r\n\t\t\t\t\t\tcom.example.contract_producer.contracts.BaseTest\r\n\t\t\t\t\t&lt;/baseClassForTests&gt;\r\n\t\t\t\t\t&lt;contractsDirectory&gt;src/test/java/contracts&lt;/contractsDirectory&gt;\r\n\t\t\t\t\t&lt;depedencies&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;spring-cloud-starter-contract-verifier&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${spring-cloud-contract.version}&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/depedencies&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the contract written in Java\r\n```\r\npackage contracts;\r\n\r\nimport org.springframework.cloud.contract.spec.Contract;\r\n\r\nimport java.util.function.Consumer;\r\nimport java.util.function.Supplier;\r\n\r\npublic class UserControllerContracts implements Supplier&lt;Contract&gt; {\r\n    @Override\r\n    public Contract get() {\r\n        return Contract.make(new Consumer&lt;Contract&gt;() {\r\n            @Override\r\n            public void accept(Contract c) {\r\n                c.name(&quot;Get All User Contract&quot;);\r\n                c.description(&quot;Contract for /users and /user/all&quot;);\r\n                \r\n                c.request(request -&gt; {\r\n                    request.method(request.GET());\r\n                    request.url(&quot;/user/all&quot;);\r\n                });\r\n    \r\n                c.response(response -&gt; {\r\n                    response.status(response.OK());\r\n                    response.body(&quot;[{\\&quot;id\\&quot;:1,\\&quot;email\\&quot;:\\&quot;user@email.com\\&quot;,\\&quot;password\\&quot;:\\&quot;password\\&quot;,\\&quot;name\\&quot;:\\&quot;User\\&quot;}]&quot;);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    public static class User {\r\n        Integer id;\r\n        String email;\r\n        String password;\r\n        String name;\r\n\r\n        public User(Integer id, String email, String password, String name) {\r\n            this.id = id;\r\n            this.email = email;\r\n            this.password = password;\r\n            this.name = name;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the contract written in Groovy\r\n```\r\npackage contracts\r\n\r\nimport org.springframework.cloud.contract.spec.Contract\r\n\r\nContract.make {\r\n    description &#39;Should return all user in database&#39;\r\n\r\n    request {\r\n        method GET()\r\n        url &#39;/user/all&#39;\r\n    }\r\n\r\n    response {\r\n        status OK()\r\n        headers {\r\n            contentType applicationJson()\r\n        }\r\n        body &#39;&#39;&#39;\r\n            [{\r\n                &quot;id&quot;: 1,\r\n                &quot;email&quot;: &quot;user@email.com&quot;,\r\n                &quot;password&quot;: &quot;password&quot;,\r\n                &quot;name&quot;: &quot;User&quot;\r\n            }]\r\n        &#39;&#39;&#39;\r\n    }\r\n}\r\n```","title":"Spring Cloud Contract ContractVerifierTest.java not generated","body":"<p>So I'm trying to write contracts in Java, but the problem is that the verifying tests are not running at all. I've tried writing contracts in Groovy and it runs fine, I don't know what's the difference.</p>\n<p>Is there some configuration I'm missing for the plugin? I'm following an example project from <a href=\"https://github.com/spring-cloud-samples/spring-cloud-contract-samples/blob/main/producer_java/pom.xml\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>This is the <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;contract_producer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;contract_producer&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.5&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-contract-verifier&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-contract-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;testFramework&gt;JUNIT5&lt;/testFramework&gt;\n                    &lt;baseClassForTests&gt;\n                        com.example.contract_producer.contracts.BaseTest\n                    &lt;/baseClassForTests&gt;\n                    &lt;contractsDirectory&gt;src/test/java/contracts&lt;/contractsDirectory&gt;\n                    &lt;depedencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-cloud-starter-contract-verifier&lt;/artifactId&gt;\n                            &lt;version&gt;${spring-cloud-contract.version}&lt;/version&gt;\n                            &lt;scope&gt;compile&lt;/scope&gt;\n                        &lt;/dependency&gt;\n                    &lt;/depedencies&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the contract written in Java</p>\n<pre><code>package contracts;\n\nimport org.springframework.cloud.contract.spec.Contract;\n\nimport java.util.function.Consumer;\nimport java.util.function.Supplier;\n\npublic class UserControllerContracts implements Supplier&lt;Contract&gt; {\n    @Override\n    public Contract get() {\n        return Contract.make(new Consumer&lt;Contract&gt;() {\n            @Override\n            public void accept(Contract c) {\n                c.name(&quot;Get All User Contract&quot;);\n                c.description(&quot;Contract for /users and /user/all&quot;);\n                \n                c.request(request -&gt; {\n                    request.method(request.GET());\n                    request.url(&quot;/user/all&quot;);\n                });\n    \n                c.response(response -&gt; {\n                    response.status(response.OK());\n                    response.body(&quot;[{\\&quot;id\\&quot;:1,\\&quot;email\\&quot;:\\&quot;user@email.com\\&quot;,\\&quot;password\\&quot;:\\&quot;password\\&quot;,\\&quot;name\\&quot;:\\&quot;User\\&quot;}]&quot;);\n                });\n            }\n        });\n    }\n\n    public static class User {\n        Integer id;\n        String email;\n        String password;\n        String name;\n\n        public User(Integer id, String email, String password, String name) {\n            this.id = id;\n            this.email = email;\n            this.password = password;\n            this.name = name;\n        }\n    }\n}\n</code></pre>\n<p>This is the contract written in Groovy</p>\n<pre><code>package contracts\n\nimport org.springframework.cloud.contract.spec.Contract\n\nContract.make {\n    description 'Should return all user in database'\n\n    request {\n        method GET()\n        url '/user/all'\n    }\n\n    response {\n        status OK()\n        headers {\n            contentType applicationJson()\n        }\n        body '''\n            [{\n                &quot;id&quot;: 1,\n                &quot;email&quot;: &quot;user@email.com&quot;,\n                &quot;password&quot;: &quot;password&quot;,\n                &quot;name&quot;: &quot;User&quot;\n            }]\n        '''\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","design-patterns","entity","dto"],"comments":[{"owner":{"account_id":9247860,"reputation":80,"user_id":6869216,"display_name":"Mikel Dalmau"},"score":3,"creation_date":1513684349,"post_id":47886322,"comment_id":82738339,"body_markdown":"I think the use of the repository is correct. I do this all the time in my application when converting from DTO to DO and I don&#39;t know any other way that bypasses the query.","body":"I think the use of the repository is correct. I do this all the time in my application when converting from DTO to DO and I don&#39;t know any other way that bypasses the query."},{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":2,"creation_date":1513685634,"post_id":47886322,"comment_id":82739162,"body_markdown":"I asked a quite similar question some days ago. Maybe this can help you https://stackoverflow.com/questions/47843039/how-to-properly-convert-domain-entities-to-dtos-while-considering-scalability","body":"I asked a quite similar question some days ago. Maybe this can help you <a href=\"https://stackoverflow.com/questions/47843039/how-to-properly-convert-domain-entities-to-dtos-while-considering-scalability\" title=\"how to properly convert domain entities to dtos while considering scalability\">stackoverflow.com/questions/47843039/&hellip;</a>"},{"owner":{"account_id":5160541,"reputation":357,"user_id":5332993,"accept_rate":40,"display_name":"Satyendra Kumar"},"score":0,"creation_date":1559276674,"post_id":47886322,"comment_id":99376772,"body_markdown":"Converter shouldn&#39;t be dependent on other logic especially DB logic. If you choose latter, it will be lot easier to test, as in you can pass roles you desire without injecting repository as in first approach.","body":"Converter shouldn&#39;t be dependent on other logic especially DB logic. If you choose latter, it will be lot easier to test, as in you can pass roles you desire without injecting repository as in first approach."},{"owner":{"account_id":19234544,"reputation":1,"user_id":14055764,"display_name":"Dmitry Dzerjinsky"},"score":0,"creation_date":1596651050,"post_id":47886322,"comment_id":111888968,"body_markdown":"I think domain should not be responsible for DTO transfer.\nIt does not know about DTO coming from outside.\nInfrastructure layer should map DTO into domain (VO)","body":"I think domain should not be responsible for DTO transfer. It does not know about DTO coming from outside. Infrastructure layer should map DTO into domain (VO)"}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1513685875,"creation_date":1513685554,"answer_id":47886764,"question_id":47886322,"body_markdown":"If you have a service layer, it would make more sense to use it to do the conversion or make it delegate the task to the converter.&lt;br&gt;\r\nIdeally, converters should be just converters : a mapper object, not a service.&lt;br&gt;\r\nNow if the logic is not too complex and converters are not reusable, you may mix service processing with mapping processing and in this case you could replace the `Converter` prefix by `Service`.&lt;br&gt;\r\n\r\nAnd also it would seem nicer if only the services communicate with the repository.&lt;br&gt;\r\nOtherwise layers become blur and the design messy : we don&#39;t know really any longer who invokes who.\r\n\r\nI would do things in this way :&lt;br&gt;\r\n\r\n    controller -&gt; service -&gt; converter \r\n                          -&gt; repository\r\n\r\nor a service that performs  itself the conversion (it conversion is not too complex and it is not reusable) :&lt;br&gt;\r\n\r\n    controller -&gt; service -&gt;  repository            \r\n\r\n\r\n----------\r\n\r\nNow to be honest I hate DTO as these are just data duplicates.&lt;br&gt;\r\nI introduce them only as the client requirements in terms of information differ from the entity representation and that it makes really clearer to have a custom class (that in this case is not a duplicate).&lt;br&gt;\r\n\r\n\r\n\r\n","title":"DTO conveter pattern in Spring Boot","body":"<p>If you have a service layer, it would make more sense to use it to do the conversion or make it delegate the task to the converter.<br>\nIdeally, converters should be just converters : a mapper object, not a service.<br>\nNow if the logic is not too complex and converters are not reusable, you may mix service processing with mapping processing and in this case you could replace the <code>Converter</code> prefix by <code>Service</code>.<br></p>\n\n<p>And also it would seem nicer if only the services communicate with the repository.<br>\nOtherwise layers become blur and the design messy : we don't know really any longer who invokes who.</p>\n\n<p>I would do things in this way :<br></p>\n\n<pre><code>controller -&gt; service -&gt; converter \n                      -&gt; repository\n</code></pre>\n\n<p>or a service that performs  itself the conversion (it conversion is not too complex and it is not reusable) :<br></p>\n\n<pre><code>controller -&gt; service -&gt;  repository            \n</code></pre>\n\n<hr>\n\n<p>Now to be honest I hate DTO as these are just data duplicates.<br>\nI introduce them only as the client requirements in terms of information differ from the entity representation and that it makes really clearer to have a custom class (that in this case is not a duplicate).<br></p>\n"},{"tags":[],"owner":{"account_id":259000,"reputation":303,"user_id":7673548,"accept_rate":83,"display_name":"jonarya"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559468186,"creation_date":1559468186,"answer_id":56413870,"question_id":47886322,"body_markdown":"Instead of creating separate convertor clas, you can give that responsibility to Entity class itself.\r\n\r\n    public class UserEntity {\r\n        // properties\r\n    \r\n        public static UserEntity valueOf(UserDTO userDTO) {\r\n            UserEntity userEntity = new UserEntity();\r\n            // set values;\r\n            return userEntity;\r\n        }\r\n    \r\n        public UserDTO toDto() {\r\n            UserDTO userDTO = new UserDTO();\r\n            // set values\r\n            return userDTO;\r\n        }\r\n    }\r\n\r\nUsage;\r\n\r\n    UserEntity userEntity = UserEntity.valueOf(userDTO);\r\n    UserDTO userDTO = userEntity.toDto();\r\n\r\nIn this way you have your domain in one place. You can use Spring BeanUtils to set properties.\r\nYou can do the same for RoleEntity and decide whether to lazy/eager load when loading UserEntity using ORM tool.\r\n","title":"DTO conveter pattern in Spring Boot","body":"<p>Instead of creating separate convertor clas, you can give that responsibility to Entity class itself.</p>\n\n<pre><code>public class UserEntity {\n    // properties\n\n    public static UserEntity valueOf(UserDTO userDTO) {\n        UserEntity userEntity = new UserEntity();\n        // set values;\n        return userEntity;\n    }\n\n    public UserDTO toDto() {\n        UserDTO userDTO = new UserDTO();\n        // set values\n        return userDTO;\n    }\n}\n</code></pre>\n\n<p>Usage;</p>\n\n<pre><code>UserEntity userEntity = UserEntity.valueOf(userDTO);\nUserDTO userDTO = userEntity.toDto();\n</code></pre>\n\n<p>In this way you have your domain in one place. You can use Spring BeanUtils to set properties.\nYou can do the same for RoleEntity and decide whether to lazy/eager load when loading UserEntity using ORM tool.</p>\n"},{"tags":[],"owner":{"account_id":6905413,"reputation":150,"user_id":5303491,"accept_rate":29,"display_name":"g.kanellis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559569105,"creation_date":1559569105,"answer_id":56428565,"question_id":47886322,"body_markdown":"I suggest that you just use [Mapstruct][1] to solve this kind of entity to dto convertion issue that you are facing. Through an annotation processor the mappings from dto to entity and vice versa are generated automatically and you just have to inject a reference from your mapper to your controller just like you normally would do with your repositories (`@Autowired`).\r\n\r\nYou can also check out [this][2] example to see if it fit your needs.\r\n\r\n\r\n  [1]: http://mapstruct.org/\r\n  [2]: http://mapstruct.org/#get-started","title":"DTO conveter pattern in Spring Boot","body":"<p>I suggest that you just use <a href=\"http://mapstruct.org/\" rel=\"nofollow noreferrer\">Mapstruct</a> to solve this kind of entity to dto convertion issue that you are facing. Through an annotation processor the mappings from dto to entity and vice versa are generated automatically and you just have to inject a reference from your mapper to your controller just like you normally would do with your repositories (<code>@Autowired</code>).</p>\n\n<p>You can also check out <a href=\"http://mapstruct.org/#get-started\" rel=\"nofollow noreferrer\">this</a> example to see if it fit your needs.</p>\n"},{"tags":[],"owner":{"account_id":3525628,"reputation":83,"user_id":2946827,"display_name":"TyrusB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559605032,"creation_date":1559605032,"answer_id":56435732,"question_id":47886322,"body_markdown":"That&#39;s the way I&#39;d likely do it. The way I&#39;d conceptualize it is that the User converter is responsible for user / user dto conversions, and as such it rightly shouldn&#39;t be responsible for role / role dto conversion. In your case, the role repository is acting implicitly as a role converter that the user converter is delegating to. Maybe someone with more in-depth knowledge of SOLID can correct me if I&#39;m wrong, but personally I feel like that checks out. \r\n\r\nThe one hesitation I would have, though, would be the fact that you&#39;re tying the notion of conversion to a DB operation which isn&#39;t necessarily intuitive, and I&#39;d want to be careful that months or years into the future some developer doesn&#39;t inadvertently grab the component and use it without understanding the performance considerations (assuming you&#39;re developing on a larger project, anyways). I might consider creating some decorator class around the role repository that incorporates caching logic.\r\n\r\n","title":"DTO conveter pattern in Spring Boot","body":"<p>That's the way I'd likely do it. The way I'd conceptualize it is that the User converter is responsible for user / user dto conversions, and as such it rightly shouldn't be responsible for role / role dto conversion. In your case, the role repository is acting implicitly as a role converter that the user converter is delegating to. Maybe someone with more in-depth knowledge of SOLID can correct me if I'm wrong, but personally I feel like that checks out. </p>\n\n<p>The one hesitation I would have, though, would be the fact that you're tying the notion of conversion to a DB operation which isn't necessarily intuitive, and I'd want to be careful that months or years into the future some developer doesn't inadvertently grab the component and use it without understanding the performance considerations (assuming you're developing on a larger project, anyways). I might consider creating some decorator class around the role repository that incorporates caching logic.</p>\n"},{"tags":[],"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559678977,"creation_date":1559678977,"answer_id":56450681,"question_id":47886322,"body_markdown":"Try to decouple the conversion from the other layers as much as possible:\r\n\r\n    public class UserConverter implements Converter&lt;UserEntity, UserDto&gt; {\r\n       private final Function&lt;String, RoleEntity&gt; roleResolver;\r\n    \r\n       @Override\r\n       public UserEntity createFrom(final UserDto dto) {\r\n           UserEntity userEntity = new UserEntity();\r\n           Role role = roleResolver.apply(dto.getRoleName());\r\n           userEntity.setName(dto.getName());\r\n           userEntity.setRole(role);\r\n           return userEntity;\r\n      }\r\n    }\r\n    \r\n    @Configuration\r\n    class MyConverterConfiguration {\r\n      @Bean\r\n      public Converter&lt;UserEntity, UserDto&gt; userEntityConverter(\r\n                   @Autowired RoleRepository roleRepository\r\n      ) {\r\n        return new UserConverter(roleRepository::findByRoleName)\r\n      }\r\n    }\r\n\r\nYou could even define a custom `Converter&lt;RoleEntity, String&gt;` but that may stretch the whole abstraction a bit too far.\r\n\r\nAs some other pointed out this kind of abstraction hides a part of the application that may perform very poorly when used for collections (as DB queries could normally be batched. I would advice you to define a `Converter&lt;List&lt;UserEntity&gt;, List&lt;UserDto&gt;&gt;` which may seem a little cumbersome when converting a single object but you are now able to batch your database requests instead of querying one by one - the user cannot use said converter wrong (assuming no ill intention).\r\n\r\nTake a look at [MapStruct][1] or [ModelMapper][2] if you would like to have some more comfort when defining your converters. And last but not least give [datus][3] a shot (disclaimer: I am the author), it lets you define your mapping in a fluent way without any implicit functionality:\r\n\r\n    @Configuration\r\n    class MyConverterConfiguration {\r\n    \r\n      @Bean\r\n      public Mapper&lt;UserDto, UserEntity&gt; userDtoCnoverter(@Autowired RoleRepository roleRepository) {\r\n          Mapper&lt;UserDto, UserEntity&gt; mapper = Datus.forTypes(UserDto.class, UserEntity.class)\r\n            .mutable(UserEntity::new)\r\n            .from(UserDto::getName).into(UserEntity::setName)\r\n            .from(UserDto::getRole).map(roleRepository::findByRoleName).into(UserEntity::setRole)\r\n            .build();\r\n          return mapper;\r\n      }\r\n    }\r\n(This example would still suffer from the db bottleneck when converting a `Collection&lt;UserDto&gt;`\r\n\r\nI would argue this would be the most SOLID approach, but the given context / scenario is suffering from unextractable dependencies with performance implications which makes me think that forcing SOLID might be a bad idea here. It&#39;s a trade-off\r\n\r\n\r\n  [1]: http://mapstruct.org/\r\n  [2]: http://modelmapper.org/\r\n  [3]: https://github.com/roookeee/datus","title":"DTO conveter pattern in Spring Boot","body":"<p>Try to decouple the conversion from the other layers as much as possible:</p>\n\n<pre><code>public class UserConverter implements Converter&lt;UserEntity, UserDto&gt; {\n   private final Function&lt;String, RoleEntity&gt; roleResolver;\n\n   @Override\n   public UserEntity createFrom(final UserDto dto) {\n       UserEntity userEntity = new UserEntity();\n       Role role = roleResolver.apply(dto.getRoleName());\n       userEntity.setName(dto.getName());\n       userEntity.setRole(role);\n       return userEntity;\n  }\n}\n\n@Configuration\nclass MyConverterConfiguration {\n  @Bean\n  public Converter&lt;UserEntity, UserDto&gt; userEntityConverter(\n               @Autowired RoleRepository roleRepository\n  ) {\n    return new UserConverter(roleRepository::findByRoleName)\n  }\n}\n</code></pre>\n\n<p>You could even define a custom <code>Converter&lt;RoleEntity, String&gt;</code> but that may stretch the whole abstraction a bit too far.</p>\n\n<p>As some other pointed out this kind of abstraction hides a part of the application that may perform very poorly when used for collections (as DB queries could normally be batched. I would advice you to define a <code>Converter&lt;List&lt;UserEntity&gt;, List&lt;UserDto&gt;&gt;</code> which may seem a little cumbersome when converting a single object but you are now able to batch your database requests instead of querying one by one - the user cannot use said converter wrong (assuming no ill intention).</p>\n\n<p>Take a look at <a href=\"http://mapstruct.org/\" rel=\"noreferrer\">MapStruct</a> or <a href=\"http://modelmapper.org/\" rel=\"noreferrer\">ModelMapper</a> if you would like to have some more comfort when defining your converters. And last but not least give <a href=\"https://github.com/roookeee/datus\" rel=\"noreferrer\">datus</a> a shot (disclaimer: I am the author), it lets you define your mapping in a fluent way without any implicit functionality:</p>\n\n<pre><code>@Configuration\nclass MyConverterConfiguration {\n\n  @Bean\n  public Mapper&lt;UserDto, UserEntity&gt; userDtoCnoverter(@Autowired RoleRepository roleRepository) {\n      Mapper&lt;UserDto, UserEntity&gt; mapper = Datus.forTypes(UserDto.class, UserEntity.class)\n        .mutable(UserEntity::new)\n        .from(UserDto::getName).into(UserEntity::setName)\n        .from(UserDto::getRole).map(roleRepository::findByRoleName).into(UserEntity::setRole)\n        .build();\n      return mapper;\n  }\n}\n</code></pre>\n\n<p>(This example would still suffer from the db bottleneck when converting a <code>Collection&lt;UserDto&gt;</code></p>\n\n<p>I would argue this would be the most SOLID approach, but the given context / scenario is suffering from unextractable dependencies with performance implications which makes me think that forcing SOLID might be a bad idea here. It's a trade-off</p>\n"},{"tags":[],"owner":{"account_id":14766609,"reputation":4337,"user_id":10664446,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559765997,"creation_date":1559765997,"answer_id":56467444,"question_id":47886322,"body_markdown":"personally, converters should be between your controllers and services, the only things DTOs should worry about is the data in your service layer and how which information to expose to your controllers.\r\n\r\n    controllers &lt;-&gt; converters &lt;-&gt; services ... \r\n\r\nin your case, you can make use of JPA to populate roles of your users at the persistence layer.\r\n\r\n","title":"DTO conveter pattern in Spring Boot","body":"<p>personally, converters should be between your controllers and services, the only things DTOs should worry about is the data in your service layer and how which information to expose to your controllers.</p>\n\n<pre><code>controllers &lt;-&gt; converters &lt;-&gt; services ... \n</code></pre>\n\n<p>in your case, you can make use of JPA to populate roles of your users at the persistence layer.</p>\n"},{"tags":[],"owner":{"account_id":24157948,"reputation":11,"user_id":18121933,"display_name":"Sebastian Gamaga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643997613,"creation_date":1643997613,"answer_id":70990874,"question_id":47886322,"body_markdown":"I think the way to do it cleanly is to include a Role DTO that you convert to the RoleEntity. I might use a simplified User DTO in case that it is read only. For example, in case of unprivileged access.\r\n\r\nTo expand your example\r\n\r\n    public class UserDto {\r\n     private Long id;\r\n     private String name;\r\n     private RoleDto role;\r\n    }\r\n\r\nwith the Role DTO as \r\n\r\n    public class RoleDto {\r\n      private Long id;\r\n      private String roleName;\r\n    }\r\n\r\nAnd the JSON \r\n\r\n    { \r\n      id: 1,\r\n      name: &quot;user&quot;, \r\n      role: {\r\n       id: 123,\r\n       roleName: &quot;manager&quot;\r\n    }\r\n\r\nThen you can convert the RoleDto to RoleEntity while converting the User in your UserConverter and remove the repository access.\r\n","title":"DTO conveter pattern in Spring Boot","body":"<p>I think the way to do it cleanly is to include a Role DTO that you convert to the RoleEntity. I might use a simplified User DTO in case that it is read only. For example, in case of unprivileged access.</p>\n<p>To expand your example</p>\n<pre><code>public class UserDto {\n private Long id;\n private String name;\n private RoleDto role;\n}\n</code></pre>\n<p>with the Role DTO as</p>\n<pre><code>public class RoleDto {\n  private Long id;\n  private String roleName;\n}\n</code></pre>\n<p>And the JSON</p>\n<pre><code>{ \n  id: 1,\n  name: &quot;user&quot;, \n  role: {\n   id: 123,\n   roleName: &quot;manager&quot;\n}\n</code></pre>\n<p>Then you can convert the RoleDto to RoleEntity while converting the User in your UserConverter and remove the repository access.</p>\n"}],"owner":{"account_id":9330948,"reputation":2699,"user_id":7179509,"accept_rate":78,"display_name":"Maksym"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15676,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":7,"score":13,"last_activity_date":1643997613,"creation_date":1513684036,"question_id":47886322,"body_markdown":"The main question is how to convert **DTOs to entities** and **entities to Dtos** without breaking [SOLID][1] principles. &lt;br&gt;\r\nFor example we have such json:\r\n\r\n    { id: 1,\r\n      name: &quot;user&quot;, \r\n      role: &quot;manager&quot; \r\n    } \r\n DTO is:\r\n\r\n    public class UserDto {\r\n     private Long id;\r\n     private String name;\r\n     private String roleName;\r\n    }\r\nAnd entities are: &lt;br&gt;\r\n\r\n    public class UserEntity {\r\n      private Long id;\r\n      private String name;\r\n      private Role role\r\n    } \r\n    public class RoleEntity {\r\n      private Long id;\r\n      private String roleName;\r\n    }\r\nAnd there is usefull [Java 8 DTO conveter pattern][2].\r\n\r\nBut in their example there is no OneToMany relations. In order to create UserEntity I need get Role by roleName using dao layer (service layer). Can I inject UserRepository (or UserService) into conveter. Because it seems that converter component will break [SRP][3], it must convert only, must not know about services or repositories.\r\n\r\nConverter example:\r\n\r\n    @Component\r\n    public class UserConverter implements Converter&lt;UserEntity, UserDto&gt; {\r\n       @Autowired\r\n       private RoleRepository roleRepository;    \r\n\r\n       @Override\r\n       public UserEntity createFrom(final UserDto dto) {\r\n           UserEntity userEntity = new UserEntity();\r\n           Role role = roleRepository.findByRoleName(dto.getRoleName());\r\n           userEntity.setName(dto.getName());\r\n           userEntity.setRole(role);\r\n           return userEntity;\r\n       }\r\n    \r\n       ....\r\n\r\nIs it good to use repository in the conveter class? Or should I create another service/component that will be responsible for creating entities from DTOs (like UserFactory)?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\r\n  [2]: https://bulldogjob.com/articles/287-converter-pattern-in-java-8\r\n  [3]: https://en.wikipedia.org/wiki/Single_responsibility_principle","title":"DTO conveter pattern in Spring Boot","body":"<p>The main question is how to convert <strong>DTOs to entities</strong> and <strong>entities to Dtos</strong> without breaking <a href=\"https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\" rel=\"noreferrer\">SOLID</a> principles. <br>\nFor example we have such json:</p>\n\n<pre><code>{ id: 1,\n  name: \"user\", \n  role: \"manager\" \n} \n</code></pre>\n\n<p>DTO is:</p>\n\n<pre><code>public class UserDto {\n private Long id;\n private String name;\n private String roleName;\n}\n</code></pre>\n\n<p>And entities are: <br></p>\n\n<pre><code>public class UserEntity {\n  private Long id;\n  private String name;\n  private Role role\n} \npublic class RoleEntity {\n  private Long id;\n  private String roleName;\n}\n</code></pre>\n\n<p>And there is usefull <a href=\"https://bulldogjob.com/articles/287-converter-pattern-in-java-8\" rel=\"noreferrer\">Java 8 DTO conveter pattern</a>.</p>\n\n<p>But in their example there is no OneToMany relations. In order to create UserEntity I need get Role by roleName using dao layer (service layer). Can I inject UserRepository (or UserService) into conveter. Because it seems that converter component will break <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">SRP</a>, it must convert only, must not know about services or repositories.</p>\n\n<p>Converter example:</p>\n\n<pre><code>@Component\npublic class UserConverter implements Converter&lt;UserEntity, UserDto&gt; {\n   @Autowired\n   private RoleRepository roleRepository;    \n\n   @Override\n   public UserEntity createFrom(final UserDto dto) {\n       UserEntity userEntity = new UserEntity();\n       Role role = roleRepository.findByRoleName(dto.getRoleName());\n       userEntity.setName(dto.getName());\n       userEntity.setRole(role);\n       return userEntity;\n   }\n\n   ....\n</code></pre>\n\n<p>Is it good to use repository in the conveter class? Or should I create another service/component that will be responsible for creating entities from DTOs (like UserFactory)?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":3,"creation_date":1643988507,"post_id":70988802,"comment_id":125492872,"body_markdown":"why do you want the context of another activity, android specifically only has one active activity at a time. `Is this possible` probably, but you most definitely shouldn&#39;t be even attempting it","body":"why do you want the context of another activity, android specifically only has one active activity at a time. <code>Is this possible</code> probably, but you most definitely shouldn&#39;t be even attempting it"},{"owner":{"account_id":16932872,"reputation":43,"user_id":12246668,"display_name":"Tamim Houssin"},"score":0,"creation_date":1643990299,"post_id":70988802,"comment_id":125493704,"body_markdown":"I&#39;m a beginner in Android applications, so there is no way thanks again","body":"I&#39;m a beginner in Android applications, so there is no way thanks again"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643992033,"post_id":70988802,"comment_id":125494467,"body_markdown":"actually why do you want to do that? We might help you to get what you want in the same activity.","body":"actually why do you want to do that? We might help you to get what you want in the same activity."},{"owner":{"account_id":16932872,"reputation":43,"user_id":12246668,"display_name":"Tamim Houssin"},"score":0,"creation_date":1643993860,"post_id":70988802,"comment_id":125495244,"body_markdown":"i want to make custom download dialog and i will to use it like &quot;new start_download(url)&quot;  from any activity but I do not know how to do that","body":"i want to make custom download dialog and i will to use it like &quot;new start_download(url)&quot;  from any activity but I do not know how to do that"}],"answers":[{"tags":[],"owner":{"account_id":24025780,"reputation":16,"user_id":18007414,"display_name":"Himanshu Tomer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643996651,"creation_date":1643996651,"answer_id":70990675,"question_id":70988802,"body_markdown":"Tamim you can definitely achieve this using a different class by making a public static function in that other class\r\n\r\n\r\n    public class Utils {\r\n\r\n     public static void showDialog(Context context){\r\n     //// your code here\r\n     }\r\n  \r\n\r\n\r\n\r\n   now you use it wherever you want... \r\n\r\n    Utils.showDialog(this);","title":"how to use activity context from other activity?","body":"<p>Tamim you can definitely achieve this using a different class by making a public static function in that other class</p>\n<pre><code>public class Utils {\n\n public static void showDialog(Context context){\n //// your code here\n }\n</code></pre>\n<p>now you use it wherever you want...</p>\n<pre><code>Utils.showDialog(this);\n</code></pre>\n"}],"owner":{"account_id":16932872,"reputation":43,"user_id":12246668,"display_name":"Tamim Houssin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70990675,"answer_count":1,"score":0,"last_activity_date":1643996651,"creation_date":1643988113,"question_id":70988802,"body_markdown":"I want to use activity context from another activity simple code example below Any idea ?\r\n\r\n\r\n    public class Activity_A extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_Activity_A);\r\n    }\r\n    }\r\n---\r\n\r\n    public class Activity_B extends AppCompatActivity {\r\n    Dialog dialog1 ;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_Activity_B);\r\n    \r\n    dialog1 = new Dialog(I want Activity_A Context) ; // Is this possible ??\r\n\r\n    }\r\n    }\r\n-----\r\nThanks","title":"how to use activity context from other activity?","body":"<p>I want to use activity context from another activity simple code example below Any idea ?</p>\n<pre><code>public class Activity_A extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_Activity_A);\n}\n}\n</code></pre>\n<hr />\n<pre><code>public class Activity_B extends AppCompatActivity {\nDialog dialog1 ;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_Activity_B);\n\ndialog1 = new Dialog(I want Activity_A Context) ; // Is this possible ??\n\n}\n}\n</code></pre>\n<hr />\n<p>Thanks</p>\n"},{"tags":["java","casting","type-conversion","integer","character"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1643987967,"post_id":70988376,"comment_id":125492661,"body_markdown":"That&#39;s not an unsafe conversion ... in any sense that I am aware of.  (Please explain more clearly what you think the problem with that conversion is.  What do you think is unsafe about it?)","body":"That&#39;s not an unsafe conversion ... in any sense that I am aware of.  (Please explain more clearly what you think the problem with that conversion is.  What do you think is unsafe about it?)"},{"owner":{"account_id":23869199,"reputation":31,"user_id":17871136,"display_name":"snow_white"},"score":0,"creation_date":1643988136,"post_id":70988376,"comment_id":125492732,"body_markdown":"Hey, so the exact words in my task are as following: &quot; Unsafe conversions (e.g. from int to char) are not allowed in your code&quot; @StephenC","body":"Hey, so the exact words in my task are as following: &quot; Unsafe conversions (e.g. from int to char) are not allowed in your code&quot; @StephenC"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1643988360,"post_id":70988376,"comment_id":125492823,"body_markdown":"Well I&#39;m afraid you have been given a nonsensical task.  Ask your teacher to explain to you what is unsafe about that conversion.  Show them your code.","body":"Well I&#39;m afraid you have been given a nonsensical task.  Ask your teacher to explain to you what is unsafe about that conversion.  Show them your code."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1643988378,"post_id":70988376,"comment_id":125492825,"body_markdown":"I&#39;d argue the range check should make the conversion safe though - the question is rather poorly formulated.","body":"I&#39;d argue the range check should make the conversion safe though - the question is rather poorly formulated."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643988522,"post_id":70988376,"comment_id":125492883,"body_markdown":"Exactly.  And even if you didn&#39;t do the range check, the potential truncation that occurs when you cast `int` to `char` is not &quot;unsafe&quot; as far as the Java language is concerned.","body":"Exactly.  And even if you didn&#39;t do the range check, the potential truncation that occurs when you cast <code>int</code> to <code>char</code> is not &quot;unsafe&quot; as far as the Java language is concerned."},{"owner":{"account_id":23869199,"reputation":31,"user_id":17871136,"display_name":"snow_white"},"score":0,"creation_date":1643988681,"post_id":70988376,"comment_id":125492962,"body_markdown":"Yeah I am trying to find a different solution for the whole day, the whole task is poorly formulated. Besides the fact that it is safe, is there a way around of casting like this ? I am going to talk to him about that ...","body":"Yeah I am trying to find a different solution for the whole day, the whole task is poorly formulated. Besides the fact that it is safe, is there a way around of casting like this ? I am going to talk to him about that ..."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1643989087,"post_id":70988376,"comment_id":125493147,"body_markdown":"`char[] chrs = Character.toChars(i); if (chrs.length == 1) return chrs[0]; return null;`.","body":"<code>char[] chrs = Character.toChars(i); if (chrs.length == 1) return chrs[0]; return null;</code>."},{"owner":{"account_id":23869199,"reputation":31,"user_id":17871136,"display_name":"snow_white"},"score":0,"creation_date":1643989568,"post_id":70988376,"comment_id":125493359,"body_markdown":"SO my teacher said it is indeed unsafe, because the value range of int is 2^32 and of char is 2^16 @StephenC","body":"SO my teacher said it is indeed unsafe, because the value range of int is 2^32 and of char is 2^16 @StephenC"},{"owner":{"account_id":23869199,"reputation":31,"user_id":17871136,"display_name":"snow_white"},"score":0,"creation_date":1643990041,"post_id":70988376,"comment_id":125493582,"body_markdown":"@JohannesKuhn so i talked to my teacher and he said it is indeed forbidden to cast via (char) cast because of what I said in my previous comment.\nSo the .toChar method is also using this type of cast so should also be forbidden","body":"@JohannesKuhn so i talked to my teacher and he said it is indeed forbidden to cast via (char) cast because of what I said in my previous comment. So the .toChar method is also using this type of cast so should also be forbidden"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643990506,"post_id":70988376,"comment_id":125493794,"body_markdown":"Well ... by your teacher&#39;s own logic (!) if you test that `i` is in the range 0 to 65535, `(char) i` is no longer unsafe.","body":"Well ... by your teacher&#39;s own logic (!) if you test that <code>i</code> is in the range 0 to 65535, <code>(char) i</code> is no longer unsafe."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1643996122,"post_id":70988376,"comment_id":125496170,"body_markdown":"toChars is safe. It won&#39;t produce unexpected results. It takes a codepoint as input (which can be in the range 0-0x10FFFF) and outputs a char array that contains 1 or 2 chars. There can be no unsafe overflow or whatever.","body":"toChars is safe. It won&#39;t produce unexpected results. It takes a codepoint as input (which can be in the range 0-0x10FFFF) and outputs a char array that contains 1 or 2 chars. There can be no unsafe overflow or whatever."},{"owner":{"account_id":23869199,"reputation":31,"user_id":17871136,"display_name":"snow_white"},"score":0,"creation_date":1643996309,"post_id":70988376,"comment_id":125496237,"body_markdown":"@JohannesKuhn yeah I also think that is the only solution that fulfill all the desires of the task, thanks for the help!!","body":"@JohannesKuhn yeah I also think that is the only solution that fulfill all the desires of the task, thanks for the help!!"}],"answers":[{"tags":[],"owner":{"account_id":15083126,"reputation":346,"user_id":10885193,"display_name":"Jules"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643988479,"creation_date":1643988479,"answer_id":70988883,"question_id":70988376,"body_markdown":"Your conversion is safe here. \r\n\r\n - You&#39;re checking if the int is in the Character range\r\n - Then you cast using a builtin method\r\n\r\nThere might be another way but it&#39;s trickier and weird: &lt;br&gt;\r\n```\r\nString iStr = Integer.toString(i.intValue())\r\nchar c = iStr.charAt(0)\r\nCharacter crt = Character.valueOf(c)\r\n```\r\n\r\nI repeat myself but your approach is more than fine... I don&#39;t understand what does your teacher expect from you.\r\n","title":"Cast from Integer to Character without using unsafe conversion","body":"<p>Your conversion is safe here.</p>\n<ul>\n<li>You're checking if the int is in the Character range</li>\n<li>Then you cast using a builtin method</li>\n</ul>\n<p>There might be another way but it's trickier and weird: <br></p>\n<pre><code>String iStr = Integer.toString(i.intValue())\nchar c = iStr.charAt(0)\nCharacter crt = Character.valueOf(c)\n</code></pre>\n<p>I repeat myself but your approach is more than fine... I don't understand what does your teacher expect from you.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643991830,"creation_date":1643991830,"answer_id":70989644,"question_id":70988376,"body_markdown":"To my mind\r\n\r\n      if (i &gt;= 0 &amp;&amp; i &lt;= Character.MAX_VALUE) {\r\n           return Character.valueOf((char) i.intValue());\r\n      }\r\n\r\nis completely safe according to your teacher&#39;s definition of &quot;safe&quot;.\r\n\r\n&gt; SO my teacher said it is indeed unsafe, because the value range of int is 2^32 and of char is 2^16.\r\n\r\nThe `if` test ensures that you only cast `i.intValue()` to a `char` when `i` is in the required (safe) range.\r\n\r\nThe flipside is that if a *provably correct* range check is not sufficient to make this &quot;safe&quot; enough for your teacher, then AFAIK there isn&#39;t a &quot;safe&quot; solution.  All other less direct solutions also entail an explicit or implicit range check in some form ... and will therefore *also* be &quot;unsafe&quot;.\r\n\r\n\r\n","title":"Cast from Integer to Character without using unsafe conversion","body":"<p>To my mind</p>\n<pre><code>  if (i &gt;= 0 &amp;&amp; i &lt;= Character.MAX_VALUE) {\n       return Character.valueOf((char) i.intValue());\n  }\n</code></pre>\n<p>is completely safe according to your teacher's definition of &quot;safe&quot;.</p>\n<blockquote>\n<p>SO my teacher said it is indeed unsafe, because the value range of int is 2^32 and of char is 2^16.</p>\n</blockquote>\n<p>The <code>if</code> test ensures that you only cast <code>i.intValue()</code> to a <code>char</code> when <code>i</code> is in the required (safe) range.</p>\n<p>The flipside is that if a <em>provably correct</em> range check is not sufficient to make this &quot;safe&quot; enough for your teacher, then AFAIK there isn't a &quot;safe&quot; solution.  All other less direct solutions also entail an explicit or implicit range check in some form ... and will therefore <em>also</em> be &quot;unsafe&quot;.</p>\n"}],"owner":{"account_id":23869199,"reputation":31,"user_id":17871136,"display_name":"snow_white"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70989644,"answer_count":2,"score":0,"last_activity_date":1643996600,"creation_date":1643986371,"question_id":70988376,"body_markdown":"I have to write a method that has a parameter of type Integer and has to return an object of type Character.\r\nIf the value of the given parameter is presentable as a Character object,\r\nReturn it as a Character. Else return null.\r\n\r\nMy task is poorly formulated it says: &quot;Unsafe conversions (e.g. from int to char) are not allowed in your code&quot; I suppose it is not unsafe but also not allowed somehow?\r\n\r\nMy Code so far:\r\n\r\n```\r\npublic Character methodName (Integer i) {\r\n\r\n        if (i &gt;= 0 &amp;&amp; i &lt;= Character.MAX_VALUE) {\r\n            return Character.valueOf((char) i.intValue());   //unsafe conversion\r\n        }\r\n        else\r\n            return null;\r\n    }\r\n```\r\nI tried fixing it by any means but just could not come up with an solution not using the unsafe conversion, thank you very much in advance for helping!\r\n\r\nSolution to this weird formulated task: \r\n```\r\npublic Character methodName (Integer i) {\r\n\r\n        if (i &gt;= 0 &amp;&amp; i &lt;= Character.MAX_VALUE) {\r\n            return (Character.toChars(i)[0]); //&lt;- solution\r\n        }\r\n        else\r\n            return null;\r\n    } ","title":"Cast from Integer to Character without using unsafe conversion","body":"<p>I have to write a method that has a parameter of type Integer and has to return an object of type Character.\nIf the value of the given parameter is presentable as a Character object,\nReturn it as a Character. Else return null.</p>\n<p>My task is poorly formulated it says: &quot;Unsafe conversions (e.g. from int to char) are not allowed in your code&quot; I suppose it is not unsafe but also not allowed somehow?</p>\n<p>My Code so far:</p>\n<pre><code>public Character methodName (Integer i) {\n\n        if (i &gt;= 0 &amp;&amp; i &lt;= Character.MAX_VALUE) {\n            return Character.valueOf((char) i.intValue());   //unsafe conversion\n        }\n        else\n            return null;\n    }\n</code></pre>\n<p>I tried fixing it by any means but just could not come up with an solution not using the unsafe conversion, thank you very much in advance for helping!</p>\n<p>Solution to this weird formulated task:</p>\n<pre><code>public Character methodName (Integer i) {\n\n        if (i &gt;= 0 &amp;&amp; i &lt;= Character.MAX_VALUE) {\n            return (Character.toChars(i)[0]); //&lt;- solution\n        }\n        else\n            return null;\n    } \n</code></pre>\n"},{"tags":["java","path","file-rename","watchservice"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643996252,"creation_date":1643994224,"answer_id":70990174,"question_id":70989602,"body_markdown":"You can avoid this problem if you unregister the previous watch setup for the renamed directory. When renaming, you get a DELETE then CREATE for the parent&#39;s folder watch, so you can amend the watched directories to cancel the old key, and register a new key. \r\n\r\nHere is your main with small adjustments for logging the keys in use and handling the delete + create using a `HashMap` to keep track of directories added to the watch service:\r\n\r\n    var keys = new HashMap&lt;Path,WatchKey&gt;();\r\n\r\n    try (WatchService service = FileSystems.getDefault().newWatchService()) {\r\n        // Register test directory for observation\r\n        Path root = Path.of(&quot;C:/Temp/Folder A&quot;);\r\n\r\n        WatchKey wk = root.register(service, StandardWatchEventKinds.ENTRY_CREATE,\r\n                StandardWatchEventKinds.ENTRY_MODIFY, StandardWatchEventKinds.ENTRY_DELETE);\r\n        System.out.println(&quot;ROOT register=&quot; + root +&quot; wk=&quot;+wk);\r\n\r\n        long start = System.currentTimeMillis();\r\n        while (System.currentTimeMillis() - start &lt; RUNNING_TIME) {\r\n            // Use poll not take else while loop will be blocked\r\n            WatchKey key = service.poll();\r\n\r\n            if (key == null) {\r\n                continue;\r\n            }\r\n            for (var event : key.pollEvents())  {\r\n                // Get the absolute path from the event context by resolving it against it&#39;s\r\n                // parent directory\r\n                Path eventPath = (Path) event.context(), absolutePath = ((Path) key.watchable()).resolve(eventPath);\r\n\r\n                var kind = event.kind();\r\n\r\n                // Debugging\r\n                System.out.println(&quot;==========================&quot;);\r\n                System.out.println(&quot;Watch Key=&quot; + key);\r\n                System.out.println(&quot;Event Path=&quot; + eventPath);\r\n                System.out.println(&quot;Absolute Path=&quot; + absolutePath);\r\n                System.out.println(&quot;Kind=&quot; + kind);\r\n\r\n                // If the event kind is CREATE and an new directory is created then register\r\n                // that directory with the service\r\n                if (kind == StandardWatchEventKinds.ENTRY_CREATE &amp;&amp; Files.isDirectory(absolutePath)) {\r\n                    var subkey = absolutePath.register(service, StandardWatchEventKinds.ENTRY_CREATE,\r\n                            StandardWatchEventKinds.ENTRY_MODIFY, StandardWatchEventKinds.ENTRY_DELETE);\r\n                    keys.put(absolutePath, subkey);\r\n                    System.out.println(&quot;register=&quot; + absolutePath +&quot; wk=&quot;+subkey);\r\n                }\r\n                // Deletes: wipe previously registered watch\r\n                else if (kind == StandardWatchEventKinds.ENTRY_DELETE) {\r\n                    var prev = keys.remove(absolutePath);\r\n                    if (prev != null) {\r\n                        System.out.println(&quot;unregister=&quot; + absolutePath + &quot; key=&quot;+prev);\r\n                        prev.cancel();\r\n                    }\r\n                }\r\n            }\r\n\r\n            key.reset();\r\n        }\r\n    }\r\n\r\nWith above, starting then creating &quot;subfolder&quot; will report three different watch keys:\r\n\r\n    ROOT register=C:\\Temp\\Folder A wk=... $WindowsWatchKey@aaaaaaaaa\r\n\r\n    Watch Key=... $WindowsWatchKey@aaaaaaaaa\r\n    Kind=ENTRY_CREATE\r\n    register=C:\\Temp\\Folder A\\subfolder wk=... $WindowsWatchKey@xxxxxxxx\r\n\r\nRenaming &quot;subfolder&quot; to &quot;LATEST&quot; says:\r\n\r\n    Watch Key=... $WindowsWatchKey@aaaaaaaaa\r\n    Kind=ENTRY_DELETE\r\n    unregister=C:\\Temp\\Folder A\\subfolder key=... $WindowsWatchKey@xxxxxxxx\r\n\r\n    Watch Key=... $WindowsWatchKey@aaaaaaaaa\r\n    Kind=ENTRY_CREATE\r\n    register=C:\\Temp\\Folder A\\LATEST wk=... $WindowsWatchKey@yyyyyyyyy\r\n\r\nThen editing a file under the new directory name will report with the current folder name, and most importantly, with the new watch key after rename not the `@xxxxxxxx` value it was printing before:\r\n\r\n    Watch Key=sun.nio.fs.WindowsWatchService$WindowsWatchKey@yyyyyyyyy\r\n    Event Path=file.txt\r\n    Absolute Path=C:\\Temp\\Folder A\\LATEST\\file.txt\r\n    Kind=ENTRY_MODIFY\r\n","title":"WatchService Directory path incorrect after renaming Directory","body":"<p>You can avoid this problem if you unregister the previous watch setup for the renamed directory. When renaming, you get a DELETE then CREATE for the parent's folder watch, so you can amend the watched directories to cancel the old key, and register a new key.</p>\n<p>Here is your main with small adjustments for logging the keys in use and handling the delete + create using a <code>HashMap</code> to keep track of directories added to the watch service:</p>\n<pre><code>var keys = new HashMap&lt;Path,WatchKey&gt;();\n\ntry (WatchService service = FileSystems.getDefault().newWatchService()) {\n    // Register test directory for observation\n    Path root = Path.of(&quot;C:/Temp/Folder A&quot;);\n\n    WatchKey wk = root.register(service, StandardWatchEventKinds.ENTRY_CREATE,\n            StandardWatchEventKinds.ENTRY_MODIFY, StandardWatchEventKinds.ENTRY_DELETE);\n    System.out.println(&quot;ROOT register=&quot; + root +&quot; wk=&quot;+wk);\n\n    long start = System.currentTimeMillis();\n    while (System.currentTimeMillis() - start &lt; RUNNING_TIME) {\n        // Use poll not take else while loop will be blocked\n        WatchKey key = service.poll();\n\n        if (key == null) {\n            continue;\n        }\n        for (var event : key.pollEvents())  {\n            // Get the absolute path from the event context by resolving it against it's\n            // parent directory\n            Path eventPath = (Path) event.context(), absolutePath = ((Path) key.watchable()).resolve(eventPath);\n\n            var kind = event.kind();\n\n            // Debugging\n            System.out.println(&quot;==========================&quot;);\n            System.out.println(&quot;Watch Key=&quot; + key);\n            System.out.println(&quot;Event Path=&quot; + eventPath);\n            System.out.println(&quot;Absolute Path=&quot; + absolutePath);\n            System.out.println(&quot;Kind=&quot; + kind);\n\n            // If the event kind is CREATE and an new directory is created then register\n            // that directory with the service\n            if (kind == StandardWatchEventKinds.ENTRY_CREATE &amp;&amp; Files.isDirectory(absolutePath)) {\n                var subkey = absolutePath.register(service, StandardWatchEventKinds.ENTRY_CREATE,\n                        StandardWatchEventKinds.ENTRY_MODIFY, StandardWatchEventKinds.ENTRY_DELETE);\n                keys.put(absolutePath, subkey);\n                System.out.println(&quot;register=&quot; + absolutePath +&quot; wk=&quot;+subkey);\n            }\n            // Deletes: wipe previously registered watch\n            else if (kind == StandardWatchEventKinds.ENTRY_DELETE) {\n                var prev = keys.remove(absolutePath);\n                if (prev != null) {\n                    System.out.println(&quot;unregister=&quot; + absolutePath + &quot; key=&quot;+prev);\n                    prev.cancel();\n                }\n            }\n        }\n\n        key.reset();\n    }\n}\n</code></pre>\n<p>With above, starting then creating &quot;subfolder&quot; will report three different watch keys:</p>\n<pre><code>ROOT register=C:\\Temp\\Folder A wk=... $WindowsWatchKey@aaaaaaaaa\n\nWatch Key=... $WindowsWatchKey@aaaaaaaaa\nKind=ENTRY_CREATE\nregister=C:\\Temp\\Folder A\\subfolder wk=... $WindowsWatchKey@xxxxxxxx\n</code></pre>\n<p>Renaming &quot;subfolder&quot; to &quot;LATEST&quot; says:</p>\n<pre><code>Watch Key=... $WindowsWatchKey@aaaaaaaaa\nKind=ENTRY_DELETE\nunregister=C:\\Temp\\Folder A\\subfolder key=... $WindowsWatchKey@xxxxxxxx\n\nWatch Key=... $WindowsWatchKey@aaaaaaaaa\nKind=ENTRY_CREATE\nregister=C:\\Temp\\Folder A\\LATEST wk=... $WindowsWatchKey@yyyyyyyyy\n</code></pre>\n<p>Then editing a file under the new directory name will report with the current folder name, and most importantly, with the new watch key after rename not the <code>@xxxxxxxx</code> value it was printing before:</p>\n<pre><code>Watch Key=sun.nio.fs.WindowsWatchService$WindowsWatchKey@yyyyyyyyy\nEvent Path=file.txt\nAbsolute Path=C:\\Temp\\Folder A\\LATEST\\file.txt\nKind=ENTRY_MODIFY\n</code></pre>\n"}],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70990174,"answer_count":1,"score":0,"last_activity_date":1643996252,"creation_date":1643991678,"question_id":70989602,"body_markdown":"The code registers any new directory created with the watch service to listen for all the events\r\nand runs for a duration of 60 seconds[which can be changed with running time]\r\n\r\n    final class Test \r\n    {\r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      //Run the program for 60 seconds i.e * 1000\r\n      long RUNNING_TIME=60*1000;\r\n      \r\n      try(WatchService service=FileSystems.getDefault().newWatchService())\r\n      {\r\n       //Register test directory for observation\r\n       Path.of(&quot;E:&quot;,&quot;Folder A&quot;).register(service,StandardWatchEventKinds.ENTRY_CREATE,StandardWatchEventKinds.ENTRY_MODIFY,StandardWatchEventKinds.ENTRY_DELETE);\r\n       \r\n       long start=System.currentTimeMillis();\r\n       while(System.currentTimeMillis()-start&lt;RUNNING_TIME)\r\n       {\r\n        //Use poll not take else while loop will be blocked\r\n        WatchKey key=service.poll();\r\n        \r\n        if(key==null){continue;}\r\n        for(WatchEvent event:key.pollEvents())\r\n        {\r\n        //Get the absolute path from the event context by resolving it against it&#39;s parent directory\r\n         Path\r\n         eventPath=(Path)event.context(),\r\n         absolutePath=((Path)key.watchable()).resolve(eventPath); //Wrong path after resolving against watchable after renaming directory\r\n         Kind kind=event.kind();\r\n         \r\n         //If the event kind is CREATE and an new directory is created then register that directory with the service\r\n         if(kind==StandardWatchEventKinds.ENTRY_CREATE &amp;&amp; Files.isDirectory(absolutePath))\r\n         {\r\n          absolutePath.register\r\n          (\r\n           service,\r\n           StandardWatchEventKinds.ENTRY_CREATE,\r\n           StandardWatchEventKinds.ENTRY_MODIFY,\r\n           StandardWatchEventKinds.ENTRY_DELETE\r\n          );\r\n         }\r\n         \r\n         //Debugging\r\n         System.out.println(&quot;Event Path=&quot;+eventPath);\r\n         System.out.println(&quot;Absolute Path=&quot;+absolutePath);\r\n         System.out.println(&quot;Kind=&quot;+kind);\r\n         System.out.println(&quot;==========================&quot;);\r\n        }\r\n       \r\n        key.reset();\r\n       }  \r\n      }\r\n     }\r\n    }\r\n\r\nHere are the observed results\r\n\r\n    Sno                            Test                                  Output\r\n    \r\n    1       Create Directory=&gt;E:/Folder A/New Folder               Event Path=New folder\r\n                                                              Absolute Path=E:\\Folder A\\New folder\r\n                                                                     Kind=ENTRY_CREATE\r\n                                                                 ==========================\r\n\r\n\r\n\r\n    2        Rename E:/Folder A/New Folder                         Event Path=New folder\r\n                           TO                                 Absolute Path=E:\\Folder A\\New folder\r\n                         E:/Folder A/Test                           Kind=ENTRY_DELETE\r\n                                                                ==========================\r\n                                                                   Event Path=Test\r\n                                                             Absolute Path=E:\\Folder A\\Test\r\n                                                                   Kind=ENTRY_CREATE\r\n\r\n\r\n\r\n    3        Create Text File Under Test Folder i.e            Event Path=New Text Document.txt\r\n         Create =&gt; E:/Folder A/Test/New Text Document.txt     Absolute Path=E:\\Folder A\\New folder\\New Text Document.txt\r\n                                                                 Kind=ENTRY_CREATE\r\n                                                                ==========================\r\n                                                                 Event Path=Test\r\n                                                              Absolute Path=E:\\Folder A\\Test\r\n                                                                 Kind=ENTRY_MODIFY\r\n\r\n\r\n\r\n\r\n    4    Rename  E:/Folder A/Test/New Text Document.txt        Event Path=New Text Document.txt\r\n                       To                                 Absolute Path=E:\\Folder A\\New folder\\New Text Document.txt\r\n                E:/Folder A/Test/Test.txt                      Kind=ENTRY_DELETE\r\n                                                            ==========================\r\n                                                              Event Path=Test.txt\r\n                                                          Absolute Path=E:\\Folder A\\New folder\\Test.txt\r\n                                                               Kind=ENTRY_CREATE                                                          \r\n                                                            ==========================\r\n                                                                Event Path=Test\r\n                                                          Absolute Path=E:\\Folder A\\Test\r\n                                                              Kind=ENTRY_MODIFY\r\n                                                            \r\n\r\nIncorrect results appear from Test case 3 in the Absolute path\r\nHere are the incorrect absolute path values from test case 3 onwards\r\n\r\n    Absolute Path=E:\\Folder A\\New folder\\New Text Document.txt\r\n    Absolute Path=E:\\Folder A\\New folder\\Test.txt\r\n\r\nAs you can see In test case 2 i have renamed my Folder from New Folder To Test so why is it still appearing while resolving against the watchable directory.\r\n\r\nClearly the error lies in the Path returned from watchable() or maybe i should cancel this key during renaming or some other situation to get correct results.\r\n\r\nWhy is watchable() method not returning the correct path after renaming the directory?\r\n\r\n\r\n\r\n","title":"WatchService Directory path incorrect after renaming Directory","body":"<p>The code registers any new directory created with the watch service to listen for all the events\nand runs for a duration of 60 seconds[which can be changed with running time]</p>\n<pre><code>final class Test \n{\n public static void main(String[] args)throws Exception\n {\n  //Run the program for 60 seconds i.e * 1000\n  long RUNNING_TIME=60*1000;\n  \n  try(WatchService service=FileSystems.getDefault().newWatchService())\n  {\n   //Register test directory for observation\n   Path.of(&quot;E:&quot;,&quot;Folder A&quot;).register(service,StandardWatchEventKinds.ENTRY_CREATE,StandardWatchEventKinds.ENTRY_MODIFY,StandardWatchEventKinds.ENTRY_DELETE);\n   \n   long start=System.currentTimeMillis();\n   while(System.currentTimeMillis()-start&lt;RUNNING_TIME)\n   {\n    //Use poll not take else while loop will be blocked\n    WatchKey key=service.poll();\n    \n    if(key==null){continue;}\n    for(WatchEvent event:key.pollEvents())\n    {\n    //Get the absolute path from the event context by resolving it against it's parent directory\n     Path\n     eventPath=(Path)event.context(),\n     absolutePath=((Path)key.watchable()).resolve(eventPath); //Wrong path after resolving against watchable after renaming directory\n     Kind kind=event.kind();\n     \n     //If the event kind is CREATE and an new directory is created then register that directory with the service\n     if(kind==StandardWatchEventKinds.ENTRY_CREATE &amp;&amp; Files.isDirectory(absolutePath))\n     {\n      absolutePath.register\n      (\n       service,\n       StandardWatchEventKinds.ENTRY_CREATE,\n       StandardWatchEventKinds.ENTRY_MODIFY,\n       StandardWatchEventKinds.ENTRY_DELETE\n      );\n     }\n     \n     //Debugging\n     System.out.println(&quot;Event Path=&quot;+eventPath);\n     System.out.println(&quot;Absolute Path=&quot;+absolutePath);\n     System.out.println(&quot;Kind=&quot;+kind);\n     System.out.println(&quot;==========================&quot;);\n    }\n   \n    key.reset();\n   }  \n  }\n }\n}\n</code></pre>\n<p>Here are the observed results</p>\n<pre><code>Sno                            Test                                  Output\n\n1       Create Directory=&gt;E:/Folder A/New Folder               Event Path=New folder\n                                                          Absolute Path=E:\\Folder A\\New folder\n                                                                 Kind=ENTRY_CREATE\n                                                             ==========================\n\n\n\n2        Rename E:/Folder A/New Folder                         Event Path=New folder\n                       TO                                 Absolute Path=E:\\Folder A\\New folder\n                     E:/Folder A/Test                           Kind=ENTRY_DELETE\n                                                            ==========================\n                                                               Event Path=Test\n                                                         Absolute Path=E:\\Folder A\\Test\n                                                               Kind=ENTRY_CREATE\n\n\n\n3        Create Text File Under Test Folder i.e            Event Path=New Text Document.txt\n     Create =&gt; E:/Folder A/Test/New Text Document.txt     Absolute Path=E:\\Folder A\\New folder\\New Text Document.txt\n                                                             Kind=ENTRY_CREATE\n                                                            ==========================\n                                                             Event Path=Test\n                                                          Absolute Path=E:\\Folder A\\Test\n                                                             Kind=ENTRY_MODIFY\n\n\n\n\n4    Rename  E:/Folder A/Test/New Text Document.txt        Event Path=New Text Document.txt\n                   To                                 Absolute Path=E:\\Folder A\\New folder\\New Text Document.txt\n            E:/Folder A/Test/Test.txt                      Kind=ENTRY_DELETE\n                                                        ==========================\n                                                          Event Path=Test.txt\n                                                      Absolute Path=E:\\Folder A\\New folder\\Test.txt\n                                                           Kind=ENTRY_CREATE                                                          \n                                                        ==========================\n                                                            Event Path=Test\n                                                      Absolute Path=E:\\Folder A\\Test\n                                                          Kind=ENTRY_MODIFY\n                                                        \n</code></pre>\n<p>Incorrect results appear from Test case 3 in the Absolute path\nHere are the incorrect absolute path values from test case 3 onwards</p>\n<pre><code>Absolute Path=E:\\Folder A\\New folder\\New Text Document.txt\nAbsolute Path=E:\\Folder A\\New folder\\Test.txt\n</code></pre>\n<p>As you can see In test case 2 i have renamed my Folder from New Folder To Test so why is it still appearing while resolving against the watchable directory.</p>\n<p>Clearly the error lies in the Path returned from watchable() or maybe i should cancel this key during renaming or some other situation to get correct results.</p>\n<p>Why is watchable() method not returning the correct path after renaming the directory?</p>\n"},{"tags":["java","swing","jtextfield"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1627702926,"post_id":68594431,"comment_id":121233039,"body_markdown":"*&quot;I can&#39;t find a simple solution&quot;* [Reading the (fine) manual](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTextField.html#&lt;init&gt;(int)) isn&#39;t that difficult. Checking the documentation (and tutorial) is something you should always do before asking a question on SO.","body":"<i>&quot;I can&#39;t find a simple solution&quot;</i> <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTextField.html#&lt;init&gt;(int)\" rel=\"nofollow noreferrer\">Reading the (fine) manual</a> isn&#39;t that difficult. Checking the documentation (and tutorial) is something you should always do before asking a question on SO."}],"answers":[{"tags":[],"owner":{"account_id":17311155,"reputation":502,"user_id":12538710,"display_name":"Crih.exe"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1627824277,"creation_date":1627663690,"answer_id":68594497,"question_id":68594431,"body_markdown":"You can give to the `JTextField` a size in this way:\r\n\r\n    input = new JTextField(20);\r\n\r\n**From the [documentation][1]:**\r\n\r\n&gt; The integer argument passed to the JTextField constructor, 20 in the\r\n&gt; example, indicates the number of columns in the field. This number is\r\n&gt; used along with metrics provided by the field&#39;s current font to\r\n&gt; calculate the field&#39;s preferred width. It does not limit the number of\r\n&gt; characters the user can enter.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/textfield.html","title":"The JTextfield doesn&#39;t show like I want","body":"<p>You can give to the <code>JTextField</code> a size in this way:</p>\n<pre><code>input = new JTextField(20);\n</code></pre>\n<p><strong>From the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/textfield.html\" rel=\"nofollow noreferrer\">documentation</a>:</strong></p>\n<blockquote>\n<p>The integer argument passed to the JTextField constructor, 20 in the\nexample, indicates the number of columns in the field. This number is\nused along with metrics provided by the field's current font to\ncalculate the field's preferred width. It does not limit the number of\ncharacters the user can enter.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24157795,"reputation":1,"user_id":18121801,"display_name":"user18121801"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643995758,"creation_date":1643995758,"answer_id":70990476,"question_id":68594431,"body_markdown":"When the int in the constructor is to big the JTextField will bug\r\n\r\nI think it&#39;s depend of the size of the container.\r\n\r\nhere if i write 10 instead of 5 it&#39;s doesn&#39;t work:\r\n\r\n    Dimension dim = getPreferredSize();\r\n    dim.width = 150;\r\n    setPreferredSize(dim);\r\n    \t\t\r\n    nameLabel = new JLabel(&quot;Name: &quot;);\r\n    nameField = new JTextField(5);\r\n\r\n\r\n","title":"The JTextfield doesn&#39;t show like I want","body":"<p>When the int in the constructor is to big the JTextField will bug</p>\n<p>I think it's depend of the size of the container.</p>\n<p>here if i write 10 instead of 5 it's doesn't work:</p>\n<pre><code>Dimension dim = getPreferredSize();\ndim.width = 150;\nsetPreferredSize(dim);\n        \nnameLabel = new JLabel(&quot;Name: &quot;);\nnameField = new JTextField(5);\n</code></pre>\n"}],"owner":{"account_id":22343465,"reputation":39,"user_id":16562898,"display_name":"Hunglaublich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1643995758,"creation_date":1627663354,"question_id":68594431,"body_markdown":"I&#39;m new to Java and I can&#39;t find a simple solution. In the image below, you can see what my problem is. I want to write a program, where I can create playlists and safe them, but I am already stuck at the beginning because the `JTextfield` is too small.\r\n\r\n```java\r\nimport javax.swing.JFrame;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\tJFrame w = new Layout();\r\n\t\tw.setVisible(true);\r\n\t\tw.setSize(600, 600);\r\n\t\tw.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tw.setLocationRelativeTo(null);\r\n\t\tw.setResizable(true);\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport javax.swing.border.LineBorder;\r\n\r\npublic class Layout extends JFrame{\r\n\r\n\t\tJTextField input;\r\n\t\r\n\tLayout(){\t\r\n\t\t\r\n\t\t//title and layout type\r\n\t\tsuper(&quot;ThePlay&quot;);\r\n\t\tsetLayout(new FlowLayout());\r\n\t\t\r\n\t\tJButton s;\t//search button\r\n\t\tJButton h;\t//home button\r\n\t\tJButton mp; //my playlist button\r\n\t\tJButton cp;\t//create playlist button\r\n\t\tJButton fs;\t//favorite songs button\r\n\r\n\t\t//frame constructor\r\n\t\tContainer mainContainer = this.getContentPane();\r\n\t\tmainContainer.setLayout(new BorderLayout(8,6));\r\n\t\tmainContainer.setBackground(Color.GRAY);\r\n\t\tthis.getRootPane().setBorder(BorderFactory.createMatteBorder(4, 4, 4, 4, Color.GRAY));\r\n\t\t\r\n\t\t//input constructor\r\n\t\tinput = new JTextField();\r\n\t\tinput.setBounds(300, 50, 150, 25);\r\n\t\t\r\n\t\t//up frame\r\n\t\tJPanel topPanel = new JPanel();\r\n\t\ttopPanel.setBorder(new LineBorder(Color.BLACK, 3));\r\n\t\ttopPanel.setBackground(Color.GRAY);\r\n\t\ttopPanel.setLayout(new FlowLayout(6));\r\n\t\t\r\n\t\t//bot frame\r\n\t\tJPanel downPanel = new JPanel();\r\n\t\tdownPanel.setBorder(new LineBorder(Color.BLACK, 3));\r\n\t\tdownPanel.setBackground(Color.GRAY);\r\n\t\tdownPanel.setLayout(new FlowLayout(5));\r\n\t\t\r\n\t\t//create buttons\r\n\t\ts = new JButton(&quot;Search&quot;);\r\n\t\th = new JButton(&quot;Home&quot;);\r\n\t\tmp = new JButton(&quot;My Playlists&quot;);\r\n\t\tcp = new JButton(&quot;Create Playlist&quot;);\r\n\t\tfs = new JButton(&quot;Favorite Songs&quot;);\r\n\t\t\r\n\t\t\r\n\t\t//add buttons to the frame\r\n\t\tmainContainer.add(topPanel,BorderLayout.NORTH);   \t//top frame location\r\n\t\tmainContainer.add(downPanel,BorderLayout.CENTER);\t//bottom frame location\r\n\t\ttopPanel.add(input);\r\n\t\ttopPanel.add(s);\r\n\t\ttopPanel.add(h);\r\n\t\ttopPanel.add(mp);\r\n\t\ttopPanel.add(cp);\r\n\t\ttopPanel.add(fs);\t\r\n\t}\r\n}\r\n```\r\n\r\n![The issue is shown here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zIdRo.png","title":"The JTextfield doesn&#39;t show like I want","body":"<p>I'm new to Java and I can't find a simple solution. In the image below, you can see what my problem is. I want to write a program, where I can create playlists and safe them, but I am already stuck at the beginning because the <code>JTextfield</code> is too small.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFrame;\n\npublic class Main {\n    \n    public static void main(String args[]) {\n        JFrame w = new Layout();\n        w.setVisible(true);\n        w.setSize(600, 600);\n        w.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        w.setLocationRelativeTo(null);\n        w.setResizable(true);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.LineBorder;\n\npublic class Layout extends JFrame{\n\n        JTextField input;\n    \n    Layout(){   \n        \n        //title and layout type\n        super(&quot;ThePlay&quot;);\n        setLayout(new FlowLayout());\n        \n        JButton s;  //search button\n        JButton h;  //home button\n        JButton mp; //my playlist button\n        JButton cp; //create playlist button\n        JButton fs; //favorite songs button\n\n        //frame constructor\n        Container mainContainer = this.getContentPane();\n        mainContainer.setLayout(new BorderLayout(8,6));\n        mainContainer.setBackground(Color.GRAY);\n        this.getRootPane().setBorder(BorderFactory.createMatteBorder(4, 4, 4, 4, Color.GRAY));\n        \n        //input constructor\n        input = new JTextField();\n        input.setBounds(300, 50, 150, 25);\n        \n        //up frame\n        JPanel topPanel = new JPanel();\n        topPanel.setBorder(new LineBorder(Color.BLACK, 3));\n        topPanel.setBackground(Color.GRAY);\n        topPanel.setLayout(new FlowLayout(6));\n        \n        //bot frame\n        JPanel downPanel = new JPanel();\n        downPanel.setBorder(new LineBorder(Color.BLACK, 3));\n        downPanel.setBackground(Color.GRAY);\n        downPanel.setLayout(new FlowLayout(5));\n        \n        //create buttons\n        s = new JButton(&quot;Search&quot;);\n        h = new JButton(&quot;Home&quot;);\n        mp = new JButton(&quot;My Playlists&quot;);\n        cp = new JButton(&quot;Create Playlist&quot;);\n        fs = new JButton(&quot;Favorite Songs&quot;);\n        \n        \n        //add buttons to the frame\n        mainContainer.add(topPanel,BorderLayout.NORTH);     //top frame location\n        mainContainer.add(downPanel,BorderLayout.CENTER);   //bottom frame location\n        topPanel.add(input);\n        topPanel.add(s);\n        topPanel.add(h);\n        topPanel.add(mp);\n        topPanel.add(cp);\n        topPanel.add(fs);   \n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/zIdRo.png\" alt=\"The issue is shown here\" /></p>\n"},{"tags":["java","logging","undertow","jboss-logging"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1589586725,"creation_date":1589586725,"answer_id":61830114,"question_id":61792208,"body_markdown":"JBoss Logging is just a logging facade like slf4j. You need a log manager to configure logging. JBoss Logging works with JUL, JBoss Log Manager, log4j, log4j2 and logback. If you don&#39;t have a log manager on your class path then JUL will be used.\r\n\r\nYou can also define which log manager JBoss Logging should attempt to bind using the `org.jboss.logging.provider` system property. The valid values are:\r\n\r\n- `jboss` for the JBoss Log Manager\r\n- `jdk` for JUL\r\n- `log4j2` for log4j2\r\n- `log4j` for log4j\r\n- `slf4j` for logback","title":"How to set logging at runtime in org.jboss.logging","body":"<p>JBoss Logging is just a logging facade like slf4j. You need a log manager to configure logging. JBoss Logging works with JUL, JBoss Log Manager, log4j, log4j2 and logback. If you don't have a log manager on your class path then JUL will be used.</p>\n\n<p>You can also define which log manager JBoss Logging should attempt to bind using the <code>org.jboss.logging.provider</code> system property. The valid values are:</p>\n\n<ul>\n<li><code>jboss</code> for the JBoss Log Manager</li>\n<li><code>jdk</code> for JUL</li>\n<li><code>log4j2</code> for log4j2</li>\n<li><code>log4j</code> for log4j</li>\n<li><code>slf4j</code> for logback</li>\n</ul>\n"}],"owner":{"account_id":9198658,"reputation":21,"user_id":6836496,"display_name":"VIkrant Saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61830114,"answer_count":1,"score":0,"last_activity_date":1643995656,"creation_date":1589443246,"question_id":61792208,"body_markdown":"I am working with embedded undertow and using org.jboss.logging.Logger for logging. I cannot use log4j or slf4j since the application which is gonna use my jar might not be using different version of log4j and there might be some conflicts. And also since undertow already has jobss.logging in-built I do not want to add any dependency to my jar.\r\n\r\nSo, is there any way I can add the logging level at run time by passing the level as a parameter to a method or constructor?","title":"How to set logging at runtime in org.jboss.logging","body":"<p>I am working with embedded undertow and using org.jboss.logging.Logger for logging. I cannot use log4j or slf4j since the application which is gonna use my jar might not be using different version of log4j and there might be some conflicts. And also since undertow already has jobss.logging in-built I do not want to add any dependency to my jar.</p>\n\n<p>So, is there any way I can add the logging level at run time by passing the level as a parameter to a method or constructor?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1643991634,"post_id":70989586,"comment_id":125494287,"body_markdown":"Did you try debugging?","body":"Did you try debugging?"}],"answers":[{"tags":[],"owner":{"account_id":23989960,"reputation":41,"user_id":17976262,"display_name":"Rage Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643994031,"creation_date":1643994031,"answer_id":70990133,"question_id":70989586,"body_markdown":"for a binary search to work correctly it must be sorted in some way. If you&#39;re searching it by year you need to sort it from smallest to largest. if you&#39;re searching it by Title, those Titles must be in some alphabetical order, same with the Artist.\r\nEx:\r\n\r\n    {1,4,3,2,5} //searching for 4 returns -1 because it&#39;s looking between 3 and 5 and only finding 2.\r\n    {1,2,3,4,5} //searching for 4 returns 3 because it looks between 3 and 5 and finds 4 at index 3.","title":"Binary Search returning -1 in spite of the element existing","body":"<p>for a binary search to work correctly it must be sorted in some way. If you're searching it by year you need to sort it from smallest to largest. if you're searching it by Title, those Titles must be in some alphabetical order, same with the Artist.\nEx:</p>\n<pre><code>{1,4,3,2,5} //searching for 4 returns -1 because it's looking between 3 and 5 and only finding 2.\n{1,2,3,4,5} //searching for 4 returns 3 because it looks between 3 and 5 and finds 4 at index 3.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24157364,"reputation":1,"user_id":18121422,"display_name":"eTrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643994047,"creation_date":1643994047,"answer_id":70990134,"question_id":70989586,"body_markdown":"Binary search requires a sorted array. If you use an array that&#39;s not sorted, binary search is liable to not find what you need. For this type of thing you need a sequential search. \r\n\r\nExample:\r\n```\r\n[0, 3, 7, 8, 12, 56, 2]\r\n//say you have this array, and you&#39;re looking for number 2,\r\n//your function will compare 2 to the middle element: 8. \r\n//2 &lt; 8, so it will throw out everything above 8. \r\n[0, 3, 7]\r\n//Obviously 2 is not there. But it was there originally.\r\n//The problem is it was unsorted\r\n```\r\n\r\n","title":"Binary Search returning -1 in spite of the element existing","body":"<p>Binary search requires a sorted array. If you use an array that's not sorted, binary search is liable to not find what you need. For this type of thing you need a sequential search.</p>\n<p>Example:</p>\n<pre><code>[0, 3, 7, 8, 12, 56, 2]\n//say you have this array, and you're looking for number 2,\n//your function will compare 2 to the middle element: 8. \n//2 &lt; 8, so it will throw out everything above 8. \n[0, 3, 7]\n//Obviously 2 is not there. But it was there originally.\n//The problem is it was unsorted\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22803255,"reputation":31,"user_id":16955627,"display_name":"Man Hei Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643995601,"creation_date":1643995601,"answer_id":70990446,"question_id":70989586,"body_markdown":"I can confirm that you can only do a type of binary search to its corresponding sort. So title binary search can only happen after a title sort.","title":"Binary Search returning -1 in spite of the element existing","body":"<p>I can confirm that you can only do a type of binary search to its corresponding sort. So title binary search can only happen after a title sort.</p>\n"}],"owner":{"account_id":22803255,"reputation":31,"user_id":16955627,"display_name":"Man Hei Li"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70990133,"answer_count":3,"score":0,"last_activity_date":1643995601,"creation_date":1643991611,"question_id":70989586,"body_markdown":"For this program, I&#39;m trying to use Binary searching to find a specific element of a given array, such as title, year, or artist. For now, I&#39;m only testing for title and year since they are both strings. But it seems that for some of the input I put in, the program would return -1, even though the input I put in exists on the array. I&#39;m not sure why this happens.\r\n\r\nFirst is the tester class, second code is the constructor class.\r\n\r\n```\r\npublic class TestMusic\r\n{\r\n    public static void printMusic(Music[] arr)\r\n    {\r\n        for (Music music : arr)\r\n        {\r\n            System.out.println(music.toString());\r\n        }\r\n    }\r\n    \r\n    public static int binaryTitle(Music[] arr, String title)\r\n    {\r\n        int l = 0, r = arr.length - 1;\r\n        while (l &lt;= r) {\r\n            int m = l + (r - l) / 2;\r\n\r\n            int res = title.compareTo(arr[m].getTitle());\r\n\r\n            // Check if x is present at mid\r\n            if (res == 0)\r\n                return m;\r\n\r\n            // If x greater, ignore left half\r\n            if (res &gt; 0)\r\n                l = m + 1;\r\n\r\n                // If x is smaller, ignore right half\r\n            else\r\n                r = m - 1;\r\n        }\r\n\r\n        return -1;\r\n    }\r\n       \r\n\r\n    \r\n    public static int binaryArtist(Music[] arr, String artist)\r\n    {\r\n        int l = 0, r = arr.length - 1;\r\n        while (r - l &gt;= 1) {\r\n            int m = l + (r-l) / 2;\r\n\r\n            int res = artist.compareTo(arr[m].getArtist());\r\n\r\n            \r\n            if (res == 0)\r\n            {\r\n                return m;\r\n            }\r\n\r\n            if (res &gt; 0)\r\n            {\r\n                l = m + 1;\r\n            }\r\n\r\n            else\r\n            {\r\n                r = m - 1;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n    \r\n    public static void main(String[]args)\r\n    {\r\n        Music[] arr = new Music[12];\r\n        arr[0] =  new Music(&quot;Montero&quot;, 2021, &quot;Lil Nas X&quot;);\r\n        arr[1] =  new Music(&quot;Dynamite&quot;, 2020, &quot;BTS&quot;);\r\n        arr[2] =  new Music(&quot;Bad Guy&quot;, 2019, &quot;Billie Eilish&quot;);\r\n        arr[3] =  new Music(&quot;Sicko Mode&quot;, 2018, &quot;Travis Scott&quot;);\r\n        arr[4] =  new Music(&quot;Shape of You&quot;, 2017, &quot;Ed Sheeran&quot;);\r\n        arr[5] =  new Music(&quot;Heathens&quot;, 2016, &quot;Twenty One Pilots&quot;);\r\n        arr[6] =  new Music(&quot;See You Again&quot;, 2015, &quot;Wiz Khalifa&quot;);\r\n        arr[7] =  new Music(&quot;All About That Bass&quot;, 2014, &quot;Meghan Trainor&quot;);\r\n        arr[8] =  new Music(&quot;Wrecking Ball&quot;, 2013, &quot;Miley Cyrus&quot;);\r\n        arr[9] =  new Music(&quot;Paradise&quot;, 2011, &quot;Coldplay&quot;);\r\n        arr[10] = new Music(&quot;Shake it Off&quot;, 2014, &quot;Taylor Swift&quot;);\r\n        arr[11] = new Music(&quot;Savage&quot;, 2021, &quot;Aespa&quot;);\r\n        \r\n        System.out.println(&quot;Original:&quot;);\r\n        printMusic(arr);\r\n        \r\n        \r\n        \r\n        System.out.println(&quot;\\nBinary searching Sicko Mode: Index &quot; + binaryTitle(arr, &quot;Sicko Mode&quot;));\r\n        System.out.println(&quot;\\nBinary searching Taylor Swift: Index &quot; + binaryArtist(arr, &quot;Taylor Swift&quot;));\r\n        \r\n        \r\n        \r\n        \r\n        \r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Music\r\n{\r\n    // instance variables\r\n    private int year;\r\n    private String title;\r\n    private String artist;\r\n\r\n    // Constructor for objects of class Music\r\n    public Music(String t, int y, String a)\r\n    {\r\n        // initialize instance variables\r\n        title = t;\r\n        year = y;\r\n        artist = a;\r\n    }\r\n\r\n    public String getTitle()\r\n    {\r\n        return title;\r\n    }\r\n   \r\n    public void setTitle(String t)\r\n    {\r\n        title = t;\r\n    }\r\n   \r\n    public String getArtist()\r\n    {\r\n        return artist;\r\n    }\r\n    \r\n    public void setArtist(String a)\r\n    {\r\n        artist = a;\r\n    }\r\n   \r\n    public int getYear()\r\n    {\r\n        return year;\r\n    }\r\n    \r\n    public void setTitle(int y)\r\n    {\r\n        year = y;\r\n    }\r\n   \r\n    public String toString()\r\n    {\r\n        String str = String.format( &quot;%-25s %4d   %-20s &quot;, title,  year , artist);\r\n        return str;\r\n    }\r\n}\r\n\r\n```","title":"Binary Search returning -1 in spite of the element existing","body":"<p>For this program, I'm trying to use Binary searching to find a specific element of a given array, such as title, year, or artist. For now, I'm only testing for title and year since they are both strings. But it seems that for some of the input I put in, the program would return -1, even though the input I put in exists on the array. I'm not sure why this happens.</p>\n<p>First is the tester class, second code is the constructor class.</p>\n<pre><code>public class TestMusic\n{\n    public static void printMusic(Music[] arr)\n    {\n        for (Music music : arr)\n        {\n            System.out.println(music.toString());\n        }\n    }\n    \n    public static int binaryTitle(Music[] arr, String title)\n    {\n        int l = 0, r = arr.length - 1;\n        while (l &lt;= r) {\n            int m = l + (r - l) / 2;\n\n            int res = title.compareTo(arr[m].getTitle());\n\n            // Check if x is present at mid\n            if (res == 0)\n                return m;\n\n            // If x greater, ignore left half\n            if (res &gt; 0)\n                l = m + 1;\n\n                // If x is smaller, ignore right half\n            else\n                r = m - 1;\n        }\n\n        return -1;\n    }\n       \n\n    \n    public static int binaryArtist(Music[] arr, String artist)\n    {\n        int l = 0, r = arr.length - 1;\n        while (r - l &gt;= 1) {\n            int m = l + (r-l) / 2;\n\n            int res = artist.compareTo(arr[m].getArtist());\n\n            \n            if (res == 0)\n            {\n                return m;\n            }\n\n            if (res &gt; 0)\n            {\n                l = m + 1;\n            }\n\n            else\n            {\n                r = m - 1;\n            }\n        }\n\n        return -1;\n    }\n    \n    public static void main(String[]args)\n    {\n        Music[] arr = new Music[12];\n        arr[0] =  new Music(&quot;Montero&quot;, 2021, &quot;Lil Nas X&quot;);\n        arr[1] =  new Music(&quot;Dynamite&quot;, 2020, &quot;BTS&quot;);\n        arr[2] =  new Music(&quot;Bad Guy&quot;, 2019, &quot;Billie Eilish&quot;);\n        arr[3] =  new Music(&quot;Sicko Mode&quot;, 2018, &quot;Travis Scott&quot;);\n        arr[4] =  new Music(&quot;Shape of You&quot;, 2017, &quot;Ed Sheeran&quot;);\n        arr[5] =  new Music(&quot;Heathens&quot;, 2016, &quot;Twenty One Pilots&quot;);\n        arr[6] =  new Music(&quot;See You Again&quot;, 2015, &quot;Wiz Khalifa&quot;);\n        arr[7] =  new Music(&quot;All About That Bass&quot;, 2014, &quot;Meghan Trainor&quot;);\n        arr[8] =  new Music(&quot;Wrecking Ball&quot;, 2013, &quot;Miley Cyrus&quot;);\n        arr[9] =  new Music(&quot;Paradise&quot;, 2011, &quot;Coldplay&quot;);\n        arr[10] = new Music(&quot;Shake it Off&quot;, 2014, &quot;Taylor Swift&quot;);\n        arr[11] = new Music(&quot;Savage&quot;, 2021, &quot;Aespa&quot;);\n        \n        System.out.println(&quot;Original:&quot;);\n        printMusic(arr);\n        \n        \n        \n        System.out.println(&quot;\\nBinary searching Sicko Mode: Index &quot; + binaryTitle(arr, &quot;Sicko Mode&quot;));\n        System.out.println(&quot;\\nBinary searching Taylor Swift: Index &quot; + binaryArtist(arr, &quot;Taylor Swift&quot;));\n        \n        \n        \n        \n        \n    }\n}\n</code></pre>\n<pre><code>public class Music\n{\n    // instance variables\n    private int year;\n    private String title;\n    private String artist;\n\n    // Constructor for objects of class Music\n    public Music(String t, int y, String a)\n    {\n        // initialize instance variables\n        title = t;\n        year = y;\n        artist = a;\n    }\n\n    public String getTitle()\n    {\n        return title;\n    }\n   \n    public void setTitle(String t)\n    {\n        title = t;\n    }\n   \n    public String getArtist()\n    {\n        return artist;\n    }\n    \n    public void setArtist(String a)\n    {\n        artist = a;\n    }\n   \n    public int getYear()\n    {\n        return year;\n    }\n    \n    public void setTitle(int y)\n    {\n        year = y;\n    }\n   \n    public String toString()\n    {\n        String str = String.format( &quot;%-25s %4d   %-20s &quot;, title,  year , artist);\n        return str;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1643995383,"post_id":70990359,"comment_id":125495886,"body_markdown":"Your question contains many mentions of something that is not included in your question: &quot;this method&quot; &quot;several ways&quot; and so on. This make sit hard to answer as large parts are missing.","body":"Your question contains many mentions of something that is not included in your question: &quot;this method&quot; &quot;several ways&quot; and so on. This make sit hard to answer as large parts are missing."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1643995761,"post_id":70990359,"comment_id":125496038,"body_markdown":"_&quot;The problem is that it can be changed on rooted phones&quot;_. Well, Google doesn&#39;t want apps to use non-resettable identifiers (such as IMEI), so there&#39;s not really a whole lot you can do about that.","body":"<i>&quot;The problem is that it can be changed on rooted phones&quot;</i>. Well, Google doesn&#39;t want apps to use non-resettable identifiers (such as IMEI), so there&#39;s not really a whole lot you can do about that."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1643995954,"post_id":70990359,"comment_id":125496106,"body_markdown":"See also https://developer.android.com/training/articles/user-data-ids","body":"See also <a href=\"https://developer.android.com/training/articles/user-data-ids\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/user-data-ids</a>"}],"answers":[{"tags":[],"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643995352,"creation_date":1643995352,"answer_id":70990396,"question_id":70990359,"body_markdown":"it&#39;s simple all you have to do is use the below code. this method will return android id now all you have to do is add checks at your backend.\r\n\r\n    val id =  Settings.Secure.getString(\r\n              getContext()?.contentResolver,\r\n              Settings.Secure.ANDROID_ID\r\n              )","title":"how get a unique Android device ID?","body":"<p>it's simple all you have to do is use the below code. this method will return android id now all you have to do is add checks at your backend.</p>\n<pre><code>val id =  Settings.Secure.getString(\n          getContext()?.contentResolver,\n          Settings.Secure.ANDROID_ID\n          )\n</code></pre>\n"}],"owner":{"account_id":12353263,"reputation":1,"user_id":16814839,"display_name":"jijooop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643995352,"creation_date":1643995188,"question_id":70990359,"body_markdown":"According to the policy, we must use this method to register the user\r\n\r\nTherefore, using email or number to register a user is not a good way for us\r\n\r\nAccording to my studies, there are several ways to get a unique ID\r\n\r\nBut each has its own problems\r\n\r\nI need a method that does not require special access from the user\r\n\r\nUsing Android ID is a good method. The problem is that it can be changed on rooted phones\r\n\r\nAnd this is very bad in terms of security, of course, in Android lower than 8\r\n\r\nIs there a specific trick or method to solve this problem?\r\n\r\nI also know an application that does not use Android ID or mac WIFI and Pseudo-Unique ID, but does get the information according to the user&#39;s device. Is there a way to know what method it uses?","title":"how get a unique Android device ID?","body":"<p>According to the policy, we must use this method to register the user</p>\n<p>Therefore, using email or number to register a user is not a good way for us</p>\n<p>According to my studies, there are several ways to get a unique ID</p>\n<p>But each has its own problems</p>\n<p>I need a method that does not require special access from the user</p>\n<p>Using Android ID is a good method. The problem is that it can be changed on rooted phones</p>\n<p>And this is very bad in terms of security, of course, in Android lower than 8</p>\n<p>Is there a specific trick or method to solve this problem?</p>\n<p>I also know an application that does not use Android ID or mac WIFI and Pseudo-Unique ID, but does get the information according to the user's device. Is there a way to know what method it uses?</p>\n"},{"tags":["java","list","arraylist","compare"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1643991575,"post_id":70989429,"comment_id":125494250,"body_markdown":"What is `list2.get_id()` supposed to mean?","body":"What is <code>list2.get_id()</code> supposed to mean?"},{"owner":{"account_id":24036672,"reputation":13,"user_id":18025575,"display_name":"user266671"},"score":0,"creation_date":1643994101,"post_id":70989429,"comment_id":125495337,"body_markdown":"`list2.get_id()` It&#39;s a String","body":"<code>list2.get_id()</code> It&#39;s a String"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1644000104,"post_id":70989429,"comment_id":125497565,"body_markdown":"`List` has no such method. If you&#39;re trying to find an element in the list, you&#39;ll need to iterate over it.","body":"<code>List</code> has no such method. If you&#39;re trying to find an element in the list, you&#39;ll need to iterate over it."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643994383,"creation_date":1643992346,"answer_id":70989781,"question_id":70989429,"body_markdown":"You can compare lists using equals. e.g\r\n```\r\nlist1.equals(list2);\r\n```\r\nHowever,\r\n- order is important.  If lists contain the same content but in different order they will be considered unequal.\r\n- the objects the lists hold must override `equals`.  The criteria for what constitutes two objects of  `TransactionalityIdDBDTO` to be equal are up to you.  Based on your code, it seems that `id` is a good start.\r\n- if you plan on using those objects as keys in a map, you must override `hashCode` too (it&#39;s a good idea to do this anyway).\r\n- if the lists are not in order but you want to consider them equal, then you should probably sort them first based on the id.  You can do that like this.\r\n```\r\nlist1.sort(Comparator.comparing(TransTransactionalityIdDBDTO::get_id));\r\nlist2.sort(Comparator.comparing(TransTransactionalityIdDBDTO::get_id));\r\n```\r\nObjects like `String, Integer, and other wrapper classes` implement `Comparable` which means they can be compared to each other of the same type using the above.  But instead of `get_id` which returns a `String`, say you had get `get_Foo`.  Then the `Foo class` would need to implement comparable or you would have to provide a more detailed comparator on which to sort.\r\n\r\nThere are many examples of Comparing objects on the site.  I recommend you search them using the `[hashCode]`, `[equals]`, `[comparable]` and `[comparator]` tags.  Imo, understanding these and how they work are essential for a reasonable working knowledge of Java.","title":"Compare 2 object arrays in java, perform condition and modify list data?","body":"<p>You can compare lists using equals. e.g</p>\n<pre><code>list1.equals(list2);\n</code></pre>\n<p>However,</p>\n<ul>\n<li>order is important.  If lists contain the same content but in different order they will be considered unequal.</li>\n<li>the objects the lists hold must override <code>equals</code>.  The criteria for what constitutes two objects of  <code>TransactionalityIdDBDTO</code> to be equal are up to you.  Based on your code, it seems that <code>id</code> is a good start.</li>\n<li>if you plan on using those objects as keys in a map, you must override <code>hashCode</code> too (it's a good idea to do this anyway).</li>\n<li>if the lists are not in order but you want to consider them equal, then you should probably sort them first based on the id.  You can do that like this.</li>\n</ul>\n<pre><code>list1.sort(Comparator.comparing(TransTransactionalityIdDBDTO::get_id));\nlist2.sort(Comparator.comparing(TransTransactionalityIdDBDTO::get_id));\n</code></pre>\n<p>Objects like <code>String, Integer, and other wrapper classes</code> implement <code>Comparable</code> which means they can be compared to each other of the same type using the above.  But instead of <code>get_id</code> which returns a <code>String</code>, say you had get <code>get_Foo</code>.  Then the <code>Foo class</code> would need to implement comparable or you would have to provide a more detailed comparator on which to sort.</p>\n<p>There are many examples of Comparing objects on the site.  I recommend you search them using the <code>[hashCode]</code>, <code>[equals]</code>, <code>[comparable]</code> and <code>[comparator]</code> tags.  Imo, understanding these and how they work are essential for a reasonable working knowledge of Java.</p>\n"}],"owner":{"account_id":24036672,"reputation":13,"user_id":18025575,"display_name":"user266671"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643994838,"creation_date":1643990893,"question_id":70989429,"body_markdown":"I have 2 lists in java, and I need to validate when there is a match, I set a field of the first list, I tried to do it with streams, but I don&#39;t know how to compare the two lists, list don&#39;t have same kind of elements I want to do something like this:\r\n\r\n```\r\npublic static List&lt;TransactionalityIdDBDTO&gt; getVariationDateRange(List&lt;TransactionalityIdDBDTO&gt; list1,\r\n                                                                      List&lt;TransactionalityIdDBDTO&gt; list2){\r\n        List&lt;TransactionalityIdDBDTO&gt; idDBDTOS= new ArrayList&lt;&gt;();\r\n        Iterator prueba=list1.iterator();\r\n\r\n        while(prueba.hasNext()){\r\n            TransactionalityIdDBDTO transactionalityIdDBDTO=(TransactionalityIdDBDTO) prueba.next();\r\n            if(transactionalityIdDBDTO.get_id().equals(list2.get_id())){\r\n                transactionalityIdDBDTO.setVariation(&quot;1232&quot;);\r\n                idDBDTOS.add(transactionalityIdDBDTO);\r\n            }\r\n        }\r\n        return idDBDTOS;\r\n    }\r\n```\r\nClase TransactionalityIdDBDTO\r\n```\r\npublic class TransactionalityIdDBDTO extends AbstractDTO {\r\n    private TransactionalityDBDTO _id;\r\n    private String totalTransaction;\r\n    private List&lt;String&gt; idResult;\r\n    private String variation;\r\n```\r\n","title":"Compare 2 object arrays in java, perform condition and modify list data?","body":"<p>I have 2 lists in java, and I need to validate when there is a match, I set a field of the first list, I tried to do it with streams, but I don't know how to compare the two lists, list don't have same kind of elements I want to do something like this:</p>\n<pre><code>public static List&lt;TransactionalityIdDBDTO&gt; getVariationDateRange(List&lt;TransactionalityIdDBDTO&gt; list1,\n                                                                      List&lt;TransactionalityIdDBDTO&gt; list2){\n        List&lt;TransactionalityIdDBDTO&gt; idDBDTOS= new ArrayList&lt;&gt;();\n        Iterator prueba=list1.iterator();\n\n        while(prueba.hasNext()){\n            TransactionalityIdDBDTO transactionalityIdDBDTO=(TransactionalityIdDBDTO) prueba.next();\n            if(transactionalityIdDBDTO.get_id().equals(list2.get_id())){\n                transactionalityIdDBDTO.setVariation(&quot;1232&quot;);\n                idDBDTOS.add(transactionalityIdDBDTO);\n            }\n        }\n        return idDBDTOS;\n    }\n</code></pre>\n<p>Clase TransactionalityIdDBDTO</p>\n<pre><code>public class TransactionalityIdDBDTO extends AbstractDTO {\n    private TransactionalityDBDTO _id;\n    private String totalTransaction;\n    private List&lt;String&gt; idResult;\n    private String variation;\n</code></pre>\n"},{"tags":["java","android","push-notification"],"comments":[{"owner":{"account_id":10270629,"reputation":309,"user_id":7579123,"display_name":"ddassa"},"score":0,"creation_date":1643994999,"post_id":70989743,"comment_id":125495722,"body_markdown":"Use android job manager to handle future/schedule tasks. https://developer.android.com/topic/libraries/architecture/workmanager","body":"Use android job manager to handle future/schedule tasks. <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/workmanag&zwnj;&#8203;er</a>"}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643992656,"creation_date":1643992656,"answer_id":70989850,"question_id":70989743,"body_markdown":"The best bet for this is [Firebase Cloud Messaging][1] . The reason is that you can control when and what to send via a dashboard in your Firebase Console. \r\n\r\nIf you want to do it without a system like Firebase you would need a custom backend implementation. \r\n\r\n\r\n[Medium Article on Implementing Firebase Cloud Messaging Push Notifications][2]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/android/client\r\n  [2]: https://medium.com/mindorks/scheduling-fcm-push-notifications-on-device-android-2d3bb9653b4d","title":"How to send out many different notifications on specific dates?","body":"<p>The best bet for this is <a href=\"https://firebase.google.com/docs/cloud-messaging/android/client\" rel=\"nofollow noreferrer\">Firebase Cloud Messaging</a> . The reason is that you can control when and what to send via a dashboard in your Firebase Console.</p>\n<p>If you want to do it without a system like Firebase you would need a custom backend implementation.</p>\n<p><a href=\"https://medium.com/mindorks/scheduling-fcm-push-notifications-on-device-android-2d3bb9653b4d\" rel=\"nofollow noreferrer\">Medium Article on Implementing Firebase Cloud Messaging Push Notifications</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643993838,"creation_date":1643993508,"answer_id":70990031,"question_id":70989743,"body_markdown":"# `ScheduledExecutorService`\r\n\r\nThe Executors framework can execute a task after a certain amount of time elapses. Use [`ScheduledExecutorService`][1] class.\r\n\r\n    ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\r\n\r\nBe sure to eventually shut down your executor service. Otherwise its backing pool of threads may continue running indefinitely, like a zombie &#129503;‍♂️.\r\n\r\nCalculate the amount of time to wait. \r\n\r\n    LocalDate ld = LocalDate.of( 2022 , Month.FEBRUARY, 23 ) ;\r\n    LocalTime lt = LocalTime.of( 15 , 30 ) ;\r\n    ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\r\n    Instant instant = zdt.toInstant() ;\r\n    Duration d = Duration.between( Instant.now() , instant ) ;\r\n\r\nDefine your task as a `Runnable` or a `Callable`. Submit to the scheduled executor service with a delay.\r\n\r\n    Future future = ses.schedule( task , d.toSeconds() , TimeUnit.SECONDS ) ;\r\n\r\nTrack each returned `Future` object to query if the task is done, or to cancel the task.\r\n\r\nRepeat this scheduling for each task in your list. \r\n\r\nThe scheduled executor service is not persisted. So if you care to pick up where things stood at the time your app last ran, you’ll need to do the persistence yourself to record what tasks are not yet done. \r\n\r\nAll of this has been covered many times already on Stack Overflow. So search to learn more.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html","title":"How to send out many different notifications on specific dates?","body":"<h1><code>ScheduledExecutorService</code></h1>\n<p>The Executors framework can execute a task after a certain amount of time elapses. Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> class.</p>\n<pre><code>ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\n</code></pre>\n<p>Be sure to eventually shut down your executor service. Otherwise its backing pool of threads may continue running indefinitely, like a zombie 🧟‍♂️.</p>\n<p>Calculate the amount of time to wait.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2022 , Month.FEBRUARY, 23 ) ;\nLocalTime lt = LocalTime.of( 15 , 30 ) ;\nZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\nInstant instant = zdt.toInstant() ;\nDuration d = Duration.between( Instant.now() , instant ) ;\n</code></pre>\n<p>Define your task as a <code>Runnable</code> or a <code>Callable</code>. Submit to the scheduled executor service with a delay.</p>\n<pre><code>Future future = ses.schedule( task , d.toSeconds() , TimeUnit.SECONDS ) ;\n</code></pre>\n<p>Track each returned <code>Future</code> object to query if the task is done, or to cancel the task.</p>\n<p>Repeat this scheduling for each task in your list.</p>\n<p>The scheduled executor service is not persisted. So if you care to pick up where things stood at the time your app last ran, you’ll need to do the persistence yourself to record what tasks are not yet done.</p>\n<p>All of this has been covered many times already on Stack Overflow. So search to learn more.</p>\n"}],"owner":{"account_id":23837605,"reputation":3,"user_id":17843137,"display_name":"Castino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643993838,"creation_date":1643992189,"question_id":70989743,"body_markdown":"What is the easiest way to send notifications on a specific date in Java? I don&#39;t need to just send one - I have a list where I can add items and give them a specific date and time. So all of the items have a separate time that I need a notification to be sent out on. \r\n\r\nLater on I might also need to be able to stop a notification from going out if I delete an item from the list or have a notification&#39;s date be changed if I change the date of the according item in the list. But first I just need to get the notification part working. ","title":"How to send out many different notifications on specific dates?","body":"<p>What is the easiest way to send notifications on a specific date in Java? I don't need to just send one - I have a list where I can add items and give them a specific date and time. So all of the items have a separate time that I need a notification to be sent out on.</p>\n<p>Later on I might also need to be able to stop a notification from going out if I delete an item from the list or have a notification's date be changed if I change the date of the according item in the list. But first I just need to get the notification part working.</p>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1643993036,"post_id":70989845,"comment_id":125494894,"body_markdown":"Your code makes zero sense to me. Assuming this is the click event handler, it will run for that single click event, and it will not &quot;see&quot; other clicks, because that will be processed *after*, and even if it would, this would run so fast, that a  user wouldn&#39;t even have time to click a second button... It might be better to say what you&#39;re trying to do, and maybe read some books or tutorials on Swing.","body":"Your code makes zero sense to me. Assuming this is the click event handler, it will run for that single click event, and it will not &quot;see&quot; other clicks, because that will be processed <i>after</i>, and even if it would, this would run so fast, that a  user wouldn&#39;t even have time to click a second button... It might be better to say what you&#39;re trying to do, and maybe read some books or tutorials on Swing."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1643996001,"post_id":70989845,"comment_id":125496121,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  The [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html) section will show you how to use buttons.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  The <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a> section will show you how to use buttons."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1644017709,"post_id":70989845,"comment_id":125502483,"body_markdown":"@Shaia Schlie: Lose the &quot;while&quot; loops.  You should instead call addActionListener() to register an &quot;event handler&quot; to respond to your button presses.","body":"@Shaia Schlie: Lose the &quot;while&quot; loops.  You should instead call addActionListener() to register an &quot;event handler&quot; to respond to your button presses."}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643993437,"creation_date":1643993016,"answer_id":70989933,"question_id":70989845,"body_markdown":"If you design your program differently, you probably don&#39;t need the loop or e.getSource().\r\n\r\nInstead, you usually assign an event handler that &quot;does something&quot; (e.g. print a message, or change a state variable) when the button is pressed.\r\n\r\nEXAMPLE:\r\n\r\nhttps://www.tutorialspoint.com/swing/swing_jbutton.htm\r\n\r\n      JButton okButton = new JButton(&quot;OK&quot;);   \r\n      okButton.addActionListener(new ActionListener() {\r\n         public void actionPerformed(ActionEvent e) {\r\n            statusLabel.setText(&quot;Ok Button clicked.&quot;);\r\n         }          \r\n      });\r\n\r\nIn this case, the button&#39;s &quot;event handler&quot; is an &quot;Anonymous class&quot; that implements a custom [actionPerformed()](http://www.java2s.com/Tutorial/Java/0260__Swing-Event/WritingaListenerasanAnonymousClass.htm) method.\r\n\r\nIfyou ","title":"Do JButtons really act like this?","body":"<p>If you design your program differently, you probably don't need the loop or e.getSource().</p>\n<p>Instead, you usually assign an event handler that &quot;does something&quot; (e.g. print a message, or change a state variable) when the button is pressed.</p>\n<p>EXAMPLE:</p>\n<p><a href=\"https://www.tutorialspoint.com/swing/swing_jbutton.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/swing/swing_jbutton.htm</a></p>\n<pre><code>  JButton okButton = new JButton(&quot;OK&quot;);   \n  okButton.addActionListener(new ActionListener() {\n     public void actionPerformed(ActionEvent e) {\n        statusLabel.setText(&quot;Ok Button clicked.&quot;);\n     }          \n  });\n</code></pre>\n<p>In this case, the button's &quot;event handler&quot; is an &quot;Anonymous class&quot; that implements a custom <a href=\"http://www.java2s.com/Tutorial/Java/0260__Swing-Event/WritingaListenerasanAnonymousClass.htm\" rel=\"nofollow noreferrer\">actionPerformed()</a> method.</p>\n<p>Ifyou</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643993111,"creation_date":1643993111,"answer_id":70989948,"question_id":70989845,"body_markdown":"You don&#39;t have to put it inside a loop. You usually implement an action listener that gets called when you click. \r\n\r\nAs you can tell if you put it inside a while it will never go out.\r\n\r\nLook at the tutorial\r\n\r\nhttps://docs.oracle.com/javase/tutorial/uiswing/components/button.html\r\n\r\nIs something like this: \r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (&quot;disable&quot;.equals(e.getActionCommand())) {\r\n             // do something \r\n        } else {\r\n\r\n        }\r\n    } \r\n\r\n","title":"Do JButtons really act like this?","body":"<p>You don't have to put it inside a loop. You usually implement an action listener that gets called when you click.</p>\n<p>As you can tell if you put it inside a while it will never go out.</p>\n<p>Look at the tutorial</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/components/button.html</a></p>\n<p>Is something like this:</p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n    if (&quot;disable&quot;.equals(e.getActionCommand())) {\n         // do something \n    } else {\n\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":23775493,"reputation":1,"user_id":17789014,"display_name":"Shaia Schlie"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1644023800,"answer_count":2,"score":-3,"last_activity_date":1643993533,"creation_date":1643992633,"question_id":70989845,"body_markdown":"    boolean bool1 = true;\r\n    boolean bool2 = false;\r\n    boolean bool3 = true;\r\n    \r\n    while (bool3) {\r\n        while (bool1) {\r\n            if (e.GetSource() == button1) {\r\n                System.out.println(&quot;1&quot;);\r\n                bool2 = true;\r\n                bool1 = false;\r\n            } else if (e.getSource() == button2) {\r\n                System.out.println(&quot;2&quot;);\r\n                bool2 = true;\r\n                bool1 = false;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n\r\n        while (bool2) {\r\n            if (e.GetSource() == button1) {\r\n                System.out.println(&quot;1&quot;);\r\n                bool2 = false;\r\n                bool3 = false;\r\n            } else if (e.getSource() == button2) {\r\n                System.out.println(&quot;2&quot;);\r\n                bool2 = false;\r\n                bool3 = false;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;done&quot;);\r\n\r\nWhen I click on button1 which is inside the while(bool1) it prints 1, but after that I don&#39;t even have enough time to click another button because the button1 inside while(bool2) also prints which leaves me with 2 print statements even if I only clicked 1 button.","title":"Do JButtons really act like this?","body":"<pre><code>boolean bool1 = true;\nboolean bool2 = false;\nboolean bool3 = true;\n\nwhile (bool3) {\n    while (bool1) {\n        if (e.GetSource() == button1) {\n            System.out.println(&quot;1&quot;);\n            bool2 = true;\n            bool1 = false;\n        } else if (e.getSource() == button2) {\n            System.out.println(&quot;2&quot;);\n            bool2 = true;\n            bool1 = false;\n        } else {\n            return;\n        }\n    }\n\n    while (bool2) {\n        if (e.GetSource() == button1) {\n            System.out.println(&quot;1&quot;);\n            bool2 = false;\n            bool3 = false;\n        } else if (e.getSource() == button2) {\n            System.out.println(&quot;2&quot;);\n            bool2 = false;\n            bool3 = false;\n        } else {\n            return;\n        }\n    }\n}\n\nSystem.out.println(&quot;done&quot;);\n</code></pre>\n<p>When I click on button1 which is inside the while(bool1) it prints 1, but after that I don't even have enough time to click another button because the button1 inside while(bool2) also prints which leaves me with 2 print statements even if I only clicked 1 button.</p>\n"},{"tags":["java","maven","github-actions","debian-packaging"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643993866,"post_id":70989984,"comment_id":125495245,"body_markdown":"Use [rpm-maven-plugin](https://www.mojohaus.org/rpm-maven-plugin/)","body":"Use <a href=\"https://www.mojohaus.org/rpm-maven-plugin/\" rel=\"nofollow noreferrer\">rpm-maven-plugin</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643996365,"post_id":70989984,"comment_id":125496262,"body_markdown":"Have I said so.. you can of course the debian one...","body":"Have I said so.. you can of course the debian one..."}],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643993279,"creation_date":1643993279,"question_id":70989984,"body_markdown":"## Introduction\r\n\r\nI am currently creating a Java Maven project and wanted to build the project in a Linux package.\r\n\r\nI found some links to build a Debian packages :\r\n- https://fracpete.github.io/debian-maven-plugin/usage.html\r\n- https://torstencurdt.com/tech/posts/building-debian-packages-in-java/\r\n\r\n## Problematic\r\n\r\nBut I was wondering if it is possible to automate building a Linux package (Debian, Ubuntu Fedora..), with GitHub Actions.\r\n\r\nI wanted to automate this with GitHub actions, for example when we create a release in GitHub repository, GitHub actions automatically add `.deb` `.rpm` in the release files.\r\n\r\n## Question\r\n\r\nDo you know if there is a GitHub Actions to do this? or do you know how to do it?\r\n","title":"GitHub Actions with Java to build automatically Linux packages","body":"<h2>Introduction</h2>\n<p>I am currently creating a Java Maven project and wanted to build the project in a Linux package.</p>\n<p>I found some links to build a Debian packages :</p>\n<ul>\n<li><a href=\"https://fracpete.github.io/debian-maven-plugin/usage.html\" rel=\"nofollow noreferrer\">https://fracpete.github.io/debian-maven-plugin/usage.html</a></li>\n<li><a href=\"https://torstencurdt.com/tech/posts/building-debian-packages-in-java/\" rel=\"nofollow noreferrer\">https://torstencurdt.com/tech/posts/building-debian-packages-in-java/</a></li>\n</ul>\n<h2>Problematic</h2>\n<p>But I was wondering if it is possible to automate building a Linux package (Debian, Ubuntu Fedora..), with GitHub Actions.</p>\n<p>I wanted to automate this with GitHub actions, for example when we create a release in GitHub repository, GitHub actions automatically add <code>.deb</code> <code>.rpm</code> in the release files.</p>\n<h2>Question</h2>\n<p>Do you know if there is a GitHub Actions to do this? or do you know how to do it?</p>\n"},{"tags":["java","queue","jms","activemq"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644842930,"post_id":70981903,"comment_id":125705065,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643985205,"creation_date":1643985205,"answer_id":70988090,"question_id":70981903,"body_markdown":"Assuming the message isn&#39;t too large, you could serialize it into a bytes message and send the whole file to the broker.\r\n\r\nYou might also consider moving to ActiveMQ Artemis as it supports arbitrarily [large messages][1].\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/large-messages.html","title":"Can we send an XML file directly to an ActiveMQ queue?","body":"<p>Assuming the message isn't too large, you could serialize it into a bytes message and send the whole file to the broker.</p>\n<p>You might also consider moving to ActiveMQ Artemis as it supports arbitrarily <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/large-messages.html\" rel=\"nofollow noreferrer\">large messages</a>.</p>\n"}],"owner":{"account_id":19104785,"reputation":1,"user_id":13952186,"display_name":"Saim Akhter Siddiqi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643992973,"creation_date":1643953161,"question_id":70981903,"body_markdown":"Right now I have an application that uses a DOM parser to covert the XML file into a message and then send it to ActiveMQ. I was wondering whether can we send the XML file as it is to the queue and then consume and process it?","title":"Can we send an XML file directly to an ActiveMQ queue?","body":"<p>Right now I have an application that uses a DOM parser to covert the XML file into a message and then send it to ActiveMQ. I was wondering whether can we send the XML file as it is to the queue and then consume and process it?</p>\n"},{"tags":["java","android","sqlite","android-room"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1643985119,"post_id":70980897,"comment_id":125491345,"body_markdown":"What is the format of your dates in the table?","body":"What is the format of your dates in the table?"},{"owner":{"account_id":18183758,"reputation":158,"user_id":13230961,"display_name":"Dante Culaciati"},"score":0,"creation_date":1643990939,"post_id":70980897,"comment_id":125493975,"body_markdown":"@forpas Dates are stored as Longs, (technically 8 byte long integers if I&#39;m not mistaken), since Room does not allow to store &quot;complex data&quot; (in other words, it [doesn&#39;t support object references](https://developer.android.com/training/data-storage/room/referencing-data).","body":"@forpas Dates are stored as Longs, (technically 8 byte long integers if I&#39;m not mistaken), since Room does not allow to store &quot;complex data&quot; (in other words, it <a href=\"https://developer.android.com/training/data-storage/room/referencing-data\" rel=\"nofollow noreferrer\">doesn&#39;t support object references</a>."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643949257,"creation_date":1643946847,"answer_id":70981243,"question_id":70980897,"body_markdown":"Strftime&#39;s `%s` returns the date time in seconds, ofEpochDay returns the number of days since 1970-01-01. So you need to compare likewise.\r\n\r\nI believe that you might be able to use :-\r\n\r\n    @Query(&quot;SELECT * FROM objectives &quot; +\r\n                &quot;WHERE end_date &gt;= CAST(strftime(&#39;%J&#39;,&#39;now&#39;) - strftime(&#39;%J&#39;,&#39;1970-01-01&#39;) AS INTEGER) &quot; +\r\n                &quot;AND start_date &lt;= CAST(strftime(&#39;%J&#39;,&#39;now&#39;) - strftime(&#39;%J&#39;,&#39;1970-01-01&#39;) AS INTEGER);&quot;)\r\n\r\nbased upon [strftime][1] and [LocalDate][2] but I&#39;m unsure if there are discrepancies. I would suggest not storing the data in such an awkward format and storing it in a format that is recognised by SQLite as a datetime (as per the link below)\r\n\r\n\r\n  [1]: https://sqlite.org/lang_datefunc.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"How to compare two dates using Android Room?","body":"<p>Strftime's <code>%s</code> returns the date time in seconds, ofEpochDay returns the number of days since 1970-01-01. So you need to compare likewise.</p>\n<p>I believe that you might be able to use :-</p>\n<pre><code>@Query(&quot;SELECT * FROM objectives &quot; +\n            &quot;WHERE end_date &gt;= CAST(strftime('%J','now') - strftime('%J','1970-01-01') AS INTEGER) &quot; +\n            &quot;AND start_date &lt;= CAST(strftime('%J','now') - strftime('%J','1970-01-01') AS INTEGER);&quot;)\n</code></pre>\n<p>based upon <a href=\"https://sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\">strftime</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> but I'm unsure if there are discrepancies. I would suggest not storing the data in such an awkward format and storing it in a format that is recognised by SQLite as a datetime (as per the link below)</p>\n"}],"owner":{"account_id":18183758,"reputation":158,"user_id":13230961,"display_name":"Dante Culaciati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70981243,"answer_count":1,"score":0,"last_activity_date":1643992895,"creation_date":1643943117,"question_id":70980897,"body_markdown":"## Summary ##\r\nI&#39;m making an Android app, and I have a Room entity called `Objective` which, among other things, stores its `startDate` and `endDate`.  \r\nI would like to make a query in which I can retrieve the &quot;active&quot; objectives, or in other words, the objectives which have already started, but haven&#39;t yet ended.\r\n\r\nThis is what I&#39;ve got so far:\r\n\r\n### Query ###\r\n```\r\n@Dao\r\npublic interface ObjectiveDao {\r\n    /* some code goes here... */\r\n\r\n    /*\r\n       For an objective to be active, its start date should be before the current day,\r\n       and its end date should be after the current day.\r\n    */\r\n    @Query(&quot;SELECT * FROM objectives &quot; +\r\n            &quot;WHERE end_date &gt;= strftime(&#39;%s&#39;, &#39;now&#39;) + 0 &quot; +\r\n            &quot;AND start_date &lt;= strftime(&#39;%s&#39;, &#39;now&#39;) + 0&quot;)\r\n    List&lt;Objective&gt; getActive();\r\n\r\n    /* rest of the code goes here... */\r\n}\r\n```\r\n## Problem ##\r\nMy problem lies in the fact that, when I call this method, an empty list is returned, instead of the expected list of active objectives\r\n(at least this has happened in the various tests I&#39;ve tried to run).\r\n\r\n(See the edit at the bottom to see what was wrong with this problem.)\r\n\r\n----------\r\n\r\n\r\n## Extra information ##\r\n\r\nI will also include my `Entity`, `TypeConverter`, `RoomDatabase` and testing code just in case it can help you with anything.\r\n\r\n### Entity ###\r\n```\r\n@Entity(tableName = &quot;objectives&quot;)\r\npublic class Objective {\r\n    @PrimaryKey(autoGenerate = true)\r\n    private int id;\r\n    \r\n    /* \r\n        I feel like I don&#39;t need to \r\n        include the whole thing, just the part that matters.\r\n    */\r\n    \r\n    @ColumnInfo(name = &quot;start_date&quot;)\r\n    private LocalDate startDate;\r\n\r\n    @ColumnInfo(name = &quot;end_date&quot;)\r\n    private LocalDate endDate;\r\n\r\n    public Objective() {\r\n        this(&quot;&quot;, ObjectiveType.OBJECTIVE_DO, 0, LocalDate.now(), LocalDate.now().plusDays(1));\r\n    }\r\n\r\n    public Objective(String title, ObjectiveType type, int quantity, LocalDate startDate, LocalDate endDate) {\r\n        this.title = title;\r\n        this.type = type;\r\n        this.quantity = quantity;\r\n        this.startDate = startDate;\r\n        this.endDate = endDate;\r\n        id = 0;\r\n    }\r\n\r\n    /* rest of the code goes here...*/\r\n}\r\n```\r\n\r\n### TypeConverters ###\r\n```\r\npublic class Converters {\r\n    @TypeConverter\r\n    public static LocalDate fromTimestamp(Long value) {\r\n        return value == null ? null : LocalDate.ofEpochDay(value);\r\n    }\r\n\r\n    @TypeConverter\r\n    public static Long localDateToTimestamp(LocalDate date) {\r\n        return date == null ? null : date.toEpochDay();\r\n    }\r\n    /* rest of the code goes here...*/\r\n}\r\n```\r\n\r\n### RoomDatabase ###\r\n```\r\n@Database(entities = {Objective.class}, version = 1)\r\n@TypeConverters({Converters.class})\r\npublic abstract class AppDatabase extends RoomDatabase {\r\n    public abstract ObjectiveDao getObjectiveDao();\r\n}\r\n```\r\n\r\n### Instrumented Test ###\r\n```\r\nclass TestUtil {\r\n    static Objective createObjective() {\r\n        Objective objective = new Objective();\r\n        objective.setTitle(&quot;Test Objective&quot;);\r\n        objective.setType(ObjectiveType.OBJECTIVE_DO);\r\n        objective.setQuantity(10);\r\n        objective.setStartDate(LocalDate.now());\r\n        objective.setEndDate(LocalDate.now().plusDays(1));\r\n\r\n        return objective;\r\n    }\r\n}\r\n\r\npublic class ObjectivesInstrumentedTest {\r\n    private ObjectiveDao objectiveDao;\r\n    private AppDatabase db;\r\n\r\n    @Before\r\n    public void createDb() {\r\n        Context context = ApplicationProvider.getApplicationContext();\r\n        db = Room.inMemoryDatabaseBuilder(context, AppDatabase.class).build();\r\n        objectiveDao = db.getObjectiveDao();\r\n    }\r\n\r\n    @After\r\n    public void closeDb() throws IOException {\r\n        db.close();\r\n    }\r\n\r\n    @Test\r\n    public void objectiveIsInsertedIntoDatabase() {\r\n        Objective objective = TestUtil.createObjective();\r\n        /*\r\n            id is set to 1 because, otherwise, Room automatically sets the ID to 1,\r\n            and when the objects are compared they do not match. (a value of 0 counts as null).\r\n        */\r\n        objective.setId(1);\r\n        objectiveDao.insert(objective);\r\n        List&lt;Objective&gt; objectives = objectiveDao.getAll();\r\n        assertThat(objectives.get(0), equalTo(objective));\r\n    }\r\n\r\n    @Test\r\n    public void objectiveIsActive() {\r\n        Objective objective = TestUtil.createObjective();\r\n        objective.setId(1);\r\n        objectiveDao.insert(objective);\r\n        List&lt;Objective&gt; objectives = objectiveDao.getActive();\r\n        assertThat(objectives.get(0), equalTo(objective));\r\n    }\r\n}\r\n```\r\n\r\nIn case you want to know, the first test runs just fine, but I get an `IndexOutOfBoundsException` when running the second one.\r\n\r\nI hope you can help me solve this problem, and thank you in advance for taking the time to read through this and think about any possible solutions.\r\n\r\n#### Edit ####\r\nAs @MikeT pointed out, I was storing these dates not as seconds, nor as unix timestamps, but as days elapsed since 1970-01-01.","title":"How to compare two dates using Android Room?","body":"<h2>Summary</h2>\n<p>I'm making an Android app, and I have a Room entity called <code>Objective</code> which, among other things, stores its <code>startDate</code> and <code>endDate</code>.<br />\nI would like to make a query in which I can retrieve the &quot;active&quot; objectives, or in other words, the objectives which have already started, but haven't yet ended.</p>\n<p>This is what I've got so far:</p>\n<h3>Query</h3>\n<pre><code>@Dao\npublic interface ObjectiveDao {\n    /* some code goes here... */\n\n    /*\n       For an objective to be active, its start date should be before the current day,\n       and its end date should be after the current day.\n    */\n    @Query(&quot;SELECT * FROM objectives &quot; +\n            &quot;WHERE end_date &gt;= strftime('%s', 'now') + 0 &quot; +\n            &quot;AND start_date &lt;= strftime('%s', 'now') + 0&quot;)\n    List&lt;Objective&gt; getActive();\n\n    /* rest of the code goes here... */\n}\n</code></pre>\n<h2>Problem</h2>\n<p>My problem lies in the fact that, when I call this method, an empty list is returned, instead of the expected list of active objectives\n(at least this has happened in the various tests I've tried to run).</p>\n<p>(See the edit at the bottom to see what was wrong with this problem.)</p>\n<hr />\n<h2>Extra information</h2>\n<p>I will also include my <code>Entity</code>, <code>TypeConverter</code>, <code>RoomDatabase</code> and testing code just in case it can help you with anything.</p>\n<h3>Entity</h3>\n<pre><code>@Entity(tableName = &quot;objectives&quot;)\npublic class Objective {\n    @PrimaryKey(autoGenerate = true)\n    private int id;\n    \n    /* \n        I feel like I don't need to \n        include the whole thing, just the part that matters.\n    */\n    \n    @ColumnInfo(name = &quot;start_date&quot;)\n    private LocalDate startDate;\n\n    @ColumnInfo(name = &quot;end_date&quot;)\n    private LocalDate endDate;\n\n    public Objective() {\n        this(&quot;&quot;, ObjectiveType.OBJECTIVE_DO, 0, LocalDate.now(), LocalDate.now().plusDays(1));\n    }\n\n    public Objective(String title, ObjectiveType type, int quantity, LocalDate startDate, LocalDate endDate) {\n        this.title = title;\n        this.type = type;\n        this.quantity = quantity;\n        this.startDate = startDate;\n        this.endDate = endDate;\n        id = 0;\n    }\n\n    /* rest of the code goes here...*/\n}\n</code></pre>\n<h3>TypeConverters</h3>\n<pre><code>public class Converters {\n    @TypeConverter\n    public static LocalDate fromTimestamp(Long value) {\n        return value == null ? null : LocalDate.ofEpochDay(value);\n    }\n\n    @TypeConverter\n    public static Long localDateToTimestamp(LocalDate date) {\n        return date == null ? null : date.toEpochDay();\n    }\n    /* rest of the code goes here...*/\n}\n</code></pre>\n<h3>RoomDatabase</h3>\n<pre><code>@Database(entities = {Objective.class}, version = 1)\n@TypeConverters({Converters.class})\npublic abstract class AppDatabase extends RoomDatabase {\n    public abstract ObjectiveDao getObjectiveDao();\n}\n</code></pre>\n<h3>Instrumented Test</h3>\n<pre><code>class TestUtil {\n    static Objective createObjective() {\n        Objective objective = new Objective();\n        objective.setTitle(&quot;Test Objective&quot;);\n        objective.setType(ObjectiveType.OBJECTIVE_DO);\n        objective.setQuantity(10);\n        objective.setStartDate(LocalDate.now());\n        objective.setEndDate(LocalDate.now().plusDays(1));\n\n        return objective;\n    }\n}\n\npublic class ObjectivesInstrumentedTest {\n    private ObjectiveDao objectiveDao;\n    private AppDatabase db;\n\n    @Before\n    public void createDb() {\n        Context context = ApplicationProvider.getApplicationContext();\n        db = Room.inMemoryDatabaseBuilder(context, AppDatabase.class).build();\n        objectiveDao = db.getObjectiveDao();\n    }\n\n    @After\n    public void closeDb() throws IOException {\n        db.close();\n    }\n\n    @Test\n    public void objectiveIsInsertedIntoDatabase() {\n        Objective objective = TestUtil.createObjective();\n        /*\n            id is set to 1 because, otherwise, Room automatically sets the ID to 1,\n            and when the objects are compared they do not match. (a value of 0 counts as null).\n        */\n        objective.setId(1);\n        objectiveDao.insert(objective);\n        List&lt;Objective&gt; objectives = objectiveDao.getAll();\n        assertThat(objectives.get(0), equalTo(objective));\n    }\n\n    @Test\n    public void objectiveIsActive() {\n        Objective objective = TestUtil.createObjective();\n        objective.setId(1);\n        objectiveDao.insert(objective);\n        List&lt;Objective&gt; objectives = objectiveDao.getActive();\n        assertThat(objectives.get(0), equalTo(objective));\n    }\n}\n</code></pre>\n<p>In case you want to know, the first test runs just fine, but I get an <code>IndexOutOfBoundsException</code> when running the second one.</p>\n<p>I hope you can help me solve this problem, and thank you in advance for taking the time to read through this and think about any possible solutions.</p>\n<h4>Edit</h4>\n<p>As @MikeT pointed out, I was storing these dates not as seconds, nor as unix timestamps, but as days elapsed since 1970-01-01.</p>\n"},{"tags":["java","android","multithreading","service","singleton"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1643991845,"post_id":70989611,"comment_id":125494377,"body_markdown":"Where is it creating a new instance?","body":"Where is it creating a new instance?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1643992109,"post_id":70989611,"comment_id":125494509,"body_markdown":"The best way to create a Singleton is to use Java Enums. Here&#39;s a quick read: https://www.baeldung.com/java-singleton","body":"The best way to create a Singleton is to use Java Enums. Here&#39;s a quick read: <a href=\"https://www.baeldung.com/java-singleton\" rel=\"nofollow noreferrer\">baeldung.com/java-singleton</a>"},{"owner":{"account_id":24157130,"reputation":11,"user_id":18121230,"display_name":"Jakub Sroka"},"score":0,"creation_date":1643992175,"post_id":70989611,"comment_id":125494540,"body_markdown":"when im trying to access Singleton in Service class. The first attempt ends with creating a new instance","body":"when im trying to access Singleton in Service class. The first attempt ends with creating a new instance"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643992304,"post_id":70989611,"comment_id":125494591,"body_markdown":"Why are you asking some &quot;holder&quot; class for a Singleton instead of asking the Singleton itself?","body":"Why are you asking some &quot;holder&quot; class for a Singleton instead of asking the Singleton itself?"},{"owner":{"account_id":24157130,"reputation":11,"user_id":18121230,"display_name":"Jakub Sroka"},"score":0,"creation_date":1643992599,"post_id":70989611,"comment_id":125494714,"body_markdown":"@hfontanez , beacouse im trying to code it in every way, hope i ll find one that will works","body":"@hfontanez , beacouse im trying to code it in every way, hope i ll find one that will works"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643992747,"post_id":70989611,"comment_id":125494772,"body_markdown":"@JakubSroka then simply create the singleton and ask it for a reference of itself. That&#39;s how the Singleton Design Pattern works. No need to morph it into something else.","body":"@JakubSroka then simply create the singleton and ask it for a reference of itself. That&#39;s how the Singleton Design Pattern works. No need to morph it into something else."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1643992848,"post_id":70989611,"comment_id":125494819,"body_markdown":"Ignore @hfontanez advice - it&#39;s dubious at best. `enum` doesn&#39;t exactly scream &quot;singleton!&quot;, after all. The &#39;holder&#39; solution as OP is employing here is totally fine. If that log line is printing more than once, something else is going wrong, and e.g. &#39;use an enum!&#39; is not going to fix this. re-classloading or android specific shenanigans perhaps.","body":"Ignore @hfontanez advice - it&#39;s dubious at best. <code>enum</code> doesn&#39;t exactly scream &quot;singleton!&quot;, after all. The &#39;holder&#39; solution as OP is employing here is totally fine. If that log line is printing more than once, something else is going wrong, and e.g. &#39;use an enum!&#39; is not going to fix this. re-classloading or android specific shenanigans perhaps."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1643992890,"post_id":70989611,"comment_id":125494834,"body_markdown":"@hfontanez this &#39;holder&#39; thing __is__ the singleton pattern. OP is not asking for the holder, they&#39;re asking for the singleton. Which is in the holder, but the holder is an implementation detail.","body":"@hfontanez this &#39;holder&#39; thing <b>is</b> the singleton pattern. OP is not asking for the holder, they&#39;re asking for the singleton. Which is in the holder, but the holder is an implementation detail."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1643993084,"post_id":70989611,"comment_id":125494906,"body_markdown":"This thread is a bit funny; lots of folks falling all over themselves trying to explain what&#39;s wrong with your code. __There is nothing wrong with your code__, that is an industry standard singleton. The problem is presumably android-specific: It is unloading your app in between calls. Trivial proof: Run that code in a standard JVM to see that the constructor is only ever invoked precisely once.","body":"This thread is a bit funny; lots of folks falling all over themselves trying to explain what&#39;s wrong with your code. <b>There is nothing wrong with your code</b>, that is an industry standard singleton. The problem is presumably android-specific: It is unloading your app in between calls. Trivial proof: Run that code in a standard JVM to see that the constructor is only ever invoked precisely once."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643993120,"post_id":70989611,"comment_id":125494929,"body_markdown":"@rzwitserloot dubious? LOL.... Alright, I guess Joshua Bloch and the rest of the Java architects got it wrong. I see. I&#39;ll make sure they get your memo.","body":"@rzwitserloot dubious? LOL.... Alright, I guess Joshua Bloch and the rest of the Java architects got it wrong. I see. I&#39;ll make sure they get your memo."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1643993217,"post_id":70989611,"comment_id":125494969,"body_markdown":"The holder pattern is a bit more recent. The enum &#39;trick&#39; is not bad, just, not quite as good as the holder solution. Answering a question with &quot;Hey, instead of &#39;this totally fine thing&#39;, why not use &#39;this equivalent alternative instead&#39;&quot; - wastes OP&#39;s time.","body":"The holder pattern is a bit more recent. The enum &#39;trick&#39; is not bad, just, not quite as good as the holder solution. Answering a question with &quot;Hey, instead of &#39;this totally fine thing&#39;, why not use &#39;this equivalent alternative instead&#39;&quot; - wastes OP&#39;s time."},{"owner":{"account_id":24157130,"reputation":11,"user_id":18121230,"display_name":"Jakub Sroka"},"score":0,"creation_date":1643993284,"post_id":70989611,"comment_id":125495002,"body_markdown":"@hfontanez I used a singleton before, and everything was fine, but when I try to use it in Service it creating another instance. its a bit weried, and making me mad","body":"@hfontanez I used a singleton before, and everything was fine, but when I try to use it in Service it creating another instance. its a bit weried, and making me mad"}],"answers":[{"tags":[],"owner":{"account_id":18507938,"reputation":57,"user_id":13483843,"display_name":"Hunter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643992456,"creation_date":1643992456,"answer_id":70989802,"question_id":70989611,"body_markdown":"   may be you can write like this, which is named DCL(double check lock). \r\n\r\n\r\n    private volatile static AttachmentsUpdateQueue instance = null;\r\n    private AttachmentsUpdateQueue(){\r\n        System.out.println(&quot;Single: &quot; + System.nanoTime());\r\n    }\r\n    \r\n    public static AttachmentsUpdateQueue getInstance(){\r\n        if(instance == null){\r\n            synchronized (AttachmentsUpdateQueue.class) {\r\n                if(instance == null){\r\n                    singleInstance = new AttachmentsUpdateQueue();\r\n                }\r\n            }\r\n        }\r\n        return instance;\r\n    }\r\n","title":"Thread-safe Singleton class","body":"<p>may be you can write like this, which is named DCL(double check lock).</p>\n<pre><code>private volatile static AttachmentsUpdateQueue instance = null;\nprivate AttachmentsUpdateQueue(){\n    System.out.println(&quot;Single: &quot; + System.nanoTime());\n}\n\npublic static AttachmentsUpdateQueue getInstance(){\n    if(instance == null){\n        synchronized (AttachmentsUpdateQueue.class) {\n            if(instance == null){\n                singleInstance = new AttachmentsUpdateQueue();\n            }\n        }\n    }\n    return instance;\n}\n</code></pre>\n"}],"owner":{"account_id":24157130,"reputation":11,"user_id":18121230,"display_name":"Jakub Sroka"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643992579,"creation_date":1643991714,"question_id":70989611,"body_markdown":"in my project i am trying to use singleton class to store data in it. When im trying to access it from Service class, its creating new instance instead of using previous Singleton instance. I read a lot of post on github and couldn&#39;t find working answer\r\n\r\nMy Singleton class\r\n\r\n```\r\nimport android.util.Log;\r\nimport com.softelnet.ksavi.android.model.AttachmentRequest;\r\nimport java.util.LinkedList;\r\n\r\npublic class AttachmentsUpdateQueue {\r\n\r\n\r\n    private static class Holder {\r\n        private static final AttachmentsUpdateQueue singleInstance = new AttachmentsUpdateQueue();\r\n    }\r\n\r\n\r\n    private AttachmentsUpdateQueue() {\r\n        Log.d(&quot;pox&quot;, &quot;new instance&quot;);\r\n    }\r\n\r\n    private LinkedList&lt;AttachmentRequest&gt; attachmentsQueue = new LinkedList&lt;&gt;();\r\n\r\n    public static AttachmentsUpdateQueue getInstance() {\r\n        return Holder.singleInstance;\r\n\r\n    }\r\n\r\n    public AttachmentRequest getAttachmentForUpload() {\r\n        Log.d(&quot;pox&quot;, &quot;get, size:&quot; + attachmentsQueue.size());\r\n        if (attachmentsQueue.size() &gt; 0) {\r\n            return attachmentsQueue.get(0);\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    public int getSize() {\r\n        return attachmentsQueue.size();\r\n    }\r\n\r\n    public void addAttachmentForUpload(AttachmentRequest attachment) {\r\n        attachmentsQueue.addLast(attachment);\r\n        Log.d(&quot;pox&quot;, &quot;added, size:&quot; + attachmentsQueue.size());\r\n    }\r\n}\r\n```\r\n\r\nAdding data to Singleton\r\n```\r\nAttachmentsUpdateQueue.getInstance().addAttachmentForUpload(new AttachmentRequest(oprCtx.getUser(),task.getId(),attachment,isAttribute));\r\n```\r\n\r\nGetting data from Singleton\r\n```\r\n AttachmentRequest req = AttachmentsUpdateQueue.getInstance().getAttachmentForUpload();\r\n```","title":"Thread-safe Singleton class","body":"<p>in my project i am trying to use singleton class to store data in it. When im trying to access it from Service class, its creating new instance instead of using previous Singleton instance. I read a lot of post on github and couldn't find working answer</p>\n<p>My Singleton class</p>\n<pre><code>import android.util.Log;\nimport com.softelnet.ksavi.android.model.AttachmentRequest;\nimport java.util.LinkedList;\n\npublic class AttachmentsUpdateQueue {\n\n\n    private static class Holder {\n        private static final AttachmentsUpdateQueue singleInstance = new AttachmentsUpdateQueue();\n    }\n\n\n    private AttachmentsUpdateQueue() {\n        Log.d(&quot;pox&quot;, &quot;new instance&quot;);\n    }\n\n    private LinkedList&lt;AttachmentRequest&gt; attachmentsQueue = new LinkedList&lt;&gt;();\n\n    public static AttachmentsUpdateQueue getInstance() {\n        return Holder.singleInstance;\n\n    }\n\n    public AttachmentRequest getAttachmentForUpload() {\n        Log.d(&quot;pox&quot;, &quot;get, size:&quot; + attachmentsQueue.size());\n        if (attachmentsQueue.size() &gt; 0) {\n            return attachmentsQueue.get(0);\n        } else {\n            return null;\n        }\n\n    }\n\n    public int getSize() {\n        return attachmentsQueue.size();\n    }\n\n    public void addAttachmentForUpload(AttachmentRequest attachment) {\n        attachmentsQueue.addLast(attachment);\n        Log.d(&quot;pox&quot;, &quot;added, size:&quot; + attachmentsQueue.size());\n    }\n}\n</code></pre>\n<p>Adding data to Singleton</p>\n<pre><code>AttachmentsUpdateQueue.getInstance().addAttachmentForUpload(new AttachmentRequest(oprCtx.getUser(),task.getId(),attachment,isAttribute));\n</code></pre>\n<p>Getting data from Singleton</p>\n<pre><code> AttachmentRequest req = AttachmentsUpdateQueue.getInstance().getAttachmentForUpload();\n</code></pre>\n"},{"tags":["java","unit-testing","testing","mockito","retry-logic"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1643841151,"post_id":70963645,"comment_id":125449943,"body_markdown":"What are the condition(s) that `doSomething()` would throw?  The test needs to be able to set those conditions, either through an input or perhaps through an injected mocked dependency.  Note that the scope of methods/fields should not be increased to support unit tests.  If it&#39;s hard to test, then the class needs to be refactored (probably using dependency injection).","body":"What are the condition(s) that <code>doSomething()</code> would throw?  The test needs to be able to set those conditions, either through an input or perhaps through an injected mocked dependency.  Note that the scope of methods/fields should not be increased to support unit tests.  If it&#39;s hard to test, then the class needs to be refactored (probably using dependency injection)."},{"owner":{"account_id":2191855,"reputation":195,"user_id":1938670,"accept_rate":40,"display_name":"askaka12"},"score":0,"creation_date":1643842558,"post_id":70963645,"comment_id":125450302,"body_markdown":"`doSomething` writes to a database through a client and there is a rare chance that this operation might go wrong and throw an exception.\nIs there no way to force `someFunction` to throw an exception the first time and then not throw an exception the second time? That would be the retry succeeding case, and then I suppose I&#39;d also need to test `someFunction` failing all 5 times and resulting in `ExceptionTwo`","body":"<code>doSomething</code> writes to a database through a client and there is a rare chance that this operation might go wrong and throw an exception. Is there no way to force <code>someFunction</code> to throw an exception the first time and then not throw an exception the second time? That would be the retry succeeding case, and then I suppose I&#39;d also need to test <code>someFunction</code> failing all 5 times and resulting in <code>ExceptionTwo</code>"},{"owner":{"account_id":2191855,"reputation":195,"user_id":1938670,"accept_rate":40,"display_name":"askaka12"},"score":0,"creation_date":1643842986,"post_id":70963645,"comment_id":125450397,"body_markdown":"I was hoping that there would be a way to do something similar to the `doThrow` I have above for the `someFunction` method; and so I can call `someMethod` in my test and then do something like `verify(mockObject, times(2)).someFunction()` to check whether `someFunction` ran twice.","body":"I was hoping that there would be a way to do something similar to the <code>doThrow</code> I have above for the <code>someFunction</code> method; and so I can call <code>someMethod</code> in my test and then do something like <code>verify(mockObject, times(2)).someFunction()</code> to check whether <code>someFunction</code> ran twice."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1643843100,"post_id":70963645,"comment_id":125450430,"body_markdown":"That `client` should be an injected dependency so it can be mocked.  And using the other mocktio syntax to chain, the setup would be something like `when(mockClient.write(any())).thenThrow(new ExcpetionOne()).thenReturn(...success...);`","body":"That <code>client</code> should be an injected dependency so it can be mocked.  And using the other mocktio syntax to chain, the setup would be something like <code>when(mockClient.write(any())).thenThrow(new ExcpetionOne()).thenReturn(...success...);</code>"},{"owner":{"account_id":2191855,"reputation":195,"user_id":1938670,"accept_rate":40,"display_name":"askaka12"},"score":0,"creation_date":1643900365,"post_id":70963645,"comment_id":125466510,"body_markdown":"The database in question in Amazon DynamoDB. The way the current class that has `doSomething` is initialized is through supplying a `DynamoDBMapper`. Supposing the class is called `MyClass`, I suppose you mean I would have to do something like `MyClass mockObject = new MyClass(mockMapper)`?\nIf so, another question I have is, do I mock the mapper or the client? The mapper is created by supplying a client. Do I only mock the client, then create a mapper through that mockClient, and then create MyClass through that mockMapper?","body":"The database in question in Amazon DynamoDB. The way the current class that has <code>doSomething</code> is initialized is through supplying a <code>DynamoDBMapper</code>. Supposing the class is called <code>MyClass</code>, I suppose you mean I would have to do something like <code>MyClass mockObject = new MyClass(mockMapper)</code>? If so, another question I have is, do I mock the mapper or the client? The mapper is created by supplying a client. Do I only mock the client, then create a mapper through that mockClient, and then create MyClass through that mockMapper?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1643900729,"post_id":70963645,"comment_id":125466684,"body_markdown":"Mock whatever `doSomething()` invokes.  It may be helpful to update the question with the body of `doSomething()`.","body":"Mock whatever <code>doSomething()</code> invokes.  It may be helpful to update the question with the body of <code>doSomething()</code>."},{"owner":{"account_id":2031794,"reputation":393,"user_id":1815284,"display_name":"ouid"},"score":0,"creation_date":1643908185,"post_id":70963645,"comment_id":125470023,"body_markdown":"If you want to test retry functionality in a unit-test, then one way of doing it would be to relax visibility of `someFunction()` to package-private and then just mock it in the test as you did for `someMethod()`. In general it&#39;s fine to relax a visibility of a method for better testability. Guava even has `@VisibleForTesting` annotation for documenting such cases. This annotation is used to &quot;annotate a program element that exists, or is more widely visible than otherwise necessary, only for use in test code.&quot;","body":"If you want to test retry functionality in a unit-test, then one way of doing it would be to relax visibility of <code>someFunction()</code> to package-private and then just mock it in the test as you did for <code>someMethod()</code>. In general it&#39;s fine to relax a visibility of a method for better testability. Guava even has <code>@VisibleForTesting</code> annotation for documenting such cases. This annotation is used to &quot;annotate a program element that exists, or is more widely visible than otherwise necessary, only for use in test code.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2191855,"reputation":195,"user_id":1938670,"accept_rate":40,"display_name":"askaka12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643992189,"creation_date":1643992189,"answer_id":70989744,"question_id":70963645,"body_markdown":"I ended up scrapping my current retry logic and using an external library to do the retry instead.","title":"Mockito unit testing a retry logic","body":"<p>I ended up scrapping my current retry logic and using an external library to do the retry instead.</p>\n"}],"owner":{"account_id":2191855,"reputation":195,"user_id":1938670,"accept_rate":40,"display_name":"askaka12"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643992189,"creation_date":1643840585,"question_id":70963645,"body_markdown":"I have a piece of code that retries when it fails with `ExceptionOne`, and if it continues to fail, it will throw a `ExceptionTwo`. I want to test this behavior, but am not sure how to.\r\n```\r\npublic void someMethod(String x) {\r\n    boolean retry;\r\n    int try = 0;\r\n    do {\r\n        retry = false;\r\n        try {\r\n             someFunction(x);\r\n        } catch (ExceptionOne e) {\r\n            if (try &lt; 5) {\r\n                retry = true;\r\n                attempt++;\r\n            } else {\r\n                throw new ExceptionTwo();\r\n            }\r\n        }\r\n    } while (retry);\r\n    \r\n}\r\n\r\nprivate void someFunction(String x) {\r\n    doSomething(); //This can throw ExceptionOne\r\n}\r\n```\r\n\r\nSuppose these functions are inside a `SomeClass`. I mocked `SomeClass` and tried something like\r\n```\r\ndoThrow(new ExceptionOne()).doNothing().when(mockObject).someMethod(any())\r\n```\r\nfor consecutive calls, but this isn&#39;t quite what I am looking for since I believe this is really testing the someMethod, not `someFunction` or the retry functionality.\r\n\r\nHow do you test something like this? That is, how do I verify that the behavior that when `someFunction` fails with ExceptionOne, it will retry until it succeeds or until it runs out of retries and throws an ExceptionTwo?","title":"Mockito unit testing a retry logic","body":"<p>I have a piece of code that retries when it fails with <code>ExceptionOne</code>, and if it continues to fail, it will throw a <code>ExceptionTwo</code>. I want to test this behavior, but am not sure how to.</p>\n<pre><code>public void someMethod(String x) {\n    boolean retry;\n    int try = 0;\n    do {\n        retry = false;\n        try {\n             someFunction(x);\n        } catch (ExceptionOne e) {\n            if (try &lt; 5) {\n                retry = true;\n                attempt++;\n            } else {\n                throw new ExceptionTwo();\n            }\n        }\n    } while (retry);\n    \n}\n\nprivate void someFunction(String x) {\n    doSomething(); //This can throw ExceptionOne\n}\n</code></pre>\n<p>Suppose these functions are inside a <code>SomeClass</code>. I mocked <code>SomeClass</code> and tried something like</p>\n<pre><code>doThrow(new ExceptionOne()).doNothing().when(mockObject).someMethod(any())\n</code></pre>\n<p>for consecutive calls, but this isn't quite what I am looking for since I believe this is really testing the someMethod, not <code>someFunction</code> or the retry functionality.</p>\n<p>How do you test something like this? That is, how do I verify that the behavior that when <code>someFunction</code> fails with ExceptionOne, it will retry until it succeeds or until it runs out of retries and throws an ExceptionTwo?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643931004,"post_id":70979571,"comment_id":125477667,"body_markdown":"Similar: [*How do I get a unicode character from an id in a variable?*](https://stackoverflow.com/q/68581899/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/68581899/642706\"><i>How do I get a unicode character from an id in a variable?</i></a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643931167,"post_id":70979571,"comment_id":125477696,"body_markdown":"Welcome to Stack Overflow. A couple tips as a new user here: (a) Be respectful to your future readers: Use proper uppercase and such. This site is meant to be more like Wikipedia, and less like a casual chat room. (b) Eliminate chit-chat such as &quot;Thanks in advance&quot;, as that is seen merely as a distraction here. Focus on the technical issue. I made edits to your Question to address both points.","body":"Welcome to Stack Overflow. A couple tips as a new user here: (a) Be respectful to your future readers: Use proper uppercase and such. This site is meant to be more like Wikipedia, and less like a casual chat room. (b) Eliminate chit-chat such as &quot;Thanks in advance&quot;, as that is seen merely as a distraction here. Focus on the technical issue. I made edits to your Question to address both points."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643934585,"post_id":70979571,"comment_id":125478348,"body_markdown":"Should point out that in real world applications, it is INCORRECT to assume that a Unicode code point may be represented as a single `char` or a `Character`.  Or that every integer in the range `0` ... `65535` represents a Unicode code point.","body":"Should point out that in real world applications, it is INCORRECT to assume that a Unicode code point may be represented as a single <code>char</code> or a <code>Character</code>.  Or that every integer in the range <code>0</code> ... <code>65535</code> represents a Unicode code point."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1643991725,"creation_date":1643930806,"answer_id":70979707,"question_id":70979571,"body_markdown":"# tl;dr\r\n\r\n    Character.toString( 65 )\r\n\r\n&gt;A\r\n\r\n# `Character.toString( codePoint )`\r\n\r\nYou said:\r\n\r\n&gt;I would like to get the unicode character corresponding to the input int\r\n\r\n    String character = Character.toString( codePoint ) ;\r\n\r\nSee these examples [run live at IdeOne.com][1]: \r\n\r\n    System.out.println( Character.toString( 65 ) ) ;               // &quot;A&quot;\r\n\r\n&gt;A\r\n\r\n    String faceWithMedicalMask = Character.toString( 128_567 ) ;  // &quot;&#128567;&quot; = FACE WITH MEDICAL MASK.\r\n    System.out.println( FaceWithMedicalMask ) ;                   \r\n\r\n\r\n&gt;&#128567;\r\n\r\nNot all code points are assigned to encoded characters. Check that your input integer [is indeed a valid code point][2].\r\n\r\n    int codePoint = 128_567 ;\r\n    String faceWithMedicalMask = null ;\r\n    if( Character.isValidCodePoint( codePoint ) ) {\r\n        faceWithMedicalMask = Character.toString( codePoint ) ;\r\n    } else {\r\n        … deal with invalid code point\r\n    }\r\n\r\n# Avoid `char` &amp; `Character` types\r\n\r\nYou said:\r\n\r\n&gt;You can assume that input int can be represented as char in java.\r\n\r\nNo, you cannot assume that. \r\n\r\nMost of the over 140,000 characters defined in [Unicode][3], and supported by Java, **cannot be represented by the `char`** type. As a 16-bit value, a `char` is physically incapable.\r\n\r\nThe `char` type has been essentially broken since Java 2, supplanted by [code point][4] support added in Java 5+. \r\n\r\n# Casting `int` to `char`\r\n\r\nIf you insist on using `char`, against my recommendation, then know that you can cast an `int` number into a `char` value. \r\n\r\n    char c = (char) 66 ; \r\n    System.out.println( c ) ;\r\n\r\n&gt;B\r\n\r\n**BEWARE:** This only works for code points in the range of 0 to 65,535. Most Unicode characters have code points beyond that range, going up to 1,114,111. \r\n\r\nThat 0 to 65,535 range is known in Unicode as the [*Basic Multilingual Plane (BMP)*][5]. Java provides a method to test for this range, [`Character.isBmpCodePoint(int codePoint)`][6]. You can check before your cast:\r\n\r\n    if( Character.isBmpCodePoint( codePoint ) ) {\r\n        char c = (char) 66 ; \r\n    } else {\r\n        … deal with input out of range\r\n    }\r\n\r\nNot all code points are assigned to encoded characters. Check that your input integer [is indeed a valid code point][2].\r\n\r\n\r\n    if( Character.isBmpCodePoint( codePoint ) ) {\r\n        if( Character.isValidCodePoint( codePoint ) ) {\r\n            char c = (char) 66 ; \r\n        } else {\r\n            … deal with invalid code point\r\n        }\r\n    } else {\r\n        … deal with input out of range\r\n    }\r\n\r\n\r\n  [1]: https://ideone.com/MtNE3m\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isValidCodePoint(int)\r\n  [3]: https://en.wikipedia.org/wiki/Unicode\r\n  [4]: https://en.wikipedia.org/wiki/Code_point\r\n  [5]: https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isBmpCodePoint(int)","title":"How to convert Unicode to char","body":"<h1>tl;dr</h1>\n<pre><code>Character.toString( 65 )\n</code></pre>\n<blockquote>\n<p>A</p>\n</blockquote>\n<h1><code>Character.toString( codePoint )</code></h1>\n<p>You said:</p>\n<blockquote>\n<p>I would like to get the unicode character corresponding to the input int</p>\n</blockquote>\n<pre><code>String character = Character.toString( codePoint ) ;\n</code></pre>\n<p>See these examples <a href=\"https://ideone.com/MtNE3m\" rel=\"nofollow noreferrer\">run live at IdeOne.com</a>:</p>\n<pre><code>System.out.println( Character.toString( 65 ) ) ;               // &quot;A&quot;\n</code></pre>\n<blockquote>\n<p>A</p>\n</blockquote>\n<pre><code>String faceWithMedicalMask = Character.toString( 128_567 ) ;  // &quot;😷&quot; = FACE WITH MEDICAL MASK.\nSystem.out.println( FaceWithMedicalMask ) ;                   \n</code></pre>\n<blockquote>\n<p>😷</p>\n</blockquote>\n<p>Not all code points are assigned to encoded characters. Check that your input integer <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isValidCodePoint(int)\" rel=\"nofollow noreferrer\">is indeed a valid code point</a>.</p>\n<pre><code>int codePoint = 128_567 ;\nString faceWithMedicalMask = null ;\nif( Character.isValidCodePoint( codePoint ) ) {\n    faceWithMedicalMask = Character.toString( codePoint ) ;\n} else {\n    … deal with invalid code point\n}\n</code></pre>\n<h1>Avoid <code>char</code> &amp; <code>Character</code> types</h1>\n<p>You said:</p>\n<blockquote>\n<p>You can assume that input int can be represented as char in java.</p>\n</blockquote>\n<p>No, you cannot assume that.</p>\n<p>Most of the over 140,000 characters defined in <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a>, and supported by Java, <strong>cannot be represented by the <code>char</code></strong> type. As a 16-bit value, a <code>char</code> is physically incapable.</p>\n<p>The <code>char</code> type has been essentially broken since Java 2, supplanted by <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> support added in Java 5+.</p>\n<h1>Casting <code>int</code> to <code>char</code></h1>\n<p>If you insist on using <code>char</code>, against my recommendation, then know that you can cast an <code>int</code> number into a <code>char</code> value.</p>\n<pre><code>char c = (char) 66 ; \nSystem.out.println( c ) ;\n</code></pre>\n<blockquote>\n<p>B</p>\n</blockquote>\n<p><strong>BEWARE:</strong> This only works for code points in the range of 0 to 65,535. Most Unicode characters have code points beyond that range, going up to 1,114,111.</p>\n<p>That 0 to 65,535 range is known in Unicode as the <a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\" rel=\"nofollow noreferrer\"><em>Basic Multilingual Plane (BMP)</em></a>. Java provides a method to test for this range, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isBmpCodePoint(int)\" rel=\"nofollow noreferrer\"><code>Character.isBmpCodePoint(int codePoint)</code></a>. You can check before your cast:</p>\n<pre><code>if( Character.isBmpCodePoint( codePoint ) ) {\n    char c = (char) 66 ; \n} else {\n    … deal with input out of range\n}\n</code></pre>\n<p>Not all code points are assigned to encoded characters. Check that your input integer <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isValidCodePoint(int)\" rel=\"nofollow noreferrer\">is indeed a valid code point</a>.</p>\n<pre><code>if( Character.isBmpCodePoint( codePoint ) ) {\n    if( Character.isValidCodePoint( codePoint ) ) {\n        char c = (char) 66 ; \n    } else {\n        … deal with invalid code point\n    }\n} else {\n    … deal with input out of range\n}\n</code></pre>\n"}],"owner":{"account_id":17205609,"reputation":15,"user_id":12456257,"display_name":"TinyButBig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70979707,"answer_count":1,"score":1,"last_activity_date":1643991725,"creation_date":1643929892,"question_id":70979571,"body_markdown":"I would like to get the Unicode character corresponding to the input int. You can assume that input `int` can be represented as `char` in Java.\r\n\r\n","title":"How to convert Unicode to char","body":"<p>I would like to get the Unicode character corresponding to the input int. You can assume that input <code>int</code> can be represented as <code>char</code> in Java.</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":0,"creation_date":1644421150,"post_id":70989508,"comment_id":125603192,"body_markdown":"Did you find an inefficient solution that solved the problem? It could possibly be a good starting point for an efficient solution. If so, you could add it to your question.","body":"Did you find an inefficient solution that solved the problem? It could possibly be a good starting point for an efficient solution. If so, you could add it to your question."}],"owner":{"account_id":8792542,"reputation":21,"user_id":6571759,"display_name":"Shivam Rathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643991247,"creation_date":1643991247,"question_id":70989508,"body_markdown":"I got this question in the programming round of a job Interview. Any pointers towards an efficient solution would be much appreciated.\r\n\r\nGiven an *n* by *m* matrix and an integer *k*, where each element in the matrix is an integer from *1* to *k*, remove all elements from the matrix. To remove an element, select an element and remove it and all occurrences of the element in the same row and column of the matrix. **Return the minimum number of such operations required to remove all elements from the matrix.**\r\n\r\n**Example:** Given a matrix as follows:\r\n\r\n      { 2, 2, 1 },\r\n      { 1, 1, 1 },\r\n      { 2, 3, 3 },\r\nwe can choose the element at (2,3) in the first operation and remove it. Then the matrix looks like:\r\n\r\n      { 2, 2, x },\r\n      { x, x, x },\r\n      { 2, 3, 3 },\r\nwe can choose the element at (1,1) in the sexond operation and remove it. Then the matrix looks like:\r\n\r\n      { x, x, x },\r\n      { x, x, x },\r\n      { x, 3, 3 },\r\nwe can choose the element at (3,3) in the third operation and remove it. Then the matrix looks like:\r\n\r\n      { x, x, x },\r\n      { x, x, x },\r\n      { x, x, x },\r\n**Output:**\r\n\r\n    3\r\n**Constraints:**\r\n\r\n    \r\n\r\n - 1 &lt;= *n* &lt;= 100\r\n - 1 &lt;= *m* &lt;= 100\r\n - 1 &lt;= *k* &lt;= 50\r\n\r\n ","title":"Min operations to remove all elements from a 2-D matrix","body":"<p>I got this question in the programming round of a job Interview. Any pointers towards an efficient solution would be much appreciated.</p>\n<p>Given an <em>n</em> by <em>m</em> matrix and an integer <em>k</em>, where each element in the matrix is an integer from <em>1</em> to <em>k</em>, remove all elements from the matrix. To remove an element, select an element and remove it and all occurrences of the element in the same row and column of the matrix. <strong>Return the minimum number of such operations required to remove all elements from the matrix.</strong></p>\n<p><strong>Example:</strong> Given a matrix as follows:</p>\n<pre><code>  { 2, 2, 1 },\n  { 1, 1, 1 },\n  { 2, 3, 3 },\n</code></pre>\n<p>we can choose the element at (2,3) in the first operation and remove it. Then the matrix looks like:</p>\n<pre><code>  { 2, 2, x },\n  { x, x, x },\n  { 2, 3, 3 },\n</code></pre>\n<p>we can choose the element at (1,1) in the sexond operation and remove it. Then the matrix looks like:</p>\n<pre><code>  { x, x, x },\n  { x, x, x },\n  { x, 3, 3 },\n</code></pre>\n<p>we can choose the element at (3,3) in the third operation and remove it. Then the matrix looks like:</p>\n<pre><code>  { x, x, x },\n  { x, x, x },\n  { x, x, x },\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>3\n</code></pre>\n<p><strong>Constraints:</strong></p>\n<ul>\n<li>1 &lt;= <em>n</em> &lt;= 100</li>\n<li>1 &lt;= <em>m</em> &lt;= 100</li>\n<li>1 &lt;= <em>k</em> &lt;= 50</li>\n</ul>\n"},{"tags":["java","spring","web.xml","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":2529186,"reputation":3484,"user_id":2197837,"accept_rate":25,"display_name":"Praneeth Ramesh"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1594112597,"creation_date":1493845434,"answer_id":43769987,"question_id":43769781,"body_markdown":"Since Filter is not a spring bean(it is a web component) the injections won&#39;t work inside them. Springs wont inject inside web component.\r\n\r\nuse a DelegatingFilterProxy, this is a filter implementation that takes a springbean name as init param and delegates the filter request to that bean.\r\n\r\n\r\n    &lt;filter&gt;\r\n      &lt;filter-name&gt;myFilter&lt;/filter-name&gt;\r\n      &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;targetBeanName&lt;/param-name&gt;\r\n        &lt;param-value&gt;myFilterBean&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    \r\n    &lt;filter-mapping&gt;\r\n      &lt;filter-name&gt;myFilter&lt;/filter-name&gt;\r\n      &lt;url-pattern&gt;/myFilterPattern/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\nAnd create a Bean with name myFilterBean in your spring context.\r\n\r\n    public class MyFilter extends GenericFilterBean {\r\n    \r\n        @Autowired\r\n        InjectedBean someInjectedBean;\r\n     \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response,\r\n          FilterChain chain) throws IOException, ServletException {\r\n            chain.doFilter(request, response);\r\n        }\r\n    }","title":"Spring injection in Filter implementation mapped in web.xml","body":"<p>Since Filter is not a spring bean(it is a web component) the injections won't work inside them. Springs wont inject inside web component.</p>\n<p>use a DelegatingFilterProxy, this is a filter implementation that takes a springbean name as init param and delegates the filter request to that bean.</p>\n<pre><code>&lt;filter&gt;\n  &lt;filter-name&gt;myFilter&lt;/filter-name&gt;\n  &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;targetBeanName&lt;/param-name&gt;\n    &lt;param-value&gt;myFilterBean&lt;/param-value&gt;\n  &lt;/init-param&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;myFilter&lt;/filter-name&gt;\n  &lt;url-pattern&gt;/myFilterPattern/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>And create a Bean with name myFilterBean in your spring context.</p>\n<pre><code>public class MyFilter extends GenericFilterBean {\n\n    @Autowired\n    InjectedBean someInjectedBean;\n \n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n      FilterChain chain) throws IOException, ServletException {\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16562022,"reputation":101,"user_id":11967711,"display_name":"SarangRN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643991090,"creation_date":1641924044,"answer_id":70671377,"question_id":43769781,"body_markdown":"One more solution if you are using spring security and extending the OncePerRequestFilter\r\n```\r\n@Component\r\npublic class CustomAuthorizationFilter extends OncePerRequestFilter{\r\n\r\n    @Autowired\r\n    ResourceConfig resourceConfig;\r\n\r\n    public CustomAuthorizationFilter() {\r\n            SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n    }\r\n//...your code\r\n```\r\nits important to pull the details from resourceConfig in doFilterInternal block only so you will get values else you may end up at null pointer exception. ","title":"Spring injection in Filter implementation mapped in web.xml","body":"<p>One more solution if you are using spring security and extending the OncePerRequestFilter</p>\n<pre><code>@Component\npublic class CustomAuthorizationFilter extends OncePerRequestFilter{\n\n    @Autowired\n    ResourceConfig resourceConfig;\n\n    public CustomAuthorizationFilter() {\n            SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n    }\n//...your code\n</code></pre>\n<p>its important to pull the details from resourceConfig in doFilterInternal block only so you will get values else you may end up at null pointer exception.</p>\n"}],"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43769987,"answer_count":2,"score":0,"last_activity_date":1643991090,"creation_date":1493844639,"question_id":43769781,"body_markdown":"web.xml:\r\n\r\n    &lt;filter&gt;\r\n    \t&lt;filter-name&gt;myFilter&lt;/filter-name&gt;\r\n    \t&lt;filter-class&gt;com.mypackage.MyFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    \r\n    &lt;filter-mapping&gt;\r\n    \t&lt;filter-name&gt;myFilter&lt;/filter-name&gt;\r\n    \t&lt;url-pattern&gt;/myFilterPattern/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nMyFilter:\r\n\r\n    public class MyFilter implements Filter {\r\n    \r\n        @Autowired\r\n        InjectedBean someInjectedBean;\r\n\r\nHowever, when intercepting `/myFilterPattern/*` requests, `someInjectedBean` in `MyFilter.doFilter(...)` is still null, meaning it has not been injected. The same bean (`InjectedBean `) is injected fine in other context components that are not referenced in web.xml.\r\n\r\n**Is it because container filtering takes place outside the Spring context? Is there any way to have Spring injection in Filter implementation mapped in web.xml?**","title":"Spring injection in Filter implementation mapped in web.xml","body":"<p>web.xml:</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;myFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.mypackage.MyFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;myFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/myFilterPattern/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>MyFilter:</p>\n\n<pre><code>public class MyFilter implements Filter {\n\n    @Autowired\n    InjectedBean someInjectedBean;\n</code></pre>\n\n<p>However, when intercepting <code>/myFilterPattern/*</code> requests, <code>someInjectedBean</code> in <code>MyFilter.doFilter(...)</code> is still null, meaning it has not been injected. The same bean (<code>InjectedBean</code>) is injected fine in other context components that are not referenced in web.xml.</p>\n\n<p><strong>Is it because container filtering takes place outside the Spring context? Is there any way to have Spring injection in Filter implementation mapped in web.xml?</strong></p>\n"},{"tags":["java","string","utf-8","character-encoding","plaintext"],"comments":[{"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"score":7,"creation_date":1304184064,"post_id":5843407,"comment_id":6710808,"body_markdown":"i doubt the input file is just `&lt; menu &gt;` I&#39;m guessing there are other characters at the front. If the file is truely UTF-8 then your code should be fine.","body":"i doubt the input file is just <code>&lt; menu &gt;</code> I&#39;m guessing there are other characters at the front. If the file is truely UTF-8 then your code should be fine."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1304184789,"post_id":5843407,"comment_id":6710920,"body_markdown":"`trim()` and `equals()` work the same regardless of where the String came from. I suggest you look at what your program is doing in a debugger to see what is really going on.","body":"<code>trim()</code> and <code>equals()</code> work the same regardless of where the String came from. I suggest you look at what your program is doing in a debugger to see what is really going on."},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":8,"creation_date":1304187981,"post_id":5843407,"comment_id":6711373,"body_markdown":"Your UTF8 file may contains a BOM and Java can&#39;t handle that. See this related question : http://stackoverflow.com/questions/4897876/reading-utf-8-bom-marker","body":"Your UTF8 file may contains a BOM and Java can&#39;t handle that. See this related question : <a href=\"http://stackoverflow.com/questions/4897876/reading-utf-8-bom-marker\" title=\"reading utf 8 bom marker\">stackoverflow.com/questions/4897876/reading-utf-8-bom-marker</a>"},{"owner":{"account_id":285534,"reputation":1683,"user_id":584260,"accept_rate":100,"display_name":"Axel Knauf"},"score":0,"creation_date":1304189995,"post_id":5843407,"comment_id":6711621,"body_markdown":"+1 for the [byte order mark (BOM)](https://secure.wikimedia.org/wikipedia/en/wiki/Byte_order_mark#UTF-8). Is `&lt;menu&gt;` the root tag of your file and the special characters appear there?","body":"+1 for the <a href=\"https://secure.wikimedia.org/wikipedia/en/wiki/Byte_order_mark#UTF-8\" rel=\"nofollow noreferrer\">byte order mark (BOM)</a>. Is <code>&lt;menu&gt;</code> the root tag of your file and the special characters appear there?"},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1304203457,"post_id":5843407,"comment_id":6713403,"body_markdown":"Never use BOMs with UTF-8.  They are neither required nor recommended. They are a very bad idea, actually a form of Microsoft bug.","body":"Never use BOMs with UTF-8.  They are neither required nor recommended. They are a very bad idea, actually a form of Microsoft bug."},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1304203517,"post_id":5843407,"comment_id":6713407,"body_markdown":"Also, unless you call the other form of the constructor, the one that reads `InputStreamReader(InputStream in, CharsetDecoder dec)`, you will not be notified of encoding errors.","body":"Also, unless you call the other form of the constructor, the one that reads <code>InputStreamReader(InputStream in, CharsetDecoder dec)</code>, you will not be notified of encoding errors."},{"owner":{"account_id":745495,"reputation":9,"user_id":732588,"display_name":"Youssef"},"score":0,"creation_date":1304213772,"post_id":5843407,"comment_id":6714454,"body_markdown":"Thank you for the replies, i just solved the problem using a non BOM UTF-8 encoded file.","body":"Thank you for the replies, i just solved the problem using a non BOM UTF-8 encoded file."},{"owner":{"account_id":231541,"reputation":3509,"user_id":495832,"accept_rate":71,"display_name":"Alan Escreet"},"score":0,"creation_date":1305728383,"post_id":5843407,"comment_id":6994970,"body_markdown":"btw, there is no such thing as &quot;plain text&quot; without character encoding. All characters are always encoded - even ASCII. They are stored in the end as binary bits. Reading it with the wrong encoding will give undefined results, such as reading a character array out of an integer in C++. Thankfully in Java, you can&#39;t do such extreme nonsense.","body":"btw, there is no such thing as &quot;plain text&quot; without character encoding. All characters are always encoded - even ASCII. They are stored in the end as binary bits. Reading it with the wrong encoding will give undefined results, such as reading a character array out of an integer in C++. Thankfully in Java, you can&#39;t do such extreme nonsense."},{"owner":{"account_id":17315236,"reputation":111,"user_id":12541862,"display_name":"Abrar Malekji"},"score":0,"creation_date":1611735154,"post_id":5843407,"comment_id":116543006,"body_markdown":"Try changing to UTF-16.","body":"Try changing to UTF-16."}],"answers":[{"tags":[],"owner":{"account_id":391608,"reputation":809,"user_id":752366,"display_name":"EricParis16"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305727653,"creation_date":1305727653,"answer_id":6046062,"question_id":5843407,"body_markdown":"If your jdk is not getting too old (1.5) you can do it like this :\r\n\r\n    Locale frLocale = new Locale(&quot;fr&quot;, &quot;FR&quot;);\r\n    Scanner scanner = new Scanner(new FileInputStream(file), &quot;UTF-8&quot;);\r\n    scanner.useLocale(frLocale);\r\n    \r\n    for (; scanner.hasNextLine(); numLine++) {\r\n     line = scanner.nextLine();\r\n    }\r\n\r\nThe scanner can also use delimiters other than whitespace. This example reads several items in from a string:\r\n\r\n             String input = &quot;1 fish 2 fish red fish blue fish&quot;;\r\n             Scanner s = new Scanner(input).useDelimiter(&quot;\\\\s*fish\\\\s*&quot;);\r\n             System.out.println(s.nextInt());\r\n             System.out.println(s.nextInt());\r\n             System.out.println(s.next());\r\n             System.out.println(s.next());\r\n             s.close(); \r\n    \r\n    prints the following output:\r\n    \r\n             1\r\n             2\r\n             red\r\n             blue \r\n\r\n[see Doc for Scanner here][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html","title":"UTF-8 to String in Java","body":"<p>If your jdk is not getting too old (1.5) you can do it like this :</p>\n\n<pre><code>Locale frLocale = new Locale(\"fr\", \"FR\");\nScanner scanner = new Scanner(new FileInputStream(file), \"UTF-8\");\nscanner.useLocale(frLocale);\n\nfor (; scanner.hasNextLine(); numLine++) {\n line = scanner.nextLine();\n}\n</code></pre>\n\n<p>The scanner can also use delimiters other than whitespace. This example reads several items in from a string:</p>\n\n<pre><code>         String input = \"1 fish 2 fish red fish blue fish\";\n         Scanner s = new Scanner(input).useDelimiter(\"\\\\s*fish\\\\s*\");\n         System.out.println(s.nextInt());\n         System.out.println(s.nextInt());\n         System.out.println(s.next());\n         System.out.println(s.next());\n         s.close(); \n\nprints the following output:\n\n         1\n         2\n         red\n         blue \n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html\" rel=\"nofollow\">see Doc for Scanner here</a></p>\n"}],"owner":{"account_id":745495,"reputation":9,"user_id":732588,"display_name":"Youssef"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643990735,"creation_date":1304183984,"question_id":5843407,"body_markdown":"I am having a little problem with the UTF-8 charset. I have a UTF-8 encoded file which I want to load and analyze. I am using BufferedReader to read the file line by line.\r\n\r\n    BufferedReader buffReader = new BufferedReader(new InputStreamReader\r\n    (new FileInputStream(file),&quot;UTF-8&quot;));\r\nMy problem is that the normals String methods (trim() and equals() for example) in Java are not suitable to use with the line read from the BufferReader in every iteration of the loop that I created to read all the content of the BufferedReader.\r\nFor example, in the encoded file, I have `&lt; menu &gt;` which I want my program to treat it as it is, however, for now, it is seen as `?? &lt;  m e n u  &gt;` mixed with some others strange characters.\r\nI want to know if there is a way to remove all the charset codifications and keep just the plain text so I can use all the methods of the String class without complications.\r\nThank you","title":"UTF-8 to String in Java","body":"<p>I am having a little problem with the UTF-8 charset. I have a UTF-8 encoded file which I want to load and analyze. I am using BufferedReader to read the file line by line.</p>\n\n<pre><code>BufferedReader buffReader = new BufferedReader(new InputStreamReader\n(new FileInputStream(file),\"UTF-8\"));\n</code></pre>\n\n<p>My problem is that the normals String methods (trim() and equals() for example) in Java are not suitable to use with the line read from the BufferReader in every iteration of the loop that I created to read all the content of the BufferedReader.\nFor example, in the encoded file, I have <code>&lt; menu &gt;</code> which I want my program to treat it as it is, however, for now, it is seen as <code>?? &lt;  m e n u  &gt;</code> mixed with some others strange characters.\nI want to know if there is a way to remove all the charset codifications and keep just the plain text so I can use all the methods of the String class without complications.\nThank you</p>\n"},{"tags":["python","java","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1644226830,"post_id":70982079,"comment_id":125539671,"body_markdown":"Not possible in general. RMI runs over Java Object Serialization, so in general you will need a Java JVM with access to all referenced classes in the same serialization-version as used by the sender.","body":"Not possible in general. RMI runs over Java Object Serialization, so in general you will need a Java JVM with access to all referenced classes in the same serialization-version as used by the sender."}],"answers":[{"tags":[],"owner":{"account_id":15776504,"reputation":4122,"user_id":11384184,"display_name":"Lenormju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643990702,"creation_date":1643990702,"answer_id":70989384,"question_id":70982079,"body_markdown":"As explained in [this answer](https://stackoverflow.com/a/62785523/11384184), it seems that java RMI is not designed to be implemented in other languages.\r\n\r\n[That answer](https://stackoverflow.com/a/6763938/11384184) indicates that it is easier with JVM-based languages though. But not Python, because you would have to re-implement the entire RMI protocol. Would [Jython](https://www.jython.org/) be possible to use as implementation, instead of the popular (implicit) [CPython](https://en.wikipedia.org/wiki/CPython) ?\r\n\r\nOtherwise, quoting [Joni](https://stackoverflow.com/users/318758/joni) from its answer cited earlier :  \r\n&gt; It will be easier to add a REST API to the Java service, which you can then call from .Net or from the Electron app.\r\n\r\nThe same goes for Python : just call a REST service in Java-land, instead of implementing the full RMI protocol.","title":"Oracle&#39;s (Java) RMI protocol in python?","body":"<p>As explained in <a href=\"https://stackoverflow.com/a/62785523/11384184\">this answer</a>, it seems that java RMI is not designed to be implemented in other languages.</p>\n<p><a href=\"https://stackoverflow.com/a/6763938/11384184\">That answer</a> indicates that it is easier with JVM-based languages though. But not Python, because you would have to re-implement the entire RMI protocol. Would <a href=\"https://www.jython.org/\" rel=\"nofollow noreferrer\">Jython</a> be possible to use as implementation, instead of the popular (implicit) <a href=\"https://en.wikipedia.org/wiki/CPython\" rel=\"nofollow noreferrer\">CPython</a> ?</p>\n<p>Otherwise, quoting <a href=\"https://stackoverflow.com/users/318758/joni\">Joni</a> from its answer cited earlier :</p>\n<blockquote>\n<p>It will be easier to add a REST API to the Java service, which you can then call from .Net or from the Electron app.</p>\n</blockquote>\n<p>The same goes for Python : just call a REST service in Java-land, instead of implementing the full RMI protocol.</p>\n"}],"owner":{"account_id":1493531,"reputation":447,"user_id":1400014,"accept_rate":69,"display_name":"Nederealm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1644459913,"accepted_answer_id":70989384,"answer_count":1,"score":0,"last_activity_date":1643990702,"creation_date":1643954709,"question_id":70982079,"body_markdown":"Any implementation of Oracle&#39;s RMI protocol in python, .net or other non-Java language on GitHub? So far the one I found teaches you how to implement an RMI protocol from scratch. What I want is to implement Oracle&#39;s/Java&#39;s RMI protocol in Python or .NET\r\n\r\nThe specs here :\r\n https://docs.oracle.com/javase/9/docs/specs/rmi/protocol.html\r\n\r\nShouldn&#39;t be difficult as the protocol begins with `RMI://` Either the stub or skeleton can be done in Python.","title":"Oracle&#39;s (Java) RMI protocol in python?","body":"<p>Any implementation of Oracle's RMI protocol in python, .net or other non-Java language on GitHub? So far the one I found teaches you how to implement an RMI protocol from scratch. What I want is to implement Oracle's/Java's RMI protocol in Python or .NET</p>\n<p>The specs here :\n<a href=\"https://docs.oracle.com/javase/9/docs/specs/rmi/protocol.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/specs/rmi/protocol.html</a></p>\n<p>Shouldn't be difficult as the protocol begins with <code>RMI://</code> Either the stub or skeleton can be done in Python.</p>\n"},{"tags":["java","cassandra"],"answers":[{"tags":[],"owner":{"account_id":7957279,"reputation":384,"user_id":6006115,"display_name":"mahendra singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464844952,"creation_date":1464844952,"answer_id":37583278,"question_id":37583091,"body_markdown":"Just put static also with all class variables . like following \r\n\r\nprivate static Cluster cluetr;\r\nprivate static Session session;\r\n.                                                                                   .                                                                            .                                                                             Then create constructor of this class and initialize all class variables . then create one method getSession . in this first check if cluster and session variables are initialized or not if not initialized then create obeject of this class with default constructor so it will initialize all variables and then send back session variable.  ","title":"Build java REST API with cassandra","body":"<p>Just put static also with all class variables . like following </p>\n\n<p>private static Cluster cluetr;\nprivate static Session session;\n.                                                                                   .                                                                            .                                                                             Then create constructor of this class and initialize all class variables . then create one method getSession . in this first check if cluster and session variables are initialized or not if not initialized then create obeject of this class with default constructor so it will initialize all variables and then send back session variable.  </p>\n"},{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643990398,"creation_date":1643990398,"answer_id":70989311,"question_id":37583091,"body_markdown":"Instead of building from scratch a REST API you can use [stargate open source project][1]. \r\n\r\nIt can serve REST, GraphQL API over Cassandra.\r\n\r\n\r\n  [1]: https://stargate.io/","title":"Build java REST API with cassandra","body":"<p>Instead of building from scratch a REST API you can use <a href=\"https://stargate.io/\" rel=\"nofollow noreferrer\">stargate open source project</a>.</p>\n<p>It can serve REST, GraphQL API over Cassandra.</p>\n"}],"owner":{"account_id":1265088,"reputation":1364,"user_id":1222541,"accept_rate":44,"display_name":"zakSyed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643990398,"creation_date":1464844092,"question_id":37583091,"body_markdown":"I am trying build a REST API with cassandra as the database but I am don&#39;t see any documentation or examples online, I am using datastax java driver 3.0.0. \r\n\r\n    public class CassandraDBUtil {\r\n\t\r\n\tprivate Cluster cluster;\r\n\tprivate PoolingOptions options;\r\n\tprivate Session session;\r\n\t\r\n\tpublic void connect(String node) {\r\n\t\toptions = new PoolingOptions(). setMaxRequestsPerConnection(HostDistance.LOCAL, 32768);\r\n\t\tcluster = Cluster.builder()\r\n\t\t\t\t.addContactPoint(node)\r\n\t\t\t\t.withAddressTranslator(new EC2MultiRegionAddressTranslator())\r\n\t\t\t\t.withPoolingOptions(options)\r\n\t\t\t\t.build();\r\n\t\tMetadata metadata = cluster.getMetadata();\r\n\t\tSystem.out.printf(&quot;Connected to cluster: %s\\n&quot;, metadata.getClusterName());\r\n\t\tfor (Host host : metadata.getAllHosts()) {\r\n\t\t\tSystem.out.printf(&quot;Datacenter: %s; Host: %s; Rack: %s\\n&quot;, host.getDatacenter(), host.getAddress(),\r\n\t\t\t\t\thost.getRack());\r\n\t\t}\r\n\t\tsession = cluster.connect(&quot;dropalletcassdb&quot;);\r\n\t}\r\n\t\r\n\tpublic Session getSession(){\r\n\t\tif(this.cluster != null){\r\n\t\t\tSystem.out.println(&quot;@@@@ Returning an old session&quot;);\r\n\t\t\treturn this.session;\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;@@@ Creating a new session&quot;);\r\n\t\t\tconnect(&quot;127.0.0.1&quot;);\r\n\t\t\treturn this.session;\r\n\t\t}\r\n\t}\r\n\r\nBelow is a function in another class,\r\n\r\n    @GET\r\n\t@Path(&quot;/get&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic List&lt;ActiveBid&gt; getTrackInJSON() {\r\n\t\tlogger.info(&quot;LoginApi: Returning the active bid&quot;);\r\n\t\tSession session = cassDB.getSession();\r\n\t\tString cqlStatement = &quot;select * from active_bid where username=&#39;xyz&#39;&quot;;\r\n\t\tfor (Row row : session.execute(cqlStatement)) {\r\n\t\t  System.out.println(row.toString());\r\n\t\t}\r\n\t\tsession.close();\r\n\t\tActiveBid activeBid = new ActiveBid(&quot;3d673111-894d-4fcb-84f7-7d027a9a2419&quot;, &quot;XXX-XXX-XXXXXXX&quot;, &quot;/p/project_id=1367777&quot;, 25, new BigInteger(&quot;125&quot;), new BigInteger(&quot;150&quot;), &quot;2016-06-04 18:32:37&quot;);\r\n\t\tList&lt;ActiveBid&gt; activeBidList = new ArrayList&lt;ActiveBid&gt;();\r\n\t\tactiveBidList.add(activeBid);\r\n\t\treturn activeBidList;\r\n\t}\r\n\r\nIn the above code, I have the util class that builds the cluster and the session and then I have the getTrackInJSON in another class which get invokes when a request is made to http://localhost:8080/cassExample/rest/get. Every time I invoke the call to /get, it builds the cluster and the session and the average response time is 500ms. I am not sure what I am doing wrong, I am not even returning the resultset as the response, I am returning a mocked response and its taking so much time. Can someone please point me in the right direction.","title":"Build java REST API with cassandra","body":"<p>I am trying build a REST API with cassandra as the database but I am don't see any documentation or examples online, I am using datastax java driver 3.0.0. </p>\n\n<pre><code>public class CassandraDBUtil {\n\nprivate Cluster cluster;\nprivate PoolingOptions options;\nprivate Session session;\n\npublic void connect(String node) {\n    options = new PoolingOptions(). setMaxRequestsPerConnection(HostDistance.LOCAL, 32768);\n    cluster = Cluster.builder()\n            .addContactPoint(node)\n            .withAddressTranslator(new EC2MultiRegionAddressTranslator())\n            .withPoolingOptions(options)\n            .build();\n    Metadata metadata = cluster.getMetadata();\n    System.out.printf(\"Connected to cluster: %s\\n\", metadata.getClusterName());\n    for (Host host : metadata.getAllHosts()) {\n        System.out.printf(\"Datacenter: %s; Host: %s; Rack: %s\\n\", host.getDatacenter(), host.getAddress(),\n                host.getRack());\n    }\n    session = cluster.connect(\"dropalletcassdb\");\n}\n\npublic Session getSession(){\n    if(this.cluster != null){\n        System.out.println(\"@@@@ Returning an old session\");\n        return this.session;\n    }else{\n        System.out.println(\"@@@ Creating a new session\");\n        connect(\"127.0.0.1\");\n        return this.session;\n    }\n}\n</code></pre>\n\n<p>Below is a function in another class,</p>\n\n<pre><code>@GET\n@Path(\"/get\")\n@Produces(MediaType.APPLICATION_JSON)\npublic List&lt;ActiveBid&gt; getTrackInJSON() {\n    logger.info(\"LoginApi: Returning the active bid\");\n    Session session = cassDB.getSession();\n    String cqlStatement = \"select * from active_bid where username='xyz'\";\n    for (Row row : session.execute(cqlStatement)) {\n      System.out.println(row.toString());\n    }\n    session.close();\n    ActiveBid activeBid = new ActiveBid(\"3d673111-894d-4fcb-84f7-7d027a9a2419\", \"XXX-XXX-XXXXXXX\", \"/p/project_id=1367777\", 25, new BigInteger(\"125\"), new BigInteger(\"150\"), \"2016-06-04 18:32:37\");\n    List&lt;ActiveBid&gt; activeBidList = new ArrayList&lt;ActiveBid&gt;();\n    activeBidList.add(activeBid);\n    return activeBidList;\n}\n</code></pre>\n\n<p>In the above code, I have the util class that builds the cluster and the session and then I have the getTrackInJSON in another class which get invokes when a request is made to <a href=\"http://localhost:8080/cassExample/rest/get\" rel=\"nofollow\">http://localhost:8080/cassExample/rest/get</a>. Every time I invoke the call to /get, it builds the cluster and the session and the average response time is 500ms. I am not sure what I am doing wrong, I am not even returning the resultset as the response, I am returning a mocked response and its taking so much time. Can someone please point me in the right direction.</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":5458530,"reputation":4307,"user_id":4341283,"accept_rate":50,"display_name":"STaefi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643990380,"creation_date":1464095131,"answer_id":37414534,"question_id":37413473,"body_markdown":"First of all you need to rename your `paintComponenet` method to `paintComponent` in order to override the `paintComponent` method of the super class. Names are very important in overriding methods. As **Andrew Thompson** suggested adding `@Override` on top of the method you are overriding is very handy to check the signature and typos. A method in child class must have the same signature of that method in the super class in order to override it. Only the access modifier can be increased.\r\n\r\nAfter that if your image `2.gif` is in the same package as your `DirectionPanel` class is, you should remove the `/` before the name of your `2.gif`.\r\n\r\nGood Luck.","title":"Trying to draw an image icon in graphics but it wont work","body":"<p>First of all you need to rename your <code>paintComponenet</code> method to <code>paintComponent</code> in order to override the <code>paintComponent</code> method of the super class. Names are very important in overriding methods. As <strong>Andrew Thompson</strong> suggested adding <code>@Override</code> on top of the method you are overriding is very handy to check the signature and typos. A method in child class must have the same signature of that method in the super class in order to override it. Only the access modifier can be increased.</p>\n<p>After that if your image <code>2.gif</code> is in the same package as your <code>DirectionPanel</code> class is, you should remove the <code>/</code> before the name of your <code>2.gif</code>.</p>\n<p>Good Luck.</p>\n"}],"owner":{"account_id":6540796,"reputation":161,"user_id":5058453,"accept_rate":40,"display_name":"Trying_To_Understand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1201,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":37414534,"answer_count":1,"score":0,"last_activity_date":1643990380,"creation_date":1464092612,"question_id":37413473,"body_markdown":"I&#39;m trying to draw an image icon in graphics but for some reason I can&#39;t draw the image. I think I&#39;ve done everything correct, I don&#39;t know why it doesn&#39;t work.\r\n\r\nI also tried to change from `ImageIcon` to `BufferedImage` and it also doesn&#39;t work.\r\n\r\nAny suggestions?                                                                                              \r\nthis is my code:\r\n\r\n    package game;\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class Main {\r\n\r\n\t  public static void main(String[] args) \r\n\t  {\r\n\t\t\r\n\t    \tJFrame frame = new JFrame (&quot;Space Ship Game&quot;);\r\n\t\t\r\n\t    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t    frame.getContentPane().add(new DirectionPanel());\r\n\t\t    frame.pack();\r\n\t\t    frame.setLocationRelativeTo(null);\r\n\t     \tframe.setVisible(true);\r\n\t  }\r\n\r\n    }\r\n\r\nAnd\r\n\r\n\r\n    package game;\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JPanel;\r\n    public class DirectionPanel extends JPanel\r\n    {\r\n\t\r\n\t    private final int WIDTH = 1300, HEIGHT = 900;\r\n\t    private final int JUMP = 10; \r\n\t    private final int IMAGE_SIZE = 31;\r\n\t    private ImageIcon spaceShipImage;\r\n\t    private int x, y;\r\n\r\n\t    public DirectionPanel()\r\n\t    {\r\n\t\t    addKeyListener (new DirectionListener());\r\n\t\t\r\n\t\t    x = WIDTH /2;\r\n\t\t    y = HEIGHT /2;\r\n\t\t\r\n\t\t    try\r\n\t\t    {\r\n\t\t\t    spaceShipImage = new ImageIcon(getClass().getResource(&quot;/2.gif&quot;));\r\n\t\t    }\r\n\t\t    catch (Exception e)\r\n\t\t    {\r\n\t\t\t    System.out.println(&quot;sss&quot;);\r\n\t\t    }\r\n\t\t    setBackground(Color.BLACK);\r\n\t\t    setPreferredSize (new Dimension(WIDTH, HEIGHT));\r\n\t\t    setFocusable(true);\r\n\t    }\r\n\t\r\n\t    public void paintComponenet (Graphics g)\r\n\t    {\r\n\t\t    super.paintComponent(g);\r\n\t\t    spaceShipImage.paintIcon(this, g, x, y);\r\n\t    }\r\n\t\r\n\t    private class DirectionListener extends KeyAdapter\r\n\t    {\r\n\t\t\r\n\t      public void keyPressed (KeyEvent event)\r\n\t      {\r\n\t    \t  \r\n\t         switch (event.getKeyCode())\r\n\t         {\r\n\t         \r\n\t            case KeyEvent.VK_UP:\r\n\t            \t\tSystem.out.println(&quot;Dsfdsf&quot;);\r\n\t            \t\ty -= JUMP;\r\n\t               break;\r\n\t            case KeyEvent.VK_DOWN:              \r\n\t               y += JUMP;\r\n\t               break;\r\n\t            case KeyEvent.VK_LEFT:\r\n\t               x -= JUMP;\r\n\t               break;\r\n\t            case KeyEvent.VK_RIGHT:\r\n\t               x += JUMP;\r\n\t               break;\r\n\t         }\r\n\t         \r\n\t         repaint();\r\n\t      }\r\n\r\n\t    }\r\n    }\r\n\r\n","title":"Trying to draw an image icon in graphics but it wont work","body":"<p>I'm trying to draw an image icon in graphics but for some reason I can't draw the image. I think I've done everything correct, I don't know why it doesn't work.</p>\n\n<p>I also tried to change from <code>ImageIcon</code> to <code>BufferedImage</code> and it also doesn't work.</p>\n\n<p>Any suggestions?<br>\nthis is my code:</p>\n\n<pre><code>package game;\n\nimport javax.swing.JFrame;\n\npublic class Main {\n\n  public static void main(String[] args) \n  {\n\n        JFrame frame = new JFrame (\"Space Ship Game\");\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(new DirectionPanel());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n  }\n\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>package game;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport javax.swing.ImageIcon;\nimport javax.swing.JPanel;\npublic class DirectionPanel extends JPanel\n{\n\n    private final int WIDTH = 1300, HEIGHT = 900;\n    private final int JUMP = 10; \n    private final int IMAGE_SIZE = 31;\n    private ImageIcon spaceShipImage;\n    private int x, y;\n\n    public DirectionPanel()\n    {\n        addKeyListener (new DirectionListener());\n\n        x = WIDTH /2;\n        y = HEIGHT /2;\n\n        try\n        {\n            spaceShipImage = new ImageIcon(getClass().getResource(\"/2.gif\"));\n        }\n        catch (Exception e)\n        {\n            System.out.println(\"sss\");\n        }\n        setBackground(Color.BLACK);\n        setPreferredSize (new Dimension(WIDTH, HEIGHT));\n        setFocusable(true);\n    }\n\n    public void paintComponenet (Graphics g)\n    {\n        super.paintComponent(g);\n        spaceShipImage.paintIcon(this, g, x, y);\n    }\n\n    private class DirectionListener extends KeyAdapter\n    {\n\n      public void keyPressed (KeyEvent event)\n      {\n\n         switch (event.getKeyCode())\n         {\n\n            case KeyEvent.VK_UP:\n                    System.out.println(\"Dsfdsf\");\n                    y -= JUMP;\n               break;\n            case KeyEvent.VK_DOWN:              \n               y += JUMP;\n               break;\n            case KeyEvent.VK_LEFT:\n               x -= JUMP;\n               break;\n            case KeyEvent.VK_RIGHT:\n               x += JUMP;\n               break;\n         }\n\n         repaint();\n      }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1643910129,"post_id":70975703,"comment_id":125470795,"body_markdown":"There&#39;s probably more in the stack trace (look for &quot;caused by&quot;) but in any event is `com.example.linebet.Register` your code you are attempting to run ?  If so include the `onCreate` portion at a minimum.  Not much to go on but your activity is failing and likely is in the `onCreate` portion or what it calls so start with posting your activity `onCreate`.","body":"There&#39;s probably more in the stack trace (look for &quot;caused by&quot;) but in any event is <code>com.example.linebet.Register</code> your code you are attempting to run ?  If so include the <code>onCreate</code> portion at a minimum.  Not much to go on but your activity is failing and likely is in the <code>onCreate</code> portion or what it calls so start with posting your activity <code>onCreate</code>."}],"answers":[{"tags":[],"owner":{"account_id":24146691,"reputation":1,"user_id":18112173,"display_name":"Yonatan Kern Iacob"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643916095,"creation_date":1643916095,"answer_id":70977106,"question_id":70975703,"body_markdown":"    package com.example.linebet;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n\r\n    public abstract class Register extends AppCompatActivity {\r\n\r\n\r\n\r\n    EditText mFullName,mEmail,mPassword;\r\n    Button mRegisterBtn;\r\n    //TextView mLoginBtn;\r\n    FirebaseAuth fAuth;\r\n    ////ProgressBar progressBar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstancesState) {\r\n        super.onCreate(savedInstancesState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n\r\n        mFullName = findViewById(R.id.editTextTextPersonName);\r\n        mEmail = findViewById(R.id.editTextTextPersonName2);\r\n        //mPhone =findViewById(R.id.);\r\n        mPassword = findViewById(R.id.editTextTextPassword);\r\n        mRegisterBtn = findViewById(R.id.button);\r\n        // mLoginBtn =findViewById(R.id.);\r\n\r\n        fAuth = FirebaseAuth.getInstance();\r\n        // progressBar=findViewById()\r\n\r\n        mRegisterBtn.setOnClickListener(new View.OnClickListener() {\r\n\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                String email = mEmail.getText().toString().trim();\r\n                String password = mPassword.getText().toString().trim();\r\n            }\r\n\r\n        });\r\n\r\n\r\n    }\r\n    }\r\n\r\n","title":"the application launch collapses via android studio","body":"<pre><code>package com.example.linebet;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.firebase.auth.FirebaseAuth;\n\npublic abstract class Register extends AppCompatActivity {\n\n\n\nEditText mFullName,mEmail,mPassword;\nButton mRegisterBtn;\n//TextView mLoginBtn;\nFirebaseAuth fAuth;\n////ProgressBar progressBar;\n\n@Override\nprotected void onCreate(Bundle savedInstancesState) {\n    super.onCreate(savedInstancesState);\n    setContentView(R.layout.activity_register);\n\n\n    mFullName = findViewById(R.id.editTextTextPersonName);\n    mEmail = findViewById(R.id.editTextTextPersonName2);\n    //mPhone =findViewById(R.id.);\n    mPassword = findViewById(R.id.editTextTextPassword);\n    mRegisterBtn = findViewById(R.id.button);\n    // mLoginBtn =findViewById(R.id.);\n\n    fAuth = FirebaseAuth.getInstance();\n    // progressBar=findViewById()\n\n    mRegisterBtn.setOnClickListener(new View.OnClickListener() {\n\n\n        @Override\n        public void onClick(View v) {\n            String email = mEmail.getText().toString().trim();\n            String password = mPassword.getText().toString().trim();\n        }\n\n    });\n\n\n}\n}\n</code></pre>\n"}],"owner":{"account_id":24146691,"reputation":1,"user_id":18112173,"display_name":"Yonatan Kern Iacob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643990305,"creation_date":1643909361,"question_id":70975703,"body_markdown":"i am new to the community so please be patient. this is the logcat:\r\n\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.linebet, PID: 7546\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.linebet/com.example.linebet.Register}: java.lang.InstantiationException: java.lang.Class&lt;com.example.linebet.Register&gt; cannot be instantiated\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3365)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.example.linebet.Register&gt; cannot be instantiated\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1253)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3353)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n","title":"the application launch collapses via android studio","body":"<p>i am new to the community so please be patient. this is the logcat:</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.linebet, PID: 7546\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.linebet/com.example.linebet.Register}: java.lang.InstantiationException: java.lang.Class&lt;com.example.linebet.Register&gt; cannot be instantiated\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3365)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: java.lang.InstantiationException: java.lang.Class&lt;com.example.linebet.Register&gt; cannot be instantiated\nat java.lang.Class.newInstance(Native Method)\nat android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\nat androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\nat android.app.Instrumentation.newActivity(Instrumentation.java:1253)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3353)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loop(Looper.java:223) \nat android.app.ActivityThread.main(ActivityThread.java:7656) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) </p>\n"},{"tags":["java","swagger","micronaut"],"comments":[{"owner":{"account_id":14352296,"reputation":846,"user_id":10367370,"display_name":"Vimukthi"},"score":0,"creation_date":1562210585,"post_id":56879969,"comment_id":100308717,"body_markdown":"Have you tried `consumes = MediaType.MULTIPART_FORM_DATA_VALUE` ?","body":"Have you tried <code>consumes = MediaType.MULTIPART_FORM_DATA_VALUE</code> ?"},{"owner":{"account_id":9675302,"reputation":81,"user_id":7179003,"display_name":"Renan Souza"},"score":0,"creation_date":1562266559,"post_id":56879969,"comment_id":100332726,"body_markdown":"I&#39;m using micronaut and this constant it&#39;s not available. But as for as I check this is just another way to say &quot;multipart/form-data&quot; right?","body":"I&#39;m using micronaut and this constant it&#39;s not available. But as for as I check this is just another way to say &quot;multipart/form-data&quot; right?"}],"answers":[{"tags":[],"owner":{"account_id":8637072,"reputation":3311,"user_id":8112217,"accept_rate":91,"display_name":"tsarenkotxt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562285243,"creation_date":1562282161,"answer_id":56895020,"question_id":56879969,"body_markdown":"Looks like missing `@QueryValue`\r\n\r\nFrom documentation [6.4 Simple Request Binding][2]:\r\n\r\n&gt; \t\r\nBindings from a request URI variable or request parameter | @QueryValue String myParam\r\n\r\nFrom documentation [6.19 File Uploads][1]:\r\n \r\n&gt; The method is set to consume MULTIPART_FORM_DATA\r\n\r\n&gt; The method parameters match form attribute names. In this case the file will match for example an &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;\r\n\r\n&gt; The StreamingFileUpload.transferTo(java.lang.String) method is used to transfer the file to the server.\r\n\r\n`Kotlin` simple:\r\n\r\n```kotlin\r\n@Controller\r\nclass SomeController {\r\n\r\n    @Post(value = &quot;/&quot;, consumes = [MediaType.MULTIPART_FORM_DATA])\r\n    fun upload(file: StreamingFileUpload,\r\n               @QueryValue flow: Int,\r\n               @QueryValue environment: Int): Single&lt;HttpResponse&lt;String&gt;&gt; {\r\n        val tempFile = File.createTempFile(file.filename, &quot;temp&quot;)\r\n        return Single.fromPublisher(file.transferTo(tempFile))\r\n                .map { success -&gt;\r\n                    if (success) {\r\n                        HttpResponse.ok(&quot;Uploaded&quot;);\r\n                    } else {\r\n                        HttpResponse.status&lt;String&gt;(HttpStatus.CONFLICT)\r\n                                .body(&quot;Upload Failed&quot;)\r\n                    }\r\n                }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.micronaut.io/1.2.0.RC1/guide/index.html#uploads\r\n  [2]: https://docs.micronaut.io/1.2.0.RC1/guide/index.html#binding\r\n  [3]: https://i.stack.imgur.com/GoPbe.png","title":"How can I specify a multipart file upload with params","body":"<p>Looks like missing <code>@QueryValue</code></p>\n\n<p>From documentation <a href=\"https://docs.micronaut.io/1.2.0.RC1/guide/index.html#binding\" rel=\"nofollow noreferrer\">6.4 Simple Request Binding</a>:</p>\n\n<blockquote>\n  <p>Bindings from a request URI variable or request parameter | @QueryValue String myParam</p>\n</blockquote>\n\n<p>From documentation <a href=\"https://docs.micronaut.io/1.2.0.RC1/guide/index.html#uploads\" rel=\"nofollow noreferrer\">6.19 File Uploads</a>:</p>\n\n<blockquote>\n  <p>The method is set to consume MULTIPART_FORM_DATA</p>\n  \n  <p>The method parameters match form attribute names. In this case the file will match for example an </p>\n  \n  <p>The StreamingFileUpload.transferTo(java.lang.String) method is used to transfer the file to the server.</p>\n</blockquote>\n\n<p><code>Kotlin</code> simple:</p>\n\n<pre><code>@Controller\nclass SomeController {\n\n    @Post(value = \"/\", consumes = [MediaType.MULTIPART_FORM_DATA])\n    fun upload(file: StreamingFileUpload,\n               @QueryValue flow: Int,\n               @QueryValue environment: Int): Single&lt;HttpResponse&lt;String&gt;&gt; {\n        val tempFile = File.createTempFile(file.filename, \"temp\")\n        return Single.fromPublisher(file.transferTo(tempFile))\n                .map { success -&gt;\n                    if (success) {\n                        HttpResponse.ok(\"Uploaded\");\n                    } else {\n                        HttpResponse.status&lt;String&gt;(HttpStatus.CONFLICT)\n                                .body(\"Upload Failed\")\n                    }\n                }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9675302,"reputation":81,"user_id":7179003,"display_name":"Renan Souza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2980,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643989953,"creation_date":1562207727,"question_id":56879969,"body_markdown":"I&#39;m trying to document an API method that will receive a file and two parameters as int. Using swagger editor I was able to describe what I want, but couldn&#39;t replicate that using annotations.\r\n\r\n[![what I want][1]][1]\r\n\r\nThis is what I draw on swagger editor\r\n```yml\r\nrequestBody:\r\n        content:\r\n          multipart/form-data:\r\n            schema:\r\n              type: object\r\n              properties:\r\n                flow:\r\n                  type: integer\r\n                environment:\r\n                  type: integer\r\n                file:\r\n                  type: string\r\n                  format: binary\r\n        required: true\r\n```\r\n\r\n\r\nIf I use ```consumes = MediaType.MULTIPART_FORM_DATA``` I get the params. And if I use ```consumes = MediaType.APPLICATION_OCTET_STREAM``` I get the file to upload.\r\n\r\n[![failed attemp 1][2]][2]\r\n[![failed attemp 2][3]][3]\r\n\r\n```java\r\n@Operation(summary = &quot;Unpack Files&quot;,\r\n            description = &quot;Receives a packed zip or gzip file with xml files inside or receives xml files&quot;,\r\n            security = @SecurityRequirement(name = &quot;apiKey&quot;),\r\n            responses = {\r\n                    @ApiResponse(responseCode = &quot;201&quot;, description = &quot;Created&quot;),\r\n                    @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Something Went Wrong&quot;),\r\n                    @ApiResponse(responseCode = &quot;401&quot;, description = &quot;Unauthorized&quot;),\r\n                    @ApiResponse(responseCode = &quot;503&quot;, description = &quot;Service Unavailable&quot;)\r\n            },\r\n            requestBody = @RequestBody(\r\n                content = @Content(\r\n                    mediaType = MediaType.MULTIPART_FORM_DATA,\r\n                    schema = @Schema(implementation = Document.class, format = &quot;binary&quot;),\r\n                    encoding = @Encoding(\r\n                            name = &quot;file&quot;,\r\n                            contentType = &quot;application/xml, application/zip, application/gzip&quot;\r\n                    )\r\n                ),\r\n                required = true\r\n            )\r\n    )\r\n    @Post(value = &quot;/unpack&quot;, consumes = MediaType.APPLICATION_OCTET_STREAM)\r\n    public Single&lt;HttpResponse&lt;String&gt;&gt; upload(StreamingFileUpload file, int flow, int environment) throws IOException {\r\n        return Single.just(new Document(file.getFilename(), environment, flow))\r\n            .flatMap(DocumentValidation::validateDocumentExtension)\r\n            .doOnError(throwable -&gt; {\r\n                log.error(&quot;Validation exception: {}&quot;, throwable.getMessage());\r\n                exception = throwable.getMessage();\r\n            })\r\n            .doOnSuccess(doc -&gt; {\r\n                log.info(&quot;File saved successfuly&quot;);\r\n                File tempFile = File.createTempFile(file.getFilename(), &quot;temp&quot;);\r\n                file.transferTo(tempFile);\r\n            })\r\n            .map(success -&gt; {\r\n                if (exception != null || !exception.equals(&quot;&quot;)) {\r\n                    return HttpResponse.&lt;String&gt;status(HttpStatus.CREATED).body(&quot;Uploaded&quot;);\r\n                } else {\r\n                    return HttpResponse.&lt;String&gt;status(HttpStatus.SERVICE_UNAVAILABLE).body(exception);\r\n                }\r\n            }\r\n        );\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1M5ZF.png\r\n  [2]: https://i.stack.imgur.com/h2Rn5.png\r\n  [3]: https://i.stack.imgur.com/JWmTR.png\r\n\r\nThanks in advance.","title":"How can I specify a multipart file upload with params","body":"<p>I'm trying to document an API method that will receive a file and two parameters as int. Using swagger editor I was able to describe what I want, but couldn't replicate that using annotations.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1M5ZF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1M5ZF.png\" alt=\"what I want\"></a></p>\n\n<p>This is what I draw on swagger editor</p>\n\n<pre><code>requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              type: object\n              properties:\n                flow:\n                  type: integer\n                environment:\n                  type: integer\n                file:\n                  type: string\n                  format: binary\n        required: true\n</code></pre>\n\n<p>If I use <code>consumes = MediaType.MULTIPART_FORM_DATA</code> I get the params. And if I use <code>consumes = MediaType.APPLICATION_OCTET_STREAM</code> I get the file to upload.</p>\n\n<p><a href=\"https://i.stack.imgur.com/h2Rn5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h2Rn5.png\" alt=\"failed attemp 1\"></a>\n<a href=\"https://i.stack.imgur.com/JWmTR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JWmTR.png\" alt=\"failed attemp 2\"></a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Operation(summary = \"Unpack Files\",\n            description = \"Receives a packed zip or gzip file with xml files inside or receives xml files\",\n            security = @SecurityRequirement(name = \"apiKey\"),\n            responses = {\n                    @ApiResponse(responseCode = \"201\", description = \"Created\"),\n                    @ApiResponse(responseCode = \"400\", description = \"Something Went Wrong\"),\n                    @ApiResponse(responseCode = \"401\", description = \"Unauthorized\"),\n                    @ApiResponse(responseCode = \"503\", description = \"Service Unavailable\")\n            },\n            requestBody = @RequestBody(\n                content = @Content(\n                    mediaType = MediaType.MULTIPART_FORM_DATA,\n                    schema = @Schema(implementation = Document.class, format = \"binary\"),\n                    encoding = @Encoding(\n                            name = \"file\",\n                            contentType = \"application/xml, application/zip, application/gzip\"\n                    )\n                ),\n                required = true\n            )\n    )\n    @Post(value = \"/unpack\", consumes = MediaType.APPLICATION_OCTET_STREAM)\n    public Single&lt;HttpResponse&lt;String&gt;&gt; upload(StreamingFileUpload file, int flow, int environment) throws IOException {\n        return Single.just(new Document(file.getFilename(), environment, flow))\n            .flatMap(DocumentValidation::validateDocumentExtension)\n            .doOnError(throwable -&gt; {\n                log.error(\"Validation exception: {}\", throwable.getMessage());\n                exception = throwable.getMessage();\n            })\n            .doOnSuccess(doc -&gt; {\n                log.info(\"File saved successfuly\");\n                File tempFile = File.createTempFile(file.getFilename(), \"temp\");\n                file.transferTo(tempFile);\n            })\n            .map(success -&gt; {\n                if (exception != null || !exception.equals(\"\")) {\n                    return HttpResponse.&lt;String&gt;status(HttpStatus.CREATED).body(\"Uploaded\");\n                } else {\n                    return HttpResponse.&lt;String&gt;status(HttpStatus.SERVICE_UNAVAILABLE).body(exception);\n                }\n            }\n        );\n    }\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1643992135,"post_id":70989187,"comment_id":125494525,"body_markdown":"The database can return rows having identical `creationDate` values in an arbitrary order. If you add another column such as `id` to the Sort, then the row ordering would be deterministic.","body":"The database can return rows having identical <code>creationDate</code> values in an arbitrary order. If you add another column such as <code>id</code> to the Sort, then the row ordering would be deterministic."},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1643992549,"post_id":70989187,"comment_id":125494690,"body_markdown":"@ChinHuang thank you, could you please clarify, why did order of `Orders` stay the same no matter how many times I reload before an update,  after - changed a bit. Does any change in DB table make it &#39;reorganize&#39; they way it returns values?","body":"@ChinHuang thank you, could you please clarify, why did order of <code>Orders</code> stay the same no matter how many times I reload before an update,  after - changed a bit. Does any change in DB table make it &#39;reorganize&#39; they way it returns values?"},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":2,"creation_date":1643992848,"post_id":70989187,"comment_id":125494818,"body_markdown":"Correct, changing the data in the database caused the database to change its internal data structure for organizing the data.","body":"Correct, changing the data in the database caused the database to change its internal data structure for organizing the data."}],"owner":{"display_name":"user16722881"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643989862,"creation_date":1643989862,"question_id":70989187,"body_markdown":"Here is my repository for Order Entity that has enum Status.\r\n    \r\n    @Repository\r\n    public interface OrderRepository extends JpaRepository&lt;Order, Long&gt; {\r\n        Page&lt;Order&gt; findOrdersByStatus(Status status, Pageable pageable);\r\n    \r\n        @Modifying\r\n        @Query(&quot;UPDATE Order o SET o.status = :status WHERE o.id = :id&quot;)\r\n        void updateStatus(@Param(value = &quot;status&quot;) Status status, @Param(value = &quot;id&quot;) long id);\r\n    \r\n            @Query(&quot;SELECT o.status FROM Order o WHERE o.id=:id&quot;)\r\n        Status getStatusById (@Param(value = &quot;id&quot;)  long id);\r\n    }\r\n\r\nEach time user clicks on change status - this logic is invoked from Controller.\r\n\r\n            if (action.equals(STATUS_ACTION_DECLINE)) orderService.updateStatus(Status.DECLINED, orderId);\r\n        else {\r\n            Status status = orderService.getOrderStatus(orderId);\r\n\r\n            if (!status.equals(Status.DECLINED) &amp;&amp; !status.equals(Status.COMPLETED))\r\n                orderService.updateStatus(Status.values()[status.ordinal() + 1], orderId);\r\n        }\r\n\r\nThis is what service methods looks like ( just delegating to repository )\r\n\r\n    public Status getOrderStatus(long id) {\r\n        return orderRepository.getStatusById(id);\r\n    }\r\n      @Transactional\r\n    public void updateStatus(Status status, Long orderId) {\r\n        orderRepository.updateStatus(status, orderId);\r\n    }\r\n\r\nThen - to return updated list of objects - findAll(paginated) is called\r\n  \r\n\r\n        public Page&lt;Order&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection) {\r\n    \r\n        Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\r\n                Sort.by(sortField).descending();\r\n    \r\n        Pageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\r\n            System.out.println(&quot;PAGEABLE &quot; + pageable);\r\n            return this.orderRepository.findAll(pageable);  \r\n    }\r\n\r\nSeems like an easy stuff, but here is a problem.\r\nFirst time ( befure user clicks on update status button ) findAll has this `PAGEABLE` object that sorts by creationDate\r\n\r\n    PAGEABLE Page request [number: 0, size 5, sort: creationDate: ASC]\r\n\r\nAnd findAll(pageable) returns this\r\n\r\n   \r\n\r\n     Order(id=1, status=PENDING, creationDate=2022-02-03T14:46:04.702056, updateDate=2022-02-03T14:46:04.702056, totalPrice=150.00, address=Address 1)\r\n    Order(id=2, status=PENDING, creationDate=2022-02-03T14:46:04.702056, updateDate=2022-02-03T14:46:04.702056, totalPrice=150.00, address=Address 2)\r\n    Order(id=3, status=PENDING, creationDate=2022-02-03T16:02:00.251971, updateDate=2022-02-03T16:02:00.252971, totalPrice=150.00, address=Address 1)\r\n    Order(id=4, status=PENDING, creationDate=2022-02-03T16:02:00.252971, updateDate=2022-02-03T16:02:00.252971, totalPrice=150.00, address=Address 2)\r\n    Order(id=6, status=COOKING, creationDate=2022-02-03T16:06:21.555237, updateDate=2022-02-03T16:06:21.555237, totalPrice=150.00, address=Address 2)\r\n\r\nSeems like ok, no matter how many times I reload the page - I get the same result.\r\nNow I click update status button on a few orders. Orders are updated and let&#39;s do findAll(pageable) again to get the updated list.\r\n\r\n    PAGEABLE Page request [number: 0, size 5, sort: creationDate: ASC]\r\n\r\nPageable object is the same, but list is not, though sorting should be done by creationDate and not change - 1 and 2 ids have switched places. Why is it so?\r\n\r\n        Order(id=2, status=PENDING, creationDate=2022-02-03T14:46:04.702056, updateDate=2022-02-03T14:46:04.702056, totalPrice=150.00, address=Address 2)\r\n    Order(id=1, status=COOKING, creationDate=2022-02-03T14:46:04.702056, updateDate=2022-02-03T14:46:04.702056, totalPrice=150.00, address=Address 1)\r\n    Order(id=3, status=COOKING, creationDate=2022-02-03T16:02:00.251971, updateDate=2022-02-03T16:02:00.252971, totalPrice=150.00, address=Address 1)\r\n    Order(id=4, status=PENDING, creationDate=2022-02-03T16:02:00.252971, updateDate=2022-02-03T16:02:00.252971, totalPrice=150.00, address=Address 2)\r\n    Order(id=6, status=COOKING, creationDate=2022-02-03T16:06:21.555237, updateDate=2022-02-03T16:06:21.555237, totalPrice=150.00, address=Address 2) ","title":"Why does objects in findAll(Pageable pageable) switch places after updating a single field?","body":"<p>Here is my repository for Order Entity that has enum Status.</p>\n<pre><code>@Repository\npublic interface OrderRepository extends JpaRepository&lt;Order, Long&gt; {\n    Page&lt;Order&gt; findOrdersByStatus(Status status, Pageable pageable);\n\n    @Modifying\n    @Query(&quot;UPDATE Order o SET o.status = :status WHERE o.id = :id&quot;)\n    void updateStatus(@Param(value = &quot;status&quot;) Status status, @Param(value = &quot;id&quot;) long id);\n\n        @Query(&quot;SELECT o.status FROM Order o WHERE o.id=:id&quot;)\n    Status getStatusById (@Param(value = &quot;id&quot;)  long id);\n}\n</code></pre>\n<p>Each time user clicks on change status - this logic is invoked from Controller.</p>\n<pre><code>        if (action.equals(STATUS_ACTION_DECLINE)) orderService.updateStatus(Status.DECLINED, orderId);\n    else {\n        Status status = orderService.getOrderStatus(orderId);\n\n        if (!status.equals(Status.DECLINED) &amp;&amp; !status.equals(Status.COMPLETED))\n            orderService.updateStatus(Status.values()[status.ordinal() + 1], orderId);\n    }\n</code></pre>\n<p>This is what service methods looks like ( just delegating to repository )</p>\n<pre><code>public Status getOrderStatus(long id) {\n    return orderRepository.getStatusById(id);\n}\n  @Transactional\npublic void updateStatus(Status status, Long orderId) {\n    orderRepository.updateStatus(status, orderId);\n}\n</code></pre>\n<p>Then - to return updated list of objects - findAll(paginated) is called</p>\n<pre><code>    public Page&lt;Order&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection) {\n\n    Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\n            Sort.by(sortField).descending();\n\n    Pageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\n        System.out.println(&quot;PAGEABLE &quot; + pageable);\n        return this.orderRepository.findAll(pageable);  \n}\n</code></pre>\n<p>Seems like an easy stuff, but here is a problem.\nFirst time ( befure user clicks on update status button ) findAll has this <code>PAGEABLE</code> object that sorts by creationDate</p>\n<pre><code>PAGEABLE Page request [number: 0, size 5, sort: creationDate: ASC]\n</code></pre>\n<p>And findAll(pageable) returns this</p>\n<pre><code> Order(id=1, status=PENDING, creationDate=2022-02-03T14:46:04.702056, updateDate=2022-02-03T14:46:04.702056, totalPrice=150.00, address=Address 1)\nOrder(id=2, status=PENDING, creationDate=2022-02-03T14:46:04.702056, updateDate=2022-02-03T14:46:04.702056, totalPrice=150.00, address=Address 2)\nOrder(id=3, status=PENDING, creationDate=2022-02-03T16:02:00.251971, updateDate=2022-02-03T16:02:00.252971, totalPrice=150.00, address=Address 1)\nOrder(id=4, status=PENDING, creationDate=2022-02-03T16:02:00.252971, updateDate=2022-02-03T16:02:00.252971, totalPrice=150.00, address=Address 2)\nOrder(id=6, status=COOKING, creationDate=2022-02-03T16:06:21.555237, updateDate=2022-02-03T16:06:21.555237, totalPrice=150.00, address=Address 2)\n</code></pre>\n<p>Seems like ok, no matter how many times I reload the page - I get the same result.\nNow I click update status button on a few orders. Orders are updated and let's do findAll(pageable) again to get the updated list.</p>\n<pre><code>PAGEABLE Page request [number: 0, size 5, sort: creationDate: ASC]\n</code></pre>\n<p>Pageable object is the same, but list is not, though sorting should be done by creationDate and not change - 1 and 2 ids have switched places. Why is it so?</p>\n<pre><code>    Order(id=2, status=PENDING, creationDate=2022-02-03T14:46:04.702056, updateDate=2022-02-03T14:46:04.702056, totalPrice=150.00, address=Address 2)\nOrder(id=1, status=COOKING, creationDate=2022-02-03T14:46:04.702056, updateDate=2022-02-03T14:46:04.702056, totalPrice=150.00, address=Address 1)\nOrder(id=3, status=COOKING, creationDate=2022-02-03T16:02:00.251971, updateDate=2022-02-03T16:02:00.252971, totalPrice=150.00, address=Address 1)\nOrder(id=4, status=PENDING, creationDate=2022-02-03T16:02:00.252971, updateDate=2022-02-03T16:02:00.252971, totalPrice=150.00, address=Address 2)\nOrder(id=6, status=COOKING, creationDate=2022-02-03T16:06:21.555237, updateDate=2022-02-03T16:06:21.555237, totalPrice=150.00, address=Address 2) \n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","slf4j"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1643894269,"post_id":70971002,"comment_id":125463603,"body_markdown":"You seem to be ignoring the lines that say something failed. You forgot to add logging libraries, that&#39;s why it&#39;s printing &quot;nothing&quot;","body":"You seem to be ignoring the lines that say something failed. You forgot to add logging libraries, that&#39;s why it&#39;s printing &quot;nothing&quot;"},{"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"score":0,"creation_date":1643894297,"post_id":70971002,"comment_id":125463613,"body_markdown":"Yes I ran it on another machine and I have this NoSuchMethodError: &#39;org.slf4j.helpers.FormattingTuple org.slf4j.helpers.MessageFormatter.arrayFormat(java.lang.String, java.lang.Object[])&#39;","body":"Yes I ran it on another machine and I have this NoSuchMethodError: &#39;org.slf4j.helpers.FormattingTuple org.slf4j.helpers.MessageFormatter.arrayFormat(java.lang.Str&zwnj;&#8203;ing, java.lang.Object[])&#39;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1643894358,"post_id":70971002,"comment_id":125463642,"body_markdown":"Well, did you add Slf4j as a dependency?","body":"Well, did you add Slf4j as a dependency?"},{"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"score":0,"creation_date":1643894639,"post_id":70971002,"comment_id":125463758,"body_markdown":"I have now on my local machine it&#39;s still the same warning but on the remote I have this one SLF4J: The requested version 1.6 by your slf4j binding is not compatible with [1.5.5, 1.5.6]\nSLF4J: See http://www.slf4j.org/codes.html#version_mismatch for further details.\n yet I set the 1.5.6 in my pom","body":"I have now on my local machine it&#39;s still the same warning but on the remote I have this one SLF4J: The requested version 1.6 by your slf4j binding is not compatible with [1.5.5, 1.5.6] SLF4J: See <a href=\"http://www.slf4j.org/codes.html#version_mismatch\" rel=\"nofollow noreferrer\">slf4j.org/codes.html#version_mismatch</a> for further details.  yet I set the 1.5.6 in my pom"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1643894996,"post_id":70971002,"comment_id":125463883,"body_markdown":"Can you please add the pom to the question? You should be really be using slf4j-api 1.7.32, I think is the latest. I&#39;ve personally never ran into any version mismatch error, however. You&#39;ll also want to add logback-classic dependency","body":"Can you please add the pom to the question? You should be really be using slf4j-api 1.7.32, I think is the latest. I&#39;ve personally never ran into any version mismatch error, however. You&#39;ll also want to add logback-classic dependency"},{"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"score":0,"creation_date":1643896059,"post_id":70971002,"comment_id":125464365,"body_markdown":"I added the pom.xml.","body":"I added the pom.xml."},{"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"score":1,"creation_date":1643896414,"post_id":70971002,"comment_id":125464532,"body_markdown":"I was missing the log4j.properties file.... Now I have a huge stack trace...","body":"I was missing the log4j.properties file.... Now I have a huge stack trace..."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643913232,"post_id":70971002,"comment_id":125472090,"body_markdown":"So, you&#39;ve fixed the problem, now, or you have some huge stacktrace/error?","body":"So, you&#39;ve fixed the problem, now, or you have some huge stacktrace/error?"},{"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"score":0,"creation_date":1643972727,"post_id":70971002,"comment_id":125486702,"body_markdown":"It&#39;s fixed, I updated my main message.","body":"It&#39;s fixed, I updated my main message."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643986784,"post_id":70971002,"comment_id":125492132,"body_markdown":"Please post the solution below the comments section as an answer","body":"Please post the solution below the comments section as an answer"}],"answers":[{"tags":[],"owner":{"account_id":14029242,"reputation":128,"user_id":10133535,"display_name":"Tulika"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643894053,"creation_date":1643894053,"answer_id":70971943,"question_id":70971002,"body_markdown":"Your code works for me(even with wrong values-at least doesn&#39;t terminate). Please use logback in your code and keep logger level to DEBUG. This way you will be able to observe carefully what is happening when your kafka streams is launching.\r\nProbably kafka thread is terminating due to some reason which we can&#39;t just guess like that.\r\n\r\nPS: Sorry I don&#39;t have reputation to add a comment.","title":"My Kafka streaming application just exit with code 0 doing nothing","body":"<p>Your code works for me(even with wrong values-at least doesn't terminate). Please use logback in your code and keep logger level to DEBUG. This way you will be able to observe carefully what is happening when your kafka streams is launching.\nProbably kafka thread is terminating due to some reason which we can't just guess like that.</p>\n<p>PS: Sorry I don't have reputation to add a comment.</p>\n"},{"tags":[],"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643989457,"creation_date":1643989457,"answer_id":70989103,"question_id":70971002,"body_markdown":"I fixed my issues and here is a summary.\r\n\r\nThe first issue was that I didn&#39;t set up slf4j properly. Kafka expect to have slf4j available because this is what it uses to print the error it encounters. Not having it was silently failing my program.\r\n\r\nTo resolve this you need to add a log4j.properties file in your resources folder (in your src folder).\r\n\r\nMine looked like this (it doesn&#39;t print DEBUG logs):\r\n\r\n    log4j.rootLogger=INFO, stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\r\n\r\nOnce I had the logs, I had a stack trace about serialization error. I don&#39;t have the logs anymore but the other SO post that made me fix it is :\r\n\r\nhttps://stackoverflow.com/questions/56523420/proper-guide-for-java-kafka-stream-with-avro-schema-registry\r\n\r\nBasically I was using the wrong object for the Serde configuration.\r\n\r\nThe updated code looks like this :\r\n\r\npublic static void main(String[] args) {\r\n\r\n        final StreamsBuilder builder = new StreamsBuilder();\r\n\r\n        final Properties streamsConfiguration = new Properties();\r\n        streamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;generic-avro-integration-test&quot;);\r\n        streamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, Utils.BOOTSTRAP_SERVER);\r\n        streamsConfiguration.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n        streamsConfiguration.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\r\n        streamsConfiguration.put(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL);\r\n\r\n        final Serde&lt;String&gt; stringSerde = Serdes.String();\r\n        final Serde&lt;AllTypesFxEvents&gt; specificAvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n\r\n        final boolean isKeySerde = false;\r\n        specificAvroSerde.configure(Collections.singletonMap(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL),\r\n                isKeySerde);\r\n\r\n    builder.stream(Utils.ALL_FX_EVENTS_TOPIC).foreach((key, value) -&gt; System.out.println(key));\r\n    \r\n    KafkaStreams kafkaStreams = new KafkaStreams(builder.build(), streamsConfiguration);\r\n            kafkaStreams.cleanUp();\r\n            kafkaStreams.start();\r\n\r\n","title":"My Kafka streaming application just exit with code 0 doing nothing","body":"<p>I fixed my issues and here is a summary.</p>\n<p>The first issue was that I didn't set up slf4j properly. Kafka expect to have slf4j available because this is what it uses to print the error it encounters. Not having it was silently failing my program.</p>\n<p>To resolve this you need to add a log4j.properties file in your resources folder (in your src folder).</p>\n<p>Mine looked like this (it doesn't print DEBUG logs):</p>\n<pre><code>log4j.rootLogger=INFO, stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n</code></pre>\n<p>Once I had the logs, I had a stack trace about serialization error. I don't have the logs anymore but the other SO post that made me fix it is :</p>\n<p><a href=\"https://stackoverflow.com/questions/56523420/proper-guide-for-java-kafka-stream-with-avro-schema-registry\">Use Kafka Streams with Avro Schema Registry</a></p>\n<p>Basically I was using the wrong object for the Serde configuration.</p>\n<p>The updated code looks like this :</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>    final StreamsBuilder builder = new StreamsBuilder();\n\n    final Properties streamsConfiguration = new Properties();\n    streamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;generic-avro-integration-test&quot;);\n    streamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, Utils.BOOTSTRAP_SERVER);\n    streamsConfiguration.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n    streamsConfiguration.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\n    streamsConfiguration.put(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL);\n\n    final Serde&lt;String&gt; stringSerde = Serdes.String();\n    final Serde&lt;AllTypesFxEvents&gt; specificAvroSerde = new SpecificAvroSerde&lt;&gt;();\n\n    final boolean isKeySerde = false;\n    specificAvroSerde.configure(Collections.singletonMap(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL),\n            isKeySerde);\n\nbuilder.stream(Utils.ALL_FX_EVENTS_TOPIC).foreach((key, value) -&gt; System.out.println(key));\n\nKafkaStreams kafkaStreams = new KafkaStreams(builder.build(), streamsConfiguration);\n        kafkaStreams.cleanUp();\n        kafkaStreams.start();\n</code></pre>\n"}],"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70989103,"answer_count":2,"score":0,"last_activity_date":1643989457,"creation_date":1643890054,"question_id":70971002,"body_markdown":"In order to try the Kafka stream I did this :\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \t\tfinal StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n    \t\tfinal Properties streamsConfiguration = new Properties();\r\n    \r\n    \t\tstreamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;generic-avro-integration-test&quot;);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, Utils.BOOTSTRAP_SERVER);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, StringDeserializer.class);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, KafkaAvroDeserializer.class);\r\n    \t\tstreamsConfiguration.put(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL);\r\n    \t\t\r\n    \t\tbuilder.stream(Utils.ALL_FX_EVENTS_TOPIC).foreach((key, value) -&gt; System.out.println(key));\r\n    \t\t\r\n    \t\tKafkaStreams kafkaStreams = new KafkaStreams(builder.build(), streamsConfiguration);\r\n    \t\tkafkaStreams.start();\r\n    \t}\r\n\r\nBut when I run it locally I only get this :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBasically I run it from my IDE and after 1 sec it just stops while it should be waiting for new events pushed in the topic.\r\n\r\nI don&#39;t understand.\r\n\r\nThe kafka topic is on another machine, but I coded a very simple consumer as well and I was able to read the messages from this remote topic.\r\n\r\nFor some reason this very simple kafka stream app exit with the code 0.\r\nThere is not much I can do, any idea ?\r\n\r\n\r\nSince the issue seems to be related to the slf4j dependencies here the pom :\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;Ingestor :: Bigdata :: Ingestor&lt;/name&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.parent-pom&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.2&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ingestor&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\r\n\t&lt;properties&gt;\r\n\t\t\r\n\t\t&lt;sq.artifact.type&gt;internal&lt;/sq.artifact.type&gt;\r\n\t\t&lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\r\n\t\t&lt;maven-assembly-plugin.version&gt;3.3.0&lt;/maven-assembly-plugin.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;7&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;7&lt;/maven.compiler.target&gt;\r\n\t\t&lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\r\n\t\t&lt;sq.scs&gt;fx-dan&lt;/sq.scs&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.kafka/kafka-streams --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;libs-schemas&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.6-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-utils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\nUpdate :\r\n\r\nBeside the missing log4j properties file the error was due a miss configuration for the Serdes.\r\n\r\n\r\nThe updated code looks like this :\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \t\tfinal StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n    \t\tfinal Properties streamsConfiguration = new Properties();\r\n    \t\tstreamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;generic-avro-integration-test&quot;);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, Utils.BOOTSTRAP_SERVER);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n    \t\tstreamsConfiguration.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\r\n    \t\tstreamsConfiguration.put(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL);\r\n    \r\n    \t\tfinal Serde&lt;String&gt; stringSerde = Serdes.String();\r\n    \t\tfinal Serde&lt;AllTypesFxEvents&gt; specificAvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n    \r\n    \t\tfinal boolean isKeySerde = false;\r\n    \t\tspecificAvroSerde.configure(Collections.singletonMap(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL),\r\n    \t\t\t\tisKeySerde);\r\n    \r\n    builder.stream(Utils.ALL_FX_EVENTS_TOPIC).foreach((key, value) -&gt; System.out.println(key));\r\n    \r\n    KafkaStreams kafkaStreams = new KafkaStreams(builder.build(), streamsConfiguration);\r\n    \t\tkafkaStreams.cleanUp();\r\n    \t\tkafkaStreams.start();\r\n\r\nI don&#39;t have the exception stack anymore but this link helped me to fix it.\r\n\r\n&gt; https://stackoverflow.com/questions/56523420/proper-guide-for-java-kafka-stream-with-avro-schema-registry\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lRsSQ.png","title":"My Kafka streaming application just exit with code 0 doing nothing","body":"<p>In order to try the Kafka stream I did this :</p>\n<pre><code>public static void main(String[] args) {\n\n        final StreamsBuilder builder = new StreamsBuilder();\n\n        final Properties streamsConfiguration = new Properties();\n\n        streamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;generic-avro-integration-test&quot;);\n        streamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, Utils.BOOTSTRAP_SERVER);\n        streamsConfiguration.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, StringDeserializer.class);\n        streamsConfiguration.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, KafkaAvroDeserializer.class);\n        streamsConfiguration.put(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL);\n        \n        builder.stream(Utils.ALL_FX_EVENTS_TOPIC).foreach((key, value) -&gt; System.out.println(key));\n        \n        KafkaStreams kafkaStreams = new KafkaStreams(builder.build(), streamsConfiguration);\n        kafkaStreams.start();\n    }\n</code></pre>\n<p>But when I run it locally I only get this :</p>\n<p><a href=\"https://i.stack.imgur.com/lRsSQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lRsSQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Basically I run it from my IDE and after 1 sec it just stops while it should be waiting for new events pushed in the topic.</p>\n<p>I don't understand.</p>\n<p>The kafka topic is on another machine, but I coded a very simple consumer as well and I was able to read the messages from this remote topic.</p>\n<p>For some reason this very simple kafka stream app exit with the code 0.\nThere is not much I can do, any idea ?</p>\n<p>Since the issue seems to be related to the slf4j dependencies here the pom :</p>\n\n\n    4.0.0\n    jar\n<pre><code>&lt;name&gt;Ingestor :: Bigdata :: Ingestor&lt;/name&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;8&lt;/source&gt;\n                &lt;target&gt;8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;com.parent-pom&lt;/groupId&gt;\n    &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\n    &lt;version&gt;4.0.2&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;com&lt;/groupId&gt;\n&lt;artifactId&gt;ingestor&lt;/artifactId&gt;\n&lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\n\n\n&lt;properties&gt;\n    \n    &lt;sq.artifact.type&gt;internal&lt;/sq.artifact.type&gt;\n    &lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\n    &lt;maven-assembly-plugin.version&gt;3.3.0&lt;/maven-assembly-plugin.version&gt;\n    &lt;maven.compiler.source&gt;7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;7&lt;/maven.compiler.target&gt;\n    &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\n    &lt;sq.scs&gt;fx-dan&lt;/sq.scs&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.kafka/kafka-streams --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com&lt;/groupId&gt;\n        &lt;artifactId&gt;libs-schemas&lt;/artifactId&gt;\n        &lt;version&gt;1.0.6-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;common-config&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;common-utils&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;31.0.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Update :</p>\n<p>Beside the missing log4j properties file the error was due a miss configuration for the Serdes.</p>\n<p>The updated code looks like this :</p>\n<pre><code>public static void main(String[] args) {\n\n        final StreamsBuilder builder = new StreamsBuilder();\n\n        final Properties streamsConfiguration = new Properties();\n        streamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;generic-avro-integration-test&quot;);\n        streamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, Utils.BOOTSTRAP_SERVER);\n        streamsConfiguration.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n        streamsConfiguration.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\n        streamsConfiguration.put(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL);\n\n        final Serde&lt;String&gt; stringSerde = Serdes.String();\n        final Serde&lt;AllTypesFxEvents&gt; specificAvroSerde = new SpecificAvroSerde&lt;&gt;();\n\n        final boolean isKeySerde = false;\n        specificAvroSerde.configure(Collections.singletonMap(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, Utils.SCHEMA_REGISTRY_URL),\n                isKeySerde);\n\nbuilder.stream(Utils.ALL_FX_EVENTS_TOPIC).foreach((key, value) -&gt; System.out.println(key));\n\nKafkaStreams kafkaStreams = new KafkaStreams(builder.build(), streamsConfiguration);\n        kafkaStreams.cleanUp();\n        kafkaStreams.start();\n</code></pre>\n<p>I don't have the exception stack anymore but this link helped me to fix it.</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/56523420/proper-guide-for-java-kafka-stream-with-avro-schema-registry\">proper guide for java kafka stream with avro schema registry</a></p>\n</blockquote>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"display_name":"user11582989"},"score":0,"creation_date":1643986512,"post_id":70988061,"comment_id":125492006,"body_markdown":"Ok, I&#39;ll add them to the question, hold on a minute please.","body":"Ok, I&#39;ll add them to the question, hold on a minute please."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1643986619,"post_id":70988061,"comment_id":125492059,"body_markdown":"Can you paste the actual code and not an image of the code.","body":"Can you paste the actual code and not an image of the code."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1643986783,"post_id":70988061,"comment_id":125492131,"body_markdown":"Where are you calling `draw` from? Is it being called from a paintComponent method of a swing component? Is that component added to a layout and visible. Does it have a size?","body":"Where are you calling <code>draw</code> from? Is it being called from a paintComponent method of a swing component? Is that component added to a layout and visible. Does it have a size?"},{"owner":{"display_name":"user11582989"},"score":0,"creation_date":1643986994,"post_id":70988061,"comment_id":125492226,"body_markdown":"@matt ok hold on, I&#39;ll do that instead.","body":"@matt ok hold on, I&#39;ll do that instead."},{"owner":{"display_name":"user11582989"},"score":0,"creation_date":1643987020,"post_id":70988061,"comment_id":125492232,"body_markdown":"@matt it is being called from ```paintComponent()```","body":"@matt it is being called from <code>paintComponent()</code>"},{"owner":{"display_name":"user11582989"},"score":0,"creation_date":1643987414,"post_id":70988061,"comment_id":125492406,"body_markdown":"There we go. Added the needed code, removed some unnecessary code, and pasted in the actual code instead of picture.","body":"There we go. Added the needed code, removed some unnecessary code, and pasted in the actual code instead of picture."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1643988537,"post_id":70988061,"comment_id":125492890,"body_markdown":"How do you know the draw method is invoked? How do you know the for loop is executed? How do you know the panel is added to the frame? How do you know what the size of the panel is? Maybe the size is (0, 0) so there is nothing to paint. We don&#39;t have enough information to suggest a fix since we don&#39;t know the context of how that code is invoked.. Post a proper [mre] when asking a question. See [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for two ways to draw coloured rectangle on a panel.","body":"How do you know the draw method is invoked? How do you know the for loop is executed? How do you know the panel is added to the frame? How do you know what the size of the panel is? Maybe the size is (0, 0) so there is nothing to paint. We don&#39;t have enough information to suggest a fix since we don&#39;t know the context of how that code is invoked.. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> when asking a question. See <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for two ways to draw coloured rectangle on a panel."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643988720,"post_id":70988061,"comment_id":125492984,"body_markdown":"@camickr you took the words out of my fingers!","body":"@camickr you took the words out of my fingers!"},{"owner":{"display_name":"user11582989"},"score":0,"creation_date":1643989590,"post_id":70988061,"comment_id":125493366,"body_markdown":"@camickr now I&#39;ve added the full necessary classes","body":"@camickr now I&#39;ve added the full necessary classes"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643989118,"creation_date":1643989118,"answer_id":70989018,"question_id":70988061,"body_markdown":"Be aware that the paintComponent() method is invoked by Swing whenever the framework thinks the component needs to be rendered on screen. This usually is when the window is getting visible - initially or because some other window no longer hides the component. Such events are out of your control.\r\n\r\nSo your application should create a state and be ready to draw it anytime. Therefore you do not create state (like a level) inside the paint() or paintComponent() method. Put that elsewhere - if need be into the constructor.\r\n\r\nLooking at you code:\r\nAs you are creating a new level inside paintComponent()/draw(), is it correct to assume that this level has no rooms associated? In that case the method is right to return without having painted anything.\r\n\r\nIf your application thinks the screen should be updated call repaint(), knowing that the paint() method will be called by the framework soon.","title":"Java: JFrame Graphics not drawing rectangle","body":"<p>Be aware that the paintComponent() method is invoked by Swing whenever the framework thinks the component needs to be rendered on screen. This usually is when the window is getting visible - initially or because some other window no longer hides the component. Such events are out of your control.</p>\n<p>So your application should create a state and be ready to draw it anytime. Therefore you do not create state (like a level) inside the paint() or paintComponent() method. Put that elsewhere - if need be into the constructor.</p>\n<p>Looking at you code:\nAs you are creating a new level inside paintComponent()/draw(), is it correct to assume that this level has no rooms associated? In that case the method is right to return without having painted anything.</p>\n<p>If your application thinks the screen should be updated call repaint(), knowing that the paint() method will be called by the framework soon.</p>\n"}],"owner":{"display_name":"user11582989"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70989018,"answer_count":1,"score":0,"last_activity_date":1643989452,"creation_date":1643985125,"question_id":70988061,"body_markdown":"Hello fellow programmers,\r\n\r\nI&#39;ve ran into a little issue in my code that I can&#39;t seem to crack. It has to do with the Jframe; Graphics area of Java. The code that I&#39;ll post below, is over a drawing method. Which purpose is to draw the &quot;rooms&quot; that are in a *ArrayList* ```roomList``` which is located in another class hence ```lvl.``` before. This off-course doesn&#39;t happen, hence the post on here.\r\n```\r\npublic class LevelGUI implements Observer {\r\n\r\n\tprivate Level lv;\r\n\tprivate Display d;\r\n\t\r\n\tpublic LevelGUI(Level level, String name) {\r\n\r\n\t\tthis.lv = level;\r\n\t\t\r\n\t\tJFrame frame = new JFrame(name);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\td = new Display(lv, 500, 500);\r\n\t\tframe.getContentPane().add(d);\r\n\t\tframe.pack();\r\n\t\tframe.setLocation(0, 0);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\tprivate class Display extends JPanel {\r\n\r\n\t\tpublic Display(Level fp, int x, int y) {\r\n\t\t\taddKeyListener(new Listener());\r\n\t\t\tsetBackground(Color.GRAY);\r\n\t\t\tsetPreferredSize(new Dimension(x + 20, y + 20));\r\n\t\t\tsetFocusable(true);\r\n\t\t}\r\n\t\tpublic void paintComponent(Graphics g) {\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t\tdraw(g);\r\n\t\t}\r\n\t\tprivate void draw(Graphics g) {\r\n\t\t\tLevel lvl = new Level();\r\n\t\t\tfor(int i = 0; i &lt; lvl.roomList.size(); i++) {\r\n\t\t\t\tRoom room = lvl.roomList.get(i);\r\n\t\t\t\tg.setColor(room.floorColor);\r\n\t\t\t\tg.drawRect(room.posX, room.posY, room.roomWidth, room.roomHeight);\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n**To get some background info on the program**. ```roomList``` is the *ArrayList*, and it is filled with various different sized and colored rooms. The rooms themselves are *objects*. \r\n\r\nHere comes first ```Level``` *class*:\r\n```\r\npublic class Level extends Observable {\r\n\r\n\tprivate boolean Switch = true;\r\n\r\n\tpublic ArrayList&lt;Room&gt; roomList = new ArrayList&lt;Room&gt;(); \r\n\r\n\t(...)\r\n}\r\n```\r\n\r\nHere is the *Class* ```Room()``` that is used to create the rooms.\r\n```\r\npublic class Room {\r\n\tColor floorColor;\r\n\tint roomWidth;\r\n\tint roomHeight;\r\n\tint posX;\r\n\tint posY;\r\n\r\n\tpublic Room(int dx, int dy, Color color) {\r\n\t\tthis.floorColor = color;\r\n\t\tthis.roomHeight = dy;\r\n\t\tthis.roomWidth = dx;\r\n\t\tthis.posY = 0;\r\n\t\tthis.posX = 0;\r\n\t}\r\n\r\n    (...)\r\n}\r\n```\r\n\r\nI&#39;ve managed to locate where the problem is thought to occur, and it&#39;s the code in the *for-loop*. I tried switching the ```roomList.size()``` for an *integer* to test if it was the loop., But it wasn&#39;t. It is possible to draw a figure outside of the *for-loop*. \r\n\r\nand again, **the problem** isn&#39;t an error message, the program simply doesn&#39;t draw the rooms that I&#39;ve instructed it to draw in the *method* ```draw()```.\r\n\r\nThe display output looks like this: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nThanks beforehand!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XmeP3.png","title":"Java: JFrame Graphics not drawing rectangle","body":"<p>Hello fellow programmers,</p>\n<p>I've ran into a little issue in my code that I can't seem to crack. It has to do with the Jframe; Graphics area of Java. The code that I'll post below, is over a drawing method. Which purpose is to draw the &quot;rooms&quot; that are in a <em>ArrayList</em> <code>roomList</code> which is located in another class hence <code>lvl.</code> before. This off-course doesn't happen, hence the post on here.</p>\n<pre><code>public class LevelGUI implements Observer {\n\n    private Level lv;\n    private Display d;\n    \n    public LevelGUI(Level level, String name) {\n\n        this.lv = level;\n        \n        JFrame frame = new JFrame(name);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        d = new Display(lv, 500, 500);\n        frame.getContentPane().add(d);\n        frame.pack();\n        frame.setLocation(0, 0);\n        frame.setVisible(true);\n    }\n    private class Display extends JPanel {\n\n        public Display(Level fp, int x, int y) {\n            addKeyListener(new Listener());\n            setBackground(Color.GRAY);\n            setPreferredSize(new Dimension(x + 20, y + 20));\n            setFocusable(true);\n        }\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            draw(g);\n        }\n        private void draw(Graphics g) {\n            Level lvl = new Level();\n            for(int i = 0; i &lt; lvl.roomList.size(); i++) {\n                Room room = lvl.roomList.get(i);\n                g.setColor(room.floorColor);\n                g.drawRect(room.posX, room.posY, room.roomWidth, room.roomHeight);\n            }   \n        }\n    }\n}\n\n</code></pre>\n<p><strong>To get some background info on the program</strong>. <code>roomList</code> is the <em>ArrayList</em>, and it is filled with various different sized and colored rooms. The rooms themselves are <em>objects</em>.</p>\n<p>Here comes first <code>Level</code> <em>class</em>:</p>\n<pre><code>public class Level extends Observable {\n\n    private boolean Switch = true;\n\n    public ArrayList&lt;Room&gt; roomList = new ArrayList&lt;Room&gt;(); \n\n    (...)\n}\n</code></pre>\n<p>Here is the <em>Class</em> <code>Room()</code> that is used to create the rooms.</p>\n<pre><code>public class Room {\n    Color floorColor;\n    int roomWidth;\n    int roomHeight;\n    int posX;\n    int posY;\n\n    public Room(int dx, int dy, Color color) {\n        this.floorColor = color;\n        this.roomHeight = dy;\n        this.roomWidth = dx;\n        this.posY = 0;\n        this.posX = 0;\n    }\n\n    (...)\n}\n</code></pre>\n<p>I've managed to locate where the problem is thought to occur, and it's the code in the <em>for-loop</em>. I tried switching the <code>roomList.size()</code> for an <em>integer</em> to test if it was the loop., But it wasn't. It is possible to draw a figure outside of the <em>for-loop</em>.</p>\n<p>and again, <strong>the problem</strong> isn't an error message, the program simply doesn't draw the rooms that I've instructed it to draw in the <em>method</em> <code>draw()</code>.</p>\n<p>The display output looks like this:\n<a href=\"https://i.stack.imgur.com/XmeP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XmeP3.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks beforehand!</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1643979190,"post_id":70986633,"comment_id":125488962,"body_markdown":"Where is your code?","body":"Where is your code?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1643979944,"post_id":70986633,"comment_id":125489199,"body_markdown":"You have to change from snake_case to camelCase. Here you&#39;ll find some ideas https://www.baeldung.com/java-string-to-camel-case","body":"You have to change from snake_case to camelCase. Here you&#39;ll find some ideas <a href=\"https://www.baeldung.com/java-string-to-camel-case\" rel=\"nofollow noreferrer\">baeldung.com/java-string-to-camel-case</a>"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1643980048,"post_id":70986633,"comment_id":125489236,"body_markdown":"You are mixing database model (via api) with java model. In that case you have to translate database model via api-&gt; java.","body":"You are mixing database model (via api) with java model. In that case you have to translate database model via api-&gt; java."}],"owner":{"account_id":7139831,"reputation":11,"user_id":5457960,"display_name":"Joao Ferreira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643988656,"creation_date":1643978874,"question_id":70986633,"body_markdown":"So, I am trying to do a dynamic filter search, using Specifications on my JPA connection.\r\n\r\nI want to send something like this in my request: \r\n\r\n`xxxxxxxx.com/stuff?limit=10&amp;offset=0&amp;some_field_with_underscore=zzz`\r\n\r\nIn my database, the field is: `some_field_with_underscore`\r\n\r\nIn my entity I have it like this: \r\n```\r\n@Column(name = &quot;some_field_with_underscore&quot;, nullable = false)\r\n    private String someFieldWithUnderscore;\r\n```\r\n\r\nUsing the findAll() without filters is ok and no problem with that but, when I try to use the Specification with `&quot;some_field_with_underscore&quot;` it fails and a error is thrown.\r\n\r\nSo, my question is, how can I use fields with underscores this way? (In this case, I can&#39;t use `someFieldWithUnderscore` in my request but I know that it will work)","title":"Specification using fields with underscore","body":"<p>So, I am trying to do a dynamic filter search, using Specifications on my JPA connection.</p>\n<p>I want to send something like this in my request:</p>\n<p><code>xxxxxxxx.com/stuff?limit=10&amp;offset=0&amp;some_field_with_underscore=zzz</code></p>\n<p>In my database, the field is: <code>some_field_with_underscore</code></p>\n<p>In my entity I have it like this:</p>\n<pre><code>@Column(name = &quot;some_field_with_underscore&quot;, nullable = false)\n    private String someFieldWithUnderscore;\n</code></pre>\n<p>Using the findAll() without filters is ok and no problem with that but, when I try to use the Specification with <code>&quot;some_field_with_underscore&quot;</code> it fails and a error is thrown.</p>\n<p>So, my question is, how can I use fields with underscores this way? (In this case, I can't use <code>someFieldWithUnderscore</code> in my request but I know that it will work)</p>\n"},{"tags":["java","apache","jar","apache-axis","webservices-client"],"comments":[{"owner":{"account_id":3623373,"reputation":357,"user_id":3021604,"accept_rate":54,"display_name":"javalearner"},"score":0,"creation_date":1481264762,"post_id":41054312,"comment_id":69315694,"body_markdown":"tryied adding commons-logging to buildpath but dint worked","body":"tryied adding commons-logging to buildpath but dint worked"},{"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"score":0,"creation_date":1481265168,"post_id":41054312,"comment_id":69315865,"body_markdown":"Remove duplicate entries of jar files commons-httpclient &amp; commons-discovery and others if you have.","body":"Remove duplicate entries of jar files commons-httpclient &amp; commons-discovery and others if you have."},{"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"score":0,"creation_date":1481265666,"post_id":41054312,"comment_id":69316044,"body_markdown":"are you using maven for dependency management?","body":"are you using maven for dependency management?"},{"owner":{"account_id":3623373,"reputation":357,"user_id":3021604,"accept_rate":54,"display_name":"javalearner"},"score":0,"creation_date":1481265709,"post_id":41054312,"comment_id":69316061,"body_markdown":"have tried with removing the duplicates..no luck...thanks for responding..Yes Sachin we are using maven","body":"have tried with removing the duplicates..no luck...thanks for responding..Yes Sachin we are using maven"},{"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"score":0,"creation_date":1481265809,"post_id":41054312,"comment_id":69316092,"body_markdown":"This error is coming because axis also has its commons-logging dependency, which you can remove by maven dependency management.","body":"This error is coming because axis also has its commons-logging dependency, which you can remove by maven dependency management."},{"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"score":0,"creation_date":1481265910,"post_id":41054312,"comment_id":69316129,"body_markdown":"axis2-kernel depend on commons-logging remove it using exclude tag in pom.xml","body":"axis2-kernel depend on commons-logging remove it using exclude tag in pom.xml"},{"owner":{"account_id":3623373,"reputation":357,"user_id":3021604,"accept_rate":54,"display_name":"javalearner"},"score":0,"creation_date":1481265977,"post_id":41054312,"comment_id":69316162,"body_markdown":"should I exclude axis2-kernel ?","body":"should I exclude axis2-kernel ?"},{"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"score":0,"creation_date":1481265993,"post_id":41054312,"comment_id":69316175,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/130185/discussion-between-sachinsarawgi-and-javalearner).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/130185/discussion-between-sachinsarawgi-and-javalearner\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481276126,"creation_date":1481276126,"answer_id":41057211,"question_id":41054312,"body_markdown":"You don&#39;t have dependency-hierarchy tab in your IDE. So for checking the dependency tree Install maven as mentioned below:\n\n&gt; Download maven bin zipped file\n&gt;\n&gt; Unzip and paste in Program Files folder\n&gt;\n&gt; Edit Path Environment Variable (add maven bin folder location in the path)\n&gt;\n&gt; Go to project home directory\n&gt;\n&gt; Run following command: `mvn dependency:tree -Doutput=output.txt`\n\nThis will generate maven dependency tree.\n\nNow check which all dependency in your pom.xml is showing multiple times (use Ctrl + F) feature or do it manually. Now remove the dependency which is showing more them two times using `&lt;exclusions&gt;` tag (already explained you for axis2-kernel, same like that).\n\nNow add separately commons-loging maven dependency:\n\n    &lt;dependency&gt; \n      &lt;groupId&gt;commons-logging&lt;/groupId&gt; \n      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; \n      &lt;version&gt;1.0.3&lt;/version&gt; \n    &lt;/dependency&gt;\n\nThis process will remove duplicate dependency and remove your commons-logging framework problem.\n\nIf face issue just comment.","title":"No implementation defined for org.apache.commons.logging.LogFactory while accessing the axis webservice","body":"<p>You don't have dependency-hierarchy tab in your IDE. So for checking the dependency tree Install maven as mentioned below:</p>\n<blockquote>\n<p>Download maven bin zipped file</p>\n<p>Unzip and paste in Program Files folder</p>\n<p>Edit Path Environment Variable (add maven bin folder location in the path)</p>\n<p>Go to project home directory</p>\n<p>Run following command: <code>mvn dependency:tree -Doutput=output.txt</code></p>\n</blockquote>\n<p>This will generate maven dependency tree.</p>\n<p>Now check which all dependency in your pom.xml is showing multiple times (use Ctrl + F) feature or do it manually. Now remove the dependency which is showing more them two times using <code>&lt;exclusions&gt;</code> tag (already explained you for axis2-kernel, same like that).</p>\n<p>Now add separately commons-loging maven dependency:</p>\n<pre><code>&lt;dependency&gt; \n  &lt;groupId&gt;commons-logging&lt;/groupId&gt; \n  &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; \n  &lt;version&gt;1.0.3&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>This process will remove duplicate dependency and remove your commons-logging framework problem.</p>\n<p>If face issue just comment.</p>\n"},{"tags":[],"owner":{"account_id":3623373,"reputation":357,"user_id":3021604,"accept_rate":54,"display_name":"javalearner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643988580,"creation_date":1481789772,"answer_id":41159373,"question_id":41054312,"body_markdown":"Issue is resolved by adding the below to commons-logging.properties and added the file to classpath.\r\n\r\norg.apache.commons.logging.Log = org.apache.commons.logging.impl.Log4JLogger\r\norg.apache.commons.logging.LogFactory = org.apache.commons.logging.impl.LogFactoryImpl\r\n","title":"No implementation defined for org.apache.commons.logging.LogFactory while accessing the axis webservice","body":"<p>Issue is resolved by adding the below to commons-logging.properties and added the file to classpath.</p>\n<p>org.apache.commons.logging.Log = org.apache.commons.logging.impl.Log4JLogger\norg.apache.commons.logging.LogFactory = org.apache.commons.logging.impl.LogFactoryImpl</p>\n"},{"tags":[],"owner":{"account_id":10932492,"reputation":105,"user_id":8035169,"display_name":"OAM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507268823,"creation_date":1507268823,"answer_id":46599034,"question_id":41054312,"body_markdown":"In case this would help somebody struggling with this exception on a JUnit unit test, the below did not work for me.\r\n\r\n    @BeforeClass\r\n    public static void beforeClass() {\r\n\tSystem.setProperty(&quot;org.apache.commons.logging.LogFactory&quot;, \r\n    &quot;org.apache.commons.logging.impl.LogFactoryImpl&quot;);\r\n\tSystem.setProperty(&quot;org.apache.commons.logging.Log&quot;, \r\n    &quot;org.apache.commons.logging.impl.Log4JLogger&quot;);\r\n    }\r\n\r\nwhat worked was replacing the first statement with the below.\r\n\r\n    System.setProperty(LogFactory.FACTORY_PROPERTY, LogFactory.FACTORY_DEFAULT);\r\n","title":"No implementation defined for org.apache.commons.logging.LogFactory while accessing the axis webservice","body":"<p>In case this would help somebody struggling with this exception on a JUnit unit test, the below did not work for me.</p>\n\n<pre><code>@BeforeClass\npublic static void beforeClass() {\nSystem.setProperty(\"org.apache.commons.logging.LogFactory\", \n\"org.apache.commons.logging.impl.LogFactoryImpl\");\nSystem.setProperty(\"org.apache.commons.logging.Log\", \n\"org.apache.commons.logging.impl.Log4JLogger\");\n}\n</code></pre>\n\n<p>what worked was replacing the first statement with the below.</p>\n\n<pre><code>System.setProperty(LogFactory.FACTORY_PROPERTY, LogFactory.FACTORY_DEFAULT);\n</code></pre>\n"}],"owner":{"account_id":3623373,"reputation":357,"user_id":3021604,"accept_rate":54,"display_name":"javalearner"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1643988580,"creation_date":1481264698,"question_id":41054312,"body_markdown":"Getting the below error while accessing the webservice..Tried applying the common-logging.jar but issue din resolved.\r\n\r\norg.apache.commons.discovery.DiscoveryException: No implementation defined for org.apache.commons.logging.LogFactory while accessing the axis webservice\r\n\r\nable to access the same service with main method from a test project which includes jaxrpc,mail.jar,wsdl4.jar,commons-discovery-0.2.jar,commons-logging-api-...as shown below\r\n1[![Jar list for test project][1]][1]\r\n\r\n\r\nbut the same service is giving the issue  which contains the below jar list..have added commons-discovery-0.4 as well in addition to 0.2\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vx1oT.jpg\r\n  [2]: https://i.stack.imgur.com/gzkmc.png","title":"No implementation defined for org.apache.commons.logging.LogFactory while accessing the axis webservice","body":"<p>Getting the below error while accessing the webservice..Tried applying the common-logging.jar but issue din resolved.</p>\n\n<p>org.apache.commons.discovery.DiscoveryException: No implementation defined for org.apache.commons.logging.LogFactory while accessing the axis webservice</p>\n\n<p>able to access the same service with main method from a test project which includes jaxrpc,mail.jar,wsdl4.jar,commons-discovery-0.2.jar,commons-logging-api-...as shown below\n1<a href=\"https://i.stack.imgur.com/Vx1oT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vx1oT.jpg\" alt=\"Jar list for test project\"></a></p>\n\n<p>but the same service is giving the issue  which contains the below jar list..have added commons-discovery-0.4 as well in addition to 0.2</p>\n\n<p><a href=\"https://i.stack.imgur.com/gzkmc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gzkmc.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","maven","ejb"],"answers":[{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351074013,"creation_date":1351074013,"answer_id":13047237,"question_id":13047118,"body_markdown":"You can specify the concrete class in a property file, and filter property files by maven build profile, so they would get different values. Property file would then be read by java code and it would be used accordingly.\r\n\r\nIs there some reason to do this? It doesn&#39;t feel like the right way of doing things...","title":"Selecting class by Maven build profile","body":"<p>You can specify the concrete class in a property file, and filter property files by maven build profile, so they would get different values. Property file would then be read by java code and it would be used accordingly.</p>\n\n<p>Is there some reason to do this? It doesn't feel like the right way of doing things...</p>\n"},{"tags":[],"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1351074133,"creation_date":1351074133,"answer_id":13047265,"question_id":13047118,"body_markdown":"It is possible, with some footwork. You will have to put your class(es) in a dependency and use the profiles in this manner:\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n    \t    &lt;id&gt;default&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                 &lt;dependency&gt;...&lt;/dependency&gt;\r\n           &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;someotherprofile&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                 &lt;dependency&gt;...&lt;/dependency&gt;\r\n           &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n     &lt;/profiles&gt;\r\n\r\nAlso, the classes will have to be in the same package for this to work.\r\n\r\nCheers,","title":"Selecting class by Maven build profile","body":"<p>It is possible, with some footwork. You will have to put your class(es) in a dependency and use the profiles in this manner:</p>\n\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;default&lt;/id&gt;\n        &lt;dependencies&gt;\n             &lt;dependency&gt;...&lt;/dependency&gt;\n       &lt;/dependencies&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;someotherprofile&lt;/id&gt;\n        &lt;dependencies&gt;\n             &lt;dependency&gt;...&lt;/dependency&gt;\n       &lt;/dependencies&gt;\n    &lt;/profile&gt;\n &lt;/profiles&gt;\n</code></pre>\n\n<p>Also, the classes will have to be in the same package for this to work.</p>\n\n<p>Cheers,</p>\n"}],"owner":{"account_id":1133296,"reputation":2292,"user_id":1118878,"accept_rate":52,"display_name":"drodil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1661,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13047265,"answer_count":2,"score":2,"last_activity_date":1643988196,"creation_date":1351073526,"question_id":13047118,"body_markdown":"I am quite new to Maven and Java EE programming all-together. \r\n\r\nI would like to create a stub class for authentication testing which should be activated in the default Maven build profile. \r\n\r\nCurrently I have two classes with same name but in different packages. Is it possible to somehow select the correct class to use in the build phase by setting maven build profile parameters? I am also using EJB and JSF2.0 in my project and the authentication object is created in one of the beans:\r\n\r\n    AuthUtil util = new AuthUtil();","title":"Selecting class by Maven build profile","body":"<p>I am quite new to Maven and Java EE programming all-together. </p>\n\n<p>I would like to create a stub class for authentication testing which should be activated in the default Maven build profile. </p>\n\n<p>Currently I have two classes with same name but in different packages. Is it possible to somehow select the correct class to use in the build phase by setting maven build profile parameters? I am also using EJB and JSF2.0 in my project and the authentication object is created in one of the beans:</p>\n\n<pre><code>AuthUtil util = new AuthUtil();\n</code></pre>\n"},{"tags":["java","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":5926985,"reputation":767,"user_id":4662593,"display_name":"Michał Szynkiewicz"},"score":0,"creation_date":1644756500,"post_id":70986350,"comment_id":125685403,"body_markdown":"Is the trail specific to the request that you make with your client or to the request that initiated the action, e.g. a Resource method that calls the clients?","body":"Is the trail specific to the request that you make with your client or to the request that initiated the action, e.g. a Resource method that calls the clients?"},{"owner":{"account_id":5926985,"reputation":767,"user_id":4662593,"display_name":"Michał Szynkiewicz"},"score":0,"creation_date":1644756545,"post_id":70986350,"comment_id":125685411,"body_markdown":"If the former, you can use a @RequestScoped CDI bean to store the trail","body":"If the former, you can use a @RequestScoped CDI bean to store the trail"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643987983,"creation_date":1643987983,"answer_id":70988775,"question_id":70986350,"body_markdown":"You can do something like this to set the property for each request:\r\n\r\n    @Provider\r\n    public class DummyContainerRequestFilter implements ContainerRequestFilter {\r\n    \r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext requestContext) {\r\n            requestContext.setProperty(&quot;foo&quot;, &quot;bar&quot;);\r\n        }\r\n    }\r\n\r\nAnd then access the property after the resource method has completed by calling:\r\n\r\n    @Provider\r\n    public class DummyContainerResponseFilter implements ContainerResponseFilter {\r\n    \r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException {\r\n            requestContext.getProperty(&quot;foo&quot;);\r\n        }\r\n    }","title":"Setting properties to the request context","body":"<p>You can do something like this to set the property for each request:</p>\n<pre><code>@Provider\npublic class DummyContainerRequestFilter implements ContainerRequestFilter {\n\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) {\n        requestContext.setProperty(&quot;foo&quot;, &quot;bar&quot;);\n    }\n}\n</code></pre>\n<p>And then access the property after the resource method has completed by calling:</p>\n<pre><code>@Provider\npublic class DummyContainerResponseFilter implements ContainerResponseFilter {\n\n\n    @Override\n    public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException {\n        requestContext.getProperty(&quot;foo&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10009036,"reputation":177,"user_id":7402412,"display_name":"Yans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643987983,"creation_date":1643977445,"question_id":70986350,"body_markdown":"How to set a property to the current request context? I&#39;m trying to persist an audit trail (that contains request specific information) for all requests/response.\r\n\r\nI was trying to do it in an implementation of ContainerResponseFilter (to avoid handling it in all the req methods) as below:\r\n\r\n    public void filter(ContainerRequestContext reqCtx, ContainerResponseContext respCtx){\r\n            ReqInfo info = (ReqInfo)reqCtx.getProperty(&quot;info_key&quot;);\r\n            //..persist.\r\n    }\r\n\r\nand setting this info in the Controller as shown below;\r\n\r\n    @Context\r\n    ContainerRequestContext reqCtx;\r\n    \r\n    @POST\r\n    @Path(&quot;/some/path&quot;)\r\n    public Response foo(){\r\n            ...\r\n            ReqInfo info = new ReqInfo();\r\n            reqCtx.setProperty(&quot;info_key&quot;, info);\r\n            ...\r\n    }\r\n\r\nBut this doesn&#39;t seems to work, as I&#39;m getting `Unable to find contextual data of type: ...ContainerRequestContext` error.\r\n\r\nIs there anyway to set some properties to the request so that in can be accessed in the interceptor/Filter later?\r\n\r\nThanks","title":"Setting properties to the request context","body":"<p>How to set a property to the current request context? I'm trying to persist an audit trail (that contains request specific information) for all requests/response.</p>\n<p>I was trying to do it in an implementation of ContainerResponseFilter (to avoid handling it in all the req methods) as below:</p>\n<pre><code>public void filter(ContainerRequestContext reqCtx, ContainerResponseContext respCtx){\n        ReqInfo info = (ReqInfo)reqCtx.getProperty(&quot;info_key&quot;);\n        //..persist.\n}\n</code></pre>\n<p>and setting this info in the Controller as shown below;</p>\n<pre><code>@Context\nContainerRequestContext reqCtx;\n\n@POST\n@Path(&quot;/some/path&quot;)\npublic Response foo(){\n        ...\n        ReqInfo info = new ReqInfo();\n        reqCtx.setProperty(&quot;info_key&quot;, info);\n        ...\n}\n</code></pre>\n<p>But this doesn't seems to work, as I'm getting <code>Unable to find contextual data of type: ...ContainerRequestContext</code> error.</p>\n<p>Is there anyway to set some properties to the request so that in can be accessed in the interceptor/Filter later?</p>\n<p>Thanks</p>\n"},{"tags":["java","swing","printing","awt"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1618914163,"post_id":67173468,"comment_id":118741301,"body_markdown":"I suspect that by specifying the DocFlavor as an image, you&#39;re &quot;forcing&quot; the printer attribute of the page size.   I&#39;ve always used startUp2, so I&#39;m not familiar with the code in startUp.","body":"I suspect that by specifying the DocFlavor as an image, you&#39;re &quot;forcing&quot; the printer attribute of the page size.   I&#39;ve always used startUp2, so I&#39;m not familiar with the code in startUp."},{"owner":{"account_id":2146649,"reputation":492,"user_id":2300791,"display_name":"user114676"},"score":0,"creation_date":1643987559,"post_id":67173468,"comment_id":125494337,"body_markdown":"I have this problem as well, and found this bug that is probably related:\nhttps://bugs.openjdk.java.net/browse/JDK-8246742","body":"I have this problem as well, and found this bug that is probably related: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8246742\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8246742</a>"}],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643987559,"creation_date":1618899491,"question_id":67173468,"body_markdown":"The code below shows the standard AWT/Swing printing dialog. All works fine, but in the dialog clicking on the button &quot;Properties&quot; calls no printer properties dialog.\r\n\r\n\timport java.awt.GraphicsConfiguration;\r\n\timport java.awt.GraphicsEnvironment;\r\n\timport java.awt.print.PrinterJob;\r\n\timport java.util.Locale;\r\n\r\n\timport javax.print.DocFlavor;\r\n\timport javax.print.DocFlavor.SERVICE_FORMATTED;\r\n\timport javax.print.PrintService;\r\n\timport javax.print.PrintServiceLookup;\r\n\timport javax.print.ServiceUI;\r\n\timport javax.print.attribute.HashPrintRequestAttributeSet;\r\n\timport javax.print.attribute.PrintRequestAttributeSet;\r\n\timport javax.swing.SwingUtilities;\r\n\r\n\tpublic class PrintTryout {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tLocale.setDefault(Locale.ENGLISH);\r\n\t\t\tSwingUtilities.invokeLater(new PrintTryout()::startUp);\r\n\t\t}\r\n\r\n\t\tprivate void startUp() {\r\n\t\t\tPrintService[] services = PrintServiceLookup.lookupPrintServices(\r\n\t\t\t\t\tDocFlavor.INPUT_STREAM.JPEG, null);\r\n\t\t\tPrintRequestAttributeSet attributes = new HashPrintRequestAttributeSet();\r\n\t\t\tif (services.length &gt; 0) {\r\n\t\t\t\tGraphicsConfiguration gc = GraphicsEnvironment.getLocalGraphicsEnvironment()\r\n\t\t\t\t\t\t.getDefaultScreenDevice().getDefaultConfiguration();\r\n\t\t\t\tServiceUI.printDialog(gc, 50, 50,\r\n\t\t\t\t\t\tservices, services[0],\r\n\t\t\t\t\t\tSERVICE_FORMATTED.PAGEABLE,\r\n\t\t\t\t\t\tattributes);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void startUp2() {\r\n\t\t\tPrinterJob pj = PrinterJob.getPrinterJob();\r\n\t\t\tpj.printDialog();\r\n\t\t}\r\n\t}\r\n\r\nIf I change the invoked method to `startUp2`, I get another printing dialog, that also has the &quot;Properties&quot; button. And this button works correct: I get printer setup dialog. Is it a Java Bug or do I something wrong? Or probably it works correct for somebody (I got this bug from a customer)?\r\n","title":"Swing: Properties button in the standard printing dialog has no effect (Java 8)","body":"<p>The code below shows the standard AWT/Swing printing dialog. All works fine, but in the dialog clicking on the button &quot;Properties&quot; calls no printer properties dialog.</p>\n<pre><code>import java.awt.GraphicsConfiguration;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.print.PrinterJob;\nimport java.util.Locale;\n\nimport javax.print.DocFlavor;\nimport javax.print.DocFlavor.SERVICE_FORMATTED;\nimport javax.print.PrintService;\nimport javax.print.PrintServiceLookup;\nimport javax.print.ServiceUI;\nimport javax.print.attribute.HashPrintRequestAttributeSet;\nimport javax.print.attribute.PrintRequestAttributeSet;\nimport javax.swing.SwingUtilities;\n\npublic class PrintTryout {\n\n    public static void main(String[] args) {\n        Locale.setDefault(Locale.ENGLISH);\n        SwingUtilities.invokeLater(new PrintTryout()::startUp);\n    }\n\n    private void startUp() {\n        PrintService[] services = PrintServiceLookup.lookupPrintServices(\n                DocFlavor.INPUT_STREAM.JPEG, null);\n        PrintRequestAttributeSet attributes = new HashPrintRequestAttributeSet();\n        if (services.length &gt; 0) {\n            GraphicsConfiguration gc = GraphicsEnvironment.getLocalGraphicsEnvironment()\n                    .getDefaultScreenDevice().getDefaultConfiguration();\n            ServiceUI.printDialog(gc, 50, 50,\n                    services, services[0],\n                    SERVICE_FORMATTED.PAGEABLE,\n                    attributes);\n        }\n    }\n\n    private void startUp2() {\n        PrinterJob pj = PrinterJob.getPrinterJob();\n        pj.printDialog();\n    }\n}\n</code></pre>\n<p>If I change the invoked method to <code>startUp2</code>, I get another printing dialog, that also has the &quot;Properties&quot; button. And this button works correct: I get printer setup dialog. Is it a Java Bug or do I something wrong? Or probably it works correct for somebody (I got this bug from a customer)?</p>\n"},{"tags":["java","scala","hadoop","hdfs","export-to-csv"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643987424,"post_id":70984924,"comment_id":125492410,"body_markdown":"Sure, it&#39;s possible. For example, parallelize the data with Spark then write it. What have you tried so far?","body":"Sure, it&#39;s possible. For example, parallelize the data with Spark then write it. What have you tried so far?"},{"owner":{"account_id":23346013,"reputation":11,"user_id":17420303,"display_name":"Anish Aravindan"},"score":0,"creation_date":1644061777,"post_id":70984924,"comment_id":125508527,"body_markdown":"Thank you for your response @OneCricketeer . I&#39;m trying it to do without spark. I think I got the solution. Once the results are verified, I will be posting it","body":"Thank you for your response @OneCricketeer . I&#39;m trying it to do without spark. I think I got the solution. Once the results are verified, I will be posting it"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644069751,"post_id":70984924,"comment_id":125510147,"body_markdown":"Sure, you can write to a file locally, then use Filesystem class from Hadoop to upload. That&#39;s really all Spark is doing (although you can&#39;t control the file name, and it  splits the data into partitions)","body":"Sure, you can write to a file locally, then use Filesystem class from Hadoop to upload. That&#39;s really all Spark is doing (although you can&#39;t control the file name, and it  splits the data into partitions)"}],"owner":{"account_id":23346013,"reputation":11,"user_id":17420303,"display_name":"Anish Aravindan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643987434,"creation_date":1643970844,"question_id":70984924,"body_markdown":"I am having a listBuffer with some records. I need to write it into HDFS in CSV format.","title":"Is there any way to write a listBuffer to HDFS in CSV format using Scala/Java?","body":"<p>I am having a listBuffer with some records. I need to write it into HDFS in CSV format.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643987317,"creation_date":1643984759,"answer_id":70987962,"question_id":70987705,"body_markdown":"The **semicolon** at the end of your `if` statements means that the `if` statement is COMPLETE. The lines immediately following your `if` statements are then stand-alone, they do not &quot;belong&quot; to the `if` statements...which is why they always run.\r\n\r\nChange:\r\n\r\n    if (findWinner.equals(&quot;draw&quot;));\r\n    System.out.println(&quot;This game is a draw&quot;);\r\n\r\nTo:\r\n\r\n    if (findWinner.equals(&quot;draw&quot;))\r\n        System.out.println(&quot;This game is a draw&quot;);\r\n\r\nOr even better:\r\n\r\n    if (findWinner.equals(&quot;draw&quot;)) {\r\n        System.out.println(&quot;This game is a draw&quot;);\r\n    }\r\n\r\n&gt; Any advice on how i can get my initial choice to be saved so I don&#39;t\r\n&gt; have to keep typing it in ?\r\n\r\nIn `findWinner()`, you&#39;re calling `userChoice()` and `computerChoirce()` AGAIN. At that point, the values are already in the parameters that were passed in, so you don&#39;t need those. Comment them out or remove them:\r\n\r\n    public String findWinner(String yourChoice, String computerChoice) \r\n    {\r\n        // You don&#39;t need these two lines:\r\n        //yourChoice = userChoice();\r\n        //computerChoice = computerChoice(); \r\n\r\n        // ... other existing code ...\r\n    }\r\n\r\nThen, in `playRound()`, you are calling both `printPrompt()` and `userChoice()`, which each have their own input mechanism:\r\n\r\n    printPrompt();\r\n    String computerChoice=computerChoice();\r\n    String userChoice=userChoice();\r\n    System.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\r\n\r\nI&#39;d get rid of `printPrompt()` and just do:\r\n\r\n    // printPrompt();\r\n    String computerChoice=computerChoice();\r\n    System.out.print(&quot;Enter your choice, paper, rock or scissors &gt;&quot;); \r\n    String userChoice=userChoice();\r\n    System.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\r\n    \r\nYou have some broken logic in `findWinner()`. This does not do what you think it does:\r\n\r\n    if (!yourChoice.equals(&quot;rock||paper||scissors&quot;)) \r\n    {\r\n        computerScore++;\r\n        Winner = (&quot;computer&quot;);\r\n    }\r\n\r\nI think what you were trying to do is make the computer win if the user did not type in &quot;rock&quot;, &quot;paper&quot;, or &quot;scissors&quot;? If so, change your `if` statements to `else if` statements and add a final `else` block:\r\n\r\n    public String findWinner(String yourChoice, String computerChoice) \r\n    {\r\n        String Winner = &quot;&quot;;\r\n\r\n        if (yourChoice.equals(computerChoice))\r\n        {\r\n            Winner = &quot;draw&quot;;\r\n        }\r\n        else if (yourChoice.equals(&quot;rock&quot;)) \r\n        {\r\n            if (computerChoice.equals(&quot;paper&quot;)) \r\n            {\r\n                computerScore++;\r\n                Winner = &quot;computer&quot;;\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;scissors&quot;))\r\n            {\r\n                yourScore++;\r\n                Winner = &quot;you&quot;;\r\n\r\n            }\r\n        }\r\n        else if (yourChoice.equals(&quot;paper&quot;))\r\n        {\r\n            if (computerChoice.equals(&quot;scissors&quot;))\r\n            {\r\n                computerScore++;\r\n                Winner = &quot;computer&quot;;\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;rock&quot;)) \r\n            {\r\n                yourScore++;\r\n                Winner = &quot;you&quot;;\r\n\r\n            }\r\n        }\r\n        else if (yourChoice.equals(&quot;scissors&quot;))\r\n        {\r\n            if (computerChoice.equals(&quot;rock&quot;))\r\n            {\r\n                computerScore ++;\r\n                Winner = &quot;computer&quot;;\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;paper&quot;))\r\n            {\r\n                yourScore++;\r\n                Winner = &quot;you&quot;;\r\n\r\n            }\r\n        }\r\n        else // user did not type &quot;rock&quot;, &quot;paper&quot;, or &quot;scissors&quot;!\r\n        {\r\n            computerScore++;\r\n            Winner = (&quot;computer&quot;);\r\n\r\n        }\r\n\r\n        return Winner;\r\n    }\r\n\r\nLastly, MAJOR bug, you SWAPPED the order of your parameters when you called `findWinner()`.\r\n\r\nChange:\r\n\r\n    String findWinner = findWinner(computerChoice, userChoice);\r\n\r\nTo:\r\n\r\n    String findWinner = findWinner(userChoice, computerChoice);\r\n\r\nHope that helps!","title":"Having to resubmit user choice over and over","body":"<p>The <strong>semicolon</strong> at the end of your <code>if</code> statements means that the <code>if</code> statement is COMPLETE. The lines immediately following your <code>if</code> statements are then stand-alone, they do not &quot;belong&quot; to the <code>if</code> statements...which is why they always run.</p>\n<p>Change:</p>\n<pre><code>if (findWinner.equals(&quot;draw&quot;));\nSystem.out.println(&quot;This game is a draw&quot;);\n</code></pre>\n<p>To:</p>\n<pre><code>if (findWinner.equals(&quot;draw&quot;))\n    System.out.println(&quot;This game is a draw&quot;);\n</code></pre>\n<p>Or even better:</p>\n<pre><code>if (findWinner.equals(&quot;draw&quot;)) {\n    System.out.println(&quot;This game is a draw&quot;);\n}\n</code></pre>\n<blockquote>\n<p>Any advice on how i can get my initial choice to be saved so I don't\nhave to keep typing it in ?</p>\n</blockquote>\n<p>In <code>findWinner()</code>, you're calling <code>userChoice()</code> and <code>computerChoirce()</code> AGAIN. At that point, the values are already in the parameters that were passed in, so you don't need those. Comment them out or remove them:</p>\n<pre><code>public String findWinner(String yourChoice, String computerChoice) \n{\n    // You don't need these two lines:\n    //yourChoice = userChoice();\n    //computerChoice = computerChoice(); \n\n    // ... other existing code ...\n}\n</code></pre>\n<p>Then, in <code>playRound()</code>, you are calling both <code>printPrompt()</code> and <code>userChoice()</code>, which each have their own input mechanism:</p>\n<pre><code>printPrompt();\nString computerChoice=computerChoice();\nString userChoice=userChoice();\nSystem.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\n</code></pre>\n<p>I'd get rid of <code>printPrompt()</code> and just do:</p>\n<pre><code>// printPrompt();\nString computerChoice=computerChoice();\nSystem.out.print(&quot;Enter your choice, paper, rock or scissors &gt;&quot;); \nString userChoice=userChoice();\nSystem.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\n</code></pre>\n<p>You have some broken logic in <code>findWinner()</code>. This does not do what you think it does:</p>\n<pre><code>if (!yourChoice.equals(&quot;rock||paper||scissors&quot;)) \n{\n    computerScore++;\n    Winner = (&quot;computer&quot;);\n}\n</code></pre>\n<p>I think what you were trying to do is make the computer win if the user did not type in &quot;rock&quot;, &quot;paper&quot;, or &quot;scissors&quot;? If so, change your <code>if</code> statements to <code>else if</code> statements and add a final <code>else</code> block:</p>\n<pre><code>public String findWinner(String yourChoice, String computerChoice) \n{\n    String Winner = &quot;&quot;;\n\n    if (yourChoice.equals(computerChoice))\n    {\n        Winner = &quot;draw&quot;;\n    }\n    else if (yourChoice.equals(&quot;rock&quot;)) \n    {\n        if (computerChoice.equals(&quot;paper&quot;)) \n        {\n            computerScore++;\n            Winner = &quot;computer&quot;;\n\n        }\n        else if (computerChoice.equals(&quot;scissors&quot;))\n        {\n            yourScore++;\n            Winner = &quot;you&quot;;\n\n        }\n    }\n    else if (yourChoice.equals(&quot;paper&quot;))\n    {\n        if (computerChoice.equals(&quot;scissors&quot;))\n        {\n            computerScore++;\n            Winner = &quot;computer&quot;;\n\n        }\n        else if (computerChoice.equals(&quot;rock&quot;)) \n        {\n            yourScore++;\n            Winner = &quot;you&quot;;\n\n        }\n    }\n    else if (yourChoice.equals(&quot;scissors&quot;))\n    {\n        if (computerChoice.equals(&quot;rock&quot;))\n        {\n            computerScore ++;\n            Winner = &quot;computer&quot;;\n\n        }\n        else if (computerChoice.equals(&quot;paper&quot;))\n        {\n            yourScore++;\n            Winner = &quot;you&quot;;\n\n        }\n    }\n    else // user did not type &quot;rock&quot;, &quot;paper&quot;, or &quot;scissors&quot;!\n    {\n        computerScore++;\n        Winner = (&quot;computer&quot;);\n\n    }\n\n    return Winner;\n}\n</code></pre>\n<p>Lastly, MAJOR bug, you SWAPPED the order of your parameters when you called <code>findWinner()</code>.</p>\n<p>Change:</p>\n<pre><code>String findWinner = findWinner(computerChoice, userChoice);\n</code></pre>\n<p>To:</p>\n<pre><code>String findWinner = findWinner(userChoice, computerChoice);\n</code></pre>\n<p>Hope that helps!</p>\n"}],"owner":{"display_name":"user10812253"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70987962,"answer_count":1,"score":0,"last_activity_date":1643987317,"creation_date":1643983651,"question_id":70987705,"body_markdown":"Hey guys having some trouble with a multi part question. I&#39;m trying to get a game of rock paper scissors done, when i try to test the code using the playRound method I have to input my choice over and over again and then it just prints out draw, you are the winner and the computer is the winner over and over, can anyone tell me where im going wrong ?\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n/**\r\n * A class that will play a game of rock paper scissors.\r\n *\r\n * @author (your name)\r\n * @version (a version number or a date)\r\n */\r\n\r\npublic class RockPaperScissors\r\n{\r\n    private Scanner reader;\r\n    private int yourScore;\r\n    private int computerScore;\r\n    private Random ran = new Random();\r\n\r\n    public RockPaperScissors()\r\n    {\r\n        reader = new Scanner(System.in);\r\n        yourScore = 0;\r\n        computerScore=0;\r\n        Random ran = new Random(); \r\n    }\r\n\r\n    public void printPrompt()\r\n    {\r\n        System.out.println(&quot;Enter your choice, paper, rock or scissors &gt;&quot;); \r\n        String userChoice = userChoice();\r\n        System.out.println();\r\n        System.out.println();\r\n        System.out.println(&quot;Enter your choice, paper, rock or scissors  &gt;&quot;+ userChoice);\r\n    }\r\n\r\n    public final String userChoice()\r\n    {\r\n        String userChoice= reader.next();\r\n        return userChoice;\r\n    }\r\n\r\n    public String computerChoice()\r\n    {\r\n        String compMove = (&quot;&quot;);\r\n        int cpuChoice = ran.nextInt(3);\r\n        switch(cpuChoice)\r\n        {\r\n            case 0:\r\n            {\r\n                compMove = (&quot;rock&quot;);\r\n                break;\r\n            }\r\n            case 1:\r\n            {\r\n                compMove = (&quot;paper&quot;);\r\n                break;\r\n            }\r\n            case 2:\r\n            {\r\n                compMove = (&quot;scissors&quot;);\r\n                break;\r\n            }\r\n\r\n        }\r\n        return (compMove);\r\n    }\r\n\r\n    public String findWinner(String yourChoice, String computerChoice) \r\n    {\r\n        yourChoice = userChoice();\r\n        computerChoice = computerChoice();\r\n        String Winner= null;\r\n\r\n        if (yourChoice.equals(computerChoice))\r\n        {\r\n            Winner = (&quot;draw&quot;);\r\n        }\r\n        if (yourChoice.equals(&quot;rock&quot;)) \r\n        {\r\n            if (computerChoice.equals(&quot;paper&quot;)) \r\n            {\r\n                computerScore++;\r\n                Winner = (&quot;computer&quot;);\r\n\r\n            }\r\n            else if (computerChoice == &quot;scissors&quot;)\r\n            {\r\n                yourScore++;\r\n                Winner = (&quot;you&quot;);\r\n\r\n            }\r\n        }\r\n        if (yourChoice.equals(&quot;paper&quot;))\r\n        {\r\n            if (computerChoice.equals(&quot;scissors&quot;))\r\n            {\r\n                computerScore++;\r\n                Winner = (&quot;computer&quot;);\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;rock&quot;)) \r\n            {\r\n                yourScore++;\r\n                Winner = (&quot;you&quot;);\r\n\r\n            }\r\n        }\r\n        if (yourChoice.equals(&quot;scissors&quot;))\r\n        {\r\n            if (computerChoice.equals(&quot;rock&quot;))\r\n            {\r\n                computerScore ++;\r\n                Winner = (&quot;computer&quot;);\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;paper&quot;))\r\n            {\r\n                yourScore++;\r\n                Winner = (&quot;you&quot;);\r\n\r\n            }\r\n        }\r\n        if (!yourChoice.equals(&quot;rock||paper||scissors&quot;)) \r\n        {\r\n            computerScore++;\r\n            Winner = (&quot;computer&quot;);\r\n\r\n        }\r\n\r\n        return Winner;\r\n    }\r\n\r\n    public void playRound()\r\n    {\r\n        printPrompt();\r\n        String computerChoice=computerChoice();\r\n        String userChoice=userChoice();\r\n        System.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\r\n        String findWinner = findWinner(computerChoice,userChoice);\r\n        \r\n        {\r\n            if (findWinner.equals(&quot;draw&quot;));\r\n            System.out.println(&quot;This game is a draw&quot;);\r\n            if (findWinner.equals(&quot;you&quot;));\r\n            System.out.println(&quot;You are the winner&quot;);\r\n            if (findWinner.equals(&quot;computer&quot;));\r\n            System.out.println(&quot;The computer is the winner&quot;);\r\n        }\r\n        System.out.println(&quot;You have &quot; + yourScore + &quot;and the computer has &quot;+ computerScore);\r\n    }\r\n}\r\n```","title":"Having to resubmit user choice over and over","body":"<p>Hey guys having some trouble with a multi part question. I'm trying to get a game of rock paper scissors done, when i try to test the code using the playRound method I have to input my choice over and over again and then it just prints out draw, you are the winner and the computer is the winner over and over, can anyone tell me where im going wrong ?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n/**\n * A class that will play a game of rock paper scissors.\n *\n * @author (your name)\n * @version (a version number or a date)\n */\n\npublic class RockPaperScissors\n{\n    private Scanner reader;\n    private int yourScore;\n    private int computerScore;\n    private Random ran = new Random();\n\n    public RockPaperScissors()\n    {\n        reader = new Scanner(System.in);\n        yourScore = 0;\n        computerScore=0;\n        Random ran = new Random(); \n    }\n\n    public void printPrompt()\n    {\n        System.out.println(&quot;Enter your choice, paper, rock or scissors &gt;&quot;); \n        String userChoice = userChoice();\n        System.out.println();\n        System.out.println();\n        System.out.println(&quot;Enter your choice, paper, rock or scissors  &gt;&quot;+ userChoice);\n    }\n\n    public final String userChoice()\n    {\n        String userChoice= reader.next();\n        return userChoice;\n    }\n\n    public String computerChoice()\n    {\n        String compMove = (&quot;&quot;);\n        int cpuChoice = ran.nextInt(3);\n        switch(cpuChoice)\n        {\n            case 0:\n            {\n                compMove = (&quot;rock&quot;);\n                break;\n            }\n            case 1:\n            {\n                compMove = (&quot;paper&quot;);\n                break;\n            }\n            case 2:\n            {\n                compMove = (&quot;scissors&quot;);\n                break;\n            }\n\n        }\n        return (compMove);\n    }\n\n    public String findWinner(String yourChoice, String computerChoice) \n    {\n        yourChoice = userChoice();\n        computerChoice = computerChoice();\n        String Winner= null;\n\n        if (yourChoice.equals(computerChoice))\n        {\n            Winner = (&quot;draw&quot;);\n        }\n        if (yourChoice.equals(&quot;rock&quot;)) \n        {\n            if (computerChoice.equals(&quot;paper&quot;)) \n            {\n                computerScore++;\n                Winner = (&quot;computer&quot;);\n\n            }\n            else if (computerChoice == &quot;scissors&quot;)\n            {\n                yourScore++;\n                Winner = (&quot;you&quot;);\n\n            }\n        }\n        if (yourChoice.equals(&quot;paper&quot;))\n        {\n            if (computerChoice.equals(&quot;scissors&quot;))\n            {\n                computerScore++;\n                Winner = (&quot;computer&quot;);\n\n            }\n            else if (computerChoice.equals(&quot;rock&quot;)) \n            {\n                yourScore++;\n                Winner = (&quot;you&quot;);\n\n            }\n        }\n        if (yourChoice.equals(&quot;scissors&quot;))\n        {\n            if (computerChoice.equals(&quot;rock&quot;))\n            {\n                computerScore ++;\n                Winner = (&quot;computer&quot;);\n\n            }\n            else if (computerChoice.equals(&quot;paper&quot;))\n            {\n                yourScore++;\n                Winner = (&quot;you&quot;);\n\n            }\n        }\n        if (!yourChoice.equals(&quot;rock||paper||scissors&quot;)) \n        {\n            computerScore++;\n            Winner = (&quot;computer&quot;);\n\n        }\n\n        return Winner;\n    }\n\n    public void playRound()\n    {\n        printPrompt();\n        String computerChoice=computerChoice();\n        String userChoice=userChoice();\n        System.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\n        String findWinner = findWinner(computerChoice,userChoice);\n        \n        {\n            if (findWinner.equals(&quot;draw&quot;));\n            System.out.println(&quot;This game is a draw&quot;);\n            if (findWinner.equals(&quot;you&quot;));\n            System.out.println(&quot;You are the winner&quot;);\n            if (findWinner.equals(&quot;computer&quot;));\n            System.out.println(&quot;The computer is the winner&quot;);\n        }\n        System.out.println(&quot;You have &quot; + yourScore + &quot;and the computer has &quot;+ computerScore);\n    }\n}\n</code></pre>\n"},{"tags":["java","set","treemap"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1643985735,"post_id":70988062,"comment_id":125491639,"body_markdown":"We ould use some clarification on the problem.  What does your source map look like?  What is your expected output?","body":"We ould use some clarification on the problem.  What does your source map look like?  What is your expected output?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1643986938,"post_id":70988062,"comment_id":125492197,"body_markdown":"Your `Map` can only contain one entry per key. You cannot have multiple numbers per name, that is a limitation of your input `Map`.","body":"Your <code>Map</code> can only contain one entry per key. You cannot have multiple numbers per name, that is a limitation of your input <code>Map</code>."}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643987144,"creation_date":1643987144,"answer_id":70988572,"question_id":70988062,"body_markdown":"Basically you want to invert `key` and `value` of your `phoneBook` map. Since one `name` can have multiple `number`s according to your example the output structure should be `Map&lt;String, List&lt;String&gt;&gt;`. With this name oriented phone book you can easily create your contact collection. E.g.\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; phoneBookByName = new HashMap&lt;&gt;();\r\n    phoneBook.forEach((k, v) -&gt; {\r\n        List&lt;String&gt; numbers = phoneBookByName.computeIfAbsent(k, s -&gt; new ArrayList&lt;&gt;());\r\n        numbers.add(v);\r\n    });\r\n    TreeSet&lt;String&gt; contacts = new TreeSet&lt;&gt;();\r\n    phoneBookByName.forEach((k, v) -&gt; contacts.add(k + &quot; - &quot; + String.join(&quot;, &quot;, v)));\r\n    return contacts;\r\n\r\nor using streams\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; phoneBookByName = phoneBook.entrySet().stream()\r\n        .collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())));\r\n    return phoneBookByName.entrySet().stream()\r\n        .map(entry -&gt; entry.getKey() + &quot; - &quot; + String.join(&quot;, &quot;, entry.getValue()))\r\n        .collect(Collectors.toCollection(TreeSet::new));","title":"If I have two keys with equal value, how do I return a Set&lt;String&gt; kinda (value + &quot; - &quot; + key &quot;, &quot; + key)?","body":"<p>Basically you want to invert <code>key</code> and <code>value</code> of your <code>phoneBook</code> map. Since one <code>name</code> can have multiple <code>number</code>s according to your example the output structure should be <code>Map&lt;String, List&lt;String&gt;&gt;</code>. With this name oriented phone book you can easily create your contact collection. E.g.</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; phoneBookByName = new HashMap&lt;&gt;();\nphoneBook.forEach((k, v) -&gt; {\n    List&lt;String&gt; numbers = phoneBookByName.computeIfAbsent(k, s -&gt; new ArrayList&lt;&gt;());\n    numbers.add(v);\n});\nTreeSet&lt;String&gt; contacts = new TreeSet&lt;&gt;();\nphoneBookByName.forEach((k, v) -&gt; contacts.add(k + &quot; - &quot; + String.join(&quot;, &quot;, v)));\nreturn contacts;\n</code></pre>\n<p>or using streams</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; phoneBookByName = phoneBook.entrySet().stream()\n    .collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())));\nreturn phoneBookByName.entrySet().stream()\n    .map(entry -&gt; entry.getKey() + &quot; - &quot; + String.join(&quot;, &quot;, entry.getValue()))\n    .collect(Collectors.toCollection(TreeSet::new));\n</code></pre>\n"}],"owner":{"account_id":23908796,"reputation":1,"user_id":18120160,"display_name":"sobaku gray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643987144,"creation_date":1643985130,"question_id":70988062,"body_markdown":"This code works only when I have a pair like name(value) + number(key), but I&#39;m stuck with situation like - name + number, number. It returns name + number1, name + number2   \r\n\r\n\r\n```\r\n public Set&lt;String&gt; getAllContacts() {\r\n        TreeSet&lt;String&gt; contacts = new TreeSet&lt;&gt;();\r\n        if (phoneBook.isEmpty()) {\r\n            return new TreeSet&lt;&gt;();\r\n        } else {\r\n            for (Map.Entry&lt;String, String&gt; entry : phoneBook.entrySet()) {\r\n                contacts.add(entry.getValue() + &quot; - &quot; + entry.getKey());\r\n            }\r\n        }\r\n        return contacts;\r\n    }\r\n```\r\n","title":"If I have two keys with equal value, how do I return a Set&lt;String&gt; kinda (value + &quot; - &quot; + key &quot;, &quot; + key)?","body":"<p>This code works only when I have a pair like name(value) + number(key), but I'm stuck with situation like - name + number, number. It returns name + number1, name + number2</p>\n<pre><code> public Set&lt;String&gt; getAllContacts() {\n        TreeSet&lt;String&gt; contacts = new TreeSet&lt;&gt;();\n        if (phoneBook.isEmpty()) {\n            return new TreeSet&lt;&gt;();\n        } else {\n            for (Map.Entry&lt;String, String&gt; entry : phoneBook.entrySet()) {\n                contacts.add(entry.getValue() + &quot; - &quot; + entry.getKey());\n            }\n        }\n        return contacts;\n    }\n</code></pre>\n"},{"tags":["java","selenium","pageobjects"],"comments":[{"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"score":0,"creation_date":1643984950,"post_id":70987444,"comment_id":125491252,"body_markdown":"Can you add the implementation of the `PageFactory.initElements()` and the `getProductList()` method? The answer might be hidden there. It may be initialization issue.","body":"Can you add the implementation of the <code>PageFactory.initElements()</code> and the <code>getProductList()</code> method? The answer might be hidden there. It may be initialization issue."},{"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"score":0,"creation_date":1643985827,"post_id":70987444,"comment_id":125491677,"body_markdown":"I edited main post","body":"I edited main post"},{"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"score":0,"creation_date":1643998603,"post_id":70987444,"comment_id":125497049,"body_markdown":"@Aethernite let me add that getProductList(); and Webelements elems are 3 different items (correct), but when they are added to productInCart = new Product(elem);         productList.add(productInCart); &lt;- then it refers to the first one :(","body":"@Aethernite let me add that getProductList(); and Webelements elems are 3 different items (correct), but when they are added to productInCart = new Product(elem);         productList.add(productInCart); &lt;- then it refers to the first one :("}],"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643987071,"creation_date":1643982470,"question_id":70987444,"body_markdown":"EDITED:\r\nI need is to get list of 3 objects on a page and make actions on them.\r\nE.g. I have a Shop and some 3 items added to cart (Apple, Pear, Cucumber). I want to traverse through each item BUT also to click on some button on item[i]\r\n\r\nI got very confused and don&#39;t know why it returns a list of 3 elements, but when I `getListOfProducts().get(1).getName` or `(2)` it will always return attributes for the first one (Apple).\r\n\r\n\r\n    My Cart page:\r\n    \r\n        public class CartPage extends BasePage {\r\n        \r\n        public static Product productInCart;\r\n\r\n        @FindBy(css = &quot;div[class*=&#39;locatorName&#39;]&quot;) //same for 3 tiles\r\n        public List&lt;WebElement&gt; productList;\r\n    \r\n        public List&lt;WebElement&gt; getProductList() {\r\n            return productList;\r\n        }\r\n        \r\n            public CartPage(){\r\n                PageFactory.initElements(driver, this);\r\n            }\r\n        \r\n        public List&lt;Product&gt; getListOfProducts() {\r\n                List&lt;Product&gt; productList = new ArrayList&lt;&gt;();\r\n                List&lt;WebElement&gt; list1 = getProductList();\r\n                for (WebElement elem : list1) {\r\n                    productInCart = new Product(elem);\r\n                    productList.add(productInCart);\r\n                }\r\n                return productList;\r\n            }\r\n        }\r\n\r\n//it returns 3 elements, but all with attributes of the first element\r\n\r\n    public class Product extends BasePage {\r\n        private WebElement elem;\r\n    \r\n    public Product(WebElement product) {\r\n            this.elem = product;\r\n            PageFactory.initElements(driver, this);\r\n        }\r\n    \r\n    //some Webelements etc\r\n    }\r\n\r\n\r\n    \r\n    public class BasePage {\r\n        public WebDriver driver;\r\n        public Wait wait;\r\n    \r\n        public BasePage(){\r\n            this.driver = Config.driver; //normal FF driver\r\n            this.wait = new Wait(this.driver);\r\n            PageFactory.initElements(driver, this);\r\n        }\r\n\r\n","title":"Get List of Elements in Page as Objects - returns always attributes of the first object","body":"<p>EDITED:\nI need is to get list of 3 objects on a page and make actions on them.\nE.g. I have a Shop and some 3 items added to cart (Apple, Pear, Cucumber). I want to traverse through each item BUT also to click on some button on item[i]</p>\n<p>I got very confused and don't know why it returns a list of 3 elements, but when I <code>getListOfProducts().get(1).getName</code> or <code>(2)</code> it will always return attributes for the first one (Apple).</p>\n<pre><code>My Cart page:\n\n    public class CartPage extends BasePage {\n    \n    public static Product productInCart;\n\n    @FindBy(css = &quot;div[class*='locatorName']&quot;) //same for 3 tiles\n    public List&lt;WebElement&gt; productList;\n\n    public List&lt;WebElement&gt; getProductList() {\n        return productList;\n    }\n    \n        public CartPage(){\n            PageFactory.initElements(driver, this);\n        }\n    \n    public List&lt;Product&gt; getListOfProducts() {\n            List&lt;Product&gt; productList = new ArrayList&lt;&gt;();\n            List&lt;WebElement&gt; list1 = getProductList();\n            for (WebElement elem : list1) {\n                productInCart = new Product(elem);\n                productList.add(productInCart);\n            }\n            return productList;\n        }\n    }\n</code></pre>\n<p>//it returns 3 elements, but all with attributes of the first element</p>\n<pre><code>public class Product extends BasePage {\n    private WebElement elem;\n\npublic Product(WebElement product) {\n        this.elem = product;\n        PageFactory.initElements(driver, this);\n    }\n\n//some Webelements etc\n}\n\n\n\npublic class BasePage {\n    public WebDriver driver;\n    public Wait wait;\n\n    public BasePage(){\n        this.driver = Config.driver; //normal FF driver\n        this.wait = new Wait(this.driver);\n        PageFactory.initElements(driver, this);\n    }\n</code></pre>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":2167335,"reputation":2113,"user_id":1920161,"accept_rate":76,"display_name":"Nikola"},"score":0,"creation_date":1484248778,"post_id":41621189,"comment_id":70443757,"body_markdown":"Maybe you should provide the `MainActivity` and show the line where this error occurs? I do not see a reason the current shown code to throw such error","body":"Maybe you should provide the <code>MainActivity</code> and show the line where this error occurs? I do not see a reason the current shown code to throw such error"},{"owner":{"account_id":4386158,"reputation":45,"user_id":3576248,"accept_rate":80,"display_name":"user3576248"},"score":0,"creation_date":1484248934,"post_id":41621189,"comment_id":70443855,"body_markdown":"the line when this error occurs is  when i try to cast the linearlayout:  btCatalogo = (LinearLayout) findViewById(R.id.btCatalogo);","body":"the line when this error occurs is  when i try to cast the linearlayout:  btCatalogo = (LinearLayout) findViewById(R.id.btCatalogo);"},{"owner":{"account_id":3705567,"reputation":6096,"user_id":3084205,"accept_rate":62,"display_name":"Stanislav Bondar"},"score":0,"creation_date":1484249086,"post_id":41621189,"comment_id":70443945,"body_markdown":"are you initialize views inside any method or just in class?","body":"are you initialize views inside any method or just in class?"}],"answers":[{"tags":[],"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1484251700,"creation_date":1484251700,"answer_id":41622041,"question_id":41621189,"body_markdown":"&gt; the strange is that the error only show when i run in tablets, in regular phone its normal\r\n\r\nDo you have any additional `layout-` folders declared in `/res`? My guess would be that you have another layout file sharing the same name in a size-specific folder (e.g. in `layout-xlarge`) which has `android:id=&quot;@+id/btCatalogo&quot;` assigned to an `AppCompatButton` rather than a `LinearLayout`.\r\n\r\nSee also - [Supporting Multiple Screens](https://developer.android.com/guide/practices/screens_support.html)","title":"android.support.v7.widget.AppCompatButton cannot be cast to android.widget.LinearLayout","body":"<blockquote>\n  <p>the strange is that the error only show when i run in tablets, in regular phone its normal</p>\n</blockquote>\n\n<p>Do you have any additional <code>layout-</code> folders declared in <code>/res</code>? My guess would be that you have another layout file sharing the same name in a size-specific folder (e.g. in <code>layout-xlarge</code>) which has <code>android:id=\"@+id/btCatalogo\"</code> assigned to an <code>AppCompatButton</code> rather than a <code>LinearLayout</code>.</p>\n\n<p>See also - <a href=\"https://developer.android.com/guide/practices/screens_support.html\" rel=\"nofollow noreferrer\">Supporting Multiple Screens</a></p>\n"}],"owner":{"account_id":4386158,"reputation":45,"user_id":3576248,"accept_rate":80,"display_name":"user3576248"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2196,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":41622041,"answer_count":1,"score":-1,"last_activity_date":1643986923,"creation_date":1484248640,"question_id":41621189,"body_markdown":"I&#39;m developing an app and I had some errors. When I run on the tablet it gives this error, but when I go to mobile it works perfectly. I already tried to clean and rebuild and tried to reboot the computer but I&#39;m still having errors. \r\n\r\nSee the code below:\r\n\r\n    private LinearLayout btSobre, btCatalogo, btDistribuidores, btCadastro;\r\n    \r\n        btCatalogo = (LinearLayout) findViewById(R.id.btCatalogo);\r\n        btDistribuidores = (LinearLayout) findViewById(R.id.btDistribuidores);\r\n        btSobre = (LinearLayout) findViewById(R.id.btSobre);\r\n        btCadastro = (LinearLayout) findViewById(R.id.btCadastro);\r\n\r\n      btCadastro.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                chamarCadastro();\r\n            }\r\n        });\r\n\r\n        btSobre.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Intent chamada = new Intent(v.getContext(), SobreActivity.class);\r\n                startActivity(chamada);\r\n\r\n            }\r\n        });\r\n\r\n\r\n        btCatalogo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Intent chamarCatalogo = new Intent(v.getContext(), CatalogoActivity.class);\r\n                chamarCatalogo.putExtra(&quot;conexao&quot;, conexao);\r\n                startActivity(chamarCatalogo);\r\n\r\n\r\n            }\r\n        });\r\n\r\n        btDistribuidores.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent chamarDistribuidores = new Intent(v.getContext(), DistribuidorActivity.class); //antigo porem na terceira entrega\r\n\r\n                startActivity(chamarDistribuidores);\r\n\r\n            }\r\n        });\r\n\r\nXML\r\n\r\n    &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;5dp&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@drawable/quadrado_curto&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:id=&quot;@+id/btCatalogo&quot;&gt;\r\n\r\nAnd the others `linearlayout` is the same, the error that show me is \r\n \r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{....MainActivity}: java.lang.ClassCastException: android.support.v7.widget.AppCompatButton cannot be cast to android.widget.LinearLayout\r\n\r\nThe strange thing is that the error only shows when I run in tablets, and on a regular phone it&#39;s normal. \r\n\r\n\r\n\r\n","title":"android.support.v7.widget.AppCompatButton cannot be cast to android.widget.LinearLayout","body":"<p>I'm developing an app and I had some errors. When I run on the tablet it gives this error, but when I go to mobile it works perfectly. I already tried to clean and rebuild and tried to reboot the computer but I'm still having errors.</p>\n<p>See the code below:</p>\n<pre><code>private LinearLayout btSobre, btCatalogo, btDistribuidores, btCadastro;\n\n    btCatalogo = (LinearLayout) findViewById(R.id.btCatalogo);\n    btDistribuidores = (LinearLayout) findViewById(R.id.btDistribuidores);\n    btSobre = (LinearLayout) findViewById(R.id.btSobre);\n    btCadastro = (LinearLayout) findViewById(R.id.btCadastro);\n\n  btCadastro.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            chamarCadastro();\n        }\n    });\n\n    btSobre.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            Intent chamada = new Intent(v.getContext(), SobreActivity.class);\n            startActivity(chamada);\n\n        }\n    });\n\n\n    btCatalogo.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            Intent chamarCatalogo = new Intent(v.getContext(), CatalogoActivity.class);\n            chamarCatalogo.putExtra(&quot;conexao&quot;, conexao);\n            startActivity(chamarCatalogo);\n\n\n        }\n    });\n\n    btDistribuidores.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent chamarDistribuidores = new Intent(v.getContext(), DistribuidorActivity.class); //antigo porem na terceira entrega\n\n            startActivity(chamarDistribuidores);\n\n        }\n    });\n</code></pre>\n<p>XML</p>\n<pre><code>&lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;5dp&quot;\n            android:layout_marginStart=&quot;5dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/quadrado_curto&quot;\n            android:orientation=&quot;vertical&quot;\n            android:clickable=&quot;true&quot;\n            android:id=&quot;@+id/btCatalogo&quot;&gt;\n</code></pre>\n<p>And the others <code>linearlayout</code> is the same, the error that show me is</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{....MainActivity}: java.lang.ClassCastException: android.support.v7.widget.AppCompatButton cannot be cast to android.widget.LinearLayout\n</code></pre>\n<p>The strange thing is that the error only shows when I run in tablets, and on a regular phone it's normal.</p>\n"},{"tags":["java","javafx","tablecolumn"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1643987456,"post_id":29512142,"comment_id":125492426,"body_markdown":"same problem as an older question: https://stackoverflow.com/questions/20798634/restore-oldvalue-in-tableview-after-editing-the-cell-javafx (closed as duplicate of this)","body":"same problem as an older question: <a href=\"https://stackoverflow.com/questions/20798634/restore-oldvalue-in-tableview-after-editing-the-cell-javafx\" title=\"restore oldvalue in tableview after editing the cell javafx\">stackoverflow.com/questions/20798634/&hellip;</a> (closed as duplicate of this)"}],"answers":[{"tags":[],"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1428500385,"creation_date":1428491872,"answer_id":29513121,"question_id":29512142,"body_markdown":"Try to use\r\n\r\n    TableColumn.CellEditEvent.getOldValue()\r\n\r\nFor example:\r\n\r\n            try {\r\n                someObject.rename(((StateDefinition) event.getTableView().getItems()\r\n                   .get(event.getTablePosition().getRow())).getState(), \r\n                       event.getNewValue());\r\n\r\n            } catch (MYException ex) {\r\n                MyNotificationCollector.addNotification(&quot;Failed renaming: &quot; \r\n                    + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\r\n\r\n                // popup error message code here\r\n                // Revert the cell&#39;s text to the previous value here...\r\n\r\n               someObject.rename(((StateDefinition) event.getTableView().getItems()\r\n                    .get(event.getTablePosition().getRow())).getState(),\r\n                       event.getOldValue());\r\n\r\n                // workaround for refreshing rendered view\r\n                event.getTableView().getColumns().get(0).setVisible(false);\r\n                event.getTableView().getColumns().get(0).setVisible(true);\r\n            }\r\n\r\nThe last 2 lines are oldy workarounds for refreshing tableview rendered values.\r\n\r\n**EDIT:**\r\n\r\nIf the backed data model (item fields of tableview) is not changed when the exception is thrown then just update tableview rendering in catch block with:\r\n\r\n    } catch (MYException ex) {\r\n                MyNotificationCollector.addNotification(&quot;Failed renaming: &quot; \r\n                    + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\r\n\r\n                // workaround for refreshing rendered view\r\n                event.getTableView().getColumns().get(0).setVisible(false);\r\n                event.getTableView().getColumns().get(0).setVisible(true);\r\n            }","title":"How do I restore a previous value in JavaFX TableColumn&#39;s onEditCommit?","body":"<p>Try to use</p>\n\n<pre><code>TableColumn.CellEditEvent.getOldValue()\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>        try {\n            someObject.rename(((StateDefinition) event.getTableView().getItems()\n               .get(event.getTablePosition().getRow())).getState(), \n                   event.getNewValue());\n\n        } catch (MYException ex) {\n            MyNotificationCollector.addNotification(\"Failed renaming: \" \n                + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\n\n            // popup error message code here\n            // Revert the cell's text to the previous value here...\n\n           someObject.rename(((StateDefinition) event.getTableView().getItems()\n                .get(event.getTablePosition().getRow())).getState(),\n                   event.getOldValue());\n\n            // workaround for refreshing rendered view\n            event.getTableView().getColumns().get(0).setVisible(false);\n            event.getTableView().getColumns().get(0).setVisible(true);\n        }\n</code></pre>\n\n<p>The last 2 lines are oldy workarounds for refreshing tableview rendered values.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>If the backed data model (item fields of tableview) is not changed when the exception is thrown then just update tableview rendering in catch block with:</p>\n\n<pre><code>} catch (MYException ex) {\n            MyNotificationCollector.addNotification(\"Failed renaming: \" \n                + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\n\n            // workaround for refreshing rendered view\n            event.getTableView().getColumns().get(0).setVisible(false);\n            event.getTableView().getColumns().get(0).setVisible(true);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643986366,"creation_date":1643986366,"answer_id":70988375,"question_id":29512142,"body_markdown":"It&#39;s a [bug in TableCell][1] (actually, all cells - though not noticeable for all types due to different reasons): happens if a custom commit handler rejects the edited value (or changes it in any way before writing it back to the data). The technical reason is calling updateItem with the newValue\r\n\r\n    @Override \r\n    public void commitEdit(T newValue) {\r\n        // ... cell book-keeping\r\n        // ... fire editCommitEvent to allow handler to save value\r\n        // update the item within this cell, so that it represents the new value\r\n        updateItem(newValue, false); // &lt;-- assumes that the handler saves the new value as-is\r\n\r\nUntil the issue is fixed (soon, hopefully ;) we can work around it by overriding the method, let it call super and then force a complete update:\r\n\r\n    @Override\r\n    public void commitEdit(T newValue) {\r\n        super.commitEdit(newValue);\r\n        updateIndex(getIndex());\r\n    }\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8187314","title":"How do I restore a previous value in JavaFX TableColumn&#39;s onEditCommit?","body":"<p>It's a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8187314\" rel=\"nofollow noreferrer\">bug in TableCell</a> (actually, all cells - though not noticeable for all types due to different reasons): happens if a custom commit handler rejects the edited value (or changes it in any way before writing it back to the data). The technical reason is calling updateItem with the newValue</p>\n<pre><code>@Override \npublic void commitEdit(T newValue) {\n    // ... cell book-keeping\n    // ... fire editCommitEvent to allow handler to save value\n    // update the item within this cell, so that it represents the new value\n    updateItem(newValue, false); // &lt;-- assumes that the handler saves the new value as-is\n</code></pre>\n<p>Until the issue is fixed (soon, hopefully ;) we can work around it by overriding the method, let it call super and then force a complete update:</p>\n<pre><code>@Override\npublic void commitEdit(T newValue) {\n    super.commitEdit(newValue);\n    updateIndex(getIndex());\n}\n</code></pre>\n"}],"owner":{"account_id":4285387,"reputation":143,"user_id":3503372,"accept_rate":30,"display_name":"Oren Sarid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1643986366,"creation_date":1428488936,"question_id":29512142,"body_markdown":"I have a table written in JavaFX, that the user has the option to edit one of its columns. When an editing of a cell takes place, I try to rename some internal object based on the new text. If that renaming fails, I issue a notification + popup an error dialog, and then I&#39;d like to restore the original text into that field. For some reason, this gets me into an infinite loop of error popups.\r\n\r\nThe code I currently have from the original writer is as follows:\r\n\r\n    mNameColumn.setOnEditCommit(\r\n        new EventHandler&lt;TableColumn.CellEditEvent&lt;StateDefinition, String&gt;&gt;() {\r\n            @Override\r\n            public void handle(TableColumn.CellEditEvent&lt;StateDefinition, String&gt; event) {\r\n                try {\r\n                    someObject.rename(((StateDefinition) event.getTableView().getItems().get(event.getTablePosition().getRow())).getState(), event.getNewValue());\r\n                } catch (MYException ex) {\r\n                    MyNotificationCollector.addNotification(&quot;Failed renaming: &quot; + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\r\n\t\t\t\t\t//popup error message code here\r\n                    // Need to revert the cell&#39;s text to the previous value here...\r\n                }\r\n            }\r\n        });\r\n\r\nAny idea on what I do wrong? How do I restore the old value without invoking the cell edit commit event again?\r\n\r\nThanks,\r\nOren","title":"How do I restore a previous value in JavaFX TableColumn&#39;s onEditCommit?","body":"<p>I have a table written in JavaFX, that the user has the option to edit one of its columns. When an editing of a cell takes place, I try to rename some internal object based on the new text. If that renaming fails, I issue a notification + popup an error dialog, and then I'd like to restore the original text into that field. For some reason, this gets me into an infinite loop of error popups.</p>\n\n<p>The code I currently have from the original writer is as follows:</p>\n\n<pre><code>mNameColumn.setOnEditCommit(\n    new EventHandler&lt;TableColumn.CellEditEvent&lt;StateDefinition, String&gt;&gt;() {\n        @Override\n        public void handle(TableColumn.CellEditEvent&lt;StateDefinition, String&gt; event) {\n            try {\n                someObject.rename(((StateDefinition) event.getTableView().getItems().get(event.getTablePosition().getRow())).getState(), event.getNewValue());\n            } catch (MYException ex) {\n                MyNotificationCollector.addNotification(\"Failed renaming: \" + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\n                //popup error message code here\n                // Need to revert the cell's text to the previous value here...\n            }\n        }\n    });\n</code></pre>\n\n<p>Any idea on what I do wrong? How do I restore the old value without invoking the cell edit commit event again?</p>\n\n<p>Thanks,\nOren</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643984979,"post_id":70987731,"comment_id":125491269,"body_markdown":"What do you need to do?","body":"What do you need to do?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1643986812,"post_id":70987731,"comment_id":125492144,"body_markdown":"The scan for log4j - is it scanning jar files on the disk or is it trying to scan it&#39;s own classpath? The latter sounds a bit odd.","body":"The scan for log4j - is it scanning jar files on the disk or is it trying to scan it&#39;s own classpath? The latter sounds a bit odd."},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1644145293,"post_id":70987731,"comment_id":125523289,"body_markdown":"From the own classpath I want to get the jar location","body":"From the own classpath I want to get the jar location"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643984941,"creation_date":1643984941,"answer_id":70988010,"question_id":70987731,"body_markdown":"A jar is just a ZIP file. So once you know how to access the &#39;running&#39; jar, open it using [ZipFile][1] and scan it for the entry you like. Once you have the entry you also know the path inside the ZIP.\r\n\r\nIf by &#39;running jar&#39; you mean something on the classpath you could use any classes&#39; getClassLoader().getResource() method but in this case you&#39;d have to know the path to the contained jar upfront.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipFile.html","title":"Is there a way to get the relative path from a jar of a jar?","body":"<p>A jar is just a ZIP file. So once you know how to access the 'running' jar, open it using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipFile.html\" rel=\"nofollow noreferrer\">ZipFile</a> and scan it for the entry you like. Once you have the entry you also know the path inside the ZIP.</p>\n<p>If by 'running jar' you mean something on the classpath you could use any classes' getClassLoader().getResource() method but in this case you'd have to know the path to the contained jar upfront.</p>\n"}],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643985786,"creation_date":1643983774,"question_id":70987731,"body_markdown":"I have a requirement where I want to find the path of a jar that is inside the running jar. Let&#39;s say there is a jar called example-1.0.0.jar inside a running jar called main-1.0.0.jar. I want to know the path of that jar that is present inside the running jar.\r\n\r\n**Edit 1:**\r\nFor example, the jar is a dependency in the project. For example, let&#39;s say I have a log4j dependency in my project and I want to know the path of the log4j jar from a class. How can I get the path?","title":"Is there a way to get the relative path from a jar of a jar?","body":"<p>I have a requirement where I want to find the path of a jar that is inside the running jar. Let's say there is a jar called example-1.0.0.jar inside a running jar called main-1.0.0.jar. I want to know the path of that jar that is present inside the running jar.</p>\n<p><strong>Edit 1:</strong>\nFor example, the jar is a dependency in the project. For example, let's say I have a log4j dependency in my project and I want to know the path of the log4j jar from a class. How can I get the path?</p>\n"},{"tags":["java","spring-boot","jakarta-mail"],"comments":[{"owner":{"account_id":3330644,"reputation":91,"user_id":2799677,"accept_rate":25,"display_name":"Giver"},"score":1,"creation_date":1528974145,"post_id":50855828,"comment_id":88714378,"body_markdown":"Please look at it https://stackoverflow.com/questions/2996514/inline-images-in-email-using-javamail","body":"Please look at it <a href=\"https://stackoverflow.com/questions/2996514/inline-images-in-email-using-javamail\" title=\"inline images in email using javamail\">stackoverflow.com/questions/2996514/&hellip;</a>"},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1528974316,"post_id":50855828,"comment_id":88714464,"body_markdown":"When you use cid while setting the images in email content it uses the attached images. Upload image in the server and use complete URL to image.","body":"When you use cid while setting the images in email content it uses the attached images. Upload image in the server and use complete URL to image."},{"owner":{"account_id":10531745,"reputation":571,"user_id":7760858,"accept_rate":25,"display_name":"Virat"},"score":0,"creation_date":1528981100,"post_id":50855828,"comment_id":88718776,"body_markdown":"But in the gmail app, it is displaying properly","body":"But in the gmail app, it is displaying properly"},{"owner":{"account_id":10531745,"reputation":571,"user_id":7760858,"accept_rate":25,"display_name":"Virat"},"score":0,"creation_date":1528984986,"post_id":50855828,"comment_id":88721303,"body_markdown":"@mallikarjun after changing the code to `mimeMessageHelper.setText(&quot;&lt;img src=&quot;+imageUrl+ &quot;/&gt;&quot;,true);` No image is coming!!","body":"@mallikarjun after changing the code to <code>mimeMessageHelper.setText(&quot;&lt;img src=&quot;+imageUrl+ &quot;&#47;&gt;&quot;,true);</code> No image is coming!!"}],"answers":[{"tags":[],"owner":{"account_id":21438885,"reputation":9,"user_id":15793838,"display_name":"Rahul Vijaykar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643985582,"creation_date":1643985582,"answer_id":70988188,"question_id":50855828,"body_markdown":"Hi you have to warp your Html content in a String and you use bellow code \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    \t\r\n    \t\tMimeMessage message = (MimeMessage) getNewMessageInstance();//sender.createMimeMessage();\r\n    \t\tMimeMessageHelper helper = new MimeMessageHelper(message,true);\r\n    \t\ttry {\r\n    \t\t\tif (emailContent == null || emailContent.length() == 0) {\r\n    \t\t\t\tmessage.setContent(multipart);\r\n    \t\t\t} else {\r\n    \t\t\t\tmessage.setContent(emailContent, &quot;text/html; charset=utf-8&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.info(&quot;Exception while setting message content &quot;,e);\r\n    \t\t}\r\n    \t\t\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Unable to send html email using JavaMailSender","body":"<p>Hi you have to warp your Html content in a String and you use bellow code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    \n        MimeMessage message = (MimeMessage) getNewMessageInstance();//sender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(message,true);\n        try {\n            if (emailContent == null || emailContent.length() == 0) {\n                message.setContent(multipart);\n            } else {\n                message.setContent(emailContent, \"text/html; charset=utf-8\");\n            }\n        } catch (Exception e) {\n            log.info(\"Exception while setting message content \",e);\n        }\n        </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":10531745,"reputation":571,"user_id":7760858,"accept_rate":25,"display_name":"Virat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643985582,"creation_date":1528973717,"question_id":50855828,"body_markdown":"I am trying to send html as email from `JavaMailSender`. The `html` has an `&lt;img&gt;` tag. \r\n\r\n    MimeMessage mimeMessage = mailSender.createMimeMessage();\r\n    MimeMessageHelper mimeMessageHelper = new MimeMessageHelper(mimeMessage,true);\r\n    mimeMessageHelper.setTo(&quot;preetham.kv@highpeaksw.com&quot;);\r\n    mimeMessageHelper.setText(&quot;&lt;img src=cid:netLogo\\&quot; /&gt;&quot;,true);\r\n    ClassPathResource netLogoImg = new ClassPathResource(&quot;sample.png&quot;);\r\n    mimeMessageHelper.addInline(&quot;netLogo&quot;,netLogoImg);\r\n    mailSender.send(mimeMessage);\r\n\r\nBut when the email is sent, the image is going as an attachment rather than the image of the email content. How to send html&#39;s with image and link from `spring-boot`?","title":"Unable to send html email using JavaMailSender","body":"<p>I am trying to send html as email from <code>JavaMailSender</code>. The <code>html</code> has an <code>&lt;img&gt;</code> tag. </p>\n\n<pre><code>MimeMessage mimeMessage = mailSender.createMimeMessage();\nMimeMessageHelper mimeMessageHelper = new MimeMessageHelper(mimeMessage,true);\nmimeMessageHelper.setTo(\"preetham.kv@highpeaksw.com\");\nmimeMessageHelper.setText(\"&lt;img src=cid:netLogo\\\" /&gt;\",true);\nClassPathResource netLogoImg = new ClassPathResource(\"sample.png\");\nmimeMessageHelper.addInline(\"netLogo\",netLogoImg);\nmailSender.send(mimeMessage);\n</code></pre>\n\n<p>But when the email is sent, the image is going as an attachment rather than the image of the email content. How to send html's with image and link from <code>spring-boot</code>?</p>\n"},{"tags":["java","io","inputstream","datainputstream"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643916528,"post_id":70975267,"comment_id":125473235,"body_markdown":"Are you saying that the stream source always sends *N* bytes, even though the image data may only take up a fraction of that?","body":"Are you saying that the stream source always sends <i>N</i> bytes, even though the image data may only take up a fraction of that?"},{"owner":{"account_id":15338522,"reputation":33,"user_id":11066168,"display_name":"TwilCynder"},"score":0,"creation_date":1643931320,"post_id":70975267,"comment_id":125477719,"body_markdown":"Yeah, more or less. It is a binary file that contains images, and right before each image i have the length of the image ; but the last bytes of the chunk that is supposed to be the image are just ... Useless bytes, I don&#39;t know why they are there, but the image reading function doesn&#39;t read them and I need to skip them to resume reading useful data","body":"Yeah, more or less. It is a binary file that contains images, and right before each image i have the length of the image ; but the last bytes of the chunk that is supposed to be the image are just ... Useless bytes, I don&#39;t know why they are there, but the image reading function doesn&#39;t read them and I need to skip them to resume reading useful data"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643931865,"post_id":70975267,"comment_id":125477834,"body_markdown":"You could pass an [ImageInputStream](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageInputStream(java.lang.Object)) to ImageIO.read.  ImageInputStream has a `getStreamPosition()` method in addition to most of the standard InputStream methods and DataInput methods.  Just make sure you do all your reading through it, and not the underlying InputStream, as mixing reads from both will lead to strange behavior.","body":"You could pass an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageInputStream(java.lang.Object)\" rel=\"nofollow noreferrer\">ImageInputStream</a> to ImageIO.read.  ImageInputStream has a <code>getStreamPosition()</code> method in addition to most of the standard InputStream methods and DataInput methods.  Just make sure you do all your reading through it, and not the underlying InputStream, as mixing reads from both will lead to strange behavior."},{"owner":{"account_id":15338522,"reputation":33,"user_id":11066168,"display_name":"TwilCynder"},"score":0,"creation_date":1643934936,"post_id":70975267,"comment_id":125478402,"body_markdown":"hmm, this looks like what i need indeed. I am tempted to actually just replace my DataInputSteam with an ImageInputStream since it also has the DataInput methods, but since ImageInputStream is just an interface, i don&#39;t really know which class to use exactly. i&#39;ll try to look into that.","body":"hmm, this looks like what i need indeed. I am tempted to actually just replace my DataInputSteam with an ImageInputStream since it also has the DataInput methods, but since ImageInputStream is just an interface, i don&#39;t really know which class to use exactly. i&#39;ll try to look into that."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643935631,"post_id":70975267,"comment_id":125478525,"body_markdown":"That’s why I linked to a method for creating an ImageInputStream.  You don’t need to care that it’s an interface.  What’s important is that you’ll have an object, of some type internal to ImageIO, which implements ImageInputStream.","body":"That’s why I linked to a method for creating an ImageInputStream.  You don’t need to care that it’s an interface.  What’s important is that you’ll have an object, of some type internal to ImageIO, which implements ImageInputStream."},{"owner":{"account_id":15338522,"reputation":33,"user_id":11066168,"display_name":"TwilCynder"},"score":0,"creation_date":1643969945,"post_id":70975267,"comment_id":125485692,"body_markdown":"Oh yeah, so indeed i could entirely remplace my DataInputStream with a ImageInputStream (with soem refactoring since i am currently subclassing DIS)\nHowever i just ran into another problem : ImageIO.read(IIS) actually closes the stream.","body":"Oh yeah, so indeed i could entirely remplace my DataInputStream with a ImageInputStream (with soem refactoring since i am currently subclassing DIS) However i just ran into another problem : ImageIO.read(IIS) actually closes the stream."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643908055,"creation_date":1643907708,"answer_id":70975361,"question_id":70975267,"body_markdown":"All the buffered read methods return the actual number of bytes read.\r\n\r\nQuoting [documentation for InputStream#read(byte[] b)][1]:\r\n\r\n&gt; **Returns:**\r\nthe total number of bytes read into the buffer, or -1 if there is no more data because the end of the stream has been reached.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)","title":"Java : know how much bytes were read by ImageIO.read() (and maybe other similar methods)","body":"<p>All the buffered read methods return the actual number of bytes read.</p>\n<p>Quoting <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)\" rel=\"nofollow noreferrer\">documentation for InputStream#read(byte[] b)</a>:</p>\n<blockquote>\n<p><strong>Returns:</strong>\nthe total number of bytes read into the buffer, or -1 if there is no more data because the end of the stream has been reached.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643985468,"creation_date":1643985468,"answer_id":70988164,"question_id":70975267,"body_markdown":"[ImageInputStream](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageInputStream(java.lang.Object)) can do what you want.  It implements [DataInput](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html) and it has most of the methods of InputStream.  And it has `getStreamPosition`, `seek` and `skipBytes` methods.\r\n\r\nHowever, as you correctly point out, `ImageIO.read(ImageInputStream)` would close the stream, preventing you from reading more than one image.\r\n\r\nThe solution is to avoid using ImageIO.read, and instead obtain an ImageReader explicitly, using [ImageIO.getImageReaders](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#getImageReaders(java.lang.Object)).  Then you can invoke an ImageReader’s [read](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageReader.html#read(int)) method, which does not close the stream.\r\n\r\nHere’s how I implemented it:\r\n\r\n    public void readImages(InputStream source,\r\n                           Consumer&lt;? super BufferedImage&gt; imageHandler)\r\n    throws IOException {\r\n        // Every image is at a byte index which is a multiple of this number.\r\n        int boundary = 5000;\r\n\r\n        try (ImageInputStream stream = ImageIO.createImageInputStream(source)) {\r\n            while (true) {\r\n                long pos = stream.getStreamPosition();\r\n\r\n                Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(stream);\r\n                if (!readers.hasNext()) {\r\n                    break;\r\n                }\r\n\r\n                ImageReader reader = readers.next();\r\n                reader.setInput(stream);\r\n                BufferedImage image = reader.read(0);\r\n\r\n                imageHandler.accept(image);\r\n\r\n                pos = stream.getStreamPosition();\r\n                long bytesToSkip = boundary - (pos % boundary);\r\n                if (bytesToSkip &lt; boundary) {\r\n                    stream.skipBytes(bytesToSkip);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here’s how I tested it:\r\n\r\n    try (InputStream source = new BufferedInputStream(\r\n            Files.newInputStream(Path.of(filename)))) {\r\n\r\n        reader.readImages(source, img -&gt; EventQueue.invokeLater(() -&gt; {\r\n            JOptionPane.showMessageDialog(null, new ImageIcon(img));\r\n        }));\r\n    }\r\n","title":"Java : know how much bytes were read by ImageIO.read() (and maybe other similar methods)","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageInputStream(java.lang.Object)\" rel=\"nofollow noreferrer\">ImageInputStream</a> can do what you want.  It implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html\" rel=\"nofollow noreferrer\">DataInput</a> and it has most of the methods of InputStream.  And it has <code>getStreamPosition</code>, <code>seek</code> and <code>skipBytes</code> methods.</p>\n<p>However, as you correctly point out, <code>ImageIO.read(ImageInputStream)</code> would close the stream, preventing you from reading more than one image.</p>\n<p>The solution is to avoid using ImageIO.read, and instead obtain an ImageReader explicitly, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#getImageReaders(java.lang.Object)\" rel=\"nofollow noreferrer\">ImageIO.getImageReaders</a>.  Then you can invoke an ImageReader’s <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageReader.html#read(int)\" rel=\"nofollow noreferrer\">read</a> method, which does not close the stream.</p>\n<p>Here’s how I implemented it:</p>\n<pre><code>public void readImages(InputStream source,\n                       Consumer&lt;? super BufferedImage&gt; imageHandler)\nthrows IOException {\n    // Every image is at a byte index which is a multiple of this number.\n    int boundary = 5000;\n\n    try (ImageInputStream stream = ImageIO.createImageInputStream(source)) {\n        while (true) {\n            long pos = stream.getStreamPosition();\n\n            Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(stream);\n            if (!readers.hasNext()) {\n                break;\n            }\n\n            ImageReader reader = readers.next();\n            reader.setInput(stream);\n            BufferedImage image = reader.read(0);\n\n            imageHandler.accept(image);\n\n            pos = stream.getStreamPosition();\n            long bytesToSkip = boundary - (pos % boundary);\n            if (bytesToSkip &lt; boundary) {\n                stream.skipBytes(bytesToSkip);\n            }\n        }\n    }\n}\n</code></pre>\n<p>And here’s how I tested it:</p>\n<pre><code>try (InputStream source = new BufferedInputStream(\n        Files.newInputStream(Path.of(filename)))) {\n\n    reader.readImages(source, img -&gt; EventQueue.invokeLater(() -&gt; {\n        JOptionPane.showMessageDialog(null, new ImageIcon(img));\n    }));\n}\n</code></pre>\n"}],"owner":{"account_id":15338522,"reputation":33,"user_id":11066168,"display_name":"TwilCynder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70988164,"answer_count":2,"score":-2,"last_activity_date":1643985468,"creation_date":1643907352,"question_id":70975267,"body_markdown":"i am making a java program that reads data from a binary stream (using a DataInputStream).  \r\n\r\nSometimes during this process i need to read a data chunk, however the method (which i cannot modify) that reads it will stop before reaching the end of the chunk (it is the normal behavior, apparently it just doesn&#39;t need the last bytes, but i can&#39;t do anything about the fact that they are there). This is not a problem in itself because i know exactly how long the chunk is, i.e. i know how many bytes there are in the chunk so i can skip bytes (with the `skipBytes(int)` method) until the end of the chunk ; **the problem is** : i don&#39;t actually know how many bytes the method actually read (or left), so i don&#39;t know how many bytes i need to skip to reach the end of the chunk.  \r\nIs there any way to :\r\n- know how many bytes were read in a stream since a certain point in time ?\r\n- know how many bytes were read in a stream since it was  ?\r\n- any other way i could know how many bytes my data-chunk-reading method just read (since it won&#39;t directly tell me) ?\r\n\r\n[Just in case, i made a small diagram][1]\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/veF3c.png","title":"Java : know how much bytes were read by ImageIO.read() (and maybe other similar methods)","body":"<p>i am making a java program that reads data from a binary stream (using a DataInputStream).</p>\n<p>Sometimes during this process i need to read a data chunk, however the method (which i cannot modify) that reads it will stop before reaching the end of the chunk (it is the normal behavior, apparently it just doesn't need the last bytes, but i can't do anything about the fact that they are there). This is not a problem in itself because i know exactly how long the chunk is, i.e. i know how many bytes there are in the chunk so i can skip bytes (with the <code>skipBytes(int)</code> method) until the end of the chunk ; <strong>the problem is</strong> : i don't actually know how many bytes the method actually read (or left), so i don't know how many bytes i need to skip to reach the end of the chunk.<br />\nIs there any way to :</p>\n<ul>\n<li>know how many bytes were read in a stream since a certain point in time ?</li>\n<li>know how many bytes were read in a stream since it was  ?</li>\n<li>any other way i could know how many bytes my data-chunk-reading method just read (since it won't directly tell me) ?</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/veF3c.png\" rel=\"nofollow noreferrer\">Just in case, i made a small diagram</a></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-mvc","jsp","tomcat"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643985281,"creation_date":1643985281,"answer_id":70988107,"question_id":70987559,"body_markdown":"HTTP does not allow to specify an encoding for the requested path. Thus in the past servers used OS settings which were actually confusing especially for applications used world-wide.\r\n\r\nTherefore the standard established to always encode requests as UTF-8, and even then there is the URLEncoding which would prevent UTF-8 problems by %-escaping any special characters.\r\n\r\nIn a nutshell, ensure your requests are properly encoded. Previous versions of Tomcat may not have errored on this. The requests are coming from the client, not the server itself.","title":"Invalid character found in the request target Tomcat 9","body":"<p>HTTP does not allow to specify an encoding for the requested path. Thus in the past servers used OS settings which were actually confusing especially for applications used world-wide.</p>\n<p>Therefore the standard established to always encode requests as UTF-8, and even then there is the URLEncoding which would prevent UTF-8 problems by %-escaping any special characters.</p>\n<p>In a nutshell, ensure your requests are properly encoded. Previous versions of Tomcat may not have errored on this. The requests are coming from the client, not the server itself.</p>\n"}],"owner":{"account_id":12078361,"reputation":43,"user_id":8831026,"display_name":"Raulitus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70988107,"answer_count":1,"score":1,"last_activity_date":1643985281,"creation_date":1643983045,"question_id":70987559,"body_markdown":"In the migration of a project that works correctly under Tomcat 7 to Tomcat 9 I am receiving the error Invalid character found in the request target when passing words with accents in the request.\r\n\r\nThe server.xml file was modified by introducing in the connector `URIEncoding=&quot;UTF-8`&quot; and the clause `relaxedQueryChars= &#225;&#193;&#233;&#201;&#237;&#205;&#243;&#211;&#250;&#218;` was also introduced, but I still receive the same error. I can&#39;t touch the actual code of the project.\r\n\r\nlog traces show this: `java.lang.IllegalArgumentException: Invalid character found in the request target [/sahab/lupaDem.do?filtro=LupaDem&amp;param1=1&amp;param2=29527&amp;param3=OBSERVACI0xd3N%20ANTIRR0xc1BICA`","title":"Invalid character found in the request target Tomcat 9","body":"<p>In the migration of a project that works correctly under Tomcat 7 to Tomcat 9 I am receiving the error Invalid character found in the request target when passing words with accents in the request.</p>\n<p>The server.xml file was modified by introducing in the connector <code>URIEncoding=&quot;UTF-8</code>&quot; and the clause <code>relaxedQueryChars= áÁéÉíÍóÓúÚ</code> was also introduced, but I still receive the same error. I can't touch the actual code of the project.</p>\n<p>log traces show this: <code>java.lang.IllegalArgumentException: Invalid character found in the request target [/sahab/lupaDem.do?filtro=LupaDem&amp;param1=1&amp;param2=29527&amp;param3=OBSERVACI0xd3N%20ANTIRR0xc1BICA</code></p>\n"},{"tags":["java","android","android-intent"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1555258269,"creation_date":1555258269,"answer_id":55677368,"question_id":55676934,"body_markdown":"&gt;  But what kind of implicit intent is being created here?\r\n\r\nUm... an `ACTION_VIEW` `Intent`, to view the requested URL.\r\n\r\n&gt; can I think of Android as going through all the classes in my phone and seeing which one has the intent filter that can possibly handle the data and creating the intent structure to start this class that it found?\r\n\r\nActivities are registered in the manifest. The OS basically has a database of all registered activities and their `&lt;intent-filter&gt;` details, and it uses that database to find candidates for any given implicit `Intent`.\r\n\r\n&gt;  Does it simply choose the default or ask the user to choose what app it wants to run in on?\r\n\r\nThat depends on a variety of factors, including:\r\n\r\n- Whether the user chose a default handler for that sort of `Intent` (e.g., chose a default Web browser)\r\n\r\n- Whether you wrap the `Intent` using `Intent.createChooser()` to force a chooser\r\n\r\n- Whether an app has registered an app link for the URL\r\n\r\n&gt; If the intent has already been linked to a class to start, why bother with intent.resolveActivity(getPackageManager()) at all?\r\n\r\nBecause there may be zero activities to handle the `Intent`. Even for something as common as a Web browser, the specific user might not have access to a browser app (secondary user profiles, etc.). If you try starting an activity, and there is no match, you get an `ActivityNotFoundException`, so this check is trying to avoid such an exception.\r\n\r\n&gt; but would I be sort-of correct in saying that Intent.ACTION_VIEW runs intent.resolveActivity(getPackageManager()) or another function that does similar and somehow incorporates the class it returns into my intent?\r\n\r\nNot really. It would be more correct to say that `resolveActivity()` queries the database that I mentioned to see what would handle the `Intent`, if anything.\r\n\r\n&gt; what is inside the package manager class?\r\n\r\nA little bit of Java code. It is mostly an IPC gateway to a core OS process, serving to query the database of installed apps, their capabilities, etc.\r\n","title":"What exactly is intent.resolveActivity(getPackageManager()) doing?","body":"<blockquote>\n  <p>But what kind of implicit intent is being created here?</p>\n</blockquote>\n\n<p>Um... an <code>ACTION_VIEW</code> <code>Intent</code>, to view the requested URL.</p>\n\n<blockquote>\n  <p>can I think of Android as going through all the classes in my phone and seeing which one has the intent filter that can possibly handle the data and creating the intent structure to start this class that it found?</p>\n</blockquote>\n\n<p>Activities are registered in the manifest. The OS basically has a database of all registered activities and their <code>&lt;intent-filter&gt;</code> details, and it uses that database to find candidates for any given implicit <code>Intent</code>.</p>\n\n<blockquote>\n  <p>Does it simply choose the default or ask the user to choose what app it wants to run in on?</p>\n</blockquote>\n\n<p>That depends on a variety of factors, including:</p>\n\n<ul>\n<li><p>Whether the user chose a default handler for that sort of <code>Intent</code> (e.g., chose a default Web browser)</p></li>\n<li><p>Whether you wrap the <code>Intent</code> using <code>Intent.createChooser()</code> to force a chooser</p></li>\n<li><p>Whether an app has registered an app link for the URL</p></li>\n</ul>\n\n<blockquote>\n  <p>If the intent has already been linked to a class to start, why bother with intent.resolveActivity(getPackageManager()) at all?</p>\n</blockquote>\n\n<p>Because there may be zero activities to handle the <code>Intent</code>. Even for something as common as a Web browser, the specific user might not have access to a browser app (secondary user profiles, etc.). If you try starting an activity, and there is no match, you get an <code>ActivityNotFoundException</code>, so this check is trying to avoid such an exception.</p>\n\n<blockquote>\n  <p>but would I be sort-of correct in saying that Intent.ACTION_VIEW runs intent.resolveActivity(getPackageManager()) or another function that does similar and somehow incorporates the class it returns into my intent?</p>\n</blockquote>\n\n<p>Not really. It would be more correct to say that <code>resolveActivity()</code> queries the database that I mentioned to see what would handle the <code>Intent</code>, if anything.</p>\n\n<blockquote>\n  <p>what is inside the package manager class?</p>\n</blockquote>\n\n<p>A little bit of Java code. It is mostly an IPC gateway to a core OS process, serving to query the database of installed apps, their capabilities, etc.</p>\n"},{"tags":[],"owner":{"account_id":2032958,"reputation":4440,"user_id":1816112,"display_name":"Sofien Rahmouni"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643984973,"creation_date":1643984973,"answer_id":70988018,"question_id":55676934,"body_markdown":"By the way this method can return null on Android 11 and higher caused by new restrictions addedd : https://developer.android.com/about/versions/11/privacy/package-visibility\r\nSo to resolve this issue we must add a queries under manifest : \r\n\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n            &lt;data android:scheme=&quot;https&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n\r\nDon&#39;t forget to update the gradle plugin in case the queries items is not found :\r\n\r\n    classpath(&quot;com.android.tools.build:gradle:3.5.4&quot;)\r\n\r\n\r\n","title":"What exactly is intent.resolveActivity(getPackageManager()) doing?","body":"<p>By the way this method can return null on Android 11 and higher caused by new restrictions addedd : <a href=\"https://developer.android.com/about/versions/11/privacy/package-visibility\" rel=\"noreferrer\">https://developer.android.com/about/versions/11/privacy/package-visibility</a>\nSo to resolve this issue we must add a queries under manifest :</p>\n<pre><code>&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n        &lt;data android:scheme=&quot;https&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n<p>Don't forget to update the gradle plugin in case the queries items is not found :</p>\n<pre><code>classpath(&quot;com.android.tools.build:gradle:3.5.4&quot;)\n</code></pre>\n"}],"owner":{"account_id":13465829,"reputation":424,"user_id":9721336,"display_name":"koifish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20003,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":55677368,"answer_count":2,"score":18,"last_activity_date":1643984973,"creation_date":1555255545,"question_id":55676934,"body_markdown":"I&#39;m going through the [the Android Developer Tutorials][1] and I encountered a line of code that I do not understand.\r\n\r\nThis is the line of code (found on 4th page of the Android Developer tutorials.)\r\n\r\n        Intent intent = new Intent(Intent.ACTION_VIEW, webpage);\r\n        if (intent.resolveActivity(getPackageManager()) != null) {\r\n            startActivity(intent);\r\n        }\r\n\r\nI have a couple of questions.\r\n\r\n1) `Intent.ACTION_VIEW ` [documentation][2] says that it simply displays data to the user. I understand that the app it chooses will depend on the type of data to be displayed. For instance, in this case, the webpage is being parsed as a uri data type. But what kind of implicit intent is being created here? In the backend, can I think of Android as going through all the classes in my phone and seeing which one has the intent filter that can possibly handle the data and creating the intent structure to start this class that it found?\r\n\r\n2) What happens if it finds multiple classes that can handle this? Does it simply choose the default or ask the user to choose what app it wants to run in on? When I ran the code on my phone, it simply started the Samsung Internet App by default.\r\n\r\n3) This is actually my main question. If the intent has already been linked to a class to start, why bother with `intent.resolveActivity(getPackageManager())`  at all? Its [documentation][3] specifies how it handles the class if a class is returned. So alright, a class is returned. But also this class that it returns is not &#39;incorporated&#39; in my `intent` at any line of my code, which makes me think that `Intent.ACTION_VIEW` has somehow already handled it for me. \r\n\r\nThis is going to a leap, but would I be sort-of correct in saying that `Intent.ACTION_VIEW` runs `intent.resolveActivity(getPackageManager())` or another function that does similar and somehow incorporates the class it returns into my intent?\r\n\r\n4) Also, out of curiosity, what is inside the [package manager class][4]? I read [here][5] that it is like a directory of application data. Would I be correct in saying that? What kind of data does it keep about the application and how can I go about accessing them. The documentation doesn&#39;t seem to help much.\r\n\r\n\r\n  [1]: https://codelabs.developers.google.com/codelabs/android-training-activity-with-implicit-intent/index.html?index=..%2F..android-training#0\r\n  [2]: https://developer.android.com/reference/android/content/Intent.html#ACTION_VIEW\r\n  [3]: https://developer.android.com/reference/android/content/Intent.html#resolveActivity(android.content.pm.PackageManager)\r\n  [4]: https://developer.android.com/reference/android/content/pm/PackageManager.html\r\n  [5]: https://stackoverflow.com/questions/44620981/android-intents-resolveactivity-and-package-manager","title":"What exactly is intent.resolveActivity(getPackageManager()) doing?","body":"<p>I'm going through the <a href=\"https://codelabs.developers.google.com/codelabs/android-training-activity-with-implicit-intent/index.html?index=..%2F..android-training#0\" rel=\"noreferrer\">the Android Developer Tutorials</a> and I encountered a line of code that I do not understand.</p>\n\n<p>This is the line of code (found on 4th page of the Android Developer tutorials.)</p>\n\n<pre><code>    Intent intent = new Intent(Intent.ACTION_VIEW, webpage);\n    if (intent.resolveActivity(getPackageManager()) != null) {\n        startActivity(intent);\n    }\n</code></pre>\n\n<p>I have a couple of questions.</p>\n\n<p>1) <code>Intent.ACTION_VIEW</code> <a href=\"https://developer.android.com/reference/android/content/Intent.html#ACTION_VIEW\" rel=\"noreferrer\">documentation</a> says that it simply displays data to the user. I understand that the app it chooses will depend on the type of data to be displayed. For instance, in this case, the webpage is being parsed as a uri data type. But what kind of implicit intent is being created here? In the backend, can I think of Android as going through all the classes in my phone and seeing which one has the intent filter that can possibly handle the data and creating the intent structure to start this class that it found?</p>\n\n<p>2) What happens if it finds multiple classes that can handle this? Does it simply choose the default or ask the user to choose what app it wants to run in on? When I ran the code on my phone, it simply started the Samsung Internet App by default.</p>\n\n<p>3) This is actually my main question. If the intent has already been linked to a class to start, why bother with <code>intent.resolveActivity(getPackageManager())</code>  at all? Its <a href=\"https://developer.android.com/reference/android/content/Intent.html#resolveActivity(android.content.pm.PackageManager)\" rel=\"noreferrer\">documentation</a> specifies how it handles the class if a class is returned. So alright, a class is returned. But also this class that it returns is not 'incorporated' in my <code>intent</code> at any line of my code, which makes me think that <code>Intent.ACTION_VIEW</code> has somehow already handled it for me. </p>\n\n<p>This is going to a leap, but would I be sort-of correct in saying that <code>Intent.ACTION_VIEW</code> runs <code>intent.resolveActivity(getPackageManager())</code> or another function that does similar and somehow incorporates the class it returns into my intent?</p>\n\n<p>4) Also, out of curiosity, what is inside the <a href=\"https://developer.android.com/reference/android/content/pm/PackageManager.html\" rel=\"noreferrer\">package manager class</a>? I read <a href=\"https://stackoverflow.com/questions/44620981/android-intents-resolveactivity-and-package-manager\">here</a> that it is like a directory of application data. Would I be correct in saying that? What kind of data does it keep about the application and how can I go about accessing them. The documentation doesn't seem to help much.</p>\n"},{"tags":["java","rest","jaxb","jersey","spring-jersey"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1643980210,"post_id":70986658,"comment_id":125489309,"body_markdown":"....Where is your InputParameters pojo?  There should be a class that defines properties for your JSON for example..","body":"....Where is your InputParameters pojo?  There should be a class that defines properties for your JSON for example.."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643980232,"post_id":70986658,"comment_id":125489314,"body_markdown":"Does your InputParameters pojo have a default constructor","body":"Does your InputParameters pojo have a default constructor"},{"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"score":0,"creation_date":1643984770,"post_id":70986658,"comment_id":125491164,"body_markdown":"No they don&#39;t because it&#39;s generated classes. Even I&#39;ve added a default constructor manually to the generated code but no luck. updated the earlier post with pojo","body":"No they don&#39;t because it&#39;s generated classes. Even I&#39;ve added a default constructor manually to the generated code but no luck. updated the earlier post with pojo"}],"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643984899,"creation_date":1643978983,"question_id":70986658,"body_markdown":"I&#39;ve generated java sources from wadl file through wadl2java maven plugin and wanted to create REST Services through Springboot jersey. It reaches the service but getting below Excetiption : \r\n\r\n    `Can not construct instance of javax.xml.bind.JAXBElement: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?) at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@198d51da; line: 5, column: 33] \r\n\r\nMy Service endpoint is something like this:\r\n\r\n    @Path(&quot;getdetails/&quot;)\r\n    public class GetdetailsResource {\r\n    \t\r\n        @POST\r\n        @Consumes({&quot;application/xml&quot;, &quot;application/json&quot; })\r\n        @Produces({&quot;application/xml&quot;, &quot;application/json&quot; })\r\n        public Response GETDETAILS(InputParameters parameters) {\r\n        \t&#39;&#39;&#39;&#39;&#39;\r\n        \tSystem.out.println(parameters);\r\n    ....\r\n            return null;\r\n        }\r\n    \r\n    }\r\nREST calls throws exception while Unmarshalling into creating InputParameters which has JAXBElement&lt;XXXX&gt; jaxbElement;\r\n\r\nSomehow the JaxbElement never gets instantiated even with the ObjectMapper as mentioned [here][1]\r\n\r\n\r\n  [1]: https://automationrhapsody.com/unmarshalconvert-json-data-jaxbelement-object/\r\n\r\nInputParameters class is like below:\r\n\r\n    XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;carray&quot;\r\n    })\r\n    @XmlRootElement(name = &quot;InputParameters&quot;)\r\n    public class InputParameters {\r\n    \tpublic InputParameters() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n        @XmlElementRef(name = &quot;P_CONTRACT_ARRAY&quot;, namespace = &quot;http://xmlns.oracle.com/apps/getdetails/&quot;, type = JAXBElement.class, required = false)\r\n        protected JAXBElement&lt;APPAXX&gt; carray;\r\n    \r\n    \r\n        public JAXBElement&lt;APPAXX&gt; getcarray() {\r\n            return carray;\r\n        }\r\n    \r\n        public void setcarray(JAXBElement&lt;APPAXX&gt; value) {\r\n            this.carray = value;\r\n        }\r\n    \r\n    }","title":"How to unmarshall json to JAXBElement","body":"<p>I've generated java sources from wadl file through wadl2java maven plugin and wanted to create REST Services through Springboot jersey. It reaches the service but getting below Excetiption :</p>\n<pre><code>`Can not construct instance of javax.xml.bind.JAXBElement: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?) at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@198d51da; line: 5, column: 33] \n</code></pre>\n<p>My Service endpoint is something like this:</p>\n<pre><code>@Path(&quot;getdetails/&quot;)\npublic class GetdetailsResource {\n    \n    @POST\n    @Consumes({&quot;application/xml&quot;, &quot;application/json&quot; })\n    @Produces({&quot;application/xml&quot;, &quot;application/json&quot; })\n    public Response GETDETAILS(InputParameters parameters) {\n        '''''\n        System.out.println(parameters);\n....\n        return null;\n    }\n\n}\n</code></pre>\n<p>REST calls throws exception while Unmarshalling into creating InputParameters which has JAXBElement jaxbElement;</p>\n<p>Somehow the JaxbElement never gets instantiated even with the ObjectMapper as mentioned <a href=\"https://automationrhapsody.com/unmarshalconvert-json-data-jaxbelement-object/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>InputParameters class is like below:</p>\n<pre><code>XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;carray&quot;\n})\n@XmlRootElement(name = &quot;InputParameters&quot;)\npublic class InputParameters {\n    public InputParameters() {\n        // TODO Auto-generated constructor stub\n        System.out.println();\n    }\n\n    @XmlElementRef(name = &quot;P_CONTRACT_ARRAY&quot;, namespace = &quot;http://xmlns.oracle.com/apps/getdetails/&quot;, type = JAXBElement.class, required = false)\n    protected JAXBElement&lt;APPAXX&gt; carray;\n\n\n    public JAXBElement&lt;APPAXX&gt; getcarray() {\n        return carray;\n    }\n\n    public void setcarray(JAXBElement&lt;APPAXX&gt; value) {\n        this.carray = value;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jpa","schema","eclipselink","pojo"],"answers":[{"tags":[],"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643959617,"creation_date":1643959617,"answer_id":70982770,"question_id":70978629,"body_markdown":"Well, it&#39;s interesting question. I don&#39;t know any tool that can do it automatically but I can imagine how to do it.\r\n\r\nSo, you write a test.\r\n\r\nIn the test you retrieve all fields from your model Java POJOs with reflection to an array, it&#39;s something like\r\n\r\n    Field[] allFields = YourJavaPOJO.class.getDeclaredFields();\r\n\r\nThen you retrieve all columns names from database to another array.\r\nTo do it you select one row from your table to a ResultSet and extract columns names from the ResultSet.\r\n\r\n    public String comparePojoWithDb() {\r\n        return jdbcTemplate.query(&quot;SELECT * FROM the_table fetch first 1 row only&quot;,  new comparePojoWithDbExtractor());\r\n      }\r\n      private static final class comparePojoWithDbExtractor implements ResultSetExtractor&lt;String&gt; {\r\n        @Override\r\n        public String extractData(ResultSet resultSet) throws SQLException {\r\n          return convertResultSetToColumnNamesArray(resultSet);\r\n        }\r\n      }\r\n    public static String convertResultSetToColumnNamesArray(ResultSet resultSet) throws SQLException {\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            while (resultSet.next()) {\r\n              for (int i = 0; i &lt; resultSet.getMetaData().getColumnCount(); i++) {\r\n               list.add(resultSet.getMetaData().getColumnLabel(i + 1));\r\n              }\r\n            }\r\n            return list;\r\n          }\r\n\r\n(!!! I skipped obvious convertions List &lt;-&gt; String[] &lt;--&gt; String &lt;--&gt; array)\r\n\r\nThe column&#39;s names can also be extracted in JPA with reflection from baseEntity.getClass().getFields() \r\n\r\nSo you got two arrays and you need to compare them.\r\n\r\nThe table can be empty, names of columns can differ in POJO because of columns annotations but all that generally can be done.","title":"How do I verify the schemas in Java POJOs and the DB match?","body":"<p>Well, it's interesting question. I don't know any tool that can do it automatically but I can imagine how to do it.</p>\n<p>So, you write a test.</p>\n<p>In the test you retrieve all fields from your model Java POJOs with reflection to an array, it's something like</p>\n<pre><code>Field[] allFields = YourJavaPOJO.class.getDeclaredFields();\n</code></pre>\n<p>Then you retrieve all columns names from database to another array.\nTo do it you select one row from your table to a ResultSet and extract columns names from the ResultSet.</p>\n<pre><code>public String comparePojoWithDb() {\n    return jdbcTemplate.query(&quot;SELECT * FROM the_table fetch first 1 row only&quot;,  new comparePojoWithDbExtractor());\n  }\n  private static final class comparePojoWithDbExtractor implements ResultSetExtractor&lt;String&gt; {\n    @Override\n    public String extractData(ResultSet resultSet) throws SQLException {\n      return convertResultSetToColumnNamesArray(resultSet);\n    }\n  }\npublic static String convertResultSetToColumnNamesArray(ResultSet resultSet) throws SQLException {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        while (resultSet.next()) {\n          for (int i = 0; i &lt; resultSet.getMetaData().getColumnCount(); i++) {\n           list.add(resultSet.getMetaData().getColumnLabel(i + 1));\n          }\n        }\n        return list;\n      }\n</code></pre>\n<p>(!!! I skipped obvious convertions List &lt;-&gt; String[] &lt;--&gt; String &lt;--&gt; array)</p>\n<p>The column's names can also be extracted in JPA with reflection from baseEntity.getClass().getFields()</p>\n<p>So you got two arrays and you need to compare them.</p>\n<p>The table can be empty, names of columns can differ in POJO because of columns annotations but all that generally can be done.</p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643984831,"creation_date":1643984831,"answer_id":70987985,"question_id":70978629,"body_markdown":"EclipseLink can validate the ORM metadata against the schema using its [IntegrityChecker][1]. Enabling it will have it get the DB metadata from the JDBC driver and validate that each mapping has the required columns in the database tables.\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/EclipseLink/Examples/JPA/IntegrityChecker","title":"How do I verify the schemas in Java POJOs and the DB match?","body":"<p>EclipseLink can validate the ORM metadata against the schema using its <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/IntegrityChecker\" rel=\"nofollow noreferrer\">IntegrityChecker</a>. Enabling it will have it get the DB metadata from the JDBC driver and validate that each mapping has the required columns in the database tables.</p>\n"}],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643984831,"creation_date":1643924212,"question_id":70978629,"body_markdown":"I have Java POJOs with `@Table`, `@Id`, `@Column`, etc.  How do I verify the schema represented in the Java POJOs matches the schema in the DB?\r\n\r\nI am using EclipseLink.  I know about eclipselink.ddl-generation=create-or-extend-tables, but I would like to make sure the Java POJOs &quot;schema&quot; matches the DB before I enable this.","title":"How do I verify the schemas in Java POJOs and the DB match?","body":"<p>I have Java POJOs with <code>@Table</code>, <code>@Id</code>, <code>@Column</code>, etc.  How do I verify the schema represented in the Java POJOs matches the schema in the DB?</p>\n<p>I am using EclipseLink.  I know about eclipselink.ddl-generation=create-or-extend-tables, but I would like to make sure the Java POJOs &quot;schema&quot; matches the DB before I enable this.</p>\n"},{"tags":["java","spring","spring-boot","ssl","spring-security"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1643985153,"post_id":70987935,"comment_id":125491362,"body_markdown":"How are you running the app when it can&#39;t find the `certificate.p12` file? Has the file made it from `src/main/resources` into a location where it&#39;ll be on the classpath?","body":"How are you running the app when it can&#39;t find the <code>certificate.p12</code> file? Has the file made it from <code>src&#47;main&#47;resources</code> into a location where it&#39;ll be on the classpath?"},{"owner":{"account_id":8508862,"reputation":57,"user_id":6379477,"accept_rate":75,"display_name":"Jaya Lakshmi"},"score":0,"creation_date":1644159954,"post_id":70987935,"comment_id":125526552,"body_markdown":"@AndyWilkinson The file is placed in the src/main/resources folder only. But still Iam facing this issue.","body":"@AndyWilkinson The file is placed in the src/main/resources folder only. But still Iam facing this issue."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1644160540,"post_id":70987935,"comment_id":125526705,"body_markdown":"Spring Boot won&#39;t be able to find it in `src/main/sources`. Something (your IDE or your build system) needs to copy it to a location that&#39;s on the class path. For Maven, that would be in a directory beneath `target` and for Gradle it would be in a directory beneath `build`. Different locations may be used if you&#39;re running your application in your IDE. It depends on the IDE and build system you&#39;re using.","body":"Spring Boot won&#39;t be able to find it in <code>src&#47;main&#47;sources</code>. Something (your IDE or your build system) needs to copy it to a location that&#39;s on the class path. For Maven, that would be in a directory beneath <code>target</code> and for Gradle it would be in a directory beneath <code>build</code>. Different locations may be used if you&#39;re running your application in your IDE. It depends on the IDE and build system you&#39;re using."}],"owner":{"account_id":8508862,"reputation":57,"user_id":6379477,"accept_rate":75,"display_name":"Jaya Lakshmi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2956,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643984652,"creation_date":1643984652,"question_id":70987935,"body_markdown":"I am trying to add an existing SSL certificate(.cer) to a Spring boot application. Followed the following steps,\r\n\r\nStep 1: Converted the existing .cer certificate to .p12 certificate using the below command in keytool of JDK 8.\r\n\r\n    keytool -import -alias cert -file myCertificate.crt -keystore certificate.p12 -storepass password\r\n\r\n \r\n\r\nStep 2 : Placed this certificate.p12 that was generated in &quot;resources&quot; folder of the application.\r\n\r\nStep 3 : Added the below configuration in &quot;application.properties&quot;\r\n\r\n    server.ssl.key-store = classpath:certificate.p12\r\n    server.ssl.key-store-password=password\r\n    server.ssl.key-store-type=pkcs12\r\n    server.ssl.key-alias=cert\r\n    server.ssl.key-password=password\r\n    server.ssl.enabled=true\r\n    server.port=8443  \r\n    security.require-ssl=true\r\n\r\nStep 4 : Added the below &quot;SecurityConfig.java&quot; file in application.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.requiresChannel().anyRequest().requiresSecure();\r\n        }\r\n    }\r\n\r\nStep 5 : Added the below code in &quot;Application.java&quot;\r\n\r\n    @Bean\r\n        public ServletWebServerFactory servletContainer() {\r\n            TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n                @Override\r\n                protected void postProcessContext(Context context) {\r\n                    SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                    securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                    SecurityCollection collection = new SecurityCollection();\r\n                    collection.addPattern(&quot;/*&quot;);\r\n                    securityConstraint.addCollection(collection);\r\n                    context.addConstraint(securityConstraint);\r\n                }\r\n            };\r\n            tomcat.addAdditionalTomcatConnectors(redirectConnector());\r\n            return tomcat;\r\n        }\r\n    private Connector redirectConnector() {\r\n            Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\r\n            connector.setScheme(&quot;http&quot;);\r\n            connector.setPort(80);\r\n            connector.setSecure(false);\r\n            connector.setRedirectPort(443);\r\n            return connector;\r\n        }\r\n\r\nAfter adding all the above code and configuration changes. I am getting the below exception when I start the spring boot application - `Caused by: org.springframework.boot.web.server.WebServerException: Could not load key store &#39;classpath:certificate.p12&#39;\r\nCaused by: java.io.FileNotFoundException: class path resource [certificate.p12] cannot be resolved to URL because it does not exist`. Kindly help to fix this issue. Thanks in advance!","title":"How to solve &quot;java.io.FileNotFoundException: class path resource cannot be resolved to URL&quot; when trying to add ssl certificate?","body":"<p>I am trying to add an existing SSL certificate(.cer) to a Spring boot application. Followed the following steps,</p>\n<p>Step 1: Converted the existing .cer certificate to .p12 certificate using the below command in keytool of JDK 8.</p>\n<pre><code>keytool -import -alias cert -file myCertificate.crt -keystore certificate.p12 -storepass password\n</code></pre>\n<p>Step 2 : Placed this certificate.p12 that was generated in &quot;resources&quot; folder of the application.</p>\n<p>Step 3 : Added the below configuration in &quot;application.properties&quot;</p>\n<pre><code>server.ssl.key-store = classpath:certificate.p12\nserver.ssl.key-store-password=password\nserver.ssl.key-store-type=pkcs12\nserver.ssl.key-alias=cert\nserver.ssl.key-password=password\nserver.ssl.enabled=true\nserver.port=8443  \nsecurity.require-ssl=true\n</code></pre>\n<p>Step 4 : Added the below &quot;SecurityConfig.java&quot; file in application.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.requiresChannel().anyRequest().requiresSecure();\n    }\n}\n</code></pre>\n<p>Step 5 : Added the below code in &quot;Application.java&quot;</p>\n<pre><code>@Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n        tomcat.addAdditionalTomcatConnectors(redirectConnector());\n        return tomcat;\n    }\nprivate Connector redirectConnector() {\n        Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\n        connector.setScheme(&quot;http&quot;);\n        connector.setPort(80);\n        connector.setSecure(false);\n        connector.setRedirectPort(443);\n        return connector;\n    }\n</code></pre>\n<p>After adding all the above code and configuration changes. I am getting the below exception when I start the spring boot application - <code>Caused by: org.springframework.boot.web.server.WebServerException: Could not load key store 'classpath:certificate.p12' Caused by: java.io.FileNotFoundException: class path resource [certificate.p12] cannot be resolved to URL because it does not exist</code>. Kindly help to fix this issue. Thanks in advance!</p>\n"},{"tags":["java","linux","docker","libreoffice"],"comments":[{"owner":{"account_id":5653378,"reputation":2379,"user_id":4473232,"display_name":"fly2matrix"},"score":0,"creation_date":1643984998,"post_id":70987897,"comment_id":125491275,"body_markdown":"Can you share your Dockerfile to reproduce above issue ?","body":"Can you share your Dockerfile to reproduce above issue ?"},{"owner":{"account_id":18913982,"reputation":1,"user_id":13799432,"display_name":"Владислав Иващенко"},"score":0,"creation_date":1644052666,"post_id":70987897,"comment_id":125506843,"body_markdown":"@fly2matrix I use docker-compose like this: my-container:\n    image: openjdk:8-alpine\n    working_dir: /opt/app\n    environment:\n      SPRING_PROFILES_ACTIVE: dev\n    volumes:\n      - ./my-container/:/opt/app:ro\n    command: java -jar -Xmx256m my-jar.jar\n    ports:\n      - 8080:8080","body":"@fly2matrix I use docker-compose like this: my-container:     image: openjdk:8-alpine     working_dir: /opt/app     environment:       SPRING_PROFILES_ACTIVE: dev     volumes:       - ./my-container/:/opt/app:ro     command: java -jar -Xmx256m my-jar.jar     ports:       - 8080:8080"}],"owner":{"account_id":18913982,"reputation":1,"user_id":13799432,"display_name":"Владислав Иващенко"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643984508,"creation_date":1643984508,"question_id":70987897,"body_markdown":"I have openjdk:8-alpine image, I have installed libreoffce with sh and ```apk add LibreOffice``` command and I try to run ```soffice --headless``` command, but I get:\r\n\r\n    javaldx: Could not find a Java Runtime Environment!\r\n    Warning: failed to read path from javaldx\r\nI&#39;ve checked java version:\r\n\r\n    openjdk version &quot;1.8.0_212&quot;\r\n    OpenJDK Runtime Environment (IcedTea 3.12.0) (Alpine 8.212.04-r0)\r\n    OpenJDK 64-Bit Server VM (build 25.212-b04, mixed mode)\r\nWhat&#39;s wrong?\r\n\r\n","title":"Libreoffice for openjdk docker container","body":"<p>I have openjdk:8-alpine image, I have installed libreoffce with sh and <code>apk add LibreOffice</code> command and I try to run <code>soffice --headless</code> command, but I get:</p>\n<pre><code>javaldx: Could not find a Java Runtime Environment!\nWarning: failed to read path from javaldx\n</code></pre>\n<p>I've checked java version:</p>\n<pre><code>openjdk version &quot;1.8.0_212&quot;\nOpenJDK Runtime Environment (IcedTea 3.12.0) (Alpine 8.212.04-r0)\nOpenJDK 64-Bit Server VM (build 25.212-b04, mixed mode)\n</code></pre>\n<p>What's wrong?</p>\n"},{"tags":["java","arrays","zip"],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643942758,"creation_date":1643942758,"answer_id":70980858,"question_id":70980857,"body_markdown":"I didn&#39;t realize I was using the same value for the target zip file and the file **inside** the zip file. \r\n\r\nModifying the original example I have this working: \r\n\r\n    import java.util.*;\r\n    import java.net.URI;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.*;\r\n    \r\n    public class ZipFSPUser {\r\n        public static void main(String [] args) throws Throwable {\r\n            Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n            env.put(&quot;create&quot;, &quot;true&quot;);\r\n            // locate file system by using the syntax\r\n            // defined in java.net.JarURLConnection\r\n            URI uri = URI.create(&quot;jar:file:/codeSamples/zipfs/zipfstest.zip&quot;);\r\n    \r\n            try (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\r\n                Path pathInZipfile = zipfs.getPath(&quot;/SomeTextFile.txt&quot;);\r\n                // copy a file into the zip file\r\n                Files.write(pathInZipfile, new byte[]{&#39;h&#39;, &#39;i&#39;} );\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nNow the `/codeSamples/zipfs/zipfstest.zip` file is created with `/SomeTextFile.txt` inside and when I unzip it the content is indeed `hi`\r\n","title":"How to zip a byte array using ZipFileSystem","body":"<p>I didn't realize I was using the same value for the target zip file and the file <strong>inside</strong> the zip file.</p>\n<p>Modifying the original example I have this working:</p>\n<pre><code>import java.util.*;\nimport java.net.URI;\nimport java.nio.file.Path;\nimport java.nio.file.*;\n\npublic class ZipFSPUser {\n    public static void main(String [] args) throws Throwable {\n        Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\n        env.put(&quot;create&quot;, &quot;true&quot;);\n        // locate file system by using the syntax\n        // defined in java.net.JarURLConnection\n        URI uri = URI.create(&quot;jar:file:/codeSamples/zipfs/zipfstest.zip&quot;);\n\n        try (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\n            Path pathInZipfile = zipfs.getPath(&quot;/SomeTextFile.txt&quot;);\n            // copy a file into the zip file\n            Files.write(pathInZipfile, new byte[]{'h', 'i'} );\n\n        }\n    }\n}\n</code></pre>\n<p>Now the <code>/codeSamples/zipfs/zipfstest.zip</code> file is created with <code>/SomeTextFile.txt</code> inside and when I unzip it the content is indeed <code>hi</code></p>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643984472,"creation_date":1643942758,"question_id":70980857,"body_markdown":"How to create a zip file with a byte array using `ZipFileSystem` ? \r\n\r\n\r\nThe example in the [Zip File System Provider][1] shows how to zip an existing one, but I don&#39;t seem to find a way to create one from in memory byte array.\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html","title":"How to zip a byte array using ZipFileSystem","body":"<p>How to create a zip file with a byte array using <code>ZipFileSystem</code> ?</p>\n<p>The example in the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">Zip File System Provider</a> shows how to zip an existing one, but I don't seem to find a way to create one from in memory byte array.</p>\n"},{"tags":["java","bitmap","imageview","picasso"],"answers":[{"tags":[],"owner":{"account_id":14815343,"reputation":1,"user_id":10699579,"display_name":"OmidAmiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643984284,"creation_date":1643748998,"answer_id":70947431,"question_id":70946742,"body_markdown":"I used **background** for imageView\r\nmust be used **src**\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/img&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:src=&quot;@drawable/img&quot;/&gt;\r\n    \r\n    ImageVew imageView = findViewById(R.id.activityGetMainColor_img);\r\n    BitmapDrawable drawable = (BitmapDrawable) imageView.getDrawable();\r\n    Bitmap bitmap = drawable.getBitmap();","title":"How to get bitmap in imageView OR picasso","body":"<p>I used <strong>background</strong> for imageView\nmust be used <strong>src</strong></p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/img&quot;\n    android:layout_width=&quot;200dp&quot;\n    android:layout_height=&quot;200dp&quot;\n    android:src=&quot;@drawable/img&quot;/&gt;\n\nImageVew imageView = findViewById(R.id.activityGetMainColor_img);\nBitmapDrawable drawable = (BitmapDrawable) imageView.getDrawable();\nBitmap bitmap = drawable.getBitmap();\n</code></pre>\n"}],"owner":{"account_id":14815343,"reputation":1,"user_id":10699579,"display_name":"OmidAmiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643984284,"creation_date":1643745319,"question_id":70946742,"body_markdown":"Why does **null** return?\r\n\r\n    Bitmap bitmap = ((BitmapDrawable)image.getDrawable()).getBitmap();\r\n\r\nIn addition, when I use picasso, it does not goto the **onBitmapLoaded** method\r\n\r\n     Picasso.get().load(&quot;url&quot;).into(new Target() {\r\n            @Override\r\n            public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\r\n             //Does not go to this method  \r\n            }\r\n    \r\n            @Override\r\n            public void onBitmapFailed(Exception e, Drawable errorDrawable) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onPrepareLoad(Drawable placeHolderDrawable) {\r\n                  //Coming this method\r\n            }\r\n        });\r\n\r\nwhat&#39;s the problem ? Why can&#39;t I get a bitmap from imageView?\r\nDo you have a solution?","title":"How to get bitmap in imageView OR picasso","body":"<p>Why does <strong>null</strong> return?</p>\n<pre><code>Bitmap bitmap = ((BitmapDrawable)image.getDrawable()).getBitmap();\n</code></pre>\n<p>In addition, when I use picasso, it does not goto the <strong>onBitmapLoaded</strong> method</p>\n<pre><code> Picasso.get().load(&quot;url&quot;).into(new Target() {\n        @Override\n        public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\n         //Does not go to this method  \n        }\n\n        @Override\n        public void onBitmapFailed(Exception e, Drawable errorDrawable) {\n\n        }\n\n        @Override\n        public void onPrepareLoad(Drawable placeHolderDrawable) {\n              //Coming this method\n        }\n    });\n</code></pre>\n<p>what's the problem ? Why can't I get a bitmap from imageView?\nDo you have a solution?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8373,"page":1619,"page_size":100}
