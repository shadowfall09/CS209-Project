{"items":[{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661330170,"creation_date":1661330170,"answer_id":73469952,"question_id":73446349,"body_markdown":"What you want here is an ad-hoc join and you can&#39;t fetch entities this way, you need a DTO.\r\n\r\nI think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(InventoryReceiptsHDR.class)\r\n    public interface InventoryReceiptsHDRDto {\r\n        @IdMapping\r\n        Integer getId();\r\n        Set&lt;InventoryReceiptsLineDto&gt; getInventoryReceiptsLineList();\r\n\r\n        @EntityView(InventoryReceiptsLine.class)\r\n        interface InventoryReceiptsLineDto {\r\n            @IdMapping(&quot;line_number&quot;)\r\n            Long getId();\r\n            Long getReceipt_number();\r\n            @Mapping(&quot;InvTran[sub_document_no = VIEW(receipt_number)]&quot;)\r\n            Set&lt;InvTranDto&gt; getInvTran();\r\n        }\r\n        @EntityView(InvTran.class)\r\n        interface InvTranDto {\r\n            @IdMapping(&quot;transaction_number&quot;)\r\n            Integer getId();\r\n            Integer getDocument_no();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`InventoryReceiptsHDRDto a = entityViewManager.find(entityManager, InventoryReceiptsHDRDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;InventoryReceiptsHDRDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"How can I do nested joins in hql","body":"<p>What you want here is an ad-hoc join and you can't fetch entities this way, you need a DTO.</p>\n<p>I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(InventoryReceiptsHDR.class)\npublic interface InventoryReceiptsHDRDto {\n    @IdMapping\n    Integer getId();\n    Set&lt;InventoryReceiptsLineDto&gt; getInventoryReceiptsLineList();\n\n    @EntityView(InventoryReceiptsLine.class)\n    interface InventoryReceiptsLineDto {\n        @IdMapping(&quot;line_number&quot;)\n        Long getId();\n        Long getReceipt_number();\n        @Mapping(&quot;InvTran[sub_document_no = VIEW(receipt_number)]&quot;)\n        Set&lt;InvTranDto&gt; getInvTran();\n    }\n    @EntityView(InvTran.class)\n    interface InvTranDto {\n        @IdMapping(&quot;transaction_number&quot;)\n        Integer getId();\n        Integer getDocument_no();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>InventoryReceiptsHDRDto a = entityViewManager.find(entityManager, InventoryReceiptsHDRDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;InventoryReceiptsHDRDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":17570231,"reputation":3,"user_id":12746084,"display_name":"comsma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661330170,"creation_date":1661176751,"question_id":73446349,"body_markdown":"I currently set my entities in Hibernate using OnetoMany joins within my entities. I need to pull InvTran documents nested within my InventoryReceiptsLine Result. My issue is that I don&#39;t want to add data to these tables this way and rather setup a custom query to pull this type of report. My goal is to get the following output where the invTran populates if there is an existing order assignment to InventoryReceiptLine.\r\n```\r\n{\r\n    &quot;receipt_number&quot;: 5000027,\r\n    &quot;items&quot;: [\r\n        {\r\n            &quot;receipt_number&quot;: 5000027,\r\n            &quot;inv_mast_uid&quot;: 22428,\r\n            &quot;qty_received&quot;: 100,\r\n            &quot;unit_of_measure&quot;: &quot;EA&quot;,\r\n            &quot;item_id&quot;: &quot;TRI620-104-706&quot;,\r\n            &quot;item_desc&quot;: &quot;HSS104 CLAMP 4-8/64\\&quot;-7\\&quot;&quot;,\r\n            &quot;invTran&quot;: []\r\n        },\r\n        {\r\n            &quot;receipt_number&quot;: 5000027,\r\n            &quot;inv_mast_uid&quot;: 13628,\r\n            &quot;qty_received&quot;: 200,\r\n            &quot;unit_of_measure&quot;: &quot;EA&quot;,\r\n            &quot;item_id&quot;: &quot;DIXHSS72&quot;,\r\n            &quot;item_desc&quot;: &quot;ALL STAINLESS WORMGEAR CLAMPS&quot;,\r\n            &quot;invTran&quot;: []\r\n        },\r\n        {\r\n            &quot;receipt_number&quot;: 5000027,\r\n            &quot;inv_mast_uid&quot;: 22412,\r\n            &quot;qty_received&quot;: 100,\r\n            &quot;unit_of_measure&quot;: &quot;EA&quot;,\r\n            &quot;item_id&quot;: &quot;TRI620-008-706&quot;,\r\n            &quot;item_desc&quot;: &quot;620-008 CLAMP (HAS 8)&quot;,\r\n            &quot;invTran&quot;: [\r\n                {\r\n                    &quot;transaction_number&quot;: 4245,\r\n                    &quot;document_no&quot;: 1000064,\r\n                    &quot;qty_allocated&quot;: 51,\r\n                    &quot;unit_of_measure&quot;: &quot;EA&quot;,\r\n                    &quot;inv_mast_uid&quot;: 22412,\r\n                    &quot;oe&quot;: null,\r\n                    &quot;receipt_id&quot;: 5000027\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nI tried setting up my repository as follows to eliminate the need for the OneToMany join on the InvTran object but I get the following error\r\n\r\n&quot;*Cannot read field &quot;value&quot; because &quot;s1&quot; is null [SELECT IHDR FROM com.emrsinc.patch.models.InventoryReceiptsHDR IHDR left join fetch InventoryReceiptsLine IRL on IRL.receipt_number = IHDR.receipt_number left join fetch InvTran on InvTran.sub_document_no = IRL.receipt_number WHERE IHDR.receipt_number = :receipt]*&quot;\r\n\r\nwhen building by query as \r\n```\r\n@Query(value = &quot;SELECT IHDR &quot; +\r\n            &quot;FROM InventoryReceiptsHDR IHDR &quot; +\r\n            &quot;left join fetch InventoryReceiptsLine IRL on IRL.receipt_number = IHDR.receipt_number &quot; +\r\n            &quot;left join fetch InvTran on InvTran.sub_document_no = IRL.receipt_number &quot; +\r\n            &quot;WHERE IHDR.receipt_number = :receipt&quot;)\r\n    InventoryReceiptsHDR getReceipt(@Param(&quot;receipt&quot;) int receipt);\r\n``` \r\n\r\nInventory ReceiptsHDR class\r\n```\r\n@Entity\r\n@Getter\r\n@Table(name = &quot;inventory_receipts_hdr&quot;)\r\npublic class InventoryReceiptsHDR implements Serializable {\r\n\r\n    @Id\r\n    private Integer receipt_number;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;receipt_number&quot;)\r\n    @JsonProperty(&quot;items&quot;)\r\n    private Set&lt;InventoryReceiptsLine&gt; inventoryReceiptsLineList;\r\n\r\n\r\n}\r\n```\r\n\r\nInventoryReceiptsLine class\r\n```\r\n@Entity\r\n@Getter\r\n@Table(name = &quot;inventory_receipts_line&quot;)\r\npublic class InventoryReceiptsLine implements Serializable {\r\n\r\n    @Id\r\n    @JsonBackReference\r\n    private Long line_number;\r\n\r\n    private Long receipt_number;\r\n    private Long inv_mast_uid;\r\n    private Long qty_received;\r\n    private String unit_of_measure;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;inv_mast_uid&quot;, insertable = false, updatable = false)\r\n    @JsonUnwrapped\r\n    private InvMast invMast;\r\n\r\n    @OneToMany\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;inv_mast_uid&quot;, referencedColumnName = &quot;inv_mast_uid&quot;),\r\n            @JoinColumn(name=&quot;sub_document_no&quot;, referencedColumnName = &quot;receipt_number&quot;)\r\n    })\r\n    private Set&lt;InvTran&gt; invTran;\r\n\r\n}\r\n```\r\nInvTran class\r\n```\r\n@Entity\r\n@Getter\r\n@Table(name = &quot;inv_tran&quot;)\r\npublic class InvTran implements Serializable {\r\n\r\n    @Id\r\n    private Integer transaction_number;\r\n    private Integer document_no;\r\n    private Integer qty_allocated;\r\n    private String unit_of_measure;\r\n    @JsonProperty(value = &quot;receipt_id&quot;)\r\n    private Integer sub_document_no;\r\n    private Integer inv_mast_uid;\r\n\r\n    @OneToOne()\r\n    @JoinColumn(name = &quot;transaction_number&quot;, referencedColumnName = &quot;order_no&quot;)\r\n    private OeHDR oe;\r\n\r\n}\r\n```\r\n\r\n","title":"How can I do nested joins in hql","body":"<p>I currently set my entities in Hibernate using OnetoMany joins within my entities. I need to pull InvTran documents nested within my InventoryReceiptsLine Result. My issue is that I don't want to add data to these tables this way and rather setup a custom query to pull this type of report. My goal is to get the following output where the invTran populates if there is an existing order assignment to InventoryReceiptLine.</p>\n<pre><code>{\n    &quot;receipt_number&quot;: 5000027,\n    &quot;items&quot;: [\n        {\n            &quot;receipt_number&quot;: 5000027,\n            &quot;inv_mast_uid&quot;: 22428,\n            &quot;qty_received&quot;: 100,\n            &quot;unit_of_measure&quot;: &quot;EA&quot;,\n            &quot;item_id&quot;: &quot;TRI620-104-706&quot;,\n            &quot;item_desc&quot;: &quot;HSS104 CLAMP 4-8/64\\&quot;-7\\&quot;&quot;,\n            &quot;invTran&quot;: []\n        },\n        {\n            &quot;receipt_number&quot;: 5000027,\n            &quot;inv_mast_uid&quot;: 13628,\n            &quot;qty_received&quot;: 200,\n            &quot;unit_of_measure&quot;: &quot;EA&quot;,\n            &quot;item_id&quot;: &quot;DIXHSS72&quot;,\n            &quot;item_desc&quot;: &quot;ALL STAINLESS WORMGEAR CLAMPS&quot;,\n            &quot;invTran&quot;: []\n        },\n        {\n            &quot;receipt_number&quot;: 5000027,\n            &quot;inv_mast_uid&quot;: 22412,\n            &quot;qty_received&quot;: 100,\n            &quot;unit_of_measure&quot;: &quot;EA&quot;,\n            &quot;item_id&quot;: &quot;TRI620-008-706&quot;,\n            &quot;item_desc&quot;: &quot;620-008 CLAMP (HAS 8)&quot;,\n            &quot;invTran&quot;: [\n                {\n                    &quot;transaction_number&quot;: 4245,\n                    &quot;document_no&quot;: 1000064,\n                    &quot;qty_allocated&quot;: 51,\n                    &quot;unit_of_measure&quot;: &quot;EA&quot;,\n                    &quot;inv_mast_uid&quot;: 22412,\n                    &quot;oe&quot;: null,\n                    &quot;receipt_id&quot;: 5000027\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>I tried setting up my repository as follows to eliminate the need for the OneToMany join on the InvTran object but I get the following error</p>\n<p>&quot;<em>Cannot read field &quot;value&quot; because &quot;s1&quot; is null [SELECT IHDR FROM com.emrsinc.patch.models.InventoryReceiptsHDR IHDR left join fetch InventoryReceiptsLine IRL on IRL.receipt_number = IHDR.receipt_number left join fetch InvTran on InvTran.sub_document_no = IRL.receipt_number WHERE IHDR.receipt_number = :receipt]</em>&quot;</p>\n<p>when building by query as</p>\n<pre><code>@Query(value = &quot;SELECT IHDR &quot; +\n            &quot;FROM InventoryReceiptsHDR IHDR &quot; +\n            &quot;left join fetch InventoryReceiptsLine IRL on IRL.receipt_number = IHDR.receipt_number &quot; +\n            &quot;left join fetch InvTran on InvTran.sub_document_no = IRL.receipt_number &quot; +\n            &quot;WHERE IHDR.receipt_number = :receipt&quot;)\n    InventoryReceiptsHDR getReceipt(@Param(&quot;receipt&quot;) int receipt);\n</code></pre>\n<p>Inventory ReceiptsHDR class</p>\n<pre><code>@Entity\n@Getter\n@Table(name = &quot;inventory_receipts_hdr&quot;)\npublic class InventoryReceiptsHDR implements Serializable {\n\n    @Id\n    private Integer receipt_number;\n\n    @OneToMany\n    @JoinColumn(name = &quot;receipt_number&quot;)\n    @JsonProperty(&quot;items&quot;)\n    private Set&lt;InventoryReceiptsLine&gt; inventoryReceiptsLineList;\n\n\n}\n</code></pre>\n<p>InventoryReceiptsLine class</p>\n<pre><code>@Entity\n@Getter\n@Table(name = &quot;inventory_receipts_line&quot;)\npublic class InventoryReceiptsLine implements Serializable {\n\n    @Id\n    @JsonBackReference\n    private Long line_number;\n\n    private Long receipt_number;\n    private Long inv_mast_uid;\n    private Long qty_received;\n    private String unit_of_measure;\n\n    @OneToOne\n    @JoinColumn(name = &quot;inv_mast_uid&quot;, insertable = false, updatable = false)\n    @JsonUnwrapped\n    private InvMast invMast;\n\n    @OneToMany\n    @JoinColumns({\n            @JoinColumn(name = &quot;inv_mast_uid&quot;, referencedColumnName = &quot;inv_mast_uid&quot;),\n            @JoinColumn(name=&quot;sub_document_no&quot;, referencedColumnName = &quot;receipt_number&quot;)\n    })\n    private Set&lt;InvTran&gt; invTran;\n\n}\n</code></pre>\n<p>InvTran class</p>\n<pre><code>@Entity\n@Getter\n@Table(name = &quot;inv_tran&quot;)\npublic class InvTran implements Serializable {\n\n    @Id\n    private Integer transaction_number;\n    private Integer document_no;\n    private Integer qty_allocated;\n    private String unit_of_measure;\n    @JsonProperty(value = &quot;receipt_id&quot;)\n    private Integer sub_document_no;\n    private Integer inv_mast_uid;\n\n    @OneToOne()\n    @JoinColumn(name = &quot;transaction_number&quot;, referencedColumnName = &quot;order_no&quot;)\n    private OeHDR oe;\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","javafx","maven-compiler-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1454615775,"post_id":35209975,"comment_id":58135977,"body_markdown":"You can only make two separate maven projects from it make the appropriate configuration for maven-compiler in the project and combine them via a parent (this is called multi module build). Apart from that within any IDE that does not work as well..only separated projects this will work.","body":"You can only make two separate maven projects from it make the appropriate configuration for maven-compiler in the project and combine them via a parent (this is called multi module build). Apart from that within any IDE that does not work as well..only separated projects this will work."},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1454619671,"post_id":35209975,"comment_id":58138232,"body_markdown":"You could try using profiles and run the build twice, once for each profile. Maybe not the most elegant. Modern CI such as Go should allow you to run the builds in parallel assuming enough nodes available.","body":"You could try using profiles and run the build twice, once for each profile. Maybe not the most elegant. Modern CI such as Go should allow you to run the builds in parallel assuming enough nodes available."},{"owner":{"account_id":4210255,"reputation":74,"user_id":4996756,"display_name":"John Miller"},"score":0,"creation_date":1454620485,"post_id":35209975,"comment_id":58138674,"body_markdown":"I appreciate the help!\n\nFor now am I just adding in the JVM argument when I do a production build:\n\nmvn clean package -Dmaven.compiler.source=1.6 -Dmaven.compiler.target=1.6\n\nand keeping my POM.xml in the configuration that suits my IDE","body":"I appreciate the help!  For now am I just adding in the JVM argument when I do a production build:  mvn clean package -Dmaven.compiler.source=1.6 -Dmaven.compiler.target=1.6  and keeping my POM.xml in the configuration that suits my IDE"},{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":0,"creation_date":1454668701,"post_id":35209975,"comment_id":58158012,"body_markdown":"As khmarbaise commented, the only way to go is to split the 1.6 and 1.8 codebases each into its own separate project.","body":"As khmarbaise commented, the only way to go is to split the 1.6 and 1.8 codebases each into its own separate project."}],"answers":[{"tags":[],"owner":{"account_id":1026421,"reputation":6737,"user_id":1035634,"display_name":"Ondrej Burkert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455730444,"creation_date":1455730444,"answer_id":35463755,"question_id":35209975,"body_markdown":"I recently learned about toolchains.xml. Maven has it even documented and supports it from 2.0.9! See [toolchains documentation][1]\r\n\r\nSo I added a toolchain.xml file to my ~/.m2/ folder with following content:\r\n\r\n&lt;!-- begin snippet: xml hide: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;toolchains xmlns=&quot;http://maven.apache.org/TOOLCHAINS/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/TOOLCHAINS/1.1.0 http://maven.apache.org/xsd/toolchains-1.1.0.xsd&quot;&gt;\r\n     &lt;!-- JDK toolchains --&gt;\r\n     &lt;toolchain&gt;\r\n       &lt;type&gt;jdk&lt;/type&gt;\r\n       &lt;provides&gt;\r\n         &lt;version&gt;1.8&lt;/version&gt;\r\n         &lt;vendor&gt;sun&lt;/vendor&gt;\r\n       &lt;/provides&gt;\r\n       &lt;configuration&gt;\r\n         &lt;jdkHome&gt;/opt/java8&lt;/jdkHome&gt;\r\n       &lt;/configuration&gt;\r\n     &lt;/toolchain&gt;\r\n     &lt;toolchain&gt;\r\n       &lt;type&gt;jdk&lt;/type&gt;\r\n       &lt;provides&gt;\r\n         &lt;version&gt;1.7&lt;/version&gt;\r\n         &lt;vendor&gt;sun&lt;/vendor&gt;\r\n       &lt;/provides&gt;\r\n       &lt;configuration&gt;\r\n         &lt;jdkHome&gt;/opt/java7&lt;/jdkHome&gt;\r\n       &lt;/configuration&gt;\r\n     &lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt allows you to define what different JDKs Maven can use to build the project irrespective of the JDK Maven runs with. Sort of like when you define JDK on project level in IDE. I used it when I needed to build another project with Java 7 while having Java 8 as a default.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-using-toolchains.html\r\n\r\nI guess this can solve your issue.","title":"Maven compiling with different JDK versions","body":"<p>I recently learned about toolchains.xml. Maven has it even documented and supports it from 2.0.9! See <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow\">toolchains documentation</a></p>\n\n<p>So I added a toolchain.xml file to my ~/.m2/ folder with following content:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;toolchains xmlns=\"http://maven.apache.org/TOOLCHAINS/1.1.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xsi:schemaLocation=\"http://maven.apache.org/TOOLCHAINS/1.1.0 http://maven.apache.org/xsd/toolchains-1.1.0.xsd\"&gt;\n &lt;!-- JDK toolchains --&gt;\n &lt;toolchain&gt;\n   &lt;type&gt;jdk&lt;/type&gt;\n   &lt;provides&gt;\n     &lt;version&gt;1.8&lt;/version&gt;\n     &lt;vendor&gt;sun&lt;/vendor&gt;\n   &lt;/provides&gt;\n   &lt;configuration&gt;\n     &lt;jdkHome&gt;/opt/java8&lt;/jdkHome&gt;\n   &lt;/configuration&gt;\n &lt;/toolchain&gt;\n &lt;toolchain&gt;\n   &lt;type&gt;jdk&lt;/type&gt;\n   &lt;provides&gt;\n     &lt;version&gt;1.7&lt;/version&gt;\n     &lt;vendor&gt;sun&lt;/vendor&gt;\n   &lt;/provides&gt;\n   &lt;configuration&gt;\n     &lt;jdkHome&gt;/opt/java7&lt;/jdkHome&gt;\n   &lt;/configuration&gt;\n &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n\n<p>It allows you to define what different JDKs Maven can use to build the project irrespective of the JDK Maven runs with. Sort of like when you define JDK on project level in IDE. I used it when I needed to build another project with Java 7 while having Java 8 as a default.</p>\n\n<p>I guess this can solve your issue.</p>\n"},{"tags":[],"owner":{"account_id":25153425,"reputation":41,"user_id":18998510,"display_name":"wromma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661330006,"creation_date":1661328538,"answer_id":73469596,"question_id":35209975,"body_markdown":"Maven profiles is the simplest and most effective one.\r\nYou can elect and run them from your IDE too.\r\n You design a profile for each different JDK you need. You put in each different JDK profile :\r\n- properties like source code target\r\n- dependencies that are specialised for that profile.\r\n```\r\nProject\r\n\t+properties\r\n\t+dependencies\r\n\t+Profiles\r\n\t\tProfile JDK8\r\n\t\t\t+jdk8-properties\r\n\t\t\t\tjdk.version\r\n\t\t\t\tmaven.compiler.source\r\n\t\t\t\tmaven.compiler.target\t\r\n\t\t\t+jdk8-dependencies\r\n\t\tProfile JDK11\r\n\t\t\t+jdk11-properties\r\n\t\t\t\tjdk.version\r\n\t\t\t\tmaven.compiler.source\r\n\t\t\t\tmaven.compiler.target\t\r\n\t\t\t+jdk11-dependencies\r\n```\r\n[Picture of maven profiles tree][1]\r\n\r\nAnd an example\r\n```\r\n&lt;project&gt;\r\n\t&lt;name&gt;x&lt;/name&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.210&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;profiles&gt;\r\n\t\t&lt;!-- different Java versions --&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;jdk8&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\r\n\t\t\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;5.6.10.Final&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;!-- needed if jakarta is used --&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;42.2.25&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t&lt;/profile&gt;\r\n\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;jdk11&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;jdk.version&gt;11&lt;/jdk.version&gt;\r\n\t\t\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;6.1.2.Final&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;42.4.2&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t&lt;junit-version&gt;4.13.2&lt;/junit-version&gt;\r\n\t&lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/56urK.png","title":"Maven compiling with different JDK versions","body":"<p>Maven profiles is the simplest and most effective one.\nYou can elect and run them from your IDE too.\nYou design a profile for each different JDK you need. You put in each different JDK profile :</p>\n<ul>\n<li>properties like source code target</li>\n<li>dependencies that are specialised for that profile.</li>\n</ul>\n<pre><code>Project\n    +properties\n    +dependencies\n    +Profiles\n        Profile JDK8\n            +jdk8-properties\n                jdk.version\n                maven.compiler.source\n                maven.compiler.target   \n            +jdk8-dependencies\n        Profile JDK11\n            +jdk11-properties\n                jdk.version\n                maven.compiler.source\n                maven.compiler.target   \n            +jdk11-dependencies\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/56urK.png\" rel=\"nofollow noreferrer\">Picture of maven profiles tree</a></p>\n<p>And an example</p>\n<pre><code>&lt;project&gt;\n    &lt;name&gt;x&lt;/name&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.210&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;!-- different Java versions --&gt;\n        &lt;profile&gt;\n            &lt;id&gt;jdk8&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\n                &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n                &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\n                    &lt;version&gt;5.6.10.Final&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;!-- needed if jakarta is used --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n                    &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n                    &lt;version&gt;2.0&lt;/version&gt;\n                    &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                    &lt;version&gt;42.2.25&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;jdk11&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;jdk.version&gt;11&lt;/jdk.version&gt;\n                &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n                &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n            &lt;/properties&gt;\n\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                    &lt;version&gt;6.1.2.Final&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                    &lt;version&gt;42.4.2&lt;/version&gt;\n                &lt;/dependency&gt;\n\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n    &lt;properties&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;junit-version&gt;4.13.2&lt;/junit-version&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":4210255,"reputation":74,"user_id":4996756,"display_name":"John Miller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661330006,"creation_date":1454614444,"question_id":35209975,"body_markdown":"My application is split between users on Java 1.6u45 and Java 1.8.  Our problem is that we cannot specify the project system library and have two different compiler settings for the code at the same time.\r\n\r\nProject Structure:\r\n\r\n    Project &gt;\r\n        &gt; src/main/java/com/us/javafx/... (Java 8 code)\r\n        &gt; src/main/java/com/us/... (Java 6 code)\r\n        &gt; src/main/resources/...\r\n\r\n\r\nOur POM.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   \t   &lt;groupId&gt;com.us&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;PROJECT&lt;/artifactId&gt;\r\n\t   &lt;version&gt;1.0.0&lt;/version&gt;\r\n  \t   &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t   &lt;name&gt;PROJECT&lt;/name&gt;\r\n\t   &lt;description&gt;DESCR&lt;/description&gt;\r\n\t\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Copy all dependencies to jars directory --&gt;\r\n              &lt;plugin&gt; \r\n                  &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt; \r\n                      &lt;executions&gt; \r\n                          &lt;execution&gt; \r\n                              &lt;phase&gt;package&lt;/phase&gt; \r\n                              &lt;goals&gt; \r\n                                  &lt;goal&gt;copy-dependencies&lt;/goal&gt; \r\n                              &lt;/goals&gt; \r\n                              &lt;configuration&gt; \r\n                                  &lt;outputDirectory&gt;${project.build.directory}/jars&lt;/outputDirectory&gt; \r\n                              &lt;/configuration&gt; \r\n                          &lt;/execution&gt; \r\n                      &lt;/executions&gt; \r\n              &lt;/plugin&gt;\r\n              \r\n                                    \r\n\t\t\t\t&lt;!-- Maven Compiler --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.3&lt;/version&gt;\t\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;!-- Necessary to avoid setting JRE on Maven project update! --&gt;\r\n                        &lt;!-- SEE PHOTO FOR WHY THIS IS HERE --&gt;\r\n\t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n        \t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\t\t\t\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;!-- Compile Java 6 directory --&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;java6&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;exclude&gt;com/us/javafx/**/*&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Non working attempt to set compiler version --&gt;\r\n\t\t\t\t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n        \t\t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;!-- Compile Java 8 directory --&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;java8&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include&gt;com/us/javafx/**/*&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Non working attempt to set compiler version --&gt;\r\n\t\t\t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n        \t\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;!-- Create JAR in jars folder --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t        &lt;version&gt;2.6&lt;/version&gt;\r\n\t\t\t        &lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/jars&lt;/outputDirectory&gt; \r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t      &lt;/plugin&gt;\r\n\t\t\t\t\t      \r\n\t\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t\r\n&lt;/project&gt;\r\n\r\nIf we tell the Maven compiler plugin to use Java 1.8, Java 1.6 users get the unsupported major minor version error.  Or we tell the Maven compiler plugin to use Java 1.6 but our Java 8 code will complain about errors when performing Right Click Project &gt; Maven &gt; Update Project... (which causes the screen shot below):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/myvS0.png\r\n\r\n\r\nIs there a way we can achieve both:\r\n\r\n1) Compile Java 6 and 8 code with their respective compilers\r\n\r\n2) Choose Java 8 as our project&#39;s JRE System Library","title":"Maven compiling with different JDK versions","body":"<p>My application is split between users on Java 1.6u45 and Java 1.8.  Our problem is that we cannot specify the project system library and have two different compiler settings for the code at the same time.</p>\n\n<p>Project Structure:</p>\n\n<pre><code>Project &gt;\n    &gt; src/main/java/com/us/javafx/... (Java 8 code)\n    &gt; src/main/java/com/us/... (Java 6 code)\n    &gt; src/main/resources/...\n</code></pre>\n\n<p>Our POM.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;groupId&gt;com.us&lt;/groupId&gt;\n   &lt;artifactId&gt;PROJECT&lt;/artifactId&gt;\n   &lt;version&gt;1.0.0&lt;/version&gt;\n   &lt;packaging&gt;jar&lt;/packaging&gt;\n   &lt;name&gt;PROJECT&lt;/name&gt;\n   &lt;description&gt;DESCR&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- Copy all dependencies to jars directory --&gt;\n          &lt;plugin&gt; \n              &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt; \n                  &lt;executions&gt; \n                      &lt;execution&gt; \n                          &lt;phase&gt;package&lt;/phase&gt; \n                          &lt;goals&gt; \n                              &lt;goal&gt;copy-dependencies&lt;/goal&gt; \n                          &lt;/goals&gt; \n                          &lt;configuration&gt; \n                              &lt;outputDirectory&gt;${project.build.directory}/jars&lt;/outputDirectory&gt; \n                          &lt;/configuration&gt; \n                      &lt;/execution&gt; \n                  &lt;/executions&gt; \n          &lt;/plugin&gt;\n\n\n            &lt;!-- Maven Compiler --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;  \n                &lt;configuration&gt;\n                    &lt;!-- Necessary to avoid setting JRE on Maven project update! --&gt;\n                    &lt;!-- SEE PHOTO FOR WHY THIS IS HERE --&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;            \n                &lt;executions&gt;\n\n                    &lt;!-- Compile Java 6 directory --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java6&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;com/us/javafx/**/*&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;!-- Non working attempt to set compiler version --&gt;\n                            &lt;source&gt;1.6&lt;/source&gt;\n                            &lt;target&gt;1.6&lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                    &lt;!-- Compile Java 8 directory --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java8&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;com/us/javafx/**/*&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;!-- Non working attempt to set compiler version --&gt;\n                            &lt;source&gt;1.8&lt;/source&gt;\n                            &lt;target&gt;1.8&lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Create JAR in jars folder --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/jars&lt;/outputDirectory&gt; \n                &lt;/configuration&gt;\n              &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>If we tell the Maven compiler plugin to use Java 1.8, Java 1.6 users get the unsupported major minor version error.  Or we tell the Maven compiler plugin to use Java 1.6 but our Java 8 code will complain about errors when performing Right Click Project > Maven > Update Project... (which causes the screen shot below):</p>\n\n<p><a href=\"https://i.stack.imgur.com/myvS0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/myvS0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there a way we can achieve both:</p>\n\n<p>1) Compile Java 6 and 8 code with their respective compilers</p>\n\n<p>2) Choose Java 8 as our project's JRE System Library</p>\n"},{"tags":["java","io","gpio","i2c","spi"],"owner":{"account_id":6943226,"reputation":231,"user_id":5328757,"accept_rate":86,"display_name":"Olgidos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661330005,"creation_date":1504543542,"question_id":46041323,"body_markdown":"at the moment I am working with a nvidia jetson tx1 and java and I become quit frustrated and confused.\r\nI just managed to get used with sysfs gpio control. As a next step I try to control I2C / SPI via Java. But this does not seem to work over sysfs only with ioctl which can only be accessed with c. \r\nSo I started looking around to find some libs for java that might help me.\r\nand I found:\r\n\r\n- jdk.dio\r\n- pi4j\r\n- diozero\r\n\r\nfor jdk.dia I find very little action and forums communication I can&#39;t even find a download somewhere.. maybe it too old?\r\n\r\npi4j seems to be only made for the rpi and needs an other library that&#39;s only for pi.\r\n\r\ndiozere is not official from oracle and needs many other dependencies too.\r\n\r\nDoes someone of you maybe tried to use java with I2C / SPI on non rPI chips and can give me some information? ","title":"JAVA I/O use GPIO I2C and SPI on different One chip systems","body":"<p>at the moment I am working with a nvidia jetson tx1 and java and I become quit frustrated and confused.\nI just managed to get used with sysfs gpio control. As a next step I try to control I2C / SPI via Java. But this does not seem to work over sysfs only with ioctl which can only be accessed with c.\nSo I started looking around to find some libs for java that might help me.\nand I found:</p>\n<ul>\n<li>jdk.dio</li>\n<li>pi4j</li>\n<li>diozero</li>\n</ul>\n<p>for jdk.dia I find very little action and forums communication I can't even find a download somewhere.. maybe it too old?</p>\n<p>pi4j seems to be only made for the rpi and needs an other library that's only for pi.</p>\n<p>diozere is not official from oracle and needs many other dependencies too.</p>\n<p>Does someone of you maybe tried to use java with I2C / SPI on non rPI chips and can give me some information?</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1661328386,"post_id":73468827,"comment_id":129742908,"body_markdown":"How are your locks defined? Please provide a [mre], because I guess using a `ReadWriteLock` is the wrong tool for the job, because as written you can have multiple readers concurrently (which is what a `ReadWriteLock` allows), but you shouldn&#39;t, especially not as your readers also *write* under a read lock.","body":"How are your locks defined? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, because I guess using a <code>ReadWriteLock</code> is the wrong tool for the job, because as written you can have multiple readers concurrently (which is what a <code>ReadWriteLock</code> allows), but you shouldn&#39;t, especially not as your readers also <i>write</i> under a read lock."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1661329994,"post_id":73468827,"comment_id":129743552,"body_markdown":"I&#39;d suggest replacing those locks with a single ReentrantLock, but I find your code very confusing. For example: why doesn&#39;t `serialEvent` take out a lock? Why does `handleEventData` check `graphInputStreamOpen`, while it actually uses `graphPacketOutputStream`. In addition, your use of `InputStream.available()` is suspicious, as you might not read a full message that way.","body":"I&#39;d suggest replacing those locks with a single ReentrantLock, but I find your code very confusing. For example: why doesn&#39;t <code>serialEvent</code> take out a lock? Why does <code>handleEventData</code> check <code>graphInputStreamOpen</code>, while it actually uses <code>graphPacketOutputStream</code>. In addition, your use of <code>InputStream.available()</code> is suspicious, as you might not read a full message that way."},{"owner":{"account_id":41263,"reputation":3490,"user_id":119855,"accept_rate":96,"display_name":"Georg Leber"},"score":0,"creation_date":1661330836,"post_id":73468827,"comment_id":129743874,"body_markdown":"I have tried to reduce the code to the lock problem, that is why some information is missing here. `serialEvent` does not take out a lock, because I need to analyze the data before and depending on the contents some more logic is used in the `handleEventData` method. \nThe check for `graphInputStreamOpen` was my first try of synchronization. I think this is obsolete as far as the locking is working correctly.","body":"I have tried to reduce the code to the lock problem, that is why some information is missing here. <code>serialEvent</code> does not take out a lock, because I need to analyze the data before and depending on the contents some more logic is used in the <code>handleEventData</code> method.  The check for <code>graphInputStreamOpen</code> was my first try of synchronization. I think this is obsolete as far as the locking is working correctly."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":2,"creation_date":1661335766,"post_id":73468827,"comment_id":129745874,"body_markdown":"To echo @MarkRotteveel, please provide a minimal reproducible example and it&#39;s not clear what you&#39;re trying to achieve with the read-write locks. Multiple concurrent readers are permitted and writing is exclusive (including against reading). But &#39;consuming&#39; reading (reading from a stream buffer) is in data terms a write to the stream (updating that the data is consumed). Hope that gets you somewhere!","body":"To echo @MarkRotteveel, please provide a minimal reproducible example and it&#39;s not clear what you&#39;re trying to achieve with the read-write locks. Multiple concurrent readers are permitted and writing is exclusive (including against reading). But &#39;consuming&#39; reading (reading from a stream buffer) is in data terms a write to the stream (updating that the data is consumed). Hope that gets you somewhere!"}],"owner":{"account_id":41263,"reputation":3490,"user_id":119855,"accept_rate":96,"display_name":"Georg Leber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661329854,"creation_date":1661324922,"question_id":73468827,"body_markdown":"I have to threads, that need to be synchronized. I have tried to use a ReadWriteLock but found that in some cases a deadlock happens.\r\n\r\nI have a class that is creating a connection to a serial port and registering an event listener to receive data:\r\n\r\n    public class AppSerialPort implements SerialPortEventListener, Closeable {\r\n      private final SerialPort serialPort;\r\n\r\n      private final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n\r\n      private final ReadWriteLock graphLock = new ReentrantReadWriteLock();\r\n      private final Lock graphWriteLock = graphLock.writeLock();\r\n      private final Lock graphReadLock = graphLock.readLock();\r\n\r\n      private PipedOutputStream graphPacketOutputStream;\r\n      private PipedInputStream graphPacketInputStream;\r\n      private boolean graphInputStreamOpen;\r\n      private boolean connectionClosed;\r\n  \r\n      public AppSerialPort(String portIdentifier) throws NoSuchPortException, PortInUseException, TooManyListenersException, UnsupportedCommOperationException, IOException {\r\n        CommPortIdentifier portId = CommPortIdentifier.getPortIdentifier(portIdentifier);\r\n        this.serialPort = (SerialPort) portId.open(&quot;MyApp&quot;, 0);\r\n \r\n        this.initListener();\r\n      }\r\n\r\n      public void serialEvent(SerialPortEvent event) {\r\n        try {\r\n          if (event.getEventType() == SerialPortEvent.DATA_AVAILABLE &amp;&amp; !connectionClosed) {\r\n            int available = serialPort.getInputStream().available();\r\n            if (available &gt; 0) {\r\n              byte[] buffer = new byte[available];\r\n              serialPort.getInputStream().read(buffer);\r\n              handleEventData(buffer);\r\n            }\r\n          }\r\n        } catch (IOException ex) {\r\n          /*ignore*/\r\n        }\r\n      }\r\n\r\n      private synchronized void handleEventData(final byte[] buffer) { \r\n        Callable&lt;Void&gt; eventHandlerTask = () -&gt; {\r\n          if (graphInputStreamOpen) {\r\n            graphReadLock.lock();\r\n\r\n            try {\r\n              graphPacketOutputStream.write(buffer);\r\n            } finally { \r\n              graphReadLock.unlock(); \r\n            }\r\n          }\r\n\r\n          return null;\r\n        };\r\n\r\n        Future&lt;Void&gt; future = executor.submit(eventHandlerTask);\r\n\r\n        try {\r\n          future.get();\r\n        } catch (InterruptedException | ExecutionException ex) {\r\n          serialPort.removeEventListener();\r\n        }\r\n      }\r\n\r\n      private void initListener() throws TooManyListenersException {\r\n        serialPort.addEventListener(this);\r\n        serialPort.notifyOnDataAvailable(true);\r\n      }\r\n\r\n      public InputStream openGraphInputStream() throws IOException {\r\n        graphPacketOutputStream = new PipedOutputStream();\r\n        graphPacketInputStream = new PipedInputStream(15000);\r\n\r\n        graphPacketInputStream.connect(graphPacketOutputStream);\r\n        graphInputStreamOpen = true;\r\n\r\n        return graphPacketInputStream;\r\n      }\r\n\r\n      public void closeGraphInputStream() throws IOException {\r\n        graphWriteLock.lock();\r\n\r\n        try {\r\n          graphInputStreamOpen = false;\r\n          graphPacketInputStream.close();\r\n          graphPacketOutputStream.close();\r\n        } finally { \r\n          graphWriteLock.unlock(); \r\n        }\r\n      }\r\n\r\n      @Override\r\n      public void close() throws IOException {\r\n        connectionClosed = true;\r\n        serialPort.removeEventListener();\r\n        serialPort.close();\r\n      }\r\n    }\r\n\r\n\r\nThe deadlock happens when a serial event is processed and the `graphReadLock` is waiting to lock, but at the same time close has been called and the `graphWriteLock` is also waiting to lock.\r\n\r\nI am using `PipedInputStream` and `PipedOutputStream` and when `closeGraphInputStream()` is called the inputstream might already be closed which leads to an IOException during handling of the serial event. \r\n\r\nHow can I synchronize the state of the inputstream correctly?","title":"Synchronizing two threads with locking","body":"<p>I have to threads, that need to be synchronized. I have tried to use a ReadWriteLock but found that in some cases a deadlock happens.</p>\n<p>I have a class that is creating a connection to a serial port and registering an event listener to receive data:</p>\n<pre><code>public class AppSerialPort implements SerialPortEventListener, Closeable {\n  private final SerialPort serialPort;\n\n  private final ExecutorService executor = Executors.newSingleThreadExecutor();\n\n  private final ReadWriteLock graphLock = new ReentrantReadWriteLock();\n  private final Lock graphWriteLock = graphLock.writeLock();\n  private final Lock graphReadLock = graphLock.readLock();\n\n  private PipedOutputStream graphPacketOutputStream;\n  private PipedInputStream graphPacketInputStream;\n  private boolean graphInputStreamOpen;\n  private boolean connectionClosed;\n\n  public AppSerialPort(String portIdentifier) throws NoSuchPortException, PortInUseException, TooManyListenersException, UnsupportedCommOperationException, IOException {\n    CommPortIdentifier portId = CommPortIdentifier.getPortIdentifier(portIdentifier);\n    this.serialPort = (SerialPort) portId.open(&quot;MyApp&quot;, 0);\n\n    this.initListener();\n  }\n\n  public void serialEvent(SerialPortEvent event) {\n    try {\n      if (event.getEventType() == SerialPortEvent.DATA_AVAILABLE &amp;&amp; !connectionClosed) {\n        int available = serialPort.getInputStream().available();\n        if (available &gt; 0) {\n          byte[] buffer = new byte[available];\n          serialPort.getInputStream().read(buffer);\n          handleEventData(buffer);\n        }\n      }\n    } catch (IOException ex) {\n      /*ignore*/\n    }\n  }\n\n  private synchronized void handleEventData(final byte[] buffer) { \n    Callable&lt;Void&gt; eventHandlerTask = () -&gt; {\n      if (graphInputStreamOpen) {\n        graphReadLock.lock();\n\n        try {\n          graphPacketOutputStream.write(buffer);\n        } finally { \n          graphReadLock.unlock(); \n        }\n      }\n\n      return null;\n    };\n\n    Future&lt;Void&gt; future = executor.submit(eventHandlerTask);\n\n    try {\n      future.get();\n    } catch (InterruptedException | ExecutionException ex) {\n      serialPort.removeEventListener();\n    }\n  }\n\n  private void initListener() throws TooManyListenersException {\n    serialPort.addEventListener(this);\n    serialPort.notifyOnDataAvailable(true);\n  }\n\n  public InputStream openGraphInputStream() throws IOException {\n    graphPacketOutputStream = new PipedOutputStream();\n    graphPacketInputStream = new PipedInputStream(15000);\n\n    graphPacketInputStream.connect(graphPacketOutputStream);\n    graphInputStreamOpen = true;\n\n    return graphPacketInputStream;\n  }\n\n  public void closeGraphInputStream() throws IOException {\n    graphWriteLock.lock();\n\n    try {\n      graphInputStreamOpen = false;\n      graphPacketInputStream.close();\n      graphPacketOutputStream.close();\n    } finally { \n      graphWriteLock.unlock(); \n    }\n  }\n\n  @Override\n  public void close() throws IOException {\n    connectionClosed = true;\n    serialPort.removeEventListener();\n    serialPort.close();\n  }\n}\n</code></pre>\n<p>The deadlock happens when a serial event is processed and the <code>graphReadLock</code> is waiting to lock, but at the same time close has been called and the <code>graphWriteLock</code> is also waiting to lock.</p>\n<p>I am using <code>PipedInputStream</code> and <code>PipedOutputStream</code> and when <code>closeGraphInputStream()</code> is called the inputstream might already be closed which leads to an IOException during handling of the serial event.</p>\n<p>How can I synchronize the state of the inputstream correctly?</p>\n"},{"tags":["java","spring-boot","cors"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1661267611,"post_id":73460940,"comment_id":129729010,"body_markdown":"Your title mentions OAuth, but I can&#39;t see any resource-server configuration. Are you trying to setup OAuth authentication (withe Beaarer token) or username/password authentication (like the `setAllowCredentials(true)` could indicate)?","body":"Your title mentions OAuth, but I can&#39;t see any resource-server configuration. Are you trying to setup OAuth authentication (withe Beaarer token) or username/password authentication (like the <code>setAllowCredentials(true)</code> could indicate)?"},{"owner":{"account_id":9832992,"reputation":155,"user_id":7284173,"display_name":"Felix H"},"score":0,"creation_date":1661318580,"post_id":73460940,"comment_id":129740078,"body_markdown":"Yes, I am trying to setup OAuth with Bearer tokens. The authentication server generates the JWT token based on provided username and password and returns it. The token is used to access the resource server which is an independant application (not a spring boot application). When accessing the resource server, I do not have any issues with CORS or better I fixed those. I only habe problems when quering the token from the authentication server.\nI am not very experienced with spring boot, so if I have made a mistake in the configuration, it is probably due to that.","body":"Yes, I am trying to setup OAuth with Bearer tokens. The authentication server generates the JWT token based on provided username and password and returns it. The token is used to access the resource server which is an independant application (not a spring boot application). When accessing the resource server, I do not have any issues with CORS or better I fixed those. I only habe problems when quering the token from the authentication server. I am not very experienced with spring boot, so if I have made a mistake in the configuration, it is probably due to that."}],"answers":[{"tags":[],"owner":{"account_id":9832992,"reputation":155,"user_id":7284173,"display_name":"Felix H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661329544,"creation_date":1661327440,"answer_id":73469353,"question_id":73460940,"body_markdown":"I found a solution to my problem.\r\n\r\nWhat I was missing was the annotation \r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n\r\nHowever, when I added it to my class WebSecurityConfiguration, I got the error \r\n\r\n&gt; InsufficientAuthenticationException: There is no client authentication.\r\n\r\nIn the end I removed the corsConfigurationSource Bean and the cors() method from the HttpSecurity and added a CorsFilter class. To this new class I added the @Order(Ordered.HIGHEST_PRECEDENCE) annotation. Additionally, I added addFilterBefore to the HttpSecurity.\r\n\r\n    @Configuration\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n\t    @Autowired\r\n        private CustomAuthenticationProvider customAuthenticationProvider;\r\n        \r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Override\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean();\r\n    \t}\r\n\t    \r\n    \t\r\n    \t@Bean\r\n\t    public CorsFilter corsFilter() {\r\n\t    \treturn new CorsFilter();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(HttpSecurity http) throws Exception {\r\n\t\t    http.addFilterBefore(corsFilter(), SessionManagementFilter.class).csrf().disable().exceptionHandling().and()\t.authorizeRequests().requestMatchers(CorsUtils::isPreFlightRequest).permitAll().antMatchers(&quot;/**&quot;).authenticated().and().httpBasic()\r\n\t\t    .authenticationEntryPoint(new CustomAuthenticationEntryPoint());\r\n\t    }\r\n    \r\n    \t\r\n\t    @Override\r\n\t    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t    \tauth.authenticationProvider(customAuthenticationProvider);\r\n\t    }\r\n\t\r\n\t    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n\t    private class CorsFilter implements Filter //javax.servlet.Filter \r\n        {\r\n    \r\n\t        @Override\r\n\t        public void init(FilterConfig filterConfig) throws ServletException {\r\n    \r\n\t        }\r\n    \r\n\t        @Override\r\n\t        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n\t            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n    \r\n\t            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n\t            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,POST,DELETE,PUT,OPTIONS&quot;);\r\n\t            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type,Authorization&quot;);\r\n\t            response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n\t            response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\r\n\t            if (&quot;OPTIONS&quot;.equalsIgnoreCase(((HttpServletRequest) servletRequest).getMethod())) {\r\n\t                response.setStatus(HttpServletResponse.SC_OK);\r\n\t            } else {\r\n\t                filterChain.doFilter(servletRequest, response);\r\n\t            }\r\n\t    \t    \r\n\t        }\r\n\r\n\t        @Override\r\n\t        public void destroy() {\r\n    \r\n\t        }\r\n\t    }\r\n    }\r\n\r\n","title":"Spring Boot OAuth CORS Problem - Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status","body":"<p>I found a solution to my problem.</p>\n<p>What I was missing was the annotation</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n</code></pre>\n<p>However, when I added it to my class WebSecurityConfiguration, I got the error</p>\n<blockquote>\n<p>InsufficientAuthenticationException: There is no client authentication.</p>\n</blockquote>\n<p>In the end I removed the corsConfigurationSource Bean and the cors() method from the HttpSecurity and added a CorsFilter class. To this new class I added the @Order(Ordered.HIGHEST_PRECEDENCE) annotation. Additionally, I added addFilterBefore to the HttpSecurity.</p>\n<pre><code>@Configuration\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private CustomAuthenticationProvider customAuthenticationProvider;\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n    \n    \n    @Bean\n    public CorsFilter corsFilter() {\n        return new CorsFilter();\n    }\n    \n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.addFilterBefore(corsFilter(), SessionManagementFilter.class).csrf().disable().exceptionHandling().and()    .authorizeRequests().requestMatchers(CorsUtils::isPreFlightRequest).permitAll().antMatchers(&quot;/**&quot;).authenticated().and().httpBasic()\n        .authenticationEntryPoint(new CustomAuthenticationEntryPoint());\n    }\n\n    \n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(customAuthenticationProvider);\n    }\n\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    private class CorsFilter implements Filter //javax.servlet.Filter \n    {\n\n        @Override\n        public void init(FilterConfig filterConfig) throws ServletException {\n\n        }\n\n        @Override\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\n\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,POST,DELETE,PUT,OPTIONS&quot;);\n            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type,Authorization&quot;);\n            response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n            response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\n            if (&quot;OPTIONS&quot;.equalsIgnoreCase(((HttpServletRequest) servletRequest).getMethod())) {\n                response.setStatus(HttpServletResponse.SC_OK);\n            } else {\n                filterChain.doFilter(servletRequest, response);\n            }\n            \n        }\n\n        @Override\n        public void destroy() {\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9832992,"reputation":155,"user_id":7284173,"display_name":"Felix H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73469353,"answer_count":1,"score":-1,"last_activity_date":1661329544,"creation_date":1661266559,"question_id":73460940,"body_markdown":"I have problems integrating the CORS filter into my spring boot (2.3) OAuth application. I read the posts of a lot of other people with the same problem but could not find a solution for mine.\r\nWhen accessing my application via Postman I do not have any issues getting the authentication key. However, when using a HTML file from my local system where I use an ajax query (using jQuery) to access the application I am getting the follwing error:\r\n\r\n&gt; Access to XMLHttpRequest at &#39;__my sercice__&#39; from origin &#39;null&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.\r\n\r\nMy code looks like this:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.CorsConfigurationSource;\r\n    import org.springframework.web.cors.CorsUtils;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n    \r\n    import de.mtc.procon.authserver.provider.CustomAuthenticationProvider;\r\n\r\n    @Configuration\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n\t    @Autowired\r\n        private CustomAuthenticationProvider customAuthenticationProvider;\r\n        \r\n\t    @Bean\r\n\t    public PasswordEncoder passwordEncoder() {\r\n\t\t    return new BCryptPasswordEncoder();\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    @Override\r\n\t    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t    return super.authenticationManagerBean();\r\n\t    }\r\n\t\r\n\t\r\n    //\t@Bean\r\n    //\tpublic CorsFilter corsFilter() {\r\n    //\t\treturn new MyCorsFilter(getMyCorsConfigurationSource());\r\n    //\t}\r\n\t\r\n\t    @Override\r\n\t    public void configure(HttpSecurity http) throws Exception {\r\n\t\t    System.out.println(&quot;---------------------- Configure authentication server -----------------------&quot;);\r\n            http.cors().and().authorizeRequests().requestMatchers(CorsUtils::isPreFlightRequest).permitAll().antMatchers(&quot;/**&quot;).authenticated().and().httpBasic().and().csrf().disable().exceptionHandling()\r\n\t\t        .authenticationEntryPoint(new CustomAuthenticationEntryPoint());\r\n\t    }\r\n\r\n\t\r\n\t    @Override\r\n\t    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t    auth.authenticationProvider(customAuthenticationProvider);\r\n\t    }\r\n\t\r\n\t    @Qualifier\r\n\t    @Primary\r\n\t    @Bean\r\n        public CorsConfigurationSource corsConfigurationSource() {\r\n\t\t    System.out.println(&quot;Generating cors configuration source...&quot;);\r\n            return getMyCorsConfigurationSource();\r\n        }\r\n\t\r\n\t    private CorsConfigurationSource getMyCorsConfigurationSource() {\r\n\t\t    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\t    source.registerCorsConfiguration(&quot;/**&quot;, getMyCorsConfiguration());\r\n\t\t    return source;\r\n\t    }\r\n\t\r\n\t    private CorsConfiguration getMyCorsConfiguration() {\r\n\t\t    CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n            configuration.setAllowedHeaders(Arrays.asList(&quot;authorization&quot;, &quot;content-type&quot;, &quot;x-auth-token&quot;));\r\n            configuration.setAllowCredentials(true);\r\n            configuration.setMaxAge(Duration.ofDays(1));\r\n            configuration.setExposedHeaders(Arrays.asList(&quot;x-auth-token&quot;));\r\n            return configuration;\r\n\t    }\r\n    }\r\n\r\nCould I be using classes from wrong packages? I appreciate your help.","title":"Spring Boot OAuth CORS Problem - Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status","body":"<p>I have problems integrating the CORS filter into my spring boot (2.3) OAuth application. I read the posts of a lot of other people with the same problem but could not find a solution for mine.\nWhen accessing my application via Postman I do not have any issues getting the authentication key. However, when using a HTML file from my local system where I use an ajax query (using jQuery) to access the application I am getting the follwing error:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at '<strong>my sercice</strong>' from origin 'null' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.</p>\n</blockquote>\n<p>My code looks like this:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.CorsUtils;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport de.mtc.procon.authserver.provider.CustomAuthenticationProvider;\n\n@Configuration\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private CustomAuthenticationProvider customAuthenticationProvider;\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n\n//  @Bean\n//  public CorsFilter corsFilter() {\n//      return new MyCorsFilter(getMyCorsConfigurationSource());\n//  }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        System.out.println(&quot;---------------------- Configure authentication server -----------------------&quot;);\n        http.cors().and().authorizeRequests().requestMatchers(CorsUtils::isPreFlightRequest).permitAll().antMatchers(&quot;/**&quot;).authenticated().and().httpBasic().and().csrf().disable().exceptionHandling()\n            .authenticationEntryPoint(new CustomAuthenticationEntryPoint());\n    }\n\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(customAuthenticationProvider);\n    }\n\n    @Qualifier\n    @Primary\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        System.out.println(&quot;Generating cors configuration source...&quot;);\n        return getMyCorsConfigurationSource();\n    }\n\n    private CorsConfigurationSource getMyCorsConfigurationSource() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, getMyCorsConfiguration());\n        return source;\n    }\n\n    private CorsConfiguration getMyCorsConfiguration() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;authorization&quot;, &quot;content-type&quot;, &quot;x-auth-token&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setMaxAge(Duration.ofDays(1));\n        configuration.setExposedHeaders(Arrays.asList(&quot;x-auth-token&quot;));\n        return configuration;\n    }\n}\n</code></pre>\n<p>Could I be using classes from wrong packages? I appreciate your help.</p>\n"},{"tags":["javascript","java","urlencode"],"comments":[{"owner":{"account_id":8695054,"reputation":96,"user_id":6506750,"display_name":"user6506750"},"score":0,"creation_date":1645587881,"post_id":71230685,"comment_id":125909178,"body_markdown":"I&#39;m not sure there is an exact equivalent in Java. You could try implementing the algorithm from the ECMAScript spec (https://tc39.es/ecma262/multipage/global-object.html#sec-decodeuri-encodeduri), but it would be a bit of work.","body":"I&#39;m not sure there is an exact equivalent in Java. You could try implementing the algorithm from the ECMAScript spec (<a href=\"https://tc39.es/ecma262/multipage/global-object.html#sec-decodeuri-encodeduri\" rel=\"nofollow noreferrer\">tc39.es/ecma262/multipage/&hellip;</a>), but it would be a bit of work."},{"owner":{"account_id":8695054,"reputation":96,"user_id":6506750,"display_name":"user6506750"},"score":0,"creation_date":1645587953,"post_id":71230685,"comment_id":125909190,"body_markdown":"If you are generating the encoded URI in JavaScript yourself, try switching to encodeURIComponent. That should return an encoded string that URLDecoder can decode.","body":"If you are generating the encoded URI in JavaScript yourself, try switching to encodeURIComponent. That should return an encoded string that URLDecoder can decode."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645588686,"post_id":71230685,"comment_id":125909318,"body_markdown":"I think you are trying to get a string to do things that a string alone cannot do.  A string alone cannot distinguish between a `?` thats a part of a URIs path and a `?` that separates the path from the query.  Thats what the [java.net.URI](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html) class is for.","body":"I think you are trying to get a string to do things that a string alone cannot do.  A string alone cannot distinguish between a <code>?</code> thats a part of a URIs path and a <code>?</code> that separates the path from the query.  Thats what the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html\" rel=\"nofollow noreferrer\">java.net.URI</a> class is for."}],"answers":[{"tags":[],"owner":{"account_id":19833403,"reputation":571,"user_id":14527497,"display_name":"dangerousmanleesanghyeon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645756544,"creation_date":1645583668,"answer_id":71230704,"question_id":71230685,"body_markdown":"\r\n```java\r\nString url = &quot;/demo/%E4%B8%AD%E6%96%87/test%3Fa%3Da&quot;;\r\nStringJoiner decoded = new StringJoiner(&quot;/&quot;);\r\n\r\nString[] splittedUrl = url.split(&quot;/&quot;);\r\nfor (String item : splittedUrl) {\r\n    if (!item.startsWith(&quot;%&quot;)) {\r\n        decoded.add(item);\r\n    } else {\r\n        decoded.add(URLDecoder.decode(item, StandardCharsets.UTF_8));\r\n    }\r\n}\r\nSystem.out.println(decoded); // /demo//test%3Fa%3Da\r\n```","title":"decodeURI in java","body":"<pre class=\"lang-java prettyprint-override\"><code>String url = &quot;/demo/%E4%B8%AD%E6%96%87/test%3Fa%3Da&quot;;\nStringJoiner decoded = new StringJoiner(&quot;/&quot;);\n\nString[] splittedUrl = url.split(&quot;/&quot;);\nfor (String item : splittedUrl) {\n    if (!item.startsWith(&quot;%&quot;)) {\n        decoded.add(item);\n    } else {\n        decoded.add(URLDecoder.decode(item, StandardCharsets.UTF_8));\n    }\n}\nSystem.out.println(decoded); // /demo//test%3Fa%3Da\n</code></pre>\n"}],"owner":{"account_id":11762801,"reputation":89,"user_id":8608346,"display_name":"xiaoxiyao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661329487,"creation_date":1645583463,"question_id":71230685,"body_markdown":"I want to decode this uri in java:\r\n\r\n```java\r\nURLDecoder.decode(&quot;/demo/%E4%B8%AD%E6%96%87/test%3Fa%3Da&quot;, UtilConst.UTF8);\r\n// return &quot;/demo//test?a=a&quot;\r\n```\r\nThis is not my expected result, since it change the uri structureI want to get the same result like JavaScript `decodeURI` method:\r\n```javascript\r\ndecodeURI(&#39;/demo/%E4%B8%AD%E6%96%87/test%3Fa%3Da&#39;);\r\n// return &quot;/demo//test%3Fa%3Da&quot;\r\n```\r\nHow can I do this?\r\n","title":"decodeURI in java","body":"<p>I want to decode this uri in java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URLDecoder.decode(&quot;/demo/%E4%B8%AD%E6%96%87/test%3Fa%3Da&quot;, UtilConst.UTF8);\n// return &quot;/demo//test?a=a&quot;\n</code></pre>\n<p>This is not my expected result, since it change the uri structureI want to get the same result like JavaScript <code>decodeURI</code> method:</p>\n<pre class=\"lang-js prettyprint-override\"><code>decodeURI('/demo/%E4%B8%AD%E6%96%87/test%3Fa%3Da');\n// return &quot;/demo//test%3Fa%3Da&quot;\n</code></pre>\n<p>How can I do this?</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661325874,"post_id":73468966,"comment_id":129741969,"body_markdown":"I would have thought that you need some content (maybe .*) between the opening and closing brackets no?","body":"I would have thought that you need some content (maybe .*) between the opening and closing brackets no?"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661326003,"post_id":73468966,"comment_id":129742017,"body_markdown":"Split by &quot;\\\\},\\\\{&quot; and add the removed braced afterwards.","body":"Split by &quot;\\\\},\\\\{&quot; and add the removed braced afterwards."},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":1,"creation_date":1661326296,"post_id":73468966,"comment_id":129742131,"body_markdown":"If you need to do more with the result, it&#39;s perhaps better to enclose it in brackets &quot;[&quot; + str + &quot;]&quot; and use a JSON library.","body":"If you need to do more with the result, it&#39;s perhaps better to enclose it in brackets &quot;[&quot; + str + &quot;]&quot; and use a JSON library."},{"owner":{"account_id":9755602,"reputation":450,"user_id":7232472,"accept_rate":56,"display_name":"Sachin HR"},"score":0,"creation_date":1661326423,"post_id":73468966,"comment_id":129742164,"body_markdown":"Is there a way i can split in one go with curly braces?","body":"Is there a way i can split in one go with curly braces?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1661326528,"post_id":73468966,"comment_id":129742193,"body_markdown":"Use a lookahead and lookbehind","body":"Use a lookahead and lookbehind"}],"answers":[{"tags":[],"owner":{"account_id":19263225,"reputation":48,"user_id":14078658,"display_name":"Suvam Banerjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661328182,"creation_date":1661327848,"answer_id":73469457,"question_id":73468966,"body_markdown":"I am assuming ur string could be \r\n\r\n\tString str = &quot;{\\&quot;name\\&quot;:\\&quot;SachText_singleLineText\\&quot;,\\&quot;value\\&quot;:\\&quot;text project field\\&quot;},{\\&quot;name\\&quot;:\\&quot;SachSlistSingle_singleSelect\\&quot;,\\&quot;value\\&quot;:\\&quot;s1\\&quot;},{\\&quot;name\\&quot;:\\&quot;SachYesno_boolean\\&quot;,\\&quot;value\\&quot;:[\\&quot;1\\&quot;]}&quot;;\r\n    \r\n\r\nIf you need a String in between braces please use regex [{}]\r\nif you need a split string with braces you can prepend &quot;{&quot; and append &quot;}&quot;\r\n\r\n     String[] arrOfStr = str.split(&quot;[{}]&quot;);\r\n            for(String a: arrOfStr) {\r\n                System.out.println(  a );\r\n            }\r\n\r\nO/p: &quot;name&quot;:&quot;SachText_singleLineText&quot;,&quot;value&quot;:&quot;text project field&quot;\r\n,\r\n&quot;name&quot;:&quot;SachSlistSingle_singleSelect&quot;,&quot;value&quot;:&quot;s1&quot;\r\n,\r\n&quot;name&quot;:&quot;SachYesno_boolean&quot;,&quot;value&quot;:[&quot;1&quot;] ","title":"Split String based on {} open and curly braces java","body":"<p>I am assuming ur string could be</p>\n<pre><code>String str = &quot;{\\&quot;name\\&quot;:\\&quot;SachText_singleLineText\\&quot;,\\&quot;value\\&quot;:\\&quot;text project field\\&quot;},{\\&quot;name\\&quot;:\\&quot;SachSlistSingle_singleSelect\\&quot;,\\&quot;value\\&quot;:\\&quot;s1\\&quot;},{\\&quot;name\\&quot;:\\&quot;SachYesno_boolean\\&quot;,\\&quot;value\\&quot;:[\\&quot;1\\&quot;]}&quot;;\n</code></pre>\n<p>If you need a String in between braces please use regex [{}]\nif you need a split string with braces you can prepend &quot;{&quot; and append &quot;}&quot;</p>\n<pre><code> String[] arrOfStr = str.split(&quot;[{}]&quot;);\n        for(String a: arrOfStr) {\n            System.out.println(  a );\n        }\n</code></pre>\n<p>O/p: &quot;name&quot;:&quot;SachText_singleLineText&quot;,&quot;value&quot;:&quot;text project field&quot;\n,\n&quot;name&quot;:&quot;SachSlistSingle_singleSelect&quot;,&quot;value&quot;:&quot;s1&quot;\n,\n&quot;name&quot;:&quot;SachYesno_boolean&quot;,&quot;value&quot;:[&quot;1&quot;]</p>\n"},{"tags":[],"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661328098,"creation_date":1661328098,"answer_id":73469506,"question_id":73468966,"body_markdown":"you can try with Pattern Matcher.\r\n \r\n\r\n        String key = &quot;(\\\\{.*?\\\\})&quot;;\r\n        String str = //your string.;\r\n        Pattern pattern = Pattern.compile(key);\r\n        Matcher matcher = pattern.matcher(str);\r\n        if (matcher.find())\r\n        {\r\n            System.out.println(matcher.group(0));\r\n        }","title":"Split String based on {} open and curly braces java","body":"<p>you can try with Pattern Matcher.</p>\n<pre><code>    String key = &quot;(\\\\{.*?\\\\})&quot;;\n    String str = //your string.;\n    Pattern pattern = Pattern.compile(key);\n    Matcher matcher = pattern.matcher(str);\n    if (matcher.find())\n    {\n        System.out.println(matcher.group(0));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661329157,"creation_date":1661329157,"answer_id":73469735,"question_id":73468966,"body_markdown":"Using regex is going to be very hard to get it working. Consider this string:\r\n\r\n    {&quot;name&quot;:&quot;{SachText},{singleLineText}&quot;,&quot;value&quot;:&quot;text project field&quot;},{&quot;name&quot;:&quot;{SachSlist},{Single_singleSelect}&quot;,&quot;value&quot;:&quot;s1&quot;}\r\n\r\nThere are substrings of &quot;},{&quot; inside quotes, making them part of the name itself, so you don&#39;t want to split those.\r\n\r\nYour strings look like elements of a JSON array. Therefore, put them between &quot;[&quot; and &quot;]&quot; and use a JSON parser, such as Jackson, GSon or Moshi, and it will parse them properly.","title":"Split String based on {} open and curly braces java","body":"<p>Using regex is going to be very hard to get it working. Consider this string:</p>\n<pre><code>{&quot;name&quot;:&quot;{SachText},{singleLineText}&quot;,&quot;value&quot;:&quot;text project field&quot;},{&quot;name&quot;:&quot;{SachSlist},{Single_singleSelect}&quot;,&quot;value&quot;:&quot;s1&quot;}\n</code></pre>\n<p>There are substrings of &quot;},{&quot; inside quotes, making them part of the name itself, so you don't want to split those.</p>\n<p>Your strings look like elements of a JSON array. Therefore, put them between &quot;[&quot; and &quot;]&quot; and use a JSON parser, such as Jackson, GSon or Moshi, and it will parse them properly.</p>\n"},{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661329232,"creation_date":1661329232,"answer_id":73469745,"question_id":73468966,"body_markdown":"With `str` taken from Suvarn Banarjee and the hint from Mark Rotteveel:\r\n\r\n```\r\nString str = &quot;{\\&quot;name\\&quot;:\\&quot;SachText_singleLineText\\&quot;,\\&quot;value\\&quot;:\\&quot;text project field\\&quot;},{\\&quot;name\\&quot;:\\&quot;SachSlistSingle_singleSelect\\&quot;,\\&quot;value\\&quot;:\\&quot;s1\\&quot;},{\\&quot;name\\&quot;:\\&quot;SachYesno_boolean\\&quot;,\\&quot;value\\&quot;:[\\&quot;1\\&quot;]}&quot;;\r\nString[] parts = str.split(&quot;(?&lt;=\\\\}),(?=\\\\{)&quot;);\r\n```\r\n\r\nBut again, this looks like JSON to me, so it&#39;s usually best to use a JSON library, since I&#39;m pretty sure you&#39;re not done with just splitting.","title":"Split String based on {} open and curly braces java","body":"<p>With <code>str</code> taken from Suvarn Banarjee and the hint from Mark Rotteveel:</p>\n<pre><code>String str = &quot;{\\&quot;name\\&quot;:\\&quot;SachText_singleLineText\\&quot;,\\&quot;value\\&quot;:\\&quot;text project field\\&quot;},{\\&quot;name\\&quot;:\\&quot;SachSlistSingle_singleSelect\\&quot;,\\&quot;value\\&quot;:\\&quot;s1\\&quot;},{\\&quot;name\\&quot;:\\&quot;SachYesno_boolean\\&quot;,\\&quot;value\\&quot;:[\\&quot;1\\&quot;]}&quot;;\nString[] parts = str.split(&quot;(?&lt;=\\\\}),(?=\\\\{)&quot;);\n</code></pre>\n<p>But again, this looks like JSON to me, so it's usually best to use a JSON library, since I'm pretty sure you're not done with just splitting.</p>\n"}],"owner":{"account_id":9755602,"reputation":450,"user_id":7232472,"accept_rate":56,"display_name":"Sachin HR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1661329232,"creation_date":1661325676,"question_id":73468966,"body_markdown":"I have a String like this\r\n\r\n    String str = {&quot;name&quot;:&quot;SachText_singleLineText&quot;,&quot;value&quot;:&quot;text project field&quot;},{&quot;name&quot;:&quot;SachSlistSingle_singleSelect&quot;,&quot;value&quot;:&quot;s1&quot;},{&quot;name&quot;:&quot;SachYesno_boolean&quot;,&quot;value&quot;:[&quot;1&quot;]}\r\n\r\nI need to split it based on curly braces like this\r\n\r\n    [0] = {&quot;name&quot;:&quot;SachText_singleLineText&quot;,&quot;value&quot;:&quot;text project field&quot;}\r\n    [1] = {&quot;name&quot;:&quot;SachSlistSingle_singleSelect&quot;,&quot;value&quot;:&quot;s1&quot;}\r\n    [2] = {&quot;name&quot;:&quot;SachYesno_boolean&quot;,&quot;value&quot;:[&quot;1&quot;]}\r\n\r\nCurrently, this is what I am trying to do\r\n\r\n    String[] projectfieldsValueArray = str.split(&quot;\\\\{\\\\{,\\\\}\\\\}&quot;);\r\n\r\nI tried with several combinations from net but still not able to split to my requirement. Need help on proper regex need to be used in this scenario.\r\n        ","title":"Split String based on {} open and curly braces java","body":"<p>I have a String like this</p>\n<pre><code>String str = {&quot;name&quot;:&quot;SachText_singleLineText&quot;,&quot;value&quot;:&quot;text project field&quot;},{&quot;name&quot;:&quot;SachSlistSingle_singleSelect&quot;,&quot;value&quot;:&quot;s1&quot;},{&quot;name&quot;:&quot;SachYesno_boolean&quot;,&quot;value&quot;:[&quot;1&quot;]}\n</code></pre>\n<p>I need to split it based on curly braces like this</p>\n<pre><code>[0] = {&quot;name&quot;:&quot;SachText_singleLineText&quot;,&quot;value&quot;:&quot;text project field&quot;}\n[1] = {&quot;name&quot;:&quot;SachSlistSingle_singleSelect&quot;,&quot;value&quot;:&quot;s1&quot;}\n[2] = {&quot;name&quot;:&quot;SachYesno_boolean&quot;,&quot;value&quot;:[&quot;1&quot;]}\n</code></pre>\n<p>Currently, this is what I am trying to do</p>\n<pre><code>String[] projectfieldsValueArray = str.split(&quot;\\\\{\\\\{,\\\\}\\\\}&quot;);\n</code></pre>\n<p>I tried with several combinations from net but still not able to split to my requirement. Need help on proper regex need to be used in this scenario.</p>\n"},{"tags":["java","mongodb","web-applications"],"answers":[{"tags":[],"owner":{"account_id":7991695,"reputation":1399,"user_id":6029368,"accept_rate":40,"display_name":"radhakrishnan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1487929293,"creation_date":1487928538,"answer_id":42435046,"question_id":42433341,"body_markdown":"For Mongodb-java driver:\r\n \r\nUse updateOne method\r\n            To update single Document within the collection based on the filter,\r\n\r\n\r\n             collection.updateOne(searchQuery, updateQuery );\r\n\r\n\r\nUse updateMany method,\r\n             To Update multiple Documents within the collection based on the filter , \r\n\r\n\r\n             collection.updateMany(searchQuery, updateQuery );\r\nExample,\r\n          \r\n            MongoClient client = new MongoClient(&quot;localhost&quot;,27017);\r\n\t        MongoDatabase db = client.getDatabase(&quot;TestDB&quot;);\r\n\t        MongoCollection&lt;Document&gt; collection = db.getCollection(&quot;test&quot;);\r\n            Document query = new Document();\r\n            query.append(&quot;_id&quot;,&quot;test&quot;);\r\n            Document setData = new Document();\r\n            setData.append(&quot;status&quot;, 1).append(&quot;instagram.likes&quot;, 125);\r\n            Document update = new Document();\r\n            update.append(&quot;$set&quot;, setData);\r\n            //To update single Document  \r\n            collection.updateOne(query, update);","title":"How to update MongoDb database in Java?","body":"<p>For Mongodb-java driver:</p>\n\n<p>Use updateOne method\n            To update single Document within the collection based on the filter,</p>\n\n<pre><code>         collection.updateOne(searchQuery, updateQuery );\n</code></pre>\n\n<p>Use updateMany method,\n             To Update multiple Documents within the collection based on the filter , </p>\n\n<pre><code>         collection.updateMany(searchQuery, updateQuery );\n</code></pre>\n\n<p>Example,</p>\n\n<pre><code>        MongoClient client = new MongoClient(\"localhost\",27017);\n        MongoDatabase db = client.getDatabase(\"TestDB\");\n        MongoCollection&lt;Document&gt; collection = db.getCollection(\"test\");\n        Document query = new Document();\n        query.append(\"_id\",\"test\");\n        Document setData = new Document();\n        setData.append(\"status\", 1).append(\"instagram.likes\", 125);\n        Document update = new Document();\n        update.append(\"$set\", setData);\n        //To update single Document  \n        collection.updateOne(query, update);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661328771,"creation_date":1661326156,"answer_id":73469063,"question_id":42433341,"body_markdown":"so i wrote this function \r\n\r\n     public void SetValueFromDB(String collectionName, String id, String id_value, String fieldOfChange, Object changToValue) {\r\n            MongoCollection&lt;Document&gt; collection = database.getCollection(collectionName);\r\n            BasicDBObject searchQuery = new BasicDBObject();\r\n                searchQuery.append(id, id_value);\r\n                Document setData = new Document();\r\n                setData.append(fieldOfChange, changToValue);\r\n                Document updateQuery = new Document();\r\n                updateQuery.append(&quot;$set&quot;, setData);\r\n                collection.updateOne(searchQuery, updateQuery);\r\n        }\r\n\r\n\r\nso for use it \r\n\r\n    db.SetValueFromDB(&quot;MyCollection&quot;,&quot;_id&quot;,&quot;test&quot;,&quot;likes&quot;,150);\r\n\r\n","title":"How to update MongoDb database in Java?","body":"<p>so i wrote this function</p>\n<pre><code> public void SetValueFromDB(String collectionName, String id, String id_value, String fieldOfChange, Object changToValue) {\n        MongoCollection&lt;Document&gt; collection = database.getCollection(collectionName);\n        BasicDBObject searchQuery = new BasicDBObject();\n            searchQuery.append(id, id_value);\n            Document setData = new Document();\n            setData.append(fieldOfChange, changToValue);\n            Document updateQuery = new Document();\n            updateQuery.append(&quot;$set&quot;, setData);\n            collection.updateOne(searchQuery, updateQuery);\n    }\n</code></pre>\n<p>so for use it</p>\n<pre><code>db.SetValueFromDB(&quot;MyCollection&quot;,&quot;_id&quot;,&quot;test&quot;,&quot;likes&quot;,150);\n</code></pre>\n"}],"owner":{"account_id":10246097,"reputation":81,"user_id":7561844,"accept_rate":83,"display_name":"John D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17298,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42435046,"answer_count":2,"score":4,"last_activity_date":1661328771,"creation_date":1487922786,"question_id":42433341,"body_markdown":"I&#39;m newbie with the MongoDb, there are a lot of examples about updating a collection in 2.x versions but I couldn&#39;t find any source about 3.x versions.\r\n\r\nJAVA CODE:\r\n\r\n\r\n\r\n        MongoClient mongoClient = new MongoClient(&quot;localhost&quot;,27017);\r\n        MongoDatabase database = mongoClient.getDatabase(&quot;dbTest&quot;);\r\n        MongoCollection&lt;Document&gt; collection =    database.getCollection(&quot;colTest&quot;);\r\n        Document updateQuery = new Document();\r\n        updateQuery.append(&quot;$set&quot;,\r\n\t    new Document().append(&quot;_id&quot;, &quot;test&quot;));\r\n        Document searchQuery = new Document();\r\n        searchQuery.append(&quot;likes&quot;, &quot;125&quot;);\r\n        collection.updateMulti(searchQuery, updateQuery); //.updateMulti gives an error.\r\n\r\nThere isn&#39;t any updateMulti in 3.x so how can I check the id of the database and change one of the datas?\r\n\r\nExample MongoDB: \r\n\r\n   \r\n\r\n     { \r\n    &quot;_id&quot; : &quot;test&quot;,\r\n       &quot;status&quot; : 2,\r\n       &quot;time&quot; : null,\r\n       &quot;instagram&quot; :{\r\n             &quot;description&quot; : &quot;database&quot;,\r\n             &quot;likes&quot; : 100,\r\n             &quot;url&quot; : &quot;http://www.instagram.com/&quot;,\r\n             &quot;by&quot;, &quot;users&quot;\r\n       },\r\n       &quot;batchid&quot; : 15000234\r\n    }\r\n\r\nExpected Output:\r\n\r\n    { \r\n       &quot;_id&quot; : &quot;test&quot;,\r\n       &quot;status&quot; : 1,\r\n       &quot;time&quot; : null,\r\n       &quot;instagram&quot; :{\r\n             &quot;description&quot; : &quot;database&quot;,\r\n             &quot;likes&quot; : 125,\r\n             &quot;url&quot; : &quot;http://www.instagram.com/&quot;,\r\n             &quot;by&quot;, &quot;users&quot;\r\n       },\r\n       &quot;batchid&quot; : 15000234\r\n    }","title":"How to update MongoDb database in Java?","body":"<p>I'm newbie with the MongoDb, there are a lot of examples about updating a collection in 2.x versions but I couldn't find any source about 3.x versions.</p>\n\n<p>JAVA CODE:</p>\n\n<pre><code>    MongoClient mongoClient = new MongoClient(\"localhost\",27017);\n    MongoDatabase database = mongoClient.getDatabase(\"dbTest\");\n    MongoCollection&lt;Document&gt; collection =    database.getCollection(\"colTest\");\n    Document updateQuery = new Document();\n    updateQuery.append(\"$set\",\n    new Document().append(\"_id\", \"test\"));\n    Document searchQuery = new Document();\n    searchQuery.append(\"likes\", \"125\");\n    collection.updateMulti(searchQuery, updateQuery); //.updateMulti gives an error.\n</code></pre>\n\n<p>There isn't any updateMulti in 3.x so how can I check the id of the database and change one of the datas?</p>\n\n<p>Example MongoDB: </p>\n\n<pre><code> { \n\"_id\" : \"test\",\n   \"status\" : 2,\n   \"time\" : null,\n   \"instagram\" :{\n         \"description\" : \"database\",\n         \"likes\" : 100,\n         \"url\" : \"http://www.instagram.com/\",\n         \"by\", \"users\"\n   },\n   \"batchid\" : 15000234\n}\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>{ \n   \"_id\" : \"test\",\n   \"status\" : 1,\n   \"time\" : null,\n   \"instagram\" :{\n         \"description\" : \"database\",\n         \"likes\" : 125,\n         \"url\" : \"http://www.instagram.com/\",\n         \"by\", \"users\"\n   },\n   \"batchid\" : 15000234\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","nullpointerexception"],"comments":[{"owner":{"account_id":13445288,"reputation":318,"user_id":9701439,"display_name":"TylerQITX"},"score":0,"creation_date":1661329039,"post_id":73469583,"comment_id":129743151,"body_markdown":"@Override\npublic int getItemCount() {\n    return datalist == null ? 0 : datalist.size();\n}","body":"@Override public int getItemCount() {     return datalist == null ? 0 : datalist.size(); }"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1661329740,"post_id":73469583,"comment_id":129743445,"body_markdown":"hey it is not working","body":"hey it is not working"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661328579,"answer_count":0,"score":0,"last_activity_date":1661328689,"creation_date":1661328506,"question_id":73469583,"body_markdown":"I am trying to set the image slider in the recycler-view but it is throwing a null pointer exception. I have set the textviews and they are showing to the recyclerview but slider is not showing and throwing error.  I am using dependency to use image-slider. I am new to android and I have no idea how can i solve this please guide me.\r\n\r\n    public class RecyclerviewAdapter extends RecyclerView.Adapter&lt;RecyclerviewAdapter.Viewholder&gt; {\r\n\r\n    ArrayList&lt;RecyclerviewModel&gt; datalist;\r\n    Context context;\r\n    final List&lt;SlideModel&gt; imagelist = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public RecyclerviewAdapter(ArrayList&lt;RecyclerviewModel&gt; datalist, Context context) {\r\n        this.datalist = datalist;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View viewholder = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_item, parent , false);\r\n\r\n        return new Viewholder(viewholder);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull Viewholder holder, int position)\r\n    {\r\n\r\n\r\n        holder.name.setText(datalist.get(position).getName());\r\n        holder.email.setText(datalist.get(position).getEmail());\r\n        holder.desc.setText(datalist.get(position).getDesc());\r\n        holder.book.setText(datalist.get(position).getBook());\r\n\r\n        //code for set images in image slider from firebase firestore\r\n        imagelist.add(new SlideModel(datalist.get(position).getImage().toString(), ScaleTypes.FIT));\r\n        holder.imageSlider.setImageList(imagelist, ScaleTypes.FIT);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return datalist.size();\r\n    }\r\n\r\n    public class Viewholder extends RecyclerView.ViewHolder{\r\n\r\n\r\n        TextView name, email, desc, book;\r\n        ImageSlider imageSlider;\r\n        public Viewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            name = itemView.findViewById(R.id.text_name);\r\n            email = itemView.findViewById(R.id.text_email);\r\n            desc = itemView.findViewById(R.id.text_desc);\r\n            book = itemView.findViewById(R.id.text_book);\r\n            imageSlider = itemView.findViewById(R.id.imageView3);\r\n        }\r\n    }}\r\n\r\n\r\n ","title":"Null Pointer exception is showing on the recyclerview","body":"<p>I am trying to set the image slider in the recycler-view but it is throwing a null pointer exception. I have set the textviews and they are showing to the recyclerview but slider is not showing and throwing error.  I am using dependency to use image-slider. I am new to android and I have no idea how can i solve this please guide me.</p>\n<pre><code>public class RecyclerviewAdapter extends RecyclerView.Adapter&lt;RecyclerviewAdapter.Viewholder&gt; {\n\nArrayList&lt;RecyclerviewModel&gt; datalist;\nContext context;\nfinal List&lt;SlideModel&gt; imagelist = new ArrayList&lt;&gt;();\n\n\npublic RecyclerviewAdapter(ArrayList&lt;RecyclerviewModel&gt; datalist, Context context) {\n    this.datalist = datalist;\n    this.context = context;\n}\n\n@NonNull\n@Override\npublic Viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View viewholder = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_item, parent , false);\n\n    return new Viewholder(viewholder);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull Viewholder holder, int position)\n{\n\n\n    holder.name.setText(datalist.get(position).getName());\n    holder.email.setText(datalist.get(position).getEmail());\n    holder.desc.setText(datalist.get(position).getDesc());\n    holder.book.setText(datalist.get(position).getBook());\n\n    //code for set images in image slider from firebase firestore\n    imagelist.add(new SlideModel(datalist.get(position).getImage().toString(), ScaleTypes.FIT));\n    holder.imageSlider.setImageList(imagelist, ScaleTypes.FIT);\n\n}\n\n\n@Override\npublic int getItemCount() {\n    return datalist.size();\n}\n\npublic class Viewholder extends RecyclerView.ViewHolder{\n\n\n    TextView name, email, desc, book;\n    ImageSlider imageSlider;\n    public Viewholder(@NonNull View itemView) {\n        super(itemView);\n\n        name = itemView.findViewById(R.id.text_name);\n        email = itemView.findViewById(R.id.text_email);\n        desc = itemView.findViewById(R.id.text_desc);\n        book = itemView.findViewById(R.id.text_book);\n        imageSlider = itemView.findViewById(R.id.imageView3);\n    }\n}}\n</code></pre>\n"},{"tags":["java","agents-jade"],"answers":[{"tags":[],"owner":{"account_id":15476638,"reputation":86,"user_id":11165127,"display_name":"Hc."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661328686,"creation_date":1661328686,"answer_id":73469634,"question_id":35320621,"body_markdown":"Its too late for you but someone might be looking for it :)\r\n\r\nIn your receiving agent, instead of:\r\n` Data1 received_data = (Data1)data1.getContentObject();  `\r\n\r\nJust do :\r\n` BusData received_data = (BusData)data1.getContentObject();  `\r\n\r\nYou can then access your *received_data* public variables (The cast allows the system to understand what is the serialized object&#39;s class to trigger the unserialization).\r\n\r\nTip : You should use variables names that correspond to their content.\r\n* data --&gt; messageTemplate\r\n* data1 --&gt; receivedMessage","title":"How to extract fields from message object content (Jade)","body":"<p>Its too late for you but someone might be looking for it :)</p>\n<p>In your receiving agent, instead of:\n<code>Data1 received_data = (Data1)data1.getContentObject(); </code></p>\n<p>Just do :\n<code>BusData received_data = (BusData)data1.getContentObject(); </code></p>\n<p>You can then access your <em>received_data</em> public variables (The cast allows the system to understand what is the serialized object's class to trigger the unserialization).</p>\n<p>Tip : You should use variables names that correspond to their content.</p>\n<ul>\n<li>data --&gt; messageTemplate</li>\n<li>data1 --&gt; receivedMessage</li>\n</ul>\n"}],"owner":{"account_id":7072810,"reputation":85,"user_id":5413869,"display_name":"Przem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661328686,"creation_date":1455121671,"question_id":35320621,"body_markdown":"I have some problem with object type in JADE. In order to send object message to another agent I am using a method ACLMessage.setContentObject. However when I want to extract particular values/fields from the received message problem is arising. \r\n\r\nAdditionaly in sending agent I have created class to make possible sending message with object content:\r\n\r\n    class BusData implements java.io.Serializable\r\n    {\r\n    public Double current;\r\n    public Double power1;\r\n    public Double power2;\r\n    public Double voltage;\r\n    }\r\n\r\nReceiving agent has following code (part):\r\n\r\n    data = MessageTemplate.MatchConversationId(&quot;measure&quot;);\r\n    ACLMessage data1 = receive(data); //receiving data with defined template\r\n\t\t\t\t\r\n\t\tif (data1!=null) {\t\t\r\n\t\t\t\t\t  \r\n\t\t\t\tfor (int i = 0; i &lt; Agents.length; ++i) {\t\t\t\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tData1 received_data = (Data1)data1.getContentObject();  \r\n\t\t\t\t\t\t} catch (UnreadableException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();}\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  //Serializable so = (Serializable)data1;\r\n\t\t\t\t\t\t  //System.out.println(Agents[i].getName()); //from whom received \t\t\t  \r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  if (data1!=null) { \r\n\t\t\t\t\t\t\t  System.out.println(getLocalName()+ &quot; Info from &quot; + data1.getSender().getName()); //from whom received\t  \r\n\t\t\t\t\t\t  }\r\n\t\t\t\t}\t\t\t\t\t  \r\n\t    }\r\n\r\nShould I add in receiving agent similar class, e.g. BusData1 with similar variables, like in sending agent in order to extract message content? I am quite new in Java so I am asking for understanding.\r\n\r\nEvery hint will be helpful.\r\nRegards","title":"How to extract fields from message object content (Jade)","body":"<p>I have some problem with object type in JADE. In order to send object message to another agent I am using a method ACLMessage.setContentObject. However when I want to extract particular values/fields from the received message problem is arising. </p>\n\n<p>Additionaly in sending agent I have created class to make possible sending message with object content:</p>\n\n<pre><code>class BusData implements java.io.Serializable\n{\npublic Double current;\npublic Double power1;\npublic Double power2;\npublic Double voltage;\n}\n</code></pre>\n\n<p>Receiving agent has following code (part):</p>\n\n<pre><code>data = MessageTemplate.MatchConversationId(\"measure\");\nACLMessage data1 = receive(data); //receiving data with defined template\n\n    if (data1!=null) {      \n\n            for (int i = 0; i &lt; Agents.length; ++i) {           \n\n                try {\n                    Data1 received_data = (Data1)data1.getContentObject();  \n                    } catch (UnreadableException e) {\n                        e.printStackTrace();}\n\n                      //Serializable so = (Serializable)data1;\n                      //System.out.println(Agents[i].getName()); //from whom received             \n\n                      if (data1!=null) { \n                          System.out.println(getLocalName()+ \" Info from \" + data1.getSender().getName()); //from whom received   \n                      }\n            }                     \n    }\n</code></pre>\n\n<p>Should I add in receiving agent similar class, e.g. BusData1 with similar variables, like in sending agent in order to extract message content? I am quite new in Java so I am asking for understanding.</p>\n\n<p>Every hint will be helpful.\nRegards</p>\n"},{"tags":["java","gradle","apple-m1","openjdk-17"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1652362968,"post_id":72215813,"comment_id":127591948,"body_markdown":"Do you have multiple JVMs installed on your machine; an x86 one and a native ARM one? Perhaps one command is picking up one JVM, and the other command the other. What does `./gradlew --version` print?","body":"Do you have multiple JVMs installed on your machine; an x86 one and a native ARM one? Perhaps one command is picking up one JVM, and the other command the other. What does <code>.&#47;gradlew --version</code> print?"},{"owner":{"account_id":194740,"reputation":899,"user_id":437260,"accept_rate":85,"display_name":"Antonin"},"score":0,"creation_date":1652366394,"post_id":72215813,"comment_id":127593398,"body_markdown":"Indeed this is it, I have mutliple JVMs installed and the default one is a x86-64 running with rosetta. Did change it to the arm-v8 version installed by homebrew and it solves my issue. Thanks a lot Jesper","body":"Indeed this is it, I have mutliple JVMs installed and the default one is a x86-64 running with rosetta. Did change it to the arm-v8 version installed by homebrew and it solves my issue. Thanks a lot Jesper"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1652374602,"post_id":72215813,"comment_id":127596611,"body_markdown":"@Antonin Please written, post, and accept an Answer to your own Question. Doing so marks the page as resolved, and more easily helps posterity. Include [this link](https://en.wikipedia.org/wiki/Rosetta_%28software%29#Rosetta_2) to Wikipedia.","body":"@Antonin Please written, post, and accept an Answer to your own Question. Doing so marks the page as resolved, and more easily helps posterity. Include <a href=\"https://en.wikipedia.org/wiki/Rosetta_%28software%29#Rosetta_2\" rel=\"nofollow noreferrer\">this link</a> to Wikipedia."},{"owner":{"account_id":194740,"reputation":899,"user_id":437260,"accept_rate":85,"display_name":"Antonin"},"score":0,"creation_date":1652445405,"post_id":72215813,"comment_id":127614257,"body_markdown":"Alright @BasilBourque  wanted to do so anyways, not found the time to yet.","body":"Alright @BasilBourque  wanted to do so anyways, not found the time to yet."}],"answers":[{"tags":[],"owner":{"account_id":194740,"reputation":899,"user_id":437260,"accept_rate":85,"display_name":"Antonin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661327895,"creation_date":1652446877,"answer_id":72230028,"question_id":72215813,"body_markdown":"Thanks to @Jesper&#39;s comment here is a solution to that issue.\r\n\r\n# TL;DR\r\n\r\nList the JVMs on your system and verify that you have at lease one (arm64) JVM.\r\n\r\n```\r\n  ~ /usr/libexec/java_home -V\r\nMatching Java Virtual Machines (3):\r\n    18.0.1.1 (arm64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 18.0.1.1&quot; /Users/you/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1/Contents/Home\r\n    18.0.1.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 18.0.1.1&quot; /Users/you/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1-1/Contents/Home\r\n    18.0.1 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 18.0.1&quot; /opt/homebrew/Cellar/openjdk/18.0.1/libexec/openjdk.jdk/Contents/Home\r\n/Users/you/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1/Contents/Home\r\n```\r\n\r\n[Setup your JAVA_HOME environment variable to an arm64 JVM][1] : \r\n```\r\nexport JAVA_HOME=`/usr/libexec/java_home -a arm64`\r\n```\r\n\r\n# What happened in my case :\r\n\r\nThis is caused by multiple JVMs installed on the system. Some JVMs are compiled for arm64 and run natively, and some other are compiled for x86_64 and run in a [&quot;translator&quot; (rosetta)][2].\r\n\r\n\r\n\r\n - Oracle x86_64 JDK installed by intelliJ IDEA.\r\n - OpenJDK arm64 installed by Homebrew as a dependency of gradle.\r\n\r\nDid not follow the &quot;Caveat&quot; of openJDK :\r\n````\r\n==&gt; Caveats\r\nFor the system Java wrappers to find this JDK, symlink it with\r\n  sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\r\n````\r\n\r\nSo the homebrew installed gradle was using the homebrew installed JVM. But gradlew scripts were using the default system JVM (the Oracle x86_64 JVM). \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-macos\r\n  [2]: https://en.wikipedia.org/wiki/Rosetta_%28software%29","title":"gradle wrapper reports x86-64 architecture instead of arm-v8 architecture on Mac m1","body":"<p>Thanks to @Jesper's comment here is a solution to that issue.</p>\n<h1>TL;DR</h1>\n<p>List the JVMs on your system and verify that you have at lease one (arm64) JVM.</p>\n<pre><code>  ~ /usr/libexec/java_home -V\nMatching Java Virtual Machines (3):\n    18.0.1.1 (arm64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 18.0.1.1&quot; /Users/you/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1/Contents/Home\n    18.0.1.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 18.0.1.1&quot; /Users/you/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1-1/Contents/Home\n    18.0.1 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 18.0.1&quot; /opt/homebrew/Cellar/openjdk/18.0.1/libexec/openjdk.jdk/Contents/Home\n/Users/you/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1/Contents/Home\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-macos\">Setup your JAVA_HOME environment variable to an arm64 JVM</a> :</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -a arm64`\n</code></pre>\n<h1>What happened in my case :</h1>\n<p>This is caused by multiple JVMs installed on the system. Some JVMs are compiled for arm64 and run natively, and some other are compiled for x86_64 and run in a <a href=\"https://en.wikipedia.org/wiki/Rosetta_%28software%29\" rel=\"nofollow noreferrer\">&quot;translator&quot; (rosetta)</a>.</p>\n<ul>\n<li>Oracle x86_64 JDK installed by intelliJ IDEA.</li>\n<li>OpenJDK arm64 installed by Homebrew as a dependency of gradle.</li>\n</ul>\n<p>Did not follow the &quot;Caveat&quot; of openJDK :</p>\n<pre><code>==&gt; Caveats\nFor the system Java wrappers to find this JDK, symlink it with\n  sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n<p>So the homebrew installed gradle was using the homebrew installed JVM. But gradlew scripts were using the default system JVM (the Oracle x86_64 JVM).</p>\n"}],"owner":{"account_id":194740,"reputation":899,"user_id":437260,"accept_rate":85,"display_name":"Antonin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72230028,"answer_count":1,"score":2,"last_activity_date":1661327895,"creation_date":1652359429,"question_id":72215813,"body_markdown":"Hello when working from a Mac m1, Gradle wrapper task reports incorrect architecture compared to gradle :\r\n\r\n\r\nHere is the result of `./gradlew clean` :\r\n```\r\noperating system &#39;Mac OS X&#39;\r\narchitecture &#39;x86-64&#39;\r\nosx\r\nx86_64\r\nx86_64\r\n```\r\n\r\nHere is the result of `gradle clean` :\r\n```\r\noperating system &#39;Mac OS X&#39;\r\narchitecture &#39;arm-v8&#39;\r\nosx\r\naarch_64\r\naarch64\r\n```\r\n\r\n\r\nDoes someone have an explanation for that.\r\n\r\nAdditional information : output of `gradle --version`\r\n\r\n```\r\n------------------------------------------------------------\r\nGradle 7.4.2\r\n------------------------------------------------------------\r\n\r\nBuild time:   2022-03-31 15:25:29 UTC\r\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\r\n\r\nKotlin:       1.5.31\r\nGroovy:       3.0.9\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          18.0.1 (Homebrew 18.0.1+0)\r\nOS:           Mac OS X 12.2.1 aarch64\r\n```\r\n\r\nhere is the content of my build.gradle to display architecture :\r\n```\r\nprintln org.gradle.nativeplatform.platform.internal.DefaultNativePlatform.currentOperatingSystem;\r\nprintln org.gradle.nativeplatform.platform.internal.DefaultNativePlatform.currentArchitecture;\r\nprintln osdetector.os\r\nprintln osdetector.arch\r\nprintln System.getProperty(&quot;os.arch&quot;)\r\n```\r\n\r\nI generated the Gradle wrapper from my Mac m1 using `gradle wrapper`.","title":"gradle wrapper reports x86-64 architecture instead of arm-v8 architecture on Mac m1","body":"<p>Hello when working from a Mac m1, Gradle wrapper task reports incorrect architecture compared to gradle :</p>\n<p>Here is the result of <code>./gradlew clean</code> :</p>\n<pre><code>operating system 'Mac OS X'\narchitecture 'x86-64'\nosx\nx86_64\nx86_64\n</code></pre>\n<p>Here is the result of <code>gradle clean</code> :</p>\n<pre><code>operating system 'Mac OS X'\narchitecture 'arm-v8'\nosx\naarch_64\naarch64\n</code></pre>\n<p>Does someone have an explanation for that.</p>\n<p>Additional information : output of <code>gradle --version</code></p>\n<pre><code>------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          18.0.1 (Homebrew 18.0.1+0)\nOS:           Mac OS X 12.2.1 aarch64\n</code></pre>\n<p>here is the content of my build.gradle to display architecture :</p>\n<pre><code>println org.gradle.nativeplatform.platform.internal.DefaultNativePlatform.currentOperatingSystem;\nprintln org.gradle.nativeplatform.platform.internal.DefaultNativePlatform.currentArchitecture;\nprintln osdetector.os\nprintln osdetector.arch\nprintln System.getProperty(&quot;os.arch&quot;)\n</code></pre>\n<p>I generated the Gradle wrapper from my Mac m1 using <code>gradle wrapper</code>.</p>\n"},{"tags":["java","oauth-2.0","outlook","microsoft-graph-api","azure-ad-msal"],"comments":[{"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"score":0,"creation_date":1661416043,"post_id":73469355,"comment_id":129768472,"body_markdown":"sorry for delay , i already added my answer in question - https://stackoverflow.com/questions/73307144/read-and-write-email-using-microsoft-graph-api-java , please check my answer , and let me know if you need any other help , thanks.","body":"sorry for delay , i already added my answer in question - <a href=\"https://stackoverflow.com/questions/73307144/read-and-write-email-using-microsoft-graph-api-java\" title=\"read and write email using microsoft graph api java\">stackoverflow.com/questions/73307144/&hellip;</a> , please check my answer , and let me know if you need any other help , thanks."}],"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661327452,"creation_date":1661327452,"question_id":73469355,"body_markdown":"I want to read and send emails using my own email Id.\r\nI have created and app on portal.azure.com with Client ID and Secret ID/Value.\r\n\r\nI want my java app to run in the backend and read emails and also send emails using Microsoft Graph API/SDKS.\r\n\r\nI am struggling to get it done since two weeks, I am not getting any solution.\r\n\r\nI also put another stackoverflow question but no one replied on it\r\n\r\nhttps://stackoverflow.com/questions/73307144/read-and-write-email-using-microsoft-graph-api-java\r\n\r\nI can only provide delegated permissions on the app and not Application permissions which requires admin consent.\r\n","title":"Read my own emails using Microsoft Graph API in backend using java","body":"<p>I want to read and send emails using my own email Id.\nI have created and app on portal.azure.com with Client ID and Secret ID/Value.</p>\n<p>I want my java app to run in the backend and read emails and also send emails using Microsoft Graph API/SDKS.</p>\n<p>I am struggling to get it done since two weeks, I am not getting any solution.</p>\n<p>I also put another stackoverflow question but no one replied on it</p>\n<p><a href=\"https://stackoverflow.com/questions/73307144/read-and-write-email-using-microsoft-graph-api-java\">Read and write Email using Microsoft Graph API Java</a></p>\n<p>I can only provide delegated permissions on the app and not Application permissions which requires admin consent.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661327350,"creation_date":1661326141,"answer_id":73469059,"question_id":73468752,"body_markdown":"Both ways of writing the annotations apply `@Inject` and `@CustomInfo` onto the line `lateinit var fieldA: Any`. \r\n\r\nHowever, there are multiple Java elements that are generated by this single Kotlin declaration - a backing field, a getter and setter - as well as the Kotlin property itself. The second way:\r\n\r\n    @field:[\r\n        Inject\r\n        CustomInfo\r\n    ]\r\n    lateinit var fieldB: Any\r\n\r\nexplicitly states that you are applying these annotations to the underlying backing field.\r\n\r\nThe first way does not do that:\r\n\r\n    @Inject\r\n    @CustomInfo\r\n    lateinit var fieldA: Any\r\n\r\nInstead, Kotlin uses its own documented rules (explained below) to decide which thing to apply your annotations on.\r\n\r\nFor each annotation, Kotlin finds all the targets available in the current context that the annotation can be applied on. \r\n\r\n- If there is a parameter, it applies the annotation to the parameter. \r\n- Otherwise, if there is a property, it applies the annotation to the property. \r\n- Otherwise, if there is a field, it applies the annotation to the field.\r\n\r\nNow looking at your two annotations, `Inject` is a Java annotation that can only be applied to fields, so for `Inject`, it doesn&#39;t which way you write it. \r\n\r\nOn the other hand, `CustomInfo` lacks a [`Target`][1] annotation, and so can be applied to both a property and a field (among other things). Kotlin would choose to apply it to the *property* if you do it this way:\r\n\r\n    @Inject\r\n    @CustomInfo\r\n    lateinit var fieldA: Any\r\n\r\nJava code would not be able to find this annotation on the field! Looking at the decompiled code, it appears that the Kotlin compiler generates an additional, deprecated, synthetic method with `@CustomInfo` on it.\r\n\r\nSide note: the `[]` doesn&#39;t actually create an &quot;array&quot;. It&#39;s just some delimiters so that the parser (and the person reading the code) knows more easily which annotations are associated with `@field:` and which are not.\r\n\r\nSee also: [Annotation Use-site Targets][2]\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.annotation/-target/\r\n  [2]: https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets","title":"What is the difference between field: array of annotation vs separate annotations","body":"<p>Both ways of writing the annotations apply <code>@Inject</code> and <code>@CustomInfo</code> onto the line <code>lateinit var fieldA: Any</code>.</p>\n<p>However, there are multiple Java elements that are generated by this single Kotlin declaration - a backing field, a getter and setter - as well as the Kotlin property itself. The second way:</p>\n<pre><code>@field:[\n    Inject\n    CustomInfo\n]\nlateinit var fieldB: Any\n</code></pre>\n<p>explicitly states that you are applying these annotations to the underlying backing field.</p>\n<p>The first way does not do that:</p>\n<pre><code>@Inject\n@CustomInfo\nlateinit var fieldA: Any\n</code></pre>\n<p>Instead, Kotlin uses its own documented rules (explained below) to decide which thing to apply your annotations on.</p>\n<p>For each annotation, Kotlin finds all the targets available in the current context that the annotation can be applied on.</p>\n<ul>\n<li>If there is a parameter, it applies the annotation to the parameter.</li>\n<li>Otherwise, if there is a property, it applies the annotation to the property.</li>\n<li>Otherwise, if there is a field, it applies the annotation to the field.</li>\n</ul>\n<p>Now looking at your two annotations, <code>Inject</code> is a Java annotation that can only be applied to fields, so for <code>Inject</code>, it doesn't which way you write it.</p>\n<p>On the other hand, <code>CustomInfo</code> lacks a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.annotation/-target/\" rel=\"nofollow noreferrer\"><code>Target</code></a> annotation, and so can be applied to both a property and a field (among other things). Kotlin would choose to apply it to the <em>property</em> if you do it this way:</p>\n<pre><code>@Inject\n@CustomInfo\nlateinit var fieldA: Any\n</code></pre>\n<p>Java code would not be able to find this annotation on the field! Looking at the decompiled code, it appears that the Kotlin compiler generates an additional, deprecated, synthetic method with <code>@CustomInfo</code> on it.</p>\n<p>Side note: the <code>[]</code> doesn't actually create an &quot;array&quot;. It's just some delimiters so that the parser (and the person reading the code) knows more easily which annotations are associated with <code>@field:</code> and which are not.</p>\n<p>See also: <a href=\"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">Annotation Use-site Targets</a></p>\n"}],"owner":{"account_id":5185935,"reputation":1649,"user_id":4150337,"display_name":"Micha Dobi Dobrzaski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661327350,"creation_date":1661324527,"question_id":73468752,"body_markdown":"Is there a difference while expressing a set of annotations in two different ways? Will the result be the same? Example:\r\n```kotlin\r\nclass Sample {\r\n\r\n    @Inject\r\n    @CustomInfo\r\n    lateinit var fieldA: Any\r\n\r\n    @field:[\r\n        Inject\r\n        CustomInfo\r\n    ]\r\n    lateinit var fieldB: Any\r\n}\r\n```\r\n\r\nAnnotations:\r\n```kotlin\r\n@Qualifier\r\n@Retention(AnnotationRetention.RUNTIME)\r\nannotation class CustomInfo\r\n```\r\nand:\r\n```java\r\n@Target({ METHOD, CONSTRUCTOR, FIELD })\r\n@Retention(RUNTIME)\r\n@Documented\r\npublic @interface Inject {}\r\n```\r\n\r\nWill there be the same output?\r\n\r\nThe decompiled Java code produced:\r\n```java\r\npublic final class Sample {\r\n\r\n   @Inject\r\n   public Object fieldA;\r\n   @Inject\r\n   @CustomInfo\r\n   public Object fieldB;\r\n\r\n   /** @deprecated */\r\n   // $FF: synthetic method\r\n   @CustomInfo\r\n   public static void getFieldA$annotations() {\r\n   }\r\n}\r\n```","title":"What is the difference between field: array of annotation vs separate annotations","body":"<p>Is there a difference while expressing a set of annotations in two different ways? Will the result be the same? Example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Sample {\n\n    @Inject\n    @CustomInfo\n    lateinit var fieldA: Any\n\n    @field:[\n        Inject\n        CustomInfo\n    ]\n    lateinit var fieldB: Any\n}\n</code></pre>\n<p>Annotations:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Qualifier\n@Retention(AnnotationRetention.RUNTIME)\nannotation class CustomInfo\n</code></pre>\n<p>and:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ METHOD, CONSTRUCTOR, FIELD })\n@Retention(RUNTIME)\n@Documented\npublic @interface Inject {}\n</code></pre>\n<p>Will there be the same output?</p>\n<p>The decompiled Java code produced:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Sample {\n\n   @Inject\n   public Object fieldA;\n   @Inject\n   @CustomInfo\n   public Object fieldB;\n\n   /** @deprecated */\n   // $FF: synthetic method\n   @CustomInfo\n   public static void getFieldA$annotations() {\n   }\n}\n</code></pre>\n"},{"tags":["java","ssh","jsch"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661303801,"post_id":73466433,"comment_id":129738130,"body_markdown":"Try fully pathing `jsch.setKnownHosts(&quot;~/.ssh/known_hosts&quot;);`","body":"Try fully pathing <code>jsch.setKnownHosts(&quot;~&#47;.ssh&#47;known_hosts&quot;);</code>"},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1661320119,"post_id":73466433,"comment_id":129740356,"body_markdown":"What does the `known_hosts` generated by `ssh` look like? What is the full JSch error message? It&#39;s server&#39;s *public* key, no need to hide it from us.","body":"What does the <code>known_hosts</code> generated by <code>ssh</code> look like? What is the full JSch error message? It&#39;s server&#39;s <i>public</i> key, no need to hide it from us."},{"owner":{"account_id":25505086,"reputation":49,"user_id":19297684,"display_name":"MKRabbit"},"score":0,"creation_date":1661326036,"post_id":73466433,"comment_id":129742026,"body_markdown":"Ok, I should edit my question a little bit. The program is running on a docker container and I have mounted the ssh folder in docker-compose like: \n```\nvolumes:\n      - &#39;/home/nuclera/.ssh/:/root/.ssh&#39;","body":"Ok, I should edit my question a little bit. The program is running on a docker container and I have mounted the ssh folder in docker-compose like:  ``` volumes:       - &#39;/home/nuclera/.ssh/:/root/.ssh&#39;"},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1661333076,"post_id":73466433,"comment_id":129744821,"body_markdown":"That does not answer my question about contents/format of your `known_hosts` file. + I do not see *&quot;port number other than 22&quot;* in your `ssh-keyscan -t rsa,ecdsa 192.xx.xx.xx` command.","body":"That does not answer my question about contents/format of your <code>known_hosts</code> file. + I do not see <i>&quot;port number other than 22&quot;</i> in your <code>ssh-keyscan -t rsa,ecdsa 192.xx.xx.xx</code> command."},{"owner":{"account_id":25505086,"reputation":49,"user_id":19297684,"display_name":"MKRabbit"},"score":0,"creation_date":1661334467,"post_id":73466433,"comment_id":129745363,"body_markdown":"Apologies. I forgot to include the port in ssh-keyscan. It is \n```ssh-keyscan -t rsa,ecdsa -p 22000 192.34.186.186 &gt;&gt; ~/.ssh/known_hosts```.\nThe known hosts file looks like this:\n```[193.34.186.186]:22000 ssh-rsa AAAA.......verylongkey```\nThere are few other keys in it as well but this is the one for this host I&#39;m trying to ssh into","body":"Apologies. I forgot to include the port in ssh-keyscan. It is  <code>ssh-keyscan -t rsa,ecdsa -p 22000 192.34.186.186 &gt;&gt; ~&#47;.ssh&#47;known_hosts</code>. The known hosts file looks like this: <code>[193.34.186.186]:22000 ssh-rsa AAAA.......verylongkey</code> There are few other keys in it as well but this is the one for this host I&#39;m trying to ssh into"},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1661338741,"post_id":73466433,"comment_id":129747000,"body_markdown":"Please do not post information in comments. Edit everything into your question (including full public key)","body":"Please do not post information in comments. Edit everything into your question (including full public key)"}],"owner":{"account_id":25505086,"reputation":49,"user_id":19297684,"display_name":"MKRabbit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1843,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1661327269,"creation_date":1661303459,"question_id":73466433,"body_markdown":"I&#39;m trying to establish a SSH connection in Java which is running on a docker container. The container is spun up using docker-compose on which I mount the ssh folder. The code produces the following exception:\r\n\r\n```\r\ncom.jcraft.jsch.JSchException: HostKey has been changed:[192.xx.xx.xx]:&lt;port number other than 22&gt;\r\nat com.jcraft.jsch.Session.checkHost(Session.java:794)\r\nat com.jcraft.jsch.Session.connect(Session.java:348)\r\nat com.jcraft.jsch.Session.connect(Session.java:186)\r\n```\r\n\r\nThe ssh folder is mounted like this:\r\n```\r\nvolumes:\r\n      - &#39;/home/myusername/.ssh/:/root/.ssh&#39;\r\n```\r\n\r\nI have set the KnownHosts and added identity. \r\nI have tried removing the known_hosts file. Then ssh into the machine from the terminal successfully which re-adds the host back into known_hosts. I have also added the keys manually using:\r\n\r\n```\r\nssh-keyscan -t rsa,ecdsa 192.xx.xx.xx &gt;&gt; ~/.ssh/known_hosts\r\n```\r\nbut no luck so far.\r\nI have included my code snippet:\r\n\r\n```\r\nimport com.jcraft.jsch.JSch;\r\nimport com.jcraft.jsch.Session;\r\n\r\npublic class ssh {\r\n    public static void main(String[] arg) {\r\n\r\n        try {\r\n            JSch jsch = new JSch();\r\n            jsch.setKnownHosts(&quot;/root/.ssh/known_hosts&quot;);\r\n    \r\n            jsch.addIdentity(&quot;/root/.ssh/id_rsa&quot;);            \r\n           \r\n            Session session = jsch.getSession(user, host, port);\r\n            session.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey&quot;);\r\n            session.connect();\r\n\r\n        } catch(Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n.....\r\n}\r\n```\r\n\r\nI should also add, I do not want to set StrictHostKeyChecking to &quot;no&quot; which many have pointed is not safe.  \r\n\r\nOk, I should edit my question a little bit. The program is running on a docker container and I have mounted the ssh folder in docker-compose like this: \r\n```\r\nvolumes:\r\n      - &#39;/home/myusername/.ssh/:/root/.ssh&#39;\r\n```\r\nThen I set the known hosts like this:\r\n```\r\njsch.setKnownHosts(&quot;/root/.ssh/known_hosts&quot;);\r\n```\r\nI also set the ssh config file with the same path in the code and get the host, port from it and that works:\r\n```\r\n ConfigRepository configRepository =\r\n                    com.jcraft.jsch.OpenSSHConfig.parseFile(&quot;/root/.ssh/config&quot;);\r\n            String host = configRepository.getConfig(hostAlias).getHostname();\r\n            int port = configRepository.getConfig(hostAlias).getPort();\r\n    System.out.println(host);\r\n    System.out.println(port);\r\n\r\n```","title":"com.jcraft.jsch.JSchException: HostKey has been changed:","body":"<p>I'm trying to establish a SSH connection in Java which is running on a docker container. The container is spun up using docker-compose on which I mount the ssh folder. The code produces the following exception:</p>\n<pre><code>com.jcraft.jsch.JSchException: HostKey has been changed:[192.xx.xx.xx]:&lt;port number other than 22&gt;\nat com.jcraft.jsch.Session.checkHost(Session.java:794)\nat com.jcraft.jsch.Session.connect(Session.java:348)\nat com.jcraft.jsch.Session.connect(Session.java:186)\n</code></pre>\n<p>The ssh folder is mounted like this:</p>\n<pre><code>volumes:\n      - '/home/myusername/.ssh/:/root/.ssh'\n</code></pre>\n<p>I have set the KnownHosts and added identity.\nI have tried removing the known_hosts file. Then ssh into the machine from the terminal successfully which re-adds the host back into known_hosts. I have also added the keys manually using:</p>\n<pre><code>ssh-keyscan -t rsa,ecdsa 192.xx.xx.xx &gt;&gt; ~/.ssh/known_hosts\n</code></pre>\n<p>but no luck so far.\nI have included my code snippet:</p>\n<pre><code>import com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\n\npublic class ssh {\n    public static void main(String[] arg) {\n\n        try {\n            JSch jsch = new JSch();\n            jsch.setKnownHosts(&quot;/root/.ssh/known_hosts&quot;);\n    \n            jsch.addIdentity(&quot;/root/.ssh/id_rsa&quot;);            \n           \n            Session session = jsch.getSession(user, host, port);\n            session.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey&quot;);\n            session.connect();\n\n        } catch(Exception e) {\n            System.out.println(e);\n        }\n    }\n.....\n}\n</code></pre>\n<p>I should also add, I do not want to set StrictHostKeyChecking to &quot;no&quot; which many have pointed is not safe.</p>\n<p>Ok, I should edit my question a little bit. The program is running on a docker container and I have mounted the ssh folder in docker-compose like this:</p>\n<pre><code>volumes:\n      - '/home/myusername/.ssh/:/root/.ssh'\n</code></pre>\n<p>Then I set the known hosts like this:</p>\n<pre><code>jsch.setKnownHosts(&quot;/root/.ssh/known_hosts&quot;);\n</code></pre>\n<p>I also set the ssh config file with the same path in the code and get the host, port from it and that works:</p>\n<pre><code> ConfigRepository configRepository =\n                    com.jcraft.jsch.OpenSSHConfig.parseFile(&quot;/root/.ssh/config&quot;);\n            String host = configRepository.getConfig(hostAlias).getHostname();\n            int port = configRepository.getConfig(hostAlias).getPort();\n    System.out.println(host);\n    System.out.println(port);\n\n</code></pre>\n"},{"tags":["java","javascript","jquery","spring","spring-mvc"],"comments":[{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":3,"creation_date":1395240498,"post_id":22508773,"comment_id":34247620,"body_markdown":"`&lt;script type=&quot;text/javascript&quot;&gt;var myVar = &quot;${model.paramOne}&quot;;&lt;/script&gt;`","body":"<code>&lt;script type=&quot;text&#47;javascript&quot;&gt;var myVar = &quot;${model.paramOne}&quot;;&lt;&#47;script&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1958137,"reputation":5497,"user_id":1760609,"display_name":"Aurand"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1410284113,"creation_date":1395239071,"answer_id":22508939,"question_id":22508773,"body_markdown":"JavaScript is run on the client side.  Your model does not exist on the client side, it only exists on the server side while you are rendering your .jsp.\r\n\r\nIf you want data from the model to be available to client side code (ie. javascript), you will need to store it somewhere in the rendered page.  For example, you can use your Jsp to write JavaScript assigning your model to JavaScript variables.\r\n\r\n**Update:**\r\n\r\nA simple example\r\n\r\n    &lt;%-- SomeJsp.jsp --%&gt;\r\n    &lt;script&gt;var paramOne =&lt;c:out value=&quot;${paramOne}&quot;/&gt;&lt;/script&gt;","title":"How to access Spring MVC model object in javascript file?","body":"<p>JavaScript is run on the client side.  Your model does not exist on the client side, it only exists on the server side while you are rendering your .jsp.</p>\n\n<p>If you want data from the model to be available to client side code (ie. javascript), you will need to store it somewhere in the rendered page.  For example, you can use your Jsp to write JavaScript assigning your model to JavaScript variables.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>A simple example</p>\n\n<pre><code>&lt;%-- SomeJsp.jsp --%&gt;\n&lt;script&gt;var paramOne =&lt;c:out value=\"${paramOne}\"/&gt;&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395239155,"creation_date":1395239155,"answer_id":22508975,"question_id":22508773,"body_markdown":"You can&#39;t access java objects from JavaScript because there are no objects on client side. It only receives plain HTML page (hidden fields can help but it&#39;s not very good approach).\r\n\r\nI suggest you to use ajax and `@ResponseBody`.","title":"How to access Spring MVC model object in javascript file?","body":"<p>You can't access java objects from JavaScript because there are no objects on client side. It only receives plain HTML page (hidden fields can help but it's not very good approach).</p>\n\n<p>I suggest you to use ajax and <code>@ResponseBody</code>.</p>\n"},{"tags":[],"owner":{"account_id":386444,"reputation":1894,"user_id":744207,"accept_rate":82,"display_name":"tObi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1404145741,"creation_date":1404145741,"answer_id":24494771,"question_id":22508773,"body_markdown":"Here is an example of how i made a list object available for javascript:\r\n\r\n    var listForJavascript = [];\r\n    &lt;c:forEach items=&quot;${MyListFromJava}&quot; var=&quot;listItem&quot;&gt;\r\n      var arr = [];\r\n\t      \t\t\r\n      arr.push(&quot;&lt;c:out value=&quot;${listItem.param1}&quot; /&gt;&quot;);\r\n      arr.push(&quot;&lt;c:out value=&quot;${listItem.param2}&quot; /&gt;&quot;);\r\n\t      \t\t\r\n      listForJavascript.push(arr);\r\n    &lt;/c:forEach&gt;","title":"How to access Spring MVC model object in javascript file?","body":"<p>Here is an example of how i made a list object available for javascript:</p>\n\n<pre><code>var listForJavascript = [];\n&lt;c:forEach items=\"${MyListFromJava}\" var=\"listItem\"&gt;\n  var arr = [];\n\n  arr.push(\"&lt;c:out value=\"${listItem.param1}\" /&gt;\");\n  arr.push(\"&lt;c:out value=\"${listItem.param2}\" /&gt;\");\n\n  listForJavascript.push(arr);\n&lt;/c:forEach&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2500819,"reputation":1288,"user_id":2175975,"accept_rate":67,"display_name":"Splash"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1410231964,"creation_date":1410231964,"answer_id":25736114,"question_id":22508773,"body_markdown":"I recently faced the same need.  So I tried Aurand&#39;s way but it seems the code is missing ${}.  So the code inside SomeJsp.jsp `&lt;head&gt;&lt;/head&gt;`is:\r\n\r\n    &lt;script&gt;\r\n      var model=[];\r\n      model.paramOne=&quot;${model.paramOne}&quot;;\r\n      model.paramTwo=&quot;${model.paramTwo}&quot;;\r\n      model.paramThree=&quot;${model.paramThree}&quot;;\r\n    &lt;/script&gt;\r\n\r\nNote that you can&#39;t asssign using var `model = ${model}` as it will assign a java object reference.  So to access this in external JS:\r\n\r\n    $(document).ready(function() {\r\n       alert(model.paramOne);\r\n    });\r\n\r\n","title":"How to access Spring MVC model object in javascript file?","body":"<p>I recently faced the same need.  So I tried Aurand's way but it seems the code is missing ${}.  So the code inside SomeJsp.jsp <code>&lt;head&gt;&lt;/head&gt;</code>is:</p>\n\n<pre><code>&lt;script&gt;\n  var model=[];\n  model.paramOne=\"${model.paramOne}\";\n  model.paramTwo=\"${model.paramTwo}\";\n  model.paramThree=\"${model.paramThree}\";\n&lt;/script&gt;\n</code></pre>\n\n<p>Note that you can't asssign using var <code>model = ${model}</code> as it will assign a java object reference.  So to access this in external JS:</p>\n\n<pre><code>$(document).ready(function() {\n   alert(model.paramOne);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":126503,"reputation":2554,"user_id":323044,"accept_rate":26,"display_name":"Alessandro Dionisi"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1421833403,"creation_date":1421833403,"answer_id":28063918,"question_id":22508773,"body_markdown":"Another solution could be using in JSP:\r\n```\r\n&lt;input type=&quot;hidden&quot; id=&quot;jsonBom&quot; value=&#39;${jsonBom}&#39;/&gt;\r\n```\r\n\r\nand getting the value in Javascript with jQuery:\r\n\r\n```\r\nvar jsonBom = $(&#39;#jsonBom&#39;).val();\r\n```","title":"How to access Spring MVC model object in javascript file?","body":"<p>Another solution could be using in JSP:\n<code>\n&lt;input type=\"hidden\" id=\"jsonBom\" value='${jsonBom}'/&gt;\n</code></p>\n\n<p>and getting the value in Javascript with jQuery:</p>\n\n<p><code>\nvar jsonBom = $('#jsonBom').val();\n</code></p>\n"},{"tags":[],"owner":{"account_id":7337765,"reputation":776,"user_id":5588506,"display_name":"Juan Furattini"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1448111765,"creation_date":1448090861,"answer_id":33840848,"question_id":22508773,"body_markdown":"This way works and with this structure you can create your own framework and do it with less boilerplate.\r\n\r\nSorry if some error is present, I&#39;m writing this handly with my cellphone\r\n\r\n#Maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n#Java:\r\n***Person.java*** *(Person Object Class)*\r\n\r\n    Class Person {\r\n    \r\n        private String name;\r\n    \r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    }\r\n\r\n***PersonController.java*** *(Person Controller)*\r\n\r\n    @RestController\r\n    public class PersonController implements Controller {\r\n    \r\n        @RequestMapping(&quot;/person&quot;)\r\n        public ModelAndView handleRequest(HttpServletRequest arg0, HttpServletResponse arg1) throws Exception {\r\n            Person person = new Person();\r\n            person.setName(&quot;Person&#39;s name&quot;);\r\n            Gson gson = new Gson();\r\n    \r\n            ModelAndView modelAndView = new ModelAndView(&quot;person&quot;);\r\n            modelAndView.addObject(&quot;person&quot;, gson.toJson(person));\r\n    \r\n            return modelAndView;\r\n        }\r\n    }\r\n\r\n\r\n\r\n#View:\r\n***person.jsp***\r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Person Example&lt;/title&gt;\r\n            &lt;script src=&quot;jquery-1.11.3.min.js&quot;&gt;&lt;/script&gt;\r\n            &lt;script type=&quot;text/javascript&quot; src=&quot;personScript.js&quot;&gt;&lt;/script&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;Person/h1&gt;\r\n            &lt;input type=&quot;hidden&quot; id=&quot;person&quot; value=&quot;${person}&quot;&gt;     \r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\n#Javascript:\r\n***personScript.js***\r\n\r\n    function parseJSON(data) {\r\n        return window.JSON &amp;&amp; window.JSON.parse ? window.JSON.parse( data ) : (new Function(&quot;return &quot; + data))(); \r\n    }\r\n\r\n    $(document).ready(function() {\r\n        var personJson = $(&#39;#person&#39;);\r\n        person = parseJSON(personJson.val());\r\n        alert(person.name);\r\n    });","title":"How to access Spring MVC model object in javascript file?","body":"<p>This way works and with this structure you can create your own framework and do it with less boilerplate.</p>\n\n<p>Sorry if some error is present, I'm writing this handly with my cellphone</p>\n\n<h1>Maven dependency:</h1>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;1.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h1>Java:</h1>\n\n<p><strong><em>Person.java</em></strong> <em>(Person Object Class)</em></p>\n\n<pre><code>Class Person {\n\n    private String name;\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p><strong><em>PersonController.java</em></strong> <em>(Person Controller)</em></p>\n\n<pre><code>@RestController\npublic class PersonController implements Controller {\n\n    @RequestMapping(\"/person\")\n    public ModelAndView handleRequest(HttpServletRequest arg0, HttpServletResponse arg1) throws Exception {\n        Person person = new Person();\n        person.setName(\"Person's name\");\n        Gson gson = new Gson();\n\n        ModelAndView modelAndView = new ModelAndView(\"person\");\n        modelAndView.addObject(\"person\", gson.toJson(person));\n\n        return modelAndView;\n    }\n}\n</code></pre>\n\n<h1>View:</h1>\n\n<p><strong><em>person.jsp</em></strong></p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Person Example&lt;/title&gt;\n        &lt;script src=\"jquery-1.11.3.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"personScript.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Person/h1&gt;\n        &lt;input type=\"hidden\" id=\"person\" value=\"${person}\"&gt;     \n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h1>Javascript:</h1>\n\n<p><strong><em>personScript.js</em></strong></p>\n\n<pre><code>function parseJSON(data) {\n    return window.JSON &amp;&amp; window.JSON.parse ? window.JSON.parse( data ) : (new Function(\"return \" + data))(); \n}\n\n$(document).ready(function() {\n    var personJson = $('#person');\n    person = parseJSON(personJson.val());\n    alert(person.name);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16422016,"reputation":1,"user_id":11863001,"display_name":"bharath sc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564564960,"creation_date":1564564960,"answer_id":57287419,"question_id":22508773,"body_markdown":"in controller:\r\n=================\r\n\r\n    JSONObject jsonobject=new JSONObject();\r\n    jsonobject.put(&quot;error&quot;,&quot;Invalid username&quot;);\r\n    response.getWriter().write(jsonobject.toString());\r\n\r\nin javascript:\r\n\r\n\r\n\r\n    f(data!=success){\r\n    \r\n        \r\n    \r\n     var errorMessage=jQuery.parseJson(data);\r\n      alert(errorMessage.error);\r\n    }\r\n\r\n","title":"How to access Spring MVC model object in javascript file?","body":"<h1>in controller:</h1>\n\n<pre><code>JSONObject jsonobject=new JSONObject();\njsonobject.put(\"error\",\"Invalid username\");\nresponse.getWriter().write(jsonobject.toString());\n</code></pre>\n\n<p>in javascript:</p>\n\n<pre><code>f(data!=success){\n\n\n\n var errorMessage=jQuery.parseJson(data);\n  alert(errorMessage.error);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":355679,"reputation":189,"user_id":1283397,"display_name":"h.meknassi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589686677,"creation_date":1589686677,"answer_id":61846659,"question_id":22508773,"body_markdown":"       @RequestMapping(&quot;/op&quot;)\r\n       public ModelAndView method(Map&lt;String, Object&gt; model) {\r\n           model.put(&quot;att&quot;, &quot;helloooo&quot;);\r\n           return new ModelAndView(&quot;dom/op&quot;);\r\n       }\r\n\r\nIn your .js\r\n\r\n    &lt;script&gt;\r\n        var valVar = [[${att}]];\r\n    &lt;/script&gt;","title":"How to access Spring MVC model object in javascript file?","body":"<pre><code>   @RequestMapping(\"/op\")\n   public ModelAndView method(Map&lt;String, Object&gt; model) {\n       model.put(\"att\", \"helloooo\");\n       return new ModelAndView(\"dom/op\");\n   }\n</code></pre>\n\n<p>In your .js</p>\n\n<pre><code>&lt;script&gt;\n    var valVar = [[${att}]];\n&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18551005,"reputation":21,"user_id":13517244,"display_name":"manoj Dintakurti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661327188,"creation_date":1661327188,"answer_id":73469296,"question_id":22508773,"body_markdown":"I have used a hidden tag and passed object to js.\r\n```\r\n&lt;input type=&quot;hidden&quot; id=&quot;jsonBom&quot; value=&#39;${jsonBom}&#39;/&gt;\r\n```\r\n\r\nyou can access value of the tag using id","title":"How to access Spring MVC model object in javascript file?","body":"<p>I have used a hidden tag and passed object to js.</p>\n<pre><code>&lt;input type=&quot;hidden&quot; id=&quot;jsonBom&quot; value='${jsonBom}'/&gt;\n</code></pre>\n<p>you can access value of the tag using id</p>\n"}],"owner":{"account_id":393770,"reputation":6625,"user_id":755806,"accept_rate":55,"display_name":"user755806"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142383,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":9,"score":17,"last_activity_date":1661327188,"creation_date":1395238746,"question_id":22508773,"body_markdown":"I am using spring 3 MVC and i have below classes.\r\n\r\nExternal system would call my application using below URL:\r\n\r\n    http://somehost/root/param1/param2/param3\r\n\r\nI have a spring MVC controller method as below:\r\n\r\n    public ModelAndView showPage(@PathVariable(&quot;param1&quot;) String paramOne, @PathVariable(&quot;param2&quot;) String paramTwo, @PathVariable(&quot;param3&quot;) String paramThree, HttpServletResponse response) {  \r\n            SomeModel model = new SomeModel(paramOne, paramTwo, paramThree);\r\n           return new ModelAndView(&quot;SomeJsp&quot;, &quot;model&quot;, model);\r\n        } \r\n\r\nSomeModel.java\r\n----------------\r\n\r\n    public class SomeModel{\r\n     private String paramOne;\r\n     private String paramTwo;\r\n     private String paramThree;\r\n    //constructor\r\n     //setters and getters\r\n    \r\n    }\r\n\r\nSomeJsp.jsp\r\n-----------\r\n\r\n    //In this Jsp i have a div with few elements. Div is not visible by default.\r\n    //This jsp has externalJavascript included.\r\n    //I enable div and set the data into div elements using jquery.\r\n    &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/extjs.js&quot; /&gt;&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n\r\nexternalJs.js\r\n---------------\r\n\r\n    $(document).ready(function() {\r\n    \t\r\n    \t//Here i need the model returned using ModelAndView\r\n    //I can get data from model and set into div elements.\r\n    \r\n    \t\r\n    });\r\n\r\n\r\nIn external java script file, is it possible to get the model content? If possible, how can i do that?\r\n\r\nThanks!\r\n","title":"How to access Spring MVC model object in javascript file?","body":"<p>I am using spring 3 MVC and i have below classes.</p>\n\n<p>External system would call my application using below URL:</p>\n\n<pre><code>http://somehost/root/param1/param2/param3\n</code></pre>\n\n<p>I have a spring MVC controller method as below:</p>\n\n<pre><code>public ModelAndView showPage(@PathVariable(\"param1\") String paramOne, @PathVariable(\"param2\") String paramTwo, @PathVariable(\"param3\") String paramThree, HttpServletResponse response) {  \n        SomeModel model = new SomeModel(paramOne, paramTwo, paramThree);\n       return new ModelAndView(\"SomeJsp\", \"model\", model);\n    } \n</code></pre>\n\n<h2>SomeModel.java</h2>\n\n<pre><code>public class SomeModel{\n private String paramOne;\n private String paramTwo;\n private String paramThree;\n//constructor\n //setters and getters\n\n}\n</code></pre>\n\n<h2>SomeJsp.jsp</h2>\n\n<pre><code>//In this Jsp i have a div with few elements. Div is not visible by default.\n//This jsp has externalJavascript included.\n//I enable div and set the data into div elements using jquery.\n&lt;script src=\"&lt;c:url value=\"/resources/js/extjs.js\" /&gt;\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<h2>externalJs.js</h2>\n\n<pre><code>$(document).ready(function() {\n\n    //Here i need the model returned using ModelAndView\n//I can get data from model and set into div elements.\n\n\n});\n</code></pre>\n\n<p>In external java script file, is it possible to get the model content? If possible, how can i do that?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","json","jackson","jackson-databind","jackson2"],"owner":{"account_id":11274455,"reputation":111,"user_id":16055533,"display_name":"SUPERMAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661327005,"creation_date":1661327005,"question_id":73469250,"body_markdown":"I have a Java application method which accepts `InputStream` as its input parameter. This input parameter includes the large customer data in JSON format. I have to create the wrapper elements to this JSON to match the standard.\r\n\r\nThe user provided JSON looks something like this:\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;Batman&quot;,\r\n    &quot;age&quot;: 30,\r\n    &quot;city&quot;: &quot;Gotham&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;Superman&quot;,\r\n    &quot;age&quot;: 33,\r\n    &quot;city&quot;: &quot;Gotham&quot;\r\n  }\r\n]\r\n```\r\n\r\nAfter creating the wrapper my JSON should look something like this (Expected Output):\r\n```\r\n{\r\n  &quot;type&quot;: &quot;customerDocument&quot;,\r\n  &quot;creationDate&quot;: &quot;2005-07-11T11:30:47.0Z&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 30,\r\n        &quot;city&quot;: &quot;Gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;Superman&quot;,\r\n        &quot;age&quot;: 33,\r\n        &quot;city&quot;: &quot;Gotham&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nI am creating the same using following approach:\r\n```\r\n//Method to frame the outer wrapper elements for the JSON.\r\nprivate InputStream generateJsonWrapper(final InputStream usersList) throws IOException {\r\n    final JsonFactory jsonfactory = new JsonFactory();\r\n    final StringWriter jsonObjectWriter = new StringWriter();\r\n    final JsonGenerator jsonGenerator = jsonfactory.createGenerator(jsonObjectWriter);\r\n    jsonfactory.createGenerator(jsonObjectWriter);\r\n    jsonGenerator.writeStartObject();\r\n    jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n    jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n    jsonGenerator.writeObjectFieldStart(&quot;customerBody&quot;);\r\n    jsonGenerator.writeFieldName(&quot;customerList&quot;);\r\n    jsonGenerator.writeRawValue(IOUtils.toString(usersList, StandardCharsets.UTF_8));\r\n    jsonGenerator.writeEndObject();\r\n    jsonGenerator.writeEndObject();\r\n    jsonGenerator.flush();\r\n    jsonGenerator.close();\r\n  return new ByteArrayInputStream(jsonObjectWriter.toString().getBytes(StandardCharsets.UTF_8));\r\n}\r\n```\r\n\r\nThe above provided approach works fine and able to get the required JSON but here I need to convert the provided usersList to String and add it. Then finally the String need to be converted to InputStream.\r\n\r\nIs there any approach using which I can avoid converting the `InputStream usersList` to String while adding `writeRaw`?","title":"How to include large data into JsonGenerator as rawData while creating wrapper JSON?","body":"<p>I have a Java application method which accepts <code>InputStream</code> as its input parameter. This input parameter includes the large customer data in JSON format. I have to create the wrapper elements to this JSON to match the standard.</p>\n<p>The user provided JSON looks something like this:</p>\n<pre><code>[\n  {\n    &quot;name&quot;: &quot;Batman&quot;,\n    &quot;age&quot;: 30,\n    &quot;city&quot;: &quot;Gotham&quot;\n  },\n  {\n    &quot;name&quot;: &quot;Superman&quot;,\n    &quot;age&quot;: 33,\n    &quot;city&quot;: &quot;Gotham&quot;\n  }\n]\n</code></pre>\n<p>After creating the wrapper my JSON should look something like this (Expected Output):</p>\n<pre><code>{\n  &quot;type&quot;: &quot;customerDocument&quot;,\n  &quot;creationDate&quot;: &quot;2005-07-11T11:30:47.0Z&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 30,\n        &quot;city&quot;: &quot;Gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;Superman&quot;,\n        &quot;age&quot;: 33,\n        &quot;city&quot;: &quot;Gotham&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>I am creating the same using following approach:</p>\n<pre><code>//Method to frame the outer wrapper elements for the JSON.\nprivate InputStream generateJsonWrapper(final InputStream usersList) throws IOException {\n    final JsonFactory jsonfactory = new JsonFactory();\n    final StringWriter jsonObjectWriter = new StringWriter();\n    final JsonGenerator jsonGenerator = jsonfactory.createGenerator(jsonObjectWriter);\n    jsonfactory.createGenerator(jsonObjectWriter);\n    jsonGenerator.writeStartObject();\n    jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n    jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n    jsonGenerator.writeObjectFieldStart(&quot;customerBody&quot;);\n    jsonGenerator.writeFieldName(&quot;customerList&quot;);\n    jsonGenerator.writeRawValue(IOUtils.toString(usersList, StandardCharsets.UTF_8));\n    jsonGenerator.writeEndObject();\n    jsonGenerator.writeEndObject();\n    jsonGenerator.flush();\n    jsonGenerator.close();\n  return new ByteArrayInputStream(jsonObjectWriter.toString().getBytes(StandardCharsets.UTF_8));\n}\n</code></pre>\n<p>The above provided approach works fine and able to get the required JSON but here I need to convert the provided usersList to String and add it. Then finally the String need to be converted to InputStream.</p>\n<p>Is there any approach using which I can avoid converting the <code>InputStream usersList</code> to String while adding <code>writeRaw</code>?</p>\n"},{"tags":["java","android","oop","kotlin"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1602167357,"post_id":64264203,"comment_id":113640062,"body_markdown":"Unable to reproduce with kotlin 1.4.10 (aside from the error about not being able to inherit from `Animal` since it isn&#39;t `open`). There is a `ClassCastException` at runtime though.","body":"Unable to reproduce with kotlin 1.4.10 (aside from the error about not being able to inherit from <code>Animal</code> since it isn&#39;t <code>open</code>). There is a <code>ClassCastException</code> at runtime though."},{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1602169531,"post_id":64264203,"comment_id":113641360,"body_markdown":"The problem is the `abcd` method because it always returns an `Animal` are there any conditions where that can return any of the child types?","body":"The problem is the <code>abcd</code> method because it always returns an <code>Animal</code> are there any conditions where that can return any of the child types?"}],"answers":[{"tags":[],"owner":{"account_id":452040,"reputation":16752,"user_id":848253,"accept_rate":62,"display_name":"PerracoLabs"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1602181905,"creation_date":1602167346,"answer_id":64264717,"question_id":64264203,"body_markdown":"**You can&#39;t cast a base class &#39;instance&#39; to a descendant class**, because a base class does not necessarily implement the behaviors of its descendants neither knows anything about them.\r\n\r\nIn your specific example the method **abcd()** returns an instance of the base class **Animal**, and therefore such can&#39;t be cast to **Cat**, since **Animal** may not have any of the behaviors defined in **Cat**.\r\n\r\nAn example, imagine you had also a **Dog** class, and both **Cat** and **Dog** implement different methods such as **dog.fetch()** and **cat.jump()**. Such behaviors don&#39;t exist in the base class **Animal**, and therefore it can&#39;t be explicitly cast to a specific animal.\r\n\r\nThe opposite is valid, so casting **Cat** to **Animal**, because **Cat** inherits the behaviors of its base class **Animal**.\r\n\r\nInstead, what you can do is to instantiate a **Cat** in **abcd()**, and still return **Animal**:\r\n\r\n    fun abcd(): Animal {\r\n        return Cat()\r\n    }\r\n\r\nThis is valid, and the casting will work. But, you must pay attention to avoid potential **ClassCastException**&#39;s at runtime if mixing up derived classes, for example if instantiating a **Dog** while the return type is **Animal** and try to use it as **Cat**.\r\n\r\n**Small remark:** I&#39;m assuming the reason **Animal** isn&#39;t **open** in your example is just a copy/paste mistake, as it clearly needs such keyword to allow inheritance.\r\n\r\n\r\n","title":"How to cast super class object to sub class object in Kotlin?","body":"<p><strong>You can't cast a base class 'instance' to a descendant class</strong>, because a base class does not necessarily implement the behaviors of its descendants neither knows anything about them.</p>\n<p>In your specific example the method <strong>abcd()</strong> returns an instance of the base class <strong>Animal</strong>, and therefore such can't be cast to <strong>Cat</strong>, since <strong>Animal</strong> may not have any of the behaviors defined in <strong>Cat</strong>.</p>\n<p>An example, imagine you had also a <strong>Dog</strong> class, and both <strong>Cat</strong> and <strong>Dog</strong> implement different methods such as <strong>dog.fetch()</strong> and <strong>cat.jump()</strong>. Such behaviors don't exist in the base class <strong>Animal</strong>, and therefore it can't be explicitly cast to a specific animal.</p>\n<p>The opposite is valid, so casting <strong>Cat</strong> to <strong>Animal</strong>, because <strong>Cat</strong> inherits the behaviors of its base class <strong>Animal</strong>.</p>\n<p>Instead, what you can do is to instantiate a <strong>Cat</strong> in <strong>abcd()</strong>, and still return <strong>Animal</strong>:</p>\n<pre><code>fun abcd(): Animal {\n    return Cat()\n}\n</code></pre>\n<p>This is valid, and the casting will work. But, you must pay attention to avoid potential <strong>ClassCastException</strong>'s at runtime if mixing up derived classes, for example if instantiating a <strong>Dog</strong> while the return type is <strong>Animal</strong> and try to use it as <strong>Cat</strong>.</p>\n<p><strong>Small remark:</strong> I'm assuming the reason <strong>Animal</strong> isn't <strong>open</strong> in your example is just a copy/paste mistake, as it clearly needs such keyword to allow inheritance.</p>\n"},{"tags":[],"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602178773,"creation_date":1602178773,"answer_id":64267906,"question_id":64264203,"body_markdown":"Maybe what you are trying to do is something like creating a type and based on what sub-type then do something, like this:\r\n\r\n```\r\nsealed class Animal\r\n\r\ndata class Cat(val...) : Animal()\r\ndata class Dog(val...) : Animal()\r\n\r\nclass YourMapper {\r\n    fun animal(condition: Type): Animal {\r\n        return when(condition) {\r\n            ... -&gt; Dog(...)\r\n            ... -&gt; Cat(...)\r\n        }\r\n    }\r\n\r\n    fun getData(condition: Type): Animal {\r\n        return animal(condition)\r\n    }\r\n```\r\n\r\nAnd then the usage is\r\n\r\n```\r\nval data = YourMapper().getData(condition)\r\nwhen(data) {\r\n  is Dog -&gt; {/*do something with your dog*/}\r\n  is Cat -&gt; {/*do something with your cat*/} \r\n}\r\n\r\n```","title":"How to cast super class object to sub class object in Kotlin?","body":"<p>Maybe what you are trying to do is something like creating a type and based on what sub-type then do something, like this:</p>\n<pre><code>sealed class Animal\n\ndata class Cat(val...) : Animal()\ndata class Dog(val...) : Animal()\n\nclass YourMapper {\n    fun animal(condition: Type): Animal {\n        return when(condition) {\n            ... -&gt; Dog(...)\n            ... -&gt; Cat(...)\n        }\n    }\n\n    fun getData(condition: Type): Animal {\n        return animal(condition)\n    }\n</code></pre>\n<p>And then the usage is</p>\n<pre><code>val data = YourMapper().getData(condition)\nwhen(data) {\n  is Dog -&gt; {/*do something with your dog*/}\n  is Cat -&gt; {/*do something with your cat*/} \n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7314885,"reputation":111,"user_id":5852199,"display_name":"shinmai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661326980,"creation_date":1661326980,"answer_id":73469245,"question_id":64264203,"body_markdown":"I know this is an old question, but it&#39;s the first Google hit for the search &quot;Kotlin how to cast superclass to subclass&quot;, so for prosperity:\r\n\r\n**How to cast to subcalss in Kotlin**  \r\nuse the &quot;as&quot; keyword as in the original question:\r\n```Animal animal = Cat()\r\nif(animal is Cat) {\r\n    Cat cat = animal as Cat\r\n}\r\n```\r\n\r\n**The original question**\r\nShort answer, you can&#39;t cast a superclass **object** to a subclass **object**. Casting only changes the type of the reference _to_ the object, the object itself remains unchanged.\r\n\r\nThe Animal class in the question should almost certainly be marked as abstract. That way there&#39;s no possibility to accidentally instantiate non-specific animals, which is what happens in the question and causes the exception.\r\n\r\nAn Animal *reference* variable can absolutely be cast to a Cat, provided the object it references is a Cat. But in the question a non-specific Animal is instantiated, and then later attempted to cast to a Cat, but as it is not referencing a Cat object, this understandably throws an exception.\r\n\r\nSo unlike, say, casting an Int to a Double where the cast seemingly changes the type of the object, casting object references doesn&#39;t actually &quot;_change_&quot; the object, only how finely-grained your reference to it is.  \r\nCasting cannot turn a Dog into a Cat, it can only change you from examining an animal as a generic Animal, viewing properties commont to ALL animals, to examining it as a Cat or a Dog and additionally having access to the properties only Cats or Dogs have.","title":"How to cast super class object to sub class object in Kotlin?","body":"<p>I know this is an old question, but it's the first Google hit for the search &quot;Kotlin how to cast superclass to subclass&quot;, so for prosperity:</p>\n<p><strong>How to cast to subcalss in Kotlin</strong><br />\nuse the &quot;as&quot; keyword as in the original question:</p>\n<pre><code>if(animal is Cat) {\n    Cat cat = animal as Cat\n}\n</code></pre>\n<p><strong>The original question</strong>\nShort answer, you can't cast a superclass <strong>object</strong> to a subclass <strong>object</strong>. Casting only changes the type of the reference <em>to</em> the object, the object itself remains unchanged.</p>\n<p>The Animal class in the question should almost certainly be marked as abstract. That way there's no possibility to accidentally instantiate non-specific animals, which is what happens in the question and causes the exception.</p>\n<p>An Animal <em>reference</em> variable can absolutely be cast to a Cat, provided the object it references is a Cat. But in the question a non-specific Animal is instantiated, and then later attempted to cast to a Cat, but as it is not referencing a Cat object, this understandably throws an exception.</p>\n<p>So unlike, say, casting an Int to a Double where the cast seemingly changes the type of the object, casting object references doesn't actually &quot;<em>change</em>&quot; the object, only how finely-grained your reference to it is.<br />\nCasting cannot turn a Dog into a Cat, it can only change you from examining an animal as a generic Animal, viewing properties commont to ALL animals, to examining it as a Cat or a Dog and additionally having access to the properties only Cats or Dogs have.</p>\n"}],"owner":{"account_id":10003319,"reputation":139,"user_id":7398599,"display_name":"Appcapster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6019,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1661326980,"creation_date":1602165784,"question_id":64264203,"body_markdown":"Here I am trying to converting superclass object to subclass. I am getting the runtime error as &quot;class can not be cast&quot;.\r\n\r\nEg :\r\n\r\n    class Animal {}\r\n    class Cat : Animal() {}\r\n\r\n    class abc {\r\n    fun abcd(): Animal {\r\n        return Animal()\r\n    }\r\n\r\n    fun getData() {\r\n        val cat: Cat = abcd() as Cat     //Giving me runtime error.\r\n    }\r\n    }\r\n\r\n\r\n","title":"How to cast super class object to sub class object in Kotlin?","body":"<p>Here I am trying to converting superclass object to subclass. I am getting the runtime error as &quot;class can not be cast&quot;.</p>\n<p>Eg :</p>\n<pre><code>class Animal {}\nclass Cat : Animal() {}\n\nclass abc {\nfun abcd(): Animal {\n    return Animal()\n}\n\nfun getData() {\n    val cat: Cat = abcd() as Cat     //Giving me runtime error.\n}\n}\n</code></pre>\n"},{"tags":["java","spring","cron","quartz-scheduler"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1661321001,"post_id":73468080,"comment_id":129740538,"body_markdown":"use the 3 param scheduleJob with the 3rd param being `replace`?","body":"use the 3 param scheduleJob with the 3rd param being <code>replace</code>?"},{"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"score":0,"creation_date":1661321863,"post_id":73468080,"comment_id":129740743,"body_markdown":"@ScaryWombat I find only ONE PARAM (Trigger) and TWO PARAM(JobDetail, Trigger) methods. NO 3 param method found.","body":"@ScaryWombat I find only ONE PARAM (Trigger) and TWO PARAM(JobDetail, Trigger) methods. NO 3 param method found."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661324065,"post_id":73468080,"comment_id":129741379,"body_markdown":"what version are you using? see https://www.quartz-scheduler.org/api/2.2.3/index.html","body":"what version are you using? see <a href=\"https://www.quartz-scheduler.org/api/2.2.3/index.html\" rel=\"nofollow noreferrer\">quartz-scheduler.org/api/2.2.3/index.html</a>"},{"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"score":0,"creation_date":1661325278,"post_id":73468080,"comment_id":129741760,"body_markdown":"@ScaryWombat Working now. Thanks !","body":"@ScaryWombat Working now. Thanks !"}],"answers":[{"tags":[],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661326899,"creation_date":1661325397,"answer_id":73468912,"question_id":73468080,"body_markdown":"Below code snippet is working fine.\r\n\r\nThanks @ScaryWombat for suggestion\r\n\r\n3 param method of `scheduleJob` had to be used with REPLACE boolean as `true`. \r\n```\r\n    @PostConstruct\r\n    public void assignJobs() throws IOException, SchedulerException {\r\n        JobDetail jobDetail = JobBuilder.newJob(CollectTransactionDataJob.class)\r\n                .withIdentity(CollectTransactionDataJob.NAME, CollectTransactionDataJob.GROUP)\r\n                .withDescription(CollectTransactionDataJob.DESCRIPTION)\r\n                .storeDurably()\r\n                .build();\r\n\r\n        Trigger trigger = TriggerBuilder.newTrigger()\r\n                .forJob(jobDetail)\r\n                .withIdentity(jobDetail.getKey().getName(), CollectTransactionDataJob.TRIGGER_GROUP)\r\n                .withDescription(CollectTransactionDataJob.TRIGGER_DESCRIPTION)\r\n                .withSchedule(CronScheduleBuilder.dailyAtHourAndMinute(12, 41))\r\n                .build();\r\n        Set&lt;Trigger&gt; setTrigger = new HashSet&lt;&gt;();\r\n        setTrigger.add(trigger);\r\n\r\n        Scheduler scheduler = quartzConfig.schedulerFactoryBean().getScheduler();\r\n        scheduler.scheduleJob(jobDetail, setTrigger, true); // enable REPLACE here\r\n    }\r\n```","title":"Quartz scheduling a job on every Application Run in Spring boot","body":"<p>Below code snippet is working fine.</p>\n<p>Thanks @ScaryWombat for suggestion</p>\n<p>3 param method of <code>scheduleJob</code> had to be used with REPLACE boolean as <code>true</code>.</p>\n<pre><code>    @PostConstruct\n    public void assignJobs() throws IOException, SchedulerException {\n        JobDetail jobDetail = JobBuilder.newJob(CollectTransactionDataJob.class)\n                .withIdentity(CollectTransactionDataJob.NAME, CollectTransactionDataJob.GROUP)\n                .withDescription(CollectTransactionDataJob.DESCRIPTION)\n                .storeDurably()\n                .build();\n\n        Trigger trigger = TriggerBuilder.newTrigger()\n                .forJob(jobDetail)\n                .withIdentity(jobDetail.getKey().getName(), CollectTransactionDataJob.TRIGGER_GROUP)\n                .withDescription(CollectTransactionDataJob.TRIGGER_DESCRIPTION)\n                .withSchedule(CronScheduleBuilder.dailyAtHourAndMinute(12, 41))\n                .build();\n        Set&lt;Trigger&gt; setTrigger = new HashSet&lt;&gt;();\n        setTrigger.add(trigger);\n\n        Scheduler scheduler = quartzConfig.schedulerFactoryBean().getScheduler();\n        scheduler.scheduleJob(jobDetail, setTrigger, true); // enable REPLACE here\n    }\n</code></pre>\n"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661326899,"creation_date":1661320636,"question_id":73468080,"body_markdown":"I have a spring quartz application.\r\n\r\nIt is scheduling a cron every time I run the application. I want it not to set the cron again if job already exist.\r\n\r\nCode for scheduling\r\n```\r\n    @PostConstruct\r\n    public void assignJobs() throws IOException, SchedulerException {\r\n        JobDetail jobDetail = JobBuilder.newJob(CollectTransactionDataJob.class)\r\n                .withIdentity(UUID.randomUUID().toString(), CollectTransactionDataJob.GROUP)\r\n                .withDescription(CollectTransactionDataJob.DESCRIPTION)\r\n                .storeDurably()\r\n                .build();\r\n\r\n        Trigger trigger = TriggerBuilder.newTrigger()\r\n                .forJob(jobDetail)\r\n                .withIdentity(jobDetail.getKey().getName(), CollectTransactionDataJob.TRIGGER_GROUP)\r\n                .withDescription(CollectTransactionDataJob.TRIGGER_DESCRIPTION)\r\n                .withSchedule(CronScheduleBuilder.dailyAtHourAndMinute(10, 30))\r\n                .build();\r\n\r\n        Scheduler scheduler = quartzConfig.schedulerFactoryBean().getScheduler();\r\n        scheduler.scheduleJob(jobDetail, trigger);\r\n    }\r\n```\r\n\r\nExpected behaviour:\r\n\r\n```\r\nIf CRON time is 10:30\r\nCurrent time is 10:00\r\nBetween 10:00 and 10:30 the apllication in RUN 2 times\r\nThen at 10:30, the CRON should RUN 1 time. \r\n```\r\n\r\nObserved behaviour\r\n```\r\nAt 10:30, the CRON RUNs 2 times. \r\n```\r\n\r\nQuartz properties\r\n```\r\norg.quartz.jobStore.class = org.springframework.scheduling.quartz.LocalDataSourceJobStore\r\norg.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n```","title":"Quartz scheduling a job on every Application Run in Spring boot","body":"<p>I have a spring quartz application.</p>\n<p>It is scheduling a cron every time I run the application. I want it not to set the cron again if job already exist.</p>\n<p>Code for scheduling</p>\n<pre><code>    @PostConstruct\n    public void assignJobs() throws IOException, SchedulerException {\n        JobDetail jobDetail = JobBuilder.newJob(CollectTransactionDataJob.class)\n                .withIdentity(UUID.randomUUID().toString(), CollectTransactionDataJob.GROUP)\n                .withDescription(CollectTransactionDataJob.DESCRIPTION)\n                .storeDurably()\n                .build();\n\n        Trigger trigger = TriggerBuilder.newTrigger()\n                .forJob(jobDetail)\n                .withIdentity(jobDetail.getKey().getName(), CollectTransactionDataJob.TRIGGER_GROUP)\n                .withDescription(CollectTransactionDataJob.TRIGGER_DESCRIPTION)\n                .withSchedule(CronScheduleBuilder.dailyAtHourAndMinute(10, 30))\n                .build();\n\n        Scheduler scheduler = quartzConfig.schedulerFactoryBean().getScheduler();\n        scheduler.scheduleJob(jobDetail, trigger);\n    }\n</code></pre>\n<p>Expected behaviour:</p>\n<pre><code>If CRON time is 10:30\nCurrent time is 10:00\nBetween 10:00 and 10:30 the apllication in RUN 2 times\nThen at 10:30, the CRON should RUN 1 time. \n</code></pre>\n<p>Observed behaviour</p>\n<pre><code>At 10:30, the CRON RUNs 2 times. \n</code></pre>\n<p>Quartz properties</p>\n<pre><code>org.quartz.jobStore.class = org.springframework.scheduling.quartz.LocalDataSourceJobStore\norg.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\n</code></pre>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":3,"creation_date":1661161280,"post_id":73442986,"comment_id":129697449,"body_markdown":"Use a StringBuilder instead of += operator. Each time you use +=, it requires a new String to be constructed.","body":"Use a StringBuilder instead of += operator. Each time you use +=, it requires a new String to be constructed."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1661161294,"post_id":73442986,"comment_id":129697455,"body_markdown":"a StringBuilder can be better but it really depends on what you have to do whith the string","body":"a StringBuilder can be better but it really depends on what you have to do whith the string"},{"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"score":1,"creation_date":1661161440,"post_id":73442986,"comment_id":129697501,"body_markdown":"In fact, i would like to concatenate all values into a single string, then convert my string to Base64. To send response to an http request","body":"In fact, i would like to concatenate all values into a single string, then convert my string to Base64. To send response to an http request"},{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":0,"creation_date":1661161596,"post_id":73442986,"comment_id":129697565,"body_markdown":"You may also use a StringWriter, if you prefer to use I/O facilities. It&#39;s especially interesting if you use String.format a lot, you can replace it with PrintWriter.printf and so you will maybe make less string constructions. Ultimately it probably uses StringBuilder at the end.","body":"You may also use a StringWriter, if you prefer to use I/O facilities. It&#39;s especially interesting if you use String.format a lot, you can replace it with PrintWriter.printf and so you will maybe make less string constructions. Ultimately it probably uses StringBuilder at the end."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1661162071,"post_id":73442986,"comment_id":129697706,"body_markdown":"What is `(datas[k][j] + &quot;&quot;).getBytes()` intended to do?  I understand `datas[k][j] + &quot;&quot;` ... but why are you calling `getBytes()` on it and then concatenating the resulting byte array?  Note that `result += /* a byte array */` is NOT going to append the string.  It is going to call `toString()` on the `byte[]` which while give you something like `[B@xxxxxxxx` where the `xxxxxxxx` is the byte array&#39;s identity hashcode.","body":"What is <code>(datas[k][j] + &quot;&quot;).getBytes()</code> intended to do?  I understand <code>datas[k][j] + &quot;&quot;</code> ... but why are you calling <code>getBytes()</code> on it and then concatenating the resulting byte array?  Note that <code>result += &#47;* a byte array *&#47;</code> is NOT going to append the string.  It is going to call <code>toString()</code> on the <code>byte[]</code> which while give you something like <code>[B@xxxxxxxx</code> where the <code>xxxxxxxx</code> is the byte array&#39;s identity hashcode."},{"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"score":0,"creation_date":1661162233,"post_id":73442986,"comment_id":129697768,"body_markdown":"@StephenC I hate to convert to Base64 the string result. It will be easier to retrieve values after decoding i it is byte[]. Because each value will have the same size, don&#39;t you think ?","body":"@StephenC I hate to convert to Base64 the string result. It will be easier to retrieve values after decoding i it is byte[]. Because each value will have the same size, don&#39;t you think ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1661162398,"post_id":73442986,"comment_id":129697825,"body_markdown":"What you are doing will NOT convert to Base64.  It will actually generate bunch of (basically) meaningless nonsense that is unrelated to the data that you are trying to ... encode.","body":"What you are doing will NOT convert to Base64.  It will actually generate bunch of (basically) meaningless nonsense that is unrelated to the data that you are trying to ... encode."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1661162634,"post_id":73442986,"comment_id":129697895,"body_markdown":"If you want a **real** solution to your **real** problem, you need to explain exactly what you are trying to do here.   Are you trying to turn the array into readable text?  Or are you trying to encode it in binary ... and Base64 encode the binary?  Or ... something else?  Asking for a faster version of code that generates nonsense will just give you nonsense faster.","body":"If you want a <b>real</b> solution to your <b>real</b> problem, you need to explain exactly what you are trying to do here.   Are you trying to turn the array into readable text?  Or are you trying to encode it in binary ... and Base64 encode the binary?  Or ... something else?  Asking for a faster version of code that generates nonsense will just give you nonsense faster."},{"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"score":0,"creation_date":1661169350,"post_id":73442986,"comment_id":129700116,"body_markdown":"In fact there is no separator in `String result = &quot;10.0,15.1,45.6,25.4.....&quot;` but i added it for lisibility","body":"In fact there is no separator in <code>String result = &quot;10.0,15.1,45.6,25.4.....&quot;</code> but i added it for lisibility"},{"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"score":0,"creation_date":1661183203,"post_id":73442986,"comment_id":129705749,"body_markdown":"@user16320675 ` String s = new String(bytes, StandardCharsets.UTF_8);` with this ?","body":"@user16320675 ` String s = new String(bytes, StandardCharsets.UTF_8);` with this ?"},{"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"score":0,"creation_date":1661258438,"post_id":73442986,"comment_id":129724721,"body_markdown":"Ok ! I understand what you mean. If a get `[B@7ab2fe1`, there is no way to retrieve the original value ? I was thinking...","body":"Ok ! I understand what you mean. If a get <code>[B@7ab2fe1</code>, there is no way to retrieve the original value ? I was thinking..."}],"answers":[{"tags":[],"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1661161532,"creation_date":1661161532,"answer_id":73443108,"question_id":73442986,"body_markdown":"Use StringBuilder instead of string for result. This will reduce time to few secs.\r\nas given below\r\n```\r\nStringBuilder result = new StringBuilder();\r\n        int[] shape = {2800,1700};\r\n        for(int k=0; k&lt;shape[0]; k++){\r\n            for(int j=0; j&lt;shape[1]; j++){\r\n                result.append ((datas[k][j] + &quot;&quot;).getBytes() );\r\n            }\r\n        }\r\n```","title":"How to concatenate millions array records to a single string faster?","body":"<p>Use StringBuilder instead of string for result. This will reduce time to few secs.\nas given below</p>\n<pre><code>StringBuilder result = new StringBuilder();\n        int[] shape = {2800,1700};\n        for(int k=0; k&lt;shape[0]; k++){\n            for(int j=0; j&lt;shape[1]; j++){\n                result.append ((datas[k][j] + &quot;&quot;).getBytes() );\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73443108,"answer_count":1,"score":0,"last_activity_date":1661326724,"creation_date":1661160891,"question_id":73442986,"body_markdown":"I am trying to concatenate all values of a 2D array to a single String.\r\nBut performance is really impacted by size of the array (2800 X 1700).\r\nI there a better way to do it ? \r\n\r\nThank you ! \r\n\r\n    float[][] datas = obj.getMatrix();\r\n    String result = &quot;&quot;;\r\n    int[] shape = {2800,1700};\r\n    for(k=0; k&lt;shape[0]; k++){\r\n       for(j=0; j&lt;shape[1]; j++){\r\n          result += (datas[k][j] + &quot;&quot;).getBytes();\r\n       }\r\n    }\r\n\r\n\r\n**UPDATE**\r\n\r\nI am using unidata netCDF java API to convert my data for ncML response. \r\n\r\nMy float[][] gives me some values that i want to add to a list. \r\n\r\nInstead of doing a `String result = &quot;10.0,15.1,45.6,25.4.....&quot;` I want to convert each value to byte[]. My string will look like `result = &quot;[B@xxxxxxxx[B@xxxxxxxx[B@xxxxxxxx[B@xxxxxxxx....&quot;`\r\n\r\nThen,  I can convert my result into Base64 using `Base64.getEncoder().encode(result.getBytes())`\r\n\r\nIt will look like : \r\n\r\n    float[][] datas = obj.getMatrix();\r\n        StringBuffer result = new StringBuffer();\r\n        int[] shape = {2800,1700};\r\n        for(k=0; k&lt;shape[0]; k++){\r\n           for(j=0; j&lt;shape[1]; j++){\r\n              result.append((datas[k][j] + &quot;&quot;).getBytes());\r\n           }\r\n        }\r\n    byte[] encodedByte = Base64.getEcnoder().encode(result);\r\n    String encodedStr = new String(result);\r\n\r\nThen, when user get the response, he will decode the result, obtain the `&quot;[B@xxxxxxxx[B@xxxxxxxx[B@xxxxxxxx[B@xxxxxxxx....&quot;` responseand can identify values\r\n\r\n\r\n**UPDATE 2**\r\n\r\nThanks to all the comments, I understand what it cannot works.\r\nFinally, I decided to just do : `result.append(datas[k][j] + &quot;,&quot;);`","title":"How to concatenate millions array records to a single string faster?","body":"<p>I am trying to concatenate all values of a 2D array to a single String.\nBut performance is really impacted by size of the array (2800 X 1700).\nI there a better way to do it ?</p>\n<p>Thank you !</p>\n<pre><code>float[][] datas = obj.getMatrix();\nString result = &quot;&quot;;\nint[] shape = {2800,1700};\nfor(k=0; k&lt;shape[0]; k++){\n   for(j=0; j&lt;shape[1]; j++){\n      result += (datas[k][j] + &quot;&quot;).getBytes();\n   }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>I am using unidata netCDF java API to convert my data for ncML response.</p>\n<p>My float[][] gives me some values that i want to add to a list.</p>\n<p>Instead of doing a <code>String result = &quot;10.0,15.1,45.6,25.4.....&quot;</code> I want to convert each value to byte[]. My string will look like <code>result = &quot;[B@xxxxxxxx[B@xxxxxxxx[B@xxxxxxxx[B@xxxxxxxx....&quot;</code></p>\n<p>Then,  I can convert my result into Base64 using <code>Base64.getEncoder().encode(result.getBytes())</code></p>\n<p>It will look like :</p>\n<pre><code>float[][] datas = obj.getMatrix();\n    StringBuffer result = new StringBuffer();\n    int[] shape = {2800,1700};\n    for(k=0; k&lt;shape[0]; k++){\n       for(j=0; j&lt;shape[1]; j++){\n          result.append((datas[k][j] + &quot;&quot;).getBytes());\n       }\n    }\nbyte[] encodedByte = Base64.getEcnoder().encode(result);\nString encodedStr = new String(result);\n</code></pre>\n<p>Then, when user get the response, he will decode the result, obtain the <code>&quot;[B@xxxxxxxx[B@xxxxxxxx[B@xxxxxxxx[B@xxxxxxxx....&quot;</code> responseand can identify values</p>\n<p><strong>UPDATE 2</strong></p>\n<p>Thanks to all the comments, I understand what it cannot works.\nFinally, I decided to just do : <code>result.append(datas[k][j] + &quot;,&quot;);</code></p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661316929,"post_id":73467579,"comment_id":129739765,"body_markdown":"Look at `File.listFiles`. It&#39;s not clear what your question has to do with JSON?","body":"Look at <code>File.listFiles</code>. It&#39;s not clear what your question has to do with JSON?"},{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":1,"creation_date":1661321852,"post_id":73467579,"comment_id":129740741,"body_markdown":"I&#39;ve edited the tags.  This question is about file I/O, not JSON or JSON Path.","body":"I&#39;ve edited the tags.  This question is about file I/O, not JSON or JSON Path."},{"owner":{"account_id":16125672,"reputation":141,"user_id":11640474,"display_name":"foragerEngineer"},"score":0,"creation_date":1661323687,"post_id":73467579,"comment_id":129741247,"body_markdown":"@tgdavies Thank you, and you&#39;re right, this should have anything to do with reading specifically a JSON file, rather reading a file path using Java methods. I&#39;m still looking into the `listFiles` method at the moment to see how I can achieve this.","body":"@tgdavies Thank you, and you&#39;re right, this should have anything to do with reading specifically a JSON file, rather reading a file path using Java methods. I&#39;m still looking into the <code>listFiles</code> method at the moment to see how I can achieve this."},{"owner":{"account_id":16125672,"reputation":141,"user_id":11640474,"display_name":"foragerEngineer"},"score":0,"creation_date":1661325643,"post_id":73467579,"comment_id":129741885,"body_markdown":"@tgdavies I am able to get what I need from your suggestion. The `listFiles` method was the way to go. Thank you very much.","body":"@tgdavies I am able to get what I need from your suggestion. The <code>listFiles</code> method was the way to go. Thank you very much."}],"owner":{"account_id":16125672,"reputation":141,"user_id":11640474,"display_name":"foragerEngineer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661326347,"creation_date":1661316670,"question_id":73467579,"body_markdown":"How do I read a JSON file path and ignore the timestamp or any other characters in the file name? Any help is appreciated, thank you!\r\n\r\n**Goal:**\r\n&lt;br/&gt;\r\nRead a JSON file starting with ex: `Example Data Document` and ignore the rest of the time stamp.\r\n\r\n**Current workflow:**\r\n&lt;br/&gt;\r\nThe file path has a common name that it always starts with (ex:`Example Data Document`.)\r\n&lt;br/&gt;\r\nAt the end of the common name, is usually a time stamp. (*I download this file repeatedly on  a daily basis in my web automation and the file name always has an updated timestamp in the file name*)\r\n\r\nHow I&#39;m currently reading the file path:\r\n\r\n    Boolean filePath = JsonPath.from(new File(&quot;/User/myName/Desktop/Example Data Document-768-8_23_2022\\,\\ 4_5102\\ PM.json&quot;))\r\n\r\nResearch I&#39;ve done:\r\n&lt;br/&gt;\r\nLooked into Filters and Query but nothing in here seems to indicate what I need.\r\n&lt;br/&gt;\r\n[https://support.smartbear.com/][1]\r\n\r\n\r\n**EDIT:**\r\nANSWERED BY: \r\n&lt;br/&gt;@tgdavies in comment section of this post.\r\n\r\n**Resource:** [listFiles Java method][2]\r\n\r\n\r\n  [1]: https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html\r\n  [2]: https://www.geeksforgeeks.org/file-listfiles-method-in-java-with-examples/\r\n\r\nI am able to read from a directory using the `fileList` method and filter through only the needed file path name by getting the pre-fix(&#39;Example Data Document&#39;) and suffix (&#39;.json&#39;) and ignoring any other characters.\r\n\r\n    \r\n\r\n        import java.io.*;\r\n      \r\n    public class solution {\r\n        public static void main(String args[])\r\n        {\r\n      \r\n            // try-catch block to handle exceptions\r\n            try {\r\n      \r\n                // Create a file object\r\n                File f = new File(&quot;/Users/yourUser/Downloads&quot;);\r\n      \r\n                // Create a FilenameFilter\r\n                FilenameFilter filter = new FilenameFilter() {\r\n      \r\n                    public boolean accept(File f, String name)\r\n                    {\r\n                        return name.startsWith(&quot;Example Data Document&quot;);\r\n                    }\r\n                };\r\n      \r\n                // Get all the names of the files present\r\n                // in the given directory\r\n                // and whose names start with &quot;Example Data Document&quot;\r\n                File[] files = f.listFiles(filter);\r\n    \r\n                // Display the names of the files\r\n                for (int i = 0; i &lt; files.length; i++) {\r\n                    System.out.println(files[i].getName());\r\n                }\r\n            }\r\n            catch (Exception e) {\r\n                System.err.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How Do I Read A JSON File Path And Ignore Certain Characters?","body":"<p>How do I read a JSON file path and ignore the timestamp or any other characters in the file name? Any help is appreciated, thank you!</p>\n<p><strong>Goal:</strong>\n<br/>\nRead a JSON file starting with ex: <code>Example Data Document</code> and ignore the rest of the time stamp.</p>\n<p><strong>Current workflow:</strong>\n<br/>\nThe file path has a common name that it always starts with (ex:<code>Example Data Document</code>.)\n<br/>\nAt the end of the common name, is usually a time stamp. (<em>I download this file repeatedly on  a daily basis in my web automation and the file name always has an updated timestamp in the file name</em>)</p>\n<p>How I'm currently reading the file path:</p>\n<pre><code>Boolean filePath = JsonPath.from(new File(&quot;/User/myName/Desktop/Example Data Document-768-8_23_2022\\,\\ 4_5102\\ PM.json&quot;))\n</code></pre>\n<p>Research I've done:\n<br/>\nLooked into Filters and Query but nothing in here seems to indicate what I need.\n<br/>\n<a href=\"https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html\" rel=\"nofollow noreferrer\">https://support.smartbear.com/</a></p>\n<p><strong>EDIT:</strong>\nANSWERED BY:\n<br/>@tgdavies in comment section of this post.</p>\n<p><strong>Resource:</strong> <a href=\"https://www.geeksforgeeks.org/file-listfiles-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">listFiles Java method</a></p>\n<p>I am able to read from a directory using the <code>fileList</code> method and filter through only the needed file path name by getting the pre-fix('Example Data Document') and suffix ('.json') and ignoring any other characters.</p>\n<pre><code>    import java.io.*;\n  \npublic class solution {\n    public static void main(String args[])\n    {\n  \n        // try-catch block to handle exceptions\n        try {\n  \n            // Create a file object\n            File f = new File(&quot;/Users/yourUser/Downloads&quot;);\n  \n            // Create a FilenameFilter\n            FilenameFilter filter = new FilenameFilter() {\n  \n                public boolean accept(File f, String name)\n                {\n                    return name.startsWith(&quot;Example Data Document&quot;);\n                }\n            };\n  \n            // Get all the names of the files present\n            // in the given directory\n            // and whose names start with &quot;Example Data Document&quot;\n            File[] files = f.listFiles(filter);\n\n            // Display the names of the files\n            for (int i = 0; i &lt; files.length; i++) {\n                System.out.println(files[i].getName());\n            }\n        }\n        catch (Exception e) {\n            System.err.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1560301855,"creation_date":1410447126,"answer_id":25790672,"question_id":25789907,"body_markdown":"Good catch!\r\n\r\nYou can use on `@Bean` method level, but in that case you have to specify your class as a String literal: \r\n\r\n    @Bean\r\n    @ConditionalOnClass(name =&quot;de.MyService&quot;)\r\n    public MyConditionalBean statistics() {\r\n        return new MyConditionalBean();\r\n    }\r\n\r\nI don&#39;t remeber already &quot;why&quot;, but it is from an existing code of Spring Boot sources.","title":"How does spring-boot @ConditionalOnClass work?","body":"<p>Good catch!</p>\n\n<p>You can use on <code>@Bean</code> method level, but in that case you have to specify your class as a String literal: </p>\n\n<pre><code>@Bean\n@ConditionalOnClass(name =\"de.MyService\")\npublic MyConditionalBean statistics() {\n    return new MyConditionalBean();\n}\n</code></pre>\n\n<p>I don't remeber already \"why\", but it is from an existing code of Spring Boot sources.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26913,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":25790672,"answer_count":1,"score":28,"last_activity_date":1661326121,"creation_date":1410445190,"question_id":25789907,"body_markdown":"How exactly does the `@ConditionalOnClass` annotation work?\r\n\r\nMy goal is to load a specific bean only if the `jar` providing this class is included in the classpath.\r\n\r\nI thought the I could annotate a `@Bean` with `@ConditionalOnClass(MyService.class)` and declaring the dependency in maven as optional:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;de.my&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;my-framework&lt;artifactId&gt;\r\n\t    &lt;optional&gt;true&lt;/optional&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n    @Bean\r\n    @ConditionalOnClass(MyService.class)\r\n    public MyConditionalBean statistics() {\r\n    \treturn new MyConditionalBean();\r\n    }\r\n\r\nNow, anyone having `my-framework` as dependency should get that bean automatically wired. But anyone not having the dependency should skip it.\r\n\r\nBut when I start the app, I get the following error:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: de.MyService.class\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702) ~[catalina.jar:7.0.50]\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547) ~[catalina.jar:7.0.50]\r\n\r\nSo I&#39;m probably doing something wrong. How can I then create the bean conditional on the dependency jars and the classes contained in the classpath?\r\n\r\n\r\nFrom the spring docs:\r\n\r\n&gt; The classes that must be present. Since this annotation parsed by\r\n&gt; loading class bytecode it is safe to specify classes here that may\r\n&gt; ultimately not be on the classpath.\r\n\r\n\r\nBut the error states different...","title":"How does spring-boot @ConditionalOnClass work?","body":"<p>How exactly does the <code>@ConditionalOnClass</code> annotation work?</p>\n\n<p>My goal is to load a specific bean only if the <code>jar</code> providing this class is included in the classpath.</p>\n\n<p>I thought the I could annotate a <code>@Bean</code> with <code>@ConditionalOnClass(MyService.class)</code> and declaring the dependency in maven as optional:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;de.my&lt;/groupId&gt;\n    &lt;artifactId&gt;my-framework&lt;artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n\n@Bean\n@ConditionalOnClass(MyService.class)\npublic MyConditionalBean statistics() {\n    return new MyConditionalBean();\n}\n</code></pre>\n\n<p>Now, anyone having <code>my-framework</code> as dependency should get that bean automatically wired. But anyone not having the dependency should skip it.</p>\n\n<p>But when I start the app, I get the following error:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: de.MyService.class\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702) ~[catalina.jar:7.0.50]\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547) ~[catalina.jar:7.0.50]\n</code></pre>\n\n<p>So I'm probably doing something wrong. How can I then create the bean conditional on the dependency jars and the classes contained in the classpath?</p>\n\n<p>From the spring docs:</p>\n\n<blockquote>\n  <p>The classes that must be present. Since this annotation parsed by\n  loading class bytecode it is safe to specify classes here that may\n  ultimately not be on the classpath.</p>\n</blockquote>\n\n<p>But the error states different...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1497776849,"post_id":44613395,"comment_id":76213169,"body_markdown":"Welcome to Stack Overflow!  Please [take the tour](http://stackoverflow.com/tour) to see how the site works and what questions are on topic here, and edit your question accordingly.  See also: [Why is &quot;Can someone help me?&quot; not an actual question?](http://meta.stackoverflow.com/q/284236)","body":"Welcome to Stack Overflow!  Please <a href=\"http://stackoverflow.com/tour\">take the tour</a> to see how the site works and what questions are on topic here, and edit your question accordingly.  See also: <a href=\"http://meta.stackoverflow.com/q/284236\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1497776930,"post_id":44613395,"comment_id":76213187,"body_markdown":"Please do not use JavaScript snippets for anything other than JavaScript.","body":"Please do not use JavaScript snippets for anything other than JavaScript."},{"owner":{"display_name":"user8178386"},"score":0,"creation_date":1497778201,"post_id":44613395,"comment_id":76213537,"body_markdown":"boris come on help me man. your active on this, calling people out . just teach me bro i really need your help","body":"boris come on help me man. your active on this, calling people out . just teach me bro i really need your help"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497776682,"creation_date":1497776682,"answer_id":44613413,"question_id":44613395,"body_markdown":"Your `krakin` method has a `void` return type, which means it returns nothing. Therefore you can&#39;t pass it as an argument to `System.out.println`.\r\n\r\nYou can change it, for example, to return an int array:\r\n\r\n    public static int[] krakin(int[]x){\r\n\r\n        int[] rev = new int[x.length];\r\n        ...\r\n        return rev;\r\n    }\r\n\r\nThen you could print it in your main:\r\n\r\n    System.out.println(Arrays.toString(krakin(xxx)));","title":"How to reverse an array of numbers in java?","body":"<p>Your <code>krakin</code> method has a <code>void</code> return type, which means it returns nothing. Therefore you can't pass it as an argument to <code>System.out.println</code>.</p>\n\n<p>You can change it, for example, to return an int array:</p>\n\n<pre><code>public static int[] krakin(int[]x){\n\n    int[] rev = new int[x.length];\n    ...\n    return rev;\n}\n</code></pre>\n\n<p>Then you could print it in your main:</p>\n\n<pre><code>System.out.println(Arrays.toString(krakin(xxx)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299298,"reputation":4175,"user_id":1249545,"accept_rate":90,"display_name":"dvelopp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1497778842,"creation_date":1497778298,"answer_id":44613614,"question_id":44613395,"body_markdown":"With additional libraries it can be done within one line.\r\nIf we consider pure Java then I would write like this:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        int[] xxx = {1,3,5,7,9} ;\r\n        int[] reversed = reverseWithStream(xxx);\r\n        int[] reversed2 = reverseWithTempArray(xxx);\r\n\r\n        Arrays.stream(reversed).forEach(System.out::println);\r\n        Arrays.stream(reversed2).forEach(System.out::println);\r\n    }\r\n\r\n    private static int[] reverseWithStream(int[] array) {\r\n        return Arrays.stream(array)\r\n                    .boxed()\r\n                    .sorted(Collections.reverseOrder())\r\n                    .mapToInt(value -&gt; value)\r\n                    .toArray();\r\n    }\r\n\r\n    private static int[] reverseWithTempArray(int[] sourceArray) {\r\n        int[] tempArray = new int[sourceArray.length];\r\n        for (int i = 0; i &lt; tempArray.length; i++) {\r\n            tempArray[i] = sourceArray[sourceArray.length - 1 - i];\r\n        }\r\n        return tempArray;\r\n    }\r\nOne of the biggest benefits of this one is the fact that the previously created array is not affected.\r\nIn case of:\r\n\r\n java.util.Arrays#sort(int[])\r\n\r\nOr apache commons methods, the previously created array is affected. ","title":"How to reverse an array of numbers in java?","body":"<p>With additional libraries it can be done within one line.\nIf we consider pure Java then I would write like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] xxx = {1,3,5,7,9} ;\n    int[] reversed = reverseWithStream(xxx);\n    int[] reversed2 = reverseWithTempArray(xxx);\n\n    Arrays.stream(reversed).forEach(System.out::println);\n    Arrays.stream(reversed2).forEach(System.out::println);\n}\n\nprivate static int[] reverseWithStream(int[] array) {\n    return Arrays.stream(array)\n                .boxed()\n                .sorted(Collections.reverseOrder())\n                .mapToInt(value -&gt; value)\n                .toArray();\n}\n\nprivate static int[] reverseWithTempArray(int[] sourceArray) {\n    int[] tempArray = new int[sourceArray.length];\n    for (int i = 0; i &lt; tempArray.length; i++) {\n        tempArray[i] = sourceArray[sourceArray.length - 1 - i];\n    }\n    return tempArray;\n}\n</code></pre>\n\n<p>One of the biggest benefits of this one is the fact that the previously created array is not affected.\nIn case of:</p>\n\n<p>java.util.Arrays#sort(int[])</p>\n\n<p>Or apache commons methods, the previously created array is affected. </p>\n"},{"tags":[],"owner":{"account_id":26107482,"reputation":1,"user_id":19801972,"display_name":"reza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661326065,"creation_date":1660912397,"answer_id":73416865,"question_id":44613395,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n    int[] numbers = new int [100];\r\n    int j = numbers.length ;\r\n    for (int i = 0; i &lt;= 99; i++) {\r\n        numbers [i] = numbers [i] + j ;\r\n        j = j - 1 ;\r\n        System.out.println(numbers [i]);\r\n    }\r\n```    ","title":"How to reverse an array of numbers in java?","body":"<pre><code>public static void main(String[] args) {\n    int[] numbers = new int [100];\n    int j = numbers.length ;\n    for (int i = 0; i &lt;= 99; i++) {\n        numbers [i] = numbers [i] + j ;\n        j = j - 1 ;\n        System.out.println(numbers [i]);\n    }\n</code></pre>\n"}],"owner":{"display_name":"user8178386"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":6,"up_vote_count":4,"accepted_answer_id":44613614,"answer_count":3,"score":-2,"last_activity_date":1661326065,"creation_date":1497776581,"question_id":44613395,"body_markdown":"    import java.util.Arrays;\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n        int[] xxx={1,3,5,7,9};\r\n        System.out.println(Arrays.toString(krakin(xxx)));\r\n    }\r\n\r\n    public static int[] krakin(int[]x) {\r\n        for(int i=x.length-1;i&gt;=0;i--) {\r\n            int[]dev=new int[x.length-1];\r\n            dev[i]=x[i];\r\n\r\n        }\r\n        return dev[i];\r\n    }\r\n\r\n\r\n\r\nI&#39;m writing a method in java that reverses the order of the passed array.\r\nI&#39;m getting an error saying `void` is not allowed in my `main` method.\r\n\r\n    import java.util.Arrays;\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n        int[] xxx={1,3,5,7,9};\r\n        System.out.println(krakin(xxx));  \r\n    }\r\n      \r\n    public static void krakin(int[]x){\r\n        for(int i=x.length-1;i&gt;=0;i--){     \r\n      \r\n      \r\n        }\r\n    }\r\n\r\n","title":"How to reverse an array of numbers in java?","body":"<pre><code>import java.util.Arrays;\npublic class HelloWorld {\n    public static void main(String[] args) {\n    int[] xxx={1,3,5,7,9};\n    System.out.println(Arrays.toString(krakin(xxx)));\n}\n\npublic static int[] krakin(int[]x) {\n    for(int i=x.length-1;i&gt;=0;i--) {\n        int[]dev=new int[x.length-1];\n        dev[i]=x[i];\n\n    }\n    return dev[i];\n}\n</code></pre>\n<p>I'm writing a method in java that reverses the order of the passed array.\nI'm getting an error saying <code>void</code> is not allowed in my <code>main</code> method.</p>\n<pre><code>import java.util.Arrays;\npublic class HelloWorld {\n    public static void main(String[] args) {\n    int[] xxx={1,3,5,7,9};\n    System.out.println(krakin(xxx));  \n}\n  \npublic static void krakin(int[]x){\n    for(int i=x.length-1;i&gt;=0;i--){     \n  \n  \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1661327146,"post_id":73468837,"comment_id":129742418,"body_markdown":"as a workaround you can declare `FieldNotOwnedException` to extend `RunntimeException` instead of just `Exception` which is checked and does not exist in the signature of the Functional Interface.","body":"as a workaround you can declare <code>FieldNotOwnedException</code> to extend <code>RunntimeException</code> instead of just <code>Exception</code> which is checked and does not exist in the signature of the Functional Interface."}],"answers":[{"tags":[],"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661326049,"creation_date":1661326049,"answer_id":73469040,"question_id":73468837,"body_markdown":"Optional field can contain empty value(in case of null) or value. but your method return type is list. so you need to collect values in a list\r\n\r\n        public List&lt;HiveResponse&gt; getFieldHives(String token, Long id) throws UserNotFoundException, FieldNotFoundException {\r\n    Optional&lt;FieldDAO&gt; optionalFieldDAO = fieldRepository.findById(id);\r\n            List&lt;HiveResponse&gt; hiveResponses = new ArrayList&lt;&gt;();\r\n            optionalFieldDAO.ifPresent(dao-&gt; {\r\n                hiveResponses.addAll(createFieldHivesResponse(dao,user));\r\n            });\r\n            return hiveResponses;\r\n    }\r\n    \r\n    private List&lt;HiveResponse&gt; createFieldHivesResponse(FieldDAO fieldDAO, UserDAO user) throws FieldNotOwnedException {\r\n            if(!user.getFieldDAOList().contains(fieldDAO)) throw new FieldNotOwnedException(&quot;Field not owned!&quot;);\r\n            \r\n            //rest of code\r\n        }\r\n\r\n ","title":"Return .map lambda with function that throws exception","body":"<p>Optional field can contain empty value(in case of null) or value. but your method return type is list. so you need to collect values in a list</p>\n<pre><code>    public List&lt;HiveResponse&gt; getFieldHives(String token, Long id) throws UserNotFoundException, FieldNotFoundException {\nOptional&lt;FieldDAO&gt; optionalFieldDAO = fieldRepository.findById(id);\n        List&lt;HiveResponse&gt; hiveResponses = new ArrayList&lt;&gt;();\n        optionalFieldDAO.ifPresent(dao-&gt; {\n            hiveResponses.addAll(createFieldHivesResponse(dao,user));\n        });\n        return hiveResponses;\n}\n\nprivate List&lt;HiveResponse&gt; createFieldHivesResponse(FieldDAO fieldDAO, UserDAO user) throws FieldNotOwnedException {\n        if(!user.getFieldDAOList().contains(fieldDAO)) throw new FieldNotOwnedException(&quot;Field not owned!&quot;);\n        \n        //rest of code\n    }\n</code></pre>\n"}],"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661326049,"creation_date":1661324963,"question_id":73468837,"body_markdown":"Is there any way to use mapping optional entity as shown below when the function called in lambda throws an exception and when it does I want to pass this exception to function that called getFieldHives in first place, IDE force me to wrap it in try/catch block and when trying to throw it again i end up with loop of try/catch. Or perhaps there is other way of approaching this issue, my main goal is to avoid using optionalFieldDAO.isPresent() and optionalFieldDAO.get().\r\n\r\n```\r\npublic List&lt;HiveResponse&gt; getFieldHives(String token, Long id) throws UserNotFoundException, FieldNotFoundException {\r\nOptional&lt;FieldDAO&gt; optionalFieldDAO = fieldRepository.findById(id);\r\n\r\n        return optionalFieldDAO\r\n                .map(fieldDAO -&gt; createFieldHivesResponse(fieldDAO, user))\r\n                .orElseThrow(() -&gt; new FieldNotFoundException(&quot;Field not found!&quot;));\r\n}\r\n\r\nprivate List&lt;HiveResponse&gt; createFieldHivesResponse(FieldDAO fieldDAO, UserDAO user) throws FieldNotOwnedException {\r\n        if(!user.getFieldDAOList().contains(fieldDAO)) throw new FieldNotOwnedException(&quot;Field not owned!&quot;);\r\n        \r\n        //rest of code\r\n    }\r\n```","title":"Return .map lambda with function that throws exception","body":"<p>Is there any way to use mapping optional entity as shown below when the function called in lambda throws an exception and when it does I want to pass this exception to function that called getFieldHives in first place, IDE force me to wrap it in try/catch block and when trying to throw it again i end up with loop of try/catch. Or perhaps there is other way of approaching this issue, my main goal is to avoid using optionalFieldDAO.isPresent() and optionalFieldDAO.get().</p>\n<pre><code>public List&lt;HiveResponse&gt; getFieldHives(String token, Long id) throws UserNotFoundException, FieldNotFoundException {\nOptional&lt;FieldDAO&gt; optionalFieldDAO = fieldRepository.findById(id);\n\n        return optionalFieldDAO\n                .map(fieldDAO -&gt; createFieldHivesResponse(fieldDAO, user))\n                .orElseThrow(() -&gt; new FieldNotFoundException(&quot;Field not found!&quot;));\n}\n\nprivate List&lt;HiveResponse&gt; createFieldHivesResponse(FieldDAO fieldDAO, UserDAO user) throws FieldNotOwnedException {\n        if(!user.getFieldDAOList().contains(fieldDAO)) throw new FieldNotOwnedException(&quot;Field not owned!&quot;);\n        \n        //rest of code\n    }\n</code></pre>\n"},{"tags":["java","junit","mocking","mockito","junit5"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661325831,"post_id":73468906,"comment_id":129741952,"body_markdown":"If getSession() belongs to an instance, you should mock() that instance before stubbing the method with when(). If it&#39;s a static method instead, you should use mockStatic of power mockito","body":"If getSession() belongs to an instance, you should mock() that instance before stubbing the method with when(). If it&#39;s a static method instead, you should use mockStatic of power mockito"},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1661325841,"post_id":73468906,"comment_id":129741956,"body_markdown":"Are you writing integration tests or unit tests. If it is unit test then you have to mock external dependencies. getSession() is one such thing","body":"Are you writing integration tests or unit tests. If it is unit test then you have to mock external dependencies. getSession() is one such thing"},{"owner":{"account_id":11598071,"reputation":1,"user_id":8496176,"display_name":"Rupendra Singh"},"score":0,"creation_date":1661325945,"post_id":73468906,"comment_id":129741993,"body_markdown":"@Akashtiwari it is unit test could you help how could i mock that I am trying it from long not succeeding","body":"@Akashtiwari it is unit test could you help how could i mock that I am trying it from long not succeeding"},{"owner":{"account_id":11598071,"reputation":1,"user_id":8496176,"display_name":"Rupendra Singh"},"score":0,"creation_date":1661326055,"post_id":73468906,"comment_id":129742032,"body_markdown":"@MatteoNNZ how could I mock that it belongs to an instance.","body":"@MatteoNNZ how could I mock that it belongs to an instance."},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1661326126,"post_id":73468906,"comment_id":129742060,"body_markdown":"@RupendraSingh check this https://stackoverflow.com/questions/41583346/mocking-hibernate-session if it can help you","body":"@RupendraSingh check this <a href=\"https://stackoverflow.com/questions/41583346/mocking-hibernate-session\" title=\"mocking hibernate session\">stackoverflow.com/questions/41583346/mocking-hibernate-sessi&zwnj;&#8203;on</a> if it can help you"},{"owner":{"account_id":11598071,"reputation":1,"user_id":8496176,"display_name":"Rupendra Singh"},"score":0,"creation_date":1661326366,"post_id":73468906,"comment_id":129742144,"body_markdown":"@Akashtiwari Tried this but it threw exception too , when passed like      when(getSession()).thenReturn(hibernateSession);","body":"@Akashtiwari Tried this but it threw exception too , when passed like      when(getSession()).thenReturn(hibernateSession);"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":2,"creation_date":1661328155,"post_id":73468906,"comment_id":129742809,"body_markdown":"Who does getSession belongs to? If you navigate it, in which class do you end and what is the specific instance of that class that you are using in your test? That is what you should mock. Mocking is simply about Mockito.mock(YourClass.class), this returns an instance of YourClass, and that is the instance you have to use in your test and mock the methods calls on.","body":"Who does getSession belongs to? If you navigate it, in which class do you end and what is the specific instance of that class that you are using in your test? That is what you should mock. Mocking is simply about Mockito.mock(YourClass.class), this returns an instance of YourClass, and that is the instance you have to use in your test and mock the methods calls on."}],"owner":{"account_id":11598071,"reputation":1,"user_id":8496176,"display_name":"Rupendra Singh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661325402,"creation_date":1661325345,"question_id":73468906,"body_markdown":"\r\n\r\nI am getting null pointer exception at getSession(). Unable to write JUnit for it to mock the method. Kindly help on the same.\r\n\r\n\r\n\r\n```@Override\r\n\tpublic void updateData (List&lt;Integer&gt; cashFlows) {\r\n\t\tLOGGER.debug(&quot;Inside updateData method in &quot;);\r\n\t\tLOGGER.debug(&quot;cashFlows Size &quot; +cashFlows.size());\r\n\t\ttry {\r\n\t\t\tString initialQuery = Constants.UPDATE_QUERY +cashFlows;\r\n\t\t\tinitialQuery = initialQuery.replace(&quot;[&quot;, &quot;(&quot;);\r\n\t\t\tinitialQuery = initialQuery.replace(&quot;]&quot;, &quot;)&quot;);\r\n\t\t\tLOGGER.debug(&quot;initialQuery: &quot; + initialQuery);\r\n\t\t\t\r\n\t\t\tQuery query = getSession().createNativeQuery(initialQuery);\r\n\t\t\tint updatedRows = query.executeUpdate();\r\n\t\t\tLOGGER.debug(&quot;Updated Rows : &quot; + updatedRows);\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tLOGGER.error(&quot;Error in updateData : &quot; + e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\n\r\nHow could I write it&#39;s Junit as it is giving exception at getSession().createNativeQuery(initialQuery)\r\n\r\n\r\nJUnit Code \r\n\r\n   ``` \r\n   @BeforeEach\r\n    public void setUp() throws SQLException {\r\n        when(getSession()).thenReturn(hibernateSession);\r\n        \r\n    }\r\n\r\n\r\n\r\n\t\r\n\t@Test\r\n\tpublic void updateDataTest()   {\r\n\t\t\r\n\t\tList&lt;Integer&gt; cashIdList=new ArrayList&lt;Integer&gt;();\r\n\t\tcashIdList.add(10);\r\n\t\t\r\n\t\tdaoImpl.updateData(cashIdList);\r\n\t\tverify(tmsCfsCashflowsDaoImpl,times(1)).updateData(cashIdList);\r\n\r\n\t}\t\r\n```\r\n","title":"Getting null pointer exception in Junit while mocking","body":"<p>I am getting null pointer exception at getSession(). Unable to write JUnit for it to mock the method. Kindly help on the same.</p>\n<pre><code>    public void updateData (List&lt;Integer&gt; cashFlows) {\n        LOGGER.debug(&quot;Inside updateData method in &quot;);\n        LOGGER.debug(&quot;cashFlows Size &quot; +cashFlows.size());\n        try {\n            String initialQuery = Constants.UPDATE_QUERY +cashFlows;\n            initialQuery = initialQuery.replace(&quot;[&quot;, &quot;(&quot;);\n            initialQuery = initialQuery.replace(&quot;]&quot;, &quot;)&quot;);\n            LOGGER.debug(&quot;initialQuery: &quot; + initialQuery);\n            \n            Query query = getSession().createNativeQuery(initialQuery);\n            int updatedRows = query.executeUpdate();\n            LOGGER.debug(&quot;Updated Rows : &quot; + updatedRows);\n        }\n        catch(Exception e) {\n            LOGGER.error(&quot;Error in updateData : &quot; + e);\n        }\n    }\n</code></pre>\n<p>How could I write it's Junit as it is giving exception at getSession().createNativeQuery(initialQuery)</p>\n<p>JUnit Code</p>\n<pre><code>@BeforeEach\n public void setUp() throws SQLException {\n     when(getSession()).thenReturn(hibernateSession);\n     \n }\n\n\n\n \n @Test\n public void updateDataTest()   {\n     \n     List&lt;Integer&gt; cashIdList=new ArrayList&lt;Integer&gt;();\n     cashIdList.add(10);\n     \n     daoImpl.updateData(cashIdList);\n     verify(tmsCfsCashflowsDaoImpl,times(1)).updateData(cashIdList);\n\n }   \n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":7597727,"reputation":2056,"user_id":5763413,"display_name":"blackbrandt"},"score":3,"creation_date":1661177907,"post_id":73446550,"comment_id":129703636,"body_markdown":"Are you talking about the `Tell, Don&#39;t Ask` principle? I don&#39;t see anything online about a Show, Don&#39;t Ask principle.","body":"Are you talking about the <code>Tell, Don&#39;t Ask</code> principle? I don&#39;t see anything online about a Show, Don&#39;t Ask principle."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1661178198,"post_id":73446550,"comment_id":129703774,"body_markdown":"You don&#39;t need getters for your example above. The `Point` class can access all its members so `this.x - p.x` would also work. That being said, it would be news to me that getters are frowned upon in java code. As long as those getter aren&#39;t for an internal field that doesn&#39;t need to be exposed to the outside. But being able to get a points x and y coordinates even outside of the class doesn&#39;t seem purposeless to me.","body":"You don&#39;t need getters for your example above. The <code>Point</code> class can access all its members so <code>this.x - p.x</code> would also work. That being said, it would be news to me that getters are frowned upon in java code. As long as those getter aren&#39;t for an internal field that doesn&#39;t need to be exposed to the outside. But being able to get a points x and y coordinates even outside of the class doesn&#39;t seem purposeless to me."},{"owner":{"account_id":22597918,"reputation":83,"user_id":16779934,"display_name":"Disdainty"},"score":0,"creation_date":1661325413,"post_id":73446550,"comment_id":129741802,"body_markdown":"I am sorry, I was indeed referring to Tell-Don&#39;t-Ask. Sorry for the confusion","body":"I am sorry, I was indeed referring to Tell-Don&#39;t-Ask. Sorry for the confusion"}],"answers":[{"tags":[],"owner":{"account_id":7602785,"reputation":7564,"user_id":5766732,"display_name":"Robert Br&#228;utigam"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1661177932,"creation_date":1661177932,"answer_id":73446621,"question_id":73446550,"body_markdown":"You are &quot;allowed&quot; to access the data stored in yourself as a `Point`. So a `Point` object can access data stored inside itself, but also in other `Point` objects.\r\n\r\nIn short, that does *not* violate Tell-don&#39;t-ask (I assume that is what you mean).\r\n\r\nAlso, you don&#39;t need a getter method. Fields marked &quot;private&quot; can be accessed from any method in the class, regardless of instances of that class. The reason for that is exactly the above.","title":"Tell-Don&#39;t-Ask principle for finding distance within same class","body":"<p>You are &quot;allowed&quot; to access the data stored in yourself as a <code>Point</code>. So a <code>Point</code> object can access data stored inside itself, but also in other <code>Point</code> objects.</p>\n<p>In short, that does <em>not</em> violate Tell-don't-ask (I assume that is what you mean).</p>\n<p>Also, you don't need a getter method. Fields marked &quot;private&quot; can be accessed from any method in the class, regardless of instances of that class. The reason for that is exactly the above.</p>\n"}],"owner":{"account_id":22597918,"reputation":83,"user_id":16779934,"display_name":"Disdainty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73446621,"answer_count":1,"score":2,"last_activity_date":1661325368,"creation_date":1661177668,"question_id":73446550,"body_markdown":"From what I understand of the Tell-Don&#39;t-Ask principle, my other classes should not be able to call upon the data stored in any other class. Hence, getters are frowned upon under this principle. In order to prevent access into the data, they are normally written as:\r\n\r\n    class Point {\r\n        private final double x;\r\n        private final double y;\r\n    }\r\n\r\nHowever, if I were to implement methods like distance between 2 points, I would need to access the x and y of the other point. In this case, I would need the getter method.\r\n\r\n    class Point {\r\n        private final double x;\r\n        private final double y;\r\n\r\n        Point(double x, double y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        private double getX() {\r\n            return this.x;\r\n        }\r\n\r\n        private double getY() {\r\n            return this.y;\r\n        }\r\n\r\n        public double distanceBetween(Point p) {\r\n            double dx = this.x - p.getX();\r\n            double dy = this.y - p.getY();\r\n            return Math.sqrt(dx * dx + dy * dy);\r\n        }\r\n    }\r\n\r\nWouldn&#39;t this violate the Tell-Don&#39;t-Ask principle? As now, I opened the data within the class to be accessed? Or is my understanding of the Tell-Don&#39;t-Ask principle wrong?\r\n\r\n\r\n","title":"Tell-Don&#39;t-Ask principle for finding distance within same class","body":"<p>From what I understand of the Tell-Don't-Ask principle, my other classes should not be able to call upon the data stored in any other class. Hence, getters are frowned upon under this principle. In order to prevent access into the data, they are normally written as:</p>\n<pre><code>class Point {\n    private final double x;\n    private final double y;\n}\n</code></pre>\n<p>However, if I were to implement methods like distance between 2 points, I would need to access the x and y of the other point. In this case, I would need the getter method.</p>\n<pre><code>class Point {\n    private final double x;\n    private final double y;\n\n    Point(double x, double y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    private double getX() {\n        return this.x;\n    }\n\n    private double getY() {\n        return this.y;\n    }\n\n    public double distanceBetween(Point p) {\n        double dx = this.x - p.getX();\n        double dy = this.y - p.getY();\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n}\n</code></pre>\n<p>Wouldn't this violate the Tell-Don't-Ask principle? As now, I opened the data within the class to be accessed? Or is my understanding of the Tell-Don't-Ask principle wrong?</p>\n"},{"tags":["java","spring","multithreading","spring-websocket"],"comments":[{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1517749131,"post_id":48607788,"comment_id":84212815,"body_markdown":"As far as I konw, `synchronized(session.getId())` can not solve your problem..","body":"As far as I konw, <code>synchronized(session.getId())</code> can not solve your problem.."},{"owner":{"account_id":6746060,"reputation":1317,"user_id":5197662,"accept_rate":69,"display_name":"Sepehr GH"},"score":0,"creation_date":1517749751,"post_id":48607788,"comment_id":84213026,"body_markdown":"@user27149 well I&#39;m not facing any exceptions now that I&#39;m using it and system is working fine so I can say it actually did solve my problem (temporarily because I asked this question to find proper way to solve it)","body":"@user27149 well I&#39;m not facing any exceptions now that I&#39;m using it and system is working fine so I can say it actually did solve my problem (temporarily because I asked this question to find proper way to solve it)"},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1517751786,"post_id":48607788,"comment_id":84213707,"body_markdown":"Yeah, I understand you are seeking for a better solution...","body":"Yeah, I understand you are seeking for a better solution..."},{"owner":{"account_id":916980,"reputation":8820,"user_id":2580516,"display_name":"Warren Dew"},"score":0,"creation_date":1517766614,"post_id":48607788,"comment_id":84218747,"body_markdown":"What happens when you try synchronized(session)?","body":"What happens when you try synchronized(session)?"},{"owner":{"account_id":6746060,"reputation":1317,"user_id":5197662,"accept_rate":69,"display_name":"Sepehr GH"},"score":0,"creation_date":1517807972,"post_id":48607788,"comment_id":84229342,"body_markdown":"@WarrenDew still same error. Also refer to my note","body":"@WarrenDew still same error. Also refer to my note"}],"answers":[{"tags":[],"owner":{"account_id":6746060,"reputation":1317,"user_id":5197662,"accept_rate":69,"display_name":"Sepehr GH"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1629106353,"creation_date":1517810828,"answer_id":48616726,"question_id":48607788,"body_markdown":"By adding `volatile` keyword behind my `WebsocketSession` at where I persist my sessions, I solved the problem. I would be glad to know if this too is a bad practice. But my idea is that when writing to a websocket session from multiple threads, these threads loose the state of websocket because its not updated yet and that&#39;s why this exception is thrown.\r\n\r\nBy adding volatile, we make sure that websocket state has been updated before another thread uses it so writing to websocket works synchronized as expected.\r\n\r\nI created a class named `SessionData` which holds websocketSession and all other data I need about session.\r\n\r\n    public class SessionData {\r\n        private volatile WebSocketSession websocketSession;\r\n        //...other \r\n        // getters and setters ...\r\n    }\r\n\r\nand I used SessionData as value of the map where session IDs are keys\r\n\r\nthen when getting websocketSession from SessionData and writing into it from different threads, volatile helped me to get updated websocketSession.\r\n\r\n---\r\n\r\nUpdate (2020)\r\n-------------\r\n\r\nOne key note here is that you should use `sessionData.getWebsocketSession.sendMessage(...)` everytime you want to send a message to the session. You should never use the session directly, which means a code like **this** is a **bad practice**:\r\n\r\n```\r\nWebSocketSession websocketSession = sessionData.getWebSocketSession();\r\nwebsocketSession.sendMessage(...);\r\n```\r\n\r\nYou would never know what changes has applied to websocket session between these two lines of code (which might be more than 2 in your case).\r\n\r\nAnd a code like this is better:\r\n\r\n```\r\nsessionData.getWebSocketSession().sendMessage(...);\r\n```\r\n\r\n\r\nAlso never publish directly into sessions that are passed to you inside Spring websocket `MessageHandler`s. Otherwise you probably get that error again.\r\n\r\nThis is why its good practice to map `sessionId` of `WebSocketSession` to `SessionData` when connection opens. You can use this repository to get `volatile session` using session id instead of using the session directly.","title":"Spring websocket send message from multiple threads","body":"<p>By adding <code>volatile</code> keyword behind my <code>WebsocketSession</code> at where I persist my sessions, I solved the problem. I would be glad to know if this too is a bad practice. But my idea is that when writing to a websocket session from multiple threads, these threads loose the state of websocket because its not updated yet and that's why this exception is thrown.</p>\n<p>By adding volatile, we make sure that websocket state has been updated before another thread uses it so writing to websocket works synchronized as expected.</p>\n<p>I created a class named <code>SessionData</code> which holds websocketSession and all other data I need about session.</p>\n<pre><code>public class SessionData {\n    private volatile WebSocketSession websocketSession;\n    //...other \n    // getters and setters ...\n}\n</code></pre>\n<p>and I used SessionData as value of the map where session IDs are keys</p>\n<p>then when getting websocketSession from SessionData and writing into it from different threads, volatile helped me to get updated websocketSession.</p>\n<hr />\n<h2>Update (2020)</h2>\n<p>One key note here is that you should use <code>sessionData.getWebsocketSession.sendMessage(...)</code> everytime you want to send a message to the session. You should never use the session directly, which means a code like <strong>this</strong> is a <strong>bad practice</strong>:</p>\n<pre><code>WebSocketSession websocketSession = sessionData.getWebSocketSession();\nwebsocketSession.sendMessage(...);\n</code></pre>\n<p>You would never know what changes has applied to websocket session between these two lines of code (which might be more than 2 in your case).</p>\n<p>And a code like this is better:</p>\n<pre><code>sessionData.getWebSocketSession().sendMessage(...);\n</code></pre>\n<p>Also never publish directly into sessions that are passed to you inside Spring websocket <code>MessageHandler</code>s. Otherwise you probably get that error again.</p>\n<p>This is why its good practice to map <code>sessionId</code> of <code>WebSocketSession</code> to <code>SessionData</code> when connection opens. You can use this repository to get <code>volatile session</code> using session id instead of using the session directly.</p>\n"},{"tags":[],"owner":{"account_id":4203139,"reputation":299,"user_id":3442763,"display_name":"Glucide"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1629192537,"creation_date":1629192537,"answer_id":68814904,"question_id":48607788,"body_markdown":"**ConcurrentWebSocketSessionDecorator** works like a charm in multithreading, it is designed for it.\r\nYou may have a problem in your map implementation.\r\n\r\nsample code :\r\n\r\n\tprivate final Map&lt;String, SessionData&gt; sessions = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\t@Override\r\n\tpublic void afterConnectionEstablished(WebSocketSession session) throws Exception \r\n\t{\r\n        // Use the following will crash :\r\n\t\t//sessions.put(session.getId(), new SessionData(session));\r\n\r\n        // Use ConcurrentWebSocketSessionDecorator is safe :\r\n\t\tsessions.put(session.getId(), new SessionData(new ConcurrentWebSocketSessionDecorator (session, 2000, 4096)));\r\n\t\tsuper.afterConnectionEstablished(session);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterConnectionClosed(WebSocketSession session, CloseStatus status) throws Exception\r\n\t{\r\n\t\tsessions.remove(session.getId());\r\n\t\tsuper.afterConnectionClosed(session, status); \r\n\t}\r\n\t\r\n\tpublic void send(WebSocketSession session, String msg) throws MessagingException {\r\n\t\ttry {\r\n\t\t\tsession.sendMessage (new TextMessage(msg));\r\n\t\t} catch (IOException ex) {\r\n\t\t\tthrow new MessagingException(ex.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\r\nTo test easily the behaviour in multithreading :\r\n\r\n    \tpublic void sendMT(WebSocketSession session, String msg) throws MessagingException{\r\n\t\tfor (int i=0; i&lt;3; i++){\r\n\t\t\tnew Thread(){\r\n\t\t\t  @Override\r\n\t\t\t  public void run(){\r\n\t\t\t\t  send (session, msg);\r\n\t\t\t}.start();\t\r\n\t\t}\r\n\t}","title":"Spring websocket send message from multiple threads","body":"<p><strong>ConcurrentWebSocketSessionDecorator</strong> works like a charm in multithreading, it is designed for it.\nYou may have a problem in your map implementation.</p>\n<p>sample code :</p>\n<pre><code>private final Map&lt;String, SessionData&gt; sessions = new ConcurrentHashMap&lt;&gt;();\n\n@Override\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception \n{\n    // Use the following will crash :\n    //sessions.put(session.getId(), new SessionData(session));\n\n    // Use ConcurrentWebSocketSessionDecorator is safe :\n    sessions.put(session.getId(), new SessionData(new ConcurrentWebSocketSessionDecorator (session, 2000, 4096)));\n    super.afterConnectionEstablished(session);\n}\n\n@Override\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus status) throws Exception\n{\n    sessions.remove(session.getId());\n    super.afterConnectionClosed(session, status); \n}\n\npublic void send(WebSocketSession session, String msg) throws MessagingException {\n    try {\n        session.sendMessage (new TextMessage(msg));\n    } catch (IOException ex) {\n        throw new MessagingException(ex.getMessage());\n    }\n}\n</code></pre>\n<p>To test easily the behaviour in multithreading :</p>\n<pre><code>    public void sendMT(WebSocketSession session, String msg) throws MessagingException{\n    for (int i=0; i&lt;3; i++){\n        new Thread(){\n          @Override\n          public void run(){\n              send (session, msg);\n        }.start();  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1661325321,"creation_date":1661325321,"answer_id":73468901,"question_id":48607788,"body_markdown":"See [SubProtocolWebSocketHandler][1] as a proven usage of the `ConcurrentWebSocketSessionDecorator`.\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-websocket/src/main/java/org/springframework/web/socket/messaging/SubProtocolWebSocketHandler.java","title":"Spring websocket send message from multiple threads","body":"<p>See <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-websocket/src/main/java/org/springframework/web/socket/messaging/SubProtocolWebSocketHandler.java\" rel=\"nofollow noreferrer\">SubProtocolWebSocketHandler</a> as a proven usage of the <code>ConcurrentWebSocketSessionDecorator</code>.</p>\n"}],"owner":{"account_id":6746060,"reputation":1317,"user_id":5197662,"accept_rate":69,"display_name":"Sepehr GH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7816,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":68814904,"answer_count":3,"score":7,"last_activity_date":1661325321,"creation_date":1517745430,"question_id":48607788,"body_markdown":"I&#39;m using Spring WebSocket server implementation for one of my spring based projects. I faced an error saying `The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is invalid state`. I found out the problem is writing to websocket from different threads at same time.\r\n\r\nHow I temporarily fixed it: Consider I have implemented below method\r\n\r\n    void sendMessageToSession(WebsocketSession session,String message);\r\nwhich sends a TextMessage to websocket session. I cant make this whole method synchronized because multiple threads can call it for different websocketSessions and messages. I also cant put session in synchronized block (tried and didn&#39;t work)\r\n\r\nAlthough, I fixed my problem like this\r\n\r\n    synchronized(session.getId()){ \r\n        //sending message;\r\n    }\r\nand I no longer faced that issue. But it does not seem to be good practice to use Strings in synchronized blocks.\r\nSo what other solutions do I have? whats best way to send asynchronous messages? \r\n\r\n**PS**: I already used `ConcurrentWebSocketSessionDecorator` after connection established, and I am using the updated websocket. didn&#39;t help.\r\n\r\n    session = new ConcurrentWebSocketSessionDecorator(session, (int) StaticConfig.MAXIMUM_WS_ASYNC_SEND_TIMEOUT, StaticConfig.MAXIMUM_WS_BINARY_BUFFER_SIZE * 2);\r\n\r\n**NOTE**\r\nI persist my websocet sessions in a map, where key is session.getId and value is session itself.\r\n\r\nUnlike some other websocket implementations, Spring websocket references are not seem to be equal on each message. I saved sessions in a map by their ID, and on each message I check equality of the passed websocket with the websocket I already put on my map, its false.","title":"Spring websocket send message from multiple threads","body":"<p>I'm using Spring WebSocket server implementation for one of my spring based projects. I faced an error saying <code>The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is invalid state</code>. I found out the problem is writing to websocket from different threads at same time.</p>\n\n<p>How I temporarily fixed it: Consider I have implemented below method</p>\n\n<pre><code>void sendMessageToSession(WebsocketSession session,String message);\n</code></pre>\n\n<p>which sends a TextMessage to websocket session. I cant make this whole method synchronized because multiple threads can call it for different websocketSessions and messages. I also cant put session in synchronized block (tried and didn't work)</p>\n\n<p>Although, I fixed my problem like this</p>\n\n<pre><code>synchronized(session.getId()){ \n    //sending message;\n}\n</code></pre>\n\n<p>and I no longer faced that issue. But it does not seem to be good practice to use Strings in synchronized blocks.\nSo what other solutions do I have? whats best way to send asynchronous messages? </p>\n\n<p><strong>PS</strong>: I already used <code>ConcurrentWebSocketSessionDecorator</code> after connection established, and I am using the updated websocket. didn't help.</p>\n\n<pre><code>session = new ConcurrentWebSocketSessionDecorator(session, (int) StaticConfig.MAXIMUM_WS_ASYNC_SEND_TIMEOUT, StaticConfig.MAXIMUM_WS_BINARY_BUFFER_SIZE * 2);\n</code></pre>\n\n<p><strong>NOTE</strong>\nI persist my websocet sessions in a map, where key is session.getId and value is session itself.</p>\n\n<p>Unlike some other websocket implementations, Spring websocket references are not seem to be equal on each message. I saved sessions in a map by their ID, and on each message I check equality of the passed websocket with the websocket I already put on my map, its false.</p>\n"},{"tags":["java","spring","sap-commerce-cloud"],"comments":[{"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"score":0,"creation_date":1661243246,"post_id":73455230,"comment_id":129718852,"body_markdown":"Your code snippet and Postman screenshot looks good to me. There might be some configuration in your project that interferes with it. Maybe this helps: https://stackoverflow.com/questions/43936372/upload-file-springboot-required-request-part-file-is-not-present","body":"Your code snippet and Postman screenshot looks good to me. There might be some configuration in your project that interferes with it. Maybe this helps: <a href=\"https://stackoverflow.com/questions/43936372/upload-file-springboot-required-request-part-file-is-not-present\" title=\"upload file springboot required request part file is not present\">stackoverflow.com/questions/43936372/&hellip;</a>"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1661243330,"post_id":73455230,"comment_id":129718885,"body_markdown":"can you use content-type as &quot;multipart/form-data&quot; in your request mapping &amp; see if it works?","body":"can you use content-type as &quot;multipart/form-data&quot; in your request mapping &amp; see if it works?"},{"owner":{"account_id":18308605,"reputation":27,"user_id":13331937,"display_name":"Jemie"},"score":0,"creation_date":1661243830,"post_id":73455230,"comment_id":129719052,"body_markdown":"@Ashish .I have tried adding mentioned content-type , but unfortunately same error still persists","body":"@Ashish .I have tried adding mentioned content-type , but unfortunately same error still persists"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1661246356,"post_id":73455230,"comment_id":129719995,"body_markdown":"What is the size of the file you want to upload?","body":"What is the size of the file you want to upload?"},{"owner":{"account_id":18308605,"reputation":27,"user_id":13331937,"display_name":"Jemie"},"score":0,"creation_date":1661246566,"post_id":73455230,"comment_id":129720046,"body_markdown":"@Nemanja ...I am uploading file of 300 KB","body":"@Nemanja ...I am uploading file of 300 KB"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1661247081,"post_id":73455230,"comment_id":129720246,"body_markdown":"Are you using  spring boot?","body":"Are you using  spring boot?"},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1661249089,"post_id":73455230,"comment_id":129721015,"body_markdown":"change `@RequestParam(&quot;file&quot;)` to `@RequestBody(&quot;file&quot;)` in the controller method","body":"change <code>@RequestParam(&quot;file&quot;)</code> to <code>@RequestBody(&quot;file&quot;)</code> in the controller method"}],"answers":[{"tags":[],"owner":{"account_id":4424306,"reputation":186,"user_id":3603194,"display_name":"Adiputera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661324477,"creation_date":1661324477,"answer_id":73468738,"question_id":73455230,"body_markdown":"Have you create filter, resolver, and register it in fileUploadUrlFilterMappings? It&#39;s located in spring-filter-config.xml\r\n```\r\n\t&lt;!-- Filter --&gt;\r\n\t&lt;bean id=&quot;importCSVMultipartFilter&quot; class=&quot;org.springframework.web.multipart.support.MultipartFilter&quot;&gt;\r\n\t\t&lt;property name=&quot;multipartResolverBeanName&quot; value=&quot;importCSVMultipartResolver&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- resolver --&gt;\r\n\t&lt;bean id=&quot;importCSVMultipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;maxUploadSize&quot; value=&quot;#{configurationService.configuration.getProperty(&#39;import.csv.max.upload.size.bytes&#39;)}&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- URL filter mapping --&gt;\r\n\t&lt;alias name=&quot;defaultFileUploadUrlFilterMappings&quot; alias=&quot;fileUploadUrlFilterMappings&quot; /&gt;\r\n\t&lt;util:map id=&quot;defaultFileUploadUrlFilterMappings&quot; key-type=&quot;java.lang.String&quot; value-type=&quot;org.springframework.web.multipart.support.MultipartFilter&quot;&gt;\r\n\t\t&lt;entry key=&quot;/import/csv/*&quot; value-ref=&quot;importCSVMultipartFilter&quot;/&gt;\r\n\t&lt;/util:map&gt;\r\n```","title":"Unable to upload file or Image from Postman to Java API","body":"<p>Have you create filter, resolver, and register it in fileUploadUrlFilterMappings? It's located in spring-filter-config.xml</p>\n<pre><code>    &lt;!-- Filter --&gt;\n    &lt;bean id=&quot;importCSVMultipartFilter&quot; class=&quot;org.springframework.web.multipart.support.MultipartFilter&quot;&gt;\n        &lt;property name=&quot;multipartResolverBeanName&quot; value=&quot;importCSVMultipartResolver&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- resolver --&gt;\n    &lt;bean id=&quot;importCSVMultipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\n        &lt;property name=&quot;maxUploadSize&quot; value=&quot;#{configurationService.configuration.getProperty('import.csv.max.upload.size.bytes')}&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- URL filter mapping --&gt;\n    &lt;alias name=&quot;defaultFileUploadUrlFilterMappings&quot; alias=&quot;fileUploadUrlFilterMappings&quot; /&gt;\n    &lt;util:map id=&quot;defaultFileUploadUrlFilterMappings&quot; key-type=&quot;java.lang.String&quot; value-type=&quot;org.springframework.web.multipart.support.MultipartFilter&quot;&gt;\n        &lt;entry key=&quot;/import/csv/*&quot; value-ref=&quot;importCSVMultipartFilter&quot;/&gt;\n    &lt;/util:map&gt;\n</code></pre>\n"}],"owner":{"account_id":18308605,"reputation":27,"user_id":13331937,"display_name":"Jemie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661324477,"creation_date":1661242343,"question_id":73455230,"body_markdown":"I am trying to write an API where I am sending Image from postman but I am getting following error.\r\nCan you please help me on this ?\r\n\r\n\r\n\r\n**API ::** \r\n\r\n```\r\n@RequestMapping(value = &quot;uploadImageAndData&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public void initiateReturns(@RequestParam(&quot;file&quot;) final MultipartFile file){\r\n\r\n       // remaining code\r\n\r\n    }\r\n\r\n```\r\n**Postman Request ::** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/02fHX.png","title":"Unable to upload file or Image from Postman to Java API","body":"<p>I am trying to write an API where I am sending Image from postman but I am getting following error.\nCan you please help me on this ?</p>\n<p><strong>API ::</strong></p>\n<pre><code>@RequestMapping(value = &quot;uploadImageAndData&quot;, method = RequestMethod.POST)\n    @ResponseBody\n    public void initiateReturns(@RequestParam(&quot;file&quot;) final MultipartFile file){\n\n       // remaining code\n\n    }\n\n</code></pre>\n<p><strong>Postman Request ::</strong></p>\n<p><a href=\"https://i.stack.imgur.com/02fHX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/02fHX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","elasticsearch","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661324162,"creation_date":1661251215,"answer_id":73457238,"question_id":73448148,"body_markdown":"&gt; In Hibernate Search 5, it was possible to define the index mapping path explicitly (@IndexedEmbedded(prefix = ...)) and use dots in the path which solved this issue, but Hibernate Search 6 doesn&#39;t support explicit dots in the path.\r\n\r\nTechnically Hibernate Search still supports it (it works), but it&#39;s deprecated and not recommended.\r\n\r\nThis should work just fine:\r\n\r\n```\r\n@IndexedEmbedded(prefix = &quot;addresses.address.&quot;)\r\n```\r\n\r\nWhy don&#39;t you explain what doesn&#39;t work exactly? An exception? Doesn&#39;t behave as expected?\r\n\r\n&gt; Is there a way to do this through HS 6 configuration?\r\n\r\nEventually you&#39;ll have more control and will be able to use `@IndexedEmbedded` programmatically in bridges, but that&#39;s not implemented yet. (see the idea of `NestedBinding` [here](https://hibernate.atlassian.net/browse/HSEARCH-4299?focusedCommentId=109060) if you&#39;re curious).\r\n\r\nIn the meantime, you really should be able to just use `@IndexedEmbedded(prefix = ...)`. It&#39;s deprecated, but it&#39;s not been removed and it should still work, as explained above.\r\n\r\nAlternatively, have you tried just wrapping the addresses of `Entity2` into a new class, `Entity2Address`, which is not mapped in Hibernate ORM (because you don&#39;t need to)?\r\n\r\n```\r\npublic class Entity2Address extends AbstractAddress {\r\n    //...\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;entity2&quot;)\r\n@Indexed(index = &quot;ENTITY2&quot;)\r\npublic class Entity2 {\r\n\r\n    private Address physicalAddress;\r\n    \r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;line1&quot;, column = @Column(name = &quot;physical_addr_line_1&quot;)),\r\n            //...other address fields\r\n    })\r\n    public Address getPhysicalAddress() {\r\n        return physicalAddress;\r\n    }\r\n\r\n    public void setPhysicalAddress(Address physicalAddress) {\r\n        this.physicalAddress = physicalAddress;\r\n    }\r\n\r\n    @Transient\r\n    @IndexingDependency(derivedFrom = {\r\n        @ObjectPath(@PropertyValue(propertyName = &quot;physicalAddress&quot;), @PropertyValue(propertyName = &quot;lines&quot;)),\r\n        // ... other address fields if necessary ...\r\n    })\r\n    @IndexedEmbedded\r\n    public Set&lt;Entity2Address&gt; getAddresses() {\r\n        Set&lt;Entity2Address&gt; addresses = Sets.newLinkedHashSet();\r\n        \r\n        if (hasPhysicalAddress()) {\r\n            addresses.add(new Entity2Address(physicalAddress));\r\n        }       \r\n        //...add other addresses\r\n        \r\n        return addresses;\r\n    }\r\n}\r\n```","title":"How to adjust the index mapping name in Hibernate Search 6","body":"<blockquote>\n<p>In Hibernate Search 5, it was possible to define the index mapping path explicitly (@IndexedEmbedded(prefix = ...)) and use dots in the path which solved this issue, but Hibernate Search 6 doesn't support explicit dots in the path.</p>\n</blockquote>\n<p>Technically Hibernate Search still supports it (it works), but it's deprecated and not recommended.</p>\n<p>This should work just fine:</p>\n<pre><code>@IndexedEmbedded(prefix = &quot;addresses.address.&quot;)\n</code></pre>\n<p>Why don't you explain what doesn't work exactly? An exception? Doesn't behave as expected?</p>\n<blockquote>\n<p>Is there a way to do this through HS 6 configuration?</p>\n</blockquote>\n<p>Eventually you'll have more control and will be able to use <code>@IndexedEmbedded</code> programmatically in bridges, but that's not implemented yet. (see the idea of <code>NestedBinding</code> <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-4299?focusedCommentId=109060\" rel=\"nofollow noreferrer\">here</a> if you're curious).</p>\n<p>In the meantime, you really should be able to just use <code>@IndexedEmbedded(prefix = ...)</code>. It's deprecated, but it's not been removed and it should still work, as explained above.</p>\n<p>Alternatively, have you tried just wrapping the addresses of <code>Entity2</code> into a new class, <code>Entity2Address</code>, which is not mapped in Hibernate ORM (because you don't need to)?</p>\n<pre><code>public class Entity2Address extends AbstractAddress {\n    //...\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;entity2&quot;)\n@Indexed(index = &quot;ENTITY2&quot;)\npublic class Entity2 {\n\n    private Address physicalAddress;\n    \n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;line1&quot;, column = @Column(name = &quot;physical_addr_line_1&quot;)),\n            //...other address fields\n    })\n    public Address getPhysicalAddress() {\n        return physicalAddress;\n    }\n\n    public void setPhysicalAddress(Address physicalAddress) {\n        this.physicalAddress = physicalAddress;\n    }\n\n    @Transient\n    @IndexingDependency(derivedFrom = {\n        @ObjectPath(@PropertyValue(propertyName = &quot;physicalAddress&quot;), @PropertyValue(propertyName = &quot;lines&quot;)),\n        // ... other address fields if necessary ...\n    })\n    @IndexedEmbedded\n    public Set&lt;Entity2Address&gt; getAddresses() {\n        Set&lt;Entity2Address&gt; addresses = Sets.newLinkedHashSet();\n        \n        if (hasPhysicalAddress()) {\n            addresses.add(new Entity2Address(physicalAddress));\n        }       \n        //...add other addresses\n        \n        return addresses;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5922405,"reputation":162,"user_id":4659370,"display_name":"Rick Gagne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73457238,"answer_count":1,"score":0,"last_activity_date":1661324162,"creation_date":1661185093,"question_id":73448148,"body_markdown":"We have a few indexed entities that include an address entity in slightly different ways but we want to be able to search on any of these entities using the same mapping path to address fields.\r\n\r\nIn Hibernate Search 5, it was possible to define the index mapping path explicitly (`@IndexedEmbedded(prefix = ...)`) and use dots in the path which solved this issue, but Hibernate Search 6 doesn&#39;t support explicit dots in the path. \r\n\r\nHopefully this example helps to illustrate. This is pseudo-ish code in transition from HS5 to HS6.\r\n```\r\n@Entity\r\n@DiscriminatorValue(&quot;entity1Address&quot;)\r\npublic class Entity1Address extends AbstractAddress {\r\n\r\n    private Entity1 entity1;\r\n\r\n    //...\r\n}\r\n\t\r\n@Entity\r\n@Table(name = &quot;address&quot;)\r\n@DiscriminatorColumn(name = &quot;dtype&quot;)\r\npublic abstract class AbstractAddress {\r\n\r\n    private Address address = new Address();\r\n\r\n    @Embedded\r\n    @IndexedEmbedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;line1&quot;, column = @Column(name = &quot;addr_line_1&quot;)),\r\n\t\t\t//..other address fields\r\n    })\r\n    public Address getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(Address address) {\r\n        this.address = address;\r\n    }\r\n}\r\n\r\n@Embeddable\r\n@AccessType(&quot;property&quot;)\r\npublic class Address {\r\n\r\n\tprivate String line1;\r\n\t//...other address fields\r\n\r\n    //... line1 getter &amp; setter\r\n\t\r\n    @Transient\r\n    @IndexingDependency(derivedFrom = @ObjectPath(@PropertyValue(propertyName = &quot;line1&quot;)))\r\n\t//IndexingDependencies for other address lines\r\n    @FullTextField(name = &quot;line&quot;, analyzer = ADDRESS_LINE_ANALYZER)\r\n    public List&lt;String&gt; getLines() {\r\n        List&lt;String&gt; lines = Lists.newArrayListWithExpectedSize(4);\r\n        if (StringUtils.hasText(line1)) {\r\n            lines.add(line1);\r\n        }\r\n\t\t//...add other address lines\r\n\r\n        return lines;\r\n    }\t\r\n}\r\n```\r\nNow for 2 examples of using addresses:\r\n```\r\n@Entity\r\n@Table(name = &quot;entity1&quot;)\r\n@Indexed(index = &quot;ENTITY1&quot;)\r\npublic class Entity1 {\r\n\tprivate Set&lt;Entity1Address&gt; addresses = Sets.newLinkedHashSet();\r\n\t\r\n    @OneToMany(mappedBy = &quot;entity1&quot;)\r\n    @IndexedEmbedded\r\n    public Set&lt;ClientVendorAddress&gt; getAddresses() {\r\n        return addresses;\r\n    }\r\n\r\n    private void setAddresses(Set&lt;EntityAddress&gt; addresses) {\r\n        this.addresses = addresses;\r\n    }\t\r\n}\r\n```\r\nEntity1 has an index mapping path to line1 of &quot;addresses.address.line1&quot;\r\n\r\nBut Entity2 is where the conflict comes into play b/c it uses address more directly:\r\n```\r\n@Entity\r\n@Table(name = &quot;entity2&quot;)\r\n@Indexed(index = &quot;ENTITY2&quot;)\r\npublic class Entity2 {\r\n\r\n\tprivate Address physicalAddress;\r\n\t\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;line1&quot;, column = @Column(name = &quot;physical_addr_line_1&quot;)),\r\n\t\t\t//...other address fields\r\n    })\r\n    public Address getPhysicalAddress() {\r\n        return physicalAddress;\r\n    }\r\n\r\n    public void setPhysicalAddress(Address physicalAddress) {\r\n        this.physicalAddress = physicalAddress;\r\n    }\r\n\r\n    @Transient\r\n    @IndexingDependency(derivedFrom = @ObjectPath(@PropertyValue(propertyName = &quot;physicalAddress&quot;)))\r\n    //@IndexedEmbedded(prefix = &quot;addresses.address.&quot;)  // &lt;--- in HS 5, this is how we standardized the mapping path between Entity1 and Entity2, but HS 6 doesn&#39;t support dots in the notation\r\n    @IndexedEmbedded\r\n    public Set&lt;Address&gt; getAddresses() {\r\n        Set&lt;Address&gt; addresses = Sets.newLinkedHashSet();\r\n\t\t\r\n        if (hasPhysicalAddress()) {\r\n            addresses.add(physicalAddress);\r\n        }\t\t\r\n\t\t//...add other addresses\r\n\t\t\r\n        return addresses;\r\n    }\r\n}\r\n```\r\nEntity2 has an index mapping path to line1 of &quot;addresses.line1&quot;, which is not the same as Entity1.\r\n\r\nThere are times we want to search both Entity1 and Entity2 based on the same field mapping, meaning &quot;addresses.address.line1&quot; for both, but we no longer can in HS 6. Or even more common is that the SearchPredicates built are at a much lower level in the code than where the SearchPredicateFactory is created (which is where the entity is supplied) in order to reuse our queries/predicates.\r\n\r\nAn example of building our predicate:\r\n```\r\n// At some high level, we create the SearchPredicateFactory:\r\nSearchSession searchSession = Search.session(session);\r\nSearchPredicateFactory pf = searchSession.scope(Entity1.class).predicate();\r\n\r\n// then much lower, for reuse reasons, we create predicates:\r\nvar myBool = pf.bool();\r\nmyBool.should(\r\n    pf.match()\r\n        // need a common mapping definition to reach line1 in any entity\r\n        .field(LINE1_FIELD)\r\n        .matching(&quot;100 main street&quot;)\r\n);\r\n```\r\n\r\nIs there a way to do this through HS 6 configuration?","title":"How to adjust the index mapping name in Hibernate Search 6","body":"<p>We have a few indexed entities that include an address entity in slightly different ways but we want to be able to search on any of these entities using the same mapping path to address fields.</p>\n<p>In Hibernate Search 5, it was possible to define the index mapping path explicitly (<code>@IndexedEmbedded(prefix = ...)</code>) and use dots in the path which solved this issue, but Hibernate Search 6 doesn't support explicit dots in the path.</p>\n<p>Hopefully this example helps to illustrate. This is pseudo-ish code in transition from HS5 to HS6.</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;entity1Address&quot;)\npublic class Entity1Address extends AbstractAddress {\n\n    private Entity1 entity1;\n\n    //...\n}\n    \n@Entity\n@Table(name = &quot;address&quot;)\n@DiscriminatorColumn(name = &quot;dtype&quot;)\npublic abstract class AbstractAddress {\n\n    private Address address = new Address();\n\n    @Embedded\n    @IndexedEmbedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;line1&quot;, column = @Column(name = &quot;addr_line_1&quot;)),\n            //..other address fields\n    })\n    public Address getAddress() {\n        return address;\n    }\n\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n}\n\n@Embeddable\n@AccessType(&quot;property&quot;)\npublic class Address {\n\n    private String line1;\n    //...other address fields\n\n    //... line1 getter &amp; setter\n    \n    @Transient\n    @IndexingDependency(derivedFrom = @ObjectPath(@PropertyValue(propertyName = &quot;line1&quot;)))\n    //IndexingDependencies for other address lines\n    @FullTextField(name = &quot;line&quot;, analyzer = ADDRESS_LINE_ANALYZER)\n    public List&lt;String&gt; getLines() {\n        List&lt;String&gt; lines = Lists.newArrayListWithExpectedSize(4);\n        if (StringUtils.hasText(line1)) {\n            lines.add(line1);\n        }\n        //...add other address lines\n\n        return lines;\n    }   \n}\n</code></pre>\n<p>Now for 2 examples of using addresses:</p>\n<pre><code>@Entity\n@Table(name = &quot;entity1&quot;)\n@Indexed(index = &quot;ENTITY1&quot;)\npublic class Entity1 {\n    private Set&lt;Entity1Address&gt; addresses = Sets.newLinkedHashSet();\n    \n    @OneToMany(mappedBy = &quot;entity1&quot;)\n    @IndexedEmbedded\n    public Set&lt;ClientVendorAddress&gt; getAddresses() {\n        return addresses;\n    }\n\n    private void setAddresses(Set&lt;EntityAddress&gt; addresses) {\n        this.addresses = addresses;\n    }   \n}\n</code></pre>\n<p>Entity1 has an index mapping path to line1 of &quot;addresses.address.line1&quot;</p>\n<p>But Entity2 is where the conflict comes into play b/c it uses address more directly:</p>\n<pre><code>@Entity\n@Table(name = &quot;entity2&quot;)\n@Indexed(index = &quot;ENTITY2&quot;)\npublic class Entity2 {\n\n    private Address physicalAddress;\n    \n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;line1&quot;, column = @Column(name = &quot;physical_addr_line_1&quot;)),\n            //...other address fields\n    })\n    public Address getPhysicalAddress() {\n        return physicalAddress;\n    }\n\n    public void setPhysicalAddress(Address physicalAddress) {\n        this.physicalAddress = physicalAddress;\n    }\n\n    @Transient\n    @IndexingDependency(derivedFrom = @ObjectPath(@PropertyValue(propertyName = &quot;physicalAddress&quot;)))\n    //@IndexedEmbedded(prefix = &quot;addresses.address.&quot;)  // &lt;--- in HS 5, this is how we standardized the mapping path between Entity1 and Entity2, but HS 6 doesn't support dots in the notation\n    @IndexedEmbedded\n    public Set&lt;Address&gt; getAddresses() {\n        Set&lt;Address&gt; addresses = Sets.newLinkedHashSet();\n        \n        if (hasPhysicalAddress()) {\n            addresses.add(physicalAddress);\n        }       \n        //...add other addresses\n        \n        return addresses;\n    }\n}\n</code></pre>\n<p>Entity2 has an index mapping path to line1 of &quot;addresses.line1&quot;, which is not the same as Entity1.</p>\n<p>There are times we want to search both Entity1 and Entity2 based on the same field mapping, meaning &quot;addresses.address.line1&quot; for both, but we no longer can in HS 6. Or even more common is that the SearchPredicates built are at a much lower level in the code than where the SearchPredicateFactory is created (which is where the entity is supplied) in order to reuse our queries/predicates.</p>\n<p>An example of building our predicate:</p>\n<pre><code>// At some high level, we create the SearchPredicateFactory:\nSearchSession searchSession = Search.session(session);\nSearchPredicateFactory pf = searchSession.scope(Entity1.class).predicate();\n\n// then much lower, for reuse reasons, we create predicates:\nvar myBool = pf.bool();\nmyBool.should(\n    pf.match()\n        // need a common mapping definition to reach line1 in any entity\n        .field(LINE1_FIELD)\n        .matching(&quot;100 main street&quot;)\n);\n</code></pre>\n<p>Is there a way to do this through HS 6 configuration?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":22905554,"reputation":673,"user_id":17043683,"display_name":"MMZK1526"},"score":2,"creation_date":1660205834,"post_id":73317390,"comment_id":129479411,"body_markdown":"`split()`. https://www.geeksforgeeks.org/split-string-java-examples/","body":"<code>split()</code>. <a href=\"https://www.geeksforgeeks.org/split-string-java-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/split-string-java-examples</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1660205837,"post_id":73317390,"comment_id":129479413,"body_markdown":"Sure it is possible. You can create a `String[][]` array (often referred to as 2D but it&#39;s actually an array of arrays). Just try it. - If you don&#39;t know how then do some research, tell us what you&#39;ve tried/researched and why you failed. Then we can help with specific problems.","body":"Sure it is possible. You can create a <code>String[][]</code> array (often referred to as 2D but it&#39;s actually an array of arrays). Just try it. - If you don&#39;t know how then do some research, tell us what you&#39;ve tried/researched and why you failed. Then we can help with specific problems."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1660205918,"post_id":73317390,"comment_id":129479439,"body_markdown":"yes it is possible, did you try anything yourself yet? Do you want to get an array of arrays of single-letter-strings (like your &quot;result&quot;) or maybe an array of arrays of characters? (`{{&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;}, {&#39;w&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;}}`)","body":"yes it is possible, did you try anything yourself yet? Do you want to get an array of arrays of single-letter-strings (like your &quot;result&quot;) or maybe an array of arrays of characters? (<code>{{&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;}, {&#39;w&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;}}</code>)"}],"answers":[{"tags":[],"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660206899,"creation_date":1660206899,"answer_id":73317663,"question_id":73317390,"body_markdown":"There is no straightforward way I can see, whereas you can do something as below\r\n\r\n        String a[] = {&quot;hello&quot;, &quot;world&quot;};\r\n        String result[][] = new String[a.length][];\r\n        for(int i=0;i&lt;a.length;i++){\r\n            String[] strArray = a[i].split(&quot;&quot;);\r\n            result[i] = strArray;\r\n        }\r\n\r\n","title":"Convert elements of an array to be array in Java","body":"<p>There is no straightforward way I can see, whereas you can do something as below</p>\n<pre><code>    String a[] = {&quot;hello&quot;, &quot;world&quot;};\n    String result[][] = new String[a.length][];\n    for(int i=0;i&lt;a.length;i++){\n        String[] strArray = a[i].split(&quot;&quot;);\n        result[i] = strArray;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661324030,"creation_date":1661324030,"answer_id":73468658,"question_id":73317390,"body_markdown":"you can use java stream :\r\n\r\n    String[] array = {&quot;hello&quot;, &quot;world&quot;};\r\n    Arrays.stream(array).map(a-&gt;a.split(&quot;&quot;)).map(sub-&gt;Arrays.asList(sub)).forEach(System.out::println);\r\n\r\noutput :\r\n\r\n    [h, e, l, l, o]\r\n    [w, o, r, l, d]","title":"Convert elements of an array to be array in Java","body":"<p>you can use java stream :</p>\n<pre><code>String[] array = {&quot;hello&quot;, &quot;world&quot;};\nArrays.stream(array).map(a-&gt;a.split(&quot;&quot;)).map(sub-&gt;Arrays.asList(sub)).forEach(System.out::println);\n</code></pre>\n<p>output :</p>\n<pre><code>[h, e, l, l, o]\n[w, o, r, l, d]\n</code></pre>\n"}],"owner":{"account_id":26036016,"reputation":1,"user_id":19741454,"display_name":"ntony2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1661324030,"creation_date":1660205677,"question_id":73317390,"body_markdown":"Is it possible to convert elements (string) of an array to be array?\r\n\r\nFor example:\r\n\r\n\r\n    a = [&quot;hello&quot;, &quot;world&quot;]\r\n\r\n    result = [ [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;] , [&quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;l&quot;,&quot;d&quot;] ]","title":"Convert elements of an array to be array in Java","body":"<p>Is it possible to convert elements (string) of an array to be array?</p>\n<p>For example:</p>\n<pre><code>a = [&quot;hello&quot;, &quot;world&quot;]\n\nresult = [ [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;] , [&quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;l&quot;,&quot;d&quot;] ]\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661323978,"creation_date":1661250188,"answer_id":73457001,"question_id":73450425,"body_markdown":"Your snippet of code returns the document ID, but [by default that&#39;s the same as the entity ID](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-identifiermapping-basics), so this should work fine for you unless you have an exotic mapping.\r\n\r\n\r\nAssuming the ID of all targeted types is indeed a Long, you can retrieve the ID as a long [simply by passing `Long.class` to `id()`](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-projection-id):\r\n\r\nEDIT: I didn&#39;t notice your code snippet was not compiling. Since you want more than 3 parameters, your &quot;transforming&quot; function (the first parameter to &quot;composite&quot;) will receive a list as argument, and you&#39;ll need to cast the list elements before you pass them to the `GlobalSearchResult` constructor:\r\n\r\n```\r\nList&lt;GlobalSearchResult&gt; hits = searchSession.search(Searchable.class)\r\n .select(f -&gt; f.composite(\r\n    list -&gt; new GlobalSearchResult(\r\n            (Long) list.get(0),\r\n            (String) list.get(1),\r\n            (String) list.get(2),\r\n            (String) list.get(3),\r\n            (Float) list.get(4)\r\n    ),\r\n    f.id(Long.class),\r\n    f.field(&quot;searchType&quot;, String.class),\r\n    f.field(&quot;searchName&quot;, String.class),\r\n    f.field(&quot;searchDescription&quot;, String.class),\r\n    f.score()\r\n  ))\r\n .where(f -&gt; f.simpleQueryString().fields(INDEXED_FIELDS).matching(q))\r\n .fetchHits( 20 );\r\n```\r\n\r\nIn Hibernate Search 6.2 we aim to provide an easier solution based on Java records and annotations, but that&#39;s still work in progress; the [current implementation](https://hibernate.org/search/releases/6.2/#mapping-projection) only works for field projections, and ID/score projections will come later ([HSEARCH-4574](https://hibernate.atlassian.net/browse/HSEARCH-4574)).","title":"hibernate search - get entity id in composite","body":"<p>Your snippet of code returns the document ID, but <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-identifiermapping-basics\" rel=\"nofollow noreferrer\">by default that's the same as the entity ID</a>, so this should work fine for you unless you have an exotic mapping.</p>\n<p>Assuming the ID of all targeted types is indeed a Long, you can retrieve the ID as a long <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-projection-id\" rel=\"nofollow noreferrer\">simply by passing <code>Long.class</code> to <code>id()</code></a>:</p>\n<p>EDIT: I didn't notice your code snippet was not compiling. Since you want more than 3 parameters, your &quot;transforming&quot; function (the first parameter to &quot;composite&quot;) will receive a list as argument, and you'll need to cast the list elements before you pass them to the <code>GlobalSearchResult</code> constructor:</p>\n<pre><code>List&lt;GlobalSearchResult&gt; hits = searchSession.search(Searchable.class)\n .select(f -&gt; f.composite(\n    list -&gt; new GlobalSearchResult(\n            (Long) list.get(0),\n            (String) list.get(1),\n            (String) list.get(2),\n            (String) list.get(3),\n            (Float) list.get(4)\n    ),\n    f.id(Long.class),\n    f.field(&quot;searchType&quot;, String.class),\n    f.field(&quot;searchName&quot;, String.class),\n    f.field(&quot;searchDescription&quot;, String.class),\n    f.score()\n  ))\n .where(f -&gt; f.simpleQueryString().fields(INDEXED_FIELDS).matching(q))\n .fetchHits( 20 );\n</code></pre>\n<p>In Hibernate Search 6.2 we aim to provide an easier solution based on Java records and annotations, but that's still work in progress; the <a href=\"https://hibernate.org/search/releases/6.2/#mapping-projection\" rel=\"nofollow noreferrer\">current implementation</a> only works for field projections, and ID/score projections will come later (<a href=\"https://hibernate.atlassian.net/browse/HSEARCH-4574\" rel=\"nofollow noreferrer\">HSEARCH-4574</a>).</p>\n"}],"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73457001,"answer_count":1,"score":0,"last_activity_date":1661323978,"creation_date":1661198458,"question_id":73450425,"body_markdown":"I&#39;d like to create a composite and add the entities id (the one in the database) as property. I tried to use f.id() but I can&#39;t map it to a long and it seems to be the document id in elasticsearch instead the database index anyway. Here is my code.\r\n\r\n\tList&lt;GlobalSearchResult&gt; hits = searchSession.search(Searchable.class)\r\n\t .select(f -&gt; f.composite(\r\n\t\tGlobalSearchResult::new,\r\n\t\tf.id(),\r\n\t\tf.field(&quot;searchType&quot;, String.class),\r\n\t\tf.field(&quot;searchName&quot;, String.class),\r\n\t\tf.field(&quot;searchDescription&quot;, String.class),\r\n\t\tf.score()\r\n\t  ))\r\n\t .where(f -&gt; f.simpleQueryString().fields(INDEXED_FIELDS).matching(q))\r\n     .fetchHits( 20 );\r\n\r\nIs there a smart, elegant way to get the id into GlobalSearchResult or do I have to get the entity and map it? That would be a lot of boilerplate code since I have many classes implementing Searchable.\r\n\r\nThank you for your help!","title":"hibernate search - get entity id in composite","body":"<p>I'd like to create a composite and add the entities id (the one in the database) as property. I tried to use f.id() but I can't map it to a long and it seems to be the document id in elasticsearch instead the database index anyway. Here is my code.</p>\n<pre><code>List&lt;GlobalSearchResult&gt; hits = searchSession.search(Searchable.class)\n .select(f -&gt; f.composite(\n    GlobalSearchResult::new,\n    f.id(),\n    f.field(&quot;searchType&quot;, String.class),\n    f.field(&quot;searchName&quot;, String.class),\n    f.field(&quot;searchDescription&quot;, String.class),\n    f.score()\n  ))\n .where(f -&gt; f.simpleQueryString().fields(INDEXED_FIELDS).matching(q))\n .fetchHits( 20 );\n</code></pre>\n<p>Is there a smart, elegant way to get the id into GlobalSearchResult or do I have to get the entity and map it? That would be a lot of boilerplate code since I have many classes implementing Searchable.</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","sap-commerce-cloud","commerce","hybris-data-hub","flexible-search"],"answers":[{"tags":[],"owner":{"account_id":1319604,"reputation":1864,"user_id":1265684,"accept_rate":65,"display_name":"Devendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660741903,"creation_date":1660741903,"answer_id":73389094,"question_id":73387467,"body_markdown":"hope following query would help: \r\n\r\n     select {p:pk} from {AviationDispute as p join AviationB2BDocuments as a on {p:invoiceId}={a:pk} join AviationDelivery as d on {p:deliveryId} = {d:pk}} where {d:deliveryId} LIKE &#39;%searchTerm%&#39; and {a:invoiceNumber} is null or {a:invoiceNumber} LIKE &#39;%searchTerm%&#39;\r\n\r\ndeliveryId will never be null in the result, because of natural join","title":"join in flexi search is not working with is null keyword","body":"<p>hope following query would help:</p>\n<pre><code> select {p:pk} from {AviationDispute as p join AviationB2BDocuments as a on {p:invoiceId}={a:pk} join AviationDelivery as d on {p:deliveryId} = {d:pk}} where {d:deliveryId} LIKE '%searchTerm%' and {a:invoiceNumber} is null or {a:invoiceNumber} LIKE '%searchTerm%'\n</code></pre>\n<p>deliveryId will never be null in the result, because of natural join</p>\n"},{"tags":[],"owner":{"account_id":4424306,"reputation":186,"user_id":3603194,"display_name":"Adiputera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661323683,"creation_date":1661323683,"answer_id":73468589,"question_id":73387467,"body_markdown":"What you need is left join\r\n```\r\nselect {p:pk} from {\r\n   AviationDispute as p \r\n   left join AviationB2BDocuments as a on {p:invoiceId}={a:pk} \r\n   left join AviationDelivery as d on {p:deliveryId} = {d:pk}\r\n} \r\nwhere \r\n   {d:deliveryId} LIKE &#39;%searchTerm%&#39; or {a:invoiceNumber} LIKE &#39;%searchTerm%&#39;\r\n```","title":"join in flexi search is not working with is null keyword","body":"<p>What you need is left join</p>\n<pre><code>select {p:pk} from {\n   AviationDispute as p \n   left join AviationB2BDocuments as a on {p:invoiceId}={a:pk} \n   left join AviationDelivery as d on {p:deliveryId} = {d:pk}\n} \nwhere \n   {d:deliveryId} LIKE '%searchTerm%' or {a:invoiceNumber} LIKE '%searchTerm%'\n</code></pre>\n"}],"owner":{"account_id":14093430,"reputation":1,"user_id":10181011,"display_name":"siddarth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661323683,"creation_date":1660734778,"question_id":73387467,"body_markdown":"I have a table named as aviationDispute which has 2 columns deliveryId type=aviationdelivery and invoiceId type=AviationB2BDocuments , now when we raise a dispute from post man it will be eith against a delivery or either against an invoice both the columns can never be filled in one dispute .\r\n\r\nThe main problem is : my flexi query is only working when both the columns are filled , if one is filled and one remains then it does not gives result . \r\n\r\nMy flexi query is below \r\n\r\n    select {p:pk} from {AviationDispute as p join AviationB2BDocuments as a on {p:invoiceId}={a:pk} join AviationDelivery as d on {p:deliveryId} = {d:pk}} where ({d:deliveryId} LIKE &#39;%searchTerm%&#39; or {a:invoiceNumber} LIKE &#39;%searchTerm%&#39;) \r\n\r\nI have tried various combos of is null and is not null with brackets but nothing is working ","title":"join in flexi search is not working with is null keyword","body":"<p>I have a table named as aviationDispute which has 2 columns deliveryId type=aviationdelivery and invoiceId type=AviationB2BDocuments , now when we raise a dispute from post man it will be eith against a delivery or either against an invoice both the columns can never be filled in one dispute .</p>\n<p>The main problem is : my flexi query is only working when both the columns are filled , if one is filled and one remains then it does not gives result .</p>\n<p>My flexi query is below</p>\n<pre><code>select {p:pk} from {AviationDispute as p join AviationB2BDocuments as a on {p:invoiceId}={a:pk} join AviationDelivery as d on {p:deliveryId} = {d:pk}} where ({d:deliveryId} LIKE '%searchTerm%' or {a:invoiceNumber} LIKE '%searchTerm%') \n</code></pre>\n<p>I have tried various combos of is null and is not null with brackets but nothing is working</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661323508,"creation_date":1661323508,"answer_id":73468560,"question_id":73466196,"body_markdown":"Looks like the problem is not with color scheme but with [Content Roots](https://www.jetbrains.com/help/idea/content-roots.html):\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nTry to open Maven tool window and click on `Reload All Maven Projects`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/q45op.png\r\n  [2]: https://i.stack.imgur.com/B5WQI.png\r\n\r\nor mark the sources/test roots manually by right clicking on `main/java` and `test/java` and selecting the appropriate option under `Mark Directory As`. ","title":"Intellij Ide color scheme Grayed out by General text color","body":"<p>Looks like the problem is not with color scheme but with <a href=\"https://www.jetbrains.com/help/idea/content-roots.html\" rel=\"nofollow noreferrer\">Content Roots</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/q45op.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q45op.png\" alt=\"enter image description here\" /></a></p>\n<p>Try to open Maven tool window and click on <code>Reload All Maven Projects</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/B5WQI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5WQI.png\" alt=\"enter image description here\" /></a></p>\n<p>or mark the sources/test roots manually by right clicking on <code>main/java</code> and <code>test/java</code> and selecting the appropriate option under <code>Mark Directory As</code>.</p>\n"}],"owner":{"account_id":8071076,"reputation":1,"user_id":6083829,"display_name":"Louay Belgasmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661323508,"creation_date":1661300532,"question_id":73466196,"body_markdown":"I am using IntelliJ Ide 2021.3 (ultimate edition) to learn spring boot. My issue is that the color scheme for all code &quot;except keywords&quot; appears grayed out by using the default text color. despite checking and unchecking all the inherit values from &quot;checkbox&quot; in language defaults and in java and changing the color scheme and editor theme multiple times this issue persists. What&#39;s confusing is that whenever I hover on a line of code it appears to be perfectly colored in the tooltip according to the color scheme that I chose. Am new to Intellij Ide and I could really use your help here. I reverted To the Dragula theme and color scheme to display the issue in a more simplified setup. [grayed out code][1] [correctly colored in tooltip][2] [grayed out code][3] [correctly colored in tooltip][4]. Thank you for your help and have a nice day.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KDK6f.png\r\n  [2]: https://i.stack.imgur.com/t8C19.png\r\n  [3]: https://i.stack.imgur.com/Evwzj.png\r\n  [4]: https://i.stack.imgur.com/Fykg2.png","title":"Intellij Ide color scheme Grayed out by General text color","body":"<p>I am using IntelliJ Ide 2021.3 (ultimate edition) to learn spring boot. My issue is that the color scheme for all code &quot;except keywords&quot; appears grayed out by using the default text color. despite checking and unchecking all the inherit values from &quot;checkbox&quot; in language defaults and in java and changing the color scheme and editor theme multiple times this issue persists. What's confusing is that whenever I hover on a line of code it appears to be perfectly colored in the tooltip according to the color scheme that I chose. Am new to Intellij Ide and I could really use your help here. I reverted To the Dragula theme and color scheme to display the issue in a more simplified setup. <a href=\"https://i.stack.imgur.com/KDK6f.png\" rel=\"nofollow noreferrer\">grayed out code</a> <a href=\"https://i.stack.imgur.com/t8C19.png\" rel=\"nofollow noreferrer\">correctly colored in tooltip</a> <a href=\"https://i.stack.imgur.com/Evwzj.png\" rel=\"nofollow noreferrer\">grayed out code</a> <a href=\"https://i.stack.imgur.com/Fykg2.png\" rel=\"nofollow noreferrer\">correctly colored in tooltip</a>. Thank you for your help and have a nice day.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1661257018,"post_id":73458543,"comment_id":129724056,"body_markdown":"I actually doubt it happens with this code and in your real code you have a lazy property/field in there.","body":"I actually doubt it happens with this code and in your real code you have a lazy property/field in there."},{"owner":{"account_id":11189569,"reputation":21,"user_id":8210520,"display_name":"Adam Alexandru"},"score":0,"creation_date":1661259574,"post_id":73458543,"comment_id":129725182,"body_markdown":"Nothing like that, I&#39;m sure of that, it was the first thing which I checked before asking here.","body":"Nothing like that, I&#39;m sure of that, it was the first thing which I checked before asking here."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661260243,"post_id":73458543,"comment_id":129725468,"body_markdown":"Well the code you posted here I doubt it would show that so please provide some real code, with configuration and a test. That being said the second one is also the preferred one if I&#39;m not mistaken.","body":"Well the code you posted here I doubt it would show that so please provide some real code, with configuration and a test. That being said the second one is also the preferred one if I&#39;m not mistaken."},{"owner":{"account_id":11189569,"reputation":21,"user_id":8210520,"display_name":"Adam Alexandru"},"score":0,"creation_date":1661322747,"post_id":73458543,"comment_id":129740984,"body_markdown":"Just added testable code. Waiting for answers.","body":"Just added testable code. Waiting for answers."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661284502,"creation_date":1661284502,"answer_id":73464452,"question_id":73458543,"body_markdown":"I guess that you are using a query like this:\r\n\r\n    select new org.xyz.ClassDto(e.toManyAssociation) from Entity e\r\n\r\nIn this case, Hibernate will pass in a proxy instead of a fully initialized entity, so when you access the data of that object in the constructor, Hibernate will lazy load the object. You can solve that by joining the association and passing the join alias instead.\r\n\r\nI think you might be interested in [Blaze-Persistence Entity Views][1] though.\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Entity.class)\r\n    public interface ClassDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`ClassDto a = entityViewManager.find(entityManager, ClassDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;ClassDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Hibernate DTO Projections N+1 queries","body":"<p>I guess that you are using a query like this:</p>\n<pre><code>select new org.xyz.ClassDto(e.toManyAssociation) from Entity e\n</code></pre>\n<p>In this case, Hibernate will pass in a proxy instead of a fully initialized entity, so when you access the data of that object in the constructor, Hibernate will lazy load the object. You can solve that by joining the association and passing the join alias instead.</p>\n<p>I think you might be interested in <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a> though.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Entity.class)\npublic interface ClassDto {\n    @IdMapping\n    Long getId();\n    String getName();\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>ClassDto a = entityViewManager.find(entityManager, ClassDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;ClassDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":11189569,"reputation":21,"user_id":8210520,"display_name":"Adam Alexandru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661323159,"creation_date":1661256797,"question_id":73458543,"body_markdown":"Just experimented an interesting fact while using Hibernate &amp; Spring Data JPA.\r\nI have the following setup DTO and Entity:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class ClassDto {\r\n         private String id;\r\n         private String name;\r\n\r\n          public ClassDto(Entity e) {\r\n             this.id = e.id;\r\n            this.name = e.name;\r\n          }\r\n    \r\n          public ClassDto(String id, String name) {\r\n              this.id = id;\r\n              this.name = name;\r\n          }\r\n    }\r\n\r\n    @Entity\r\n    @Setter\r\n    @Getter\r\n    public class Entity {\r\n         @Id String id;\r\n         String name;\r\n    }\r\n\r\n\r\nWhy this query got executed N+1 times.\r\n\r\n    select new org.xyz.ClassDto(e) from Entity e\r\n\r\nWhile this one with entity destructured just once\r\n\r\n    select new org.xyz.ClassDto(e.id, e.name) from Entity e\r\n\r\nI want only a logical explanation about how things works underground.\r\n \r\n\r\n**LATER EDIT** after comments, testable code (already inserted 3 entries in table):\r\n```\r\n@Entity\r\n@Setter\r\n@Getter\r\npublic class EntityA {\r\n\r\n    @Id Long id;\r\n    String firstName;\r\n    String lastName;\r\n}\r\n\r\n@Setter\r\n@Getter\r\npublic class ClassDto {\r\n\r\n    Long id;\r\n    String firstName;\r\n    String lastName;\r\n\r\n    public ClassDto(Long id,\r\n                    String firstName,\r\n                    String lastName) {\r\n        this.id = id;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public ClassDto(EntityA entityA) {\r\n        this.id = entityA.id;\r\n        this.firstName = entityA.firstName;\r\n        this.lastName = entityA.lastName;\r\n    }\r\n}\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    EntityManager entityManager;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n\r\n        System.out.println(&quot;---- WITH N+1 -----&quot;);\r\n        var resultList1 = entityManager.createQuery(&quot;&quot; +\r\n                &quot;select new com.example.demo.ClassDto(e) &quot; +\r\n                &quot;from EntityA e&quot;).getResultList();\r\n        System.out.println(resultList1.toString());\r\n\r\n        System.out.println(&quot;---- WITHOUT N+1 -----&quot;);\r\n        var resultList2 = entityManager.createQuery(&quot;&quot; +\r\n                &quot;select new com.example.demo.ClassDto(e.id, e.firstName, e.lastName) &quot; +\r\n                &quot;from EntityA e&quot;).getResultList();\r\n        System.out.println(resultList2.toString());\r\n    }\r\n}\r\n\r\n\r\n-----\r\nOUTPUT:\r\n---- WITH N+1 -----\r\nHibernate: select entitya0_.id as col_0_0_ from test.entitya entitya0_\r\nHibernate: select entitya0_.id as id1_0_0_, entitya0_.first_name as first_na2_0_0_, entitya0_.last_name as last_nam3_0_0_ from test.entitya entitya0_ where entitya0_.id=?\r\nHibernate: select entitya0_.id as id1_0_0_, entitya0_.first_name as first_na2_0_0_, entitya0_.last_name as last_nam3_0_0_ from test.entitya entitya0_ where entitya0_.id=?\r\nHibernate: select entitya0_.id as id1_0_0_, entitya0_.first_name as first_na2_0_0_, entitya0_.last_name as last_nam3_0_0_ from test.entitya entitya0_ where entitya0_.id=?\r\n[com.example.demo.ClassDto@63485d7, com.example.demo.ClassDto@23ea8830, com.example.demo.ClassDto@59a09be]\r\n---- WITHOUT N+1 -----\r\nHibernate: select entitya0_.id as col_0_0_, entitya0_.first_name as col_1_0_, entitya0_.last_name as col_2_0_ from test.entitya entitya0_\r\n[com.example.demo.ClassDto@4416e18d, com.example.demo.ClassDto@5dfc2a4, com.example.demo.ClassDto@3120495d]\r\n```\r\n\r\n\r\nThanks\r\n","title":"Hibernate DTO Projections N+1 queries","body":"<p>Just experimented an interesting fact while using Hibernate &amp; Spring Data JPA.\nI have the following setup DTO and Entity:</p>\n<pre><code>@Getter\n@Setter\npublic class ClassDto {\n     private String id;\n     private String name;\n\n      public ClassDto(Entity e) {\n         this.id = e.id;\n        this.name = e.name;\n      }\n\n      public ClassDto(String id, String name) {\n          this.id = id;\n          this.name = name;\n      }\n}\n\n@Entity\n@Setter\n@Getter\npublic class Entity {\n     @Id String id;\n     String name;\n}\n</code></pre>\n<p>Why this query got executed N+1 times.</p>\n<pre><code>select new org.xyz.ClassDto(e) from Entity e\n</code></pre>\n<p>While this one with entity destructured just once</p>\n<pre><code>select new org.xyz.ClassDto(e.id, e.name) from Entity e\n</code></pre>\n<p>I want only a logical explanation about how things works underground.</p>\n<p><strong>LATER EDIT</strong> after comments, testable code (already inserted 3 entries in table):</p>\n<pre><code>@Entity\n@Setter\n@Getter\npublic class EntityA {\n\n    @Id Long id;\n    String firstName;\n    String lastName;\n}\n\n@Setter\n@Getter\npublic class ClassDto {\n\n    Long id;\n    String firstName;\n    String lastName;\n\n    public ClassDto(Long id,\n                    String firstName,\n                    String lastName) {\n        this.id = id;\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public ClassDto(EntityA entityA) {\n        this.id = entityA.id;\n        this.firstName = entityA.firstName;\n        this.lastName = entityA.lastName;\n    }\n}\n\n@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    @Autowired\n    EntityManager entityManager;\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        System.out.println(&quot;---- WITH N+1 -----&quot;);\n        var resultList1 = entityManager.createQuery(&quot;&quot; +\n                &quot;select new com.example.demo.ClassDto(e) &quot; +\n                &quot;from EntityA e&quot;).getResultList();\n        System.out.println(resultList1.toString());\n\n        System.out.println(&quot;---- WITHOUT N+1 -----&quot;);\n        var resultList2 = entityManager.createQuery(&quot;&quot; +\n                &quot;select new com.example.demo.ClassDto(e.id, e.firstName, e.lastName) &quot; +\n                &quot;from EntityA e&quot;).getResultList();\n        System.out.println(resultList2.toString());\n    }\n}\n\n\n-----\nOUTPUT:\n---- WITH N+1 -----\nHibernate: select entitya0_.id as col_0_0_ from test.entitya entitya0_\nHibernate: select entitya0_.id as id1_0_0_, entitya0_.first_name as first_na2_0_0_, entitya0_.last_name as last_nam3_0_0_ from test.entitya entitya0_ where entitya0_.id=?\nHibernate: select entitya0_.id as id1_0_0_, entitya0_.first_name as first_na2_0_0_, entitya0_.last_name as last_nam3_0_0_ from test.entitya entitya0_ where entitya0_.id=?\nHibernate: select entitya0_.id as id1_0_0_, entitya0_.first_name as first_na2_0_0_, entitya0_.last_name as last_nam3_0_0_ from test.entitya entitya0_ where entitya0_.id=?\n[com.example.demo.ClassDto@63485d7, com.example.demo.ClassDto@23ea8830, com.example.demo.ClassDto@59a09be]\n---- WITHOUT N+1 -----\nHibernate: select entitya0_.id as col_0_0_, entitya0_.first_name as col_1_0_, entitya0_.last_name as col_2_0_ from test.entitya entitya0_\n[com.example.demo.ClassDto@4416e18d, com.example.demo.ClassDto@5dfc2a4, com.example.demo.ClassDto@3120495d]\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","multithreading","kotlin","thread-safety"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1661324141,"post_id":73468478,"comment_id":129741395,"body_markdown":"Why not set the actual field only at the end of your main thread&#39;s &quot;transaction&quot;? (and using a volatile field)","body":"Why not set the actual field only at the end of your main thread&#39;s &quot;transaction&quot;? (and using a volatile field)"},{"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"score":0,"creation_date":1661324302,"post_id":73468478,"comment_id":129741445,"body_markdown":"Well making the &quot;transaction&quot; manually is surely an option for me but at the current state of the application bound to a lot of changes in the codebase itself. Therefore I thought having some built-in features might help to be quicker","body":"Well making the &quot;transaction&quot; manually is surely an option for me but at the current state of the application bound to a lot of changes in the codebase itself. Therefore I thought having some built-in features might help to be quicker"},{"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"score":0,"creation_date":1661324420,"post_id":73468478,"comment_id":129741483,"body_markdown":"Using a volatile field (at least what Kotlin describes for it) would counter the use-case I have here. I don&#39;t want the HTTP threads to pickup a state of the mid-mutation process. Imagine there are about 50 state changes happening until the &quot;transaction&quot; is considered finished. I do not want the HTTP Threads to pickup one of those intermediate states","body":"Using a volatile field (at least what Kotlin describes for it) would counter the use-case I have here. I don&#39;t want the HTTP threads to pickup a state of the mid-mutation process. Imagine there are about 50 state changes happening until the &quot;transaction&quot; is considered finished. I do not want the HTTP Threads to pickup one of those intermediate states"},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":2,"creation_date":1661327678,"post_id":73468478,"comment_id":129742622,"body_markdown":"I think the idea is for the mutator thread to store any intermediate values in a private variable. Other threads continue to read unmodified field value. Once the mutator thread completes the computation, it updates the field using either volatile, atomics, or synchronization","body":"I think the idea is for the mutator thread to store any intermediate values in a private variable. Other threads continue to read unmodified field value. Once the mutator thread completes the computation, it updates the field using either volatile, atomics, or synchronization"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1661327885,"post_id":73468478,"comment_id":129742708,"body_markdown":"^^ And if you have multiple fields, encapsulate that state in an object and copy that object to variables local to the mutator thread. That way you only have to publish one object to the request threads when ready.","body":"^^ And if you have multiple fields, encapsulate that state in an object and copy that object to variables local to the mutator thread. That way you only have to publish one object to the request threads when ready."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1661349534,"post_id":73468478,"comment_id":129751506,"body_markdown":"@peterz yes, that&#39;s what I meant by only setting the actual field at the end","body":"@peterz yes, that&#39;s what I meant by only setting the actual field at the end"},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1661349538,"post_id":73468478,"comment_id":129751508,"body_markdown":"@xetra11 I meant to use volatile only for the field that you want to really set at the end of the transaction (so you don&#39;t run into other problems). For intermediate states, just don&#39;t use that field, use a private one","body":"@xetra11 I meant to use volatile only for the field that you want to really set at the end of the transaction (so you don&#39;t run into other problems). For intermediate states, just don&#39;t use that field, use a private one"}],"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661323070,"creation_date":1661323070,"question_id":73468478,"body_markdown":"I have a problem with &quot;transactional&quot; mutation of a thread-unsafe field of a class.\r\nThere are two kinds of threads accessing this field.\r\n* one Mutation Logic Thread (Main Thread)\r\n* _n_ HTTP Request Threads\r\n\r\nWhat I want is that as long as the main thread has access to the field all other threads (the request threads) should only be allowed to retrieve the state _before_ the main thread accesses and mutates it.\r\n\r\nSimply put:\r\n\r\n* field = _10_\r\n* mutation thread picks up field to mutate it to _5_\r\n* meanwhile http request thread accesses field and receives _10_\r\n* mutation thread finishes and sets field to _5_\r\n* meanwhile http request thread accesses field and receives _5_\r\n\r\nWhat I have currently is that the mutating thread is changing the field several times with different values. Between these mutations a HTTP request might drop in and retrieve the _current_ state of the field which only might be temporary and therefore in my domain is a &quot;wrong&quot; state.\r\n\r\nI know what I am asking for is in principle a _transaction_. However I&#39;d like to make it work as simple as possible.\r\n","title":"Threadsafety with &#39;before&#39; and &#39;after&#39; state for fields/values in Java/Kotlin?","body":"<p>I have a problem with &quot;transactional&quot; mutation of a thread-unsafe field of a class.\nThere are two kinds of threads accessing this field.</p>\n<ul>\n<li>one Mutation Logic Thread (Main Thread)</li>\n<li><em>n</em> HTTP Request Threads</li>\n</ul>\n<p>What I want is that as long as the main thread has access to the field all other threads (the request threads) should only be allowed to retrieve the state <em>before</em> the main thread accesses and mutates it.</p>\n<p>Simply put:</p>\n<ul>\n<li>field = <em>10</em></li>\n<li>mutation thread picks up field to mutate it to <em>5</em></li>\n<li>meanwhile http request thread accesses field and receives <em>10</em></li>\n<li>mutation thread finishes and sets field to <em>5</em></li>\n<li>meanwhile http request thread accesses field and receives <em>5</em></li>\n</ul>\n<p>What I have currently is that the mutating thread is changing the field several times with different values. Between these mutations a HTTP request might drop in and retrieve the <em>current</em> state of the field which only might be temporary and therefore in my domain is a &quot;wrong&quot; state.</p>\n<p>I know what I am asking for is in principle a <em>transaction</em>. However I'd like to make it work as simple as possible.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661236881,"post_id":73454143,"comment_id":129716817,"body_markdown":"*how can I correct this?* - remove the `if`","body":"<i>how can I correct this?</i> - remove the <code>if</code>"},{"owner":{"account_id":5554704,"reputation":193,"user_id":4406521,"display_name":"Boris Krassi"},"score":7,"creation_date":1661236993,"post_id":73454143,"comment_id":129716849,"body_markdown":"Based on documentation, ```find()``` &quot;attempts to find **the next** subsequence of the input sequence that matches the pattern&quot;, so when you have ```println``` or ```if``` before ```while```, they &quot;consume&quot; one or several ```find()``` iterations.","body":"Based on documentation, <code>find()</code> &quot;attempts to find <b>the next</b> subsequence of the input sequence that matches the pattern&quot;, so when you have <code>println</code> or <code>if</code> before <code>while</code>, they &quot;consume&quot; one or several <code>find()</code> iterations."},{"owner":{"account_id":176670,"reputation":6187,"user_id":407503,"accept_rate":76,"display_name":"Norman"},"score":1,"creation_date":1661237159,"post_id":73454143,"comment_id":129716905,"body_markdown":"Ok. I need the if find to print something like &quot;Nothing found&quot; if nothing matched.","body":"Ok. I need the if find to print something like &quot;Nothing found&quot; if nothing matched."},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1661321878,"post_id":73454143,"comment_id":129740747,"body_markdown":"Very strange reason to close this question. How is this `not reproducible or was caused by typos`?","body":"Very strange reason to close this question. How is this <code>not reproducible or was caused by typos</code>?"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661238802,"creation_date":1661237508,"answer_id":73454305,"question_id":73454143,"body_markdown":"`m.find()` changes state, goes to the next match if present.\r\n\r\n        //NO: System.out.println(m.find());\r\n       \r\n        if (m.find()) {\r\n            System.out.println(&quot;Found:&quot;);\r\n            do {\r\n                System.out.println(m.group());\r\n            } while (m.find());\r\n        } else {\r\n            System.out.println(&quot;Nothing found&quot;);\r\n        }","title":"Adding an if statement before a while loop gives wrong results","body":"<p><code>m.find()</code> changes state, goes to the next match if present.</p>\n<pre><code>    //NO: System.out.println(m.find());\n   \n    if (m.find()) {\n        System.out.println(&quot;Found:&quot;);\n        do {\n            System.out.println(m.group());\n        } while (m.find());\n    } else {\n        System.out.println(&quot;Nothing found&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26050471,"reputation":24,"user_id":19753785,"display_name":"Eng Fares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661237904,"creation_date":1661237904,"answer_id":73454384,"question_id":73454143,"body_markdown":"Don&#39;t use while alone because it is a fulfillment of the condition if it doesn&#39;t find what you are looking for it moves to the next use for or `do-while`\r\n\r\n","title":"Adding an if statement before a while loop gives wrong results","body":"<p>Don't use while alone because it is a fulfillment of the condition if it doesn't find what you are looking for it moves to the next use for or <code>do-while</code></p>\n"},{"tags":[],"owner":{"account_id":265711,"reputation":478,"user_id":552865,"display_name":"Mariano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661239316,"creation_date":1661239316,"answer_id":73454626,"question_id":73454143,"body_markdown":"Each call of &quot;m.find&quot; will move to the next match in within the search String. So you have to remember the Finding of the first call of m.find() or you use the while loop without the if statement. With a boolean flag you could keep track whether you found something or not to decide whether you want to print &quot;Nothing found&quot; afterwards.\r\n\r\nSomething like:\r\n\r\n          boolean foundSomething = false;\r\n               \r\n          while(m.find()) {\r\n            foundSomething = true;\r\n            System.out.println(m.group());\r\n          }\r\n          if(!foundSomething){        \r\n            System.out.println(&quot;Nothing found&quot;);\r\n          }","title":"Adding an if statement before a while loop gives wrong results","body":"<p>Each call of &quot;m.find&quot; will move to the next match in within the search String. So you have to remember the Finding of the first call of m.find() or you use the while loop without the if statement. With a boolean flag you could keep track whether you found something or not to decide whether you want to print &quot;Nothing found&quot; afterwards.</p>\n<p>Something like:</p>\n<pre><code>      boolean foundSomething = false;\n           \n      while(m.find()) {\n        foundSomething = true;\n        System.out.println(m.group());\n      }\n      if(!foundSomething){        \n        System.out.println(&quot;Nothing found&quot;);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10274927,"reputation":1526,"user_id":7582178,"display_name":"mahieyin-rahmun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661240315,"creation_date":1661239575,"answer_id":73454681,"question_id":73454143,"body_markdown":"Why not use [`matcher.reset()`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/regex/Matcher.html#reset())?\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class testRegex {\r\n    public static void main(String[]args) {\r\n        Pattern p = Pattern.compile(&quot;[a-zA-Z0-9]+&quot;);\r\n        Matcher m = p.matcher(&quot;Name, 245 Street, City, Country, 101010&quot;);\r\n        \r\n        System.out.println(m.find());\r\n        m.reset();\r\n\r\n        if(m.find()) {\r\n            m.reset();\r\n            while(m.find()) {\r\n                System.out.println(m.group());\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Nothing found&quot;);\r\n        }\r\n     }\r\n}\r\n```","title":"Adding an if statement before a while loop gives wrong results","body":"<p>Why not use <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/regex/Matcher.html#reset()\" rel=\"nofollow noreferrer\"><code>matcher.reset()</code></a>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class testRegex {\n    public static void main(String[]args) {\n        Pattern p = Pattern.compile(&quot;[a-zA-Z0-9]+&quot;);\n        Matcher m = p.matcher(&quot;Name, 245 Street, City, Country, 101010&quot;);\n        \n        System.out.println(m.find());\n        m.reset();\n\n        if(m.find()) {\n            m.reset();\n            while(m.find()) {\n                System.out.println(m.group());\n            }\n        } else {\n            System.out.println(&quot;Nothing found&quot;);\n        }\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661241179,"creation_date":1661241179,"answer_id":73454999,"question_id":73454143,"body_markdown":"Here is an alternative approach using Java 8 streams:\r\n\r\n\tfinal Pattern p = Pattern.compile(&quot;[a-zA-Z0-9]+&quot;);\r\n\tMatcher m = p.matcher(&quot;Name, 245 Street, City, Country, 101010&quot;);\r\n\t\t\r\n\tList&lt;String&gt; res = m.results().map(MatchResult::group)\r\n                      .collect(Collectors.toList());\r\n\tif (res.isEmpty()) {\r\n\t\tSystem.out.println(&quot;Nothing found&quot;);\r\n\t} else {\r\n\t\tSystem.out.println(res);\r\n\t}\r\n\r\n\r\n**Output:**\r\n\r\n    [Name, 245, Street, City, Country, 101010]","title":"Adding an if statement before a while loop gives wrong results","body":"<p>Here is an alternative approach using Java 8 streams:</p>\n<pre><code>final Pattern p = Pattern.compile(&quot;[a-zA-Z0-9]+&quot;);\nMatcher m = p.matcher(&quot;Name, 245 Street, City, Country, 101010&quot;);\n    \nList&lt;String&gt; res = m.results().map(MatchResult::group)\n                  .collect(Collectors.toList());\nif (res.isEmpty()) {\n    System.out.println(&quot;Nothing found&quot;);\n} else {\n    System.out.println(res);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[Name, 245, Street, City, Country, 101010]\n</code></pre>\n"}],"owner":{"account_id":176670,"reputation":6187,"user_id":407503,"accept_rate":76,"display_name":"Norman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":5,"score":0,"last_activity_date":1661322923,"creation_date":1661236647,"question_id":73454143,"body_markdown":"Why does adding an `if` statement before the `while` loop result in the first match being removed?\r\n\r\n    import java.util.Scanner;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class testRegex {\r\n    \tpublic static void main(String[]args) {\r\n            Pattern p = Pattern.compile(&quot;[a-zA-Z0-9]+&quot;);\r\n            Matcher m = p.matcher(&quot;Name, 245 Street, City, Country, 101010&quot;);\r\n            \r\n            System.out.println(m.find());\r\n            \r\n            if(m.find()) {\r\n            \twhile(m.find()) {\r\n                    System.out.println(m.group());\r\n                }\r\n            } else {\r\n            \tSystem.out.println(&quot;Nothing found&quot;);\r\n            }\r\n         }\r\n    }\r\n\r\nThe output without the `if` is correct.\r\n\r\n    Name\r\n    245\r\n    Street\r\n    City\r\n    Country\r\n    101010\r\nAdding the `if` or anything before the `while` loop for that matter results in this:\r\n\r\n    245\r\n    Street\r\n    City\r\n    Country\r\n    101010\r\n\r\nWhat am I doing wrong and how can I correct this? I&#39;m doing this on Eclipse IDE.","title":"Adding an if statement before a while loop gives wrong results","body":"<p>Why does adding an <code>if</code> statement before the <code>while</code> loop result in the first match being removed?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class testRegex {\n    public static void main(String[]args) {\n        Pattern p = Pattern.compile(&quot;[a-zA-Z0-9]+&quot;);\n        Matcher m = p.matcher(&quot;Name, 245 Street, City, Country, 101010&quot;);\n        \n        System.out.println(m.find());\n        \n        if(m.find()) {\n            while(m.find()) {\n                System.out.println(m.group());\n            }\n        } else {\n            System.out.println(&quot;Nothing found&quot;);\n        }\n     }\n}\n</code></pre>\n<p>The output without the <code>if</code> is correct.</p>\n<pre><code>Name\n245\nStreet\nCity\nCountry\n101010\n</code></pre>\n<p>Adding the <code>if</code> or anything before the <code>while</code> loop for that matter results in this:</p>\n<pre><code>245\nStreet\nCity\nCountry\n101010\n</code></pre>\n<p>What am I doing wrong and how can I correct this? I'm doing this on Eclipse IDE.</p>\n"},{"tags":["java","data-structures","graph","time-complexity","depth-first-search"],"comments":[{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1661322018,"post_id":73454378,"comment_id":129740784,"body_markdown":"*&quot;based on my above code for DFS&quot;* ... Did you mean BFS?","body":"<i>&quot;based on my above code for DFS&quot;</i> ... Did you mean BFS?"},{"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"score":0,"creation_date":1661322893,"post_id":73454378,"comment_id":129741028,"body_markdown":"Yes, it is BFS.","body":"Yes, it is BFS."}],"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661322850,"creation_date":1661237885,"question_id":73454378,"body_markdown":"Here is the bfs traversal code that I have created. I am working with undirected and unweighted graphs only.\r\n\r\n    public ArrayList&lt;Integer&gt; getBFSResult() {\r\n\t\tint noOfVertices = getNoOfVertices(), exploredNodesCount = 0;\r\n\t\tboolean visitedVertices[] = new boolean[noOfVertices];\r\n\t\tArrayList&lt;Integer&gt; bfsResult = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tQueue&lt;Integer&gt; queue = new ArrayDeque&lt;&gt;();\r\n\t\t\r\n\t\tif(noOfVertices &gt; 0) {\r\n\t\t\tqueue.add(0);\r\n\t\t\tvisitedVertices[0] = true;\r\n\t\t\twhile(!queue.isEmpty() &amp;&amp; exploredNodesCount &lt; noOfVertices) {\r\n\t\t\t\tint idx = queue.peek();\r\n\t\t\t\tArrayList&lt;Integer&gt; adjacentNodes = getAdjacentNodes(idx);\r\n\t\t\t\tfor(int i: adjacentNodes) {\r\n\t\t\t\t\tif(!visitedVertices[i]) {\r\n\t\t\t\t\t\tqueue.add(i);\r\n\t\t\t\t\t\tvisitedVertices[i] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tint exploredNodeIndex = queue.remove();\r\n\t\t\t\tbfsResult.add(exploredNodeIndex);\r\n\t\t\t\texploredNodesCount++;\r\n\t\t\t}\t\r\n\t\t}\r\n\t\treturn bfsResult;\r\n\t}\r\n\r\nAccording to the above code I deduced the following results:\r\n\r\nFor Graph using edge list getBFSResult() has a time complexity\r\n\r\nof O(|V|*(|E|+ 1) + 2*|E|) which is O(|V|*|E| + |V| + 2*|E|)\r\n\r\nwhere |V| represents the number of vertices and |E| represents\r\n\r\nthe number of edges in the graph.\r\n\r\n|E| is the time complexity for getAdjacentNodes(idx); and it is\r\n\r\nrun |V| times.\r\n\r\n2*|E| is the total number of times the for loop runs until the\r\n\r\nwhile loop finishes.\r\n\r\n1 is time taken by the statements having constant time.\r\n\r\n----------------------------------------------------------------\r\n\r\nFor Graph using adjacency matrix getBFSResult() has a time \r\n\r\ncomplexity of O(|V|*(|V|+ 1) + 2*|E|) which is\r\n\r\nO(|V|^2 + |V| + 2*|E|) where |V| represents the number of\r\n\r\nvertices and |E| represents the number of edges in the graph.\r\n\r\n|V| is the time complexity for getAdjacentNodes(idx); and it is\r\n\r\nrun |V| times.\r\n\r\n2*|E| is the total number of times the for loop runs until the\r\n\r\nwhile loop finishes.\r\n\r\n1 is time taken by the statements having constant time \r\n\r\ncomplexity in one iteration of the while loop.\r\n\r\n----------------------------------------------------------------\r\n\r\nFor Graph using adjacency list getBFSResult() has a time\r\n\r\ncomplexity of O(|V|*|V| + 2*|E| + |V|)) which is\r\n\r\nO(|V|^2 + 2*|E| + |V|) where |V| represents the number of\r\n\r\nvertices and |E| represents the number of edges in the graph.\r\n\r\n|V| is the time complexity for getAdjacentNodes(idx); and it is\r\n\r\nrun |V| times.\r\n\r\n2*|E| is the total number of times the for loop runs until the\r\n\r\nwhile loop finishes.\r\n\r\n1 is time taken by the statements having constant time\r\n\r\ncomplexity in one iteration of the while loop.\r\n\r\nNote: We have not considered the time complexity of the \r\nbfsResult.add(visitedNodeIndex); because it is there just to \r\ncollect the bfs result and its time complexity until the \r\nwhile loop ends is O(|V|*(|V|+1)/2).\r\n\r\nThe problem I face is that in the internet the time complexity for:\r\n\r\nGraph using edge list is O(|E|^2)\r\n\r\nGraph using adjacency list is O(|V| + |E|)\r\n\r\nand I am not able to derive these results based on my above code for BFS?\r\nWhat am I missing?","title":"What is time complexity of BFS traversal in different types of graph implementations?","body":"<p>Here is the bfs traversal code that I have created. I am working with undirected and unweighted graphs only.</p>\n<pre><code>public ArrayList&lt;Integer&gt; getBFSResult() {\n    int noOfVertices = getNoOfVertices(), exploredNodesCount = 0;\n    boolean visitedVertices[] = new boolean[noOfVertices];\n    ArrayList&lt;Integer&gt; bfsResult = new ArrayList&lt;&gt;();\n    \n    Queue&lt;Integer&gt; queue = new ArrayDeque&lt;&gt;();\n    \n    if(noOfVertices &gt; 0) {\n        queue.add(0);\n        visitedVertices[0] = true;\n        while(!queue.isEmpty() &amp;&amp; exploredNodesCount &lt; noOfVertices) {\n            int idx = queue.peek();\n            ArrayList&lt;Integer&gt; adjacentNodes = getAdjacentNodes(idx);\n            for(int i: adjacentNodes) {\n                if(!visitedVertices[i]) {\n                    queue.add(i);\n                    visitedVertices[i] = true;\n                }\n            }\n            int exploredNodeIndex = queue.remove();\n            bfsResult.add(exploredNodeIndex);\n            exploredNodesCount++;\n        }   \n    }\n    return bfsResult;\n}\n</code></pre>\n<p>According to the above code I deduced the following results:</p>\n<p>For Graph using edge list getBFSResult() has a time complexity</p>\n<p>of O(|V|<em>(|E|+ 1) + 2</em>|E|) which is O(|V|<em>|E| + |V| + 2</em>|E|)</p>\n<p>where |V| represents the number of vertices and |E| represents</p>\n<p>the number of edges in the graph.</p>\n<p>|E| is the time complexity for getAdjacentNodes(idx); and it is</p>\n<p>run |V| times.</p>\n<p>2*|E| is the total number of times the for loop runs until the</p>\n<p>while loop finishes.</p>\n<p>1 is time taken by the statements having constant time.</p>\n<hr />\n<p>For Graph using adjacency matrix getBFSResult() has a time</p>\n<p>complexity of O(|V|<em>(|V|+ 1) + 2</em>|E|) which is</p>\n<p>O(|V|^2 + |V| + 2*|E|) where |V| represents the number of</p>\n<p>vertices and |E| represents the number of edges in the graph.</p>\n<p>|V| is the time complexity for getAdjacentNodes(idx); and it is</p>\n<p>run |V| times.</p>\n<p>2*|E| is the total number of times the for loop runs until the</p>\n<p>while loop finishes.</p>\n<p>1 is time taken by the statements having constant time</p>\n<p>complexity in one iteration of the while loop.</p>\n<hr />\n<p>For Graph using adjacency list getBFSResult() has a time</p>\n<p>complexity of O(|V|<em>|V| + 2</em>|E| + |V|)) which is</p>\n<p>O(|V|^2 + 2*|E| + |V|) where |V| represents the number of</p>\n<p>vertices and |E| represents the number of edges in the graph.</p>\n<p>|V| is the time complexity for getAdjacentNodes(idx); and it is</p>\n<p>run |V| times.</p>\n<p>2*|E| is the total number of times the for loop runs until the</p>\n<p>while loop finishes.</p>\n<p>1 is time taken by the statements having constant time</p>\n<p>complexity in one iteration of the while loop.</p>\n<p>Note: We have not considered the time complexity of the\nbfsResult.add(visitedNodeIndex); because it is there just to\ncollect the bfs result and its time complexity until the\nwhile loop ends is O(|V|*(|V|+1)/2).</p>\n<p>The problem I face is that in the internet the time complexity for:</p>\n<p>Graph using edge list is O(|E|^2)</p>\n<p>Graph using adjacency list is O(|V| + |E|)</p>\n<p>and I am not able to derive these results based on my above code for BFS?\nWhat am I missing?</p>\n"},{"tags":["java","android","sql-server","android-studio"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1644680553,"post_id":71092840,"comment_id":125673263,"body_markdown":"The fact you want to save it in SQL Server adds a big layer of concern for security. SQL Server doesn&#39;t run on Android, meaning that you would be storing people&#39;s biometric data elsewhere that others have access to. Storing such data in a database like that comes with a huge wealth of security considerations, and you would certainly need to make people aware that their biometric data is being sent, via the internet, to an external location. Security would have to be a very high consideration to do this.","body":"The fact you want to save it in SQL Server adds a big layer of concern for security. SQL Server doesn&#39;t run on Android, meaning that you would be storing people&#39;s biometric data elsewhere that others have access to. Storing such data in a database like that comes with a huge wealth of security considerations, and you would certainly need to make people aware that their biometric data is being sent, via the internet, to an external location. Security would have to be a very high consideration to do this."}],"answers":[{"tags":[],"owner":{"account_id":12592271,"reputation":854,"user_id":9316730,"display_name":"Praveen G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661322731,"creation_date":1644677306,"answer_id":71092896,"question_id":71092840,"body_markdown":"You cannot store/collect fingerprint image/data from android&#39;s fingerprint sensor. The fingerprint data is encrypted on the file system (Trusted Execution Environment).\r\n\r\nAll you can do is, authenticate the user if the fingerprint is registered on the device","title":"Saving fingerprint data into database","body":"<p>You cannot store/collect fingerprint image/data from android's fingerprint sensor. The fingerprint data is encrypted on the file system (Trusted Execution Environment).</p>\n<p>All you can do is, authenticate the user if the fingerprint is registered on the device</p>\n"}],"owner":{"account_id":24224262,"reputation":1,"user_id":18179014,"display_name":"ASHUTOSH SHARMA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1662,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1644681216,"answer_count":1,"score":-1,"last_activity_date":1661322731,"creation_date":1644676826,"question_id":71092840,"body_markdown":"I am creating an android project for my college, and there I want to make something like fingerprint attendance system using mobile fingerprint sensor, so actually I want to save biometric data into database for further reference during attendance.\r\nI want to save fingerprint data into MS SQL database which is taken from the mobile fingerprint sensor.","title":"Saving fingerprint data into database","body":"<p>I am creating an android project for my college, and there I want to make something like fingerprint attendance system using mobile fingerprint sensor, so actually I want to save biometric data into database for further reference during attendance.\nI want to save fingerprint data into MS SQL database which is taken from the mobile fingerprint sensor.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8809399,"reputation":703,"user_id":6582884,"display_name":"Amal Ps"},"score":2,"creation_date":1661314935,"post_id":73467362,"comment_id":129739447,"body_markdown":"please add your code instead of images. So others can copy paste and try in local/can directly answer without redirecting to another link.","body":"please add your code instead of images. So others can copy paste and try in local/can directly answer without redirecting to another link."}],"answers":[{"tags":[],"owner":{"account_id":10467026,"reputation":534,"user_id":7716142,"display_name":"minh tri Vo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661322223,"creation_date":1661315749,"answer_id":73467474,"question_id":73467362,"body_markdown":"In your example, the `diff1` value actually is 0.1749999999 . Because the IDE that you use is rounding up so you see it as 0.175, that is why you see this confusing behavior.\r\n\r\nTo check this, you could make comparison: boolean com = diff1 &lt; 0.175;\r\n\r\nFor the exact calculation in Java, never use double or float, you could use BigDecimal instead. For example: \r\n\r\n       double a  = 1.175000\r\n       BigDecimal aa = new BigDecimal(a + &quot;&quot;); // has to convert to string so the big decimal does not contain any precicion lost\r\n       BigDecimal diff = aa.remainder(BigDecimal.ONE); // get the decimal part\r\n       BigDecimal multiply = diff2.multiply(BigDecimal.valueOf(1000));\r\n       multiply.intValue() // 175","title":"Ignoring the values after decimal point","body":"<p>In your example, the <code>diff1</code> value actually is 0.1749999999 . Because the IDE that you use is rounding up so you see it as 0.175, that is why you see this confusing behavior.</p>\n<p>To check this, you could make comparison: boolean com = diff1 &lt; 0.175;</p>\n<p>For the exact calculation in Java, never use double or float, you could use BigDecimal instead. For example:</p>\n<pre><code>   double a  = 1.175000\n   BigDecimal aa = new BigDecimal(a + &quot;&quot;); // has to convert to string so the big decimal does not contain any precicion lost\n   BigDecimal diff = aa.remainder(BigDecimal.ONE); // get the decimal part\n   BigDecimal multiply = diff2.multiply(BigDecimal.valueOf(1000));\n   multiply.intValue() // 175\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661317100,"creation_date":1661317100,"answer_id":73467622,"question_id":73467362,"body_markdown":"you must know how are float and double numbers represented in binary according to IEEE 754 standard reprsentation , so you can refer to any online website like [ieee 754 standard][1], if you understand IEEE 754 standard, you will know that some float or double numbers like 0.175 doesn&#39;t have accurate representation , instead its representstion is estimated, this is the binary representation of 0.175 as float :\r\n\r\n&gt; 00111110001100110011001100110011\r\n\r\nif you covert that number back to its corresponding float number according to IEEE 754 standard it will be :\r\n\r\n&gt; 0.17499999702\r\n\r\nso it&#39;s just the matter of fact how float and double numbers are represented \r\n\r\n  [1]: https://www.geeksforgeeks.org/ieee-standard-754-floating-point-numbers/","title":"Ignoring the values after decimal point","body":"<p>you must know how are float and double numbers represented in binary according to IEEE 754 standard reprsentation , so you can refer to any online website like <a href=\"https://www.geeksforgeeks.org/ieee-standard-754-floating-point-numbers/\" rel=\"nofollow noreferrer\">ieee 754 standard</a>, if you understand IEEE 754 standard, you will know that some float or double numbers like 0.175 doesn't have accurate representation , instead its representstion is estimated, this is the binary representation of 0.175 as float :</p>\n<blockquote>\n<p>00111110001100110011001100110011</p>\n</blockquote>\n<p>if you covert that number back to its corresponding float number according to IEEE 754 standard it will be :</p>\n<blockquote>\n<p>0.17499999702</p>\n</blockquote>\n<p>so it's just the matter of fact how float and double numbers are represented</p>\n"}],"owner":{"account_id":25472111,"reputation":11,"user_id":19270120,"display_name":"NikhilPra17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1661322223,"creation_date":1661314504,"question_id":73467362,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nWhen I cast 175.26 in int, it returns 175, \r\nbut when I do the same with 175.0, it returns 174. \r\n\r\nWhy is it so and how to correct it? Thanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SGpFy.png","title":"Ignoring the values after decimal point","body":"<p><a href=\"https://i.stack.imgur.com/SGpFy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SGpFy.png\" alt=\"enter image description here\" /></a></p>\n<p>When I cast 175.26 in int, it returns 175,\nbut when I do the same with 175.0, it returns 174.</p>\n<p>Why is it so and how to correct it? Thanks</p>\n"},{"tags":["java","string","parsing"],"answers":[{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661322173,"creation_date":1661322173,"answer_id":73468342,"question_id":73423812,"body_markdown":"&gt; **[** -&gt; begin JSONArray **{** -&gt; begin JSONObject\r\n\r\n**Error err -&gt; object** So it must start with a symbol **{** ,  but **400 Bad Request: **[**{&quot;error&quot;:..}]** begin with symbol array **[** \r\n\r\nmodify the beginning of the request to object symbol :\r\n\r\n    {\r\n      &quot;code&quot;:&quot;BAD_REQUEST_ERROR&quot;,\r\n      &quot;description&quot;:&quot;username must be of 8 characters.&quot;,\r\n      &quot;source&quot;:null,\r\n      &quot;step&quot;:null,\r\n      &quot;reason&quot;:&quot;input_validation_failed&quot;,\r\n      &quot;metadata&quot;:{},\r\n      &quot;field&quot;:&quot;name&quot;\r\n    }\r\n\r\n","title":"Need to parse error object from the given message coming from third party API in java Expected BEGIN_OBJECT but was NUMBER at line 1 column 4","body":"<blockquote>\n<p><strong>[</strong> -&gt; begin JSONArray <strong>{</strong> -&gt; begin JSONObject</p>\n</blockquote>\n<p><strong>Error err -&gt; object</strong> So it must start with a symbol <strong>{</strong> ,  but <strong>400 Bad Request: <strong>[</strong>{&quot;error&quot;:..}]</strong> begin with symbol array <strong>[</strong></p>\n<p>modify the beginning of the request to object symbol :</p>\n<pre><code>{\n  &quot;code&quot;:&quot;BAD_REQUEST_ERROR&quot;,\n  &quot;description&quot;:&quot;username must be of 8 characters.&quot;,\n  &quot;source&quot;:null,\n  &quot;step&quot;:null,\n  &quot;reason&quot;:&quot;input_validation_failed&quot;,\n  &quot;metadata&quot;:{},\n  &quot;field&quot;:&quot;name&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":26112328,"reputation":9,"user_id":19806032,"display_name":"manak bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661322173,"creation_date":1660964469,"question_id":73423812,"body_markdown":"    400 Bad Request: [{&quot;error&quot;:{&quot;code&quot;:&quot;BAD_REQUEST_ERROR&quot;,&quot;description&quot;:&quot;username must be of 8 characters.&quot;,&quot;source&quot;:null,&quot;step&quot;:null,&quot;reason&quot;:&quot;input_validation_failed&quot;,&quot;metadata&quot;:{},&quot;field&quot;:&quot;name&quot;}}]\r\n\r\nWhen i am integrating with third party API. API is sending me the bad request error. Want to get Error object from the following message\r\n\r\nWhen I am trying it with \r\n\r\n    Gson gson = new Gson();\r\n    com.model.Error err = gson.fromJson(str, com.model.Error.class);\r\n\r\nGetting following error \r\n\r\n    com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was NUMBER at line 1 column 4 \r\n\r\nNot able to understand why it is happening","title":"Need to parse error object from the given message coming from third party API in java Expected BEGIN_OBJECT but was NUMBER at line 1 column 4","body":"<pre><code>400 Bad Request: [{&quot;error&quot;:{&quot;code&quot;:&quot;BAD_REQUEST_ERROR&quot;,&quot;description&quot;:&quot;username must be of 8 characters.&quot;,&quot;source&quot;:null,&quot;step&quot;:null,&quot;reason&quot;:&quot;input_validation_failed&quot;,&quot;metadata&quot;:{},&quot;field&quot;:&quot;name&quot;}}]\n</code></pre>\n<p>When i am integrating with third party API. API is sending me the bad request error. Want to get Error object from the following message</p>\n<p>When I am trying it with</p>\n<pre><code>Gson gson = new Gson();\ncom.model.Error err = gson.fromJson(str, com.model.Error.class);\n</code></pre>\n<p>Getting following error</p>\n<pre><code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was NUMBER at line 1 column 4 \n</code></pre>\n<p>Not able to understand why it is happening</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":2,"creation_date":1548687943,"post_id":54404707,"comment_id":95620051,"body_markdown":"It&#39;s pretty obvious but I think you should mention it is a school assignment or similar. Also post code for Employee and how you tried to use it.","body":"It&#39;s pretty obvious but I think you should mention it is a school assignment or similar. Also post code for Employee and how you tried to use it."},{"owner":{"account_id":878160,"reputation":1292,"user_id":159064,"display_name":"Areca"},"score":2,"creation_date":1548687995,"post_id":54404707,"comment_id":95620078,"body_markdown":"What did you try to do your school assignment?","body":"What did you try to do your school assignment?"},{"owner":{"account_id":13646739,"reputation":164,"user_id":9845582,"display_name":"Divyank Vijayvergiya"},"score":0,"creation_date":1548688018,"post_id":54404707,"comment_id":95620089,"body_markdown":"well it&#39;s not my school assignment it&#39;s just I got a question in my paper so I can&#39;t able to solved it that&#39;s why I asked here.","body":"well it&#39;s not my school assignment it&#39;s just I got a question in my paper so I can&#39;t able to solved it that&#39;s why I asked here."},{"owner":{"account_id":5208519,"reputation":1706,"user_id":4165652,"display_name":"dquijada"},"score":0,"creation_date":1548688075,"post_id":54404707,"comment_id":95620119,"body_markdown":"Why all the `\\``?","body":"Why all the <code>`</code>?"},{"owner":{"account_id":13646739,"reputation":164,"user_id":9845582,"display_name":"Divyank Vijayvergiya"},"score":0,"creation_date":1548688167,"post_id":54404707,"comment_id":95620165,"body_markdown":"@dquijada I was trying to showing in boxes. Please help me out with this.","body":"@dquijada I was trying to showing in boxes. Please help me out with this."},{"owner":{"account_id":13646739,"reputation":164,"user_id":9845582,"display_name":"Divyank Vijayvergiya"},"score":0,"creation_date":1548688501,"post_id":54404707,"comment_id":95620379,"body_markdown":"@JoakimDanielson I updated my code please help me out with this.","body":"@JoakimDanielson I updated my code please help me out with this."},{"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"score":0,"creation_date":1548688768,"post_id":54404707,"comment_id":95620534,"body_markdown":"What is the exact compilation error you are getting ?","body":"What is the exact compilation error you are getting ?"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1548688797,"post_id":54404707,"comment_id":95620559,"body_markdown":"I can help you but let&#39;s go to the chat, I don&#39;t want to spam the rest","body":"I can help you but let&#39;s go to the chat, I don&#39;t want to spam the rest"},{"owner":{"account_id":13646739,"reputation":164,"user_id":9845582,"display_name":"Divyank Vijayvergiya"},"score":0,"creation_date":1548688802,"post_id":54404707,"comment_id":95620563,"body_markdown":"@funkyjelly I am getting the error `The public class must be named as Main in your Java code.`","body":"@funkyjelly I am getting the error <code>The public class must be named as Main in your Java code.</code>"},{"owner":{"account_id":13646739,"reputation":164,"user_id":9845582,"display_name":"Divyank Vijayvergiya"},"score":0,"creation_date":1548688841,"post_id":54404707,"comment_id":95620589,"body_markdown":"okay @TsakiroglouFotis lets go to chat","body":"okay @TsakiroglouFotis lets go to chat"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1548688979,"post_id":54404707,"comment_id":95620677,"body_markdown":"You have 2 subtask: a-&gt;Read the file b-&gt;create a collection and sort it","body":"You have 2 subtask: a-&gt;Read the file b-&gt;create a collection and sort it"},{"owner":{"account_id":13646739,"reputation":164,"user_id":9845582,"display_name":"Divyank Vijayvergiya"},"score":0,"creation_date":1548689021,"post_id":54404707,"comment_id":95620704,"body_markdown":"@TsakiroglouFotis can you please elaborate it more.","body":"@TsakiroglouFotis can you please elaborate it more."},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1548689074,"post_id":54404707,"comment_id":95620740,"body_markdown":"@Divyank Vijayvergiya I&#39;ll do in 2 hours bcs right now I am in a middle of a regression.I hope 2 hours is ok for you.I&#39;ll have to return home first.","body":"@Divyank Vijayvergiya I&#39;ll do in 2 hours bcs right now I am in a middle of a regression.I hope 2 hours is ok for you.I&#39;ll have to return home first."},{"owner":{"account_id":13646739,"reputation":164,"user_id":9845582,"display_name":"Divyank Vijayvergiya"},"score":0,"creation_date":1548689174,"post_id":54404707,"comment_id":95620801,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/187434/discussion-between-divyank-vijayvergiya-and-tsakiroglou-fotis).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/187434/discussion-between-divyank-vijayvergiya-and-tsakiroglou-fotis\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548689637,"creation_date":1548689344,"answer_id":54405221,"question_id":54404707,"body_markdown":"3 issues spotted in your Main class :\r\n\r\n1) You didn&#39;t import your Employee class\r\n\r\n    import &lt;your_package_name&gt;.Employee;\r\n\r\n2) You can&#39;t instantiate a Map. I assume you need a HashMap :\r\n\r\n    Map&lt;String, Integer&gt; retVal = new HashMap&lt;String, Integer&gt;();\r\n\r\n3) your &quot;array&quot; variable is an arraylist of strings `ArrayList&lt;String&gt;`, it cannot be transformed to Employee object so this loop is incorrect :\r\n\r\n    for (Employee employee : array) ","title":"How to find max salary with empoyee Id in every particular department in JAVA?","body":"<p>3 issues spotted in your Main class :</p>\n\n<p>1) You didn't import your Employee class</p>\n\n<pre><code>import &lt;your_package_name&gt;.Employee;\n</code></pre>\n\n<p>2) You can't instantiate a Map. I assume you need a HashMap :</p>\n\n<pre><code>Map&lt;String, Integer&gt; retVal = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n\n<p>3) your \"array\" variable is an arraylist of strings <code>ArrayList&lt;String&gt;</code>, it cannot be transformed to Employee object so this loop is incorrect :</p>\n\n<pre><code>for (Employee employee : array) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548690757,"creation_date":1548690757,"answer_id":54405685,"question_id":54404707,"body_markdown":"1. First, you need to parse each line of the file into an Employee.\r\n2. Next, you need to figure out how to keep track of the highest-earning employee. You will need to later retrieve their ID. So you must store the entire object.\r\n\r\nInstead of a `Map&lt;String, Integer&gt;`, you will want to use a `Map&lt;String, Employee&gt;`. As you iterate over each Employee, you can compare the current employee with the one retrieved from the map (by Department). If the current Employee has a higher salary, you will replace the one in the map (for that Department) with the current one.\r\n\r\n## Example\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \t/**\r\n    \t * Convert a list of Employees into a Map of Departments with the\r\n    \t * highest-earning Employee\r\n    \t */\r\n    \tpublic static Map&lt;String, Employee&gt; processData(List&lt;Employee&gt; employees) {\r\n    \t\t// Need to store the ENTIRE Employee as the value to compare salary and\r\n    \t\t// later retrieve the ID\r\n    \t\tMap&lt;String, Employee&gt; result = new HashMap&lt;String, Employee&gt;();\r\n    \t\tfor (Employee employee : employees) {\r\n    \t\t\tEmployee currEmployee = result.get(employee.getDepartment());\r\n    \t\t\tif (currEmployee == null || currEmployee.getSalary() &lt; employee.getSalary()) {\r\n    \t\t\t\tresult.put(employee.getDepartment(), employee);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t/** Parse a line into an Employee */\r\n    \tpublic static Employee parseLine(String line) {\r\n    \t\tString[] tokens = line.split(&quot;, &quot;);\r\n    \t\tint id = Integer.parseInt(tokens[0], 10);     // Position 1\r\n    \t\tint salary = Integer.parseInt(tokens[3], 10); // Position 4\r\n    \t\tString name = tokens[1];                      // Position 2\r\n    \t\tString department = tokens[2];                // Position 3\r\n    \t\treturn new Employee(salary, department, id, name);\r\n    \t}\r\n    \r\n    \t/** Load a file containing Employee info */\r\n    \tpublic static List&lt;Employee&gt; loadFile(String filename) throws FileNotFoundException {\r\n    \t\tArrayList&lt;Employee&gt; result = new ArrayList&lt;Employee&gt;();\r\n    \t\tScanner in = new Scanner(new BufferedReader(new FileReader(filename)));\r\n    \t\twhile (in.hasNextLine()) {\r\n    \t\t\t// Parse each line into an Employee object.\r\n    \t\t\tresult.add(parseLine(in.nextLine()));\r\n    \t\t}\r\n    \t\tin.close();\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t/** Write each Department&#39;s highest-earning Employee&#39;s ID */\r\n    \tpublic static void writeData(Map&lt;String, Employee&gt; data, String filename) throws IOException {\r\n    \t\tPrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(filename)));\r\n    \t\toutput.print(data.entrySet().stream()\r\n    \t\t\t\t.map(e -&gt; e.getKey() + &quot;: &quot; + e.getValue().getEmployeeId())\r\n    \t\t\t\t.collect(Collectors.joining(System.lineSeparator())));\r\n    \t\toutput.close();\r\n    \t}\r\n    \r\n    \t/** Main entry */\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\twriteData(processData(loadFile(&quot;input.txt&quot;)), &quot;output.txt&quot;);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(&quot;IO error in input.txt or output.txt&quot;);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to find max salary with empoyee Id in every particular department in JAVA?","body":"<ol>\n<li>First, you need to parse each line of the file into an Employee.</li>\n<li>Next, you need to figure out how to keep track of the highest-earning employee. You will need to later retrieve their ID. So you must store the entire object.</li>\n</ol>\n\n<p>Instead of a <code>Map&lt;String, Integer&gt;</code>, you will want to use a <code>Map&lt;String, Employee&gt;</code>. As you iterate over each Employee, you can compare the current employee with the one retrieved from the map (by Department). If the current Employee has a higher salary, you will replace the one in the map (for that Department) with the current one.</p>\n\n<h2>Example</h2>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    /**\n     * Convert a list of Employees into a Map of Departments with the\n     * highest-earning Employee\n     */\n    public static Map&lt;String, Employee&gt; processData(List&lt;Employee&gt; employees) {\n        // Need to store the ENTIRE Employee as the value to compare salary and\n        // later retrieve the ID\n        Map&lt;String, Employee&gt; result = new HashMap&lt;String, Employee&gt;();\n        for (Employee employee : employees) {\n            Employee currEmployee = result.get(employee.getDepartment());\n            if (currEmployee == null || currEmployee.getSalary() &lt; employee.getSalary()) {\n                result.put(employee.getDepartment(), employee);\n            }\n        }\n        return result;\n    }\n\n    /** Parse a line into an Employee */\n    public static Employee parseLine(String line) {\n        String[] tokens = line.split(\", \");\n        int id = Integer.parseInt(tokens[0], 10);     // Position 1\n        int salary = Integer.parseInt(tokens[3], 10); // Position 4\n        String name = tokens[1];                      // Position 2\n        String department = tokens[2];                // Position 3\n        return new Employee(salary, department, id, name);\n    }\n\n    /** Load a file containing Employee info */\n    public static List&lt;Employee&gt; loadFile(String filename) throws FileNotFoundException {\n        ArrayList&lt;Employee&gt; result = new ArrayList&lt;Employee&gt;();\n        Scanner in = new Scanner(new BufferedReader(new FileReader(filename)));\n        while (in.hasNextLine()) {\n            // Parse each line into an Employee object.\n            result.add(parseLine(in.nextLine()));\n        }\n        in.close();\n        return result;\n    }\n\n    /** Write each Department's highest-earning Employee's ID */\n    public static void writeData(Map&lt;String, Employee&gt; data, String filename) throws IOException {\n        PrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(filename)));\n        output.print(data.entrySet().stream()\n                .map(e -&gt; e.getKey() + \": \" + e.getValue().getEmployeeId())\n                .collect(Collectors.joining(System.lineSeparator())));\n        output.close();\n    }\n\n    /** Main entry */\n    public static void main(String[] args) {\n        try {\n            writeData(processData(loadFile(\"input.txt\")), \"output.txt\");\n        } catch (IOException e) {\n            System.out.println(\"IO error in input.txt or output.txt\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15474700,"reputation":1,"user_id":11163656,"display_name":"SATENDRA KUMAR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595499702,"creation_date":1591344360,"answer_id":62210811,"question_id":54404707,"body_markdown":" \r\n    \r\n    /* Do not add a package declaration */\r\n    \r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    /* DO NOT CHANGE ANYTHING ABOVE THIS LINE */\r\n    /* You may add any imports here, if you wish, but only from the \r\n       standard library */\r\n    \r\n    /* Do not add a namespace declaration */\r\n    public class Main {\r\n        public static Map&lt;String, Integer&gt; processData(ArrayList&lt;String&gt; array) {\r\n            \r\n    \r\n            Map&lt;String, Integer&gt; finalMap = new HashMap&lt;&gt;();\r\n    \r\n            Map&lt;String, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;String, Map&lt;Integer, Integer&gt;&gt;();\r\n            for (String s : array) {\r\n                String breakdata[] = s.split(&quot;,&quot;);\r\n                if (map.get(breakdata[2]) != null) {\r\n                    map.get(breakdata[2]).put(Integer.parseInt(breakdata[0]), Integer.parseInt(breakdata[3].trim()));\r\n                } else {\r\n                    Map&lt;Integer, Integer&gt; inner = new HashMap&lt;Integer, Integer&gt;();\r\n                    inner.put(Integer.parseInt(breakdata[0]), Integer.parseInt(breakdata[3].trim()));\r\n                    map.put(breakdata[2], inner);\r\n                }\r\n            }\r\n            Iterator&lt;Map.Entry&lt;String, Map&lt;Integer, Integer&gt;&gt;&gt; itr = map.entrySet().iterator();\r\n            while (itr.hasNext()) {\r\n                Map.Entry&lt;String, Map&lt;Integer, Integer&gt;&gt; parent = itr.next();\r\n                finalMap.put(parent.getKey(), parent.getValue().entrySet().stream().max(Map.Entry.comparingByValue()).get().getKey());\r\n    \r\n            }\r\n    \r\n    \r\n            return finalMap;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            ArrayList&lt;String&gt; inputData = new ArrayList&lt;String&gt;();\r\n            String line;\r\n            try {\r\n                Scanner in = new Scanner(new BufferedReader(new FileReader(&quot;input.txt&quot;)));\r\n                while (in.hasNextLine())\r\n                    inputData.add(in.nextLine());\r\n                Map&lt;String, Integer&gt; retVal = processData(inputData);\r\n                PrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(&quot;output.txt&quot;)));\r\n                for (Map.Entry&lt;String, Integer&gt; e : retVal.entrySet())\r\n                    output.println(e.getKey() + &quot;: &quot; + e.getValue());\r\n                output.close();\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;IO error in input.txt or output.txt&quot;);\r\n            }\r\n        }\r\n    }","title":"How to find max salary with empoyee Id in every particular department in JAVA?","body":"<pre><code>/* Do not add a package declaration */\n\nimport java.util.*;\nimport java.io.*;\n\n/* DO NOT CHANGE ANYTHING ABOVE THIS LINE */\n/* You may add any imports here, if you wish, but only from the \n   standard library */\n\n/* Do not add a namespace declaration */\npublic class Main {\n    public static Map&lt;String, Integer&gt; processData(ArrayList&lt;String&gt; array) {\n        \n\n        Map&lt;String, Integer&gt; finalMap = new HashMap&lt;&gt;();\n\n        Map&lt;String, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;String, Map&lt;Integer, Integer&gt;&gt;();\n        for (String s : array) {\n            String breakdata[] = s.split(&quot;,&quot;);\n            if (map.get(breakdata[2]) != null) {\n                map.get(breakdata[2]).put(Integer.parseInt(breakdata[0]), Integer.parseInt(breakdata[3].trim()));\n            } else {\n                Map&lt;Integer, Integer&gt; inner = new HashMap&lt;Integer, Integer&gt;();\n                inner.put(Integer.parseInt(breakdata[0]), Integer.parseInt(breakdata[3].trim()));\n                map.put(breakdata[2], inner);\n            }\n        }\n        Iterator&lt;Map.Entry&lt;String, Map&lt;Integer, Integer&gt;&gt;&gt; itr = map.entrySet().iterator();\n        while (itr.hasNext()) {\n            Map.Entry&lt;String, Map&lt;Integer, Integer&gt;&gt; parent = itr.next();\n            finalMap.put(parent.getKey(), parent.getValue().entrySet().stream().max(Map.Entry.comparingByValue()).get().getKey());\n\n        }\n\n\n        return finalMap;\n    }\n\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; inputData = new ArrayList&lt;String&gt;();\n        String line;\n        try {\n            Scanner in = new Scanner(new BufferedReader(new FileReader(&quot;input.txt&quot;)));\n            while (in.hasNextLine())\n                inputData.add(in.nextLine());\n            Map&lt;String, Integer&gt; retVal = processData(inputData);\n            PrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(&quot;output.txt&quot;)));\n            for (Map.Entry&lt;String, Integer&gt; e : retVal.entrySet())\n                output.println(e.getKey() + &quot;: &quot; + e.getValue());\n            output.close();\n        } catch (IOException e) {\n            System.out.println(&quot;IO error in input.txt or output.txt&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12647878,"reputation":71,"user_id":9193028,"display_name":"Anand Nandeshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594151874,"creation_date":1594148478,"answer_id":62782136,"question_id":54404707,"body_markdown":"You can get the employee department and his salary by the highest employee id using following way : \r\n\r\n    public static Map&lt;String, Integer&gt; processData(ArrayList&lt;String&gt; array) {\r\n        Map&lt;String, Integer&gt; retVal = new HashMap&lt;String, Integer&gt;();\r\n        Map&lt;String, Map&lt;Integer, Integer&gt;&gt; resultMap = new HashMap&lt;String, Map&lt;Integer, Integer&gt;&gt;();\r\n    \r\n        for (String empDetails : array) {\r\n            String[] data = empDetails.split(&quot;,&quot;);\r\n            if (resultMap.containsKey(data[2])) {\r\n                Map&lt;Integer, Integer&gt; empIdSalaryMap = resultMap.get(data[2]);\r\n                if (empIdSalaryMap.keySet().iterator().next() &lt; Integer.parseInt(data[0])) {\r\n                    retVal.put(data[2], Integer.parseInt(data[3].trim()));\r\n                }\r\n            } else {\r\n                Map&lt;Integer, Integer&gt; empIdSalaryMap = new HashMap&lt;Integer, Integer&gt;();\r\n                empIdSalaryMap.put(Integer.parseInt(data[0]), Integer.parseInt(data[3].trim()));\r\n                resultMap.put(data[2], empIdSalaryMap);\r\n                retVal.put(data[2], Integer.parseInt(data[3].trim()));\r\n            }\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n","title":"How to find max salary with empoyee Id in every particular department in JAVA?","body":"<p>You can get the employee department and his salary by the highest employee id using following way :</p>\n<pre><code>public static Map&lt;String, Integer&gt; processData(ArrayList&lt;String&gt; array) {\n    Map&lt;String, Integer&gt; retVal = new HashMap&lt;String, Integer&gt;();\n    Map&lt;String, Map&lt;Integer, Integer&gt;&gt; resultMap = new HashMap&lt;String, Map&lt;Integer, Integer&gt;&gt;();\n\n    for (String empDetails : array) {\n        String[] data = empDetails.split(&quot;,&quot;);\n        if (resultMap.containsKey(data[2])) {\n            Map&lt;Integer, Integer&gt; empIdSalaryMap = resultMap.get(data[2]);\n            if (empIdSalaryMap.keySet().iterator().next() &lt; Integer.parseInt(data[0])) {\n                retVal.put(data[2], Integer.parseInt(data[3].trim()));\n            }\n        } else {\n            Map&lt;Integer, Integer&gt; empIdSalaryMap = new HashMap&lt;Integer, Integer&gt;();\n            empIdSalaryMap.put(Integer.parseInt(data[0]), Integer.parseInt(data[3].trim()));\n            resultMap.put(data[2], empIdSalaryMap);\n            retVal.put(data[2], Integer.parseInt(data[3].trim()));\n        }\n    }\n    return retVal;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11599909,"reputation":1,"user_id":8497388,"display_name":"Amit Srivastava"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597851759,"creation_date":1597841974,"answer_id":63487521,"question_id":54404707,"body_markdown":"```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n    public static Map&lt;String,Integer&gt; processData(ArrayList&lt;String&gt; array) {\r\n            \t\r\n    \tMap&lt;String, Integer&gt; retVal = new HashMap&lt;String, Integer&gt;();\r\n        Map&lt;String, Map&lt;Integer, Integer&gt;&gt; resultMap = new HashMap&lt;String, Map&lt;Integer, Integer&gt;&gt;();\r\n\r\n        for (String empDetails : array) {\r\n            String[] data = empDetails.split(&quot;,&quot;);\r\n            if (resultMap.containsKey(data[2])) {\r\n                Map&lt;Integer, Integer&gt; empIdSalaryMap = resultMap.get(data[2]);\r\n                if (empIdSalaryMap.keySet().iterator().next() &lt; Integer.parseInt(data[0])) {\r\n                    retVal.put(data[2], Integer.parseInt(data[3].trim()));\r\n                }\r\n            } else {\r\n                Map&lt;Integer, Integer&gt; empIdSalaryMap = new HashMap&lt;Integer, Integer&gt;();\r\n                empIdSalaryMap.put(Integer.parseInt(data[0]), Integer.parseInt(data[3].trim()));\r\n                resultMap.put(data[2], empIdSalaryMap);\r\n                retVal.put(data[2], Integer.parseInt(data[3].trim()));\r\n            }\r\n        }       \r\n       return retVal;\r\n    }\r\n\r\n    public static void main (String[] args) {\r\n        ArrayList&lt;String&gt; inputData = new ArrayList&lt;String&gt;();\r\n        String line;\r\n        try {\r\n            Scanner in = new Scanner(new BufferedReader(new FileReader(&quot;input.txt&quot;)));\r\n            while(in.hasNextLine())\r\n                inputData.add(in.nextLine());\r\n            Map&lt;String,Integer&gt; retVal = processData(inputData);\r\n            PrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(&quot;output.txt&quot;)));\r\n            for(Map.Entry&lt;String,Integer&gt; e: retVal.entrySet())\r\n                output.println(e.getKey() + &quot;: &quot; + e.getValue());\r\n            output.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;IO error in input.txt or output.txt&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to find max salary with empoyee Id in every particular department in JAVA?","body":"<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class Main {\n    public static Map&lt;String,Integer&gt; processData(ArrayList&lt;String&gt; array) {\n                \n        Map&lt;String, Integer&gt; retVal = new HashMap&lt;String, Integer&gt;();\n        Map&lt;String, Map&lt;Integer, Integer&gt;&gt; resultMap = new HashMap&lt;String, Map&lt;Integer, Integer&gt;&gt;();\n\n        for (String empDetails : array) {\n            String[] data = empDetails.split(&quot;,&quot;);\n            if (resultMap.containsKey(data[2])) {\n                Map&lt;Integer, Integer&gt; empIdSalaryMap = resultMap.get(data[2]);\n                if (empIdSalaryMap.keySet().iterator().next() &lt; Integer.parseInt(data[0])) {\n                    retVal.put(data[2], Integer.parseInt(data[3].trim()));\n                }\n            } else {\n                Map&lt;Integer, Integer&gt; empIdSalaryMap = new HashMap&lt;Integer, Integer&gt;();\n                empIdSalaryMap.put(Integer.parseInt(data[0]), Integer.parseInt(data[3].trim()));\n                resultMap.put(data[2], empIdSalaryMap);\n                retVal.put(data[2], Integer.parseInt(data[3].trim()));\n            }\n        }       \n       return retVal;\n    }\n\n    public static void main (String[] args) {\n        ArrayList&lt;String&gt; inputData = new ArrayList&lt;String&gt;();\n        String line;\n        try {\n            Scanner in = new Scanner(new BufferedReader(new FileReader(&quot;input.txt&quot;)));\n            while(in.hasNextLine())\n                inputData.add(in.nextLine());\n            Map&lt;String,Integer&gt; retVal = processData(inputData);\n            PrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(&quot;output.txt&quot;)));\n            for(Map.Entry&lt;String,Integer&gt; e: retVal.entrySet())\n                output.println(e.getKey() + &quot;: &quot; + e.getValue());\n            output.close();\n        } catch (IOException e) {\n            System.out.println(&quot;IO error in input.txt or output.txt&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18847374,"reputation":1,"user_id":13747299,"display_name":"Swapnil Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602273529,"creation_date":1602221107,"answer_id":64274371,"question_id":54404707,"body_markdown":"\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class Main {\r\n\t\r\n        public static void main(String[] args) {\r\n    \t\t\r\n            List&lt;String&gt; inputData = new ArrayList&lt;String&gt;();\r\n    \t\tString line;\r\n    \t\ttry {\r\n    \t\t\tScanner in = new Scanner(new BufferedReader(new FileReader(&quot;G:\\\\input.txt&quot;)));\r\n    \t\t\twhile (in.hasNextLine()) {\r\n    \t\t\t\tinputData.add(in.nextLine());\r\n                }\r\n    \t\t\tMap&lt;String, Integer&gt; retVal = processData(inputData);\r\n    \t\t\tPrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(&quot;G:\\\\\\\\output.txt&quot;)));\r\n    \t\t\tfor (Map.Entry&lt;String, Integer&gt; e : retVal.entrySet()) {\r\n    \t\t\t\toutput.println(e.getKey() + &quot;: &quot; + e.getValue());\r\n                }\r\n    \t\t\toutput.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(&quot;IO error in input.txt or output.txt&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\n        public static Map&lt;String, Integer&gt; processData(ArrayList&lt;String&gt; array) {\r\n\t\t\r\n\t\t    Map&lt;String, Integer&gt; retVal = new HashMap&lt;String, Integer&gt;();\r\n\t\t    Map&lt;String, Integer&gt; resultMap1 = new HashMap&lt;String, Integer&gt;();\r\n\r\n\t\t    for (String empDetails : array) {\r\n\t\t\t    \r\n                String[] data = empDetails.split(&quot;,&quot;);\r\n\r\n\t\t\t    if (resultMap1.containsKey(data[2])) {\r\n\r\n\t\t\t\t    if (resultMap1.get(data[2]) &lt; Integer.parseInt(data[3].trim())) {\r\n\t\t\t\t\t    resultMap1.put(data[2].toString(), Integer.parseInt(data[3].trim()));\r\n\t\t\t\t\t    retVal.put(data[2].toString().trim(), Integer.parseInt(data[0].trim()));\r\n\t\t\t\t    }\r\n\r\n\t\t\t    } else {\r\n\t\t\t    \tresultMap1.put(data[2].toString(), Integer.parseInt(data[3].trim()));\r\n\t\t\t    \tretVal.put(data[2].toString().trim(), Integer.parseInt(data[0].trim()));\r\n\t\t    \t}\r\n\r\n\t\t    }\r\n\t\t    return retVal;\r\n\t    }\r\n    }\r\n","title":"How to find max salary with empoyee Id in every particular department in JAVA?","body":"<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        \n        List&lt;String&gt; inputData = new ArrayList&lt;String&gt;();\n        String line;\n        try {\n            Scanner in = new Scanner(new BufferedReader(new FileReader(&quot;G:\\\\input.txt&quot;)));\n            while (in.hasNextLine()) {\n                inputData.add(in.nextLine());\n            }\n            Map&lt;String, Integer&gt; retVal = processData(inputData);\n            PrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(&quot;G:\\\\\\\\output.txt&quot;)));\n            for (Map.Entry&lt;String, Integer&gt; e : retVal.entrySet()) {\n                output.println(e.getKey() + &quot;: &quot; + e.getValue());\n            }\n            output.close();\n        } catch (IOException e) {\n            System.out.println(&quot;IO error in input.txt or output.txt&quot;);\n        }\n    }\n\n    public static Map&lt;String, Integer&gt; processData(ArrayList&lt;String&gt; array) {\n    \n        Map&lt;String, Integer&gt; retVal = new HashMap&lt;String, Integer&gt;();\n        Map&lt;String, Integer&gt; resultMap1 = new HashMap&lt;String, Integer&gt;();\n\n        for (String empDetails : array) {\n            \n            String[] data = empDetails.split(&quot;,&quot;);\n\n            if (resultMap1.containsKey(data[2])) {\n\n                if (resultMap1.get(data[2]) &lt; Integer.parseInt(data[3].trim())) {\n                    resultMap1.put(data[2].toString(), Integer.parseInt(data[3].trim()));\n                    retVal.put(data[2].toString().trim(), Integer.parseInt(data[0].trim()));\n                }\n\n            } else {\n                resultMap1.put(data[2].toString(), Integer.parseInt(data[3].trim()));\n                retVal.put(data[2].toString().trim(), Integer.parseInt(data[0].trim()));\n            }\n\n        }\n        return retVal;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6610088,"reputation":41,"user_id":5105569,"display_name":"Ankesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661322114,"creation_date":1661322114,"answer_id":73468334,"question_id":54404707,"body_markdown":"     Map&lt;Integer,String&gt; collect = empList.stream()\r\n                .collect(Collectors.groupingBy(e -&gt; e.getDeptId(),\r\n                        Collectors.collectingAndThen(Collectors.maxBy(Comparator.comparingDouble(Employee::getSalary)),value-&gt;value.get().getName())));\r\n\r\n&gt; Using Collectors from java 8 onwards\r\n\r\n\r\n\r\n\r\n","title":"How to find max salary with empoyee Id in every particular department in JAVA?","body":"<pre><code> Map&lt;Integer,String&gt; collect = empList.stream()\n            .collect(Collectors.groupingBy(e -&gt; e.getDeptId(),\n                    Collectors.collectingAndThen(Collectors.maxBy(Comparator.comparingDouble(Employee::getSalary)),value-&gt;value.get().getName())));\n</code></pre>\n<blockquote>\n<p>Using Collectors from java 8 onwards</p>\n</blockquote>\n"}],"owner":{"account_id":13646739,"reputation":164,"user_id":9845582,"display_name":"Divyank Vijayvergiya"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10263,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":7,"score":-2,"last_activity_date":1661322114,"creation_date":1548687808,"question_id":54404707,"body_markdown":"    /* Save this in a file called Main.java to compile and test it */\r\n\r\n    /* Do not add a package declaration */\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    /* DO NOT CHANGE ANYTHING ABOVE THIS LINE */\r\n    /* You may add any imports here, if you wish, but only from the \r\n       standard library */\r\n    \r\n    /* Do not add a namespace declaration */\r\n    public class Main {\r\n    \tpublic static Map&lt;String, Integer&gt; processData(ArrayList&lt;String&gt; array) {\r\n    \t\t/*\r\n    \t\t * Modify this method to process `array` as indicated in the question.\r\n    \t\t * At the end, return the appropriate value.\r\n    \t\t *\r\n    \t\t * Please create appropriate classes, and use appropriate data\r\n    \t\t * structures as necessary.\r\n    \t\t *\r\n    \t\t * Do not print anything in this method.\r\n    \t\t *\r\n    \t\t * Submit this entire program (not just this method) as your answer\r\n    \t\t */\r\n    \t\tMap&lt;String, Integer&gt; retVal = new Map&lt;String, Integer&gt;();\r\n    \t\tfor (Employee employee : array) {\r\n    \t\t\tint highSalary = retVal.get(employee.getDepartment());\r\n    \t\t\tif (highSalary == null || highSalary &lt; employee.getSalary()) {\r\n    \t\t\t\tretVal.put(employee.getDepartment(), employee.getSalary());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn retVal;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;String&gt; inputData = new ArrayList&lt;String&gt;();\r\n    \t\tString line;\r\n    \t\ttry {\r\n    \t\t\tScanner in = new Scanner(new BufferedReader(new FileReader(&quot;input.txt&quot;)));\r\n    \t\t\twhile (in.hasNextLine())\r\n    \t\t\t\tinputData.add(in.nextLine());\r\n    \t\t\tMap&lt;String, Integer&gt; retVal = processData(inputData);\r\n    \t\t\tPrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(&quot;output.txt&quot;)));\r\n    \t\t\tfor (Map.Entry&lt;String, Integer&gt; e : retVal.entrySet())\r\n    \t\t\t\toutput.println(e.getKey() + &quot;: &quot; + e.getValue());\r\n    \t\t\toutput.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(&quot;IO error in input.txt or output.txt&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis is the input.txt file:\r\n\r\n    22, Rajan Anand, Engineering, 1600000\r\n    23, Swati Patil, Testing, 800000\r\n    27, Vijay Chawda, Engineering, 800000\r\n    29, Basant Mahapatra, Engineering, 600000\r\n    32, Ajay Patel, Testing, 350000\r\n    34, Swaraj Birla, Testing, 350000\r\n\r\nI&#39;ve created one Employee class and tried with getter setter but it&#39;s not working at. How can I approach this question please help me out\r\n\r\nExpected result:\r\n\r\n    Engineering: 22\r\n    Testing: 23\r\n\r\nClass definition:\r\n\r\n    public class Employee {\r\n    \tprivate int salary;\r\n    \tprivate String department;\r\n    \tprivate int employeeId;\r\n    \tprivate String name;\r\n    \r\n    \tpublic Employee(int salary, String department, int employeeId, String name) {\r\n    \t\tthis.salary = salary;\r\n    \t\tthis.department = department;\r\n    \t\tthis.employeeId = employeeId;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic int getSalary() {\r\n    \t\treturn salary;\r\n    \t}\r\n    \r\n    \tpublic void setSalary(int salary) {\r\n    \t\tthis.salary = salary;\r\n    \t}\r\n    \r\n    \tpublic String getDepartment() {\r\n    \t\treturn department;\r\n    \t}\r\n    \r\n    \tpublic void setDepartment(String department) {\r\n    \t\tthis.department = department;\r\n    \t}\r\n    \r\n    \tpublic int getEmployeeId() {\r\n    \t\treturn employeeId;\r\n    \t}\r\n    \r\n    \tpublic void setEmployeeId(int employeeId) {\r\n    \t\tthis.employeeId = employeeId;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\nI created Employee class exclusively by encapsulation but I am gettinng compilation errors. Please help me out with I stuck on this from last 2 days.\r\nBut I want to do it without Employee class\r\n\r\n\r\n","title":"How to find max salary with empoyee Id in every particular department in JAVA?","body":"<pre><code>/* Save this in a file called Main.java to compile and test it */\n\n/* Do not add a package declaration */\nimport java.util.*;\nimport java.io.*;\n\n/* DO NOT CHANGE ANYTHING ABOVE THIS LINE */\n/* You may add any imports here, if you wish, but only from the \n   standard library */\n\n/* Do not add a namespace declaration */\npublic class Main {\n    public static Map&lt;String, Integer&gt; processData(ArrayList&lt;String&gt; array) {\n        /*\n         * Modify this method to process `array` as indicated in the question.\n         * At the end, return the appropriate value.\n         *\n         * Please create appropriate classes, and use appropriate data\n         * structures as necessary.\n         *\n         * Do not print anything in this method.\n         *\n         * Submit this entire program (not just this method) as your answer\n         */\n        Map&lt;String, Integer&gt; retVal = new Map&lt;String, Integer&gt;();\n        for (Employee employee : array) {\n            int highSalary = retVal.get(employee.getDepartment());\n            if (highSalary == null || highSalary &lt; employee.getSalary()) {\n                retVal.put(employee.getDepartment(), employee.getSalary());\n            }\n        }\n        return retVal;\n    }\n\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; inputData = new ArrayList&lt;String&gt;();\n        String line;\n        try {\n            Scanner in = new Scanner(new BufferedReader(new FileReader(\"input.txt\")));\n            while (in.hasNextLine())\n                inputData.add(in.nextLine());\n            Map&lt;String, Integer&gt; retVal = processData(inputData);\n            PrintWriter output = new PrintWriter(new BufferedWriter(new FileWriter(\"output.txt\")));\n            for (Map.Entry&lt;String, Integer&gt; e : retVal.entrySet())\n                output.println(e.getKey() + \": \" + e.getValue());\n            output.close();\n        } catch (IOException e) {\n            System.out.println(\"IO error in input.txt or output.txt\");\n        }\n    }\n}\n</code></pre>\n\n<p>This is the input.txt file:</p>\n\n<pre><code>22, Rajan Anand, Engineering, 1600000\n23, Swati Patil, Testing, 800000\n27, Vijay Chawda, Engineering, 800000\n29, Basant Mahapatra, Engineering, 600000\n32, Ajay Patel, Testing, 350000\n34, Swaraj Birla, Testing, 350000\n</code></pre>\n\n<p>I've created one Employee class and tried with getter setter but it's not working at. How can I approach this question please help me out</p>\n\n<p>Expected result:</p>\n\n<pre><code>Engineering: 22\nTesting: 23\n</code></pre>\n\n<p>Class definition:</p>\n\n<pre><code>public class Employee {\n    private int salary;\n    private String department;\n    private int employeeId;\n    private String name;\n\n    public Employee(int salary, String department, int employeeId, String name) {\n        this.salary = salary;\n        this.department = department;\n        this.employeeId = employeeId;\n        this.name = name;\n    }\n\n    public int getSalary() {\n        return salary;\n    }\n\n    public void setSalary(int salary) {\n        this.salary = salary;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n\n    public int getEmployeeId() {\n        return employeeId;\n    }\n\n    public void setEmployeeId(int employeeId) {\n        this.employeeId = employeeId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>I created Employee class exclusively by encapsulation but I am gettinng compilation errors. Please help me out with I stuck on this from last 2 days.\nBut I want to do it without Employee class</p>\n"},{"tags":["java","hyperledger-fabric","hyperledger-fabric-sdk-java"],"answers":[{"tags":[],"owner":{"account_id":2806051,"reputation":324,"user_id":2413271,"display_name":"Rahul Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661321993,"creation_date":1661321993,"answer_id":73468310,"question_id":73468255,"body_markdown":"First of all you need to write the smart-contract (as per your use-case) and deploy that to the hyper-ledger fabric network.\r\nThen, you can create another application where you expose the REST endpoints. Maybe a Springboot application you can create with REST endpoints which can take the data requests and call the Smart-Contract&#39;s methods for creating the records.","title":"How to insert the data into hyper-ledger fabric fabric network (block-chain) through REST APIs","body":"<p>First of all you need to write the smart-contract (as per your use-case) and deploy that to the hyper-ledger fabric network.\nThen, you can create another application where you expose the REST endpoints. Maybe a Springboot application you can create with REST endpoints which can take the data requests and call the Smart-Contract's methods for creating the records.</p>\n"}],"owner":{"account_id":26146122,"reputation":33,"user_id":19834692,"display_name":"Zadish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73468310,"answer_count":1,"score":1,"last_activity_date":1661321993,"creation_date":1661321693,"question_id":73468255,"body_markdown":"I am planning to implement a block-chain based application for storing the electricity consumption records to a hyperledger fabric network.\r\nIs there any way to insert the data through REST APIs?","title":"How to insert the data into hyper-ledger fabric fabric network (block-chain) through REST APIs","body":"<p>I am planning to implement a block-chain based application for storing the electricity consumption records to a hyperledger fabric network.\nIs there any way to insert the data through REST APIs?</p>\n"},{"tags":["java","android","android-recyclerview","android-json"],"answers":[{"tags":[],"owner":{"account_id":13445288,"reputation":318,"user_id":9701439,"display_name":"TylerQITX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661321885,"creation_date":1661321885,"answer_id":73468294,"question_id":73467723,"body_markdown":"Set a listener for in your adapter:\r\n\r\n    private Listener listener;\r\n    public void setListener(Listener listener) {\r\n        this.listener = listener\r\n    }\r\n    \r\n    public interface Listener {\r\n        void onGetProjectDetails(String id)\r\n    }\r\n\r\nIn onClick:\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        String id = String.valueOf(orderModel.getId());\r\n        if (listener != null) {\r\n            listener.onGetProjectDetails(id);\r\n        }\r\n    }\r\n\r\nIn your fragment:\r\n\r\n    ...\r\n    AdapterJSON orderAdapter = new AdapterJSON(getContext(), orderList);\r\n    orderAdapter.setListener(id -&gt; {\r\n        // Get request using this id in fragment\r\n    });\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n    recyclerView.setAdapter(orderAdapter);\r\n\r\n","title":"RecyclerView with JSON, setOnClickListener with id and create new GET request with that id","body":"<p>Set a listener for in your adapter:</p>\n<pre><code>private Listener listener;\npublic void setListener(Listener listener) {\n    this.listener = listener\n}\n\npublic interface Listener {\n    void onGetProjectDetails(String id)\n}\n</code></pre>\n<p>In onClick:</p>\n<pre><code>@Override\npublic void onClick(View view) {\n    String id = String.valueOf(orderModel.getId());\n    if (listener != null) {\n        listener.onGetProjectDetails(id);\n    }\n}\n</code></pre>\n<p>In your fragment:</p>\n<pre><code>...\nAdapterJSON orderAdapter = new AdapterJSON(getContext(), orderList);\norderAdapter.setListener(id -&gt; {\n    // Get request using this id in fragment\n});\nrecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\nrecyclerView.setAdapter(orderAdapter);\n</code></pre>\n"}],"owner":{"account_id":24681416,"reputation":16,"user_id":18575094,"display_name":"Suhrob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661321885,"creation_date":1661318035,"question_id":73467723,"body_markdown":"I get a request for all orders, I have to take the id from there and put it on the request that shows the details of the order &quot;?project_id= + id&quot;`\r\n\r\n\r\nmy fragment, the place where i display the list of orders\r\n\r\n\r\n```\r\npackage com.example.myapplication.freelancer.bottom_Menu.search_worker;\r\n\r\npublic class SearchWorker_ extends Fragment {\r\n\r\n    List&lt;OrdersModelClass&gt; orderList;\r\n    RecyclerView recyclerView;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_search_worker_, container, false);\r\n\r\n        orderList = new ArrayList&lt;&gt;();\r\n        recyclerView = view.findViewById(R.id.recycler_View);\r\n\r\n        GetData getData = new GetData();\r\n        getData.execute();\r\n\r\n        return view;\r\n    }\r\n\r\n    public class GetData extends AsyncTask&lt;String, String, String&gt;{\r\n\r\n        @Override\r\n        protected String doInBackground(String strings) {\r\n            String current = &quot;&quot;;\r\n\r\n            try {\r\n                URL url;\r\n                HttpURLConnection urlConnection = null;\r\n\r\n                try {\r\n                    String get_order = &quot;https://tjfl.blinmen.ru/wp-json/tjfl/v1/projects/&quot;;\r\n                    url = new URL(get_order);\r\n                    urlConnection = (HttpURLConnection) url.openConnection();\r\n\r\n                    InputStream is = urlConnection.getInputStream();\r\n                    InputStreamReader isr = new InputStreamReader(is);\r\n\r\n                    int data = isr.read();\r\n                    while (data != -1){\r\n                        current += (char) data;\r\n                        data = isr.read();\r\n                    }\r\n                    return current;\r\n                }catch (IOException e){\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (urlConnection != null){\r\n                        urlConnection.disconnect();\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return current;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n\r\n            try {\r\n\r\n                JSONArray jsonArray = new JSONArray(s);\r\n\r\n                for (int i = 0; i &lt; jsonArray.length(); i++){\r\n\r\n                    JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n\r\n                    OrdersModelClass model = new OrdersModelClass();\r\n                    model.setTitle_order_adapter(jsonObject.getString(&quot;title&quot;));\r\n                    model.setBudget_order_adapter(jsonObject.getString(&quot;budget&quot;));\r\n                    model.setDeadline_order_adapter(jsonObject.getString(&quot;deadline&quot;));\r\n\r\n                    orderList.add(model);\r\n                }\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n            PutDataIntoRecyclerView(orderList);\r\n        }\r\n    }\r\n\r\n    private void PutDataIntoRecyclerView(List&lt;OrdersModelClass&gt; orderList){\r\n        AdapterJSON orderAdapter = new AdapterJSON(getContext(), orderList);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        recyclerView.setAdapter(orderAdapter);\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy adapter, I need to know how to write code on click, here\r\n\r\n```\r\npackage com.example.myapplication.adapters;\r\n\r\npublic class AdapterJSON extends RecyclerView.Adapter&lt;AdapterJSON.MyViewHolder&gt; {\r\n\r\n    private RecyclerView recyclerViewItemClickListener;\r\n    private final Context mContext;\r\n    private final List&lt;OrdersModelClass&gt; mData;\r\n\r\n\r\n    public AdapterJSON(Context mContext, List&lt;OrdersModelClass&gt; mData) {\r\n        this.mContext = mContext;\r\n        this.mData = mData;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(mContext);\r\n        View view = inflater.inflate(R.layout.my_row_orders_, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        final OrdersModelClass orderModel = mData.get(position);\r\n\r\n        holder.title.setText(orderModel.getTitle_order_adapter());\r\n        holder.budget.setText(orderModel.getBudget_order_adapter());\r\n        holder.deadline.setText(orderModel.getDeadline_order_adapter());\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String id = String.valueOf(orderModel.getId());\r\n                \r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mData.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView title, budget, deadline;\r\n        ConstraintLayout mainLayout;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            title = itemView.findViewById(R.id.title_order);\r\n            budget = itemView.findViewById(R.id.budget_order);\r\n            deadline = itemView.findViewById(R.id.deadline_order);\r\n            mainLayout = itemView.findViewById(R.id.mainLayout_order);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nGET request which i get\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 151,\r\n        &quot;status&quot;: &quot;close&quot;,\r\n        &quot;title&quot;: &quot;New test project&quot;,\r\n        &quot;deadline&quot;: &quot;31/05/2022&quot;,\r\n        &quot;budget&quot;: &quot;1000&quot;\r\n    }\r\n]\r\n```\r\n\r\nGET request which I should take by id\r\n\r\n```\r\n{\r\n  &quot;id&quot;: 151,\r\n  &quot;title&quot;: &quot;New test project&quot;,\r\n  &quot;status&quot;: &quot;closed&quot;,\r\n  &quot;deadline&quot;: &quot;31/05/2022&quot;,\r\n  &quot;budget&quot;: &quot;1000&quot;,\r\n  &quot;reserved_budget&quot;: &quot;100&quot;,\r\n  &quot;customer&quot;: &quot;Tajsoft&quot;,\r\n  &quot;description&quot;: &quot;123456789012345678901234567890&quot;,\r\n  &quot;tags&quot;: [\r\n    &quot;Full stack&quot;,\r\n    &quot;Web&quot;\r\n  ]\r\n}\r\n```\r\n\r\nUltimately, I need a code that will take the id of the order and, for this id, make a GET request to get the details of the order, please help me how to take the id into a variable","title":"RecyclerView with JSON, setOnClickListener with id and create new GET request with that id","body":"<p>I get a request for all orders, I have to take the id from there and put it on the request that shows the details of the order &quot;?project_id= + id&quot;`</p>\n<p>my fragment, the place where i display the list of orders</p>\n<pre><code>package com.example.myapplication.freelancer.bottom_Menu.search_worker;\n\npublic class SearchWorker_ extends Fragment {\n\n    List&lt;OrdersModelClass&gt; orderList;\n    RecyclerView recyclerView;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_search_worker_, container, false);\n\n        orderList = new ArrayList&lt;&gt;();\n        recyclerView = view.findViewById(R.id.recycler_View);\n\n        GetData getData = new GetData();\n        getData.execute();\n\n        return view;\n    }\n\n    public class GetData extends AsyncTask&lt;String, String, String&gt;{\n\n        @Override\n        protected String doInBackground(String strings) {\n            String current = &quot;&quot;;\n\n            try {\n                URL url;\n                HttpURLConnection urlConnection = null;\n\n                try {\n                    String get_order = &quot;https://tjfl.blinmen.ru/wp-json/tjfl/v1/projects/&quot;;\n                    url = new URL(get_order);\n                    urlConnection = (HttpURLConnection) url.openConnection();\n\n                    InputStream is = urlConnection.getInputStream();\n                    InputStreamReader isr = new InputStreamReader(is);\n\n                    int data = isr.read();\n                    while (data != -1){\n                        current += (char) data;\n                        data = isr.read();\n                    }\n                    return current;\n                }catch (IOException e){\n                    e.printStackTrace();\n                } finally {\n                    if (urlConnection != null){\n                        urlConnection.disconnect();\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return current;\n        }\n\n        @Override\n        protected void onPostExecute(String s) {\n\n            try {\n\n                JSONArray jsonArray = new JSONArray(s);\n\n                for (int i = 0; i &lt; jsonArray.length(); i++){\n\n                    JSONObject jsonObject = jsonArray.getJSONObject(i);\n\n                    OrdersModelClass model = new OrdersModelClass();\n                    model.setTitle_order_adapter(jsonObject.getString(&quot;title&quot;));\n                    model.setBudget_order_adapter(jsonObject.getString(&quot;budget&quot;));\n                    model.setDeadline_order_adapter(jsonObject.getString(&quot;deadline&quot;));\n\n                    orderList.add(model);\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n            PutDataIntoRecyclerView(orderList);\n        }\n    }\n\n    private void PutDataIntoRecyclerView(List&lt;OrdersModelClass&gt; orderList){\n        AdapterJSON orderAdapter = new AdapterJSON(getContext(), orderList);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n        recyclerView.setAdapter(orderAdapter);\n    }\n}\n</code></pre>\n<p>My adapter, I need to know how to write code on click, here</p>\n<pre><code>package com.example.myapplication.adapters;\n\npublic class AdapterJSON extends RecyclerView.Adapter&lt;AdapterJSON.MyViewHolder&gt; {\n\n    private RecyclerView recyclerViewItemClickListener;\n    private final Context mContext;\n    private final List&lt;OrdersModelClass&gt; mData;\n\n\n    public AdapterJSON(Context mContext, List&lt;OrdersModelClass&gt; mData) {\n        this.mContext = mContext;\n        this.mData = mData;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(mContext);\n        View view = inflater.inflate(R.layout.my_row_orders_, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        final OrdersModelClass orderModel = mData.get(position);\n\n        holder.title.setText(orderModel.getTitle_order_adapter());\n        holder.budget.setText(orderModel.getBudget_order_adapter());\n        holder.deadline.setText(orderModel.getDeadline_order_adapter());\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String id = String.valueOf(orderModel.getId());\n                \n\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return mData.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView title, budget, deadline;\n        ConstraintLayout mainLayout;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            title = itemView.findViewById(R.id.title_order);\n            budget = itemView.findViewById(R.id.budget_order);\n            deadline = itemView.findViewById(R.id.deadline_order);\n            mainLayout = itemView.findViewById(R.id.mainLayout_order);\n        }\n    }\n}\n</code></pre>\n<p>GET request which i get</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 151,\n        &quot;status&quot;: &quot;close&quot;,\n        &quot;title&quot;: &quot;New test project&quot;,\n        &quot;deadline&quot;: &quot;31/05/2022&quot;,\n        &quot;budget&quot;: &quot;1000&quot;\n    }\n]\n</code></pre>\n<p>GET request which I should take by id</p>\n<pre><code>{\n  &quot;id&quot;: 151,\n  &quot;title&quot;: &quot;New test project&quot;,\n  &quot;status&quot;: &quot;closed&quot;,\n  &quot;deadline&quot;: &quot;31/05/2022&quot;,\n  &quot;budget&quot;: &quot;1000&quot;,\n  &quot;reserved_budget&quot;: &quot;100&quot;,\n  &quot;customer&quot;: &quot;Tajsoft&quot;,\n  &quot;description&quot;: &quot;123456789012345678901234567890&quot;,\n  &quot;tags&quot;: [\n    &quot;Full stack&quot;,\n    &quot;Web&quot;\n  ]\n}\n</code></pre>\n<p>Ultimately, I need a code that will take the id of the order and, for this id, make a GET request to get the details of the order, please help me how to take the id into a variable</p>\n"},{"tags":["java","eclipse","maven","groovy","geb"],"comments":[{"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"score":1,"creation_date":1652013243,"post_id":72152786,"comment_id":127498082,"body_markdown":"Can you show your project in the Package Explorer? You may have different versions of groovy jars but it is hard to tell from you description.","body":"Can you show your project in the Package Explorer? You may have different versions of groovy jars but it is hard to tell from you description."}],"answers":[{"tags":[],"owner":{"account_id":7692483,"reputation":1,"user_id":5828268,"display_name":"Andrew Ortega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661321861,"creation_date":1661321861,"answer_id":73468288,"question_id":72152786,"body_markdown":"I&#39;ve had the same problem with Groovy while studying Spring and trying Groovy code examples from the book. Thanks to **emilles** here, I&#39;ve managed to fix the problem.\r\n\r\nI have:\r\n- Eclipse IDE,\r\n- Groovy Development Tools 4.6.0,\r\n- A `&#39;groovy&#39;` plugin defined in my Gradle script,\r\n- `&#39;org.codehaus.groovy:groovy-all:3.0.12&#39;` as a Gradle dependency.\r\n\r\nIn project settings, the Groovy compiler version is 3.0.\r\n\r\nWhat actually helped: `Window &gt; Preferences &gt; Groovy &gt; Compiler &gt; Switch to 3.0.11`.","title":"Groovy: General error during conversion : MacroTransformation cannot be run. ( Using Groovy in eclipse)","body":"<p>I've had the same problem with Groovy while studying Spring and trying Groovy code examples from the book. Thanks to <strong>emilles</strong> here, I've managed to fix the problem.</p>\n<p>I have:</p>\n<ul>\n<li>Eclipse IDE,</li>\n<li>Groovy Development Tools 4.6.0,</li>\n<li>A <code>'groovy'</code> plugin defined in my Gradle script,</li>\n<li><code>'org.codehaus.groovy:groovy-all:3.0.12'</code> as a Gradle dependency.</li>\n</ul>\n<p>In project settings, the Groovy compiler version is 3.0.</p>\n<p>What actually helped: <code>Window &gt; Preferences &gt; Groovy &gt; Compiler &gt; Switch to 3.0.11</code>.</p>\n"}],"owner":{"account_id":25225457,"reputation":1,"user_id":19061395,"display_name":"Sushant Khursale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661321861,"creation_date":1651928556,"question_id":72152786,"body_markdown":"I am quite new to the groovy and trying to set up a maven project to automate the web applications using Geb-Groovy-Maven. \r\nSo far I have completed the following steps:\r\n\r\n1. Created a Groovy project in Eclipse and configured it as Maven project. (Groovy has been installed on eclipse and I&#39;ve confirmed that programs are running successfully.)  \r\n2. Configured the pom.xml file by adding all the required dependencies.   \r\n3. Created a new groovy class by right clicking on src file. Wrote the script to launch the webdriver using Geb.  \r\n\r\n       import geb.Browser\r\n       import org.openqa.selenium.firefox.FirefoxDriver\r\n       def browser = new Browser(driver: new FirefoxDriver())\r\n\r\nCode:\r\n\r\n[![See the code here][1]][1]\r\n \r\nError message:\r\n\r\n[![Complete error message][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8BVwz.png\r\n  [2]: https://i.stack.imgur.com/th97m.png","title":"Groovy: General error during conversion : MacroTransformation cannot be run. ( Using Groovy in eclipse)","body":"<p>I am quite new to the groovy and trying to set up a maven project to automate the web applications using Geb-Groovy-Maven.\nSo far I have completed the following steps:</p>\n<ol>\n<li><p>Created a Groovy project in Eclipse and configured it as Maven project. (Groovy has been installed on eclipse and I've confirmed that programs are running successfully.)</p>\n</li>\n<li><p>Configured the pom.xml file by adding all the required dependencies.</p>\n</li>\n<li><p>Created a new groovy class by right clicking on src file. Wrote the script to launch the webdriver using Geb.</p>\n<pre><code>import geb.Browser\nimport org.openqa.selenium.firefox.FirefoxDriver\ndef browser = new Browser(driver: new FirefoxDriver())\n</code></pre>\n</li>\n</ol>\n<p>Code:</p>\n<p><a href=\"https://i.stack.imgur.com/8BVwz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BVwz.png\" alt=\"See the code here\" /></a></p>\n<p>Error message:</p>\n<p><a href=\"https://i.stack.imgur.com/th97m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/th97m.png\" alt=\"Complete error message\" /></a></p>\n"},{"tags":["java","list","java-8","java-stream"],"comments":[{"owner":{"account_id":8536015,"reputation":2201,"user_id":6397798,"accept_rate":60,"display_name":"bracco23"},"score":0,"creation_date":1481327809,"post_id":41070619,"comment_id":69348328,"body_markdown":"have you tried listA.clone().append(objectB) ?","body":"have you tried listA.clone().append(objectB) ?"},{"owner":{"account_id":7586152,"reputation":2020,"user_id":5755166,"accept_rate":100,"display_name":"mxscho"},"score":0,"creation_date":1481328095,"post_id":41070619,"comment_id":69348397,"body_markdown":"@bracco23 The `List&lt;T&gt;` interface does not expose an `append(...)` method, does it?.","body":"@bracco23 The <code>List&lt;T&gt;</code> interface does not expose an <code>append(...)</code> method, does it?."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1481328281,"post_id":41070619,"comment_id":69348458,"body_markdown":"It doesn&#39;t expose a clone() either.","body":"It doesn&#39;t expose a clone() either."},{"owner":{"account_id":7586152,"reputation":2020,"user_id":5755166,"accept_rate":100,"display_name":"mxscho"},"score":0,"creation_date":1481328507,"post_id":41070619,"comment_id":69348514,"body_markdown":"@JBNizet I know, but I didn&#39;t mention it because it is not far from reality to assume that I could be working with the actual object and not a variable of type `List&lt;T&gt;`.","body":"@JBNizet I know, but I didn&#39;t mention it because it is not far from reality to assume that I could be working with the actual object and not a variable of type <code>List&lt;T&gt;</code>."},{"owner":{"account_id":8536015,"reputation":2201,"user_id":6397798,"accept_rate":60,"display_name":"bracco23"},"score":0,"creation_date":1481385308,"post_id":41070619,"comment_id":69360990,"body_markdown":"@mxscho you&#39;re right it doesn&#39;t, but it expose add(...) and the JavaDoc says that the element added goes to the end of the list. Same behaviour, different name.","body":"@mxscho you&#39;re right it doesn&#39;t, but it expose add(...) and the JavaDoc says that the element added goes to the end of the list. Same behaviour, different name."},{"owner":{"account_id":8536015,"reputation":2201,"user_id":6397798,"accept_rate":60,"display_name":"bracco23"},"score":0,"creation_date":1481385453,"post_id":41070619,"comment_id":69361049,"body_markdown":"And it doesn&#39;t expose clone either, but Object does, and it is safe to assume it is overriden such as its behaviour is consistent.","body":"And it doesn&#39;t expose clone either, but Object does, and it is safe to assume it is overriden such as its behaviour is consistent."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1481327946,"creation_date":1481327946,"answer_id":41070669,"question_id":41070619,"body_markdown":"You could use\r\n\r\n    List&lt;Foo&gt; newList = \r\n        Stream.concat(list.stream(), Stream.of(fooToAdd))\r\n              .collect(Collectors.toList());\r\n\r\nBt I find this a little bit convoluted. Strive for readability rather than finding single-line, more obscure solutions. Also, never use raw types as you&#39;re doing in your question.","title":"Append object to list and return result in Java 8?","body":"<p>You could use</p>\n\n<pre><code>List&lt;Foo&gt; newList = \n    Stream.concat(list.stream(), Stream.of(fooToAdd))\n          .collect(Collectors.toList());\n</code></pre>\n\n<p>Bt I find this a little bit convoluted. Strive for readability rather than finding single-line, more obscure solutions. Also, never use raw types as you're doing in your question.</p>\n"},{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481327964,"creation_date":1481327964,"answer_id":41070671,"question_id":41070619,"body_markdown":"You can use `var args` and create a `stream` from it to be appended to the `stream` of the actual `list`, e.g:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; append(List&lt;T&gt; list, T... args){\r\n    \treturn Stream.concat(list.stream(), Stream.of(args))\r\n    \t\t\t.collect(Collectors.toList());\r\n    }","title":"Append object to list and return result in Java 8?","body":"<p>You can use <code>var args</code> and create a <code>stream</code> from it to be appended to the <code>stream</code> of the actual <code>list</code>, e.g:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; append(List&lt;T&gt; list, T... args){\n    return Stream.concat(list.stream(), Stream.of(args))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4285471,"reputation":1290,"user_id":4304123,"display_name":"Blair Nangle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634911659,"creation_date":1634911659,"answer_id":69678293,"question_id":41070619,"body_markdown":"Alternatively:\r\n\r\n    List&lt;Foo&gt; updated = Stream.of(originalList, List.of(elementToAdd)).flatMap(Collection::stream).collect(Collectors.toList());","title":"Append object to list and return result in Java 8?","body":"<p>Alternatively:</p>\n<pre><code>List&lt;Foo&gt; updated = Stream.of(originalList, List.of(elementToAdd)).flatMap(Collection::stream).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7200935,"reputation":305,"user_id":5498201,"display_name":"conspicillatus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661321847,"creation_date":1661321847,"answer_id":73468283,"question_id":41070619,"body_markdown":"A bit late to the party, but the situation has not changed since the question was asked. So, what you are looking for is perfectly handled by [io.vavr](https://www.vavr.io/).\r\n\r\n```java\r\nimport io.vavr.collection.List;\r\n\r\nList x0 = List.of();          // []\r\nList x1 = x0.append(o1);      // [o1]\r\nList x2 = x0.prepend(o2);     // [o2]\r\nList x3 = x1.prependAll(x2);  // [o2, o1]\r\n```\r\n","title":"Append object to list and return result in Java 8?","body":"<p>A bit late to the party, but the situation has not changed since the question was asked. So, what you are looking for is perfectly handled by <a href=\"https://www.vavr.io/\" rel=\"nofollow noreferrer\">io.vavr</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.vavr.collection.List;\n\nList x0 = List.of();          // []\nList x1 = x0.append(o1);      // [o1]\nList x2 = x0.prepend(o2);     // [o2]\nList x3 = x1.prependAll(x2);  // [o2, o1]\n</code></pre>\n"}],"owner":{"account_id":7586152,"reputation":2020,"user_id":5755166,"accept_rate":100,"display_name":"mxscho"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19857,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":41070669,"answer_count":4,"score":11,"last_activity_date":1661321847,"creation_date":1481327574,"question_id":41070619,"body_markdown":"Is there a way of appending an object to a list and returning the result in one line in a functional non-imperative way?\r\nHow would you do it if also the original list should not be mutated?\r\nJava 8 is allowed.\r\n\r\nI already know how to concat two lists in one line. ([Source][1])\r\n\r\n    List listAB = Stream.concat(listA.stream(), listB.stream()).collect(Collectors.toList());\r\n\r\nI also know how to make a list out of objects in one line.\r\n\r\n    List listO1 = Collections.singletonList(objectA);\r\n    List listO2 = Stream.of(objectA, objectB).collect(Collectors.toList());\r\n    List listOO = Arrays.asList(objectA, objectB);\r\n\r\nIs there anything better than replacing `listB` in the first line with a part of the following lines?\r\n\r\n  [1]: https://stackoverflow.com/a/18687790/5755166","title":"Append object to list and return result in Java 8?","body":"<p>Is there a way of appending an object to a list and returning the result in one line in a functional non-imperative way?\nHow would you do it if also the original list should not be mutated?\nJava 8 is allowed.</p>\n\n<p>I already know how to concat two lists in one line. (<a href=\"https://stackoverflow.com/a/18687790/5755166\">Source</a>)</p>\n\n<pre><code>List listAB = Stream.concat(listA.stream(), listB.stream()).collect(Collectors.toList());\n</code></pre>\n\n<p>I also know how to make a list out of objects in one line.</p>\n\n<pre><code>List listO1 = Collections.singletonList(objectA);\nList listO2 = Stream.of(objectA, objectB).collect(Collectors.toList());\nList listOO = Arrays.asList(objectA, objectB);\n</code></pre>\n\n<p>Is there anything better than replacing <code>listB</code> in the first line with a part of the following lines?</p>\n"},{"tags":["java","json","resttemplate"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1661303717,"post_id":73466365,"comment_id":129738115,"body_markdown":"Prefer changing the service to return a json object. Failing that, call `Map&lt;String, Object&gt; supplierPayloadMap = new ObjectMapper().readValue(myObject.getSupplierPayload(), HashMap.class)`.","body":"Prefer changing the service to return a json object. Failing that, call <code>Map&lt;String, Object&gt; supplierPayloadMap = new ObjectMapper().readValue(myObject.getSupplierPayload(), HashMap.class)</code>."},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1661304664,"post_id":73466365,"comment_id":129738231,"body_markdown":"I am not the developer of the other web service. The solution you provided is actually what I am trying to avoid, write the ObjectMapper conversion to MyObject in various places of my code.","body":"I am not the developer of the other web service. The solution you provided is actually what I am trying to avoid, write the ObjectMapper conversion to MyObject in various places of my code."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1661335121,"post_id":73466365,"comment_id":129745623,"body_markdown":"You could create a custom Jackson annotation that processes the string into an object.","body":"You could create a custom Jackson annotation that processes the string into an object."},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1661337244,"post_id":73466365,"comment_id":129746442,"body_markdown":"Could you, please, provide an example answer? Thanks for your comment.","body":"Could you, please, provide an example answer? Thanks for your comment."}],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661356723,"answer_count":0,"score":1,"last_activity_date":1661321840,"creation_date":1661302787,"question_id":73466365,"body_markdown":"I consume a web service that return one of its fields as a `String`, but this field is a actually a object, such as below:\r\n\r\n    {\r\n        &quot;message&quot;: &quot;OK&quot;,\r\n        &quot;code&quot;: 1,\r\n        &quot;supplierPayload&quot;: &quot;{\\&quot;field01\\&quot;:\\&quot;value01\\&quot;,\\&quot;field02\\&quot;:\\&quot;field02\\&quot;}&quot;\r\n    }\r\n\r\nIs it possible anyway to parse the supplierPayload json field returned as a `String` into the `SupplierPayload` object I need in the RestTemplate call?\r\n\r\nI would have:\r\n\r\n    this.restTemplate.getForEntity(url, MyObject.class);\r\n    \r\nAnd MyObject would be\r\n\r\n    public class MyObject {\r\n\r\n        private String message;\r\n        private int code;\r\n        private SupplierPayload supplierPayload;\r\n\r\n        // gets and sets\r\n    }\r\n    \r\ninstead of\r\n\r\n    public class MyObject {\r\n\r\n        private String message;\r\n        private int code;\r\n        private String supplierPayload;\r\n\r\n        // gets and sets\r\n    }\r\n\r\nThis will prevent me to have an instance of ObjectMapper Spring bean anywhere I need to use this field and convert it manually handling the nest checked exceptions that ObjectMapper brings in its methods.","title":"RestTemplate how to convert a string to object that come as a string?","body":"<p>I consume a web service that return one of its fields as a <code>String</code>, but this field is a actually a object, such as below:</p>\n<pre><code>{\n    &quot;message&quot;: &quot;OK&quot;,\n    &quot;code&quot;: 1,\n    &quot;supplierPayload&quot;: &quot;{\\&quot;field01\\&quot;:\\&quot;value01\\&quot;,\\&quot;field02\\&quot;:\\&quot;field02\\&quot;}&quot;\n}\n</code></pre>\n<p>Is it possible anyway to parse the supplierPayload json field returned as a <code>String</code> into the <code>SupplierPayload</code> object I need in the RestTemplate call?</p>\n<p>I would have:</p>\n<pre><code>this.restTemplate.getForEntity(url, MyObject.class);\n</code></pre>\n<p>And MyObject would be</p>\n<pre><code>public class MyObject {\n\n    private String message;\n    private int code;\n    private SupplierPayload supplierPayload;\n\n    // gets and sets\n}\n</code></pre>\n<p>instead of</p>\n<pre><code>public class MyObject {\n\n    private String message;\n    private int code;\n    private String supplierPayload;\n\n    // gets and sets\n}\n</code></pre>\n<p>This will prevent me to have an instance of ObjectMapper Spring bean anywhere I need to use this field and convert it manually handling the nest checked exceptions that ObjectMapper brings in its methods.</p>\n"},{"tags":["java","quarkus","microprofile"],"answers":[{"tags":[],"owner":{"account_id":3929541,"reputation":384,"user_id":3248732,"display_name":"Triphon Penakov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1589098811,"creation_date":1588919558,"answer_id":61673372,"question_id":60121262,"body_markdown":"I&#39;ve had a similar problem these days. \r\nSo I wrote a simple Quarkus extension which helped me with the configuration.\r\nYou can use the guides from the Quarkus site: [Quarkus - Writing Your Own Extension][1] and [Quarkus - Building my first extension][2],\r\nbut basically these are the steps taken in order to create the configuration:\r\n\r\n1. Have some `maven` multi module project (not the project where the configuration will be consumed).\r\n2. Execute a similar command form the project directory:\r\n```\r\nmvn io.quarkus:quarkus-maven-plugin:1.4.2.Final:create-extension -N \\\r\n    -Dquarkus.artifactIdBase=keycloak-extension \\\r\n    -Dquarkus.artifactIdPrefix=otaibe-commons-quarkus- \\\r\n    -Dquarkus.nameBase=&quot;Keycloak extension&quot;\r\n```\r\nThis will create &#39;sub multi module&#39; project there with the following modules: `runtume` and `deployment`.\r\n\r\n3. Go to the `runtime` module and add and annotate your config class. It should be something similar to [this class][3]\r\n4. In `runtime` module create a [`producer`][4] class which should register the configuration class as CDI bean:\r\n```\r\n@ApplicationScoped\r\npublic class OtaibeKeycloakQuarkusProducer {\r\n\r\n    private volatile OtaibeKeycloakConfig otaibeKeycloakConfig;\r\n\r\n    void initialize(OtaibeKeycloakConfig config) {\r\n        this.otaibeKeycloakConfig = config;\r\n    }\r\n\r\n    @Singleton\r\n    @Produces\r\n    public OtaibeKeycloakConfig otaibeKeycloakConfig() {\r\n        return otaibeKeycloakConfig;\r\n    }\r\n\r\n}\r\n```\r\n5. Create a [`Recorder`][5] class which should initialize the `Producer`:\r\n```\r\n@Recorder\r\npublic class OtaibeKeycloakRecorder {\r\n\r\n    public void initOtaQuarkusProducer(BeanContainer container, OtaibeKeycloakConfig configuration) {\r\n        OtaibeKeycloakQuarkusProducer producer = container.instance(OtaibeKeycloakQuarkusProducer.class);\r\n        producer.initialize(configuration);\r\n    }\r\n\r\n}\r\n```\r\n6. In `deployment` module you have a `Processor` class. Go there and register your `Producer` to be injectable as CDI bean and your `Recorder` to initialize it. Add the similar code:\r\n```\r\n    @BuildStep\r\n    AdditionalBeanBuildItem beans() {\r\n        return AdditionalBeanBuildItem.builder().addBeanClasses(OtaibeKeycloakQuarkusProducer.class).build();\r\n    }\r\n\r\n    @BuildStep\r\n    @Record(ExecutionTime.RUNTIME_INIT)\r\n    void otaibeKeycloackConfigBuildItem(BeanContainerBuildItem beanContainer,\r\n                                        OtaibeKeycloakConfig otaibeKeycloakConfig,\r\n                                        OtaibeKeycloakRecorder recorder) {\r\n        recorder.initOtaQuarkusProducer(beanContainer.getValue(), otaibeKeycloakConfig);\r\n    }\r\n```\r\nYou can find my implementation [here][3].\r\n\r\n7. Now, go to your initial project where the configuration will be consumed and add the `runtime` module as a dependency.\r\n\r\n8. In order to ensure that the configuration is added properly execute the following `maven` command:\r\n```\r\nmvn quarkus:generate-config\r\n```\r\nNow, you can check the file `src/main/resources/application.properties.example` and verify whether your properties are added there. The property group should start with `quarkus.` plus the name of your `@ConfigRoot` annotation. In my case for example it will start with `quarkus.otaibe.keycloak`\r\n\r\nThat&#39;s it!\r\n\r\n\r\n  [1]: https://quarkus.io/guides/writing-extensions\r\n  [2]: https://quarkus.io/guides/building-my-first-extension\r\n  [3]: https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/keycloak-extension/deployment/src/main/java/org/otaibe/commons/quarkus/keycloak/extension/deployment/KeycloakExtensionProcessor.java\r\n  [4]: https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/keycloak-extension/runtime/src/main/java/org/otaibe/commons/quarkus/keycloak/extension/config/OtaibeKeycloakQuarkusProducer.java\r\n  [5]: https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/keycloak-extension/runtime/src/main/java/org/otaibe/commons/quarkus/keycloak/extension/config/OtaibeKeycloakRecorder.java","title":"Group configuration in quarkus / microprofile","body":"<p>I've had a similar problem these days. \nSo I wrote a simple Quarkus extension which helped me with the configuration.\nYou can use the guides from the Quarkus site: <a href=\"https://quarkus.io/guides/writing-extensions\" rel=\"nofollow noreferrer\">Quarkus - Writing Your Own Extension</a> and <a href=\"https://quarkus.io/guides/building-my-first-extension\" rel=\"nofollow noreferrer\">Quarkus - Building my first extension</a>,\nbut basically these are the steps taken in order to create the configuration:</p>\n\n<ol>\n<li>Have some <code>maven</code> multi module project (not the project where the configuration will be consumed).</li>\n<li>Execute a similar command form the project directory:</li>\n</ol>\n\n<pre><code>mvn io.quarkus:quarkus-maven-plugin:1.4.2.Final:create-extension -N \\\n    -Dquarkus.artifactIdBase=keycloak-extension \\\n    -Dquarkus.artifactIdPrefix=otaibe-commons-quarkus- \\\n    -Dquarkus.nameBase=\"Keycloak extension\"\n</code></pre>\n\n<p>This will create 'sub multi module' project there with the following modules: <code>runtume</code> and <code>deployment</code>.</p>\n\n<ol start=\"3\">\n<li>Go to the <code>runtime</code> module and add and annotate your config class. It should be something similar to <a href=\"https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/keycloak-extension/deployment/src/main/java/org/otaibe/commons/quarkus/keycloak/extension/deployment/KeycloakExtensionProcessor.java\" rel=\"nofollow noreferrer\">this class</a></li>\n<li>In <code>runtime</code> module create a <a href=\"https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/keycloak-extension/runtime/src/main/java/org/otaibe/commons/quarkus/keycloak/extension/config/OtaibeKeycloakQuarkusProducer.java\" rel=\"nofollow noreferrer\"><code>producer</code></a> class which should register the configuration class as CDI bean:</li>\n</ol>\n\n<pre><code>@ApplicationScoped\npublic class OtaibeKeycloakQuarkusProducer {\n\n    private volatile OtaibeKeycloakConfig otaibeKeycloakConfig;\n\n    void initialize(OtaibeKeycloakConfig config) {\n        this.otaibeKeycloakConfig = config;\n    }\n\n    @Singleton\n    @Produces\n    public OtaibeKeycloakConfig otaibeKeycloakConfig() {\n        return otaibeKeycloakConfig;\n    }\n\n}\n</code></pre>\n\n<ol start=\"5\">\n<li>Create a <a href=\"https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/keycloak-extension/runtime/src/main/java/org/otaibe/commons/quarkus/keycloak/extension/config/OtaibeKeycloakRecorder.java\" rel=\"nofollow noreferrer\"><code>Recorder</code></a> class which should initialize the <code>Producer</code>:</li>\n</ol>\n\n<pre><code>@Recorder\npublic class OtaibeKeycloakRecorder {\n\n    public void initOtaQuarkusProducer(BeanContainer container, OtaibeKeycloakConfig configuration) {\n        OtaibeKeycloakQuarkusProducer producer = container.instance(OtaibeKeycloakQuarkusProducer.class);\n        producer.initialize(configuration);\n    }\n\n}\n</code></pre>\n\n<ol start=\"6\">\n<li>In <code>deployment</code> module you have a <code>Processor</code> class. Go there and register your <code>Producer</code> to be injectable as CDI bean and your <code>Recorder</code> to initialize it. Add the similar code:</li>\n</ol>\n\n<pre><code>    @BuildStep\n    AdditionalBeanBuildItem beans() {\n        return AdditionalBeanBuildItem.builder().addBeanClasses(OtaibeKeycloakQuarkusProducer.class).build();\n    }\n\n    @BuildStep\n    @Record(ExecutionTime.RUNTIME_INIT)\n    void otaibeKeycloackConfigBuildItem(BeanContainerBuildItem beanContainer,\n                                        OtaibeKeycloakConfig otaibeKeycloakConfig,\n                                        OtaibeKeycloakRecorder recorder) {\n        recorder.initOtaQuarkusProducer(beanContainer.getValue(), otaibeKeycloakConfig);\n    }\n</code></pre>\n\n<p>You can find my implementation <a href=\"https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/keycloak-extension/deployment/src/main/java/org/otaibe/commons/quarkus/keycloak/extension/deployment/KeycloakExtensionProcessor.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<ol start=\"7\">\n<li><p>Now, go to your initial project where the configuration will be consumed and add the <code>runtime</code> module as a dependency.</p></li>\n<li><p>In order to ensure that the configuration is added properly execute the following <code>maven</code> command:</p></li>\n</ol>\n\n<pre><code>mvn quarkus:generate-config\n</code></pre>\n\n<p>Now, you can check the file <code>src/main/resources/application.properties.example</code> and verify whether your properties are added there. The property group should start with <code>quarkus.</code> plus the name of your <code>@ConfigRoot</code> annotation. In my case for example it will start with <code>quarkus.otaibe.keycloak</code></p>\n\n<p>That's it!</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661321504,"creation_date":1661321504,"answer_id":73468221,"question_id":60121262,"body_markdown":"Now in Quarkus 2.9, you do it with `@ConfigMapping` (`@ConfigProperties` is deprecated).\r\n\r\n```java\r\n@StaticInitSafe\r\n@ConfigMapping\r\npublic interface GreetingConfigMapping {\r\n    Map&lt;Integer, GreetingDetail&gt; greeting();\r\n}\r\n\r\ninterface GreetingDetail {\r\n    String name();\r\n    String message();\r\n}\r\n```\r\n\r\nTry it in a `@QuarkusTest`; `@Inject` it.","title":"Group configuration in quarkus / microprofile","body":"<p>Now in Quarkus 2.9, you do it with <code>@ConfigMapping</code> (<code>@ConfigProperties</code> is deprecated).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@StaticInitSafe\n@ConfigMapping\npublic interface GreetingConfigMapping {\n    Map&lt;Integer, GreetingDetail&gt; greeting();\n}\n\ninterface GreetingDetail {\n    String name();\n    String message();\n}\n</code></pre>\n<p>Try it in a <code>@QuarkusTest</code>; <code>@Inject</code> it.</p>\n"}],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61673372,"answer_count":2,"score":2,"last_activity_date":1661321504,"creation_date":1581110614,"question_id":60121262,"body_markdown":"I want to group configuration items in Quarkus and use them as a `Map`. Something along the lines of the next `application.properties`:\r\n\r\n```\r\ngreeting.names = tom,jane\r\ngreeting.tom.message = hello\r\ngreeting.tom.name = tom\r\ngreeting.jane.message = hi\r\ngreeting.jane.name = jane\r\n```\r\nAnd have them in the application in a `Map`, like this:\r\n\r\n```java\r\n@ConfigProperties\r\npublic class GreetingConfig {\r\n\r\n   private String name;\r\n   private String message;\r\n\r\n   // getters / setters\r\n}\r\n```\r\nAnd use them like this:\r\n\r\n```java\r\nprivate Map&lt;String, GreetingConfig&gt; config;\r\n```\r\n\r\nThey are now name indexed, but a `List` would also be fine (and is what I actually need):\r\n\r\n```\r\ngreeting.1.message = hello\r\ngreeting.1.name = tom\r\ngreeting.2.message = hi\r\ngreeting.2.name = jane\r\n```\r\n\r\nAny ideas on how to realize this? I have a programmatic solution, but would prefer a solution by annotation only","title":"Group configuration in quarkus / microprofile","body":"<p>I want to group configuration items in Quarkus and use them as a <code>Map</code>. Something along the lines of the next <code>application.properties</code>:</p>\n\n<pre><code>greeting.names = tom,jane\ngreeting.tom.message = hello\ngreeting.tom.name = tom\ngreeting.jane.message = hi\ngreeting.jane.name = jane\n</code></pre>\n\n<p>And have them in the application in a <code>Map</code>, like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigProperties\npublic class GreetingConfig {\n\n   private String name;\n   private String message;\n\n   // getters / setters\n}\n</code></pre>\n\n<p>And use them like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt;String, GreetingConfig&gt; config;\n</code></pre>\n\n<p>They are now name indexed, but a <code>List</code> would also be fine (and is what I actually need):</p>\n\n<pre><code>greeting.1.message = hello\ngreeting.1.name = tom\ngreeting.2.message = hi\ngreeting.2.name = jane\n</code></pre>\n\n<p>Any ideas on how to realize this? I have a programmatic solution, but would prefer a solution by annotation only</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661250558,"post_id":73456523,"comment_id":129721537,"body_markdown":"What doesn&#39;t work?","body":"What doesn&#39;t work?"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661251442,"post_id":73456523,"comment_id":129721855,"body_markdown":"please share your error logs or explain it with more details.","body":"please share your error logs or explain it with more details."},{"owner":{"account_id":25888394,"reputation":37,"user_id":19616150,"display_name":"JayCold"},"score":0,"creation_date":1661309498,"post_id":73456523,"comment_id":129738779,"body_markdown":"javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [com.app.uclasserp.vo.QuotaInfo#0]","body":"javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [com.app.uclasserp.vo.QuotaInfo#0]"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1661333604,"post_id":73456523,"comment_id":129745040,"body_markdown":"Please share the `QuotaProductInfo` entity. The problem is likely the combination of setting and mapping of the id property.","body":"Please share the <code>QuotaProductInfo</code> entity. The problem is likely the combination of setting and mapping of the id property."}],"answers":[{"tags":[],"owner":{"account_id":25888394,"reputation":37,"user_id":19616150,"display_name":"JayCold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661321326,"creation_date":1661321326,"answer_id":73468193,"question_id":73456523,"body_markdown":"You can solve this problem to change your entity vo class.  \r\n```\r\npublic class QuotaInfo {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int seq;\r\n```\r\n  \r\nSimply add @GeneratedValue annotaion you can fix the problem.","title":"Double use of em.persist() not working problem","body":"<p>You can solve this problem to change your entity vo class.</p>\n<pre><code>public class QuotaInfo {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int seq;\n</code></pre>\n<p>Simply add @GeneratedValue annotaion you can fix the problem.</p>\n"}],"owner":{"account_id":25888394,"reputation":37,"user_id":19616150,"display_name":"JayCold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661321326,"creation_date":1661248049,"question_id":73456523,"body_markdown":"I&#39;m trying to use persist for insert data. First `em.persist()` and second `em.persist()` worked very well, but third `em.persist()` didn&#39;t work.   \r\n  \r\nI think second `em` and third `em` are sharing same `QuotaProductInfo` VO, so it is not working. I&#39;m not sure my guessing is right.   \r\n\r\nAnyway, how can I make second and third `em.persist()` both working.\r\n\r\n```java\r\nQuotaInfo quotaInfo = new QuotaInfo();\t\t\r\nquotaInfo.setProject(project);\r\nquotaInfo.setSchool(school);\r\nquotaInfo.setRegion(region);\t\t\t\t\r\nquotaInfo.setSalesMan(salesMan);\r\nquotaInfo.setStat(stat);\r\nquotaInfo.setRegDate(LocalDateTime.now());\r\nem.persist(quotaInfo); \t//here em.persist() 1\t\r\n\r\nLong maxSeq_ = (Long) em.createQuery(&quot;select count(m) from QuotaInfo AS m&quot;).getSingleResult();\r\nint maxSeq = maxSeq_.intValue() + 1;\r\n\r\nQuotaProductInfo quotaPInfo_1 = new QuotaProductInfo();\t\t\r\nquotaPInfo_1.setName(product1);\r\nquotaPInfo_1.setQnt(qnt1);\r\nquotaPInfo_1.setPriceUnit(0);\r\nquotaPInfo_1.setQuotaSeq(maxSeq);\r\nem.persist(quotaPInfo_1); \t//here em.persist() 2\t\t\t\t\r\nif(product2!=null) {\r\n\tQuotaProductInfo quotaPInfo_2 = new QuotaProductInfo();\t\t\r\n\tquotaPInfo_2.setName(product2);\r\n\tqnt2 = Integer.parseInt(qnt2_);\r\n\tquotaPInfo_2.setQnt(qnt2);\r\n\tquotaPInfo_2.setPriceUnit(0);\r\n\tquotaPInfo_2.setQuotaSeq(maxSeq);\r\n\tem.persist(quotaPInfo_2); \t//here em.persist() 3\r\n}\r\n```","title":"Double use of em.persist() not working problem","body":"<p>I'm trying to use persist for insert data. First <code>em.persist()</code> and second <code>em.persist()</code> worked very well, but third <code>em.persist()</code> didn't work.</p>\n<p>I think second <code>em</code> and third <code>em</code> are sharing same <code>QuotaProductInfo</code> VO, so it is not working. I'm not sure my guessing is right.</p>\n<p>Anyway, how can I make second and third <code>em.persist()</code> both working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>QuotaInfo quotaInfo = new QuotaInfo();      \nquotaInfo.setProject(project);\nquotaInfo.setSchool(school);\nquotaInfo.setRegion(region);                \nquotaInfo.setSalesMan(salesMan);\nquotaInfo.setStat(stat);\nquotaInfo.setRegDate(LocalDateTime.now());\nem.persist(quotaInfo);  //here em.persist() 1   \n\nLong maxSeq_ = (Long) em.createQuery(&quot;select count(m) from QuotaInfo AS m&quot;).getSingleResult();\nint maxSeq = maxSeq_.intValue() + 1;\n\nQuotaProductInfo quotaPInfo_1 = new QuotaProductInfo();     \nquotaPInfo_1.setName(product1);\nquotaPInfo_1.setQnt(qnt1);\nquotaPInfo_1.setPriceUnit(0);\nquotaPInfo_1.setQuotaSeq(maxSeq);\nem.persist(quotaPInfo_1);   //here em.persist() 2               \nif(product2!=null) {\n    QuotaProductInfo quotaPInfo_2 = new QuotaProductInfo();     \n    quotaPInfo_2.setName(product2);\n    qnt2 = Integer.parseInt(qnt2_);\n    quotaPInfo_2.setQnt(qnt2);\n    quotaPInfo_2.setPriceUnit(0);\n    quotaPInfo_2.setQuotaSeq(maxSeq);\n    em.persist(quotaPInfo_2);   //here em.persist() 3\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":5959324,"reputation":648,"user_id":4684957,"display_name":"akinmail"},"score":0,"creation_date":1505383027,"post_id":46215968,"comment_id":79394585,"body_markdown":"Any special reasons why you want to use the keyboard?","body":"Any special reasons why you want to use the keyboard?"},{"owner":{"account_id":3331042,"reputation":93,"user_id":2799985,"display_name":"Chakib Arrama"},"score":0,"creation_date":1564394008,"post_id":46215968,"comment_id":101002521,"body_markdown":"just to avoid using mouse","body":"just to avoid using mouse"}],"answers":[{"tags":[],"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1661321103,"creation_date":1505383040,"answer_id":46216025,"question_id":46215968,"body_markdown":"**Outdated**\r\n\r\nFor IntelliJ 2017.1.2, to resize a Tool window, hold &lt;kbd&gt;Ctlr&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt; and use the arrow keys to either shrink or expand the window.\r\n\r\nhttps://blog.jetbrains.com/idea/2010/01/resize-tool-windows-with-keyboard/\r\n\r\n**Update for IntelliJ 2022.2** \r\n\r\nmacOS:\r\n- To resize a vertical tool window, press `  ` and `  `\r\n- To resize a horizontal tool window, press `  ` and `  ` \r\n\r\nWindows:\r\n- To resize a vertical tool window, press `Ctrl+Alt+Shift+Left` and `Ctrl+Alt+Shift+Right`\r\n- To resize a horizontal tool window, press `Ctrl+Alt+Shift+Up` and `Ctrl+Alt+Shift+Down`\r\n\r\nSource: https://www.jetbrains.com/help/idea/mastering-keyboard-shortcuts.html?keymap=secondary_macos#advanced-features","title":"How can I resize a tool window in IntelliJ IDEA using the keyboard?","body":"<p><strong>Outdated</strong></p>\n<p>For IntelliJ 2017.1.2, to resize a Tool window, hold <kbd>Ctlr</kbd>-<kbd>Shift</kbd> and use the arrow keys to either shrink or expand the window.</p>\n<p><a href=\"https://blog.jetbrains.com/idea/2010/01/resize-tool-windows-with-keyboard/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/idea/2010/01/resize-tool-windows-with-keyboard/</a></p>\n<p><strong>Update for IntelliJ 2022.2</strong></p>\n<p>macOS:</p>\n<ul>\n<li>To resize a vertical tool window, press <code>  </code> and <code>  </code></li>\n<li>To resize a horizontal tool window, press <code>  </code> and <code>  </code></li>\n</ul>\n<p>Windows:</p>\n<ul>\n<li>To resize a vertical tool window, press <code>Ctrl+Alt+Shift+Left</code> and <code>Ctrl+Alt+Shift+Right</code></li>\n<li>To resize a horizontal tool window, press <code>Ctrl+Alt+Shift+Up</code> and <code>Ctrl+Alt+Shift+Down</code></li>\n</ul>\n<p>Source: <a href=\"https://www.jetbrains.com/help/idea/mastering-keyboard-shortcuts.html?keymap=secondary_macos#advanced-features\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/mastering-keyboard-shortcuts.html?keymap=secondary_macos#advanced-features</a></p>\n"},{"tags":[],"owner":{"account_id":8862485,"reputation":2155,"user_id":6618425,"display_name":"L&#233;o Schneider"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633347343,"creation_date":1633347343,"answer_id":69435309,"question_id":46215968,"body_markdown":"This is an update as Luciano&#39;s answer does not work for me: on 2021.2.2, in the windows keymap, the default is `Ctrl`+ `Alt` + `Shift` + `arrowKey`. You can also change it there.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cWXqc.png","title":"How can I resize a tool window in IntelliJ IDEA using the keyboard?","body":"<p>This is an update as Luciano's answer does not work for me: on 2021.2.2, in the windows keymap, the default is <code>Ctrl</code>+ <code>Alt</code> + <code>Shift</code> + <code>arrowKey</code>. You can also change it there.</p>\n<p><a href=\"https://i.stack.imgur.com/cWXqc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cWXqc.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3331042,"reputation":93,"user_id":2799985,"display_name":"Chakib Arrama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2041,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46216025,"answer_count":2,"score":2,"last_activity_date":1661321209,"creation_date":1505382901,"question_id":46215968,"body_markdown":"Using the JetBrains IDE, how can i resize the intellij idea project panel ,project panel and other panels using just the keyboard \r\n\r\nMy IntelliJ build is : IntelliJ IDEA 2017.1.2","title":"How can I resize a tool window in IntelliJ IDEA using the keyboard?","body":"<p>Using the JetBrains IDE, how can i resize the intellij idea project panel ,project panel and other panels using just the keyboard </p>\n\n<p>My IntelliJ build is : IntelliJ IDEA 2017.1.2</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1318544569,"post_id":7761108,"comment_id":9447842,"body_markdown":"What&#39;s the relationship between `chat.getRecipients` and `plugin.inreview`?","body":"What&#39;s the relationship between <code>chat.getRecipients</code> and <code>plugin.inreview</code>?"},{"owner":{"account_id":238665,"reputation":3967,"user_id":507708,"accept_rate":67,"display_name":"Gray Adams"},"score":0,"creation_date":1318545004,"post_id":7761108,"comment_id":9447907,"body_markdown":"@JonSkeet\n\nThere is no relation. This is for Minecraft. `chat.getRecipients` returns the list of players that will be messaged... `this.plugin.inreview` is a Hashmap with a key and a value.","body":"@JonSkeet  There is no relation. This is for Minecraft. <code>chat.getRecipients</code> returns the list of players that will be messaged... <code>this.plugin.inreview</code> is a Hashmap with a key and a value."},{"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"score":0,"creation_date":1318545394,"post_id":7761108,"comment_id":9447974,"body_markdown":"if you comment out `chat.getRecipients().remove(key);`just for test and run it do you still get this error. I think there is a relationship and you are removing elements from same collection while iterating.","body":"if you comment out <code>chat.getRecipients().remove(key);</code>just for test and run it do you still get this error. I think there is a relationship and you are removing elements from same collection while iterating."}],"answers":[{"tags":[],"owner":{"account_id":33515,"reputation":6921,"user_id":93910,"accept_rate":86,"display_name":"Sanjay Manohar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1318544861,"creation_date":1318544861,"answer_id":7761164,"question_id":7761108,"body_markdown":"My guess is that your `getRecipients()` returns the same collection as `plugin.inreview`!\r\n\r\nThis would mean that you try to remove an element from the collection while you are iterating over it. This is of course bad.\r\n\r\nInstead, you should do this\r\n\r\n    Vector toRemove=new Vector();\r\n    Iterator&lt;Player&gt; iterator = plugin.inreview.keySet().iterator();\r\n    while (iterator.hasNext()) {\r\n      Player key = (Player) iterator.next();\r\n      toRemove.add(key);\r\n    }\r\n    chat.getRecipients().removeAll(toRemove);\r\n\r\n\r\nAnother possibility is that you have several threads?","title":"Java - Iterate Hashmap?","body":"<p>My guess is that your <code>getRecipients()</code> returns the same collection as <code>plugin.inreview</code>!</p>\n\n<p>This would mean that you try to remove an element from the collection while you are iterating over it. This is of course bad.</p>\n\n<p>Instead, you should do this</p>\n\n<pre><code>Vector toRemove=new Vector();\nIterator&lt;Player&gt; iterator = plugin.inreview.keySet().iterator();\nwhile (iterator.hasNext()) {\n  Player key = (Player) iterator.next();\n  toRemove.add(key);\n}\nchat.getRecipients().removeAll(toRemove);\n</code></pre>\n\n<p>Another possibility is that you have several threads?</p>\n"},{"tags":[],"owner":{"account_id":26146122,"reputation":33,"user_id":19834692,"display_name":"Zadish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661320771,"creation_date":1661320771,"answer_id":73468101,"question_id":7761108,"body_markdown":"Better solution for iterating a hashmap (java 8+):\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;key1&quot;, &quot;value1&quot;);\r\n    map.put(&quot;key2&quot;, &quot;value2&quot;);\r\n    // ...\r\n    // ...\r\n\r\n    map.forEach((key, value) -&gt; {\r\n        System.out.println(&quot;Key: &quot; + key + &quot;, Value: &quot; + value);\r\n    })\r\n","title":"Java - Iterate Hashmap?","body":"<p>Better solution for iterating a hashmap (java 8+):</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;key1&quot;, &quot;value1&quot;);\nmap.put(&quot;key2&quot;, &quot;value2&quot;);\n// ...\n// ...\n\nmap.forEach((key, value) -&gt; {\n    System.out.println(&quot;Key: &quot; + key + &quot;, Value: &quot; + value);\n})\n</code></pre>\n"}],"owner":{"account_id":238665,"reputation":3967,"user_id":507708,"accept_rate":67,"display_name":"Gray Adams"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1935,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7761164,"answer_count":2,"score":0,"last_activity_date":1661320771,"creation_date":1318544351,"question_id":7761108,"body_markdown":"    Iterator&lt;Player&gt; iterator = plugin.inreview.keySet().iterator();\r\n    while (iterator.hasNext()) {\r\n        Player key = (Player) iterator.next();\r\n        chat.getRecipients().remove(key);\r\n    }\r\n    \r\nThis throws an: java.util.NoSuchElementException\r\n\r\n\tat java.util.HashMap$HashIterator.nextEntry(Unknown Source)\r\n\tat java.util.HashMap$EntryIterator.next(Unknown Source)\r\n\tat java.util.HashMap$EntryIterator.next(Unknown Source)\r\n\r\nAny ideas as to why this is happening? When this occurs, there is one key (with one value) in the map.","title":"Java - Iterate Hashmap?","body":"<pre><code>Iterator&lt;Player&gt; iterator = plugin.inreview.keySet().iterator();\nwhile (iterator.hasNext()) {\n    Player key = (Player) iterator.next();\n    chat.getRecipients().remove(key);\n}\n</code></pre>\n\n<p>This throws an: java.util.NoSuchElementException</p>\n\n<pre><code>at java.util.HashMap$HashIterator.nextEntry(Unknown Source)\nat java.util.HashMap$EntryIterator.next(Unknown Source)\nat java.util.HashMap$EntryIterator.next(Unknown Source)\n</code></pre>\n\n<p>Any ideas as to why this is happening? When this occurs, there is one key (with one value) in the map.</p>\n"},{"tags":["java","project-reactor"],"owner":{"account_id":984018,"reputation":1039,"user_id":1002988,"accept_rate":36,"display_name":"andrew.z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661320186,"creation_date":1661318977,"question_id":73467845,"body_markdown":"Here is a simple project-reactor code snippet:\r\n\r\n    Consumer&lt;String&gt; slowConsumer = x -&gt; {\r\n        try {\r\n            TimeUnit.MILLISECONDS.sleep(50);\r\n        } catch(Exception ignore) {\r\n        }\r\n    };\r\n    Flux&lt;String&gt; publisher = Flux\r\n            .just(1, 2, 3)\r\n            .parallel(2)\r\n            .runOn(Schedulers.newParallel(&quot;writer&quot;, 2))\r\n            .flatMap(rail -&gt; Flux.range(1, 300).map(i -&gt; String.format(&quot;Rail %d -&gt; Row %d&quot;, rail, i)).log())\r\n            .sequential()\r\n            .publishOn(Schedulers.newSingle(&quot;reader&quot;))\r\n            .doOnNext(slowConsumer);\r\n    publisher.subscribe();\r\n\r\nMy expectation is that everything that happens in &quot;flatMap&quot; should be executed within &quot;writer&quot; threads. However, this is what is logged:\r\n\r\n    onNext(Rail 2 -&gt; Row 300) [Flux.MapFuseable.1] [writer-2]\r\n    ...\r\n    onNext(Rail 1 -&gt; Row 300) [Flux.MapFuseable.2] [writer-1]\r\n    ...\r\n    onNext(Rail 3 -&gt; Row 256) [Flux.MapFuseable.3] [writer-1]\r\n    request(256) [Flux.MapFuseable.3] [reader-1]\r\n    onNext(Rail 3 -&gt; Row 257) [Flux.MapFuseable.3] [reader-1]\r\n    ...\r\n    onNext(Rail 3 -&gt; Row 300) [Flux.MapFuseable.3] [reader-1]\r\n\r\nCan someone explain this? How come &quot;reader&quot; thread is processing the tail of the last rail? What am I missing?\r\n\r\n\r\n","title":"How can this project-reactor behavior explained?","body":"<p>Here is a simple project-reactor code snippet:</p>\n<pre><code>Consumer&lt;String&gt; slowConsumer = x -&gt; {\n    try {\n        TimeUnit.MILLISECONDS.sleep(50);\n    } catch(Exception ignore) {\n    }\n};\nFlux&lt;String&gt; publisher = Flux\n        .just(1, 2, 3)\n        .parallel(2)\n        .runOn(Schedulers.newParallel(&quot;writer&quot;, 2))\n        .flatMap(rail -&gt; Flux.range(1, 300).map(i -&gt; String.format(&quot;Rail %d -&gt; Row %d&quot;, rail, i)).log())\n        .sequential()\n        .publishOn(Schedulers.newSingle(&quot;reader&quot;))\n        .doOnNext(slowConsumer);\npublisher.subscribe();\n</code></pre>\n<p>My expectation is that everything that happens in &quot;flatMap&quot; should be executed within &quot;writer&quot; threads. However, this is what is logged:</p>\n<pre><code>onNext(Rail 2 -&gt; Row 300) [Flux.MapFuseable.1] [writer-2]\n...\nonNext(Rail 1 -&gt; Row 300) [Flux.MapFuseable.2] [writer-1]\n...\nonNext(Rail 3 -&gt; Row 256) [Flux.MapFuseable.3] [writer-1]\nrequest(256) [Flux.MapFuseable.3] [reader-1]\nonNext(Rail 3 -&gt; Row 257) [Flux.MapFuseable.3] [reader-1]\n...\nonNext(Rail 3 -&gt; Row 300) [Flux.MapFuseable.3] [reader-1]\n</code></pre>\n<p>Can someone explain this? How come &quot;reader&quot; thread is processing the tail of the last rail? What am I missing?</p>\n"},{"tags":["java","android","performance","cpu","profile"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1470604730,"post_id":38818642,"comment_id":65004190,"body_markdown":"Looks like a busy-wait. The answer is not to use polling. You didn&#39;t post any code or other information about your application.","body":"Looks like a busy-wait. The answer is not to use polling. You didn&#39;t post any code or other information about your application."},{"owner":{"account_id":6771839,"reputation":1800,"user_id":5214998,"accept_rate":55,"display_name":"Sajad Norouzi"},"score":1,"creation_date":1470605202,"post_id":38818642,"comment_id":65004317,"body_markdown":"what do you mean by busy-wait ?","body":"what do you mean by busy-wait ?"}],"answers":[{"tags":[],"owner":{"account_id":7179579,"reputation":1200,"user_id":5484094,"display_name":"Lawiusz"},"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1553895955,"creation_date":1470696615,"answer_id":38839647,"question_id":38818642,"body_markdown":"**Short answer:**\r\n\r\nThe `nativePollOnce` method is used to &quot;wait&quot; till the next `Message` becomes available. If the time spent during this call is long, your main (UI) thread has no real work to do and waits for next events to process. There&#39;s no need to worry about that.\r\n\r\n**Explanation:**\r\n\r\nBecause the &quot;main&quot; thread is responsible for drawing UI and handling various events, it&#39;s `Runnable` has a loop which processes all these events.\r\nThe loop is managed by a &lt;a href=&quot;https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/Looper.java&quot;&gt;`Looper`&lt;/a&gt; and its job is quite straightforward: it processes all Messages in the &lt;a href=&quot;https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/MessageQueue.java&quot;&gt;`MessageQueue`&lt;/a&gt;.\r\n \r\nA &lt;a href=&quot;https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/Message.java&quot;&gt;`Message`&lt;/a&gt; is added to the queue for example in response to input events, as frame rendering callback or even your own `Handler.post` calls. Sometimes the main thread has no work to do (that is, no messages in the queue), which may happen e.g. just after finishing rendering single frame (the thread has just drawn one frame and is ready for the next one, just waits for a proper time). Two Java methods in the `MessageQueue` class are interesting to us: `Message next()` and `boolean enqueueMessage(Message, long)`. `Message next()`, as its name suggest, takes and returns the next Message from the queue. If the queue is empty (and there&#39;s nothing to return), the method calls `native void nativePollOnce(long, int)` which blocks until a new message is added. At this point you might ask how does `nativePollOnce` know when to wake up. That&#39;s a very good question. When a `Message` is added to the queue, the framework calls the `enqueueMessage` method, which not only inserts the message into the queue, but also calls `native static void nativeWake(long)`, if there&#39;s need to wake up the queue. The core magic of `nativePollOnce` and `nativeWake` happens in the &lt;a href=&quot;https://android.googlesource.com/platform/system/core/+/master/libutils/Looper.cpp&quot;&gt;native (actually, C++) code&lt;/a&gt;. Native MessageQueue utilizes a Linux system call named &lt;a href=&quot;https://en.wikipedia.org/wiki/Epoll&quot;&gt;`epoll`&lt;/a&gt;, which allows to monitor a file descriptor for IO events. `nativePollOnce` calls `epoll_wait` on a certain file descriptor, whereas `nativeWake` writes to the descriptor, which is one of the IO operations, `epoll_wait` waits for. The kernel then takes out the epoll-waiting thread from the waiting state and the thread proceeds with handling the new message. If you&#39;re familiar with Java&#39;s `Object.wait()` and `Object.notify()` methods, you can imagine that `nativePollOnce` is a rough equivalent for `Object.wait()` and `nativeWake` for `Object.notify()`, except they&#39;re implemented completely differently: `nativePollOnce` uses `epoll` and `Object.wait()` uses &lt;a href=&quot;https://en.wikipedia.org/wiki/Futex&quot;&gt;`futex`&lt;/a&gt; Linux call. It&#39;s worth noticing that neither `nativePollOnce` nor `Object.wait()` waste CPU cycles, as when a thread enters either method, it becomes disabled for thread scheduling purposes (quoting the javadoc for the `Object` class). However, some profilers may mistakenly recognize epoll-waiting (or even Object-waiting) threads as running and consuming CPU time, which is incorrect. If those methods actually wasted CPU cycles, all idle apps would use 100% of the CPU, heating and slowing down the device.\r\n\r\n\r\n**Conclusion:**\r\n\r\nYou shouldn&#39;t worry about `nativePollOnce`. It just indicates that processing of all Messages has been finished and the thread waits for the next one. Well, that simply means you don&#39;t give too much work to your main thread ;)           ","title":"android - what is message queue native poll once in android?","body":"<p><strong>Short answer:</strong></p>\n\n<p>The <code>nativePollOnce</code> method is used to \"wait\" till the next <code>Message</code> becomes available. If the time spent during this call is long, your main (UI) thread has no real work to do and waits for next events to process. There's no need to worry about that.</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Because the \"main\" thread is responsible for drawing UI and handling various events, it's <code>Runnable</code> has a loop which processes all these events.\nThe loop is managed by a <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/Looper.java\" rel=\"noreferrer\"><code>Looper</code></a> and its job is quite straightforward: it processes all Messages in the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/MessageQueue.java\" rel=\"noreferrer\"><code>MessageQueue</code></a>.</p>\n\n<p>A <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/Message.java\" rel=\"noreferrer\"><code>Message</code></a> is added to the queue for example in response to input events, as frame rendering callback or even your own <code>Handler.post</code> calls. Sometimes the main thread has no work to do (that is, no messages in the queue), which may happen e.g. just after finishing rendering single frame (the thread has just drawn one frame and is ready for the next one, just waits for a proper time). Two Java methods in the <code>MessageQueue</code> class are interesting to us: <code>Message next()</code> and <code>boolean enqueueMessage(Message, long)</code>. <code>Message next()</code>, as its name suggest, takes and returns the next Message from the queue. If the queue is empty (and there's nothing to return), the method calls <code>native void nativePollOnce(long, int)</code> which blocks until a new message is added. At this point you might ask how does <code>nativePollOnce</code> know when to wake up. That's a very good question. When a <code>Message</code> is added to the queue, the framework calls the <code>enqueueMessage</code> method, which not only inserts the message into the queue, but also calls <code>native static void nativeWake(long)</code>, if there's need to wake up the queue. The core magic of <code>nativePollOnce</code> and <code>nativeWake</code> happens in the <a href=\"https://android.googlesource.com/platform/system/core/+/master/libutils/Looper.cpp\" rel=\"noreferrer\">native (actually, C++) code</a>. Native MessageQueue utilizes a Linux system call named <a href=\"https://en.wikipedia.org/wiki/Epoll\" rel=\"noreferrer\"><code>epoll</code></a>, which allows to monitor a file descriptor for IO events. <code>nativePollOnce</code> calls <code>epoll_wait</code> on a certain file descriptor, whereas <code>nativeWake</code> writes to the descriptor, which is one of the IO operations, <code>epoll_wait</code> waits for. The kernel then takes out the epoll-waiting thread from the waiting state and the thread proceeds with handling the new message. If you're familiar with Java's <code>Object.wait()</code> and <code>Object.notify()</code> methods, you can imagine that <code>nativePollOnce</code> is a rough equivalent for <code>Object.wait()</code> and <code>nativeWake</code> for <code>Object.notify()</code>, except they're implemented completely differently: <code>nativePollOnce</code> uses <code>epoll</code> and <code>Object.wait()</code> uses <a href=\"https://en.wikipedia.org/wiki/Futex\" rel=\"noreferrer\"><code>futex</code></a> Linux call. It's worth noticing that neither <code>nativePollOnce</code> nor <code>Object.wait()</code> waste CPU cycles, as when a thread enters either method, it becomes disabled for thread scheduling purposes (quoting the javadoc for the <code>Object</code> class). However, some profilers may mistakenly recognize epoll-waiting (or even Object-waiting) threads as running and consuming CPU time, which is incorrect. If those methods actually wasted CPU cycles, all idle apps would use 100% of the CPU, heating and slowing down the device.</p>\n\n<p><strong>Conclusion:</strong></p>\n\n<p>You shouldn't worry about <code>nativePollOnce</code>. It just indicates that processing of all Messages has been finished and the thread waits for the next one. Well, that simply means you don't give too much work to your main thread ;)           </p>\n"}],"owner":{"account_id":6771839,"reputation":1800,"user_id":5214998,"accept_rate":55,"display_name":"Sajad Norouzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30857,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":38839647,"answer_count":1,"score":49,"last_activity_date":1661319710,"creation_date":1470604578,"question_id":38818642,"body_markdown":"I know that threads have a message queue and handlers are able to push runnables or messages to them, but when I profile my android application using Android Studio tools, there is a strange process:\r\n\r\n&gt; android.os.MessageQueue.nativePollOnce\r\n\r\n It uses the CPU more than all the other processes. What is it and how can I reduce the time that the CPU spends on it?\r\nYou can find the profiler result below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5bYLG.png","title":"android - what is message queue native poll once in android?","body":"<p>I know that threads have a message queue and handlers are able to push runnables or messages to them, but when I profile my android application using Android Studio tools, there is a strange process:</p>\n<blockquote>\n<p>android.os.MessageQueue.nativePollOnce</p>\n</blockquote>\n<p>It uses the CPU more than all the other processes. What is it and how can I reduce the time that the CPU spends on it?\nYou can find the profiler result below.</p>\n<p><a href=\"https://i.stack.imgur.com/5bYLG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5bYLG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"score":0,"creation_date":1661315705,"post_id":73467402,"comment_id":129739568,"body_markdown":"This is not a valid json. Entities should be an array of objects like this `&quot;Entities&quot;:[{},{}]` once you have a valid json you can use `fasterxml.jackson` or `Gson` library to convert this string into `JSONObject` or you can map json string to `POJO`","body":"This is not a valid json. Entities should be an array of objects like this <code>&quot;Entities&quot;:[{},{}]</code> once you have a valid json you can use <code>fasterxml.jackson</code> or <code>Gson</code> library to convert this string into <code>JSONObject</code> or you can map json string to <code>POJO</code>"}],"answers":[{"tags":[],"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661319413,"creation_date":1661316578,"answer_id":73467566,"question_id":73467402,"body_markdown":"This is not a valid json. Entities should be an array of objects like this `&quot;Entities&quot;:[{},{}]` once you have a valid json you can use `fasterxml.jackson` or Gson library to convert this string into `JSONObject` or you can map json string to `POJO`\r\n\r\nUse string functions to convert your string to Valid JSON. Final json string should have this structure\r\n\r\n    {\r\n        &quot;TotalCount&quot;:3, \r\n        &quot;Entities&quot;: [\r\n            {&quot;Type&quot;:50,&quot;Message&quot;:&quot;Submitted for Dispute&quot;,&quot;TransactionId&quot;:&quot;2207280001&quot;,&quot;RefNo&quot;:&quot;0110A2226A28&quot;,&quot;Amount&quot;:932.0,&quot;AccountNo&quot;:&quot;1049019264010&quot;,&quot;Vat&quot;:43.0},\r\n            {&quot;Type&quot;:50,&quot;Message&quot;:&quot;Submitted for Dispute&quot;,&quot;TransactionId&quot;:&quot;2207280003&quot;,&quot;RefNo&quot;:&quot;5815B2220B23&quot;,&quot;Amount&quot;:479.0,&quot;AccountNo&quot;:&quot;1049016101100&quot;,&quot;Vat&quot;:0.0},\r\n            {&quot;Type&quot;:50,&quot;TransactionId&quot;:&quot;2207280002&quot;,&quot;RefNo&quot;:&quot;5815B2220B24&quot;,&quot;Amount&quot;:531.0,&quot;AccountNo&quot;:&quot;1049016101080&quot;,&quot;Vat&quot;:0.0}\r\n        ] \r\n    }\r\n\r\nTo get the above structure from json that you posted in question you can do something like this\r\n\r\n    String jsonString = Your_Json_String_From_Request;\r\n    //Note: below code is space sensitive and written according to the string that you posted in question. \r\n    //You might have to tweak it if the string in replace() function&#39;s first parameter has extra or no space.\r\n    jsonString = jsonString.substring(jsonString.lastIndexOf(&quot;=&quot;)+1).trim().replace(&quot;\\&quot;Entities\\&quot;: {&quot;,&quot;\\&quot;Entities\\&quot;: [{&quot;).replace(&quot;} } }&quot;,&quot;}]}&quot;);\r\n\r\nYou class structure will go something like this: \r\n\r\n**DataVal Class**\r\n\r\n    public class DataVal{\r\n        public int TotalCount;\r\n        public List&lt;Entities&gt; Entities;\r\n    }\r\n\r\n**Entities Class**\r\n\r\n    public class Entities{\r\n        public int Type;\r\n        public String Message;\r\n        public String TransactionId;\r\n        public String RefNo;\r\n        public float Amount;\r\n        public String AccountNo;\r\n        public float Vat;\r\n    }\r\n\r\n**Function to Convert Json String To DataVal Class (Using Gson Library)**\r\n\r\n    public DataVal deserializeJson(String jsonString) {\r\n        Gson gson = new Gson();\r\n        DataVal dataVal = gson.fromJson(jsonString, DataVal.class);\r\n        return dataVal;\r\n    }\r\n\r\n**Now call this function with your jsonString**\r\n\r\n    DataVal dataVal = deserializeJson(jsonString)\r\n\r\nNow add `dataVal` to model attribute of the target view.","title":"How can I parse the below JSON output in JAVA and display all RefNo in jsp","body":"<p>This is not a valid json. Entities should be an array of objects like this <code>&quot;Entities&quot;:[{},{}]</code> once you have a valid json you can use <code>fasterxml.jackson</code> or Gson library to convert this string into <code>JSONObject</code> or you can map json string to <code>POJO</code></p>\n<p>Use string functions to convert your string to Valid JSON. Final json string should have this structure</p>\n<pre><code>{\n    &quot;TotalCount&quot;:3, \n    &quot;Entities&quot;: [\n        {&quot;Type&quot;:50,&quot;Message&quot;:&quot;Submitted for Dispute&quot;,&quot;TransactionId&quot;:&quot;2207280001&quot;,&quot;RefNo&quot;:&quot;0110A2226A28&quot;,&quot;Amount&quot;:932.0,&quot;AccountNo&quot;:&quot;1049019264010&quot;,&quot;Vat&quot;:43.0},\n        {&quot;Type&quot;:50,&quot;Message&quot;:&quot;Submitted for Dispute&quot;,&quot;TransactionId&quot;:&quot;2207280003&quot;,&quot;RefNo&quot;:&quot;5815B2220B23&quot;,&quot;Amount&quot;:479.0,&quot;AccountNo&quot;:&quot;1049016101100&quot;,&quot;Vat&quot;:0.0},\n        {&quot;Type&quot;:50,&quot;TransactionId&quot;:&quot;2207280002&quot;,&quot;RefNo&quot;:&quot;5815B2220B24&quot;,&quot;Amount&quot;:531.0,&quot;AccountNo&quot;:&quot;1049016101080&quot;,&quot;Vat&quot;:0.0}\n    ] \n}\n</code></pre>\n<p>To get the above structure from json that you posted in question you can do something like this</p>\n<pre><code>String jsonString = Your_Json_String_From_Request;\n//Note: below code is space sensitive and written according to the string that you posted in question. \n//You might have to tweak it if the string in replace() function's first parameter has extra or no space.\njsonString = jsonString.substring(jsonString.lastIndexOf(&quot;=&quot;)+1).trim().replace(&quot;\\&quot;Entities\\&quot;: {&quot;,&quot;\\&quot;Entities\\&quot;: [{&quot;).replace(&quot;} } }&quot;,&quot;}]}&quot;);\n</code></pre>\n<p>You class structure will go something like this:</p>\n<p><strong>DataVal Class</strong></p>\n<pre><code>public class DataVal{\n    public int TotalCount;\n    public List&lt;Entities&gt; Entities;\n}\n</code></pre>\n<p><strong>Entities Class</strong></p>\n<pre><code>public class Entities{\n    public int Type;\n    public String Message;\n    public String TransactionId;\n    public String RefNo;\n    public float Amount;\n    public String AccountNo;\n    public float Vat;\n}\n</code></pre>\n<p><strong>Function to Convert Json String To DataVal Class (Using Gson Library)</strong></p>\n<pre><code>public DataVal deserializeJson(String jsonString) {\n    Gson gson = new Gson();\n    DataVal dataVal = gson.fromJson(jsonString, DataVal.class);\n    return dataVal;\n}\n</code></pre>\n<p><strong>Now call this function with your jsonString</strong></p>\n<pre><code>DataVal dataVal = deserializeJson(jsonString)\n</code></pre>\n<p>Now add <code>dataVal</code> to model attribute of the target view.</p>\n"}],"owner":{"account_id":15334724,"reputation":3,"user_id":11063450,"display_name":"Md. Sajjad Hussain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661319413,"creation_date":1661314988,"question_id":73467402,"body_markdown":"{Status=200, \r\n\tdataVal=\r\n\t\t{&quot;TotalCount&quot;:3,\r\n\t\t\t&quot;Entities&quot;:\r\n\t\t\t\t{&quot;Type&quot;:50,&quot;Message&quot;:&quot;Submitted for Dispute&quot;,&quot;TransactionId&quot;:&quot;2207280001&quot;,&quot;RefNo&quot;:&quot;0110A2226A28&quot;,&quot;Amount&quot;:932.0,&quot;AccountNo&quot;:&quot;1049019264010&quot;,&quot;Vat&quot;:43.0},\r\n\t\t\t\t{&quot;Type&quot;:50,&quot;Message&quot;:&quot;Submitted for Dispute&quot;,&quot;TransactionId&quot;:&quot;2207280003&quot;,&quot;RefNo&quot;:&quot;5815B2220B23&quot;,&quot;Amount&quot;:479.0,&quot;AccountNo&quot;:&quot;1049016101100&quot;,&quot;Vat&quot;:0.0},\r\n\t\t\t\t{&quot;Type&quot;:50,&quot;TransactionId&quot;:&quot;2207280002&quot;,&quot;RefNo&quot;:&quot;5815B2220B24&quot;,&quot;Amount&quot;:531.0,&quot;AccountNo&quot;:&quot;1049016101080&quot;,&quot;Vat&quot;:0.0}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t}","title":"How can I parse the below JSON output in JAVA and display all RefNo in jsp","body":"<p>{Status=200,\ndataVal=\n{&quot;TotalCount&quot;:3,\n&quot;Entities&quot;:\n{&quot;Type&quot;:50,&quot;Message&quot;:&quot;Submitted for Dispute&quot;,&quot;TransactionId&quot;:&quot;2207280001&quot;,&quot;RefNo&quot;:&quot;0110A2226A28&quot;,&quot;Amount&quot;:932.0,&quot;AccountNo&quot;:&quot;1049019264010&quot;,&quot;Vat&quot;:43.0},\n{&quot;Type&quot;:50,&quot;Message&quot;:&quot;Submitted for Dispute&quot;,&quot;TransactionId&quot;:&quot;2207280003&quot;,&quot;RefNo&quot;:&quot;5815B2220B23&quot;,&quot;Amount&quot;:479.0,&quot;AccountNo&quot;:&quot;1049016101100&quot;,&quot;Vat&quot;:0.0},\n{&quot;Type&quot;:50,&quot;TransactionId&quot;:&quot;2207280002&quot;,&quot;RefNo&quot;:&quot;5815B2220B24&quot;,&quot;Amount&quot;:531.0,&quot;AccountNo&quot;:&quot;1049016101080&quot;,&quot;Vat&quot;:0.0}\n}\n}</p>\n"},{"tags":["java","git","github","github-api"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661319202,"creation_date":1661319202,"answer_id":73467875,"question_id":70185660,"body_markdown":"If you have [GitHub CLI `gh`][1] installed locally, you might consider calling (included from your Java program) [`gh pr list`][2], which includes an &quot;age&quot; column.\r\n\r\nTo get the creation date (added in [`gh` 2.14.5, Aug. 2022][3])\r\n\r\n    gh pr list --jq &#39;.items[].createdAt&#39;\r\n\r\n\r\n  [1]: https://github.com/cli/cli\r\n  [2]: https://cli.github.com/manual/gh_pr_list\r\n  [3]: https://github.com/cli/cli/releases/tag/v2.14.5","title":"How to check age of a pull request of a repository in github","body":"<p>If you have <a href=\"https://github.com/cli/cli\" rel=\"nofollow noreferrer\">GitHub CLI <code>gh</code></a> installed locally, you might consider calling (included from your Java program) <a href=\"https://cli.github.com/manual/gh_pr_list\" rel=\"nofollow noreferrer\"><code>gh pr list</code></a>, which includes an &quot;age&quot; column.</p>\n<p>To get the creation date (added in <a href=\"https://github.com/cli/cli/releases/tag/v2.14.5\" rel=\"nofollow noreferrer\"><code>gh</code> 2.14.5, Aug. 2022</a>)</p>\n<pre><code>gh pr list --jq '.items[].createdAt'\n</code></pre>\n"}],"owner":{"account_id":22976721,"reputation":37,"user_id":17104228,"display_name":"pradeep3009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661319202,"creation_date":1638367606,"question_id":70185660,"body_markdown":"I am using Github v3 api, through that I want list of all existing Pull Request of a repository. Along with list of existing Pull Request, I want to get age of each pull request (how many days before Pull Request was created). I want to get all these details from my java project, how can I achieve this requirement using Github v3 api?\r\n\r\nAny help is highly appreciated.","title":"How to check age of a pull request of a repository in github","body":"<p>I am using Github v3 api, through that I want list of all existing Pull Request of a repository. Along with list of existing Pull Request, I want to get age of each pull request (how many days before Pull Request was created). I want to get all these details from my java project, how can I achieve this requirement using Github v3 api?</p>\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","hibernate","javafx","jpackage"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1661327272,"post_id":73467867,"comment_id":129742465,"body_markdown":"Should be possible from a technical standpoint. What happens if you try?","body":"Should be possible from a technical standpoint. What happens if you try?"}],"owner":{"account_id":25320161,"reputation":23,"user_id":19141550,"display_name":"Irfan M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661319153,"creation_date":1661319153,"question_id":73467867,"body_markdown":"so I&#39;ve developed JavaFX App with Hibernate connection to database. And then I want to deploy it into .exe application using Jpackage. Is it possible or no? I&#39;ve trying to search about this topic online but didn&#39;t found any clue. Thanks","title":"Can we deploy JavaFX app with Hibernate to .exe using Jpackage?","body":"<p>so I've developed JavaFX App with Hibernate connection to database. And then I want to deploy it into .exe application using Jpackage. Is it possible or no? I've trying to search about this topic online but didn't found any clue. Thanks</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1661320292,"post_id":73467831,"comment_id":129740391,"body_markdown":"See https://stackoverflow.com/questions/53587987/how-to-create-a-dependent-drop-down-list-using-apache-poi/53636333#53636333 for a complete example.","body":"See <a href=\"https://stackoverflow.com/questions/53587987/how-to-create-a-dependent-drop-down-list-using-apache-poi/53636333#53636333\" title=\"how to create a dependent drop down list using apache poi\">stackoverflow.com/questions/53587987/&hellip;</a> for a complete example."}],"owner":{"account_id":26145890,"reputation":11,"user_id":19834498,"display_name":"user19834498"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661320558,"answer_count":0,"score":1,"last_activity_date":1661319046,"creation_date":1661318892,"question_id":73467831,"body_markdown":"I wanted to create dependent drop down list in one sheet and display the options in another sheet. I have implemented this but the drop down doesn&#39;t show any options\r\n                                                                                     \r\n`XSSFWorkbook workbook = new XSSFWorkbook();\r\n\t\t\t\tXSSFSheet sheet = workbook.createSheet(&quot;dataSheet&quot;);  \r\n\t\t\t\t\r\n\t\t\t\tRow headerRow = sheet.createRow(10);\r\n\t\r\n\t\t\t\tCell headerCell = headerRow.createCell(0);\r\n\t\t\t\theaderCell.setCellValue(&quot;Animal&quot;);\r\n\t\r\n\t\t\t\theaderCell = headerRow.createCell(1);\r\n\t\t\t\theaderCell.setCellValue(&quot;Vegetable&quot;);\r\n\r\n\t\t\t\r\n\t\t\t   \r\n\r\n\t\t\t   //names for the list constraints\r\n\t\t\t   Row row = sheet.createRow(11);\r\n\t\t\t   Cell cell = row.createCell(0);\r\n\t\t\t   cell.setCellValue(&quot;Lion&quot;);\r\n\t\t\t   \r\n\t\t\t   cell = row.createCell(1);\r\n\t\t\t   cell.setCellValue(&quot;Tiger&quot;);\r\n\t\t\t   \r\n\t\t\t   \r\n\t\t\t   row = sheet.createRow(12);\r\n\t\t\t   cell = row.createCell(0);\r\n\t\t\t   cell.setCellValue(&quot;Cabbage&quot;);\r\n\t\t\t   \r\n\t\t\t   cell = row.createCell(1);\r\n\t\t\t   cell.setCellValue(&quot;Spinach&quot;);\r\n\t\t\t  \r\n\r\n\t\t\t   sheet.setSelected(false);\r\n\t\t\t   sheet = workbook.createSheet(&quot;Sheet1&quot;);\r\n\t\t\t   \r\n\t\t\t   Name namedCell = workbook.createName();\r\n\t\t\t   namedCell.setNameName(&quot;CHOICES&quot;);\r\n\t\t\t   String reference = &quot;dataSheet!$A$11:$B$11&quot;;\r\n\t\t\t   namedCell.setRefersToFormula(reference);\r\n\t\t\t   \r\n\t\t\t   namedCell.setNameName(&quot;ANIMAL&quot;);\r\n\t\t\t   reference = &quot;dataSheet!$A$12:$B$12&quot;; //List 1 to 4\r\n\t\t\t   namedCell.setRefersToFormula(reference);\r\n\t\t\t   \r\n\t\t\t   namedCell.setNameName(&quot;VEGETABLE&quot;);\r\n\t\t\t   reference = &quot;dataSheet!$A$13:$B$13&quot;; //List 1 to 4\r\n\t\t\t   namedCell.setRefersToFormula(reference);\r\n\t\t\t   \r\n\t\t\t   //data validations\r\n\t\t\t   DataValidationHelper dvHelper = sheet.getDataValidationHelper();\r\n\t\t\t   DataValidationConstraint dvConstraint = dvHelper.createFormulaListConstraint(&quot;CHOICES&quot;);\r\n\t\t\t   CellRangeAddressList addressList = new CellRangeAddressList(0, 0, 0, 0);            \r\n\t\t\t   DataValidation validation = dvHelper.createValidation(dvConstraint, addressList);\r\n\t\t\t   validation.setSuppressDropDownArrow(true);\r\n\t\t\t   sheet.addValidationData(validation);\r\n\r\n\t\t\t   dvConstraint = dvHelper.createFormulaListConstraint(&quot;INDIRECT(UPPER($A$1))&quot;);\r\n\t\t\t   addressList = new CellRangeAddressList(0, 0, 1, 1);            \r\n\t\t\t   validation = dvHelper.createValidation(dvConstraint, addressList);\r\n\t\t\t   validation.setSuppressDropDownArrow(true);\r\n\t\t\t   sheet.addValidationData(validation);`","title":"How can we create a dependent drop down list in excel using apache poi","body":"<p>I wanted to create dependent drop down list in one sheet and display the options in another sheet. I have implemented this but the drop down doesn't show any options</p>\n<p>`XSSFWorkbook workbook = new XSSFWorkbook();\nXSSFSheet sheet = workbook.createSheet(&quot;dataSheet&quot;);</p>\n<pre><code>            Row headerRow = sheet.createRow(10);\n\n            Cell headerCell = headerRow.createCell(0);\n            headerCell.setCellValue(&quot;Animal&quot;);\n\n            headerCell = headerRow.createCell(1);\n            headerCell.setCellValue(&quot;Vegetable&quot;);\n\n        \n           \n\n           //names for the list constraints\n           Row row = sheet.createRow(11);\n           Cell cell = row.createCell(0);\n           cell.setCellValue(&quot;Lion&quot;);\n           \n           cell = row.createCell(1);\n           cell.setCellValue(&quot;Tiger&quot;);\n           \n           \n           row = sheet.createRow(12);\n           cell = row.createCell(0);\n           cell.setCellValue(&quot;Cabbage&quot;);\n           \n           cell = row.createCell(1);\n           cell.setCellValue(&quot;Spinach&quot;);\n          \n\n           sheet.setSelected(false);\n           sheet = workbook.createSheet(&quot;Sheet1&quot;);\n           \n           Name namedCell = workbook.createName();\n           namedCell.setNameName(&quot;CHOICES&quot;);\n           String reference = &quot;dataSheet!$A$11:$B$11&quot;;\n           namedCell.setRefersToFormula(reference);\n           \n           namedCell.setNameName(&quot;ANIMAL&quot;);\n           reference = &quot;dataSheet!$A$12:$B$12&quot;; //List 1 to 4\n           namedCell.setRefersToFormula(reference);\n           \n           namedCell.setNameName(&quot;VEGETABLE&quot;);\n           reference = &quot;dataSheet!$A$13:$B$13&quot;; //List 1 to 4\n           namedCell.setRefersToFormula(reference);\n           \n           //data validations\n           DataValidationHelper dvHelper = sheet.getDataValidationHelper();\n           DataValidationConstraint dvConstraint = dvHelper.createFormulaListConstraint(&quot;CHOICES&quot;);\n           CellRangeAddressList addressList = new CellRangeAddressList(0, 0, 0, 0);            \n           DataValidation validation = dvHelper.createValidation(dvConstraint, addressList);\n           validation.setSuppressDropDownArrow(true);\n           sheet.addValidationData(validation);\n\n           dvConstraint = dvHelper.createFormulaListConstraint(&quot;INDIRECT(UPPER($A$1))&quot;);\n           addressList = new CellRangeAddressList(0, 0, 1, 1);            \n           validation = dvHelper.createValidation(dvConstraint, addressList);\n           validation.setSuppressDropDownArrow(true);\n           sheet.addValidationData(validation);`\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1643725085,"post_id":70941888,"comment_id":125411987,"body_markdown":"Could you add any stacktraces error logs you see?","body":"Could you add any stacktraces error logs you see?"}],"answers":[{"tags":[],"owner":{"account_id":15653814,"reputation":1,"user_id":11294687,"display_name":"VIDYADHAR SHELKE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661318980,"creation_date":1661318980,"answer_id":73467846,"question_id":70941888,"body_markdown":"Add this is in your MyConfig.java(you have to hasAnyRole for admin same \r\n\r\n\r\n.hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;))\r\n\r\n ","title":"Redirect to User_dashboard page after login based on user role with Spring Security Configuration","body":"<p>Add this is in your MyConfig.java(you have to hasAnyRole for admin same</p>\n<p>.hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;))</p>\n"}],"owner":{"account_id":24113558,"reputation":3,"user_id":18083803,"display_name":"Vinay Kushwaha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661318980,"creation_date":1643724208,"question_id":70941888,"body_markdown":"I have 2  roles {ADMIN, USER}. Once user login it should redirect to user_dashboard.html page, but it showing error. I am sharing POM.XML; MyCongig.java; UserController.java; user-dashboard.html and errorimage that I get after login. It would be a great help, if someone can help me as this is my first java/spring Boot project. Thanks in advance.\r\n\r\n**POM.xml**\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.smart&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;smartcontactmanager&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;smartcontactmanager&lt;/name&gt;\r\n\t&lt;description&gt;Smart Contact Manager Project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- For Validation use this dependency--&gt;\r\n\t\t&lt;dependency&gt; \r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \r\n\t\t    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \r\n\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- Password Dependency--&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.passay/passay --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.passay/passay --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n\t \t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.passay&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;passay&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**MyConfig.java**\r\n\r\n\r\n```package com.smart.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MyConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Bean\r\n\tpublic UserDetailsService getUserDetailsService() {\r\n\t\treturn new UserDetailsServiceImpel();\r\n\t}\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider daoAuthenticationProvider=new DaoAuthenticationProvider();\r\n\t\tdaoAuthenticationProvider.setUserDetailsService(this.getUserDetailsService());\r\n\t\tdaoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn daoAuthenticationProvider;\r\n\t\t\r\n\t}\r\n\t\r\n\t//Configure method\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.authenticationProvider(authenticationProvider());\r\n\t\t\r\n\t}\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests().antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t\t.antMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\r\n\t\t.antMatchers(&quot;/**&quot;).permitAll()\r\n\t\t.and().formLogin().loginPage(&quot;/signin&quot;)\r\n\t\t.loginProcessingUrl(&quot;/dologin&quot;)\r\n\t\t.defaultSuccessUrl(&quot;/user/index&quot;).and().csrf().disable();\r\n\t\t//http.csrf().disable();\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**UserController.java**\r\n```\r\npackage com.smart.controller;\r\n\r\nimport java.security.Principal;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserController {\r\n\t@RequestMapping(&quot;/index&quot;)\r\n\tpublic String dashboard(Model model, Principal principal) {\r\n\t\t\r\n\t\tString userName = principal.getName();\r\n\t\tSystem.out.println(&quot;UserName &quot;+userName);\r\n\t\treturn &quot;user_dashboard&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n**user_dashboard.html**\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n\t&lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n\t&lt;title&gt;USer Dashboard&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h1&gt;Welcome,  you are normal user&lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n[Errorimage][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tEPtP.jpg","title":"Redirect to User_dashboard page after login based on user role with Spring Security Configuration","body":"<p>I have 2  roles {ADMIN, USER}. Once user login it should redirect to user_dashboard.html page, but it showing error. I am sharing POM.XML; MyCongig.java; UserController.java; user-dashboard.html and errorimage that I get after login. It would be a great help, if someone can help me as this is my first java/spring Boot project. Thanks in advance.</p>\n<p><strong>POM.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.smart&lt;/groupId&gt;\n    &lt;artifactId&gt;smartcontactmanager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;smartcontactmanager&lt;/name&gt;\n    &lt;description&gt;Smart Contact Manager Project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- For Validation use this dependency--&gt;\n        &lt;dependency&gt; \n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \n        &lt;/dependency&gt;\n            &lt;!-- Password Dependency--&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.passay/passay --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.passay/passay --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    \n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>MyConfig.java</strong></p>\n<pre><code>\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\n@Configuration\n@EnableWebSecurity\npublic class MyConfig extends WebSecurityConfigurerAdapter {\n    \n    @Bean\n    public UserDetailsService getUserDetailsService() {\n        return new UserDetailsServiceImpel();\n    }\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider=new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(this.getUserDetailsService());\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n        return daoAuthenticationProvider;\n        \n    }\n    \n    //Configure method\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n        \n    }\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n        .antMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\n        .antMatchers(&quot;/**&quot;).permitAll()\n        .and().formLogin().loginPage(&quot;/signin&quot;)\n        .loginProcessingUrl(&quot;/dologin&quot;)\n        .defaultSuccessUrl(&quot;/user/index&quot;).and().csrf().disable();\n        //http.csrf().disable();\n        \n    }\n    \n}\n</code></pre>\n<p><strong>UserController.java</strong></p>\n<pre><code>package com.smart.controller;\n\nimport java.security.Principal;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n    @RequestMapping(&quot;/index&quot;)\n    public String dashboard(Model model, Principal principal) {\n        \n        String userName = principal.getName();\n        System.out.println(&quot;UserName &quot;+userName);\n        return &quot;user_dashboard&quot;;\n    }\n}\n</code></pre>\n<p><strong>user_dashboard.html</strong></p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot; /&gt;\n    &lt;title&gt;USer Dashboard&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Welcome,  you are normal user&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tEPtP.jpg\" rel=\"nofollow noreferrer\">Errorimage</a></p>\n"},{"tags":["java","spring-boot","requestscope"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1617187291,"post_id":66886165,"comment_id":118232276,"body_markdown":"Why did you annotate `RequestFilter` with `@Configuration`? Try `@Component`","body":"Why did you annotate <code>RequestFilter</code> with <code>@Configuration</code>? Try <code>@Component</code>"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1617187592,"post_id":66886165,"comment_id":118232394,"body_markdown":"Please, try to include `@ComponentScan(&quot;package.that.contains.requestheaderinfo&quot;)`,  to be sure that `RequestHeaderInfo` is correctly located in its package. It should be appropriate to define a `@Configuration` with that information, and annotate the filter as `@Component` as @crizzis suggested","body":"Please, try to include <code>@ComponentScan(&quot;package.that.contains.requestheaderinfo&quot;)</code>,  to be sure that <code>RequestHeaderInfo</code> is correctly located in its package. It should be appropriate to define a <code>@Configuration</code> with that information, and annotate the filter as <code>@Component</code> as @crizzis suggested"},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1617188786,"post_id":66886165,"comment_id":118232944,"body_markdown":"@crizzis you are right, it should be component. I have edited it.","body":"@crizzis you are right, it should be component. I have edited it."},{"owner":{"account_id":2802397,"reputation":1110,"user_id":5339661,"display_name":"Marcos Barbero"},"score":0,"creation_date":1617190203,"post_id":66886165,"comment_id":118233539,"body_markdown":"I don&#39;t understand the reasoning behind it. Why don&#39;t you use the annotation `@RequestHeader` in the controller and get the values you need?","body":"I don&#39;t understand the reasoning behind it. Why don&#39;t you use the annotation <code>@RequestHeader</code> in the controller and get the values you need?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":1,"creation_date":1617192024,"post_id":66886165,"comment_id":118234300,"body_markdown":"@Marcos Barbero Cant speak for OP, but I can think of multiple reasons. Maybe you would like to have that value in a service which is 3 layers deep for example. And you would not like to pass this stuff through arguments. I have not used `@RequestScope` myself, but I have implemented my own custom solutions for problems like that. For example, maybe your controllers are autogenerated by OpenApi and you can&#39;t even add custom code there.","body":"@Marcos Barbero Cant speak for OP, but I can think of multiple reasons. Maybe you would like to have that value in a service which is 3 layers deep for example. And you would not like to pass this stuff through arguments. I have not used <code>@RequestScope</code> myself, but I have implemented my own custom solutions for problems like that. For example, maybe your controllers are autogenerated by OpenApi and you can&#39;t even add custom code there."}],"answers":[{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661318586,"creation_date":1661318586,"answer_id":73467784,"question_id":66886165,"body_markdown":"In our project (Spring boot multi-module and not microservices) we are using an Interceptor class to filter the request.\r\n\r\n    @Component\r\n    public class RequestInterceptor implements org.springframework.web.servlet.HandlerInterceptor {\r\n    \r\n        @Override\r\n\t    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\r\n\r\n            String appInfo = request.getHeader(&quot;appInfo&quot;);\r\n        }\r\n        \r\n        @Override\r\n\t    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\tModelAndView modelAndView) throws Exception {\r\n\r\n\t    }\r\n\r\n        @Override\r\n\t    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\r\n\t\t\tthrows Exception {\r\n        }\r\n    }\r\n\r\nPlus our Bean with the request scope is configured like this\r\n\r\n    @Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    @Component\r\n    public class RequestBean {\r\n    \r\n    }\r\n\r\nHope this helps.","title":"Spring Boot Request Scoped Bean","body":"<p>In our project (Spring boot multi-module and not microservices) we are using an Interceptor class to filter the request.</p>\n<pre><code>@Component\npublic class RequestInterceptor implements org.springframework.web.servlet.HandlerInterceptor {\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\n\n        String appInfo = request.getHeader(&quot;appInfo&quot;);\n    }\n    \n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\n        ModelAndView modelAndView) throws Exception {\n\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\n        throws Exception {\n    }\n}\n</code></pre>\n<p>Plus our Bean with the request scope is configured like this</p>\n<pre><code>@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\n@Component\npublic class RequestBean {\n\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661318586,"creation_date":1617187070,"question_id":66886165,"body_markdown":"I am using spring boot for creating microservices. I need to implement request scope beans as I get some information in header and need this to be available across all the classes for that particular request. Below is what I did, but I get null pointer error.\r\n\r\n    @Component\r\n    @RequestScope(proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    public Class RequestHeaderInfo {\r\n       private String appInfo;\r\n       ...\r\n    }\r\n    \r\n    @Component\r\n    public class RequestFilter implements Filter {\r\n        @Autowired\r\n        private RequestHeaderInfo requestHeaderInfo;\r\n      \r\n        public void doFilter(ServletRequest req,....) {\r\n            HTTPServletRequest request = (HTTPServletRequest) req;\r\n            requestHeaderInfo.setAppInfo(request.getHeader(&quot;appInfo&quot;))   //throws null pointer error here\r\n            ....\r\n        }\r\n    }  \r\n\r\n    @Contoller\r\n    public class RestController {\r\n    \r\n        @Autowired\r\n        private RequestHeaderInfo requestHeaderInfo;\r\n    }\r\n\r\nI want this request header info object to be available throughout the particular request. In my filter class it throws null pointer error. Am I on the right track implementing request scoped bean?\r\n","title":"Spring Boot Request Scoped Bean","body":"<p>I am using spring boot for creating microservices. I need to implement request scope beans as I get some information in header and need this to be available across all the classes for that particular request. Below is what I did, but I get null pointer error.</p>\n<pre><code>@Component\n@RequestScope(proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic Class RequestHeaderInfo {\n   private String appInfo;\n   ...\n}\n\n@Component\npublic class RequestFilter implements Filter {\n    @Autowired\n    private RequestHeaderInfo requestHeaderInfo;\n  \n    public void doFilter(ServletRequest req,....) {\n        HTTPServletRequest request = (HTTPServletRequest) req;\n        requestHeaderInfo.setAppInfo(request.getHeader(&quot;appInfo&quot;))   //throws null pointer error here\n        ....\n    }\n}  \n\n@Contoller\npublic class RestController {\n\n    @Autowired\n    private RequestHeaderInfo requestHeaderInfo;\n}\n</code></pre>\n<p>I want this request header info object to be available throughout the particular request. In my filter class it throws null pointer error. Am I on the right track implementing request scoped bean?</p>\n"},{"tags":["java","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339266857,"creation_date":1339266857,"answer_id":10963559,"question_id":10637586,"body_markdown":"Yes, if you are using public-key authentication, JSch is expecting the public-key file in the same directory (and same name with an added `.pub`) as the private key file you passed as a parameter to [`addIdentity()`][1]. Alternatively, you can use [the method variant which takes both file names as parameters][2], or pass them as byte arrays.\r\n\r\nThe reason is that in the SSH public key authentication protocol, the client first sends a list of the available public keys to the server, and the server from these selects a fitting one - only then the private key is needed (and will be decrypted, if necessary).\r\nWhile it (depending of the algorithm and key representation) might be possible to calculate the public key from the private one, JSch doesn&#39;t do this itself, so you&#39;ll have to provide both keys.\r\n\r\n\r\n  [1]: http://epaul.github.com/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#addIdentity%28java.lang.String%29\r\n  [2]: http://epaul.github.com/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#addIdentity%28java.lang.String,%20java.lang.String,%20byte%5B%5D%29","title":"jsch session.connect() problems","body":"<p>Yes, if you are using public-key authentication, JSch is expecting the public-key file in the same directory (and same name with an added <code>.pub</code>) as the private key file you passed as a parameter to <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#addIdentity%28java.lang.String%29\" rel=\"nofollow\"><code>addIdentity()</code></a>. Alternatively, you can use <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#addIdentity%28java.lang.String,%20java.lang.String,%20byte%5B%5D%29\" rel=\"nofollow\">the method variant which takes both file names as parameters</a>, or pass them as byte arrays.</p>\n\n<p>The reason is that in the SSH public key authentication protocol, the client first sends a list of the available public keys to the server, and the server from these selects a fitting one - only then the private key is needed (and will be decrypted, if necessary).\nWhile it (depending of the algorithm and key representation) might be possible to calculate the public key from the private one, JSch doesn't do this itself, so you'll have to provide both keys.</p>\n"},{"tags":[],"owner":{"account_id":1972914,"reputation":4069,"user_id":1771402,"accept_rate":86,"display_name":"krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357201421,"creation_date":1357201421,"answer_id":14135282,"question_id":10637586,"body_markdown":"since you are using \r\n \r\n\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\nyou dont need any keyfiles.It disables the hostkey checking.Can you show what does the log have after executing the program.so that we could help you.","title":"jsch session.connect() problems","body":"<p>since you are using </p>\n\n<pre><code>config.put(\"StrictHostKeyChecking\", \"no\");\n</code></pre>\n\n<p>you dont need any keyfiles.It disables the hostkey checking.Can you show what does the log have after executing the program.so that we could help you.</p>\n"},{"tags":[],"owner":{"account_id":7843157,"reputation":79,"user_id":5928979,"display_name":"ramakotireddy nagireddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661317038,"creation_date":1571390268,"answer_id":58447734,"question_id":10637586,"body_markdown":"Use below code. It works for me\r\n\r\n    try {\r\n        \tProperties config = new Properties();\r\n        \tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    \t\tconfig.put(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\r\n    \t\tjsch.addIdentity();\r\n    \t\tSystem.out.println(&quot;identity added &quot;);\r\n    \t\t session = jsch.getSession(user, host, 22);\r\n    \t\t// session.setPassword(&quot;123&quot;);\r\n    \t\tsession.setConfig(config);\r\n            session.connect(); \r\n            Channel channel = session.openChannel(&quot;sftp&quot;);\r\n            channel.connect();\r\n        } catch (JSchException e) {\r\n            e.printStackTrace();  \r\n        } catch (SftpException e) {\r\n            e.printStackTrace();\r\n        }`\r\n\r\n","title":"jsch session.connect() problems","body":"<p>Use below code. It works for me</p>\n<pre><code>try {\n        Properties config = new Properties();\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        config.put(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\n        jsch.addIdentity();\n        System.out.println(&quot;identity added &quot;);\n         session = jsch.getSession(user, host, 22);\n        // session.setPassword(&quot;123&quot;);\n        session.setConfig(config);\n        session.connect(); \n        Channel channel = session.openChannel(&quot;sftp&quot;);\n        channel.connect();\n    } catch (JSchException e) {\n        e.printStackTrace();  \n    } catch (SftpException e) {\n        e.printStackTrace();\n    }`\n</code></pre>\n"}],"owner":{"account_id":1143151,"reputation":249,"user_id":1126523,"accept_rate":88,"display_name":"coffeeNjava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1661317038,"creation_date":1337264644,"question_id":10637586,"body_markdown":"I&#39;m new to Jsch and I&#39;m trying to connect to a third party through sftp. I can connect over ssh so I know I have the right user, host, port and private key file, but when I try to connect through Jsch I get the exception message &quot;Auth failed&quot;, which is almost, but not quite, helpful. Here is my code that I pieced together from examples online:\r\n\r\n    String pvtkey = &quot;{unixpath}/id_dsa&quot;;\r\n    ChannelSftp sftp = null;\r\n    JSch jsch = new JSch();\r\n    Session session = null;\r\n\r\n    try {\r\n        jsch.setKnownHosts(&quot;{unixpath}/known_hosts&quot;);\r\n        jsch.addIdentity(pvtkey);\r\n        session = jsch.getSession(user, connectionURL, 22);\r\n        Properties config = new Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        session.setConfig(config);\r\n        session.connect();\r\n        // ...some other code that never gets called\r\n    } catch (JSchException e) {\r\n        log.info(e.getMessage());\r\n        log.error(e.getCause());\r\n    }\r\n\r\nI added some logs so I know the failure is happening as session.connect(). I&#39;ve caught the user and the connectionURL and verified that they are being passed in properly. The path to the pvtkey and known_hosts is the full unix path to where I hold the key and hosts files, which I&#39;ve moved to a directory that holds the script tht kicks off this process. I&#39;m still a bit new to sftp, does my public key have to be in that same directory even if I&#39;m not adding it to the Jsch connection? Is there some way to get more information on my failure?","title":"jsch session.connect() problems","body":"<p>I'm new to Jsch and I'm trying to connect to a third party through sftp. I can connect over ssh so I know I have the right user, host, port and private key file, but when I try to connect through Jsch I get the exception message &quot;Auth failed&quot;, which is almost, but not quite, helpful. Here is my code that I pieced together from examples online:</p>\n<pre><code>String pvtkey = &quot;{unixpath}/id_dsa&quot;;\nChannelSftp sftp = null;\nJSch jsch = new JSch();\nSession session = null;\n\ntry {\n    jsch.setKnownHosts(&quot;{unixpath}/known_hosts&quot;);\n    jsch.addIdentity(pvtkey);\n    session = jsch.getSession(user, connectionURL, 22);\n    Properties config = new Properties();\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    session.setConfig(config);\n    session.connect();\n    // ...some other code that never gets called\n} catch (JSchException e) {\n    log.info(e.getMessage());\n    log.error(e.getCause());\n}\n</code></pre>\n<p>I added some logs so I know the failure is happening as session.connect(). I've caught the user and the connectionURL and verified that they are being passed in properly. The path to the pvtkey and known_hosts is the full unix path to where I hold the key and hosts files, which I've moved to a directory that holds the script tht kicks off this process. I'm still a bit new to sftp, does my public key have to be in that same directory even if I'm not adding it to the Jsch connection? Is there some way to get more information on my failure?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1661283275,"post_id":73464227,"comment_id":129734318,"body_markdown":"A minimal code sample would be helpful.","body":"A minimal code sample would be helpful."},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1661283427,"post_id":73464227,"comment_id":129734362,"body_markdown":"What do you mean by doesn&#39;t work?","body":"What do you mean by doesn&#39;t work?"},{"owner":{"account_id":10648160,"reputation":267,"user_id":7840106,"display_name":"A.Sidor"},"score":0,"creation_date":1661283596,"post_id":73464227,"comment_id":129734401,"body_markdown":"I improved my description","body":"I improved my description"}],"answers":[{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661316764,"creation_date":1661285707,"answer_id":73464618,"question_id":73464227,"body_markdown":"Since your `updatedAt` property is defined to be of non-nullable type `Instant`, it is not possible that it is null, and thus, it is not possible that the `@NotNull` constraint fails. Before it can fail, there will probably be an `IllegalArgumentException` when some mechanism tries to set the property to null.\r\n\r\nThat `IllegalArgumentException` in turn is then probably translated by some exception handler into a Rest code of 400, while whatever exception that would be thrown by checking a violation of the constraint would be translated into a Rest code of 422.\r\n\r\nYou should try to make the property nullable in order to allow the property to become null which can then be checked to violate the `@NotNull` constraint:\r\n```\r\ndata class User(\r\n   @NotNull\r\n   val updatedAt: Instant?\r\n)\r\n```\r\nAlternatively, you could try to catch the exception that is thrown when setting the value of `updatedAt` and replace it. Or, you could write an exception handler that returns Rest code 422 instead of 400. But since I do not know much about your technology stack, I cannot give you more details on that.","title":"javax.validation.constraints.NotNull not work for java.time.Instant in Kotlin","body":"<p>Since your <code>updatedAt</code> property is defined to be of non-nullable type <code>Instant</code>, it is not possible that it is null, and thus, it is not possible that the <code>@NotNull</code> constraint fails. Before it can fail, there will probably be an <code>IllegalArgumentException</code> when some mechanism tries to set the property to null.</p>\n<p>That <code>IllegalArgumentException</code> in turn is then probably translated by some exception handler into a Rest code of 400, while whatever exception that would be thrown by checking a violation of the constraint would be translated into a Rest code of 422.</p>\n<p>You should try to make the property nullable in order to allow the property to become null which can then be checked to violate the <code>@NotNull</code> constraint:</p>\n<pre><code>data class User(\n   @NotNull\n   val updatedAt: Instant?\n)\n</code></pre>\n<p>Alternatively, you could try to catch the exception that is thrown when setting the value of <code>updatedAt</code> and replace it. Or, you could write an exception handler that returns Rest code 422 instead of 400. But since I do not know much about your technology stack, I cannot give you more details on that.</p>\n"}],"owner":{"account_id":10648160,"reputation":267,"user_id":7840106,"display_name":"A.Sidor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73464618,"answer_count":1,"score":2,"last_activity_date":1661316764,"creation_date":1661283135,"question_id":73464227,"body_markdown":"Constraint @NotNull doesn&#39;t work for field instance of Instant after migration from java to kotlin. I mean that in java because of this constraint I got 422 in case of updatedAt was null but in kotlin I have 400. Could you give me some clues why is that and how I can resolve it?\r\n\r\n    data class User(\r\n    @NotNull\r\n    val updatedAt: Instant\r\n    )","title":"javax.validation.constraints.NotNull not work for java.time.Instant in Kotlin","body":"<p>Constraint @NotNull doesn't work for field instance of Instant after migration from java to kotlin. I mean that in java because of this constraint I got 422 in case of updatedAt was null but in kotlin I have 400. Could you give me some clues why is that and how I can resolve it?</p>\n<pre><code>data class User(\n@NotNull\nval updatedAt: Instant\n)\n</code></pre>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1661315772,"post_id":73467448,"comment_id":129739574,"body_markdown":"`Index 1 out of bounds for length 1` That&#39;s the problem exactly.  You allocated an array of length 1, and then used an index out of bounds. Remember arrays in Java are zero based, so an array of length one has one element at index zero, not one.","body":"<code>Index 1 out of bounds for length 1</code> That&#39;s the problem exactly.  You allocated an array of length 1, and then used an index out of bounds. Remember arrays in Java are zero based, so an array of length one has one element at index zero, not one."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1661315863,"post_id":73467448,"comment_id":129739598,"body_markdown":"By &quot;solve a matrix&quot; do you mean matrix multiplication?  I&#39;d say those are two very different things.","body":"By &quot;solve a matrix&quot; do you mean matrix multiplication?  I&#39;d say those are two very different things."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1661315891,"post_id":73467448,"comment_id":129739602,"body_markdown":"Please use sensible titles for your questions.   Silly or meaningless titles will get you downvotes rather than answers.  (If you insist on using silly / unhelpful titles ... my answer to your question is &quot;Yesssss&quot;.)","body":"Please use sensible titles for your questions.   Silly or meaningless titles will get you downvotes rather than answers.  (If you insist on using silly / unhelpful titles ... my answer to your question is &quot;Yesssss&quot;.)"}],"answers":[{"tags":[],"owner":{"account_id":18552837,"reputation":26,"user_id":13518706,"display_name":"Kuntal Gorai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661316378,"creation_date":1661316378,"answer_id":73467547,"question_id":73467448,"body_markdown":"Since the final matrix is of order aRLen x bCLen the last for loops needs to be modified.\r\n\r\n    for(int i=0;i&lt;aRLen;i++)  // Instead of aClen\r\n            {\r\n                for(int j=0;j&lt;bCLen;j++) //Instead of bRlen\r\n                {\r\n                    for(int k=0; k&lt;bRLen;k++)\r\n                    {\r\n                        r[i][j] += a[i][k] * b[k][j]; // LINE 57 ERROR\r\n                    }//End of k Loop\r\n                    System.out.print(r[i][j]+&quot; &quot;);\r\n                }//End of j loop\r\n                System.out.println();\r\n            }//End of I loop\r\nThis will work properly.","title":"Matrix Multiplication, Index Out of Bounds Exception","body":"<p>Since the final matrix is of order aRLen x bCLen the last for loops needs to be modified.</p>\n<pre><code>for(int i=0;i&lt;aRLen;i++)  // Instead of aClen\n        {\n            for(int j=0;j&lt;bCLen;j++) //Instead of bRlen\n            {\n                for(int k=0; k&lt;bRLen;k++)\n                {\n                    r[i][j] += a[i][k] * b[k][j]; // LINE 57 ERROR\n                }//End of k Loop\n                System.out.print(r[i][j]+&quot; &quot;);\n            }//End of j loop\n            System.out.println();\n        }//End of I loop\n</code></pre>\n<p>This will work properly.</p>\n"}],"owner":{"account_id":25968257,"reputation":29,"user_id":19683909,"display_name":"Nimesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73467547,"answer_count":1,"score":0,"last_activity_date":1661316464,"creation_date":1661315445,"question_id":73467448,"body_markdown":"I have try to create a code that can solve a matrix.\r\n\r\n \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Pratical_8 {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        // Taking A Matrix\r\n        System.out.println(&quot;Enter number of Rows and Column for first Matrix&quot;);\r\n        System.out.print(&quot;Enter Rows &quot;);\r\n        int aRLen=sc.nextInt();\r\n        System.out.print(&quot;Enter Columns &quot;);\r\n        int aCLen=sc.nextInt();\r\n        int [][] a = new int [aRLen][aCLen];\r\n        System.out.println(&quot;Enter Matrix&quot;);\r\n        for(int i=0;i&lt;aRLen;i++)\r\n        {\r\n            for(int j=0;j&lt;aCLen;j++)\r\n            {\r\n                a[i][j]=sc.nextInt();\r\n            }//End of j loop\r\n        }//End of I loop\r\n\r\n        // Taking B Matrix\r\n        System.out.println(&quot;Enter number of Rows and Column for second Matrix&quot;);\r\n        System.out.print(&quot;Enter Rows &quot;);\r\n        int bRLen=sc.nextInt();\r\n        System.out.print(&quot;Enter Columns &quot;);\r\n        int bCLen=sc.nextInt();\r\n        int [][] b = new int [bRLen][bCLen];\r\n        System.out.println(&quot;Enter Matrix&quot;);\r\n        for(int i=0;i&lt;bRLen;i++)\r\n        {\r\n            for(int j=0;j&lt;bCLen;j++)\r\n            {\r\n                b[i][j]=sc.nextInt();\r\n            }//End of j loop\r\n        }//End of I loop\r\n\r\n        // Creating resulting Matrix\r\n        int [][] r = new int [aRLen][bCLen];\r\n\r\n        // Check for Valid input\r\n        if(aCLen!=bRLen)\r\n        {\r\n            System.out.println(&quot;Error invalid input&quot;);\r\n            System.out.println(&quot;Multiplication of this matrix is not possible&quot;);\r\n\r\n        }\r\n        else\r\n        {\r\n            for(int i=0;i&lt;aCLen;i++)\r\n            {\r\n                for(int j=0;j&lt;bRLen;j++)\r\n                {\r\n                    for(int k=0; k&lt;bRLen;k++)\r\n                    {\r\n                        r[i][j] += a[i][k] * b[k][j]; // LINE 57 ERROR\r\n                    }//End of k Loop\r\n                    System.out.print(r[i][j]+&quot; &quot;);\r\n                }//End of j loop\r\n                System.out.println();\r\n            }//End of I loop\r\n         }//End of if-else\r\n      }//End of main\r\n    }//End of class\r\n\r\nit have an error after sucessfully give an output\r\n\r\nOutput:-\r\n \r\n    Enter number of Rows and Column for first Matrik\r\n\r\nEnter Rows 1\r\n\r\nEnter Columns 3\r\n\r\nEnter Matrix\r\n1\r\n2\r\n3\r\n\r\nEnter number of Rows and Column for second Matrix\r\n\r\nEnter Rows 3\r\n\r\nEnter Columns 1\r\n\r\nEnter Matrix\r\n1\r\n2\r\n3\r\n\r\n14 \r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat Pratical_8.main(Pratical_8.java:57)\r\n\r\nProcess finished with exit code 1\r\n\r\nThis Error only ocure in non Sysmetrix Matrix \r\n\r\nWhat is the PROBLEM?\r\n","title":"Matrix Multiplication, Index Out of Bounds Exception","body":"<p>I have try to create a code that can solve a matrix.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Pratical_8 {\npublic static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n\n    // Taking A Matrix\n    System.out.println(&quot;Enter number of Rows and Column for first Matrix&quot;);\n    System.out.print(&quot;Enter Rows &quot;);\n    int aRLen=sc.nextInt();\n    System.out.print(&quot;Enter Columns &quot;);\n    int aCLen=sc.nextInt();\n    int [][] a = new int [aRLen][aCLen];\n    System.out.println(&quot;Enter Matrix&quot;);\n    for(int i=0;i&lt;aRLen;i++)\n    {\n        for(int j=0;j&lt;aCLen;j++)\n        {\n            a[i][j]=sc.nextInt();\n        }//End of j loop\n    }//End of I loop\n\n    // Taking B Matrix\n    System.out.println(&quot;Enter number of Rows and Column for second Matrix&quot;);\n    System.out.print(&quot;Enter Rows &quot;);\n    int bRLen=sc.nextInt();\n    System.out.print(&quot;Enter Columns &quot;);\n    int bCLen=sc.nextInt();\n    int [][] b = new int [bRLen][bCLen];\n    System.out.println(&quot;Enter Matrix&quot;);\n    for(int i=0;i&lt;bRLen;i++)\n    {\n        for(int j=0;j&lt;bCLen;j++)\n        {\n            b[i][j]=sc.nextInt();\n        }//End of j loop\n    }//End of I loop\n\n    // Creating resulting Matrix\n    int [][] r = new int [aRLen][bCLen];\n\n    // Check for Valid input\n    if(aCLen!=bRLen)\n    {\n        System.out.println(&quot;Error invalid input&quot;);\n        System.out.println(&quot;Multiplication of this matrix is not possible&quot;);\n\n    }\n    else\n    {\n        for(int i=0;i&lt;aCLen;i++)\n        {\n            for(int j=0;j&lt;bRLen;j++)\n            {\n                for(int k=0; k&lt;bRLen;k++)\n                {\n                    r[i][j] += a[i][k] * b[k][j]; // LINE 57 ERROR\n                }//End of k Loop\n                System.out.print(r[i][j]+&quot; &quot;);\n            }//End of j loop\n            System.out.println();\n        }//End of I loop\n     }//End of if-else\n  }//End of main\n}//End of class\n</code></pre>\n<p>it have an error after sucessfully give an output</p>\n<p>Output:-</p>\n<pre><code>Enter number of Rows and Column for first Matrik\n</code></pre>\n<p>Enter Rows 1</p>\n<p>Enter Columns 3</p>\n<p>Enter Matrix\n1\n2\n3</p>\n<p>Enter number of Rows and Column for second Matrix</p>\n<p>Enter Rows 3</p>\n<p>Enter Columns 1</p>\n<p>Enter Matrix\n1\n2\n3</p>\n<p>14\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\nat Pratical_8.main(Pratical_8.java:57)</p>\n<p>Process finished with exit code 1</p>\n<p>This Error only ocure in non Sysmetrix Matrix</p>\n<p>What is the PROBLEM?</p>\n"},{"tags":["java","tomcat","hotswap","dcevm","hotswapagent"],"owner":{"account_id":161205,"reputation":429,"user_id":381786,"display_name":"cypher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661316329,"creation_date":1661316329,"question_id":73467539,"body_markdown":"Hi I am Using Trava Open JDK 8.\r\nhttps://github.com/TravaOpenJDK/trava-jdk-8-dcevm\r\n\r\nGot the tomcat to read hotswap-agent.properties.\r\nHad set the the following properties.\r\n\r\n```\r\nextraClasspath=/Users/......./tomcat/webapps/ROOT/WEB-INF/classes\r\nautoHotswap=true\r\nautoHotswap.port=5005\r\nLOGGER=debug\r\n\r\n```\r\n\r\nGot the following Debug Log messages when starting tomcat.\r\n\r\n```\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@44c8afef\r\n\r\n patched with plugin classes from agent classloader sun.misc.Launcher$AppClassLoader@18b4aac2.\r\n\r\nHOTSWAP AGENT: 20:52:42.445 DEBUG (org.hotswap.agent.config.PluginConfiguration) - Classloader contains &#39;hotswap-agent.properties&#39; at location &#39;file:/Users/......./tomcat/webapps/ROOT/WEB-INF/classes/hotswap-agent.properties&#39;\r\n\r\nHOTSWAP AGENT: 20:52:42.445 DEBUG (org.hotswap.agent.util.classloader.URLClassLoaderHelper) - Added extraClassPath URLs [file:/Users/......./tomcat/webapps/ROOT/WEB-INF/classes/tomcat/webapps/ROOT/WEB-INF/classes/] to classLoader ParallelWebappClassLoader\r\n\r\n  context: ROOT\r\n\r\n  delegate: false\r\n\r\n```\r\n\r\nCompiled the classes and tried Copying .class files alone and also tried com/././x.class to the extraClassPath folder mentioned above. Hot Reload did not happen. Any pointers ?","title":"Unable to get Hot Reload working with HotSwapAgent","body":"<p>Hi I am Using Trava Open JDK 8.\n<a href=\"https://github.com/TravaOpenJDK/trava-jdk-8-dcevm\" rel=\"nofollow noreferrer\">https://github.com/TravaOpenJDK/trava-jdk-8-dcevm</a></p>\n<p>Got the tomcat to read hotswap-agent.properties.\nHad set the the following properties.</p>\n<pre><code>extraClasspath=/Users/......./tomcat/webapps/ROOT/WEB-INF/classes\nautoHotswap=true\nautoHotswap.port=5005\nLOGGER=debug\n\n</code></pre>\n<p>Got the following Debug Log messages when starting tomcat.</p>\n<pre><code>----------&gt; Parent Classloader:\njava.net.URLClassLoader@44c8afef\n\n patched with plugin classes from agent classloader sun.misc.Launcher$AppClassLoader@18b4aac2.\n\nHOTSWAP AGENT: 20:52:42.445 DEBUG (org.hotswap.agent.config.PluginConfiguration) - Classloader contains 'hotswap-agent.properties' at location 'file:/Users/......./tomcat/webapps/ROOT/WEB-INF/classes/hotswap-agent.properties'\n\nHOTSWAP AGENT: 20:52:42.445 DEBUG (org.hotswap.agent.util.classloader.URLClassLoaderHelper) - Added extraClassPath URLs [file:/Users/......./tomcat/webapps/ROOT/WEB-INF/classes/tomcat/webapps/ROOT/WEB-INF/classes/] to classLoader ParallelWebappClassLoader\n\n  context: ROOT\n\n  delegate: false\n\n</code></pre>\n<p>Compiled the classes and tried Copying .class files alone and also tried com/././x.class to the extraClassPath folder mentioned above. Hot Reload did not happen. Any pointers ?</p>\n"},{"tags":["java","string","variables"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":1,"creation_date":1476955260,"post_id":40150323,"comment_id":67569735,"body_markdown":"what is `1.3 IDE` ?","body":"what is <code>1.3 IDE</code> ?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1476955299,"post_id":40150323,"comment_id":67569771,"body_markdown":"&quot;I&#39;ve seen the String.format method but I can&#39;t use it due to my IDE&quot;. Can you clarify this? You can&#39;t use a standard Java library function because of your *IDE* ? What IDE do you use, and why doesn&#39;t it allow it?","body":"&quot;I&#39;ve seen the String.format method but I can&#39;t use it due to my IDE&quot;. Can you clarify this? You can&#39;t use a standard Java library function because of your <i>IDE</i> ? What IDE do you use, and why doesn&#39;t it allow it?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1476955437,"post_id":40150323,"comment_id":67569874,"body_markdown":"Presumably, OP is using *Java* 1.3 (`String#format` is `@since 1.5`).","body":"Presumably, OP is using <i>Java</i> 1.3 (<code>String#format</code> is <code>@since 1.5</code>)."}],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476955322,"creation_date":1476955322,"answer_id":40150370,"question_id":40150323,"body_markdown":"Simple String concatenation (`+`) will work:\r\n\r\n    String at_cmd_response = atc.send(&quot;AT+CMGS=\\&quot;&quot;+number+&quot;\\&quot;\\r&quot;);","title":"Inserting a variable inside a String","body":"<p>Simple String concatenation (<code>+</code>) will work:</p>\n\n<pre><code>String at_cmd_response = atc.send(\"AT+CMGS=\\\"\"+number+\"\\\"\\r\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Xoc  epe&#250;pa "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1476965301,"creation_date":1476956952,"answer_id":40150991,"question_id":40150323,"body_markdown":"Its looks like you have a modem and want to send some commands... like ***send a SMS*** or ***make a phonecall*** or similar   :-) ...\r\n\r\nnow to the question:\r\n\r\nyou need to concatenate the modem command with the parameter\r\nin java those are strings and can be concatenated using the unary operator **+**\r\n\r\nlike: \r\n\r\n**&quot;AT+CMGS=\\&quot;+yourPhoneNumber+&quot;\\&quot;\\r&quot;** \r\n\r\nexample:\r\n\r\n    String yourPhoneNumber = &quot;+35111111111&quot;;\r\n\r\nand now  call the method\r\n\r\n    atc.send(&quot;AT+CMGS=\\&quot; + yourPhoneNumber + \\&quot;\\r&quot;);\r\n\r\n\r\n","title":"Inserting a variable inside a String","body":"<p>Its looks like you have a modem and want to send some commands... like <strong><em>send a SMS</em></strong> or <strong><em>make a phonecall</em></strong> or similar   :-) ...</p>\n\n<p>now to the question:</p>\n\n<p>you need to concatenate the modem command with the parameter\nin java those are strings and can be concatenated using the unary operator <strong>+</strong></p>\n\n<p>like: </p>\n\n<p><strong>\"AT+CMGS=\\\"+yourPhoneNumber+\"\\\"\\r\"</strong> </p>\n\n<p>example:</p>\n\n<pre><code>String yourPhoneNumber = \"+35111111111\";\n</code></pre>\n\n<p>and now  call the method</p>\n\n<pre><code>atc.send(\"AT+CMGS=\\\" + yourPhoneNumber + \\\"\\r\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661315908,"creation_date":1661315908,"answer_id":73467492,"question_id":40150323,"body_markdown":"I use below code snippets for web element locators in Selenium.\r\nHere variable is quoted with **&#39;&quot; + text + &quot;**\r\n\r\n    String text=&quot;666&quot;;\r\n    String subject=&quot;Knowledge base &#39;&quot; + text + &quot;&#39; Approval Request&quot;;\r\n\r\nAlso for rest assured,\r\n\r\nIf I want to parameterize 3f1dd0320a0a0b99000a53f7604a2ef9 value of below URL.\r\n\r\nhttps://pineapples.com/api/sn_sc/v1/fruit/items/3f1dd0320a0a0b99000a53f7604a2ef9/submit_producer\r\nSo I declared it in to a variable and using **+sys_ID+** I pass it.\r\n\r\n  \r\n\r\n      String sys_ID = &quot;3f1dd0320a0a0b99000a53f7604a2ef9&quot;;\r\n      RestAssured.baseURI = &quot;https://pineapples.com&quot;;\r\n      RestAssured.basePath = &quot;api/sn_sc/v1/fruits/items/&quot;+sys_ID+&quot;/submit_producer&quot;;","title":"Inserting a variable inside a String","body":"<p>I use below code snippets for web element locators in Selenium.\nHere variable is quoted with <strong>'&quot; + text + &quot;</strong></p>\n<pre><code>String text=&quot;666&quot;;\nString subject=&quot;Knowledge base '&quot; + text + &quot;' Approval Request&quot;;\n</code></pre>\n<p>Also for rest assured,</p>\n<p>If I want to parameterize 3f1dd0320a0a0b99000a53f7604a2ef9 value of below URL.</p>\n<p><a href=\"https://pineapples.com/api/sn_sc/v1/fruit/items/3f1dd0320a0a0b99000a53f7604a2ef9/submit_producer\" rel=\"nofollow noreferrer\">https://pineapples.com/api/sn_sc/v1/fruit/items/3f1dd0320a0a0b99000a53f7604a2ef9/submit_producer</a>\nSo I declared it in to a variable and using <strong>+sys_ID+</strong> I pass it.</p>\n<pre><code>  String sys_ID = &quot;3f1dd0320a0a0b99000a53f7604a2ef9&quot;;\n  RestAssured.baseURI = &quot;https://pineapples.com&quot;;\n  RestAssured.basePath = &quot;api/sn_sc/v1/fruits/items/&quot;+sys_ID+&quot;/submit_producer&quot;;\n</code></pre>\n"}],"owner":{"account_id":9454058,"reputation":45,"user_id":7029883,"accept_rate":67,"display_name":"kohhworlwide"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40150991,"answer_count":3,"score":1,"last_activity_date":1661315908,"creation_date":1476955213,"question_id":40150323,"body_markdown":"This is probably a pretty simple issue but since I&#39;m working with 1.3 IDE I can&#39;t use the most common method to do this.\r\n\r\n    String at_cmd_response = atc.send(&quot;AT+CMGS=\\&quot;+35111111111\\&quot;\\r&quot;);\r\nI need to introduce a string called number which holds a number like &quot;**35191xxxxxxx**&quot; in **at_cmd_response**. To do so, I&#39;ve seen the String.format method but I can&#39;t use it due to my IDE.\r\n\r\nIs there another way to do this?\r\n\r\nThanks\r\n","title":"Inserting a variable inside a String","body":"<p>This is probably a pretty simple issue but since I'm working with 1.3 IDE I can't use the most common method to do this.</p>\n\n<pre><code>String at_cmd_response = atc.send(\"AT+CMGS=\\\"+35111111111\\\"\\r\");\n</code></pre>\n\n<p>I need to introduce a string called number which holds a number like \"<strong>35191xxxxxxx</strong>\" in <strong>at_cmd_response</strong>. To do so, I've seen the String.format method but I can't use it due to my IDE.</p>\n\n<p>Is there another way to do this?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661255371,"creation_date":1661255371,"answer_id":73458189,"question_id":73456940,"body_markdown":"One way to do this is to **publish domain events** from your `User` entity class and then to create a listener for this events.  \r\nFirst, let&#39;s create an event:\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    public class UserStatusChangeEvent {\r\n        private final UUID userId;    \r\n        private final String lastStatus;\r\n        private final String newStatus;\r\n    }\r\n\r\nThen your `User` entity class should implement `AbstractAggregateRoot` interface with default domain event publishing mechanism to let your entity publish events and publish one in your `setStatus` method:\r\n\r\n    @Entity\r\n    @Getter\r\n    public class User implements AbstractAggregateRoot&lt;User&gt; {\r\n        private UUID userId;\r\n        private String status;\r\n    \r\n        @Transient\r\n        private String lastStatus;\r\n    \r\n        public void setStatus(String status) {\r\n            lastStatus = this.status;\r\n            this.status = status;\r\n            registerEvent(new UserStatusChangeEvent(userId, lastStatus, status));\r\n        }\r\n    }\r\n\r\nThen create a separate class with a listener, define it as a bean (`@Component`) and inject there your `UserService`:\r\n\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class UserStatusListener {\r\n        private final UserService userService;\r\n    \r\n        @EventListener\r\n        public void onStatusChange(UserStatusChangeEvent statusChangeEvent) {\r\n            if (!statusChangeEvent.getNewStatus().equals(statusChangeEvent.getLastStatus())) {\r\n                userService.doSomething();\r\n            }\r\n        }\r\n    }\r\n\r\nSpring will do the &quot;magic&quot; for you - publish your event as a application event and register your listener on startup.  \r\n\r\nNote, that spring-data will publish your domain events only after `save` or `saveAll` method called on a repository of your entity, so **no save - no events**.\r\n\r\nAlso instead of `@EventListener` you can use `@TransactionalEventListener` with different transaction phase if you want your listener to work depending on the transaction (success, failure, before or after, etc.).\r\n\r\nP.S. I used Lombok annotations on classes to simplify code and inject fields through the constructor.","title":"How can I handle any field change in Entity (Spring Boot)","body":"<p>One way to do this is to <strong>publish domain events</strong> from your <code>User</code> entity class and then to create a listener for this events.<br />\nFirst, let's create an event:</p>\n<pre><code>@AllArgsConstructor\n@Getter\npublic class UserStatusChangeEvent {\n    private final UUID userId;    \n    private final String lastStatus;\n    private final String newStatus;\n}\n</code></pre>\n<p>Then your <code>User</code> entity class should implement <code>AbstractAggregateRoot</code> interface with default domain event publishing mechanism to let your entity publish events and publish one in your <code>setStatus</code> method:</p>\n<pre><code>@Entity\n@Getter\npublic class User implements AbstractAggregateRoot&lt;User&gt; {\n    private UUID userId;\n    private String status;\n\n    @Transient\n    private String lastStatus;\n\n    public void setStatus(String status) {\n        lastStatus = this.status;\n        this.status = status;\n        registerEvent(new UserStatusChangeEvent(userId, lastStatus, status));\n    }\n}\n</code></pre>\n<p>Then create a separate class with a listener, define it as a bean (<code>@Component</code>) and inject there your <code>UserService</code>:</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class UserStatusListener {\n    private final UserService userService;\n\n    @EventListener\n    public void onStatusChange(UserStatusChangeEvent statusChangeEvent) {\n        if (!statusChangeEvent.getNewStatus().equals(statusChangeEvent.getLastStatus())) {\n            userService.doSomething();\n        }\n    }\n}\n</code></pre>\n<p>Spring will do the &quot;magic&quot; for you - publish your event as a application event and register your listener on startup.</p>\n<p>Note, that spring-data will publish your domain events only after <code>save</code> or <code>saveAll</code> method called on a repository of your entity, so <strong>no save - no events</strong>.</p>\n<p>Also instead of <code>@EventListener</code> you can use <code>@TransactionalEventListener</code> with different transaction phase if you want your listener to work depending on the transaction (success, failure, before or after, etc.).</p>\n<p>P.S. I used Lombok annotations on classes to simplify code and inject fields through the constructor.</p>\n"}],"owner":{"account_id":6059150,"reputation":23,"user_id":11561338,"display_name":"_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":973,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73458189,"answer_count":1,"score":2,"last_activity_date":1661315620,"creation_date":1661249907,"question_id":73456940,"body_markdown":"For example I have `User` entity class.  \r\nThis `User` have a `status` field.  \r\nWhen `status` is changed I need to call method from my `UserService`.  \r\n\r\nI have this code, but I think injecting service into entity is very bad.\r\n\r\n    @Entity\r\n    public class User {\r\n    \r\n    \tprivate String status;\r\n    \r\n    \t@Transient\r\n    \tprivate String lastStatus;\r\n    \t\r\n    \t@Transient\r\n    \t@Autowired\r\n    \tprivate UserService userService;\r\n    \r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(String status) {\r\n    \t\tlastStatus = this.status;\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \t\r\n    \t@PreUpdate\r\n    \tpublic void handleChangeStatus() {\r\n    \t\tif (!status.equals(lastStatus)) {\r\n    \t\t\tuserService.doSomething();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How can I handle any field change in Entity (Spring Boot)","body":"<p>For example I have <code>User</code> entity class.<br />\nThis <code>User</code> have a <code>status</code> field.<br />\nWhen <code>status</code> is changed I need to call method from my <code>UserService</code>.</p>\n<p>I have this code, but I think injecting service into entity is very bad.</p>\n<pre><code>@Entity\npublic class User {\n\n    private String status;\n\n    @Transient\n    private String lastStatus;\n    \n    @Transient\n    @Autowired\n    private UserService userService;\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        lastStatus = this.status;\n        this.status = status;\n    }\n    \n    @PreUpdate\n    public void handleChangeStatus() {\n        if (!status.equals(lastStatus)) {\n            userService.doSomething();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","conditional-statements"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660278442,"creation_date":1660278442,"answer_id":73329260,"question_id":73329102,"body_markdown":"because FlowControlConfig condition annotation evaluate when scan your app base package,in that time,@Bean method (redisTemplate) &#39;s beanDefintion does load not yet","title":"Why doesn&#39;t the @ConditionalOnBean(RedisTemplate.class) work?","body":"<p>because FlowControlConfig condition annotation evaluate when scan your app base package,in that time,@Bean method (redisTemplate) 's beanDefintion does load not yet</p>\n"}],"owner":{"account_id":11194839,"reputation":11,"user_id":8213847,"display_name":"Riling Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661315581,"creation_date":1660276610,"question_id":73329102,"body_markdown":"I have a FlowControlConfig dependent on RedisTemplate. But `@ConditionalOnBean(RedisTemplate.class)` doesn&#39;t work, and FlowControlCache isn&#39;t an instance. I debugged my code and confirmed that RedisTemplate already been instance. This is my code\r\n```\r\n// RedisTemplate instance\r\n@Bean\r\n@SuppressWarnings(&quot;all&quot;)\r\npublic RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory) {\r\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n    template.setConnectionFactory(factory);\r\n    Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\r\n    jackson2JsonRedisSerializer.setObjectMapper(objectMapper);\r\n    StringRedisSerializer stringRedisSerializer = new StringRedisSerializer();\r\n    template.setKeySerializer(stringRedisSerializer);\r\n    template.setHashKeySerializer(stringRedisSerializer);\r\n    template.setValueSerializer(jackson2JsonRedisSerializer);\r\n    template.setHashValueSerializer(jackson2JsonRedisSerializer);\r\n    template.afterPropertiesSet();\r\n    return template;\r\n}\r\n```\r\n```\r\n@Configuration\r\n@ConditionalOnBean(RedisTemplate.class)\r\npublic class FlowControlConfig {\r\n\r\n    @Bean\r\n    public FlowControlCache flowControlCache(RedisTemplate redisTemplate) {\r\n        return new FlowControlCache() {\r\n            @Override\r\n            public void save(String key, Integer value, Long time, TimeUnit timeUnit) {\r\n                redisTemplate.opsForValue().set(key, value, time, timeUnit);\r\n            }\r\n\r\n            @Override\r\n            public void save(String key, Integer value) {\r\n                redisTemplate.opsForValue().set(key, value);\r\n            }\r\n\r\n            @Override\r\n            public Integer get(String key) {\r\n                return (Integer) redisTemplate.opsForValue().get(key);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\nBut when I change `@ConditionalOnBean` to `@ConditionalOnMissingBean`, it works, and RedisTemplate is not null, like this:\r\n```\r\n@Configuration\r\n@ConditionalOnMissingBean(RedisTemplate.class)\r\npublic class FlowControlConfig {\r\n\r\n    @Bean\r\n    public FlowControlCache flowControlCache(RedisTemplate redisTemplate) {\r\n        return new FlowControlCache() {\r\n            @Override\r\n            public void save(String key, Integer value, Long time, TimeUnit timeUnit) {\r\n                redisTemplate.opsForValue().set(key, value, time, timeUnit);\r\n            }\r\n\r\n            @Override\r\n            public void save(String key, Integer value) {\r\n                redisTemplate.opsForValue().set(key, value);\r\n            }\r\n\r\n            @Override\r\n            public Integer get(String key) {\r\n                return (Integer) redisTemplate.opsForValue().get(key);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\nWhy is it that, it seems like `@ConditionalOnMissingBean` and `@ConditionalOnBean` are contrary?","title":"Why doesn&#39;t the @ConditionalOnBean(RedisTemplate.class) work?","body":"<p>I have a FlowControlConfig dependent on RedisTemplate. But <code>@ConditionalOnBean(RedisTemplate.class)</code> doesn't work, and FlowControlCache isn't an instance. I debugged my code and confirmed that RedisTemplate already been instance. This is my code</p>\n<pre><code>// RedisTemplate instance\n@Bean\n@SuppressWarnings(&quot;all&quot;)\npublic RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory) {\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(factory);\n    Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\n    jackson2JsonRedisSerializer.setObjectMapper(objectMapper);\n    StringRedisSerializer stringRedisSerializer = new StringRedisSerializer();\n    template.setKeySerializer(stringRedisSerializer);\n    template.setHashKeySerializer(stringRedisSerializer);\n    template.setValueSerializer(jackson2JsonRedisSerializer);\n    template.setHashValueSerializer(jackson2JsonRedisSerializer);\n    template.afterPropertiesSet();\n    return template;\n}\n</code></pre>\n<pre><code>@Configuration\n@ConditionalOnBean(RedisTemplate.class)\npublic class FlowControlConfig {\n\n    @Bean\n    public FlowControlCache flowControlCache(RedisTemplate redisTemplate) {\n        return new FlowControlCache() {\n            @Override\n            public void save(String key, Integer value, Long time, TimeUnit timeUnit) {\n                redisTemplate.opsForValue().set(key, value, time, timeUnit);\n            }\n\n            @Override\n            public void save(String key, Integer value) {\n                redisTemplate.opsForValue().set(key, value);\n            }\n\n            @Override\n            public Integer get(String key) {\n                return (Integer) redisTemplate.opsForValue().get(key);\n            }\n        };\n    }\n}\n</code></pre>\n<p>But when I change <code>@ConditionalOnBean</code> to <code>@ConditionalOnMissingBean</code>, it works, and RedisTemplate is not null, like this:</p>\n<pre><code>@Configuration\n@ConditionalOnMissingBean(RedisTemplate.class)\npublic class FlowControlConfig {\n\n    @Bean\n    public FlowControlCache flowControlCache(RedisTemplate redisTemplate) {\n        return new FlowControlCache() {\n            @Override\n            public void save(String key, Integer value, Long time, TimeUnit timeUnit) {\n                redisTemplate.opsForValue().set(key, value, time, timeUnit);\n            }\n\n            @Override\n            public void save(String key, Integer value) {\n                redisTemplate.opsForValue().set(key, value);\n            }\n\n            @Override\n            public Integer get(String key) {\n                return (Integer) redisTemplate.opsForValue().get(key);\n            }\n        };\n    }\n}\n</code></pre>\n<p>Why is it that, it seems like <code>@ConditionalOnMissingBean</code> and <code>@ConditionalOnBean</code> are contrary?</p>\n"},{"tags":["java","okhttp","overpass-api"],"answers":[{"tags":[],"owner":{"account_id":12657817,"reputation":620,"user_id":9199778,"display_name":"Amit Panasara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661315527,"creation_date":1537167656,"answer_id":52362341,"question_id":52342768,"body_markdown":"I solved my problem by setting the proxy setting for the request through OkHttp.\r\n\r\nSource : [https://stackoverflow.com/questions/35554380/okhttpclient-proxy-authentication-how-to][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35554380/okhttpclient-proxy-authentication-how-to","title":"java.net.ConnectException: Failed to connect to overpass-api.de/178.63.48.217:80","body":"<p>I solved my problem by setting the proxy setting for the request through OkHttp.</p>\n<p>Source : <a href=\"https://stackoverflow.com/questions/35554380/okhttpclient-proxy-authentication-how-to\">OkHTTPClient Proxy authentication how to?</a></p>\n"}],"owner":{"account_id":12657817,"reputation":620,"user_id":9199778,"display_name":"Amit Panasara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52362341,"answer_count":1,"score":0,"last_activity_date":1661315527,"creation_date":1536997754,"question_id":52342768,"body_markdown":"Friends !!! I am new to Java &amp; I have written my first following coding to get data thru Overpass API.\r\n\r\nProblem Statement\r\n========\r\nBut Overpass API server is not responding to Java_Servler_request (Hence Connection Timeout happens). \r\n\r\nMy Trials\r\n-----\r\n\r\n 1. I tried thru Chrome Manually &amp; I am receiving data. It means *Overpass Server* is working fine.\r\n 2. I tried to call localhost (instead of Overpass API), it is responding thru OkHttp3. It means *OkHttp3* is working fine. \r\n\r\n**Main code calling class**\r\n\r\n    URL=&quot;http://overpass-api.de/api/interpreter&quot;;\r\n    value =&quot;?data=way(around:100,22.36432,73.19266)[power~\\&quot;\\&quot;];(._;&gt;;);out;&quot;;\r\n    HttpCaller API =new HttpCaller();\r\n    response.getWriter().println(API.APIGet(URL+value));\r\n\r\n**Class Calling Overpass API**\r\n\r\n    import java.io.IOException;\r\n    import java.util.concurrent.TimeUnit;\r\n    import okhttp3.OkHttpClient;\r\n    import okhttp3.Request;\r\n    import okhttp3.Response;\r\n\r\n    public class HttpCaller\r\n    {\r\n    \tOkHttpClient client;\r\n    \tString rspns;\r\n    \r\n    \tpublic HttpCaller()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tclient = new OkHttpClient();\r\n    \t\t\tOkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n    \t\t\tbuilder.connectTimeout(30, TimeUnit.SECONDS); \r\n    \t\t\tbuilder.readTimeout(30, TimeUnit.SECONDS); \r\n    \t\t\tbuilder.writeTimeout(30, TimeUnit.SECONDS); \r\n    \t\t\tclient = builder.build();\r\n    \t\t}\r\n    \t\tcatch (Exception e) {e.printStackTrace();System.out.println(e);}\r\n    \t}\r\n    \r\n    \tpublic String APIGet(String url) throws IOException\r\n    \t{\t\t\r\n    \t\tRequest request = new Request.Builder()\r\n    \t\t\t.url(url)\r\n    \t\t\t.build();\r\n    \t\tSystem.out.println(request.url());\r\n    \t\t\r\n    \t\ttry \r\n    \t\t{ \r\n    \t\t\tResponse response = null;\r\n    \t\t\tSystem.out.println(&quot;new Call...&quot;);\r\n    \t\t\tresponse = client.newCall(request).execute();\r\n    \t\t\tSystem.out.println(response.code());\r\n    \t\t\trspns =  response.body().string(); \r\n    \t\t} catch (Exception e) {e.printStackTrace();System.out.println(&quot;Exception is &quot;+e);} \r\n    \t\t\r\n    \t\treturn rspns;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n**Result thrown**\r\n\r\n    http://overpass-api.de/api/interpreter?data=way(around:100,22.36432,73.19266)[power~%22%22];(._;%3E;);out;\r\n    new Call...\r\n    java.net.ConnectException: Failed to connect to overpass-api.de/178.63.48.217:80\r\n    \tat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:247)\r\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:165)\r\n    \tat okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\r\n    \tat okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\r\n    \tat okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\r\n    \tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)Exception is java.net.ConnectException: Failed to connect to overpass-api.de/178.63.48.217:80\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n    \tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n    \tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n    \tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n    \tat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\r\n    \tat okhttp3.RealCall.execute(RealCall.java:77)\r\n\r\n**Testing URL on Chrome**\r\n[My Desktop Snap][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4YOK0.jpg","title":"java.net.ConnectException: Failed to connect to overpass-api.de/178.63.48.217:80","body":"<p>Friends !!! I am new to Java &amp; I have written my first following coding to get data thru Overpass API.</p>\n\n<h1>Problem Statement</h1>\n\n<p>But Overpass API server is not responding to Java_Servler_request (Hence Connection Timeout happens). </p>\n\n<h2>My Trials</h2>\n\n<ol>\n<li>I tried thru Chrome Manually &amp; I am receiving data. It means <em>Overpass Server</em> is working fine.</li>\n<li>I tried to call localhost (instead of Overpass API), it is responding thru OkHttp3. It means <em>OkHttp3</em> is working fine. </li>\n</ol>\n\n<p><strong>Main code calling class</strong></p>\n\n<pre><code>URL=\"http://overpass-api.de/api/interpreter\";\nvalue =\"?data=way(around:100,22.36432,73.19266)[power~\\\"\\\"];(._;&gt;;);out;\";\nHttpCaller API =new HttpCaller();\nresponse.getWriter().println(API.APIGet(URL+value));\n</code></pre>\n\n<p><strong>Class Calling Overpass API</strong></p>\n\n<pre><code>import java.io.IOException;\nimport java.util.concurrent.TimeUnit;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\npublic class HttpCaller\n{\n    OkHttpClient client;\n    String rspns;\n\n    public HttpCaller()\n    {\n        try\n        {\n            client = new OkHttpClient();\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\n            builder.connectTimeout(30, TimeUnit.SECONDS); \n            builder.readTimeout(30, TimeUnit.SECONDS); \n            builder.writeTimeout(30, TimeUnit.SECONDS); \n            client = builder.build();\n        }\n        catch (Exception e) {e.printStackTrace();System.out.println(e);}\n    }\n\n    public String APIGet(String url) throws IOException\n    {       \n        Request request = new Request.Builder()\n            .url(url)\n            .build();\n        System.out.println(request.url());\n\n        try \n        { \n            Response response = null;\n            System.out.println(\"new Call...\");\n            response = client.newCall(request).execute();\n            System.out.println(response.code());\n            rspns =  response.body().string(); \n        } catch (Exception e) {e.printStackTrace();System.out.println(\"Exception is \"+e);} \n\n        return rspns;\n    }\n}\n</code></pre>\n\n<p><strong>Result thrown</strong></p>\n\n<pre><code>http://overpass-api.de/api/interpreter?data=way(around:100,22.36432,73.19266)[power~%22%22];(._;%3E;);out;\nnew Call...\njava.net.ConnectException: Failed to connect to overpass-api.de/178.63.48.217:80\n    at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:247)\nat okhttp3.internal.connection.RealConnection.connect(RealConnection.java:165)\n    at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\n    at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n    at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)Exception is java.net.ConnectException: Failed to connect to overpass-api.de/178.63.48.217:80\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\n    at okhttp3.RealCall.execute(RealCall.java:77)\n</code></pre>\n\n<p><strong>Testing URL on Chrome</strong>\n<a href=\"https://i.stack.imgur.com/4YOK0.jpg\" rel=\"nofollow noreferrer\">My Desktop Snap</a></p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"display_name":"user14800266"},"score":0,"creation_date":1611214856,"post_id":65821231,"comment_id":116379614,"body_markdown":"my only concern is this *Caused by: java.lang.NoClassDefFoundError: org/gradle/internal/impldep/com/google/common/collect/Lists* @MartinZeitler","body":"my only concern is this <i>Caused by: java.lang.NoClassDefFoundError: org/gradle/internal/impldep/com/google/common/collect/Lists</i> @MartinZeitler"},{"owner":{"display_name":"user13146129"},"score":0,"creation_date":1611214877,"post_id":65821231,"comment_id":116379621,"body_markdown":"@Josh [Check the question](https://stackoverflow.com/questions/33287822/gradle-error-package-com-google-common-collect-does-not-exist). You might find your answer here.","body":"@Josh <a href=\"https://stackoverflow.com/questions/33287822/gradle-error-package-com-google-common-collect-does-not-exist\">Check the question</a>. You might find your answer here."},{"owner":{"display_name":"user14800266"},"score":0,"creation_date":1611215528,"post_id":65821231,"comment_id":116379879,"body_markdown":"@Istiak I&#39;ve tried to add this *implementation &#39;com.google.guava:guava:23.0&#39;* in my dependencies but the error still exist","body":"@Istiak I&#39;ve tried to add this <i>implementation &#39;com.google.guava:guava:23.0&#39;</i> in my dependencies but the error still exist"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1611215775,"post_id":65821231,"comment_id":116379982,"body_markdown":"Is it really that had to understand that this is a Gradle issue and not a Java issue? If any dependencies would matter than it would be the `buildscript.dependencies` ...or it may be some corrupted Gradle plugin. That would at least explain why none of these approaches could ever make a difference.","body":"Is it really that had to understand that this is a Gradle issue and not a Java issue? If any dependencies would matter than it would be the <code>buildscript.dependencies</code> ...or it may be some corrupted Gradle plugin. That would at least explain why none of these approaches could ever make a difference."},{"owner":{"display_name":"user14800266"},"score":0,"creation_date":1611216271,"post_id":65821231,"comment_id":116380142,"body_markdown":"@MartinZeitler please check my updated question,","body":"@MartinZeitler please check my updated question,"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1611216681,"post_id":65821231,"comment_id":116380300,"body_markdown":"Try updating / re-downloading that `guava` plugin and rebuild those local repositories. Or try to &quot;invalidate caches and restart&quot;... maybe even manually delete all cache directories. I&#39;m almost certain it has something to do with that (depending where this broken dependency comes from). I mean, I can&#39;t really reproduce the issue and am in a hurry ...","body":"Try updating / re-downloading that <code>guava</code> plugin and rebuild those local repositories. Or try to &quot;invalidate caches and restart&quot;... maybe even manually delete all cache directories. I&#39;m almost certain it has something to do with that (depending where this broken dependency comes from). I mean, I can&#39;t really reproduce the issue and am in a hurry ..."}],"answers":[{"tags":[],"owner":{"account_id":20669496,"reputation":1,"user_id":15175571,"display_name":"John Simpson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612870694,"creation_date":1612870348,"answer_id":66118183,"question_id":65821231,"body_markdown":"Same issue for me. Android Studio completely buggered. Invalidate/reinstall/new project. Still buggered. Deleted .gradle directory (Linux). That fixed it. No idea of the initiating event. Filed a bug.","title":"Unable to load class &#39;org.gradle.internal.impldep.com.google.common.collect.Lists&#39;","body":"<p>Same issue for me. Android Studio completely buggered. Invalidate/reinstall/new project. Still buggered. Deleted .gradle directory (Linux). That fixed it. No idea of the initiating event. Filed a bug.</p>\n"}],"owner":{"display_name":"user14800266"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4674,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1661315177,"creation_date":1611203517,"question_id":65821231,"body_markdown":"I have imported project in my Android Studio and I encounter this error, \r\n\r\n - Caused by: java.lang.NoClassDefFoundError:\r\n   org/gradle/internal/impldep/com/google/common/collect/Lists\r\n - Caused by: java.lang.ClassNotFoundException:\r\n   org.gradle.internal.impldep.com.google.common.collect.Lists\r\n\r\n\r\n\r\n\r\nthis is my `dependencies`\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        //noinspection GradleDynamicVersion\r\n        implementation &#39;com.facebook.react:react-native:0.20.1&#39;  // From node_modules\r\n    \r\n    implementation &#39;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&#39;\r\n    \r\n    implementation(&quot;com.google.guava:guava:30.1-jre&quot;)\r\n    \r\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n      exclude group:&#39;com.facebook.fbjni&#39;\r\n    }\r\n    \r\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n    }\r\n    \r\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n    }\r\n    \r\n    if (enableHermes) {\r\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\r\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n    \r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/utuES.png\r\n\r\nI already saw this question https://stackoverflow.com/questions/38007629/no-class-found-com-google-common-collect-lists but when i tried to add the https://github.com/google/guava the error still exist\r\n\r\n\r\n    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;28.0.3&quot;\r\n            minSdkVersion = 16\r\n            compileSdkVersion = 28\r\n            targetSdkVersion = 28\r\n        }\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath(&quot;com.android.tools.build:gradle:3.5.2&quot;)\r\n            compile &quot;com.google.guava:guava:16+&quot;\r\n            compile  &quot;junit:junit:4.10&quot;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n    \r\n            mavenLocal()\r\n            maven {\r\n                // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n                url(&quot;$rootDir/../node_modules/react-native/android&quot;)\r\n            }\r\n            maven {\r\n                // Android JSC is installed from npm\r\n                url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n            }\r\n    \r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://www.jitpack.io&#39; }\r\n        }\r\n    }","title":"Unable to load class &#39;org.gradle.internal.impldep.com.google.common.collect.Lists&#39;","body":"<p>I have imported project in my Android Studio and I encounter this error,</p>\n<ul>\n<li>Caused by: java.lang.NoClassDefFoundError:\norg/gradle/internal/impldep/com/google/common/collect/Lists</li>\n<li>Caused by: java.lang.ClassNotFoundException:\norg.gradle.internal.impldep.com.google.common.collect.Lists</li>\n</ul>\n<p>this is my <code>dependencies</code></p>\n<pre><code>dependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    //noinspection GradleDynamicVersion\n    implementation 'com.facebook.react:react-native:0.20.1'  // From node_modules\n\nimplementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'\n\nimplementation(&quot;com.google.guava:guava:30.1-jre&quot;)\n\ndebugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n  exclude group:'com.facebook.fbjni'\n}\n\ndebugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n    exclude group:'com.facebook.flipper'\n}\n\ndebugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\n    exclude group:'com.facebook.flipper'\n}\n\nif (enableHermes) {\n    def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\n    debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\n    releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\n} else {\n    implementation jscFlavor\n}\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/utuES.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/utuES.png\" alt=\"enter image description here\" /></a></p>\n<p>I already saw this question <a href=\"https://stackoverflow.com/questions/38007629/no-class-found-com-google-common-collect-lists\">No Class Found: com.google.common.collect.Lists</a> but when i tried to add the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">https://github.com/google/guava</a> the error still exist</p>\n<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;28.0.3&quot;\n        minSdkVersion = 16\n        compileSdkVersion = 28\n        targetSdkVersion = 28\n    }\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath(&quot;com.android.tools.build:gradle:3.5.2&quot;)\n        compile &quot;com.google.guava:guava:16+&quot;\n        compile  &quot;junit:junit:4.10&quot;\n    }\n}\n\nallprojects {\n    repositories {\n\n        mavenLocal()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n        }\n\n        google()\n        jcenter()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n</code></pre>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":3,"creation_date":1415610646,"post_id":26840077,"comment_id":42244697,"body_markdown":"I don&#39;t think this is a question about a concrete, answerable issue, and instead is one that invites personal opinion and conjecture.  So it would probably be better suited to a forum than Stack Overflow.","body":"I don&#39;t think this is a question about a concrete, answerable issue, and instead is one that invites personal opinion and conjecture.  So it would probably be better suited to a forum than Stack Overflow."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1415610759,"post_id":26840077,"comment_id":42244767,"body_markdown":"I just can guess but I assume that part of it is a license/patenting issue - azul wants to make some money anyways. Besides that, from their raw throughput experients in the whitepapers it seems as if there&#39;s no speed benefit for larger applications and on smaller ones the occasional hiccup due to stop-the-world collection most probably doesn&#39;t matter that much.","body":"I just can guess but I assume that part of it is a license/patenting issue - azul wants to make some money anyways. Besides that, from their raw throughput experients in the whitepapers it seems as if there&#39;s no speed benefit for larger applications and on smaller ones the occasional hiccup due to stop-the-world collection most probably doesn&#39;t matter that much."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1415777540,"post_id":26840077,"comment_id":42318844,"body_markdown":"This question appears to be off-topic because it is just asking why something hasn&#39;t been invented yet. No actual answer is possible.","body":"This question appears to be off-topic because it is just asking why something hasn&#39;t been invented yet. No actual answer is possible."},{"owner":{"account_id":61660,"reputation":4173,"user_id":183662,"accept_rate":73,"display_name":"Pepijn"},"score":0,"creation_date":1415897358,"post_id":26840077,"comment_id":42377256,"body_markdown":"Well, IMO there is a technical and objective answer: Is there anything that prevents people from implementing a pauseless GC?","body":"Well, IMO there is a technical and objective answer: Is there anything that prevents people from implementing a pauseless GC?"},{"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"score":0,"creation_date":1443017000,"post_id":26840077,"comment_id":53324243,"body_markdown":"@Pepijn, agreed, this is question is more about why people hate pauses but don&#39;t create pauseless JVMs except Azul&#39;s, so it does invite technical discussions.","body":"@Pepijn, agreed, this is question is more about why people hate pauses but don&#39;t create pauseless JVMs except Azul&#39;s, so it does invite technical discussions."},{"owner":{"account_id":22965,"reputation":51428,"user_id":57159,"accept_rate":89,"display_name":"Ian Ringrose"},"score":0,"creation_date":1553622529,"post_id":26840077,"comment_id":97450648,"body_markdown":"Partly Azul&#39;s C4 puts a lot of work onto other CPU cores, hence it trades of the needs for additional cores to get very low (and dependable) latency from the application.","body":"Partly Azul&#39;s C4 puts a lot of work onto other CPU cores, hence it trades of the needs for additional cores to get very low (and dependable) latency from the application."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1415610798,"creation_date":1415610798,"answer_id":26840223,"question_id":26840077,"body_markdown":"Based on [the Azul whitepaper on C4](http://www.azulsystems.com/sites/default/files/images/c4_paper_acm.pdf), it looks like C4 is a very new technology, an implementation of an algorithm published in 2005, first on custom hardware and then ported specifically to Linux on x86, and the JVM implementation sits very close to the kernel VM system.\r\n\r\nSince OpenJDK/HotSpot is widely used on a number of platforms and in major production workloads, it tends to move more slowly when adopting major innovations in algorithms (the switch to TimSort is a good example). The Java 8 versions introduced the first major overhaul of the GC system in years (with the elimination of the PermGen), and improvements such as C4, if practical to be ported cross-platform or abstracted without significant downside to JVM bookkeeping internals, are likely to be tried out and then adopted into OpenJDK/HotSpot in upcoming versions.","title":"Why aren&#39;t there more pauseless GC&#39;s","body":"<p>Based on <a href=\"http://www.azulsystems.com/sites/default/files/images/c4_paper_acm.pdf\">the Azul whitepaper on C4</a>, it looks like C4 is a very new technology, an implementation of an algorithm published in 2005, first on custom hardware and then ported specifically to Linux on x86, and the JVM implementation sits very close to the kernel VM system.</p>\n\n<p>Since OpenJDK/HotSpot is widely used on a number of platforms and in major production workloads, it tends to move more slowly when adopting major innovations in algorithms (the switch to TimSort is a good example). The Java 8 versions introduced the first major overhaul of the GC system in years (with the elimination of the PermGen), and improvements such as C4, if practical to be ported cross-platform or abstracted without significant downside to JVM bookkeeping internals, are likely to be tried out and then adopted into OpenJDK/HotSpot in upcoming versions.</p>\n"},{"tags":[],"owner":{"account_id":129088,"reputation":1216,"user_id":327409,"accept_rate":62,"display_name":"Joshua Hartman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1422381776,"creation_date":1422381776,"answer_id":28177044,"question_id":26840077,"body_markdown":"Implementing garbage collectors is quite tricky and there are not many applications that truly justify a pauseless collector. As you mentioned, read/write barriers to impose a pretty high overhead that you only want to pay if you absolutely need low latency and are willing to take a hit on throughput.\r\n\r\nThat said, a low-pause GC called Shenandoah is being implemented in this JEP: http://openjdk.java.net/jeps/189 . As a Java programmer, I&#39;m hopeful that it will be available in a few years.","title":"Why aren&#39;t there more pauseless GC&#39;s","body":"<p>Implementing garbage collectors is quite tricky and there are not many applications that truly justify a pauseless collector. As you mentioned, read/write barriers to impose a pretty high overhead that you only want to pay if you absolutely need low latency and are willing to take a hit on throughput.</p>\n\n<p>That said, a low-pause GC called Shenandoah is being implemented in this JEP: <a href=\"http://openjdk.java.net/jeps/189\" rel=\"noreferrer\">http://openjdk.java.net/jeps/189</a> . As a Java programmer, I'm hopeful that it will be available in a few years.</p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661315038,"creation_date":1536742420,"answer_id":52291194,"question_id":26840077,"body_markdown":"ZGC\r\n---\r\n\r\nStarting from Java 11, there is a new [Z Garbage Collector][1] (ZGC) available for Linux/x64 JDK (Windows/macOS since Java 14):\r\n\r\n&gt; The Z Garbage Collector, also known as ZGC, is a scalable low latency garbage collector designed to meet the following goals:\r\n&gt;\r\n&gt; * Pause times do not exceed 10ms\r\n&gt; * Pause times do not increase with the heap or live-set size\r\n&gt; * Handle heaps ranging from a few hundred megabytes to multi terabytes in size\r\n\r\nYou can enable ZGC by specifying the following JVM arguments:\r\n\r\n    -XX:+UnlockExperimentalVMOptions -XX:+UseZGC\r\n\r\n(For Java 15+, `-XX:+UnlockExperimentalVMOptions` is [unnecessary](https://openjdk.org/jeps/377))\r\n\r\n\r\n----------\r\n\r\n\r\nShenandoah GC\r\n-------------\r\nAlso, since Java 12, there is [Shenandoah GC][2] available for all platforms. ShenandoahGC has similar characteristics as ZGC but its implementation is different.\r\n\r\n    -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC\r\n\r\n(For Java 15+, `-XX:+UnlockExperimentalVMOptions` is [unnecessary](https://openjdk.org/jeps/379))\r\n\r\nShenandoah GC was also [backported](https://wiki.openjdk.org/display/shenandoah/Main) to Java 11 (11.0.9) and Java 8 (only RedHat builds of JDK 8 include Shenandoah).\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/333\r\n  [2]: https://openjdk.org/jeps/189","title":"Why aren&#39;t there more pauseless GC&#39;s","body":"<h2>ZGC</h2>\n<p>Starting from Java 11, there is a new <a href=\"https://openjdk.org/jeps/333\" rel=\"nofollow noreferrer\">Z Garbage Collector</a> (ZGC) available for Linux/x64 JDK (Windows/macOS since Java 14):</p>\n<blockquote>\n<p>The Z Garbage Collector, also known as ZGC, is a scalable low latency garbage collector designed to meet the following goals:</p>\n<ul>\n<li>Pause times do not exceed 10ms</li>\n<li>Pause times do not increase with the heap or live-set size</li>\n<li>Handle heaps ranging from a few hundred megabytes to multi terabytes in size</li>\n</ul>\n</blockquote>\n<p>You can enable ZGC by specifying the following JVM arguments:</p>\n<pre><code>-XX:+UnlockExperimentalVMOptions -XX:+UseZGC\n</code></pre>\n<p>(For Java 15+, <code>-XX:+UnlockExperimentalVMOptions</code> is <a href=\"https://openjdk.org/jeps/377\" rel=\"nofollow noreferrer\">unnecessary</a>)</p>\n<hr />\n<h2>Shenandoah GC</h2>\n<p>Also, since Java 12, there is <a href=\"https://openjdk.org/jeps/189\" rel=\"nofollow noreferrer\">Shenandoah GC</a> available for all platforms. ShenandoahGC has similar characteristics as ZGC but its implementation is different.</p>\n<pre><code>-XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC\n</code></pre>\n<p>(For Java 15+, <code>-XX:+UnlockExperimentalVMOptions</code> is <a href=\"https://openjdk.org/jeps/379\" rel=\"nofollow noreferrer\">unnecessary</a>)</p>\n<p>Shenandoah GC was also <a href=\"https://wiki.openjdk.org/display/shenandoah/Main\" rel=\"nofollow noreferrer\">backported</a> to Java 11 (11.0.9) and Java 8 (only RedHat builds of JDK 8 include Shenandoah).</p>\n"},{"tags":[],"owner":{"account_id":9722,"reputation":3194,"user_id":18078,"accept_rate":0,"display_name":"David Leppik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585589559,"creation_date":1585589559,"answer_id":60936154,"question_id":26840077,"body_markdown":"Zing&#39;s patented C4 garbage collector was first described [in 2005][1], and OpenJDK waited until 2018 to add [the pauseless ZGC garbage collector][2]. Patents in the US last 20 years from first filing, and Sun/Oracle spent a huge amount of effort on various garbage collectors in the meantime. It&#39;s pretty clear that this was a patent issue.\r\n\r\nBased on having used both Zing and G1 early on, and having read about the tradeoffs of Shenandoah and others, I suspect that ZGC will become the default once Oracle feels it is sufficiently mature.\r\n\r\n  [1]: https://www.azul.com/resources/azul-technology/azul-c4-garbage-collector/\r\n  [2]: https://openjdk.java.net/jeps/333","title":"Why aren&#39;t there more pauseless GC&#39;s","body":"<p>Zing's patented C4 garbage collector was first described <a href=\"https://www.azul.com/resources/azul-technology/azul-c4-garbage-collector/\" rel=\"nofollow noreferrer\">in 2005</a>, and OpenJDK waited until 2018 to add <a href=\"https://openjdk.java.net/jeps/333\" rel=\"nofollow noreferrer\">the pauseless ZGC garbage collector</a>. Patents in the US last 20 years from first filing, and Sun/Oracle spent a huge amount of effort on various garbage collectors in the meantime. It's pretty clear that this was a patent issue.</p>\n\n<p>Based on having used both Zing and G1 early on, and having read about the tradeoffs of Shenandoah and others, I suspect that ZGC will become the default once Oracle feels it is sufficiently mature.</p>\n"}],"owner":{"account_id":61660,"reputation":4173,"user_id":183662,"accept_rate":73,"display_name":"Pepijn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3895,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":52291194,"answer_count":4,"score":18,"last_activity_date":1661315038,"creation_date":1415610270,"question_id":26840077,"body_markdown":"All the GC&#39;s I know except Azul are somewhat concurrent, but have at least some small stop-the-world component. Why aren&#39;t there more GC&#39;s like Azul?\r\n\r\nDid Azul patent their technology to the extent that it&#39;s not possible to do?\r\n\r\nOr do the read/write barriers needed for pauseless operation incur so much overhead that they are impractical for most workloads?","title":"Why aren&#39;t there more pauseless GC&#39;s","body":"<p>All the GC's I know except Azul are somewhat concurrent, but have at least some small stop-the-world component. Why aren't there more GC's like Azul?</p>\n\n<p>Did Azul patent their technology to the extent that it's not possible to do?</p>\n\n<p>Or do the read/write barriers needed for pauseless operation incur so much overhead that they are impractical for most workloads?</p>\n"},{"tags":["java","intellij-idea","code-coverage","jacoco"],"comments":[{"owner":{"account_id":3698489,"reputation":10431,"user_id":3079042,"display_name":"kukido"},"score":0,"creation_date":1390966763,"post_id":21420621,"comment_id":32317161,"body_markdown":"Which edition of IntelliJ are you using? Coverage report is available in Ultimate edition only.","body":"Which edition of IntelliJ are you using? Coverage report is available in Ultimate edition only."},{"owner":{"account_id":493156,"reputation":5376,"user_id":1343096,"accept_rate":70,"display_name":"tibo"},"score":0,"creation_date":1391061651,"post_id":21420621,"comment_id":32366252,"body_markdown":"I do ultimate and I have found the solution. Thanks!","body":"I do ultimate and I have found the solution. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":493156,"reputation":5376,"user_id":1343096,"accept_rate":70,"display_name":"tibo"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1661314985,"creation_date":1391061808,"answer_id":21449008,"question_id":21420621,"body_markdown":"Found the solution.\r\nI have installed the coverage plugin and the EclEmma plugin (not sure if this one is really necessary...).\r\nThen &quot;Run -&gt; Show Coverage Data...&quot; and pick your Jacoco output file. This file HAS to have the .exec extension, otherwise you can&#39;t select it. That was my problem...\r\n\r\nThanks","title":"Open JaCoCo report in Intellij IDEA","body":"<p>Found the solution.\nI have installed the coverage plugin and the EclEmma plugin (not sure if this one is really necessary...).\nThen &quot;Run -&gt; Show Coverage Data...&quot; and pick your Jacoco output file. This file HAS to have the .exec extension, otherwise you can't select it. That was my problem...</p>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":4011368,"reputation":269,"user_id":3304632,"display_name":"Shakti Garg"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1505813791,"creation_date":1505813791,"answer_id":46296913,"question_id":21420621,"body_markdown":"&quot;intellij idea&quot; seems to have no way of showing correct coverage value of jacoco report created. It is indeed misleading and unfair when it shows coverage as 0.0 instead of giving an unsupported format error.\r\n\r\nHowever, as an alternative, we can push jacoco report (created as part of maven build) to the sonar(qube) server using maven-sonar-plugin&#39;s target, sonar:sonar\r\n\r\nmvn clean install sonar:sonar -Dsonar.host.url=http://:9000 -Dsonar.projectKey= -Dsonar.branch= -Dsonar.login= -Dsonar.password=\r\n\r\nsonar.projectKey and sonar.branch properties value can be retrieved from corresponding project created in sonarqube.","title":"Open JaCoCo report in Intellij IDEA","body":"<p>\"intellij idea\" seems to have no way of showing correct coverage value of jacoco report created. It is indeed misleading and unfair when it shows coverage as 0.0 instead of giving an unsupported format error.</p>\n\n<p>However, as an alternative, we can push jacoco report (created as part of maven build) to the sonar(qube) server using maven-sonar-plugin's target, sonar:sonar</p>\n\n<p>mvn clean install sonar:sonar -Dsonar.host.url=<a href=\"http://:9000\" rel=\"nofollow noreferrer\">http://:9000</a> -Dsonar.projectKey= -Dsonar.branch= -Dsonar.login= -Dsonar.password=</p>\n\n<p>sonar.projectKey and sonar.branch properties value can be retrieved from corresponding project created in sonarqube.</p>\n"},{"tags":[],"owner":{"account_id":17649273,"reputation":179,"user_id":12810031,"display_name":"Jonathan Hassel"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1614590515,"creation_date":1614590515,"answer_id":66419455,"question_id":21420621,"body_markdown":"For everyone being stuck (like me) trying to find the **Show Coverage Data...** action. It&#39;s been relocated to the **Run** section.\r\n\r\nAs you can read in [the official documentation][1] (Version 2020.3), the action can be reached by using the quick search, the various keymaps or by navigating to ***Run &gt; Show Coverage Data...***.\r\n\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/viewing-code-coverage-results.html#coverage-tool-window","title":"Open JaCoCo report in Intellij IDEA","body":"<p>For everyone being stuck (like me) trying to find the <strong>Show Coverage Data...</strong> action. It's been relocated to the <strong>Run</strong> section.</p>\n<p>As you can read in <a href=\"https://www.jetbrains.com/help/idea/viewing-code-coverage-results.html#coverage-tool-window\" rel=\"noreferrer\">the official documentation</a> (Version 2020.3), the action can be reached by using the quick search, the various keymaps or by navigating to <em><strong>Run &gt; Show Coverage Data...</strong></em>.</p>\n"}],"owner":{"account_id":493156,"reputation":5376,"user_id":1343096,"accept_rate":70,"display_name":"tibo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41249,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":21449008,"answer_count":3,"score":41,"last_activity_date":1661314985,"creation_date":1390960513,"question_id":21420621,"body_markdown":"I am trying to find dead code on our application by using a code coverage tool (rather a static code analysis tool). I have chosen JaCoCo and am able to get a report thanks to the JaCoCo agent.\r\n\r\nI know that Intellij IDEA works with JaCoCo but I couldn&#39;t find anyway to import my JaCoCo report into Intellij IDEA.\r\nAny idea on how to do that?\r\n\r\nThanks","title":"Open JaCoCo report in Intellij IDEA","body":"<p>I am trying to find dead code on our application by using a code coverage tool (rather a static code analysis tool). I have chosen JaCoCo and am able to get a report thanks to the JaCoCo agent.</p>\n\n<p>I know that Intellij IDEA works with JaCoCo but I couldn't find anyway to import my JaCoCo report into Intellij IDEA.\nAny idea on how to do that?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661314493,"creation_date":1661314493,"answer_id":73467360,"question_id":73464611,"body_markdown":"Google is actively disallowing call recording by 3rd-party apps. [Here&#39;s][1] a good write-up for it, but the short answer is that you simply can&#39;t record calls any longer\r\n\r\n\r\n  [1]: https://www.androidauthority.com/google-killing-call-recording-apps-3155610/","title":"Calling Recording Above Android 10","body":"<p>Google is actively disallowing call recording by 3rd-party apps. <a href=\"https://www.androidauthority.com/google-killing-call-recording-apps-3155610/\" rel=\"nofollow noreferrer\">Here's</a> a good write-up for it, but the short answer is that you simply can't record calls any longer</p>\n"}],"owner":{"account_id":16371484,"reputation":463,"user_id":11824674,"display_name":"Muhammad Sabeel Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661314493,"creation_date":1661285656,"question_id":73464611,"body_markdown":"I want to implement Call Recording for one of my client application but above Android 10 I am unable to do is successfully. here is my code classes. Your suggestions will be highly appreciated.\r\n\r\nI know due to security reasons Google stopped working around Call Recording above Android 10(Q), But I needs this feature for CRM application.\r\n\r\nThis is my Receiver Class\r\n```\r\npublic abstract class PhonecallReceiver extends BroadcastReceiver {\r\n\r\n    // The receiver will be recreated whenever android feels like it.\r\n    // We need a static variable to remember data between instantiations\r\n\r\n    private static int lastState = TelephonyManager.CALL_STATE_IDLE;\r\n    private static Date callStartTime;\r\n    private static boolean isIncoming;\r\n    private static String savedNumber; // because the passed incoming is only valid in ringing\r\n\r\n    @Override\r\n    public void onReceive(final Context context, Intent intent) {\r\n\r\n        // We listen to two intents. The new outgoing call only tells us of an outgoing call.\r\n        // We use it to get the number.\r\n        if (intent.getAction().equals(&quot;android.intent.action.NEW_OUTGOING_CALL&quot;)) {\r\n            savedNumber = intent.getExtras().getString(&quot;android.intent.extra.PHONE_NUMBER&quot;);\r\n        } else {\r\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.P) {\r\n                String stateStr = intent.getExtras().getString(TelephonyManager.EXTRA_STATE);\r\n                String number = intent.getExtras().getString(TelephonyManager.EXTRA_INCOMING_NUMBER);\r\n                int state = 0;\r\n                if (stateStr.equals(TelephonyManager.EXTRA_STATE_IDLE)) {\r\n                    state = TelephonyManager.CALL_STATE_IDLE;\r\n                } else if (stateStr.equals(TelephonyManager.EXTRA_STATE_OFFHOOK)) {\r\n                    state = TelephonyManager.CALL_STATE_OFFHOOK;\r\n                } else if (stateStr.equals(TelephonyManager.EXTRA_STATE_RINGING)) {\r\n                    state = TelephonyManager.CALL_STATE_RINGING;\r\n                }\r\n                onCustomCallStateChanged(context, state, number);\r\n            } else {\r\n                // Android 9+\r\n                TelephonyManager telephony = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n                telephony.listen(new PhoneStateListener() {\r\n                    @Override\r\n                    public void onCallStateChanged(int state, String number) {\r\n                        onCustomCallStateChanged(context, state, number);\r\n                    }\r\n                }, PhoneStateListener.LISTEN_CALL_STATE);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Derived classes should override these to respond to specific events of interest\r\n    protected abstract void onIncomingCallStarted(Context ctx, String number, Date start);\r\n    protected abstract void onOutgoingCallStarted(Context ctx, String number, Date start);\r\n    protected abstract void onIncomingCallEnded(Context ctx, String number, Date start, Date end);\r\n    protected abstract void onOutgoingCallEnded(Context ctx, String number, Date start, Date end);\r\n    protected abstract void onMissedCall(Context ctx, String number, Date missed);\r\n\r\n    // Deals with actual events\r\n\r\n    // Incoming call - goes from IDLE to RINGING when it rings, to OFFHOOK when it&#39;s answered, to IDLE when its hung up\r\n    // Outgoing call - goes from IDLE to OFFHOOK when it dials out, to IDLE when hung up\r\n    public void onCustomCallStateChanged(Context context, int state, String number) {\r\n        if (lastState == state) {\r\n            // No change, debounce extras\r\n            return;\r\n        }\r\n        switch (state) {\r\n            case TelephonyManager.CALL_STATE_RINGING:\r\n                isIncoming = true;\r\n                callStartTime = new Date();\r\n                savedNumber = number;\r\n                onIncomingCallStarted(context, number, callStartTime);\r\n                break;\r\n            case TelephonyManager.CALL_STATE_OFFHOOK:\r\n                // Transition of ringing-&gt;offhook are pickups of incoming calls. Nothing done on them\r\n                if (lastState != TelephonyManager.CALL_STATE_RINGING) {\r\n                    isIncoming = false;\r\n                    callStartTime = new Date();\r\n                    onOutgoingCallStarted(context, savedNumber, callStartTime);\r\n                }\r\n                break;\r\n            case TelephonyManager.CALL_STATE_IDLE:\r\n                // Went to idle - this is the end of a call.  What type depends on previous state(s)\r\n                if (lastState == TelephonyManager.CALL_STATE_RINGING) {\r\n                    // Ring but no pickup - a miss\r\n                    onMissedCall(context, savedNumber, callStartTime);\r\n                } else if (isIncoming) {\r\n                    onIncomingCallEnded(context, savedNumber, callStartTime, new Date());\r\n                } else{\r\n                    onOutgoingCallEnded(context, savedNumber, callStartTime, new Date());\r\n                }\r\n                break;\r\n        }\r\n        lastState = state;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is my service that will work in background to record Audio Calls.\r\n```\r\nclass CallRecorderNew : Service(), onCallingListner {\r\n    private lateinit var recorder: MediaRecorder\r\n    private var recordStarted = false\r\n    private var savedNumber: String? = null\r\n    private var lastState = TelephonyManager.CALL_STATE_IDLE\r\n    private var isIncoming = false\r\n    var fileName //Obtained by intent\r\n            : String? = null\r\n    var audiouri: Uri? = null\r\n    var file: ParcelFileDescriptor? = null\r\n    private val CHANNEL_ID = &quot;NOTIFICATION_CHANNEL&quot;\r\n    private lateinit var callReceiver: CallReceiver\r\n    private var viewmodal: ViewModal? = null\r\n    override fun onBind(arg0: Intent): IBinder? {\r\n        // TODO Auto-generated method stub\r\n        return null\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        this.unregisterReceiver(callReceiver)\r\n    }\r\n\r\n    override fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\r\n        val intentFilter = IntentFilter()\r\n        intentFilter.addAction(ACTION_IN)\r\n        intentFilter.addAction(ACTION_OUT)\r\n        callReceiver = CallReceiver(this)\r\n        this.registerReceiver(callReceiver, intentFilter)\r\n        val notificationIntent = Intent(this, MainActivity::class.java)\r\n        val pendingIntent = PendingIntent.getActivity(\r\n            this,\r\n            0, notificationIntent,\r\n            PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_MUTABLE\r\n        )\r\n        val notification = NotificationCompat.Builder(this, CHANNEL_ID)\r\n            .setContentTitle(R.string.app_name.toString() + &quot; is running&quot;)\r\n            .setContentText(&quot;Please don not use battery optimizations&quot;)\r\n            .setSmallIcon(R.drawable.meeting_ic)\r\n            .setContentIntent(pendingIntent)\r\n            .setColor(resources.getColor(R.color.colorPrimary))\r\n            .build()\r\n        startForeground(1, notification)\r\n        // return super.onStartCommand(intent, flags, startId);\r\n        return START_STICKY\r\n    }\r\n\r\n    private fun stopRecording() {\r\n        if (recordStarted) {\r\n            try {\r\n                recorder.stop()\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n            }\r\n            recordStarted = false\r\n        }\r\n    }\r\n\r\n    override fun onCreate() {\r\n        super.onCreate()\r\n        createNotificationChannel()\r\n        isServiceRunning = true\r\n    }\r\n\r\n    private fun createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val appName = getString(R.string.app_name)\r\n            val serviceChannel = NotificationChannel(\r\n                CHANNEL_ID,\r\n                appName,\r\n                NotificationManager.IMPORTANCE_DEFAULT\r\n            )\r\n            val manager = getSystemService(\r\n                NotificationManager::class.java\r\n            )\r\n            manager.createNotificationChannel(serviceChannel)\r\n        }\r\n    }\r\n\r\n    private fun saveAudioToExternalStorage(displayName: String): Boolean {\r\n        val recordingCollection = sdk29AndUp {\r\n            MediaStore.Audio.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n        } ?: MediaStore.Audio.Media.EXTERNAL_CONTENT_URI\r\n        val contentValue = ContentValues().apply {\r\n            put(MediaStore.Audio.Media.DISPLAY_NAME, displayName)\r\n            put(MediaStore.Audio.Media.MIME_TYPE, &quot;audio/mpeg&quot;)\r\n            put(MediaStore.Audio.Media.TITLE, displayName)\r\n            put(MediaStore.Audio.Media.DATE_ADDED, (System.currentTimeMillis() / 1000).toInt())\r\n        }\r\n        return try {\r\n            contentResolver.insert(recordingCollection, contentValue)?.also { uri -&gt;\r\n                contentResolver.openOutputStream(uri).use { outputStream -&gt;\r\n                    file = contentResolver.openFileDescriptor(uri, &quot;w&quot;)\r\n                    if (file != null) {\r\n                        recorder = MediaRecorder()\r\n                        recorder.setAudioSource(MediaRecorder.AudioSource.MIC)\r\n                        recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP)\r\n                        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB)\r\n                        recorder.setOutputFile(file!!.fileDescriptor)\r\n                        recorder.prepare()\r\n                        recorder.start()\r\n                        MainActivity.history[MainActivity.history.size - 1].recordingUrl =\r\n                            uri.toString()\r\n                    }\r\n                }\r\n            } ?: throw IOException(&quot;Couldn&#39;t create Media Store Entry&quot;)\r\n            true\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n            false\r\n        }\r\n\r\n    }\r\n\r\n    companion object {\r\n        const val ACTION_IN = &quot;android.intent.action.PHONE_STATE&quot;\r\n        const val ACTION_OUT = &quot;android.intent.action.NEW_OUTGOING_CALL&quot;\r\n        const val EXTRA_PHONE_NUMBER = &quot;android.intent.extra.PHONE_NUMBER&quot;\r\n        var isServiceRunning = false\r\n    }\r\n\r\n    override fun onIncomingCallStarted(ctx: Context?, number: String?, date: String) {\r\n        isIncoming = true\r\n        savedNumber = number\r\n        saveAudioToExternalStorage(&quot;Incoming $savedNumber  $date&quot;)\r\n        recordStarted = true\r\n    }\r\n\r\n    override fun onIncomingCallEnded(ctx: Context?, number: String?, date: String) {\r\n        stopRecording()\r\n    }\r\n\r\n    override fun onOutgoingCallStarted(ctx: Context?, number: String?, date: String) {\r\n        isIncoming = true\r\n        savedNumber = number\r\n        saveAudioToExternalStorage(&quot;Outgoing $savedNumber  $date&quot;)\r\n        recordStarted = true\r\n    }\r\n\r\n    override fun onOutgoingCallEnded(ctx: Context?, number: String?, date: String) {\r\n        stopRecording()\r\n    }\r\n\r\n    override fun onMissedCall(ctx: Context?, number: String?, date: String) {\r\n        stopRecording()\r\n    }\r\n\r\n\r\n    internal class CallReceiver(private val callingListner: onCallingListner) :\r\n        PhonecallReceiver() {\r\n        override fun onOutgoingCallStarted(ctx: Context, number: String, start: Date) {\r\n            val msg = &quot;start outgoing call: $number at $start&quot;\r\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\r\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\r\n            callingListner.onOutgoingCallStarted(ctx, number, setDateTime())\r\n        }\r\n\r\n        override fun onOutgoingCallEnded(ctx: Context, number: String, start: Date?, end: Date) {\r\n            val msg = &quot;end outgoing call: $number at $end&quot;\r\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\r\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\r\n            callingListner.onOutgoingCallEnded(ctx, number, setDateTime())\r\n\r\n        }\r\n\r\n        override fun onIncomingCallStarted(ctx: Context, number: String, start: Date) {\r\n            val msg = &quot;start incoming call: $number at $start&quot;\r\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\r\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\r\n            callingListner.onIncomingCallStarted(ctx, number, setDateTime())\r\n\r\n        }\r\n\r\n        override fun onIncomingCallEnded(ctx: Context, number: String, start: Date?, end: Date) {\r\n            val msg = &quot;end incoming call: $number at $end&quot;\r\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\r\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\r\n            callingListner.onIncomingCallEnded(ctx, number, setDateTime())\r\n\r\n        }\r\n\r\n        override fun onMissedCall(ctx: Context, number: String, missed: Date) {\r\n            // callingListner.onMissedCall(ctx, number, setDateTime())\r\n            val msg = &quot;missed call: $number at $missed&quot;\r\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\r\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\r\n            callingListner.onMissedCall(ctx, number, setDateTime())\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is manifest file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;app.sten.wit&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.PROCESS_OUTGOING_CALLS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.PROCESS_INCOMING_CALLS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.DISABLE_KEYGUARD&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NOTIFICATION_POLICY&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:fullBackupContent=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n        &lt;!--        &lt;activity--&gt;\r\n        &lt;!--            android:name=&quot;.Views.MainActivity&quot;--&gt;\r\n        &lt;!--            android:exported=&quot;true&quot;&gt;--&gt;\r\n        &lt;!--            &lt;intent-filter&gt;--&gt;\r\n        &lt;!--                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;--&gt;\r\n\r\n        &lt;!--                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;--&gt;\r\n        &lt;!--            &lt;/intent-filter&gt;--&gt;\r\n        &lt;!--        &lt;/activity&gt;--&gt;\r\n        &lt;service android:name=&quot;.CallRecorderNew&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.Views.HistoryActivity&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Views.AddMeetingsActivity&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Views.AddClientActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Views.ScheduleMeetingsActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt; &lt;!-- &lt;activity --&gt;\r\n        &lt;!-- android:name=&quot;.Views.MeetingsActivity&quot; --&gt;\r\n        &lt;!-- android:exported=&quot;false&quot; /&gt; --&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Views.DetailsActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Views.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;!--        &lt;receiver--&gt;\r\n        &lt;!--            android:name=&quot;.BootCompleteReceiver&quot;--&gt;\r\n        &lt;!--            android:exported=&quot;true&quot;&gt;--&gt;\r\n        &lt;!--            &lt;intent-filter android:priority=&quot;999&quot;&gt;--&gt;\r\n        &lt;!--                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;--&gt;\r\n        &lt;!--                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;--&gt;\r\n        &lt;!--                &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot; /&gt;--&gt;\r\n        &lt;!--            &lt;/intent-filter&gt;--&gt;\r\n        &lt;!--        &lt;/receiver&gt;--&gt;\r\n\r\n        &lt;service android:name=&quot;.CallRecorderNew&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\nI have also added permission for ``` MediaProjectionManager``` but I don&#39;t think this is working.","title":"Calling Recording Above Android 10","body":"<p>I want to implement Call Recording for one of my client application but above Android 10 I am unable to do is successfully. here is my code classes. Your suggestions will be highly appreciated.</p>\n<p>I know due to security reasons Google stopped working around Call Recording above Android 10(Q), But I needs this feature for CRM application.</p>\n<p>This is my Receiver Class</p>\n<pre><code>public abstract class PhonecallReceiver extends BroadcastReceiver {\n\n    // The receiver will be recreated whenever android feels like it.\n    // We need a static variable to remember data between instantiations\n\n    private static int lastState = TelephonyManager.CALL_STATE_IDLE;\n    private static Date callStartTime;\n    private static boolean isIncoming;\n    private static String savedNumber; // because the passed incoming is only valid in ringing\n\n    @Override\n    public void onReceive(final Context context, Intent intent) {\n\n        // We listen to two intents. The new outgoing call only tells us of an outgoing call.\n        // We use it to get the number.\n        if (intent.getAction().equals(&quot;android.intent.action.NEW_OUTGOING_CALL&quot;)) {\n            savedNumber = intent.getExtras().getString(&quot;android.intent.extra.PHONE_NUMBER&quot;);\n        } else {\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.P) {\n                String stateStr = intent.getExtras().getString(TelephonyManager.EXTRA_STATE);\n                String number = intent.getExtras().getString(TelephonyManager.EXTRA_INCOMING_NUMBER);\n                int state = 0;\n                if (stateStr.equals(TelephonyManager.EXTRA_STATE_IDLE)) {\n                    state = TelephonyManager.CALL_STATE_IDLE;\n                } else if (stateStr.equals(TelephonyManager.EXTRA_STATE_OFFHOOK)) {\n                    state = TelephonyManager.CALL_STATE_OFFHOOK;\n                } else if (stateStr.equals(TelephonyManager.EXTRA_STATE_RINGING)) {\n                    state = TelephonyManager.CALL_STATE_RINGING;\n                }\n                onCustomCallStateChanged(context, state, number);\n            } else {\n                // Android 9+\n                TelephonyManager telephony = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n                telephony.listen(new PhoneStateListener() {\n                    @Override\n                    public void onCallStateChanged(int state, String number) {\n                        onCustomCallStateChanged(context, state, number);\n                    }\n                }, PhoneStateListener.LISTEN_CALL_STATE);\n            }\n        }\n    }\n\n    // Derived classes should override these to respond to specific events of interest\n    protected abstract void onIncomingCallStarted(Context ctx, String number, Date start);\n    protected abstract void onOutgoingCallStarted(Context ctx, String number, Date start);\n    protected abstract void onIncomingCallEnded(Context ctx, String number, Date start, Date end);\n    protected abstract void onOutgoingCallEnded(Context ctx, String number, Date start, Date end);\n    protected abstract void onMissedCall(Context ctx, String number, Date missed);\n\n    // Deals with actual events\n\n    // Incoming call - goes from IDLE to RINGING when it rings, to OFFHOOK when it's answered, to IDLE when its hung up\n    // Outgoing call - goes from IDLE to OFFHOOK when it dials out, to IDLE when hung up\n    public void onCustomCallStateChanged(Context context, int state, String number) {\n        if (lastState == state) {\n            // No change, debounce extras\n            return;\n        }\n        switch (state) {\n            case TelephonyManager.CALL_STATE_RINGING:\n                isIncoming = true;\n                callStartTime = new Date();\n                savedNumber = number;\n                onIncomingCallStarted(context, number, callStartTime);\n                break;\n            case TelephonyManager.CALL_STATE_OFFHOOK:\n                // Transition of ringing-&gt;offhook are pickups of incoming calls. Nothing done on them\n                if (lastState != TelephonyManager.CALL_STATE_RINGING) {\n                    isIncoming = false;\n                    callStartTime = new Date();\n                    onOutgoingCallStarted(context, savedNumber, callStartTime);\n                }\n                break;\n            case TelephonyManager.CALL_STATE_IDLE:\n                // Went to idle - this is the end of a call.  What type depends on previous state(s)\n                if (lastState == TelephonyManager.CALL_STATE_RINGING) {\n                    // Ring but no pickup - a miss\n                    onMissedCall(context, savedNumber, callStartTime);\n                } else if (isIncoming) {\n                    onIncomingCallEnded(context, savedNumber, callStartTime, new Date());\n                } else{\n                    onOutgoingCallEnded(context, savedNumber, callStartTime, new Date());\n                }\n                break;\n        }\n        lastState = state;\n    }\n}\n\n</code></pre>\n<p>This is my service that will work in background to record Audio Calls.</p>\n<pre><code>class CallRecorderNew : Service(), onCallingListner {\n    private lateinit var recorder: MediaRecorder\n    private var recordStarted = false\n    private var savedNumber: String? = null\n    private var lastState = TelephonyManager.CALL_STATE_IDLE\n    private var isIncoming = false\n    var fileName //Obtained by intent\n            : String? = null\n    var audiouri: Uri? = null\n    var file: ParcelFileDescriptor? = null\n    private val CHANNEL_ID = &quot;NOTIFICATION_CHANNEL&quot;\n    private lateinit var callReceiver: CallReceiver\n    private var viewmodal: ViewModal? = null\n    override fun onBind(arg0: Intent): IBinder? {\n        // TODO Auto-generated method stub\n        return null\n    }\n\n    override fun onDestroy() {\n        this.unregisterReceiver(callReceiver)\n    }\n\n    override fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n        val intentFilter = IntentFilter()\n        intentFilter.addAction(ACTION_IN)\n        intentFilter.addAction(ACTION_OUT)\n        callReceiver = CallReceiver(this)\n        this.registerReceiver(callReceiver, intentFilter)\n        val notificationIntent = Intent(this, MainActivity::class.java)\n        val pendingIntent = PendingIntent.getActivity(\n            this,\n            0, notificationIntent,\n            PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_MUTABLE\n        )\n        val notification = NotificationCompat.Builder(this, CHANNEL_ID)\n            .setContentTitle(R.string.app_name.toString() + &quot; is running&quot;)\n            .setContentText(&quot;Please don not use battery optimizations&quot;)\n            .setSmallIcon(R.drawable.meeting_ic)\n            .setContentIntent(pendingIntent)\n            .setColor(resources.getColor(R.color.colorPrimary))\n            .build()\n        startForeground(1, notification)\n        // return super.onStartCommand(intent, flags, startId);\n        return START_STICKY\n    }\n\n    private fun stopRecording() {\n        if (recordStarted) {\n            try {\n                recorder.stop()\n            } catch (e: Exception) {\n                e.printStackTrace()\n            }\n            recordStarted = false\n        }\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        createNotificationChannel()\n        isServiceRunning = true\n    }\n\n    private fun createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val appName = getString(R.string.app_name)\n            val serviceChannel = NotificationChannel(\n                CHANNEL_ID,\n                appName,\n                NotificationManager.IMPORTANCE_DEFAULT\n            )\n            val manager = getSystemService(\n                NotificationManager::class.java\n            )\n            manager.createNotificationChannel(serviceChannel)\n        }\n    }\n\n    private fun saveAudioToExternalStorage(displayName: String): Boolean {\n        val recordingCollection = sdk29AndUp {\n            MediaStore.Audio.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n        } ?: MediaStore.Audio.Media.EXTERNAL_CONTENT_URI\n        val contentValue = ContentValues().apply {\n            put(MediaStore.Audio.Media.DISPLAY_NAME, displayName)\n            put(MediaStore.Audio.Media.MIME_TYPE, &quot;audio/mpeg&quot;)\n            put(MediaStore.Audio.Media.TITLE, displayName)\n            put(MediaStore.Audio.Media.DATE_ADDED, (System.currentTimeMillis() / 1000).toInt())\n        }\n        return try {\n            contentResolver.insert(recordingCollection, contentValue)?.also { uri -&gt;\n                contentResolver.openOutputStream(uri).use { outputStream -&gt;\n                    file = contentResolver.openFileDescriptor(uri, &quot;w&quot;)\n                    if (file != null) {\n                        recorder = MediaRecorder()\n                        recorder.setAudioSource(MediaRecorder.AudioSource.MIC)\n                        recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP)\n                        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB)\n                        recorder.setOutputFile(file!!.fileDescriptor)\n                        recorder.prepare()\n                        recorder.start()\n                        MainActivity.history[MainActivity.history.size - 1].recordingUrl =\n                            uri.toString()\n                    }\n                }\n            } ?: throw IOException(&quot;Couldn't create Media Store Entry&quot;)\n            true\n        } catch (e: Exception) {\n            e.printStackTrace()\n            false\n        }\n\n    }\n\n    companion object {\n        const val ACTION_IN = &quot;android.intent.action.PHONE_STATE&quot;\n        const val ACTION_OUT = &quot;android.intent.action.NEW_OUTGOING_CALL&quot;\n        const val EXTRA_PHONE_NUMBER = &quot;android.intent.extra.PHONE_NUMBER&quot;\n        var isServiceRunning = false\n    }\n\n    override fun onIncomingCallStarted(ctx: Context?, number: String?, date: String) {\n        isIncoming = true\n        savedNumber = number\n        saveAudioToExternalStorage(&quot;Incoming $savedNumber  $date&quot;)\n        recordStarted = true\n    }\n\n    override fun onIncomingCallEnded(ctx: Context?, number: String?, date: String) {\n        stopRecording()\n    }\n\n    override fun onOutgoingCallStarted(ctx: Context?, number: String?, date: String) {\n        isIncoming = true\n        savedNumber = number\n        saveAudioToExternalStorage(&quot;Outgoing $savedNumber  $date&quot;)\n        recordStarted = true\n    }\n\n    override fun onOutgoingCallEnded(ctx: Context?, number: String?, date: String) {\n        stopRecording()\n    }\n\n    override fun onMissedCall(ctx: Context?, number: String?, date: String) {\n        stopRecording()\n    }\n\n\n    internal class CallReceiver(private val callingListner: onCallingListner) :\n        PhonecallReceiver() {\n        override fun onOutgoingCallStarted(ctx: Context, number: String, start: Date) {\n            val msg = &quot;start outgoing call: $number at $start&quot;\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\n            callingListner.onOutgoingCallStarted(ctx, number, setDateTime())\n        }\n\n        override fun onOutgoingCallEnded(ctx: Context, number: String, start: Date?, end: Date) {\n            val msg = &quot;end outgoing call: $number at $end&quot;\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\n            callingListner.onOutgoingCallEnded(ctx, number, setDateTime())\n\n        }\n\n        override fun onIncomingCallStarted(ctx: Context, number: String, start: Date) {\n            val msg = &quot;start incoming call: $number at $start&quot;\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\n            callingListner.onIncomingCallStarted(ctx, number, setDateTime())\n\n        }\n\n        override fun onIncomingCallEnded(ctx: Context, number: String, start: Date?, end: Date) {\n            val msg = &quot;end incoming call: $number at $end&quot;\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\n            callingListner.onIncomingCallEnded(ctx, number, setDateTime())\n\n        }\n\n        override fun onMissedCall(ctx: Context, number: String, missed: Date) {\n            // callingListner.onMissedCall(ctx, number, setDateTime())\n            val msg = &quot;missed call: $number at $missed&quot;\n            Log.d(&quot;CallReceiverChecker&quot;, msg)\n            Toast.makeText(ctx.applicationContext, msg, Toast.LENGTH_SHORT).show()\n            callingListner.onMissedCall(ctx, number, setDateTime())\n        }\n    }\n\n}\n</code></pre>\n<p>This is manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;app.sten.wit&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.PROCESS_OUTGOING_CALLS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n\n\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.PROCESS_INCOMING_CALLS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.DISABLE_KEYGUARD&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NOTIFICATION_POLICY&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:fullBackupContent=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\n        &lt;!--        &lt;activity--&gt;\n        &lt;!--            android:name=&quot;.Views.MainActivity&quot;--&gt;\n        &lt;!--            android:exported=&quot;true&quot;&gt;--&gt;\n        &lt;!--            &lt;intent-filter&gt;--&gt;\n        &lt;!--                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;--&gt;\n\n        &lt;!--                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;--&gt;\n        &lt;!--            &lt;/intent-filter&gt;--&gt;\n        &lt;!--        &lt;/activity&gt;--&gt;\n        &lt;service android:name=&quot;.CallRecorderNew&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.Views.HistoryActivity&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Views.AddMeetingsActivity&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Views.AddClientActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Views.ScheduleMeetingsActivity&quot;\n            android:exported=&quot;false&quot; /&gt; &lt;!-- &lt;activity --&gt;\n        &lt;!-- android:name=&quot;.Views.MeetingsActivity&quot; --&gt;\n        &lt;!-- android:exported=&quot;false&quot; /&gt; --&gt;\n        &lt;activity\n            android:name=&quot;.Views.DetailsActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Views.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;!--        &lt;receiver--&gt;\n        &lt;!--            android:name=&quot;.BootCompleteReceiver&quot;--&gt;\n        &lt;!--            android:exported=&quot;true&quot;&gt;--&gt;\n        &lt;!--            &lt;intent-filter android:priority=&quot;999&quot;&gt;--&gt;\n        &lt;!--                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;--&gt;\n        &lt;!--                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;--&gt;\n        &lt;!--                &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot; /&gt;--&gt;\n        &lt;!--            &lt;/intent-filter&gt;--&gt;\n        &lt;!--        &lt;/receiver&gt;--&gt;\n\n        &lt;service android:name=&quot;.CallRecorderNew&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I have also added permission for <code> MediaProjectionManager</code> but I don't think this is working.</p>\n"},{"tags":["java","android","canvas","bitmap"],"answers":[{"tags":[],"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661314074,"creation_date":1661261783,"answer_id":73459766,"question_id":73459223,"body_markdown":"I&#39;m not sure if I&#39;m missing something in your question, but all you have to do is change the `top` coordinate for each bitmap when calling drawBitmap(). In your specific code, just add:\r\n\r\n    top += height;\r\n\r\ninside the for loop\r\n\r\nEdit: from your updated question, it sounds like a Bitmap scaling issue, not a problem with position. Even your 1st bitmap is cropped. So, you should probably use a different canvas.drawbitmap() method:\r\n\r\n    public void drawBitmap (Bitmap bitmap, Rect src,  RectF dst, Paint paint)\r\n\r\nYou can specify the dimensions of the destination Rect, which should let it scale properly. So, your code should be:\r\n\r\n    for(...){\r\n       ...\r\n       RectF dest = new RectF(new Rect(0, top, bitmapTextSticker.getWidth(), bitmapTextSticker.getHeight()));\r\n       canvas.drawBitmap(bitmapTextSticker, null, dest, null);\r\n    }","title":"How to draw multiple bitmaps vertically, one below the other","body":"<p>I'm not sure if I'm missing something in your question, but all you have to do is change the <code>top</code> coordinate for each bitmap when calling drawBitmap(). In your specific code, just add:</p>\n<pre><code>top += height;\n</code></pre>\n<p>inside the for loop</p>\n<p>Edit: from your updated question, it sounds like a Bitmap scaling issue, not a problem with position. Even your 1st bitmap is cropped. So, you should probably use a different canvas.drawbitmap() method:</p>\n<pre><code>public void drawBitmap (Bitmap bitmap, Rect src,  RectF dst, Paint paint)\n</code></pre>\n<p>You can specify the dimensions of the destination Rect, which should let it scale properly. So, your code should be:</p>\n<pre><code>for(...){\n   ...\n   RectF dest = new RectF(new Rect(0, top, bitmapTextSticker.getWidth(), bitmapTextSticker.getHeight()));\n   canvas.drawBitmap(bitmapTextSticker, null, dest, null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661292590,"creation_date":1661292590,"answer_id":73465513,"question_id":73459223,"body_markdown":"The issue was I didn&#39;t set the `density` for the bitmap and the `canvas` :\r\n\r\n\r\n      ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; repeater; i++) bitmaps.add(bmp);\r\n            int height = 0;\r\n            for (Bitmap map : bitmaps) height += map.getHeight();\r\n    \r\n            Bitmap bitmap = Bitmap.createBitmap(bmp.getWidth(), height, Bitmap.Config.ARGB_8888);\r\n    \r\n            Canvas canvas = new Canvas(bitmap);\r\n            canvas.setDensity(DisplayMetrics.DENSITY_MEDIUM);\r\n            bitmap.setDensity(DisplayMetrics.DENSITY_MEDIUM);\r\n            int drawHeight = 0;\r\n            for (Bitmap map : bitmaps) {\r\n                if (map != null) {\r\n                    canvas.drawBitmap(map, 0, drawHeight, null);\r\n                    drawHeight += map.getHeight();\r\n                }\r\n            }\r\n            return bitmap;","title":"How to draw multiple bitmaps vertically, one below the other","body":"<p>The issue was I didn't set the <code>density</code> for the bitmap and the <code>canvas</code> :</p>\n<pre><code>  ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; repeater; i++) bitmaps.add(bmp);\n        int height = 0;\n        for (Bitmap map : bitmaps) height += map.getHeight();\n\n        Bitmap bitmap = Bitmap.createBitmap(bmp.getWidth(), height, Bitmap.Config.ARGB_8888);\n\n        Canvas canvas = new Canvas(bitmap);\n        canvas.setDensity(DisplayMetrics.DENSITY_MEDIUM);\n        bitmap.setDensity(DisplayMetrics.DENSITY_MEDIUM);\n        int drawHeight = 0;\n        for (Bitmap map : bitmaps) {\n            if (map != null) {\n                canvas.drawBitmap(map, 0, drawHeight, null);\n                drawHeight += map.getHeight();\n            }\n        }\n        return bitmap;\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73465513,"answer_count":2,"score":0,"last_activity_date":1661314074,"creation_date":1661259720,"question_id":73459223,"body_markdown":"I&#39;m trying to draw a bunch of bitmaps vertically one below the other like this :\r\n\r\nOriginal `Bitmap` :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nResult expected :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nCode : \r\n\r\n       int repeater = 4;\r\n       Bitmap bitmapTextSticker = ImageUtils.drawable2Bitmap(ResourceUtils.getDrawable(R.drawable.icon));\r\n       Bitmap background = Bitmap.createBitmap(bitmapTextSticker.getWidth(), bitmapTextSticker.getHeight() * repeater, Bitmap.Config.ARGB_8888);\r\n       Canvas canvas = new Canvas(background);\r\n       int top = 0;\r\n       for (int i = 0; i &lt; repeater; i++) {\r\n              top = (i == 0 ? 0 : top + bitmapTextSticker.getHeight());\r\n                    canvas.drawBitmap(bitmapTextSticker, 0f, top, null);\r\n         }\r\n\r\n**The above code is working, but the output is cropped.**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1uKWN.png\r\n  [2]: https://i.stack.imgur.com/U8eDL.png\r\n  [3]: https://i.stack.imgur.com/AuNTL.png","title":"How to draw multiple bitmaps vertically, one below the other","body":"<p>I'm trying to draw a bunch of bitmaps vertically one below the other like this :</p>\n<p>Original <code>Bitmap</code> :</p>\n<p><a href=\"https://i.stack.imgur.com/1uKWN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1uKWN.png\" alt=\"enter image description here\" /></a></p>\n<p>Result expected :</p>\n<p><a href=\"https://i.stack.imgur.com/U8eDL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U8eDL.png\" alt=\"enter image description here\" /></a></p>\n<p>Code :</p>\n<pre><code>   int repeater = 4;\n   Bitmap bitmapTextSticker = ImageUtils.drawable2Bitmap(ResourceUtils.getDrawable(R.drawable.icon));\n   Bitmap background = Bitmap.createBitmap(bitmapTextSticker.getWidth(), bitmapTextSticker.getHeight() * repeater, Bitmap.Config.ARGB_8888);\n   Canvas canvas = new Canvas(background);\n   int top = 0;\n   for (int i = 0; i &lt; repeater; i++) {\n          top = (i == 0 ? 0 : top + bitmapTextSticker.getHeight());\n                canvas.drawBitmap(bitmapTextSticker, 0f, top, null);\n     }\n</code></pre>\n<p><strong>The above code is working, but the output is cropped.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AuNTL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AuNTL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","regex","capture-group"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661311999,"creation_date":1661311505,"answer_id":73467094,"question_id":73467042,"body_markdown":"You may try splitting the CSV string from the `IN` clause:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;String&gt; matchList = null;\r\n\r\n    Pattern regex = Pattern.compile(&quot;\\\\((.+?)\\\\)&quot;);\r\n    Matcher regexMatcher = regex.matcher(processedFilterString);\r\n\r\n    if (regexMatcher.find()) {\r\n        String match = regexMatcher.group(1).replaceAll(&quot;^&#39;|&#39;$&quot;, &quot;&quot;);\r\n        String[] terms = match.split(&quot;&#39;\\\\s*,\\\\s*&#39;&quot;);\r\n        matchList = Arrays.stream(terms).collect(Collectors.toList());\r\n    }\r\n\r\nNote that if your input string could contain multiple `IN` clauses, then the above would need to be modified to use a `while` loop.","title":"Regex to capture comma separated groups of text in parentheses [Java]","body":"<p>You may try splitting the CSV string from the <code>IN</code> clause:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; matchList = null;\n\nPattern regex = Pattern.compile(&quot;\\\\((.+?)\\\\)&quot;);\nMatcher regexMatcher = regex.matcher(processedFilterString);\n\nif (regexMatcher.find()) {\n    String match = regexMatcher.group(1).replaceAll(&quot;^'|'$&quot;, &quot;&quot;);\n    String[] terms = match.split(&quot;'\\\\s*,\\\\s*'&quot;);\n    matchList = Arrays.stream(terms).collect(Collectors.toList());\n}\n</code></pre>\n<p>Note that if your input string could contain multiple <code>IN</code> clauses, then the above would need to be modified to use a <code>while</code> loop.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661313425,"creation_date":1661312148,"answer_id":73467149,"question_id":73467042,"body_markdown":"What I see from the examples in your question, your [regular expression][1] needs to find strings of at least three upper-case letters enclosed in single quotes.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;os IN (&#39;WIN&#39;, &#39;MAC&#39;, &#39;LNUX&#39;)&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;&#39;([A-Z]{3,})&#39;&quot;);\r\n        Matcher matcher = pattern.matcher(s);\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        while (matcher.find()) {\r\n            list.add(matcher.group(1));\r\n        }\r\n        System.out.println(list);\r\n    }\r\n}\r\n```\r\nRunning the above code produces the following output:\r\n```none\r\n[WIN, MAC, LNUX]\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/regex/","title":"Regex to capture comma separated groups of text in parentheses [Java]","body":"<p>What I see from the examples in your question, your <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regular expression</a> needs to find strings of at least three upper-case letters enclosed in single quotes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        String s = &quot;os IN ('WIN', 'MAC', 'LNUX')&quot;;\n        Pattern pattern = Pattern.compile(&quot;'([A-Z]{3,})'&quot;);\n        Matcher matcher = pattern.matcher(s);\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        while (matcher.find()) {\n            list.add(matcher.group(1));\n        }\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p>Running the above code produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[WIN, MAC, LNUX]\n</code></pre>\n"}],"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661313425,"creation_date":1661310848,"question_id":73467042,"body_markdown":"I have a string that contains one or more (comma-separated) values, surrounded by quotes and enclosed in parentheses. So it can be of the type `os IN (&#39;WIN&#39;, &#39;MAC&#39;, &#39;LNU&#39;)` (for multiple values) or just `os IN (&#39;WIN&#39;)` for a single value.\r\n\r\nI need to extract the values in a `List`.\r\n\r\nI have tried this regex, but it captures all the values into one single list element as one whole String as `&#39;WIN&#39;, &#39;MAC&#39;`, instead of two String values of `WIN` and `MAC` -\r\n \r\n```java\r\n        List&lt;String&gt; matchList = new ArrayList&lt;&gt;();\r\n\r\n        Pattern regex = Pattern.compile(&quot;\\\\((.+?)\\\\)&quot;);\r\n        Matcher regexMatcher = regex.matcher(processedFilterString);\r\n\r\n        while (regexMatcher.find()) {//Finds Matching Pattern in String\r\n            matchList.add(regexMatcher.group(1));//Fetching Group from String\r\n        }\r\n```\r\nResult:\r\n```\r\nInput: os IN (&#39;WIN&#39;, &#39;MAC&#39;)\r\nOutput:\r\n[&#39;WIN&#39;, &#39;MAC&#39;]\r\nlength: 1\r\n```\r\n\r\nIn it&#39;s current form, the regex matches one or more characters surrounded by parentheses and captures them in a group, which is probably why the result is just one string. How can I adapt it to capture each of the values separately?\r\n\r\nEdit - Just adding some more details. The input string can have multiple IN clauses containing other criteria, such as `id IN (&#39;xxxxxx&#39;) AND os IN (&#39;WIN&#39;, &#39;MAC&#39;)`. Also, the length of the matched characters is not necessarily the same, so it could be - `os IN (&#39;WIN&#39;, &#39;MAC&#39;, &#39;LNUX&#39;)`. ","title":"Regex to capture comma separated groups of text in parentheses [Java]","body":"<p>I have a string that contains one or more (comma-separated) values, surrounded by quotes and enclosed in parentheses. So it can be of the type <code>os IN ('WIN', 'MAC', 'LNU')</code> (for multiple values) or just <code>os IN ('WIN')</code> for a single value.</p>\n<p>I need to extract the values in a <code>List</code>.</p>\n<p>I have tried this regex, but it captures all the values into one single list element as one whole String as <code>'WIN', 'MAC'</code>, instead of two String values of <code>WIN</code> and <code>MAC</code> -</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;String&gt; matchList = new ArrayList&lt;&gt;();\n\n        Pattern regex = Pattern.compile(&quot;\\\\((.+?)\\\\)&quot;);\n        Matcher regexMatcher = regex.matcher(processedFilterString);\n\n        while (regexMatcher.find()) {//Finds Matching Pattern in String\n            matchList.add(regexMatcher.group(1));//Fetching Group from String\n        }\n</code></pre>\n<p>Result:</p>\n<pre><code>Input: os IN ('WIN', 'MAC')\nOutput:\n['WIN', 'MAC']\nlength: 1\n</code></pre>\n<p>In it's current form, the regex matches one or more characters surrounded by parentheses and captures them in a group, which is probably why the result is just one string. How can I adapt it to capture each of the values separately?</p>\n<p>Edit - Just adding some more details. The input string can have multiple IN clauses containing other criteria, such as <code>id IN ('xxxxxx') AND os IN ('WIN', 'MAC')</code>. Also, the length of the matched characters is not necessarily the same, so it could be - <code>os IN ('WIN', 'MAC', 'LNUX')</code>.</p>\n"},{"tags":["java","sizeof","operator-keyword"],"comments":[{"owner":{"account_id":73470,"reputation":95570,"user_id":211563,"accept_rate":100,"display_name":"Andrew Marshall"},"score":0,"creation_date":1322763895,"post_id":8346303,"comment_id":10293204,"body_markdown":"possible duplicate of [In Java, what is the best way to determine the size of an object?](http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">In Java, what is the best way to determine the size of an object?</a>"},{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":0,"creation_date":1322763921,"post_id":8346303,"comment_id":10293209,"body_markdown":"http://stackoverflow.com/questions/4115239/sizeof-java-object","body":"<a href=\"http://stackoverflow.com/questions/4115239/sizeof-java-object\">stackoverflow.com/questions/4115239/sizeof-java-object</a>"},{"owner":{"account_id":872407,"reputation":1970,"user_id":922954,"accept_rate":100,"display_name":"aishwarya"},"score":0,"creation_date":1322763923,"post_id":8346303,"comment_id":10293210,"body_markdown":"well collections have .size() method and arrays and string have .length(). do you need bytes specifically?","body":"well collections have .size() method and arrays and string have .length(). do you need bytes specifically?"},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":10,"creation_date":1322763928,"post_id":8346303,"comment_id":10293212,"body_markdown":"Can you explain why you think you need it?  If so we might be able to help you solve your actual problem.","body":"Can you explain why you think you need it?  If so we might be able to help you solve your actual problem."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1322763933,"post_id":8346303,"comment_id":10293215,"body_markdown":"What are you planning to do with the information?","body":"What are you planning to do with the information?"},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":5,"creation_date":1322763973,"post_id":8346303,"comment_id":10293228,"body_markdown":"Could you specify a situation where it would be &quot;very useful&quot; in Java?  I have never needed it.","body":"Could you specify a situation where it would be &quot;very useful&quot; in Java?  I have never needed it."},{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":0,"creation_date":1322764627,"post_id":8346303,"comment_id":10293432,"body_markdown":"if you are using some un-managed resources such as a c++ library","body":"if you are using some un-managed resources such as a c++ library"},{"owner":{"account_id":606180,"reputation":947,"user_id":311777,"display_name":"ee."},"score":0,"creation_date":1322787326,"post_id":8346303,"comment_id":10299775,"body_markdown":"In JNA, `size()` is sufficient for a given `Structure`. Even object wrapper classes for primitive types (Integer, Byte, etc.) provide `SIZE` constant.","body":"In JNA, <code>size()</code> is sufficient for a given <code>Structure</code>. Even object wrapper classes for primitive types (Integer, Byte, etc.) provide <code>SIZE</code> constant."}],"answers":[{"tags":[],"owner":{"account_id":335974,"reputation":4084,"user_id":663368,"accept_rate":80,"display_name":"rabusmar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1322763853,"creation_date":1322763853,"answer_id":8346329,"question_id":8346303,"body_markdown":"In c is useful only because you have to manually allocate and free memory. However, since in java there is automatic garbage collection, this is not necessary.","title":"Why is there no sizeof in Java?","body":"<p>In c is useful only because you have to manually allocate and free memory. However, since in java there is automatic garbage collection, this is not necessary.</p>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1322763890,"creation_date":1322763890,"answer_id":8346340,"question_id":8346303,"body_markdown":"Because the [size of primitive types](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) is explicitly mandated by the Java language.  There is no variance between JVM implementations.\r\n\r\nMoreover, since allocation is done by the `new` operator depending on its argument there is no need to specify the amount of memory needed.\r\n\r\nIt would sure be convenient sometimes to know how much memory an object will take so you could estimate things like max heap size requirements but I suppose the Java Language/Platform designers did not think it was a critical aspect.","title":"Why is there no sizeof in Java?","body":"<p>Because the <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">size of primitive types</a> is explicitly mandated by the Java language.  There is no variance between JVM implementations.</p>\n\n<p>Moreover, since allocation is done by the <code>new</code> operator depending on its argument there is no need to specify the amount of memory needed.</p>\n\n<p>It would sure be convenient sometimes to know how much memory an object will take so you could estimate things like max heap size requirements but I suppose the Java Language/Platform designers did not think it was a critical aspect.</p>\n"},{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322763925,"creation_date":1322763925,"answer_id":8346349,"question_id":8346303,"body_markdown":"In java, you don&#39;t work directly with memory, so `sizeof` is usually not needed, if you still want to determine the size of an object, check out [this question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object","title":"Why is there no sizeof in Java?","body":"<p>In java, you don't work directly with memory, so <code>sizeof</code> is usually not needed, if you still want to determine the size of an object, check out <a href=\"https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">this question</a>.</p>\n"},{"tags":[],"owner":{"account_id":149403,"reputation":1611,"user_id":361867,"accept_rate":88,"display_name":"Samizdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322763953,"creation_date":1322763953,"answer_id":8346356,"question_id":8346303,"body_markdown":"Memory management is done by the VM in Java, perhaps this might help you: http://www.javamex.com/java_equivalents/memory_management.shtml","title":"Why is there no sizeof in Java?","body":"<p>Memory management is done by the VM in Java, perhaps this might help you: <a href=\"http://www.javamex.com/java_equivalents/memory_management.shtml\" rel=\"nofollow\">http://www.javamex.com/java_equivalents/memory_management.shtml</a></p>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322764042,"creation_date":1322764042,"answer_id":8346375,"question_id":8346303,"body_markdown":"C needed sizeof because the size of ints and longs varied depending on the OS and compiler.  Or at least it used to.  :-)  In Java all sizes, bit configurations (e.g. IEEE 754) are better defined.\r\n\r\nEDIT - I see that @Maerics provided a link to the Java specs in his answer.","title":"Why is there no sizeof in Java?","body":"<p>C needed sizeof because the size of ints and longs varied depending on the OS and compiler.  Or at least it used to.  :-)  In Java all sizes, bit configurations (e.g. IEEE 754) are better defined.</p>\n\n<p>EDIT - I see that @Maerics provided a link to the Java specs in his answer.</p>\n"},{"tags":[],"owner":{"account_id":23583810,"reputation":183,"user_id":17622510,"display_name":"Ysp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661313237,"creation_date":1661313237,"answer_id":73467237,"question_id":8346303,"body_markdown":"Size of operator present in c/c++ and c/c++ is machine dependent langauge so different data types might have different size on different machine so programmes need to know how big those data types while performing operation that are sensitive to size.\r\nEg:one machine might have 32 bit integer while another machine might have 16 bit integer.\r\n\r\nBut Java is machine independent langauge and all the data types are the same size on all machine so no need to find size of data types it is pre defined in Java.","title":"Why is there no sizeof in Java?","body":"<p>Size of operator present in c/c++ and c/c++ is machine dependent langauge so different data types might have different size on different machine so programmes need to know how big those data types while performing operation that are sensitive to size.\nEg:one machine might have 32 bit integer while another machine might have 16 bit integer.</p>\n<p>But Java is machine independent langauge and all the data types are the same size on all machine so no need to find size of data types it is pre defined in Java.</p>\n"}],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":3,"up_vote_count":16,"accepted_answer_id":8346340,"answer_count":6,"score":13,"last_activity_date":1661313378,"creation_date":1322763712,"question_id":8346303,"body_markdown":"For what design reason is there no `sizeof` operator in Java? Knowing that it is very useful in C++ and C#, how can you get the size of a certain type if needed?","title":"Why is there no sizeof in Java?","body":"<p>For what design reason is there no <code>sizeof</code> operator in Java? Knowing that it is very useful in C++ and C#, how can you get the size of a certain type if needed?</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1661310469,"post_id":73467004,"comment_id":129738892,"body_markdown":"Re: &quot;The threads must implement Runnable since Callable will block the threads from running concurrently&quot;: This sounds like a misunderstanding of some sort (though that doesn&#39;t really affect your question).","body":"Re: &quot;The threads must implement Runnable since Callable will block the threads from running concurrently&quot;: This sounds like a misunderstanding of some sort (though that doesn&#39;t really affect your question)."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661311136,"post_id":73467004,"comment_id":129738961,"body_markdown":"In your linked question, the code does `throw new RuntimeException(&quot;Ouch! Got an error.&quot;);` - so why do you think that it can not handle unchecked exceptions?  *RuntimeException and its subclasses are unchecked exceptions.*","body":"In your linked question, the code does <code>throw new RuntimeException(&quot;Ouch! Got an error.&quot;);</code> - so why do you think that it can not handle unchecked exceptions?  <i>RuntimeException and its subclasses are unchecked exceptions.</i>"},{"owner":{"account_id":16746116,"reputation":129,"user_id":15317405,"display_name":"jlaufer"},"score":0,"creation_date":1661311572,"post_id":73467004,"comment_id":129739001,"body_markdown":"@ruakh is there a way to use Callable and have all the threads run at the same time? If so, then that&#39;s the answer.","body":"@ruakh is there a way to use Callable and have all the threads run at the same time? If so, then that&#39;s the answer."},{"owner":{"account_id":16746116,"reputation":129,"user_id":15317405,"display_name":"jlaufer"},"score":0,"creation_date":1661311715,"post_id":73467004,"comment_id":129739016,"body_markdown":"@ScaryWombat, In the last two sentences I mixed up checked/unchecked. It&#39;s corrected now.","body":"@ScaryWombat, In the last two sentences I mixed up checked/unchecked. It&#39;s corrected now."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1661363193,"post_id":73467004,"comment_id":129756970,"body_markdown":"@jlaufer ExecutorService has an [invokeAll](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)) method for exactly that purpose.","body":"@jlaufer ExecutorService has an <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)\" rel=\"nofollow noreferrer\">invokeAll</a> method for exactly that purpose."},{"owner":{"account_id":16746116,"reputation":129,"user_id":15317405,"display_name":"jlaufer"},"score":0,"creation_date":1661369678,"post_id":73467004,"comment_id":129759078,"body_markdown":"@VGR invokeAll waits for all threads to finish before returning the result","body":"@VGR invokeAll waits for all threads to finish before returning the result"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1661392737,"post_id":73467004,"comment_id":129763504,"body_markdown":"Im a little confused.  How would you propagate an exception back to the caller without either waiting or returning a Future?","body":"Im a little confused.  How would you propagate an exception back to the caller without either waiting or returning a Future?"},{"owner":{"account_id":16746116,"reputation":129,"user_id":15317405,"display_name":"jlaufer"},"score":0,"creation_date":1661433055,"post_id":73467004,"comment_id":129774982,"body_markdown":"@VGR That is basically my question. I&#39;ve learned that it is called a &quot;leak&quot; when an exception propagates from a thread to the caller. This has has negative connotation but in my case it is desirable. Only a runtime exception can propagate from a thread to the caller so checked exceptions must be wrapped as runtime exceptions to propagate per minhtrivo. These propagated exceptions are &quot;uncaught exceptions&quot;. For an ExecutorService type, overriding afterExecute will handle the uncaught exception. For a regular Thread there are several options including Thread.SetDefaultUncaughtExceptionHandler.","body":"@VGR That is basically my question. I&#39;ve learned that it is called a &quot;leak&quot; when an exception propagates from a thread to the caller. This has has negative connotation but in my case it is desirable. Only a runtime exception can propagate from a thread to the caller so checked exceptions must be wrapped as runtime exceptions to propagate per minhtrivo. These propagated exceptions are &quot;uncaught exceptions&quot;. For an ExecutorService type, overriding afterExecute will handle the uncaught exception. For a regular Thread there are several options including Thread.SetDefaultUncaughtExceptionHandler."}],"answers":[{"tags":[],"owner":{"account_id":10467026,"reputation":534,"user_id":7716142,"display_name":"minh tri Vo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661313170,"creation_date":1661311732,"answer_id":73467107,"question_id":73467004,"body_markdown":"&gt; If I understand correct, this solution will only handle unchecked exceptions. How should I deal with the checked exceptions\r\n\r\nNo, the afterExecute(Runnable, Throwable) would catch any RuntimeException or checked  exception. According to the docs at https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n&gt;  If non-null, the Throwable is the uncaught RuntimeException or Error that caused execution to terminate abruptly.\r\n\r\nEdit:\r\n\r\nSorry for the misunderstanding, \r\n\r\nIf you want to propagate the checked exception to the caller, you would need to wrap it in a RuntimeException\r\n\r\n     InterruptedException a;\r\n     throw new RuntimeException(&quot;wrapped&quot;, a);\r\n\r\nThe executor:\r\n\r\n    protected void afterExecute(Runnable r, Throwable t){\r\n          Throwable root = t.getCause();\r\n    }\r\n\r\nOr you could create your own runtime exception type.","title":"Propogating checked exceptions to the caller thread","body":"<blockquote>\n<p>If I understand correct, this solution will only handle unchecked exceptions. How should I deal with the checked exceptions</p>\n</blockquote>\n<p>No, the afterExecute(Runnable, Throwable) would catch any RuntimeException or checked  exception. According to the docs at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html</a></p>\n<blockquote>\n<p>If non-null, the Throwable is the uncaught RuntimeException or Error that caused execution to terminate abruptly.</p>\n</blockquote>\n<p>Edit:</p>\n<p>Sorry for the misunderstanding,</p>\n<p>If you want to propagate the checked exception to the caller, you would need to wrap it in a RuntimeException</p>\n<pre><code> InterruptedException a;\n throw new RuntimeException(&quot;wrapped&quot;, a);\n</code></pre>\n<p>The executor:</p>\n<pre><code>protected void afterExecute(Runnable r, Throwable t){\n      Throwable root = t.getCause();\n}\n</code></pre>\n<p>Or you could create your own runtime exception type.</p>\n"}],"owner":{"account_id":16746116,"reputation":129,"user_id":15317405,"display_name":"jlaufer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73467107,"answer_count":1,"score":1,"last_activity_date":1661313170,"creation_date":1661310317,"question_id":73467004,"body_markdown":"I have multiple methods running concurrently on different threads. If an exception occurs and isn&#39;t handled on any of the threads, I want it to propagate back to the calling method (see example below).\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            ExecutorService pool = Executors.newFixedThreadPool(3);\r\n            pool.execute(new Thread1Class());//Thread 1 of many\r\n            //...\r\n        }\r\n    }\r\n    \r\n    class Thread1Class implements Runnable{\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                throw new InterruptedException(); //How do I propogate this to the main method?\r\n            } catch (InterruptedException e) {\r\n                System.out.println(&quot;An unchecked exception was caught here&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe threads must implement Runnable since Callable will block the threads from running concurrently. \r\n\r\nI followed the method of Overriding `protected void afterExecute(Runnable r, Throwable t)` shown as the accepted answer here: https://stackoverflow.com/questions/2248131/handling-exceptions-from-java-executorservice-tasks. If I understand correct, this solution will only handle unchecked exceptions. How should I deal with the checked exceptions? ","title":"Propogating checked exceptions to the caller thread","body":"<p>I have multiple methods running concurrently on different threads. If an exception occurs and isn't handled on any of the threads, I want it to propagate back to the calling method (see example below).</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ExecutorService pool = Executors.newFixedThreadPool(3);\n        pool.execute(new Thread1Class());//Thread 1 of many\n        //...\n    }\n}\n\nclass Thread1Class implements Runnable{\n    @Override\n    public void run() {\n        try {\n            throw new InterruptedException(); //How do I propogate this to the main method?\n        } catch (InterruptedException e) {\n            System.out.println(&quot;An unchecked exception was caught here&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The threads must implement Runnable since Callable will block the threads from running concurrently.</p>\n<p>I followed the method of Overriding <code>protected void afterExecute(Runnable r, Throwable t)</code> shown as the accepted answer here: <a href=\"https://stackoverflow.com/questions/2248131/handling-exceptions-from-java-executorservice-tasks\">Handling exceptions from Java ExecutorService tasks</a>. If I understand correct, this solution will only handle unchecked exceptions. How should I deal with the checked exceptions?</p>\n"},{"tags":["javascript","java","rest","jersey"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1661313078,"post_id":73467144,"comment_id":129739185,"body_markdown":"303 is a redirect status.  When an HTTP client gets a 303, it&#39;s supposed to make a second HTTP request, to a different URL.  Are you sure that you&#39;re not seeing the status of the second request?","body":"303 is a redirect status.  When an HTTP client gets a 303, it&#39;s supposed to make a second HTTP request, to a different URL.  Are you sure that you&#39;re not seeing the status of the second request?"},{"owner":{"account_id":14706917,"reputation":157,"user_id":10621329,"display_name":"Dewa Syahrizal MN"},"score":0,"creation_date":1661313937,"post_id":73467144,"comment_id":129739284,"body_markdown":"Yes I&#39;m sure not seeing the status of the second request. Is the redirect happened automatically? As I&#39;m doing right now, I retrieve the code and redirect to the page manually . By manually I mean I use window.location.href to redirect to the desired page.","body":"Yes I&#39;m sure not seeing the status of the second request. Is the redirect happened automatically? As I&#39;m doing right now, I retrieve the code and redirect to the page manually . By manually I mean I use window.location.href to redirect to the desired page."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1661314300,"post_id":73467144,"comment_id":129739339,"body_markdown":"Well, I don&#39;t know about your particular HTTP client, but I&#39;d be very surprised if you&#39;ve got one that DOESN&#39;T do the redirect automatically.  You absolutely SHOULDN&#39;T be writing code that detects a 303 and sets `window.location.href`, unless you&#39;re developing your own browser.","body":"Well, I don&#39;t know about your particular HTTP client, but I&#39;d be very surprised if you&#39;ve got one that DOESN&#39;T do the redirect automatically.  You absolutely SHOULDN&#39;T be writing code that detects a 303 and sets <code>window.location.href</code>, unless you&#39;re developing your own browser."},{"owner":{"account_id":14706917,"reputation":157,"user_id":10621329,"display_name":"Dewa Syahrizal MN"},"score":0,"creation_date":1661314909,"post_id":73467144,"comment_id":129739442,"body_markdown":"I might doing something wrong here because if I don&#39;t detect the code and redirect it, the page wont redirect by itself. Thanks for the hint.","body":"I might doing something wrong here because if I don&#39;t detect the code and redirect it, the page wont redirect by itself. Thanks for the hint."},{"owner":{"account_id":11067412,"reputation":2313,"user_id":8126784,"display_name":"Lk77"},"score":0,"creation_date":1661321973,"post_id":73467144,"comment_id":129740774,"body_markdown":"Do you use ajax for the authentication ? If so you shouldnt redirect on the server, but send a 200 response with eventually a json payload with the url to redirect to. The browser follows redirects and there is no way to know in js that there was a redirect, you just see the 200 of the redirected page. And it wont redirect the user, it&#39;s just your ajax request that got redirected","body":"Do you use ajax for the authentication ? If so you shouldnt redirect on the server, but send a 200 response with eventually a json payload with the url to redirect to. The browser follows redirects and there is no way to know in js that there was a redirect, you just see the 200 of the redirected page. And it wont redirect the user, it&#39;s just your ajax request that got redirected"},{"owner":{"account_id":14706917,"reputation":157,"user_id":10621329,"display_name":"Dewa Syahrizal MN"},"score":0,"creation_date":1661322930,"post_id":73467144,"comment_id":129741039,"body_markdown":"@Lk77, yes I&#39;m using ajax. I see, that is how ajax works. But previously when it was working, I could get the 303 code , not seeing the 200 code, and I could redirect it manually, could you explain what was happened back then, so that I could understand more.  In the mean time, taking your advice and Dawood&#39;s, I&#39;ll change my algorithm.","body":"@Lk77, yes I&#39;m using ajax. I see, that is how ajax works. But previously when it was working, I could get the 303 code , not seeing the 200 code, and I could redirect it manually, could you explain what was happened back then, so that I could understand more.  In the mean time, taking your advice and Dawood&#39;s, I&#39;ll change my algorithm."},{"owner":{"account_id":11067412,"reputation":2313,"user_id":8126784,"display_name":"Lk77"},"score":0,"creation_date":1661323312,"post_id":73467144,"comment_id":129741145,"body_markdown":"Perhaps a 303 with missing Location header i don&#39;t know","body":"Perhaps a 303 with missing Location header i don&#39;t know"},{"owner":{"account_id":14706917,"reputation":157,"user_id":10621329,"display_name":"Dewa Syahrizal MN"},"score":0,"creation_date":1661324219,"post_id":73467144,"comment_id":129741421,"body_markdown":"Thank you @Lk77, I believe that what was happened. Thank you again and also to Dawood.","body":"Thank you @Lk77, I believe that what was happened. Thank you again and also to Dawood."}],"owner":{"account_id":14706917,"reputation":157,"user_id":10621329,"display_name":"Dewa Syahrizal MN"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661312103,"creation_date":1661312103,"question_id":73467144,"body_markdown":"I had this weird going on. \r\n\r\nI&#39;m using Jersey for API end-point, HTML and javascript front end. When I authenticate user, server will response 303 to tell the client the user is authenticated and to redirect to the said page (based on user group which the user belongs to), which I put it in Location header.\r\n\r\nBut when my server response with code 303, the client (html with pure javascript in this case) receive code of 200. But if I change the code to something else, let say 401, the client receive it correctly. This happened only if server response with code 303. \r\n\r\nWhy I return 303? I&#39;m not pretty sure myself, thought it is the right way to do it, I might just return 200, but I try to do it the proper way as much as I know and can. But that is for another time, suggestion are welcome.\r\n\r\nAnd even when I try to receive the Location from header and token from cookies, it return null. As if something happened to the response from server to client. I don&#39;t have anything that change response.\r\n\r\nLooking at the application log, everything went fine, nothing miss behave. \r\n\r\nIt was working fine, but suddenly this weird behavior happened. I already clear browser cache, clean build and deploy the app, restart tomcat, and even restart my dev machine, nothing solve it.\r\n\r\nI not found anything related with google. My way of code things might not the right way as I&#39;m quite new with REST.\r\n\r\nMy javascript:\r\n\r\n```\r\n                let xhr = new XMLHttpRequest();\r\n                xhr.onreadystatechange = function () {\r\n                    if (xhr.readyState === 4) {\r\n                        if(xhr.status === 200) {\r\n                            console.log(&quot;Login API return 200&quot;);\r\n                            console.log(&quot;Token: &quot; + xhr.getResponseHeader(&quot;Token&quot;));\r\n                            \r\n                        } else if (xhr.status === 303) {\r\n                            console.log(&quot;Status 303 with response text &quot; + xhr.responseText);\r\n                            console.log(&quot;Status 303 with redirect header of &quot; + xhr.getResponseHeader(&quot;redirect&quot;));\r\n                            // redirect user to the page\r\n                            window.location.href = xhr.getResponseHeader(&quot;Location&quot;);\r\n                        } else if (xhr.status === 401) {\r\n                            console.log(&#39;Unauthorized access to server.&#39;);\r\n                            document.getElementById(&quot;expired&quot;).style.display = &quot;none&quot;;\r\n                            document.getElementById(&quot;credential&quot;).style.display = &quot;block&quot;;\r\n                        } else {\r\n                            console.log(&quot;Returned status is &quot; + xhr.status);\r\n                            console.log(&quot;Response text is &quot; + xhr.responseText);\r\n                        }\r\n                    }\r\n                };\r\n                \r\n                xhr.open(&#39;POST&#39;, URL + &quot;/api/v1/users/login&quot;);\r\n                xhr.setRequestHeader(&quot;authorization&quot;, authHeader);\r\n                xhr.send();\r\n```\r\n\r\nMy java:\r\n\r\n```\r\n    @POST\r\n    @Path(&quot;/login&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public Response authUser(@Context HttpHeaders httpHeaders,\r\n                             @Context HttpServletRequest request) {\r\n        \r\n        log.debug(&quot;Server name : &quot; + request.getServerName());\r\n        String authHeader = httpHeaders.getRequestHeader(&quot;authorization&quot;).get(0);\r\n        String encodeAuth = authHeader.substring(authHeader.indexOf(&#39; &#39;) + 1);\r\n        String decodeAuth = new String(Base64.getDecoder().decode(encodeAuth));\r\n        String username = decodeAuth.substring(0, decodeAuth.indexOf(&#39;:&#39;));\r\n        String password = decodeAuth.substring(decodeAuth.indexOf(&#39;:&#39;) + 1);\r\n        User user = new User(username);\r\n        \r\n        log.debug(&quot;Username : &quot; + username);\r\n        log.debug(&quot;Password : &quot; + password);\r\n        \r\n        // Check user\r\n        if (!user.login(username,password)) {\r\n            // This is a response for the ajax for unauthorized login\r\n            log.warn(&quot;Can not authenticate user, either wrong username or password.&quot;);\r\n            // Return Unauthorized response\r\n            return Response\r\n                    .status(401)\r\n                    .entity(&quot;Unauthorized&quot;)\r\n                    .build();\r\n        }\r\n        \r\n        log.debug(&quot;Authentication success. Proceed with token and cookie creation&quot;);\r\n        // Create token\r\n        String token = TokenStore.getInstance().putToken(username);\r\n        // Get user&#39;s group\r\n        String userGroup = TokenStore.getInstance().getGroup(token);\r\n        \r\n        log.debug(&quot;Token created for the user is &quot; + token);\r\n        // Create cookie\r\n        NewCookie cookie = new NewCookie(&quot;Token&quot;,token,&quot;/app/&quot;, request.getServerName(),&quot;User token&quot;,1800,false);\r\n        \r\n        /* Create redirect URL. \r\n         * uriInfo.getBaseUriBuilder() will return http://&lt;host&gt;:&lt;port&gt;/app/api/ which is not \r\n         * desired in this scenario, the below is to eliminate /api/ from the URI \r\n         * to get only http://&lt;host&gt;:&lt;port&gt;/app\r\n         */\r\n        \r\n        String uri = uriInfo.getBaseUriBuilder().toString();\r\n        // nthLastIndexOf(2, &quot;/&quot;, uri) is a helper method to get the nth occurrence of a character in a string, from the last character.\r\n        int secondLast = nthLastIndexOf(2, &quot;/&quot;, uri);\r\n        String base = uri.substring(0,secondLast);\r\n        String redirect = &quot;&quot;;\r\n        if(null != userGroup) switch (userGroup) {\r\n            case &quot;groupA&quot;:\r\n                redirect = base +  &quot;/pageA&quot;;\r\n                break;\r\n            case &quot;groupB&quot;:\r\n                redirect = base +  &quot;/pageB&quot;;\r\n                break;\r\n            case &quot;groupC&quot;:\r\n                redirect = base +  &quot;/pageC&quot;;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        \r\n        URI re = null;\r\n        \r\n        log.debug(&quot;Created URI for redirect is &quot; + redirect);\r\n        try {\r\n            re = new URI(redirect);\r\n        } catch (URISyntaxException syntax) {\r\n            log.error(&quot;Cannot convert string to URI&quot;, syntax);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Cannot convert string to URI&quot;, e);\r\n        }\r\n        \r\n        log.debug(&quot;Return response 303.&quot;);\r\n        // Return redirect response\r\n        return Response\r\n                .status(303)\r\n                .entity(token)\r\n                .header(&quot;Location&quot;, redirect)\r\n                .cookie(cookie)\r\n                .build();\r\n    }\r\n```","title":"Client receive different http code from what the server had response","body":"<p>I had this weird going on.</p>\n<p>I'm using Jersey for API end-point, HTML and javascript front end. When I authenticate user, server will response 303 to tell the client the user is authenticated and to redirect to the said page (based on user group which the user belongs to), which I put it in Location header.</p>\n<p>But when my server response with code 303, the client (html with pure javascript in this case) receive code of 200. But if I change the code to something else, let say 401, the client receive it correctly. This happened only if server response with code 303.</p>\n<p>Why I return 303? I'm not pretty sure myself, thought it is the right way to do it, I might just return 200, but I try to do it the proper way as much as I know and can. But that is for another time, suggestion are welcome.</p>\n<p>And even when I try to receive the Location from header and token from cookies, it return null. As if something happened to the response from server to client. I don't have anything that change response.</p>\n<p>Looking at the application log, everything went fine, nothing miss behave.</p>\n<p>It was working fine, but suddenly this weird behavior happened. I already clear browser cache, clean build and deploy the app, restart tomcat, and even restart my dev machine, nothing solve it.</p>\n<p>I not found anything related with google. My way of code things might not the right way as I'm quite new with REST.</p>\n<p>My javascript:</p>\n<pre><code>                let xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === 4) {\n                        if(xhr.status === 200) {\n                            console.log(&quot;Login API return 200&quot;);\n                            console.log(&quot;Token: &quot; + xhr.getResponseHeader(&quot;Token&quot;));\n                            \n                        } else if (xhr.status === 303) {\n                            console.log(&quot;Status 303 with response text &quot; + xhr.responseText);\n                            console.log(&quot;Status 303 with redirect header of &quot; + xhr.getResponseHeader(&quot;redirect&quot;));\n                            // redirect user to the page\n                            window.location.href = xhr.getResponseHeader(&quot;Location&quot;);\n                        } else if (xhr.status === 401) {\n                            console.log('Unauthorized access to server.');\n                            document.getElementById(&quot;expired&quot;).style.display = &quot;none&quot;;\n                            document.getElementById(&quot;credential&quot;).style.display = &quot;block&quot;;\n                        } else {\n                            console.log(&quot;Returned status is &quot; + xhr.status);\n                            console.log(&quot;Response text is &quot; + xhr.responseText);\n                        }\n                    }\n                };\n                \n                xhr.open('POST', URL + &quot;/api/v1/users/login&quot;);\n                xhr.setRequestHeader(&quot;authorization&quot;, authHeader);\n                xhr.send();\n</code></pre>\n<p>My java:</p>\n<pre><code>    @POST\n    @Path(&quot;/login&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response authUser(@Context HttpHeaders httpHeaders,\n                             @Context HttpServletRequest request) {\n        \n        log.debug(&quot;Server name : &quot; + request.getServerName());\n        String authHeader = httpHeaders.getRequestHeader(&quot;authorization&quot;).get(0);\n        String encodeAuth = authHeader.substring(authHeader.indexOf(' ') + 1);\n        String decodeAuth = new String(Base64.getDecoder().decode(encodeAuth));\n        String username = decodeAuth.substring(0, decodeAuth.indexOf(':'));\n        String password = decodeAuth.substring(decodeAuth.indexOf(':') + 1);\n        User user = new User(username);\n        \n        log.debug(&quot;Username : &quot; + username);\n        log.debug(&quot;Password : &quot; + password);\n        \n        // Check user\n        if (!user.login(username,password)) {\n            // This is a response for the ajax for unauthorized login\n            log.warn(&quot;Can not authenticate user, either wrong username or password.&quot;);\n            // Return Unauthorized response\n            return Response\n                    .status(401)\n                    .entity(&quot;Unauthorized&quot;)\n                    .build();\n        }\n        \n        log.debug(&quot;Authentication success. Proceed with token and cookie creation&quot;);\n        // Create token\n        String token = TokenStore.getInstance().putToken(username);\n        // Get user's group\n        String userGroup = TokenStore.getInstance().getGroup(token);\n        \n        log.debug(&quot;Token created for the user is &quot; + token);\n        // Create cookie\n        NewCookie cookie = new NewCookie(&quot;Token&quot;,token,&quot;/app/&quot;, request.getServerName(),&quot;User token&quot;,1800,false);\n        \n        /* Create redirect URL. \n         * uriInfo.getBaseUriBuilder() will return http://&lt;host&gt;:&lt;port&gt;/app/api/ which is not \n         * desired in this scenario, the below is to eliminate /api/ from the URI \n         * to get only http://&lt;host&gt;:&lt;port&gt;/app\n         */\n        \n        String uri = uriInfo.getBaseUriBuilder().toString();\n        // nthLastIndexOf(2, &quot;/&quot;, uri) is a helper method to get the nth occurrence of a character in a string, from the last character.\n        int secondLast = nthLastIndexOf(2, &quot;/&quot;, uri);\n        String base = uri.substring(0,secondLast);\n        String redirect = &quot;&quot;;\n        if(null != userGroup) switch (userGroup) {\n            case &quot;groupA&quot;:\n                redirect = base +  &quot;/pageA&quot;;\n                break;\n            case &quot;groupB&quot;:\n                redirect = base +  &quot;/pageB&quot;;\n                break;\n            case &quot;groupC&quot;:\n                redirect = base +  &quot;/pageC&quot;;\n                break;\n            default:\n                break;\n        }\n        \n        URI re = null;\n        \n        log.debug(&quot;Created URI for redirect is &quot; + redirect);\n        try {\n            re = new URI(redirect);\n        } catch (URISyntaxException syntax) {\n            log.error(&quot;Cannot convert string to URI&quot;, syntax);\n        } catch (Exception e) {\n            log.error(&quot;Cannot convert string to URI&quot;, e);\n        }\n        \n        log.debug(&quot;Return response 303.&quot;);\n        // Return redirect response\n        return Response\n                .status(303)\n                .entity(token)\n                .header(&quot;Location&quot;, redirect)\n                .cookie(cookie)\n                .build();\n    }\n</code></pre>\n"},{"tags":["javascript","java","html","material-ui","formik-material-ui"],"owner":{"account_id":18266440,"reputation":39,"user_id":13841674,"display_name":"David Zheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661311481,"creation_date":1661311481,"question_id":73467093,"body_markdown":"Hi I am creating a form using materialUI and formik. I am trying to create a Date field using TextField component that gives me back an Instant rather than a LocalDate.\r\n\r\nThe code for that field is provided below:\r\n\r\n    &lt;Grid item xs={12} sm={12}&gt;\r\n     &lt;Field\r\n      name=&#39;Date&#39;\r\n      label=&#39;Date&#39;\r\n      type=&quot;date&quot;\r\n      component={TextField}\r\n     /&gt;\r\n    &lt;/Grid&gt;\r\n\r\nI tried type=&quot;date&quot; and type=&quot;datetime-local&quot; and I am getting this error:\r\n\r\nJSON parse error: Cannot deserialize value of type java.time.Instant from String &quot;2022-08-23&quot;: Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text &#39;2022-08-23&#39; could not be parsed at index 10; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize\r\n\r\nOn the materialUI website it said that type should be a valid html5 input type.\r\n\r\nhttps://v4.mui.com/api/text-field/\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_%3Cinput%3E_types\r\n\r\nWhat other valid input type are there that can give me an Instant??\r\n\r\n","title":"How to create an Instant field for a date field using formik and material ui?","body":"<p>Hi I am creating a form using materialUI and formik. I am trying to create a Date field using TextField component that gives me back an Instant rather than a LocalDate.</p>\n<p>The code for that field is provided below:</p>\n<pre><code>&lt;Grid item xs={12} sm={12}&gt;\n &lt;Field\n  name='Date'\n  label='Date'\n  type=&quot;date&quot;\n  component={TextField}\n /&gt;\n&lt;/Grid&gt;\n</code></pre>\n<p>I tried type=&quot;date&quot; and type=&quot;datetime-local&quot; and I am getting this error:</p>\n<p>JSON parse error: Cannot deserialize value of type java.time.Instant from String &quot;2022-08-23&quot;: Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text '2022-08-23' could not be parsed at index 10; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize</p>\n<p>On the materialUI website it said that type should be a valid html5 input type.</p>\n<p><a href=\"https://v4.mui.com/api/text-field/\" rel=\"nofollow noreferrer\">https://v4.mui.com/api/text-field/</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_%3Cinput%3E_types\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_%3Cinput%3E_types</a></p>\n<p>What other valid input type are there that can give me an Instant??</p>\n"},{"tags":["java","gradle","groovy","build","nexus"],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661310026,"creation_date":1661310026,"answer_id":73466983,"question_id":55136908,"body_markdown":"In case this helps anyone else, gradle properties can be accessed in `settings.gradle` using the [Settings](https://docs.gradle.org/current/javadoc/org/gradle/api/initialization/Settings.html) object. So a conditional way to set plugin repositories would look something like this:\r\n\r\n```groovy\r\npluginManagement {\r\n    repositories {\r\n        if (settings.hasProperty(&#39;kkvmvn&#39;)) {\r\n            maven {\r\n              url settings.kkvmvn\r\n            }\r\n        } else {\r\n            mavenLocal()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n        }\r\n    }\r\n}\r\n```","title":"Gradle plugin management","body":"<p>In case this helps anyone else, gradle properties can be accessed in <code>settings.gradle</code> using the <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/initialization/Settings.html\" rel=\"nofollow noreferrer\">Settings</a> object. So a conditional way to set plugin repositories would look something like this:</p>\n<pre><code>pluginManagement {\n    repositories {\n        if (settings.hasProperty('kkvmvn')) {\n            maven {\n              url settings.kkvmvn\n            }\n        } else {\n            mavenLocal()\n            mavenCentral()\n            gradlePluginPortal()\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1456,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1661310026,"creation_date":1552463920,"question_id":55136908,"body_markdown":"I&#39;m trying to configure the plugin management for Gradle project to retrieve the plugin dependencies from Nexus.\r\n\r\nI have the following line as the first block in the settings.gradle file\r\n\r\n    pluginManagement {\r\n    \trepositories {\r\n    \t\tif (project.hasProperty(&#39;kkvmvn&#39;)) {\r\n    \t\t\tmaven {\r\n    \t\t\t  url &quot;${kkvmvn}&quot;\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tmavenLocal()\r\n    \t\t\tmavenCentral()\r\n    \t\t\tgradlePluginPortal()\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHowever, I&#39;m getting the following error\r\n\r\n    Caused by: groovy.lang.MissingPropertyException: Could not get unknown property &#39;project&#39; for repository container of type org.gradle.api.internal.artifacts.dsl.DefaultRepositoryHandler.\r\n\r\nBasically I need to access the command line parameter to set the Nexus URL. How do I do this in settings.gradle file? AFAIK it isn&#39;t possible to declare plugin repository in build.gradle file. Here is example how I retrieve other library dependencies in build.gradle\r\n\r\n    subprojects {\r\n        // Java Version JDK 8\r\n        sourceCompatibility = 1.8\r\n        targetCompatibility = 1.8\r\n        \r\n        tasks.withType(JavaCompile) {\r\n            options.encoding = &#39;UTF-8&#39;\r\n        }\r\n        \r\n        repositories {\r\n    \t\tif (project.hasProperty(&#39;kkvmvn&#39;)) {\r\n    \t    \tmaven {\r\n    \t\t      url &quot;${kkvmvn}&quot;\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tmavenLocal()\r\n    \t\t\tmavenCentral()\r\n    \t\t}\r\n        }\r\n    }\r\n\r\n","title":"Gradle plugin management","body":"<p>I'm trying to configure the plugin management for Gradle project to retrieve the plugin dependencies from Nexus.</p>\n\n<p>I have the following line as the first block in the settings.gradle file</p>\n\n<pre><code>pluginManagement {\n    repositories {\n        if (project.hasProperty('kkvmvn')) {\n            maven {\n              url \"${kkvmvn}\"\n            }\n        } else {\n            mavenLocal()\n            mavenCentral()\n            gradlePluginPortal()\n        }\n    }\n}\n</code></pre>\n\n<p>However, I'm getting the following error</p>\n\n<pre><code>Caused by: groovy.lang.MissingPropertyException: Could not get unknown property 'project' for repository container of type org.gradle.api.internal.artifacts.dsl.DefaultRepositoryHandler.\n</code></pre>\n\n<p>Basically I need to access the command line parameter to set the Nexus URL. How do I do this in settings.gradle file? AFAIK it isn't possible to declare plugin repository in build.gradle file. Here is example how I retrieve other library dependencies in build.gradle</p>\n\n<pre><code>subprojects {\n    // Java Version JDK 8\n    sourceCompatibility = 1.8\n    targetCompatibility = 1.8\n\n    tasks.withType(JavaCompile) {\n        options.encoding = 'UTF-8'\n    }\n\n    repositories {\n        if (project.hasProperty('kkvmvn')) {\n            maven {\n              url \"${kkvmvn}\"\n            }\n        } else {\n            mavenLocal()\n            mavenCentral()\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","react-native","ssl","keystore"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661317236,"post_id":73463085,"comment_id":129739811,"body_markdown":"Try setting the keystore type to PKCS11.","body":"Try setting the keystore type to PKCS11."}],"owner":{"account_id":24263475,"reputation":11,"user_id":18703663,"display_name":"Dev Upadhyay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661309959,"creation_date":1661277001,"question_id":73463085,"body_markdown":"This is the error that is coming up while generating the SHA-1 fingerprint, I wrote my entire code on VS Code. I used JDK 1.7.0_80 for keytool and generated JKS file from Android Studio. \r\nThis is the command I used ` {keytool -list -v -keystore C:\\Users\\devup\\ReactNativeMap1\\test.jks -alias test} `\r\nThen I had to enter the keystore password, which I am sure I wrote correctly. \r\nAfter typing the password, this is the error that showed up.\r\n\r\n```\r\nkeytool error: java.io.IOException: Invalid keystore format\r\njava.io.IOException: Invalid keystore format\r\nat sun.security.provider.JavaKeyStore.engineLoad(Unknown Source)\r\nat sun.security.provider.JavaKeyStore$JKS.engineLoad(Unknown Source)\r\nat sun.security.provider.KeyStoreDelegator.engineLoad(Unknown Source)\r\nat sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(Unknown Source)\r\nat java.security.KeyStore.load(Unknown Source)\r\nat sun.security.tools.keytool.Main.doCommands(Unknown Source)   \r\nat sun.security.tools.keytool.Main.run(Unknown Source)\r\nat sun.security.tools.keytool.Main.main(Unknown Source)\r\n```\r\n\r\nI tried matching the keytool and java versions but didn&#39;t work.\r\nI tried using JRE 1.8.0_251 but didn&#39;t work.\r\nI tried older versions of JRE but got the same error.\r\nHow can I solve this error.\r\n\r\n[Here is the error screenshot][1]\r\n\r\n[1]: https://i.stack.imgur.com/Mutwe.png","title":"{keytool error: java.io.IOException: Invalid keystore format }Need to generate SHA-1 signing-certificate fingerprint","body":"<p>This is the error that is coming up while generating the SHA-1 fingerprint, I wrote my entire code on VS Code. I used JDK 1.7.0_80 for keytool and generated JKS file from Android Studio.\nThis is the command I used <code>{keytool -list -v -keystore C:\\Users\\devup\\ReactNativeMap1\\test.jks -alias test}</code>\nThen I had to enter the keystore password, which I am sure I wrote correctly.\nAfter typing the password, this is the error that showed up.</p>\n<pre><code>keytool error: java.io.IOException: Invalid keystore format\njava.io.IOException: Invalid keystore format\nat sun.security.provider.JavaKeyStore.engineLoad(Unknown Source)\nat sun.security.provider.JavaKeyStore$JKS.engineLoad(Unknown Source)\nat sun.security.provider.KeyStoreDelegator.engineLoad(Unknown Source)\nat sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(Unknown Source)\nat java.security.KeyStore.load(Unknown Source)\nat sun.security.tools.keytool.Main.doCommands(Unknown Source)   \nat sun.security.tools.keytool.Main.run(Unknown Source)\nat sun.security.tools.keytool.Main.main(Unknown Source)\n</code></pre>\n<p>I tried matching the keytool and java versions but didn't work.\nI tried using JRE 1.8.0_251 but didn't work.\nI tried older versions of JRE but got the same error.\nHow can I solve this error.</p>\n<p><a href=\"https://i.stack.imgur.com/Mutwe.png\" rel=\"nofollow noreferrer\">Here is the error screenshot</a></p>\n"},{"tags":["java","caching","ignite","affinity"],"answers":[{"tags":[],"owner":{"account_id":3690305,"reputation":1896,"user_id":3073027,"accept_rate":25,"display_name":"solveMe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661309757,"creation_date":1661309757,"answer_id":73466963,"question_id":73209202,"body_markdown":"You can just to do `cache.get(new AffinityKey&lt;&gt;(idKey1, &quot;a&quot;))` and check returned value","title":"How to check if some affinity values exists in Ignite Cache?","body":"<p>You can just to do <code>cache.get(new AffinityKey&lt;&gt;(idKey1, &quot;a&quot;))</code> and check returned value</p>\n"}],"owner":{"account_id":25837244,"reputation":109,"user_id":19573454,"display_name":"Vincent Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661309757,"creation_date":1659450140,"question_id":73209202,"body_markdown":"Is there any function like `cache.containsAffinity(T myField)` to check if such affinity value exists in the cache?\r\n\r\nFor example, I set cache config like this: `&lt;AffinityKey&lt;String&gt;, Object&gt;`, and write data using streamer: \r\n\r\n`streamer.addData(new AffinityKey&lt;&gt;(idKey1, &quot;a&quot;), obj)`\r\n\r\n`streamer.addData(new AffinityKey&lt;&gt;(idKey2, &quot;b&quot;), obj)`\r\n\r\n`streamer.addData(new AffinityKey&lt;&gt;(idKey3, &quot;c&quot;), obj)`\r\n\r\nHow can I check if affinity value &quot;a&quot; exists in the cache and has related data entries, while affinity &quot;f&quot; has no related data?","title":"How to check if some affinity values exists in Ignite Cache?","body":"<p>Is there any function like <code>cache.containsAffinity(T myField)</code> to check if such affinity value exists in the cache?</p>\n<p>For example, I set cache config like this: <code>&lt;AffinityKey&lt;String&gt;, Object&gt;</code>, and write data using streamer:</p>\n<p><code>streamer.addData(new AffinityKey&lt;&gt;(idKey1, &quot;a&quot;), obj)</code></p>\n<p><code>streamer.addData(new AffinityKey&lt;&gt;(idKey2, &quot;b&quot;), obj)</code></p>\n<p><code>streamer.addData(new AffinityKey&lt;&gt;(idKey3, &quot;c&quot;), obj)</code></p>\n<p>How can I check if affinity value &quot;a&quot; exists in the cache and has related data entries, while affinity &quot;f&quot; has no related data?</p>\n"},{"tags":["java","post","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":10037631,"reputation":1115,"user_id":7421645,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661296932,"creation_date":1661296932,"answer_id":73465903,"question_id":73465396,"body_markdown":"Are you sure that isn&#39;t the full JSON data? Maybe the issue is your server?\r\n\r\nI also noticed an issue in the JSON body. I would assume this is the payload you want to send?\r\n\r\n    {\r\n      &quot;name&quot;: &quot;morpheus&quot;,\r\n      &quot;job&quot;:  &quot;leader&quot;\r\n    }\r\n\r\nI don&#39;t think there is anything wrong with your test code other than the JSON, but you can get restAssured to log the response payload and do the assertions...\r\n\r\n      @Test\r\n      public void postTest() {\r\n        RestAssured.given()\r\n            .body(&quot;{&quot;\r\n                + &quot;\\&quot;name\\&quot;: \\&quot;morpheus\\&quot;,&quot;\r\n                + &quot;\\&quot;job\\&quot;: \\&quot;leader\\&quot;&quot;\r\n                + &quot;}&quot;)\r\n            .when()\r\n            .post(base_URI)\r\n            .then().log().body()\r\n            .and().assertThat().statusCode(201);\r\n      }\r\n\r\n","title":"RestAssured getBody after Post Request","body":"<p>Are you sure that isn't the full JSON data? Maybe the issue is your server?</p>\n<p>I also noticed an issue in the JSON body. I would assume this is the payload you want to send?</p>\n<pre><code>{\n  &quot;name&quot;: &quot;morpheus&quot;,\n  &quot;job&quot;:  &quot;leader&quot;\n}\n</code></pre>\n<p>I don't think there is anything wrong with your test code other than the JSON, but you can get restAssured to log the response payload and do the assertions...</p>\n<pre><code>  @Test\n  public void postTest() {\n    RestAssured.given()\n        .body(&quot;{&quot;\n            + &quot;\\&quot;name\\&quot;: \\&quot;morpheus\\&quot;,&quot;\n            + &quot;\\&quot;job\\&quot;: \\&quot;leader\\&quot;&quot;\n            + &quot;}&quot;)\n        .when()\n        .post(base_URI)\n        .then().log().body()\n        .and().assertThat().statusCode(201);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661309434,"creation_date":1661309434,"answer_id":73466927,"question_id":73465396,"body_markdown":"The problem is you forgot add `content-type=application/json` to header. The correct code would be:\r\n\r\n```\r\nResponse response = RestAssured.given()\r\n        .contentType(ContentType.JSON)\r\n        .body(&quot;{\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot;: \\&quot;morpheus\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;job\\&quot;: \\&quot;leader\\&quot;\\n&quot; +\r\n                &quot;}&quot;)\r\n        .when()\r\n        .post(&quot;https://reqres.in/api/users&quot;);\r\nassertEquals(response.statusCode(), 201);\r\nresponse.prettyPrint();\r\n```\r\n\r\nResult:\r\n\r\n```\r\n{\r\n    &quot;name&quot;: &quot;morpheus&quot;,\r\n    &quot;job&quot;: &quot;leader&quot;,\r\n    &quot;id&quot;: &quot;257&quot;,\r\n    &quot;createdAt&quot;: &quot;2022-08-24T02:48:40.444Z&quot;\r\n}\r\n```","title":"RestAssured getBody after Post Request","body":"<p>The problem is you forgot add <code>content-type=application/json</code> to header. The correct code would be:</p>\n<pre><code>Response response = RestAssured.given()\n        .contentType(ContentType.JSON)\n        .body(&quot;{\\n&quot; +\n                &quot;    \\&quot;name\\&quot;: \\&quot;morpheus\\&quot;,\\n&quot; +\n                &quot;    \\&quot;job\\&quot;: \\&quot;leader\\&quot;\\n&quot; +\n                &quot;}&quot;)\n        .when()\n        .post(&quot;https://reqres.in/api/users&quot;);\nassertEquals(response.statusCode(), 201);\nresponse.prettyPrint();\n</code></pre>\n<p>Result:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;morpheus&quot;,\n    &quot;job&quot;: &quot;leader&quot;,\n    &quot;id&quot;: &quot;257&quot;,\n    &quot;createdAt&quot;: &quot;2022-08-24T02:48:40.444Z&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":22048796,"reputation":31,"user_id":16313394,"display_name":"Kim Gordon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661309434,"creation_date":1661291579,"question_id":73465396,"body_markdown":"I&#39;m working on the POST request to get a better understanding of RestAssured on the website https://reqres.in/\r\n\r\n\t@Test\r\n  \tpublic void postTest() {\t\t\t\t\t\t\r\n\t\tResponse response = RestAssured.given()\r\n\t\t\t\t\t\t\t\t\t\t.body(&quot;{\\&quot;name\\&quot;: \\&quot;morpheus\\&quot;}&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ &quot;{\\&quot;job\\&quot;: \\&quot;leader\\&quot;}&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.when()\r\n\t\t\t\t\t\t\t\t\t\t.post(base_URI);\r\n\t\tassertEquals(response.statusCode(), 201);\r\n\t\tSystem.out.println(response.asPrettyString());\r\n  \t}\r\n\r\nThe `status code` is `201` which is I expected, I want to print out the JSON data that I just POST by using `response.asPrettyString()`\r\n\r\nBut the data returned is \r\n\r\n    {\r\n        &quot;id&quot;: &quot;302&quot;,\r\n        &quot;createdAt&quot;: &quot;2022-08-23T21:47:44.857Z&quot;\r\n    }\r\n\r\ninstad of \r\n\r\n    {\r\n        &quot;name&quot;: &quot;morpheus&quot;,\r\n        &quot;job&quot;: &quot;leader&quot;,\r\n        &quot;id&quot;: &quot;324&quot;,\r\n        &quot;createdAt&quot;: &quot;2022-08-23T21:47:21.176Z&quot;\r\n    }\r\nWhat should I do to get the full JSON data?\r\n","title":"RestAssured getBody after Post Request","body":"<p>I'm working on the POST request to get a better understanding of RestAssured on the website <a href=\"https://reqres.in/\" rel=\"nofollow noreferrer\">https://reqres.in/</a></p>\n<pre><code>@Test\npublic void postTest() {                        \n    Response response = RestAssured.given()\n                                    .body(&quot;{\\&quot;name\\&quot;: \\&quot;morpheus\\&quot;}&quot;\n                                            + &quot;{\\&quot;job\\&quot;: \\&quot;leader\\&quot;}&quot;)\n                                    .when()\n                                    .post(base_URI);\n    assertEquals(response.statusCode(), 201);\n    System.out.println(response.asPrettyString());\n}\n</code></pre>\n<p>The <code>status code</code> is <code>201</code> which is I expected, I want to print out the JSON data that I just POST by using <code>response.asPrettyString()</code></p>\n<p>But the data returned is</p>\n<pre><code>{\n    &quot;id&quot;: &quot;302&quot;,\n    &quot;createdAt&quot;: &quot;2022-08-23T21:47:44.857Z&quot;\n}\n</code></pre>\n<p>instad of</p>\n<pre><code>{\n    &quot;name&quot;: &quot;morpheus&quot;,\n    &quot;job&quot;: &quot;leader&quot;,\n    &quot;id&quot;: &quot;324&quot;,\n    &quot;createdAt&quot;: &quot;2022-08-23T21:47:21.176Z&quot;\n}\n</code></pre>\n<p>What should I do to get the full JSON data?</p>\n"},{"tags":["java","thread-safety","lazy-initialization"],"answers":[{"tags":[],"owner":{"account_id":1047162,"reputation":4175,"user_id":1051927,"accept_rate":77,"display_name":"narek.gevorgyan"},"down_vote_count":7,"up_vote_count":16,"is_accepted":false,"score":9,"last_activity_date":1322492422,"creation_date":1322492422,"answer_id":8297738,"question_id":8297705,"body_markdown":"    class Foo {\r\n      private volatile Helper helper = null;\r\n      public Helper getHelper() {\r\n        if (helper == null) {\r\n          synchronized(this) {\r\n            if (helper == null) {\r\n              helper = new Helper();\r\n            }\r\n          }\r\n        }\r\n      return helper;\r\n    }\r\nThis is called double checking!\r\nCheck this http://jeremymanson.blogspot.com/2008/05/double-checked-locking.html","title":"How to implement thread-safe lazy initialization?","body":"<pre><code>class Foo {\n  private volatile Helper helper = null;\n  public Helper getHelper() {\n    if (helper == null) {\n      synchronized(this) {\n        if (helper == null) {\n          helper = new Helper();\n        }\n      }\n    }\n  return helper;\n}\n</code></pre>\n\n<p>This is called double checking!\nCheck this <a href=\"http://jeremymanson.blogspot.com/2008/05/double-checked-locking.html\" rel=\"noreferrer\">http://jeremymanson.blogspot.com/2008/05/double-checked-locking.html</a></p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322492466,"creation_date":1322492466,"answer_id":8297748,"question_id":8297705,"body_markdown":"Put the code in a `synchronized` block with some suitable lock. There are some other highly specialist techniques, but I&#39;d suggest avoiding those unless absolutely necessary.\r\n\r\nAlso you&#39;ve used SHOUTY case, which tends to indicate a `static` but an instance method. If it is really static, I suggest you make sure it isn&#39;t in any way mutable. If it&#39;s just an expensive to create static immutable, then class loading is lazy anyway. You may want to move it to a different (possibly nested) class to delay creation to the absolute last possible moment.","title":"How to implement thread-safe lazy initialization?","body":"<p>Put the code in a <code>synchronized</code> block with some suitable lock. There are some other highly specialist techniques, but I'd suggest avoiding those unless absolutely necessary.</p>\n\n<p>Also you've used SHOUTY case, which tends to indicate a <code>static</code> but an instance method. If it is really static, I suggest you make sure it isn't in any way mutable. If it's just an expensive to create static immutable, then class loading is lazy anyway. You may want to move it to a different (possibly nested) class to delay creation to the absolute last possible moment.</p>\n"},{"tags":[],"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322492478,"creation_date":1322492478,"answer_id":8297751,"question_id":8297705,"body_markdown":"Depending on what you try to achieve:\r\n\r\nIf you want all Threads to share the same instance, you can make the method synchronized. This will be sufficient\r\n\r\nIf you want to make a separate INSTANCE for each Thread, you should use java.lang.ThreadLocal","title":"How to implement thread-safe lazy initialization?","body":"<p>Depending on what you try to achieve:</p>\n\n<p>If you want all Threads to share the same instance, you can make the method synchronized. This will be sufficient</p>\n\n<p>If you want to make a separate INSTANCE for each Thread, you should use java.lang.ThreadLocal</p>\n"},{"tags":[],"owner":{"account_id":467264,"reputation":1915,"user_id":872501,"accept_rate":53,"display_name":"C.c"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1342255533,"creation_date":1322492692,"answer_id":8297806,"question_id":8297705,"body_markdown":"Try to defined the method which gets an instance as synchronized:\r\n\r\n    public synchronized Foo getInstance(){\r\n       if(INSTANCE == null){\r\n        INSTANCE = new Foo();\r\n      }\r\n\r\n      return INSTANCE;\r\n     }\r\n\r\nOr use a variable:\r\n\r\n    private static final String LOCK = &quot;LOCK&quot;;\r\n    public synchronized Foo getInstance(){\r\n      synchronized(LOCK){\r\n         if(INSTANCE == null){\r\n           INSTANCE = new Foo();\r\n         }\r\n      }\r\n      return INSTANCE;\r\n     }\r\n","title":"How to implement thread-safe lazy initialization?","body":"<p>Try to defined the method which gets an instance as synchronized:</p>\n\n<pre><code>public synchronized Foo getInstance(){\n   if(INSTANCE == null){\n    INSTANCE = new Foo();\n  }\n\n  return INSTANCE;\n }\n</code></pre>\n\n<p>Or use a variable:</p>\n\n<pre><code>private static final String LOCK = \"LOCK\";\npublic synchronized Foo getInstance(){\n  synchronized(LOCK){\n     if(INSTANCE == null){\n       INSTANCE = new Foo();\n     }\n  }\n  return INSTANCE;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1322493499,"creation_date":1322492705,"answer_id":8297810,"question_id":8297705,"body_markdown":"The easiest way is to use a static inner holder class :\r\n\r\n    public class Singleton {\r\n\r\n        private Singleton() {\r\n        }\r\n\r\n        public static Singleton getInstance() {\r\n            return Holder.INSTANCE;\r\n        }\r\n\r\n        private static class Holder {\r\n            private static final Singleton INSTANCE = new Singleton();\r\n        }\r\n    }","title":"How to implement thread-safe lazy initialization?","body":"<p>The easiest way is to use a static inner holder class :</p>\n\n<pre><code>public class Singleton {\n\n    private Singleton() {\n    }\n\n    public static Singleton getInstance() {\n        return Holder.INSTANCE;\n    }\n\n    private static class Holder {\n        private static final Singleton INSTANCE = new Singleton();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":1,"up_vote_count":72,"is_accepted":true,"score":71,"last_activity_date":1322493473,"creation_date":1322492771,"answer_id":8297830,"question_id":8297705,"body_markdown":"For singletons there is an elegant solution by delegating the task to the JVM code for static initialization.\r\n\r\n    public class Something {\r\n        private Something() {\r\n        }\r\n \r\n        private static class LazyHolder {\r\n                public static final Something INSTANCE = new Something();\r\n        }\r\n \r\n        public static Something getInstance() {\r\n                return LazyHolder.INSTANCE;\r\n        }\r\n    }\r\n\r\n\r\nsee \r\n\r\nhttp://en.wikipedia.org/wiki/Initialization_on_demand_holder_idiom\r\n\r\nand this blog post of Crazy Bob Lee \r\n\r\nhttp://blog.crazybob.org/2007/01/lazy-loading-singletons.html\r\n\r\n\r\n","title":"How to implement thread-safe lazy initialization?","body":"<p>For singletons there is an elegant solution by delegating the task to the JVM code for static initialization.</p>\n\n<pre><code>public class Something {\n    private Something() {\n    }\n\n    private static class LazyHolder {\n            public static final Something INSTANCE = new Something();\n    }\n\n    public static Something getInstance() {\n            return LazyHolder.INSTANCE;\n    }\n}\n</code></pre>\n\n<p>see </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Initialization_on_demand_holder_idiom\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Initialization_on_demand_holder_idiom</a></p>\n\n<p>and this blog post of Crazy Bob Lee </p>\n\n<p><a href=\"http://blog.crazybob.org/2007/01/lazy-loading-singletons.html\" rel=\"noreferrer\">http://blog.crazybob.org/2007/01/lazy-loading-singletons.html</a></p>\n"},{"tags":[],"owner":{"account_id":86926,"reputation":2892,"user_id":241379,"display_name":"Kenston Choi"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1573183155,"creation_date":1398160572,"answer_id":23216203,"question_id":8297705,"body_markdown":"If you&#39;re using **Apache Commons Lang**, then you can use one of the variations of [ConcurrentInitializer][1] like [LazyInitializer][2].\r\n\r\nExample:\r\n\r\n    ConcurrentInitializer&lt;Foo&gt; lazyInitializer = new LazyInitializer&lt;Foo&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected Foo initialize() throws ConcurrentException {\r\n\t\t\t\treturn new Foo();\r\n\t\t\t}\r\n\t\t};\r\n\r\nYou can now safely get Foo (gets initialized only once):\r\n\r\n    Foo instance = lazyInitializer.get();\r\n\r\nIf you&#39;re using **Google&#39;s Guava**:\r\n\r\n    Supplier&lt;Foo&gt; fooSupplier = Suppliers.memoize(new Supplier&lt;Foo&gt;() {\r\n        public Foo get() {\r\n            return new Foo();\r\n        }\r\n    });\r\n\r\nThen call it by `Foo f = fooSupplier.get();`\r\n\r\nFrom Suppliers.memoize [javadoc][3]:\r\n&gt; Returns a supplier which caches the instance retrieved during the first call to get() and returns that value on subsequent calls to get(). The returned supplier is **thread-safe**. The delegate&#39;s get() method will be invoked **at most once**. If delegate is an instance created by an earlier call to memoize, it is returned directly.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/concurrent/ConcurrentInitializer.html\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/concurrent/LazyInitializer.html\r\n  [3]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Suppliers.html#memoize(com.google.common.base.Supplier)","title":"How to implement thread-safe lazy initialization?","body":"<p>If you're using <strong>Apache Commons Lang</strong>, then you can use one of the variations of <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/concurrent/ConcurrentInitializer.html\" rel=\"noreferrer\">ConcurrentInitializer</a> like <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/concurrent/LazyInitializer.html\" rel=\"noreferrer\">LazyInitializer</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>ConcurrentInitializer&lt;Foo&gt; lazyInitializer = new LazyInitializer&lt;Foo&gt;() {\n\n        @Override\n        protected Foo initialize() throws ConcurrentException {\n            return new Foo();\n        }\n    };\n</code></pre>\n\n<p>You can now safely get Foo (gets initialized only once):</p>\n\n<pre><code>Foo instance = lazyInitializer.get();\n</code></pre>\n\n<p>If you're using <strong>Google's Guava</strong>:</p>\n\n<pre><code>Supplier&lt;Foo&gt; fooSupplier = Suppliers.memoize(new Supplier&lt;Foo&gt;() {\n    public Foo get() {\n        return new Foo();\n    }\n});\n</code></pre>\n\n<p>Then call it by <code>Foo f = fooSupplier.get();</code></p>\n\n<p>From Suppliers.memoize <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Suppliers.html#memoize(com.google.common.base.Supplier)\" rel=\"noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>Returns a supplier which caches the instance retrieved during the first call to get() and returns that value on subsequent calls to get(). The returned supplier is <strong>thread-safe</strong>. The delegate's get() method will be invoked <strong>at most once</strong>. If delegate is an instance created by an earlier call to memoize, it is returned directly.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1431637032,"creation_date":1431637032,"answer_id":30247202,"question_id":8297705,"body_markdown":"This can be done in lock-free manner by using [`AtomicReference`][1] as instance holder:\r\n    \r\n    // in class declaration\r\n    private AtomicReference&lt;Foo&gt; instance = new AtomicReference&lt;&gt;(null);  \r\n\r\n    public Foo getInstance() {\r\n       Foo foo = instance.get();\r\n       if (foo == null) {\r\n           foo = new Foo();                       // create and initialize actual instance\r\n           if (instance.compareAndSet(null, foo)) // CAS succeeded\r\n               return foo;\r\n           else                                   // CAS failed: other thread set an object \r\n               return instance.get();             \r\n       } else {\r\n           return foo;\r\n       }\r\n    }\r\n\r\nMain disadvantage here is that multiple threads can concurrently instantiate two or more `Foo` objects, and only one will be lucky to be set up, so if instantiation requires I/O or another shared resource, this method may not be suitable.\r\n\r\nAt the other side, this approach is ***lock-free*** and ***wait-free***: if one thread which first entered this method is stuck, it won&#39;t affect execution of others.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html","title":"How to implement thread-safe lazy initialization?","body":"<p>This can be done in lock-free manner by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html\" rel=\"noreferrer\"><code>AtomicReference</code></a> as instance holder:</p>\n\n<pre><code>// in class declaration\nprivate AtomicReference&lt;Foo&gt; instance = new AtomicReference&lt;&gt;(null);  \n\npublic Foo getInstance() {\n   Foo foo = instance.get();\n   if (foo == null) {\n       foo = new Foo();                       // create and initialize actual instance\n       if (instance.compareAndSet(null, foo)) // CAS succeeded\n           return foo;\n       else                                   // CAS failed: other thread set an object \n           return instance.get();             \n   } else {\n       return foo;\n   }\n}\n</code></pre>\n\n<p>Main disadvantage here is that multiple threads can concurrently instantiate two or more <code>Foo</code> objects, and only one will be lucky to be set up, so if instantiation requires I/O or another shared resource, this method may not be suitable.</p>\n\n<p>At the other side, this approach is <strong><em>lock-free</em></strong> and <strong><em>wait-free</em></strong>: if one thread which first entered this method is stuck, it won't affect execution of others.</p>\n"},{"tags":[],"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484154680,"creation_date":1484154680,"answer_id":41596757,"question_id":8297705,"body_markdown":"Thinking about lazy initialization, I would expect getting a &quot;almost real&quot; object that just decorates the still not initialized object.\r\n\r\nWhen the first method is being invoked, the instance within the decorated interface will be initialized.\r\n\r\n\\* Because of the Proxy usage, the initiated object must implement the passed interface.\r\n\r\n\\* The difference from other solutions is the encapsulation of the initiation from the usage. You start working directly with `DataSource` as if it was initialized. It will be initialized on the first method&#39;s invocation.\r\n\r\n**Usage:**\r\n\r\n    DataSource ds = LazyLoadDecorator.create(dsSupplier, DataSource.class)\r\n\r\n**Behind the scenes:**\r\n\r\n    public class LazyLoadDecorator&lt;T&gt; implements InvocationHandler {\r\n    \r\n    \tprivate final Object syncLock = new Object();\r\n    \tprotected volatile T inner;\r\n    \tprivate Supplier&lt;T&gt; supplier;\r\n    \r\n    \tprivate LazyLoadDecorator(Supplier&lt;T&gt; supplier) {\r\n    \t\tthis.supplier = supplier;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n    \t\tif (inner == null) {\r\n    \t\t\tsynchronized (syncLock) {\r\n    \t\t\t\tif (inner == null) {\r\n    \t\t\t\t\tinner = load();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn method.invoke(inner, args);\r\n    \t}\r\n    \r\n    \tprotected T load() {\r\n    \t\treturn supplier.get();\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static &lt;T&gt; T create(Supplier&lt;T&gt; factory, Class&lt;T&gt; clazz) {\r\n    \t\treturn (T) Proxy.newProxyInstance(LazyLoadDecorator.class.getClassLoader(),\r\n    \t\t\t\tnew Class[] {clazz},\r\n    \t\t\t\tnew LazyLoadDecorator&lt;&gt;(factory));\r\n    \t}\r\n    }","title":"How to implement thread-safe lazy initialization?","body":"<p>Thinking about lazy initialization, I would expect getting a \"almost real\" object that just decorates the still not initialized object.</p>\n\n<p>When the first method is being invoked, the instance within the decorated interface will be initialized.</p>\n\n<p>* Because of the Proxy usage, the initiated object must implement the passed interface.</p>\n\n<p>* The difference from other solutions is the encapsulation of the initiation from the usage. You start working directly with <code>DataSource</code> as if it was initialized. It will be initialized on the first method's invocation.</p>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>DataSource ds = LazyLoadDecorator.create(dsSupplier, DataSource.class)\n</code></pre>\n\n<p><strong>Behind the scenes:</strong></p>\n\n<pre><code>public class LazyLoadDecorator&lt;T&gt; implements InvocationHandler {\n\n    private final Object syncLock = new Object();\n    protected volatile T inner;\n    private Supplier&lt;T&gt; supplier;\n\n    private LazyLoadDecorator(Supplier&lt;T&gt; supplier) {\n        this.supplier = supplier;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        if (inner == null) {\n            synchronized (syncLock) {\n                if (inner == null) {\n                    inner = load();\n                }\n            }\n        }\n        return method.invoke(inner, args);\n    }\n\n    protected T load() {\n        return supplier.get();\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; T create(Supplier&lt;T&gt; factory, Class&lt;T&gt; clazz) {\n        return (T) Proxy.newProxyInstance(LazyLoadDecorator.class.getClassLoader(),\n                new Class[] {clazz},\n                new LazyLoadDecorator&lt;&gt;(factory));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6420931,"reputation":321,"user_id":4977695,"display_name":"Manasjyoti Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504762714,"creation_date":1504759194,"answer_id":46087939,"question_id":8297705,"body_markdown":"Here is one more approach which is based on one-time-executor semantic. \r\n\r\nThe full solution with bunch of usage examples can be found on github (https://github.com/ManasjyotiSharma/java_lazy_init). Here is the crux of it:\r\n\r\nOne Time Executor semantic as the name suggests has below properties:\r\n\r\n 1. A wrapper object which wraps a function F. In current context F is a function/lambda expression which holds the initialization/de-initialization code.\r\n 2. The wrapper provides an execute method which behaves as:\r\n\r\n    - Calls the function F the first time execute is called and caches the output of F.\r\n    - If 2 or more threads call execute concurrently, only one gets in and the others block till the one which got in is done.\r\n    - For all other/future invocations of execute, it does not call F rather simply returns the previously cached output.\r\n\r\n 3. The cached output can be safely accessed from outside of the initialization context.\r\n\r\n\r\nThis can be used for initialization as well as non-idempotent de-initialization too.\r\n\r\n    import java.util.Objects;\r\n    import java.util.concurrent.CountDownLatch;\r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    import java.util.concurrent.atomic.AtomicReference;\r\n    import java.util.function.Function;\r\n    \r\n    /**\r\n     * When execute is called, it is guaranteed that the input function will be applied exactly once. \r\n     * Further it&#39;s also guaranteed that execute will return only when the input function was applied\r\n     * by the calling thread or some other thread OR if the calling thread is interrupted.\r\n     */\r\n    \r\n    public class OneTimeExecutor&lt;T, R&gt; {  \r\n      private final Function&lt;T, R&gt; function;\r\n      private final AtomicBoolean preGuard;\r\n      private final CountDownLatch postGuard;\r\n      private final AtomicReference&lt;R&gt; value;\r\n    \r\n      public OneTimeExecutor(Function&lt;T, R&gt; function) {\r\n        Objects.requireNonNull(function, &quot;function cannot be null&quot;);\r\n        this.function = function;\r\n        this.preGuard = new AtomicBoolean(false);\r\n        this.postGuard = new CountDownLatch(1);\r\n        this.value = new AtomicReference&lt;R&gt;();\r\n      }\r\n      \r\n      public R execute(T input) throws InterruptedException {\r\n        if (preGuard.compareAndSet(false, true)) {\r\n          try {\r\n            value.set(function.apply(input));\r\n          } finally {\r\n            postGuard.countDown();\r\n          }\r\n        } else if (postGuard.getCount() != 0) {\r\n          postGuard.await();\r\n        }\r\n        return value();\r\n      }\r\n      \r\n      public boolean executed() {\r\n        return (preGuard.get() &amp;&amp; postGuard.getCount() == 0);\r\n      }\r\n      \r\n      public R value() {\r\n        return value.get();\r\n      }\r\n    \r\n    }  \r\n\r\nHere is a sample usage:\r\n\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.io.PrintWriter;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    /*\r\n     * For the sake of this example, assume that creating a PrintWriter is a costly operation and we&#39;d want to lazily initialize it.\r\n     * Further assume that the cleanup/close implementation is non-idempotent. In other words, just like initialization, the \r\n     * de-initialization should also happen once and only once.\r\n     */\r\n    public class NonSingletonSampleB {\r\n      private final OneTimeExecutor&lt;File, PrintWriter&gt; initializer = new OneTimeExecutor&lt;&gt;(\r\n        (File configFile) -&gt; {\r\n          try { \r\n            FileOutputStream fos = new FileOutputStream(configFile);\r\n            OutputStreamWriter osw = new OutputStreamWriter(fos, StandardCharsets.UTF_8);\r\n            BufferedWriter bw = new BufferedWriter(osw);\r\n            PrintWriter pw = new PrintWriter(bw);\r\n            return pw;\r\n          } catch (IOException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e);\r\n          }\r\n        }\r\n      );  \r\n    \r\n      private final OneTimeExecutor&lt;Void, Void&gt; deinitializer = new OneTimeExecutor&lt;&gt;(\r\n        (Void v) -&gt; {\r\n          if (initializer.executed() &amp;&amp; null != initializer.value()) {\r\n            initializer.value().close();\r\n          }\r\n          return null;\r\n        }\r\n      );  \r\n      \r\n      private final File file;\r\n      \r\n      public NonSingletonSampleB(File file) {\r\n        this.file = file;\r\n      }\r\n      \r\n      public void doSomething() throws Exception {\r\n        // Create one-and-only-one instance of PrintWriter only when someone calls doSomething().  \r\n        PrintWriter pw = initializer.execute(file);\r\n        \r\n        // Application logic goes here, say write something to the file using the PrintWriter.\r\n      }\r\n    \r\n      public void close() throws Exception {\r\n        // non-idempotent close, the de-initialization lambda is invoked only once. \r\n        deinitializer.execute(null);\r\n      }\r\n    \r\n    }\r\n\r\n  \r\nFor few more examples (e.g. singleton initialization which requires some data available only at run-time thus unable to instantiate it in a static block) please refer to the github link mentioned above.","title":"How to implement thread-safe lazy initialization?","body":"<p>Here is one more approach which is based on one-time-executor semantic. </p>\n\n<p>The full solution with bunch of usage examples can be found on github (<a href=\"https://github.com/ManasjyotiSharma/java_lazy_init\" rel=\"nofollow noreferrer\">https://github.com/ManasjyotiSharma/java_lazy_init</a>). Here is the crux of it:</p>\n\n<p>One Time Executor semantic as the name suggests has below properties:</p>\n\n<ol>\n<li>A wrapper object which wraps a function F. In current context F is a function/lambda expression which holds the initialization/de-initialization code.</li>\n<li><p>The wrapper provides an execute method which behaves as:</p>\n\n<ul>\n<li>Calls the function F the first time execute is called and caches the output of F.</li>\n<li>If 2 or more threads call execute concurrently, only one gets in and the others block till the one which got in is done.</li>\n<li>For all other/future invocations of execute, it does not call F rather simply returns the previously cached output.</li>\n</ul></li>\n<li><p>The cached output can be safely accessed from outside of the initialization context.</p></li>\n</ol>\n\n<p>This can be used for initialization as well as non-idempotent de-initialization too.</p>\n\n<pre><code>import java.util.Objects;\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.atomic.AtomicBoolean;\nimport java.util.concurrent.atomic.AtomicReference;\nimport java.util.function.Function;\n\n/**\n * When execute is called, it is guaranteed that the input function will be applied exactly once. \n * Further it's also guaranteed that execute will return only when the input function was applied\n * by the calling thread or some other thread OR if the calling thread is interrupted.\n */\n\npublic class OneTimeExecutor&lt;T, R&gt; {  \n  private final Function&lt;T, R&gt; function;\n  private final AtomicBoolean preGuard;\n  private final CountDownLatch postGuard;\n  private final AtomicReference&lt;R&gt; value;\n\n  public OneTimeExecutor(Function&lt;T, R&gt; function) {\n    Objects.requireNonNull(function, \"function cannot be null\");\n    this.function = function;\n    this.preGuard = new AtomicBoolean(false);\n    this.postGuard = new CountDownLatch(1);\n    this.value = new AtomicReference&lt;R&gt;();\n  }\n\n  public R execute(T input) throws InterruptedException {\n    if (preGuard.compareAndSet(false, true)) {\n      try {\n        value.set(function.apply(input));\n      } finally {\n        postGuard.countDown();\n      }\n    } else if (postGuard.getCount() != 0) {\n      postGuard.await();\n    }\n    return value();\n  }\n\n  public boolean executed() {\n    return (preGuard.get() &amp;&amp; postGuard.getCount() == 0);\n  }\n\n  public R value() {\n    return value.get();\n  }\n\n}  \n</code></pre>\n\n<p>Here is a sample usage:</p>\n\n<pre><code>import java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.nio.charset.StandardCharsets;\n\n/*\n * For the sake of this example, assume that creating a PrintWriter is a costly operation and we'd want to lazily initialize it.\n * Further assume that the cleanup/close implementation is non-idempotent. In other words, just like initialization, the \n * de-initialization should also happen once and only once.\n */\npublic class NonSingletonSampleB {\n  private final OneTimeExecutor&lt;File, PrintWriter&gt; initializer = new OneTimeExecutor&lt;&gt;(\n    (File configFile) -&gt; {\n      try { \n        FileOutputStream fos = new FileOutputStream(configFile);\n        OutputStreamWriter osw = new OutputStreamWriter(fos, StandardCharsets.UTF_8);\n        BufferedWriter bw = new BufferedWriter(osw);\n        PrintWriter pw = new PrintWriter(bw);\n        return pw;\n      } catch (IOException e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n      }\n    }\n  );  \n\n  private final OneTimeExecutor&lt;Void, Void&gt; deinitializer = new OneTimeExecutor&lt;&gt;(\n    (Void v) -&gt; {\n      if (initializer.executed() &amp;&amp; null != initializer.value()) {\n        initializer.value().close();\n      }\n      return null;\n    }\n  );  \n\n  private final File file;\n\n  public NonSingletonSampleB(File file) {\n    this.file = file;\n  }\n\n  public void doSomething() throws Exception {\n    // Create one-and-only-one instance of PrintWriter only when someone calls doSomething().  \n    PrintWriter pw = initializer.execute(file);\n\n    // Application logic goes here, say write something to the file using the PrintWriter.\n  }\n\n  public void close() throws Exception {\n    // non-idempotent close, the de-initialization lambda is invoked only once. \n    deinitializer.execute(null);\n  }\n\n}\n</code></pre>\n\n<p>For few more examples (e.g. singleton initialization which requires some data available only at run-time thus unable to instantiate it in a static block) please refer to the github link mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":3200565,"reputation":314,"user_id":2702684,"display_name":"int21h"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1510146144,"creation_date":1510143407,"answer_id":47179538,"question_id":8297705,"body_markdown":"If you use lombok in your project, you can use a feature described [here][1].\r\n\r\n\r\nYou just create a field, annotate it with `@Getter(lazy=true)` and add initialization, like this:\r\n`@Getter(lazy=true)\r\nprivate final Foo instance = new Foo();`\r\n\r\nYou&#39;ll have to reference field only with getter (see notes in lombok [docs][1]), but in most cases that&#39;s what we need.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/GetterLazy","title":"How to implement thread-safe lazy initialization?","body":"<p>If you use lombok in your project, you can use a feature described <a href=\"https://projectlombok.org/features/GetterLazy\" rel=\"noreferrer\">here</a>.</p>\n\n<p>You just create a field, annotate it with <code>@Getter(lazy=true)</code> and add initialization, like this:\n<code>@Getter(lazy=true)\nprivate final Foo instance = new Foo();</code></p>\n\n<p>You'll have to reference field only with getter (see notes in lombok <a href=\"https://projectlombok.org/features/GetterLazy\" rel=\"noreferrer\">docs</a>), but in most cases that's what we need.</p>\n"},{"tags":[],"owner":{"account_id":2849643,"reputation":423,"user_id":2447120,"display_name":"Rakesh Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570211273,"creation_date":1570211273,"answer_id":58241088,"question_id":8297705,"body_markdown":"With Java 8 we can achieve lazy initialization with thread safety. If we have Holder class and it needs some heavy resources then we can lazy load the heavy resource like this.\r\n```\r\npublic class Holder {\r\n    private Supplier&lt;Heavy&gt; heavy = () -&gt; createAndCacheHeavy();\r\n\r\n    private synchronized Heavy createAndCacheHeavy() {\r\n\r\n        class HeavyFactory implements Supplier&lt;Heavy&gt; {\r\n            private final Heavy heavyInstance = new Heavy();\r\n\r\n            @Override\r\n            public Heavy get() {\r\n                return heavyInstance;\r\n            }\r\n        }\r\n        if (!HeavyFactory.class.isInstance(heavy)) {\r\n            heavy = new HeavyFactory();\r\n        }\r\n        return heavy.get();\r\n    }\r\n\r\n    public Heavy getHeavy() {\r\n        return heavy.get();\r\n    }\r\n}\r\n\r\npublic class Heavy {\r\n    public Heavy() {\r\n        System.out.println(&quot;creating heavy&quot;);\r\n    }\r\n}\r\n```\r\n","title":"How to implement thread-safe lazy initialization?","body":"<p>With Java 8 we can achieve lazy initialization with thread safety. If we have Holder class and it needs some heavy resources then we can lazy load the heavy resource like this.</p>\n\n<pre><code>public class Holder {\n    private Supplier&lt;Heavy&gt; heavy = () -&gt; createAndCacheHeavy();\n\n    private synchronized Heavy createAndCacheHeavy() {\n\n        class HeavyFactory implements Supplier&lt;Heavy&gt; {\n            private final Heavy heavyInstance = new Heavy();\n\n            @Override\n            public Heavy get() {\n                return heavyInstance;\n            }\n        }\n        if (!HeavyFactory.class.isInstance(heavy)) {\n            heavy = new HeavyFactory();\n        }\n        return heavy.get();\n    }\n\n    public Heavy getHeavy() {\n        return heavy.get();\n    }\n}\n\npublic class Heavy {\n    public Heavy() {\n        System.out.println(\"creating heavy\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661307895,"creation_date":1646845573,"answer_id":71413277,"question_id":8297705,"body_markdown":"Basing this answer on [@Alexsalauyou][1]&#39;s one I thought if it could be possible to implement a solution that does not call multiple instances.\r\n\r\nIn principle my solution may be a little bit slower (very very little), but it is definitely friendlier to the processor, and the garbage collector.\r\n\r\nThe idea is that you must first use a container which could hold an &quot;int&quot; value PLUS the generic you want to instance.\r\n\r\n    static class Container&lt;T&gt; {\r\n       final int i; \r\n       final T val; \r\n       //constructor here\r\n    }\r\n\r\nLet this container&#39;s fields be final for concurrency purposes.\r\n\r\nThe `LazyInit&lt;T&gt;` class, must have an AtomicReference of this container.\r\n\r\n    AtomicReference&lt;Container&lt;T&gt;&gt; ref;\r\n\r\nLazyInit must define phase processes as private static int constants:\r\n\r\n    private static final int NULL_PHASE = -1, CREATING_PHASE = 0, CREATED = 1;\r\n\r\n    private final Container&lt;T&gt; NULL = new Container&lt;&gt;(NULL_PHASE, null),\r\n    CREATING = new Container&lt;&gt;(CREATING_PHASE, null);\r\n\r\nNULL and CREATING containers can be made static and upgraded to &lt;?&gt; to make things lighter, then one could grab them with a casting private static method.\r\n\r\nThe AtomicReference must be initialized as NULL:\r\n\r\n    private final AtomicReference&lt;Container&lt;T&gt;&gt; ref = new AtomicReference&lt;&gt;(getNull());\r\n\r\nFinally the get() method would look like this:\r\n\r\n    @Override \r\n    public T get() { \r\n        Container&lt;T&gt; prev;\r\n        while ((prev = ref.get()).i &lt; CREATED) {\r\n            if (ref.compareAndSet(getNull(), getCreating())) {\r\n                T res = builder.get();\r\n                ref.set(new Container&lt;&gt;(CREATED, res));\r\n                return res;\r\n            }\r\n        }\r\n        return prev.value;\r\n    } \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30247202/11214643","title":"How to implement thread-safe lazy initialization?","body":"<p>Basing this answer on <a href=\"https://stackoverflow.com/a/30247202/11214643\">@Alexsalauyou</a>'s one I thought if it could be possible to implement a solution that does not call multiple instances.</p>\n<p>In principle my solution may be a little bit slower (very very little), but it is definitely friendlier to the processor, and the garbage collector.</p>\n<p>The idea is that you must first use a container which could hold an &quot;int&quot; value PLUS the generic you want to instance.</p>\n<pre><code>static class Container&lt;T&gt; {\n   final int i; \n   final T val; \n   //constructor here\n}\n</code></pre>\n<p>Let this container's fields be final for concurrency purposes.</p>\n<p>The <code>LazyInit&lt;T&gt;</code> class, must have an AtomicReference of this container.</p>\n<pre><code>AtomicReference&lt;Container&lt;T&gt;&gt; ref;\n</code></pre>\n<p>LazyInit must define phase processes as private static int constants:</p>\n<pre><code>private static final int NULL_PHASE = -1, CREATING_PHASE = 0, CREATED = 1;\n\nprivate final Container&lt;T&gt; NULL = new Container&lt;&gt;(NULL_PHASE, null),\nCREATING = new Container&lt;&gt;(CREATING_PHASE, null);\n</code></pre>\n<p>NULL and CREATING containers can be made static and upgraded to &lt;?&gt; to make things lighter, then one could grab them with a casting private static method.</p>\n<p>The AtomicReference must be initialized as NULL:</p>\n<pre><code>private final AtomicReference&lt;Container&lt;T&gt;&gt; ref = new AtomicReference&lt;&gt;(getNull());\n</code></pre>\n<p>Finally the get() method would look like this:</p>\n<pre><code>@Override \npublic T get() { \n    Container&lt;T&gt; prev;\n    while ((prev = ref.get()).i &lt; CREATED) {\n        if (ref.compareAndSet(getNull(), getCreating())) {\n            T res = builder.get();\n            ref.set(new Container&lt;&gt;(CREATED, res));\n            return res;\n        }\n    }\n    return prev.value;\n} \n</code></pre>\n"}],"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69427,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":8297830,"answer_count":13,"score":70,"last_activity_date":1661307895,"creation_date":1322492252,"question_id":8297705,"body_markdown":"What are some recommended approaches to achieving ***thread-safe*** lazy initialization? For instance,\r\n\r\n    // Not thread-safe\r\n    public Foo getInstance(){\r\n        if(INSTANCE == null){\r\n            INSTANCE = new Foo();\r\n        }\r\n    \r\n        return INSTANCE;\r\n    }","title":"How to implement thread-safe lazy initialization?","body":"<p>What are some recommended approaches to achieving <strong><em>thread-safe</em></strong> lazy initialization? For instance,</p>\n\n<pre><code>// Not thread-safe\npublic Foo getInstance(){\n    if(INSTANCE == null){\n        INSTANCE = new Foo();\n    }\n\n    return INSTANCE;\n}\n</code></pre>\n"},{"tags":["java","azure","android-studio","azure-api-management","bing-api"],"comments":[{"owner":{"account_id":15384876,"reputation":15178,"user_id":11099213,"display_name":"Hury Shen"},"score":0,"creation_date":1620106402,"post_id":67372791,"comment_id":119095447,"body_markdown":"Could you please test in postman to request the url with subscription key ?","body":"Could you please test in postman to request the url with subscription key ?"},{"owner":{"account_id":16246836,"reputation":85,"user_id":11931665,"display_name":"Pablo Asenjo Navas-Parejo"},"score":0,"creation_date":1620165179,"post_id":67372791,"comment_id":119119742,"body_markdown":"@HuryShen sure, but what is that?","body":"@HuryShen sure, but what is that?"},{"owner":{"account_id":15384876,"reputation":15178,"user_id":11099213,"display_name":"Hury Shen"},"score":0,"creation_date":1620262718,"post_id":67372791,"comment_id":119151663,"body_markdown":"Copy the url to postman and also set the header with `Ocp-Apim-Subscription-Key:xxxx` in postman. Then test request and check the response result.","body":"Copy the url to postman and also set the header with <code>Ocp-Apim-Subscription-Key:xxxx</code> in postman. Then test request and check the response result."},{"owner":{"account_id":14105205,"reputation":11692,"user_id":10189459,"display_name":"Stanley Gong"},"score":0,"creation_date":1620378772,"post_id":67372791,"comment_id":119188813,"body_markdown":"How&#39;s going?Has your issue got resolved?","body":"How&#39;s going?Has your issue got resolved?"}],"answers":[{"tags":[],"owner":{"account_id":14105205,"reputation":11692,"user_id":10189459,"display_name":"Stanley Gong"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1620273887,"creation_date":1620273887,"answer_id":67411695,"question_id":67372791,"body_markdown":"I got the same error while tried to call Bing web search API. I solved this issue by creating a cognitive service instance and use its endpoint and key:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is my test code based on yours: \r\n\r\n\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.net.URLEncoder;\r\n    \r\n    import javax.net.ssl.HttpsURLConnection;\r\n    \r\n    public class HTTPtest {\r\n    \r\n        public static void main(String[] args) {\r\n            String Endpoint = &quot;&lt;Endpoint&gt;&quot;;\r\n            String key = &quot;&lt;key&gt;&quot;;\r\n    \r\n            String input = &quot;Bill Gates divorce&quot;;\r\n    \r\n            try {\r\n                URL url = new URL(Endpoint + &quot;bing/v7.0/search&quot; + &quot;?q=&quot; + URLEncoder.encode(input, &quot;UTF-8&quot;));\r\n    \r\n                HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n                connection.setRequestProperty(&quot;Ocp-Apim-Subscription-Key&quot;, key);\r\n    \r\n                InputStream stream = connection.getInputStream();\r\n    \r\n                System.out.println(new String(stream.readAllBytes()));\r\n    \r\n            } catch (Exception e) {\r\n    \r\n                System.out.println(e.getMessage());\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\nLet me know if you have any more questions.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GLDez.png\r\n  [2]: https://i.stack.imgur.com/udgxJ.png","title":"Bing Search API: Getting 401 Acces Denied error while using the right suscription key","body":"<p>I got the same error while tried to call Bing web search API. I solved this issue by creating a cognitive service instance and use its endpoint and key:</p>\n<p><a href=\"https://i.stack.imgur.com/GLDez.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLDez.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my test code based on yours:</p>\n<pre><code>import java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLEncoder;\n\nimport javax.net.ssl.HttpsURLConnection;\n\npublic class HTTPtest {\n\n    public static void main(String[] args) {\n        String Endpoint = &quot;&lt;Endpoint&gt;&quot;;\n        String key = &quot;&lt;key&gt;&quot;;\n\n        String input = &quot;Bill Gates divorce&quot;;\n\n        try {\n            URL url = new URL(Endpoint + &quot;bing/v7.0/search&quot; + &quot;?q=&quot; + URLEncoder.encode(input, &quot;UTF-8&quot;));\n\n            HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n            connection.setRequestProperty(&quot;Ocp-Apim-Subscription-Key&quot;, key);\n\n            InputStream stream = connection.getInputStream();\n\n            System.out.println(new String(stream.readAllBytes()));\n\n        } catch (Exception e) {\n\n            System.out.println(e.getMessage());\n\n        }\n    }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/udgxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/udgxJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Let me know if you have any more questions.</p>\n"}],"owner":{"account_id":16246836,"reputation":85,"user_id":11931665,"display_name":"Pablo Asenjo Navas-Parejo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67411695,"answer_count":1,"score":1,"last_activity_date":1661306829,"creation_date":1620060729,"question_id":67372791,"body_markdown":"I am trying to connect to my newly created Bing Search API using Java in Android Studio. \r\n\r\nWhen I execute the ``connection.getInputStream()`` statement, it returns a 401 error saying &quot;Acces Denied&quot;.\r\n\r\nThe same error is returned when I provide a wrong suscription key on purpose. However, I am sure that the suscription key that I am using is right, as I am copying and pasting it from the Azure control panel, and it is from the only suscription I have (a trial one).\r\n\r\n```\r\nURL url = new URL(&quot;https://api.bing.microsoft.com/v7.0/search&quot; + &quot;?q=&quot; \r\n    + URLEncoder.encode(input, &quot;UTF-8&quot;));\r\n\r\nHttpsURLConnection connection = (HttpsURLConnection)url.openConnection();\r\nconnection.setRequestProperty(&quot;Ocp-Apim-Subscription-Key&quot;, &quot;...&quot;);\r\n\r\ntry {\r\n    InputStream stream = connection.getInputStream();\r\n}\r\ncatch(FileNotFoundException ignore) { //https://api.bing.microsoft.com/v7.0/search?q=...\r\n    int code = connection.getResponseCode(); // 401\r\n    String message = connection.getResponseMessage(); // &quot;Acces Denied&quot;\r\n}\r\n```","title":"Bing Search API: Getting 401 Acces Denied error while using the right suscription key","body":"<p>I am trying to connect to my newly created Bing Search API using Java in Android Studio.</p>\n<p>When I execute the <code>connection.getInputStream()</code> statement, it returns a 401 error saying &quot;Acces Denied&quot;.</p>\n<p>The same error is returned when I provide a wrong suscription key on purpose. However, I am sure that the suscription key that I am using is right, as I am copying and pasting it from the Azure control panel, and it is from the only suscription I have (a trial one).</p>\n<pre><code>URL url = new URL(&quot;https://api.bing.microsoft.com/v7.0/search&quot; + &quot;?q=&quot; \n    + URLEncoder.encode(input, &quot;UTF-8&quot;));\n\nHttpsURLConnection connection = (HttpsURLConnection)url.openConnection();\nconnection.setRequestProperty(&quot;Ocp-Apim-Subscription-Key&quot;, &quot;...&quot;);\n\ntry {\n    InputStream stream = connection.getInputStream();\n}\ncatch(FileNotFoundException ignore) { //https://api.bing.microsoft.com/v7.0/search?q=...\n    int code = connection.getResponseCode(); // 401\n    String message = connection.getResponseMessage(); // &quot;Acces Denied&quot;\n}\n</code></pre>\n"},{"tags":["java","serviceloader","java-18"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1661306062,"creation_date":1660950137,"answer_id":73422988,"question_id":73422270,"body_markdown":"# Why Not Require Provider Module?\r\n\r\nThe reason is because the `uses` / `provivdes` directives and \r\n the `java.util.ServiceLoader` API is designed for a plugin-like architecture. You control which plugins are available by controlling which providers are on the module-path/class-path. If you `requires` the provider module, then you can no longer omit it because the application would fail to launch due to missing dependencies.\r\n\r\n## The Documentation\r\n\r\n[The documentation][1] you quote makes more sense if you look at the previous sentence as well, which provides more context.\r\n\r\n&gt; In addition, if the application module does not contain the service, then its module declaration must have a _requires_ directive that specifies the module which exports the service. It is strongly recommended that the application module does **not** require modules which contain providers of the service.\r\n\r\nThis is addressing the specific case demonstrated below.\r\n\r\n**Application Module**\r\n\r\n```lang-java\r\nmodule app {\r\n  requires service;\r\n}\r\n```\r\n\r\n**Service Module**\r\n\r\n```lang-java\r\nmodule service {\r\n  exports com.example.service;\r\n\r\n  uses com.example.service.Service;\r\n}\r\n```\r\n\r\n**Provider Module**\r\n\r\n```lang-java\r\nmodule provider {\r\n  requires service;\r\n\r\n  provides com.example.service.Service with\r\n    com.example.provider.ServiceImpl;\r\n}\r\n```\r\n\r\nThe above is the recommended approach. And what the documentation is saying is that the `app` module **should not** include a `requires provider` directive. The reason why has already been explained.\r\n\r\nAlso, note this does not prevent either the `service` module or the `app` module from providing a default implementation of the service interface.\r\n\r\n## Example Module Resolution\r\n\r\nIf you create and compile an implementation for the above modules, then you can see the module resolution at run-time via `--show-module-resolution`. I use `--limit-modules` below to control which modules are resolved to avoid having to mess around with the module-path. As you can see, since `app` does not `requires provider`, it is possible to omit `provider` and still have a working application.\r\n\r\nMy service interface has a `getMessage()` method that simply returns a `String`. My main class iterates the available providers, if any, and outputs the provider&#39;s class name and &quot;message&quot;. This output comes after, and is clearly distinct from, the module resolution output below.\r\n\r\nNote I load the providers from a static method in the `Service` interface, because the `service` module is where I have the `uses` directive for said interface.\r\n\r\n**With Provider Module**\r\n\r\nCommand:\r\n\r\n```lang-none\r\njava --show-module-resolution --limit-modules app,service,provider --module-path &lt;path&gt; --module app/com.example.app.Main\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\nroot app &lt;module-location&gt;\r\napp requires service &lt;module-location&gt;\r\nservice binds provider &lt;module-location&gt;\r\nprovider requires service &lt;module-location&gt;\r\n\r\nAPPLICATION OUTPUT\r\nProvider: &#39;com.example.provider.ServiceImpl&#39;\r\n    message =&gt; Hello, World!\r\n```\r\n\r\n**Without Provider Module**\r\n\r\nCommand:\r\n\r\n```lang-none\r\njava --show-module-resolution --limit-modules app,service --module-path &lt;path&gt; --module app/com.example.app.Main\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\nroot app &lt;module-location&gt;\r\napp requires service &lt;module-location&gt;\r\n\r\nAPPLICATION OUTPUT\r\nThere are no available providers...\r\n```\r\n\r\n---\r\n\r\n# Previous Answer\r\n\r\nThe previous edition of this answer had the following example to demonstrate what the documentation was saying:\r\n\r\n**Service Module**\r\n\r\n```lang-java\r\nmodule service {\r\n  requires provider;\r\n\r\n  exports com.example.service;\r\n\r\n  uses com.example.service.Service;\r\n}\r\n```\r\n\r\n**Provider Module**\r\n\r\n```lang-java\r\nmodule provider {\r\n  requires service;\r\n\r\n  provides com.example.service.Service with\r\n    com.example.provider.ServiceImpl;\r\n}\r\n```\r\n\r\nNot only was I incorrect regarding the purpose of the documentation, but the above is not even possible as the _Java Platform Module System_ does not allow cyclic dependencies at compile-time.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ServiceLoader.html","title":"Why should an application module not require a module that provides a service?","body":"<h1>Why Not Require Provider Module?</h1>\n<p>The reason is because the <code>uses</code> / <code>provivdes</code> directives and\nthe <code>java.util.ServiceLoader</code> API is designed for a plugin-like architecture. You control which plugins are available by controlling which providers are on the module-path/class-path. If you <code>requires</code> the provider module, then you can no longer omit it because the application would fail to launch due to missing dependencies.</p>\n<h2>The Documentation</h2>\n<p><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">The documentation</a> you quote makes more sense if you look at the previous sentence as well, which provides more context.</p>\n<blockquote>\n<p>In addition, if the application module does not contain the service, then its module declaration must have a <em>requires</em> directive that specifies the module which exports the service. It is strongly recommended that the application module does <strong>not</strong> require modules which contain providers of the service.</p>\n</blockquote>\n<p>This is addressing the specific case demonstrated below.</p>\n<p><strong>Application Module</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module app {\n  requires service;\n}\n</code></pre>\n<p><strong>Service Module</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module service {\n  exports com.example.service;\n\n  uses com.example.service.Service;\n}\n</code></pre>\n<p><strong>Provider Module</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module provider {\n  requires service;\n\n  provides com.example.service.Service with\n    com.example.provider.ServiceImpl;\n}\n</code></pre>\n<p>The above is the recommended approach. And what the documentation is saying is that the <code>app</code> module <strong>should not</strong> include a <code>requires provider</code> directive. The reason why has already been explained.</p>\n<p>Also, note this does not prevent either the <code>service</code> module or the <code>app</code> module from providing a default implementation of the service interface.</p>\n<h2>Example Module Resolution</h2>\n<p>If you create and compile an implementation for the above modules, then you can see the module resolution at run-time via <code>--show-module-resolution</code>. I use <code>--limit-modules</code> below to control which modules are resolved to avoid having to mess around with the module-path. As you can see, since <code>app</code> does not <code>requires provider</code>, it is possible to omit <code>provider</code> and still have a working application.</p>\n<p>My service interface has a <code>getMessage()</code> method that simply returns a <code>String</code>. My main class iterates the available providers, if any, and outputs the provider's class name and &quot;message&quot;. This output comes after, and is clearly distinct from, the module resolution output below.</p>\n<p>Note I load the providers from a static method in the <code>Service</code> interface, because the <code>service</code> module is where I have the <code>uses</code> directive for said interface.</p>\n<p><strong>With Provider Module</strong></p>\n<p>Command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --show-module-resolution --limit-modules app,service,provider --module-path &lt;path&gt; --module app/com.example.app.Main\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>root app &lt;module-location&gt;\napp requires service &lt;module-location&gt;\nservice binds provider &lt;module-location&gt;\nprovider requires service &lt;module-location&gt;\n\nAPPLICATION OUTPUT\nProvider: 'com.example.provider.ServiceImpl'\n    message =&gt; Hello, World!\n</code></pre>\n<p><strong>Without Provider Module</strong></p>\n<p>Command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --show-module-resolution --limit-modules app,service --module-path &lt;path&gt; --module app/com.example.app.Main\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>root app &lt;module-location&gt;\napp requires service &lt;module-location&gt;\n\nAPPLICATION OUTPUT\nThere are no available providers...\n</code></pre>\n<hr />\n<h1>Previous Answer</h1>\n<p>The previous edition of this answer had the following example to demonstrate what the documentation was saying:</p>\n<p><strong>Service Module</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module service {\n  requires provider;\n\n  exports com.example.service;\n\n  uses com.example.service.Service;\n}\n</code></pre>\n<p><strong>Provider Module</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module provider {\n  requires service;\n\n  provides com.example.service.Service with\n    com.example.provider.ServiceImpl;\n}\n</code></pre>\n<p>Not only was I incorrect regarding the purpose of the documentation, but the above is not even possible as the <em>Java Platform Module System</em> does not allow cyclic dependencies at compile-time.</p>\n"}],"owner":{"account_id":2615974,"reputation":93,"user_id":2265009,"display_name":"Toast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73422988,"answer_count":1,"score":2,"last_activity_date":1661306062,"creation_date":1660943291,"question_id":73422270,"body_markdown":"The ServiceLoader.java docs notes:\r\n&gt; It is strongly recommended that the application module does not require modules which contain providers of the service.\r\n\r\nWhy is this strongly recommended, what could happen if the recommendation isn&#39;t followed?\r\n\r\n----------\r\nContext: This indirectly means that modules defining a service shouldn&#39;t also export a provider of that service. I thought it would be handy to provide a default implementation of the service within the same module.","title":"Why should an application module not require a module that provides a service?","body":"<p>The ServiceLoader.java docs notes:</p>\n<blockquote>\n<p>It is strongly recommended that the application module does not require modules which contain providers of the service.</p>\n</blockquote>\n<p>Why is this strongly recommended, what could happen if the recommendation isn't followed?</p>\n<hr />\n<p>Context: This indirectly means that modules defining a service shouldn't also export a provider of that service. I thought it would be handy to provide a default implementation of the service within the same module.</p>\n"},{"tags":["java","spring-boot","if-statement","conditional-statements","freemarker"],"comments":[{"owner":{"account_id":25635680,"reputation":35,"user_id":19405316,"display_name":"Hemanth"},"score":0,"creation_date":1656087166,"post_id":72745807,"comment_id":128494042,"body_markdown":"searchForm is not null. The same searchForm works under velocity template if condition.","body":"searchForm is not null. The same searchForm works under velocity template if condition."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1656095231,"post_id":72745807,"comment_id":128496400,"body_markdown":"The error message says that `searchForm` is not `null`/missing, but it has no `frm_searchType` subvariable (or that&#39;s `null`). So what `searchForm` is on the Java side?","body":"The error message says that <code>searchForm</code> is not <code>null</code>/missing, but it has no <code>frm_searchType</code> subvariable (or that&#39;s <code>null</code>). So what <code>searchForm</code> is on the Java side?"},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1656095314,"post_id":72745807,"comment_id":128496419,"body_markdown":"Also that it&#39;s an `if` condition is irrelevant, which should be clear from the error message.","body":"Also that it&#39;s an <code>if</code> condition is irrelevant, which should be clear from the error message."},{"owner":{"account_id":25635680,"reputation":35,"user_id":19405316,"display_name":"Hemanth"},"score":0,"creation_date":1656095371,"post_id":72745807,"comment_id":128496445,"body_markdown":"Yes ```searchForm``` is Java file","body":"Yes <code>searchForm</code> is Java file"},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1656095697,"post_id":72745807,"comment_id":128496534,"body_markdown":"No, it&#39;s not a Java &quot;file&quot;, it&#39;s a Java object of some sort. Check what the class of it is, and how you would access `frm_searchType` in Java. Then we have a change to figure out how to get it from the template.","body":"No, it&#39;s not a Java &quot;file&quot;, it&#39;s a Java object of some sort. Check what the class of it is, and how you would access <code>frm_searchType</code> in Java. Then we have a change to figure out how to get it from the template."},{"owner":{"account_id":25635680,"reputation":35,"user_id":19405316,"display_name":"Hemanth"},"score":0,"creation_date":1656096764,"post_id":72745807,"comment_id":128496821,"body_markdown":"It is used in searchForm like this \n```private String frm_searchType; \npublic String getFrm_searchType()\n    {\n        return frm_searchType;\n    }\n\n    public void setFrm_searchType(String frm_searchType)\n    {\n        this.frm_searchType = frm_searchType;\n    }```","body":"It is used in searchForm like this  <code>private String frm_searchType;  public String getFrm_searchType()     {         return frm_searchType;     }      public void setFrm_searchType(String frm_searchType)     {         this.frm_searchType = frm_searchType;     }</code>"},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1656320823,"post_id":72745807,"comment_id":128534145,"body_markdown":"With such API it should work, yet it doesn&#39;t. Maybe the class itself is not public? It has to be public.","body":"With such API it should work, yet it doesn&#39;t. Maybe the class itself is not public? It has to be public."},{"owner":{"account_id":25635680,"reputation":35,"user_id":19405316,"display_name":"Hemanth"},"score":0,"creation_date":1656610875,"post_id":72745807,"comment_id":128621180,"body_markdown":"I tried to make it public and check, it still does not work after makin public. \nthe same code works with velocity template &#39;if condition&#39;.","body":"I tried to make it public and check, it still does not work after makin public.  the same code works with velocity template &#39;if condition&#39;."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1656619606,"post_id":72745807,"comment_id":128623794,"body_markdown":"Then could it be that the value of `frm_searchType` is `null`?","body":"Then could it be that the value of <code>frm_searchType</code> is <code>null</code>?"},{"owner":{"account_id":25635680,"reputation":35,"user_id":19405316,"display_name":"Hemanth"},"score":0,"creation_date":1657300247,"post_id":72745807,"comment_id":128785726,"body_markdown":"do we have a way to bring java file into Freemarker template ? then I can try to access values from that java file.","body":"do we have a way to bring java file into Freemarker template ? then I can try to access values from that java file."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1657470607,"post_id":72745807,"comment_id":128812562,"body_markdown":"I can&#39;t even understand how you imagine that working, &quot;bring java file into Freemarker template&quot;. But anyway, if your class is public, and the getter method is also public, and it doesn&#39;t return `null`, your template should work. (Well, unless someone configures FreeMarker to use some extreme `ObjectWrapper`.)","body":"I can&#39;t even understand how you imagine that working, &quot;bring java file into Freemarker template&quot;. But anyway, if your class is public, and the getter method is also public, and it doesn&#39;t return <code>null</code>, your template should work. (Well, unless someone configures FreeMarker to use some extreme <code>ObjectWrapper</code>.)"},{"owner":{"account_id":25635680,"reputation":35,"user_id":19405316,"display_name":"Hemanth"},"score":0,"creation_date":1657553107,"post_id":72745807,"comment_id":128832135,"body_markdown":"No, I guess my sentence was wrong.\nthere was an error showing Java file itself was missing, but that Java file is available in my project. In the if condition above, java file name is searchForm, I got error saying searchForm is missing or null. while it is available and has data. As it was perfectly working with velocity template.","body":"No, I guess my sentence was wrong. there was an error showing Java file itself was missing, but that Java file is available in my project. In the if condition above, java file name is searchForm, I got error saying searchForm is missing or null. while it is available and has data. As it was perfectly working with velocity template."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1657702041,"post_id":72745807,"comment_id":128870782,"body_markdown":"Nor FreeMarker, nor Velocity cares about java files. They work with objects that you have put into the data-model aka. template context. Also the error message you show tells that `searchForm` is not `null`/missing, but it has no `frm_searchType` subvariable (or that&#39;s `null`, or is not accessible because the class is not public).","body":"Nor FreeMarker, nor Velocity cares about java files. They work with objects that you have put into the data-model aka. template context. Also the error message you show tells that <code>searchForm</code> is not <code>null</code>/missing, but it has no <code>frm_searchType</code> subvariable (or that&#39;s <code>null</code>, or is not accessible because the class is not public)."}],"answers":[{"tags":[],"owner":{"account_id":25635680,"reputation":35,"user_id":19405316,"display_name":"Hemanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661305826,"creation_date":1661305584,"answer_id":73466618,"question_id":72745807,"body_markdown":"We can handle null or missing values as shown below\r\n```\r\n&lt;#if (searchForm.frm_searchType)!&quot;Non-Member&quot; == &quot;Non-Member&quot;&gt;\r\n  &lt;#assign isMember = true&gt;\r\n  &lt;#assign isNonMember = false&gt;\r\n&lt;#else&gt;\r\n  &lt;#assign isMember = false&gt;\r\n  &lt;#assign isNonMember = true&gt;\r\n&lt;/#if&gt;\r\n```\r\nHere I have set default value as &quot;Non-Member&quot;. So when the value is null or missing it takes default value.\r\nThere are few other ways also to handle null or missing values like\r\n```\r\n&lt;#if (searchForm.frm_searchType)?default(&#39;&#39;) == &quot;Non-Member&quot;&gt;\r\n```\r\nor\r\n```\r\n&lt;#if (searchForm.frm_searchType)! == &quot;Non-Member&quot;&gt;\r\n```\r\nI tried all methods and they work. \r\nI tried this from freemarker documentation [&quot;Handle missing values&quot;][1]\r\n\r\n\r\n  [1]: https://freemarker.apache.org/docs/dgui_template_exp.html#dgui_template_exp_missing","title":"error while using if condition in freemarker","body":"<p>We can handle null or missing values as shown below</p>\n<pre><code>&lt;#if (searchForm.frm_searchType)!&quot;Non-Member&quot; == &quot;Non-Member&quot;&gt;\n  &lt;#assign isMember = true&gt;\n  &lt;#assign isNonMember = false&gt;\n&lt;#else&gt;\n  &lt;#assign isMember = false&gt;\n  &lt;#assign isNonMember = true&gt;\n&lt;/#if&gt;\n</code></pre>\n<p>Here I have set default value as &quot;Non-Member&quot;. So when the value is null or missing it takes default value.\nThere are few other ways also to handle null or missing values like</p>\n<pre><code>&lt;#if (searchForm.frm_searchType)?default('') == &quot;Non-Member&quot;&gt;\n</code></pre>\n<p>or</p>\n<pre><code>&lt;#if (searchForm.frm_searchType)! == &quot;Non-Member&quot;&gt;\n</code></pre>\n<p>I tried all methods and they work.\nI tried this from freemarker documentation <a href=\"https://freemarker.apache.org/docs/dgui_template_exp.html#dgui_template_exp_missing\" rel=\"nofollow noreferrer\">&quot;Handle missing values&quot;</a></p>\n"}],"owner":{"account_id":25635680,"reputation":35,"user_id":19405316,"display_name":"Hemanth"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661305826,"creation_date":1656082022,"question_id":72745807,"body_markdown":"I am using if condition \r\n\r\n    &lt;#if searchForm.frm_searchType == &quot;Non-Member&quot;&gt;\r\n\t  &lt;#assign isMember = true&gt;\r\n\t  &lt;#assign isNonMember = false&gt;\r\n    &lt;#else&gt;\r\n\t  &lt;#assign isMember = false&gt;\r\n\t  &lt;#assign isNonMember = true&gt;\r\n    &lt;/#if&gt;\r\nit gives below error\r\n\r\n```\r\n ERROR [freemarker.runtime] (default task-1) Error executing FreeMarker template: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:\r\n==&gt; searchForm.frm_searchType  [in template &quot;memberSearch.ftl&quot; at line 83, column 6]\r\n\r\n\r\nTip: It&#39;s the step after the last dot that caused this error, not those before it.\r\n\r\nTip: If the failing expression is known to legally refer to something that&#39;s sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\r\n\r\n\r\n\r\nFTL stack trace (&quot;~&quot; means nesting-related):\r\n\t- Failed at: #if searchForm.frm_searchType == &quot;Non...  [in template &quot;memberSearch.ftl&quot; at line 83, column 1]\r\n\r\n\tat freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)\r\n\tat freemarker.core.EvalUtil.compare(EvalUtil.java:198)\r\n\tat freemarker.core.EvalUtil.compare(EvalUtil.java:115)\r\n\tat freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:78)\r\n\tat freemarker.core.IfBlock.accept(IfBlock.java:49)\r\n\tat freemarker.core.Environment.visit(Environment.java:347)\r\n\tat freemarker.core.Environment.visit(Environment.java:353)\r\n\tat freemarker.core.Environment.process(Environment.java:326)\r\n\tat freemarker.template.Template.process(Template.java:383)\r\n\tat org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367)\r\n\tat org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284)\r\n\tat org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234)\r\n\tat org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167)\r\n\tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1244)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1027)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:971)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:686)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:791)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat com.cgi.kym.web.filter.ZipFilter.doFilter(ZipFilter.java:45)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat com.cgi.kym.web.filter.SecurityFilter.doFilter(SecurityFilter.java:169)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat \r\n\t\r\n\r\n```\r\nbasically I am converting velocity template to freemarker template. searchForm is another file and  I am trying to get data from that file and use in the template. It worked in velocity template if condition but not working in freemarker.","title":"error while using if condition in freemarker","body":"<p>I am using if condition</p>\n<pre><code>&lt;#if searchForm.frm_searchType == &quot;Non-Member&quot;&gt;\n  &lt;#assign isMember = true&gt;\n  &lt;#assign isNonMember = false&gt;\n&lt;#else&gt;\n  &lt;#assign isMember = false&gt;\n  &lt;#assign isNonMember = true&gt;\n&lt;/#if&gt;\n</code></pre>\n<p>it gives below error</p>\n<pre><code> ERROR [freemarker.runtime] (default task-1) Error executing FreeMarker template: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:\n==&gt; searchForm.frm_searchType  [in template &quot;memberSearch.ftl&quot; at line 83, column 6]\n\n\nTip: It's the step after the last dot that caused this error, not those before it.\n\nTip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\n\n\n\nFTL stack trace (&quot;~&quot; means nesting-related):\n    - Failed at: #if searchForm.frm_searchType == &quot;Non...  [in template &quot;memberSearch.ftl&quot; at line 83, column 1]\n\n    at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)\n    at freemarker.core.EvalUtil.compare(EvalUtil.java:198)\n    at freemarker.core.EvalUtil.compare(EvalUtil.java:115)\n    at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:78)\n    at freemarker.core.IfBlock.accept(IfBlock.java:49)\n    at freemarker.core.Environment.visit(Environment.java:347)\n    at freemarker.core.Environment.visit(Environment.java:353)\n    at freemarker.core.Environment.process(Environment.java:326)\n    at freemarker.template.Template.process(Template.java:383)\n    at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367)\n    at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284)\n    at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234)\n    at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167)\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1244)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1027)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:971)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at com.cgi.kym.web.filter.ZipFilter.doFilter(ZipFilter.java:45)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at com.cgi.kym.web.filter.SecurityFilter.doFilter(SecurityFilter.java:169)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at \n    \n\n</code></pre>\n<p>basically I am converting velocity template to freemarker template. searchForm is another file and  I am trying to get data from that file and use in the template. It worked in velocity template if condition but not working in freemarker.</p>\n"},{"tags":["java","dns"],"owner":{"account_id":4194169,"reputation":753,"user_id":3435964,"accept_rate":50,"display_name":"user3435964"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661305008,"creation_date":1661305008,"question_id":73466560,"body_markdown":"I am debugging an application which is failing to bootup with the `UnknownHostException` exception while it&#39;s trying to fetch the hostname. So to reproduce this I setup the machine and manually turned off all the DNS resolutions and ran the same application.\r\n\r\n* Remove the hostname and localhost entries from `/etc/hosts`.\r\n* Remove the host to IP mapping from my DNS server.\r\n\r\nI was able to successfully reproduce and it fails with the same exception.\r\n\r\n```\r\nInetAddress local;\r\n            try {\r\n                local = InetAddress.getLocalHost();\r\n            } catch (UnknownHostException e) {\r\n                throw new MalformedURLException(&quot;Local host name unknown: &quot; +\r\n                                                e);\r\n            }\r\n```\r\n\r\nHowever in the same machine I wrote a simple Java code to do the same resolution but I don&#39;t see the issue when I run my script.\r\n\r\nHere is what I am running\r\n\r\n```\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class TestDNSResolution {\r\n\r\n  public static void main(String[] args) throws UnknownHostException {\r\n    try {\r\n      InetAddress inetAddress;\r\n      inetAddress = InetAddress.getLocalHost();\r\n      System.out.printf(&quot;inetAddress: %s&quot;, inetAddress);\r\n    } catch (UnknownHostException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n$ java TestDNSResolution\r\ninetAddress: ****&lt;actualhostname&gt;****/10.1.6.109\r\n```\r\n\r\nI was actually expecting this to throw an exception.\r\n\r\nAny pointers on what I am missing or anyways I can make this fail from the Java code?","title":"InetAddress.getLocalHost() fails intermittently","body":"<p>I am debugging an application which is failing to bootup with the <code>UnknownHostException</code> exception while it's trying to fetch the hostname. So to reproduce this I setup the machine and manually turned off all the DNS resolutions and ran the same application.</p>\n<ul>\n<li>Remove the hostname and localhost entries from <code>/etc/hosts</code>.</li>\n<li>Remove the host to IP mapping from my DNS server.</li>\n</ul>\n<p>I was able to successfully reproduce and it fails with the same exception.</p>\n<pre><code>InetAddress local;\n            try {\n                local = InetAddress.getLocalHost();\n            } catch (UnknownHostException e) {\n                throw new MalformedURLException(&quot;Local host name unknown: &quot; +\n                                                e);\n            }\n</code></pre>\n<p>However in the same machine I wrote a simple Java code to do the same resolution but I don't see the issue when I run my script.</p>\n<p>Here is what I am running</p>\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\n\npublic class TestDNSResolution {\n\n  public static void main(String[] args) throws UnknownHostException {\n    try {\n      InetAddress inetAddress;\n      inetAddress = InetAddress.getLocalHost();\n      System.out.printf(&quot;inetAddress: %s&quot;, inetAddress);\n    } catch (UnknownHostException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>$ java TestDNSResolution\ninetAddress: ****&lt;actualhostname&gt;****/10.1.6.109\n</code></pre>\n<p>I was actually expecting this to throw an exception.</p>\n<p>Any pointers on what I am missing or anyways I can make this fail from the Java code?</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1661305368,"post_id":73466476,"comment_id":129738304,"body_markdown":"`runLatch.await()` will definitely wait until `runningTrigger.countDown()` is invoked, which can only happen once the other thread has started executing the `run()` method. That means anything after `runLatch.await()` takes place after the other thread has started. And `stopTrigger.await()` will definitely wait until `stopLatch.countDown()` is invoked, which happens after your &quot;validations&quot;. So, this code seems to do what you want it to. Whether or not it can be applied to your real code, I don&#39;t know.","body":"<code>runLatch.await()</code> will definitely wait until <code>runningTrigger.countDown()</code> is invoked, which can only happen once the other thread has started executing the <code>run()</code> method. That means anything after <code>runLatch.await()</code> takes place after the other thread has started. And <code>stopTrigger.await()</code> will definitely wait until <code>stopLatch.countDown()</code> is invoked, which happens after your &quot;validations&quot;. So, this code seems to do what you want it to. Whether or not it can be applied to your real code, I don&#39;t know."}],"owner":{"account_id":26144570,"reputation":17,"user_id":19833375,"display_name":"Shivani S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661304906,"creation_date":1661303964,"question_id":73466476,"body_markdown":"I need to check if a thread has started, then tell that thread to stop. Is this right or is there a better way?\r\n\r\nMain unit test:\r\n\r\n```\r\nCountDownLatch runningTrigger = new CountDownLatch(1);\r\nCountDownLatch stopTrigger = new CountDownLatch(1);\r\nThread t = new Thread(new Worker(runLatch, stopLatch));\r\nt.start();\r\nrunLatch.await();\r\n// do some validation now that we know the thread has started\r\nstopLatch.countDown(); //notify the waiting thread that it can end and die\r\n```\r\n\r\n```\r\nclass Worker implements Runnable() {\r\n\r\n    CountDownLatch runningTrigger;\r\n    CoutnDownLatch stopTrigger;\r\n\r\n    Worker(CountDownLatch runningTrigger, CountdownLatch stopTrigger) {\r\n        this.runningTrigger = ...\r\n        ...\r\n    }\r\n\r\n    void run() {\r\n        try {\r\n            runningTrigger.countDown();\r\n            stopTrigger.await();\r\n        } catch (Interrupted ... ) { do nothing }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"How do I implement the following: the main thread needs to wait for one thread to be running, and then notify that thread to stop","body":"<p>I need to check if a thread has started, then tell that thread to stop. Is this right or is there a better way?</p>\n<p>Main unit test:</p>\n<pre><code>CountDownLatch runningTrigger = new CountDownLatch(1);\nCountDownLatch stopTrigger = new CountDownLatch(1);\nThread t = new Thread(new Worker(runLatch, stopLatch));\nt.start();\nrunLatch.await();\n// do some validation now that we know the thread has started\nstopLatch.countDown(); //notify the waiting thread that it can end and die\n</code></pre>\n<pre><code>class Worker implements Runnable() {\n\n    CountDownLatch runningTrigger;\n    CoutnDownLatch stopTrigger;\n\n    Worker(CountDownLatch runningTrigger, CountdownLatch stopTrigger) {\n        this.runningTrigger = ...\n        ...\n    }\n\n    void run() {\n        try {\n            runningTrigger.countDown();\n            stopTrigger.await();\n        } catch (Interrupted ... ) { do nothing }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","osmdroid"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1659144656,"post_id":73167086,"comment_id":129230447,"body_markdown":"Realize that the maintainers of Osmdroid SDK can change their SDK at any time. However given that it is open-source, you should review the source code itself (along with its support libraries) to see if it fits your needs.","body":"Realize that the maintainers of Osmdroid SDK can change their SDK at any time. However given that it is open-source, you should review the source code itself (along with its support libraries) to see if it fits your needs."}],"answers":[{"tags":[],"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661304780,"creation_date":1661244037,"answer_id":73455580,"question_id":73167086,"body_markdown":"Since 2017, I&#39;ve been using the OsmDroid SDK quite frequently. The SDK is primarily used to create my situational awareness map application and to manage my offline GeoPackage raster and vector map collections via OsmDroid GeoPackage API support, though the core GeoPackage API allows me to use online GeoPackage-based map providers.\r\n\r\nTo respond to your inquiry: No user data, including location, is stored by the OsmDroid APIs. It is merely an SDK for manipulating its MapView (which extends from Android&#39;s ViewGroup) and supports loading tile sources from online/offline map databases. \r\n\r\nIt will be our responsibility to implement our own location positioning codes so that any user position, in addition to other map objects you want to include in the map, can be drawn on the map.\r\n\r\nUnlike the Google Maps SDK, no API key is required for the OsmDroid SDK. In fact, it attempts to emulate what the Google Maps SDK can do while remaining royalty-free and open-source license compliant. It primarily serves OpenStreetMap purposes. To improve the OsmDroid experience, a free OsmBonusPack SDK simplifies application use-cases.\r\n\r\nhttps://github.com/MKergall/osmbonuspack\r\n\r\nExcept that you&#39;ll need a TOKEN/API key from the map database provider of your choice for any non-free map databases you want to use as base maps or tile sources. This requires you to code in the necessary parameters for the tile module provider to work.\r\n\r\nhttps://github.com/osmdroid/osmdroid/wiki/Map-Sources","title":"Osmdroid as alternative to Mapbox","body":"<p>Since 2017, I've been using the OsmDroid SDK quite frequently. The SDK is primarily used to create my situational awareness map application and to manage my offline GeoPackage raster and vector map collections via OsmDroid GeoPackage API support, though the core GeoPackage API allows me to use online GeoPackage-based map providers.</p>\n<p>To respond to your inquiry: No user data, including location, is stored by the OsmDroid APIs. It is merely an SDK for manipulating its MapView (which extends from Android's ViewGroup) and supports loading tile sources from online/offline map databases.</p>\n<p>It will be our responsibility to implement our own location positioning codes so that any user position, in addition to other map objects you want to include in the map, can be drawn on the map.</p>\n<p>Unlike the Google Maps SDK, no API key is required for the OsmDroid SDK. In fact, it attempts to emulate what the Google Maps SDK can do while remaining royalty-free and open-source license compliant. It primarily serves OpenStreetMap purposes. To improve the OsmDroid experience, a free OsmBonusPack SDK simplifies application use-cases.</p>\n<p><a href=\"https://github.com/MKergall/osmbonuspack\" rel=\"nofollow noreferrer\">https://github.com/MKergall/osmbonuspack</a></p>\n<p>Except that you'll need a TOKEN/API key from the map database provider of your choice for any non-free map databases you want to use as base maps or tile sources. This requires you to code in the necessary parameters for the tile module provider to work.</p>\n<p><a href=\"https://github.com/osmdroid/osmdroid/wiki/Map-Sources\" rel=\"nofollow noreferrer\">https://github.com/osmdroid/osmdroid/wiki/Map-Sources</a></p>\n"}],"owner":{"account_id":11616810,"reputation":1,"user_id":8509248,"display_name":"Spook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661304780,"creation_date":1659099245,"question_id":73167086,"body_markdown":"I am currently using MapBox SDK to display raster map tiles within an Java/Kotlin implemented Android app. However, I want to replace the Mapbox SDK with an alternative primarily because, as far as I understand, when I use MapBox SDK in my app even just to display other third party map tiles, it will result in some location information about my user&#39;s being intermittently sent to Mapbox. I am now considering osmdroid and was looking for some input on whether this will be an appropriate alternative. I am using Here maps as the primary source of raster map tiles [though I also have limited coverage map tile server (generated from OSM) of my own which I do not currently use but might as an alternative if needed]. Within the app, the functionality that I want to implement is relatively simple:\r\n\r\n(1) Display map tiles based on standard X,Y,Z system \r\n(2) Display tap-able icons overlaid at certain (GPS) locations on the displayed maps\r\n(3) Allow user to zoom in-out or scroll across the displayed map\r\n\r\nHowever, one absolute key requirement is that none of my user location information will be shared as part of the terms of usage for the SDK.\r\n\r\nIs Osmdroid SDK a possible suitable alternative to mapbox SDK for this ?\r\n\r\nThanks for any comments.\r\n","title":"Osmdroid as alternative to Mapbox","body":"<p>I am currently using MapBox SDK to display raster map tiles within an Java/Kotlin implemented Android app. However, I want to replace the Mapbox SDK with an alternative primarily because, as far as I understand, when I use MapBox SDK in my app even just to display other third party map tiles, it will result in some location information about my user's being intermittently sent to Mapbox. I am now considering osmdroid and was looking for some input on whether this will be an appropriate alternative. I am using Here maps as the primary source of raster map tiles [though I also have limited coverage map tile server (generated from OSM) of my own which I do not currently use but might as an alternative if needed]. Within the app, the functionality that I want to implement is relatively simple:</p>\n<p>(1) Display map tiles based on standard X,Y,Z system\n(2) Display tap-able icons overlaid at certain (GPS) locations on the displayed maps\n(3) Allow user to zoom in-out or scroll across the displayed map</p>\n<p>However, one absolute key requirement is that none of my user location information will be shared as part of the terms of usage for the SDK.</p>\n<p>Is Osmdroid SDK a possible suitable alternative to mapbox SDK for this ?</p>\n<p>Thanks for any comments.</p>\n"},{"tags":["java","netbeans","ide","netbeans-8"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1520223566,"post_id":49095081,"comment_id":85211938,"body_markdown":"On Windows 10 NetBeans will have created a log file for your uninstall in folder **C:\\Users\\{your user ID}\\.nbi\\log**. The name of that log file will be similar to **20180304230856.log** but based on the actual date/time of your NetBeans uninstall. Have a look in that file to see if there is any helpful information and update your post accordingly.","body":"On Windows 10 NetBeans will have created a log file for your uninstall in folder <b>C:\\Users\\{your user ID}\\.nbi\\log</b>. The name of that log file will be similar to <b>20180304230856.log</b> but based on the actual date/time of your NetBeans uninstall. Have a look in that file to see if there is any helpful information and update your post accordingly."},{"owner":{"account_id":13066022,"reputation":11,"user_id":9441360,"display_name":"B. Franklin"},"score":0,"creation_date":1520234824,"post_id":49095081,"comment_id":85215638,"body_markdown":"I have 3 log files in there, one seems to correspond to the installation script, and two identical ones for the time I tried to &quot;repair&quot; Netbeans running the installer all over again. It doesn&#39;t seem to have the uninstallation one. The other ones in there don&#39;t tick something for me","body":"I have 3 log files in there, one seems to correspond to the installation script, and two identical ones for the time I tried to &quot;repair&quot; Netbeans running the installer all over again. It doesn&#39;t seem to have the uninstallation one. The other ones in there don&#39;t tick something for me"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1520269207,"post_id":49095081,"comment_id":85236472,"body_markdown":"If you can&#39;t locate the uninstall log could you try uninstalling again if that is still possible. A log file should definitely be created. Its first line should look similar to this _&quot;[2018-03-04 23:08:56.208]: entering -- org.netbeans.installer.Installer.main():81&quot;_","body":"If you can&#39;t locate the uninstall log could you try uninstalling again if that is still possible. A log file should definitely be created. Its first line should look similar to this <i>&quot;[2018-03-04 23:08:56.208]: entering -- org.netbeans.installer.Installer.main():81&quot;</i>"},{"owner":{"account_id":13066022,"reputation":11,"user_id":9441360,"display_name":"B. Franklin"},"score":0,"creation_date":1520333508,"post_id":49095081,"comment_id":85262470,"body_markdown":"It doesn&#39;t create one, I removed all the log files from the folder and then execute the uninstaller but it didn&#39;t create one","body":"It doesn&#39;t create one, I removed all the log files from the folder and then execute the uninstaller but it didn&#39;t create one"}],"owner":{"account_id":13066022,"reputation":11,"user_id":9441360,"display_name":"B. Franklin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661304197,"creation_date":1520164380,"question_id":49095081,"body_markdown":"I have tried to uninstall Netbeans from control panel, but when I try to remove it, this pops out &quot;JDK not found on your computer&quot; https://i.stack.imgur.com/QF74Z.jpg , but Netbeans is working perfectly, my JAVA_HOME and Path have the right paths. I tried to launch the installer, maybe it would change the &quot;uninstall.exe&quot;, but it didn&#39;t do anything. When I execute uninstall.exe, it doesn&#39;t create a log file in .nbi/log, I have there just the installation and logs for the times I tried to reinstall in hope for &quot;repair&quot;\r\n","title":"Netbeans 8.2 uninstall in Windows 10","body":"<p>I have tried to uninstall Netbeans from control panel, but when I try to remove it, this pops out \"JDK not found on your computer\" <a href=\"https://i.stack.imgur.com/QF74Z.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/QF74Z.jpg</a> , but Netbeans is working perfectly, my JAVA_HOME and Path have the right paths. I tried to launch the installer, maybe it would change the \"uninstall.exe\", but it didn't do anything. When I execute uninstall.exe, it doesn't create a log file in .nbi/log, I have there just the installation and logs for the times I tried to reinstall in hope for \"repair\"</p>\n"},{"tags":["java","arrays","scala"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1661261327,"post_id":73454100,"comment_id":129725982,"body_markdown":"I am not totally sure but probably something about type erasure. Maybe, you can first extend the **Java** `interface` using a **Scala** `trait` that does the weird interop bits so all **Scala** implementations are simpler? In any case you should want to avoid `Array` in **Scala** code thus it sounds like a good idea.","body":"I am not totally sure but probably something about type erasure. Maybe, you can first extend the <b>Java</b> <code>interface</code> using a <b>Scala</b> <code>trait</code> that does the weird interop bits so all <b>Scala</b> implementations are simpler? In any case you should want to avoid <code>Array</code> in <b>Scala</b> code thus it sounds like a good idea."}],"answers":[{"tags":[],"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661303492,"creation_date":1661302705,"answer_id":73466361,"question_id":73454100,"body_markdown":"Generic arrays are represented slightly different between the two languages. Even though they are not type erased, their enclosing generic trait and interface have their type parameter `T` erased at compile-time.\r\n\r\nFirst, consider the Scala example:\r\n\r\n    trait ScalaInterface[T] {\r\n      def sayHi(keys: Array[T]): Unit\r\n    }\r\n\r\nAfter `scalac` compiles it, this becomes:\r\n\r\n    public interface ScalaInterface {\r\n      void sayHi(Object var1);\r\n    }\r\n\r\nWhereas the Java interface:\r\n\r\n    public interface JavaInterface&lt;T&gt; {\r\n      void sayHi(T[] keys);\r\n    }\r\n\r\nAfter `javac` compiles it, this becomes:\r\n\r\n    public interface JavaInterface {\r\n      void sayHi(Object[] var1);\r\n    }\r\n\r\nThe slightly different signature between the two looks harmless at first, but it actually makes the difference. Why Scala represents them differently is explained [here][1]:\r\n\r\n&gt; What about *genericity*? In Java, you cannot write a `T[]` where `T` is a\r\n&gt; type parameter. How then is Scalas `Array[T]` represented? In fact a\r\n&gt; generic array like `Array[T]` could be at run-time any of Javas eight\r\n&gt; primitive array types `byte[]`, `short[]`, `char[]`, `int[]`, `long[]`, `float[]`,\r\n&gt; `double[]`, `boolean[]`, or it could be an array of objects. The only\r\n&gt; common run-time type encompassing all of these types is `AnyRef` (or,\r\n&gt; equivalently `java.lang.Object`), so thats the type to which the Scala\r\n&gt; compiler maps `Array[T]`.\r\n\r\nWhen you used `JavaInterface&lt;T&gt;`, you actually placed the type `Object` as the upper bound of type `T`, at every location where `T` is used in the interface, in this case in the `sayHi` method. This happens because of type erasure.\r\n\r\nOn the other hand, the type `T` in the generic trait `ScalaInterface[T]` is not bounded to `Object`; it&#39;s bounded to `Any` because that&#39;s the base type in Scala. This means `T` has different upper bounds between the two languages in the method `sayHi`.\r\n\r\nTherefore, even though  `JavaInterface&lt;T&gt;` and `ScalaInterface[T]` look similar, their `sayHi` method is not really equivalent. The `scalac` compiler does some type inference under the hood, checks the location where type `T` is used and concludes that the `sayHi` method needs the following type constraint:\r\n\r\n    trait ScalaInterface[T] {\r\n      def sayHi(keys: Array[T with Object]): Unit\r\n    }\r\n\r\nThis is actually how your `JavaInterface` is treated and why using `String with Object` fixes the issue.\r\n\r\nA question that arises is why Scala does not instead use `Object` as the upper bound of the generic type:\r\n\r\n    trait ScalaInterface[T &lt;: Object] {\r\n      def sayHi(keys: Array[T]): Unit\r\n    }\r\n\r\nWhile this works for this particular use case, it&#39;s too constraining, because you would never be able to use subtypes of `AnyVal` in type `T` at all, so `ScalaInterface[Int]` or `ScalaInterface[Double]` would be impossible, just because the interface has a method that takes a generic array as argument. \r\n\r\nIf your interface did not have a method taking a generic array as argument it would not need this constrain at all. Or if your interface had another method that took a simple argument of type `T`, that would constrained as well. Such considerations show the issue is not actually in the type argument `T`, but in the method `sayHi`, so this is where the issue is pinpointed and contained.\r\n\r\n  [1]: https://docs.scala-lang.org/overviews/collections-2.13/arrays.html","title":"scala extends java generic array failure","body":"<p>Generic arrays are represented slightly different between the two languages. Even though they are not type erased, their enclosing generic trait and interface have their type parameter <code>T</code> erased at compile-time.</p>\n<p>First, consider the Scala example:</p>\n<pre><code>trait ScalaInterface[T] {\n  def sayHi(keys: Array[T]): Unit\n}\n</code></pre>\n<p>After <code>scalac</code> compiles it, this becomes:</p>\n<pre><code>public interface ScalaInterface {\n  void sayHi(Object var1);\n}\n</code></pre>\n<p>Whereas the Java interface:</p>\n<pre><code>public interface JavaInterface&lt;T&gt; {\n  void sayHi(T[] keys);\n}\n</code></pre>\n<p>After <code>javac</code> compiles it, this becomes:</p>\n<pre><code>public interface JavaInterface {\n  void sayHi(Object[] var1);\n}\n</code></pre>\n<p>The slightly different signature between the two looks harmless at first, but it actually makes the difference. Why Scala represents them differently is explained <a href=\"https://docs.scala-lang.org/overviews/collections-2.13/arrays.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>What about <em>genericity</em>? In Java, you cannot write a <code>T[]</code> where <code>T</code> is a\ntype parameter. How then is Scalas <code>Array[T]</code> represented? In fact a\ngeneric array like <code>Array[T]</code> could be at run-time any of Javas eight\nprimitive array types <code>byte[]</code>, <code>short[]</code>, <code>char[]</code>, <code>int[]</code>, <code>long[]</code>, <code>float[]</code>,\n<code>double[]</code>, <code>boolean[]</code>, or it could be an array of objects. The only\ncommon run-time type encompassing all of these types is <code>AnyRef</code> (or,\nequivalently <code>java.lang.Object</code>), so thats the type to which the Scala\ncompiler maps <code>Array[T]</code>.</p>\n</blockquote>\n<p>When you used <code>JavaInterface&lt;T&gt;</code>, you actually placed the type <code>Object</code> as the upper bound of type <code>T</code>, at every location where <code>T</code> is used in the interface, in this case in the <code>sayHi</code> method. This happens because of type erasure.</p>\n<p>On the other hand, the type <code>T</code> in the generic trait <code>ScalaInterface[T]</code> is not bounded to <code>Object</code>; it's bounded to <code>Any</code> because that's the base type in Scala. This means <code>T</code> has different upper bounds between the two languages in the method <code>sayHi</code>.</p>\n<p>Therefore, even though  <code>JavaInterface&lt;T&gt;</code> and <code>ScalaInterface[T]</code> look similar, their <code>sayHi</code> method is not really equivalent. The <code>scalac</code> compiler does some type inference under the hood, checks the location where type <code>T</code> is used and concludes that the <code>sayHi</code> method needs the following type constraint:</p>\n<pre><code>trait ScalaInterface[T] {\n  def sayHi(keys: Array[T with Object]): Unit\n}\n</code></pre>\n<p>This is actually how your <code>JavaInterface</code> is treated and why using <code>String with Object</code> fixes the issue.</p>\n<p>A question that arises is why Scala does not instead use <code>Object</code> as the upper bound of the generic type:</p>\n<pre><code>trait ScalaInterface[T &lt;: Object] {\n  def sayHi(keys: Array[T]): Unit\n}\n</code></pre>\n<p>While this works for this particular use case, it's too constraining, because you would never be able to use subtypes of <code>AnyVal</code> in type <code>T</code> at all, so <code>ScalaInterface[Int]</code> or <code>ScalaInterface[Double]</code> would be impossible, just because the interface has a method that takes a generic array as argument.</p>\n<p>If your interface did not have a method taking a generic array as argument it would not need this constrain at all. Or if your interface had another method that took a simple argument of type <code>T</code>, that would constrained as well. Such considerations show the issue is not actually in the type argument <code>T</code>, but in the method <code>sayHi</code>, so this is where the issue is pinpointed and contained.</p>\n"}],"owner":{"account_id":26135647,"reputation":11,"user_id":19825683,"display_name":"Chen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661303492,"creation_date":1661236335,"question_id":73454100,"body_markdown":"1. I have a Java interface with generic param.\r\n\r\n```\r\npublic interface JavaInterface&lt;T&gt; {\r\n  void sayHi(T[] keys);\r\n}\r\n```\r\n\r\n2. I can implement a Java class like\r\n\r\n```\r\npublic class JavaInterfaceImpl implements JavaInterface&lt;String&gt; {\r\n  @Override\r\n  public void sayHi(String[] array) {\r\n  }\r\n}\r\n```\r\n\r\n3. However, when creating a Scala class to implement the interface, it failed\r\n\r\n```\r\nclass ScalaInterfaceImpl extends JavaInterface[String] {\r\n   override def sayHi(keys: Array[String]): Unit = {}\r\n}\r\n```\r\n\r\nHere are the error messages.\r\n```\r\nclass ScalaInterfaceImpl needs to be abstract, since method sayHi in trait JavaInterface of type (x$1: Array[String])Unit is not defined\r\n(Note that Array[T with Object] does not match Array[String]: their type parameters differ)\r\nclass ScalaInterfaceImpl extends JavaInterface[String] {\r\n```\r\n\r\nand \r\n```\r\nmethod sayHi overrides nothing.\r\nNote: the super classes of class ScalaInterfaceImpl contain the following, non final members named sayHi:\r\ndef sayHi(x$1: Array[String]): Unit\r\n   override def sayHi(keys: Array[String]): Unit = {}\r\n```\r\n\r\n4. However, if I&#39;m implementing the Scala class for this `trait`, things goes fine.\r\n\r\n```\r\ntrait ScalaInterface[T] {\r\n  def sayHi(keys: Array[T]): Unit\r\n}\r\n```\r\n\r\n5. The Java interface in `1` is not changeable (from a third-party lib), hence I&#39;m blocked in `3`.\r\n\r\nupdate 1. I find it works with the following code \r\n```\r\nclass ScalaInterfaceImpl extends JavaInterface[String] {\r\n  override def sayHi(keys: Array[String with Object]): Unit = {}\r\n}\r\n```\r\nCan anyone help explain it?","title":"scala extends java generic array failure","body":"<ol>\n<li>I have a Java interface with generic param.</li>\n</ol>\n<pre><code>public interface JavaInterface&lt;T&gt; {\n  void sayHi(T[] keys);\n}\n</code></pre>\n<ol start=\"2\">\n<li>I can implement a Java class like</li>\n</ol>\n<pre><code>public class JavaInterfaceImpl implements JavaInterface&lt;String&gt; {\n  @Override\n  public void sayHi(String[] array) {\n  }\n}\n</code></pre>\n<ol start=\"3\">\n<li>However, when creating a Scala class to implement the interface, it failed</li>\n</ol>\n<pre><code>class ScalaInterfaceImpl extends JavaInterface[String] {\n   override def sayHi(keys: Array[String]): Unit = {}\n}\n</code></pre>\n<p>Here are the error messages.</p>\n<pre><code>class ScalaInterfaceImpl needs to be abstract, since method sayHi in trait JavaInterface of type (x$1: Array[String])Unit is not defined\n(Note that Array[T with Object] does not match Array[String]: their type parameters differ)\nclass ScalaInterfaceImpl extends JavaInterface[String] {\n</code></pre>\n<p>and</p>\n<pre><code>method sayHi overrides nothing.\nNote: the super classes of class ScalaInterfaceImpl contain the following, non final members named sayHi:\ndef sayHi(x$1: Array[String]): Unit\n   override def sayHi(keys: Array[String]): Unit = {}\n</code></pre>\n<ol start=\"4\">\n<li>However, if I'm implementing the Scala class for this <code>trait</code>, things goes fine.</li>\n</ol>\n<pre><code>trait ScalaInterface[T] {\n  def sayHi(keys: Array[T]): Unit\n}\n</code></pre>\n<ol start=\"5\">\n<li>The Java interface in <code>1</code> is not changeable (from a third-party lib), hence I'm blocked in <code>3</code>.</li>\n</ol>\n<p>update 1. I find it works with the following code</p>\n<pre><code>class ScalaInterfaceImpl extends JavaInterface[String] {\n  override def sayHi(keys: Array[String with Object]): Unit = {}\n}\n</code></pre>\n<p>Can anyone help explain it?</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1661248679,"post_id":73456488,"comment_id":129720871,"body_markdown":"If you just want to show some custom message to a client depending on the error - look how to implement it without using exceptions here: https://stackoverflow.com/questions/19825563/custom-validator-message-throwing-exception-in-implementation-of-constraintvali\nIf you want to use exceptions try to catch `ValidationException` in your `ControllerAdvice` and get its `Throwable` cause, because Hibernate validator (which is use by spring-boot) wraps all exceptions in this default exception","body":"If you just want to show some custom message to a client depending on the error - look how to implement it without using exceptions here: <a href=\"https://stackoverflow.com/questions/19825563/custom-validator-message-throwing-exception-in-implementation-of-constraintvali\" title=\"custom validator message throwing exception in implementation of constraintvali\">stackoverflow.com/questions/19825563/&hellip;</a> If you want to use exceptions try to catch <code>ValidationException</code> in your <code>ControllerAdvice</code> and get its <code>Throwable</code> cause, because Hibernate validator (which is use by spring-boot) wraps all exceptions in this default exception"},{"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"score":0,"creation_date":1661248823,"post_id":73456488,"comment_id":129720915,"body_markdown":"Thanks, I will try it and report back.","body":"Thanks, I will try it and report back."}],"answers":[{"tags":[],"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661303288,"creation_date":1661303288,"answer_id":73466414,"question_id":73456488,"body_markdown":"Ok I got it, I extended my controller advice class with ResponseEntityExceptionHandler and did the usual ExceptionHandler annotation specifying my custom exceptions.\r\n```\r\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler(value={CustomerOrderException.class})\r\n    protected ResponseEntity&lt;Object&gt; handleException(CustomerOrderException ex, WebRequest request) {\r\n        //return response entity\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Is it possible to intercept an exception thrown from a custom annotation validator in Spring Boot?","body":"<p>Ok I got it, I extended my controller advice class with ResponseEntityExceptionHandler and did the usual ExceptionHandler annotation specifying my custom exceptions.</p>\n<pre><code>public class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(value={CustomerOrderException.class})\n    protected ResponseEntity&lt;Object&gt; handleException(CustomerOrderException ex, WebRequest request) {\n        //return response entity\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661303288,"creation_date":1661247926,"question_id":73456488,"body_markdown":"I&#39;m experimenting with the custom validator annotation with spring boot in my rest application.\r\n\r\nhere is the sample code from the validator, other requisite classes are present:\r\n\r\n```\r\npublic class CustomerValidator implements ConstraintValidator&lt;CustomerValidation, Customer&gt;\r\n{\r\n    public boolean isValid(Customer value, ConstraintValidatorContext cxt) {\r\n   \r\n        if(value.getItemList.size() == 0) {\r\n            throw new CustomerOrderException();\r\n        }\r\n\r\n        if(value.getBalance() &lt; value.getCost()) {\r\n            throw new InsufficientBalanceException();\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI made a class annotated with controller advice and exception handler but it doesn&#39;t seem to intercept the exception thrown from the validator.","title":"Is it possible to intercept an exception thrown from a custom annotation validator in Spring Boot?","body":"<p>I'm experimenting with the custom validator annotation with spring boot in my rest application.</p>\n<p>here is the sample code from the validator, other requisite classes are present:</p>\n<pre><code>public class CustomerValidator implements ConstraintValidator&lt;CustomerValidation, Customer&gt;\n{\n    public boolean isValid(Customer value, ConstraintValidatorContext cxt) {\n   \n        if(value.getItemList.size() == 0) {\n            throw new CustomerOrderException();\n        }\n\n        if(value.getBalance() &lt; value.getCost()) {\n            throw new InsufficientBalanceException();\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>I made a class annotated with controller advice and exception handler but it doesn't seem to intercept the exception thrown from the validator.</p>\n"},{"tags":["java","json","scala","user-defined-functions","json-deserialization"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1661309201,"post_id":73466382,"comment_id":129738755,"body_markdown":"1) It is not possible to convert *any* Java or Scala object to JSON.  For example, a `Thread` or `Process` object will not be representable as JSON.  2) It is not possible to bypass serialization.  Conversion to JSON is serialization.  And you can&#39;t convert to JSON without converting to JSON.","body":"1) It is not possible to convert <i>any</i> Java or Scala object to JSON.  For example, a <code>Thread</code> or <code>Process</code> object will not be representable as JSON.  2) It is not possible to bypass serialization.  Conversion to JSON is serialization.  And you can&#39;t convert to JSON without converting to JSON."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661309389,"post_id":73466382,"comment_id":129738767,"body_markdown":"3) The cost of serializing using `ObjectOutputStream` will be comparable to serializing to JSON using a POJO &lt;-&gt; JSON mapping ... such as Jackson.","body":"3) The cost of serializing using <code>ObjectOutputStream</code> will be comparable to serializing to JSON using a POJO &lt;-&gt; JSON mapping ... such as Jackson."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661309616,"post_id":73466382,"comment_id":129738799,"body_markdown":"Having said that, when you say *&quot;currently we are serializing our object into a string and then deserializing it into a json object for processing&quot;* it is not clear what you are actually saying.  Do you actually mean that you are deserializing to a `JSONObject` instance ... for some specific `JSONObject` class?  (&quot;JSON object&quot; typically means the serialized form.) Perhaps it would help if you showed us some relevant code.","body":"Having said that, when you say <i>&quot;currently we are serializing our object into a string and then deserializing it into a json object for processing&quot;</i> it is not clear what you are actually saying.  Do you actually mean that you are deserializing to a <code>JSONObject</code> instance ... for some specific <code>JSONObject</code> class?  (&quot;JSON object&quot; typically means the serialized form.) Perhaps it would help if you showed us some relevant code."}],"owner":{"account_id":12034783,"reputation":73,"user_id":8803744,"display_name":"Kyle Murray"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661302954,"creation_date":1661302954,"question_id":73466382,"body_markdown":"I am working with some big data processing. For every row of a large dataframe table we have data stored as objects, and we have a function that expects a JSON object and runs some evaluations on that object. Currently we are serializing our object into a string and then deserializing it into a json object for processing.\r\n\r\nAt scale, serialization and deserialization are very costly, so I am wondering if there is a way to convert a java/scala object directly to a json object, and if I am even correct in assuming that this would bypass any deserialization and improve performance.\r\n\r\nThanks!","title":"How to convert any Java or Scala object to a JSON object, and is it possible to bypass any serialization/deserialization with this?","body":"<p>I am working with some big data processing. For every row of a large dataframe table we have data stored as objects, and we have a function that expects a JSON object and runs some evaluations on that object. Currently we are serializing our object into a string and then deserializing it into a json object for processing.</p>\n<p>At scale, serialization and deserialization are very costly, so I am wondering if there is a way to convert a java/scala object directly to a json object, and if I am even correct in assuming that this would bypass any deserialization and improve performance.</p>\n<p>Thanks!</p>\n"},{"tags":["javascript","java","spring","vue.js","server"],"comments":[{"owner":{"account_id":10672022,"reputation":1310,"user_id":7856807,"display_name":"Kopi Bryant"},"score":0,"creation_date":1661307950,"post_id":73466356,"comment_id":129738617,"body_markdown":"dont ask question like this: &quot;do you know&quot;... asking question that you need help for fixing your bug or error.","body":"dont ask question like this: &quot;do you know&quot;... asking question that you need help for fixing your bug or error."}],"owner":{"account_id":26144503,"reputation":11,"user_id":19833316,"display_name":"Redbin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661302626,"creation_date":1661302626,"question_id":73466356,"body_markdown":"Do you know how to set the response setHeader to a static file?\r\n\r\n        @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/**/*&quot;)\r\n                .addResourceLocations(&quot;classpath:/static/&quot;)\r\n                .resourceChain(true)\r\n                .addResolver(new PathResourceResolver() {\r\n                    @Override\r\n                    protected Resource getResource(String resourcePath, Resource location) throws IOException {\r\n                        Resource requestedResource = location.createRelative(resourcePath);\r\n                        return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource : new ClassPathResource(&quot;/static/index.html&quot;);\r\n                    }\r\n                });\r\n\r\n    }","title":"Spring + Vue , response setHeader &quot;index.html&quot;","body":"<p>Do you know how to set the response setHeader to a static file?</p>\n<pre><code>    @Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/**/*&quot;)\n            .addResourceLocations(&quot;classpath:/static/&quot;)\n            .resourceChain(true)\n            .addResolver(new PathResourceResolver() {\n                @Override\n                protected Resource getResource(String resourcePath, Resource location) throws IOException {\n                    Resource requestedResource = location.createRelative(resourcePath);\n                    return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource : new ClassPathResource(&quot;/static/index.html&quot;);\n                }\n            });\n\n}\n</code></pre>\n"},{"tags":["java","php","apache"],"comments":[{"owner":{"account_id":10672022,"reputation":1310,"user_id":7856807,"display_name":"Kopi Bryant"},"score":0,"creation_date":1661307814,"post_id":73466028,"comment_id":129738606,"body_markdown":"Does this answer your question? [Unable to locate an executable at &quot;/usr/bin/java/bin/java&quot; (-1)](https://stackoverflow.com/questions/10873437/unable-to-locate-an-executable-at-usr-bin-java-bin-java-1)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10873437/unable-to-locate-an-executable-at-usr-bin-java-bin-java-1\">Unable to locate an executable at &quot;/usr/bin/java/bin/java&quot; (-1)</a>"}],"answers":[{"tags":[],"owner":{"account_id":26144232,"reputation":1,"user_id":19833097,"display_name":"Krazzzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661302279,"creation_date":1661299428,"answer_id":73466111,"question_id":73466028,"body_markdown":"I don&#39;t actually use MacOS but, try your environmental variables.\r\n\r\nIf you don&#39;t get a version back when using the command: ```java -version``` (without the quotes), the path to java probably isn&#39;t set right.\r\n\r\nWe can further check that this is the case by using the command: ```printenv``` or ```env``` to get a print out of all the variables that are pathed on your machine. \r\n\r\nYou can check to make sure your java is installed in the default location by using \r\n```/usr/libexec/java_home```\r\n\r\nThen you can add to the environmental variables list by:\r\n\r\n1. Find the path to .bash_profile by using:\r\n\r\n&gt;```~/.bash-profile```\r\n\r\n2. Open the .bash_profile file with a text editor of your choice.\r\n\r\n3. Scroll down to the end of the .bash_profile file.\r\n\r\n4. Use the export command to add new environment variables:\r\n\r\n&gt;export [variable_name]=[variable_value]\r\n\r\nThe command should look something like this\r\n\r\n&gt;```export JAVA_HOME=$(/usr/libexec/java_home)```\r\n\r\nThis is just a guess as I again don&#39;t use Mac or have access to one\r\n\r\n5. Save any changes you made to the .bash_profile file.\r\n\r\n6. Execute the new .bash_profile by either restarting the terminal window or using:\r\n\r\n&gt;```source ~/.bash-profile```","title":"jdk and jRE installed but still get Unable to locate a Java Runtime that supports apt","body":"<p>I don't actually use MacOS but, try your environmental variables.</p>\n<p>If you don't get a version back when using the command: <code>java -version</code> (without the quotes), the path to java probably isn't set right.</p>\n<p>We can further check that this is the case by using the command: <code>printenv</code> or <code>env</code> to get a print out of all the variables that are pathed on your machine.</p>\n<p>You can check to make sure your java is installed in the default location by using\n<code>/usr/libexec/java_home</code></p>\n<p>Then you can add to the environmental variables list by:</p>\n<ol>\n<li>Find the path to .bash_profile by using:</li>\n</ol>\n<blockquote>\n<p><code>~/.bash-profile</code></p>\n</blockquote>\n<ol start=\"2\">\n<li><p>Open the .bash_profile file with a text editor of your choice.</p>\n</li>\n<li><p>Scroll down to the end of the .bash_profile file.</p>\n</li>\n<li><p>Use the export command to add new environment variables:</p>\n</li>\n</ol>\n<blockquote>\n<p>export [variable_name]=[variable_value]</p>\n</blockquote>\n<p>The command should look something like this</p>\n<blockquote>\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n</blockquote>\n<p>This is just a guess as I again don't use Mac or have access to one</p>\n<ol start=\"5\">\n<li><p>Save any changes you made to the .bash_profile file.</p>\n</li>\n<li><p>Execute the new .bash_profile by either restarting the terminal window or using:</p>\n</li>\n</ol>\n<blockquote>\n<p><code>source ~/.bash-profile</code></p>\n</blockquote>\n"}],"owner":{"account_id":26000252,"reputation":31,"user_id":19710908,"display_name":"nona "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661302279,"creation_date":1661298526,"question_id":73466028,"body_markdown":"i&#39;m trying to install apach lib on my mac os like this\r\n\r\n    sudo apt install php libapache2-mod-php\r\n\r\ni have this error \r\nThe operation couldnt be completed. Unable to locate a Java Runtime that supports apt.\r\nPlease visit http://www.java.com for information on installing Java.\r\n\r\ni already installed JDK and JRE","title":"jdk and jRE installed but still get Unable to locate a Java Runtime that supports apt","body":"<p>i'm trying to install apach lib on my mac os like this</p>\n<pre><code>sudo apt install php libapache2-mod-php\n</code></pre>\n<p>i have this error\nThe operation couldnt be completed. Unable to locate a Java Runtime that supports apt.\nPlease visit <a href=\"http://www.java.com\" rel=\"nofollow noreferrer\">http://www.java.com</a> for information on installing Java.</p>\n<p>i already installed JDK and JRE</p>\n"},{"tags":["java","algorithm","sorting","graphics","3d"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1661302586,"post_id":73466285,"comment_id":129737980,"body_markdown":"There&#39;s no point in using `Math.abs` on a number you&#39;re about to square anyway.  There&#39;s also no point in using `Math.sqrt`, if all you&#39;re using this calculation for is ordering.  One concern I have is that if two triangles are equidistant from the camera, your comparator returns -1, where it should return 0.  I&#39;m not sure that would put triangles in the wrong order though.  Have you got an example of two triangles that end up in the wrong order?","body":"There&#39;s no point in using <code>Math.abs</code> on a number you&#39;re about to square anyway.  There&#39;s also no point in using <code>Math.sqrt</code>, if all you&#39;re using this calculation for is ordering.  One concern I have is that if two triangles are equidistant from the camera, your comparator returns -1, where it should return 0.  I&#39;m not sure that would put triangles in the wrong order though.  Have you got an example of two triangles that end up in the wrong order?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":1,"creation_date":1661305748,"post_id":73466285,"comment_id":129738351,"body_markdown":"Just because the center of triangle A is farther from the camera than the center of triangle B doesn&#39;t mean that A is behind B.","body":"Just because the center of triangle A is farther from the camera than the center of triangle B doesn&#39;t mean that A is behind B."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1661307534,"post_id":73466285,"comment_id":129738567,"body_markdown":"In fact, I don&#39;t think it&#39;s possible to sort triangles. Cycles like A in front of B, B in front of C, and C in front of A are not sortable.","body":"In fact, I don&#39;t think it&#39;s possible to sort triangles. Cycles like A in front of B, B in front of C, and C in front of A are not sortable."},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1661848952,"post_id":73466285,"comment_id":129863036,"body_markdown":"with sorting you have to cut all the intersecting triangles into subtriangles and sort that ... its much faster and easier to implement depth buffer instead of depth sorting unless you really need to sort for some reason (like transparency)","body":"with sorting you have to cut all the intersecting triangles into subtriangles and sort that ... its much faster and easier to implement depth buffer instead of depth sorting unless you really need to sort for some reason (like transparency)"}],"owner":{"account_id":25614068,"reputation":11,"user_id":19386963,"display_name":"muffins_2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661301558,"creation_date":1661301558,"question_id":73466285,"body_markdown":"I&#39;m coding a 3d engine in Java and I keep getting a reoccurring but where when sorting my triangles at certain angles some triangles are rendered in the wrong order. I&#39;m sorting the triangles by averaging out the x, y, and z points of the triangle and measuring the distance from the camera. Is there a better method for sorting triangles in a 3d engine with a camera.\r\n\r\nMy Code (Java):\r\n\r\n        Collections.sort(tris, new Comparator&lt;triangle&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(triangle t1, triangle t2) {\r\n\t\t\t\t//boolean s = ((((t1.p[0].z + t1.p[1].z + t1.p[2].z + t1.z) / 3.0f) - cam.z)) &gt; (((t2.p[0].z + t2.p[1].z + t2.p[2].z + t1.z) / 3.0f));\r\n\t\t\t\t\r\n\t\t\t\tvec3d v1 = new vec3d(((t1.p[0].x + t1.p[1].x + t1.p[2].x + t1.x) / 3.0f),((t1.p[0].y + t1.p[1].y + t1.p[2].y + t1.y) / 3.0f),((t1.p[0].z + t1.p[1].z + t1.p[2].z + t1.z) / 3.0f));\r\n\t\t\t\tvec3d v2 = new vec3d(((t2.p[0].x + t2.p[1].x + t2.p[2].x + t2.x) / 3.0f),((t2.p[0].y + t2.p[1].y + t2.p[2].y + t2.y) / 3.0f),((t2.p[0].z + t2.p[1].z + t2.p[2].z + t2.z) / 3.0f));\r\n\r\n\t\t\t\tdouble val1 = Math.sqrt(Math.abs(v1.x - cam.x)*Math.abs(v1.x - cam.x)+Math.abs(v1.y - cam.y)*Math.abs(v1.y - cam.y)+Math.abs(v1.z - cam.z)*Math.abs(v1.z - cam.z));\r\n\t\t\t\tdouble val2 = Math.sqrt(Math.abs(v2.x - cam.x)*Math.abs(v2.x - cam.x)+Math.abs(v2.y - cam.y)*Math.abs(v2.y - cam.y)+Math.abs(v2.z - cam.z)*Math.abs(v2.z - cam.z));\r\n\t\t\t\t\t\t\r\n\t\t\t\tboolean s = val1 &lt; val2;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\treturn s ? 1 : -1;\r\n\t\t\t}\r\n\t\t});","title":"Best way to sort triangles in a 3d engine?","body":"<p>I'm coding a 3d engine in Java and I keep getting a reoccurring but where when sorting my triangles at certain angles some triangles are rendered in the wrong order. I'm sorting the triangles by averaging out the x, y, and z points of the triangle and measuring the distance from the camera. Is there a better method for sorting triangles in a 3d engine with a camera.</p>\n<p>My Code (Java):</p>\n<pre><code>    Collections.sort(tris, new Comparator&lt;triangle&gt;() {\n        @Override\n        public int compare(triangle t1, triangle t2) {\n            //boolean s = ((((t1.p[0].z + t1.p[1].z + t1.p[2].z + t1.z) / 3.0f) - cam.z)) &gt; (((t2.p[0].z + t2.p[1].z + t2.p[2].z + t1.z) / 3.0f));\n            \n            vec3d v1 = new vec3d(((t1.p[0].x + t1.p[1].x + t1.p[2].x + t1.x) / 3.0f),((t1.p[0].y + t1.p[1].y + t1.p[2].y + t1.y) / 3.0f),((t1.p[0].z + t1.p[1].z + t1.p[2].z + t1.z) / 3.0f));\n            vec3d v2 = new vec3d(((t2.p[0].x + t2.p[1].x + t2.p[2].x + t2.x) / 3.0f),((t2.p[0].y + t2.p[1].y + t2.p[2].y + t2.y) / 3.0f),((t2.p[0].z + t2.p[1].z + t2.p[2].z + t2.z) / 3.0f));\n\n            double val1 = Math.sqrt(Math.abs(v1.x - cam.x)*Math.abs(v1.x - cam.x)+Math.abs(v1.y - cam.y)*Math.abs(v1.y - cam.y)+Math.abs(v1.z - cam.z)*Math.abs(v1.z - cam.z));\n            double val2 = Math.sqrt(Math.abs(v2.x - cam.x)*Math.abs(v2.x - cam.x)+Math.abs(v2.y - cam.y)*Math.abs(v2.y - cam.y)+Math.abs(v2.z - cam.z)*Math.abs(v2.z - cam.z));\n                    \n            boolean s = val1 &lt; val2;\n            \n            \n            return s ? 1 : -1;\n        }\n    });\n</code></pre>\n"},{"tags":["java","jquery","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661301713,"post_id":73466272,"comment_id":129737877,"body_markdown":"`:startDate is NULL` - do you not mean `e.startDate is NULL` ?","body":"<code>:startDate is NULL</code> - do you not mean <code>e.startDate is NULL</code> ?"},{"owner":{"account_id":25192141,"reputation":1802,"user_id":19032206,"display_name":"qaziqarta"},"score":1,"creation_date":1661332247,"post_id":73466272,"comment_id":129744470,"body_markdown":"I think this answer also applies to your situation: https://stackoverflow.com/a/64223435/19032206","body":"I think this answer also applies to your situation: <a href=\"https://stackoverflow.com/a/64223435/19032206\">stackoverflow.com/a/64223435/19032206</a>"}],"owner":{"account_id":24371492,"reputation":17,"user_id":18304378,"display_name":"RohanRider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":551,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661301444,"creation_date":1661301444,"question_id":73466272,"body_markdown":"This is my Employee class :\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @NotBlank\r\n        @Column(name=&quot;national_id&quot;)\r\n        private String nationalId;\r\n    \r\n        @NotBlank\r\n        private String name;\r\n    \r\n        @NotBlank\r\n        private String surname;\r\n    \r\n        private Integer salary;\r\n    \r\n        @Column(name=&quot;start_date&quot;)\r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n        private Date startDate;\r\n    \r\n        private String office;\r\n    \r\n        private String department;\r\n\r\nThis is my repository class :\r\n\r\n    public interface EmployeeRepository extends JpaRepository &lt;Employee,Integer&gt;, QueryByExampleExecutor&lt;Employee&gt; {\r\n    \r\n    @Transactional\r\n        @Modifying\r\n        @Query(&quot;Select e FROM Employee e  &quot;  +\r\n                &quot;where &quot; +\r\n                &quot; (:startDate is NULL or e.startDate &gt; :startDate) &quot; +\r\n                &quot; AND &quot; +\r\n                &quot; (:salary is NULL or e.salary &gt; :salary) &quot;)\r\n        List&lt;Employee&gt; searchEmployees(@Param(value = &quot;startDate&quot;) Date startDate, @Param(value = &quot;salary&quot;) Integer salary);\r\n\r\n\r\n\r\nWhen I try to run this query I get this error : could not determine data type of parameter $1\r\n\r\nI think it&#39;s because of postgreSQL.On the one side, there is the timestamp and on the other side the timestamptz with timezone information.\r\n\r\nWhat can I do for this problem?","title":"Springboot Date could not determine data type of parameter","body":"<p>This is my Employee class :</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Entity\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @NotBlank\n    @Column(name=&quot;national_id&quot;)\n    private String nationalId;\n\n    @NotBlank\n    private String name;\n\n    @NotBlank\n    private String surname;\n\n    private Integer salary;\n\n    @Column(name=&quot;start_date&quot;)\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    private Date startDate;\n\n    private String office;\n\n    private String department;\n</code></pre>\n<p>This is my repository class :</p>\n<pre><code>public interface EmployeeRepository extends JpaRepository &lt;Employee,Integer&gt;, QueryByExampleExecutor&lt;Employee&gt; {\n\n@Transactional\n    @Modifying\n    @Query(&quot;Select e FROM Employee e  &quot;  +\n            &quot;where &quot; +\n            &quot; (:startDate is NULL or e.startDate &gt; :startDate) &quot; +\n            &quot; AND &quot; +\n            &quot; (:salary is NULL or e.salary &gt; :salary) &quot;)\n    List&lt;Employee&gt; searchEmployees(@Param(value = &quot;startDate&quot;) Date startDate, @Param(value = &quot;salary&quot;) Integer salary);\n</code></pre>\n<p>When I try to run this query I get this error : could not determine data type of parameter $1</p>\n<p>I think it's because of postgreSQL.On the one side, there is the timestamp and on the other side the timestamptz with timezone information.</p>\n<p>What can I do for this problem?</p>\n"},{"tags":["java","css","javafx","combobox","jfoenix"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1616241010,"post_id":66717031,"comment_id":117943323,"body_markdown":"for core combos, the prompt text fill is a css property of the combo&#39;s editor (see the javafx css spec to what&#39;s available) - so the selector should be `.combo-box .text-field`. Don&#39;t know if there&#39;s anything special in jfoenix","body":"for core combos, the prompt text fill is a css property of the combo&#39;s editor (see the javafx css spec to what&#39;s available) - so the selector should be <code>.combo-box .text-field</code>. Don&#39;t know if there&#39;s anything special in jfoenix"}],"answers":[{"tags":[],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661300214,"creation_date":1661300214,"answer_id":73466175,"question_id":66717031,"body_markdown":"One of these should work out:\r\n\r\n    comboBox.setStyle(&quot;-fx-text-fill: #f0f0f0;&quot; +\r\n\t\t\t\t   &quot;-fx-text-background-color: #f0f0f0;&quot; +\r\n\t\t\t\t   &quot;-fx-text-inner-color: #f0f0f0;&quot; +\r\n\t\t\t\t   &quot;-fx-font-weight: bold;&quot; +\r\n\t\t\t\t   &quot;-fx-fill: #f0f0f0;&quot;);\r\n\r\nWorks for legacy ComboBox, JFoenix and MFX\r\n\r\nAlso, you can use CSS lookup:\r\n\r\n        Node text = comboBox.lookup(&quot;.text&quot;);\r\n        text.setStyle(&quot;-fx-text-fill: #f0f0f0;&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;-fx-text-background-color: #f0f0f0;&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;-fx-text-inner-color: #f0f0f0;&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;-fx-font-weight: bold;&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;-fx-fill: #f0f0f0;&quot;);\r\n    \ttext.setFill(Color.rgb(240, 240, 240));","title":"How can I change JavaFx ComboBox text color","body":"<p>One of these should work out:</p>\n<pre><code>comboBox.setStyle(&quot;-fx-text-fill: #f0f0f0;&quot; +\n               &quot;-fx-text-background-color: #f0f0f0;&quot; +\n               &quot;-fx-text-inner-color: #f0f0f0;&quot; +\n               &quot;-fx-font-weight: bold;&quot; +\n               &quot;-fx-fill: #f0f0f0;&quot;);\n</code></pre>\n<p>Works for legacy ComboBox, JFoenix and MFX</p>\n<p>Also, you can use CSS lookup:</p>\n<pre><code>    Node text = comboBox.lookup(&quot;.text&quot;);\n    text.setStyle(&quot;-fx-text-fill: #f0f0f0;&quot; +\n                                    &quot;-fx-text-background-color: #f0f0f0;&quot; +\n                                    &quot;-fx-text-inner-color: #f0f0f0;&quot; +\n                                    &quot;-fx-font-weight: bold;&quot; +\n                                    &quot;-fx-fill: #f0f0f0;&quot;);\n    text.setFill(Color.rgb(240, 240, 240));\n</code></pre>\n"}],"owner":{"account_id":18523140,"reputation":21,"user_id":13495613,"display_name":"Malith Weeramuni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661300214,"creation_date":1616198725,"question_id":66717031,"body_markdown":"I tried every code on StackOverflow to change my combo box prompt text color to #989898, But it not changed and still in black color. Please if you have an idea about that it is very helpful to me. I&#39;ll add my CSS file below. \r\n\r\n    .combo-box\r\n    {\r\n        -fx-font-size : 21px;\r\n    \t-fx-font-family: &#39;Actor&#39;;\r\n    \t-fx-text-fill : #989898;\r\n    \t-fx-unfocus-color : #989898;\r\n    \t-fx-prompt-text-fill: #989898;\r\n    }\r\n    \r\n    .jfx-combo-box\r\n    {\r\n    \t-fx-prompt-text-fill: #989898;\r\n    }\r\n\r\nHere is how its look like,\r\n[Here you can see my combo box prompt text color changes from other text feilds][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f7Ypd.png","title":"How can I change JavaFx ComboBox text color","body":"<p>I tried every code on StackOverflow to change my combo box prompt text color to #989898, But it not changed and still in black color. Please if you have an idea about that it is very helpful to me. I'll add my CSS file below.</p>\n<pre><code>.combo-box\n{\n    -fx-font-size : 21px;\n    -fx-font-family: 'Actor';\n    -fx-text-fill : #989898;\n    -fx-unfocus-color : #989898;\n    -fx-prompt-text-fill: #989898;\n}\n\n.jfx-combo-box\n{\n    -fx-prompt-text-fill: #989898;\n}\n</code></pre>\n<p>Here is how its look like,\n<a href=\"https://i.stack.imgur.com/f7Ypd.png\" rel=\"nofollow noreferrer\">Here you can see my combo box prompt text color changes from other text feilds</a></p>\n"},{"tags":["java","authentication","google-cloud-platform","google-translate","google-cloud-iam"],"answers":[{"tags":[],"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1561908354,"creation_date":1561908354,"answer_id":56826028,"question_id":56823383,"body_markdown":"This error message is caused by using User Credentials when you setup the Cloud SDK. Typically this is done using the command `gcloud auth login`.\r\n\r\nThere are several methods to solve this problem. Each method uses a Service Account.\r\n\r\n**Method 1:**\r\n\r\nCreate a service account and set up the Cloud SDK to use the service account.\r\n\r\nExample command:\r\n\r\n    gcloud auth activate-service-account test@development-123456.iam.gserviceaccount.com --key-file=/fullpath/service-account.json\r\n\r\n**Method 2:**\r\n\r\n Set the environment variable `GOOGLE_APPLICATION_CREDENTIALS` to point to your service account JSON file.\r\n\r\n`set GOOGLE_APPLICATION_CREDENTIALS=/fullpath/service-account.json`\r\n\r\n**Method 3:**\r\n\r\nSpecify the service account when creating your Java SDK clients.\r\n\r\nThis link shows examples of specifying a service account file:\r\n\r\n[Setting Up Authentication for Server to Server Production Applications][1]\r\n\r\n\r\n  [1]: https://cloud.google.com/docs/authentication/production#obtaining_credentials_on_compute_engine_kubernetes_engine_app_engine_flexible_environment_and_cloud_functions","title":"Your application has authenticated using end user credentials from the Google Cloud SDK which are not supported by the translate.googleapis.com","body":"<p>This error message is caused by using User Credentials when you setup the Cloud SDK. Typically this is done using the command <code>gcloud auth login</code>.</p>\n\n<p>There are several methods to solve this problem. Each method uses a Service Account.</p>\n\n<p><strong>Method 1:</strong></p>\n\n<p>Create a service account and set up the Cloud SDK to use the service account.</p>\n\n<p>Example command:</p>\n\n<pre><code>gcloud auth activate-service-account test@development-123456.iam.gserviceaccount.com --key-file=/fullpath/service-account.json\n</code></pre>\n\n<p><strong>Method 2:</strong></p>\n\n<p>Set the environment variable <code>GOOGLE_APPLICATION_CREDENTIALS</code> to point to your service account JSON file.</p>\n\n<p><code>set GOOGLE_APPLICATION_CREDENTIALS=/fullpath/service-account.json</code></p>\n\n<p><strong>Method 3:</strong></p>\n\n<p>Specify the service account when creating your Java SDK clients.</p>\n\n<p>This link shows examples of specifying a service account file:</p>\n\n<p><a href=\"https://cloud.google.com/docs/authentication/production#obtaining_credentials_on_compute_engine_kubernetes_engine_app_engine_flexible_environment_and_cloud_functions\" rel=\"noreferrer\">Setting Up Authentication for Server to Server Production Applications</a></p>\n"},{"tags":[],"owner":{"account_id":2459018,"reputation":7834,"user_id":2143551,"accept_rate":91,"display_name":"corny"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1605089352,"creation_date":1605089352,"answer_id":64784372,"question_id":56823383,"body_markdown":"In general, running the code from GCP and using a service account is best practice. Not exporting service account keys is also a great security practice. So the question is already answered.\r\n\r\nIn this additional answer, I want to share my insights where the error message in the question&#39;s title occurred, what is happening, and how to setup your machine to do some local development without exporting service account keys (though, exporting short-lived service account keys from a throwaway serviceaccount in a test project may both be simpler and better practice for testing stuff).\r\n\r\nI&#39;d like to use the [sheets API](https://developers.google.com/sheets/api/guides/concepts) as an example. The sheets API requires at least the oauth2 scope \r\n`https://www.googleapis.com/auth/spreadsheets.readonly` to read from a spreadsheet.\r\n\r\nMy example Golang program was\r\n\r\n```Golang\r\npackage main\r\n \r\nimport (\r\n\t&quot;context&quot;\r\n\t&quot;fmt&quot;\r\n\t&quot;log&quot;\r\n \r\n\t&quot;google.golang.org/api/option&quot;\r\n\t&quot;google.golang.org/api/sheets/v4&quot;\r\n)\r\n \r\nfunc main() {\r\n\tctx := context.Background()\r\n \r\n\t// using default authentication, whatever the environment provides. See https://cloud.google.com/docs/authentication#environment-service-accounts\r\n\tsrv, err := sheets.NewService(ctx, option.WithScopes(sheets.SpreadsheetsReadonlyScope))\r\n\tif err != nil {\r\n\t\tlog.Fatalf(&quot;Unable to retrieve Sheets client: %v&quot;, err)\r\n\t}\r\n \r\n\t// A sample spreadsheet:\r\n\t// https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit\r\n\tspreadsheetId := &quot;1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms&quot;\r\n\treadRange := &quot;Class Data!A2:E&quot;\r\n\tresp, err := srv.Spreadsheets.Values.Get(spreadsheetId, readRange).Do()\r\n\tif err != nil {\r\n\t\tlog.Fatalf(&quot;Unable to retrieve data from sheet: %v&quot;, err)\r\n\t}\r\n \r\n\tif len(resp.Values) == 0 {\r\n\t\tfmt.Println(&quot;No data found.&quot;)\r\n\t} else {\r\n\t\tfmt.Println(&quot;got some results, ...&quot;)\r\n\t}\r\n}\r\n```\r\n\r\nI was trying to read a spreadsheet from the Google Cloud Shell (the GCP built-in web cloud terminal) and the full error message that brought me here was:\r\n\r\n```\r\ngoogleapi: Error 403: Your application has authenticated using end user credentials from the Google Cloud SDK or Google Cloud Shell which are not supported by the sheets.googleapis.com. We recommend configuring the billing/quota_project setting in gcloud or using a service account through the auth/impersonate_service_account setting. For more information about service accounts and how to use them in your application, see https://cloud.google.com/docs/authentication/., accessNotConfigured\r\n```\r\n\r\nTo access sheets with you user account via Google Cloud SDK, we need Application Default Credentials with the corresponding oauth scopes.\r\n\r\n```bash\r\n$ gcloud auth application-default login --scopes=https://www.googleapis.com/auth/spreadsheets.readonly,openid,https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/cloud-platform\r\n```\r\n\r\nI set the scopes to the [default ones](https://cloud.google.com/sdk/gcloud/reference/auth/application-default/login) and added the spreadsheets scope. When following the browser-based authentication flow, I got asked to allow\r\n\r\n```\r\nGoogle Auth Library to:\r\n\r\nView and manage your data across Google Cloud Platform services\r\n\r\nView your Google Spreadsheets\r\n```\r\n\r\nOn my computer, the code is now working.\r\n\r\nBy default, when acquiring the Application Default Credentials without specifying `--scopes`, you will only have permissions to `View and manage your data across Google Cloud Platform services` and will not be allowed to talk to the sheets API. Without specifying the `--scopes`, when talking to the sheets API, the expected error message is `googleapi: Error 403: Request had insufficient authentication scopes.`. This is indeed what I can observe when running the code on my computer. \r\n\r\n Yet, when running the code on Google Cloud Shell, I get the error message from the question&#39;s title, i.e. `Your application has authenticated using end user credentials ...`. Also running `gcloud auth application-default login` with the corresponding `--scopes` does not change this behavior on Google Cloud Shell. This is because when the code is run on Google Cloud Shell, the Application Default Credentials are not used.\r\n\r\nI wrote some small debugging code to uncover how the [Google API oauth2 library is finding its default credentials](https://github.com/golang/oauth2/blob/9fd604954f58d391cab0f7f49affb0a6aa864086/google/default.go#L61-L75):\r\n\r\n```Golang\r\npackage main\r\n \r\nimport (\r\n\t&quot;context&quot;\r\n\t&quot;fmt&quot;\r\n \r\n    &quot;golang.org/x/oauth2/google&quot;\r\n)\r\n \r\nfunc main() {\r\n\tctx := context.Background()\r\n\tcreds, err := google.FindDefaultCredentials(ctx, &quot;https://www.googleapis.com/auth/spreadsheets.readonly&quot;)\r\n\tif err != nil {\r\n\t\tpanic(fmt.Sprintf(&quot;google.FindDefaultCredentials(): %v&quot;, err))\r\n\t}\r\n\tfmt.Printf(&quot;creds uses credentials file? %#v\\n&quot;, creds.JSON != nil)\r\n\tt, err := creds.TokenSource.Token()\r\n\tif err != nil {\r\n\t\tpanic(fmt.Sprintf(&quot;Token(): %v&quot;, err))\r\n\t}\r\n\tfmt.Printf(&quot;token: %#v\\n&quot;, t)\r\n}\r\n```\r\n\r\nOn my computer, after running\r\n\r\n```\r\n$ gcloud auth application-default login\r\n```\r\n\r\nmy debugging code prints:\r\n\r\n```\r\ncreds uses credentials file? true\r\ntoken: &amp;oauth2.Token{AccessToken:&quot;...&quot;, ..., raw:map[string]interface {}{&quot;access_token&quot;:&quot;...&quot;, &quot;scope&quot;:&quot;https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/accounts.reauth https://www.googleapis.com/auth/cloud-platform openid&quot;, &quot;token_type&quot;:&quot;Bearer&quot;}}\r\n```\r\n\r\nOn my computer, after running\r\n\r\n```\r\n$ gcloud auth application-default login --scopes=https://www.googleapis.com/auth/spreadsheets.readonly,openid,https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/cloud-platform\r\n```\r\n\r\nmy debugging code prints:\r\n\r\n```\r\ncreds uses credentials file? true\r\ntoken: &amp;oauth2.Token{AccessToken:&quot;...&quot;, ..., raw:map[string]interface {}{&quot;access_token&quot;:&quot;...&quot;, &quot;scope&quot;:&quot;https://www.googleapis.com/auth/spreadsheets.readonly https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/accounts.reauth openid https://www.googleapis.com/auth/userinfo.email&quot;, &quot;token_type&quot;:&quot;Bearer&quot;}}\r\n```\r\n\r\nWe now have the `https://www.googleapis.com/auth/spreadsheets.readonly` scope included.\r\n\r\nWhatever I try, when running my debugging code on Google Cloud Shell, I always get\r\n\r\n```\r\ncreds uses credentials file? false\r\ntoken: &amp;oauth2.Token{AccessToken:&quot;...&quot;, ..., raw:map[string]interface {}{&quot;oauth2.google.serviceAccount&quot;:&quot;default&quot;, &quot;oauth2.google.tokenSource&quot;:&quot;compute-metadata&quot;}}\r\n```\r\n\r\nThis means that the Application Default Credentials are not used on Google Cloud Shell. This is because the Application Default Credentials on Google Cloud Shell are not written to the default location `$HOME/.config/gcloud/application_default_credentials.json` and `google.FindDefaultCredentials()` thus tries to authenticate via the GCP metadata server.","title":"Your application has authenticated using end user credentials from the Google Cloud SDK which are not supported by the translate.googleapis.com","body":"<p>In general, running the code from GCP and using a service account is best practice. Not exporting service account keys is also a great security practice. So the question is already answered.</p>\n<p>In this additional answer, I want to share my insights where the error message in the question's title occurred, what is happening, and how to setup your machine to do some local development without exporting service account keys (though, exporting short-lived service account keys from a throwaway serviceaccount in a test project may both be simpler and better practice for testing stuff).</p>\n<p>I'd like to use the <a href=\"https://developers.google.com/sheets/api/guides/concepts\" rel=\"noreferrer\">sheets API</a> as an example. The sheets API requires at least the oauth2 scope\n<code>https://www.googleapis.com/auth/spreadsheets.readonly</code> to read from a spreadsheet.</p>\n<p>My example Golang program was</p>\n<pre><code>package main\n \nimport (\n    &quot;context&quot;\n    &quot;fmt&quot;\n    &quot;log&quot;\n \n    &quot;google.golang.org/api/option&quot;\n    &quot;google.golang.org/api/sheets/v4&quot;\n)\n \nfunc main() {\n    ctx := context.Background()\n \n    // using default authentication, whatever the environment provides. See https://cloud.google.com/docs/authentication#environment-service-accounts\n    srv, err := sheets.NewService(ctx, option.WithScopes(sheets.SpreadsheetsReadonlyScope))\n    if err != nil {\n        log.Fatalf(&quot;Unable to retrieve Sheets client: %v&quot;, err)\n    }\n \n    // A sample spreadsheet:\n    // https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit\n    spreadsheetId := &quot;1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms&quot;\n    readRange := &quot;Class Data!A2:E&quot;\n    resp, err := srv.Spreadsheets.Values.Get(spreadsheetId, readRange).Do()\n    if err != nil {\n        log.Fatalf(&quot;Unable to retrieve data from sheet: %v&quot;, err)\n    }\n \n    if len(resp.Values) == 0 {\n        fmt.Println(&quot;No data found.&quot;)\n    } else {\n        fmt.Println(&quot;got some results, ...&quot;)\n    }\n}\n</code></pre>\n<p>I was trying to read a spreadsheet from the Google Cloud Shell (the GCP built-in web cloud terminal) and the full error message that brought me here was:</p>\n<pre><code>googleapi: Error 403: Your application has authenticated using end user credentials from the Google Cloud SDK or Google Cloud Shell which are not supported by the sheets.googleapis.com. We recommend configuring the billing/quota_project setting in gcloud or using a service account through the auth/impersonate_service_account setting. For more information about service accounts and how to use them in your application, see https://cloud.google.com/docs/authentication/., accessNotConfigured\n</code></pre>\n<p>To access sheets with you user account via Google Cloud SDK, we need Application Default Credentials with the corresponding oauth scopes.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ gcloud auth application-default login --scopes=https://www.googleapis.com/auth/spreadsheets.readonly,openid,https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/cloud-platform\n</code></pre>\n<p>I set the scopes to the <a href=\"https://cloud.google.com/sdk/gcloud/reference/auth/application-default/login\" rel=\"noreferrer\">default ones</a> and added the spreadsheets scope. When following the browser-based authentication flow, I got asked to allow</p>\n<pre><code>Google Auth Library to:\n\nView and manage your data across Google Cloud Platform services\n\nView your Google Spreadsheets\n</code></pre>\n<p>On my computer, the code is now working.</p>\n<p>By default, when acquiring the Application Default Credentials without specifying <code>--scopes</code>, you will only have permissions to <code>View and manage your data across Google Cloud Platform services</code> and will not be allowed to talk to the sheets API. Without specifying the <code>--scopes</code>, when talking to the sheets API, the expected error message is <code>googleapi: Error 403: Request had insufficient authentication scopes.</code>. This is indeed what I can observe when running the code on my computer.</p>\n<p>Yet, when running the code on Google Cloud Shell, I get the error message from the question's title, i.e. <code>Your application has authenticated using end user credentials ...</code>. Also running <code>gcloud auth application-default login</code> with the corresponding <code>--scopes</code> does not change this behavior on Google Cloud Shell. This is because when the code is run on Google Cloud Shell, the Application Default Credentials are not used.</p>\n<p>I wrote some small debugging code to uncover how the <a href=\"https://github.com/golang/oauth2/blob/9fd604954f58d391cab0f7f49affb0a6aa864086/google/default.go#L61-L75\" rel=\"noreferrer\">Google API oauth2 library is finding its default credentials</a>:</p>\n<pre><code>package main\n \nimport (\n    &quot;context&quot;\n    &quot;fmt&quot;\n \n    &quot;golang.org/x/oauth2/google&quot;\n)\n \nfunc main() {\n    ctx := context.Background()\n    creds, err := google.FindDefaultCredentials(ctx, &quot;https://www.googleapis.com/auth/spreadsheets.readonly&quot;)\n    if err != nil {\n        panic(fmt.Sprintf(&quot;google.FindDefaultCredentials(): %v&quot;, err))\n    }\n    fmt.Printf(&quot;creds uses credentials file? %#v\\n&quot;, creds.JSON != nil)\n    t, err := creds.TokenSource.Token()\n    if err != nil {\n        panic(fmt.Sprintf(&quot;Token(): %v&quot;, err))\n    }\n    fmt.Printf(&quot;token: %#v\\n&quot;, t)\n}\n</code></pre>\n<p>On my computer, after running</p>\n<pre><code>$ gcloud auth application-default login\n</code></pre>\n<p>my debugging code prints:</p>\n<pre><code>creds uses credentials file? true\ntoken: &amp;oauth2.Token{AccessToken:&quot;...&quot;, ..., raw:map[string]interface {}{&quot;access_token&quot;:&quot;...&quot;, &quot;scope&quot;:&quot;https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/accounts.reauth https://www.googleapis.com/auth/cloud-platform openid&quot;, &quot;token_type&quot;:&quot;Bearer&quot;}}\n</code></pre>\n<p>On my computer, after running</p>\n<pre><code>$ gcloud auth application-default login --scopes=https://www.googleapis.com/auth/spreadsheets.readonly,openid,https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/cloud-platform\n</code></pre>\n<p>my debugging code prints:</p>\n<pre><code>creds uses credentials file? true\ntoken: &amp;oauth2.Token{AccessToken:&quot;...&quot;, ..., raw:map[string]interface {}{&quot;access_token&quot;:&quot;...&quot;, &quot;scope&quot;:&quot;https://www.googleapis.com/auth/spreadsheets.readonly https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/accounts.reauth openid https://www.googleapis.com/auth/userinfo.email&quot;, &quot;token_type&quot;:&quot;Bearer&quot;}}\n</code></pre>\n<p>We now have the <code>https://www.googleapis.com/auth/spreadsheets.readonly</code> scope included.</p>\n<p>Whatever I try, when running my debugging code on Google Cloud Shell, I always get</p>\n<pre><code>creds uses credentials file? false\ntoken: &amp;oauth2.Token{AccessToken:&quot;...&quot;, ..., raw:map[string]interface {}{&quot;oauth2.google.serviceAccount&quot;:&quot;default&quot;, &quot;oauth2.google.tokenSource&quot;:&quot;compute-metadata&quot;}}\n</code></pre>\n<p>This means that the Application Default Credentials are not used on Google Cloud Shell. This is because the Application Default Credentials on Google Cloud Shell are not written to the default location <code>$HOME/.config/gcloud/application_default_credentials.json</code> and <code>google.FindDefaultCredentials()</code> thus tries to authenticate via the GCP metadata server.</p>\n"},{"tags":[],"owner":{"account_id":1168077,"reputation":6543,"user_id":1145905,"accept_rate":47,"display_name":"kip2"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661299858,"creation_date":1610628009,"answer_id":65719129,"question_id":56823383,"body_markdown":"# Firebase CLI\r\n\r\n[John Hanley&#39;s answer](https://stackoverflow.com/a/56826028/1164465) was insightful, but this error can also happen when using the Firebase CLI. \r\n\r\nIf you are not signed in to any account, then run:\r\n\r\n```bash\r\nfirebase login\r\n```\r\n\r\nand select the desired Google account. This should fix the error.","title":"Your application has authenticated using end user credentials from the Google Cloud SDK which are not supported by the translate.googleapis.com","body":"<h1>Firebase CLI</h1>\n<p><a href=\"https://stackoverflow.com/a/56826028/1164465\">John Hanley's answer</a> was insightful, but this error can also happen when using the Firebase CLI.</p>\n<p>If you are not signed in to any account, then run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>firebase login\n</code></pre>\n<p>and select the desired Google account. This should fix the error.</p>\n"}],"owner":{"account_id":2174240,"reputation":1419,"user_id":1925356,"accept_rate":33,"display_name":"Alex Mi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41955,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":56826028,"answer_count":3,"score":28,"last_activity_date":1661299858,"creation_date":1561882341,"question_id":56823383,"body_markdown":"After reading similar questions, such as:\r\n\r\nhttps://stackoverflow.com/questions/53406673/i-am-using-gcp-service-account-but-when-calling-dialogue-flow-api-its-giving-err\r\n\r\nand\r\n\r\nhttps://stackoverflow.com/questions/53000454/why-is-google-cloud-api-trying-to-connect-as-an-end-user\r\n\r\n\r\n\r\nand applying the suggested solutions I am still getting the error:\r\n\r\n        Caused by: com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\r\n    {\r\n      &quot;code&quot; : 403,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;usageLimits&quot;,\r\n        &quot;message&quot; : &quot;Your application has authenticated using end user credentials from the Google Cloud SDK or Google Cloud Shell which are not supported by the translate.googleapis.com. We recommend that most server applications use service accounts instead. For more information about service accounts and how to use them in your application, see https://cloud.google.com/docs/authentication/.&quot;,\r\n        &quot;reason&quot; : &quot;rateLimitExceeded&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Your application has authenticated using end user credentials from the Google Cloud SDK or Google Cloud Shell which are not supported by the translate.googleapis.com. We recommend that most server applications use service accounts instead. For more information about service accounts and how to use them in your application, see https://cloud.google.com/docs/authentication/.&quot;,\r\n      &quot;status&quot; : &quot;PERMISSION_DENIED&quot;\r\n\r\n\r\nMy pom.xml:\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;seller&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;home.digest&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;home.digest Maven Webapp&lt;/name&gt;\r\n    \t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;prime-repo&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Prime Repo&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://repository.primefaces.org&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.141.59&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.4.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.1.GA&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.1-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;4.3.6.Final&lt;/version&gt;\r\n    \t\t     &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.enterprise/cdi-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.0.SP1&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jboss.as&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jboss-as-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.1.1.Final&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.jboss.spec.javax.ejb/jboss-ejb-api_3.2_spec --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-translate --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;google-cloud-translate&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.79.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;!-- jsoup HTML parser library @ https://jsoup.org/ --&gt;\r\n    \t\t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.11.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;home.digest&lt;/finalName&gt;\r\n    \t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \r\n    \t\t\t\tdefaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nMy code:\r\n\r\n    com.google.cloud.translate.Translate translate = TranslateOptions.getDefaultInstance().getService();\r\n    \t\tString translatexText = &quot;EMPTY&quot;;\r\n    \t\ttry {\r\n    \t\t\tTranslation translation = translate.translate(&quot;Guten Tag&quot;, Translate.TranslateOption.sourceLanguage(&quot;de&quot;),\r\n    \t\t\t\t\tTranslate.TranslateOption.targetLanguage(&quot;bg&quot;),\r\n    \t\t\t\t\t// Use &quot;base&quot; for standard edition, &quot;nmt&quot; for the\r\n    \t\t\t\t\t// premium model.\r\n    \t\t\t\t\tTranslate.TranslateOption.model(&quot;nmt&quot;));\r\n    \r\n    \t\t\ttranslatexText = translation.getTranslatedText();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLogger.getLogger(TestServlet.class).error(e.getMessage(), e);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(translatexText);\r\n\r\n\r\n","title":"Your application has authenticated using end user credentials from the Google Cloud SDK which are not supported by the translate.googleapis.com","body":"<p>After reading similar questions, such as:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/53406673/i-am-using-gcp-service-account-but-when-calling-dialogue-flow-api-its-giving-err\">i am using gcp service account but when calling dialogue flow api its giving error :</a></p>\n\n<p>and</p>\n\n<p><a href=\"https://stackoverflow.com/questions/53000454/why-is-google-cloud-api-trying-to-connect-as-an-end-user\">Why is Google Cloud API trying to connect as an end-user?</a></p>\n\n<p>and applying the suggested solutions I am still getting the error:</p>\n\n<pre><code>    Caused by: com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\n{\n  \"code\" : 403,\n  \"errors\" : [ {\n    \"domain\" : \"usageLimits\",\n    \"message\" : \"Your application has authenticated using end user credentials from the Google Cloud SDK or Google Cloud Shell which are not supported by the translate.googleapis.com. We recommend that most server applications use service accounts instead. For more information about service accounts and how to use them in your application, see https://cloud.google.com/docs/authentication/.\",\n    \"reason\" : \"rateLimitExceeded\"\n  } ],\n  \"message\" : \"Your application has authenticated using end user credentials from the Google Cloud SDK or Google Cloud Shell which are not supported by the translate.googleapis.com. We recommend that most server applications use service accounts instead. For more information about service accounts and how to use them in your application, see https://cloud.google.com/docs/authentication/.\",\n  \"status\" : \"PERMISSION_DENIED\"\n</code></pre>\n\n<p>My pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;seller&lt;/groupId&gt;\n    &lt;artifactId&gt;home.digest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;home.digest Maven Webapp&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;prime-repo&lt;/id&gt;\n            &lt;name&gt;Prime Repo&lt;/name&gt;\n            &lt;url&gt;http://repository.primefaces.org&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;4.4.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1.GA&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.1-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6.Final&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.enterprise/cdi-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.SP1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-as-web&lt;/artifactId&gt;\n            &lt;version&gt;7.1.1.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jboss.spec.javax.ejb/jboss-ejb-api_3.2_spec --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-translate --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-translate&lt;/artifactId&gt;\n            &lt;version&gt;1.79.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;!-- jsoup HTML parser library @ https://jsoup.org/ --&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;home.digest&lt;/finalName&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \n                defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>com.google.cloud.translate.Translate translate = TranslateOptions.getDefaultInstance().getService();\n        String translatexText = \"EMPTY\";\n        try {\n            Translation translation = translate.translate(\"Guten Tag\", Translate.TranslateOption.sourceLanguage(\"de\"),\n                    Translate.TranslateOption.targetLanguage(\"bg\"),\n                    // Use \"base\" for standard edition, \"nmt\" for the\n                    // premium model.\n                    Translate.TranslateOption.model(\"nmt\"));\n\n            translatexText = translation.getTranslatedText();\n        } catch (Exception e) {\n            Logger.getLogger(TestServlet.class).error(e.getMessage(), e);\n        }\n\n        System.out.println(translatexText);\n</code></pre>\n"},{"tags":["java","selenium","maven","log4j"],"comments":[{"owner":{"account_id":1129881,"reputation":11552,"user_id":1116230,"display_name":"Nico Haase"},"score":1,"creation_date":1639689050,"post_id":70332054,"comment_id":124420253,"body_markdown":"v1.2.16 is more than five years old - is there any good reason to use such an old, unsupported version nowadays?","body":"v1.2.16 is more than five years old - is there any good reason to use such an old, unsupported version nowadays?"},{"owner":{"account_id":3341625,"reputation":393,"user_id":2807796,"accept_rate":100,"display_name":"Michael Starkie"},"score":2,"creation_date":1640015905,"post_id":70332054,"comment_id":124489015,"body_markdown":"If the product is stable then there is a valid reason to keep it especially since log4j2 has introduced new vulnerabilities not present in log4j1.  Can anyone say for sure, with absolute certainty, that log4j2 is less of a risk than log4j1?","body":"If the product is stable then there is a valid reason to keep it especially since log4j2 has introduced new vulnerabilities not present in log4j1.  Can anyone say for sure, with absolute certainty, that log4j2 is less of a risk than log4j1?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661300150,"post_id":70332054,"comment_id":129737693,"body_markdown":"Well ... the problem is that new vulnerabilities are being reported against Log4j 1.2.  For example there have 3 new CVEs (so far) in 2022; see https://logging.apache.org/log4j/1.2/.  And these are not going to be fixed.  Any project that continues to use Log4j 1.2 will need to track the new CVEs, check if they are relevant and apply the mitigations.  Doing that **will be** a burden to the project, and anyone who deploys the project&#39;s software.  That&#39;s a good reason to upgrade (IMO).","body":"Well ... the problem is that new vulnerabilities are being reported against Log4j 1.2.  For example there have 3 new CVEs (so far) in 2022; see <a href=\"https://logging.apache.org/log4j/1.2/\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/1.2</a>.  And these are not going to be fixed.  Any project that continues to use Log4j 1.2 will need to track the new CVEs, check if they are relevant and apply the mitigations.  Doing that <b>will be</b> a burden to the project, and anyone who deploys the project&#39;s software.  That&#39;s a good reason to upgrade (IMO)."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1661297701,"creation_date":1639386361,"answer_id":70332143,"question_id":70332054,"body_markdown":"Since you&#39;re using Log4j 1, the [specific vulnerability][1] is not present there. However, note the following from *[Comments on the log4shell(CVE-2021-44228) vulnerability][2]*:\r\n\r\n&gt;Is log4j 1.x vulnerable? \\\r\n&gt;Given that log4j version 1.x is still very widely deployed, perhaps 10 times more widely than log4j 2.x, we have been receiving a steady stream of questions regarding the vulnerability of log4j version 1.x.\r\n&gt;\r\n&gt;As log4j 1.x does NOT offer a JNDI look up mechanism at the message level, it does NOT suffer from CVE-2021-44228.\r\n&gt;\r\n&gt;However, log4j 1.x comes with `JMSAppender` which will perform a JNDI lookup if enabled in log4j&#39;s configuration file, i.e. *log4j.properties* or *log4j.xml*.\r\n&gt;\r\n&gt;An attacker who ALREADY has write access the log4j configuration file will need to add `JMSAppender` into the configuration poisoned with malicious connection parameters. Note that prior legitimate usage of `JMSAppender` is irrelevant to the ability of the attacker to mount a successful attack.\r\n&gt;\r\n&gt;Also note that poisoning the configuration file is not enough. The attacker also needs to force log4j to reload its configuration file with the poisoned parameters. Given that log4j 1.x does not offer automatic reloading, the poisoned configuration file will typically only become effective at application restart.\r\n&gt;\r\n&gt;Nevertheless, while not easy, such an attack is not impossible. Thus it makes some sense to make job of the attacker even harder by removing `JMSAppender` altogether from log4j-1.2.17.jar.\r\n&gt;\r\n&gt;In the absence of a new log4j 1.x release, you can remove `JMSAppender` from the log4j-1.2.17.jar artifact yourself. Here is the command:\r\n&gt;\r\n&gt; ```lang-none\r\n&gt; zip -d log4j-1.2.17.jar org/apache/log4j/net/JMSAppender.class\r\n&gt; ```\r\n&gt;\r\n&gt;If you do not have access to &#39;zip&#39;, you can also use the &#39;jar&#39; command.\r\n&gt;\r\n&gt; ```lang-none\r\n&gt; #assuming log4j-1.2.17.jar exists in current directory\r\n&gt; mkdir tmp\r\n&gt; cd tmp\r\n&gt; jar xvf ../log4j-1.2.17.jar\r\n&gt; rm org/apache/log4j/net/JMSAppender.class\r\n&gt; jar cvf ../log4j-1.2.17-patched.jar .\r\n&gt; ```\r\n&gt;\r\n&gt;It goes without saying that once log4j-1.2.17.jar is patched, you would need to deploy it.\r\n\r\n  [1]: https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228\r\n  [2]: http://slf4j.org/log4shell.html\r\n\r\n","title":"Log4j 1: How to mitigate the vulnerability in Log4j without updating version to 2.15.0","body":"<p>Since you're using Log4j 1, the <a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228\" rel=\"nofollow noreferrer\">specific vulnerability</a> is not present there. However, note the following from <em><a href=\"http://slf4j.org/log4shell.html\" rel=\"nofollow noreferrer\">Comments on the log4shell(CVE-2021-44228) vulnerability</a></em>:</p>\n<blockquote>\n<p>Is log4j 1.x vulnerable? <br />\nGiven that log4j version 1.x is still very widely deployed, perhaps 10 times more widely than log4j 2.x, we have been receiving a steady stream of questions regarding the vulnerability of log4j version 1.x.</p>\n<p>As log4j 1.x does NOT offer a JNDI look up mechanism at the message level, it does NOT suffer from CVE-2021-44228.</p>\n<p>However, log4j 1.x comes with <code>JMSAppender</code> which will perform a JNDI lookup if enabled in log4j's configuration file, i.e. <em>log4j.properties</em> or <em>log4j.xml</em>.</p>\n<p>An attacker who ALREADY has write access the log4j configuration file will need to add <code>JMSAppender</code> into the configuration poisoned with malicious connection parameters. Note that prior legitimate usage of <code>JMSAppender</code> is irrelevant to the ability of the attacker to mount a successful attack.</p>\n<p>Also note that poisoning the configuration file is not enough. The attacker also needs to force log4j to reload its configuration file with the poisoned parameters. Given that log4j 1.x does not offer automatic reloading, the poisoned configuration file will typically only become effective at application restart.</p>\n<p>Nevertheless, while not easy, such an attack is not impossible. Thus it makes some sense to make job of the attacker even harder by removing <code>JMSAppender</code> altogether from log4j-1.2.17.jar.</p>\n<p>In the absence of a new log4j 1.x release, you can remove <code>JMSAppender</code> from the log4j-1.2.17.jar artifact yourself. Here is the command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>zip -d log4j-1.2.17.jar org/apache/log4j/net/JMSAppender.class\n</code></pre>\n<p>If you do not have access to 'zip', you can also use the 'jar' command.</p>\n<pre class=\"lang-none prettyprint-override\"><code>#assuming log4j-1.2.17.jar exists in current directory\nmkdir tmp\ncd tmp\njar xvf ../log4j-1.2.17.jar\nrm org/apache/log4j/net/JMSAppender.class\njar cvf ../log4j-1.2.17-patched.jar .\n</code></pre>\n<p>It goes without saying that once log4j-1.2.17.jar is patched, you would need to deploy it.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16362773,"reputation":211,"user_id":11817936,"display_name":"Eray Tufan"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1661297862,"creation_date":1639476089,"answer_id":70346988,"question_id":70332054,"body_markdown":"[Another answer][1] is not correct. There is also a vulnerability for version 1.x. *[CVE-2021-4104][2]*:\r\n\r\n&gt; A flaw was found in the Java logging library Apache Log4j in version 1.x. JMSAppender in Log4j 1.x is vulnerable to deserialization of untrusted data. This allows a remote attacker to execute code on the server if the deployed application is configured to use JMSAppender and to the attacker&#39;s JMS Broker.\r\n\r\nFor the mitigation of this vulnerability:\r\n\r\nThese are the possible mitigations for this flaw for releases version 1.x:\r\n\r\n- Comment out or remove JMSAppender in the Log4j configuration if it is used\r\n- Remove the JMSAppender class from the classpath. For example:\r\n\r\n    ```lang-none\r\n    zip -q -d log4j-*.jar org/apache/log4j/net/JMSAppender.class\r\n    ```\r\n\r\n- Restrict access for the OS user on the platform running the application to prevent modifying the Log4j configuration by the attacker.\r\n\r\n  [1]: https://stackoverflow.com/questions/70332054/log4j-1-how-to-mitigate-the-vulnerability-in-log4j-without-updating-version-to/70332143#70332143\r\n  [2]: https://access.redhat.com/security/cve/CVE-2021-4104\r\n\r\n","title":"Log4j 1: How to mitigate the vulnerability in Log4j without updating version to 2.15.0","body":"<p><a href=\"https://stackoverflow.com/questions/70332054/log4j-1-how-to-mitigate-the-vulnerability-in-log4j-without-updating-version-to/70332143#70332143\">Another answer</a> is not correct. There is also a vulnerability for version 1.x. <em><a href=\"https://access.redhat.com/security/cve/CVE-2021-4104\" rel=\"nofollow noreferrer\">CVE-2021-4104</a></em>:</p>\n<blockquote>\n<p>A flaw was found in the Java logging library Apache Log4j in version 1.x. JMSAppender in Log4j 1.x is vulnerable to deserialization of untrusted data. This allows a remote attacker to execute code on the server if the deployed application is configured to use JMSAppender and to the attacker's JMS Broker.</p>\n</blockquote>\n<p>For the mitigation of this vulnerability:</p>\n<p>These are the possible mitigations for this flaw for releases version 1.x:</p>\n<ul>\n<li><p>Comment out or remove JMSAppender in the Log4j configuration if it is used</p>\n</li>\n<li><p>Remove the JMSAppender class from the classpath. For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>zip -q -d log4j-*.jar org/apache/log4j/net/JMSAppender.class\n</code></pre>\n</li>\n<li><p>Restrict access for the OS user on the platform running the application to prevent modifying the Log4j configuration by the attacker.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":18326643,"reputation":443,"user_id":13346125,"display_name":"cyrilgeorge153"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19775,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"accepted_answer_id":70346988,"answer_count":2,"score":11,"last_activity_date":1661297862,"creation_date":1639385895,"question_id":70332054,"body_markdown":"I am using Log4j 1.2.16. I am using this with a Maven [Selenium][1] testing Java project. I am looking for a solution without upgrading the version of Log4j.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.16&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Selenium_%28software%29\r\n\r\n\r\n\r\n\r\n","title":"Log4j 1: How to mitigate the vulnerability in Log4j without updating version to 2.15.0","body":"<p>I am using Log4j 1.2.16. I am using this with a Maven <a href=\"https://en.wikipedia.org/wiki/Selenium_%28software%29\" rel=\"nofollow noreferrer\">Selenium</a> testing Java project. I am looking for a solution without upgrading the version of Log4j.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.16&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","redirect","https","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":2488321,"reputation":1753,"user_id":2166335,"display_name":"Melvin Sy"},"score":1,"creation_date":1660633058,"post_id":69531010,"comment_id":129571274,"body_markdown":"By chance, did you find an answer for this? I&#39;m facing the same problem right now.","body":"By chance, did you find an answer for this? I&#39;m facing the same problem right now."},{"owner":{"account_id":126882,"reputation":2340,"user_id":323684,"accept_rate":100,"display_name":"curd0"},"score":0,"creation_date":1661297972,"post_id":69531010,"comment_id":129737364,"body_markdown":"Hi @MelvinSy thanks you for taking interest in this question. I posted my reply as an answer, hope you&#39;ll find it useful.","body":"Hi @MelvinSy thanks you for taking interest in this question. I posted my reply as an answer, hope you&#39;ll find it useful."}],"answers":[{"tags":[],"owner":{"account_id":126882,"reputation":2340,"user_id":323684,"accept_rate":100,"display_name":"curd0"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661297782,"creation_date":1661297782,"answer_id":73465967,"question_id":69531010,"body_markdown":"Since no one replied so far I&#39;ll post my own findings as an answer.\r\n\r\nOne of internal servers in my company that handled file uploads had to be converted from HTTP to HTTPS. Additional requirement was: if someone forgot to update their URLs and uploaded files using HTTP - their uploads have to be properly redirected to HTTPS and processed too.\r\n\r\nThat was easy to do with **HttpClient 4.5** (see the original question) but with **HttpClient 5.1**. If the clients sent POST requests over HTTP to HTTPS server - they were redirected (301 Moved Permanently), POST was converted to GET, and then rejected by the server.\r\n\r\nExamining the source code I found that in version **5.1** HttpClient developers decided to strictly enforce [HTTP RFC 2616][1] and removed the very possibility to override or relax the redirect strategy.\r\n\r\nIn **HttpClient 5.1.x** request redirection is handled by [RedirectExec][2] class, where the logic of replacing **POST** with **GET** for certain status codes (302, 302, 303) is hardcoded:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nThat made client side solution rather cumbersome and expensive. However, since I had full control over the server I decided to fix the problem on the server side.\r\n\r\nIt was done by reconfiguring the NGNIX server to return **&quot;308 Permanent Redirect&quot;** on HTTP to HTTPS redirects, instead of default **&quot;301 Moved Permanently&quot;**\r\n\r\n    server {\r\n        listen 80      default_server;\r\n        listen [::]:80 default_server;\r\n        server_name _;\r\n        return 308 https://$host$request_uri;\r\n    }\r\n\r\nNot exactly the solution I was hoping for, but works great for my use case, and is much simpler than writing a custom implementation of [RedirectExec][2]\r\n\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3\r\n  [2]: https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/main/java/org/apache/hc/client5/http/impl/classic/RedirectExec.java\r\n  [3]: https://i.stack.imgur.com/EVVEc.png","title":"How to follow redirects for POST in Apache HttpClient 5.1","body":"<p>Since no one replied so far I'll post my own findings as an answer.</p>\n<p>One of internal servers in my company that handled file uploads had to be converted from HTTP to HTTPS. Additional requirement was: if someone forgot to update their URLs and uploaded files using HTTP - their uploads have to be properly redirected to HTTPS and processed too.</p>\n<p>That was easy to do with <strong>HttpClient 4.5</strong> (see the original question) but with <strong>HttpClient 5.1</strong>. If the clients sent POST requests over HTTP to HTTPS server - they were redirected (301 Moved Permanently), POST was converted to GET, and then rejected by the server.</p>\n<p>Examining the source code I found that in version <strong>5.1</strong> HttpClient developers decided to strictly enforce <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3\" rel=\"noreferrer\">HTTP RFC 2616</a> and removed the very possibility to override or relax the redirect strategy.</p>\n<p>In <strong>HttpClient 5.1.x</strong> request redirection is handled by <a href=\"https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/main/java/org/apache/hc/client5/http/impl/classic/RedirectExec.java\" rel=\"noreferrer\">RedirectExec</a> class, where the logic of replacing <strong>POST</strong> with <strong>GET</strong> for certain status codes (302, 302, 303) is hardcoded:</p>\n<p><a href=\"https://i.stack.imgur.com/EVVEc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EVVEc.png\" alt=\"enter image description here\" /></a></p>\n<p>That made client side solution rather cumbersome and expensive. However, since I had full control over the server I decided to fix the problem on the server side.</p>\n<p>It was done by reconfiguring the NGNIX server to return <strong>&quot;308 Permanent Redirect&quot;</strong> on HTTP to HTTPS redirects, instead of default <strong>&quot;301 Moved Permanently&quot;</strong></p>\n<pre><code>server {\n    listen 80      default_server;\n    listen [::]:80 default_server;\n    server_name _;\n    return 308 https://$host$request_uri;\n}\n</code></pre>\n<p>Not exactly the solution I was hoping for, but works great for my use case, and is much simpler than writing a custom implementation of <a href=\"https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/main/java/org/apache/hc/client5/http/impl/classic/RedirectExec.java\" rel=\"noreferrer\">RedirectExec</a></p>\n"}],"owner":{"account_id":126882,"reputation":2340,"user_id":323684,"accept_rate":100,"display_name":"curd0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1937,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1661297782,"creation_date":1633977455,"question_id":69531010,"body_markdown":"I&#39;m looking how to follow redirects for POST requests as POST in **Apache HttpClient 5.1**\r\n\r\nBy default, only **GET** requests resulting in a redirect are automatically followed. If a **POST** requests is answered with either HTTP 301 (Moved Permanently) or with 302 (Moved Temporarily)  the redirect is **not** automatically followed. This is specified by the [HTTP RFC 2616][1]\r\n\r\nThere are usecases, however, when POST request has to be redirected as POST. In such cases, the default behavior has to be changed in order to relax the strict HTTP specification.\r\n\r\nWith **Apache HttpClient 4.5** this could be easily achieved by replacing [DefaultRedirectStrategy][2] with [LaxRedirectStrategy][3] or with your own custom implementation of [RedirectStrategy][4] interface. Examples:\r\n\r\n - https://stackoverflow.com/questions/56312858/apache-httpclient-4-5-redirect-post-request-to-get-request\r\n - https://www.baeldung.com/httpclient-redirect-on-http-post\r\n\r\nIn **Apache HttpClient 5.1** this doesn&#39;t work anymore. The [RedirectStrategy][5] interface changed and no longer contain ***getRedirect*** method, ***LaxRedirectStrategy*** implementation has also been removed.\r\n\r\nIs there a way to override default POST redirect behavior in **Apache HttpClient 5.1** similar or as simple as in **HttpClient 4.5**?\r\n\r\n\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3\r\n  [2]: https://github.com/apache/httpcomponents-client/blob/rel/v4.5.12/httpclient/src/main/java/org/apache/http/impl/client/DefaultRedirectStrategy.java\r\n  [3]: https://github.com/apache/httpcomponents-client/blob/rel/v4.5.12/httpclient/src/main/java/org/apache/http/impl/client/LaxRedirectStrategy.java\r\n  [4]: https://github.com/apache/httpcomponents-client/blob/rel/v4.5.12/httpclient/src/main/java/org/apache/http/client/RedirectStrategy.java\r\n  [5]: https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/main/java/org/apache/hc/client5/http/protocol/RedirectStrategy.java","title":"How to follow redirects for POST in Apache HttpClient 5.1","body":"<p>I'm looking how to follow redirects for POST requests as POST in <strong>Apache HttpClient 5.1</strong></p>\n<p>By default, only <strong>GET</strong> requests resulting in a redirect are automatically followed. If a <strong>POST</strong> requests is answered with either HTTP 301 (Moved Permanently) or with 302 (Moved Temporarily)  the redirect is <strong>not</strong> automatically followed. This is specified by the <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3\" rel=\"noreferrer\">HTTP RFC 2616</a></p>\n<p>There are usecases, however, when POST request has to be redirected as POST. In such cases, the default behavior has to be changed in order to relax the strict HTTP specification.</p>\n<p>With <strong>Apache HttpClient 4.5</strong> this could be easily achieved by replacing <a href=\"https://github.com/apache/httpcomponents-client/blob/rel/v4.5.12/httpclient/src/main/java/org/apache/http/impl/client/DefaultRedirectStrategy.java\" rel=\"noreferrer\">DefaultRedirectStrategy</a> with <a href=\"https://github.com/apache/httpcomponents-client/blob/rel/v4.5.12/httpclient/src/main/java/org/apache/http/impl/client/LaxRedirectStrategy.java\" rel=\"noreferrer\">LaxRedirectStrategy</a> or with your own custom implementation of <a href=\"https://github.com/apache/httpcomponents-client/blob/rel/v4.5.12/httpclient/src/main/java/org/apache/http/client/RedirectStrategy.java\" rel=\"noreferrer\">RedirectStrategy</a> interface. Examples:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/56312858/apache-httpclient-4-5-redirect-post-request-to-get-request\">Apache HttpClient 4.5 redirect POST request to GET request</a></li>\n<li><a href=\"https://www.baeldung.com/httpclient-redirect-on-http-post\" rel=\"noreferrer\">https://www.baeldung.com/httpclient-redirect-on-http-post</a></li>\n</ul>\n<p>In <strong>Apache HttpClient 5.1</strong> this doesn't work anymore. The <a href=\"https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/main/java/org/apache/hc/client5/http/protocol/RedirectStrategy.java\" rel=\"noreferrer\">RedirectStrategy</a> interface changed and no longer contain <em><strong>getRedirect</strong></em> method, <em><strong>LaxRedirectStrategy</strong></em> implementation has also been removed.</p>\n<p>Is there a way to override default POST redirect behavior in <strong>Apache HttpClient 5.1</strong> similar or as simple as in <strong>HttpClient 4.5</strong>?</p>\n"},{"tags":["java","spring","spring-data","spring-data-neo4j"],"comments":[{"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"score":0,"creation_date":1661238326,"post_id":73454145,"comment_id":129717259,"body_markdown":"It might be possible you have not annotated @ RestController over the class. It seen to be like something missing the MediaType ( e.i @ Produces, @ Consumes). Update the exception message in detail for better and accurate solutions","body":"It might be possible you have not annotated @ RestController over the class. It seen to be like something missing the MediaType ( e.i @ Produces, @ Consumes). Update the exception message in detail for better and accurate solutions"},{"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"score":0,"creation_date":1661242699,"post_id":73454145,"comment_id":129718660,"body_markdown":"Maybe I&#39;m missing something, but aren&#39;t the generated endpoint /merchants and the new &quot;save&quot; endpoint /merchants the same? From your code snippet I would expect the new POST endpoint to override the generated POST request.","body":"Maybe I&#39;m missing something, but aren&#39;t the generated endpoint /merchants and the new &quot;save&quot; endpoint /merchants the same? From your code snippet I would expect the new POST endpoint to override the generated POST request."},{"owner":{"account_id":6163052,"reputation":589,"user_id":4803964,"accept_rate":61,"display_name":"rohaldb"},"score":0,"creation_date":1661247571,"post_id":73454145,"comment_id":129720419,"body_markdown":"@Jimmy I have the @ RestController annotation, i just omitted it. Please see the edited code chunk. The controller methods I have correctly parse the input and output. The only error I am receiving is the one i have shared.","body":"@Jimmy I have the @ RestController annotation, i just omitted it. Please see the edited code chunk. The controller methods I have correctly parse the input and output. The only error I am receiving is the one i have shared."},{"owner":{"account_id":6163052,"reputation":589,"user_id":4803964,"accept_rate":61,"display_name":"rohaldb"},"score":0,"creation_date":1661248071,"post_id":73454145,"comment_id":129720628,"body_markdown":"@StrongPoint you are right I had a typo, please see the updated question :)","body":"@StrongPoint you are right I had a typo, please see the updated question :)"},{"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"score":0,"creation_date":1661250416,"post_id":73454145,"comment_id":129721478,"body_markdown":"Ok, now it makes more sense to me. :) Try using the RepositoryRestController Annotation instead of RestController. That might work.","body":"Ok, now it makes more sense to me. :) Try using the RepositoryRestController Annotation instead of RestController. That might work."}],"answers":[{"tags":[],"owner":{"account_id":6163052,"reputation":589,"user_id":4803964,"accept_rate":61,"display_name":"rohaldb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661296967,"creation_date":1661296967,"answer_id":73465904,"question_id":73454145,"body_markdown":"As suggested by @StrongPoint in the comments, the solution to this is to use the `@RepositoryRestController` annotation instead of `@RestController`. After making that change I also had to annotate the return type with `@ResponseBody`, leaving the controller looking like this:\r\n\r\n```\r\n@RepositoryRestController\r\npublic class MerchantController {\r\n\r\n    private final MerchantService merchantService;\r\n\r\n    @Autowired\r\n    public MerchantController(MerchantService merchantService) {\r\n        this.merchantService = merchantService;\r\n    }\r\n\r\n    @PostMapping(path =&quot;merchants&quot;)\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public @ResponseBody Merchant save(@RequestBody MerchantInputDTO merchantInputDTO) {\r\n        return merchantService.save(merchantInputDTO);\r\n    }\r\n\r\n    @PatchMapping(path =&quot;merchants/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public @ResponseBody Merchant patch(@RequestBody MerchantInputDTO merchantInputDTO, @PathVariable(&quot;id&quot;) String id) {\r\n        return merchantService.patch(merchantInputDTO, id);\r\n    }\r\n}\r\n```","title":"Spring data CrudRepository with custom controller methods overrides other endpoint methods","body":"<p>As suggested by @StrongPoint in the comments, the solution to this is to use the <code>@RepositoryRestController</code> annotation instead of <code>@RestController</code>. After making that change I also had to annotate the return type with <code>@ResponseBody</code>, leaving the controller looking like this:</p>\n<pre><code>@RepositoryRestController\npublic class MerchantController {\n\n    private final MerchantService merchantService;\n\n    @Autowired\n    public MerchantController(MerchantService merchantService) {\n        this.merchantService = merchantService;\n    }\n\n    @PostMapping(path =&quot;merchants&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public @ResponseBody Merchant save(@RequestBody MerchantInputDTO merchantInputDTO) {\n        return merchantService.save(merchantInputDTO);\n    }\n\n    @PatchMapping(path =&quot;merchants/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public @ResponseBody Merchant patch(@RequestBody MerchantInputDTO merchantInputDTO, @PathVariable(&quot;id&quot;) String id) {\n        return merchantService.patch(merchantInputDTO, id);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6163052,"reputation":589,"user_id":4803964,"accept_rate":61,"display_name":"rohaldb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661296967,"creation_date":1661236649,"question_id":73454145,"body_markdown":"I have a repository that extends `CrudRepository`\r\n\r\n```\r\npublic interface MerchantRepository extends CrudRepository&lt;Merchant, String&gt;\r\n```\r\n\r\nThis genrates a POST `/merchants` endpoint which I can use to save and a GET `/merchants` which I can use to query.\r\nNext I implemented a custom save endpoint in the controller because I want to exclude auto-generated fields such as ID from the @RequestBody DTO entity\r\n\r\n```\r\n@RestController\r\npublic class MerchantController {\r\n\r\n    private final MerchantService merchantService;\r\n\r\n    @Autowired\r\n    public MerchantController(MerchantService merchantService) {\r\n        this.merchantService = merchantService;\r\n    }\r\n    \r\n    @PostMapping(path =&quot;merchants&quot;)\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Merchant save(@RequestBody MerchantInputDTO merchantInputDTO) {\r\n        return merchantService.save(merchantInputDTO);\r\n    }\r\n}\r\n```\r\nWhen I do this, POST `/merchants` works as expected, but other methods on the `/merchants` endpoint, such as GET `/merchants` (used to get all merchants), generated by the `CrudRepository` no longer work and return `405 Method Not Allowed`.\r\n\r\nThe same thing seems to happen if I implement a custom method on the `/merchants/{id}`. Take for example this custom PATCH on `/merchants/{id}` which then breaks POST `/merchants/{id}`:\r\n```\r\n   @PatchMapping(path =&quot;merchants/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public Merchant patch(@RequestBody MerchantInputDTO merchantInputDTO, @PathVariable(&quot;id&quot;) String id) {\r\n        return merchantService.patch(merchantInputDTO, id);\r\n    }\r\n```\r\n\r\nIt seems that by implementing a custom method on an endpoint, it breaks all other methods on that endpoint. \r\n\r\nHow do i fix this issue? \r\n","title":"Spring data CrudRepository with custom controller methods overrides other endpoint methods","body":"<p>I have a repository that extends <code>CrudRepository</code></p>\n<pre><code>public interface MerchantRepository extends CrudRepository&lt;Merchant, String&gt;\n</code></pre>\n<p>This genrates a POST <code>/merchants</code> endpoint which I can use to save and a GET <code>/merchants</code> which I can use to query.\nNext I implemented a custom save endpoint in the controller because I want to exclude auto-generated fields such as ID from the @RequestBody DTO entity</p>\n<pre><code>@RestController\npublic class MerchantController {\n\n    private final MerchantService merchantService;\n\n    @Autowired\n    public MerchantController(MerchantService merchantService) {\n        this.merchantService = merchantService;\n    }\n    \n    @PostMapping(path =&quot;merchants&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public Merchant save(@RequestBody MerchantInputDTO merchantInputDTO) {\n        return merchantService.save(merchantInputDTO);\n    }\n}\n</code></pre>\n<p>When I do this, POST <code>/merchants</code> works as expected, but other methods on the <code>/merchants</code> endpoint, such as GET <code>/merchants</code> (used to get all merchants), generated by the <code>CrudRepository</code> no longer work and return <code>405 Method Not Allowed</code>.</p>\n<p>The same thing seems to happen if I implement a custom method on the <code>/merchants/{id}</code>. Take for example this custom PATCH on <code>/merchants/{id}</code> which then breaks POST <code>/merchants/{id}</code>:</p>\n<pre><code>   @PatchMapping(path =&quot;merchants/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public Merchant patch(@RequestBody MerchantInputDTO merchantInputDTO, @PathVariable(&quot;id&quot;) String id) {\n        return merchantService.patch(merchantInputDTO, id);\n    }\n</code></pre>\n<p>It seems that by implementing a custom method on an endpoint, it breaks all other methods on that endpoint.</p>\n<p>How do i fix this issue?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1661316184,"post_id":73465885,"comment_id":129739645,"body_markdown":"As described in quarkus doc (https://quarkus.io/guides/resteasy-reactive#request-or-response-filters), add `@Blocking` should resolve the issue","body":"As described in quarkus doc (<a href=\"https://quarkus.io/guides/resteasy-reactive#request-or-response-filters\" rel=\"nofollow noreferrer\">quarkus.io/guides/resteasy-reactive#request-or-response-fil&zwnj;&#8203;ters</a>), add <code>@Blocking</code> should resolve the issue"},{"owner":{"account_id":4382631,"reputation":13,"user_id":3573836,"accept_rate":75,"display_name":"rmjr42"},"score":0,"creation_date":1661357902,"post_id":73465885,"comment_id":129755198,"body_markdown":"@Blocking still throws the same error","body":"@Blocking still throws the same error"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1661691561,"post_id":73465885,"comment_id":129827352,"body_markdown":"https://quarkus.io/guides/resteasy-reactive#request-or-response-filters discusses ServerRequestFilter and you are using a vertx RouteFilter. Perhaps you should switch filter type and use @ServerRequestFilter(nonBlocking=false)?","body":"<a href=\"https://quarkus.io/guides/resteasy-reactive#request-or-response-filters\" rel=\"nofollow noreferrer\">quarkus.io/guides/resteasy-reactive#request-or-response-filt&zwnj;&#8203;ers</a> discusses ServerRequestFilter and you are using a vertx RouteFilter. Perhaps you should switch filter type and use @ServerRequestFilter(nonBlocking=false)?"}],"owner":{"account_id":4382631,"reputation":13,"user_id":3573836,"accept_rate":75,"display_name":"rmjr42"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661296713,"creation_date":1661296713,"question_id":73465885,"body_markdown":"Im trying to intercept all calls and verify if a customer exists in the db.  I get an error of \r\n\r\nYou have attempted to perform a blocking operation on a IO thread. This is not allowed, as blocking the IO thread will cause major performance issues with your application.\r\n\r\nQuarkus version 2.6.3\r\n\r\n\r\n\r\n    import io.quarkus.vertx.web.RouteFilter;\r\n    @Provider\r\n    public class Filter {\r\n        CustomerRepository customerRepository;\r\n        @RouteFilter(100)\r\n        public void filter(RoutingContext routingContext) {\r\n            String id =routingContext.request().getHeader(&quot;id&quot;);\r\n            Cutomer c =customerRepository.findById(id);\r\n            if(c!=null) {\r\n                // throw error\r\n            }\r\n            /**\r\n             * Tried\r\n             * Uni.createFrom().item(()-&gt;customerRepository.findById(id))\r\n             * .runSubscriptionOn(Infrastructure.getDefaultWorkerPool());\r\n             */\r\n            routingContext.next();\r\n            \r\n        }\r\n    }**strong text**","title":"Quarkus Interceptor","body":"<p>Im trying to intercept all calls and verify if a customer exists in the db.  I get an error of</p>\n<p>You have attempted to perform a blocking operation on a IO thread. This is not allowed, as blocking the IO thread will cause major performance issues with your application.</p>\n<p>Quarkus version 2.6.3</p>\n<pre><code>import io.quarkus.vertx.web.RouteFilter;\n@Provider\npublic class Filter {\n    CustomerRepository customerRepository;\n    @RouteFilter(100)\n    public void filter(RoutingContext routingContext) {\n        String id =routingContext.request().getHeader(&quot;id&quot;);\n        Cutomer c =customerRepository.findById(id);\n        if(c!=null) {\n            // throw error\n        }\n        /**\n         * Tried\n         * Uni.createFrom().item(()-&gt;customerRepository.findById(id))\n         * .runSubscriptionOn(Infrastructure.getDefaultWorkerPool());\n         */\n        routingContext.next();\n        \n    }\n}**strong text**\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8904,"page":1088,"page_size":100}
