{"items":[{"tags":["java","android","android-intent","contacts"],"comments":[{"owner":{"account_id":19864250,"reputation":104,"user_id":15473634,"display_name":"user15473634"},"score":0,"creation_date":1643312424,"post_id":70884646,"comment_id":125313127,"body_markdown":"@AliasCartellano i am not sure that&#39;s what i need. When you add a contact android gives an add button on the bottom. I want that to be pressed.","body":"@AliasCartellano i am not sure that&#39;s what i need. When you add a contact android gives an add button on the bottom. I want that to be pressed."}],"answers":[{"tags":[],"owner":{"account_id":24063423,"reputation":102,"user_id":18040331,"display_name":"IlyaFromRussia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643318916,"creation_date":1643318916,"answer_id":70885982,"question_id":70884646,"body_markdown":"You can use button.performClick().\r\nIf you need demonstrate that button was clicked you can use ***my sample***:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            val button = findViewById&lt;Button&gt;(R.id.button)\r\n            // this code demonstrate success work\r\n            button.setOnClickListener {\r\n                Toast.makeText(this, &quot;event occurred&quot;, Toast.LENGTH_LONG).show()\r\n            }\r\n    \r\n            // create event with your params\r\n            var ev = MotionEvent.obtain(1L, System.currentTimeMillis(),0, button.x, button.y, 0)\r\n    \r\n    \r\n            val b2 = findViewById&lt;Button&gt;(R.id.button2)\r\n            b2.setOnClickListener {\r\n                button.onTouchEvent(ev)\r\n            }\r\n        }\r\n    }","title":"How to press Save Contact Button Programmatically","body":"<p>You can use button.performClick().\nIf you need demonstrate that button was clicked you can use <em><strong>my sample</strong></em>:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val button = findViewById&lt;Button&gt;(R.id.button)\n        // this code demonstrate success work\n        button.setOnClickListener {\n            Toast.makeText(this, &quot;event occurred&quot;, Toast.LENGTH_LONG).show()\n        }\n\n        // create event with your params\n        var ev = MotionEvent.obtain(1L, System.currentTimeMillis(),0, button.x, button.y, 0)\n\n\n        val b2 = findViewById&lt;Button&gt;(R.id.button2)\n        b2.setOnClickListener {\n            button.onTouchEvent(ev)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19864250,"reputation":104,"user_id":15473634,"display_name":"user15473634"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70885982,"answer_count":1,"score":1,"last_activity_date":1643318916,"creation_date":1643311928,"question_id":70884646,"body_markdown":"I Have code which takes my to the save contact screen, fills the details i need, however i need it to now just automatically press save contact too. Does anyone know how? Or if it is even possible.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Intent contactIntent = new Intent(ContactsContract.Intents.Insert.ACTION);\r\n        contactIntent.setType(ContactsContract.RawContacts.CONTENT_TYPE);\r\n\r\n        contactIntent\r\n                .putExtra(ContactsContract.Intents.Insert.NAME, &quot;Contact Name&quot;)\r\n                .putExtra(ContactsContract.Intents.Insert.PHONE, &quot;123456789&quot;);\r\n\r\n        startActivityForResult(contactIntent, 1);\r\n\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\r\n        super.onActivityResult(requestCode, resultCode, intent);\r\n\r\n        if (requestCode == 1)\r\n        {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                Toast.makeText(this, &quot;Added Contact&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            if (resultCode == Activity.RESULT_CANCELED) {\r\n                Toast.makeText(this, &quot;Cancelled Added Contact&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How to press Save Contact Button Programmatically","body":"<p>I Have code which takes my to the save contact screen, fills the details i need, however i need it to now just automatically press save contact too. Does anyone know how? Or if it is even possible.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Intent contactIntent = new Intent(ContactsContract.Intents.Insert.ACTION);\n        contactIntent.setType(ContactsContract.RawContacts.CONTENT_TYPE);\n\n        contactIntent\n                .putExtra(ContactsContract.Intents.Insert.NAME, &quot;Contact Name&quot;)\n                .putExtra(ContactsContract.Intents.Insert.PHONE, &quot;123456789&quot;);\n\n        startActivityForResult(contactIntent, 1);\n\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode, resultCode, intent);\n\n        if (requestCode == 1)\n        {\n            if (resultCode == Activity.RESULT_OK) {\n                Toast.makeText(this, &quot;Added Contact&quot;, Toast.LENGTH_SHORT).show();\n            }\n            if (resultCode == Activity.RESULT_CANCELED) {\n                Toast.makeText(this, &quot;Cancelled Added Contact&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":317980,"reputation":11814,"user_id":634958,"accept_rate":100,"display_name":"S1LENT WARRIOR"},"score":1,"creation_date":1613601745,"post_id":66250732,"comment_id":117129047,"body_markdown":"In order to get an answer to your question, you need to understand what does `&lt;? extends T&gt;` means? Here is an SO question that might be helpful: https://stackoverflow.com/q/897935/634958","body":"In order to get an answer to your question, you need to understand what does <code>&lt;? extends T&gt;</code> means? Here is an SO question that might be helpful: <a href=\"https://stackoverflow.com/q/897935/634958\">stackoverflow.com/q/897935/634958</a>"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613624938,"creation_date":1613624938,"answer_id":66253986,"question_id":66250732,"body_markdown":"The really long explanation I did for myself too, [is here][1]; if you want to read it. Plus this is related to [capture conversion][2].\r\n\r\n\r\nIn short, the compiler simply can&#39;t prove that a wildcard capture is compatible with `T`, in your case. If you run with: `javac --debug=verboseResolution=all ...`, you will see an error like:\r\n\r\n    ....\r\n    (argument mismatch; Class&lt;CAP#1&gt; cannot be converted to Class&lt;? extends Parent&lt;T&gt;&gt;)\r\n\r\nSo a _capture conversion_ (`CAP#1`) can&#39;t simply satisfy the compiler here. The way to make it work is to introduce one more capture, via `...&lt;? extends T&gt;`. This can be proven by the compiler that `? extends Child` is `&lt;:` (notation explained in the second link) of `? extends T`; thus covariance is established. \r\n\r\nIt is also said that a &quot;bounded wildcard makes the type covariant&quot;.  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27902219/nested-wildcards/58631449#58631449\r\n  [2]: https://stackoverflow.com/questions/63947339/why-is-this-assignment-involving-wildcards-legal-in-java/63962748#63962748","title":"Generic method with redundant type parameter","body":"<p>The really long explanation I did for myself too, <a href=\"https://stackoverflow.com/questions/27902219/nested-wildcards/58631449#58631449\">is here</a>; if you want to read it. Plus this is related to <a href=\"https://stackoverflow.com/questions/63947339/why-is-this-assignment-involving-wildcards-legal-in-java/63962748#63962748\">capture conversion</a>.</p>\n<p>In short, the compiler simply can't prove that a wildcard capture is compatible with <code>T</code>, in your case. If you run with: <code>javac --debug=verboseResolution=all ...</code>, you will see an error like:</p>\n<pre><code>....\n(argument mismatch; Class&lt;CAP#1&gt; cannot be converted to Class&lt;? extends Parent&lt;T&gt;&gt;)\n</code></pre>\n<p>So a <em>capture conversion</em> (<code>CAP#1</code>) can't simply satisfy the compiler here. The way to make it work is to introduce one more capture, via <code>...&lt;? extends T&gt;</code>. This can be proven by the compiler that <code>? extends Child</code> is <code>&lt;:</code> (notation explained in the second link) of <code>? extends T</code>; thus covariance is established.</p>\n<p>It is also said that a &quot;bounded wildcard makes the type covariant&quot;.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1614554446,"creation_date":1614554446,"answer_id":66414855,"question_id":66250732,"body_markdown":"The type `Class&lt;Parent&lt;? extends Child&gt;&gt;` can be passed to the first signature and cannot be passed to the second, and since `Class&lt;Parent&lt;? extends Child&gt;&gt;` can be assigned to a `Class&lt;? extends Parent&lt;? extends Child&gt;&gt;`, it follows that `Class&lt;? extends Parent&lt;? extends Child&gt;&gt;` also cannot be passed to the second signature.\r\n\r\nSo the question reduces to why `Class&lt;Parent&lt;? extends Child&gt;&gt;` cannot be passed to the second signature (`&lt;T extends Child&gt; Parent&lt;T&gt; error(Class&lt;? extends Parent&lt;T&gt;&gt; clazz)`). We can see that that is because `Parent&lt;? extends Child&gt;` cannot a subtype of `Parent&lt;T&gt;`, no matter what specific type you choose for `T`. (`Parent&lt;T&gt;` is a subtype of `Parent&lt;? extends Child&gt;`, but not the other way around.)\r\n\r\nConsider the equivalent question of why `List&lt;Parent&lt;? extends Child&gt;&gt;` cannot be passed to a signature of `&lt;T extends Child&gt; Parent&lt;T&gt; error(List&lt;? extends Parent&lt;T&gt;&gt; clazz)`. A `List&lt;Parent&lt;? extends Child&gt;&gt;` allows you to add both `Parent&lt;ChildA&gt;` and `Parent&lt;ChildB&gt;` elements into the same list at the same time. In other words, it is a &quot;heterogenous list&quot;. On the other hand, for any given choice of `T`, a `List&lt;Parent&lt;T&gt;&gt;` (or `List&lt;SubclassOfParent&lt;T&gt;&gt;`) is a list that can only contain `Parent` objects of a single type argument. It is a &quot;homogenous list&quot;. Even if generics allows you to operate on homogenous lists of various type arguments generically, homogenous lists are still different beasts from heterogenous lists. The two are incompatible.","title":"Generic method with redundant type parameter","body":"<p>The type <code>Class&lt;Parent&lt;? extends Child&gt;&gt;</code> can be passed to the first signature and cannot be passed to the second, and since <code>Class&lt;Parent&lt;? extends Child&gt;&gt;</code> can be assigned to a <code>Class&lt;? extends Parent&lt;? extends Child&gt;&gt;</code>, it follows that <code>Class&lt;? extends Parent&lt;? extends Child&gt;&gt;</code> also cannot be passed to the second signature.</p>\n<p>So the question reduces to why <code>Class&lt;Parent&lt;? extends Child&gt;&gt;</code> cannot be passed to the second signature (<code>&lt;T extends Child&gt; Parent&lt;T&gt; error(Class&lt;? extends Parent&lt;T&gt;&gt; clazz)</code>). We can see that that is because <code>Parent&lt;? extends Child&gt;</code> cannot a subtype of <code>Parent&lt;T&gt;</code>, no matter what specific type you choose for <code>T</code>. (<code>Parent&lt;T&gt;</code> is a subtype of <code>Parent&lt;? extends Child&gt;</code>, but not the other way around.)</p>\n<p>Consider the equivalent question of why <code>List&lt;Parent&lt;? extends Child&gt;&gt;</code> cannot be passed to a signature of <code>&lt;T extends Child&gt; Parent&lt;T&gt; error(List&lt;? extends Parent&lt;T&gt;&gt; clazz)</code>. A <code>List&lt;Parent&lt;? extends Child&gt;&gt;</code> allows you to add both <code>Parent&lt;ChildA&gt;</code> and <code>Parent&lt;ChildB&gt;</code> elements into the same list at the same time. In other words, it is a &quot;heterogenous list&quot;. On the other hand, for any given choice of <code>T</code>, a <code>List&lt;Parent&lt;T&gt;&gt;</code> (or <code>List&lt;SubclassOfParent&lt;T&gt;&gt;</code>) is a list that can only contain <code>Parent</code> objects of a single type argument. It is a &quot;homogenous list&quot;. Even if generics allows you to operate on homogenous lists of various type arguments generically, homogenous lists are still different beasts from heterogenous lists. The two are incompatible.</p>\n"}],"owner":{"account_id":414883,"reputation":167,"user_id":789365,"display_name":"Philippe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":66414855,"answer_count":2,"score":5,"last_activity_date":1643318878,"creation_date":1613600252,"question_id":66250732,"body_markdown":"I have problems understanding the differences between the following two method signatures.\r\n\r\n```java\r\nabstract class Example {\r\n  void test() {\r\n    Class&lt;? extends Parent&lt;? extends Child&gt;&gt; clazz = null;\r\n\r\n    works(clazz);\r\n    error(clazz); // Error\r\n  }\r\n\r\n  abstract &lt;T extends Child&gt; Parent&lt;T&gt; works(Class&lt;? extends Parent&lt;? extends T&gt;&gt; clazz);\r\n  abstract &lt;T extends Child&gt; Parent&lt;T&gt; error(Class&lt;? extends Parent&lt;T&gt;&gt;           clazz);\r\n\r\n  interface Child {}\r\n  interface Parent&lt;U extends Child&gt; {}\r\n}\r\n```\r\n\r\nCompiling this code gives the following error (Tested with 1.8.0_271, 11.0.9 and 15.0.1). \r\n\r\n    …/src/main/java/Example.java:6:5\r\n    java: method error in class Example cannot be applied to given types;\r\n      required: java.lang.Class&lt;? extends Example.Parent&lt;T&gt;&gt;\r\n      found: java.lang.Class&lt;capture#1 of ? extends Example.Parent&lt;? extends Example.Child&gt;&gt;\r\n      reason: cannot infer type-variable(s) T\r\n        (argument mismatch; java.lang.Class&lt;capture#1 of ? extends Example.Parent&lt;? extends Example.Child&gt;&gt; cannot be converted to java.lang.Class&lt;? extends Example.Parent&lt;T&gt;&gt;)\r\n\r\nWhy is `? extends` needed? T already extends Child in the type parameter (`T extends Child`) and this additional `? extends` seems redundant to me.\r\n\r\n----\r\n\r\nUpdate:\r\n\r\nStarting javac with `-DverboseResolution=all` is a bit more descriptive but still confusing\r\n\r\n    …src/main/java/Example.java:6: error: method error in class Example cannot be applied to given types;\r\n        error(clazz); // Error\r\n        ^\r\n      required: Class&lt;? extends Parent&lt;T&gt;&gt;\r\n      found: Class&lt;CAP#1&gt;\r\n      reason: cannot infer type-variable(s) T\r\n        (argument mismatch; Class&lt;CAP#1&gt; cannot be converted to Class&lt;? extends Parent&lt;T&gt;&gt;)\r\n      where T is a type-variable:\r\n        T extends Child declared in method &lt;T&gt;error(Class&lt;? extends Parent&lt;T&gt;&gt;)\r\n      where CAP#1 is a fresh type-variable:\r\n        CAP#1 extends Parent&lt;? extends Child&gt; from capture of ? extends Parent&lt;? extends Child&gt;\r\n\r\nInterpreting this:\r\n\r\nRequired is `Class&lt;? extends Parent&lt;T&gt;&gt;`. `T` is `extends Child`. So let&#39;s put this together into `Class&lt;? extends Parent&lt;? extends Child&gt;&gt;`.\r\n\r\nFound is `Class&lt;CAP#1&gt;`. `CAP#1` is `extends Parent&lt;? extends Child&gt;`. Together this gives me `Class&lt;? extends Parent&lt;? extends Child&gt;&gt;`\r\n\r\nSo both signatures are the same?!?\r\n\r\n---\r\n\r\nUpdate:\r\n\r\nCompiling this code in Eclipse works. In contrast to javac the Eclipse compiler treats the signatures as the same.","title":"Generic method with redundant type parameter","body":"<p>I have problems understanding the differences between the following two method signatures.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Example {\n  void test() {\n    Class&lt;? extends Parent&lt;? extends Child&gt;&gt; clazz = null;\n\n    works(clazz);\n    error(clazz); // Error\n  }\n\n  abstract &lt;T extends Child&gt; Parent&lt;T&gt; works(Class&lt;? extends Parent&lt;? extends T&gt;&gt; clazz);\n  abstract &lt;T extends Child&gt; Parent&lt;T&gt; error(Class&lt;? extends Parent&lt;T&gt;&gt;           clazz);\n\n  interface Child {}\n  interface Parent&lt;U extends Child&gt; {}\n}\n</code></pre>\n<p>Compiling this code gives the following error (Tested with 1.8.0_271, 11.0.9 and 15.0.1).</p>\n<pre><code>…/src/main/java/Example.java:6:5\njava: method error in class Example cannot be applied to given types;\n  required: java.lang.Class&lt;? extends Example.Parent&lt;T&gt;&gt;\n  found: java.lang.Class&lt;capture#1 of ? extends Example.Parent&lt;? extends Example.Child&gt;&gt;\n  reason: cannot infer type-variable(s) T\n    (argument mismatch; java.lang.Class&lt;capture#1 of ? extends Example.Parent&lt;? extends Example.Child&gt;&gt; cannot be converted to java.lang.Class&lt;? extends Example.Parent&lt;T&gt;&gt;)\n</code></pre>\n<p>Why is <code>? extends</code> needed? T already extends Child in the type parameter (<code>T extends Child</code>) and this additional <code>? extends</code> seems redundant to me.</p>\n<hr />\n<p>Update:</p>\n<p>Starting javac with <code>-DverboseResolution=all</code> is a bit more descriptive but still confusing</p>\n<pre><code>…src/main/java/Example.java:6: error: method error in class Example cannot be applied to given types;\n    error(clazz); // Error\n    ^\n  required: Class&lt;? extends Parent&lt;T&gt;&gt;\n  found: Class&lt;CAP#1&gt;\n  reason: cannot infer type-variable(s) T\n    (argument mismatch; Class&lt;CAP#1&gt; cannot be converted to Class&lt;? extends Parent&lt;T&gt;&gt;)\n  where T is a type-variable:\n    T extends Child declared in method &lt;T&gt;error(Class&lt;? extends Parent&lt;T&gt;&gt;)\n  where CAP#1 is a fresh type-variable:\n    CAP#1 extends Parent&lt;? extends Child&gt; from capture of ? extends Parent&lt;? extends Child&gt;\n</code></pre>\n<p>Interpreting this:</p>\n<p>Required is <code>Class&lt;? extends Parent&lt;T&gt;&gt;</code>. <code>T</code> is <code>extends Child</code>. So let's put this together into <code>Class&lt;? extends Parent&lt;? extends Child&gt;&gt;</code>.</p>\n<p>Found is <code>Class&lt;CAP#1&gt;</code>. <code>CAP#1</code> is <code>extends Parent&lt;? extends Child&gt;</code>. Together this gives me <code>Class&lt;? extends Parent&lt;? extends Child&gt;&gt;</code></p>\n<p>So both signatures are the same?!?</p>\n<hr />\n<p>Update:</p>\n<p>Compiling this code in Eclipse works. In contrast to javac the Eclipse compiler treats the signatures as the same.</p>\n"},{"tags":["java","download"],"comments":[{"owner":{"account_id":949245,"reputation":796,"user_id":975773,"accept_rate":67,"display_name":"Shobit"},"score":0,"creation_date":1381902382,"post_id":19396008,"comment_id":28748485,"body_markdown":"I would suggest adding to the question things you&#39;ve tried already.  Did it not work the way you tried it?  If you just want to know how to open and read a URL using Java, a Google search would help. Here&#39;s the first link that&#39;s returned when you query &quot;URL java read&quot; http://docs.oracle.com/javase/tutorial/networking/urls/readingURL.html","body":"I would suggest adding to the question things you&#39;ve tried already.  Did it not work the way you tried it?  If you just want to know how to open and read a URL using Java, a Google search would help. Here&#39;s the first link that&#39;s returned when you query &quot;URL java read&quot; <a href=\"http://docs.oracle.com/javase/tutorial/networking/urls/readingURL.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/networking/urls/readingURL.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":0,"creation_date":1542436457,"post_id":19396008,"comment_id":93575896,"body_markdown":"Possible duplicate of [How to download and save a file from Internet using Java?](https://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java\">How to download and save a file from Internet using Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":391713,"reputation":17170,"user_id":752527,"accept_rate":100,"display_name":"Hanlet Esca&#241;o"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381902764,"creation_date":1381902199,"answer_id":19396049,"question_id":19396008,"body_markdown":"Try this:\r\n\r\n   \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n\r\n    class HttpHelperx\r\n    {\r\n       public static String GET(String url)\r\n       {\r\n          String result = &quot;&quot;;\r\n          \r\n          try \r\n          {\r\n             URL navUrl = new URL(url);\r\n             URLConnection con = (URLConnection)navUrl.openConnection();\r\n            \r\n             result = getContent(con);\r\n     \r\n          } \r\n          catch (MalformedURLException e) \r\n          {\r\n    \t     e.printStackTrace();\r\n          } \r\n          catch (IOException e) \r\n          {\r\n    \t     e.printStackTrace();\r\n          }\r\n          \r\n          return result;\r\n       }\r\n       \r\n       public static String getContent(URLConnection con)\r\n       {\r\n          String result = &quot;&quot;;\r\n          if(con!=null)\r\n          {\r\n             BufferedReader br;\r\n             try \r\n             {\r\n                br = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                StringBuilder buffer = new StringBuilder();\r\n                String aux = &quot;&quot;;\r\n    \r\n                while ((aux = br.readLine()) != null)\r\n                {\r\n                   buffer.append(aux);\r\n                }\r\n                result = buffer.toString();\r\n                br.close();\r\n             } \r\n             catch (IOException e) \r\n             {\r\n                e.printStackTrace();\r\n             }\r\n          }\r\n          \r\n          return result;\r\n       }\r\n    }\r\n\r\nTo use it:\r\n    \r\n    public class HTTPHelperDriver\r\n    {\r\n       public static void main(String[] args)\r\n          throws Exception\r\n       {\r\n          String response = HttpHelperx.GET(&quot;http://www.google.com&quot;);\r\n          System.out.println(response); \r\n       }\r\n    }","title":"Open URL In java","body":"<p>Try this:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLConnection;\n\nclass HttpHelperx\n{\n   public static String GET(String url)\n   {\n      String result = \"\";\n\n      try \n      {\n         URL navUrl = new URL(url);\n         URLConnection con = (URLConnection)navUrl.openConnection();\n\n         result = getContent(con);\n\n      } \n      catch (MalformedURLException e) \n      {\n         e.printStackTrace();\n      } \n      catch (IOException e) \n      {\n         e.printStackTrace();\n      }\n\n      return result;\n   }\n\n   public static String getContent(URLConnection con)\n   {\n      String result = \"\";\n      if(con!=null)\n      {\n         BufferedReader br;\n         try \n         {\n            br = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            StringBuilder buffer = new StringBuilder();\n            String aux = \"\";\n\n            while ((aux = br.readLine()) != null)\n            {\n               buffer.append(aux);\n            }\n            result = buffer.toString();\n            br.close();\n         } \n         catch (IOException e) \n         {\n            e.printStackTrace();\n         }\n      }\n\n      return result;\n   }\n}\n</code></pre>\n\n<p>To use it:</p>\n\n<pre><code>public class HTTPHelperDriver\n{\n   public static void main(String[] args)\n      throws Exception\n   {\n      String response = HttpHelperx.GET(\"http://www.google.com\");\n      System.out.println(response); \n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2583756,"reputation":1767,"user_id":2239904,"display_name":"angel_navarro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381902221,"creation_date":1381902221,"answer_id":19396054,"question_id":19396008,"body_markdown":"I have found this:\r\n\r\n    URL website = new URL(&quot;http://www.website.com/information.asp&quot;);\r\n    ReadableByteChannel rbc = Channels.newChannel(website.openStream());\r\n    FileOutputStream fos = new FileOutputStream(&quot;information.html&quot;);\r\n    fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n\r\nIn this article: https://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java\r\n\r\nI hope this helps you","title":"Open URL In java","body":"<p>I have found this:</p>\n\n<pre><code>URL website = new URL(\"http://www.website.com/information.asp\");\nReadableByteChannel rbc = Channels.newChannel(website.openStream());\nFileOutputStream fos = new FileOutputStream(\"information.html\");\nfos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n</code></pre>\n\n<p>In this article: <a href=\"https://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java\">How to download and save a file from Internet using Java?</a></p>\n\n<p>I hope this helps you</p>\n"},{"tags":[],"owner":{"account_id":24074354,"reputation":102,"user_id":18049904,"display_name":"Mpro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643318732,"creation_date":1643300978,"answer_id":70882184,"question_id":19396008,"body_markdown":"You can use this code:\r\n\r\n```\r\ntry {\r\n    //specify the protocol along with the URL\r\n    URI oURL = new URI(&quot;https://www.google.com/&quot;);\r\n    desktop.browse(oURL);\r\n} catch (URISyntaxException e1) {\r\n    // TODO Auto-generated catch block\r\n    e1.printStackTrace();\r\n} catch (IOException e1) {\r\n    // TODO Auto-generated catch block\r\n    e1.printStackTrace();\r\n}\r\n```","title":"Open URL In java","body":"<p>You can use this code:</p>\n<pre><code>try {\n    //specify the protocol along with the URL\n    URI oURL = new URI(&quot;https://www.google.com/&quot;);\n    desktop.browse(oURL);\n} catch (URISyntaxException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n} catch (IOException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":3424927,"reputation":282,"user_id":2870927,"accept_rate":17,"display_name":"Aanshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1643318732,"creation_date":1381902048,"question_id":19396008,"body_markdown":"How to open URL in java?\r\n\r\n    E.g i have https://www.iformbuilder.com/exzact/dataExcelFeed.php?\r\n    PAGE_ID=3175952&amp;TABLE_NAME=_data399173_eff_sor&amp;ANALYTIC=1&amp;SINCE_DATE=2013-10-1\r\nwhen we go to this URL it will download the file.But how to implement this thing in code?\r\n\r\nI try this to open url so that file will be downloaded.But its not working.\r\n\r\n    URL url = new URL(&quot;https://www.iformbuilder.com/exzact/dataExcelFeed.php?PAGE_ID=3175952&amp;TABLE_NAME=_data399173_eff_sor&amp;ANALYTIC=1&amp;SINCE_DATE=2013-10-16&quot;);\r\n\t\tHttpURLConnection urlCon = (HttpURLConnection) url.openConnection();\r\n\t\tSystem.out.println(urlCon);\r\n\t\turlCon.connect();\r\n\r\nI know something is wrong But i dont knw whats dat","title":"Open URL In java","body":"<p>How to open URL in java?</p>\n\n<pre><code>E.g i have https://www.iformbuilder.com/exzact/dataExcelFeed.php?\nPAGE_ID=3175952&amp;TABLE_NAME=_data399173_eff_sor&amp;ANALYTIC=1&amp;SINCE_DATE=2013-10-1\n</code></pre>\n\n<p>when we go to this URL it will download the file.But how to implement this thing in code?</p>\n\n<p>I try this to open url so that file will be downloaded.But its not working.</p>\n\n<pre><code>URL url = new URL(\"https://www.iformbuilder.com/exzact/dataExcelFeed.php?PAGE_ID=3175952&amp;TABLE_NAME=_data399173_eff_sor&amp;ANALYTIC=1&amp;SINCE_DATE=2013-10-16\");\n    HttpURLConnection urlCon = (HttpURLConnection) url.openConnection();\n    System.out.println(urlCon);\n    urlCon.connect();\n</code></pre>\n\n<p>I know something is wrong But i dont knw whats dat</p>\n"},{"tags":["java","xml","xslt","xpath"],"answers":[{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1499944614,"creation_date":1499944614,"answer_id":45079044,"question_id":45078823,"body_markdown":"The [`xsl:value-of`][1] instruction returns the result of evaluating the **expression** contained in its `select` attribute (after converting the result to a string).\r\n\r\nAn [XPath expression][2] can contain numbers, string literals, references to nodes or variables, function calls and operators. The expression `1` is evaluated as the number 1. There can be no node whose name is `1` (an element name cannot start with a digit). \r\n\r\n\r\n  [1]: https://www.w3.org/TR/xslt/#value-of\r\n  [2]: https://www.w3.org/TR/xpath/#section-Expressions","title":"Why &lt;xsl:value-of select=&quot;1&quot;/&gt; returns 1?","body":"<p>The <a href=\"https://www.w3.org/TR/xslt/#value-of\" rel=\"nofollow noreferrer\"><code>xsl:value-of</code></a> instruction returns the result of evaluating the <strong>expression</strong> contained in its <code>select</code> attribute (after converting the result to a string).</p>\n\n<p>An <a href=\"https://www.w3.org/TR/xpath/#section-Expressions\" rel=\"nofollow noreferrer\">XPath expression</a> can contain numbers, string literals, references to nodes or variables, function calls and operators. The expression <code>1</code> is evaluated as the number 1. There can be no node whose name is <code>1</code> (an element name cannot start with a digit). </p>\n"},{"tags":[],"owner":{"account_id":3512767,"reputation":167,"user_id":2936699,"display_name":"Stinky Buffalo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643318663,"creation_date":1643318663,"answer_id":70885929,"question_id":45078823,"body_markdown":"By using the code \r\n\r\n```&lt;xsl:value-of select=&quot;1&quot;/&gt;```\r\n\r\nyou&#39;re essentially telling it to return the literal value &quot;1&quot;. \r\n\r\nTo retrieve the value within the element it would be more like the following:\r\n\r\n```&lt;xsl:value-of select=&quot;hello&quot;/&gt;```","title":"Why &lt;xsl:value-of select=&quot;1&quot;/&gt; returns 1?","body":"<p>By using the code</p>\n<p><code>&lt;xsl:value-of select=&quot;1&quot;/&gt;</code></p>\n<p>you're essentially telling it to return the literal value &quot;1&quot;.</p>\n<p>To retrieve the value within the element it would be more like the following:</p>\n<p><code>&lt;xsl:value-of select=&quot;hello&quot;/&gt;</code></p>\n"}],"owner":{"account_id":6177026,"reputation":714,"user_id":4813586,"accept_rate":100,"display_name":"Manuel Drieschmanns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45079044,"answer_count":2,"score":0,"last_activity_date":1643318663,"creation_date":1499944034,"question_id":45078823,"body_markdown":"I&#39;m transforming XML to HTML using a XSLT Stylesheet. The tansformation engine is provided by [Apache Xalan][1] (Version 2.7.0). A Sax Parser is configured to be used.\r\n\r\nIf \r\n\r\n    &lt;xsl:value-of select=&quot;1&quot;/&gt;\r\n\r\nis used to transform\r\n\r\n    &lt;element&gt;\r\n        &lt;hello&gt;Hello World&lt;/hello&gt;\r\n    &lt;/element&gt;\r\n\r\n**Output**\r\n\r\n&gt;1\r\n\r\nAccording to https://www.w3schools.com/xml/xsl_value_of.asp the xsl:value-of-Tag extracts the value of a selected node based on the given XPath Expression. \r\n\r\n - Why is the output 1 though there is no node 1?\r\n - How does this simple transformation work?\r\n\r\n\r\n  [1]: https://xalan.apache.org/","title":"Why &lt;xsl:value-of select=&quot;1&quot;/&gt; returns 1?","body":"<p>I'm transforming XML to HTML using a XSLT Stylesheet. The tansformation engine is provided by <a href=\"https://xalan.apache.org/\" rel=\"nofollow noreferrer\">Apache Xalan</a> (Version 2.7.0). A Sax Parser is configured to be used.</p>\n\n<p>If </p>\n\n<pre><code>&lt;xsl:value-of select=\"1\"/&gt;\n</code></pre>\n\n<p>is used to transform</p>\n\n<pre><code>&lt;element&gt;\n    &lt;hello&gt;Hello World&lt;/hello&gt;\n&lt;/element&gt;\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<blockquote>\n  <p>1</p>\n</blockquote>\n\n<p>According to <a href=\"https://www.w3schools.com/xml/xsl_value_of.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/xml/xsl_value_of.asp</a> the xsl:value-of-Tag extracts the value of a selected node based on the given XPath Expression. </p>\n\n<ul>\n<li>Why is the output 1 though there is no node 1?</li>\n<li>How does this simple transformation work?</li>\n</ul>\n"},{"tags":["java","android","firebase-authentication"],"comments":[{"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"score":0,"creation_date":1643312829,"post_id":70884783,"comment_id":125313263,"body_markdown":"it should&#39;ve not crashed  because whenever you signout you are checking for  if(getApplicationContext()!=null) but I don&#39;t know","body":"it should&#39;ve not crashed  because whenever you signout you are checking for  if(getApplicationContext()!=null) but I don&#39;t know"},{"owner":{"account_id":5353945,"reputation":27604,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1643313027,"post_id":70884783,"comment_id":125313339,"body_markdown":"It is not crashing because getUid() returns null, but because getCurrentUser() returns null. User has logged out, there is no current user, why do you expect you can safely use getCurrentUser afterward?","body":"It is not crashing because getUid() returns null, but because getCurrentUser() returns null. User has logged out, there is no current user, why do you expect you can safely use getCurrentUser afterward?"},{"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"score":0,"creation_date":1643313109,"post_id":70884783,"comment_id":125313366,"body_markdown":"@Dalija Prasnikar\nNo it does not, you pointed me to a vague answer","body":"@Dalija Prasnikar No it does not, you pointed me to a vague answer"},{"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"score":0,"creation_date":1643313273,"post_id":70884783,"comment_id":125313416,"body_markdown":"@Dalija Prasnikar\n(getApplicationContext()!=null) whenever the user signs out the activity is closed so before calling  getCurrentUser im checking if the activity is not null","body":"@Dalija Prasnikar (getApplicationContext()!=null) whenever the user signs out the activity is closed so before calling  getCurrentUser im checking if the activity is not null"},{"owner":{"account_id":5353945,"reputation":27604,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1643313611,"post_id":70884783,"comment_id":125313513,"body_markdown":"First, getApplicationContext() is whole application context, not activity context. Besides, it is not crashing there it crashes because getUid()  is called on null reference which means getCurrentUser() returns null. It is written in the log.","body":"First, getApplicationContext() is whole application context, not activity context. Besides, it is not crashing there it crashes because getUid()  is called on null reference which means getCurrentUser() returns null. It is written in the log."},{"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"score":0,"creation_date":1643314126,"post_id":70884783,"comment_id":125313673,"body_markdown":"@Dalija Prasnikar\nyes getCurrentUser() returns null because on button click this function appFirebaseAuth.getInstance().signOut();  is called which disconnects the user and after disconnecting the user we open a new activity Intent intent = new Intent(DriverMapActivity.this, MainActivity.class);\n                    startActivity(intent); so the app must not call this function onLocationChanged() because the activity is closed, but its still calling it :(","body":"@Dalija Prasnikar yes getCurrentUser() returns null because on button click this function appFirebaseAuth.getInstance().signOut();  is called which disconnects the user and after disconnecting the user we open a new activity Intent intent = new Intent(DriverMapActivity.this, MainActivity.class);                     startActivity(intent); so the app must not call this function onLocationChanged() because the activity is closed, but its still calling it :("},{"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"score":0,"creation_date":1643314225,"post_id":70884783,"comment_id":125313708,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/241467/discussion-between-bombo-klat-and-dalija-prasnikar).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/241467/discussion-between-bombo-klat-and-dalija-prasnikar\">continue this discussion in chat</a>."},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1643314755,"post_id":70884783,"comment_id":125313873,"body_markdown":"It appears you are leaving an observer in place. Observers will continue to observe until you actually remove the observer.","body":"It appears you are leaving an observer in place. Observers will continue to observe until you actually remove the observer."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643314118,"creation_date":1643314118,"answer_id":70885070,"question_id":70884783,"body_markdown":"`getApplicationContext()` won&#39;t be `null` when you `finish()` `Activity`, even last or one and only. consider using [`if(!isFinishing())`](https://developer.android.com/reference/android/app/Activity#isFinishing()), lifecycle checking or just set own `boolean` flag.\r\n\r\nadditionally you may (should) also check that `getCurrentUser()` returns `null`, that would mean that user logs out. if is `null` then don&#39;t call any method on returned object (because nothing is returned in fact)\r\n\r\n    if(!isFinishing() &amp;&amp; FirebaseAuth.getInstance().getCurrentUser()!=null) {","title":"Application crashing when user signs out","body":"<p><code>getApplicationContext()</code> won't be <code>null</code> when you <code>finish()</code> <code>Activity</code>, even last or one and only. consider using <a href=\"https://developer.android.com/reference/android/app/Activity#isFinishing()\" rel=\"nofollow noreferrer\"><code>if(!isFinishing())</code></a>, lifecycle checking or just set own <code>boolean</code> flag.</p>\n<p>additionally you may (should) also check that <code>getCurrentUser()</code> returns <code>null</code>, that would mean that user logs out. if is <code>null</code> then don't call any method on returned object (because nothing is returned in fact)</p>\n<pre><code>if(!isFinishing() &amp;&amp; FirebaseAuth.getInstance().getCurrentUser()!=null) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643314878,"creation_date":1643314878,"answer_id":70885226,"question_id":70884783,"body_markdown":"Since you assign false to your `isLoggingOut = true;` whenever you click on the button, you should just check `if(getApplicationContext()!=null &amp;&amp; !isLoggingOut)` so the code wont run whenever `isLoggingOut==false;`","title":"Application crashing when user signs out","body":"<p>Since you assign false to your <code>isLoggingOut = true;</code> whenever you click on the button, you should just check <code>if(getApplicationContext()!=null &amp;&amp; !isLoggingOut)</code> so the code wont run whenever <code>isLoggingOut==false;</code></p>\n"}],"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1643319644,"accepted_answer_id":70885226,"answer_count":2,"score":-1,"last_activity_date":1643318582,"creation_date":1643312670,"question_id":70884783,"body_markdown":"Guys i have been making this simple Uber app and whenever the Driver LogsOut my app crashes because the `getCurrentUser()` method is returning a null value. But whenever the user logsOut im closing the activity, and before calling `getCurrentUser()` i have this `if(getApplicationContext()!=null)` which should return false because the activity is closed so it should prevent `getCurrentUser()` from being called. How do i prevent it from crashing? What am i missing here?\r\n\r\nThis is where on Button click i logOut my user \r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n    //some code here\r\n    \r\n        mLogout=(Button)findViewById(R.id.logout);\r\n                mLogout.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        isLoggingOut = true;\r\n                        disconnectDriver();\r\n                        \r\n                        //Signing out user here\r\n                        FirebaseAuth.getInstance().signOut();\r\n                        Intent intent = new Intent(DriverMapActivity.this, MainActivity.class);\r\n                        startActivity(intent);\r\n                        return;\r\n                    }\r\n                });\r\n    //some code here\r\n    }\r\n\r\nThis is where the error is happening\r\n\r\n    @Override\r\n        //this is going to run whenever the driver location changes\r\n        public void onLocationChanged(Location location) {\r\n            if(getApplicationContext()!=null) {\r\n    \r\n                mLastLocation = location;\r\n                LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n              \r\n                mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n                mMap.animateCamera(CameraUpdateFactory.zoomTo(11));\r\n    \r\n                //\r\n                //This is where the error is happening\r\n                //java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n                \r\n                String userId = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                \r\n                DatabaseReference refAvailable = FirebaseDatabase.getInstance().getReference(&quot;driversAvailable&quot;);\r\n                \r\n                DatabaseReference refWorking  = FirebaseDatabase.getInstance().getReference(&quot;driversWorking&quot;);\r\n                \r\n                GeoFire geoFireAvailable = new GeoFire(refAvailable);\r\n               \r\n                GeoFire geoFireWorking = new GeoFire(refWorking);\r\n          \r\n                switch(customerId){\r\n                   \r\n                    case &quot;&quot;:\r\n    \r\n                       geoFireWorking.removeLocation(userId);\r\n                        geoFireAvailable.setLocation(userId, new GeoLocation(location.getLatitude(), location.getLongitude()));\r\n                        break;\r\n                    default:\r\n    \r\n                       \r\n                        geoFireAvailable.removeLocation(userId);\r\n                        geoFireWorking.setLocation(userId, new GeoLocation(location.getLatitude(), location.getLongitude()));\r\n                        break;\r\n    \r\n                }\r\n            }\r\n        }\r\n\r\n\r\nThis is the Error Log\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.jonanako.uber, PID: 15522\r\n        java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n            at com.jonanako.uber.DriverMapActivity.onLocationChanged(DriverMapActivity.java:211)\r\n            at com.google.android.gms.internal.location.zzat.notifyListener(com.google.android.gms:play-services-location@@18.0.0:2)\r\n            at com.google.android.gms.common.api.internal.ListenerHolder.zaa(com.google.android.gms:play-services-base@@18.0.1:2)\r\n            at com.google.android.gms.common.api.internal.zacb.run(Unknown Source:4)\r\n            at android.os.Handler.handleCallback(Handler.java:873)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:193)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n\r\n","title":"Application crashing when user signs out","body":"<p>Guys i have been making this simple Uber app and whenever the Driver LogsOut my app crashes because the <code>getCurrentUser()</code> method is returning a null value. But whenever the user logsOut im closing the activity, and before calling <code>getCurrentUser()</code> i have this <code>if(getApplicationContext()!=null)</code> which should return false because the activity is closed so it should prevent <code>getCurrentUser()</code> from being called. How do i prevent it from crashing? What am i missing here?</p>\n<p>This is where on Button click i logOut my user</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n//some code here\n\n    mLogout=(Button)findViewById(R.id.logout);\n            mLogout.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    isLoggingOut = true;\n                    disconnectDriver();\n                    \n                    //Signing out user here\n                    FirebaseAuth.getInstance().signOut();\n                    Intent intent = new Intent(DriverMapActivity.this, MainActivity.class);\n                    startActivity(intent);\n                    return;\n                }\n            });\n//some code here\n}\n</code></pre>\n<p>This is where the error is happening</p>\n<pre><code>@Override\n    //this is going to run whenever the driver location changes\n    public void onLocationChanged(Location location) {\n        if(getApplicationContext()!=null) {\n\n            mLastLocation = location;\n            LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\n          \n            mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n            mMap.animateCamera(CameraUpdateFactory.zoomTo(11));\n\n            //\n            //This is where the error is happening\n            //java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n            \n            String userId = FirebaseAuth.getInstance().getCurrentUser().getUid();\n            \n            DatabaseReference refAvailable = FirebaseDatabase.getInstance().getReference(&quot;driversAvailable&quot;);\n            \n            DatabaseReference refWorking  = FirebaseDatabase.getInstance().getReference(&quot;driversWorking&quot;);\n            \n            GeoFire geoFireAvailable = new GeoFire(refAvailable);\n           \n            GeoFire geoFireWorking = new GeoFire(refWorking);\n      \n            switch(customerId){\n               \n                case &quot;&quot;:\n\n                   geoFireWorking.removeLocation(userId);\n                    geoFireAvailable.setLocation(userId, new GeoLocation(location.getLatitude(), location.getLongitude()));\n                    break;\n                default:\n\n                   \n                    geoFireAvailable.removeLocation(userId);\n                    geoFireWorking.setLocation(userId, new GeoLocation(location.getLatitude(), location.getLongitude()));\n                    break;\n\n            }\n        }\n    }\n</code></pre>\n<p>This is the Error Log</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.jonanako.uber, PID: 15522\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n        at com.jonanako.uber.DriverMapActivity.onLocationChanged(DriverMapActivity.java:211)\n        at com.google.android.gms.internal.location.zzat.notifyListener(com.google.android.gms:play-services-location@@18.0.0:2)\n        at com.google.android.gms.common.api.internal.ListenerHolder.zaa(com.google.android.gms:play-services-base@@18.0.1:2)\n        at com.google.android.gms.common.api.internal.zacb.run(Unknown Source:4)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1643318397,"creation_date":1643317188,"answer_id":70885651,"question_id":59302026,"body_markdown":"**TL;DR;**\r\n\r\nI believe it&#39;s just a random filter someone on the internet happened to have chosen and shared his/her code somewhere, and it&#39;s been adopted that way ever since.\r\n____\r\n**For the curious**\r\n\r\nI personally went through the Spring Security source code and found out that the filters in Spring application context with their respective `@Order`s are as below:\r\n\r\n    org.springframework.security.web.access.channel.ChannelProcessingFilter -&gt; 100\r\n    org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter -&gt; 300\r\n    org.springframework.security.web.context.SecurityContextPersistenceFilter -&gt; 400\r\n    org.springframework.security.web.header.HeaderWriterFilter -&gt; 500\r\n    org.springframework.web.filter.CorsFilter -&gt; 600\r\n    org.springframework.security.web.csrf.CsrfFilter -&gt; 700\r\n    org.springframework.security.web.authentication.logout.LogoutFilter -&gt; 800\r\n    org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter -&gt; 900\r\n    org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationRequestFilter -&gt; 1000\r\n    org.springframework.security.web.authentication.preauth.x509.X509AuthenticationFilter -&gt; 1100\r\n    org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter -&gt; 1200\r\n    org.springframework.security.cas.web.CasAuthenticationFilter -&gt; 1300\r\n    org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter -&gt; 1400\r\n    org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationFilter -&gt; 1500\r\n    org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter -&gt; 1600\r\n    org.springframework.security.openid.OpenIDAuthenticationFilter -&gt; 1800\r\n    org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter -&gt; 1900\r\n    org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter -&gt; 2000\r\n    org.springframework.security.web.session.ConcurrentSessionFilter -&gt; 2100\r\n    org.springframework.security.web.authentication.www.DigestAuthenticationFilter -&gt; 2200\r\n    org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter -&gt; 2300\r\n    org.springframework.security.web.authentication.www.BasicAuthenticationFilter -&gt; 2400\r\n    org.springframework.security.web.savedrequest.RequestCacheAwareFilter -&gt; 2500\r\n    org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter -&gt; 2600\r\n    org.springframework.security.web.jaasapi.JaasApiIntegrationFilter -&gt; 2700\r\n    org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter -&gt; 2800\r\n    org.springframework.security.web.authentication.AnonymousAuthenticationFilter -&gt; 2900\r\n    org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter -&gt; 3000\r\n    org.springframework.security.web.session.SessionManagementFilter -&gt; 3100\r\n    org.springframework.security.web.access.ExceptionTranslationFilter -&gt; 3200\r\n    org.springframework.security.web.access.intercept.FilterSecurityInterceptor -&gt; 3300\r\n    org.springframework.security.web.authentication.switchuser.SwitchUserFilter -&gt; 3400\r\n\r\n**Please note that the less the order value, the more prioritized the filter.**\r\n\r\nBut these are all the filters that Spring registers. Spring Security on the other hand, being a single filter chain containing a number of filters inside, includes only some of these, which are (in priority order):\r\n\r\n    Security filter chain: [\r\n      WebAsyncManagerIntegrationFilter\r\n      SecurityContextPersistenceFilter\r\n      HeaderWriterFilter\r\n      CorsFilter\r\n      LogoutFilter\r\n      RequestCacheAwareFilter\r\n      SecurityContextHolderAwareRequestFilter\r\n      AnonymousAuthenticationFilter\r\n      SessionManagementFilter\r\n      ExceptionTranslationFilter\r\n      FilterSecurityInterceptor\r\n    ] \r\n\r\nYou can get this list by setting the debug flag to true in the Spring Security config by\r\n\r\n\r\n    @EnableWebSecurity(debug = true)\r\n\r\n_______\r\n\r\n**Where to put the custom Jwt Filter ?** \r\n\r\nI&#39;d personally place the custom Jwt Filter right after `ExceptionTranslationFilter` and before `FilterSecurityInterceptor`, forming below chain: \r\n\r\n      Security filter chain: [\r\n      WebAsyncManagerIntegrationFilter\r\n      SecurityContextPersistenceFilter\r\n      HeaderWriterFilter\r\n      CorsFilter\r\n      LogoutFilter\r\n                                &lt;------ Here&#39;s where the UsernamePasswordAuthenticationFilter \r\n      RequestCacheAwareFilter\r\n      SecurityContextHolderAwareRequestFilter\r\n      AnonymousAuthenticationFilter\r\n      SessionManagementFilter\r\n      ExceptionTranslationFilter\r\n      JwtAuthTokenFilter        &lt;------   Here&#39;s your filter.\r\n      FilterSecurityInterceptor\r\n    ] \r\n\r\nYou see the motivation in doing so, is to let Spring security exception handler resides in `ExceptionTranslatorFilter` to handle your exception as is. \r\nBecause if you place your filter where the `UsernamePasswordAuthenticationFilter` would be, any possible exception thrown by your filter will not be seen by the `ExceptionTranslatorFilter`, instead it will go all the way back to the `throwable()` method of Tomcat&#39;s `org.apache.catalina.core.StandardHostValve`, (if you&#39;re using Tomcat as the servlet impl., obviously), and what it will going to do is, **redirect your request to the default error path which is `/error`.**\r\n\r\nHere&#39;s where the fun begins, upon an exception thrown by your filter that is supposed to intercept whatever request coming into your application (say `/hello`), now a subsequent request to the predefined error path (let&#39;s assume `/error`) will be made. And by luck, if you haven&#39;t happened to &quot;permit&quot; that path with your `HttpSecurity` config, what&#39;s next is below series of events:\r\n\r\n1. The same security chain will be applied to the *new* request with requestURI `/error`\r\n2. If your custom filter extends `OncePerRequestFilter`, which I assume it would, it will NOT BE FILTERED AGAIN, since it would have been marked as FILTERED in the previous pass.\r\n3. The rest of the filter chain will be invoked in the same order above all the way to the last filter, a.k.a `FilterSecurityInterceptor` \r\n4. It&#39;ll evaluate the authentication token, pull in the `AccessDecisionVoter`s, which will promptly vote the unfamiliar `/error` request as unauthenticated, throw an `AccessDeniedException` and call it a day.\r\n5. The very next filter on the way back to the client, which is no other than `ExceptionTranslationFilter` will see this `AccessDeniedException`, will evaluate it as a regular access denial and call the `AuthenticationEntryPoint.commence` with the `AccessDeniedException` being the 3rd parameter.\r\n6. From then I would assume your code will call `sendError` within that method, and your client will receive this as a response.\r\n\r\nSo what&#39;s wrong with that, I blocked the request in my filter and the client got the error response ?\r\n\r\nWhat&#39;s wrong is, the message client got, was not generated for your request or your error, it was generated for a request to the `/error` path and an error generated by the `FilterSecurityInterceptor`.\r\n\r\n_______\r\n\r\n**So what should you do ?**\r\n\r\nI would humbly suggest that, put your `JwtAuthTokenFilter` between the last two filters in the security filter chain, and the error you might throw will be handled by default spring security error resolver and you will save the server a roundtrip between the `StandardHostValve` and the `FilterSecurityInterceptor`.\r\n\r\n    http.addFilterAfter(authenticationJwtTokenFilter(), ExceptionTranslationFilter.class);\r\n\r\nOr don&#39;t and the client will get an error eventually.","title":"Spring security : Why adding the JWT filter before UsernamePasswordAuthenticationFilter in configuration?","body":"<p><strong>TL;DR;</strong></p>\n<p>I believe it's just a random filter someone on the internet happened to have chosen and shared his/her code somewhere, and it's been adopted that way ever since.</p>\n<hr />\n<p><strong>For the curious</strong></p>\n<p>I personally went through the Spring Security source code and found out that the filters in Spring application context with their respective <code>@Order</code>s are as below:</p>\n<pre><code>org.springframework.security.web.access.channel.ChannelProcessingFilter -&gt; 100\norg.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter -&gt; 300\norg.springframework.security.web.context.SecurityContextPersistenceFilter -&gt; 400\norg.springframework.security.web.header.HeaderWriterFilter -&gt; 500\norg.springframework.web.filter.CorsFilter -&gt; 600\norg.springframework.security.web.csrf.CsrfFilter -&gt; 700\norg.springframework.security.web.authentication.logout.LogoutFilter -&gt; 800\norg.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter -&gt; 900\norg.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationRequestFilter -&gt; 1000\norg.springframework.security.web.authentication.preauth.x509.X509AuthenticationFilter -&gt; 1100\norg.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter -&gt; 1200\norg.springframework.security.cas.web.CasAuthenticationFilter -&gt; 1300\norg.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter -&gt; 1400\norg.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationFilter -&gt; 1500\norg.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter -&gt; 1600\norg.springframework.security.openid.OpenIDAuthenticationFilter -&gt; 1800\norg.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter -&gt; 1900\norg.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter -&gt; 2000\norg.springframework.security.web.session.ConcurrentSessionFilter -&gt; 2100\norg.springframework.security.web.authentication.www.DigestAuthenticationFilter -&gt; 2200\norg.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter -&gt; 2300\norg.springframework.security.web.authentication.www.BasicAuthenticationFilter -&gt; 2400\norg.springframework.security.web.savedrequest.RequestCacheAwareFilter -&gt; 2500\norg.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter -&gt; 2600\norg.springframework.security.web.jaasapi.JaasApiIntegrationFilter -&gt; 2700\norg.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter -&gt; 2800\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter -&gt; 2900\norg.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter -&gt; 3000\norg.springframework.security.web.session.SessionManagementFilter -&gt; 3100\norg.springframework.security.web.access.ExceptionTranslationFilter -&gt; 3200\norg.springframework.security.web.access.intercept.FilterSecurityInterceptor -&gt; 3300\norg.springframework.security.web.authentication.switchuser.SwitchUserFilter -&gt; 3400\n</code></pre>\n<p><strong>Please note that the less the order value, the more prioritized the filter.</strong></p>\n<p>But these are all the filters that Spring registers. Spring Security on the other hand, being a single filter chain containing a number of filters inside, includes only some of these, which are (in priority order):</p>\n<pre><code>Security filter chain: [\n  WebAsyncManagerIntegrationFilter\n  SecurityContextPersistenceFilter\n  HeaderWriterFilter\n  CorsFilter\n  LogoutFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  FilterSecurityInterceptor\n] \n</code></pre>\n<p>You can get this list by setting the debug flag to true in the Spring Security config by</p>\n<pre><code>@EnableWebSecurity(debug = true)\n</code></pre>\n<hr />\n<p><strong>Where to put the custom Jwt Filter ?</strong></p>\n<p>I'd personally place the custom Jwt Filter right after <code>ExceptionTranslationFilter</code> and before <code>FilterSecurityInterceptor</code>, forming below chain:</p>\n<pre><code>  Security filter chain: [\n  WebAsyncManagerIntegrationFilter\n  SecurityContextPersistenceFilter\n  HeaderWriterFilter\n  CorsFilter\n  LogoutFilter\n                            &lt;------ Here's where the UsernamePasswordAuthenticationFilter \n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  JwtAuthTokenFilter        &lt;------   Here's your filter.\n  FilterSecurityInterceptor\n] \n</code></pre>\n<p>You see the motivation in doing so, is to let Spring security exception handler resides in <code>ExceptionTranslatorFilter</code> to handle your exception as is.\nBecause if you place your filter where the <code>UsernamePasswordAuthenticationFilter</code> would be, any possible exception thrown by your filter will not be seen by the <code>ExceptionTranslatorFilter</code>, instead it will go all the way back to the <code>throwable()</code> method of Tomcat's <code>org.apache.catalina.core.StandardHostValve</code>, (if you're using Tomcat as the servlet impl., obviously), and what it will going to do is, <strong>redirect your request to the default error path which is <code>/error</code>.</strong></p>\n<p>Here's where the fun begins, upon an exception thrown by your filter that is supposed to intercept whatever request coming into your application (say <code>/hello</code>), now a subsequent request to the predefined error path (let's assume <code>/error</code>) will be made. And by luck, if you haven't happened to &quot;permit&quot; that path with your <code>HttpSecurity</code> config, what's next is below series of events:</p>\n<ol>\n<li>The same security chain will be applied to the <em>new</em> request with requestURI <code>/error</code></li>\n<li>If your custom filter extends <code>OncePerRequestFilter</code>, which I assume it would, it will NOT BE FILTERED AGAIN, since it would have been marked as FILTERED in the previous pass.</li>\n<li>The rest of the filter chain will be invoked in the same order above all the way to the last filter, a.k.a <code>FilterSecurityInterceptor</code></li>\n<li>It'll evaluate the authentication token, pull in the <code>AccessDecisionVoter</code>s, which will promptly vote the unfamiliar <code>/error</code> request as unauthenticated, throw an <code>AccessDeniedException</code> and call it a day.</li>\n<li>The very next filter on the way back to the client, which is no other than <code>ExceptionTranslationFilter</code> will see this <code>AccessDeniedException</code>, will evaluate it as a regular access denial and call the <code>AuthenticationEntryPoint.commence</code> with the <code>AccessDeniedException</code> being the 3rd parameter.</li>\n<li>From then I would assume your code will call <code>sendError</code> within that method, and your client will receive this as a response.</li>\n</ol>\n<p>So what's wrong with that, I blocked the request in my filter and the client got the error response ?</p>\n<p>What's wrong is, the message client got, was not generated for your request or your error, it was generated for a request to the <code>/error</code> path and an error generated by the <code>FilterSecurityInterceptor</code>.</p>\n<hr />\n<p><strong>So what should you do ?</strong></p>\n<p>I would humbly suggest that, put your <code>JwtAuthTokenFilter</code> between the last two filters in the security filter chain, and the error you might throw will be handled by default spring security error resolver and you will save the server a roundtrip between the <code>StandardHostValve</code> and the <code>FilterSecurityInterceptor</code>.</p>\n<pre><code>http.addFilterAfter(authenticationJwtTokenFilter(), ExceptionTranslationFilter.class);\n</code></pre>\n<p>Or don't and the client will get an error eventually.</p>\n"}],"owner":{"account_id":17274189,"reputation":101,"user_id":12509156,"display_name":"holaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3332,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1643318397,"creation_date":1576144957,"question_id":59302026,"body_markdown":"I&#39;m working with  Spring security and jwt ,but there is something that i don&#39;t understand in the configuration file (same configuration in all tutorials on JWT )\r\nit is why to add the Custom jwt filter before the `UsernamePasswordAuthenticationFilter` since i already have a public  authentication controller based on username and password  in somewhere of the project and why not adding it in some other order ?\r\n\r\n```\r\n@Bean\r\n    public JwtAuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new JwtAuthTokenFilter();\r\n    }\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        http.cors().and().csrf().disable()\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n        .anyRequest().authenticated()\r\n        .and()\r\n        .exceptionHandling().authenticationEntryPoint((AuthenticationEntryPoint) unauthorizedHandler)\r\n        .and()\r\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore((Filter) authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n}\r\n```","title":"Spring security : Why adding the JWT filter before UsernamePasswordAuthenticationFilter in configuration?","body":"<p>I'm working with  Spring security and jwt ,but there is something that i don't understand in the configuration file (same configuration in all tutorials on JWT )\nit is why to add the Custom jwt filter before the <code>UsernamePasswordAuthenticationFilter</code> since i already have a public  authentication controller based on username and password  in somewhere of the project and why not adding it in some other order ?</p>\n\n<pre><code>@Bean\n    public JwtAuthTokenFilter authenticationJwtTokenFilter() {\n        return new JwtAuthTokenFilter();\n    }\n@Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.cors().and().csrf().disable()\n        .authorizeRequests()\n        .antMatchers(\"/api/auth/**\").permitAll()\n        .anyRequest().authenticated()\n        .and()\n        .exceptionHandling().authenticationEntryPoint((AuthenticationEntryPoint) unauthorizedHandler)\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore((Filter) authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":8917580,"reputation":296,"user_id":6655568,"display_name":"Mohit patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559553060,"creation_date":1559553060,"answer_id":56424232,"question_id":56383367,"body_markdown":"It tells that config_scrollbarSize is not found in your dimens.xml file. make sure you have that in dimens.xml. Because you are using that value somewhere in that layout.","title":"how can i fix this error &quot;Exception raised during rendering: Could not find dimen resource matching value 0x1050050&quot;?","body":"<p>It tells that config_scrollbarSize is not found in your dimens.xml file. make sure you have that in dimens.xml. Because you are using that value somewhere in that layout.</p>\n"},{"tags":[],"owner":{"account_id":979282,"reputation":300,"user_id":999456,"display_name":"MindLoggedOut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643318350,"creation_date":1643318350,"answer_id":70885876,"question_id":56383367,"body_markdown":"I know it has been a while. But, had the same issue, launched VS as administrator and the issue is gone.","title":"how can i fix this error &quot;Exception raised during rendering: Could not find dimen resource matching value 0x1050050&quot;?","body":"<p>I know it has been a while. But, had the same issue, launched VS as administrator and the issue is gone.</p>\n"}],"owner":{"account_id":14659115,"reputation":9,"user_id":10586873,"display_name":"Abdulrahman Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1643318350,"creation_date":1559239232,"question_id":56383367,"body_markdown":"When opened in an activity layout normally, the preview should appear, which should again show the preview of the layout.\r\nBut no preview is shown,\r\nDoes anyone know how solve this?\r\n[here is screen of the issue][1]\r\n\r\n\r\nHere is the error:\r\n&gt; android.content.res.Resources$NotFoundException: Could not find dimen\r\n&gt; resource matching value 0x1050050 (resolved name:\r\n&gt; config_scrollbarSize) in current configuration. \tat\r\n&gt; android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1145)\r\n&gt; \tat\r\n&gt; android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1121)\r\n&gt; \tat\r\n&gt; android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1125)\r\n&gt; \tat\r\n&gt; android.content.res.Resources_Delegate.getDimensionPixelSize(Resources_Delegate.java:657)\r\n&gt; \tat\r\n&gt; android.content.res.Resources.getDimensionPixelSize(Resources.java:724)\r\n&gt; \tat android.view.ViewConfiguration.&lt;init&gt;(ViewConfiguration.java:366)\r\n&gt; \tat android.view.ViewConfiguration.get(ViewConfiguration.java:452) \tat\r\n&gt; android.view.View.&lt;init&gt;(View.java:4806) \tat\r\n&gt; android.view.View.&lt;init&gt;(View.java:4948) \tat\r\n&gt; android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:659) \tat\r\n&gt; android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:248) \tat\r\n&gt; android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:244) \tat\r\n&gt; android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:240) \tat\r\n&gt; android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:236) \tat\r\n&gt; com.android.layoutlib.bridge.impl.Layout.&lt;init&gt;(Layout.java:133) \tat\r\n&gt; com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:288)\r\n&gt; \tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:391)\r\n&gt; \tat\r\n&gt; com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:195)\r\n&gt; \tat\r\n&gt; com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:540)\r\n&gt; \tat\r\n&gt; com.android.tools.idea.rendering.RenderTask.lambda$inflate$5(RenderTask.java:666)\r\n&gt; \tat\r\n&gt; java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GIvRx.png\r\n  [2]: https://i.stack.imgur.com/FMBhQ.png","title":"how can i fix this error &quot;Exception raised during rendering: Could not find dimen resource matching value 0x1050050&quot;?","body":"<p>When opened in an activity layout normally, the preview should appear, which should again show the preview of the layout.\nBut no preview is shown,\nDoes anyone know how solve this?\n<a href=\"https://i.stack.imgur.com/GIvRx.png\" rel=\"nofollow noreferrer\">here is screen of the issue</a></p>\n\n<p>Here is the error:</p>\n\n<blockquote>\n  <p>android.content.res.Resources$NotFoundException: Could not find dimen\n  resource matching value 0x1050050 (resolved name:\n  config_scrollbarSize) in current configuration.   at\n  android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1145)\n    at\n  android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1121)\n    at\n  android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1125)\n    at\n  android.content.res.Resources_Delegate.getDimensionPixelSize(Resources_Delegate.java:657)\n    at\n  android.content.res.Resources.getDimensionPixelSize(Resources.java:724)\n    at android.view.ViewConfiguration.(ViewConfiguration.java:366)\n    at android.view.ViewConfiguration.get(ViewConfiguration.java:452)   at\n  android.view.View.(View.java:4806)  at\n  android.view.View.(View.java:4948)  at\n  android.view.ViewGroup.(ViewGroup.java:659)     at\n  android.widget.RelativeLayout.(RelativeLayout.java:248)     at\n  android.widget.RelativeLayout.(RelativeLayout.java:244)     at\n  android.widget.RelativeLayout.(RelativeLayout.java:240)     at\n  android.widget.RelativeLayout.(RelativeLayout.java:236)     at\n  com.android.layoutlib.bridge.impl.Layout.(Layout.java:133)  at\n  com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:288)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:391)\n    at\n  com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:195)\n    at\n  com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:540)\n    at\n  com.android.tools.idea.rendering.RenderTask.lambda$inflate$5(RenderTask.java:666)\n    at\n  java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\n    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n"},{"tags":["java","reflection","jooq","quarkus"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1625228641,"post_id":68224389,"comment_id":120578639,"body_markdown":"Have you reported this to https://github.com/quarkiverse/quarkus-jooq as well?","body":"Have you reported this to <a href=\"https://github.com/quarkiverse/quarkus-jooq\" rel=\"nofollow noreferrer\">github.com/quarkiverse/quarkus-jooq</a> as well?"},{"owner":{"account_id":4265224,"reputation":325,"user_id":3488499,"accept_rate":71,"display_name":"jurgen"},"score":0,"creation_date":1625229055,"post_id":68224389,"comment_id":120578810,"body_markdown":"I didn&#39;t really know which project to put it under, but per your suggestion I just made one here: https://github.com/quarkiverse/quarkus-jooq/issues/25.","body":"I didn&#39;t really know which project to put it under, but per your suggestion I just made one here: <a href=\"https://github.com/quarkiverse/quarkus-jooq/issues/25\" rel=\"nofollow noreferrer\">github.com/quarkiverse/quarkus-jooq/issues/25</a>."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1643325074,"post_id":68224389,"comment_id":125316912,"body_markdown":"[`sun.misc.Unsafe.defineClass` was removed in JDK 11](https://bugs.openjdk.java.net/browse/JDK-8199699)","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8199699\" rel=\"nofollow noreferrer\"><code>sun.misc.Unsafe.defineClass</code> was removed in JDK 11</a>"}],"answers":[{"tags":[],"owner":{"account_id":7451612,"reputation":31,"user_id":5666188,"display_name":"ThoSap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643318229,"creation_date":1643318229,"answer_id":70885852,"question_id":68224389,"body_markdown":"When you use jOOQ with Quarkus native (GraalVM) you must register all jOOQ generated classes like POJOs and Records for reflection, so GraalVM does not remove the classes/methods/fields that are not used directly.\r\nThis is because jOOQ `DSL.fetchInto(Class&lt;?&gt;)` uses reflection.\r\n\r\nYou can register the jOOQ generated classes [manually](https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection) or do it automatically with the Gradle task I&#39;m using myself for production software.\r\nhttps://stackoverflow.com/a/70870930/5666188","title":"PrivilegedActionException in quarkus when using JOOQ","body":"<p>When you use jOOQ with Quarkus native (GraalVM) you must register all jOOQ generated classes like POJOs and Records for reflection, so GraalVM does not remove the classes/methods/fields that are not used directly.\nThis is because jOOQ <code>DSL.fetchInto(Class&lt;?&gt;)</code> uses reflection.</p>\n<p>You can register the jOOQ generated classes <a href=\"https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection\" rel=\"nofollow noreferrer\">manually</a> or do it automatically with the Gradle task I'm using myself for production software.\n<a href=\"https://stackoverflow.com/a/70870930/5666188\">https://stackoverflow.com/a/70870930/5666188</a></p>\n"}],"owner":{"account_id":4265224,"reputation":325,"user_id":3488499,"accept_rate":71,"display_name":"jurgen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643318229,"creation_date":1625225190,"question_id":68224389,"body_markdown":"First up; the code works. I&#39;m getting an exception in my log but no actual error actually occurs. The correct output gets sent to the client, the app keeps running, as far as I can tell everything is fine. Yet I have an error.\r\n\r\nI&#39;m using Quarkus and JOOQ. There is an endpoint that triggers a `select().fetchInto(Custom.class)`. The endpoint still returns the correct data. But the log shows this error:\r\n\r\n```\r\n2021-07-02 12:58:25,938 SEVERE [com.sun.xml.bin.v2.run.ref.opt.Injector] (executor-thread-1) null: java.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:558)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.&lt;clinit&gt;(Injector.java:166)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:51)\r\n```\r\nThe exception is long. And goes through a bunch of different pieces of code:\r\n```\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n...\r\nat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:99)\r\n...\r\nat javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\r\n...\r\nat org.jooq.tools.Convert.&lt;clinit&gt;(Convert.java:223)\r\n...\r\nat org.jooq.impl.SelectImpl.fetchInto(SelectImpl.java:3936)\r\n...\r\nat my-code-here-somewhere\r\n```\r\nRight now I&#39;m running as a simple uber-jar. Native compilation worked fine a while ago but I haven&#39;t tested if this error persists in the native binary.\r\n\r\nI&#39;d like the error to not be there. I&#39;m fine with a solution to suppress it but if possible I&#39;d like to know who is failing to do something here and if there is a real problem.\r\n\r\nSome versions and stuff:\r\n- Installed Java: 16\r\n- Targeted Java: 11\r\n- Quarkus: 1.13.7.Final\r\n- io.quarkiverse.jooq:quarkus-jooq : 0.2.0\r\n","title":"PrivilegedActionException in quarkus when using JOOQ","body":"<p>First up; the code works. I'm getting an exception in my log but no actual error actually occurs. The correct output gets sent to the client, the app keeps running, as far as I can tell everything is fine. Yet I have an error.</p>\n<p>I'm using Quarkus and JOOQ. There is an endpoint that triggers a <code>select().fetchInto(Custom.class)</code>. The endpoint still returns the correct data. But the log shows this error:</p>\n<pre><code>2021-07-02 12:58:25,938 SEVERE [com.sun.xml.bin.v2.run.ref.opt.Injector] (executor-thread-1) null: java.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:558)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.&lt;clinit&gt;(Injector.java:166)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:51)\n</code></pre>\n<p>The exception is long. And goes through a bunch of different pieces of code:</p>\n<pre><code>at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n...\nat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:99)\n...\nat javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\n...\nat org.jooq.tools.Convert.&lt;clinit&gt;(Convert.java:223)\n...\nat org.jooq.impl.SelectImpl.fetchInto(SelectImpl.java:3936)\n...\nat my-code-here-somewhere\n</code></pre>\n<p>Right now I'm running as a simple uber-jar. Native compilation worked fine a while ago but I haven't tested if this error persists in the native binary.</p>\n<p>I'd like the error to not be there. I'm fine with a solution to suppress it but if possible I'd like to know who is failing to do something here and if there is a real problem.</p>\n<p>Some versions and stuff:</p>\n<ul>\n<li>Installed Java: 16</li>\n<li>Targeted Java: 11</li>\n<li>Quarkus: 1.13.7.Final</li>\n<li>io.quarkiverse.jooq:quarkus-jooq : 0.2.0</li>\n</ul>\n"},{"tags":["java","postman","amazon-cognito","micronaut","micronaut-aws"],"answers":[{"tags":[],"owner":{"account_id":10555285,"reputation":1221,"user_id":7776688,"display_name":"IEE1394"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643318022,"creation_date":1643318022,"answer_id":70885811,"question_id":70870504,"body_markdown":"There is a offline emulator for Cognito\r\n\r\nhttps://github.com/jagregory/cognito-local\r\n\r\nHave no experience with it, but i recommend to give em a shot","title":"AWS auth when debugging Java REST API via Postman locally","body":"<p>There is a offline emulator for Cognito</p>\n<p><a href=\"https://github.com/jagregory/cognito-local\" rel=\"nofollow noreferrer\">https://github.com/jagregory/cognito-local</a></p>\n<p>Have no experience with it, but i recommend to give em a shot</p>\n"}],"owner":{"account_id":15668519,"reputation":109,"user_id":11305687,"display_name":"Roper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643318022,"creation_date":1643232623,"question_id":70870504,"body_markdown":"I have recently taken over an existing Java REST API (written with Micronaut). The API is intended to be deployed on AWS, running &quot;serverless&quot; with Lambda and has Cognito for auth. \r\n\r\nFor dev, I obviously just want to just run the API locally and debug via Postman requests.\r\nAs far as I understand it, Cognito is basically out of the picture here. However, the controllers are still using the name of the principal for some operations and I want to give it valid data.\r\n\r\nLet&#39;s say my controller has a method like follows:\r\n\r\n    @Post\r\n    public HttpResponse&lt;SomeResponse&gt; createSomething(Principal principal, SomeRequest request) {\r\n        String username = principal.getName();\r\n        // ...\r\n    }\r\n\r\nWith the `java.security.Principal` being a `AwsProxySecurityContext` during runtime. How can I give a valid token/auth header in Postman so that `getName` returns a string of my choice? I would be surprised if this cannot be done without going out to the real Cognito, as everything runs locally.\r\n","title":"AWS auth when debugging Java REST API via Postman locally","body":"<p>I have recently taken over an existing Java REST API (written with Micronaut). The API is intended to be deployed on AWS, running &quot;serverless&quot; with Lambda and has Cognito for auth.</p>\n<p>For dev, I obviously just want to just run the API locally and debug via Postman requests.\nAs far as I understand it, Cognito is basically out of the picture here. However, the controllers are still using the name of the principal for some operations and I want to give it valid data.</p>\n<p>Let's say my controller has a method like follows:</p>\n<pre><code>@Post\npublic HttpResponse&lt;SomeResponse&gt; createSomething(Principal principal, SomeRequest request) {\n    String username = principal.getName();\n    // ...\n}\n</code></pre>\n<p>With the <code>java.security.Principal</code> being a <code>AwsProxySecurityContext</code> during runtime. How can I give a valid token/auth header in Postman so that <code>getName</code> returns a string of my choice? I would be surprised if this cannot be done without going out to the real Cognito, as everything runs locally.</p>\n"},{"tags":["java","arrays","variables","reference"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1608178655,"post_id":65334604,"comment_id":115505493,"body_markdown":"The loop executes while `x &lt; 3`. `x` starts at 0. Then in the first iteration, `hq[0]` with `id=0` is created. Then `x` is incremented (`x = x + 1`).  Next iteration `hq[1]` with `id=1` is created. `x` is incremented to `2`. Lastly `hq[2]` with `id=2` is created. `x` is incremented to `3` and the loop ends.","body":"The loop executes while <code>x &lt; 3</code>. <code>x</code> starts at 0. Then in the first iteration, <code>hq[0]</code> with <code>id=0</code> is created. Then <code>x</code> is incremented (<code>x = x + 1</code>).  Next iteration <code>hq[1]</code> with <code>id=1</code> is created. <code>x</code> is incremented to <code>2</code>. Lastly <code>hq[2]</code> with <code>id=2</code> is created. <code>x</code> is incremented to <code>3</code> and the loop ends."}],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608179318,"creation_date":1608179318,"answer_id":65334738,"question_id":65334604,"body_markdown":"First it creates 3 objects in the `while` loop:\r\n```\r\nhq[0] --&gt; id = 0\r\nhq[1] --&gt; id = 1\r\nhq[2] --&gt; id = 2\r\n``` \r\nThen shuffles things around:\r\n```\r\nhq[3] = hq[1];   // hq[3].id = 1\r\nhq[4] = hq[1];   // hq[4].id = 1\r\nhq[3] = null;    // null\r\nhq[4] = hq[0];   // hq[4].id = 0\r\nhq[0] = hq[3];   // null\r\nhq[3] = hq[2];   // hq[3].id = 2\r\nhq[2] = hq[0];   // null\r\n```\r\nSo you end up with:\r\n```\r\nhq[0] --&gt; null\r\nhq[1] --&gt; id = 1\r\nhq[2] --&gt; null\r\nhq[3] --&gt; id = 2\r\nhq[4] --&gt; id = 0\r\n```","title":"Problem with: Reference Variable and while loop question","body":"<p>First it creates 3 objects in the <code>while</code> loop:</p>\n<pre><code>hq[0] --&gt; id = 0\nhq[1] --&gt; id = 1\nhq[2] --&gt; id = 2\n</code></pre>\n<p>Then shuffles things around:</p>\n<pre><code>hq[3] = hq[1];   // hq[3].id = 1\nhq[4] = hq[1];   // hq[4].id = 1\nhq[3] = null;    // null\nhq[4] = hq[0];   // hq[4].id = 0\nhq[0] = hq[3];   // null\nhq[3] = hq[2];   // hq[3].id = 2\nhq[2] = hq[0];   // null\n</code></pre>\n<p>So you end up with:</p>\n<pre><code>hq[0] --&gt; null\nhq[1] --&gt; id = 1\nhq[2] --&gt; null\nhq[3] --&gt; id = 2\nhq[4] --&gt; id = 0\n</code></pre>\n"}],"owner":{"account_id":20236385,"reputation":3,"user_id":14841434,"display_name":"Lene Barnes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65334738,"answer_count":1,"score":0,"last_activity_date":1643317743,"creation_date":1608178089,"question_id":65334604,"body_markdown":"So about two weeks ago I decided that I was going to dive in and finally learn a programming language. Of course I am here because I chose Java. Aside from numerous online resources, I also purchased Head First Java, which I think has been really amazing at explaining concepts. I have to admit some of the assignments it give are really difficult for a beginner, but I have been managing up until now. Can someone please tell me what is going on here? The assignment is to determine which of the reference variable refer to which objects. Not all reference variables will be used.\r\n\r\n\r\n```\r\nclass HeapQuiz {\r\n\r\n     int id = 0;\r\n\r\n     public static void main (String [] args) {\r\n       int x = 0;\r\n       HeapQuiz [] hq = new HeapQuiz[5];\r\n       while ( x &lt; 3) {\r\n           hq[x] = new HeapQuiz();\r\n           hq[x].id = x;\r\n           x = x + 1;\r\n     }\r\n\r\n     hq[3] = hq[1];\r\n     hq[4] = hq[1];\r\n     hq[3] = null;\r\n     hq[4] = hq[0];\r\n     hq[0] = hq[3];\r\n     hq[3] = hq[2];\r\n     hq[2] = hq[0];\r\n  }\r\n}\r\n\r\nHere are the answers...\r\n\r\nhq[1] -----&gt; id = 1\r\nhq[3] -----&gt; id = 2\r\nhq[4] -----&gt; id = 0\r\n\r\n```\r\nI understand that an array is created. I think I understand the hq[x] represents the the array positions, but how is x being assigned? How does the JVM progress through the loop? The answers are posted above, but I have not idea how the loop is producing those answers. More specifically, how is hq[1] referring to id = 1 and how is hq[3] referring to id = 2 and so forth. Any help is greatly appreciated. Thanks in advance.\r\n\r\nThe Noobiest of all Noobs","title":"Problem with: Reference Variable and while loop question","body":"<p>So about two weeks ago I decided that I was going to dive in and finally learn a programming language. Of course I am here because I chose Java. Aside from numerous online resources, I also purchased Head First Java, which I think has been really amazing at explaining concepts. I have to admit some of the assignments it give are really difficult for a beginner, but I have been managing up until now. Can someone please tell me what is going on here? The assignment is to determine which of the reference variable refer to which objects. Not all reference variables will be used.</p>\n<pre><code>class HeapQuiz {\n\n     int id = 0;\n\n     public static void main (String [] args) {\n       int x = 0;\n       HeapQuiz [] hq = new HeapQuiz[5];\n       while ( x &lt; 3) {\n           hq[x] = new HeapQuiz();\n           hq[x].id = x;\n           x = x + 1;\n     }\n\n     hq[3] = hq[1];\n     hq[4] = hq[1];\n     hq[3] = null;\n     hq[4] = hq[0];\n     hq[0] = hq[3];\n     hq[3] = hq[2];\n     hq[2] = hq[0];\n  }\n}\n\nHere are the answers...\n\nhq[1] -----&gt; id = 1\nhq[3] -----&gt; id = 2\nhq[4] -----&gt; id = 0\n\n</code></pre>\n<p>I understand that an array is created. I think I understand the hq[x] represents the the array positions, but how is x being assigned? How does the JVM progress through the loop? The answers are posted above, but I have not idea how the loop is producing those answers. More specifically, how is hq[1] referring to id = 1 and how is hq[3] referring to id = 2 and so forth. Any help is greatly appreciated. Thanks in advance.</p>\n<p>The Noobiest of all Noobs</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":1,"creation_date":1638917120,"post_id":70267654,"comment_id":124214560,"body_markdown":"Have you tried removing @Id annotations from `MyCompositeIdClass` ? You may also need the `@PrimaryKeyJoinColumn` annotation to explicitly set","body":"Have you tried removing @Id annotations from <code>MyCompositeIdClass</code> ? You may also need the <code>@PrimaryKeyJoinColumn</code> annotation to explicitly set"},{"owner":{"account_id":19681626,"reputation":177,"user_id":14408620,"display_name":"viniciusmfelix"},"score":0,"creation_date":1638917457,"post_id":70267654,"comment_id":124214656,"body_markdown":"Removed the @Id annotations from the composite class and worked. Thanks!","body":"Removed the @Id annotations from the composite class and worked. Thanks!"},{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1638918411,"post_id":70267654,"comment_id":124214909,"body_markdown":"Awesome to hear :-)","body":"Awesome to hear :-)"}],"owner":{"account_id":19681626,"reputation":177,"user_id":14408620,"display_name":"viniciusmfelix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643317576,"creation_date":1638915797,"question_id":70267654,"body_markdown":"I have one JPA mapped superclass (joined inheritance strategy) that haves also a composite id class:\r\n\r\n```java\r\n@Entity\r\n@IdClass(MyCompositeIdClass.class)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class MySuperClass {\r\n  \r\n  @Id\r\n  private Long myFirstId;\r\n\r\n  @Id\r\n  private Long mySecondId;\r\n}\r\n```\r\n\r\n```java\r\npublic class MyCompositeIdClass implements Serializable {\r\n  private static long serialVersionUID = 1L;\r\n\r\n\r\n  @Id\r\n  private Long myFirstId;\r\n\r\n  @Id\r\n  private Long mySecondId;\r\n}\r\n```\r\n\r\nTherefore, I have an extension of this superclass and it&#39;s repository interface.\r\n\r\n```java\r\n@Entity\r\n@IdClass(MyCompositeIdClass.class)\r\npublic class MySubClass extends MySuperClass {\r\n\r\n  private String myAttr;\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Repository\r\npublic interface MySubClassRepository extends JpaRepository&lt;MySubClass, MyCompositeIdClass&gt; {\r\n}\r\n```\r\n\r\nAnd when executing `findAll()` repository interface method, Hibernate is executing the join query with the wrong fields comparison on the join clause (inverting both PK columns):\r\n\r\n```sql\r\nselect \r\n   mysuperc0_.my_first_id\r\n   mysuperc0_.my_second_id\r\n   mysuperc0_1_.my_attr\r\nfrom\r\n   my_super_class mysuperc0_\r\ninner join\r\n   my_sub_class mysuperc_0_1_\r\non\r\n   my_superc0_.my_first_id = mysuperc_0_1_.my_second_id\r\nand\r\n   my_superc0_.my_second_id = mysuperc_0_1_.my_first_id\r\n```\r\n\r\nWas it configuration issues or a framework internal problem? Tried to research about inheritance issues with composite id, but got only opened issues ran from exceptions, but, in this case, I do not have exceptions, it just returns an empty array.","title":"Hibernate: Inherited Superclass with Composite ID","body":"<p>I have one JPA mapped superclass (joined inheritance strategy) that haves also a composite id class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@IdClass(MyCompositeIdClass.class)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class MySuperClass {\n  \n  @Id\n  private Long myFirstId;\n\n  @Id\n  private Long mySecondId;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCompositeIdClass implements Serializable {\n  private static long serialVersionUID = 1L;\n\n\n  @Id\n  private Long myFirstId;\n\n  @Id\n  private Long mySecondId;\n}\n</code></pre>\n<p>Therefore, I have an extension of this superclass and it's repository interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@IdClass(MyCompositeIdClass.class)\npublic class MySubClass extends MySuperClass {\n\n  private String myAttr;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface MySubClassRepository extends JpaRepository&lt;MySubClass, MyCompositeIdClass&gt; {\n}\n</code></pre>\n<p>And when executing <code>findAll()</code> repository interface method, Hibernate is executing the join query with the wrong fields comparison on the join clause (inverting both PK columns):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select \n   mysuperc0_.my_first_id\n   mysuperc0_.my_second_id\n   mysuperc0_1_.my_attr\nfrom\n   my_super_class mysuperc0_\ninner join\n   my_sub_class mysuperc_0_1_\non\n   my_superc0_.my_first_id = mysuperc_0_1_.my_second_id\nand\n   my_superc0_.my_second_id = mysuperc_0_1_.my_first_id\n</code></pre>\n<p>Was it configuration issues or a framework internal problem? Tried to research about inheritance issues with composite id, but got only opened issues ran from exceptions, but, in this case, I do not have exceptions, it just returns an empty array.</p>\n"},{"tags":["java","swing","drag-and-drop"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643317173,"post_id":70885575,"comment_id":125314630,"body_markdown":"DnD is a complex, multiple layered API.  Which part are you talking about?  The `Transferable` layer or of the &quot;core&quot; layer?  If you&#39;re taking about the higher level `Transferable` layer, then you need to supply your own `TransferHandler`.  I doubt you could change the default action, as it&#39;s more complicated then just changing the &quot;type&quot; of operation","body":"DnD is a complex, multiple layered API.  Which part are you talking about?  The <code>Transferable</code> layer or of the &quot;core&quot; layer?  If you&#39;re taking about the higher level <code>Transferable</code> layer, then you need to supply your own <code>TransferHandler</code>.  I doubt you could change the default action, as it&#39;s more complicated then just changing the &quot;type&quot; of operation"},{"owner":{"account_id":10631590,"reputation":51,"user_id":7829568,"display_name":"Todd Hill"},"score":0,"creation_date":1643336551,"post_id":70885575,"comment_id":125318856,"body_markdown":"Thanks for the reply. I have a TransferHandler. Would like to switch the default move with copy and the associated cursor changes. But it might not be possible in any reasonable way. Could not find anything about that.","body":"Thanks for the reply. I have a TransferHandler. Would like to switch the default move with copy and the associated cursor changes. But it might not be possible in any reasonable way. Could not find anything about that."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643337406,"post_id":70885575,"comment_id":125318983,"body_markdown":"Take a look at [TransferHandler#getSourceActions](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/TransferHandler.html#getSourceActions(javax.swing.JComponent)).  This should return `TransferHandler#COPY`.  As to the mouse cursor, going WAY back to Java 6/7 there was a bug which prevented the mouse cursor from been updated (or at least customising from memory), so you might have issues with that","body":"Take a look at <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/TransferHandler.html#getSourceActions(javax.swing.JComponent)\" rel=\"nofollow noreferrer\">TransferHandler#getSourceActions</a>.  This should return <code>TransferHandler#COPY</code>.  As to the mouse cursor, going WAY back to Java 6/7 there was a bug which prevented the mouse cursor from been updated (or at least customising from memory), so you might have issues with that"}],"owner":{"account_id":10631590,"reputation":51,"user_id":7829568,"display_name":"Todd Hill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643316811,"creation_date":1643316811,"question_id":70885575,"body_markdown":"Is it possible to reverse the move and copy drag &#39;n drop actions in Java Swing? That is, make copy the default drag action with Ctrl-drag as move, including changing the cursor accordingly?\r\n","title":"Change Java Swing default drag and drop action to copy","body":"<p>Is it possible to reverse the move and copy drag 'n drop actions in Java Swing? That is, make copy the default drag action with Ctrl-drag as move, including changing the cursor accordingly?</p>\n"},{"tags":["java","json","rest","jackson","httpclient"],"answers":[{"tags":[],"owner":{"account_id":3068305,"reputation":1371,"user_id":2599537,"accept_rate":73,"display_name":"devil0150"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643316781,"creation_date":1643316781,"answer_id":70885573,"question_id":70885186,"body_markdown":"This is happening because you&#39;re trying to deserialize a Json *Object* into a `List` in java. The error message explains it by saying that the starting character (`JsonToken.START_OBJECT`) is the start of a json object not a json array, so you can&#39;t deserialize it directly into a `List`, but should deserialize it into an object.\r\n\r\nTry changing:\r\n\r\n    List&lt;WallHaven&gt; posts = mapper.readValue(response.body(), new TypeReference&lt;List&lt;WallHaven&gt;&gt;())\r\n\r\ninto\r\n\r\n    WallHaven post = mapper.readValue(response.body(), new TypeReference&lt;WallHaven&gt;())","title":"Java consuming restful api with httpclient. Having trouble with Jackson json MismatchedInputException","body":"<p>This is happening because you're trying to deserialize a Json <em>Object</em> into a <code>List</code> in java. The error message explains it by saying that the starting character (<code>JsonToken.START_OBJECT</code>) is the start of a json object not a json array, so you can't deserialize it directly into a <code>List</code>, but should deserialize it into an object.</p>\n<p>Try changing:</p>\n<pre><code>List&lt;WallHaven&gt; posts = mapper.readValue(response.body(), new TypeReference&lt;List&lt;WallHaven&gt;&gt;())\n</code></pre>\n<p>into</p>\n<pre><code>WallHaven post = mapper.readValue(response.body(), new TypeReference&lt;WallHaven&gt;())\n</code></pre>\n"}],"owner":{"account_id":13241139,"reputation":21,"user_id":9561601,"display_name":"rairai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70885573,"answer_count":1,"score":0,"last_activity_date":1643316781,"creation_date":1643314710,"question_id":70885186,"body_markdown":"This is my first time using jackson/consuming apis/httpclient. I&#39;m getting this error com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;WallHaven&gt;` from Object value (token `JsonToken.START_OBJECT`) . The api I&#39;m trying to consume is https://wallhaven.cc/help/api\r\n\r\n    try {\r\n            HttpClient client = HttpClient.newHttpClient();\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .GET()\r\n                    .uri(URI.create(&quot;https://wallhaven.cc/api/v1/w/pkgkkp&quot;))\r\n                    .build();\r\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            List&lt;WallHaven&gt; posts = mapper.readValue(response.body(), new TypeReference&lt;List&lt;WallHaven&gt;&gt;() {\r\n            });\r\n            posts.forEach(System.out::println);\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nThe api json format is https://pastebin.com/tbSaVJ1T \r\n\r\nHere&#39;s my WallHaven class\r\n\r\n    public class WallHaven {\r\n    public Data data;\r\n\r\n    public WallHaven(Data data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public WallHaven() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;WallHaven{&quot; +\r\n                &quot;data=&quot; + data.getPath() +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n\r\nData contains all the other classes/variables","title":"Java consuming restful api with httpclient. Having trouble with Jackson json MismatchedInputException","body":"<p>This is my first time using jackson/consuming apis/httpclient. I'm getting this error com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>java.util.ArrayList&lt;WallHaven&gt;</code> from Object value (token <code>JsonToken.START_OBJECT</code>) . The api I'm trying to consume is <a href=\"https://wallhaven.cc/help/api\" rel=\"nofollow noreferrer\">https://wallhaven.cc/help/api</a></p>\n<pre><code>try {\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n                .GET()\n                .uri(URI.create(&quot;https://wallhaven.cc/api/v1/w/pkgkkp&quot;))\n                .build();\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;WallHaven&gt; posts = mapper.readValue(response.body(), new TypeReference&lt;List&lt;WallHaven&gt;&gt;() {\n        });\n        posts.forEach(System.out::println);\n\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>The api json format is <a href=\"https://pastebin.com/tbSaVJ1T\" rel=\"nofollow noreferrer\">https://pastebin.com/tbSaVJ1T</a></p>\n<p>Here's my WallHaven class</p>\n<pre><code>public class WallHaven {\npublic Data data;\n\npublic WallHaven(Data data) {\n    this.data = data;\n}\n\npublic WallHaven() {\n\n}\n\n@Override\npublic String toString() {\n    return &quot;WallHaven{&quot; +\n            &quot;data=&quot; + data.getPath() +\n            '}';\n}\n</code></pre>\n<p>}</p>\n<p>Data contains all the other classes/variables</p>\n"},{"tags":["java","jsp","servlets","paypal-sandbox","content-security-policy"],"answers":[{"tags":[],"owner":{"account_id":2363385,"reputation":28333,"user_id":2069605,"display_name":"Preston PHX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643316236,"creation_date":1643316236,"answer_id":70885479,"question_id":70884887,"body_markdown":"The error in the browser console explains the problem\r\n\r\n&gt; Uncaught Error: a.purchase_units is undefined","title":"Paypal JS SDK Automatically Closes in Sandbox JSP Servlet Web Application","body":"<p>The error in the browser console explains the problem</p>\n<blockquote>\n<p>Uncaught Error: a.purchase_units is undefined</p>\n</blockquote>\n"}],"owner":{"account_id":15618573,"reputation":49,"user_id":11268126,"display_name":"Sayuru Akash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70885479,"answer_count":1,"score":0,"last_activity_date":1643316236,"creation_date":1643313206,"question_id":70884887,"body_markdown":"I&#39;m testing a sandbox PayPal for a learning project in the JSP servlet. I&#39;m using NetBeans IDE with the glassfish server and XAMPP for the database. The following code runs the Paypal payment buttons, but when I click the payment button Paypal window pops up and crashes suddenly.\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Purchase&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;script src=&quot;https://www.paypal.com/sdk/js?client-id=AbdB49QXlBjEzeWDSu1ws2QrNR3FpcpcGPOif2a7XvK6sDKMkD8ijA2q0c5CdI-w2cUHlKTj_LLyn5cu&amp;locale=en_US&quot; data-csp-nonce=&quot;xxx&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div id=&quot;paypal-button-container&quot;&gt;&lt;/div&gt;\r\n        \r\n        &lt;script&gt;\r\n            paypal.Buttons({\r\n                createOrder: function(data, actions){\r\n                    return actions.order.create({\r\n                        purcchase_units: [{\r\n                                amount:{\r\n                                    value: &#39;295&#39;\r\n                                }\r\n                        }]\r\n                    });\r\n                }\r\n            }).render(&#39;#paypal-button-container&#39;)\r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nThe above code is in the index.jsp file and the auto close issue persists. According to what I found online it could be due to my localhost is HTTP and Paypal blocking non-https Requests. If so, please help me to set up HTTPS on my server. Or if the issue is something else hope to know about it.","title":"Paypal JS SDK Automatically Closes in Sandbox JSP Servlet Web Application","body":"<p>I'm testing a sandbox PayPal for a learning project in the JSP servlet. I'm using NetBeans IDE with the glassfish server and XAMPP for the database. The following code runs the Paypal payment buttons, but when I click the payment button Paypal window pops up and crashes suddenly.</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Purchase&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;script src=&quot;https://www.paypal.com/sdk/js?client-id=AbdB49QXlBjEzeWDSu1ws2QrNR3FpcpcGPOif2a7XvK6sDKMkD8ijA2q0c5CdI-w2cUHlKTj_LLyn5cu&amp;locale=en_US&quot; data-csp-nonce=&quot;xxx&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=&quot;paypal-button-container&quot;&gt;&lt;/div&gt;\n    \n    &lt;script&gt;\n        paypal.Buttons({\n            createOrder: function(data, actions){\n                return actions.order.create({\n                    purcchase_units: [{\n                            amount:{\n                                value: '295'\n                            }\n                    }]\n                });\n            }\n        }).render('#paypal-button-container')\n    &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>The above code is in the index.jsp file and the auto close issue persists. According to what I found online it could be due to my localhost is HTTP and Paypal blocking non-https Requests. If so, please help me to set up HTTPS on my server. Or if the issue is something else hope to know about it.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1560711028,"post_id":56621672,"comment_id":99816320,"body_markdown":"Are there going to be more than one line breaks?","body":"Are there going to be more than one line breaks?"}],"answers":[{"tags":[],"owner":{"account_id":1549015,"reputation":1327,"user_id":1441857,"display_name":"Rohde Fischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560710924,"creation_date":1560710924,"answer_id":56621704,"question_id":56621672,"body_markdown":"I wouldn&#39;t recommend parsing CVS yourself if you can avoid it. In general parsing raw text often become a hazzle because you need to deal with all sorts of exceptions, and for instance you quite easily reach the point where regular expressions are not enough and you need to be able to parse context free grammars. \r\n\r\nThere are some options on libraries for parsing CSV here: https://stackoverflow.com/questions/843997/csv-parsing-in-java-working-example","title":"Java: How to remove all line breaks between double quotes","body":"<p>I wouldn't recommend parsing CVS yourself if you can avoid it. In general parsing raw text often become a hazzle because you need to deal with all sorts of exceptions, and for instance you quite easily reach the point where regular expressions are not enough and you need to be able to parse context free grammars. </p>\n\n<p>There are some options on libraries for parsing CSV here: <a href=\"https://stackoverflow.com/questions/843997/csv-parsing-in-java-working-example\">CSV parsing in Java - working example..?</a></p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643315905,"creation_date":1560710945,"answer_id":56621707,"question_id":56621672,"body_markdown":"You may match all substrings between double quotation marks using a simple `&quot;[^&quot;]*&quot;` regex and remove all linebreaks in between using\r\n```java\r\nString s = &quot;\\&quot;Test Line wo line break\\&quot;; \\&quot;Test Line \\nwith line break\\&quot;\\n\\&quot;Test Line2 wo line break\\&quot;; \\&quot;Test Line2 \\nwith line break\\&quot;&quot;;\r\nStringBuffer result = new StringBuffer();\r\nMatcher m = Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;&quot;).matcher(s);\r\nwhile (m.find()) {\r\n\tm.appendReplacement(result, m.group().replaceAll(&quot;\\\\R+&quot;, &quot;&quot;));\r\n}\r\nm.appendTail(result);\r\nSystem.out.println(result.toString());\r\n```\r\nOr, beginning with the Java 9+, you can use a bit shorter code:\r\n```java\r\nString s = &quot;\\&quot;Test Line wo line break\\&quot;; \\&quot;Test Line \\nwith line break\\&quot;\\n\\&quot;Test Line2 wo line break\\&quot;; \\&quot;Test Line2 \\nwith line break\\&quot;&quot;;\r\nMatcher m = Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;&quot;).matcher(s);\r\ns = m.replaceAll(r -&gt; m.group().replaceAll(&quot;\\\\R+&quot;, &quot;&quot;));\r\nSystem.out.println(s);\r\n```\r\nOutput:\r\n\r\n    &quot;Test Line wo line break&quot;; &quot;Test Line with line break&quot;\r\n    &quot;Test Line2 wo line break&quot;; &quot;Test Line2 with line break&quot;\r\n\r\nSee the [Java demo online][1] / [Java code demo #2][2].\r\n\r\nNote that `.replaceAll(&quot;\\\\R+&quot;, &quot;&quot;)` finds 1 or more any line break sequences and removes them only from what `&quot;[^&quot;]*&quot;` matched.\r\n\r\n**Escape sequence support between double quotation marks**\r\n\r\nIf your strings between double quotes can contain escaped sequences you need to use a different pattern:\r\n```java\r\nPattern.compile(&quot;\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;&quot;, Pattern.DOTALL)\r\n```\r\nNote the `Pattern.DOTALL` option, it will allow `.` to match line break chars.\r\n\r\n*Details*:\r\n\r\n - `&quot;` - a `&quot;` char\r\n - `[^&quot;\\\\]*` - zero or more chars other than `&quot;` and `\\` chars\r\n - `(?:\\\\.[^&quot;\\\\]*)*` - zero or more sequences of a `\\` and any char after it followed with zero or more chars other than `&quot;` and `\\` chars\r\n - `&quot;` - a `&quot;` char.\r\n\r\n\r\n  [1]: https://ideone.com/G5X7S6\r\n  [2]: https://ideone.com/tIiU2f","title":"Java: How to remove all line breaks between double quotes","body":"<p>You may match all substrings between double quotation marks using a simple <code>&quot;[^&quot;]*&quot;</code> regex and remove all linebreaks in between using</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;\\&quot;Test Line wo line break\\&quot;; \\&quot;Test Line \\nwith line break\\&quot;\\n\\&quot;Test Line2 wo line break\\&quot;; \\&quot;Test Line2 \\nwith line break\\&quot;&quot;;\nStringBuffer result = new StringBuffer();\nMatcher m = Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;&quot;).matcher(s);\nwhile (m.find()) {\n    m.appendReplacement(result, m.group().replaceAll(&quot;\\\\R+&quot;, &quot;&quot;));\n}\nm.appendTail(result);\nSystem.out.println(result.toString());\n</code></pre>\n<p>Or, beginning with the Java 9+, you can use a bit shorter code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;\\&quot;Test Line wo line break\\&quot;; \\&quot;Test Line \\nwith line break\\&quot;\\n\\&quot;Test Line2 wo line break\\&quot;; \\&quot;Test Line2 \\nwith line break\\&quot;&quot;;\nMatcher m = Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;&quot;).matcher(s);\ns = m.replaceAll(r -&gt; m.group().replaceAll(&quot;\\\\R+&quot;, &quot;&quot;));\nSystem.out.println(s);\n</code></pre>\n<p>Output:</p>\n<pre><code>&quot;Test Line wo line break&quot;; &quot;Test Line with line break&quot;\n&quot;Test Line2 wo line break&quot;; &quot;Test Line2 with line break&quot;\n</code></pre>\n<p>See the <a href=\"https://ideone.com/G5X7S6\" rel=\"nofollow noreferrer\">Java demo online</a> / <a href=\"https://ideone.com/tIiU2f\" rel=\"nofollow noreferrer\">Java code demo #2</a>.</p>\n<p>Note that <code>.replaceAll(&quot;\\\\R+&quot;, &quot;&quot;)</code> finds 1 or more any line break sequences and removes them only from what <code>&quot;[^&quot;]*&quot;</code> matched.</p>\n<p><strong>Escape sequence support between double quotation marks</strong></p>\n<p>If your strings between double quotes can contain escaped sequences you need to use a different pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern.compile(&quot;\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;&quot;, Pattern.DOTALL)\n</code></pre>\n<p>Note the <code>Pattern.DOTALL</code> option, it will allow <code>.</code> to match line break chars.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>&quot;</code> - a <code>&quot;</code> char</li>\n<li><code>[^&quot;\\\\]*</code> - zero or more chars other than <code>&quot;</code> and <code>\\</code> chars</li>\n<li><code>(?:\\\\.[^&quot;\\\\]*)*</code> - zero or more sequences of a <code>\\</code> and any char after it followed with zero or more chars other than <code>&quot;</code> and <code>\\</code> chars</li>\n<li><code>&quot;</code> - a <code>&quot;</code> char.</li>\n</ul>\n"}],"owner":{"account_id":227593,"reputation":1776,"user_id":489360,"accept_rate":79,"display_name":"TerenceJackson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1543,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56621707,"answer_count":2,"score":2,"last_activity_date":1643315905,"creation_date":1560710618,"question_id":56621672,"body_markdown":"I am having a big CSV file which I am parsing in Java.\r\nThe problem is, that in some of the text sections, which are marked with &quot;&quot;, I am having line breaks.\r\nI am now trying to remove all the line breaks in the &quot;&quot; sections but was not successful so far.\r\n\r\nFor example, I am having the following CSV:\r\n\r\n    &quot;Test Line wo line break&quot;; &quot;Test Line \r\n    with line break&quot;\r\n    &quot;Test Line2 wo line break&quot;; &quot;Test Line2 \r\n    with line break&quot;\r\n\r\nThe result should be:\r\n\r\n    &quot;Test Line wo line break&quot;; &quot;Test Line with line break&quot;\r\n    &quot;Test Line2 wo line break&quot;; &quot;Test Line2 with line break&quot;\r\n\r\nI have tried the following so far:\r\n\r\n    s.replaceAll(&quot;(\\\\w)*\\r\\n&quot;, &quot;$1&quot;);\r\n\r\nBut this, unfortunately, replaces all line breaks, also the one at the end of the lines.\r\n\r\nThen I added the double apostrophes to the regex:\r\n\r\n    s.replaceAll(&quot;\\&quot;(\\\\w)*\\r\\n\\&quot;&quot;, &quot;$1&quot;);\r\n\r\nBut with this, unfortunately, nothing gets replaces at all.\r\n\r\nCan you please help me find out what I am doing wrong here?\r\n\r\nThanks in advance","title":"Java: How to remove all line breaks between double quotes","body":"<p>I am having a big CSV file which I am parsing in Java.\nThe problem is, that in some of the text sections, which are marked with \"\", I am having line breaks.\nI am now trying to remove all the line breaks in the \"\" sections but was not successful so far.</p>\n\n<p>For example, I am having the following CSV:</p>\n\n<pre><code>\"Test Line wo line break\"; \"Test Line \nwith line break\"\n\"Test Line2 wo line break\"; \"Test Line2 \nwith line break\"\n</code></pre>\n\n<p>The result should be:</p>\n\n<pre><code>\"Test Line wo line break\"; \"Test Line with line break\"\n\"Test Line2 wo line break\"; \"Test Line2 with line break\"\n</code></pre>\n\n<p>I have tried the following so far:</p>\n\n<pre><code>s.replaceAll(\"(\\\\w)*\\r\\n\", \"$1\");\n</code></pre>\n\n<p>But this, unfortunately, replaces all line breaks, also the one at the end of the lines.</p>\n\n<p>Then I added the double apostrophes to the regex:</p>\n\n<pre><code>s.replaceAll(\"\\\"(\\\\w)*\\r\\n\\\"\", \"$1\");\n</code></pre>\n\n<p>But with this, unfortunately, nothing gets replaces at all.</p>\n\n<p>Can you please help me find out what I am doing wrong here?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":17404423,"reputation":274,"user_id":12612778,"display_name":"glitch99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643315760,"creation_date":1643315760,"answer_id":70885394,"question_id":70884302,"body_markdown":"There is a pause and resume method in the kafka api\r\nhttps://kafka.apache.org/0102/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)\r\n\r\n\r\nIf you check the Consumption Flow Control section it states the following: \r\n\r\n&gt; Kafka supports dynamic controlling of consumption flows by using pause(Collection) and resume(Collection) to pause the consumption on the specified assigned partitions and resume the consumption on the specified paused partitions respectively in the future poll(long) calls.\r\n\r\n","title":"Correct way of throttling kafka consumer messages in java","body":"<p>There is a pause and resume method in the kafka api\n<a href=\"https://kafka.apache.org/0102/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)\" rel=\"nofollow noreferrer\">https://kafka.apache.org/0102/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)</a></p>\n<p>If you check the Consumption Flow Control section it states the following:</p>\n<blockquote>\n<p>Kafka supports dynamic controlling of consumption flows by using pause(Collection) and resume(Collection) to pause the consumption on the specified assigned partitions and resume the consumption on the specified paused partitions respectively in the future poll(long) calls.</p>\n</blockquote>\n"}],"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4745,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70885394,"answer_count":1,"score":4,"last_activity_date":1643315760,"creation_date":1643310235,"question_id":70884302,"body_markdown":"I&#39;m having a situation where 1 thread is consuming messages from a Kafka topic at a fast rate and putting them into a blocking queue that is then getting consumed in another thread writing bulk inserts into a mongo database collection. I have not seen a lot of answers as this is a common problem, my app is crashing because the message q gets so big and runs out of memory as the mongo db writer thread can&#39;t keep up with the message consumption rate. \r\n\r\nWhat is the right way to configure a kafka consumer to pause message consumption for a period of time until the message q gets back to a reasonable size. Can I do a pause or something in the pool loop? I don&#39;t think so otherwise the consumer will be flagged as not online, could I close the Kafka consumer every time the message q gets to be too large and then reconnect when its back to a manageable size? I could but that does not seem like a clean solution what I am looking for is to say &quot;hey kafka please pause the sending of messages to my active consumer until I tell you to resume&quot; as this would allow me to pull messages at the speed I can insert them into my data store. \r\n\r\nPlease help! ","title":"Correct way of throttling kafka consumer messages in java","body":"<p>I'm having a situation where 1 thread is consuming messages from a Kafka topic at a fast rate and putting them into a blocking queue that is then getting consumed in another thread writing bulk inserts into a mongo database collection. I have not seen a lot of answers as this is a common problem, my app is crashing because the message q gets so big and runs out of memory as the mongo db writer thread can't keep up with the message consumption rate.</p>\n<p>What is the right way to configure a kafka consumer to pause message consumption for a period of time until the message q gets back to a reasonable size. Can I do a pause or something in the pool loop? I don't think so otherwise the consumer will be flagged as not online, could I close the Kafka consumer every time the message q gets to be too large and then reconnect when its back to a manageable size? I could but that does not seem like a clean solution what I am looking for is to say &quot;hey kafka please pause the sending of messages to my active consumer until I tell you to resume&quot; as this would allow me to pull messages at the speed I can insert them into my data store.</p>\n<p>Please help!</p>\n"},{"tags":["java","npm","vaadin","production","vaadin-flow"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1643230145,"post_id":70869745,"comment_id":125287641,"body_markdown":"Can you run mvnw vaadin:dance before the build. and also move the project to a folder that is Boot sync by onedrive","body":"Can you run mvnw vaadin:dance before the build. and also move the project to a folder that is Boot sync by onedrive"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1643230920,"post_id":70869745,"comment_id":125287922,"body_markdown":"Not not boot, sorry for the typo","body":"Not not boot, sorry for the typo"},{"owner":{"account_id":22012736,"reputation":41,"user_id":16373572,"display_name":"Tom&#225;s Atrat"},"score":0,"creation_date":1643232521,"post_id":70869745,"comment_id":125288389,"body_markdown":"Thank you very much!!!! It really did the trick!!!! Entirely grateful!!","body":"Thank you very much!!!! It really did the trick!!!! Entirely grateful!!"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1643234884,"post_id":70869745,"comment_id":125289136,"body_markdown":"Please post and accept an Answer to your own Question, explains the whole solution, for posterity’s sake.","body":"Please post and accept an Answer to your own Question, explains the whole solution, for posterity’s sake."}],"answers":[{"tags":[],"owner":{"account_id":22012736,"reputation":41,"user_id":16373572,"display_name":"Tom&#225;s Atrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643314822,"creation_date":1643314822,"answer_id":70885210,"question_id":70869745,"body_markdown":"As Simon Martinelli said, running `vaadin:dance` in the command prompt and moving the folder out of the One Drive scope before `mvnw clean package -Pproduction` command was the solution to my problem","title":"Problems deploying a Vaadin App to production","body":"<p>As Simon Martinelli said, running <code>vaadin:dance</code> in the command prompt and moving the folder out of the One Drive scope before <code>mvnw clean package -Pproduction</code> command was the solution to my problem</p>\n"}],"owner":{"account_id":22012736,"reputation":41,"user_id":16373572,"display_name":"Tom&#225;s Atrat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70885210,"answer_count":1,"score":3,"last_activity_date":1643314822,"creation_date":1643228296,"question_id":70869745,"body_markdown":"I&#39;m working with Java 8 and Vaadin 22. When I want to deploy my starter app to production by \r\n\r\n    mvnw clean package -Pproduction\r\n\r\nI find several problems while it is building the frontend. It is continuously saying &quot;Cannot find module &#39;name of module&#39;&quot;. I try to install it with npm, but after doing so, there is a new module that is not found. I&#180;ve also tried with `mvnw -Pproduction`, but the problem persists. I&#39;m doing exactly the same things as other people who have no issues, so I don&#39;t know what I&#39;m doing wrong.\r\n\r\nHere are some photos of the problems: [cannot find call-bind module][1] and\r\n[cannot find css-select module][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IJ8sz.png\r\n  [2]: https://i.stack.imgur.com/SjMgc.png","title":"Problems deploying a Vaadin App to production","body":"<p>I'm working with Java 8 and Vaadin 22. When I want to deploy my starter app to production by</p>\n<pre><code>mvnw clean package -Pproduction\n</code></pre>\n<p>I find several problems while it is building the frontend. It is continuously saying &quot;Cannot find module 'name of module'&quot;. I try to install it with npm, but after doing so, there is a new module that is not found. I´ve also tried with <code>mvnw -Pproduction</code>, but the problem persists. I'm doing exactly the same things as other people who have no issues, so I don't know what I'm doing wrong.</p>\n<p>Here are some photos of the problems: <a href=\"https://i.stack.imgur.com/IJ8sz.png\" rel=\"nofollow noreferrer\">cannot find call-bind module</a> and\n<a href=\"https://i.stack.imgur.com/SjMgc.png\" rel=\"nofollow noreferrer\">cannot find css-select module</a></p>\n"},{"tags":["java","url","resolve"],"comments":[{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":0,"creation_date":1269803222,"post_id":2534124,"comment_id":2533640,"body_markdown":"What was the output you were expecting?","body":"What was the output you were expecting?"},{"owner":{"account_id":115726,"reputation":363,"user_id":303725,"display_name":"Cpa"},"score":1,"creation_date":1269803401,"post_id":2534124,"comment_id":2533653,"body_markdown":"&quot;http://www.foo.com/bar.html&quot; would have been fine.","body":"&quot;<a href=\"http://www.foo.com/bar.html\" rel=\"nofollow noreferrer\">foo.com/bar.html</a>&quot; would have been fine."},{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":0,"creation_date":1269817560,"post_id":2534124,"comment_id":2534673,"body_markdown":"Why are you using two URIs? There must be a reason but it&#39;s unclear.","body":"Why are you using two URIs? There must be a reason but it&#39;s unclear."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658437581,"post_id":2534124,"comment_id":129058113,"body_markdown":"@JamesP. What were you expecting him to use?","body":"@JamesP. What were you expecting him to use?"}],"answers":[{"tags":[],"owner":{"account_id":7920,"reputation":10704,"user_id":13956,"accept_rate":100,"display_name":"Mike Tunnicliffe"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1269819272,"creation_date":1269819272,"answer_id":2535032,"question_id":2534124,"body_markdown":"Sounds like you probably want to use URL rather than URI (which is more general and needs to deal with a less strict syntax.)  \r\n\r\n    URI a = new URI(&quot;http://www.foo.com&quot;);\r\n    URI b = new URI(&quot;bar.html&quot;);\r\n    URI c = a.resolve(b);\r\n    c.toString()     -&gt; &quot;http://www.foo.combar.html&quot;\r\n    c.getAuthority() -&gt; &quot;www.foo.com&quot;\r\n    c.getPath()      -&gt; &quot;bar.html&quot;\r\n\r\nURI&#39;s toString() doesn&#39;t behave as you might expect, but given its general nature it may be that it should be forgiven.  \r\n\r\nSadly URI&#39;s toURL() method doesn&#39;t behave quite as I would have hoped to give you what you want.\r\n\r\n    URL u = c.toURL();\r\n    u.toString()     -&gt; &quot;http://www.foo.combar.html&quot;\r\n    u.getAuthority() -&gt; &quot;www.foo.combar.html&quot;  --- Oh dear :(\r\n\r\n**So best just to start straight out with a URL to get what you want:**\r\n\r\n    URL x = new URL(&quot;http://www.foo.com&quot;);\r\n    URL y = new URL(x, &quot;bar.html&quot;);\r\n    y.toString() -&gt; &quot;http://www.foo.com/bar.html&quot;\r\n","title":"Java URI.resolve","body":"<p>Sounds like you probably want to use URL rather than URI (which is more general and needs to deal with a less strict syntax.)  </p>\n\n<pre><code>URI a = new URI(\"http://www.foo.com\");\nURI b = new URI(\"bar.html\");\nURI c = a.resolve(b);\nc.toString()     -&gt; \"http://www.foo.combar.html\"\nc.getAuthority() -&gt; \"www.foo.com\"\nc.getPath()      -&gt; \"bar.html\"\n</code></pre>\n\n<p>URI's toString() doesn't behave as you might expect, but given its general nature it may be that it should be forgiven.  </p>\n\n<p>Sadly URI's toURL() method doesn't behave quite as I would have hoped to give you what you want.</p>\n\n<pre><code>URL u = c.toURL();\nu.toString()     -&gt; \"http://www.foo.combar.html\"\nu.getAuthority() -&gt; \"www.foo.combar.html\"  --- Oh dear :(\n</code></pre>\n\n<p><strong>So best just to start straight out with a URL to get what you want:</strong></p>\n\n<pre><code>URL x = new URL(\"http://www.foo.com\");\nURL y = new URL(x, \"bar.html\");\ny.toString() -&gt; \"http://www.foo.com/bar.html\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299780,"reputation":1094,"user_id":606571,"accept_rate":56,"display_name":"UltraMaster"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1300806103,"creation_date":1300805575,"answer_id":5393113,"question_id":2534124,"body_markdown":"Ok, appears from URL deffinition [scheme://domain:port/path?query_string#fragment_id][1]\r\nthere should be 3 slashes before path (two after scheme and one directly before path)&lt;br/&gt;\r\n2 situation can occure:&lt;br/&gt;\r\n&lt;ol&gt;there are 3 slashes in your URI =&gt; everything is OK&lt;/ol&gt;\r\n&lt;ol&gt;there are less then 3 slashes in your URI =&gt; you need to add slash at the end of URI&lt;/ol&gt;\r\n\r\nthere is my snappet of code:&lt;br/&gt;\r\n\r\n    String url = &quot;http://www.foo.com&quot;;\r\n    String endSlash=&quot;&quot;;\r\n    int indexOfSlash = 0;\r\n    for(int i = 0;i&lt;3;i++){\r\n       int nextIndex = url.indexOf(&#39;/&#39;,indexOfSlash);\r\n       if(!(nextIndex&gt;0)){\r\n          if(i&gt;1){\r\n             endSlash=&quot;/&quot;;\r\n          }else{\r\n             throw new MalformedURLException(&quot;Bad given url format, mising :// after schema&quot;);\r\n          }\r\n       }else{\r\n          indexOfSlash = ++nextIndex;\r\n       }\r\n    }\r\n    URL rightUrl = new URL(url+endSlash);\r\n\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Uniform_Resource_Locator","title":"Java URI.resolve","body":"<p>Ok, appears from URL deffinition <a href=\"http://en.wikipedia.org/wiki/Uniform_Resource_Locator\" rel=\"nofollow\">scheme://domain:port/path?query_string#fragment_id</a>\nthere should be 3 slashes before path (two after scheme and one directly before path)<br/>\n2 situation can occure:<br/></p>\n\n<ol>there are 3 slashes in your URI => everything is OK</ol>\n\n<ol>there are less then 3 slashes in your URI => you need to add slash at the end of URI</ol>\n\n<p>there is my snappet of code:<br/></p>\n\n<pre><code>String url = \"http://www.foo.com\";\nString endSlash=\"\";\nint indexOfSlash = 0;\nfor(int i = 0;i&lt;3;i++){\n   int nextIndex = url.indexOf('/',indexOfSlash);\n   if(!(nextIndex&gt;0)){\n      if(i&gt;1){\n         endSlash=\"/\";\n      }else{\n         throw new MalformedURLException(\"Bad given url format, mising :// after schema\");\n      }\n   }else{\n      indexOfSlash = ++nextIndex;\n   }\n}\nURL rightUrl = new URL(url+endSlash);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":791042,"reputation":119,"user_id":896969,"display_name":"Mohammad Amin Bandekhoda"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1313586677,"creation_date":1313507987,"answer_id":7080648,"question_id":2534124,"body_markdown":"URI should contain the final separator(&#39;/&#39;) as well to resolve the way you want: \r\n\r\n    URI a = new URI(&quot;http://www.foo.com/&quot;);","title":"Java URI.resolve","body":"<p>URI should contain the final separator('/') as well to resolve the way you want: </p>\n\n<pre><code>URI a = new URI(\"http://www.foo.com/\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1573642832,"creation_date":1573642832,"answer_id":58835656,"question_id":2534124,"body_markdown":"**URI.resolve** behaves like if you are on a HTML page like `http://example.org/path/to/menu.html` and click a link with `href=&quot;page1.html&quot;`: It cuts off the last segment (here `menu.html`) and puts `page1.html` in its place.\r\n\r\n(`http://example.org/path/to/menu.html`, `page1.html`) → `http://example.org/path/to/page1.html`\r\n\r\nThis works also, if the object you call resolve on **is a directory, denoted by ending in a slash:**\r\n\r\n(`http://example.org/path/to/`, `page1.html`) → `http://example.org/path/to/page1.html`\r\n\r\nIf it **does not end in a slash,** the outcome is not what you might expect:\r\n\r\n(`http://example.org/path/to`, `page1.html`) → `http://example.org/path/page1.html` (missing &quot;to&quot;)\r\n\r\nIf you **know** that the first argument of the URIs to concatenate is a directory, but you don’t know in which format you get it (with or without trailing slash), this might help you:\r\n\r\n    static URI asDirectory(URI uri) {\r\n        String uriString = uri.toString();\r\n        return !uriString.endsWith(&quot;/&quot;) ? URI.create(uriString.concat(&quot;/&quot;)) : uri;\r\n    }\r\n\r\n","title":"Java URI.resolve","body":"<p><strong>URI.resolve</strong> behaves like if you are on a HTML page like <code>http://example.org/path/to/menu.html</code> and click a link with <code>href=\"page1.html\"</code>: It cuts off the last segment (here <code>menu.html</code>) and puts <code>page1.html</code> in its place.</p>\n\n<p>(<code>http://example.org/path/to/menu.html</code>, <code>page1.html</code>) → <code>http://example.org/path/to/page1.html</code></p>\n\n<p>This works also, if the object you call resolve on <strong>is a directory, denoted by ending in a slash:</strong></p>\n\n<p>(<code>http://example.org/path/to/</code>, <code>page1.html</code>) → <code>http://example.org/path/to/page1.html</code></p>\n\n<p>If it <strong>does not end in a slash,</strong> the outcome is not what you might expect:</p>\n\n<p>(<code>http://example.org/path/to</code>, <code>page1.html</code>) → <code>http://example.org/path/page1.html</code> (missing \"to\")</p>\n\n<p>If you <strong>know</strong> that the first argument of the URIs to concatenate is a directory, but you don’t know in which format you get it (with or without trailing slash), this might help you:</p>\n\n<pre><code>static URI asDirectory(URI uri) {\n    String uriString = uri.toString();\n    return !uriString.endsWith(\"/\") ? URI.create(uriString.concat(\"/\")) : uri;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6288523,"reputation":3456,"user_id":4886927,"accept_rate":59,"display_name":"pasaba por aqui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643314401,"creation_date":1643314401,"answer_id":70885127,"question_id":2534124,"body_markdown":"Example with the different posibilities:\r\n\r\n        URI uri = new URI( &quot;http://www.example.org&quot;);\r\n        System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\r\n        System.out.println( uri.resolve( &quot;bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;bar/&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar/&quot;) );\r\n        System.out.println();\r\n        \r\n        uri = new URI( &quot;http://www.example.org/&quot;);\r\n        System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\r\n        System.out.println( uri.resolve( &quot;bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;bar/&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar/&quot;) );\r\n        System.out.println();\r\n\r\n        uri = new URI( &quot;http://www.example.org/foo1/foo2&quot;);\r\n        System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\r\n        System.out.println( uri.resolve( &quot;bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;bar/&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar/&quot;) );\r\n        System.out.println();\r\n        \r\n        uri = new URI( &quot;http://www.example.org/foo1/foo2/&quot;);\r\n        System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\r\n        System.out.println( uri.resolve( &quot;bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;bar/&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar/&quot;) );\r\n\r\nproduces as output:\r\n\r\n    *** http://www.example.org ***\r\n    http://www.example.orgbar\r\n    http://www.example.org/bar\r\n    http://www.example.orgbar/\r\n    http://www.example.org/bar/\r\n    \r\n    *** http://www.example.org/ ***\r\n    http://www.example.org/bar\r\n    http://www.example.org/bar\r\n    http://www.example.org/bar/\r\n    http://www.example.org/bar/\r\n    \r\n    *** http://www.example.org/foo1/foo2 ***\r\n    http://www.example.org/foo1/bar\r\n    http://www.example.org/bar\r\n    http://www.example.org/foo1/bar/\r\n    http://www.example.org/bar/\r\n    \r\n    *** http://www.example.org/foo1/foo2/ ***\r\n    http://www.example.org/foo1/foo2/bar\r\n    http://www.example.org/bar\r\n    http://www.example.org/foo1/foo2/bar/\r\n    http://www.example.org/bar/\r\n\r\nIn conclusion:\r\n\r\n - cases 1-4: If the original URI has not path, resolve uses it argument as new path. That can produce a wrong domain if the resolve argument doesn&#39;t start by slash.\r\n - cases 5-8: If the original URI is a domain plus slash, resolve uses its argument as new path. No problem with double slashes.\r\n - cases 10, 12, 14 and 16: If the original URI has a path and resolve argument starts by slash, resolve replaces URI path by its argument. Initial path is totally discarded.\r\n - cases 9, 11: If the original URI has a path not ended by slash and resolve argument doesn&#39;t start by slash, resolve discards the last element of the initial uri path and adds its argument.\r\n - cases 13, 15: If the original URI has a path ended by slash and resolve argument doesn&#39;t start by slash, resolve adds its argument.","title":"Java URI.resolve","body":"<p>Example with the different posibilities:</p>\n<pre><code>    URI uri = new URI( &quot;http://www.example.org&quot;);\n    System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\n    System.out.println( uri.resolve( &quot;bar&quot;) );\n    System.out.println( uri.resolve( &quot;/bar&quot;) );\n    System.out.println( uri.resolve( &quot;bar/&quot;) );\n    System.out.println( uri.resolve( &quot;/bar/&quot;) );\n    System.out.println();\n    \n    uri = new URI( &quot;http://www.example.org/&quot;);\n    System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\n    System.out.println( uri.resolve( &quot;bar&quot;) );\n    System.out.println( uri.resolve( &quot;/bar&quot;) );\n    System.out.println( uri.resolve( &quot;bar/&quot;) );\n    System.out.println( uri.resolve( &quot;/bar/&quot;) );\n    System.out.println();\n\n    uri = new URI( &quot;http://www.example.org/foo1/foo2&quot;);\n    System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\n    System.out.println( uri.resolve( &quot;bar&quot;) );\n    System.out.println( uri.resolve( &quot;/bar&quot;) );\n    System.out.println( uri.resolve( &quot;bar/&quot;) );\n    System.out.println( uri.resolve( &quot;/bar/&quot;) );\n    System.out.println();\n    \n    uri = new URI( &quot;http://www.example.org/foo1/foo2/&quot;);\n    System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\n    System.out.println( uri.resolve( &quot;bar&quot;) );\n    System.out.println( uri.resolve( &quot;/bar&quot;) );\n    System.out.println( uri.resolve( &quot;bar/&quot;) );\n    System.out.println( uri.resolve( &quot;/bar/&quot;) );\n</code></pre>\n<p>produces as output:</p>\n<pre><code>*** http://www.example.org ***\nhttp://www.example.orgbar\nhttp://www.example.org/bar\nhttp://www.example.orgbar/\nhttp://www.example.org/bar/\n\n*** http://www.example.org/ ***\nhttp://www.example.org/bar\nhttp://www.example.org/bar\nhttp://www.example.org/bar/\nhttp://www.example.org/bar/\n\n*** http://www.example.org/foo1/foo2 ***\nhttp://www.example.org/foo1/bar\nhttp://www.example.org/bar\nhttp://www.example.org/foo1/bar/\nhttp://www.example.org/bar/\n\n*** http://www.example.org/foo1/foo2/ ***\nhttp://www.example.org/foo1/foo2/bar\nhttp://www.example.org/bar\nhttp://www.example.org/foo1/foo2/bar/\nhttp://www.example.org/bar/\n</code></pre>\n<p>In conclusion:</p>\n<ul>\n<li>cases 1-4: If the original URI has not path, resolve uses it argument as new path. That can produce a wrong domain if the resolve argument doesn't start by slash.</li>\n<li>cases 5-8: If the original URI is a domain plus slash, resolve uses its argument as new path. No problem with double slashes.</li>\n<li>cases 10, 12, 14 and 16: If the original URI has a path and resolve argument starts by slash, resolve replaces URI path by its argument. Initial path is totally discarded.</li>\n<li>cases 9, 11: If the original URI has a path not ended by slash and resolve argument doesn't start by slash, resolve discards the last element of the initial uri path and adds its argument.</li>\n<li>cases 13, 15: If the original URI has a path ended by slash and resolve argument doesn't start by slash, resolve adds its argument.</li>\n</ul>\n"}],"owner":{"account_id":115726,"reputation":363,"user_id":303725,"display_name":"Cpa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26941,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1643314401,"creation_date":1269803004,"question_id":2534124,"body_markdown":"I&#39;m trying to resolve two URIs, but it&#39;s not as straightforward as I&#39;d like it to be.\r\n\r\n    URI a = new URI(&quot;http://www.foo.com&quot;);\r\n    URI b = new URI(&quot;bar.html&quot;);\r\n\r\nThe trouble is that `a.resolve(b).toString()` is now `&quot;http://www.foo.combar.html&quot;`. How can I get away with that?","title":"Java URI.resolve","body":"<p>I'm trying to resolve two URIs, but it's not as straightforward as I'd like it to be.</p>\n\n<pre><code>URI a = new URI(\"http://www.foo.com\");\nURI b = new URI(\"bar.html\");\n</code></pre>\n\n<p>The trouble is that <code>a.resolve(b).toString()</code> is now <code>\"http://www.foo.combar.html\"</code>. How can I get away with that?</p>\n"},{"tags":["java","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1319732440,"post_id":7916983,"comment_id":9672445,"body_markdown":"each write (put) is proceeded by a lock acquisition (plus volatile write)that ensures the &#39;visibility&#39;. Each read (get) does a volatile read which ensures the visibility for the reader.","body":"each write (put) is proceeded by a lock acquisition (plus volatile write)that ensures the &#39;visibility&#39;. Each read (get) does a volatile read which ensures the visibility for the reader."}],"answers":[{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1319724496,"creation_date":1319724181,"answer_id":7917050,"question_id":7916983,"body_markdown":"The read of the values are actually volatile loads.  Though it is non-blocking you will ensure the happens-before relationship since the store too is volatile.  \r\n\r\nJava 5,6,7&#39;s version of the CHM does not use CAS to swap the references.  But there is a newer lightweight version in the works that would use in some of its writes.","title":"ConcurrentHashMap non-blocking reads and memory visibility issue","body":"<p>The read of the values are actually volatile loads.  Though it is non-blocking you will ensure the happens-before relationship since the store too is volatile.  </p>\n\n<p>Java 5,6,7's version of the CHM does not use CAS to swap the references.  But there is a newer lightweight version in the works that would use in some of its writes.</p>\n"}],"owner":{"account_id":119633,"reputation":7453,"user_id":311455,"accept_rate":63,"display_name":"Bhaskar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2798,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7917050,"answer_count":1,"score":5,"last_activity_date":1643314079,"creation_date":1319723903,"question_id":7916983,"body_markdown":"`ConcurrentHashMap` in Java offers reads to proceed concurrently with updates. The trade-off in this is that the results of the read is limited to reflect only the *last completed* update when the reading  began, so it is not specified to reflect the latest state of elements.\r\n\r\nHowever AFAIK Java Memory Model , without some form of synchronization between the read and write threads, the updates of the write thread may not become visible to the read thread , even after arbitrary period of time.\r\n\r\nGiven the read threads do not block with write threads , what forms the basis of the guarantee of visibility of *the last completed update* to be available to the read thread ? \r\n\r\nI could only think of something on the lines of Compare-and-swap algorithm at play but I could not verify it in the source code of that library.\r\n","title":"ConcurrentHashMap non-blocking reads and memory visibility issue","body":"<p><code>ConcurrentHashMap</code> in Java offers reads to proceed concurrently with updates. The trade-off in this is that the results of the read is limited to reflect only the <em>last completed</em> update when the reading  began, so it is not specified to reflect the latest state of elements.</p>\n<p>However AFAIK Java Memory Model , without some form of synchronization between the read and write threads, the updates of the write thread may not become visible to the read thread , even after arbitrary period of time.</p>\n<p>Given the read threads do not block with write threads , what forms the basis of the guarantee of visibility of <em>the last completed update</em> to be available to the read thread ?</p>\n<p>I could only think of something on the lines of Compare-and-swap algorithm at play but I could not verify it in the source code of that library.</p>\n"},{"tags":["java","spring-boot","rest","maven"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1643306981,"post_id":70880630,"comment_id":125311211,"body_markdown":"Have you tried [`RestClientResponseException`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestClientResponseException.html) instead of `RestClientException`?","body":"Have you tried <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestClientResponseException.html\" rel=\"nofollow noreferrer\"><code>RestClientResponseException</code></a> instead of <code>RestClientException</code>?"}],"answers":[{"tags":[],"owner":{"account_id":366154,"reputation":968,"user_id":711514,"accept_rate":49,"display_name":"Uma Ilango"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643313946,"creation_date":1643313946,"answer_id":70885038,"question_id":70880630,"body_markdown":"        catch(RestClientException ue) {\r\n         if (ue instanceof HttpStatusCodeException) {\r\n             String errorResponse = ((HttpStatusCodeException) ue).getResponseBodyAsString();\r\n             logger.info(errorResponse);\r\n    }\r\n\r\nThis code block actually works. errorResponse returns the response JSON. I was using another endpoint url which was wrapping up the response &amp; therefore, did not get the actual response. ","title":"Get the customized Response JSON from 422 Unprocessable Entity","body":"<pre><code>    catch(RestClientException ue) {\n     if (ue instanceof HttpStatusCodeException) {\n         String errorResponse = ((HttpStatusCodeException) ue).getResponseBodyAsString();\n         logger.info(errorResponse);\n}\n</code></pre>\n<p>This code block actually works. errorResponse returns the response JSON. I was using another endpoint url which was wrapping up the response &amp; therefore, did not get the actual response.</p>\n"}],"owner":{"account_id":366154,"reputation":968,"user_id":711514,"accept_rate":49,"display_name":"Uma Ilango"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70885038,"answer_count":1,"score":0,"last_activity_date":1643313946,"creation_date":1643295022,"question_id":70880630,"body_markdown":"I have a Java Springboot microservice which calls a third-party API. For one of my test cases, the API returns 422 Unprocessable entity with a customized Response JSON Body\r\n\r\n    {\r\n        &quot;request_status&quot;: &quot;error&quot;,\r\n        &quot;status&quot;: &quot;error&quot;,\r\n        &quot;requested_url&quot;: &quot;www.example.de&quot;,\r\n        &quot;url&quot;: &quot;http://www.newexample.de/&quot;,\r\n        &quot;issue&quot;: &quot;redirect&quot;,\r\n        &quot;recommendedUrl&quot;: true,\r\n        &quot;error_message&quot;: &quot;The web address you entered redirects to another website.&quot;\r\n    }\r\n\r\nI am unable to retrieve this response body in my microservice. My code is like below\r\n\r\n    try {\r\n        HttpEntity&lt;Input_Class&gt; httpentity = new HttpEntity&lt;Input_Class&gt;(                      inputClassObj, headers);\r\n        responseEntity = restTemplate.exchange(url, HttpMethod.POST, httpentity,\r\n             new ParameterizedTypeReference&lt;Output_Class&gt;() {});\r\n\r\n    } catch(RestClientException ue) {\r\n         if (ue instanceof HttpStatusCodeException) {\r\n             String errorResponse = ((HttpStatusCodeException) ue).getResponseBodyAsString();\r\n             logger.info(errorResponse);\r\n    }\r\n\r\n\r\nThe errorResponse I could see in the log is\r\n\r\n    {\r\n        &quot;status&quot;: &quot;ERROR&quot;,\r\n        &quot;errorMessage&quot;: &quot;Unprocessable Entity&quot;\r\n    }\r\n\r\nCan someone let me know which Exception class I should use to get the response body sent by the API. \r\n","title":"Get the customized Response JSON from 422 Unprocessable Entity","body":"<p>I have a Java Springboot microservice which calls a third-party API. For one of my test cases, the API returns 422 Unprocessable entity with a customized Response JSON Body</p>\n<pre><code>{\n    &quot;request_status&quot;: &quot;error&quot;,\n    &quot;status&quot;: &quot;error&quot;,\n    &quot;requested_url&quot;: &quot;www.example.de&quot;,\n    &quot;url&quot;: &quot;http://www.newexample.de/&quot;,\n    &quot;issue&quot;: &quot;redirect&quot;,\n    &quot;recommendedUrl&quot;: true,\n    &quot;error_message&quot;: &quot;The web address you entered redirects to another website.&quot;\n}\n</code></pre>\n<p>I am unable to retrieve this response body in my microservice. My code is like below</p>\n<pre><code>try {\n    HttpEntity&lt;Input_Class&gt; httpentity = new HttpEntity&lt;Input_Class&gt;(                      inputClassObj, headers);\n    responseEntity = restTemplate.exchange(url, HttpMethod.POST, httpentity,\n         new ParameterizedTypeReference&lt;Output_Class&gt;() {});\n\n} catch(RestClientException ue) {\n     if (ue instanceof HttpStatusCodeException) {\n         String errorResponse = ((HttpStatusCodeException) ue).getResponseBodyAsString();\n         logger.info(errorResponse);\n}\n</code></pre>\n<p>The errorResponse I could see in the log is</p>\n<pre><code>{\n    &quot;status&quot;: &quot;ERROR&quot;,\n    &quot;errorMessage&quot;: &quot;Unprocessable Entity&quot;\n}\n</code></pre>\n<p>Can someone let me know which Exception class I should use to get the response body sent by the API.</p>\n"},{"tags":["java","android","ping","traceroute"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1558022600,"post_id":56172511,"comment_id":98971604,"body_markdown":"Look into this https://stackoverflow.com/questions/2627706/how-to-icmps-and-traceroutes-in-java","body":"Look into this <a href=\"https://stackoverflow.com/questions/2627706/how-to-icmps-and-traceroutes-in-java\" title=\"how to icmps and traceroutes in java\">stackoverflow.com/questions/2627706/&hellip;</a>"},{"owner":{"account_id":269649,"reputation":2168,"user_id":559111,"accept_rate":47,"display_name":"miatech"},"score":0,"creation_date":1558022877,"post_id":56172511,"comment_id":98971752,"body_markdown":"that&#39;s for windows and linux, I want to implement in android... in that post the code access the command through the os. android os doesn&#39;t have that option.. thanks","body":"that&#39;s for windows and linux, I want to implement in android... in that post the code access the command through the os. android os doesn&#39;t have that option.. thanks"},{"owner":{"account_id":269649,"reputation":2168,"user_id":559111,"accept_rate":47,"display_name":"miatech"},"score":0,"creation_date":1558022913,"post_id":56172511,"comment_id":98971771,"body_markdown":"I&#39;ve seen plenty of android apps developing this traceroute but can&#39;t figure out how they did it","body":"I&#39;ve seen plenty of android apps developing this traceroute but can&#39;t figure out how they did it"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1558027206,"post_id":56172511,"comment_id":98973802,"body_markdown":"So did you find this post: [Traceroute on android](https://stackoverflow.com/q/4203374/295004) and the github project listed as an answer was/wasn&#39;t useful? (I see command line &#39;ping&#39; command in source code which give me doubt)","body":"So did you find this post: <a href=\"https://stackoverflow.com/q/4203374/295004\">Traceroute on android</a> and the github project listed as an answer was/wasn&#39;t useful? (I see command line &#39;ping&#39; command in source code which give me doubt)"}],"owner":{"account_id":269649,"reputation":2168,"user_id":559111,"accept_rate":47,"display_name":"miatech"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643313854,"creation_date":1558022441,"question_id":56172511,"body_markdown":"Given the fact that Android doesn&#39;t include a trace-route command, how can I implement the network utility within my app? I know a trace-route is just ping until pinging every hop/router on the way - but how can I do this grammatically? I tried searching for libraries on GitHub and Maven repositories but no luck of anything I can use. I don&#39;t mind implementing it myself. I hope I don&#39;t have to do this from scratch like crafting a packet and using a socket to connect to every router on the way. Another question would be how to obtain the IP of every router to the destination in Java?","title":"How to implement trace-routes in Android Studio?","body":"<p>Given the fact that Android doesn't include a trace-route command, how can I implement the network utility within my app? I know a trace-route is just ping until pinging every hop/router on the way - but how can I do this grammatically? I tried searching for libraries on GitHub and Maven repositories but no luck of anything I can use. I don't mind implementing it myself. I hope I don't have to do this from scratch like crafting a packet and using a socket to connect to every router on the way. Another question would be how to obtain the IP of every router to the destination in Java?</p>\n"},{"tags":["java","parsing","decimal","hex","signed"],"answers":[{"tags":[],"owner":{"account_id":21,"reputation":106392,"user_id":29,"accept_rate":83,"display_name":"Michael Haren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1241958012,"creation_date":1241958012,"answer_id":845232,"question_id":845230,"body_markdown":"You need to [include a negative][1] sign.\r\n\r\nI don&#39;t have access to test this right now but I&#39;d bet if you tried this value instead:\r\n\r\n    Integer min = Integer.MIN_VALUE + 1;\r\n\r\nIt wouldn&#39;t bomb, but would give you a positive number (not negative) when you ran `ParseInt(min,16)`.\r\n\r\nA *string* of bits doesn&#39;t really have enough info to determine sign in this context so you need to provide it. (consider the case where you use `min = &quot;F&quot;`. Is that +/-F? If you converted it to bits and saw 1111, *and* you knew it was a byte, you might conclude that it&#39;s negative, but that&#39;s a lot of ifs.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29","title":"Java negative int to hex and back fails","body":"<p>You need to <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\" rel=\"nofollow noreferrer\">include a negative</a> sign.</p>\n\n<p>I don't have access to test this right now but I'd bet if you tried this value instead:</p>\n\n<pre><code>Integer min = Integer.MIN_VALUE + 1;\n</code></pre>\n\n<p>It wouldn't bomb, but would give you a positive number (not negative) when you ran <code>ParseInt(min,16)</code>.</p>\n\n<p>A <em>string</em> of bits doesn't really have enough info to determine sign in this context so you need to provide it. (consider the case where you use <code>min = \"F\"</code>. Is that +/-F? If you converted it to bits and saw 1111, <em>and</em> you knew it was a byte, you might conclude that it's negative, but that's a lot of ifs.</p>\n"},{"tags":[],"owner":{"account_id":878040,"reputation":206,"user_id":90889,"display_name":"dhn"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1483250883,"creation_date":1241960068,"answer_id":845283,"question_id":845230,"body_markdown":"It&#39;s documented that `Integer.toHexString` returns a string representation of the integer as an unsigned value - while `Integer.parseInt` takes a signed int.  If you use `Integer.toString(value, 16)` instead you&#39;ll get what you want.\r\n\r\n","title":"Java negative int to hex and back fails","body":"<p>It's documented that <code>Integer.toHexString</code> returns a string representation of the integer as an unsigned value - while <code>Integer.parseInt</code> takes a signed int.  If you use <code>Integer.toString(value, 16)</code> instead you'll get what you want.</p>\n"},{"tags":[],"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1241963899,"creation_date":1241963899,"answer_id":845378,"question_id":845230,"body_markdown":"Try this:\r\n\r\n    public class Main3 {\r\n        public static void main(String[] args) {\r\n            Integer min = Integer.MIN_VALUE;\r\n            String minHex = Integer.toHexString(Integer.MIN_VALUE);\r\n    \r\n            System.out.println(min + &quot; &quot; + minHex);\r\n            System.out.println(Integer.parseInt( &quot;-&quot; + minHex, 16));\r\n        }\r\n\r\n}\r\n\r\nto get this:\r\n\r\n    -2147483648 80000000\r\n    -2147483648\r\n\r\n","title":"Java negative int to hex and back fails","body":"<p>Try this:</p>\n\n<pre><code>public class Main3 {\n    public static void main(String[] args) {\n        Integer min = Integer.MIN_VALUE;\n        String minHex = Integer.toHexString(Integer.MIN_VALUE);\n\n        System.out.println(min + \" \" + minHex);\n        System.out.println(Integer.parseInt( \"-\" + minHex, 16));\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>to get this:</p>\n\n<pre><code>-2147483648 80000000\n-2147483648\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1241964308,"creation_date":1241964308,"answer_id":845391,"question_id":845230,"body_markdown":"This is something that&#39;s always annoyed me.  If you initialize an int with a hex literal, you can use the full range of positive values up to `0xFFFFFF`; anything larger than `0x7FFFFF` will really be a negative value.  This is very handy for bit masking and other operations where you only care about the *locations* of the bits, not their meanings.\r\n\r\nBut if you use Integer.parseInt() to convert a string to an integer, anything larger than `&quot;0x7FFFFFFF&quot;` is treated as an error.  There&#39;s probably a good reason why they did it that way, but it&#39;s still frustrating.\r\n\r\nThe simplest workaround is to use Long.parseLong() instead, then cast the result to int.\r\n\r\n    int n = (int)Long.parseLong(s, 16);\r\n\r\nOf course, you should only do that if you&#39;re sure the number is going to be in the range `Integer.MIN_VALUE..Integer.MAX_VALUE`.\r\n","title":"Java negative int to hex and back fails","body":"<p>This is something that's always annoyed me.  If you initialize an int with a hex literal, you can use the full range of positive values up to <code>0xFFFFFF</code>; anything larger than <code>0x7FFFFF</code> will really be a negative value.  This is very handy for bit masking and other operations where you only care about the <em>locations</em> of the bits, not their meanings.</p>\n\n<p>But if you use Integer.parseInt() to convert a string to an integer, anything larger than <code>\"0x7FFFFFFF\"</code> is treated as an error.  There's probably a good reason why they did it that way, but it's still frustrating.</p>\n\n<p>The simplest workaround is to use Long.parseLong() instead, then cast the result to int.</p>\n\n<pre><code>int n = (int)Long.parseLong(s, 16);\n</code></pre>\n\n<p>Of course, you should only do that if you're sure the number is going to be in the range <code>Integer.MIN_VALUE..Integer.MAX_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":2428340,"reputation":332,"user_id":2119820,"display_name":"Fabrice LARRIBE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417087555,"creation_date":1417087555,"answer_id":27169571,"question_id":845230,"body_markdown":"This seem to work for me : \r\n\r\n    public class Main3 {\r\n    public static void main(String[] args) {\r\n    \tInteger min = Integer.MIN_VALUE;\r\n    \tString minHex = Integer.toHexString(Integer.MIN_VALUE);\r\n\r\n    \tSystem.out.println(min + &quot; &quot; + minHex);\r\n    \tSystem.out.println((int)Long.parseLong(minHex, 16));\r\n    }\r\n    }\r\n\r\nThe integer is parsed as a &quot;signed long&quot; that handle such big positive number and then the sign is found back by casting it to &quot;int&quot;.","title":"Java negative int to hex and back fails","body":"<p>This seem to work for me : </p>\n\n<pre><code>public class Main3 {\npublic static void main(String[] args) {\n    Integer min = Integer.MIN_VALUE;\n    String minHex = Integer.toHexString(Integer.MIN_VALUE);\n\n    System.out.println(min + \" \" + minHex);\n    System.out.println((int)Long.parseLong(minHex, 16));\n}\n}\n</code></pre>\n\n<p>The integer is parsed as a \"signed long\" that handle such big positive number and then the sign is found back by casting it to \"int\".</p>\n"},{"tags":[],"owner":{"account_id":2742496,"reputation":50496,"user_id":2363712,"accept_rate":50,"display_name":"Sylvain Leroux"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1417875189,"creation_date":1417875189,"answer_id":27332573,"question_id":845230,"body_markdown":"According the the documentation, [`toHexString`](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toHexString%28int%29) returns _&quot;a string representation of the integer argument as an **unsigned** integer in base 16. &quot;_\r\n\r\nSo the correct reverse operation is probably [`Integer.parseUnsignedInt`](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseUnsignedInt-java.lang.String-int-) that was introduced as part of Java 8:\r\n\r\n\r\n    public class Main3 {\r\n        public static void main(String[] args) {\r\n        \tInteger min = Integer.MIN_VALUE;\r\n        \tString minHex = Integer.toHexString(Integer.MIN_VALUE);\r\n    \r\n        \tSystem.out.println(min + &quot; &quot; + minHex);\r\n        \tSystem.out.println(Integer.parseUnsignedInt(minHex, 16));\r\n        }\r\n","title":"Java negative int to hex and back fails","body":"<p>According the the documentation, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toHexString%28int%29\" rel=\"noreferrer\"><code>toHexString</code></a> returns <em>\"a string representation of the integer argument as an <strong>unsigned</strong> integer in base 16. \"</em></p>\n\n<p>So the correct reverse operation is probably <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseUnsignedInt-java.lang.String-int-\" rel=\"noreferrer\"><code>Integer.parseUnsignedInt</code></a> that was introduced as part of Java 8:</p>\n\n<pre><code>public class Main3 {\n    public static void main(String[] args) {\n        Integer min = Integer.MIN_VALUE;\n        String minHex = Integer.toHexString(Integer.MIN_VALUE);\n\n        System.out.println(min + \" \" + minHex);\n        System.out.println(Integer.parseUnsignedInt(minHex, 16));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17913984,"reputation":1,"user_id":13015415,"display_name":"Daniel Commins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643313389,"creation_date":1643313389,"answer_id":70884932,"question_id":845230,"body_markdown":"`Integer.parseInt()` takes in a signed integer as it&#39;s input. This means the input has to be between &quot;7FFFFFFF&quot; and &quot;-80000000&quot;. Note the negative sign before &quot;80000000&quot;. What you want is `Integer.parseInt(&quot;-80000000&quot;, 16)`. If you use 80000000 without the minus sign Java will interpret that as a positive number and throw an exception because the max positive integer for an int is 0x7FFFFFFF.","title":"Java negative int to hex and back fails","body":"<p><code>Integer.parseInt()</code> takes in a signed integer as it's input. This means the input has to be between &quot;7FFFFFFF&quot; and &quot;-80000000&quot;. Note the negative sign before &quot;80000000&quot;. What you want is <code>Integer.parseInt(&quot;-80000000&quot;, 16)</code>. If you use 80000000 without the minus sign Java will interpret that as a positive number and throw an exception because the max positive integer for an int is 0x7FFFFFFF.</p>\n"}],"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17078,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":845283,"answer_count":7,"score":9,"last_activity_date":1643313389,"creation_date":1241957846,"question_id":845230,"body_markdown":"    public class Main3 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger min = Integer.MIN_VALUE;\r\n    \t\tString minHex = Integer.toHexString(Integer.MIN_VALUE);\r\n    \t\t\r\n    \t\tSystem.out.println(min + &quot; &quot; + minHex);\r\n    \t\tSystem.out.println(Integer.parseInt(minHex, 16));\r\n    \t}\r\n    }\r\n\r\nGives \r\n\r\n    -2147483648 80000000\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;80000000&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\r\n    \tat java.lang.Integer.parseInt(Integer.java:459)\r\n    \tat Main3.main(Main3.java:7)\r\n\r\n\r\nWhats up?","title":"Java negative int to hex and back fails","body":"<pre><code>public class Main3 {\n    public static void main(String[] args) {\n        Integer min = Integer.MIN_VALUE;\n        String minHex = Integer.toHexString(Integer.MIN_VALUE);\n\n        System.out.println(min + \" \" + minHex);\n        System.out.println(Integer.parseInt(minHex, 16));\n    }\n}\n</code></pre>\n\n<p>Gives </p>\n\n<pre><code>-2147483648 80000000\nException in thread \"main\" java.lang.NumberFormatException: For input string: \"80000000\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\n    at java.lang.Integer.parseInt(Integer.java:459)\n    at Main3.main(Main3.java:7)\n</code></pre>\n\n<p>Whats up?</p>\n"},{"tags":["java","security","keystore","content-security-policy","policy"],"answers":[{"tags":[],"owner":{"account_id":24076145,"reputation":31,"user_id":18051456,"display_name":"Volker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643313039,"creation_date":1643313039,"answer_id":70884859,"question_id":70788339,"body_markdown":"You need to give your custom-policy.policy the password to use your keystore.\r\n\r\nThe first two lines of your policy file must be like the following.\r\n\r\n    keystore &quot;file:PATH_TO_YOUR_KEYSTORE&quot;;\r\n    keystorePasswordURL &quot;file:PATH_TO_YOUR_KEYSTORE_PASSWORD_FILE&quot;;\r\n\r\nFor the password file you can just do this :\r\n\r\n    echo &quot;KEYSTORE_PASSWORD&quot; &gt; KEYSTORE_PASSWORD_FILE\r\n\r\nRemember that this is not suitable for a production environment, but maybe it can do the trick in the context of your usage.\r\n\r\nAlso, the alias used by the signedBy directive must be myTestKey here, not myUser.","title":"User in keystore cannot have permission in .policy","body":"<p>You need to give your custom-policy.policy the password to use your keystore.</p>\n<p>The first two lines of your policy file must be like the following.</p>\n<pre><code>keystore &quot;file:PATH_TO_YOUR_KEYSTORE&quot;;\nkeystorePasswordURL &quot;file:PATH_TO_YOUR_KEYSTORE_PASSWORD_FILE&quot;;\n</code></pre>\n<p>For the password file you can just do this :</p>\n<pre><code>echo &quot;KEYSTORE_PASSWORD&quot; &gt; KEYSTORE_PASSWORD_FILE\n</code></pre>\n<p>Remember that this is not suitable for a production environment, but maybe it can do the trick in the context of your usage.</p>\n<p>Also, the alias used by the signedBy directive must be myTestKey here, not myUser.</p>\n"}],"owner":{"account_id":13782665,"reputation":17,"user_id":9947439,"display_name":"Luhko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643313039,"creation_date":1642690318,"question_id":70788339,"body_markdown":"I need to give full access to an user in a .policy file\r\n\r\n    keystore &quot;file:myKeystore.keystore&quot;;\r\n    \r\n    grant signedBy &quot;myUser&quot; {\r\n         permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\r\n         permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read&quot;;\r\n    };\r\n\r\nAnd i get this error :\r\n\r\n    Exception in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;user.name&quot; &quot;read&quot;)\r\n\r\nThe execution is done like that :\r\n\r\n    $ keytool -genkey -keyalg RSA -alias myTestKey -keystore myKeystore.keystore -validity 360\r\n    $ jarsigner -keystore myKeystore.keystore -verbose security-test.jar myTestKey\r\n    $ java -Djava.security.manager -Djava.security.policy=./custom-policy.policy -jar security-test.jar testfile.txt\r\n\r\nI tried to give the full path but its also not working. I also tried to remove the user to see if the .policy if working, and yes it is :\r\n\r\n       grant  {\r\n             permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\r\n             permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read&quot;;\r\n        };\r\n\r\n","title":"User in keystore cannot have permission in .policy","body":"<p>I need to give full access to an user in a .policy file</p>\n<pre><code>keystore &quot;file:myKeystore.keystore&quot;;\n\ngrant signedBy &quot;myUser&quot; {\n     permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\n     permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read&quot;;\n};\n</code></pre>\n<p>And i get this error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;user.name&quot; &quot;read&quot;)\n</code></pre>\n<p>The execution is done like that :</p>\n<pre><code>$ keytool -genkey -keyalg RSA -alias myTestKey -keystore myKeystore.keystore -validity 360\n$ jarsigner -keystore myKeystore.keystore -verbose security-test.jar myTestKey\n$ java -Djava.security.manager -Djava.security.policy=./custom-policy.policy -jar security-test.jar testfile.txt\n</code></pre>\n<p>I tried to give the full path but its also not working. I also tried to remove the user to see if the .policy if working, and yes it is :</p>\n<pre><code>   grant  {\n         permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\n         permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read&quot;;\n    };\n</code></pre>\n"},{"tags":["java","android-camera"],"answers":[{"tags":[],"owner":{"account_id":9854759,"reputation":21,"user_id":7299619,"display_name":"Hong Son"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643312888,"creation_date":1643160597,"answer_id":70857725,"question_id":70849774,"body_markdown":"OK, stumbled into the solution: as suspected, it had to do with permissions. Despite the fact that my test app had the WRITE_EXTERNAL_STORAGE, on the phone the app had no such permission, Files and media. I had to manually do it. During the initial install via Android Studio, there was no prompt for permission and at run time, the app received no errors or exceptions. Just empty folder contents which were very misleading and confusing, to say the least.\r\n\r\nAnd at some point during further debugging, the permission was removed and I had to grant it manually once again. I don&#39;t exactly know which to blame: Android 12 or Android Studio.","title":"Trying to get a full list of photos in DCIM folder","body":"<p>OK, stumbled into the solution: as suspected, it had to do with permissions. Despite the fact that my test app had the WRITE_EXTERNAL_STORAGE, on the phone the app had no such permission, Files and media. I had to manually do it. During the initial install via Android Studio, there was no prompt for permission and at run time, the app received no errors or exceptions. Just empty folder contents which were very misleading and confusing, to say the least.</p>\n<p>And at some point during further debugging, the permission was removed and I had to grant it manually once again. I don't exactly know which to blame: Android 12 or Android Studio.</p>\n"}],"owner":{"account_id":9854759,"reputation":21,"user_id":7299619,"display_name":"Hong Son"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643312888,"creation_date":1643118591,"question_id":70849774,"body_markdown":"I have tried couple of ways to access the folder:\r\n1)\r\n\t\t\r\n\r\n    File dcimDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString());\r\n\r\n2) more direct\r\n\t\t\r\n    File ais = Environment.getExternalStorageDirectory();\r\n    String mpath = ais.getAbsolutePath() + &quot;/DCIM/Camera&quot;;\r\n    File pdir = new File(mpath);\r\n\r\nBut either way, \t\t\t\r\n\r\n    fileList = pdir.listFiles();\r\n\r\nis returning zero files when there are in fact many pictures in the phone. I have verified this several ways including over FTP.\r\n\r\nmpath above evaluates to /storage/emulated/0/DCIM/Camera.\r\nWhen I tried to access /Music, it returns proper list of files.\r\nI also tried /Notifications and it also works.\r\nSo, it seems certain folders are returning empty.\r\nI am not getting any exceptions since the app has specified\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nAny ideas why only certain folders (in particular, /DCIM/Camera) is returning empty?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Trying to get a full list of photos in DCIM folder","body":"<p>I have tried couple of ways to access the folder:\n1)</p>\n<pre><code>File dcimDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString());\n</code></pre>\n<ol start=\"2\">\n<li><p>more direct</p>\n<p>File ais = Environment.getExternalStorageDirectory();\nString mpath = ais.getAbsolutePath() + &quot;/DCIM/Camera&quot;;\nFile pdir = new File(mpath);</p>\n</li>\n</ol>\n<p>But either way,</p>\n<pre><code>fileList = pdir.listFiles();\n</code></pre>\n<p>is returning zero files when there are in fact many pictures in the phone. I have verified this several ways including over FTP.</p>\n<p>mpath above evaluates to /storage/emulated/0/DCIM/Camera.\nWhen I tried to access /Music, it returns proper list of files.\nI also tried /Notifications and it also works.\nSo, it seems certain folders are returning empty.\nI am not getting any exceptions since the app has specified\n</p>\n<p>Any ideas why only certain folders (in particular, /DCIM/Camera) is returning empty?</p>\n"},{"tags":["java","gwt","binding"],"answers":[{"tags":[],"owner":{"account_id":459718,"reputation":284,"user_id":860351,"accept_rate":75,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1371260895,"creation_date":1371260895,"answer_id":17119473,"question_id":17119070,"body_markdown":"I figured it out. I had a FlexTable nested deep into my ui.xml file which was throwing the no-args error.\r\n\r\nI thought it had something to do with the root panel but I was wrong. If someone still wants to explain to me the concept of the root panel that would be much appreciated!!","title":"GWT UiBinder HTML not showing up","body":"<p>I figured it out. I had a FlexTable nested deep into my ui.xml file which was throwing the no-args error.</p>\n\n<p>I thought it had something to do with the root panel but I was wrong. If someone still wants to explain to me the concept of the root panel that would be much appreciated!!</p>\n"},{"tags":[],"owner":{"account_id":3267531,"reputation":385,"user_id":2751724,"accept_rate":0,"display_name":"Ming Leung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643312853,"creation_date":1643312853,"answer_id":70884817,"question_id":17119070,"body_markdown":"GWT RootPanel is the starting or the top most panel to which all other Widgets are attached.  RootPanels are never created directly. Rather, they are accessed via get() or get(id).\r\n\r\nI prefer to put &lt;div id=&quot;main_port&quot;&gt;&lt;/div&gt; on the root html. \r\nThen,\r\n        \r\n    public void onModuleLoad() {\r\n        RootPanel.get(&quot;main_port&quot;).add(maincontainer);\r\n        ---","title":"GWT UiBinder HTML not showing up","body":"<p>GWT RootPanel is the starting or the top most panel to which all other Widgets are attached.  RootPanels are never created directly. Rather, they are accessed via get() or get(id).</p>\n<p>I prefer to put  on the root html.\nThen,</p>\n<pre><code>public void onModuleLoad() {\n    RootPanel.get(&quot;main_port&quot;).add(maincontainer);\n    ---\n</code></pre>\n"}],"owner":{"account_id":459718,"reputation":284,"user_id":860351,"accept_rate":75,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17119473,"answer_count":2,"score":0,"last_activity_date":1643312853,"creation_date":1371256038,"question_id":17119070,"body_markdown":"working on my first GWT project and having some trouble with the UiBinder. When I load my module not even HTML is showing up, I just see a blank page.\r\nAnyone know why? What am I leaving out? \r\n\r\nI haven&#39;t grasped the concept of panels yet, is RootPanel the ScrollPanel? Or mainPanel because I gave it an identifier?\r\n\r\nedit: I&#39;ve run into the error: this panel does not support no-arg add. The error doesn&#39;t say which one though. Any tips on how to get the layout I want?\r\n\r\nThanks in advance.\r\n\r\nUiBinder class DoraTheExplora.ui.xml:\r\n\r\n    &lt;g:ScrollPanel&gt;\r\n        &lt;g:VerticalPanel ui:field=&quot;mainPanel&quot;&gt;\r\n\t    &lt;!-- Header of Dora website --&gt;\r\n\t    &lt;g:HorizontalPanel ui:field=&quot;headerPanel&quot;&gt;\r\n\t\t&lt;g:HTMLPanel styleName=&quot;{resource.style.siteHeader}&quot;&gt;\r\n\t\t    Welcome to Dora!\r\n\t\t&lt;/g:HTMLPanel&gt;\r\n    ...\r\n\r\nEntryPoint class :\r\n\r\n    ...\r\n    public void onModuleLoad() {\r\n        RootLayoutPanel.get().add(new DoraTheExplora());\r\n    }\r\n    ...\r\n\r\nDoraTheExplora class:\r\n\r\n    ...\r\n    public class DoraTheExplora extends Composite {\r\n\r\n    // UIBinder instance.\r\n    @UiTemplate(&quot;DoraTheExplora.ui.xml&quot;)\r\n    interface DoraTheExploraUiBinder extends UiBinder&lt;Widget, DoraTheExplora&gt; {\r\n    }\r\n    private static DoraTheExploraUiBinder uiBinder = GWT.create(DoraTheExploraUiBinder.class);\r\n\r\n    @UiField\r\n    VerticalPanel mainPanel;\r\n    @UiField\r\n    HorizontalPanel headerPanel;\r\n    ...\r\n    \r\n    public DoraTheExplora() {\r\n        initWidget(uiBinder.createAndBindUi(this));\r\n    ...\r\n        }\r\n    }","title":"GWT UiBinder HTML not showing up","body":"<p>working on my first GWT project and having some trouble with the UiBinder. When I load my module not even HTML is showing up, I just see a blank page.\nAnyone know why? What am I leaving out? </p>\n\n<p>I haven't grasped the concept of panels yet, is RootPanel the ScrollPanel? Or mainPanel because I gave it an identifier?</p>\n\n<p>edit: I've run into the error: this panel does not support no-arg add. The error doesn't say which one though. Any tips on how to get the layout I want?</p>\n\n<p>Thanks in advance.</p>\n\n<p>UiBinder class DoraTheExplora.ui.xml:</p>\n\n<pre><code>&lt;g:ScrollPanel&gt;\n    &lt;g:VerticalPanel ui:field=\"mainPanel\"&gt;\n    &lt;!-- Header of Dora website --&gt;\n    &lt;g:HorizontalPanel ui:field=\"headerPanel\"&gt;\n    &lt;g:HTMLPanel styleName=\"{resource.style.siteHeader}\"&gt;\n        Welcome to Dora!\n    &lt;/g:HTMLPanel&gt;\n...\n</code></pre>\n\n<p>EntryPoint class :</p>\n\n<pre><code>...\npublic void onModuleLoad() {\n    RootLayoutPanel.get().add(new DoraTheExplora());\n}\n...\n</code></pre>\n\n<p>DoraTheExplora class:</p>\n\n<pre><code>...\npublic class DoraTheExplora extends Composite {\n\n// UIBinder instance.\n@UiTemplate(\"DoraTheExplora.ui.xml\")\ninterface DoraTheExploraUiBinder extends UiBinder&lt;Widget, DoraTheExplora&gt; {\n}\nprivate static DoraTheExploraUiBinder uiBinder = GWT.create(DoraTheExploraUiBinder.class);\n\n@UiField\nVerticalPanel mainPanel;\n@UiField\nHorizontalPanel headerPanel;\n...\n\npublic DoraTheExplora() {\n    initWidget(uiBinder.createAndBindUi(this));\n...\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","google-maps","android-gallery"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643289167,"post_id":70878922,"comment_id":125303172,"body_markdown":"Should not that depend on the type of map you use?","body":"Should not that depend on the type of map you use?"},{"owner":{"account_id":24071962,"reputation":1,"user_id":18047793,"display_name":"Samuel11"},"score":0,"creation_date":1643290264,"post_id":70878922,"comment_id":125303591,"body_markdown":"We are using the MapsActivity from AndroidStudio so it&#39;s basically google maps.","body":"We are using the MapsActivity from AndroidStudio so it&#39;s basically google maps."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1643296426,"post_id":70878922,"comment_id":125306543,"body_markdown":"One clarification: do you want the markers to show as images or do you want to first click on a marker and it displays the image?","body":"One clarification: do you want the markers to show as images or do you want to first click on a marker and it displays the image?"},{"owner":{"account_id":24071962,"reputation":1,"user_id":18047793,"display_name":"Samuel11"},"score":0,"creation_date":1643309722,"post_id":70878922,"comment_id":125312182,"body_markdown":"the picture should show up by default and you can view it in full screen when you click on it.","body":"the picture should show up by default and you can view it in full screen when you click on it."}],"owner":{"account_id":24071962,"reputation":1,"user_id":18047793,"display_name":"Samuel11"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643312706,"creation_date":1643288119,"question_id":70878922,"body_markdown":"The plan is to have an app displaying the pictures of your gallery onto a map in the exact spot where the picture was taken.\r\nWe have code to load the images into an array and read the location of each image (through the Exif data).\r\n\r\nHow can you load the images onto the map without them being saved into the drawable xml file but straight out of the array they are loaded into? \r\n","title":"Load images from gallery onto MapsActivity","body":"<p>The plan is to have an app displaying the pictures of your gallery onto a map in the exact spot where the picture was taken.\nWe have code to load the images into an array and read the location of each image (through the Exif data).</p>\n<p>How can you load the images onto the map without them being saved into the drawable xml file but straight out of the array they are loaded into?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1642820164,"post_id":70809650,"comment_id":125180809,"body_markdown":"Why, because developers are lazy!  Seriously, when I started with Java, the only IDEs that were available was NotePad (or basically any other text editor), no auto completion or auto correct, so, having to type `this` a thousand times would drive you nuts fast. As to *&quot;is this Alphabets.gen_2() or this.gen_2?&quot;* it&#39;s `this.gen_2()`","body":"Why, because developers are lazy!  Seriously, when I started with Java, the only IDEs that were available was NotePad (or basically any other text editor), no auto completion or auto correct, so, having to type <code>this</code> a thousand times would drive you nuts fast. As to <i>&quot;is this Alphabets.gen_2() or this.gen_2?&quot;</i> it&#39;s <code>this.gen_2()</code>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1642820557,"post_id":70809650,"comment_id":125180856,"body_markdown":"@MadProgrammer `gen_2` in this example is static.","body":"@MadProgrammer <code>gen_2</code> in this example is static."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1642820834,"post_id":70809650,"comment_id":125180891,"body_markdown":"@ernest_k Ok, my bad then it&#39;s `Alphabets.gen_2()`","body":"@ernest_k Ok, my bad then it&#39;s <code>Alphabets.gen_2()</code>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1642820843,"post_id":70809650,"comment_id":125180892,"body_markdown":"I don&#39;t think the compiler &quot;automatically appends&quot; `this`. All that it needs to know is the target object to run non-static methods on and the class to run static methods on... And the only difference between the two is just that instance methods are executed in the context of an object. Otherwise the method linking is the same. The rest is just about how it goes about linking methods when the developer didn&#39;t explicitly qualify them, and that&#39;s just about it.","body":"I don&#39;t think the compiler &quot;automatically appends&quot; <code>this</code>. All that it needs to know is the target object to run non-static methods on and the class to run static methods on... And the only difference between the two is just that instance methods are executed in the context of an object. Otherwise the method linking is the same. The rest is just about how it goes about linking methods when the developer didn&#39;t explicitly qualify them, and that&#39;s just about it."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1642820880,"post_id":70809650,"comment_id":125180897,"body_markdown":"Because it&#39;s static, it&#39;s an `invokestatic #? // Method Alphabets.gen_2:()V`, not `aload 0; invokevirtual #? // Method Alphabets.gen_2:()V`.","body":"Because it&#39;s static, it&#39;s an <code>invokestatic #? &#47;&#47; Method Alphabets.gen_2:()V</code>, not <code>aload 0; invokevirtual #? &#47;&#47; Method Alphabets.gen_2:()V</code>."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1642820987,"post_id":70809650,"comment_id":125180910,"body_markdown":"@ernest_k In a sense, the compiler does prepend `this` - that is, it has to push the receiver of the call (`this`) on the stack, even if you don&#39;t mention `this`.","body":"@ernest_k In a sense, the compiler does prepend <code>this</code> - that is, it has to push the receiver of the call (<code>this</code>) on the stack, even if you don&#39;t mention <code>this</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642821008,"creation_date":1642821008,"answer_id":70809716,"question_id":70809650,"body_markdown":"Whenever it wouldn&#39;t compile without it. It&#39;s not so much that `javac` &#39;adds the `this.` for you&#39; - it&#39;s that `javac` will interpret a certain expression in a certain way.\r\n\r\nIn your example, `a` is equivalent to `this.a` not because &quot;java will add the `this.`&quot; - it&#39;s equivalent because just `a` and `this.a` refer to the same thing: The only `a` that is in scope. Java will look at the closest matching name in scope. Example:\r\n\r\n```\r\nint a = 2;\r\nvoid example() {\r\n  int a = 5;\r\n  {\r\n     int b = 10;\r\n     {\r\n        System.out.println(a);\r\n     }\r\n  }\r\n}\r\n```\r\n\r\n2 scopes up, there&#39;s an `a` (a local var, being assigned the value of 5). It&#39;s closer than the field. Not in literal &#39;how many lines in the source file is it removed from this line&#39;, but in the: &quot;Start looking in the nearest set of {}, if you can&#39;t find it there, look in the next set, and just keep going until you find it&quot; way.\r\n\r\nFor that reason, `gen_2()` does not &#39;generate `this.`&#39;, because that&#39;s not how you should think about it. It looks for a method named `gen_2` (why a method? Because there are parentheses hanging off of the end of it), and finds one in the `Alphabets {}` scope. That&#39;s the one it&#39;ll invoke. It&#39;ll do this in a static fashion, because the method is static. Not because java &#39;generates `Alphabets.`&#39;.\r\n","title":"Implicit use of this keyword","body":"<p>Whenever it wouldn't compile without it. It's not so much that <code>javac</code> 'adds the <code>this.</code> for you' - it's that <code>javac</code> will interpret a certain expression in a certain way.</p>\n<p>In your example, <code>a</code> is equivalent to <code>this.a</code> not because &quot;java will add the <code>this.</code>&quot; - it's equivalent because just <code>a</code> and <code>this.a</code> refer to the same thing: The only <code>a</code> that is in scope. Java will look at the closest matching name in scope. Example:</p>\n<pre><code>int a = 2;\nvoid example() {\n  int a = 5;\n  {\n     int b = 10;\n     {\n        System.out.println(a);\n     }\n  }\n}\n</code></pre>\n<p>2 scopes up, there's an <code>a</code> (a local var, being assigned the value of 5). It's closer than the field. Not in literal 'how many lines in the source file is it removed from this line', but in the: &quot;Start looking in the nearest set of {}, if you can't find it there, look in the next set, and just keep going until you find it&quot; way.</p>\n<p>For that reason, <code>gen_2()</code> does not 'generate <code>this.</code>', because that's not how you should think about it. It looks for a method named <code>gen_2</code> (why a method? Because there are parentheses hanging off of the end of it), and finds one in the <code>Alphabets {}</code> scope. That's the one it'll invoke. It'll do this in a static fashion, because the method is static. Not because java 'generates <code>Alphabets.</code>'.</p>\n"},{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642822192,"creation_date":1642822192,"answer_id":70809774,"question_id":70809650,"body_markdown":"Any programming language has to have rules about how the compiler determines the meaning of a name.  Java is no exception; its rules are [in Chapter 6 of the Java Language Specification](https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.5.2).\r\n\r\nThe full set of rules is quite elaborate, but the simplified answer to your question is: if there&#39;s an unqualified name that identifies something that is a member of the current object, and it is not obscured by a more local declaration of the same name, then the name means the member of the current object, i.e., &#39;this&#39; is implied.\r\n","title":"Implicit use of this keyword","body":"<p>Any programming language has to have rules about how the compiler determines the meaning of a name.  Java is no exception; its rules are <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.5.2\" rel=\"nofollow noreferrer\">in Chapter 6 of the Java Language Specification</a>.</p>\n<p>The full set of rules is quite elaborate, but the simplified answer to your question is: if there's an unqualified name that identifies something that is a member of the current object, and it is not obscured by a more local declaration of the same name, then the name means the member of the current object, i.e., 'this' is implied.</p>\n"}],"owner":{"account_id":23074115,"reputation":31,"user_id":17187310,"display_name":"Zen12345"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1643312402,"creation_date":1642819852,"question_id":70809650,"body_markdown":"When does Java compiler automatically append this keyword in my class?\r\n\r\n```\r\npublic class Alphabets\r\n{\r\n    int a;\r\n\r\n    public void gen_1(int b)\r\n    {\r\n        a=b;   //equivalent to this.a=b\r\n        gen_2();   //is this equivalent to Alphabets.gen_2()  or this.gen_2?\r\n    }\r\n\r\n    public static void gen_2()\r\n    {\r\n    }\r\n}\r\n```","title":"Implicit use of this keyword","body":"<p>When does Java compiler automatically append this keyword in my class?</p>\n<pre><code>public class Alphabets\n{\n    int a;\n\n    public void gen_1(int b)\n    {\n        a=b;   //equivalent to this.a=b\n        gen_2();   //is this equivalent to Alphabets.gen_2()  or this.gen_2?\n    }\n\n    public static void gen_2()\n    {\n    }\n}\n</code></pre>\n"},{"tags":["java","azure-webapps"],"comments":[{"owner":{"account_id":5564109,"reputation":1573,"user_id":4412032,"display_name":"Harshitha Veeramalla"},"score":0,"creation_date":1643279015,"post_id":70867975,"comment_id":125299275,"body_markdown":"Enter the startup command in the Portal=&gt;Your App=&gt;Configuration=&gt;General Settings.","body":"Enter the startup command in the Portal=&gt;Your App=&gt;Configuration=&gt;General Settings."},{"owner":{"account_id":5564109,"reputation":1573,"user_id":4412032,"display_name":"Harshitha Veeramalla"},"score":0,"creation_date":1643279076,"post_id":70867975,"comment_id":125299304,"body_markdown":"Please refer [this](https://blog.zuehlke.cloud/2020/03/simple-java-app-jar-in-azure-appservice/) for more details.","body":"Please refer <a href=\"https://blog.zuehlke.cloud/2020/03/simple-java-app-jar-in-azure-appservice/\" rel=\"nofollow noreferrer\">this</a> for more details."},{"owner":{"account_id":5564109,"reputation":1573,"user_id":4412032,"display_name":"Harshitha Veeramalla"},"score":0,"creation_date":1643279393,"post_id":70867975,"comment_id":125299441,"body_markdown":"Try to add CORS if there are any connections with Azure storage or any other Azure services.","body":"Try to add CORS if there are any connections with Azure storage or any other Azure services."}],"answers":[{"tags":[],"owner":{"account_id":23657861,"reputation":1,"user_id":17685852,"display_name":"sthottem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643312141,"creation_date":1643312141,"answer_id":70884692,"question_id":70867975,"body_markdown":"I was able to resolve it. I can use the default Root Domain to access my landing page by writing the following line of code into my pom.xml file.\r\n\r\n&lt;finalName&gt;ROOT&lt;/finalName&gt;\r\n\r\nThis turns war file into ROOT.war\r\n\r\nThis will in turn allow you to access war file and subsequent landing page straight from root domain url instead of with root domain url + war package + landing page name","title":"Azure App Service Java Web App Url Home Page Path Redirect","body":"<p>I was able to resolve it. I can use the default Root Domain to access my landing page by writing the following line of code into my pom.xml file.</p>\n<p>ROOT</p>\n<p>This turns war file into ROOT.war</p>\n<p>This will in turn allow you to access war file and subsequent landing page straight from root domain url instead of with root domain url + war package + landing page name</p>\n"}],"owner":{"account_id":23657861,"reputation":1,"user_id":17685852,"display_name":"sthottem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643312141,"creation_date":1643219191,"question_id":70867975,"body_markdown":"I deployed a java webapp onto App Service. App service has a default url \r\n(ntpqe-nprd--tots-as.azurewebsites.net) provided but when I enter it, it says Http 404 , No resources Found. \r\n\r\nWhen I add paths after the default url: \r\nntpqe-nprd--tots-as.azurewebsites.net/MLT-0.0.1-SNAPSHOT/migration\r\n\r\nThe webapp landing page opens up and I can access web app.\r\n\r\nWhat I want to know is how to access the web app landing page with just the app service default URL: ntpqe-nprd--tots-as.azurewebsites.net\r\n\r\nWithout the subsequent paths after it.","title":"Azure App Service Java Web App Url Home Page Path Redirect","body":"<p>I deployed a java webapp onto App Service. App service has a default url\n(ntpqe-nprd--tots-as.azurewebsites.net) provided but when I enter it, it says Http 404 , No resources Found.</p>\n<p>When I add paths after the default url:\nntpqe-nprd--tots-as.azurewebsites.net/MLT-0.0.1-SNAPSHOT/migration</p>\n<p>The webapp landing page opens up and I can access web app.</p>\n<p>What I want to know is how to access the web app landing page with just the app service default URL: ntpqe-nprd--tots-as.azurewebsites.net</p>\n<p>Without the subsequent paths after it.</p>\n"},{"tags":["java","spring-boot","completable-future","downcast"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643312233,"post_id":70883618,"comment_id":125313051,"body_markdown":"The text mentions `AccountDetailWithMessages` whereas the code uses `AccountDetailWithAlerts` – as I wasn’t sure I didn’t change it.","body":"The text mentions <code>AccountDetailWithMessages</code> whereas the code uses <code>AccountDetailWithAlerts</code> – as I wasn’t sure I didn’t change it."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643312387,"post_id":70883618,"comment_id":125313108,"body_markdown":"Note that even if the method returns a `ResponseEntity&lt;CompanyResponse&lt;AccountDetail&gt;&gt;`, if the real object is an `AccountDetailWithAlerts` the HTTP response will still contain all its fields, including the alerts, so if there is no other reason to use `AccountDetail` there, it would seem simpler to just declare the response with `AccountDetailWithAlerts`.","body":"Note that even if the method returns a <code>ResponseEntity&lt;CompanyResponse&lt;AccountDetail&gt;&gt;</code>, if the real object is an <code>AccountDetailWithAlerts</code> the HTTP response will still contain all its fields, including the alerts, so if there is no other reason to use <code>AccountDetail</code> there, it would seem simpler to just declare the response with <code>AccountDetailWithAlerts</code>."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643312886,"post_id":70883618,"comment_id":125313278,"body_markdown":"What’s really missing in the question though is what problem do you have exactly with the conversion – you have a `CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt;` that you transform into a `CompanyResponse&lt;AccountDetail&gt;`, so what issue do you have creating that `new CompanyResponse&lt;AccountDetail&gt;()`? I fear that you didn’t test the code in your question when trying to make it a true [mre], and it is too different from your actual code.","body":"What’s really missing in the question though is what problem do you have exactly with the conversion – you have a <code>CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt;</code> that you transform into a <code>CompanyResponse&lt;AccountDetail&gt;</code>, so what issue do you have creating that <code>new CompanyResponse&lt;AccountDetail&gt;()</code>? I fear that you didn’t test the code in your question when trying to make it a true <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and it is too different from your actual code."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643313036,"post_id":70883618,"comment_id":125313344,"body_markdown":"Side note, concerning your `supplyAsync()` calls, you should look towards Spring `@Async`. Maybe [this question](https://stackoverflow.com/q/44685187/525036) can help.","body":"Side note, concerning your <code>supplyAsync()</code> calls, you should look towards Spring <code>@Async</code>. Maybe <a href=\"https://stackoverflow.com/q/44685187/525036\">this question</a> can help."}],"owner":{"account_id":10073835,"reputation":787,"user_id":7446623,"accept_rate":5,"display_name":"apex2022"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643312062,"creation_date":1643306909,"question_id":70883618,"body_markdown":"I have the following classes:\r\n\r\n    public class AccountDetail {\r\n        private String accountNumber;\r\n        private Date effectiveDate;\r\n        private String status;\r\n        // a bunch of other properties\r\n    }\r\n\r\n    public class AccountDetailWithAlerts extends AccountDetail {\r\n        private LowMediumAlerts alerts;\r\n    }\r\n\r\n    public class AccountsAndAlerts {\r\n        private List&lt;AccountDetailWithAlerts&gt; accounts;\r\n        private HighCustomerAccountAlerts accountAlerts;\r\n        // getters and setters\r\n    }\r\n\r\n    public class CustomerAndAccountAlerts {\r\n        private List&lt;AlertMessage&gt; customerAlerts;\r\n        private List&lt;AccountAlertMessages&gt; accountAlerts;\r\n    }\r\n\r\n    public Class CompanyResponse&lt;T&gt; {\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        private T response;\r\n        // other things that aren&#39;t relevant\r\n    }\r\n    \r\nI have a controller, AccountsController, that does a @GetMapping and has a ResponseEntity method:\r\n\r\n    public ResponseEntity&lt;CompanyResponse&lt;AccountsAndAlerts&gt; getAccountDetails {\r\n        @RequestParam MultiValueMap&lt;String, String&gt; queryParms,\r\n        // some @ApiParams for client-header, end-user-id &amp; accountNumber\r\n        String accountId = queryParms.getFirst(&quot;accountId&quot;);\r\n        // setting RestHeaders, contentType\r\n\r\n        CompanyResponse&lt;AccountsAndAlerts&gt; response = accountDetailService.getAccountsWithAlerts(restHeaders, accountNumber, queryParms, accountId);\r\n        return new ResponseEntity&lt;CompanyResponse&lt;AccountsAndAlerts&gt;&gt;(response, headers, HttpStatus.valueOf(response.getStatus()));\r\n    }\r\n\r\nHere is the method in accountDetailService:\r\n\r\n    public CompanyResponse&lt;AccountsAndAlerts&gt; getAccountsWithAlerts(RestHeaders restHeaders, String accountNumber, MultiValueMap&lt;String, String&gt; queryParms, String accountId) throws... {\r\n        CompanyResponse&lt;AccountsAndAlerts&gt; newResponse = new CompanyResponse&lt;AccountsAndAlerts&gt;();\r\n        try {\r\n            CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt; accountsFuture = accountDetails.getAccounts(newResponse, restHeaders, accountNumber, queryParms);\r\n            CompletableFuture&lt;CustomerAndAccountAlerts&gt; alertsFuture = accountDetails.getAlerts(newResponse, restHeaders, accountId);\r\n\r\n            accountsFuture.thenAcceptBoth(alertsFuture, (s1, s2) -&gt; newResponse.setResponse(getResponse(s1, s2))).get();\r\n        } catch {\r\n            // catch code\r\n        }\r\n        return newResponse;\r\n    }\r\n\r\nFinally, the getAccounts method in AccountDetails:\r\n\r\n    public CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt; getAccounts(CompanyResponse&lt;AccountsAndAlerts&gt; newResponse, RestHeaders restHeaders, String accountNumber, MultiValueMap&lt;String, String&gt; queryParms) throws ... {\r\n        // this has the restTemplate and the .supplyAsync()\r\n}\r\n\r\nWhat I need to do is create a new ResponseEntityMethod in the Controller:\r\n\r\n    public ResponseEntity&lt;CompanyResponse&lt;AccountDetail&gt; getCertainAccountDetails\r\n\r\nI have put in a return of that type, and I am attempting to create a new method in the `accountDetailService`, `getCertainAccounts()`.\r\n\r\nThe problem is trying to set this all up without creating a whole other `CompletableFuture` method with an invoke and `supplyAsync()` and `restTemplate` and such.\r\n\r\nIt appears that I still need to call `getAccounts()`, but then I have to somewhere along this line downcast the `AccountDetailWithMessages` to `AccountDetail`. I don&#39;t know if I can somehow downcast `CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt;` to `CompletableFuture&lt;List&lt;AccountDetail&gt;&gt;` or how to do it, or if I really need to downcast `CompanyResponse&lt;AccountsAndAlerts&gt;` or how to do that. \r\n\r\nCan anyone help?\r\n\r\nPS. I changed the names of everything to protect my Company&#39;s code. If you see errors in methods or names or anything, please be assured that is not an issue and is just the result of my typing things out instead of copying and pasting. The only issue is how to do the downcasting.\r\n\r\nThanks!\r\n\r\nPPS. In case it wasn&#39;t clear, with my new method and code I do not want to get the alerts. I am trying to get account details only without alerts.","title":"Downcasting a CompletableFuture&#39;s object type - Java/Spring Boot","body":"<p>I have the following classes:</p>\n<pre><code>public class AccountDetail {\n    private String accountNumber;\n    private Date effectiveDate;\n    private String status;\n    // a bunch of other properties\n}\n\npublic class AccountDetailWithAlerts extends AccountDetail {\n    private LowMediumAlerts alerts;\n}\n\npublic class AccountsAndAlerts {\n    private List&lt;AccountDetailWithAlerts&gt; accounts;\n    private HighCustomerAccountAlerts accountAlerts;\n    // getters and setters\n}\n\npublic class CustomerAndAccountAlerts {\n    private List&lt;AlertMessage&gt; customerAlerts;\n    private List&lt;AccountAlertMessages&gt; accountAlerts;\n}\n\npublic Class CompanyResponse&lt;T&gt; {\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    private T response;\n    // other things that aren't relevant\n}\n</code></pre>\n<p>I have a controller, AccountsController, that does a @GetMapping and has a ResponseEntity method:</p>\n<pre><code>public ResponseEntity&lt;CompanyResponse&lt;AccountsAndAlerts&gt; getAccountDetails {\n    @RequestParam MultiValueMap&lt;String, String&gt; queryParms,\n    // some @ApiParams for client-header, end-user-id &amp; accountNumber\n    String accountId = queryParms.getFirst(&quot;accountId&quot;);\n    // setting RestHeaders, contentType\n\n    CompanyResponse&lt;AccountsAndAlerts&gt; response = accountDetailService.getAccountsWithAlerts(restHeaders, accountNumber, queryParms, accountId);\n    return new ResponseEntity&lt;CompanyResponse&lt;AccountsAndAlerts&gt;&gt;(response, headers, HttpStatus.valueOf(response.getStatus()));\n}\n</code></pre>\n<p>Here is the method in accountDetailService:</p>\n<pre><code>public CompanyResponse&lt;AccountsAndAlerts&gt; getAccountsWithAlerts(RestHeaders restHeaders, String accountNumber, MultiValueMap&lt;String, String&gt; queryParms, String accountId) throws... {\n    CompanyResponse&lt;AccountsAndAlerts&gt; newResponse = new CompanyResponse&lt;AccountsAndAlerts&gt;();\n    try {\n        CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt; accountsFuture = accountDetails.getAccounts(newResponse, restHeaders, accountNumber, queryParms);\n        CompletableFuture&lt;CustomerAndAccountAlerts&gt; alertsFuture = accountDetails.getAlerts(newResponse, restHeaders, accountId);\n\n        accountsFuture.thenAcceptBoth(alertsFuture, (s1, s2) -&gt; newResponse.setResponse(getResponse(s1, s2))).get();\n    } catch {\n        // catch code\n    }\n    return newResponse;\n}\n</code></pre>\n<p>Finally, the getAccounts method in AccountDetails:</p>\n<pre><code>public CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt; getAccounts(CompanyResponse&lt;AccountsAndAlerts&gt; newResponse, RestHeaders restHeaders, String accountNumber, MultiValueMap&lt;String, String&gt; queryParms) throws ... {\n    // this has the restTemplate and the .supplyAsync()\n</code></pre>\n<p>}</p>\n<p>What I need to do is create a new ResponseEntityMethod in the Controller:</p>\n<pre><code>public ResponseEntity&lt;CompanyResponse&lt;AccountDetail&gt; getCertainAccountDetails\n</code></pre>\n<p>I have put in a return of that type, and I am attempting to create a new method in the <code>accountDetailService</code>, <code>getCertainAccounts()</code>.</p>\n<p>The problem is trying to set this all up without creating a whole other <code>CompletableFuture</code> method with an invoke and <code>supplyAsync()</code> and <code>restTemplate</code> and such.</p>\n<p>It appears that I still need to call <code>getAccounts()</code>, but then I have to somewhere along this line downcast the <code>AccountDetailWithMessages</code> to <code>AccountDetail</code>. I don't know if I can somehow downcast <code>CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt;</code> to <code>CompletableFuture&lt;List&lt;AccountDetail&gt;&gt;</code> or how to do it, or if I really need to downcast <code>CompanyResponse&lt;AccountsAndAlerts&gt;</code> or how to do that.</p>\n<p>Can anyone help?</p>\n<p>PS. I changed the names of everything to protect my Company's code. If you see errors in methods or names or anything, please be assured that is not an issue and is just the result of my typing things out instead of copying and pasting. The only issue is how to do the downcasting.</p>\n<p>Thanks!</p>\n<p>PPS. In case it wasn't clear, with my new method and code I do not want to get the alerts. I am trying to get account details only without alerts.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1465191,"reputation":1315,"user_id":1378268,"accept_rate":65,"display_name":"Kode Charlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643256198,"creation_date":1643256198,"answer_id":70873198,"question_id":70872200,"body_markdown":"First, straighten out your IDs for `MsgRetry`.  The FK should be good enough.\r\n\r\n    @Entity\r\n    @Table(name = &quot;msg_retry&quot;)\r\n    public class MsgRetry {\r\n        @Id\r\n        @ManyToOne(optional = false)\r\n        @JoinColumn(name = &quot;msg_id&quot;)\r\n        private Msg msg;\r\n        \r\n        @Column(name = &quot;count&quot;)\r\n        private Long count;\r\n        \r\n        @Generated(value = GenerationTime.ALWAYS)\r\n        @Column(name = &quot;timestamp&quot;)\r\n        private Date timestamp;\r\n        \r\n        public Msg getMsg() { return msg; }\r\n             \r\n        public void setMsg(Msg msg) { this.msg = msg; }\r\n    }\r\n\r\nNext, be sure `MsgRetryRepository` is properly sub-classed:\r\n\r\n    public interface MsgRetryRepository extends CrudRepository&lt;MsgRetry, Msg&gt;\r\n    {\r\n      // Empty for now\r\n    }\r\n\r\nLastly, query the `MsgRetry` in the right way:\r\n\r\n    public class BizLogic {\r\n    \r\n        MsgRetryRepository retryRepo\r\n        \r\n        public MsgRetry retry(Msg msg, String msgStatus) {\r\n        \r\n            MsgRetry mr = retryRepo.findById(msg);        \r\n            if (mr !=null) {\r\n                // XXX I cannot tell from your logic what you are doing here.\r\n                retryRepo.save(mr);\r\n            }   \r\n        }\r\n    }\r\n\r\nWhat is your persistence layer?  Maybe you can turn on debugging and visit the logs to see what is happening under the hood.","title":"Hibernate - Persisting child entity containing parent entity","body":"<p>First, straighten out your IDs for <code>MsgRetry</code>.  The FK should be good enough.</p>\n<pre><code>@Entity\n@Table(name = &quot;msg_retry&quot;)\npublic class MsgRetry {\n    @Id\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;msg_id&quot;)\n    private Msg msg;\n    \n    @Column(name = &quot;count&quot;)\n    private Long count;\n    \n    @Generated(value = GenerationTime.ALWAYS)\n    @Column(name = &quot;timestamp&quot;)\n    private Date timestamp;\n    \n    public Msg getMsg() { return msg; }\n         \n    public void setMsg(Msg msg) { this.msg = msg; }\n}\n</code></pre>\n<p>Next, be sure <code>MsgRetryRepository</code> is properly sub-classed:</p>\n<pre><code>public interface MsgRetryRepository extends CrudRepository&lt;MsgRetry, Msg&gt;\n{\n  // Empty for now\n}\n</code></pre>\n<p>Lastly, query the <code>MsgRetry</code> in the right way:</p>\n<pre><code>public class BizLogic {\n\n    MsgRetryRepository retryRepo\n    \n    public MsgRetry retry(Msg msg, String msgStatus) {\n    \n        MsgRetry mr = retryRepo.findById(msg);        \n        if (mr !=null) {\n            // XXX I cannot tell from your logic what you are doing here.\n            retryRepo.save(mr);\n        }   \n    }\n}\n</code></pre>\n<p>What is your persistence layer?  Maybe you can turn on debugging and visit the logs to see what is happening under the hood.</p>\n"}],"owner":{"account_id":5661669,"reputation":13,"user_id":4479129,"display_name":"zzDevzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643312044,"creation_date":1643246399,"question_id":70872200,"body_markdown":"Getting errors while trying to persist child entity (MsgRetry) when trying to get an entity of parent entity (Msg) where the parent PK (msg_id) is the FK in the child entity.\r\n\r\nErrors like: org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property\r\n\r\nThe parent entity, does not need to know about the child entity (at least i don&#39;t think it needs to, to work). Once the child entity is persisted I&#39;m trying to also persist the parent entity. I can work around this by not having the parent entity in the child entity and the call the associated repositories. However, I don&#39;t think it&#39;s as clean as what I&#39;m attempting but obviously more difficult/ complex.\r\n\r\nThanks for any advice on best practices or how to achieve this if this is a good solution.\r\n\r\ntables:\r\n\r\n| msg | |\r\n| - | - |\r\n| msg_id| pk |\r\n| msg_status| msg_status |\r\n\r\n\r\n| msg_retry | |\r\n| - | - |\r\n| msg_id | fk |\r\n| count   | |\r\n| timestamp | |\r\n\r\nmodel:\r\n\r\n    \r\n```\r\n@Entity\r\n@Table(name=&quot;msg&quot;)\r\npublic class Msg {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;msg_id&quot;)\r\n\t@GeneratedValue(strategy = generationtype.sequence, generator = &quot;msg_id_seq_gen&quot;)\r\n\t@SequenceGenerator(name = &quot;msg_id_seq_gen&quot;, sequencename = &quot;msg_id_seq&quot;, allocationsize = 1)\r\n\tprivate Long msgId;\r\n\t\r\n\t@Column(name = &quot;msg_status&quot;, nullable = false)\r\n\tprivate String msgStatus;\r\n\t\r\n\t...\r\n\t\r\n\t//getters setters\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;msg_retry&quot;)\r\npublic class MsgRetry implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = -7637385223556379976L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;msg_id&quot;)\r\n\tprivate Long msgId;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name=&quot;msg_id&quot;, referencedColumnName = &quot;msg_id&quot;)\r\n\tprivate Msg msg;\r\n\t\r\n\t@Column(name = &quot;count&quot;)\r\n\tprivate Long count;\r\n\t\r\n\t@Generated(value = GenerationTime.ALWAYS)\r\n\t@Column(name = &quot;timestamp&quot;)\r\n\tprivate Date timestamp;\r\n\t\r\n\t\r\n\t\r\n\tpublic MsgRetry() {\r\n\t}\r\n\r\n\tpublic MsgRetry(Msg msg, Long count) {\r\n\t\tthis.msg = msg;\r\n\t\tthis.count = count;\r\n\t}\r\n\t\r\n\tpublic MsgRetry(Long msgId, Long count) {\r\n\t\tthis.msgId = msgId;\r\n\t\tthis.count = count;\r\n\t}\r\n\t\r\n\tpublic Msg getMsg() {\r\n\t\treturn msg;\r\n\t}\r\n\r\n\tpublic void setMsg(Msg msg) {\r\n\t\tthis.msg = msg;\r\n\t}\r\n```\r\n```\r\n@Repository\r\npublic interface MsgRetryRepository extends JpaRepository&lt;MsgRetry, Long&gt;{\r\n\r\n}\r\n```\r\n\r\n```\r\n@Test\r\n\tpublic void testSaveMsgByMsgIdRetry() {\r\n\t\t\r\n\t\tmsgRetryRepository.deleteAll();\r\n\t\tList&lt;Msg&gt; msgs = msgRepository.findAll();\r\n\t\t\r\n\t\tMsgRetry msgRetry = new MsgRetry(msgs.get(0).getMsgId(), 1L);\r\n\t\t\r\n\t\tmsgRetry = msgRetryRepository.save(msgRetry);\r\n\t\tassertNotNull(msgRetry.getMsg());  // fails to load Msg entity\r\n\t\tLOG.info(&quot;msgRetry: {}&quot;, msgRetry);\r\n\t}\r\n```\r\n\r\n```\r\n@Test\r\n\tpublic void testSaveMsgRetryByMsg() {\r\n\t\t\r\n\t\tmsgRetryRepository.deleteAll();\r\n\t\tList&lt;Msg&gt; msgs = msgRepository.findAll();\r\n\t\t\r\n\t\tMsgRetry msgRetry = new MsgRetry(msgs.get(0), 1L);\r\n\t\t\r\n\t\tmsgRetry = msgRetryRepository.save(msgRetry);\r\n\t\tassertNotNull(msgRetry.getMsg());\r\n\t\tLOG.info(&quot;msgRetry: {}&quot;, msgRetry);\r\n\t}\r\n```\r\nErrors out: org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): msgtest.MsgRetry; ","title":"Hibernate - Persisting child entity containing parent entity","body":"<p>Getting errors while trying to persist child entity (MsgRetry) when trying to get an entity of parent entity (Msg) where the parent PK (msg_id) is the FK in the child entity.</p>\n<p>Errors like: org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property</p>\n<p>The parent entity, does not need to know about the child entity (at least i don't think it needs to, to work). Once the child entity is persisted I'm trying to also persist the parent entity. I can work around this by not having the parent entity in the child entity and the call the associated repositories. However, I don't think it's as clean as what I'm attempting but obviously more difficult/ complex.</p>\n<p>Thanks for any advice on best practices or how to achieve this if this is a good solution.</p>\n<p>tables:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>msg</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>msg_id</td>\n<td>pk</td>\n</tr>\n<tr>\n<td>msg_status</td>\n<td>msg_status</td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>msg_retry</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>msg_id</td>\n<td>fk</td>\n</tr>\n<tr>\n<td>count</td>\n<td></td>\n</tr>\n<tr>\n<td>timestamp</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>model:</p>\n<pre><code>@Entity\n@Table(name=&quot;msg&quot;)\npublic class Msg {\n    \n    @Id\n    @Column(name = &quot;msg_id&quot;)\n    @GeneratedValue(strategy = generationtype.sequence, generator = &quot;msg_id_seq_gen&quot;)\n    @SequenceGenerator(name = &quot;msg_id_seq_gen&quot;, sequencename = &quot;msg_id_seq&quot;, allocationsize = 1)\n    private Long msgId;\n    \n    @Column(name = &quot;msg_status&quot;, nullable = false)\n    private String msgStatus;\n    \n    ...\n    \n    //getters setters\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;msg_retry&quot;)\npublic class MsgRetry implements Serializable{\n\n    private static final long serialVersionUID = -7637385223556379976L;\n\n    @Id\n    @Column(name = &quot;msg_id&quot;)\n    private Long msgId;\n    \n    @OneToOne\n    @JoinColumn(name=&quot;msg_id&quot;, referencedColumnName = &quot;msg_id&quot;)\n    private Msg msg;\n    \n    @Column(name = &quot;count&quot;)\n    private Long count;\n    \n    @Generated(value = GenerationTime.ALWAYS)\n    @Column(name = &quot;timestamp&quot;)\n    private Date timestamp;\n    \n    \n    \n    public MsgRetry() {\n    }\n\n    public MsgRetry(Msg msg, Long count) {\n        this.msg = msg;\n        this.count = count;\n    }\n    \n    public MsgRetry(Long msgId, Long count) {\n        this.msgId = msgId;\n        this.count = count;\n    }\n    \n    public Msg getMsg() {\n        return msg;\n    }\n\n    public void setMsg(Msg msg) {\n        this.msg = msg;\n    }\n</code></pre>\n<pre><code>@Repository\npublic interface MsgRetryRepository extends JpaRepository&lt;MsgRetry, Long&gt;{\n\n}\n</code></pre>\n<pre><code>@Test\n    public void testSaveMsgByMsgIdRetry() {\n        \n        msgRetryRepository.deleteAll();\n        List&lt;Msg&gt; msgs = msgRepository.findAll();\n        \n        MsgRetry msgRetry = new MsgRetry(msgs.get(0).getMsgId(), 1L);\n        \n        msgRetry = msgRetryRepository.save(msgRetry);\n        assertNotNull(msgRetry.getMsg());  // fails to load Msg entity\n        LOG.info(&quot;msgRetry: {}&quot;, msgRetry);\n    }\n</code></pre>\n<pre><code>@Test\n    public void testSaveMsgRetryByMsg() {\n        \n        msgRetryRepository.deleteAll();\n        List&lt;Msg&gt; msgs = msgRepository.findAll();\n        \n        MsgRetry msgRetry = new MsgRetry(msgs.get(0), 1L);\n        \n        msgRetry = msgRetryRepository.save(msgRetry);\n        assertNotNull(msgRetry.getMsg());\n        LOG.info(&quot;msgRetry: {}&quot;, msgRetry);\n    }\n</code></pre>\n<p>Errors out: org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): msgtest.MsgRetry;</p>\n"},{"tags":["java","user-interface","colors","fonts"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643297278,"post_id":70879718,"comment_id":125306908,"body_markdown":"Did my suggestion work for you?","body":"Did my suggestion work for you?"},{"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"score":0,"creation_date":1643298997,"post_id":70879718,"comment_id":125307694,"body_markdown":"Thanks a lot. Though it returned dialog as the font name, the font in practice is Ubuntu Bold. I wonder why it&#39;s not reading it as such.","body":"Thanks a lot. Though it returned dialog as the font name, the font in practice is Ubuntu Bold. I wonder why it&#39;s not reading it as such."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643299090,"post_id":70879718,"comment_id":125307748,"body_markdown":"Yeah, I am not sure why. I will do a bit more digging and will update the answer if I find anything.","body":"Yeah, I am not sure why. I will do a bit more digging and will update the answer if I find anything."},{"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"score":0,"creation_date":1643299123,"post_id":70879718,"comment_id":125307761,"body_markdown":"Thanks a lot @hfontanez","body":"Thanks a lot @hfontanez"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643300687,"post_id":70879718,"comment_id":125308468,"body_markdown":"Are you running this code on an Ubuntu or in Windows?","body":"Are you running this code on an Ubuntu or in Windows?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643301357,"post_id":70879718,"comment_id":125308780,"body_markdown":"This is a mystery. I ran code that set the font on the `Graphics2D` object to _Serif_ and yet, when I queried the `BufferedImage` object to give me the font name set in the object, it still returns _Dialog_. Funny thing is that _Serif_ is one of the logical fonts in Java, so I don&#39;t get why it will fail.","body":"This is a mystery. I ran code that set the font on the <code>Graphics2D</code> object to <i>Serif</i> and yet, when I queried the <code>BufferedImage</code> object to give me the font name set in the object, it still returns <i>Dialog</i>. Funny thing is that <i>Serif</i> is one of the logical fonts in Java, so I don&#39;t get why it will fail."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643302659,"post_id":70879718,"comment_id":125309385,"body_markdown":"I am asking this question... This is bothering me too much.","body":"I am asking this question... This is bothering me too much."},{"owner":{"account_id":14333824,"reputation":121,"user_id":10353914,"display_name":"theMahaloRecords"},"score":0,"creation_date":1643306014,"post_id":70879718,"comment_id":125310807,"body_markdown":"Ist there any particula reason for doing it with a screenshot? Why do you not read the font from the webpage itself through the Selenium Driver?","body":"Ist there any particula reason for doing it with a screenshot? Why do you not read the font from the webpage itself through the Selenium Driver?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643309350,"post_id":70879718,"comment_id":125312064,"body_markdown":"@ken4ward I just asked this question https://stackoverflow.com/questions/70882734/font-face-value-returns-unexpected-value-dialog-from-image. Check out the comments. It&#39;s a nightmare!","body":"@ken4ward I just asked this question <a href=\"https://stackoverflow.com/questions/70882734/font-face-value-returns-unexpected-value-dialog-from-image\" title=\"font face value returns unexpected value dialog from image\">stackoverflow.com/questions/70882734/&hellip;</a>. Check out the comments. It&#39;s a nightmare!"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643315424,"post_id":70879718,"comment_id":125314078,"body_markdown":"@ken4ward you won&#39;t be able to access the Font information unless you save it yourself. Read the link to the question I asked. I posted an answer myself. It simply can&#39;t be done.","body":"@ken4ward you won&#39;t be able to access the Font information unless you save it yourself. Read the link to the question I asked. I posted an answer myself. It simply can&#39;t be done."},{"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"score":0,"creation_date":1643356487,"post_id":70879718,"comment_id":125322482,"body_markdown":"@hfontanez Thanks a lot. Actually, I&#39;m running Appium mobile test that cannot access the. information directly, that&#39;s the reason I used to try to analyze screenshots.","body":"@hfontanez Thanks a lot. Actually, I&#39;m running Appium mobile test that cannot access the. information directly, that&#39;s the reason I used to try to analyze screenshots."},{"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"score":0,"creation_date":1643356521,"post_id":70879718,"comment_id":125322495,"body_markdown":"I see. The reason it&#39;s made private got me thinking, why?","body":"I see. The reason it&#39;s made private got me thinking, why?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643311913,"creation_date":1643292741,"answer_id":70880034,"question_id":70879718,"body_markdown":"You can try this\r\n```\r\nGraphics g = image.getGraphics(); //using the BufferedImage from your example\r\nSystem.out.println(g.getFont().getFamily()); // For me, it displays &quot;Dialog&quot; which is one of the logical fonts according to https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\r\ng.dispose();\r\n```\r\n\r\n**UPDATE**:\r\n\r\n`image.getGraphics()` doesn&#39;t return the `Graphics2D` object that was used to create the overlay. It actually creates a new graphics object and returns it. Two of the subclasses of `Graphics2D` actually hold a delegate object that apparently holds this info. Unfortunately, these subclasses of `Graphics2D` are in the `sun` package which is now restricted. Therefore, this information seems to be inaccessible. If you require the `Font` that was used for the overlay, you may have no choice but to cache this information in some &quot;overlay config&quot; object.\r\n\r\n","title":"Get font name and color of an image using java","body":"<p>You can try this</p>\n<pre><code>Graphics g = image.getGraphics(); //using the BufferedImage from your example\nSystem.out.println(g.getFont().getFamily()); // For me, it displays &quot;Dialog&quot; which is one of the logical fonts according to https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\ng.dispose();\n</code></pre>\n<p><strong>UPDATE</strong>:</p>\n<p><code>image.getGraphics()</code> doesn't return the <code>Graphics2D</code> object that was used to create the overlay. It actually creates a new graphics object and returns it. Two of the subclasses of <code>Graphics2D</code> actually hold a delegate object that apparently holds this info. Unfortunately, these subclasses of <code>Graphics2D</code> are in the <code>sun</code> package which is now restricted. Therefore, this information seems to be inaccessible. If you require the <code>Font</code> that was used for the overlay, you may have no choice but to cache this information in some &quot;overlay config&quot; object.</p>\n"}],"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70880034,"answer_count":1,"score":0,"last_activity_date":1643311913,"creation_date":1643291521,"question_id":70879718,"body_markdown":"I am presently running an automation UI test, part of the checks is to make sure the background color, font color and the font-family used are consistent throughout the app. The code takes a snapshot of screen or element and checks the background color, but I&#39;m unable to check the font-family and font color. I have a code to check the background color, which works great. Is there a way to get the font-family and color? Is there any Java library that does that?\r\n\r\nI have attached a sample image. The image background color is white that is detected by the code below. \r\n\r\nThis code checks the background-color\r\n\r\n    public void checkBackgroundColor(String mobileElement, String saveReadFile, String hexValue) throws IOException {\r\n            MobileElement elem = (MobileElement) getMobileDriver().findElement(By.xpath(mobileElement));\r\n            File scrFile = elem.getScreenshotAs(OutputType.FILE);\r\n            FileUtils.copyFile(scrFile, new File(saveReadFile));\r\n            File savedFile = new File(saveReadFile);\r\n            BufferedImage image = ImageIO.read( savedFile);\r\n            org.openqa.selenium.Point point = elem.getCenter();\r\n            org.openqa.selenium.Point location = elem.getLocation();\r\n            Dimension size = elem.getSize();\r\n    \r\n            MyLogger.info(&quot;Point X is  &quot; + point.getX() +&quot;    Point Y is  &quot; + point.getY());\r\n            MyLogger.info(&quot;Location X is  &quot; + location.getX() +&quot;   Location Y is  &quot; + location.getY());\r\n            MyLogger.info(&quot;Size Height is  &quot; + size.getHeight() +&quot;   Size width is  &quot; + size.getWidth());\r\n    \r\n            // Getting pixel color by position x and y\r\n            int h = (int) Math.round(size.getWidth() * 0.2);\r\n            int w = (int) Math.round(size.getHeight() * 0.8);\r\n            int clr=  image.getRGB(h , w);\r\n            int  r   = (clr &amp; 0x00ff0000) &gt;&gt; 16;\r\n            int  g = (clr &amp; 0x0000ff00) &gt;&gt; 8;\r\n            int  b =  clr &amp; 0x000000ff;\r\n    \r\n            String hex = String.format(&quot;#%02x%02x%02x&quot;, r, g, b);\r\n            if (hex.equalsIgnoreCase(hexValue)){\r\n                MyLogger.info(&quot;Actual value  &quot;+ hexValue +&quot;   of  &quot; +buttons+savedFile.getName()  +&quot;  is equals to the expected value  &quot; +hex);\r\n            } else {\r\n                MyLogger.info(&quot;Actual value  &quot;+ hexValue  +&quot;   of  &quot; +buttons+savedFile.getName() +&quot;  is is not equals to the expected value  &quot; +hex);\r\n            }\r\n        }\r\n[![font color and family][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3p1c.png","title":"Get font name and color of an image using java","body":"<p>I am presently running an automation UI test, part of the checks is to make sure the background color, font color and the font-family used are consistent throughout the app. The code takes a snapshot of screen or element and checks the background color, but I'm unable to check the font-family and font color. I have a code to check the background color, which works great. Is there a way to get the font-family and color? Is there any Java library that does that?</p>\n<p>I have attached a sample image. The image background color is white that is detected by the code below.</p>\n<p>This code checks the background-color</p>\n<pre><code>public void checkBackgroundColor(String mobileElement, String saveReadFile, String hexValue) throws IOException {\n        MobileElement elem = (MobileElement) getMobileDriver().findElement(By.xpath(mobileElement));\n        File scrFile = elem.getScreenshotAs(OutputType.FILE);\n        FileUtils.copyFile(scrFile, new File(saveReadFile));\n        File savedFile = new File(saveReadFile);\n        BufferedImage image = ImageIO.read( savedFile);\n        org.openqa.selenium.Point point = elem.getCenter();\n        org.openqa.selenium.Point location = elem.getLocation();\n        Dimension size = elem.getSize();\n\n        MyLogger.info(&quot;Point X is  &quot; + point.getX() +&quot;    Point Y is  &quot; + point.getY());\n        MyLogger.info(&quot;Location X is  &quot; + location.getX() +&quot;   Location Y is  &quot; + location.getY());\n        MyLogger.info(&quot;Size Height is  &quot; + size.getHeight() +&quot;   Size width is  &quot; + size.getWidth());\n\n        // Getting pixel color by position x and y\n        int h = (int) Math.round(size.getWidth() * 0.2);\n        int w = (int) Math.round(size.getHeight() * 0.8);\n        int clr=  image.getRGB(h , w);\n        int  r   = (clr &amp; 0x00ff0000) &gt;&gt; 16;\n        int  g = (clr &amp; 0x0000ff00) &gt;&gt; 8;\n        int  b =  clr &amp; 0x000000ff;\n\n        String hex = String.format(&quot;#%02x%02x%02x&quot;, r, g, b);\n        if (hex.equalsIgnoreCase(hexValue)){\n            MyLogger.info(&quot;Actual value  &quot;+ hexValue +&quot;   of  &quot; +buttons+savedFile.getName()  +&quot;  is equals to the expected value  &quot; +hex);\n        } else {\n            MyLogger.info(&quot;Actual value  &quot;+ hexValue  +&quot;   of  &quot; +buttons+savedFile.getName() +&quot;  is is not equals to the expected value  &quot; +hex);\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/r3p1c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3p1c.png\" alt=\"font color and family\" /></a></p>\n"},{"tags":["java","android","android-contentprovider","user-permissions"],"answers":[{"tags":[],"owner":{"account_id":349152,"reputation":2546,"user_id":684273,"accept_rate":68,"display_name":"Warlock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625847097,"creation_date":1625847097,"answer_id":68319859,"question_id":67547283,"body_markdown":"It&#39;s possible to change singing key for app already in Play Store. But it has now major disadvantage which will be gone in few years. It will be working only on devices running Android 9 and above. So your mindSkdVersion has to be 28+. It&#39;s called key rotation and it&#39;s part of APK Signature Scheme v3. See this [link][1].\r\n\r\nAlso I don&#39;t know other way how to 100% securely change data between two apps than trust same signing keys. Less secure way is only to depend on known applicationId (just sent Intent with &quot;com.myapp.someaction&quot;) which attacker can of course use and sideload app or use other distribution. Bit harder way to break can be usage of [Android IPC / AIDL][2] directly.\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/pie/android-9.0#apk-key-rotation\r\n  [2]: https://developer.android.com/guide/components/aidl","title":"How to change the signing key of an app already published on play store? Is there another efficient alternative to contentProvider?","body":"<p>It's possible to change singing key for app already in Play Store. But it has now major disadvantage which will be gone in few years. It will be working only on devices running Android 9 and above. So your mindSkdVersion has to be 28+. It's called key rotation and it's part of APK Signature Scheme v3. See this <a href=\"https://developer.android.com/about/versions/pie/android-9.0#apk-key-rotation\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Also I don't know other way how to 100% securely change data between two apps than trust same signing keys. Less secure way is only to depend on known applicationId (just sent Intent with &quot;com.myapp.someaction&quot;) which attacker can of course use and sideload app or use other distribution. Bit harder way to break can be usage of <a href=\"https://developer.android.com/guide/components/aidl\" rel=\"nofollow noreferrer\">Android IPC / AIDL</a> directly.</p>\n"}],"owner":{"account_id":17821196,"reputation":94,"user_id":12943545,"display_name":"ankalagba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68319859,"answer_count":1,"score":0,"last_activity_date":1643311737,"creation_date":1621085692,"question_id":67547283,"body_markdown":"I had exactly the same issue like in that question: [java.lang.SecurityException: Permission Denial: opening provider when implement content provider][1]\r\n\r\nI have solved it using: [ the answer of @CommonsWare ][2]\r\n\r\nWhere He says: \r\n\r\n&gt;App B has identical `&lt;permission&gt;` elements as App A and both App A and App B are signed by the same signing key\r\n\r\nBut When generating the app bundles of my applications, `I have forgotten to sign them with the same signing key`\r\n\r\n According to the research I have done: \r\n\r\n&gt; It is not possible to change the singing key of an application once it is on play store.\r\n\r\n**My actual problem:**\r\n\r\nI have recently put two apps on play store which have the same `&lt;permission&gt;` element. When I install first the app A from play store, I will not be able to install the app B. When I first install the app B from play store, I will not be able to install the app A. One of my apps is not able to install when I install the other app first. \r\n\r\nAccording to @commonware answer: \r\n\r\n&gt; you would need to remove one of the two apps from the Play Store and\r\n&gt; submit a replacement, with a new application ID, that is signed by the\r\n&gt; same signing key as the other shipping app.\r\n\r\nBut I don&#39;t want to change the application ID of any of these two applications\r\n\r\nAny idea about how to solve that issue?\r\n\r\nIs there any other efficient alternative to ContentProvider to share data between two applications of the same author?\r\n\r\nI have momentarily accepted the @Warlock answer but I am looking for a better answer. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/57133565/12943545\r\n  [2]: https://stackoverflow.com/a/57133590/12943545","title":"How to change the signing key of an app already published on play store? Is there another efficient alternative to contentProvider?","body":"<p>I had exactly the same issue like in that question: <a href=\"https://stackoverflow.com/q/57133565/12943545\">java.lang.SecurityException: Permission Denial: opening provider when implement content provider</a></p>\n<p>I have solved it using: <a href=\"https://stackoverflow.com/a/57133590/12943545\"> the answer of @CommonsWare </a></p>\n<p>Where He says:</p>\n<blockquote>\n<p>App B has identical <code>&lt;permission&gt;</code> elements as App A and both App A and App B are signed by the same signing key</p>\n</blockquote>\n<p>But When generating the app bundles of my applications, <code>I have forgotten to sign them with the same signing key</code></p>\n<p>According to the research I have done:</p>\n<blockquote>\n<p>It is not possible to change the singing key of an application once it is on play store.</p>\n</blockquote>\n<p><strong>My actual problem:</strong></p>\n<p>I have recently put two apps on play store which have the same <code>&lt;permission&gt;</code> element. When I install first the app A from play store, I will not be able to install the app B. When I first install the app B from play store, I will not be able to install the app A. One of my apps is not able to install when I install the other app first.</p>\n<p>According to @commonware answer:</p>\n<blockquote>\n<p>you would need to remove one of the two apps from the Play Store and\nsubmit a replacement, with a new application ID, that is signed by the\nsame signing key as the other shipping app.</p>\n</blockquote>\n<p>But I don't want to change the application ID of any of these two applications</p>\n<p>Any idea about how to solve that issue?</p>\n<p>Is there any other efficient alternative to ContentProvider to share data between two applications of the same author?</p>\n<p>I have momentarily accepted the @Warlock answer but I am looking for a better answer.</p>\n"},{"tags":["java","multithreading","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":11980108,"reputation":66,"user_id":18031053,"display_name":"Osman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643311427,"creation_date":1643311122,"answer_id":70884488,"question_id":70884298,"body_markdown":"As far as I know you don&#39;t need to worry about database-level data race since database handles multiple access at the same time, to put it simply you&#39;re good to go.&lt;br&gt;\r\n\r\n&lt;b&gt;But&lt;/b&gt; there&#39;s another issue makes me worried. I&#39;m assuming you&#39;re developing a web application that runs on a web-server am I right? Since web-server itself creates min 10 threads to receive http requests from the internet, creating extra threads in the code may not be a good idea. &lt;br&gt;\r\n&lt;br&gt;\r\nlet&#39;s say that once you call a method A() it creates extra 1 thread, and imagine there&#39;re 3 request was made to the same endpoint so web server assigns each request to a thread and in each thread the method A() is called which in this case you&#39;ll have 3 more new threads, in case you have high traffic you may end up with a situation which there&#39;re many threads more than your computer handles. \r\n&lt;br&gt;&lt;br&gt;\r\nCreating a common thread pool for common use might be an option only if it&#39;s application level (declaring static thread pool) &lt;br&gt;\r\nOr &lt;br&gt;\r\nif the Job is not needed to be applied instantly, you can write another batch program with many threads and can use Redis-like message passing application to handle communication. Thus you can remove the barrier sitting in the high-request and scalability.","title":"Threading on JPA Spring boot","body":"<p>As far as I know you don't need to worry about database-level data race since database handles multiple access at the same time, to put it simply you're good to go.<br></p>\n<p><b>But</b> there's another issue makes me worried. I'm assuming you're developing a web application that runs on a web-server am I right? Since web-server itself creates min 10 threads to receive http requests from the internet, creating extra threads in the code may not be a good idea. <br>\n<br>\nlet's say that once you call a method A() it creates extra 1 thread, and imagine there're 3 request was made to the same endpoint so web server assigns each request to a thread and in each thread the method A() is called which in this case you'll have 3 more new threads, in case you have high traffic you may end up with a situation which there're many threads more than your computer handles.\n<br><br>\nCreating a common thread pool for common use might be an option only if it's application level (declaring static thread pool) <br>\nOr <br>\nif the Job is not needed to be applied instantly, you can write another batch program with many threads and can use Redis-like message passing application to handle communication. Thus you can remove the barrier sitting in the high-request and scalability.</p>\n"},{"tags":[],"owner":{"account_id":17000129,"reputation":1,"user_id":12297721,"display_name":"David Odinga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643311233,"creation_date":1643311233,"answer_id":70884513,"question_id":70884298,"body_markdown":"You do not need to loop in order to save the data. You can save your entities in a collection and call the jpa `saveAll()` method.\r\n\r\n`repository.saveAll(Iterable&lt;S&gt; entities)`\r\n\r\n","title":"Threading on JPA Spring boot","body":"<p>You do not need to loop in order to save the data. You can save your entities in a collection and call the jpa <code>saveAll()</code> method.</p>\n<p><code>repository.saveAll(Iterable&lt;S&gt; entities)</code></p>\n"}],"owner":{"account_id":21191360,"reputation":11,"user_id":15583795,"display_name":"ELECTRO WARE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1227,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1643311427,"creation_date":1643310218,"question_id":70884298,"body_markdown":"Hi I am trying to loop and save the objects to database using JPA repository. I wanted to use thread here,but while threading multiple objects saves at one time on same table wether the primary id which is auto generated will get collide?","title":"Threading on JPA Spring boot","body":"<p>Hi I am trying to loop and save the objects to database using JPA repository. I wanted to use thread here,but while threading multiple objects saves at one time on same table wether the primary id which is auto generated will get collide?</p>\n"},{"tags":["java","android","mockito","handler","looper"],"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1643960274,"post_id":70867600,"comment_id":125482523,"body_markdown":"Mockito offers several ways to mock things, you will need to find the ones that will work in your situation.  For example Mockito has a class of mocking methods for mocking methods that have no return value, i.e are void.\nI think you need to be looking for how to use Mockito for Android development.","body":"Mockito offers several ways to mock things, you will need to find the ones that will work in your situation.  For example Mockito has a class of mocking methods for mocking methods that have no return value, i.e are void. I think you need to be looking for how to use Mockito for Android development."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643311327,"creation_date":1643311327,"answer_id":70884531,"question_id":70867600,"body_markdown":"This is going to be tricky, because your Android testing library [has no implementations](https://stackoverflow.com/a/36587569/1426891), and static methods are generally more difficult to mock safely and effectively.\r\n\r\nRecent versions of Mockito have added [the ability to mock static methods](https://javadoc.io/static/org.mockito/mockito-core/4.3.1/org/mockito/Mockito.html#static_mocks) without using another library like [PowerMock](https://github.com/powermock/powermock), so the first choice would be something like that. If at all possible, use `mockStatic` on `Looper::getMainLooper` to mock.\r\n\r\nAnother solution is to add some indirection, giving you a testing seam:\r\n\r\n```\r\npublic class NonUIFragment extends Fragment {\r\n  /** Visible for testing. */\r\n  static Looper overrideLooper;\r\n\r\n  // ...\r\n\r\n  private final Handler handler = new Handler(\r\n      overrideLooper != null ? overrideLooper : Looper.getMainLooper()) {\r\n    /* ... */\r\n  };\r\n}\r\n```\r\n\r\nFinally, if you find yourself doing this kind of mock a lot, you can consider a library like [Robolectric](http://robolectric.org/). Using Robolectric you could [simulate the looper with a ShadowLooper](http://robolectric.org/javadoc/4.7/org/robolectric/shadows/ShadowLooper.html), which would let you remote-control it, while using Mockito for any classes your team has written. This would prevent you from having to mock a realistic Looper for every test, for instance.","title":"Mockito tests for class with Handler","body":"<p>This is going to be tricky, because your Android testing library <a href=\"https://stackoverflow.com/a/36587569/1426891\">has no implementations</a>, and static methods are generally more difficult to mock safely and effectively.</p>\n<p>Recent versions of Mockito have added <a href=\"https://javadoc.io/static/org.mockito/mockito-core/4.3.1/org/mockito/Mockito.html#static_mocks\" rel=\"nofollow noreferrer\">the ability to mock static methods</a> without using another library like <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">PowerMock</a>, so the first choice would be something like that. If at all possible, use <code>mockStatic</code> on <code>Looper::getMainLooper</code> to mock.</p>\n<p>Another solution is to add some indirection, giving you a testing seam:</p>\n<pre><code>public class NonUIFragment extends Fragment {\n  /** Visible for testing. */\n  static Looper overrideLooper;\n\n  // ...\n\n  private final Handler handler = new Handler(\n      overrideLooper != null ? overrideLooper : Looper.getMainLooper()) {\n    /* ... */\n  };\n}\n</code></pre>\n<p>Finally, if you find yourself doing this kind of mock a lot, you can consider a library like <a href=\"http://robolectric.org/\" rel=\"nofollow noreferrer\">Robolectric</a>. Using Robolectric you could <a href=\"http://robolectric.org/javadoc/4.7/org/robolectric/shadows/ShadowLooper.html\" rel=\"nofollow noreferrer\">simulate the looper with a ShadowLooper</a>, which would let you remote-control it, while using Mockito for any classes your team has written. This would prevent you from having to mock a realistic Looper for every test, for instance.</p>\n"}],"owner":{"account_id":24006185,"reputation":1,"user_id":17990330,"display_name":"Sergei K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643311327,"creation_date":1643217551,"question_id":70867600,"body_markdown":"I&#39;m a new one in android dev, so I have an app which contain viewPager with 2 UI fragments and 1 nonUIFragment in which operations are performed (i used &quot;setRetainInstance(true)&quot;, it deprecated, but i must use it). In this nonUIFragment i have Handler which accepts messages from operations started with ExecutorServices.\r\nBut now my task is test this app with Mockito and i&#39;m totaly confused. \r\n\r\nMentor said &quot;you have to mock the operation that produces the result, is performed in a nonUIFragment, and its result is stored in a collection.&quot;\r\n\r\nHow must look this test, I can&#39;t create *spy()* class NonUIFragment and use real methods because of &quot;Method getMainLooper in android.os.Looper not mocked.&quot;\r\nAll of my methods are void, they don&#39;t returne something, how can i trace this chain.\r\n\r\nNonUIFragment.java\r\n```\r\nprivate NonUIToActivityInterface nonUIInterface;\r\n    private final Map&lt;DefOperandTags, HashMap&lt;DefOperationTags, String&gt;&gt; allResultsMap\r\n        = new HashMap&lt;&gt;();\r\n\r\n @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setRetainInstance(true);\r\n    }\r\n\r\n//Handler pass result to here\r\n    public void passAndSaveResult(DefOperandTags operandTag, DefOperationTags operationTag, String result) {\r\n        allResultsMap.get(operandTag)).put(operationTag, result);\r\n    }\r\n\r\nprivate final Handler handler = new Handler(Looper.getMainLooper()) {\r\n        public void handleMessage(Message msg) {\r\n            if (msg.what != null)\r\n                passAndSaveResult(defOperandTags, defOperationTag, msg.obj.toString());\r\n    };\r\n```\r\n\r\nOneOfOperation.java (add value to the List)\r\n```\r\npublic class AddToStartList extends Operation {\r\n\r\n    public AddToStartList(List list, DefOperationTags operationTag) {\r\n        super(list);\r\n        key = operationTag;\r\n    }\r\n\r\n    @Override\r\n    public void operation(Object collection) {\r\n        ((List)collection).add(0, &quot;123&quot;);\r\n    }\r\n\r\n```\r\n\r\nSo, how can I implement what my mentor said?","title":"Mockito tests for class with Handler","body":"<p>I'm a new one in android dev, so I have an app which contain viewPager with 2 UI fragments and 1 nonUIFragment in which operations are performed (i used &quot;setRetainInstance(true)&quot;, it deprecated, but i must use it). In this nonUIFragment i have Handler which accepts messages from operations started with ExecutorServices.\nBut now my task is test this app with Mockito and i'm totaly confused.</p>\n<p>Mentor said &quot;you have to mock the operation that produces the result, is performed in a nonUIFragment, and its result is stored in a collection.&quot;</p>\n<p>How must look this test, I can't create <em>spy()</em> class NonUIFragment and use real methods because of &quot;Method getMainLooper in android.os.Looper not mocked.&quot;\nAll of my methods are void, they don't returne something, how can i trace this chain.</p>\n<p>NonUIFragment.java</p>\n<pre><code>private NonUIToActivityInterface nonUIInterface;\n    private final Map&lt;DefOperandTags, HashMap&lt;DefOperationTags, String&gt;&gt; allResultsMap\n        = new HashMap&lt;&gt;();\n\n @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setRetainInstance(true);\n    }\n\n//Handler pass result to here\n    public void passAndSaveResult(DefOperandTags operandTag, DefOperationTags operationTag, String result) {\n        allResultsMap.get(operandTag)).put(operationTag, result);\n    }\n\nprivate final Handler handler = new Handler(Looper.getMainLooper()) {\n        public void handleMessage(Message msg) {\n            if (msg.what != null)\n                passAndSaveResult(defOperandTags, defOperationTag, msg.obj.toString());\n    };\n</code></pre>\n<p>OneOfOperation.java (add value to the List)</p>\n<pre><code>public class AddToStartList extends Operation {\n\n    public AddToStartList(List list, DefOperationTags operationTag) {\n        super(list);\n        key = operationTag;\n    }\n\n    @Override\n    public void operation(Object collection) {\n        ((List)collection).add(0, &quot;123&quot;);\n    }\n\n</code></pre>\n<p>So, how can I implement what my mentor said?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":473127,"reputation":23114,"user_id":882051,"accept_rate":70,"display_name":"hmakholm left over Monica"},"score":0,"creation_date":1314510309,"post_id":7219249,"comment_id":8676907,"body_markdown":"Can you usually display Bengali text in that terminal program? And which terminal program do you use? Which OS? This is not likely to be a Java problem.","body":"Can you usually display Bengali text in that terminal program? And which terminal program do you use? Which OS? This is not likely to be a Java problem."},{"owner":{"account_id":412479,"reputation":1743,"user_id":785566,"accept_rate":88,"display_name":"Clark Bao"},"score":0,"creation_date":1314510965,"post_id":7219249,"comment_id":8676972,"body_markdown":"Not sure if you are able to check the encoding of the console using in your IDE.is that the correct encoding you expected?","body":"Not sure if you are able to check the encoding of the console using in your IDE.is that the correct encoding you expected?"},{"owner":{"account_id":241111,"reputation":8151,"user_id":511736,"accept_rate":90,"display_name":"Kowser"},"score":1,"creation_date":1314513680,"post_id":7219249,"comment_id":8677148,"body_markdown":"@Desworld: vai, matha niya mata mati keno? mojar text dileo parten ;) tobe ai text tao kharap na.","body":"@Desworld: vai, matha niya mata mati keno? mojar text dileo parten ;) tobe ai text tao kharap na."},{"owner":{"account_id":539260,"reputation":13544,"user_id":907044,"accept_rate":82,"display_name":"Dewsworld"},"score":1,"creation_date":1314514023,"post_id":7219249,"comment_id":8677167,"body_markdown":"@Kowser, problem ta niye ashole matha kharap hoye gasilo... :)","body":"@Kowser, problem ta niye ashole matha kharap hoye gasilo... :)"}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1314513000,"creation_date":1314511211,"answer_id":7219322,"question_id":7219249,"body_markdown":"You seem to be using Netbeans. The console in Netbeans uses a Monospace font by default, that is incapable of displaying Bangla characters.\r\n\r\nYou can switch to a different font from the context menu:\r\n\r\n![Choose Font for Netbeans Console][1]\r\n\r\nand then opt for displaying all the characters in the console using a font with the Bangla glyphs (I chose Arial Unicode MS, but you can choose any other Bangla font):\r\n\r\n![Choose Font in Dialog][2]\r\n\r\nThis would display the output that you desire:\r\n\r\n![Display bangla characters][3]\r\n\r\nAlso, note the importance of the Netbeans project encoding:\r\n\r\n![Netbeans project encoding][4]\r\n\r\nApparently, the console encoding happens to be the same as the project encoding; attempting to change this by setting the `file.encoding` System property yields nothing. In this case, all UTF-8 encoded strings will be displayed without issues. However, if your file happens to be encoded with UTF-16BE/LE or any other encoding scheme, then the console will display gibberish/[mojibake][5] as it is impossible to change the terminal/console encoding on an as needed basis. In this case, the preferred approach is to store files in the same encoding as the project encoding, so that displaying their contents via `System.out` will not result in displaying gibberish.\r\n\r\n  [1]: http://i.stack.imgur.com/nTyId.png\r\n  [2]: http://i.stack.imgur.com/0sxMM.png\r\n  [3]: http://i.stack.imgur.com/aAK1D.png\r\n  [4]: http://i.stack.imgur.com/VVnvx.png\r\n  [5]: http://en.wikipedia.org/wiki/Mojibake","title":"Netbeans console does not display Bangla unicode characters","body":"<p>You seem to be using Netbeans. The console in Netbeans uses a Monospace font by default, that is incapable of displaying Bangla characters.</p>\n\n<p>You can switch to a different font from the context menu:</p>\n\n<p><img src=\"https://i.stack.imgur.com/nTyId.png\" alt=\"Choose Font for Netbeans Console\"></p>\n\n<p>and then opt for displaying all the characters in the console using a font with the Bangla glyphs (I chose Arial Unicode MS, but you can choose any other Bangla font):</p>\n\n<p><img src=\"https://i.stack.imgur.com/0sxMM.png\" alt=\"Choose Font in Dialog\"></p>\n\n<p>This would display the output that you desire:</p>\n\n<p><img src=\"https://i.stack.imgur.com/aAK1D.png\" alt=\"Display bangla characters\"></p>\n\n<p>Also, note the importance of the Netbeans project encoding:</p>\n\n<p><img src=\"https://i.stack.imgur.com/VVnvx.png\" alt=\"Netbeans project encoding\"></p>\n\n<p>Apparently, the console encoding happens to be the same as the project encoding; attempting to change this by setting the <code>file.encoding</code> System property yields nothing. In this case, all UTF-8 encoded strings will be displayed without issues. However, if your file happens to be encoded with UTF-16BE/LE or any other encoding scheme, then the console will display gibberish/<a href=\"http://en.wikipedia.org/wiki/Mojibake\" rel=\"noreferrer\">mojibake</a> as it is impossible to change the terminal/console encoding on an as needed basis. In this case, the preferred approach is to store files in the same encoding as the project encoding, so that displaying their contents via <code>System.out</code> will not result in displaying gibberish.</p>\n"},{"tags":[],"owner":{"account_id":4180002,"reputation":2648,"user_id":3425312,"accept_rate":0,"display_name":"X-Coder"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1414504596,"creation_date":1414502433,"answer_id":26609447,"question_id":7219249,"body_markdown":"Font download link: [code.google.com][1] \r\n\r\nHere is the look to get solved the font problem in netbeans:![][2]\r\n\r\n\r\n  [1]: https://code.google.com/p/tuanphamvu/downloads/detail?name=Arial%20Unicode%20MS.rar&amp;can=2&amp;q=\r\n  [2]: http://i.stack.imgur.com/Fuai6.jpg","title":"Netbeans console does not display Bangla unicode characters","body":"<p>Font download link: <a href=\"https://code.google.com/p/tuanphamvu/downloads/detail?name=Arial%20Unicode%20MS.rar&amp;can=2&amp;q=\" rel=\"noreferrer\">code.google.com</a> </p>\n\n<p>Here is the look to get solved the font problem in netbeans:<img src=\"https://i.stack.imgur.com/Fuai6.jpg\" alt=\"\"></p>\n"},{"tags":[],"owner":{"account_id":2628230,"reputation":1572,"user_id":2274819,"accept_rate":60,"display_name":"JRr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643311100,"creation_date":1635335200,"answer_id":69738084,"question_id":7219249,"body_markdown":"Not NetBeans issue but **Logger encoding issue.** Force Utf8 for Log4j.\r\n\r\nIt should be default to UTF8 but it wasn&#39;t.  Forcing log4j to UTF8 solved my issues.\r\n\r\nSymptom: Generated log file was also not in utf8 encoding.\r\n\r\n*Still valid for NetBeans 8 to 12*","title":"Netbeans console does not display Bangla unicode characters","body":"<p>Not NetBeans issue but <strong>Logger encoding issue.</strong> Force Utf8 for Log4j.</p>\n<p>It should be default to UTF8 but it wasn't.  Forcing log4j to UTF8 solved my issues.</p>\n<p>Symptom: Generated log file was also not in utf8 encoding.</p>\n<p><em>Still valid for NetBeans 8 to 12</em></p>\n"}],"owner":{"account_id":539260,"reputation":13544,"user_id":907044,"accept_rate":82,"display_name":"Dewsworld"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13456,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":7219322,"answer_count":3,"score":20,"last_activity_date":1643311100,"creation_date":1314509833,"question_id":7219249,"body_markdown":"I have a test.txt file with some Bengali character written as \r\n\r\n&gt; আমার মাথা, তোমার মাথা\r\n\r\nNow when I run this from some packege,\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n  \r\n    public class Test {\r\n        public static void main( String ajaira[] ) throws FileNotFoundException, IOException\r\n        {\r\n            File f = new File(&quot;test.txt&quot;) ;\r\n            InputStream is = new FileInputStream(f) ;\r\n            BufferedReader br = new BufferedReader( new InputStreamReader(is) );\r\n            System.out.println(&quot;Abs path: &quot; + f.getAbsolutePath() ) ;\r\n            String s ;\r\n            while( (s = br.readLine()) !=null )\r\n            {\r\n                System.out.println(s) ;\r\n            }\r\n        }\r\n    }\r\n\r\nI get some block... well I could not write it. This is the image![enter image description here][1]\r\nCould anyone help with this thing...? Thank you.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/UAu6s.png","title":"Netbeans console does not display Bangla unicode characters","body":"<p>I have a test.txt file with some Bengali character written as </p>\n\n<blockquote>\n  <p>আমার মাথা, তোমার মাথা</p>\n</blockquote>\n\n<p>Now when I run this from some packege,</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\npublic class Test {\n    public static void main( String ajaira[] ) throws FileNotFoundException, IOException\n    {\n        File f = new File(\"test.txt\") ;\n        InputStream is = new FileInputStream(f) ;\n        BufferedReader br = new BufferedReader( new InputStreamReader(is) );\n        System.out.println(\"Abs path: \" + f.getAbsolutePath() ) ;\n        String s ;\n        while( (s = br.readLine()) !=null )\n        {\n            System.out.println(s) ;\n        }\n    }\n}\n</code></pre>\n\n<p>I get some block... well I could not write it. This is the image<img src=\"https://i.stack.imgur.com/UAu6s.png\" alt=\"enter image description here\">\nCould anyone help with this thing...? Thank you.</p>\n"},{"tags":["java","android","kotlin","android-fragments"],"comments":[{"owner":{"account_id":9212241,"reputation":522,"user_id":6844930,"display_name":"Милош Којадиновић"},"score":0,"creation_date":1643368991,"post_id":70884318,"comment_id":125326970,"body_markdown":"Is it easier to do it in onClick method, just add this line bottomNavigationView.setVisibility(View.VISIBLE);","body":"Is it easier to do it in onClick method, just add this line bottomNavigationView.setVisibility(View.VISIBLE);"}],"answers":[{"tags":[],"owner":{"account_id":16827991,"reputation":96,"user_id":12166749,"display_name":"salman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643310508,"creation_date":1643310508,"answer_id":70884366,"question_id":70884318,"body_markdown":"Just use Navigation component library is very easy \r\nIt do pop stack and navigate automatically\r\nand you can see visual graph,set destination and navigate with safe argument and more  \r\n\r\nsee here\r\n[navigation component][1]\r\n\r\n  [1]: https://developer.android.com/guide/navigation?gclid=Cj0KCQiAosmPBhCPARIsAHOen-MjVVHf5sklv4goLQUsHbZEWdi_ssVI5kGJDsFPxHx20_Pa761IoScaAlQ8EALw_wcB&amp;gclsrc=aw.ds","title":"How to identify if any fragment is active or removed on current activity?","body":"<p>Just use Navigation component library is very easy\nIt do pop stack and navigate automatically\nand you can see visual graph,set destination and navigate with safe argument and more</p>\n<p>see here\n<a href=\"https://developer.android.com/guide/navigation?gclid=Cj0KCQiAosmPBhCPARIsAHOen-MjVVHf5sklv4goLQUsHbZEWdi_ssVI5kGJDsFPxHx20_Pa761IoScaAlQ8EALw_wcB&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">navigation component</a></p>\n"}],"owner":{"account_id":14905662,"reputation":35,"user_id":10762991,"display_name":"kushal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643310508,"creation_date":1643310293,"question_id":70884318,"body_markdown":"I have a bottom navigation view which sets to invisible whenever I activate a fragment...\r\nI would like to set it back to visible everytime the fragment is removed.\r\n\r\n\r\nfor my mainfile\r\n\r\n     private void AddFragment() {\r\n        bottomNavigationView.setVisibility(View.INVISIBLE);\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        fragmentManager.beginTransaction()\r\n                .add(R.id.mainlayout,new addfragment())\r\n                .addToBackStack(&quot;add&quot;)\r\n                .commit();\r\n    }\r\n\r\nmy current fragment\r\n\r\n\r\n    cancle = view.findViewById(R.id.cancleadd);\r\n        \r\n\r\n         cancle.setOnClickListener(new View.OnClickListener() {\r\n             @Override\r\n             public void onClick(View v) {\r\n                 FragmentManager manager = getActivity().getSupportFragmentManager();\r\n                 manager.beginTransaction().remove(addfragment.this).commit();\r\n                 manager.popBackStack();\r\n\r\n             }\r\n         });\r\n","title":"How to identify if any fragment is active or removed on current activity?","body":"<p>I have a bottom navigation view which sets to invisible whenever I activate a fragment...\nI would like to set it back to visible everytime the fragment is removed.</p>\n<p>for my mainfile</p>\n<pre><code> private void AddFragment() {\n    bottomNavigationView.setVisibility(View.INVISIBLE);\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    fragmentManager.beginTransaction()\n            .add(R.id.mainlayout,new addfragment())\n            .addToBackStack(&quot;add&quot;)\n            .commit();\n}\n</code></pre>\n<p>my current fragment</p>\n<pre><code>cancle = view.findViewById(R.id.cancleadd);\n    \n\n     cancle.setOnClickListener(new View.OnClickListener() {\n         @Override\n         public void onClick(View v) {\n             FragmentManager manager = getActivity().getSupportFragmentManager();\n             manager.beginTransaction().remove(addfragment.this).commit();\n             manager.popBackStack();\n\n         }\n     });\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","spark-streaming"],"comments":[{"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"score":0,"creation_date":1587988033,"post_id":61453083,"comment_id":108716661,"body_markdown":"Can you post sample json and expected output","body":"Can you post sample json and expected output"},{"owner":{"account_id":18416635,"reputation":1,"user_id":13415331,"display_name":"RANJITH JN JN"},"score":0,"creation_date":1588048165,"post_id":61453083,"comment_id":108742251,"body_markdown":"Hi srinivas, I added sample json and output above.","body":"Hi srinivas, I added sample json and output above."}],"answers":[{"tags":[],"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643309809,"creation_date":1588055237,"answer_id":61473961,"question_id":61453083,"body_markdown":"```Note``` code is in ```scala``` &amp; I have used ```Spark Structured Streaming ```. \r\n\r\nYou can use ```org.apache.spark.sql.functions.explode``` function to flatten array columns. Please check the below code.\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n```\r\nimport org.apache.spark.sql.types._\r\n\r\nval schema = DataType.fromJson(&quot;&quot;&quot;{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;age&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;phones&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;models&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:&quot;string&quot;,&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;watches&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;models&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:&quot;string&quot;,&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}&quot;&quot;&quot;).asInstanceOf[StructType]\r\n// schema: org.apache.spark.sql.types.StructType = StructType(StructField(age,LongType,true), StructField(name,StringType,true), StructField(phones,ArrayType(StructType(StructField(models,ArrayType(StringType,true),true), StructField(name,StringType,true)),true),true), StructField(watches,StructType(StructField(models,ArrayType(StringType,true),true), StructField(name,StringType,true)),true))\r\n\r\nval streamDF = spark.readStream.format(&quot;json&quot;).schema(schema).load(&quot;/tmp/jdata&quot;)\r\n// streamDF: org.apache.spark.sql.DataFrame = [age: bigint, name: string ... 2 more fields]\r\n\r\nstreamDF\r\n.withColumn(&quot;watches_models&quot;,explode($&quot;watches.models&quot;)).withColumn(&quot;watches_name&quot;,$&quot;watches.name&quot;)\r\n.withColumn(&quot;phones_models&quot;,explode($&quot;phones.models&quot;)).withColumn(&quot;phones_models&quot;,explode($&quot;phones_models&quot;))\r\n.withColumn(&quot;phones_name&quot;,explode($&quot;phones.name&quot;))\r\n.drop(&quot;watches&quot;,&quot;phones&quot;)\r\n.writeStream\r\n.format(&quot;console&quot;)\r\n.outputMode(&quot;append&quot;)\r\n.start()\r\n.awaitTermination()\r\n```\r\n\r\n```\r\n-------------------------------------------\r\nBatch: 0\r\n-------------------------------------------\r\n+---+------+--------------------+------------+--------------+-----------+\r\n|age|  name|      watches_models|watches_name| phones_models|phones_name|\r\n+---+------+--------------------+------------+--------------+-----------+\r\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple|Galaxy Note10+|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|Galaxy Note10+|    Samsung|\r\n+---+------+--------------------+------------+--------------+-----------+\r\nonly showing top 20 rows\r\n\r\n```\r\n","title":"Is there any way to flatten the nested JSON in spark streaming?","body":"<p><code>Note</code> code is in <code>scala</code> &amp; I have used <code>Spark Structured Streaming </code>.</p>\n<p>You can use <code>org.apache.spark.sql.functions.explode</code> function to flatten array columns. Please check the below code.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.types._\n\nval schema = DataType.fromJson(&quot;&quot;&quot;{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;age&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;phones&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;models&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:&quot;string&quot;,&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;watches&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;models&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:&quot;string&quot;,&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}&quot;&quot;&quot;).asInstanceOf[StructType]\n// schema: org.apache.spark.sql.types.StructType = StructType(StructField(age,LongType,true), StructField(name,StringType,true), StructField(phones,ArrayType(StructType(StructField(models,ArrayType(StringType,true),true), StructField(name,StringType,true)),true),true), StructField(watches,StructType(StructField(models,ArrayType(StringType,true),true), StructField(name,StringType,true)),true))\n\nval streamDF = spark.readStream.format(&quot;json&quot;).schema(schema).load(&quot;/tmp/jdata&quot;)\n// streamDF: org.apache.spark.sql.DataFrame = [age: bigint, name: string ... 2 more fields]\n\nstreamDF\n.withColumn(&quot;watches_models&quot;,explode($&quot;watches.models&quot;)).withColumn(&quot;watches_name&quot;,$&quot;watches.name&quot;)\n.withColumn(&quot;phones_models&quot;,explode($&quot;phones.models&quot;)).withColumn(&quot;phones_models&quot;,explode($&quot;phones_models&quot;))\n.withColumn(&quot;phones_name&quot;,explode($&quot;phones.name&quot;))\n.drop(&quot;watches&quot;,&quot;phones&quot;)\n.writeStream\n.format(&quot;console&quot;)\n.outputMode(&quot;append&quot;)\n.start()\n.awaitTermination()\n</code></pre>\n<pre><code>-------------------------------------------\nBatch: 0\n-------------------------------------------\n+---+------+--------------------+------------+--------------+-----------+\n|age|  name|      watches_models|watches_name| phones_models|phones_name|\n+---+------+--------------------+------------+--------------+-----------+\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple|Galaxy Note10+|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|Galaxy Note10+|    Samsung|\n+---+------+--------------------+------------+--------------+-----------+\nonly showing top 20 rows\n\n</code></pre>\n"}],"owner":{"account_id":18416635,"reputation":1,"user_id":13415331,"display_name":"RANJITH JN JN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643309809,"creation_date":1587969891,"question_id":61453083,"body_markdown":"I have written a dataset spark job(Batch) code to flatten the data, which is working fine, but when i tried to use tha same code snippet in spark streaming jobs,its is throwing following error\r\nQueries with streaming sources must be executed with writeStream.start();\r\n    \r\n So is there any ways to flatten Nested JSON in Streaming jobs?\r\nsample input Nested JSON -\r\n```json\r\n{\r\n   &quot;name&quot;:&quot; Akash&quot;,\r\n   &quot;age&quot;:26,\r\n   &quot;watches&quot;:{\r\n      &quot;name&quot;:&quot;Apple&quot;,\r\n      &quot;models&quot;:[\r\n         &quot;Apple Watch Series 5&quot;,\r\n         &quot;Apple Watch Nike&quot;\r\n      ]\r\n   },\r\n   &quot;phones&quot;:[\r\n      {\r\n         &quot;name&quot;:&quot; Apple&quot;,\r\n         &quot;models&quot;:[\r\n            &quot;iphone X&quot;,\r\n            &quot;iphone XR&quot;,\r\n            &quot;iphone XS&quot;,\r\n            &quot;iphone 11&quot;,\r\n            &quot;iphone 11 Pro&quot;\r\n         ]\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot; Samsung&quot;,\r\n         &quot;models&quot;:[\r\n            &quot;Galaxy Note10&quot;,\r\n            &quot;Galaxy Note10+&quot;,\r\n            &quot;Galaxy S10e&quot;,\r\n            &quot;Galaxy S10&quot;,\r\n            &quot;Galaxy S10+&quot;\r\n         ]\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot; Google&quot;,\r\n         &quot;models&quot;:[\r\n            &quot;Pixel 3&quot;,\r\n            &quot;Pixel 3a&quot;\r\n         ]\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nExpected output.\r\n[output after falttening][1]    \r\n\r\n\r\n below is the code snippet.\r\n    \r\n    private static org.apache.spark.sql.Dataset flattenJSONdf(\r\n    \t\t\torg.apache.spark.sql.Dataset&lt;org.apache.spark.sql.Row&gt; ds) {\r\n    \t\torg.apache.spark.sql.types.StructField[] fields = ds.schema().fields();\r\n    \t\tjava.util.List&lt;String&gt; fieldsNames = new java.util.ArrayList&lt;&gt;();\r\n    \t\tfor (org.apache.spark.sql.types.StructField s : fields) {\r\n    \t\t\tfieldsNames.add(s.name());\r\n    \t\t}\r\n    \r\n    \t\tfor (int i = 0; i &lt; fields.length; i++) {\r\n    \r\n    \t\t\torg.apache.spark.sql.types.StructField field = fields[i];\r\n    \t\t\torg.apache.spark.sql.types.DataType fieldType = field.dataType();\r\n    \t\t\tString fieldName = field.name();\r\n    \r\n    \t\t\tif (fieldType instanceof org.apache.spark.sql.types.ArrayType) {\r\n    \t\t\t\tjava.util.List&lt;String&gt; fieldNamesExcludingArray = new java.util.ArrayList&lt;String&gt;();\r\n    \t\t\t\tfor (String fieldName_index : fieldsNames) {\r\n    \t\t\t\t\tif (!fieldName.equals(fieldName_index))\r\n    \t\t\t\t\t\tfieldNamesExcludingArray.add(fieldName_index);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tjava.util.List&lt;String&gt; fieldNamesAndExplode = new java.util.ArrayList&lt;&gt;(\r\n    \t\t\t\t\t\tfieldNamesExcludingArray);\r\n    \t\t\t\tString s = String.format(&quot;explode_outer(%s) as %s&quot;, fieldName,\r\n    \t\t\t\t\t\tfieldName);\r\n    \t\t\t\tfieldNamesAndExplode.add(s);\r\n    \r\n    \t\t\t\tString[] exFieldsWithArray = new String[fieldNamesAndExplode\r\n    \t\t\t\t\t\t.size()];\r\n    \t\t\t\torg.apache.spark.sql.Dataset exploded_ds = ds\r\n    \t\t\t\t\t\t.selectExpr(fieldNamesAndExplode\r\n    \t\t\t\t\t\t\t\t.toArray(exFieldsWithArray));\r\n    \r\n    \t\t\t\t// explodedDf.show();\r\n    \r\n    \t\t\t\treturn flattenJSONdf(exploded_ds);\r\n    \r\n    \t\t\t} else if (fieldType instanceof org.apache.spark.sql.types.StructType) {\r\n    \r\n    \t\t\t\tString[] childFieldnames_struct = ((org.apache.spark.sql.types.StructType) fieldType)\r\n    \t\t\t\t\t\t.fieldNames();\r\n    \r\n    \t\t\t\tjava.util.List&lt;String&gt; childFieldnames = new java.util.ArrayList&lt;&gt;();\r\n    \t\t\t\tfor (String childName : childFieldnames_struct) {\r\n    \t\t\t\t\tchildFieldnames.add(fieldName + &quot;.&quot; + childName);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tjava.util.List&lt;String&gt; newfieldNames = new java.util.ArrayList&lt;&gt;();\r\n    \t\t\t\tfor (String fieldName_index : fieldsNames) {\r\n    \t\t\t\t\tif (!fieldName.equals(fieldName_index))\r\n    \t\t\t\t\t\tnewfieldNames.add(fieldName_index);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tnewfieldNames.addAll(childFieldnames);\r\n    \r\n    \t\t\t\tjava.util.List&lt;org.apache.spark.sql.Column&gt; renamedStrutctCols = new java.util.ArrayList&lt;&gt;();\r\n    \r\n    \t\t\t\tfor (String newFieldNames_index : newfieldNames) {\r\n    \t\t\t\t\trenamedStrutctCols.add(new org.apache.spark.sql.Column(\r\n    \t\t\t\t\t\t\tnewFieldNames_index.toString())\r\n    \t\t\t\t\t\t\t.as(newFieldNames_index.toString()\r\n    \t\t\t\t\t\t\t\t\t.replace(&quot;.&quot;, &quot;_&quot;)));\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tscala.collection.Seq renamedStructCols_seq = scala.collection.JavaConverters\r\n    \t\t\t\t\t\t.collectionAsScalaIterableConverter(renamedStrutctCols)\r\n    \t\t\t\t\t\t.asScala().toSeq();\r\n    \r\n    \t\t\t\torg.apache.spark.sql.Dataset ds_struct = ds\r\n    \t\t\t\t\t\t.select(renamedStructCols_seq);\r\n    \r\n    \t\t\t\treturn flattenJSONdf(ds_struct);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\treturn ds;\r\n    \t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AIAzl.png","title":"Is there any way to flatten the nested JSON in spark streaming?","body":"<p>I have written a dataset spark job(Batch) code to flatten the data, which is working fine, but when i tried to use tha same code snippet in spark streaming jobs,its is throwing following error\nQueries with streaming sources must be executed with writeStream.start();</p>\n<p>So is there any ways to flatten Nested JSON in Streaming jobs?\nsample input Nested JSON -</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;name&quot;:&quot; Akash&quot;,\n   &quot;age&quot;:26,\n   &quot;watches&quot;:{\n      &quot;name&quot;:&quot;Apple&quot;,\n      &quot;models&quot;:[\n         &quot;Apple Watch Series 5&quot;,\n         &quot;Apple Watch Nike&quot;\n      ]\n   },\n   &quot;phones&quot;:[\n      {\n         &quot;name&quot;:&quot; Apple&quot;,\n         &quot;models&quot;:[\n            &quot;iphone X&quot;,\n            &quot;iphone XR&quot;,\n            &quot;iphone XS&quot;,\n            &quot;iphone 11&quot;,\n            &quot;iphone 11 Pro&quot;\n         ]\n      },\n      {\n         &quot;name&quot;:&quot; Samsung&quot;,\n         &quot;models&quot;:[\n            &quot;Galaxy Note10&quot;,\n            &quot;Galaxy Note10+&quot;,\n            &quot;Galaxy S10e&quot;,\n            &quot;Galaxy S10&quot;,\n            &quot;Galaxy S10+&quot;\n         ]\n      },\n      {\n         &quot;name&quot;:&quot; Google&quot;,\n         &quot;models&quot;:[\n            &quot;Pixel 3&quot;,\n            &quot;Pixel 3a&quot;\n         ]\n      }\n   ]\n}\n</code></pre>\n<p>Expected output.\n<a href=\"https://i.stack.imgur.com/AIAzl.png\" rel=\"nofollow noreferrer\">output after falttening</a></p>\n<p>below is the code snippet.</p>\n<pre><code>private static org.apache.spark.sql.Dataset flattenJSONdf(\n            org.apache.spark.sql.Dataset&lt;org.apache.spark.sql.Row&gt; ds) {\n        org.apache.spark.sql.types.StructField[] fields = ds.schema().fields();\n        java.util.List&lt;String&gt; fieldsNames = new java.util.ArrayList&lt;&gt;();\n        for (org.apache.spark.sql.types.StructField s : fields) {\n            fieldsNames.add(s.name());\n        }\n\n        for (int i = 0; i &lt; fields.length; i++) {\n\n            org.apache.spark.sql.types.StructField field = fields[i];\n            org.apache.spark.sql.types.DataType fieldType = field.dataType();\n            String fieldName = field.name();\n\n            if (fieldType instanceof org.apache.spark.sql.types.ArrayType) {\n                java.util.List&lt;String&gt; fieldNamesExcludingArray = new java.util.ArrayList&lt;String&gt;();\n                for (String fieldName_index : fieldsNames) {\n                    if (!fieldName.equals(fieldName_index))\n                        fieldNamesExcludingArray.add(fieldName_index);\n                }\n\n                java.util.List&lt;String&gt; fieldNamesAndExplode = new java.util.ArrayList&lt;&gt;(\n                        fieldNamesExcludingArray);\n                String s = String.format(&quot;explode_outer(%s) as %s&quot;, fieldName,\n                        fieldName);\n                fieldNamesAndExplode.add(s);\n\n                String[] exFieldsWithArray = new String[fieldNamesAndExplode\n                        .size()];\n                org.apache.spark.sql.Dataset exploded_ds = ds\n                        .selectExpr(fieldNamesAndExplode\n                                .toArray(exFieldsWithArray));\n\n                // explodedDf.show();\n\n                return flattenJSONdf(exploded_ds);\n\n            } else if (fieldType instanceof org.apache.spark.sql.types.StructType) {\n\n                String[] childFieldnames_struct = ((org.apache.spark.sql.types.StructType) fieldType)\n                        .fieldNames();\n\n                java.util.List&lt;String&gt; childFieldnames = new java.util.ArrayList&lt;&gt;();\n                for (String childName : childFieldnames_struct) {\n                    childFieldnames.add(fieldName + &quot;.&quot; + childName);\n                }\n\n                java.util.List&lt;String&gt; newfieldNames = new java.util.ArrayList&lt;&gt;();\n                for (String fieldName_index : fieldsNames) {\n                    if (!fieldName.equals(fieldName_index))\n                        newfieldNames.add(fieldName_index);\n                }\n\n                newfieldNames.addAll(childFieldnames);\n\n                java.util.List&lt;org.apache.spark.sql.Column&gt; renamedStrutctCols = new java.util.ArrayList&lt;&gt;();\n\n                for (String newFieldNames_index : newfieldNames) {\n                    renamedStrutctCols.add(new org.apache.spark.sql.Column(\n                            newFieldNames_index.toString())\n                            .as(newFieldNames_index.toString()\n                                    .replace(&quot;.&quot;, &quot;_&quot;)));\n                }\n\n                scala.collection.Seq renamedStructCols_seq = scala.collection.JavaConverters\n                        .collectionAsScalaIterableConverter(renamedStrutctCols)\n                        .asScala().toSeq();\n\n                org.apache.spark.sql.Dataset ds_struct = ds\n                        .select(renamedStructCols_seq);\n\n                return flattenJSONdf(ds_struct);\n            }\n\n        }\n        return ds;\n    }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1548419818,"post_id":54364438,"comment_id":95544618,"body_markdown":"That&#39;s what a `HandlerInterceptor` is for. Implement the `preHandle` method and do your thing.","body":"That&#39;s what a <code>HandlerInterceptor</code> is for. Implement the <code>preHandle</code> method and do your thing."}],"answers":[{"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1643309720,"creation_date":1548416517,"answer_id":54364646,"question_id":54364438,"body_markdown":"You Can add interceptor for this \r\n\r\n**Sample Interceptor** \r\n\r\n    public class CustomInterceptor implements HandlerInterceptor {\r\n    \r\n        \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request,HttpServletResponse  response) {\r\n        //Add Login here \r\n            return true;\r\n        }\r\n    } \r\n\r\n**Configuration** \r\n\r\n    @Configuration\r\n    public class MyConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(new MyCustomInterceptor()).addPathPatterns(&quot;/**&quot;);\r\n        }\r\n    }\r\n\r\nHope this helps ","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>You Can add interceptor for this</p>\n<p><strong>Sample Interceptor</strong></p>\n<pre><code>public class CustomInterceptor implements HandlerInterceptor {\n\n    \n    @Override\n    public boolean preHandle(HttpServletRequest request,HttpServletResponse  response) {\n    //Add Login here \n        return true;\n    }\n} \n</code></pre>\n<p><strong>Configuration</strong></p>\n<pre><code>@Configuration\npublic class MyConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new MyCustomInterceptor()).addPathPatterns(&quot;/**&quot;);\n    }\n}\n</code></pre>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1548417658,"creation_date":1548417658,"answer_id":54364963,"question_id":54364438,"body_markdown":"Spring Aspect is also a good option to execute code before controller.\r\n\r\n    @Component\r\n    @Aspect\r\n    public class TestAspect {\r\n    \r\n        @Before(&quot;execution(* com.test.myMethod(..)))&quot;)\r\n        public void doSomethingBefore(JoinPoint jp) throws Exception {\r\n    \r\n            //code  \r\n        }\r\n    }\r\n\r\nHere `myMethod()` will execute before controller.","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>Spring Aspect is also a good option to execute code before controller.</p>\n\n<pre><code>@Component\n@Aspect\npublic class TestAspect {\n\n    @Before(\"execution(* com.test.myMethod(..)))\")\n    public void doSomethingBefore(JoinPoint jp) throws Exception {\n\n        //code  \n    }\n}\n</code></pre>\n\n<p>Here <code>myMethod()</code> will execute before controller.</p>\n"},{"tags":[],"owner":{"account_id":15181101,"reputation":397,"user_id":10954349,"display_name":"JosemyAB"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1548417662,"creation_date":1548417662,"answer_id":54364964,"question_id":54364438,"body_markdown":"Maybe a good option is implement a custom filter that runs every time that a request is received.\r\n\r\nYou need extend &quot;OncePerRequestFilter&quot; and overwrite the method &quot;doFilterInternal&quot;\r\n\r\n    public class CustomFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\r\n                                        FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            //Add attributes to request\r\n            request.getSession().setAttribute(&quot;attrName&quot;, new String(&quot;myValue&quot;));\r\n    \r\n            // Run the method requested by petition\r\n            filterChain.doFilter(request, response);\r\n    \r\n            //Do something after method runs if you need.\r\n    \r\n        }\r\n    }\r\n\r\nAfter you have to register the filter in Spring with FilterRegistrationBean. If you have Spring security yo need add your filter after security filter.","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>Maybe a good option is implement a custom filter that runs every time that a request is received.</p>\n\n<p>You need extend \"OncePerRequestFilter\" and overwrite the method \"doFilterInternal\"</p>\n\n<pre><code>public class CustomFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        //Add attributes to request\n        request.getSession().setAttribute(\"attrName\", new String(\"myValue\"));\n\n        // Run the method requested by petition\n        filterChain.doFilter(request, response);\n\n        //Do something after method runs if you need.\n\n    }\n}\n</code></pre>\n\n<p>After you have to register the filter in Spring with FilterRegistrationBean. If you have Spring security yo need add your filter after security filter.</p>\n"},{"tags":[],"owner":{"account_id":2844102,"reputation":946,"user_id":2442991,"accept_rate":49,"display_name":"algiogia"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1548685043,"creation_date":1548684286,"answer_id":54403662,"question_id":54364438,"body_markdown":"Expanding on Sai Prateek answer, I&#39;v created a custom annotation:\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface OperationContext {\r\n\r\n      String clientId();\r\n\r\n      String userId();\r\n\r\n      String operation();\r\n    }\r\n\r\nand a component to handle it:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class OperationContextAspect {\r\n\r\n      @Before(value = &quot;@annotation(operationContext)&quot;, argNames = &quot;operationContext&quot;)\r\n      public void preHandle(OperationContext operationContext) {\r\n\r\n        RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n\r\n        requestAttributes.setAttribute(&quot;operation&quot;, operationContext.operation, RequestAttributes.SCOPE_REQUEST);\r\n        requestAttributes.setAttribute(&quot;clientId&quot;, operationContext.clientId(), RequestAttributes.SCOPE_REQUEST);\r\n        requestAttributes.setAttribute(&quot;userId&quot;, operationContext.userId(), RequestAttributes.SCOPE_REQUEST);\r\n\r\n      }\r\n    }\r\n\r\nI then annotate the controller methods providing the required parameters:\r\n\r\n    @RestController\r\n    public class MyController {\r\n\r\n      @OperationContext(clientId = &#39;#request.getClientId&#39;, userId = &#39;#request.getUserId&#39;, operation = &quot;OPERATION_A&quot;)\r\n      public ResponseEntity aMethod(MyRequest request) {\r\n        ...\r\n      }\r\n    }","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>Expanding on Sai Prateek answer, I'v created a custom annotation:</p>\n\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface OperationContext {\n\n  String clientId();\n\n  String userId();\n\n  String operation();\n}\n</code></pre>\n\n<p>and a component to handle it:</p>\n\n<pre><code>@Aspect\n@Component\npublic class OperationContextAspect {\n\n  @Before(value = \"@annotation(operationContext)\", argNames = \"operationContext\")\n  public void preHandle(OperationContext operationContext) {\n\n    RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\n\n    requestAttributes.setAttribute(\"operation\", operationContext.operation, RequestAttributes.SCOPE_REQUEST);\n    requestAttributes.setAttribute(\"clientId\", operationContext.clientId(), RequestAttributes.SCOPE_REQUEST);\n    requestAttributes.setAttribute(\"userId\", operationContext.userId(), RequestAttributes.SCOPE_REQUEST);\n\n  }\n}\n</code></pre>\n\n<p>I then annotate the controller methods providing the required parameters:</p>\n\n<pre><code>@RestController\npublic class MyController {\n\n  @OperationContext(clientId = '#request.getClientId', userId = '#request.getUserId', operation = \"OPERATION_A\")\n  public ResponseEntity aMethod(MyRequest request) {\n    ...\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2844102,"reputation":946,"user_id":2442991,"accept_rate":49,"display_name":"algiogia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23527,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1643309720,"creation_date":1548415754,"question_id":54364438,"body_markdown":"Is there any annotation similar to `@PreAuthorize` or `@PreFilter` that I can use to run code before a method in the Controller is invoked?\r\n\r\nI need to add info to the request context (specific to the method being called) to be then retrieved by the `ExceptionHandler`.\r\n\r\nFor example\r\n\r\n    @RestController\r\n    public MyController{\r\n  \r\n      @UnkwonwAnnotation(&quot;prepareContext(request.getAgentId())&quot;){\r\n      public ResponseEntity method1(RequestA requestA) {\r\n        ...\r\n      }\r\n\r\n      @UnkwonwAnnotation(&quot;prepareContext(request.getUserName())&quot;){\r\n      public ResponseEntity method1(RequestB requestB) {\r\n        ...\r\n      }\r\n\r\n    }\r\n\r\nI could actually just use `@PreAuthorize` but doesn&#39;t feel right","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>Is there any annotation similar to <code>@PreAuthorize</code> or <code>@PreFilter</code> that I can use to run code before a method in the Controller is invoked?</p>\n\n<p>I need to add info to the request context (specific to the method being called) to be then retrieved by the <code>ExceptionHandler</code>.</p>\n\n<p>For example</p>\n\n<pre><code>@RestController\npublic MyController{\n\n  @UnkwonwAnnotation(\"prepareContext(request.getAgentId())\"){\n  public ResponseEntity method1(RequestA requestA) {\n    ...\n  }\n\n  @UnkwonwAnnotation(\"prepareContext(request.getUserName())\"){\n  public ResponseEntity method1(RequestB requestB) {\n    ...\n  }\n\n}\n</code></pre>\n\n<p>I could actually just use <code>@PreAuthorize</code> but doesn't feel right</p>\n"},{"tags":["java","spring","spring-boot","log4j2"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1578403324,"post_id":59629214,"comment_id":105420414,"body_markdown":"Please read the documentation https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging","body":"Please read the documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":1,"creation_date":1578451436,"post_id":59629214,"comment_id":105439660,"body_markdown":"Although it isn&#39;t causing this error, the configuration file being used is for Log4j 1.x not Log4j 2.","body":"Although it isn&#39;t causing this error, the configuration file being used is for Log4j 1.x not Log4j 2."},{"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"score":0,"creation_date":1628768652,"post_id":59629214,"comment_id":121512869,"body_markdown":"With Spring boot `2.3.0.RELEASE`+ version, support Log4j2 natively. See: https://stackoverflow.com/a/61873064/8718377","body":"With Spring boot <code>2.3.0.RELEASE</code>+ version, support Log4j2 natively. See: <a href=\"https://stackoverflow.com/a/61873064/8718377\">stackoverflow.com/a/61873064/8718377</a>"}],"answers":[{"tags":[],"owner":{"account_id":7919936,"reputation":1216,"user_id":5981237,"display_name":"nfvp"},"down_vote_count":0,"up_vote_count":108,"is_accepted":true,"score":108,"last_activity_date":1643309697,"creation_date":1578584912,"answer_id":59667631,"question_id":59629214,"body_markdown":"According to Spring [documentation][1] (as pointed out by Simon), we want to exclude the &quot;spring-boot-starter-logging&quot; module from **all libraries**, not just from &quot;spring-boot-starter-web&quot;.\r\n\r\n    configurations {\r\n        ...\r\n        all {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n    }\r\n\r\n...instead of...\r\n\r\n    dependencies {\r\n        ...\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter&#39;) {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n    }\r\n\r\nI myself had the same problem and solved it with this solution.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>According to Spring <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging\" rel=\"noreferrer\">documentation</a> (as pointed out by Simon), we want to exclude the &quot;spring-boot-starter-logging&quot; module from <strong>all libraries</strong>, not just from &quot;spring-boot-starter-web&quot;.</p>\n<pre><code>configurations {\n    ...\n    all {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n}\n</code></pre>\n<p>...instead of...</p>\n<pre><code>dependencies {\n    ...\n    implementation('org.springframework.boot:spring-boot-starter') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n}\n</code></pre>\n<p>I myself had the same problem and solved it with this solution.</p>\n"},{"tags":[],"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1589815428,"creation_date":1589815428,"answer_id":61873064,"question_id":59629214,"body_markdown":"Spring boot `2.3.0.RELEASE` version, support **Log4j2** natively, for logging configuration if it is on the classpath. In this case, you can simply remove other log4j dependencies.\r\n\r\nIn other case, if you use the starters for assembling dependencies, you have to exclude Logback and then include log4j 2 instead: \r\n\r\nYou can do like that with **Gradle**:\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n    }\r\n    \r\n    configurations {\r\n        all {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n    }\r\n\r\nOr with **Maven**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nMore information on the official documentation: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>Spring boot <code>2.3.0.RELEASE</code> version, support <strong>Log4j2</strong> natively, for logging configuration if it is on the classpath. In this case, you can simply remove other log4j dependencies.</p>\n\n<p>In other case, if you use the starters for assembling dependencies, you have to exclude Logback and then include log4j 2 instead: </p>\n\n<p>You can do like that with <strong>Gradle</strong>:</p>\n\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n}\n\nconfigurations {\n    all {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n}\n</code></pre>\n\n<p>Or with <strong>Maven</strong>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>More information on the official documentation: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging</a></p>\n"},{"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1607700414,"creation_date":1607700414,"answer_id":65254111,"question_id":59629214,"body_markdown":"I excluded spring boot logging from build.gradle but issue was still occurring. It got resolved by removing `org.apache.logging.log4j/log4j-slf4j-impl/2.12.1` from .classpath","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>I excluded spring boot logging from build.gradle but issue was still occurring. It got resolved by removing <code>org.apache.logging.log4j/log4j-slf4j-impl/2.12.1</code> from .classpath</p>\n"},{"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611586264,"creation_date":1611586264,"answer_id":65887061,"question_id":59629214,"body_markdown":"Even after correcting classpath, I had the same problem in STS and Gradle &#39;Refresh All&#39; solved it.","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>Even after correcting classpath, I had the same problem in STS and Gradle 'Refresh All' solved it.</p>\n"},{"tags":[],"owner":{"account_id":6683250,"reputation":115,"user_id":5155570,"display_name":"Gayathri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620788065,"creation_date":1620788065,"answer_id":67496734,"question_id":59629214,"body_markdown":"The best way to solve this would be to run gradle dependencies, and identify where the log4j-to-slf4j is coming from, and then exclude this module in build.gradle","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>The best way to solve this would be to run gradle dependencies, and identify where the log4j-to-slf4j is coming from, and then exclude this module in build.gradle</p>\n"},{"tags":[],"owner":{"account_id":385199,"reputation":744,"user_id":742192,"display_name":"justCurious"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627280551,"creation_date":1627280551,"answer_id":68525331,"question_id":59629214,"body_markdown":"From the error logs decide which project to exclude.\r\n\r\ne.g for a error msg like this: Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j\r\nI&#39;ve used the gradle exclude:\r\n\r\n&gt; configurations.all { exclude group: &#39;org.apache.logging.log4j&#39;\r\n&gt; \r\n&gt; }","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>From the error logs decide which project to exclude.</p>\n<p>e.g for a error msg like this: Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j\nI've used the gradle exclude:</p>\n<blockquote>\n<p>configurations.all { exclude group: 'org.apache.logging.log4j'</p>\n<p>}</p>\n</blockquote>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131093,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":59667631,"answer_count":6,"score":79,"last_activity_date":1643309697,"creation_date":1578403037,"question_id":59629214,"body_markdown":"In my **Spring boot 2** project:\r\n\r\nIn `build.gradle`:\r\n\r\n    dependencies {\r\n        implementation &#39;com.google.code.gson:gson:2.7&#39;\r\n        implementation &#39;com.h2database:h2&#39;\r\n        implementation &#39;javax.servlet:jstl:1.2&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter&#39;) {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n    \r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n    \r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.5.2&#39;\r\n    }\r\n\r\nIn `src/resources/log4j2.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    \r\n    &lt;log4j:configuration debug=&quot;true&quot; xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n    \r\n        &lt;appender name=&quot;Console&quot;\r\n                  class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                &lt;!-- l, L, M - is extremely slow. It&#39;s use should be avoided unless execution\r\n                    speed is not an issue. --&gt;\r\n                &lt;param name=&quot;ConversionPattern&quot;\r\n                       value=&quot;%p: %d{dd.MM.yyyy HH:mm:ss.SSS} %l %n    %m%n&quot;/&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;File&quot;\r\n                  class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n            &lt;param name=&quot;Encoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n            &lt;param name=&quot;File&quot; value=&quot;logs/trace.log&quot;/&gt;\r\n            &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\r\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                &lt;!-- l, L, M - is extremely slow. It&#39;s use should be avoided unless execution\r\n                    speed is not an issue. --&gt;\r\n                &lt;param name=&quot;ConversionPattern&quot;\r\n                       value=&quot;%p: %d{dd.MM.yyyy HH:mm:ss.SSS} %l %n    %m%n&quot;/&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;!-- Application Loggers --&gt;\r\n        &lt;logger name=&quot;com.journaldev.spring&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;!-- 3rdparty Loggers --&gt;\r\n        &lt;logger name=&quot;org.springframework.core&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;org.hibernate&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.beans&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.context&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.web&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;!-- The root category is used for all loggers unless a more specific logger\r\n            matches. If none of the loggers are assigned a level, then all loggers inherit\r\n            the level of the root logger which is set to DEBUG by default --&gt;\r\n        &lt;root&gt;\r\n            &lt;level value=&quot;ALL&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;Console&quot;/&gt;\r\n            &lt;!-- &lt;appender-ref ref=&quot;File&quot; /&gt; --&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/log4j:configuration&gt;\r\n\r\n\r\nIn my controller:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    @Controller\r\n    public class CategoryController {\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        private static Logger logger = LoggerFactory.getLogger(CategoryController.class);\r\n    \r\n     @GetMapping(&quot;/categories&quot;)\r\n        public String getCategories(Model model) {\r\n            logger.debug(&quot;getCategories&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n            model.addAttribute(&quot;categoryList&quot;, this.categoryRepository.findAll());\r\n            return &quot;categories/category_list&quot;;\r\n        }\r\n    }\r\n\r\nBut when I start project I get error:\r\n\r\n&gt; Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl\r\n&gt; cannot be present with log4j-to-slf4j\r\n\r\n\r\n\r\n","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>In my <strong>Spring boot 2</strong> project:</p>\n\n<p>In <code>build.gradle</code>:</p>\n\n<pre><code>dependencies {\n    implementation 'com.google.code.gson:gson:2.7'\n    implementation 'com.h2database:h2'\n    implementation 'javax.servlet:jstl:1.2'\n    implementation 'org.springframework.boot:spring-boot-devtools'\n    implementation('org.springframework.boot:spring-boot-starter') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation \"org.springframework.boot:spring-boot-starter-web\"\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.5.2'\n}\n</code></pre>\n\n<p>In <code>src/resources/log4j2.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n\n&lt;log4j:configuration debug=\"true\" xmlns:log4j=\"http://jakarta.apache.org/log4j/\"&gt;\n\n    &lt;appender name=\"Console\"\n              class=\"org.apache.log4j.ConsoleAppender\"&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;!-- l, L, M - is extremely slow. It's use should be avoided unless execution\n                speed is not an issue. --&gt;\n            &lt;param name=\"ConversionPattern\"\n                   value=\"%p: %d{dd.MM.yyyy HH:mm:ss.SSS} %l %n    %m%n\"/&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"File\"\n              class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n        &lt;param name=\"Encoding\" value=\"UTF-8\"/&gt;\n        &lt;param name=\"File\" value=\"logs/trace.log\"/&gt;\n        &lt;param name=\"Append\" value=\"true\"/&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;!-- l, L, M - is extremely slow. It's use should be avoided unless execution\n                speed is not an issue. --&gt;\n            &lt;param name=\"ConversionPattern\"\n                   value=\"%p: %d{dd.MM.yyyy HH:mm:ss.SSS} %l %n    %m%n\"/&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Application Loggers --&gt;\n    &lt;logger name=\"com.journaldev.spring\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;!-- 3rdparty Loggers --&gt;\n    &lt;logger name=\"org.springframework.core\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=\"org.hibernate\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=\"org.springframework.beans\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=\"org.springframework.context\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=\"org.springframework.web\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;!-- The root category is used for all loggers unless a more specific logger\n        matches. If none of the loggers are assigned a level, then all loggers inherit\n        the level of the root logger which is set to DEBUG by default --&gt;\n    &lt;root&gt;\n        &lt;level value=\"ALL\"/&gt;\n        &lt;appender-ref ref=\"Console\"/&gt;\n        &lt;!-- &lt;appender-ref ref=\"File\" /&gt; --&gt;\n    &lt;/root&gt;\n\n&lt;/log4j:configuration&gt;\n</code></pre>\n\n<p>In my controller:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class CategoryController {\n    private CategoryRepository categoryRepository;\n\n    private static Logger logger = LoggerFactory.getLogger(CategoryController.class);\n\n @GetMapping(\"/categories\")\n    public String getCategories(Model model) {\n        logger.debug(\"getCategories&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\");\n        model.addAttribute(\"categoryList\", this.categoryRepository.findAll());\n        return \"categories/category_list\";\n    }\n}\n</code></pre>\n\n<p>But when I start project I get error:</p>\n\n<blockquote>\n  <p>Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl\n  cannot be present with log4j-to-slf4j</p>\n</blockquote>\n"},{"tags":["java","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586233790,"creation_date":1586233066,"answer_id":61072775,"question_id":61072758,"body_markdown":"Yes, it will definitely work\r\n\r\nYou simply need to configure it properly\r\n\r\ncheck your build.gradle source sets and targets\r\n\r\nFollow the below folder structure\r\n\r\n       src\r\n          main\r\n             java\r\n             kotlin\r\n             resources\r\n","title":"Can Kotlin controller class access Java service class in spring boot","body":"<p>Yes, it will definitely work</p>\n\n<p>You simply need to configure it properly</p>\n\n<p>check your build.gradle source sets and targets</p>\n\n<p>Follow the below folder structure</p>\n\n<pre><code>   src\n      main\n         java\n         kotlin\n         resources\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12854102,"reputation":89,"user_id":9297984,"display_name":"Mayank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643309686,"creation_date":1643276019,"answer_id":70876219,"question_id":61072758,"body_markdown":"I have done the following to successfully use Kotlin in my existing Spring Boot App.\r\nMy IDE is IntelliJ.\r\n\r\n(1)\r\n\r\nEnsure that Kotlin plugin is installed in the IDE.\r\n1.\tSelect Tools -&gt; Kotlin -&gt; Configure Kotlin Plugin Updates.\r\n2.\tIn the Update channel list, select the Stable channel.\r\n3.\tClick Check again. The latest Stable build version appears.\r\n4.\tClick Install. Apply / OK.\r\n\r\n\r\n(2)\r\n\r\nGet the required dependencies.\r\n1.\tOpen Spring Initializr (https://start.spring.io/).\r\n2.  Select language as Kotlin.\r\n3.\tKeep other things as usual. Here we are doing it for Maven Project.\r\n4.\tClick on Explore. Sample pom.xml will appear.\r\n5. Now copy the following from the sample pom.xml to the pom.xml of your existing Spring Boot Project.\r\n    \r\n```\r\n…\r\n&lt;properties&gt;\r\n    …\r\n    &lt;kotlin.version&gt;1.6.10&lt;/kotlin.version&gt;\r\n    &lt;!--Edit the version to the latest stable version, if applicable--&gt;\r\n&lt;/properties&gt;\r\n…\r\n&lt;dependencies&gt;\r\n    …\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n…\r\n&lt;build&gt;\r\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n    …\r\n&lt;/build&gt;\r\n…\r\n&lt;plugins&gt;\r\n    …\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;args&gt;\r\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n          &lt;/args&gt;\r\n          &lt;compilerPlugins&gt;\r\n            &lt;plugin&gt;spring&lt;/plugin&gt;\r\n          &lt;/compilerPlugins&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n(3)\r\n\r\nCreate the required directories in your project.\r\n1.\tIn the src/main directory of your project, create a new directory and name it as kotlin (this directory should be at the same level as src/main/java)\r\n2.  Now right click this directory -&gt;  Mark Directory as -&gt; Sources Root\r\n3.\tAlso, in the src/test directory of your project, create a new directory and name it as kotlin (this directory should be at the same level as src/test/java)\r\n4.\tNow right click this directory -&gt;  Mark Directory as -&gt; Test Sources Root\r\n\r\n(4)\r\n\r\nNow update / rebuild the project.\r\nIf any Maven / build errors show up then do one / all of the following:\r\n1.\tRight click pom.xml -&gt; Maven -&gt; Download sources and documentation\r\n2.\tRight click pom.xml -&gt; Maven -&gt; Generate sources and update folders\r\n3.\tRight click pom.xml -&gt; Maven -&gt; Reload project\r\n \r\n(5)\r\n\r\nNow you can create a Kotlin class under the src/main/kotlin package.\r\nFor this,\r\n1.\tRight click the package -&gt; New -&gt; Kotlin Class/File\r\n2.\tGive the class some name and double click Class\r\n\r\nNote:\r\n\r\nIf the newly created Kotlin class does not have a package statement then it will not be visible from your Java classes.\t\r\n\r\nTo fix this,\r\n\r\n1.\tGo to your Java class which has the main method. (This is the class which is annotated by @SpringBootApplication)\r\n2.\tCopy the package statement of this class. This should most likely be the first statement of the Java class and should be something like\r\n    \r\n        package com.xyz.myApplication;\r\n\r\n3.\tPaste this statement in the Kotlin class so that this becomes the first statement of your Kotlin class as well.\r\n\r\n\r\nOnce everything is done, you can simply import and instantiate your Kotlin classes from inside your Java classes.\r\nYou can also do vice versa, that is, import and instantiate your Java classes from inside your Kotlin classes. \r\n","title":"Can Kotlin controller class access Java service class in spring boot","body":"<p>I have done the following to successfully use Kotlin in my existing Spring Boot App.\nMy IDE is IntelliJ.</p>\n<p>(1)</p>\n<p>Ensure that Kotlin plugin is installed in the IDE.</p>\n<ol>\n<li>Select Tools -&gt; Kotlin -&gt; Configure Kotlin Plugin Updates.</li>\n<li>In the Update channel list, select the Stable channel.</li>\n<li>Click Check again. The latest Stable build version appears.</li>\n<li>Click Install. Apply / OK.</li>\n</ol>\n<p>(2)</p>\n<p>Get the required dependencies.</p>\n<ol>\n<li>Open Spring Initializr (<a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>).</li>\n<li>Select language as Kotlin.</li>\n<li>Keep other things as usual. Here we are doing it for Maven Project.</li>\n<li>Click on Explore. Sample pom.xml will appear.</li>\n<li>Now copy the following from the sample pom.xml to the pom.xml of your existing Spring Boot Project.</li>\n</ol>\n<pre><code>…\n&lt;properties&gt;\n    …\n    &lt;kotlin.version&gt;1.6.10&lt;/kotlin.version&gt;\n    &lt;!--Edit the version to the latest stable version, if applicable--&gt;\n&lt;/properties&gt;\n…\n&lt;dependencies&gt;\n    …\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n      &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n      &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n…\n&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    …\n&lt;/build&gt;\n…\n&lt;plugins&gt;\n    …\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;args&gt;\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n          &lt;/args&gt;\n          &lt;compilerPlugins&gt;\n            &lt;plugin&gt;spring&lt;/plugin&gt;\n          &lt;/compilerPlugins&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>(3)</p>\n<p>Create the required directories in your project.</p>\n<ol>\n<li>In the src/main directory of your project, create a new directory and name it as kotlin (this directory should be at the same level as src/main/java)</li>\n<li>Now right click this directory -&gt;  Mark Directory as -&gt; Sources Root</li>\n<li>Also, in the src/test directory of your project, create a new directory and name it as kotlin (this directory should be at the same level as src/test/java)</li>\n<li>Now right click this directory -&gt;  Mark Directory as -&gt; Test Sources Root</li>\n</ol>\n<p>(4)</p>\n<p>Now update / rebuild the project.\nIf any Maven / build errors show up then do one / all of the following:</p>\n<ol>\n<li>Right click pom.xml -&gt; Maven -&gt; Download sources and documentation</li>\n<li>Right click pom.xml -&gt; Maven -&gt; Generate sources and update folders</li>\n<li>Right click pom.xml -&gt; Maven -&gt; Reload project</li>\n</ol>\n<p>(5)</p>\n<p>Now you can create a Kotlin class under the src/main/kotlin package.\nFor this,</p>\n<ol>\n<li>Right click the package -&gt; New -&gt; Kotlin Class/File</li>\n<li>Give the class some name and double click Class</li>\n</ol>\n<p>Note:</p>\n<p>If the newly created Kotlin class does not have a package statement then it will not be visible from your Java classes.</p>\n<p>To fix this,</p>\n<ol>\n<li><p>Go to your Java class which has the main method. (This is the class which is annotated by @SpringBootApplication)</p>\n</li>\n<li><p>Copy the package statement of this class. This should most likely be the first statement of the Java class and should be something like</p>\n<pre><code>package com.xyz.myApplication;\n</code></pre>\n</li>\n<li><p>Paste this statement in the Kotlin class so that this becomes the first statement of your Kotlin class as well.</p>\n</li>\n</ol>\n<p>Once everything is done, you can simply import and instantiate your Kotlin classes from inside your Java classes.\nYou can also do vice versa, that is, import and instantiate your Java classes from inside your Kotlin classes.</p>\n"}],"owner":{"account_id":17952484,"reputation":21,"user_id":13045316,"display_name":"Ranjeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643309686,"creation_date":1586232920,"question_id":61072758,"body_markdown":"I a working on a project in spring boot .. is it possible to use in kotlin and java both in **spring-boot** project.\r\nI have tried by making a Kotlin **@controller class** and calling java **@service class** but it isn&#39;t working \r\n","title":"Can Kotlin controller class access Java service class in spring boot","body":"<p>I a working on a project in spring boot .. is it possible to use in kotlin and java both in <strong>spring-boot</strong> project.\nI have tried by making a Kotlin <strong>@controller class</strong> and calling java <strong>@service class</strong> but it isn't working </p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570306615,"creation_date":1570306615,"answer_id":58251986,"question_id":58251708,"body_markdown":"Try to follow the approach:\r\n\r\n1. Create an empty adapter the same time you set LayoutManager for the RecyclerView: Save it as field of your Fragment:\r\n\r\n```\r\nrecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\nuserAdapter= new UserAdapter(getContext(), new ArraysList&lt;&gt;(), true);\r\nrecyclerView.setAdapter(userAdapter);\r\n```\r\n\r\n2. When data is ready, populate the adapter and notify:\r\n\r\n```\r\npublic void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n   /// origin code here\r\n\r\n  // reset data in adapter and not re-creating adapter:\r\n  userAdapter.setItems(mUsers);\r\n  getActivity().runOnUiThread(() -&gt; userAdapter.notifyDataSetChanged());\r\n // instead of userAdapter= new UserAdapter(getContext(), mUsers, true); recyclerView.setAdapter(userAdapter); \r\n}\r\n```","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<p>Try to follow the approach:</p>\n\n<ol>\n<li>Create an empty adapter the same time you set LayoutManager for the RecyclerView: Save it as field of your Fragment:</li>\n</ol>\n\n<pre><code>recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\nuserAdapter= new UserAdapter(getContext(), new ArraysList&lt;&gt;(), true);\nrecyclerView.setAdapter(userAdapter);\n</code></pre>\n\n<ol start=\"2\">\n<li>When data is ready, populate the adapter and notify:</li>\n</ol>\n\n<pre><code>public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n   /// origin code here\n\n  // reset data in adapter and not re-creating adapter:\n  userAdapter.setItems(mUsers);\n  getActivity().runOnUiThread(() -&gt; userAdapter.notifyDataSetChanged());\n // instead of userAdapter= new UserAdapter(getContext(), mUsers, true); recyclerView.setAdapter(userAdapter); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570306979,"creation_date":1570306979,"answer_id":58252033,"question_id":58251708,"body_markdown":"I&#39;m going to argue the case that you can simply ignore the warning as that&#39;s all it is. Your recycler adapter does get created and applied to the RecyclerView when you have some data to display.","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<p>I'm going to argue the case that you can simply ignore the warning as that's all it is. Your recycler adapter does get created and applied to the RecyclerView when you have some data to display.</p>\n"},{"tags":[],"owner":{"account_id":21699177,"reputation":71,"user_id":16012575,"display_name":"Amit guha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622093219,"creation_date":1622093219,"answer_id":67716148,"question_id":58251708,"body_markdown":"# For kotlin(Fragment): #\r\n\r\n```\r\nrecyclerView.layoutManager=LinearLayoutManager(context)\r\n```","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<h1>For kotlin(Fragment):</h1>\n<pre><code>recyclerView.layoutManager=LinearLayoutManager(context)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657042,"reputation":1171,"user_id":9150584,"display_name":"Meysam Keshvari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643309086,"creation_date":1643309086,"answer_id":70884065,"question_id":58251708,"body_markdown":"    binding.recyclerView.layoutManager = LinearLayoutManager(this)","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<pre><code>binding.recyclerView.layoutManager = LinearLayoutManager(this)\n</code></pre>\n"}],"owner":{"account_id":16832234,"reputation":3,"user_id":12169910,"display_name":"Anthony Dominguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58251986,"answer_count":4,"score":0,"last_activity_date":1643309086,"creation_date":1570304174,"question_id":58251708,"body_markdown":"I need help, i have an error, that is this:  E/RecyclerView: No adapter attached; skipping layout\r\n\r\nCODE:\r\n\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view= inflater.inflate(R.layout.fragment_chats, container, false);\r\n\r\n        recyclerView= view.findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n        fuser= FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        usersList= new ArrayList&lt;&gt;();\r\n\r\n        reference= FirebaseDatabase.getInstance().getReference(&quot;Chatlist&quot;).child(fuser.getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                usersList.clear();\r\n                for(DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                    Chatlist chatlist= snapshot.getValue(Chatlist.class);\r\n                    usersList.add(chatlist);\r\n                }\r\n\r\n                chatList();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    private void chatList() {\r\n        mUsers = new ArrayList&lt;&gt;();\r\n        reference= FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                mUsers.clear();\r\n                for(DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                    User user= snapshot.getValue(User.class);\r\n                    for(Chatlist chatlist : usersList){\r\n                        if(user.getId().equals(chatlist.getId())){\r\n                            mUsers.add(user);\r\n                        }\r\n                    }\r\n                }\r\n                userAdapter= new UserAdapter(getContext(), mUsers, true);\r\n                recyclerView.setAdapter(userAdapter);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<p>I need help, i have an error, that is this:  E/RecyclerView: No adapter attached; skipping layout</p>\n\n<p>CODE:</p>\n\n<p>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view= inflater.inflate(R.layout.fragment_chats, container, false);</p>\n\n<pre><code>    recyclerView= view.findViewById(R.id.recycler_view);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n\n    fuser= FirebaseAuth.getInstance().getCurrentUser();\n\n    usersList= new ArrayList&lt;&gt;();\n\n    reference= FirebaseDatabase.getInstance().getReference(\"Chatlist\").child(fuser.getUid());\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            usersList.clear();\n            for(DataSnapshot snapshot : dataSnapshot.getChildren()){\n                Chatlist chatlist= snapshot.getValue(Chatlist.class);\n                usersList.add(chatlist);\n            }\n\n            chatList();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n\n    return view;\n}\n\nprivate void chatList() {\n    mUsers = new ArrayList&lt;&gt;();\n    reference= FirebaseDatabase.getInstance().getReference(\"Users\");\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            mUsers.clear();\n            for(DataSnapshot snapshot : dataSnapshot.getChildren()){\n                User user= snapshot.getValue(User.class);\n                for(Chatlist chatlist : usersList){\n                    if(user.getId().equals(chatlist.getId())){\n                        mUsers.add(user);\n                    }\n                }\n            }\n            userAdapter= new UserAdapter(getContext(), mUsers, true);\n            recyclerView.setAdapter(userAdapter);\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1643307045,"post_id":70883619,"comment_id":125311238,"body_markdown":"Please read https://stackoverflow.com/editing-help#code and edit your post to use the Markdown for code blocks, rather than HTML - it will avoid all the odd grey boxes.","body":"Please read <a href=\"https://stackoverflow.com/editing-help#code\">stackoverflow.com/editing-help#code</a> and edit your post to use the Markdown for code blocks, rather than HTML - it will avoid all the odd grey boxes."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1643307377,"post_id":70883619,"comment_id":125311357,"body_markdown":"`autos.stream().filter(v -&gt; v.getColores().stream().anyMatch(c -&gt;  c.getTecho().equalsIgnoreCase(&quot;Blanco&quot;))).findAny()`","body":"<code>autos.stream().filter(v -&gt; v.getColores().stream().anyMatch(c -&gt;  c.getTecho().equalsIgnoreCase(&quot;Blanco&quot;))).findAny()</code>"}],"answers":[{"tags":[],"owner":{"account_id":16055833,"reputation":126,"user_id":14425218,"display_name":"C M Abdullah Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643308977,"creation_date":1643308977,"answer_id":70884052,"question_id":70883619,"body_markdown":"You must have to handle potential NullPointerException\r\n\r\n\t\tVehiculo vehiculoFinal2 = autos.stream().filter(Objects::nonNull).filter(vehiculo -&gt;\r\n\t\t\t\tObjects.nonNull(vehiculo.getColores()) &amp;&amp; vehiculo.getColores().stream().filter(Objects::nonNull)\r\n\t\t\t\t\t\t.anyMatch(opcionesColores -&gt; \r\n                                Objects.nonNull(opcionesColores.getTecho()) &amp;&amp; \r\n                                        opcionesColores.getTecho().equalsIgnoreCase(&quot;Blanco&quot;))\r\n\t\t).findFirst().orElse(null);","title":"get object from list that is in another list of objects","body":"<p>You must have to handle potential NullPointerException</p>\n<pre><code>    Vehiculo vehiculoFinal2 = autos.stream().filter(Objects::nonNull).filter(vehiculo -&gt;\n            Objects.nonNull(vehiculo.getColores()) &amp;&amp; vehiculo.getColores().stream().filter(Objects::nonNull)\n                    .anyMatch(opcionesColores -&gt; \n                            Objects.nonNull(opcionesColores.getTecho()) &amp;&amp; \n                                    opcionesColores.getTecho().equalsIgnoreCase(&quot;Blanco&quot;))\n    ).findFirst().orElse(null);\n</code></pre>\n"}],"owner":{"account_id":24074452,"reputation":3,"user_id":18049991,"display_name":"Jochelo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70884052,"answer_count":1,"score":0,"last_activity_date":1643308977,"creation_date":1643306914,"question_id":70883619,"body_markdown":"so, i have 2 object\r\n&lt;code&gt;\r\n\r\n    public class Vehiculo {\r\n        private Integer idVeiculo;\r\n        private List&lt;OpcionesColores&gt; colores;\r\n        private String marca;\r\n        //getter and setter\r\n\r\n&lt;/code&gt;\r\nand \r\n&lt;code&gt;\r\n\r\n    public class OpcionesColores {\r\n        private String puerta;\r\n        private String techo;\r\n        private String rines;\r\n    //getter and setter\r\n\r\n&lt;/code&gt;\r\n\r\nnow, the main class\r\n\r\n&lt;code&gt;\r\n\r\n    package cl.poc;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class Recorrido {\r\n    \r\n        private static final org.slf4j.Logger log = LoggerFactory.getLogger(Recorrido.class);\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            OpcionesColores color1 = new OpcionesColores(&quot;Rojo&quot;, &quot;Azul&quot;, &quot;Negro&quot;);\r\n            OpcionesColores color2 = new OpcionesColores(&quot;Rojo&quot;, &quot;Amarillo&quot;, &quot;Black&quot;);\r\n            OpcionesColores color3 = new OpcionesColores(&quot;Rojo&quot;, &quot;Blanco&quot;, &quot;Marron&quot;);\r\n            OpcionesColores color4 = new OpcionesColores(&quot;Rojo&quot;, &quot;Azul&quot;, &quot;Negro&quot;);\r\n            List&lt;OpcionesColores&gt; colores = new ArrayList&lt;&gt;();\r\n            colores.add(color1);\r\n            colores.add(color2);\r\n            colores.add(color4);\r\n            List&lt;OpcionesColores&gt; colores2 = new ArrayList&lt;&gt;();\r\n            colores2.add(color1);\r\n            colores2.add(color2);\r\n            colores2.add(color3);\r\n            colores2.add(color4);\r\n            List&lt;OpcionesColores&gt; colores3 = new ArrayList&lt;&gt;();\r\n            colores3.add(color1);\r\n            colores3.add(color2);\r\n            colores3.add(color4);\r\n    \r\n            Vehiculo auto = new Vehiculo(1, colores, &quot;mazda&quot;);\r\n            Vehiculo auto2 = new Vehiculo(2, colores2, &quot;nissan&quot;);\r\n            Vehiculo auto3 = new Vehiculo(3, colores3, &quot;toyota&quot;);\r\n    \r\n            List&lt;Vehiculo&gt; autos = new ArrayList&lt;&gt;();\r\n            autos.add(auto);\r\n            autos.add(auto2);\r\n            autos.add(auto3);\r\n    \r\n    //        autos.stream().forEach(\r\n    //            (autosLoop) -&gt; colores.stream().filter(c -&gt; c.getTecho().equalsIgnoreCase(&quot;blanco&quot;)).collect(\r\n    //                Collectors.toList()));\r\n    \r\n    //        autos.stream().forEach((autosLoop) -&gt; colores.stream().forEach(System.out::println));\r\n    \r\n            Vehiculo vehiculoFinal = new Vehiculo();\r\n    \r\n            for (Vehiculo vehiculo : autos) {\r\n                for (OpcionesColores opcionesColores : vehiculo.getColores()) {\r\n                    if (opcionesColores.getTecho().equalsIgnoreCase(&quot;Blanco&quot;)) {\r\n                        vehiculoFinal = vehiculo;\r\n                        System.out.println(opcionesColores);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(vehiculoFinal);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\ni need to get the &quot;vehiculo&quot; with &quot;OpcionesColores.techo&quot; is &quot;blanco&quot;. i tried using lambda expresion but not working to me.\r\nI know if i&#39;ll use another instance of OpcionesColores and after that remove of vehiculo all items are not blanco is ok, but i need a shortly way to do it \r\n\r\nthanks!\r\n\r\n","title":"get object from list that is in another list of objects","body":"<p>so, i have 2 object\n<code></p>\n<pre><code>public class Vehiculo {\n    private Integer idVeiculo;\n    private List&lt;OpcionesColores&gt; colores;\n    private String marca;\n    //getter and setter\n</code></pre>\n</code>\nand \n<code>\n<pre><code>public class OpcionesColores {\n    private String puerta;\n    private String techo;\n    private String rines;\n//getter and setter\n</code></pre>\n</code>\n<p>now, the main class</p>\n<code>\n<pre><code>package cl.poc;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.slf4j.LoggerFactory;\n\npublic class Recorrido {\n\n    private static final org.slf4j.Logger log = LoggerFactory.getLogger(Recorrido.class);\n\n    public static void main(String[] args) {\n\n        OpcionesColores color1 = new OpcionesColores(&quot;Rojo&quot;, &quot;Azul&quot;, &quot;Negro&quot;);\n        OpcionesColores color2 = new OpcionesColores(&quot;Rojo&quot;, &quot;Amarillo&quot;, &quot;Black&quot;);\n        OpcionesColores color3 = new OpcionesColores(&quot;Rojo&quot;, &quot;Blanco&quot;, &quot;Marron&quot;);\n        OpcionesColores color4 = new OpcionesColores(&quot;Rojo&quot;, &quot;Azul&quot;, &quot;Negro&quot;);\n        List&lt;OpcionesColores&gt; colores = new ArrayList&lt;&gt;();\n        colores.add(color1);\n        colores.add(color2);\n        colores.add(color4);\n        List&lt;OpcionesColores&gt; colores2 = new ArrayList&lt;&gt;();\n        colores2.add(color1);\n        colores2.add(color2);\n        colores2.add(color3);\n        colores2.add(color4);\n        List&lt;OpcionesColores&gt; colores3 = new ArrayList&lt;&gt;();\n        colores3.add(color1);\n        colores3.add(color2);\n        colores3.add(color4);\n\n        Vehiculo auto = new Vehiculo(1, colores, &quot;mazda&quot;);\n        Vehiculo auto2 = new Vehiculo(2, colores2, &quot;nissan&quot;);\n        Vehiculo auto3 = new Vehiculo(3, colores3, &quot;toyota&quot;);\n\n        List&lt;Vehiculo&gt; autos = new ArrayList&lt;&gt;();\n        autos.add(auto);\n        autos.add(auto2);\n        autos.add(auto3);\n\n//        autos.stream().forEach(\n//            (autosLoop) -&gt; colores.stream().filter(c -&gt; c.getTecho().equalsIgnoreCase(&quot;blanco&quot;)).collect(\n//                Collectors.toList()));\n\n//        autos.stream().forEach((autosLoop) -&gt; colores.stream().forEach(System.out::println));\n\n        Vehiculo vehiculoFinal = new Vehiculo();\n\n        for (Vehiculo vehiculo : autos) {\n            for (OpcionesColores opcionesColores : vehiculo.getColores()) {\n                if (opcionesColores.getTecho().equalsIgnoreCase(&quot;Blanco&quot;)) {\n                    vehiculoFinal = vehiculo;\n                    System.out.println(opcionesColores);\n                    break;\n                }\n            }\n        }\n        System.out.println(vehiculoFinal);\n\n    }\n\n}\n</code></pre>\n</code>\n<p>i need to get the &quot;vehiculo&quot; with &quot;OpcionesColores.techo&quot; is &quot;blanco&quot;. i tried using lambda expresion but not working to me.\nI know if i'll use another instance of OpcionesColores and after that remove of vehiculo all items are not blanco is ok, but i need a shortly way to do it</p>\n<p>thanks!</p>\n"},{"tags":["java","android","drag-and-drop","actionlistener","drag"],"comments":[{"owner":{"account_id":20763373,"reputation":19,"user_id":15247971,"display_name":"Beginner Dev"},"score":0,"creation_date":1618829100,"post_id":67158482,"comment_id":118712245,"body_markdown":"Anybody pls help ...","body":"Anybody pls help ..."}],"answers":[{"tags":[],"owner":{"account_id":17316657,"reputation":1,"user_id":12542903,"display_name":"user12542903"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643308897,"creation_date":1643308897,"answer_id":70884035,"question_id":67158482,"body_markdown":"you might want to try this, and put your toast method in the onClick method\r\n\r\n    ImageView image = (ImageView) mWidget.findViewById(R.id.imageBtn);\r\n        image.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                \r\n            }\r\n        }","title":"how to set drag and drop for ImageView in android studio?","body":"<p>you might want to try this, and put your toast method in the onClick method</p>\n<pre><code>ImageView image = (ImageView) mWidget.findViewById(R.id.imageBtn);\n    image.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20763373,"reputation":19,"user_id":15247971,"display_name":"Beginner Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643308897,"creation_date":1618820868,"question_id":67158482,"body_markdown":"I have an ImageView under recyclerView, in that imageView i have placed a imageView(icon) by constraining the layout.\r\n\r\n**if I drag the imageView to the imageView by  using DragShadowBuilder now I want to toast a msg that imageView has selected.**\r\n\r\nI have tried this code but it not works and saying the Clipdata tag is null.\r\n\r\nPlease check the code below\r\n```\r\n    @Override\r\n    public boolean onDrag(View v, DragEvent event)\r\n    {\r\n        Log.d(TAG, &quot;onDrag&quot;);\r\n\r\n        // Store the action type for the incoming event\r\n        final int action = event.getAction();\r\n\r\n        // Handles each of the expected events\r\n        switch (action)\r\n        {\r\n            case DragEvent.ACTION_DRAG_STARTED:\r\n\r\n                // In order to inform user that drag has started, we apply yellow tint to view\r\n                ((ImageView) v).setColorFilter(Color.YELLOW);\r\n\r\n                // Invalidate the view to force a redraw in the new tint\r\n                v.invalidate();\r\n\r\n                // Returns true to indicate that the View can accept the\r\n                // dragged data.\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_ENTERED:\r\n\r\n                // Apply a gray tint to the View\r\n                ((ImageView) v).setColorFilter(Color.LTGRAY);\r\n\r\n                // Invalidate the view to force a redraw in the new tint\r\n                v.invalidate();\r\n\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_LOCATION:\r\n\r\n                // Ignore the event\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_EXITED:\r\n\r\n                // Re-sets the color tint to yellow\r\n                ((ImageView) v).setColorFilter(Color.YELLOW);\r\n\r\n                // Invalidate the view to force a redraw in the new tint\r\n                v.invalidate();\r\n\r\n                return true;\r\n\r\n\r\n            case DragEvent.ACTION_DROP:\r\n                save_drag.setTag(&quot;bookmark&quot;);\r\n// Create a new ClipData.\r\n                // This is done in two steps to provide clarity. The convenience method\r\n                // ClipData.newPlainText() can create a plain text ClipData in one step.\r\n\r\n                // Create a new ClipData.Item from the ImageView object&#39;s tag\r\n                ClipData.Item item = new ClipData.Item(v.getTag());\r\n\r\n                // Create a new ClipData using the tag as a label, the plain text MIME type, and\r\n                // the already-created item. This will create a new ClipDescription object within the\r\n                // ClipData, and set its MIME type entry to &quot;text/plain&quot;\r\n                ClipData dragData = new ClipData(v.getTag(),ClipData.MIMETYPE_TEXT_PLAIN,item);\r\n\r\n                // Gets the item containing the dragged data\r\n                ClipData dragData = event.getClipData();\r\n                // Gets the text data from the item.\r\n                final String tag = dragData.getItemAt(0).toString();\r\n\r\n                // Displays a message containing the dragged data.\r\n                Toast.makeText(mContext, &quot;The dragged image is &quot; + tag, Toast.LENGTH_SHORT).show();\r\n\r\n                // Turns off any color tints\r\n                ((ImageView) v).clearColorFilter();\r\n\r\n                // Invalidates the view to force a redraw\r\n                v.invalidate();\r\n\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_ENDED:\r\n\r\n                // Turns off any color tinting\r\n                ((ImageView) v).clearColorFilter();\r\n\r\n                // Invalidates the view to force a redraw\r\n                v.invalidate();\r\n\r\n                // Check for result\r\n                if (event.getResult())\r\n                {\r\n                    Toast.makeText(mContext, &quot;Bingo !&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n                else\r\n                {\r\n                    Toast.makeText(mContext, &quot;Oups, try again !&quot;, Toast.LENGTH_SHORT).show();\r\n                    save_drag.setImageBitmap(null);\r\n\r\n                }\r\n\r\n                return true;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        return false;\r\n    }\r\n```","title":"how to set drag and drop for ImageView in android studio?","body":"<p>I have an ImageView under recyclerView, in that imageView i have placed a imageView(icon) by constraining the layout.</p>\n<p><strong>if I drag the imageView to the imageView by  using DragShadowBuilder now I want to toast a msg that imageView has selected.</strong></p>\n<p>I have tried this code but it not works and saying the Clipdata tag is null.</p>\n<p>Please check the code below</p>\n<pre><code>    @Override\n    public boolean onDrag(View v, DragEvent event)\n    {\n        Log.d(TAG, &quot;onDrag&quot;);\n\n        // Store the action type for the incoming event\n        final int action = event.getAction();\n\n        // Handles each of the expected events\n        switch (action)\n        {\n            case DragEvent.ACTION_DRAG_STARTED:\n\n                // In order to inform user that drag has started, we apply yellow tint to view\n                ((ImageView) v).setColorFilter(Color.YELLOW);\n\n                // Invalidate the view to force a redraw in the new tint\n                v.invalidate();\n\n                // Returns true to indicate that the View can accept the\n                // dragged data.\n                return true;\n\n            case DragEvent.ACTION_DRAG_ENTERED:\n\n                // Apply a gray tint to the View\n                ((ImageView) v).setColorFilter(Color.LTGRAY);\n\n                // Invalidate the view to force a redraw in the new tint\n                v.invalidate();\n\n                return true;\n\n            case DragEvent.ACTION_DRAG_LOCATION:\n\n                // Ignore the event\n                return true;\n\n            case DragEvent.ACTION_DRAG_EXITED:\n\n                // Re-sets the color tint to yellow\n                ((ImageView) v).setColorFilter(Color.YELLOW);\n\n                // Invalidate the view to force a redraw in the new tint\n                v.invalidate();\n\n                return true;\n\n\n            case DragEvent.ACTION_DROP:\n                save_drag.setTag(&quot;bookmark&quot;);\n// Create a new ClipData.\n                // This is done in two steps to provide clarity. The convenience method\n                // ClipData.newPlainText() can create a plain text ClipData in one step.\n\n                // Create a new ClipData.Item from the ImageView object's tag\n                ClipData.Item item = new ClipData.Item(v.getTag());\n\n                // Create a new ClipData using the tag as a label, the plain text MIME type, and\n                // the already-created item. This will create a new ClipDescription object within the\n                // ClipData, and set its MIME type entry to &quot;text/plain&quot;\n                ClipData dragData = new ClipData(v.getTag(),ClipData.MIMETYPE_TEXT_PLAIN,item);\n\n                // Gets the item containing the dragged data\n                ClipData dragData = event.getClipData();\n                // Gets the text data from the item.\n                final String tag = dragData.getItemAt(0).toString();\n\n                // Displays a message containing the dragged data.\n                Toast.makeText(mContext, &quot;The dragged image is &quot; + tag, Toast.LENGTH_SHORT).show();\n\n                // Turns off any color tints\n                ((ImageView) v).clearColorFilter();\n\n                // Invalidates the view to force a redraw\n                v.invalidate();\n\n                return true;\n\n            case DragEvent.ACTION_DRAG_ENDED:\n\n                // Turns off any color tinting\n                ((ImageView) v).clearColorFilter();\n\n                // Invalidates the view to force a redraw\n                v.invalidate();\n\n                // Check for result\n                if (event.getResult())\n                {\n                    Toast.makeText(mContext, &quot;Bingo !&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n                else\n                {\n                    Toast.makeText(mContext, &quot;Oups, try again !&quot;, Toast.LENGTH_SHORT).show();\n                    save_drag.setImageBitmap(null);\n\n                }\n\n                return true;\n\n            default:\n                break;\n        }\n\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","database-performance","spring-transactions"],"comments":[{"owner":{"account_id":1075183,"reputation":751,"user_id":5319114,"accept_rate":64,"display_name":"Leo"},"score":1,"creation_date":1452798815,"post_id":34797480,"comment_id":57338719,"body_markdown":"this is really weird. BTW, http://stackoverflow.com/questions/1614139/spring-transactional-read-only-propagation/1712328#1712328","body":"this is really weird. BTW, <a href=\"http://stackoverflow.com/questions/1614139/spring-transactional-read-only-propagation/1712328#1712328\" title=\"spring transactional read only propagation\">stackoverflow.com/questions/1614139/&hellip;</a>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1452799716,"post_id":34797480,"comment_id":57339213,"body_markdown":"Interesting read @Leo, thanks.","body":"Interesting read @Leo, thanks."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1643308794,"creation_date":1452966156,"answer_id":34830054,"question_id":34797480,"body_markdown":"&gt; Why do spring/hibernate read-only database transactions run slower than read-write?\r\n\r\n&amp;lt;tldr&amp;gt; The short answer to question #1 was that hibernate starts off a `@Transaction(readOnly = true)` session with a `set session.transaction.read.only` synchronous JDBC call and ends with a `set session.transaction.read.write` call.  These calls are not sent when doing read-write calls which is why read-only calls were slower.  See below for my remedy for this. &amp;lt;/tldr&amp;gt;\r\n\r\nOk this has been an interesting ride.  Lot for me to learn and share.  Some of the below should have been obvious but hopefully my ignorance and what I&#39;ve learned will be helpful to others.\r\n\r\nThe longer answer to question #2 involves the following details of the steps that I took to try and improve our remote database performance:\r\n\r\n1. First thing that we did was switch our database VPN from TCP to UDP after reading this [OpenVPN optimization page][1].  Sigh.  I should have known about this.  I also added the following settings to the OpenVPN client and server configs.  Read-only transaction overhead dropped from 480ms to 141ms but was still more than read-write&#39;s 100ms.  Big win.\r\n\r\n       ; Got these from:\r\n       ; https://community.openvpn.net/openvpn/wiki/Gigabit_Networks_Linux\r\n       proto udp\r\n       tun-mtu 6000\r\n       fragment 0\r\n       mssfix 0\r\n\r\n2. In looking closely at the tcpdump output (`tcpdump ... -X` for the win), I noticed that there were a lot of unnecessary auto-commit and read-only/read-write JDBC calls being made.  Upgrading to a newer version of the awesome [HikariCP connection pool][2] library we use helped with this.  In version 2.4.1 they added some intelligence which reduced some of these calls.  Read-only transaction overhead down to 120ms.  Read-write still at 100ms.  Nice.\r\n\r\n3. Brett Wooldridge, the author of HikariCP pointed me to MySQL driver settings that might help.  Thanks much dude.  Adding the following settings to our MySQL JDBC URL tells the driver to use the software state of the connection and not ask the server for the status.\r\n\r\n       jdbc:mysql://.../database?useLocalSessionState=true&amp;useLocalTransactionState=true\r\n\r\n    These settings caused more of the synchronous JDBC commands to be removed.  Read-only transaction overhead dropped to 60ms and now is the same as read-write.  Woo hoo.\r\n\r\n    **Edit/WARNING:** we actually rolled back adding `useLocalTransactionState=true` after bugs were found where the driver was not sending transaction information.  Not sure if the bugs were in the driver, hibernate, or our code.\r\n\r\n4. But in looking more at the tcpdump output, I still saw read-only/read-write transaction settings being sent.  My last fix was to write a custom read-only detecting pool that gives out connections from a special pool if it sees the first call to the connection is `connection.setReadOnly(true)`.  \r\n\r\n Using this custom pool dropped the transaction overhead for both read-only and read-write connections to 20ms.  I think it basically removed the last of the JDBC transaction overhead calls.  Here&#39;s the source of the [two classes that I wrote][3] from my home page write up of all this. The code is relatively brittle and relies on Hibernate doing a `connection.setReadOnly(true)` first thing but it seems to be working well and I documented it in the XML and code carefully.\r\n\r\nSo basic `@Transaction` overhead went from 480ms to 20ms over a couple days of work.  100 &quot;real life&quot; hibernate calls to a `dao.find(...)` method started at 55 seconds and ended at 4.5 seconds.  Pretty kick ass.  Wish it was always this easy to get a 10x speed improvement.\r\n\r\nHope my experience helps others.\r\n\r\n  [1]: https://community.openvpn.net/openvpn/wiki/Gigabit_Networks_Linux\r\n  [2]: https://brettwooldridge.github.io/HikariCP/\r\n  [3]: http://256stuff.com/gray/docs/misc/performance_optimizing_spring_hibernate_transactions/#customPool","title":"Why do spring/hibernate read-only database transactions run slower than read-write?","body":"<blockquote>\n<p>Why do spring/hibernate read-only database transactions run slower than read-write?</p>\n</blockquote>\n<p>&lt;tldr&gt; The short answer to question #1 was that hibernate starts off a <code>@Transaction(readOnly = true)</code> session with a <code>set session.transaction.read.only</code> synchronous JDBC call and ends with a <code>set session.transaction.read.write</code> call.  These calls are not sent when doing read-write calls which is why read-only calls were slower.  See below for my remedy for this. &lt;/tldr&gt;</p>\n<p>Ok this has been an interesting ride.  Lot for me to learn and share.  Some of the below should have been obvious but hopefully my ignorance and what I've learned will be helpful to others.</p>\n<p>The longer answer to question #2 involves the following details of the steps that I took to try and improve our remote database performance:</p>\n<ol>\n<li><p>First thing that we did was switch our database VPN from TCP to UDP after reading this <a href=\"https://community.openvpn.net/openvpn/wiki/Gigabit_Networks_Linux\" rel=\"nofollow noreferrer\">OpenVPN optimization page</a>.  Sigh.  I should have known about this.  I also added the following settings to the OpenVPN client and server configs.  Read-only transaction overhead dropped from 480ms to 141ms but was still more than read-write's 100ms.  Big win.</p>\n<pre><code>; Got these from:\n; https://community.openvpn.net/openvpn/wiki/Gigabit_Networks_Linux\nproto udp\ntun-mtu 6000\nfragment 0\nmssfix 0\n</code></pre>\n</li>\n<li><p>In looking closely at the tcpdump output (<code>tcpdump ... -X</code> for the win), I noticed that there were a lot of unnecessary auto-commit and read-only/read-write JDBC calls being made.  Upgrading to a newer version of the awesome <a href=\"https://brettwooldridge.github.io/HikariCP/\" rel=\"nofollow noreferrer\">HikariCP connection pool</a> library we use helped with this.  In version 2.4.1 they added some intelligence which reduced some of these calls.  Read-only transaction overhead down to 120ms.  Read-write still at 100ms.  Nice.</p>\n</li>\n<li><p>Brett Wooldridge, the author of HikariCP pointed me to MySQL driver settings that might help.  Thanks much dude.  Adding the following settings to our MySQL JDBC URL tells the driver to use the software state of the connection and not ask the server for the status.</p>\n<pre><code>jdbc:mysql://.../database?useLocalSessionState=true&amp;useLocalTransactionState=true\n</code></pre>\n<p>These settings caused more of the synchronous JDBC commands to be removed.  Read-only transaction overhead dropped to 60ms and now is the same as read-write.  Woo hoo.</p>\n<p><strong>Edit/WARNING:</strong> we actually rolled back adding <code>useLocalTransactionState=true</code> after bugs were found where the driver was not sending transaction information.  Not sure if the bugs were in the driver, hibernate, or our code.</p>\n</li>\n<li><p>But in looking more at the tcpdump output, I still saw read-only/read-write transaction settings being sent.  My last fix was to write a custom read-only detecting pool that gives out connections from a special pool if it sees the first call to the connection is <code>connection.setReadOnly(true)</code>.</p>\n</li>\n</ol>\n<p>Using this custom pool dropped the transaction overhead for both read-only and read-write connections to 20ms.  I think it basically removed the last of the JDBC transaction overhead calls.  Here's the source of the <a href=\"http://256stuff.com/gray/docs/misc/performance_optimizing_spring_hibernate_transactions/#customPool\" rel=\"nofollow noreferrer\">two classes that I wrote</a> from my home page write up of all this. The code is relatively brittle and relies on Hibernate doing a <code>connection.setReadOnly(true)</code> first thing but it seems to be working well and I documented it in the XML and code carefully.</p>\n<p>So basic <code>@Transaction</code> overhead went from 480ms to 20ms over a couple days of work.  100 &quot;real life&quot; hibernate calls to a <code>dao.find(...)</code> method started at 55 seconds and ended at 4.5 seconds.  Pretty kick ass.  Wish it was always this easy to get a 10x speed improvement.</p>\n<p>Hope my experience helps others.</p>\n"}],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13408,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":34830054,"answer_count":1,"score":38,"last_activity_date":1643308794,"creation_date":1452797571,"question_id":34797480,"body_markdown":"I&#39;ve been doing some research around the performance of read-only versus read-write database transactions.  The MySQL server is remote across a slow VPN link so it&#39;s easy for me to see differences between the transaction types.  This is with connection pooling which I know is working based on comparing 1st versus 2nd JDBC calls.\r\n\r\nWhen I configure the Spring AOP to use a read-only transaction on my DAO call, the calls are 30-40% _slower_ compared to read-write:\r\n\r\n    &lt;!-- slower --&gt;\r\n    &lt;tx:method name=&quot;find*&quot; read-only=&quot;true&quot; propagation=&quot;REQUIRED&quot; /&gt;\r\n    ...\r\n    // slower\r\n    @Transaction(readOnly = true)\r\n\r\nVersus:\r\n\r\n    &lt;!-- faster --&gt;\r\n    &lt;tx:method name=&quot;find*&quot; read-only=&quot;false&quot; propagation=&quot;REQUIRED&quot; /&gt;\r\n    ...\r\n    // faster\r\n    @Transaction\r\n\r\nLooking at tcpdump, it seems like the read-only transaction is doing more back and forth talking to MySQL.  Here&#39;s the [read-only dump][1] versus [read-write][2].\r\n\r\n1. Can anyone explain why the read-only calls are taking longer?  Is this expected?\r\n\r\n2. Is there anything I&#39;m doing wrong or anything that I can do to improve their speed aside from improving the network?  Just found this awesome post with some [good performance recommendations][3].  Any other comments?\r\n\r\nThanks much.\r\n\r\n  [1]: http://pastebin.com/1u2Vh0au\r\n  [2]: http://pastebin.com/Trc0jRqM\r\n  [3]: http://blog.cyclopsgroup.org/2011/03/1300ms-to-160ms-tune-springhibernate-on.html","title":"Why do spring/hibernate read-only database transactions run slower than read-write?","body":"<p>I've been doing some research around the performance of read-only versus read-write database transactions.  The MySQL server is remote across a slow VPN link so it's easy for me to see differences between the transaction types.  This is with connection pooling which I know is working based on comparing 1st versus 2nd JDBC calls.</p>\n<p>When I configure the Spring AOP to use a read-only transaction on my DAO call, the calls are 30-40% <em>slower</em> compared to read-write:</p>\n<pre><code>&lt;!-- slower --&gt;\n&lt;tx:method name=&quot;find*&quot; read-only=&quot;true&quot; propagation=&quot;REQUIRED&quot; /&gt;\n...\n// slower\n@Transaction(readOnly = true)\n</code></pre>\n<p>Versus:</p>\n<pre><code>&lt;!-- faster --&gt;\n&lt;tx:method name=&quot;find*&quot; read-only=&quot;false&quot; propagation=&quot;REQUIRED&quot; /&gt;\n...\n// faster\n@Transaction\n</code></pre>\n<p>Looking at tcpdump, it seems like the read-only transaction is doing more back and forth talking to MySQL.  Here's the <a href=\"http://pastebin.com/1u2Vh0au\" rel=\"nofollow noreferrer\">read-only dump</a> versus <a href=\"http://pastebin.com/Trc0jRqM\" rel=\"nofollow noreferrer\">read-write</a>.</p>\n<ol>\n<li><p>Can anyone explain why the read-only calls are taking longer?  Is this expected?</p>\n</li>\n<li><p>Is there anything I'm doing wrong or anything that I can do to improve their speed aside from improving the network?  Just found this awesome post with some <a href=\"http://blog.cyclopsgroup.org/2011/03/1300ms-to-160ms-tune-springhibernate-on.html\" rel=\"nofollow noreferrer\">good performance recommendations</a>.  Any other comments?</p>\n</li>\n</ol>\n<p>Thanks much.</p>\n"},{"tags":["java","jodatime","period"],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643308703,"creation_date":1477346173,"answer_id":40228168,"question_id":40228167,"body_markdown":"Turns out that Joda-time is wicked smaaaaart.  I guess that it can&#39;t know the number of hours in a day because of daylight savings time and other timezone issues.  There might be 23 or 25 hours in any particular day for example.\r\n\r\nTo force it to a 24 hours/day, you need to specific a `Chronology` that is consistent about hours per day.\r\n\r\n    long durationMillis = 26 * 3600 * 1000;\r\n    Period period = new Period(durationMillis, PeriodType.dayTime(),\r\n        ISOChronology.getInstanceUTC());\r\n    //  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ this is needed to have 1 day == 24 hours\r\n    // this works!\r\n\tassertEquals(1, period.getDays());\r\n    // this works!\r\n\tassertEquals(2, period.getHours());\r\n","title":"Joda-time Period doesn&#39;t seem to calculate days correctly","body":"<p>Turns out that Joda-time is wicked smaaaaart.  I guess that it can't know the number of hours in a day because of daylight savings time and other timezone issues.  There might be 23 or 25 hours in any particular day for example.</p>\n<p>To force it to a 24 hours/day, you need to specific a <code>Chronology</code> that is consistent about hours per day.</p>\n<pre><code>long durationMillis = 26 * 3600 * 1000;\nPeriod period = new Period(durationMillis, PeriodType.dayTime(),\n    ISOChronology.getInstanceUTC());\n//  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ this is needed to have 1 day == 24 hours\n// this works!\nassertEquals(1, period.getDays());\n// this works!\nassertEquals(2, period.getHours());\n</code></pre>\n"}],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40228168,"answer_count":1,"score":3,"last_activity_date":1643308703,"creation_date":1477346173,"question_id":40228167,"body_markdown":"I am seeing some strange behavior around the Joda-time `Period` class -- specifically the days processing.  In the following example code, I am specifying a period of 26 hours as milliseconds.\r\n\r\n    // 26 hour duration\r\n    long durationMillis = 26 * 3600 * 1000;\r\n    Period period = new Period(durationMillis, PeriodType.dayTime());\r\n    // this fails because days == 0\r\n\tassertEquals(1, period.getDays());\r\n    // this would fail because hours == 26\r\n\tassertEquals(2, period.getHours());\r\n\r\nI was expecting that `Period` would see that 26 hours is 1 day and 2 hours but it doesn&#39;t seem to be recognizing that a day == 24 hours.\r\n\r\nAny idea what am I doing wrong?\r\n","title":"Joda-time Period doesn&#39;t seem to calculate days correctly","body":"<p>I am seeing some strange behavior around the Joda-time <code>Period</code> class -- specifically the days processing.  In the following example code, I am specifying a period of 26 hours as milliseconds.</p>\n\n<pre><code>// 26 hour duration\nlong durationMillis = 26 * 3600 * 1000;\nPeriod period = new Period(durationMillis, PeriodType.dayTime());\n// this fails because days == 0\nassertEquals(1, period.getDays());\n// this would fail because hours == 26\nassertEquals(2, period.getHours());\n</code></pre>\n\n<p>I was expecting that <code>Period</code> would see that 26 hours is 1 day and 2 hours but it doesn't seem to be recognizing that a day == 24 hours.</p>\n\n<p>Any idea what am I doing wrong?</p>\n"},{"tags":["java","h2o"],"answers":[{"tags":[],"owner":{"account_id":9856973,"reputation":566,"user_id":7301183,"display_name":"Michal Kurka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643308081,"creation_date":1643308081,"answer_id":70883882,"question_id":70471661,"body_markdown":"This functionality is called &quot;row binding&quot;, it is not exposed as an API method. It is, however, available as a Rapids expression (simple scheme-like language). You can follow this example to row-bind 2 H2O Frames: https://github.com/h2oai/h2o-3/blob/master/h2o-core/src/test/java/water/rapids/ast/prims/mungers/AstRBindTest.java#L40 In a nutshell, if you have 2 frames with keys A and B you would run water.rapids.Rapids.exec(&quot;rbind A B&quot;).getFrame()","title":"How to join two frames&#39; rows in H2O?","body":"<p>This functionality is called &quot;row binding&quot;, it is not exposed as an API method. It is, however, available as a Rapids expression (simple scheme-like language). You can follow this example to row-bind 2 H2O Frames: <a href=\"https://github.com/h2oai/h2o-3/blob/master/h2o-core/src/test/java/water/rapids/ast/prims/mungers/AstRBindTest.java#L40\" rel=\"nofollow noreferrer\">https://github.com/h2oai/h2o-3/blob/master/h2o-core/src/test/java/water/rapids/ast/prims/mungers/AstRBindTest.java#L40</a> In a nutshell, if you have 2 frames with keys A and B you would run water.rapids.Rapids.exec(&quot;rbind A B&quot;).getFrame()</p>\n"}],"owner":{"account_id":4934165,"reputation":194,"user_id":3972907,"display_name":"Huy Ngo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70883882,"answer_count":1,"score":1,"last_activity_date":1643308081,"creation_date":1640339838,"question_id":70471661,"body_markdown":"I am implementing my own algorithm in H2O&#39;s Java source code (under package `h2o-algos`). \r\n\r\nHow can I join two frames&#39; rows (i.e. vectors) in H2O given H2O Java methods? \r\n\r\nFor instance, given two Frame A and B\r\n```\r\nFrame A:\r\n\r\n| Id       | Name           |\r\n| -------- | -------------- |\r\n| 123      | John           |\r\n| 456      | Bob            |\r\nFrame B:\r\n| Id       | Name           |\r\n| -------- | -------------- |\r\n| 789      | Alice          |\r\n```\r\nI want the resultant Frame C to be:\r\n```\r\n| Id       | Name           |\r\n| -------- | -------------- |\r\n| 123      | John           |\r\n| 456      | Bob            |\r\n| 789      | Alice          |\r\n```\r\nIs there a way to do this faster then: making new vectors, than create a new frame from the new vectors? I have read the documentation and found that the `Frame::append()` method would create new columns, not joining rows.\r\n\r\n","title":"How to join two frames&#39; rows in H2O?","body":"<p>I am implementing my own algorithm in H2O's Java source code (under package <code>h2o-algos</code>).</p>\n<p>How can I join two frames' rows (i.e. vectors) in H2O given H2O Java methods?</p>\n<p>For instance, given two Frame A and B</p>\n<pre><code>Frame A:\n\n| Id       | Name           |\n| -------- | -------------- |\n| 123      | John           |\n| 456      | Bob            |\nFrame B:\n| Id       | Name           |\n| -------- | -------------- |\n| 789      | Alice          |\n</code></pre>\n<p>I want the resultant Frame C to be:</p>\n<pre><code>| Id       | Name           |\n| -------- | -------------- |\n| 123      | John           |\n| 456      | Bob            |\n| 789      | Alice          |\n</code></pre>\n<p>Is there a way to do this faster then: making new vectors, than create a new frame from the new vectors? I have read the documentation and found that the <code>Frame::append()</code> method would create new columns, not joining rows.</p>\n"},{"tags":["java","java-17","jep"],"answers":[{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1642619268,"creation_date":1642619268,"answer_id":70776430,"question_id":70766176,"body_markdown":"This library is intended to to be used by low-level libraries, such as bytecode parsing and generation APIs like ASM, reflection libraries, etc.  Most Java developers will not need to use this.","title":"In what scenarios should I use JEP334 (JVM Constants API)","body":"<p>This library is intended to to be used by low-level libraries, such as bytecode parsing and generation APIs like ASM, reflection libraries, etc.  Most Java developers will not need to use this.</p>\n"}],"owner":{"account_id":23387643,"reputation":51,"user_id":17452719,"display_name":"musan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70776430,"answer_count":1,"score":4,"last_activity_date":1643307928,"creation_date":1642573940,"question_id":70766176,"body_markdown":"I&#39;m learning Java 17, and with JEP334 (JVM Constants API), I know how to get `ClassDesc`, `MethodTypeDesc`, `MethodHandleDesc`, `DynamicConstantDesc`.\r\n\r\nBut what can these objects do? \r\n\r\nIn what application scenarios do I need these objects?\r\n","title":"In what scenarios should I use JEP334 (JVM Constants API)","body":"<p>I'm learning Java 17, and with JEP334 (JVM Constants API), I know how to get <code>ClassDesc</code>, <code>MethodTypeDesc</code>, <code>MethodHandleDesc</code>, <code>DynamicConstantDesc</code>.</p>\n<p>But what can these objects do?</p>\n<p>In what application scenarios do I need these objects?</p>\n"},{"tags":["java","intellij-idea","java-16"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1593683997,"post_id":62687290,"comment_id":110868589,"body_markdown":"There is no `tools.jar` since JDK&#160;9. So when IntelliJ works with JDK&#160;15, it must be aware of this. Then, failing with JDK&#160;16 indicates that this is another case of stup… ahem, broken version comparison.","body":"There is no <code>tools.jar</code> since JDK 9. So when IntelliJ works with JDK 15, it must be aware of this. Then, failing with JDK 16 indicates that this is another case of stup… ahem, broken version comparison."}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1593675394,"creation_date":1593675394,"answer_id":62691295,"question_id":62687290,"body_markdown":"There was an issue: [IDEA-243962](https://youtrack.jetbrains.com/issue/IDEA-243962). It is fixed now in 2020.2 version. EAP version is already available [here](https://www.jetbrains.com/idea/nextversion/).","title":"IntelliJ JDK 16 Early Access - Any Success? tools.jar","body":"<p>There was an issue: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-243962\" rel=\"noreferrer\">IDEA-243962</a>. It is fixed now in 2020.2 version. EAP version is already available <a href=\"https://www.jetbrains.com/idea/nextversion/\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":21820635,"reputation":666,"user_id":16116880,"display_name":"Chamod Dissanayake"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1633370609,"creation_date":1633370609,"answer_id":69440477,"question_id":62687290,"body_markdown":"I downgraded my Java from 15 to 11. Now it is working fine.\r\n(IntelliJ Idea 2020.1)","title":"IntelliJ JDK 16 Early Access - Any Success? tools.jar","body":"<p>I downgraded my Java from 15 to 11. Now it is working fine.\n(IntelliJ Idea 2020.1)</p>\n"},{"tags":[],"owner":{"account_id":15922433,"reputation":31,"user_id":11687605,"display_name":"Omer CANGA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643307674,"creation_date":1643307674,"answer_id":70883791,"question_id":62687290,"body_markdown":"How to Solve IntelliJ IDEA Error: Cannot determine path to ‘tools.jar‘ library for 17 (C:\\Program Files\\Java\\jd…\r\n**open file**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**improve the version of IntelliJ idea.** \r\n[![enter image description here][2]][2]\r\n\r\nupdate ide then try rerun\r\n\r\nsource for details:\r\n[enter link description here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Utqdn.png\r\n  [2]: https://i.stack.imgur.com/aa2VN.png\r\n  [3]: https://programmerah.com/how-to-solve-intellij-idea-error-cannot-determine-path-to-tools-jar-library-for-17-cprogram-filesjavajd-38877/","title":"IntelliJ JDK 16 Early Access - Any Success? tools.jar","body":"<p>How to Solve IntelliJ IDEA Error: Cannot determine path to ‘tools.jar‘ library for 17 (C:\\Program Files\\Java\\jd…\n<strong>open file</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Utqdn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Utqdn.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>improve the version of IntelliJ idea.</strong>\n<a href=\"https://i.stack.imgur.com/aa2VN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aa2VN.png\" alt=\"enter image description here\" /></a></p>\n<p>update ide then try rerun</p>\n<p>source for details:\n<a href=\"https://programmerah.com/how-to-solve-intellij-idea-error-cannot-determine-path-to-tools-jar-library-for-17-cprogram-filesjavajd-38877/\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}],"owner":{"account_id":18738578,"reputation":125,"user_id":13662305,"display_name":"NotArchon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9230,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":62691295,"answer_count":3,"score":9,"last_activity_date":1643307674,"creation_date":1593650552,"question_id":62687290,"body_markdown":"Has anyone had any success using JDK 16 (https://jdk.java.net/16/) early access build with IntelliJ?\r\n\r\nI am able to use JDK 15 early access builds, but when I try JDK 16 I get an error message:\r\n\r\n    Error: Cannot determine path to &#39;tools.jar&#39; library for 16 (path/to/jdk-16)\r\n\r\nAll of the research I&#39;ve done says JDK stores tools.jar inside of the path/to/jdk-16/lib folder. Thing is, tools.jar isn&#39;t there in the JDK 15 package either, yet JDK 15 works fine.\r\n\r\nIf anyone has any clue on how to fix this issue I&#39;d appreciate it. I&#39;m still trying, and if I figure it out I&#39;ll update this post. \r\n\r\nThanks in advance.","title":"IntelliJ JDK 16 Early Access - Any Success? tools.jar","body":"<p>Has anyone had any success using JDK 16 (<a href=\"https://jdk.java.net/16/\" rel=\"noreferrer\">https://jdk.java.net/16/</a>) early access build with IntelliJ?</p>\n<p>I am able to use JDK 15 early access builds, but when I try JDK 16 I get an error message:</p>\n<pre><code>Error: Cannot determine path to 'tools.jar' library for 16 (path/to/jdk-16)\n</code></pre>\n<p>All of the research I've done says JDK stores tools.jar inside of the path/to/jdk-16/lib folder. Thing is, tools.jar isn't there in the JDK 15 package either, yet JDK 15 works fine.</p>\n<p>If anyone has any clue on how to fix this issue I'd appreciate it. I'm still trying, and if I figure it out I'll update this post.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-data-jpa","auditing"],"answers":[{"tags":[],"owner":{"account_id":14333824,"reputation":121,"user_id":10353914,"display_name":"theMahaloRecords"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643304406,"creation_date":1643304406,"answer_id":70883029,"question_id":70882545,"body_markdown":"Instead of using @JoinTable use @AuditJoinTable\r\n\r\nInfo from the hibernate documentation:\r\n\r\nWhen a collection is mapped using these two annotations (@OneToMany + @JoinColumn), Hibernate doesn&#39;t generate a join table. Envers, however, has to do this, so that when you read the revisions in which the related entity has changed, you don&#39;t get false results.\r\n\r\nTo be able to name the additional join table, there is a special annotation: @AuditJoinTable, which has similar semantics to JPA&#39;s @JoinTable.","title":"How to audit class that has OneToMany unidirectional relationship?","body":"<p>Instead of using @JoinTable use @AuditJoinTable</p>\n<p>Info from the hibernate documentation:</p>\n<p>When a collection is mapped using these two annotations (@OneToMany + @JoinColumn), Hibernate doesn't generate a join table. Envers, however, has to do this, so that when you read the revisions in which the related entity has changed, you don't get false results.</p>\n<p>To be able to name the additional join table, there is a special annotation: @AuditJoinTable, which has similar semantics to JPA's @JoinTable.</p>\n"}],"owner":{"account_id":19983250,"reputation":11,"user_id":14645893,"display_name":"dumbstudent124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643306977,"creation_date":1643302408,"question_id":70882545,"body_markdown":"I&#39;m using Spring Data JPA for Auditing. There&#39;s a **unidirectional relationship** between classes **Article** and **File**. The **Article** class looks like this:\r\n```\r\n@Getter\r\n@Entity\r\n@SuperBuilder(toBuilder = true)\r\n@Table(name = &quot;article&quot;)\r\npublic class Article extends AuditEntity {\r\n    ...\r\n\r\n    @Builder.Default\r\n    @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true)\r\n    @JoinTable(name = &quot;article_additional_file&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;article_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;additional_file_id&quot;))\r\n    private List&lt;File&gt; additionalFiles = new ArrayList&lt;&gt;();\r\n\r\n   ...\r\n}\r\n```\r\n\r\nThe problem is, when changes occur in the file list (owned files get deleted or added), the *modifiedDate* field (which is in AuditEntity class and it&#39;s annotated with @LastModifiedDate annotation) is not updated (it works with all other fields). And I cannot make it a bidirectional relationship since other classes own the File class as well. So my question is, **how to trigger the update of field modifiedDate when changes occur in the file list?** \r\n\r\n**EDIT**\r\nI&#39;d prefer not to use Enver, if that&#39;s possible. I need to use as little additional libraries as possible","title":"How to audit class that has OneToMany unidirectional relationship?","body":"<p>I'm using Spring Data JPA for Auditing. There's a <strong>unidirectional relationship</strong> between classes <strong>Article</strong> and <strong>File</strong>. The <strong>Article</strong> class looks like this:</p>\n<pre><code>@Getter\n@Entity\n@SuperBuilder(toBuilder = true)\n@Table(name = &quot;article&quot;)\npublic class Article extends AuditEntity {\n    ...\n\n    @Builder.Default\n    @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true)\n    @JoinTable(name = &quot;article_additional_file&quot;,\n            joinColumns = @JoinColumn(name = &quot;article_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;additional_file_id&quot;))\n    private List&lt;File&gt; additionalFiles = new ArrayList&lt;&gt;();\n\n   ...\n}\n</code></pre>\n<p>The problem is, when changes occur in the file list (owned files get deleted or added), the <em>modifiedDate</em> field (which is in AuditEntity class and it's annotated with @LastModifiedDate annotation) is not updated (it works with all other fields). And I cannot make it a bidirectional relationship since other classes own the File class as well. So my question is, <strong>how to trigger the update of field modifiedDate when changes occur in the file list?</strong></p>\n<p><strong>EDIT</strong>\nI'd prefer not to use Enver, if that's possible. I need to use as little additional libraries as possible</p>\n"},{"tags":["java","log4j2","mdc"],"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":1,"creation_date":1643310342,"post_id":70883585,"comment_id":125312403,"body_markdown":"`We recently updated our version of Log4j2 to 2.17.0 due to the recent vulnerability`. You&#39;re still vulnerable btw, at least to [some extent](https://logging.apache.org/log4j/2.x/security.html). Not an answer to your question, sorry","body":"<code>We recently updated our version of Log4j2 to 2.17.0 due to the recent vulnerability</code>. You&#39;re still vulnerable btw, at least to <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">some extent</a>. Not an answer to your question, sorry"},{"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"score":0,"creation_date":1645005989,"post_id":70883585,"comment_id":125753447,"body_markdown":"have you found solution to this yet ?","body":"have you found solution to this yet ?"},{"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"score":1,"creation_date":1645012296,"post_id":70883585,"comment_id":125755941,"body_markdown":"@Anddo I raised an issue with Log4j2 on their Jira, and it seems that this has been fixed in what I&#39;m assuming will be v.2.17.2.  If you take their latest snapshot release, it will be included.","body":"@Anddo I raised an issue with Log4j2 on their Jira, and it seems that this has been fixed in what I&#39;m assuming will be v.2.17.2.  If you take their latest snapshot release, it will be included."},{"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"score":0,"creation_date":1645014474,"post_id":70883585,"comment_id":125756791,"body_markdown":"I just found that out. Thank you for letting me know.","body":"I just found that out. Thank you for letting me know."}],"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643306781,"creation_date":1643306781,"question_id":70883585,"body_markdown":"We recently updated our version of Log4j2 to 2.17.0 due to the recent vulnerability.  However since the upgrade, certain context lookups no longer seem to work.  I read this article that states:\r\n\r\n&gt; Mitigations include applying the 2.17.0 patch and replacing Context Lookups like ${ctx:loginId} or $${ctx:loginId} with Thread Context Map patterns (%X, %mdc, or %MDC) in PatternLayout in the logging configuration.\r\n\r\nThis is an example of what we have currently:\r\n\r\n```\r\n&lt;Property name=&quot;filename.trans_log&quot;&gt;${sys:access.log.location}/${web:contextPath}_transaction_$${ctx:txLogRecordType}.log\r\n&lt;/Property&gt;\r\n```\r\n\r\nAdded to the MDC in Java:\r\n\r\n```\r\nMDC.put(&quot;txLogRecordType&quot;, eventType);\r\n```\r\nWhich is now producing logs looking like\r\n```\r\nmeanwhileinhell_transaction_${ctx.txLogRecordType}_2022-01-27-16.log\r\n```\r\n\r\nAs far as I&#39;m aware you cannot add a PatternLayout to `Property` types, so can anyone tell me if there is a way, through configuration alone, that I can get this property to substitute?","title":"Log4j2 2.17.0 Context Lookups in Property tags replacement","body":"<p>We recently updated our version of Log4j2 to 2.17.0 due to the recent vulnerability.  However since the upgrade, certain context lookups no longer seem to work.  I read this article that states:</p>\n<blockquote>\n<p>Mitigations include applying the 2.17.0 patch and replacing Context Lookups like ${ctx:loginId} or $${ctx:loginId} with Thread Context Map patterns (%X, %mdc, or %MDC) in PatternLayout in the logging configuration.</p>\n</blockquote>\n<p>This is an example of what we have currently:</p>\n<pre><code>&lt;Property name=&quot;filename.trans_log&quot;&gt;${sys:access.log.location}/${web:contextPath}_transaction_$${ctx:txLogRecordType}.log\n&lt;/Property&gt;\n</code></pre>\n<p>Added to the MDC in Java:</p>\n<pre><code>MDC.put(&quot;txLogRecordType&quot;, eventType);\n</code></pre>\n<p>Which is now producing logs looking like</p>\n<pre><code>meanwhileinhell_transaction_${ctx.txLogRecordType}_2022-01-27-16.log\n</code></pre>\n<p>As far as I'm aware you cannot add a PatternLayout to <code>Property</code> types, so can anyone tell me if there is a way, through configuration alone, that I can get this property to substitute?</p>\n"},{"tags":["java","maven","javadoc","maven-javadoc-plugin"],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532884098,"creation_date":1532884098,"answer_id":51582640,"question_id":51582609,"body_markdown":"I have finally found the following configuration to work:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;additionalJOptions&gt;\r\n            &lt;additionalJOption&gt;-Xmaxerrs&lt;/additionalJOption&gt;\r\n            &lt;additionalJOption&gt;65536&lt;/additionalJOption&gt;\r\n            &lt;additionalJOption&gt;-Xmaxwarns&lt;/additionalJOption&gt;\r\n            &lt;additionalJOption&gt;65536&lt;/additionalJOption&gt;\r\n          &lt;/additionalJOptions&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nIt basically passes `-Xmaxerrs 65536` and `-Xmaxwarns 65536` (as documented [here][1]) to `javadoc`.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/tools/javadoc.htm","title":"Increase the number of reported Javadoc errors and warning when building with Maven","body":"<p>I have finally found the following configuration to work:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;additionalJOptions&gt;\n        &lt;additionalJOption&gt;-Xmaxerrs&lt;/additionalJOption&gt;\n        &lt;additionalJOption&gt;65536&lt;/additionalJOption&gt;\n        &lt;additionalJOption&gt;-Xmaxwarns&lt;/additionalJOption&gt;\n        &lt;additionalJOption&gt;65536&lt;/additionalJOption&gt;\n      &lt;/additionalJOptions&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>It basically passes <code>-Xmaxerrs 65536</code> and <code>-Xmaxwarns 65536</code> (as documented <a href=\"https://docs.oracle.com/javase/9/tools/javadoc.htm\" rel=\"nofollow noreferrer\">here</a>) to <code>javadoc</code>.</p>\n"},{"tags":[],"owner":{"account_id":10127476,"reputation":987,"user_id":7482210,"display_name":"soloturn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643306574,"creation_date":1643306574,"answer_id":70883552,"question_id":51582609,"body_markdown":"this works also to (nearly) switching off the warnings, by setting it to 1\r\n\r\n    &lt;configuration&gt;\r\n      &lt;additionalJOptions&gt;\r\n        &lt;additionalJOption&gt;-Xmaxwarns&lt;/additionalJOption&gt;\r\n        &lt;additionalJOption&gt;1&lt;/additionalJOption&gt;\r\n      &lt;/additionalJOptions&gt;\r\n    &lt;/configuration&gt;","title":"Increase the number of reported Javadoc errors and warning when building with Maven","body":"<p>this works also to (nearly) switching off the warnings, by setting it to 1</p>\n<pre><code>&lt;configuration&gt;\n  &lt;additionalJOptions&gt;\n    &lt;additionalJOption&gt;-Xmaxwarns&lt;/additionalJOption&gt;\n    &lt;additionalJOption&gt;1&lt;/additionalJOption&gt;\n  &lt;/additionalJOptions&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643306574,"creation_date":1532883880,"question_id":51582609,"body_markdown":"I am using Maven to build a project which has somewhat suboptimal Javadoc comments.\r\n\r\nI have noticed that no matter how many warnings I fix, I always get only 100 warnings reported:\r\n\r\n    Building index for all the packages and classes...\r\n    Generating ...\\target\\site\\apidocs\\overview-tree.html...\r\n    Generating ...\\target\\site\\apidocs\\index-all.html...\r\n    Generating ...\\target\\site\\apidocs\\deprecated-list.html...\r\n    Building index for all classes...\r\n    Generating ...\\target\\site\\apidocs\\allclasses-frame.html...\r\n    Generating ...\\target\\site\\apidocs\\allclasses-frame.html...\r\n    Generating ...\\target\\site\\apidocs\\allclasses-noframe.html...\r\n    Generating ...\\target\\site\\apidocs\\allclasses-noframe.html...\r\n    Generating ...\\target\\site\\apidocs\\index.html...\r\n    Generating ...\\target\\site\\apidocs\\overview-summary.html...\r\n    Generating ...\\target\\site\\apidocs\\help-doc.html...\r\n    100 errors\r\n    100 warnings\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nI would like to see all of the errirs and warnings or at least the total count.\r\n\r\nHow do I achieve this with Maven?\r\n","title":"Increase the number of reported Javadoc errors and warning when building with Maven","body":"<p>I am using Maven to build a project which has somewhat suboptimal Javadoc comments.</p>\n\n<p>I have noticed that no matter how many warnings I fix, I always get only 100 warnings reported:</p>\n\n<pre><code>Building index for all the packages and classes...\nGenerating ...\\target\\site\\apidocs\\overview-tree.html...\nGenerating ...\\target\\site\\apidocs\\index-all.html...\nGenerating ...\\target\\site\\apidocs\\deprecated-list.html...\nBuilding index for all classes...\nGenerating ...\\target\\site\\apidocs\\allclasses-frame.html...\nGenerating ...\\target\\site\\apidocs\\allclasses-frame.html...\nGenerating ...\\target\\site\\apidocs\\allclasses-noframe.html...\nGenerating ...\\target\\site\\apidocs\\allclasses-noframe.html...\nGenerating ...\\target\\site\\apidocs\\index.html...\nGenerating ...\\target\\site\\apidocs\\overview-summary.html...\nGenerating ...\\target\\site\\apidocs\\help-doc.html...\n100 errors\n100 warnings\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>I would like to see all of the errirs and warnings or at least the total count.</p>\n\n<p>How do I achieve this with Maven?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1603217567,"post_id":64451002,"comment_id":113965522,"body_markdown":"Why not use [`orElseThrow`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-)?","body":"Why not use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>orElseThrow</code></a>?"},{"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"score":0,"creation_date":1603217922,"post_id":64451002,"comment_id":113965676,"body_markdown":"I mean I need it to throw from inside, the the `bar` method to throw.","body":"I mean I need it to throw from inside, the the <code>bar</code> method to throw."}],"answers":[{"tags":[],"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603220426,"creation_date":1603220426,"answer_id":64451724,"question_id":64451002,"body_markdown":"Altough not explicitly mentioned in your question, i am going to assume that you intent to throw a checked exception from `ifPresentOrElse`.\r\n\r\nFirst, you should try to understand _why_ you cannot throw an exception. The `Consumer` interface has, as `Runnable`, only a single abstract method, which makes it a `@FunctionalInterface`. From the documentation:\r\n\r\n&gt; Note that instances of functional interfaces can be created with\r\n&gt; lambda expressions, method references, or constructor references.\r\n\r\nThis is a reduced version of the `Consumer` interface:\r\n    \r\n    public interface Consumer&lt;T&gt; {\r\n\r\n        void accept(T t); // &lt;-- NO throws Exception\r\n    }\r\n\r\nAlternatively, you can still use the old anonymous inner class:\r\n\r\n    Consumer&lt;Object&gt; consumer = new Consumer&lt;&gt;() {\r\n        @Override\r\n        public void accept(Object o) { // &lt;-- NO throws Exception\r\n           // consume\r\n        }\r\n    };\r\n\r\nTherefore, you *cannot* throw a checked exception from the `accept` method. It is not possible by design. You can, however, chose one of the following options: \r\n   \r\n* Use a custom `ThrowingConsumer` and `ThrowingOptional` class, which can throw exceptions (since you declare them in their method signatures), not recommended.\r\n* Wrap the checked exception in a `RuntimeException`, which does not need to be declared in the method signature, and can therefore be thrown.\r\n* Rewrite your code to not use the lambda expression.\r\n\r\nExample, for the last point:\r\n\r\n    Optional&lt;Bar&gt; barOpt = foo.bar(baz);\r\n    if(bar.isPresent()) {\r\n        Bar bar = barOpt.get();\r\n        try {\r\n            // code that throws checked exception\r\n        } catch(CustomException e) {\r\n            somethingImportantWhenExceptionIsThrown();\r\n        }\r\n    } else {\r\n        response.set(notFound());\r\n    } \r\n\r\n  ","title":"How to throw an exception inside a Lambda?","body":"<p>Altough not explicitly mentioned in your question, i am going to assume that you intent to throw a checked exception from <code>ifPresentOrElse</code>.</p>\n<p>First, you should try to understand <em>why</em> you cannot throw an exception. The <code>Consumer</code> interface has, as <code>Runnable</code>, only a single abstract method, which makes it a <code>@FunctionalInterface</code>. From the documentation:</p>\n<blockquote>\n<p>Note that instances of functional interfaces can be created with\nlambda expressions, method references, or constructor references.</p>\n</blockquote>\n<p>This is a reduced version of the <code>Consumer</code> interface:</p>\n<pre><code>public interface Consumer&lt;T&gt; {\n\n    void accept(T t); // &lt;-- NO throws Exception\n}\n</code></pre>\n<p>Alternatively, you can still use the old anonymous inner class:</p>\n<pre><code>Consumer&lt;Object&gt; consumer = new Consumer&lt;&gt;() {\n    @Override\n    public void accept(Object o) { // &lt;-- NO throws Exception\n       // consume\n    }\n};\n</code></pre>\n<p>Therefore, you <em>cannot</em> throw a checked exception from the <code>accept</code> method. It is not possible by design. You can, however, chose one of the following options:</p>\n<ul>\n<li>Use a custom <code>ThrowingConsumer</code> and <code>ThrowingOptional</code> class, which can throw exceptions (since you declare them in their method signatures), not recommended.</li>\n<li>Wrap the checked exception in a <code>RuntimeException</code>, which does not need to be declared in the method signature, and can therefore be thrown.</li>\n<li>Rewrite your code to not use the lambda expression.</li>\n</ul>\n<p>Example, for the last point:</p>\n<pre><code>Optional&lt;Bar&gt; barOpt = foo.bar(baz);\nif(bar.isPresent()) {\n    Bar bar = barOpt.get();\n    try {\n        // code that throws checked exception\n    } catch(CustomException e) {\n        somethingImportantWhenExceptionIsThrown();\n    }\n} else {\n    response.set(notFound());\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1603220452,"creation_date":1603220452,"answer_id":64451731,"question_id":64451002,"body_markdown":"The solution for this is to use [Project Lombok][1]:\r\n\r\n\r\nAnd have the method wrapping this function annotated with `SneakyThrows`, as such:\r\n\r\n    @SneakyThrows\r\n    void method() {\r\n       try {\r\n           foo.bar(baz).ifPresentOrElse(theBar -&gt; { \r\n              throw()\r\n           }, () -&gt; { response.set(notFound()); }\r\n       } catch(CustomException e) {\r\n          somethingImportantWhenExceptionIsThrown();\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://projectlombok.org/","title":"How to throw an exception inside a Lambda?","body":"<p>The solution for this is to use <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a>:</p>\n<p>And have the method wrapping this function annotated with <code>SneakyThrows</code>, as such:</p>\n<pre><code>@SneakyThrows\nvoid method() {\n   try {\n       foo.bar(baz).ifPresentOrElse(theBar -&gt; { \n          throw()\n       }, () -&gt; { response.set(notFound()); }\n   } catch(CustomException e) {\n      somethingImportantWhenExceptionIsThrown();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22917845,"reputation":356,"user_id":17054178,"display_name":"E.H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643306304,"creation_date":1643306304,"answer_id":70883500,"question_id":64451002,"body_markdown":"You can do it with apache commons-lang3 library.\r\n\r\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/function/Failable.html\r\n\r\n    Optional.of(obj).ifPresentOrElse(Failable.asConsumer(theBar -&gt; {\r\n        throw new Exception();\r\n    }), () -&gt; {});","title":"How to throw an exception inside a Lambda?","body":"<p>You can do it with apache commons-lang3 library.</p>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/function/Failable.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/function/Failable.html</a></p>\n<pre><code>Optional.of(obj).ifPresentOrElse(Failable.asConsumer(theBar -&gt; {\n    throw new Exception();\n}), () -&gt; {});\n</code></pre>\n"}],"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64451731,"answer_count":3,"score":0,"last_activity_date":1643306304,"creation_date":1603217212,"question_id":64451002,"body_markdown":"How do you throw an exception inside a lambda e.g in `ifPresentOrElse` of a Optional? \r\n\r\n```\r\ntry {\r\n   foo.bar(baz).ifPresentOrElse(theBar -&gt; { \r\n      // A code inside here needs to throw a custom exception so the outside can handle it\r\n      // It can&#39;t throw atm, and it is an unhandled exception here\r\n   }, () -&gt; { response.set(notFound()); }\r\n} catch(CustomException e) {\r\n  somethingImportantWhenExceptionIsThrown();\r\n}\r\n```\r\n","title":"How to throw an exception inside a Lambda?","body":"<p>How do you throw an exception inside a lambda e.g in <code>ifPresentOrElse</code> of a Optional?</p>\n<pre><code>try {\n   foo.bar(baz).ifPresentOrElse(theBar -&gt; { \n      // A code inside here needs to throw a custom exception so the outside can handle it\n      // It can't throw atm, and it is an unhandled exception here\n   }, () -&gt; { response.set(notFound()); }\n} catch(CustomException e) {\n  somethingImportantWhenExceptionIsThrown();\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","dictionary","constructor"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1643305649,"post_id":70883302,"comment_id":125310655,"body_markdown":"Why is this not a data class?","body":"Why is this not a data class?"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643306225,"creation_date":1643306225,"answer_id":70883479,"question_id":70883302,"body_markdown":"Constructor parameters can only be properties if they are in the primary constructor, declared before the `{ }`. And `toString()` will only list the property values if your class is a data class or if you override `toString()` to manually define this behavior.\r\n\r\nYou should declare your class like this:\r\n```\r\ndata class BinData(\r\n    val card_id: Int,\r\n    val from: Int,\r\n    val to: Int\r\n)\r\n```","title":"Kotlin - accessing and using constructor parameters","body":"<p>Constructor parameters can only be properties if they are in the primary constructor, declared before the <code>{ }</code>. And <code>toString()</code> will only list the property values if your class is a data class or if you override <code>toString()</code> to manually define this behavior.</p>\n<p>You should declare your class like this:</p>\n<pre><code>data class BinData(\n    val card_id: Int,\n    val from: Int,\n    val to: Int\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6650480,"reputation":7479,"user_id":5132804,"accept_rate":73,"display_name":"Alberto S."},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643306276,"creation_date":1643306276,"answer_id":70883493,"question_id":70883302,"body_markdown":"You&#39;re just declaring a constructor that receives 3 parameters but you&#39;re not specifying that those are properties. I&#39;d recommend you setting a primary constructor with those properties\r\n\r\n```\r\nclass BinData(val card_id: Int,\r\n              val from: Int,\r\n              val to: Int)\r\n```\r\n\r\nNotice that I specified those properties as `val` assuming that they&#39;re immutable. If you need to modify them, make them mutable by defining them as `var`\r\n\r\nConsider also using a [data class](https://kotlinlang.org/docs/data-classes.html) if your class is meant to only hold values and not logic","title":"Kotlin - accessing and using constructor parameters","body":"<p>You're just declaring a constructor that receives 3 parameters but you're not specifying that those are properties. I'd recommend you setting a primary constructor with those properties</p>\n<pre><code>class BinData(val card_id: Int,\n              val from: Int,\n              val to: Int)\n</code></pre>\n<p>Notice that I specified those properties as <code>val</code> assuming that they're immutable. If you need to modify them, make them mutable by defining them as <code>var</code></p>\n<p>Consider also using a <a href=\"https://kotlinlang.org/docs/data-classes.html\" rel=\"nofollow noreferrer\">data class</a> if your class is meant to only hold values and not logic</p>\n"}],"owner":{"account_id":24075013,"reputation":3,"user_id":18050491,"display_name":"patrik.mnich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1033,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70883479,"answer_count":2,"score":0,"last_activity_date":1643306276,"creation_date":1643305438,"question_id":70883302,"body_markdown":"I have this constructor in a class inside my interface (it&#39;s supposed to be more like a static structure but for now this is ok)\r\n\r\n    class BinData {\r\n            constructor(card_id: Int,\r\n                        from: Int,\r\n                        to: Int)\r\n        }\r\n\r\n\r\n\r\nI created an instance, and I want to use all properties inside constructor in a form of a map as an argument for function\r\n\r\n    val binData = IConfiguration.BinData(2, 222100, 272099)\r\n    memoryConfig.binAdd(1, binData)\r\n\r\n \r\nOf course then, when I printed the line in binAdd() I got\r\nBin added: {1=control.app.activities.IConfiguration$BinData@8bd0008} which is just object hash\r\n\r\nWhat is the reasonable way to approach this?\r\nI thought of a creating a method like BinData.getdata() which would return Map of parameters but I&#39;m really not sure that&#39;s the way.\r\n\r\nFor any help I&#39;ll be glad. Thanks.","title":"Kotlin - accessing and using constructor parameters","body":"<p>I have this constructor in a class inside my interface (it's supposed to be more like a static structure but for now this is ok)</p>\n<pre><code>class BinData {\n        constructor(card_id: Int,\n                    from: Int,\n                    to: Int)\n    }\n</code></pre>\n<p>I created an instance, and I want to use all properties inside constructor in a form of a map as an argument for function</p>\n<pre><code>val binData = IConfiguration.BinData(2, 222100, 272099)\nmemoryConfig.binAdd(1, binData)\n</code></pre>\n<p>Of course then, when I printed the line in binAdd() I got\nBin added: {1=control.app.activities.IConfiguration$BinData@8bd0008} which is just object hash</p>\n<p>What is the reasonable way to approach this?\nI thought of a creating a method like BinData.getdata() which would return Map of parameters but I'm really not sure that's the way.</p>\n<p>For any help I'll be glad. Thanks.</p>\n"},{"tags":["java","docker","selenium","selenium-chromedriver","chromium"],"answers":[{"tags":[],"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643305912,"creation_date":1643305912,"answer_id":70883407,"question_id":70868022,"body_markdown":"I spent some time on it and found solution.\r\n\r\nI changed in my java code \r\nfrom:\r\n\r\n    String chromeDriverLinux = &quot;./config/driver/chromedriver-linux/chromedriver&quot;;\r\n\r\n(here i had most similar ChromeDriver 93.0.4577.63 version i copy myself)\r\n\r\nto:\r\n\r\n    String chromeDriverLinux = &quot;/usr/bin/chromedriver&quot;;\r\n\r\n(here i have exactly the same driver version as browser installed by dockerfile apk 93.0.4577.82)\r\n\r\nI had strange error exception instead of that driver version is miscellaneous that browser version\r\n\r\n\r\n\r\n\r\n\r\n","title":"docker alpine jdk chromium selenium:Could not start a new session.Possible causes are invalid address of the remote server or browser start-up failure","body":"<p>I spent some time on it and found solution.</p>\n<p>I changed in my java code\nfrom:</p>\n<pre><code>String chromeDriverLinux = &quot;./config/driver/chromedriver-linux/chromedriver&quot;;\n</code></pre>\n<p>(here i had most similar ChromeDriver 93.0.4577.63 version i copy myself)</p>\n<p>to:</p>\n<pre><code>String chromeDriverLinux = &quot;/usr/bin/chromedriver&quot;;\n</code></pre>\n<p>(here i have exactly the same driver version as browser installed by dockerfile apk 93.0.4577.82)</p>\n<p>I had strange error exception instead of that driver version is miscellaneous that browser version</p>\n"}],"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70883407,"answer_count":1,"score":0,"last_activity_date":1643305912,"creation_date":1643219404,"question_id":70868022,"body_markdown":"- my java app work correct on local ubuntu without docker with:\r\nJDK 11, Spring Boot, Selenium 4.0.0-rc-1, Chromium 97.0.4692.99, ChromeDriver 96.0.4664.45\r\n\r\n- my java app dont work when i migrate it to docker (alpine) with:\r\nJDK 11, Spring Boot, Selenium 4.0.0-rc-1, Chromium 93.0.4577.82, ChromeDriver 93.0.4577.63\r\n(but app works fine on docker with ubuntu and chrome - now i have to migrate it to alpine and chromium)\r\n\r\n\r\nMy java driver fragment code (of course i have more standard options like --headless etc):\r\n\r\n    String chromeDriverLinux = &quot;./config/driver/chromedriver-linux/chromedriver&quot;;\t// \r\n    here is file in target version (93.0.4577.63 for docker)\r\n    final ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--remote-debugging-port=9222&quot;);\r\n\r\n    /* commented on non-docker version - i think it may be needed by docker version\r\n    when i execute it on local non-docker ver i received error: \r\n    Caused by: java.util.concurrent.ExecutionException: \r\n    java.util.concurrent.TimeoutException: Request timeout to localhost/127.0.0.1:21933 \r\n    after 180000 ms\r\n    */ \r\n    options.addArguments(&quot;--remote-debugging-address=0.0.0.0&quot;);   \r\n\r\n    options.setBinary(&quot;/usr/bin/chromium-browser&quot;);\r\n    ChromiumDriver driver = null;\r\n    driver = new ChromeDriver(options);     // here is exception\r\n\r\napp exception log:\r\n\r\n    driver exception: \r\n    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. \r\n    Possible causes are invalid address of the remote server or browser start-up failure.\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:565) ~ \r\n    [selenium-remote-driver-4.0.0-rc-1.jar!/:?]\r\n    ...\r\n    Caused by: org.openqa.selenium.WebDriverException: Driver server process died \r\n    prematurely.\r\n    Build info: version: &#39;4.0.0-rc-1&#39;, revision: &#39;bc5511cbda&#39;\r\n    System info: host: &#39;5c0bff50d486&#39;, ip: &#39;172.17.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: \r\n    &#39;amd64&#39;, os.version: &#39;5.13.0-27-generic&#39;, java.version: &#39;11.0.14&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n\r\n\r\npom.xml:\r\n\r\n\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${selenium.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${selenium.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${selenium.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nDockerfile:\r\n\r\n\r\n    FROM azul/zulu-openjdk-alpine:11\r\n\r\n    RUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\r\n    RUN mkdir -p config/driver/chromedriver-linux\r\n    RUN find config/driver/chromedriver-linux/ -type d -exec chmod 0777 {} \\;\r\n    RUN find config/driver/chromedriver-linux/ -type f -exec chmod 777 {} \\;\r\n\r\n    ADD config/ /config/\r\n    RUN chmod 0777 /config/driver/chromedriver-linux/chromedriver\r\n\r\n    RUN apk update &amp;&amp; apk add --no-cache bash \\\r\n    alsa-lib \\\r\n    at-spi2-atk \\\r\n    atk \\\r\n    cairo \\\r\n    cups-libs \\\r\n    dbus-libs \\\r\n    eudev-libs \\\r\n    expat \\\r\n    flac \\\r\n    gdk-pixbuf \\\r\n    glib \\\r\n    libgcc \\\r\n    libjpeg-turbo \\\r\n    libpng \\\r\n    libwebp \\\r\n    libx11 \\\r\n    libxcomposite \\\r\n    libxdamage \\\r\n    libxext \\\r\n    libxfixes \\\r\n    tzdata \\\r\n    libexif \\\r\n    udev \\\r\n    xvfb \\\r\n    zlib-dev \\\r\n    chromium \\\r\n    chromium-chromedriver \\\r\n    &amp;&amp; rm -rf /var/cache/apk/* \\\r\n    /usr/share/man \\\r\n    /tmp/*\r\n\r\n\r\n    USER spring:spring\r\n\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} bot-app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/bot-app.jar&quot;]\r\n    EXPOSE 9223 9222\r\n\r\nRun dockerfile:\r\n\r\n\r\n    sudo docker build --no-cache=True -t bot-image .\r\n\r\n\r\nrun container:\r\n\r\n    sudo docker network create app_bot_network\r\n    sudo docker run --network app_bot_network -p 8080:8080 -p 4444:4444 -p 9223:9222 -p 6900:5900 -it --rm --name bot-container bot-image:latest\r\n\r\n\r\nI also turned off firewall and vpn before start docker.\r\n\r\n\r\nSo, what is problem with error:\r\nSessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n?\r\n\r\nit&#39;s rather no driver problem version, sth with settings of docker ports, network... ? Or sth with execution of browser ?\r\n\r\n\r\nregards\r\n","title":"docker alpine jdk chromium selenium:Could not start a new session.Possible causes are invalid address of the remote server or browser start-up failure","body":"<ul>\n<li><p>my java app work correct on local ubuntu without docker with:\nJDK 11, Spring Boot, Selenium 4.0.0-rc-1, Chromium 97.0.4692.99, ChromeDriver 96.0.4664.45</p>\n</li>\n<li><p>my java app dont work when i migrate it to docker (alpine) with:\nJDK 11, Spring Boot, Selenium 4.0.0-rc-1, Chromium 93.0.4577.82, ChromeDriver 93.0.4577.63\n(but app works fine on docker with ubuntu and chrome - now i have to migrate it to alpine and chromium)</p>\n</li>\n</ul>\n<p>My java driver fragment code (of course i have more standard options like --headless etc):</p>\n<pre><code>String chromeDriverLinux = &quot;./config/driver/chromedriver-linux/chromedriver&quot;;   // \nhere is file in target version (93.0.4577.63 for docker)\nfinal ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-debugging-port=9222&quot;);\n\n/* commented on non-docker version - i think it may be needed by docker version\nwhen i execute it on local non-docker ver i received error: \nCaused by: java.util.concurrent.ExecutionException: \njava.util.concurrent.TimeoutException: Request timeout to localhost/127.0.0.1:21933 \nafter 180000 ms\n*/ \noptions.addArguments(&quot;--remote-debugging-address=0.0.0.0&quot;);   \n\noptions.setBinary(&quot;/usr/bin/chromium-browser&quot;);\nChromiumDriver driver = null;\ndriver = new ChromeDriver(options);     // here is exception\n</code></pre>\n<p>app exception log:</p>\n<pre><code>driver exception: \norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. \nPossible causes are invalid address of the remote server or browser start-up failure.\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:565) ~ \n[selenium-remote-driver-4.0.0-rc-1.jar!/:?]\n...\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died \nprematurely.\nBuild info: version: '4.0.0-rc-1', revision: 'bc5511cbda'\nSystem info: host: '5c0bff50d486', ip: '172.17.0.2', os.name: 'Linux', os.arch: \n'amd64', os.version: '5.13.0-27-generic', java.version: '11.0.14'\nDriver info: driver.version: ChromeDriver\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Dockerfile:</p>\n<pre><code>FROM azul/zulu-openjdk-alpine:11\n\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\nRUN mkdir -p config/driver/chromedriver-linux\nRUN find config/driver/chromedriver-linux/ -type d -exec chmod 0777 {} \\;\nRUN find config/driver/chromedriver-linux/ -type f -exec chmod 777 {} \\;\n\nADD config/ /config/\nRUN chmod 0777 /config/driver/chromedriver-linux/chromedriver\n\nRUN apk update &amp;&amp; apk add --no-cache bash \\\nalsa-lib \\\nat-spi2-atk \\\natk \\\ncairo \\\ncups-libs \\\ndbus-libs \\\neudev-libs \\\nexpat \\\nflac \\\ngdk-pixbuf \\\nglib \\\nlibgcc \\\nlibjpeg-turbo \\\nlibpng \\\nlibwebp \\\nlibx11 \\\nlibxcomposite \\\nlibxdamage \\\nlibxext \\\nlibxfixes \\\ntzdata \\\nlibexif \\\nudev \\\nxvfb \\\nzlib-dev \\\nchromium \\\nchromium-chromedriver \\\n&amp;&amp; rm -rf /var/cache/apk/* \\\n/usr/share/man \\\n/tmp/*\n\n\nUSER spring:spring\n\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} bot-app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/bot-app.jar&quot;]\nEXPOSE 9223 9222\n</code></pre>\n<p>Run dockerfile:</p>\n<pre><code>sudo docker build --no-cache=True -t bot-image .\n</code></pre>\n<p>run container:</p>\n<pre><code>sudo docker network create app_bot_network\nsudo docker run --network app_bot_network -p 8080:8080 -p 4444:4444 -p 9223:9222 -p 6900:5900 -it --rm --name bot-container bot-image:latest\n</code></pre>\n<p>I also turned off firewall and vpn before start docker.</p>\n<p>So, what is problem with error:\nSessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\n?</p>\n<p>it's rather no driver problem version, sth with settings of docker ports, network... ? Or sth with execution of browser ?</p>\n<p>regards</p>\n"},{"tags":["java","automation"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643307761,"post_id":70883315,"comment_id":125311499,"body_markdown":"You must read both  the outputs generated or it will hang when the buffer is full","body":"You must read both  the outputs generated or it will hang when the buffer is full"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1643309034,"post_id":70883315,"comment_id":125311965,"body_markdown":"Try adding `pb.redirectErrorStream(true);` before `start()`, this avoids needing background thread on stderr.","body":"Try adding <code>pb.redirectErrorStream(true);</code> before <code>start()</code>, this avoids needing background thread on stderr."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1643314971,"post_id":70883315,"comment_id":125313946,"body_markdown":"If the JAR is mocking an API, it is probably designed to continue running as a server. This code waits for it to exit. Are you sure that’s what you want?","body":"If the JAR is mocking an API, it is probably designed to continue running as a server. This code waits for it to exit. Are you sure that’s what you want?"},{"owner":{"account_id":16004640,"reputation":173,"user_id":11550445,"display_name":"laxsore"},"score":0,"creation_date":1643316109,"post_id":70883315,"comment_id":125314307,"body_markdown":"yes, I want to run it in background, but I dont want it to block my code execution.","body":"yes, I want to run it in background, but I dont want it to block my code execution."}],"owner":{"account_id":16004640,"reputation":173,"user_id":11550445,"display_name":"laxsore"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643305484,"creation_date":1643305484,"question_id":70883315,"body_markdown":"I want to run external *.jar file for my automation test code. This jar file executable is mocking some api services neeed for my test.\r\nI run it in my code using:\r\n\r\n```\r\nProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;./jarpath/yourjar.jar&quot;);\r\nProcess p = pb.start();\r\nBufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\nString s = &quot;&quot;;\r\nwhile((s = in.readLine()) != null){\r\n    System.out.println(s);\r\n}\r\nint status = p.waitFor();\r\nSystem.out.println(&quot;Exited with status: &quot; + status);\r\n```\r\nbut somehow service is started and doesnt leave function.\r\n\r\nAfter starting jar file in cmd terminal, I can see info: &quot;Started Application&quot;, but its stucked in the same line. Maybe this is the reason?\r\n","title":"Java Binary SE execution stucked when running from java code","body":"<p>I want to run external *.jar file for my automation test code. This jar file executable is mocking some api services neeed for my test.\nI run it in my code using:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;./jarpath/yourjar.jar&quot;);\nProcess p = pb.start();\nBufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\nString s = &quot;&quot;;\nwhile((s = in.readLine()) != null){\n    System.out.println(s);\n}\nint status = p.waitFor();\nSystem.out.println(&quot;Exited with status: &quot; + status);\n</code></pre>\n<p>but somehow service is started and doesnt leave function.</p>\n<p>After starting jar file in cmd terminal, I can see info: &quot;Started Application&quot;, but its stucked in the same line. Maybe this is the reason?</p>\n"},{"tags":["java","antlr4"],"answers":[{"tags":[],"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1378209078,"creation_date":1378158970,"answer_id":18581283,"question_id":18572152,"body_markdown":"Why would the Maven plugin run the `TestRig` class? The Maven plugin&#39;s job is converting the `.g4` grammar files to `.java` source files in the proper package locations and ensuring those generated files get compiled. `TestRig` is not used for any part of that.\r\n\r\n**Edit:** I have been using ANTLR for many years, in many applications. In all that time I have never updated my system classpath, nor operated ANTLR/gunit/TestRig from the command line or created aliases for it. Doing so is not helpful for automated testing and inevitably leads users into the problems you described. That said, the thought that TestRig needed special support in the Maven plugin also never crossed my mind, because better solutions already exist.\r\n\r\n**Some alternatives**\r\n\r\n1. You can use the surefire plugin, and write a JUnit test that performs operations on your grammar directly (create a lexer/parser, parse some input, and perhaps even call `inspect()` on the resulting parse tree.\r\n2. You can use the surefire plugin, and write a JUnit test that explicitly calls [`TestRig.main(String[])`](http://www.antlr.org/api/Java/org/antlr/v4/runtime/misc/TestRig.html#main(java.lang.String[])) with the correct arguments.\r\n3. You can modify the ANTLR 4 Maven plugin to add a new goal for running TestRig, and submit a pull request to the project to have it included in a future release (you would need to make a very compelling case since there are already 2 alternatives that are more suited to long-term successful testing of a project using ANTLR 4).","title":"Antlr4 &quot;Test Rig&quot; and maven","body":"<p>Why would the Maven plugin run the <code>TestRig</code> class? The Maven plugin's job is converting the <code>.g4</code> grammar files to <code>.java</code> source files in the proper package locations and ensuring those generated files get compiled. <code>TestRig</code> is not used for any part of that.</p>\n\n<p><strong>Edit:</strong> I have been using ANTLR for many years, in many applications. In all that time I have never updated my system classpath, nor operated ANTLR/gunit/TestRig from the command line or created aliases for it. Doing so is not helpful for automated testing and inevitably leads users into the problems you described. That said, the thought that TestRig needed special support in the Maven plugin also never crossed my mind, because better solutions already exist.</p>\n\n<p><strong>Some alternatives</strong></p>\n\n<ol>\n<li>You can use the surefire plugin, and write a JUnit test that performs operations on your grammar directly (create a lexer/parser, parse some input, and perhaps even call <code>inspect()</code> on the resulting parse tree.</li>\n<li>You can use the surefire plugin, and write a JUnit test that explicitly calls <a href=\"http://www.antlr.org/api/Java/org/antlr/v4/runtime/misc/TestRig.html#main%28java.lang.String%5b%5d%29\" rel=\"nofollow\"><code>TestRig.main(String[])</code></a> with the correct arguments.</li>\n<li>You can modify the ANTLR 4 Maven plugin to add a new goal for running TestRig, and submit a pull request to the project to have it included in a future release (you would need to make a very compelling case since there are already 2 alternatives that are more suited to long-term successful testing of a project using ANTLR 4).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":275105,"reputation":17006,"user_id":567762,"accept_rate":78,"display_name":"Jared Beck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636214892,"creation_date":1383763440,"answer_id":19820176,"question_id":18572152,"body_markdown":"I had a similar question, in that I wanted to use the `TestRig` `-gui` option for debugging my grammar.  I didn&#39;t find a way to run the GUI via the `antlr4-maven-plugin`, but I did manage to build a satisfactory CLASSPATH.  The key was to include `target/classes`.\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    # Assuming your project is in $PROJECT ..\r\n    CLASSPATH=&quot;.:/usr/local/lib/antlr-4.1-complete.jar:$PROJECT/target/classes&quot;\r\n    alias grun=&#39;java org.antlr.v4.runtime.misc.TestRig&#39;\r\n    mvn -q compile\r\n    grun MyGrammer startingRule -gui &lt; test_input\r\n\r\nShould produce a lovely GUI view of the syntax tree.","title":"Antlr4 &quot;Test Rig&quot; and maven","body":"<p>I had a similar question, in that I wanted to use the <code>TestRig</code> <code>-gui</code> option for debugging my grammar.  I didn't find a way to run the GUI via the <code>antlr4-maven-plugin</code>, but I did manage to build a satisfactory CLASSPATH.  The key was to include <code>target/classes</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Assuming your project is in $PROJECT ..\nCLASSPATH=&quot;.:/usr/local/lib/antlr-4.1-complete.jar:$PROJECT/target/classes&quot;\nalias grun='java org.antlr.v4.runtime.misc.TestRig'\nmvn -q compile\ngrun MyGrammer startingRule -gui &lt; test_input\n</code></pre>\n<p>Should produce a lovely GUI view of the syntax tree.</p>\n"},{"tags":[],"owner":{"account_id":1532838,"reputation":163,"user_id":1429607,"accept_rate":50,"display_name":"jasterm007"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1419204110,"creation_date":1419204110,"answer_id":27594836,"question_id":18572152,"body_markdown":"This is how I invoke TestRig with Maven:\r\n\r\n    mvn exec:java -Dexec.mainClass=&quot;org.antlr.v4.runtime.misc.TestRig&quot; \r\n    -Dexec.args=&quot;&lt;DOT_NOTATION_GRAMMAR_CLASSPATH&gt; &lt;START_RULE&gt; \r\n    -gui &lt;INPUT_FILE&gt;&quot;\r\n\r\nSo if you&#39;ve got MyGrammar.g4 in src/main/antlr4/com/test/parser with a starting rule of startRule:\r\n    \r\n    mvn exec:java -Dexec.mainClass=&quot;org.antlr.v4.runtime.misc.TestRig&quot; \r\n    -Dexec.args=&quot;com.test.parser.MyGrammar startRule \r\n    -gui &lt;INPUT_FILE&gt;&quot;","title":"Antlr4 &quot;Test Rig&quot; and maven","body":"<p>This is how I invoke TestRig with Maven:</p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=\"org.antlr.v4.runtime.misc.TestRig\" \n-Dexec.args=\"&lt;DOT_NOTATION_GRAMMAR_CLASSPATH&gt; &lt;START_RULE&gt; \n-gui &lt;INPUT_FILE&gt;\"\n</code></pre>\n\n<p>So if you've got MyGrammar.g4 in src/main/antlr4/com/test/parser with a starting rule of startRule:</p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=\"org.antlr.v4.runtime.misc.TestRig\" \n-Dexec.args=\"com.test.parser.MyGrammar startRule \n-gui &lt;INPUT_FILE&gt;\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643305029,"creation_date":1643305029,"answer_id":70883188,"question_id":18572152,"body_markdown":"I like the idea of using Maven to run the TestRig. But I do not like to add the dependency `org.antlr:antlr4` to my code (because I already have `org.antlr:antlr4-runtime`) so my solution is to configure the exec plugin with an additional dependency.\r\n\r\n```\r\n&lt;properties&gt;\r\n\t&lt;antlr.version&gt;4.7.1&lt;/antlr.version&gt;\r\n&lt;/properties&gt;\t\t\t\r\n...\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;TestRigGui&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;none&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;java&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;mainClass&gt;org.antlr.v4.gui.TestRig&lt;/mainClass&gt;\r\n\t\t\t\t&lt;arguments&gt;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t&lt;!-- Grammar --&gt;\r\n\t\t\t\t\t&lt;argument&gt;de.humanfork.experiment.antlr.Hello&lt;/argument&gt;\r\n\t\t\t\t\t&lt;!-- start rule --&gt;\r\n\t\t\t\t\t&lt;argument&gt;hello_rule&lt;/argument&gt;\r\n\t\t\t\t\t&lt;!-- enable gui --&gt;\r\n\t\t\t\t\t&lt;argument&gt;-gui&lt;/argument&gt;\r\n\t\t\t\t\t&lt;!-- input file --&gt;\r\n\t\t\t\t\t&lt;argument&gt;example.txt&lt;/argument&gt;\r\n\t\t\t\t&lt;/arguments&gt;\t\t\t\t\r\n\t\t\t\t&lt;includePluginDependencies&gt;true&lt;/includePluginDependencies&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${antlr.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThen use: `mvn exec:java@TestRigGui` to start the GUI\r\n\r\n_BTW: in ANTLR 4.7.1 the TestRig main class is: `org.antlr.v4.gui.TestRig`_","title":"Antlr4 &quot;Test Rig&quot; and maven","body":"<p>I like the idea of using Maven to run the TestRig. But I do not like to add the dependency <code>org.antlr:antlr4</code> to my code (because I already have <code>org.antlr:antlr4-runtime</code>) so my solution is to configure the exec plugin with an additional dependency.</p>\n<pre><code>&lt;properties&gt;\n    &lt;antlr.version&gt;4.7.1&lt;/antlr.version&gt;\n&lt;/properties&gt;           \n...\n&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;TestRigGui&lt;/id&gt;\n            &lt;phase&gt;none&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;java&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;org.antlr.v4.gui.TestRig&lt;/mainClass&gt;\n                &lt;arguments&gt;                             \n                    &lt;!-- Grammar --&gt;\n                    &lt;argument&gt;de.humanfork.experiment.antlr.Hello&lt;/argument&gt;\n                    &lt;!-- start rule --&gt;\n                    &lt;argument&gt;hello_rule&lt;/argument&gt;\n                    &lt;!-- enable gui --&gt;\n                    &lt;argument&gt;-gui&lt;/argument&gt;\n                    &lt;!-- input file --&gt;\n                    &lt;argument&gt;example.txt&lt;/argument&gt;\n                &lt;/arguments&gt;                \n                &lt;includePluginDependencies&gt;true&lt;/includePluginDependencies&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr4&lt;/artifactId&gt;\n            &lt;version&gt;${antlr.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Then use: <code>mvn exec:java@TestRigGui</code> to start the GUI</p>\n<p><em>BTW: in ANTLR 4.7.1 the TestRig main class is: <code>org.antlr.v4.gui.TestRig</code></em></p>\n"}],"owner":{"account_id":438331,"reputation":13843,"user_id":826532,"accept_rate":82,"display_name":"JustDanyul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2558,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":18581283,"answer_count":4,"score":6,"last_activity_date":1643305029,"creation_date":1378121245,"question_id":18572152,"body_markdown":"I am struggling a little bit to figure out how I can use the antlr4 maven plug in to run the TestRig class? \r\n\r\nI&#39;ve read though the output of `mvn antlr4:help -Ddetail=true`, which is the only documentation I have been able to find, but this doesn&#39;t mention how to use the TestRig. So, what&#39;s the recommended way of using the test rig together with maven? using the grun alias method doesn&#39;t seem very elegant here.\r\n\r\n**UPDATED - Reasoning**\r\n\r\nHello :)\r\n\r\nRight, don&#39;t get me wrong but I really don&#39;t understand why you wouldn&#39;t want this functionality in the maven plugin? And I don&#39;t understand why its soul purpose should be to compile grammars?\r\n \r\nCurrently, if I maintain a build with Maven, and I use the `antlr4-maven-plugin` , it will install both the plugin and the antlr 4.1 in my maven repository. With this already there, why would I start adding things to my classpath and creating aliases when maven can take care of that? I mean, this is what maven is for really. If I had a `antlr4:TestRig` goal, then all I would do was use that. No need to manually maintain the class path, or create bash aliases. It would just work. \r\n\r\nAnd be far far more elegant that hard-coding elements from my local maven repository in my class path, and maintaining bash aliases. Or alternatively, maintain two installations per. version of antlr I wish to use (one maintained by me, simply to use TestRig, and one maintained by maven for everything else). \r\n\r\nAdditionally, if I wanted to use a different version of antlr, then I wouldn&#39;t need to update the classpath and my aliases, maven would simply manage all this for me :)\r\n","title":"Antlr4 &quot;Test Rig&quot; and maven","body":"<p>I am struggling a little bit to figure out how I can use the antlr4 maven plug in to run the TestRig class? </p>\n\n<p>I've read though the output of <code>mvn antlr4:help -Ddetail=true</code>, which is the only documentation I have been able to find, but this doesn't mention how to use the TestRig. So, what's the recommended way of using the test rig together with maven? using the grun alias method doesn't seem very elegant here.</p>\n\n<p><strong>UPDATED - Reasoning</strong></p>\n\n<p>Hello :)</p>\n\n<p>Right, don't get me wrong but I really don't understand why you wouldn't want this functionality in the maven plugin? And I don't understand why its soul purpose should be to compile grammars?</p>\n\n<p>Currently, if I maintain a build with Maven, and I use the <code>antlr4-maven-plugin</code> , it will install both the plugin and the antlr 4.1 in my maven repository. With this already there, why would I start adding things to my classpath and creating aliases when maven can take care of that? I mean, this is what maven is for really. If I had a <code>antlr4:TestRig</code> goal, then all I would do was use that. No need to manually maintain the class path, or create bash aliases. It would just work. </p>\n\n<p>And be far far more elegant that hard-coding elements from my local maven repository in my class path, and maintaining bash aliases. Or alternatively, maintain two installations per. version of antlr I wish to use (one maintained by me, simply to use TestRig, and one maintained by maven for everything else). </p>\n\n<p>Additionally, if I wanted to use a different version of antlr, then I wouldn't need to update the classpath and my aliases, maven would simply manage all this for me :)</p>\n"},{"tags":["java","scala","object","comparator"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":1,"creation_date":1643303393,"post_id":70882674,"comment_id":125309702,"body_markdown":"I don&#39;t know Scala, but in plain Java I&#39;d use something like `Comparator&lt;A&gt; comp = Comparator.comparing(a -&gt; a.x).thenComparing(a -&gt; a.y); comp.compare(this, that)`","body":"I don&#39;t know Scala, but in plain Java I&#39;d use something like <code>Comparator&lt;A&gt; comp = Comparator.comparing(a -&gt; a.x).thenComparing(a -&gt; a.y); comp.compare(this, that)</code>"},{"owner":{"account_id":9175544,"reputation":5,"user_id":6821265,"display_name":"kanav anand"},"score":0,"creation_date":1643303791,"post_id":70882674,"comment_id":125309858,"body_markdown":"But I want to compare `self.x` to `that.x` but if they are equal, I want to compare `self.y` to `that.z`.\nThe second set of fields are different fields within the same object.","body":"But I want to compare <code>self.x</code> to <code>that.x</code> but if they are equal, I want to compare <code>self.y</code> to <code>that.z</code>. The second set of fields are different fields within the same object."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1643303988,"post_id":70882674,"comment_id":125309931,"body_markdown":"Oh, missed that bit.","body":"Oh, missed that bit."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1643308294,"post_id":70882674,"comment_id":125311684,"body_markdown":"Read the contract of a Comparator, your implementation does not respect it. https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-","body":"Read the contract of a Comparator, your implementation does not respect it. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643304755,"creation_date":1643304755,"answer_id":70883123,"question_id":70882674,"body_markdown":"It&#39;s impossible to make a valid comparator with that constraint, even setting aside that you&#39;re not returning 0 when `self.y == that.z`.\r\n\r\nMost notably, `Comparator` is required to impose a total order, which in particular means that if `compare(a, b) &lt; 0`, then `compare(b, a) &gt; 0`.  This is trivially false for your comparator, if `a` is `(0, 1, 0)` and `b` is `(0, 0, 1)`.\r\n\r\nYou _cannot_ have a `Comparator` that compares `self.y` to `that.z` that works in general for things like sorting and `TreeSet`.","title":"How do I write a comparator that compares 2 different fields in a collection of objects?","body":"<p>It's impossible to make a valid comparator with that constraint, even setting aside that you're not returning 0 when <code>self.y == that.z</code>.</p>\n<p>Most notably, <code>Comparator</code> is required to impose a total order, which in particular means that if <code>compare(a, b) &lt; 0</code>, then <code>compare(b, a) &gt; 0</code>.  This is trivially false for your comparator, if <code>a</code> is <code>(0, 1, 0)</code> and <code>b</code> is <code>(0, 0, 1)</code>.</p>\n<p>You <em>cannot</em> have a <code>Comparator</code> that compares <code>self.y</code> to <code>that.z</code> that works in general for things like sorting and <code>TreeSet</code>.</p>\n"}],"owner":{"account_id":9175544,"reputation":5,"user_id":6821265,"display_name":"kanav anand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70883123,"answer_count":1,"score":0,"last_activity_date":1643304755,"creation_date":1643302903,"question_id":70882674,"body_markdown":"My compare function below generates an exception `Comparison method violates its general contract IllegalArgumentException`. Where and what contract is it failing?  \r\n\r\n```\r\ndef compare(self: A, that: A): Int = {\r\n\r\n  val xComp = self.x.compareTo(that.x)\r\n   if (xComp == 0) {\r\n    val yzComp = self.y.compareTo(that.z)\r\n     if ( yzComp &lt;= 0) {\r\n      -1 \r\n    } else {\r\n      1 \r\n    }\r\n  } else {\r\n    xComp\r\n  }\r\n}\r\n```","title":"How do I write a comparator that compares 2 different fields in a collection of objects?","body":"<p>My compare function below generates an exception <code>Comparison method violates its general contract IllegalArgumentException</code>. Where and what contract is it failing?</p>\n<pre><code>def compare(self: A, that: A): Int = {\n\n  val xComp = self.x.compareTo(that.x)\n   if (xComp == 0) {\n    val yzComp = self.y.compareTo(that.z)\n     if ( yzComp &lt;= 0) {\n      -1 \n    } else {\n      1 \n    }\n  } else {\n    xComp\n  }\n}\n</code></pre>\n"},{"tags":["java","exception","lambda"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1455657539,"post_id":35443159,"comment_id":58584347,"body_markdown":"And where is the try-catch part?","body":"And where is the try-catch part?"},{"owner":{"account_id":109880,"reputation":6406,"user_id":290962,"accept_rate":89,"display_name":"ahoffer"},"score":0,"creation_date":1455657613,"post_id":35443159,"comment_id":58584393,"body_markdown":"@Tunaki try{} wraps the operation.accept call in the processBatch method.","body":"@Tunaki try{} wraps the operation.accept call in the processBatch method."},{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":0,"creation_date":1455657835,"post_id":35443159,"comment_id":58584512,"body_markdown":"A possible issue could be that the function signature doesn&#39;t declare that it throws an error. Maybe replace with `void processBatch(List&lt;Metacard&gt; metacards, Consumer&lt;Metacard&gt; operation) throws IOException()`.","body":"A possible issue could be that the function signature doesn&#39;t declare that it throws an error. Maybe replace with <code>void processBatch(List&lt;Metacard&gt; metacards, Consumer&lt;Metacard&gt; operation) throws IOException()</code>."}],"answers":[{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455657616,"creation_date":1455657616,"answer_id":35443210,"question_id":35443159,"body_markdown":"`Consumer.accept()` does not declare an exception whereas your `backupMetacard` method does, so you can&#39;t pass `this::backupMetacard` as `Consumer` parameter.","title":"Exception handling with Consumer functions in Java 8","body":"<p><code>Consumer.accept()</code> does not declare an exception whereas your <code>backupMetacard</code> method does, so you can't pass <code>this::backupMetacard</code> as <code>Consumer</code> parameter.</p>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1455659107,"creation_date":1455657741,"answer_id":35443243,"question_id":35443159,"body_markdown":"The problem is that in the following snippet, the method `backupMetacard` declares to throw the checked `IOException`.\r\n\r\n    getExecutor().submit(() -&gt; {\r\n        processBatch(batch, this::backupMetacard);\r\n                            ^^^^^^^^^^^^^^^^^^^^ // &lt;-- this throws a checked exception\r\n    });\r\n\r\nAs such, it does not comply anymore with the contract of the functional method of [`Consumer`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html), which is [`apply`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html#accept-T-) and doesn&#39;t declare to throw checked exceptions.\r\n\r\nWrap this into a `try-catch`, where you can throw an unchecked exception instead [`UncheckedIOException`](https://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html):\r\n\r\n    getExecutor().submit(() -&gt; {\r\n        processBatch(batch, metacard -&gt; {\r\n            try {\r\n                backupMetacard(metacard);\r\n            } catch (IOException e) {\r\n                throw new UncheckedIOException(e);\r\n            }\r\n        });\r\n    });","title":"Exception handling with Consumer functions in Java 8","body":"<p>The problem is that in the following snippet, the method <code>backupMetacard</code> declares to throw the checked <code>IOException</code>.</p>\n\n<pre><code>getExecutor().submit(() -&gt; {\n    processBatch(batch, this::backupMetacard);\n                        ^^^^^^^^^^^^^^^^^^^^ // &lt;-- this throws a checked exception\n});\n</code></pre>\n\n<p>As such, it does not comply anymore with the contract of the functional method of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow\"><code>Consumer</code></a>, which is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html#accept-T-\" rel=\"nofollow\"><code>apply</code></a> and doesn't declare to throw checked exceptions.</p>\n\n<p>Wrap this into a <code>try-catch</code>, where you can throw an unchecked exception instead <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html\" rel=\"nofollow\"><code>UncheckedIOException</code></a>:</p>\n\n<pre><code>getExecutor().submit(() -&gt; {\n    processBatch(batch, metacard -&gt; {\n        try {\n            backupMetacard(metacard);\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    });\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455660219,"creation_date":1455660219,"answer_id":35443887,"question_id":35443159,"body_markdown":"You can have an adapter functional interface\r\n\r\n    interface ConsumerX&lt;T&gt;\r\n    {\r\n        void consumeX(T) throws Exception;\r\n\r\n        void default consume(T t)\r\n        {\r\n            try{ consumeX(t); }\r\n            catch.... // handle exception\r\n        }\r\n    }\r\n\r\nAnd use it like\r\n\r\n    processBatch( batch, (ConsumerX&lt;Metacard&gt;)this::backupMetacard )\r\n\r\nThe type argument `&lt;Metacard&gt;` seems redundant, unfortunately it&#39;s needed in current Java. We could however have a helper method instead\r\n\r\n        static &lt;T&gt; ConsumerX&lt;T&gt; of(ConsumerX&lt;T&gt; c){ return c; }\r\n\r\n    processBatch( batch, ConsumerX.of(this::backupMetacard) )\r\n\r\nThere are more things to consider. Currently, `ConsumerX` throws a fixed, overreaching `Exception`. We would rather have it throw the same exception that the lambda body throws, i.e. exception transparency. This could be done by `consumeX()` throws a type variable.\r\n\r\nAnother thing is to provide custom exception handling, e.g.\r\n\r\n        ConsumerX.of( lambda, ex-&gt;{ ... } )\r\n\r\nor my preferred syntax --\r\n\r\n        ConsumerX.of(...).catch_(FooException.class, fe-&gt;{ ... });","title":"Exception handling with Consumer functions in Java 8","body":"<p>You can have an adapter functional interface</p>\n\n<pre><code>interface ConsumerX&lt;T&gt;\n{\n    void consumeX(T) throws Exception;\n\n    void default consume(T t)\n    {\n        try{ consumeX(t); }\n        catch.... // handle exception\n    }\n}\n</code></pre>\n\n<p>And use it like</p>\n\n<pre><code>processBatch( batch, (ConsumerX&lt;Metacard&gt;)this::backupMetacard )\n</code></pre>\n\n<p>The type argument <code>&lt;Metacard&gt;</code> seems redundant, unfortunately it's needed in current Java. We could however have a helper method instead</p>\n\n<pre><code>    static &lt;T&gt; ConsumerX&lt;T&gt; of(ConsumerX&lt;T&gt; c){ return c; }\n\nprocessBatch( batch, ConsumerX.of(this::backupMetacard) )\n</code></pre>\n\n<p>There are more things to consider. Currently, <code>ConsumerX</code> throws a fixed, overreaching <code>Exception</code>. We would rather have it throw the same exception that the lambda body throws, i.e. exception transparency. This could be done by <code>consumeX()</code> throws a type variable.</p>\n\n<p>Another thing is to provide custom exception handling, e.g.</p>\n\n<pre><code>    ConsumerX.of( lambda, ex-&gt;{ ... } )\n</code></pre>\n\n<p>or my preferred syntax --</p>\n\n<pre><code>    ConsumerX.of(...).catch_(FooException.class, fe-&gt;{ ... });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501148129,"creation_date":1501148129,"answer_id":45346822,"question_id":35443159,"body_markdown":"Below are snippet codes that is basically wrapped try-catch block and being consumed Exception object.\r\n\r\n    public static &lt;T&gt; T unchecked(final ExceptionBearingAction&lt;T&gt; template, Consumer&lt;Exception&gt; exceptionConsumer) {\r\n        T results = null;\r\n        try {\r\n            results = template.doAction();\r\n        } catch (Exception ex) {\r\n            exceptionConsumer.accept(ex);\r\n        }\r\n        return results;\r\n    }\r\n\r\n**ExceptionBearingAction.Java** - It&#39;s a Functional Interface that perform and Exception bearing action.\r\n\r\n    @FunctionalInterface\r\n    public interface ExceptionBearingAction&lt;T&gt; {\r\n    \r\n       T doAction() throws Exception; \r\n    }\r\n   \r\n**How to used it**\r\n\r\n    unchecked(() -&gt; Files.copy(srcPath, Paths.get(distFileUrl), StandardCopyOption.REPLACE_EXISTING), (ex) -&gt; LOGGER.warn(&quot;Oops!! copy failed due to {}&quot;, ex));","title":"Exception handling with Consumer functions in Java 8","body":"<p>Below are snippet codes that is basically wrapped try-catch block and being consumed Exception object.</p>\n\n<pre><code>public static &lt;T&gt; T unchecked(final ExceptionBearingAction&lt;T&gt; template, Consumer&lt;Exception&gt; exceptionConsumer) {\n    T results = null;\n    try {\n        results = template.doAction();\n    } catch (Exception ex) {\n        exceptionConsumer.accept(ex);\n    }\n    return results;\n}\n</code></pre>\n\n<p><strong>ExceptionBearingAction.Java</strong> - It's a Functional Interface that perform and Exception bearing action.</p>\n\n<pre><code>@FunctionalInterface\npublic interface ExceptionBearingAction&lt;T&gt; {\n\n   T doAction() throws Exception; \n}\n</code></pre>\n\n<p><strong>How to used it</strong></p>\n\n<pre><code>unchecked(() -&gt; Files.copy(srcPath, Paths.get(distFileUrl), StandardCopyOption.REPLACE_EXISTING), (ex) -&gt; LOGGER.warn(\"Oops!! copy failed due to {}\", ex));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22917845,"reputation":356,"user_id":17054178,"display_name":"E.H."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643304667,"creation_date":1643304667,"answer_id":70883098,"question_id":35443159,"body_markdown":"You can do it with apache commons-lang3 library.\r\n\r\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/function/Failable.html\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nChange method: processBatch\r\n\r\n    void processBatch(List&lt;Metacard&gt; metacards, FailableConsumer&lt;Metacard, IOException&gt; operation) {\r\n\r\n        List&lt;String&gt; errors = new ArrayList&lt;&gt;();\r\n        for (Metacard metacard : metacards) {\r\n            try {\r\n                operation.accept(metacard);\r\n            } catch (IOException e) {\r\n                errors.add(metacard.getId());\r\n            }\r\n        }\r\n\r\n        if (!errors.isEmpty()) {\r\n            LOGGER.info(&quot;Plugin processing failed. This is allowable. Skipping to next plugin.&quot;,\r\n                    pluginExceptionWith(errors));\r\n        }\r\n    }\r\n","title":"Exception handling with Consumer functions in Java 8","body":"<p>You can do it with apache commons-lang3 library.</p>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/function/Failable.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/function/Failable.html</a></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Change method: processBatch</p>\n<pre><code>void processBatch(List&lt;Metacard&gt; metacards, FailableConsumer&lt;Metacard, IOException&gt; operation) {\n\n    List&lt;String&gt; errors = new ArrayList&lt;&gt;();\n    for (Metacard metacard : metacards) {\n        try {\n            operation.accept(metacard);\n        } catch (IOException e) {\n            errors.add(metacard.getId());\n        }\n    }\n\n    if (!errors.isEmpty()) {\n        LOGGER.info(&quot;Plugin processing failed. This is allowable. Skipping to next plugin.&quot;,\n                pluginExceptionWith(errors));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":109880,"reputation":6406,"user_id":290962,"accept_rate":89,"display_name":"ahoffer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5408,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35443243,"answer_count":5,"score":3,"last_activity_date":1643304667,"creation_date":1455657437,"question_id":35443159,"body_markdown":"This code gives me a compile error on the line `processBatch(batch, this::backupMetacard);`  The process batch method wraps the consumer in a try/catch block, but Java will not compile the call.\r\n\r\n\r\n    private synchronized void drain() {\r\n\r\n        for (List&lt;Metacard&gt; batch : Lists.partition(metacards, BATCH_SIZE)) {\r\n            getExecutor().submit(() -&gt; {\r\n\r\n                processBatch(batch, this::backupMetacard);\r\n            });\r\n        }\r\n        metacards.clear();\r\n    }\r\n\r\n    void processBatch(List&lt;Metacard&gt; metacards, Consumer&lt;Metacard&gt; operation) {\r\n\r\n        List&lt;String&gt; errors = new ArrayList&lt;&gt;();\r\n        for (Metacard metacard : metacards) {\r\n            try {\r\n                operation.accept(metacard);\r\n            } catch (IOException e) {\r\n                errors.add(metacard.getId());\r\n            }\r\n        }\r\n\r\n        if (!errors.isEmpty()) {\r\n            LOGGER.info(&quot;Plugin processing failed. This is allowable. Skipping to next plugin.&quot;,\r\n                    pluginExceptionWith(errors));\r\n        }\r\n    }\r\n\r\n    private void backupMetacard(Metacard metacard) throws IOException {...}\r\n","title":"Exception handling with Consumer functions in Java 8","body":"<p>This code gives me a compile error on the line <code>processBatch(batch, this::backupMetacard);</code>  The process batch method wraps the consumer in a try/catch block, but Java will not compile the call.</p>\n\n<pre><code>private synchronized void drain() {\n\n    for (List&lt;Metacard&gt; batch : Lists.partition(metacards, BATCH_SIZE)) {\n        getExecutor().submit(() -&gt; {\n\n            processBatch(batch, this::backupMetacard);\n        });\n    }\n    metacards.clear();\n}\n\nvoid processBatch(List&lt;Metacard&gt; metacards, Consumer&lt;Metacard&gt; operation) {\n\n    List&lt;String&gt; errors = new ArrayList&lt;&gt;();\n    for (Metacard metacard : metacards) {\n        try {\n            operation.accept(metacard);\n        } catch (IOException e) {\n            errors.add(metacard.getId());\n        }\n    }\n\n    if (!errors.isEmpty()) {\n        LOGGER.info(\"Plugin processing failed. This is allowable. Skipping to next plugin.\",\n                pluginExceptionWith(errors));\n    }\n}\n\nprivate void backupMetacard(Metacard metacard) throws IOException {...}\n</code></pre>\n"},{"tags":["locale","java"],"answers":[{"tags":[],"owner":{"account_id":61234,"reputation":11428,"user_id":182629,"accept_rate":82,"display_name":"Alex Ciminian"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1356013313,"creation_date":1356013313,"answer_id":13974180,"question_id":13974169,"body_markdown":"The Locale class does not impose any checks on what you feed in it, but it swaps out certain language codes for their old values. From [the documentation][1]:\r\n\r\n&gt; ISO 639 is not a stable standard; some of the language codes it\r\n&gt; defines (specifically &quot;iw&quot;, &quot;ji&quot;, and &quot;in&quot;) have changed. This\r\n&gt; constructor accepts both the old codes (&quot;iw&quot;, &quot;ji&quot;, and &quot;in&quot;) and the\r\n&gt; new codes (&quot;he&quot;, &quot;yi&quot;, and &quot;id&quot;), but all other API on Locale will\r\n&gt; return only the OLD codes.\r\n\r\nHere&#39;s the constructor:\r\n\r\n    public Locale(String language, String country, String variant) {\r\n        this.language = convertOldISOCodes(language);\r\n        this.country = toUpperCase(country).intern();\r\n        this.variant = variant.intern();\r\n    }\r\n\t\r\nAnd here&#39;s the magic method:\r\n\r\n\tprivate String convertOldISOCodes(String language) { \r\n        // we accept both the old and the new ISO codes for the languages whose ISO \r\n        // codes have changed, but we always store the OLD code, for backward compatibility \r\n        language = toLowerCase(language).intern(); \r\n        if (language == &quot;he&quot;) { \r\n            return &quot;iw&quot;; \r\n        } else if (language == &quot;yi&quot;) { \r\n            return &quot;ji&quot;; \r\n        } else if (language == &quot;id&quot;) { \r\n            return &quot;in&quot;; \r\n        } else { \r\n            return language; \r\n        }\r\n    }\r\n\t\r\nThe objects it creates are immutable, so there&#39;s no working around this. The class is also `final`, so you can&#39;t extend it and it has no specific interface to implement. One way to make it preserve those language codes would be to create a wrapper around this class and use that.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html","title":"JDK Locale class handling of ISO language codes for Hebrew (he), Yiddish (yi) and Indonesian (id)","body":"<p>The Locale class does not impose any checks on what you feed in it, but it swaps out certain language codes for their old values. From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html\" rel=\"noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>ISO 639 is not a stable standard; some of the language codes it\n  defines (specifically \"iw\", \"ji\", and \"in\") have changed. This\n  constructor accepts both the old codes (\"iw\", \"ji\", and \"in\") and the\n  new codes (\"he\", \"yi\", and \"id\"), but all other API on Locale will\n  return only the OLD codes.</p>\n</blockquote>\n\n<p>Here's the constructor:</p>\n\n<pre><code>public Locale(String language, String country, String variant) {\n    this.language = convertOldISOCodes(language);\n    this.country = toUpperCase(country).intern();\n    this.variant = variant.intern();\n}\n</code></pre>\n\n<p>And here's the magic method:</p>\n\n<pre><code>private String convertOldISOCodes(String language) { \n    // we accept both the old and the new ISO codes for the languages whose ISO \n    // codes have changed, but we always store the OLD code, for backward compatibility \n    language = toLowerCase(language).intern(); \n    if (language == \"he\") { \n        return \"iw\"; \n    } else if (language == \"yi\") { \n        return \"ji\"; \n    } else if (language == \"id\") { \n        return \"in\"; \n    } else { \n        return language; \n    }\n}\n</code></pre>\n\n<p>The objects it creates are immutable, so there's no working around this. The class is also <code>final</code>, so you can't extend it and it has no specific interface to implement. One way to make it preserve those language codes would be to create a wrapper around this class and use that.</p>\n"},{"tags":[],"owner":{"account_id":1328516,"reputation":644,"user_id":1272886,"display_name":"Tom Silverman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643304628,"creation_date":1643303402,"answer_id":70882784,"question_id":13974169,"body_markdown":"The Java treatment of the Hebrew locale seems to had been **changed in Java 17**. It appears as an attempt to adhere to the ISO_639-1 language codes standard.\r\n\r\nUnless property &#39;*java.locale.useOldISOCodes*&#39; is set to *true*, Java now treats the Hebrew locale, by default as &#39;he&#39; in adherence with ISO_639-1. This means you will succeed to load a Hebrew resource bundle named &#39;*messages_he.properties*&#39; with either &#39;iw&#39; or &#39;he&#39; language code constructed locales. A &#39;*messages_iw.properties*&#39; resource is de-prioritized and will only get loaded if a corresponding &#39;he&#39; resource is none existent.\r\n\r\nIt&#39;s a step in the right direction and it&#39;s better late than never, as no more trickery and magic is required in the naming strategy of Hebrew resource bundles. Just use the &#39;he&#39; ISO code.\r\n\r\nI&#39;ve recently answered this here at https://stackoverflow.com/questions/8202406/locale-code-for-hebrew-reference-to-other-locale-codes/70882234#70882234. I&#39;ve provided a small example class with basic resource bundles which demonstrates the new behavior.\r\n\r\n","title":"JDK Locale class handling of ISO language codes for Hebrew (he), Yiddish (yi) and Indonesian (id)","body":"<p>The Java treatment of the Hebrew locale seems to had been <strong>changed in Java 17</strong>. It appears as an attempt to adhere to the ISO_639-1 language codes standard.</p>\n<p>Unless property '<em>java.locale.useOldISOCodes</em>' is set to <em>true</em>, Java now treats the Hebrew locale, by default as 'he' in adherence with ISO_639-1. This means you will succeed to load a Hebrew resource bundle named '<em>messages_he.properties</em>' with either 'iw' or 'he' language code constructed locales. A '<em>messages_iw.properties</em>' resource is de-prioritized and will only get loaded if a corresponding 'he' resource is none existent.</p>\n<p>It's a step in the right direction and it's better late than never, as no more trickery and magic is required in the naming strategy of Hebrew resource bundles. Just use the 'he' ISO code.</p>\n<p>I've recently answered this here at <a href=\"https://stackoverflow.com/questions/8202406/locale-code-for-hebrew-reference-to-other-locale-codes/70882234#70882234\">Locale code for Hebrew / Reference to other locale codes?</a>. I've provided a small example class with basic resource bundles which demonstrates the new behavior.</p>\n"}],"owner":{"account_id":61234,"reputation":11428,"user_id":182629,"accept_rate":82,"display_name":"Alex Ciminian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5444,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13974180,"answer_count":2,"score":16,"last_activity_date":1643304628,"creation_date":1356013284,"question_id":13974169,"body_markdown":"When instantiating a [`Locale`][1] object with either one of the following language codes: `he`, `yi` and `id` it doesn&#39;t preserve their value.\r\n\r\nFor example:\r\n\r\n    Locale locale = new Locale(&quot;he&quot;, &quot;il&quot;);\r\n    locale.getLanguage(); // -&gt; &quot;iw&quot;\r\n\r\nWhat is causing this and is there any way to work around this?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html\r\n","title":"JDK Locale class handling of ISO language codes for Hebrew (he), Yiddish (yi) and Indonesian (id)","body":"<p>When instantiating a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html\" rel=\"noreferrer\"><code>Locale</code></a> object with either one of the following language codes: <code>he</code>, <code>yi</code> and <code>id</code> it doesn't preserve their value.</p>\n\n<p>For example:</p>\n\n<pre><code>Locale locale = new Locale(\"he\", \"il\");\nlocale.getLanguage(); // -&gt; \"iw\"\n</code></pre>\n\n<p>What is causing this and is there any way to work around this?</p>\n"},{"tags":["java","datetime","french"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1643297001,"post_id":70881081,"comment_id":125306775,"body_markdown":"Why not just ignore that and parse `23 sept. 2021 13:30:57`?","body":"Why not just ignore that and parse <code>23 sept. 2021 13:30:57</code>?"},{"owner":{"account_id":2451377,"reputation":179,"user_id":2137580,"accept_rate":56,"display_name":"Arsench"},"score":0,"creation_date":1643297248,"post_id":70881081,"comment_id":125306886,"body_markdown":"@m0skit0 thanks for the reply. The values come with that format, how to ignore them? could you please provide some examples?\nThanks","body":"@m0skit0 thanks for the reply. The values come with that format, how to ignore them? could you please provide some examples? Thanks"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1643301917,"post_id":70881081,"comment_id":125309023,"body_markdown":"You can just replace &#39; &#224; &#39; with a space  then parse it.","body":"You can just replace &#39; &#224; &#39; with a space  then parse it."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643304505,"creation_date":1643303362,"answer_id":70882781,"question_id":70881081,"body_markdown":"# Localization\r\n\r\nThe *java.time* classes can automatically [localize][1]. So let them parse your localized input. No need to specify a formatting pattern.\r\n\r\nThis approach works because your input uses the format defined by the [*Common Locale Data Repository (CLDR)*][2] used by default in modern Java.\r\n\r\n    LocalDateTime.parse( \r\n        &quot;23 sept. 2021 &#224; 13:30:57&quot; , \r\n        DateTimeFormatter\r\n        .ofLocalizedDateTime( FormatStyle.MEDIUM )\r\n        .withLocale( Locale.FRANCE )\r\n    ) \r\n    .toString()\r\n\r\nSee this [code run live at IdeOne.com][3].\r\n\r\n&gt; 2021-09-23T13:30:57\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Internationalization_and_localization\r\n  [2]: https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\r\n  [3]: https://ideone.com/yeGUYp","title":"How to split French date and time in Java","body":"<h1>Localization</h1>\n<p>The <em>java.time</em> classes can automatically <a href=\"https://en.m.wikipedia.org/wiki/Internationalization_and_localization\" rel=\"nofollow noreferrer\">localize</a>. So let them parse your localized input. No need to specify a formatting pattern.</p>\n<p>This approach works because your input uses the format defined by the <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"nofollow noreferrer\"><em>Common Locale Data Repository (CLDR)</em></a> used by default in modern Java.</p>\n<pre><code>LocalDateTime.parse( \n    &quot;23 sept. 2021 à 13:30:57&quot; , \n    DateTimeFormatter\n    .ofLocalizedDateTime( FormatStyle.MEDIUM )\n    .withLocale( Locale.FRANCE )\n) \n.toString()\n</code></pre>\n<p>See this <a href=\"https://ideone.com/yeGUYp\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>2021-09-23T13:30:57</p>\n</blockquote>\n"}],"owner":{"account_id":2451377,"reputation":179,"user_id":2137580,"accept_rate":56,"display_name":"Arsench"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643304505,"creation_date":1643296742,"question_id":70881081,"body_markdown":"Trying to split the date and time which comes in the French style like the example below:\r\n\r\n23 sept. 2021 &#224; 13:30:57\r\n\r\nAnd the final result should be the example below:\r\n\r\n23-09-2021 and 13:30:57\r\n\r\nThe issue comes because of the &lt;&lt; &#224; &gt;&gt; when trying to get the time.\r\nI&#39;ve tried with the different way such as DateTimeFormatter, DateFormat etc...\r\n\r\nCould you please help?\r\nthanks in advance\r\n","title":"How to split French date and time in Java","body":"<p>Trying to split the date and time which comes in the French style like the example below:</p>\n<p>23 sept. 2021 à 13:30:57</p>\n<p>And the final result should be the example below:</p>\n<p>23-09-2021 and 13:30:57</p>\n<p>The issue comes because of the &lt;&lt; à &gt;&gt; when trying to get the time.\nI've tried with the different way such as DateTimeFormatter, DateFormat etc...</p>\n<p>Could you please help?\nthanks in advance</p>\n"},{"tags":["java","quarkus","reactive"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1635870829,"post_id":69808884,"comment_id":123405911,"body_markdown":"Which Quarkus extensions are you using?","body":"Which Quarkus extensions are you using?"}],"answers":[{"tags":[],"owner":{"account_id":12260593,"reputation":1,"user_id":8948419,"display_name":"Crilofer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636459790,"creation_date":1636459790,"answer_id":69897896,"question_id":69808884,"body_markdown":"Could you try adding the extension `quarkus-resteasy-mutiny` ?","title":"Quarkus reactive endpoint &quot;no serializer found&quot;","body":"<p>Could you try adding the extension <code>quarkus-resteasy-mutiny</code> ?</p>\n"},{"tags":[],"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643304491,"creation_date":1643304491,"answer_id":70883054,"question_id":69808884,"body_markdown":"The dependency/extension `quarkus-resteasy-mutiny` is missing. \r\n\r\n    mvn quarkus:add-extension -Dextensions=&quot;io.quarkus:quarkus-resteasy-mutiny&quot;\r\n\r\nOr simply try adding this in your `pom.xml`\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-mutiny&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Quarkus reactive endpoint &quot;no serializer found&quot;","body":"<p>The dependency/extension <code>quarkus-resteasy-mutiny</code> is missing.</p>\n<pre><code>mvn quarkus:add-extension -Dextensions=&quot;io.quarkus:quarkus-resteasy-mutiny&quot;\n</code></pre>\n<p>Or simply try adding this in your <code>pom.xml</code></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-resteasy-mutiny&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643304491,"creation_date":1635849050,"question_id":69808884,"body_markdown":"I am just playing around with Quarkus Reactive endpoints and have some problems with the Jackson Mapper.\r\n\r\nmy endpoint:\r\n------------\r\n\r\n    @Path(&quot;/myservice&quot;)\r\n    public class TestRessource {\r\n\r\n    @GET\r\n    @Path(&quot;/test&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Uni&lt;Tmp&gt; getFinancialOverviewMobileProducts() {\r\n        return Uni.createFrom().item(new Tmp(&quot;Hello!&quot;));\r\n    }\r\n    }\r\n\r\nmy Tmp class:\r\n-------------\r\n\r\n    import io.quarkus.runtime.annotations.RegisterForReflection;\r\n\r\n    @RegisterForReflection\r\n    public class Tmp {\r\n\r\n    private String name;\r\n\r\n    public Tmp(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    }\r\n\r\nwhen I execute the endpoint test I `get the error:`\r\n\r\n    No serializer found for class io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n\r\nI am confused because the getter and setters are visible.\r\n","title":"Quarkus reactive endpoint &quot;no serializer found&quot;","body":"<p>I am just playing around with Quarkus Reactive endpoints and have some problems with the Jackson Mapper.</p>\n<h2>my endpoint:</h2>\n<pre><code>@Path(&quot;/myservice&quot;)\npublic class TestRessource {\n\n@GET\n@Path(&quot;/test&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Uni&lt;Tmp&gt; getFinancialOverviewMobileProducts() {\n    return Uni.createFrom().item(new Tmp(&quot;Hello!&quot;));\n}\n}\n</code></pre>\n<h2>my Tmp class:</h2>\n<pre><code>import io.quarkus.runtime.annotations.RegisterForReflection;\n\n@RegisterForReflection\npublic class Tmp {\n\nprivate String name;\n\npublic Tmp(String name) {\n    this.name = name;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n}\n</code></pre>\n<p>when I execute the endpoint test I <code>get the error:</code></p>\n<pre><code>No serializer found for class io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\n</code></pre>\n<p>I am confused because the getter and setters are visible.</p>\n"},{"tags":["java","spring-mvc","sap-commerce-cloud","restful-authentication"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643304387,"creation_date":1643304387,"answer_id":70883025,"question_id":70882940,"body_markdown":"Such as you write, it&#39;s too long for the URL. You can fix it with multiple way :\r\n1. Include this long char in the body, such as with `POST` request. This will enable you to make request with a lot of char.\r\n2. Convert all char into a base64 string that can be lower in size with somethiing like this:\r\n```\r\nBase64.encode(myStr);\r\n```\r\n3. Change the string format by, for example, changing all `@000N` into `@O` (to replace 5 char to 2), and change like `@120398ID@000N,@120398ID@000N` to `2x@120398ID@000N`","title":"400 Bad Request for too long request parameter in PUT request","body":"<p>Such as you write, it's too long for the URL. You can fix it with multiple way :</p>\n<ol>\n<li>Include this long char in the body, such as with <code>POST</code> request. This will enable you to make request with a lot of char.</li>\n<li>Convert all char into a base64 string that can be lower in size with somethiing like this:</li>\n</ol>\n<pre><code>Base64.encode(myStr);\n</code></pre>\n<ol start=\"3\">\n<li>Change the string format by, for example, changing all <code>@000N</code> into <code>@O</code> (to replace 5 char to 2), and change like <code>@120398ID@000N,@120398ID@000N</code> to <code>2x@120398ID@000N</code></li>\n</ol>\n"}],"owner":{"account_id":19067830,"reputation":1,"user_id":13922621,"display_name":"Pritha Datta Biswas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643304387,"creation_date":1643304019,"question_id":70882940,"body_markdown":"I&#39;m trying to hit a PUT api through URL \r\n\r\nhttps://localhost:9002/serialNumbers/700027601?consignmentCode=700027601_c0&amp;productSku=120398ID&amp;serialNumbers=1@120398ID@000N@12345,@120398ID@000N@12346,@120398ID@000N@12347,@120398ID@000N@12348,@120398ID@000N@12349,@120398ID@000N@12350,@120398ID@000N@12351,@120398ID@000N@12352,@120398ID@000N@12353,@120398ID@000N@12354,@120398ID@000N@12355,@120398ID@000N@12356,@120398ID@000N@12357,@120398ID@000N@12358,@120398ID@000N@12359,@120398ID@000N@12360,@120398ID@000N@12361,@120398ID@000N@12362,@120398ID@000N@12363,@120398ID@000N@12364,@120398ID@000N@12365,@120398ID@000N@12366,@120398ID@000N@12367,@120398ID@000N@12368,@120398ID@000N@12369,@120398ID@000N@12370,@120398ID@000N@12371,@120398ID@000N@12372,@120398ID@000N@12373,@120398ID@000N@12374,@120398ID@000N@12375,@120398ID@000N@12376,@120398ID@000N@12377,@120398ID@000N@12378,@120398ID@000N@12379,@120398ID@000N@12380,@120398ID@000N@12381,@120398ID@000N@12382,@120398ID@000N@12383,@120398ID@000N@12384,@120398ID@000N@12385,@120398ID@000N@12386,@120398ID@000N@12387,@120398ID@000N@12388,@120398ID@000N@12389,@120398ID@000N@12390,@120398ID@000N@12391,@120398ID@000N@12392,@120398ID@000N@12393,@120398ID@000N@12394,@120398ID@000N@12395,@120398ID@000N@12396,@120398ID@000N@12397,@120398ID@000N@12398,@120398ID@000N@12399,@120398ID@000N@12400,@120398ID@000N@12401,@120398ID@000N@12402,@120398ID@000N@12403,@120398ID@000N@12404,@120398ID@000N@12405,@120398ID@000N@12406,@120398ID@000N@12407,@120398ID@000N@12408,@120398ID@000N@12409,@120398ID@000N@12410,@120398ID@000N@12411,@120398ID@000N@12412,@120398ID@000N@12413,@120398ID@000N@12414,@120398ID@000N@12415,@120398ID@000N@12416,@120398ID@000N@12417,@120398ID@000N@12418,@120398ID@000N@12419,@120398ID@000N@12420,@120398ID@000N@12421,@120398ID@000N@12422,@120398ID@000N@12423,@120398ID@000N@12424,@120398ID@000N@12425,@120398ID@000N@12426,@120398ID@000N@12427,@120398ID@000N@12428,@120398ID@000N@12429,@120398ID@000N@12430,@120398ID@000N@12431,@120398ID@000N@12432,@120398ID@000N@12433,@120398ID@000N@12434,@120398ID@000N@12435,@120398ID@000N@12436,@120398ID@000N@12437,@120398ID@000N@12438,@120398ID@000N@12439,@120398ID@000N@12440,@120398ID@000N@12441,@120398ID@000N@12442,@120398ID@000N@12443,@120398ID@000N@12444,@120398ID@000N@12445,@120398ID@000N@12446,@120398ID@000N@12447,@120398ID@000N@12448,@120398ID@000N@12449,@120398ID@000N@12450,@120398ID@000N@12451,@120398ID@000N@12452,@120398ID@000N@12453,@120398ID@000N@12454,@120398ID@000N@12455,@120398ID@000N@12456,@120398ID@000N@12457,@120398ID@000N@12458,@120398ID@000N@12459,@120398ID@000N@12460,@120398ID@000N@12461,@120398ID@000N@12462,@120398ID@000N@12463,@120398ID@000N@12464,@120398ID@000N@12465,@120398ID@000N@12466,@120398ID@000N@12467,@120398ID@000N@12468,@120398ID@000N@12469,@120398ID@000N@12470,@120398ID@000N@12471,@120398ID@000N@12472,@120398ID@000N@12473,@120398ID@000N@12474,@120398ID@000N@12475,@120398ID@000N@12476,@120398ID@000N@12477,@120398ID@000N@12478,@120398ID@000N@12479,@120398ID@000N@12480,@120398ID@000N@12481,@120398ID@000N@12482,@120398ID@000N@12483,@120398ID@000N@12484,@120398ID@000N@12485,@120398ID@000N@12486,@120398ID@000N@12487,@120398ID@000N@12488,@120398ID@000N@12489,@120398ID@000N@12490,@120398ID@000N@12491,@120398ID@000N@12492,@120398ID@000N@12493,@120398ID@000N@12494,@120398ID@000N@12495,@120398ID@000N@12496,@120398ID@000N@12497,@120398ID@000N@12498,@120398ID@000N@12499,@120398ID@000N@12500,@120398ID@000N@12501,@120398ID@000N@12502,@120398ID@000N@12503,@120398ID@000N@12504,@120398ID@000N@12505,@120398ID@000N@12506,@120398ID@000N@12507,@120398ID@000N@12508,@120398ID@000N@12509,@120398ID@000N@12510,@120398ID@000N@12511,@120398ID@000N@12512,@120398ID@000N@12513,@120398ID@000N@12514,@120398ID@000N@12515,@120398ID@000N@12516,@120398ID@000N@12517,@120398ID@000N@12518,@120398ID@000N@12519,@120398ID@000N@12520,@120398ID@000N@12521,@120398ID@000N@12522,@120398ID@000N@12523,@120398ID@000N@12524,@120398ID@000N@12525,@120398ID@000N@12526,@120398ID@000N@12527,@120398ID@000N@12528,@120398ID@000N@12529,@120398ID@000N@12530,@120398ID@000N@12531,@120398ID@000N@12532,@120398ID@000N@12533,@120398ID@000N@12534,@120398ID@000N@12535,@120398ID@000N@12536,@120398ID@000N@12537,@120398ID@000N@12538,@120398ID@000N@12539,@120398ID@000N@12540,@120398ID@000N@12541,@120398ID@000N@12542,@120398ID@000N@12543,@120398ID@000N@12544,@120398ID@000N@12545,@120398ID@000N@12546,@120398ID@000N@12547,@120398ID@000N@12548,@120398ID@000N@12549,@120398ID@000N@12550,@120398ID@000N@12551,@120398ID@000N@12552,@120398ID@000N@12553,@120398ID@000N@12554,@120398ID@000N@12555,@120398ID@000N@12556,@120398ID@000N@12557,@120398ID@000N@12558,@120398ID@000N@12559,@120398ID@000N@12560,@120398ID@000N@12561,@120398ID@000N@12562,@120398ID@000N@12563,@120398ID@000N@12564,@120398ID@000N@12565,@120398ID@000N@12566,@120398ID@000N@12567,@120398ID@000N@12568,@120398ID@000N@12569,@120398ID@000N@12570,@120398ID@000N@12571,@120398ID@000N@12572,@120398ID@000N@12573,@120398ID@000N@12574,@120398ID@000N@12575,@120398ID@000N@12576,@120398ID@000N@12577,@120398ID@000N@12578,@120398ID@000N@12579,@120398ID@000N@12580,@120398ID@000N@12581,@120398ID@000N@12582,@120398ID@000N@12583,@120398ID@000N@12584,@120398ID@000N@12585,@120398ID@000N@12586,@120398ID@000N@12587,@120398ID@000N@12588,@120398ID@000N@12589,@120398ID@000N@12590,@120398ID@000N@12591,@120398ID@000N@12592,@120398ID@000N@12593,@120398ID@000N@12594,@120398ID@000N@12595,@120398ID@000N@12596,@120398ID@000N@12597,@120398ID@000N@12598,@120398ID@000N@12599,@120398ID@000N@12600,@120398ID@000N@12601,@120398ID@000N@12602,@120398ID@000N@12603,@120398ID@000N@12604,@120398ID@000N@12605,@120398ID@000N@12606,@120398ID@000N@12607,@120398ID@000N@12608,@120398ID@000N@12609,@120398ID@000N@12610,@120398ID@000N@12611,@120398ID@000N@12612,@120398ID@000N@12613,@120398ID@000N@12614,@120398ID@000N@12615,@120398ID@000N@12616,@120398ID@000N@12617,@120398ID@000N@12618,@120398ID@000N@12619,@120398ID@000N@12620,@120398ID@000N@12621,@120398ID@000N@12622,@120398ID@000N@12623,@120398ID@000N@12624,@120398ID@000N@12625,@120398ID@000N@12626,@120398ID@000N@12627,@120398ID@000N@12628,@120398ID@000N@12629,@120398ID@000N@12630,@120398ID@000N@12631,@120398ID@000N@12632,@120398ID@000N@12633,@120398ID@000N@12634,@120398ID@000N@12635,@120398ID@000N@12636,@120398ID@000N@12637,@120398ID@000N@12638,@120398ID@000N@12639,@120398ID@000N@12640,@120398ID@000N@12641,@120398ID@000N@12642,@120398ID@000N@12643,@120398ID@000N@12644,@120398ID@000N@12645,@120398ID@000N@12646,@120398ID@000N@12647,@120398ID@000N@12648,@120398ID@000N@12649,@120398ID@000N@12650,@120398ID@000N@12651,@120398ID@000N@12652,@120398ID@000N@12653,@120398ID@000N@12654,@120398ID@000N@12655,@120398ID@000N@12656,@120398ID@000N@12657,@120398ID@000N@12658,@120398ID@000N@12659,@120398ID@000N@12660,@120398ID@000N@12661,@120398ID@000N@12662,@120398ID@000N@12663,@120398ID@000N@12664,@120398ID@000N@12665,@120398ID@000N@12666,@120398ID@000N@12667,@120398ID@000N@12668,@120398ID@000N@12669,@120398ID@000N@12670,@120398ID@000N@12671,@120398ID@000N@12672,@120398ID@000N@12673,@120398ID@000N@12674,@120398ID@000N@12675,@120398ID@000N@12676,@120398ID@000N@12677,@120398ID@000N@12678,@120398ID@000N@12679&amp;serialType=SSL&amp;freeItem=false\r\n\r\n\r\n\r\nIt is showing 400 bad request errors when trying to hit in the higher environments. When I&#39;m decreasing the length it is working fine. \r\nCan anyone help me how to solve this issue.","title":"400 Bad Request for too long request parameter in PUT request","body":"<p>I'm trying to hit a PUT api through URL</p>\n<p>https://localhost:9002/serialNumbers/700027601?consignmentCode=700027601_c0&amp;productSku=120398ID&amp;serialNumbers=1@120398ID@000N@12345,@120398ID@000N@12346,@120398ID@000N@12347,@120398ID@000N@12348,@120398ID@000N@12349,@120398ID@000N@12350,@120398ID@000N@12351,@120398ID@000N@12352,@120398ID@000N@12353,@120398ID@000N@12354,@120398ID@000N@12355,@120398ID@000N@12356,@120398ID@000N@12357,@120398ID@000N@12358,@120398ID@000N@12359,@120398ID@000N@12360,@120398ID@000N@12361,@120398ID@000N@12362,@120398ID@000N@12363,@120398ID@000N@12364,@120398ID@000N@12365,@120398ID@000N@12366,@120398ID@000N@12367,@120398ID@000N@12368,@120398ID@000N@12369,@120398ID@000N@12370,@120398ID@000N@12371,@120398ID@000N@12372,@120398ID@000N@12373,@120398ID@000N@12374,@120398ID@000N@12375,@120398ID@000N@12376,@120398ID@000N@12377,@120398ID@000N@12378,@120398ID@000N@12379,@120398ID@000N@12380,@120398ID@000N@12381,@120398ID@000N@12382,@120398ID@000N@12383,@120398ID@000N@12384,@120398ID@000N@12385,@120398ID@000N@12386,@120398ID@000N@12387,@120398ID@000N@12388,@120398ID@000N@12389,@120398ID@000N@12390,@120398ID@000N@12391,@120398ID@000N@12392,@120398ID@000N@12393,@120398ID@000N@12394,@120398ID@000N@12395,@120398ID@000N@12396,@120398ID@000N@12397,@120398ID@000N@12398,@120398ID@000N@12399,@120398ID@000N@12400,@120398ID@000N@12401,@120398ID@000N@12402,@120398ID@000N@12403,@120398ID@000N@12404,@120398ID@000N@12405,@120398ID@000N@12406,@120398ID@000N@12407,@120398ID@000N@12408,@120398ID@000N@12409,@120398ID@000N@12410,@120398ID@000N@12411,@120398ID@000N@12412,@120398ID@000N@12413,@120398ID@000N@12414,@120398ID@000N@12415,@120398ID@000N@12416,@120398ID@000N@12417,@120398ID@000N@12418,@120398ID@000N@12419,@120398ID@000N@12420,@120398ID@000N@12421,@120398ID@000N@12422,@120398ID@000N@12423,@120398ID@000N@12424,@120398ID@000N@12425,@120398ID@000N@12426,@120398ID@000N@12427,@120398ID@000N@12428,@120398ID@000N@12429,@120398ID@000N@12430,@120398ID@000N@12431,@120398ID@000N@12432,@120398ID@000N@12433,@120398ID@000N@12434,@120398ID@000N@12435,@120398ID@000N@12436,@120398ID@000N@12437,@120398ID@000N@12438,@120398ID@000N@12439,@120398ID@000N@12440,@120398ID@000N@12441,@120398ID@000N@12442,@120398ID@000N@12443,@120398ID@000N@12444,@120398ID@000N@12445,@120398ID@000N@12446,@120398ID@000N@12447,@120398ID@000N@12448,@120398ID@000N@12449,@120398ID@000N@12450,@120398ID@000N@12451,@120398ID@000N@12452,@120398ID@000N@12453,@120398ID@000N@12454,@120398ID@000N@12455,@120398ID@000N@12456,@120398ID@000N@12457,@120398ID@000N@12458,@120398ID@000N@12459,@120398ID@000N@12460,@120398ID@000N@12461,@120398ID@000N@12462,@120398ID@000N@12463,@120398ID@000N@12464,@120398ID@000N@12465,@120398ID@000N@12466,@120398ID@000N@12467,@120398ID@000N@12468,@120398ID@000N@12469,@120398ID@000N@12470,@120398ID@000N@12471,@120398ID@000N@12472,@120398ID@000N@12473,@120398ID@000N@12474,@120398ID@000N@12475,@120398ID@000N@12476,@120398ID@000N@12477,@120398ID@000N@12478,@120398ID@000N@12479,@120398ID@000N@12480,@120398ID@000N@12481,@120398ID@000N@12482,@120398ID@000N@12483,@120398ID@000N@12484,@120398ID@000N@12485,@120398ID@000N@12486,@120398ID@000N@12487,@120398ID@000N@12488,@120398ID@000N@12489,@120398ID@000N@12490,@120398ID@000N@12491,@120398ID@000N@12492,@120398ID@000N@12493,@120398ID@000N@12494,@120398ID@000N@12495,@120398ID@000N@12496,@120398ID@000N@12497,@120398ID@000N@12498,@120398ID@000N@12499,@120398ID@000N@12500,@120398ID@000N@12501,@120398ID@000N@12502,@120398ID@000N@12503,@120398ID@000N@12504,@120398ID@000N@12505,@120398ID@000N@12506,@120398ID@000N@12507,@120398ID@000N@12508,@120398ID@000N@12509,@120398ID@000N@12510,@120398ID@000N@12511,@120398ID@000N@12512,@120398ID@000N@12513,@120398ID@000N@12514,@120398ID@000N@12515,@120398ID@000N@12516,@120398ID@000N@12517,@120398ID@000N@12518,@120398ID@000N@12519,@120398ID@000N@12520,@120398ID@000N@12521,@120398ID@000N@12522,@120398ID@000N@12523,@120398ID@000N@12524,@120398ID@000N@12525,@120398ID@000N@12526,@120398ID@000N@12527,@120398ID@000N@12528,@120398ID@000N@12529,@120398ID@000N@12530,@120398ID@000N@12531,@120398ID@000N@12532,@120398ID@000N@12533,@120398ID@000N@12534,@120398ID@000N@12535,@120398ID@000N@12536,@120398ID@000N@12537,@120398ID@000N@12538,@120398ID@000N@12539,@120398ID@000N@12540,@120398ID@000N@12541,@120398ID@000N@12542,@120398ID@000N@12543,@120398ID@000N@12544,@120398ID@000N@12545,@120398ID@000N@12546,@120398ID@000N@12547,@120398ID@000N@12548,@120398ID@000N@12549,@120398ID@000N@12550,@120398ID@000N@12551,@120398ID@000N@12552,@120398ID@000N@12553,@120398ID@000N@12554,@120398ID@000N@12555,@120398ID@000N@12556,@120398ID@000N@12557,@120398ID@000N@12558,@120398ID@000N@12559,@120398ID@000N@12560,@120398ID@000N@12561,@120398ID@000N@12562,@120398ID@000N@12563,@120398ID@000N@12564,@120398ID@000N@12565,@120398ID@000N@12566,@120398ID@000N@12567,@120398ID@000N@12568,@120398ID@000N@12569,@120398ID@000N@12570,@120398ID@000N@12571,@120398ID@000N@12572,@120398ID@000N@12573,@120398ID@000N@12574,@120398ID@000N@12575,@120398ID@000N@12576,@120398ID@000N@12577,@120398ID@000N@12578,@120398ID@000N@12579,@120398ID@000N@12580,@120398ID@000N@12581,@120398ID@000N@12582,@120398ID@000N@12583,@120398ID@000N@12584,@120398ID@000N@12585,@120398ID@000N@12586,@120398ID@000N@12587,@120398ID@000N@12588,@120398ID@000N@12589,@120398ID@000N@12590,@120398ID@000N@12591,@120398ID@000N@12592,@120398ID@000N@12593,@120398ID@000N@12594,@120398ID@000N@12595,@120398ID@000N@12596,@120398ID@000N@12597,@120398ID@000N@12598,@120398ID@000N@12599,@120398ID@000N@12600,@120398ID@000N@12601,@120398ID@000N@12602,@120398ID@000N@12603,@120398ID@000N@12604,@120398ID@000N@12605,@120398ID@000N@12606,@120398ID@000N@12607,@120398ID@000N@12608,@120398ID@000N@12609,@120398ID@000N@12610,@120398ID@000N@12611,@120398ID@000N@12612,@120398ID@000N@12613,@120398ID@000N@12614,@120398ID@000N@12615,@120398ID@000N@12616,@120398ID@000N@12617,@120398ID@000N@12618,@120398ID@000N@12619,@120398ID@000N@12620,@120398ID@000N@12621,@120398ID@000N@12622,@120398ID@000N@12623,@120398ID@000N@12624,@120398ID@000N@12625,@120398ID@000N@12626,@120398ID@000N@12627,@120398ID@000N@12628,@120398ID@000N@12629,@120398ID@000N@12630,@120398ID@000N@12631,@120398ID@000N@12632,@120398ID@000N@12633,@120398ID@000N@12634,@120398ID@000N@12635,@120398ID@000N@12636,@120398ID@000N@12637,@120398ID@000N@12638,@120398ID@000N@12639,@120398ID@000N@12640,@120398ID@000N@12641,@120398ID@000N@12642,@120398ID@000N@12643,@120398ID@000N@12644,@120398ID@000N@12645,@120398ID@000N@12646,@120398ID@000N@12647,@120398ID@000N@12648,@120398ID@000N@12649,@120398ID@000N@12650,@120398ID@000N@12651,@120398ID@000N@12652,@120398ID@000N@12653,@120398ID@000N@12654,@120398ID@000N@12655,@120398ID@000N@12656,@120398ID@000N@12657,@120398ID@000N@12658,@120398ID@000N@12659,@120398ID@000N@12660,@120398ID@000N@12661,@120398ID@000N@12662,@120398ID@000N@12663,@120398ID@000N@12664,@120398ID@000N@12665,@120398ID@000N@12666,@120398ID@000N@12667,@120398ID@000N@12668,@120398ID@000N@12669,@120398ID@000N@12670,@120398ID@000N@12671,@120398ID@000N@12672,@120398ID@000N@12673,@120398ID@000N@12674,@120398ID@000N@12675,@120398ID@000N@12676,@120398ID@000N@12677,@120398ID@000N@12678,@120398ID@000N@12679&amp;serialType=SSL&amp;freeItem=false</p>\n<p>It is showing 400 bad request errors when trying to hit in the higher environments. When I'm decreasing the length it is working fine.\nCan anyone help me how to solve this issue.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1643294273,"post_id":70879827,"comment_id":125305480,"body_markdown":"`if (element.matches(&quot;(?i)CardTIN is \\\\d{4}|Card-TIN:\\\\d{4}|Card\\\\@TIN\\\\@\\\\d{4}|CardTIN\\\\@\\\\d{4}&quot;)) {`.","body":"<code>if (element.matches(&quot;(?i)CardTIN is \\\\d{4}|Card-TIN:\\\\d{4}|Card\\\\@TIN\\\\@\\\\d{4}|CardTIN\\\\@\\\\d{4}&quot;&zwnj;&#8203;)) {</code>."},{"owner":{"account_id":14065302,"reputation":33,"user_id":10160339,"display_name":"dhanju"},"score":0,"creation_date":1643295425,"post_id":70879827,"comment_id":125306080,"body_markdown":"there are many numerous test cases given are the 5 sample scenarios","body":"there are many numerous test cases given are the 5 sample scenarios"}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643303605,"creation_date":1643300174,"answer_id":70881981,"question_id":70879827,"body_markdown":"You can make sure that either tin or TIN using the character classes is not present:\r\n\r\n    ^(?![a-zA-Z0-9]*(?:TIN|tin)[a-zA-Z0-9]*$).*(?:TIN|tin).*\r\n\r\n- `(?i)` Case insensitive match\r\n- `^` Start of string\r\n- `(?![a-zA-Z0-9]*(?:TIN|tin)[a-zA-Z0-9]*$)` Assert that TIN or tin (as it is case insensitive, it does not matter for this example) does not occur between alpha numeric chars (no special characters so to say)\r\n- `.*(?:TIN|tin).*` Match the word in the line\r\n\r\nYou might add word boundaries `\\\\b(?:TIN|tin)\\\\b` for a more precise match.\r\n\r\n[Regex demo](https://regex101.com/r/QS4vhX/1)\r\n\r\nExample for a single line:\r\n\r\n    String s = &quot;CardTIN is 1111&quot;;\r\n    String[] wordsList = {&quot;TIN&quot;,&quot;tin&quot;};\r\n    String alt = &quot;(?:&quot; + String.join(&quot;|&quot;, wordsList) + &quot;)&quot;;\r\n    String regex = &quot;(?i)^(?![a-zA-Z0-9]*&quot; + alt + &quot;[a-zA-Z0-9]*$).*&quot; + alt + &quot;.*&quot;;\r\n    System.out.println(s.matches(regex)); \r\n\r\nOutput\r\n\r\n    true\r\n&lt;hr&gt;\r\n\r\nYou can also join the list of words on `|` and then filter the list:\r\n\r\n    String strings[] = { &quot;CardTIN is 1111&quot;, &quot;Card-TIN:2222&quot;, &quot;CardTINis3333&quot;, &quot;Card@TIN@4444&quot;, &quot;CardTIN@5555&quot;, &quot;TINis9999&quot;, &quot;test&quot;, &quot;Card Tin is 1111&quot; };\r\n    String[] wordsList = {&quot;TIN&quot;,&quot;tin&quot;};\r\n    String alt = &quot;(?:&quot; + String.join(&quot;|&quot;, wordsList) + &quot;)&quot;;\r\n    String regex = &quot;(?i)^(?![a-zA-Z0-9]*&quot; + alt + &quot;[a-zA-Z0-9]*$).*&quot; + alt + &quot;.*&quot;;\r\n    List&lt;String&gt; result = Arrays.stream(strings)\r\n            .filter(word -&gt; word.matches(regex))\r\n            .collect(Collectors.toList());\r\n    \r\n    for (String res : result)\r\n        System.out.println(res); \r\n\r\nOutput\r\n\r\n    CardTIN is 1111\r\n    Card-TIN:2222\r\n    Card@TIN@4444\r\n    CardTIN@5555\r\n    Card Tin is 1111\r\n\r\nSee a [Java demo](https://ideone.com/k5opvF).","title":"Java Regex Handling","body":"<p>You can make sure that either tin or TIN using the character classes is not present:</p>\n<pre><code>^(?![a-zA-Z0-9]*(?:TIN|tin)[a-zA-Z0-9]*$).*(?:TIN|tin).*\n</code></pre>\n<ul>\n<li><code>(?i)</code> Case insensitive match</li>\n<li><code>^</code> Start of string</li>\n<li><code>(?![a-zA-Z0-9]*(?:TIN|tin)[a-zA-Z0-9]*$)</code> Assert that TIN or tin (as it is case insensitive, it does not matter for this example) does not occur between alpha numeric chars (no special characters so to say)</li>\n<li><code>.*(?:TIN|tin).*</code> Match the word in the line</li>\n</ul>\n<p>You might add word boundaries <code>\\\\b(?:TIN|tin)\\\\b</code> for a more precise match.</p>\n<p><a href=\"https://regex101.com/r/QS4vhX/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>Example for a single line:</p>\n<pre><code>String s = &quot;CardTIN is 1111&quot;;\nString[] wordsList = {&quot;TIN&quot;,&quot;tin&quot;};\nString alt = &quot;(?:&quot; + String.join(&quot;|&quot;, wordsList) + &quot;)&quot;;\nString regex = &quot;(?i)^(?![a-zA-Z0-9]*&quot; + alt + &quot;[a-zA-Z0-9]*$).*&quot; + alt + &quot;.*&quot;;\nSystem.out.println(s.matches(regex)); \n</code></pre>\n<p>Output</p>\n<pre><code>true\n</code></pre>\n<hr>\n<p>You can also join the list of words on <code>|</code> and then filter the list:</p>\n<pre><code>String strings[] = { &quot;CardTIN is 1111&quot;, &quot;Card-TIN:2222&quot;, &quot;CardTINis3333&quot;, &quot;Card@TIN@4444&quot;, &quot;CardTIN@5555&quot;, &quot;TINis9999&quot;, &quot;test&quot;, &quot;Card Tin is 1111&quot; };\nString[] wordsList = {&quot;TIN&quot;,&quot;tin&quot;};\nString alt = &quot;(?:&quot; + String.join(&quot;|&quot;, wordsList) + &quot;)&quot;;\nString regex = &quot;(?i)^(?![a-zA-Z0-9]*&quot; + alt + &quot;[a-zA-Z0-9]*$).*&quot; + alt + &quot;.*&quot;;\nList&lt;String&gt; result = Arrays.stream(strings)\n        .filter(word -&gt; word.matches(regex))\n        .collect(Collectors.toList());\n\nfor (String res : result)\n    System.out.println(res); \n</code></pre>\n<p>Output</p>\n<pre><code>CardTIN is 1111\nCard-TIN:2222\nCard@TIN@4444\nCardTIN@5555\nCard Tin is 1111\n</code></pre>\n<p>See a <a href=\"https://ideone.com/k5opvF\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643304302,"creation_date":1643304302,"answer_id":70883000,"question_id":70879827,"body_markdown":"I am not sure whether your requirements can be put in regex. If at all, you are running way into specialities that will become hard to maintain.\r\n\r\nTherefore you might be better off using a lexer/scanner combination which usually make up a complete parser. Check out [ANTLR][1].\r\n\r\n\r\n  [1]: https://www.antlr.org/","title":"Java Regex Handling","body":"<p>I am not sure whether your requirements can be put in regex. If at all, you are running way into specialities that will become hard to maintain.</p>\n<p>Therefore you might be better off using a lexer/scanner combination which usually make up a complete parser. Check out <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">ANTLR</a>.</p>\n"}],"owner":{"account_id":14065302,"reputation":33,"user_id":10160339,"display_name":"dhanju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70883000,"answer_count":2,"score":1,"last_activity_date":1643304302,"creation_date":1643291999,"question_id":70879827,"body_markdown":"Looking for a java regex function to  1 - return true if Special characters present before or after from my list of array elements \r\n\r\n2 - Return False if any alpha characters present before and after from my list of array elements \r\nMy array elements  wordsList = {&quot;TIN&quot;,&quot;tin&quot;}\r\nInput:\r\n\r\n1-CardTIN is 1111\r\n2-Card-TIN:2222\r\n3-CardTINis3333\r\n4-Card@TIN@4444\r\n5-CardTIN@5555\r\n6-TINis9999\r\n\r\nExpected Output:\r\n\r\n1-True\r\n2-True\r\n3-False\r\n4-True \r\n5-True\r\n6-False\r\n\r\nI have tried regex function to cover these cases \r\n\r\nArrays.stream(wordsList).anyMatch(word -&gt; Pattern .compile(&quot;([^a-zA-Z0-9])&quot; + Pattern.quote(word) +&quot;([^a-zA-Z0-9])&quot;.matcher(string).find()\r\n\r\nBut the scenario CardTin@555 is not giving the desired result as expected \r\n\r\nKindly help with these case\r\n","title":"Java Regex Handling","body":"<p>Looking for a java regex function to  1 - return true if Special characters present before or after from my list of array elements</p>\n<p>2 - Return False if any alpha characters present before and after from my list of array elements\nMy array elements  wordsList = {&quot;TIN&quot;,&quot;tin&quot;}\nInput:</p>\n<p>1-CardTIN is 1111\n2-Card-TIN:2222\n3-CardTINis3333\n4-Card@TIN@4444\n5-CardTIN@5555\n6-TINis9999</p>\n<p>Expected Output:</p>\n<p>1-True\n2-True\n3-False\n4-True\n5-True\n6-False</p>\n<p>I have tried regex function to cover these cases</p>\n<p>Arrays.stream(wordsList).anyMatch(word -&gt; Pattern .compile(&quot;([^a-zA-Z0-9])&quot; + Pattern.quote(word) +&quot;([^a-zA-Z0-9])&quot;.matcher(string).find()</p>\n<p>But the scenario CardTin@555 is not giving the desired result as expected</p>\n<p>Kindly help with these case</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643304152,"creation_date":1643297700,"question_id":70881333,"body_markdown":"**AuditTrailListener**\r\n\r\n    @Component\r\n    public class AuditTrailListenerSchedule {\r\n\r\n    private final NotificationService notificationService;\r\n    private final EmployeeService employeeService;\r\n\r\n    @Autowired\r\n    @Lazy\r\n    public AuditTrailListenerSchedule(NotificationService notificationService, EmployeeService employeeService) {\r\n        this.notificationService = notificationService;\r\n        this.employeeService = employeeService;\r\n    }\r\n\r\n\r\n    @PostPersist\r\n    public void afterAnyCreateSchedule(Schedule schedule) {\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        Employee employee = employeeService.findByUsername(auth.getName());\r\n\r\n\r\n        Notification newNotification = Notification.builder()\r\n                .employee(schedule.getEmployee())\r\n                .date(dateCreated())\r\n                .message(String.format(&quot;%s added new schedule form %s to %s &quot;, employee.getFullName(), schedule.getFrom(), schedule.getTo()))\r\n                .build();\r\n\r\n        notificationService.save(newNotification);\r\n    }\r\n\r\nWhen I use `employeeService.findByUsername(auth.getName())` I end up with this exception:\r\n\r\n    \r\n\r\n&gt; rg.hibernate.AssertionFailure: null id in com.mikedev.HRMSystem.model.Schedule entry (don&#39;t flush the Session after an exception occurs)\r\n\r\nIf I use `employeeService.findById(1L)` I got no problems it&#39;s find the user without exception, everything is same in repository for the find by username is Optional and throw exception when is not entity with that username found. I think this may be from the `@Lazy` annotation. How can I get around this problem and find the employee with the given logged user username. \r\n\r\n \r\n","title":"org.hibernate.AssertionFailure: null id in entry (don&#39;t flush the Session after an exception occurs) when using @Lazy Anottaion in AuditTrailListener","body":"<p><strong>AuditTrailListener</strong></p>\n<pre><code>@Component\npublic class AuditTrailListenerSchedule {\n\nprivate final NotificationService notificationService;\nprivate final EmployeeService employeeService;\n\n@Autowired\n@Lazy\npublic AuditTrailListenerSchedule(NotificationService notificationService, EmployeeService employeeService) {\n    this.notificationService = notificationService;\n    this.employeeService = employeeService;\n}\n\n\n@PostPersist\npublic void afterAnyCreateSchedule(Schedule schedule) {\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n    Employee employee = employeeService.findByUsername(auth.getName());\n\n\n    Notification newNotification = Notification.builder()\n            .employee(schedule.getEmployee())\n            .date(dateCreated())\n            .message(String.format(&quot;%s added new schedule form %s to %s &quot;, employee.getFullName(), schedule.getFrom(), schedule.getTo()))\n            .build();\n\n    notificationService.save(newNotification);\n}\n</code></pre>\n<p>When I use <code>employeeService.findByUsername(auth.getName())</code> I end up with this exception:</p>\n<blockquote>\n<p>rg.hibernate.AssertionFailure: null id in com.mikedev.HRMSystem.model.Schedule entry (don't flush the Session after an exception occurs)</p>\n</blockquote>\n<p>If I use <code>employeeService.findById(1L)</code> I got no problems it's find the user without exception, everything is same in repository for the find by username is Optional and throw exception when is not entity with that username found. I think this may be from the <code>@Lazy</code> annotation. How can I get around this problem and find the employee with the given logged user username.</p>\n"},{"tags":["java","spring","spring-boot","javabeans"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1643303991,"post_id":70882878,"comment_id":125309934,"body_markdown":"Why would you create the context yourself and refresh it, that makes no sense?","body":"Why would you create the context yourself and refresh it, that makes no sense?"},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1643304008,"post_id":70882878,"comment_id":125309944,"body_markdown":"Would it not be easier to have all the beans injected, and then make the call on the appropriate instance?","body":"Would it not be easier to have all the beans injected, and then make the call on the appropriate instance?"},{"owner":{"account_id":7695072,"reputation":2452,"user_id":5829906,"accept_rate":97,"display_name":"MrRobot9"},"score":0,"creation_date":1643304046,"post_id":70882878,"comment_id":125309956,"body_markdown":"@AbhijitSarkar The refresh was added because it gave me an error &quot;Context is not refreshed yet&quot; before this","body":"@AbhijitSarkar The refresh was added because it gave me an error &quot;Context is not refreshed yet&quot; before this"},{"owner":{"account_id":7695072,"reputation":2452,"user_id":5829906,"accept_rate":97,"display_name":"MrRobot9"},"score":0,"creation_date":1643304098,"post_id":70882878,"comment_id":125309977,"body_markdown":"@MichaelPiefel How can I structure that?","body":"@MichaelPiefel How can I structure that?"},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1643304196,"post_id":70882878,"comment_id":125310018,"body_markdown":"What do you mean by ‘structure that’? You know how to inject `TestService`. Just have `AnotherService` injected as well, to another field.","body":"What do you mean by ‘structure that’? You know how to inject <code>TestService</code>. Just have <code>AnotherService</code> injected as well, to another field."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1643304260,"post_id":70882878,"comment_id":125310044,"body_markdown":"The `Util` class could have injected all the beans extending from `BaseService`. Then passing a parameter, you could return the already injected bean. If you still want to so something like in your snippet, I would try implementing the `ApplicationContextAware` interface to get access to the `ApplicationContext.getBean()` method.","body":"The <code>Util</code> class could have injected all the beans extending from <code>BaseService</code>. Then passing a parameter, you could return the already injected bean. If you still want to so something like in your snippet, I would try implementing the <code>ApplicationContextAware</code> interface to get access to the <code>ApplicationContext.getBean()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643304108,"creation_date":1643304108,"answer_id":70882958,"question_id":70882878,"body_markdown":"Your `AnnotationConfigApplicationContext` is initially empty. To quote the documentation: “Create a new AnnotationConfigApplicationContext that needs to be populated through `register(java.lang.Class&lt;?&gt;...)` calls and then manually refreshed.”","title":"Spring Boot: class with @Service bean bean not found","body":"<p>Your <code>AnnotationConfigApplicationContext</code> is initially empty. To quote the documentation: “Create a new AnnotationConfigApplicationContext that needs to be populated through <code>register(java.lang.Class&lt;?&gt;...)</code> calls and then manually refreshed.”</p>\n"}],"owner":{"account_id":7695072,"reputation":2452,"user_id":5829906,"accept_rate":97,"display_name":"MrRobot9"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1068,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70882958,"answer_count":1,"score":0,"last_activity_date":1643304108,"creation_date":1643303760,"question_id":70882878,"body_markdown":"I have multiple `@Service` class which implements a class `BaseService`\r\n\r\nIn a `Controller` class,\r\nI want to call a `Service` class (which implements `BaseService`) based on a parameter\r\n\r\nI&#39;m using a function in `Utils` and calling it from the `Controller` class\r\n\r\n    public final class Util {\r\n       \r\n       public static BaseService getService(String num){\r\n         AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();\r\n         context.refresh();\r\n         if(num == 1){\r\n            return context.getBean(TestService.class);\r\n        }\r\n          return context.getBean(AnotherService.class);\r\n       }\r\n    }\r\n\r\nMy `TestService` class has an `@Service` annotation\r\n\r\n`TestService` works if I call it using constructor in the `Controller` class\r\n\r\n    @Autowired\r\n    public TestController(TestService service){\r\n       this.service = service;\r\n    }\r\n    \r\n    \r\n    service.callMethod(); //This works!!\r\n\r\nBut if I call the instance using `Util` class, it gives me `No such bean as TestService available`","title":"Spring Boot: class with @Service bean bean not found","body":"<p>I have multiple <code>@Service</code> class which implements a class <code>BaseService</code></p>\n<p>In a <code>Controller</code> class,\nI want to call a <code>Service</code> class (which implements <code>BaseService</code>) based on a parameter</p>\n<p>I'm using a function in <code>Utils</code> and calling it from the <code>Controller</code> class</p>\n<pre><code>public final class Util {\n   \n   public static BaseService getService(String num){\n     AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();\n     context.refresh();\n     if(num == 1){\n        return context.getBean(TestService.class);\n    }\n      return context.getBean(AnotherService.class);\n   }\n}\n</code></pre>\n<p>My <code>TestService</code> class has an <code>@Service</code> annotation</p>\n<p><code>TestService</code> works if I call it using constructor in the <code>Controller</code> class</p>\n<pre><code>@Autowired\npublic TestController(TestService service){\n   this.service = service;\n}\n\n\nservice.callMethod(); //This works!!\n</code></pre>\n<p>But if I call the instance using <code>Util</code> class, it gives me <code>No such bean as TestService available</code></p>\n"},{"tags":["java","android","android-studio","lint"],"comments":[{"owner":{"account_id":903708,"reputation":4817,"user_id":939133,"accept_rate":70,"display_name":"Jakoss"},"score":1,"creation_date":1643296365,"post_id":70880902,"comment_id":125306513,"body_markdown":"Have you set the source and target compatility to Java 8? Like in instructions here https://developer.android.com/studio/write/java8-support#library-desugaring","body":"Have you set the source and target compatility to Java 8? Like in instructions here <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/&hellip;</a>"},{"owner":{"account_id":221711,"reputation":14051,"user_id":479851,"accept_rate":69,"display_name":"S&#233;bastien"},"score":0,"creation_date":1643303924,"post_id":70880902,"comment_id":125309898,"body_markdown":"@Jakoss yes, source and target compatility are set to Java 1.8.","body":"@Jakoss yes, source and target compatility are set to Java 1.8."},{"owner":{"account_id":4558421,"reputation":2296,"user_id":3701433,"accept_rate":46,"display_name":"Prudhvi"},"score":0,"creation_date":1651724731,"post_id":70880902,"comment_id":127432309,"body_markdown":"@S&#233;bastien Were you able to figure it out?","body":"@S&#233;bastien Were you able to figure it out?"},{"owner":{"account_id":221711,"reputation":14051,"user_id":479851,"accept_rate":69,"display_name":"S&#233;bastien"},"score":0,"creation_date":1651819365,"post_id":70880902,"comment_id":127458525,"body_markdown":"@Prudhvi Nope..","body":"@Prudhvi Nope.."},{"owner":{"account_id":2645879,"reputation":716,"user_id":2288583,"display_name":"shrewdu"},"score":0,"creation_date":1654059798,"post_id":70880902,"comment_id":127998990,"body_markdown":"I&#39;d like to know the answer to this too. Trying to figure out how to turn off the lint errors.","body":"I&#39;d like to know the answer to this too. Trying to figure out how to turn off the lint errors."}],"owner":{"account_id":221711,"reputation":14051,"user_id":479851,"accept_rate":69,"display_name":"S&#233;bastien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1643304007,"creation_date":1643296051,"question_id":70880902,"body_markdown":"My app has `minSDKVersion 16`.\r\n\r\nI have followed the [doc][1] and added the following lines to my build.gradle in order to use some &quot;Java 8 language APIs without requiring a minimum API level&quot;:\r\n    \r\n    android {\r\n        compileOptions {\r\n                coreLibraryDesugaringEnabled true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n    }\r\n\r\nThis works as expected, and the following code does not crash at runtime on an API 16 emulator:\r\n\r\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\r\n    arr.add(&quot;hello&quot;);\r\n    // ↓ this is a Java 8 API and crashes on API 16 if coreLibraryDesugaringEnabled=false\r\n    arr.removeIf(s -&gt; true); \r\n\r\nNow, the issue is that lint shows an error on this line:\r\n`Call requires API level 24 (current min is 16): java.util.ArrayList#removeIf`\r\n\r\n[![lint error][2]][2]\r\n\r\n**How can I fix this incorrect behavior of Android Studio/lint?**\r\n\r\nI don&#39;t want to suppress the error because it could be useful, when actually legitimate.\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support\r\n  [2]: https://i.stack.imgur.com/GKt8h.png","title":"lint error &quot;Call requires API level 24&quot; whereas desugaring is correctly configured to use Java 8 features","body":"<p>My app has <code>minSDKVersion 16</code>.</p>\n<p>I have followed the <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"noreferrer\">doc</a> and added the following lines to my build.gradle in order to use some &quot;Java 8 language APIs without requiring a minimum API level&quot;:</p>\n<pre><code>android {\n    compileOptions {\n            coreLibraryDesugaringEnabled true\n    }\n}\n\ndependencies {\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\n}\n</code></pre>\n<p>This works as expected, and the following code does not crash at runtime on an API 16 emulator:</p>\n<pre><code>ArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\narr.add(&quot;hello&quot;);\n// ↓ this is a Java 8 API and crashes on API 16 if coreLibraryDesugaringEnabled=false\narr.removeIf(s -&gt; true); \n</code></pre>\n<p>Now, the issue is that lint shows an error on this line:\n<code>Call requires API level 24 (current min is 16): java.util.ArrayList#removeIf</code></p>\n<p><a href=\"https://i.stack.imgur.com/GKt8h.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GKt8h.png\" alt=\"lint error\" /></a></p>\n<p><strong>How can I fix this incorrect behavior of Android Studio/lint?</strong></p>\n<p>I don't want to suppress the error because it could be useful, when actually legitimate.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643120149,"post_id":70844904,"comment_id":125251265,"body_markdown":"Well, are the topologies the same?","body":"Well, are the topologies the same?"},{"owner":{"account_id":2776621,"reputation":12858,"user_id":2390083,"accept_rate":75,"display_name":"Beryllium"},"score":0,"creation_date":1643177944,"post_id":70844904,"comment_id":125267728,"body_markdown":"@OneCricketeer I have added the 2nd topology. The numbering is different, but structurally it seems to be equal.","body":"@OneCricketeer I have added the 2nd topology. The numbering is different, but structurally it seems to be equal."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643208108,"post_id":70844904,"comment_id":125278533,"body_markdown":"Where do you define `builder`? Is the `application.id` the same for both configs? If so, then yeah, there&#39;s only one consumer instance per input partition that can run for either stream, as per limitations of the underlying consumer api","body":"Where do you define <code>builder</code>? Is the <code>application.id</code> the same for both configs? If so, then yeah, there&#39;s only one consumer instance per input partition that can run for either stream, as per limitations of the underlying consumer api"},{"owner":{"account_id":2776621,"reputation":12858,"user_id":2390083,"accept_rate":75,"display_name":"Beryllium"},"score":0,"creation_date":1643302829,"post_id":70844904,"comment_id":125309465,"body_markdown":"@OneCricketeer The `builder` would be the same, same `application.id`. You could post your comment as an answer, maybe including a reference where your statement is base on. Thanks!","body":"@OneCricketeer The <code>builder</code> would be the same, same <code>application.id</code>. You could post your comment as an answer, maybe including a reference where your statement is base on. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643303837,"creation_date":1643303837,"answer_id":70882896,"question_id":70844904,"body_markdown":"&gt; The `builder` would be the same, same `application.id`\r\n\r\nCan&#39;t speak for the topology, but thinking about the flow at the Consumer API level, the `group.id` is built based on the `application.id`, therefore your consumer group would be the same for both streams. \r\n\r\nWith one input topic, only one consumer instance (between the two) would be able to consume from that input topic. \r\n\r\nThis would explain why there is only one source; therefore, you don&#39;t need additional `builder.stream()` calls with the same parameters. ","title":"Does the Kafka Streams StreamBuilder always detect &quot;duplicate&quot; input topics?","body":"<blockquote>\n<p>The <code>builder</code> would be the same, same <code>application.id</code></p>\n</blockquote>\n<p>Can't speak for the topology, but thinking about the flow at the Consumer API level, the <code>group.id</code> is built based on the <code>application.id</code>, therefore your consumer group would be the same for both streams.</p>\n<p>With one input topic, only one consumer instance (between the two) would be able to consume from that input topic.</p>\n<p>This would explain why there is only one source; therefore, you don't need additional <code>builder.stream()</code> calls with the same parameters.</p>\n"}],"owner":{"account_id":2776621,"reputation":12858,"user_id":2390083,"accept_rate":75,"display_name":"Beryllium"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70882896,"answer_count":1,"score":1,"last_activity_date":1643303837,"creation_date":1643096213,"question_id":70844904,"body_markdown":"This code creates two `KStream` instances *separately*, both are reading from the *same* topic:\r\n\r\n        final KStream&lt;String, String&gt; inputStream1 =\r\n          builder.stream(INPUT_TOPIC, consumed);\r\n        final KStream&lt;String, String&gt; inputStream2 =\r\n          builder.stream(INPUT_TOPIC, consumed);\r\n\r\n        final KStream&lt;String, String&gt; mappedStream1 = inputStream1\r\n                .peek((k, v) -&gt; System.out.println(&quot;1: &quot; + k + &quot; -&gt; &quot; + v))\r\n                .mapValues((ValueMapper&lt;String, String&gt;) String::toLowerCase);\r\n\r\n        final KStream&lt;String, String&gt; mappedStream2 = inputStream2\r\n                .peek((k, v) -&gt; System.out.println(&quot;2: &quot; + k + &quot; -&gt; &quot; + v))\r\n                .mapValues((ValueMapper&lt;String, String&gt;) String::toUpperCase);\r\n\r\n        mappedStream1.to(OUTPUT_TOPIC_1, produced);\r\n        mappedStream2.to(OUTPUT_TOPIC_2, produced);\r\n\r\nThe topology looks like this: There is only one *source* definition which is then used *two times*:\r\n\r\n    Topologies:\r\n       Sub-topology: 0\r\n        Source: KSTREAM-SOURCE-0000000000 (topics: [input])\r\n          --&gt; KSTREAM-PEEK-0000000002, KSTREAM-PEEK-0000000004\r\n        Processor: KSTREAM-PEEK-0000000002 (stores: [])\r\n          --&gt; KSTREAM-MAPVALUES-0000000003\r\n          &lt;-- KSTREAM-SOURCE-0000000000\r\n        Processor: KSTREAM-PEEK-0000000004 (stores: [])\r\n          --&gt; KSTREAM-MAPVALUES-0000000005\r\n          &lt;-- KSTREAM-SOURCE-0000000000\r\n        Processor: KSTREAM-MAPVALUES-0000000003 (stores: [])\r\n          --&gt; KSTREAM-SINK-0000000006\r\n          &lt;-- KSTREAM-PEEK-0000000002\r\n        Processor: KSTREAM-MAPVALUES-0000000005 (stores: [])\r\n          --&gt; KSTREAM-SINK-0000000007\r\n          &lt;-- KSTREAM-PEEK-0000000004\r\n        Sink: KSTREAM-SINK-0000000006 (topic: output-1)\r\n          &lt;-- KSTREAM-MAPVALUES-0000000003\r\n        Sink: KSTREAM-SINK-0000000007 (topic: output-2)\r\n          &lt;-- KSTREAM-MAPVALUES-0000000005\r\n\r\nNow my question is: Is it always safe to assume that the `StreamBuilder` creates only one source (= only one consumer for the same topic)?\r\n\r\nIn other words: Is it always guaranteed that - given a topic with multiple partitions - `inputStream1` and `inputStream2` see the same records?\r\n\r\nOr is it better to rewrite it to something like this, to make it explicit:\r\n\r\n        final KStream&lt;String, String&gt; inputStream =\r\n          builder.stream(INPUT_TOPIC, consumed);\r\n\r\n        final KStream&lt;String, String&gt; mappedStream1 = inputStream\r\n                .peek((k, v) -&gt; System.out.println(&quot;1: &quot; + k + &quot; -&gt; &quot; + v))\r\n                .mapValues((ValueMapper&lt;String, String&gt;) String::toLowerCase);\r\n\r\n        final KStream&lt;String, String&gt; mappedStream2 = inputStream\r\n                .peek((k, v) -&gt; System.out.println(&quot;2: &quot; + k + &quot; -&gt; &quot; + v))\r\n                .mapValues((ValueMapper&lt;String, String&gt;) String::toUpperCase);\r\n\r\n**Update**\r\n\r\nThe 2nd version results in this topology:\r\n\r\n    Topologies:\r\n       Sub-topology: 0\r\n        Source: KSTREAM-SOURCE-0000000000 (topics: [input])\r\n          --&gt; KSTREAM-PEEK-0000000001, KSTREAM-PEEK-0000000003\r\n        Processor: KSTREAM-PEEK-0000000001 (stores: [])\r\n          --&gt; KSTREAM-MAPVALUES-0000000002\r\n          &lt;-- KSTREAM-SOURCE-0000000000\r\n        Processor: KSTREAM-PEEK-0000000003 (stores: [])\r\n          --&gt; KSTREAM-MAPVALUES-0000000004\r\n          &lt;-- KSTREAM-SOURCE-0000000000\r\n        Processor: KSTREAM-MAPVALUES-0000000002 (stores: [])\r\n          --&gt; KSTREAM-SINK-0000000005\r\n          &lt;-- KSTREAM-PEEK-0000000001\r\n        Processor: KSTREAM-MAPVALUES-0000000004 (stores: [])\r\n          --&gt; KSTREAM-SINK-0000000006\r\n          &lt;-- KSTREAM-PEEK-0000000003\r\n        Sink: KSTREAM-SINK-0000000005 (topic: output-1)\r\n          &lt;-- KSTREAM-MAPVALUES-0000000002\r\n        Sink: KSTREAM-SINK-0000000006 (topic: output-2)\r\n          &lt;-- KSTREAM-MAPVALUES-0000000004\r\n","title":"Does the Kafka Streams StreamBuilder always detect &quot;duplicate&quot; input topics?","body":"<p>This code creates two <code>KStream</code> instances <em>separately</em>, both are reading from the <em>same</em> topic:</p>\n<pre><code>    final KStream&lt;String, String&gt; inputStream1 =\n      builder.stream(INPUT_TOPIC, consumed);\n    final KStream&lt;String, String&gt; inputStream2 =\n      builder.stream(INPUT_TOPIC, consumed);\n\n    final KStream&lt;String, String&gt; mappedStream1 = inputStream1\n            .peek((k, v) -&gt; System.out.println(&quot;1: &quot; + k + &quot; -&gt; &quot; + v))\n            .mapValues((ValueMapper&lt;String, String&gt;) String::toLowerCase);\n\n    final KStream&lt;String, String&gt; mappedStream2 = inputStream2\n            .peek((k, v) -&gt; System.out.println(&quot;2: &quot; + k + &quot; -&gt; &quot; + v))\n            .mapValues((ValueMapper&lt;String, String&gt;) String::toUpperCase);\n\n    mappedStream1.to(OUTPUT_TOPIC_1, produced);\n    mappedStream2.to(OUTPUT_TOPIC_2, produced);\n</code></pre>\n<p>The topology looks like this: There is only one <em>source</em> definition which is then used <em>two times</em>:</p>\n<pre><code>Topologies:\n   Sub-topology: 0\n    Source: KSTREAM-SOURCE-0000000000 (topics: [input])\n      --&gt; KSTREAM-PEEK-0000000002, KSTREAM-PEEK-0000000004\n    Processor: KSTREAM-PEEK-0000000002 (stores: [])\n      --&gt; KSTREAM-MAPVALUES-0000000003\n      &lt;-- KSTREAM-SOURCE-0000000000\n    Processor: KSTREAM-PEEK-0000000004 (stores: [])\n      --&gt; KSTREAM-MAPVALUES-0000000005\n      &lt;-- KSTREAM-SOURCE-0000000000\n    Processor: KSTREAM-MAPVALUES-0000000003 (stores: [])\n      --&gt; KSTREAM-SINK-0000000006\n      &lt;-- KSTREAM-PEEK-0000000002\n    Processor: KSTREAM-MAPVALUES-0000000005 (stores: [])\n      --&gt; KSTREAM-SINK-0000000007\n      &lt;-- KSTREAM-PEEK-0000000004\n    Sink: KSTREAM-SINK-0000000006 (topic: output-1)\n      &lt;-- KSTREAM-MAPVALUES-0000000003\n    Sink: KSTREAM-SINK-0000000007 (topic: output-2)\n      &lt;-- KSTREAM-MAPVALUES-0000000005\n</code></pre>\n<p>Now my question is: Is it always safe to assume that the <code>StreamBuilder</code> creates only one source (= only one consumer for the same topic)?</p>\n<p>In other words: Is it always guaranteed that - given a topic with multiple partitions - <code>inputStream1</code> and <code>inputStream2</code> see the same records?</p>\n<p>Or is it better to rewrite it to something like this, to make it explicit:</p>\n<pre><code>    final KStream&lt;String, String&gt; inputStream =\n      builder.stream(INPUT_TOPIC, consumed);\n\n    final KStream&lt;String, String&gt; mappedStream1 = inputStream\n            .peek((k, v) -&gt; System.out.println(&quot;1: &quot; + k + &quot; -&gt; &quot; + v))\n            .mapValues((ValueMapper&lt;String, String&gt;) String::toLowerCase);\n\n    final KStream&lt;String, String&gt; mappedStream2 = inputStream\n            .peek((k, v) -&gt; System.out.println(&quot;2: &quot; + k + &quot; -&gt; &quot; + v))\n            .mapValues((ValueMapper&lt;String, String&gt;) String::toUpperCase);\n</code></pre>\n<p><strong>Update</strong></p>\n<p>The 2nd version results in this topology:</p>\n<pre><code>Topologies:\n   Sub-topology: 0\n    Source: KSTREAM-SOURCE-0000000000 (topics: [input])\n      --&gt; KSTREAM-PEEK-0000000001, KSTREAM-PEEK-0000000003\n    Processor: KSTREAM-PEEK-0000000001 (stores: [])\n      --&gt; KSTREAM-MAPVALUES-0000000002\n      &lt;-- KSTREAM-SOURCE-0000000000\n    Processor: KSTREAM-PEEK-0000000003 (stores: [])\n      --&gt; KSTREAM-MAPVALUES-0000000004\n      &lt;-- KSTREAM-SOURCE-0000000000\n    Processor: KSTREAM-MAPVALUES-0000000002 (stores: [])\n      --&gt; KSTREAM-SINK-0000000005\n      &lt;-- KSTREAM-PEEK-0000000001\n    Processor: KSTREAM-MAPVALUES-0000000004 (stores: [])\n      --&gt; KSTREAM-SINK-0000000006\n      &lt;-- KSTREAM-PEEK-0000000003\n    Sink: KSTREAM-SINK-0000000005 (topic: output-1)\n      &lt;-- KSTREAM-MAPVALUES-0000000002\n    Sink: KSTREAM-SINK-0000000006 (topic: output-2)\n      &lt;-- KSTREAM-MAPVALUES-0000000004\n</code></pre>\n"},{"tags":["java","java-8","consumer"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1583852259,"post_id":60619543,"comment_id":107247862,"body_markdown":"`if(list.contains(&quot;a&quot;)) throw new Exception(&quot;error!&quot;);`","body":"<code>if(list.contains(&quot;a&quot;)) throw new Exception(&quot;error!&quot;);</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1583856223,"post_id":60619543,"comment_id":107250172,"body_markdown":"Looks to me like someone already asked this question a few years ago. [Java 8 Lambda function that throws exception?](https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception). Did you not Google for _java lambda throw exception_ before posting your question? Have you not read [How much research effort is expected of Stack Overflow users?](https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users)","body":"Looks to me like someone already asked this question a few years ago. <a href=\"https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\">Java 8 Lambda function that throws exception?</a>. Did you not Google for <i>java lambda throw exception</i> before posting your question? Have you not read <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">How much research effort is expected of Stack Overflow users?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7699131,"reputation":411,"user_id":5832409,"display_name":"Sourav Jha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1583856121,"creation_date":1583852663,"answer_id":60620336,"question_id":60619543,"body_markdown":"Since Exception and its subclass (other than RuntimeException) are checked Exception and in lambda, you can&#39;t throw checked exception. Hence you should use RuntimeException:\r\n\r\n    private void fooMethod(List&lt;String&gt; list) throws Exception {\r\n        list.forEach(element-&gt;{\r\n            if(element.equals(&quot;a&quot;)) {\r\n                throw new RuntimException(&quot;error!&quot;);\r\n            }\r\n        });\r\n    }","title":"How to throw an Exception in a Consumer Java 8","body":"<p>Since Exception and its subclass (other than RuntimeException) are checked Exception and in lambda, you can't throw checked exception. Hence you should use RuntimeException:</p>\n\n<pre><code>private void fooMethod(List&lt;String&gt; list) throws Exception {\n    list.forEach(element-&gt;{\n        if(element.equals(\"a\")) {\n            throw new RuntimException(\"error!\");\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583920585,"creation_date":1583877487,"answer_id":60626526,"question_id":60619543,"body_markdown":"Streams and related classes are not designed to use checked exceptions. But any `RuntimeException` can be thrown at any point in code, thus the trick is to throw a runtime whose cause (exception chaining) is the appropriate checked exception :\r\n\r\n    private void fooMethod(List&lt;String&gt; list) throws Exception {   \r\n        list.forEach(element-&gt;{\r\n            if(element.equals(&quot;a&quot;)) {\r\n                throw new Runtime(new Exception(&quot;error!&quot;));\r\n            }\r\n        });  \r\n    }\r\n\r\nThen in the catching code you just have to get the original checked exception encapsulated :\r\n\r\n    try {\r\n        fooMethod(someList);\r\n    } catch(Throwable e) {\r\n        Exception ex = e.getCause();\r\n    }","title":"How to throw an Exception in a Consumer Java 8","body":"<p>Streams and related classes are not designed to use checked exceptions. But any <code>RuntimeException</code> can be thrown at any point in code, thus the trick is to throw a runtime whose cause (exception chaining) is the appropriate checked exception :</p>\n\n<pre><code>private void fooMethod(List&lt;String&gt; list) throws Exception {   \n    list.forEach(element-&gt;{\n        if(element.equals(\"a\")) {\n            throw new Runtime(new Exception(\"error!\"));\n        }\n    });  \n}\n</code></pre>\n\n<p>Then in the catching code you just have to get the original checked exception encapsulated :</p>\n\n<pre><code>try {\n    fooMethod(someList);\n} catch(Throwable e) {\n    Exception ex = e.getCause();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22917845,"reputation":356,"user_id":17054178,"display_name":"E.H."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643303811,"creation_date":1643302867,"answer_id":70882666,"question_id":60619543,"body_markdown":"You can do it with apache commons-lang3 library.\r\n\r\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/function/Failable.html\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nYou can write:\r\n    \r\n    import org.apache.commons.lang3.function.Failable;\r\n\r\n    private void fooMethod(List&lt;String&gt; list) throws Exception {\r\n        list.forEach(Failable.asConsumer(element-&gt;{\r\n            if(element.equals(&quot;a&quot;)) {\r\n                throw new Exception(&quot;error!&quot;);\r\n            }\r\n        }));\r\n    }\r\n\r\n\r\n","title":"How to throw an Exception in a Consumer Java 8","body":"<p>You can do it with apache commons-lang3 library.</p>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/function/Failable.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/function/Failable.html</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can write:</p>\n<pre><code>import org.apache.commons.lang3.function.Failable;\n\nprivate void fooMethod(List&lt;String&gt; list) throws Exception {\n    list.forEach(Failable.asConsumer(element-&gt;{\n        if(element.equals(&quot;a&quot;)) {\n            throw new Exception(&quot;error!&quot;);\n        }\n    }));\n}\n</code></pre>\n"}],"owner":{"account_id":5494862,"reputation":665,"user_id":4366358,"accept_rate":44,"display_name":"OEH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2726,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60620336,"answer_count":3,"score":5,"last_activity_date":1643303811,"creation_date":1583850033,"question_id":60619543,"body_markdown":"Is there any way to throw an Exception while using a consumer in java 8?\r\n\r\nFor example:\r\n\r\n\t\tprivate void fooMethod(List&lt;String&gt; list) throws Exception {\r\n\t\t\r\n\t\tlist.forEach(element-&gt;{\r\n\t\t\tif(element.equals(&quot;a&quot;)) {\r\n\t\t\t\tthrow new Exception(&quot;error!&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t}\r\n\r\nThis gives me a compiler error saying: **Unhandled exception type Exception**\r\n\r\nWhat is the correct way to throw an exception in this case?","title":"How to throw an Exception in a Consumer Java 8","body":"<p>Is there any way to throw an Exception while using a consumer in java 8?</p>\n\n<p>For example:</p>\n\n<pre><code>    private void fooMethod(List&lt;String&gt; list) throws Exception {\n\n    list.forEach(element-&gt;{\n        if(element.equals(\"a\")) {\n            throw new Exception(\"error!\");\n        }\n    });\n\n}\n</code></pre>\n\n<p>This gives me a compiler error saying: <strong>Unhandled exception type Exception</strong></p>\n\n<p>What is the correct way to throw an exception in this case?</p>\n"},{"tags":["java","coding-style","ejb-3.0","java-ee-6","ejb-3.1"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1335276649,"post_id":10299592,"comment_id":13254248,"body_markdown":"Any state maintained by some DIY method will fail in the face of clustering, so it&#39;s not welcome for JEE. And maintaining a copy of that state for each bean also seems wrong to me.","body":"Any state maintained by some DIY method will fail in the face of clustering, so it&#39;s not welcome for JEE. And maintaining a copy of that state for each bean also seems wrong to me."}],"answers":[{"tags":[],"owner":{"account_id":103447,"reputation":6421,"user_id":277084,"accept_rate":100,"display_name":"Brian"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1335276450,"creation_date":1335276450,"answer_id":10299658,"question_id":10299592,"body_markdown":"Keep life simple, just pass in parameters.  Even if you *can* do otherwise, it&#39;s obvious from the intention of a stateless EJB you *shouldn&#39;t*.\r\n\r\nFWIW aiming for a goal of zero parameters seems silly to me.  Aim for *few*, yes, but striving for zero for its own sake is just daft.","title":"Clean code, stateless session beans and private state","body":"<p>Keep life simple, just pass in parameters.  Even if you <em>can</em> do otherwise, it's obvious from the intention of a stateless EJB you <em>shouldn't</em>.</p>\n\n<p>FWIW aiming for a goal of zero parameters seems silly to me.  Aim for <em>few</em>, yes, but striving for zero for its own sake is just daft.</p>\n"},{"tags":[],"owner":{"account_id":125813,"reputation":23095,"user_id":321862,"accept_rate":84,"display_name":"Oh Chin Boon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335278300,"creation_date":1335278300,"answer_id":10300190,"question_id":10299592,"body_markdown":"&gt; according to clean code by Robert C. Martin methods should have a\r\n&gt; small signature.\r\n\r\nUsually i would prefer to pass in (transfer objects) as arguments, this way i can change what i pass in without affecting the method signature. \r\n\r\nAlso, i would prefer to pass in an interface, instead of the actual base class.\r\n\r\n    public void doSomething(IMyTransferObject arg){\r\n     ...\r\n    }\r\n\r\nWhere `IMyTransferObject` is an interface\r\n\r\n    interface IMyTransferObject {\r\n       ...\r\n    }\r\n\r\n    class TransferObject implements IMyTransferObject{\r\n      private String name;\r\n      private String game;\r\n      ... accessor / mutator\r\n    }\r\n\r\n&gt; The best case would be a method with no parameters at all. Instead it\r\n&gt; is recommended to use state variables. This is really usefull. But\r\n&gt; what about stateless session beans?\r\n\r\nThis can&#39;t be followed religiously, and there is no reason for doing so, really.","title":"Clean code, stateless session beans and private state","body":"<blockquote>\n  <p>according to clean code by Robert C. Martin methods should have a\n  small signature.</p>\n</blockquote>\n\n<p>Usually i would prefer to pass in (transfer objects) as arguments, this way i can change what i pass in without affecting the method signature. </p>\n\n<p>Also, i would prefer to pass in an interface, instead of the actual base class.</p>\n\n<pre><code>public void doSomething(IMyTransferObject arg){\n ...\n}\n</code></pre>\n\n<p>Where <code>IMyTransferObject</code> is an interface</p>\n\n<pre><code>interface IMyTransferObject {\n   ...\n}\n\nclass TransferObject implements IMyTransferObject{\n  private String name;\n  private String game;\n  ... accessor / mutator\n}\n</code></pre>\n\n<blockquote>\n  <p>The best case would be a method with no parameters at all. Instead it\n  is recommended to use state variables. This is really usefull. But\n  what about stateless session beans?</p>\n</blockquote>\n\n<p>This can't be followed religiously, and there is no reason for doing so, really.</p>\n"},{"tags":[],"owner":{"account_id":1448448,"reputation":685,"user_id":1366169,"accept_rate":80,"display_name":"Bernhard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386694654,"creation_date":1386694654,"answer_id":20500527,"question_id":10299592,"body_markdown":"From http://docs.oracle.com/javaee/6/tutorial/doc/gipjg.html:\r\n\r\n&gt; Stateless Session Beans \r\n&gt;\r\n&gt; A stateless session bean does not maintain a\r\n&gt; conversational state with the client. When a client invokes the\r\n&gt; methods of a stateless bean, the bean’s instance variables may contain\r\n&gt; a state specific to that client but only for the duration of the\r\n&gt; invocation. When the method is finished, the client-specific state\r\n&gt; should not be retained. Clients may, however, change the state of\r\n&gt; instance variables in pooled stateless beans, and this state is held\r\n&gt; over to the next invocation of the pooled stateless bean. Except\r\n&gt; during method invocation, all instances of a stateless bean are\r\n&gt; equivalent, allowing the EJB container to assign an instance to any\r\n&gt; client. That is, the state of a stateless session bean should apply\r\n&gt; across all clients.\r\n\r\nI&#39;m not an expert in EE, but this sounds to me that it is technically allowed to use fields the way you plan too.\r\n\r\nI assume that you **have** to make sure that with every new method call, the instance fields are updated with the new data, and I think you **should** make sure you are removing the references after the method has ended to make sure you don&#39;t block the garbage collection of old objects just because they are referenced in some &quot;old&quot; bean that is still kept in some pool.\r\n\r\nI would suggest a pattern like that:\r\n\r\n    public class MyBean{\r\n    \r\n      private SomeClass firstObject;\r\n      private SomeOtherClass anotherObject;\r\n      private AndAnotherClass thirdObject;\r\n    \r\n      public void theMethod(firstObject, anotherObject, thirdObject){\r\n        try {\r\n          this.firstObject = firstObject;\r\n          this.anotherObject = anotherObject;\r\n          this.third = thirdObject;\r\n    \r\n          startProcessing();\r\n          \r\n        }finally {\r\n          this.firstObject = null;\r\n          this.anotherObject = null;\r\n          this.third = null;\r\n        }\r\n      }\r\n      \r\n      private void startProcessing() {\r\n        doStep1();\r\n        doStep2();\r\n        doStep3();\r\n      }\r\n    \r\n      [...]\r\n    }\r\n\r\nStill a lot of code - but if you stick consistently to that style, you automatically skip the &quot;theMethod&quot; part and continue reading at &quot;startProcessing&quot;, where you have everything cleanly and without parameters.","title":"Clean code, stateless session beans and private state","body":"<p>From <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gipjg.html\" rel=\"nofollow\">http://docs.oracle.com/javaee/6/tutorial/doc/gipjg.html</a>:</p>\n\n<blockquote>\n  <p>Stateless Session Beans </p>\n  \n  <p>A stateless session bean does not maintain a\n  conversational state with the client. When a client invokes the\n  methods of a stateless bean, the bean’s instance variables may contain\n  a state specific to that client but only for the duration of the\n  invocation. When the method is finished, the client-specific state\n  should not be retained. Clients may, however, change the state of\n  instance variables in pooled stateless beans, and this state is held\n  over to the next invocation of the pooled stateless bean. Except\n  during method invocation, all instances of a stateless bean are\n  equivalent, allowing the EJB container to assign an instance to any\n  client. That is, the state of a stateless session bean should apply\n  across all clients.</p>\n</blockquote>\n\n<p>I'm not an expert in EE, but this sounds to me that it is technically allowed to use fields the way you plan too.</p>\n\n<p>I assume that you <strong>have</strong> to make sure that with every new method call, the instance fields are updated with the new data, and I think you <strong>should</strong> make sure you are removing the references after the method has ended to make sure you don't block the garbage collection of old objects just because they are referenced in some \"old\" bean that is still kept in some pool.</p>\n\n<p>I would suggest a pattern like that:</p>\n\n<pre><code>public class MyBean{\n\n  private SomeClass firstObject;\n  private SomeOtherClass anotherObject;\n  private AndAnotherClass thirdObject;\n\n  public void theMethod(firstObject, anotherObject, thirdObject){\n    try {\n      this.firstObject = firstObject;\n      this.anotherObject = anotherObject;\n      this.third = thirdObject;\n\n      startProcessing();\n\n    }finally {\n      this.firstObject = null;\n      this.anotherObject = null;\n      this.third = null;\n    }\n  }\n\n  private void startProcessing() {\n    doStep1();\n    doStep2();\n    doStep3();\n  }\n\n  [...]\n}\n</code></pre>\n\n<p>Still a lot of code - but if you stick consistently to that style, you automatically skip the \"theMethod\" part and continue reading at \"startProcessing\", where you have everything cleanly and without parameters.</p>\n"},{"tags":[],"owner":{"account_id":3753631,"reputation":2325,"user_id":3120564,"accept_rate":80,"display_name":"Jaumzera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643303782,"creation_date":1466512311,"answer_id":37944529,"question_id":10299592,"body_markdown":"It&#39;s perfect possible to keep instance variables in SLSB, since you don&#39;t use the proxy do make calls between methods. For instance:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Stateless \r\n    public class MyEJB {\r\n        private String myVar;\r\n\r\n        public void receiveVar(String myVar) {\r\n            this.myVar = myVar;\r\n            useVar();\r\n        }\r\n\r\n        private void useVar() {\r\n            // do something with var\r\n        }\r\n    }\r\n\r\nThe point is: when you inject this SLSB in another, any method call will pass through the proxy to achieve the actual EJB. So, considering that the real instance is retrieved from the pool when the method is called on the proxy instance, there&#39;s no guarantee that the proxy will use the same pooled instance between two or more calls. So isn&#39;t possible ensure the value of any declared class attribute. \r\n\r\nWhen the SLSB backs to the pool, it take with itself every setted value (I think it may change according the vendor, I&#39;m not really sure). But, it&#39;s completely possible (and acceptable) that a pooled SLSB instance already has a previously configured attribute value. \r\n\r\nI didn&#39;t understand your point here:\r\n\r\n&gt; So far so good. But what happens if a used bean goes back to the pool?\r\n&gt; It takes its state with it. Depending on the size of the state this\r\n&gt; could be a real memory leak. JBoss is very generous with beans and\r\n&gt; generates quite a bunch of them causing some serious memory\r\n&gt; consumption - for nothing.\r\n\r\nDo you have any example of &quot;big state&quot; you could have in a SLSB?\r\n\r\nAnd finally: \r\n\r\nI think the best way to handle the values is always handle state variables that you&#39;ll use. Setting before and cleaning after use. And the best practice is avoid this kind of confusing situation.\r\n\r\nHope it helps.\r\n\r\n\r\n","title":"Clean code, stateless session beans and private state","body":"<p>It's perfect possible to keep instance variables in SLSB, since you don't use the proxy do make calls between methods. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless \npublic class MyEJB {\n    private String myVar;\n\n    public void receiveVar(String myVar) {\n        this.myVar = myVar;\n        useVar();\n    }\n\n    private void useVar() {\n        // do something with var\n    }\n}\n</code></pre>\n<p>The point is: when you inject this SLSB in another, any method call will pass through the proxy to achieve the actual EJB. So, considering that the real instance is retrieved from the pool when the method is called on the proxy instance, there's no guarantee that the proxy will use the same pooled instance between two or more calls. So isn't possible ensure the value of any declared class attribute.</p>\n<p>When the SLSB backs to the pool, it take with itself every setted value (I think it may change according the vendor, I'm not really sure). But, it's completely possible (and acceptable) that a pooled SLSB instance already has a previously configured attribute value.</p>\n<p>I didn't understand your point here:</p>\n<blockquote>\n<p>So far so good. But what happens if a used bean goes back to the pool?\nIt takes its state with it. Depending on the size of the state this\ncould be a real memory leak. JBoss is very generous with beans and\ngenerates quite a bunch of them causing some serious memory\nconsumption - for nothing.</p>\n</blockquote>\n<p>Do you have any example of &quot;big state&quot; you could have in a SLSB?</p>\n<p>And finally:</p>\n<p>I think the best way to handle the values is always handle state variables that you'll use. Setting before and cleaning after use. And the best practice is avoid this kind of confusing situation.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":1431545,"reputation":151,"user_id":1353862,"accept_rate":25,"display_name":"M. Assassa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1451,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":4,"score":10,"last_activity_date":1643303782,"creation_date":1335276215,"question_id":10299592,"body_markdown":"According to clean code by Robert C. Martin methods should have a small signature. The best case would be a method with no parameters at all. Instead it is recommended to use state variables. This is really useful. But what about stateless session beans?\r\n\r\nThe name is kind of confusing because SLSB can have state. You just have to do your housekeeping so you don&#39;t use state from the previous EJB call.\r\n\r\nGetting back to clean code: I&#39;d love to use instance variables in SLSBs too. This works fine and if you&#39;re careful enough you don&#39;t have any trouble with state inconsistencies since the state is overwritten on each public method call.\r\n\r\nSo far so good. But what happens if a used bean goes back to the pool? It takes its state with it. Depending on the size of the state this could be a real memory leak. JBoss is very generous with beans and generates quite a bunch of them causing some serious memory consumption - for nothing.\r\n\r\nSo one way would be to clean up the state before the bean method exists and the bean is returned to the pool. But this seems to me like useless code that should be avoided.\r\n\r\nIs there a proper way to deal with this problem? What&#39;s the best practice in this situation?","title":"Clean code, stateless session beans and private state","body":"<p>According to clean code by Robert C. Martin methods should have a small signature. The best case would be a method with no parameters at all. Instead it is recommended to use state variables. This is really useful. But what about stateless session beans?</p>\n\n<p>The name is kind of confusing because SLSB can have state. You just have to do your housekeeping so you don't use state from the previous EJB call.</p>\n\n<p>Getting back to clean code: I'd love to use instance variables in SLSBs too. This works fine and if you're careful enough you don't have any trouble with state inconsistencies since the state is overwritten on each public method call.</p>\n\n<p>So far so good. But what happens if a used bean goes back to the pool? It takes its state with it. Depending on the size of the state this could be a real memory leak. JBoss is very generous with beans and generates quite a bunch of them causing some serious memory consumption - for nothing.</p>\n\n<p>So one way would be to clean up the state before the bean method exists and the bean is returned to the pool. But this seems to me like useless code that should be avoided.</p>\n\n<p>Is there a proper way to deal with this problem? What's the best practice in this situation?</p>\n"},{"tags":["java","maven","javafx","netbeans"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1643303846,"post_id":70882526,"comment_id":125309874,"body_markdown":"Rerun it as suggested to get the full stack trace, and post the stack trace in the question","body":"Rerun it as suggested to get the full stack trace, and post the stack trace in the question"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1643306377,"post_id":70882526,"comment_id":125310956,"body_markdown":"Also, upgrade to the current version of `javafx-maven-plugin`.","body":"Also, upgrade to the current version of <code>javafx-maven-plugin</code>."}],"owner":{"account_id":24074520,"reputation":1,"user_id":18050048,"display_name":"ElRambo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643302526,"creation_date":1643302339,"question_id":70882526,"body_markdown":"whenever I try to run an fx application in netbeans on my Mac it results in the following error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.4:run (default-cli) on project PhysCal: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException","title":"NetBeans - JavaFX Error / Maven execution failed?","body":"<p>whenever I try to run an fx application in netbeans on my Mac it results in the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.4:run (default-cli) on project PhysCal: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","date","datetime","calendar"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643218879,"creation_date":1643217425,"answer_id":70867574,"question_id":70866841,"body_markdown":"Here is one way.  Use the [DayOfWeek](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/DayOfWeek.html) enum in the [java.time](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html) package.\r\n```\r\nString[] days = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Friday&quot;};\r\nLocalDate today = LocalDate.of(2022,1,25);\r\nfor (String d : days) {\r\n\tSystem.out.println(DayOfWeek.valueOf(d.toUpperCase())\r\n          .equals(today.getDayOfWeek()));\r\n}\r\n```\r\nprints \r\n```\r\nfalse\r\ntrue\r\nfalse\r\n```\r\nYou could also do something like.\r\n```\r\nString allowed = &quot;MON TUE FRI&quot;;\r\nboolean result = allowed.contains(today.getDayOfWeek().name()\r\n           .substring(0,3));\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\ntrue","title":"check current date is falling in restricted date, time and day JAVA","body":"<p>Here is one way.  Use the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">DayOfWeek</a> enum in the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.</p>\n<pre><code>String[] days = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Friday&quot;};\nLocalDate today = LocalDate.of(2022,1,25);\nfor (String d : days) {\n    System.out.println(DayOfWeek.valueOf(d.toUpperCase())\n          .equals(today.getDayOfWeek()));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>false\ntrue\nfalse\n</code></pre>\n<p>You could also do something like.</p>\n<pre><code>String allowed = &quot;MON TUE FRI&quot;;\nboolean result = allowed.contains(today.getDayOfWeek().name()\n           .substring(0,3));\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643302286,"creation_date":1643221411,"answer_id":70868459,"question_id":70866841,"body_markdown":"# tl;dr\r\n\r\nYou said:\r\n\r\n&gt;I found multiple answers for checking date and time but not for Day.\r\n\r\n    // Is today Monday? \r\n    LocalDate.now().getDayOfWeek().equals( DayOfWeek.MONDAY ) \r\n\r\n# Time zone\r\n\r\nYou omitted a crucial element: time zone. I will ignore that if you are certain your software applies only locally to a single time zone. I do not recommend ignoring time zone, but I&#39;ll follow your lead on this one.\r\n\r\n# Record\r\n\r\nDefine a [record][1] to represent your restricted rules set. \r\n\r\n    record LoginForbidden ( \r\n        LocalDate startDate , LocalDate endDate , \r\n        LocalTime startTime , LocalTime endTime , \r\n        Set&lt; DayOfWeek &gt; dows \r\n    ) {}\r\n\r\n# Database\r\n\r\nRetrieve the date and time objects using JDBC 4.2 or later.\r\n\r\n    LocalDate startDate = myResultSet.getObject( … , LocalDate.class ) ;\r\n    …\r\n    LocalTime startTime = myResultSet.getObject( … , LocalTime.class ) ;\r\n    …\r\n\r\nFor day-of-week, there is no SQL standard data type. So I suggest you store either 1-7 for Monday-Sunday per [ISO 8601][2], or the all uppercase string name of each [`DayOfWeek`][3] enum object (`MONDAY`, `TUESDAY`, etc.). Retrieve as an `int` or `String`, respectively. Obtain a `DayOfWeek` object by calling `DayOfWeek.values()[myOrdinalDowNumber-1]` or [`DayOfWeek.valueOf( String )`][4], respectively. \r\n\r\n# Current moment\r\n\r\nCapture the current moment. Doing so requires a time zone. For any given moment, the date and time-of-day both vary around the globe by zone. If you omit the time zone, *java.time* uses the JVM’s current default time zone.\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now() ;\r\n\r\nExtract the date portion.\r\n\r\n    LocalDate today = zdt.toLocalDate() ;\r\n\r\nSearch your collection of `LoginForbidden` objects (`loginForbiddens`) for the current date.\r\n\r\n    List&lt; LoginForbidden &gt; loginForbiddensForToday = \r\n            loginForbiddens\r\n            .stream()\r\n            .filter(\r\n                loginForbidden -&gt; ( ! today.isBefore( startDate ) ) &amp;&amp; today.isBefore( loginForbidden.endDate ) \r\n            )\r\n            .toList()\r\n    ;\r\n\r\nWe should find exactly one object, I presume. So verify.\r\n\r\n    if( loginForbiddensForToday.size() != 1 ) { throw new IllegalStateException( &quot;Other than one LoginForbidden found for date: &quot; + today.toString()   ) ; }\r\n\r\nIf valid, extract the one and only object.\r\n\r\n    LoginForbidden loginForbiddenForToday = loginForbiddens.get( 0 ) ;\r\n\r\n# Day of week\r\n\r\nProceed, comparing the day of week.\r\n\r\n    DayOfWeek dow = today.getDayOfWeek() ;\r\n    boolean dayForbidden = loginForbiddenForToday.dows().contains( dow ) ;\r\n\r\n# Time of day\r\n\r\nIf the day is forbidden, then move on to compare current time-of-day against the start and stop times.\r\n\r\n    LocalTime lt = zdt.toLocalTime() ;\r\n    boolean denyLogin = ( ! lt.isBefore( loginForbiddenForToday.startTime() ) ) &amp;&amp; lt.isBefore( loginForbiddenForToday.endTime() ) ;\r\n\r\nThis is all rough-draft, **untested code**. But it should get you pointed in the right direction. \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html#valueOf(java.lang.String)","title":"check current date is falling in restricted date, time and day JAVA","body":"<h1>tl;dr</h1>\n<p>You said:</p>\n<blockquote>\n<p>I found multiple answers for checking date and time but not for Day.</p>\n</blockquote>\n<pre><code>// Is today Monday? \nLocalDate.now().getDayOfWeek().equals( DayOfWeek.MONDAY ) \n</code></pre>\n<h1>Time zone</h1>\n<p>You omitted a crucial element: time zone. I will ignore that if you are certain your software applies only locally to a single time zone. I do not recommend ignoring time zone, but I'll follow your lead on this one.</p>\n<h1>Record</h1>\n<p>Define a <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a> to represent your restricted rules set.</p>\n<pre><code>record LoginForbidden ( \n    LocalDate startDate , LocalDate endDate , \n    LocalTime startTime , LocalTime endTime , \n    Set&lt; DayOfWeek &gt; dows \n) {}\n</code></pre>\n<h1>Database</h1>\n<p>Retrieve the date and time objects using JDBC 4.2 or later.</p>\n<pre><code>LocalDate startDate = myResultSet.getObject( … , LocalDate.class ) ;\n…\nLocalTime startTime = myResultSet.getObject( … , LocalTime.class ) ;\n…\n</code></pre>\n<p>For day-of-week, there is no SQL standard data type. So I suggest you store either 1-7 for Monday-Sunday per <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>, or the all uppercase string name of each <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\"><code>DayOfWeek</code></a> enum object (<code>MONDAY</code>, <code>TUESDAY</code>, etc.). Retrieve as an <code>int</code> or <code>String</code>, respectively. Obtain a <code>DayOfWeek</code> object by calling <code>DayOfWeek.values()[myOrdinalDowNumber-1]</code> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\"><code>DayOfWeek.valueOf( String )</code></a>, respectively.</p>\n<h1>Current moment</h1>\n<p>Capture the current moment. Doing so requires a time zone. For any given moment, the date and time-of-day both vary around the globe by zone. If you omit the time zone, <em>java.time</em> uses the JVM’s current default time zone.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now() ;\n</code></pre>\n<p>Extract the date portion.</p>\n<pre><code>LocalDate today = zdt.toLocalDate() ;\n</code></pre>\n<p>Search your collection of <code>LoginForbidden</code> objects (<code>loginForbiddens</code>) for the current date.</p>\n<pre><code>List&lt; LoginForbidden &gt; loginForbiddensForToday = \n        loginForbiddens\n        .stream()\n        .filter(\n            loginForbidden -&gt; ( ! today.isBefore( startDate ) ) &amp;&amp; today.isBefore( loginForbidden.endDate ) \n        )\n        .toList()\n;\n</code></pre>\n<p>We should find exactly one object, I presume. So verify.</p>\n<pre><code>if( loginForbiddensForToday.size() != 1 ) { throw new IllegalStateException( &quot;Other than one LoginForbidden found for date: &quot; + today.toString()   ) ; }\n</code></pre>\n<p>If valid, extract the one and only object.</p>\n<pre><code>LoginForbidden loginForbiddenForToday = loginForbiddens.get( 0 ) ;\n</code></pre>\n<h1>Day of week</h1>\n<p>Proceed, comparing the day of week.</p>\n<pre><code>DayOfWeek dow = today.getDayOfWeek() ;\nboolean dayForbidden = loginForbiddenForToday.dows().contains( dow ) ;\n</code></pre>\n<h1>Time of day</h1>\n<p>If the day is forbidden, then move on to compare current time-of-day against the start and stop times.</p>\n<pre><code>LocalTime lt = zdt.toLocalTime() ;\nboolean denyLogin = ( ! lt.isBefore( loginForbiddenForToday.startTime() ) ) &amp;&amp; lt.isBefore( loginForbiddenForToday.endTime() ) ;\n</code></pre>\n<p>This is all rough-draft, <strong>untested code</strong>. But it should get you pointed in the right direction.</p>\n"}],"owner":{"account_id":2856509,"reputation":416,"user_id":2452672,"accept_rate":56,"display_name":"Surya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643302286,"creation_date":1643214369,"question_id":70866841,"body_markdown":"I am designing for banking application, where user is not allowed to login in particular time.\r\n \r\nFor example restricted time would be :-\r\n\r\n``` \r\nDate : 2022-01-28 to 2022-05-28\r\nTime : 1:00 AM to 4:00 AM\r\nDay  : Mon, Tue, Fri\r\n````\r\nRestricted duration would be configured in database and I need to do restriction check in Service/DAO layer using Java Code.\r\n\r\nI found multiple answers for checking date and time but not for Day.\r\n\r\nCan anyone provide consolidated answer for comparing all Date,Time and Day.\r\nThanks for Help!!\r\n\r\n\r\n","title":"check current date is falling in restricted date, time and day JAVA","body":"<p>I am designing for banking application, where user is not allowed to login in particular time.</p>\n<p>For example restricted time would be :-</p>\n<pre><code>Date : 2022-01-28 to 2022-05-28\nTime : 1:00 AM to 4:00 AM\nDay  : Mon, Tue, Fri\n</code></pre>\n<p>Restricted duration would be configured in database and I need to do restriction check in Service/DAO layer using Java Code.</p>\n<p>I found multiple answers for checking date and time but not for Day.</p>\n<p>Can anyone provide consolidated answer for comparing all Date,Time and Day.\nThanks for Help!!</p>\n"},{"tags":["java","android"],"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643301998,"creation_date":1643301998,"question_id":70882441,"body_markdown":"I want to detect screenshots inside a specific activity inside my app. I decided to use this [ScreenShot Detector library][1] but unfortunately this does not detect any screenshots for some reason. \r\nI added some code to my activity to check if all the required permissions are grandent and it still doesn&#39;t work. \r\n\r\n**My Activity:**\r\n\r\n    public class UserProfileActivity extends AppCompatActivity implements ScreenshotDetectionDelegate.ScreenshotDetectionListener {\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_user_profile);\r\n    \r\n            ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\r\n                    registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\r\n                        if (isGranted) {\r\n                            Toast.makeText(this, &quot;Permission ok&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            Toast.makeText(this, &quot;Permission req&quot;, Toast.LENGTH_SHORT).show();\r\n                            // Explain to the user that the feature is unavailable because the\r\n                            // features requires a permission that the user has denied. At the\r\n                            // same time, respect the user&#39;s decision. Don&#39;t link to system\r\n                            // settings in an effort to convince the user to change their\r\n                            // decision.\r\n                        }\r\n                    });\r\n    \r\n    \r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) {\r\n                // You can use the API that requires the permission.\r\n                requestPermissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        finish();\r\n        CustomIntent.customType(UserProfileActivity.this, &quot;right-to-left&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        screenshotDetectionDelegate.startScreenshotDetection();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        screenshotDetectionDelegate.stopScreenshotDetection();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        screenshotDetectionDelegate.startScreenshotDetection();\r\n    }\r\n\r\n    @Override\r\n    public void onScreenCaptured(@NonNull String s) {\r\n        sendNotificationToUser(&quot;screenshot&quot;);\r\n        Toast.makeText(UserProfileActivity.this, &quot;Profile Screenshotted&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onScreenCapturedWithDeniedPermission() {\r\n        Toast.makeText(this, &quot;Permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://github.com/akexorcist/ScreenshotDetection","title":"Screenshot detection library does not detect screenshots","body":"<p>I want to detect screenshots inside a specific activity inside my app. I decided to use this <a href=\"https://github.com/akexorcist/ScreenshotDetection\" rel=\"nofollow noreferrer\">ScreenShot Detector library</a> but unfortunately this does not detect any screenshots for some reason.\nI added some code to my activity to check if all the required permissions are grandent and it still doesn't work.</p>\n<p><strong>My Activity:</strong></p>\n<pre><code>public class UserProfileActivity extends AppCompatActivity implements ScreenshotDetectionDelegate.ScreenshotDetectionListener {\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_user_profile);\n\n        ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\n                registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\n                    if (isGranted) {\n                        Toast.makeText(this, &quot;Permission ok&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(this, &quot;Permission req&quot;, Toast.LENGTH_SHORT).show();\n                        // Explain to the user that the feature is unavailable because the\n                        // features requires a permission that the user has denied. At the\n                        // same time, respect the user's decision. Don't link to system\n                        // settings in an effort to convince the user to change their\n                        // decision.\n                    }\n                });\n\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) {\n            // You can use the API that requires the permission.\n            requestPermissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\n        }\n\n@Override\npublic void onBackPressed() {\n    super.onBackPressed();\n    finish();\n    CustomIntent.customType(UserProfileActivity.this, &quot;right-to-left&quot;);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    screenshotDetectionDelegate.startScreenshotDetection();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    screenshotDetectionDelegate.stopScreenshotDetection();\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    screenshotDetectionDelegate.startScreenshotDetection();\n}\n\n@Override\npublic void onScreenCaptured(@NonNull String s) {\n    sendNotificationToUser(&quot;screenshot&quot;);\n    Toast.makeText(UserProfileActivity.this, &quot;Profile Screenshotted&quot;, Toast.LENGTH_SHORT).show();\n}\n\n@Override\npublic void onScreenCapturedWithDeniedPermission() {\n    Toast.makeText(this, &quot;Permission denied&quot;, Toast.LENGTH_SHORT).show();\n}\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":1477212,"reputation":768,"user_id":1387330,"accept_rate":62,"display_name":"Denis Voloshin"},"score":0,"creation_date":1642197599,"post_id":70714944,"comment_id":125016149,"body_markdown":"Why can&#39;t read the data as a first step, modify whatever you need, and insert the modified data back into DB?","body":"Why can&#39;t read the data as a first step, modify whatever you need, and insert the modified data back into DB?"},{"owner":{"account_id":18558592,"reputation":1060,"user_id":13523077,"display_name":"Abu Saeed"},"score":0,"creation_date":1642217400,"post_id":70714944,"comment_id":125018974,"body_markdown":"I have edited my question. Check the last part","body":"I have edited my question. Check the last part"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643301215,"creation_date":1642242672,"answer_id":70720626,"question_id":70714944,"body_markdown":"&gt; How to update all values except one in Realtime Database?\r\n\r\nSimply by using [DatabaseReference#updateChildren(Map&lt;String, Object&gt; update)][1] and passing a Map object that contains **only** the fields you want to update. In this way, all the other fields will remain untouched.\r\n\r\n[DatabaseReference#setValue(Object value)][2] will always overwrite the data at the specific location.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#updateChildren(java.util.Map%3Cjava.lang.String,%20java.lang.Object%3E)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#setValue(java.lang.Object)","title":"How to update all values except one in Realtime Database?","body":"<blockquote>\n<p>How to update all values except one in Realtime Database?</p>\n</blockquote>\n<p>Simply by using <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#updateChildren(java.util.Map%3Cjava.lang.String,%20java.lang.Object%3E)\" rel=\"nofollow noreferrer\">DatabaseReference#updateChildren(Map&lt;String, Object&gt; update)</a> and passing a Map object that contains <strong>only</strong> the fields you want to update. In this way, all the other fields will remain untouched.</p>\n<p><a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#setValue(java.lang.Object)\" rel=\"nofollow noreferrer\">DatabaseReference#setValue(Object value)</a> will always overwrite the data at the specific location.</p>\n"}],"owner":{"account_id":18558592,"reputation":1060,"user_id":13523077,"display_name":"Abu Saeed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70720626,"answer_count":1,"score":0,"last_activity_date":1643301215,"creation_date":1642184284,"question_id":70714944,"body_markdown":"This is my node structure:&lt;br&gt;\r\n[![Database node][1]][1]&lt;br&gt;\r\nI want to change `email`, `name` and `roll`. For this, I have used `map` in java and used `setvalue(map)`. But the problem is node `extra` is being deleted here. This node is used by cloud function, so I don&#39;t want to download the data and set the data while saving again.&lt;br&gt;&lt;br&gt; \r\nBecause:&lt;br&gt;\r\n[![Reason for not downloading][2]][2]&lt;br&gt;\r\nIf the above step is completed before the below step, then I won&#39;t get the URL.&lt;br&gt;\r\n**I don&#39;t want to touch the node `extra`** and change other nodes at once. Is there any way to do so?\r\n\r\n  [1]: https://i.stack.imgur.com/aJ763.png\r\n  [2]: https://i.stack.imgur.com/gLYJT.png","title":"How to update all values except one in Realtime Database?","body":"<p>This is my node structure:<br>\n<a href=\"https://i.stack.imgur.com/aJ763.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aJ763.png\" alt=\"Database node\" /></a><br>\nI want to change <code>email</code>, <code>name</code> and <code>roll</code>. For this, I have used <code>map</code> in java and used <code>setvalue(map)</code>. But the problem is node <code>extra</code> is being deleted here. This node is used by cloud function, so I don't want to download the data and set the data while saving again.<br><br>\nBecause:<br>\n<a href=\"https://i.stack.imgur.com/gLYJT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gLYJT.png\" alt=\"Reason for not downloading\" /></a><br>\nIf the above step is completed before the below step, then I won't get the URL.<br>\n<strong>I don't want to touch the node <code>extra</code></strong> and change other nodes at once. Is there any way to do so?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1643299323,"post_id":70881752,"comment_id":125307856,"body_markdown":"Try printing the value of `integer` in your loop.","body":"Try printing the value of <code>integer</code> in your loop."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":3,"creation_date":1643299374,"post_id":70881752,"comment_id":125307878,"body_markdown":"When would you expect `integer` to  be less than 0?  (Using a debugger would have made the issue clear *very* quickly.)","body":"When would you expect <code>integer</code> to  be less than 0?  (Using a debugger would have made the issue clear <i>very</i> quickly.)"}],"answers":[{"tags":[],"owner":{"account_id":9298667,"reputation":152,"user_id":6904872,"display_name":"Naresh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643301048,"creation_date":1643301048,"answer_id":70882202,"question_id":70881752,"body_markdown":"Your `while` loop condition is wrong. Your condition says to enter the loop when `integer` is greater than 0 or equals to 0 . After 4 iterations the value of `integer` becomes 0 and loop continues. Remove the `=` condition it will work.","title":"I&#39;m trying to print the count for even digits in an integer, but somehow the code is not printing anything after I run it. What&#39;s the cause?","body":"<p>Your <code>while</code> loop condition is wrong. Your condition says to enter the loop when <code>integer</code> is greater than 0 or equals to 0 . After 4 iterations the value of <code>integer</code> becomes 0 and loop continues. Remove the <code>=</code> condition it will work.</p>\n"}],"owner":{"account_id":23221292,"reputation":1,"user_id":17313450,"display_name":"James Wang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643301048,"creation_date":1643299232,"question_id":70881752,"body_markdown":"   I started to learn java few days ago, and I&#39;m having trouble with this in-class exercise. Somehow when I run the code it does not produce any output. \r\n\r\n\r\n    public class FourthClass {\r\n            public static void main(String[] args){\r\n                int integer = 2222;\r\n                int counter = 0;\r\n                while(integer &gt;=0){ \r\n                    if(integer %2 ==0){\r\n                        counter++;\r\n                    }\r\n                    integer = integer/10;\r\n                }\r\n                System.out.println(counter);\r\n        \r\n            }\r\n        }\r\n\r\n","title":"I&#39;m trying to print the count for even digits in an integer, but somehow the code is not printing anything after I run it. What&#39;s the cause?","body":"<p>I started to learn java few days ago, and I'm having trouble with this in-class exercise. Somehow when I run the code it does not produce any output.</p>\n<pre><code>public class FourthClass {\n        public static void main(String[] args){\n            int integer = 2222;\n            int counter = 0;\n            while(integer &gt;=0){ \n                if(integer %2 ==0){\n                    counter++;\n                }\n                integer = integer/10;\n            }\n            System.out.println(counter);\n    \n        }\n    }\n</code></pre>\n"},{"tags":["java","html","docx"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1608623325,"post_id":65403828,"comment_id":115632880,"body_markdown":"Probably the easiest way would be to use the [Aspose.Words for Java API](https://blog.aspose.com/2020/07/15/word-document-doc-docx-to-html-conversion-using-java/). A few lines of code and you&#39;re done.","body":"Probably the easiest way would be to use the <a href=\"https://blog.aspose.com/2020/07/15/word-document-doc-docx-to-html-conversion-using-java/\" rel=\"nofollow noreferrer\">Aspose.Words for Java API</a>. A few lines of code and you&#39;re done."},{"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"score":0,"creation_date":1608630434,"post_id":65403828,"comment_id":115635689,"body_markdown":"Aspose is a paid version, I can&#39;t purchase it.","body":"Aspose is a paid version, I can&#39;t purchase it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1608695885,"post_id":65403828,"comment_id":115658024,"body_markdown":"This could also have been closed because it is a request for a software recommendation.  These are explicitly off-topic.  If you want to understand the downvotes, I suggest you read [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask), [What types of question should I avoid asking?](https://stackoverflow.com/help/dont-ask) and [What topics can I ask about here?](https://stackoverflow.com/help/on-topic).","body":"This could also have been closed because it is a request for a software recommendation.  These are explicitly off-topic.  If you want to understand the downvotes, I suggest you read <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>, <a href=\"https://stackoverflow.com/help/dont-ask\">What types of question should I avoid asking?</a> and <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>."},{"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"score":0,"creation_date":1608704679,"post_id":65403828,"comment_id":115659848,"body_markdown":"@StephenC, I have mentioned what are the library and my problems, I didn&#39;t requested not direct software recommendation. Please help me to reopen vote,","body":"@StephenC, I have mentioned what are the library and my problems, I didn&#39;t requested not direct software recommendation. Please help me to reopen vote,"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1608707016,"post_id":65403828,"comment_id":115660383,"body_markdown":"If I thought that your question was suitable for reopening, I would vote.  You need to edit it to make it more suitable for StackOverflow before I will vote to reopen.  Sorry.  The links I provided above should help you figure out what is needed.","body":"If I thought that your question was suitable for reopening, I would vote.  You need to edit it to make it more suitable for StackOverflow before I will vote to reopen.  Sorry.  The links I provided above should help you figure out what is needed."},{"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"score":0,"creation_date":1608707750,"post_id":65403828,"comment_id":115660541,"body_markdown":"I have edited my question, please check and add if need more edits.","body":"I have edited my question, please check and add if need more edits."}],"answers":[{"tags":[],"owner":{"account_id":17065680,"reputation":364,"user_id":13743703,"display_name":"AtomX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623311110,"creation_date":1608630986,"answer_id":65406571,"question_id":65403828,"body_markdown":"There is a project in GitHub that may suffice your needs: [java-mammoth](https://github.com/mwilliamson/java-mammoth)\r\n\r\nI think is a little stable and easy to use, above all it&#39;s open-source, many guys use it.","title":"Convert Docx to html using Java","body":"<p>There is a project in GitHub that may suffice your needs: <a href=\"https://github.com/mwilliamson/java-mammoth\" rel=\"nofollow noreferrer\">java-mammoth</a></p>\n<p>I think is a little stable and easy to use, above all it's open-source, many guys use it.</p>\n"}],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1608662377,"answer_count":1,"score":-2,"last_activity_date":1643301039,"creation_date":1608616221,"question_id":65403828,"body_markdown":"I had tried different libraries like **Apache POI**, **Apache Tika**, **Mammoth**, etc and StackOverflow like https://stackoverflow.com/questions/24652953/convert-docx-to-html-using-java but none of the given **exact font** and **color** while converting Docx to HTML.\r\n\r\nI am able to convert Docx to HTML but the problem is formatting and CSS styles mismatching between Docx and Html.\r\n\r\n**Sample input content**:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPlease help me out.\r\n\r\n  [1]: https://i.stack.imgur.com/oD4Zt.png","title":"Convert Docx to html using Java","body":"<p>I had tried different libraries like <strong>Apache POI</strong>, <strong>Apache Tika</strong>, <strong>Mammoth</strong>, etc and StackOverflow like <a href=\"https://stackoverflow.com/questions/24652953/convert-docx-to-html-using-java\">Convert .docx to HTML using JAVA</a> but none of the given <strong>exact font</strong> and <strong>color</strong> while converting Docx to HTML.</p>\n<p>I am able to convert Docx to HTML but the problem is formatting and CSS styles mismatching between Docx and Html.</p>\n<p><strong>Sample input content</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/oD4Zt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oD4Zt.png\" alt=\"enter image description here\" /></a></p>\n<p>Please help me out.</p>\n"},{"tags":["java","algorithm","search"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":1,"creation_date":1643301090,"post_id":70882169,"comment_id":125308658,"body_markdown":"Use `&lt;` in your loop control statements, not `!=`.","body":"Use <code>&lt;</code> in your loop control statements, not <code>!=</code>."},{"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"score":1,"creation_date":1643301317,"post_id":70882169,"comment_id":125308762,"body_markdown":"say size in 5, floor(sqrt(5)) == 2. i = 0, i = 2, i = 4, i = 6, ... `!=` stays true forever. Use `&lt;` instead as @AndyThomas said.","body":"say size in 5, floor(sqrt(5)) == 2. i = 0, i = 2, i = 4, i = 6, ... <code>!=</code> stays true forever. Use <code>&lt;</code> instead as @AndyThomas said."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1643304584,"post_id":70882169,"comment_id":125310184,"body_markdown":"Does this answer your question? [What is a StringIndexOutOfBoundsException? How can I fix it?](https://stackoverflow.com/questions/40006317/what-is-a-stringindexoutofboundsexception-how-can-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40006317/what-is-a-stringindexoutofboundsexception-how-can-i-fix-it\">What is a StringIndexOutOfBoundsException? How can I fix it?</a>"}],"owner":{"display_name":"user17696124"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643307312,"answer_count":0,"score":0,"last_activity_date":1643300929,"creation_date":1643300929,"question_id":70882169,"body_markdown":"I have a method which does a jump search between 2x txt files. \r\n\r\nBoth files have 500 entries, but one is sorted alphabetically and the other is not (sortedEntryContacts, and unsortedEntryContacts respectively)\r\n\r\nThe method is to compare names in the unsortedEntryContacts against the sortedEntryContacts, and use the jump search until the name is found in the sortedEntryContacts.\r\n\r\nThe problem I have right now is during the last step, it jumps outside the bounds of the List, hence getting the out of bounds exception.\r\n\r\nI&#39;ve been stuck on this problem for a while now, am I can&#39;t figure out how I can check for the last step.\r\n\r\n```\r\n    public static int jumpSearchEntries(List&lt;String&gt; unsortedEntryContacts, List&lt;String&gt; sortedEntryContacts) {\r\n        int entries = 0;\r\n        int blocks = (int) Math.floor(Math.sqrt(sortedEntryContacts.size()));\r\n\r\n        for (int i = 0; i != unsortedEntryContacts.size(); i++) { //Array with entries that will be compared against the sorted array.\r\n            System.out.println(&quot;------------------------&quot;);\r\n            System.out.println(unsortedEntryContacts.get(i) + &quot; to be found&quot;);\r\n            for (int j = 0; j != sortedEntryContacts.size(); j+= blocks) {\r\n                if (sortedEntryContacts.get(j).compareTo(unsortedEntryContacts.get(i)) == 0) { // if it matches, entry found.\r\n                    System.out.println(&quot;FOUND &quot; + sortedEntryContacts.get(j) + &quot; IN &quot; + unsortedEntryContacts.get(i));\r\n                    entries++;\r\n                    break;\r\n                } else if (sortedEntryContacts.get(j).compareTo(unsortedEntryContacts.get(i)) &gt; 0) {\r\n                    for (int k = j + 1; k != sortedEntryContacts.size(); k--) {\r\n                        if (sortedEntryContacts.get(k).compareTo(unsortedEntryContacts.get(i)) == 0) {\r\n                            System.out.println(&quot;FOUND &quot; + sortedEntryContacts.get(k) + &quot; IN &quot; + unsortedEntryContacts.get(i));\r\n                            entries++;\r\n                            break;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return entries;\r\n    }\r\n```","title":"Jump Search - IndexOutOfBoundsException","body":"<p>I have a method which does a jump search between 2x txt files.</p>\n<p>Both files have 500 entries, but one is sorted alphabetically and the other is not (sortedEntryContacts, and unsortedEntryContacts respectively)</p>\n<p>The method is to compare names in the unsortedEntryContacts against the sortedEntryContacts, and use the jump search until the name is found in the sortedEntryContacts.</p>\n<p>The problem I have right now is during the last step, it jumps outside the bounds of the List, hence getting the out of bounds exception.</p>\n<p>I've been stuck on this problem for a while now, am I can't figure out how I can check for the last step.</p>\n<pre><code>    public static int jumpSearchEntries(List&lt;String&gt; unsortedEntryContacts, List&lt;String&gt; sortedEntryContacts) {\n        int entries = 0;\n        int blocks = (int) Math.floor(Math.sqrt(sortedEntryContacts.size()));\n\n        for (int i = 0; i != unsortedEntryContacts.size(); i++) { //Array with entries that will be compared against the sorted array.\n            System.out.println(&quot;------------------------&quot;);\n            System.out.println(unsortedEntryContacts.get(i) + &quot; to be found&quot;);\n            for (int j = 0; j != sortedEntryContacts.size(); j+= blocks) {\n                if (sortedEntryContacts.get(j).compareTo(unsortedEntryContacts.get(i)) == 0) { // if it matches, entry found.\n                    System.out.println(&quot;FOUND &quot; + sortedEntryContacts.get(j) + &quot; IN &quot; + unsortedEntryContacts.get(i));\n                    entries++;\n                    break;\n                } else if (sortedEntryContacts.get(j).compareTo(unsortedEntryContacts.get(i)) &gt; 0) {\n                    for (int k = j + 1; k != sortedEntryContacts.size(); k--) {\n                        if (sortedEntryContacts.get(k).compareTo(unsortedEntryContacts.get(i)) == 0) {\n                            System.out.println(&quot;FOUND &quot; + sortedEntryContacts.get(k) + &quot; IN &quot; + unsortedEntryContacts.get(i));\n                            entries++;\n                            break;\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        return entries;\n    }\n</code></pre>\n"},{"tags":["java","performance","selenium","webdriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1632088128,"post_id":69247244,"comment_id":122392493,"body_markdown":"How large is large? There&#39;s not really another way to send it unless you use straight JS but that probably won&#39;t be faster either. You could try sending smaller chunks of the text using `.sendKeys()` but that shouldn&#39;t go faster.","body":"How large is large? There&#39;s not really another way to send it unless you use straight JS but that probably won&#39;t be faster either. You could try sending smaller chunks of the text using <code>.sendKeys()</code> but that shouldn&#39;t go faster."},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1632118555,"post_id":69247244,"comment_id":122396903,"body_markdown":"No Way. Selenium bahaves like this. typing will be very slow.","body":"No Way. Selenium bahaves like this. typing will be very slow."},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1632120733,"post_id":69247244,"comment_id":122397561,"body_markdown":"How about `ctrl+c` and `ctrl+v`, not sure if it will be bit faster or not.","body":"How about <code>ctrl+c</code> and <code>ctrl+v</code>, not sure if it will be bit faster or not."},{"owner":{"account_id":16441552,"reputation":293,"user_id":11877678,"display_name":"Omar_Hafez"},"score":0,"creation_date":1632121993,"post_id":69247244,"comment_id":122397985,"body_markdown":"@cruisepandey Yes  copying the content to the clipboard and the paste it in the textArea is faster then `sendKeys` in selenuim.  but the problem is that this willn&#39;t work once i use headless mode in the chrome driver","body":"@cruisepandey Yes  copying the content to the clipboard and the paste it in the textArea is faster then <code>sendKeys</code> in selenuim.  but the problem is that this willn&#39;t work once i use headless mode in the chrome driver"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1632131205,"post_id":69247244,"comment_id":122401297,"body_markdown":"`element.sendKeys(String string)` takes approximately 8 seconds for string of leghth 10000 chars. Which is acceptable. How big is your string?","body":"<code>element.sendKeys(String string)</code> takes approximately 8 seconds for string of leghth 10000 chars. Which is acceptable. How big is your string?"},{"owner":{"account_id":16441552,"reputation":293,"user_id":11877678,"display_name":"Omar_Hafez"},"score":0,"creation_date":1632147141,"post_id":69247244,"comment_id":122407917,"body_markdown":"@pburgr My string is about 6000 chars so it takes about 5 seconds. but my problem is that in this project I will need to make this process as fast as possible. In about one second","body":"@pburgr My string is about 6000 chars so it takes about 5 seconds. but my problem is that in this project I will need to make this process as fast as possible. In about one second"}],"answers":[{"tags":[],"owner":{"account_id":16557745,"reputation":527,"user_id":11964458,"display_name":"Villa_7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632131463,"creation_date":1632131463,"answer_id":69252372,"question_id":69247244,"body_markdown":"You can try it with JS executor:\r\n\r\n\r\n      public void enterTextJS(By locator, String text) {\r\n        JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\n        WebElement element = driver.findElement(locator);\r\n        jsExecutor.executeScript(&quot;arguments[0].value=&#39;&quot; + text + &quot;&#39;;&quot;, element);\r\n      }","title":"How to efficiently send large String to java selenium textarea element","body":"<p>You can try it with JS executor:</p>\n<pre><code>  public void enterTextJS(By locator, String text) {\n    JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\n    WebElement element = driver.findElement(locator);\n    jsExecutor.executeScript(&quot;arguments[0].value='&quot; + text + &quot;';&quot;, element);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632204287,"creation_date":1632204287,"answer_id":69264105,"question_id":69247244,"body_markdown":"Basicaly same solution as Villa_7&#39;s.\r\nSetting text of 6k chars takes ~ 25 miliseconds.\r\n\r\n    package selenium;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.util.Random;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public class OmarHafez extends WebDriverSetup {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tWebDriver driver = startChromeDriver();\r\n    \t\tdriver.get(&quot;https://demoqa.com/automation-practice-form&quot;);\r\n    \t\tWebElement addressField = driver.findElement(By.tagName(&quot;textarea&quot;));\r\n    \t\taddressField.click();\r\n    \t\tString s = randomStringOfLength(6000);\r\n    \t\tSystem.out.println(LocalDateTime.now());\r\n    \t\tString js = &quot;document.evaluate(\\&quot;//textarea[@id=&#39;currentAddress&#39;]\\&quot;, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.value = &#39;&quot; + s + &quot;&#39;;&quot;;\r\n    \t\tJavascriptExecutor javascriptExecutor = (JavascriptExecutor)driver;\r\n    \t\tjavascriptExecutor.executeScript(js);\r\n    \t\tSystem.out.println(LocalDateTime.now());\r\n    \t\tSystem.out.println(addressField.getAttribute(&quot;value&quot;));\r\n    \t\tdriver.quit();\r\n    \t}\r\n    \t\r\n    \tpublic static String randomStringOfLength(int length) {\r\n    \t    int leftLimit = 48; // numeral &#39;0&#39;\r\n    \t    int rightLimit = 122; // letter &#39;z&#39;\r\n    \t    Random random = new Random();\r\n    \t    String generatedString = random.ints(leftLimit, rightLimit + 1)\r\n    \t      .filter(i -&gt; (i &lt;= 57 || i &gt;= 65) &amp;&amp; (i &lt;= 90 || i &gt;= 97))\r\n    \t      .limit(length)\r\n    \t      .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\r\n    \t      .toString();\r\n    \t    return generatedString;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to efficiently send large String to java selenium textarea element","body":"<p>Basicaly same solution as Villa_7's.\nSetting text of 6k chars takes ~ 25 miliseconds.</p>\n<pre><code>package selenium;\n\nimport java.time.LocalDateTime;\nimport java.util.Random;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\npublic class OmarHafez extends WebDriverSetup {\n\n    public static void main(String[] args) {\n\n        WebDriver driver = startChromeDriver();\n        driver.get(&quot;https://demoqa.com/automation-practice-form&quot;);\n        WebElement addressField = driver.findElement(By.tagName(&quot;textarea&quot;));\n        addressField.click();\n        String s = randomStringOfLength(6000);\n        System.out.println(LocalDateTime.now());\n        String js = &quot;document.evaluate(\\&quot;//textarea[@id='currentAddress']\\&quot;, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.value = '&quot; + s + &quot;';&quot;;\n        JavascriptExecutor javascriptExecutor = (JavascriptExecutor)driver;\n        javascriptExecutor.executeScript(js);\n        System.out.println(LocalDateTime.now());\n        System.out.println(addressField.getAttribute(&quot;value&quot;));\n        driver.quit();\n    }\n    \n    public static String randomStringOfLength(int length) {\n        int leftLimit = 48; // numeral '0'\n        int rightLimit = 122; // letter 'z'\n        Random random = new Random();\n        String generatedString = random.ints(leftLimit, rightLimit + 1)\n          .filter(i -&gt; (i &lt;= 57 || i &gt;= 65) &amp;&amp; (i &lt;= 90 || i &gt;= 97))\n          .limit(length)\n          .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\n          .toString();\n        return generatedString;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24074311,"reputation":1,"user_id":18049865,"display_name":"shreekrisha priya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643300798,"creation_date":1643300798,"answer_id":70882134,"question_id":69247244,"body_markdown":"     public void enterTextJS(By locator, String text) \r\n    {\r\n        JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\n        WebElement element = driver.findElement(locator);\r\n        jsExecutor.executeScript(&quot;arguments[1].value=arguments[0]&quot;, &quot;&#39;&quot; + text + &quot;&#39;&quot;, element);}\r\nThis worked for me like a charm. For multiple lines of text, this is the best solution. Thanks @omar_Hafez","title":"How to efficiently send large String to java selenium textarea element","body":"<pre><code> public void enterTextJS(By locator, String text) \n{\n    JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\n    WebElement element = driver.findElement(locator);\n    jsExecutor.executeScript(&quot;arguments[1].value=arguments[0]&quot;, &quot;'&quot; + text + &quot;'&quot;, element);}\n</code></pre>\n<p>This worked for me like a charm. For multiple lines of text, this is the best solution. Thanks @omar_Hafez</p>\n"}],"owner":{"account_id":16441552,"reputation":293,"user_id":11877678,"display_name":"Omar_Hafez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69252372,"answer_count":3,"score":0,"last_activity_date":1643300798,"creation_date":1632087279,"question_id":69247244,"body_markdown":"I need to send Large text in the type of String to textArea element. I use \r\n\r\n    driver.findElement(By.xpath(textarea_xpath)).sendKeys(fileText);\r\nBut Its too slow. Any ideas to make this fast?\r\n\r\n\r\n","title":"How to efficiently send large String to java selenium textarea element","body":"<p>I need to send Large text in the type of String to textArea element. I use</p>\n<pre><code>driver.findElement(By.xpath(textarea_xpath)).sendKeys(fileText);\n</code></pre>\n<p>But Its too slow. Any ideas to make this fast?</p>\n"},{"tags":["java","spring","servlets","web.xml"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1643298533,"post_id":70881524,"comment_id":125307467,"body_markdown":"What do you mean by _registered a bean for it in `web.xml`_? `web.xml` is a Servlet container configuration, not a Spring (bean) context configuration.","body":"What do you mean by <i>registered a bean for it in <code>web.xml</code></i>? <code>web.xml</code> is a Servlet container configuration, not a Spring (bean) context configuration."},{"owner":{"account_id":5033835,"reputation":2668,"user_id":4043273,"accept_rate":84,"display_name":"wdc"},"score":0,"creation_date":1643300265,"post_id":70881524,"comment_id":125308264,"body_markdown":"@SotiriosDelimanolis Sorry, my bad, it was not web.xml, it was in valid xml spring configuration.","body":"@SotiriosDelimanolis Sorry, my bad, it was not web.xml, it was in valid xml spring configuration."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1643300506,"post_id":70881524,"comment_id":125308369,"body_markdown":"Your Servlet container won&#39;t use your custom Servlet if it&#39;s not defined in its configuration. Are you also registering the servlet in web.xml? Or do you have that `@WebServlet`annotation on your servlet class?","body":"Your Servlet container won&#39;t use your custom Servlet if it&#39;s not defined in its configuration. Are you also registering the servlet in web.xml? Or do you have that <code>@WebServlet</code>annotation on your servlet class?"},{"owner":{"account_id":5033835,"reputation":2668,"user_id":4043273,"accept_rate":84,"display_name":"wdc"},"score":0,"creation_date":1643300865,"post_id":70881524,"comment_id":125308564,"body_markdown":"@SotiriosDelimanolis it is defined in `web.xml`. I&#39;ve updated the question. It catches the requests as expected, it&#39;s just that this dependency is not being injected when the Servlet catches the request. It&#39;s like that Spring creates a new `Servlet` object, and doesn&#39;t load it from the context. During the app startup, I can see that setter method is called correctly and the attribute is set to the Servlet.\n\nWe don&#39;t have annotations on this project, so only `web.xml`.","body":"@SotiriosDelimanolis it is defined in <code>web.xml</code>. I&#39;ve updated the question. It catches the requests as expected, it&#39;s just that this dependency is not being injected when the Servlet catches the request. It&#39;s like that Spring creates a new <code>Servlet</code> object, and doesn&#39;t load it from the context. During the app startup, I can see that setter method is called correctly and the attribute is set to the Servlet.  We don&#39;t have annotations on this project, so only <code>web.xml</code>."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1643301141,"post_id":70881524,"comment_id":125308683,"body_markdown":"You have two different `MyServlet` instances. One is created by the Servlet container because of the web.xml declaration. The other is created by Spring because of the bean definition. Your Servlet container is using its instance, not Spring&#39;s.","body":"You have two different <code>MyServlet</code> instances. One is created by the Servlet container because of the web.xml declaration. The other is created by Spring because of the bean definition. Your Servlet container is using its instance, not Spring&#39;s."},{"owner":{"account_id":5033835,"reputation":2668,"user_id":4043273,"accept_rate":84,"display_name":"wdc"},"score":0,"creation_date":1643301426,"post_id":70881524,"comment_id":125308821,"body_markdown":"@SotiriosDelimanolis Makes sense. Thank you for the explanation. Any idea how to autowire the dependency into the instance created by Servlet Container? I think I saw people do that before.","body":"@SotiriosDelimanolis Makes sense. Thank you for the explanation. Any idea how to autowire the dependency into the instance created by Servlet Container? I think I saw people do that before."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1643302578,"post_id":70881524,"comment_id":125309348,"body_markdown":"There&#39;s some old school stuff like [this](https://stackoverflow.com/questions/11843690/autowiring-in-servlet) or [this](https://stackoverflow.com/questions/23839226/autowire-null-inside-a-servlet/23839705). But I think Spring now has an adapter for this kind of thing but I can&#39;t find it.","body":"There&#39;s some old school stuff like <a href=\"https://stackoverflow.com/questions/11843690/autowiring-in-servlet\">this</a> or <a href=\"https://stackoverflow.com/questions/23839226/autowire-null-inside-a-servlet/23839705\">this</a>. But I think Spring now has an adapter for this kind of thing but I can&#39;t find it."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643321282,"post_id":70881524,"comment_id":125315981,"body_markdown":"If you need injection, use CDI in a container supporting it.","body":"If you need injection, use CDI in a container supporting it."}],"owner":{"account_id":5033835,"reputation":2668,"user_id":4043273,"accept_rate":84,"display_name":"wdc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643300685,"creation_date":1643298401,"question_id":70881524,"body_markdown":"I&#39;ve created a Servlet and added configuration in `web.xml`:\r\n\r\n    &lt;servlet&gt;\r\n         &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n         &lt;servlet-class&gt;com.foo.web.MyServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/myservlet/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\nRegistered a bean for it:\r\n\r\n    &lt;bean id=&quot;MyServlet&quot; class=&quot;com.foo.MyServlet&quot; autowire=&quot;byType&quot;&gt;\r\n\t\t&lt;property name=&quot;MyService&quot; ref=&quot;MyManager&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI&#39;ve created a bean which is injected into `MyServlet`\r\n\r\n    &lt;bean id=&quot;MyManager&quot; class=&quot;com.foo.MyService&quot; autowire=&quot;byType&quot;&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThere s a setter method in the servlet used by spring for setting the property to the bean:\r\n\r\n   \r\n\r\n     public class MyServlet extends HttpServlet {\r\n    \r\n    \t   private static final long serialVersionUID = 1L;\r\n    \r\n    \t   private MyManager myService;\r\n    \t\r\n    \t   @Override\r\n    \t   protected void doGet(HttpServletRequest req, HttpServletResponse response) throws \r\n              ServletException, IOException {\r\n    \t\t\r\n    \t  }\r\n    \t\r\n    \t   public void setMyService(MyManager myManager){\r\n    \t      this.myService = myManager;\r\n    \t   }\r\n    \t\r\n    }\r\n\r\nAutowiring is done correctly during the application startup, but when Servlet &quot;catches&quot; some request, this property (myService) is not instantiated (it&#39;s `null`). How or can I even have a Servlet with some autwired properties?\r\n\r\n","title":"How to inject dependency into Servlet?","body":"<p>I've created a Servlet and added configuration in <code>web.xml</code>:</p>\n<pre><code>&lt;servlet&gt;\n     &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n     &lt;servlet-class&gt;com.foo.web.MyServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/myservlet/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>Registered a bean for it:</p>\n<pre><code>&lt;bean id=&quot;MyServlet&quot; class=&quot;com.foo.MyServlet&quot; autowire=&quot;byType&quot;&gt;\n    &lt;property name=&quot;MyService&quot; ref=&quot;MyManager&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I've created a bean which is injected into <code>MyServlet</code></p>\n<pre><code>&lt;bean id=&quot;MyManager&quot; class=&quot;com.foo.MyService&quot; autowire=&quot;byType&quot;&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>There s a setter method in the servlet used by spring for setting the property to the bean:</p>\n<pre><code> public class MyServlet extends HttpServlet {\n\n       private static final long serialVersionUID = 1L;\n\n       private MyManager myService;\n    \n       @Override\n       protected void doGet(HttpServletRequest req, HttpServletResponse response) throws \n          ServletException, IOException {\n        \n      }\n    \n       public void setMyService(MyManager myManager){\n          this.myService = myManager;\n       }\n    \n}\n</code></pre>\n<p>Autowiring is done correctly during the application startup, but when Servlet &quot;catches&quot; some request, this property (myService) is not instantiated (it's <code>null</code>). How or can I even have a Servlet with some autwired properties?</p>\n"},{"tags":["java","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1637879314,"post_id":70113964,"comment_id":123948863,"body_markdown":"Check out this [link](https://stackoverflow.com/questions/63292922/ibm-mq-provider-for-jms-how-to-automatically-roll-back-messages/63419804#63419804)","body":"Check out this <a href=\"https://stackoverflow.com/questions/63292922/ibm-mq-provider-for-jms-how-to-automatically-roll-back-messages/63419804#63419804\">link</a>"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1643331739,"post_id":70113964,"comment_id":125318116,"body_markdown":"You should post a self answer with a little more detail for the next lesson looking for a solution.","body":"You should post a self answer with a little more detail for the next lesson looking for a solution."}],"owner":{"account_id":7847330,"reputation":23,"user_id":5931950,"display_name":"M.Love"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643300391,"creation_date":1637855398,"question_id":70113964,"body_markdown":"I have the necessity to implement a timed reading of an ibm mq.\r\n\r\nI have a client application that read from a queue and in some cases I want avoid the rollback of the transaction, writing the message on a new queue instead of dead letter queue. Then I want reprocess the message after 5 minutes and repeat the process in case of error.\r\n\r\nNow I read with a Jms Listener\r\n\r\n     @JmsListener(destination = &quot;${QueueName}&quot;)\r\n     public void readMessages(TextMessage msg) { ...\r\n\r\nbut if the message is not consumed, I would like rewrite it on the queue and wait 5 minutes before read again.\r\nWhat is the best way to implement a timed reading in this case?\r\n\r\nThank you everyone in advance!\r\n\r\n\r\nUPDATE\r\n\r\nWith IBM MQ version 8+ there is the feature Delivery Delay that solve my problem. Cheers!","title":"timed reading jms template ibm mq","body":"<p>I have the necessity to implement a timed reading of an ibm mq.</p>\n<p>I have a client application that read from a queue and in some cases I want avoid the rollback of the transaction, writing the message on a new queue instead of dead letter queue. Then I want reprocess the message after 5 minutes and repeat the process in case of error.</p>\n<p>Now I read with a Jms Listener</p>\n<pre><code> @JmsListener(destination = &quot;${QueueName}&quot;)\n public void readMessages(TextMessage msg) { ...\n</code></pre>\n<p>but if the message is not consumed, I would like rewrite it on the queue and wait 5 minutes before read again.\nWhat is the best way to implement a timed reading in this case?</p>\n<p>Thank you everyone in advance!</p>\n<p>UPDATE</p>\n<p>With IBM MQ version 8+ there is the feature Delivery Delay that solve my problem. Cheers!</p>\n"},{"tags":["java","android","kotlin","automation","backend"],"answers":[{"tags":[],"owner":{"account_id":3915421,"reputation":1,"user_id":3239334,"display_name":"user3239334"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643300296,"creation_date":1643300296,"answer_id":70882010,"question_id":70881939,"body_markdown":"You can try to do this using push notification.\r\n1. You can post a request to the server with the device id or userid to push this request to other device\r\n2. Server will use the FCM(Firebase cloud messaging) to push this request to the device to open the app","title":"How to open another app which is not installed on the user device","body":"<p>You can try to do this using push notification.</p>\n<ol>\n<li>You can post a request to the server with the device id or userid to push this request to other device</li>\n<li>Server will use the FCM(Firebase cloud messaging) to push this request to the device to open the app</li>\n</ol>\n"}],"owner":{"account_id":17400257,"reputation":11,"user_id":18049728,"display_name":"Vishu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643300296,"creation_date":1643299972,"question_id":70881939,"body_markdown":"I want to make a system in which user enters some details and it fetches the data from using services from some another app which might not be installed on the users mobile. How it can be done?\r\n","title":"How to open another app which is not installed on the user device","body":"<p>I want to make a system in which user enters some details and it fetches the data from using services from some another app which might not be installed on the users mobile. How it can be done?</p>\n"},{"tags":["java","utf-8","character-encoding","shift-jis"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1643179654,"post_id":70859468,"comment_id":125268055,"body_markdown":"SJIS -&gt; byte[] -&gt; UTF-8 ?","body":"SJIS -&gt; byte[] -&gt; UTF-8 ?"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1643182418,"post_id":70859468,"comment_id":125268739,"body_markdown":"Shift-JIS code does not have shift-in and shift-out codes. Therefore, there is no need to remove it. Your code works correctly.","body":"Shift-JIS code does not have shift-in and shift-out codes. Therefore, there is no need to remove it. Your code works correctly."},{"owner":{"account_id":1556898,"reputation":669,"user_id":1447718,"accept_rate":22,"display_name":"user1447718"},"score":0,"creation_date":1643299951,"post_id":70859468,"comment_id":125308130,"body_markdown":"@ScaryWombat the file is a huge file and coverting to byte[] and removing it will impact performance. if not, then okay.","body":"@ScaryWombat the file is a huge file and coverting to byte[] and removing it will impact performance. if not, then okay."},{"owner":{"account_id":1556898,"reputation":669,"user_id":1447718,"accept_rate":22,"display_name":"user1447718"},"score":0,"creation_date":1643300358,"post_id":70859468,"comment_id":125308303,"body_markdown":"@英語は苦手 maybe theinput is not shift jis then... i do see the SI and SO characs in the data file.","body":"@英語は苦手 maybe theinput is not shift jis then... i do see the SI and SO characs in the data file."},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1643314436,"post_id":70859468,"comment_id":125313775,"body_markdown":"It may be `ISO-2022-JP` instead of `x-SJIS_0213`.","body":"It may be <code>ISO-2022-JP</code> instead of <code>x-SJIS_0213</code>."}],"owner":{"account_id":1556898,"reputation":669,"user_id":1447718,"accept_rate":22,"display_name":"user1447718"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643300067,"creation_date":1643179495,"question_id":70859468,"body_markdown":"I am receiving a file with shiftJis encoding.  It has Japanese characters with shift in and shift out characters at the beginning and end of each multi byte string.\r\n\r\nAs per my requirement, I have to convert this file to utf-8 and remove the SI and SO characters from the utf-8 file?  what is the best way to do this?  Should I remove them before utf-8 conversion or after? and how do I remove it?  thanks in advance.\r\n\r\nmy javacode is as below\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString inFilePath = &quot;src\\\\encoding\\\\input\\\\dfd02.PGP_dec&quot;;\r\n\t\tString filePath = &quot;src\\\\encoding\\\\output\\\\&quot;;\r\n\t\t  String utf8FileNm = &quot;utf8-out.txt&quot;;\r\n\t\t  String charsetName = &quot;x-SJIS_0213&quot;;\r\n\r\n\t\t  InputStream in;\r\n\t\ttry {\r\n\t\t\tin = new FileInputStream(inFilePath);\r\n\t\t\r\n\t\t  Reader reader = new InputStreamReader(in, charsetName);\r\n\t\t  StringBuilder sb = new StringBuilder();\r\n\t\t  int read;\r\n\t\t  while ((read = reader.read()) != -1){\r\n\t\t    sb.append((char)read);\r\n\t\t  }\r\n\t\t  reader.close();\r\n\r\n\t\t  String string = sb.toString();\r\n\r\n\t\t  OutputStream out = new FileOutputStream(filePath + charsetName + &quot;-&quot; + utf8FileNm);\r\n\t\t  Writer writer = new OutputStreamWriter(out, &quot;UTF-8&quot;);\r\n\t\t  writer.write(string);\r\n\t\t  writer.close();\r\n\t\t  System.out.println(&quot;Finished writing the input file in UTF-8 format&quot;);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gBkYI.png","title":"Removing shiftIn and shiftout characters from utf8 file using java","body":"<p>I am receiving a file with shiftJis encoding.  It has Japanese characters with shift in and shift out characters at the beginning and end of each multi byte string.</p>\n<p>As per my requirement, I have to convert this file to utf-8 and remove the SI and SO characters from the utf-8 file?  what is the best way to do this?  Should I remove them before utf-8 conversion or after? and how do I remove it?  thanks in advance.</p>\n<p>my javacode is as below</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    // TODO Auto-generated method stub\n    String inFilePath = &quot;src\\\\encoding\\\\input\\\\dfd02.PGP_dec&quot;;\n    String filePath = &quot;src\\\\encoding\\\\output\\\\&quot;;\n      String utf8FileNm = &quot;utf8-out.txt&quot;;\n      String charsetName = &quot;x-SJIS_0213&quot;;\n\n      InputStream in;\n    try {\n        in = new FileInputStream(inFilePath);\n    \n      Reader reader = new InputStreamReader(in, charsetName);\n      StringBuilder sb = new StringBuilder();\n      int read;\n      while ((read = reader.read()) != -1){\n        sb.append((char)read);\n      }\n      reader.close();\n\n      String string = sb.toString();\n\n      OutputStream out = new FileOutputStream(filePath + charsetName + &quot;-&quot; + utf8FileNm);\n      Writer writer = new OutputStreamWriter(out, &quot;UTF-8&quot;);\n      writer.write(string);\n      writer.close();\n      System.out.println(&quot;Finished writing the input file in UTF-8 format&quot;);\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gBkYI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gBkYI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","list","memory","heap-memory"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1643265195,"post_id":70874268,"comment_id":125294768,"body_markdown":"I’m not sure what the question is really, but certainly assigning something to a variable to then immediately reassign is not necessary.","body":"I’m not sure what the question is really, but certainly assigning something to a variable to then immediately reassign is not necessary."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1643265244,"post_id":70874268,"comment_id":125294779,"body_markdown":"One step as in `List&lt;Employee&gt; employees = getAllEmployees();` is fine","body":"One step as in <code>List&lt;Employee&gt; employees = getAllEmployees();</code> is fine"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1643266041,"post_id":70874268,"comment_id":125294933,"body_markdown":"Thanks for reply amigos. But, I know it, but what happens when I call just `List&lt;Employee&gt; employees = getAllEmployees();`. In this case I think we do not allocate extra memory space for new list, but where the employee list is kept in this situation? Is it like a pointer approach e.g. updating pointer instead of allocating a new memory?","body":"Thanks for reply amigos. But, I know it, but what happens when I call just <code>List&lt;Employee&gt; employees = getAllEmployees();</code>. In this case I think we do not allocate extra memory space for new list, but where the employee list is kept in this situation? Is it like a pointer approach e.g. updating pointer instead of allocating a new memory?"},{"owner":{"account_id":7017323,"reputation":3426,"user_id":5378187,"display_name":"Rubydesic"},"score":0,"creation_date":1643266147,"post_id":70874268,"comment_id":125294960,"body_markdown":"The method getAllEmployees() probably allocates a list for you. This is not like C++ where you need to worry about who owns what. The method allocates a list for you, and when you no longer using it, the garbage collector automatically deallocates it.","body":"The method getAllEmployees() probably allocates a list for you. This is not like C++ where you need to worry about who owns what. The method allocates a list for you, and when you no longer using it, the garbage collector automatically deallocates it."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1643266626,"post_id":70874268,"comment_id":125295070,"body_markdown":"In Java objects are created on the heap and all you pass around is a reference (you can think of it as being similar to a smart pointer in C++). So `getAllEmployees()` likely creates the list on the heap and returns a reference. `List&lt;Employee&gt; employees` is another reference that not takes the &quot;value&quot; of the returned reference, i.e. it now refers to the same list. Since objects are created on the heap they&#39;re not bound to the scope of the method they have been created in - as long as a _live_ thread can access the list, it will stay on the heap. If that changes the GC can collect it.","body":"In Java objects are created on the heap and all you pass around is a reference (you can think of it as being similar to a smart pointer in C++). So <code>getAllEmployees()</code> likely creates the list on the heap and returns a reference. <code>List&lt;Employee&gt; employees</code> is another reference that not takes the &quot;value&quot; of the returned reference, i.e. it now refers to the same list. Since objects are created on the heap they&#39;re not bound to the scope of the method they have been created in - as long as a <i>live</i> thread can access the list, it will stay on the heap. If that changes the GC can collect it."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1643266875,"post_id":70874268,"comment_id":125295128,"body_markdown":"Btw, as a side note lists in Java are also just collections of references as are object arrays. That means that if you create such a list or array there&#39;s no memory &quot;allocated&quot; for the elements, just for the references (nowadays typically 8 bytes per reference).","body":"Btw, as a side note lists in Java are also just collections of references as are object arrays. That means that if you create such a list or array there&#39;s no memory &quot;allocated&quot; for the elements, just for the references (nowadays typically 8 bytes per reference)."},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1643267779,"post_id":70874268,"comment_id":125295358,"body_markdown":"@Thomas Very good explanations. Just need an extra clarification regarding to your last comment (&quot;*Btw, as a side note lists in Java are also just collections of ...*&quot;). Any comment?","body":"@Thomas Very good explanations. Just need an extra clarification regarding to your last comment (&quot;<i>Btw, as a side note lists in Java are also just collections of ...</i>&quot;). Any comment?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1643267863,"post_id":70874268,"comment_id":125295386,"body_markdown":"I&#39;m not sure what extra clarification you want me to provide. Just be aware of the fact that object arrays (those that &quot;contain&quot; objects) are actually just arrays of references which means the elements &quot;contained&quot; in those arrays are located somewhere else on the heap and do not depend on the array. The same extends to lists.","body":"I&#39;m not sure what extra clarification you want me to provide. Just be aware of the fact that object arrays (those that &quot;contain&quot; objects) are actually just arrays of references which means the elements &quot;contained&quot; in those arrays are located somewhere else on the heap and do not depend on the array. The same extends to lists."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643299613,"creation_date":1643299613,"answer_id":70881843,"question_id":70874268,"body_markdown":"&gt; What if I create a new instance `List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();` and then fill it `employees = getAllEmployees();` ? \r\n\r\n&gt; Is it meaning creating and allocating unnecessary variable on the memory?\r\n\r\nYes, it&#39;s unnecessary. You create one reference to an empty arraylist, then override the reference to the result of a method return value. This does not &quot;fill&quot; the list. \r\n\r\nThese solutions fill an existing list while keeping a reference intact \r\n\r\n    // assuming your service returned service list needed to be mutated \r\n    List&lt;Employee&gt; employees = new ArrayList&lt;&gt;(employeeService.findAll());\r\n\r\n&lt;p&gt;\r\n\r\n    List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();  // could be a class instance variable \r\n    employees.clear();  // assuming there&#39;s existing data in the list \r\n    employees.addAll(employeeService.findAll());\r\n\r\n\r\n","title":"Creating a new instance when getting data from service?","body":"<blockquote>\n<p>What if I create a new instance <code>List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();</code> and then fill it <code>employees = getAllEmployees();</code> ?</p>\n</blockquote>\n<blockquote>\n<p>Is it meaning creating and allocating unnecessary variable on the memory?</p>\n</blockquote>\n<p>Yes, it's unnecessary. You create one reference to an empty arraylist, then override the reference to the result of a method return value. This does not &quot;fill&quot; the list.</p>\n<p>These solutions fill an existing list while keeping a reference intact</p>\n<pre><code>// assuming your service returned service list needed to be mutated \nList&lt;Employee&gt; employees = new ArrayList&lt;&gt;(employeeService.findAll());\n</code></pre>\n<p>\n<pre><code>List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();  // could be a class instance variable \nemployees.clear();  // assuming there's existing data in the list \nemployees.addAll(employeeService.findAll());\n</code></pre>\n"}],"owner":{"display_name":"user17862362"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643299613,"creation_date":1643265045,"question_id":70874268,"body_markdown":"When we fill a list by retrieving data from a service, we no not create an instance e.g. `List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();`. I am not sure regarding to the actual reason for that. \r\n\r\n**1.** In this case our `employees` variable refers to the employee list that had already been allocated when calling `getAllEmployees()` method? \r\n\r\n**2.** What if I create a new instance `List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();` and then fill it `employees = getAllEmployees();` ? Is it meaning creatingand allocating unnecessary variable on the memory? \r\n\r\n\r\n***main:***\r\n\r\n```\r\npublic void demo() {\r\n    List&lt;Employee&gt; employees = getAllEmployees();\r\n}\r\n```\r\n\r\n\r\n***service:***\r\n\r\n```\r\npublic List&lt;Employee&gt; getAllEmployees() {\r\n    return employeeService.findAll();\r\n}\r\n```","title":"Creating a new instance when getting data from service?","body":"<p>When we fill a list by retrieving data from a service, we no not create an instance e.g. <code>List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();</code>. I am not sure regarding to the actual reason for that.</p>\n<p><strong>1.</strong> In this case our <code>employees</code> variable refers to the employee list that had already been allocated when calling <code>getAllEmployees()</code> method?</p>\n<p><strong>2.</strong> What if I create a new instance <code>List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();</code> and then fill it <code>employees = getAllEmployees();</code> ? Is it meaning creatingand allocating unnecessary variable on the memory?</p>\n<p><em><strong>main:</strong></em></p>\n<pre><code>public void demo() {\n    List&lt;Employee&gt; employees = getAllEmployees();\n}\n</code></pre>\n<p><em><strong>service:</strong></em></p>\n<pre><code>public List&lt;Employee&gt; getAllEmployees() {\n    return employeeService.findAll();\n}\n</code></pre>\n"},{"tags":["java","html","swing","jtextpane"],"comments":[{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1430780366,"post_id":30041021,"comment_id":48198724,"body_markdown":"Just as a quick note, you can embed a component in your text pane which holds the text and make that component answer to clicks (some listener model, depending on the component).","body":"Just as a quick note, you can embed a component in your text pane which holds the text and make that component answer to clicks (some listener model, depending on the component)."},{"owner":{"account_id":3298387,"reputation":71,"user_id":2775076,"accept_rate":50,"display_name":"TacoB"},"score":0,"creation_date":1430781109,"post_id":30041021,"comment_id":48198972,"body_markdown":"@user1803551 Yes that&#39;s what i tried already. The problem with that is the component is offset vertically and looks very bad. It works, just looks terrible.","body":"@user1803551 Yes that&#39;s what i tried already. The problem with that is the component is offset vertically and looks very bad. It works, just looks terrible."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1430781749,"post_id":30041021,"comment_id":48199181,"body_markdown":"Oh, `this` in the code is a `JTextPane`. What was bad with HTML then? Maybe you can post a picture of what you want it to look like, because I can&#39;t tell what you call &quot;looks terrible&quot;.","body":"Oh, <code>this</code> in the code is a <code>JTextPane</code>. What was bad with HTML then? Maybe you can post a picture of what you want it to look like, because I can&#39;t tell what you call &quot;looks terrible&quot;."},{"owner":{"account_id":3298387,"reputation":71,"user_id":2775076,"accept_rate":50,"display_name":"TacoB"},"score":0,"creation_date":1430782571,"post_id":30041021,"comment_id":48199411,"body_markdown":"The picture is the issue i had. Every time i inserted - rather then adding TO the current HTML element, it would create a new one and then for whatever reason center the text inserted. Very strange .","body":"The picture is the issue i had. Every time i inserted - rather then adding TO the current HTML element, it would create a new one and then for whatever reason center the text inserted. Very strange ."},{"owner":{"account_id":2229924,"reputation":5666,"user_id":1967800,"accept_rate":78,"display_name":"Sharcoux"},"score":0,"creation_date":1430815100,"post_id":30041021,"comment_id":48211029,"body_markdown":"When inserting your label, were you inserting your components with th&#233; insertComponent method or with th&#233; classic add method ?","body":"When inserting your label, were you inserting your components with th&#233; insertComponent method or with th&#233; classic add method ?"}],"answers":[{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643299501,"creation_date":1430792274,"answer_id":30043211,"question_id":30041021,"body_markdown":"This inserts HTML without any alignment problems. I think (&quot;think&quot; because I don&#39;t have enough of your code to know) that you had issues because of `Document.insertString` while I use `HTMLEditorKit.insertHTML`.\r\n\r\n    public class Example extends JFrame {\r\n    \r\n    \tExample() {\r\n    \r\n    \t\tJEditorPane pane = new JEditorPane();\r\n    \t\tpane.setEditable(false);\r\n    \t\tpane.setContentType(&quot;text/html&quot;);\r\n    \t\tHTMLDocument doc = (HTMLDocument) pane.getDocument();\r\n    \t\tHTMLEditorKit editorKit = (HTMLEditorKit) pane.getEditorKit();\r\n    \r\n    \t\ttry {\r\n    \t\t\teditorKit.insertHTML(doc, doc.getLength(), &quot;&lt;a href=\\&quot;http://click.com\\&quot;&gt;clickable1&lt;/a&gt;&quot;, 0, 0, null);\r\n    \t\t\teditorKit.insertHTML(doc, doc.getLength(), &quot;&lt;a href=\\&quot;c2\\&quot;&gt;clickable2&lt;/a&gt;&quot;, 0, 0, null);\r\n    \t\t\teditorKit.insertHTML(doc, doc.getLength(), &quot;&lt;a href=\\&quot;c3\\&quot;&gt;clickable3&lt;/a&gt;&quot;, 0, 0, null);\r\n    \t\t} catch (BadLocationException | IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tpane.addHyperlinkListener(new HyperlinkListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void hyperlinkUpdate(HyperlinkEvent e) {\r\n    \r\n    \t\t\t\tif (e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {\r\n    \t\t\t\t\tSystem.out.println(e.getSourceElement());\r\n    \t\t\t\t\tif (e.getURL() != null)\r\n    \t\t\t\t\t\tSystem.out.println(e.getURL());\r\n    \t\t\t\t\telse\r\n    \t\t\t\t\t\tSystem.out.println(e.getDescription());\r\n    \t\t\t\t\tSystem.out.println(&quot;-----&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n\r\n    \t\tadd(pane);\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tpack();\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tnew Example();\r\n    \t}\r\n    }\r\n\r\n**Notes:**\r\n\r\n* `setEditable(false)` must be called for this to work properly (probably there is some convoluted way to make it work otherwise).\r\n* The `HyperlinkListener` is just to prove that the links work, along with some demonstration of how to get the link string (`getURL` will only work if the link is a valid URL).\r\n* You don&#39;t need to set the cursor, with or without the `HyperlinkListener`.","title":"How to insert clickable text into a JTextPane?","body":"<p>This inserts HTML without any alignment problems. I think (&quot;think&quot; because I don't have enough of your code to know) that you had issues because of <code>Document.insertString</code> while I use <code>HTMLEditorKit.insertHTML</code>.</p>\n<pre><code>public class Example extends JFrame {\n\n    Example() {\n\n        JEditorPane pane = new JEditorPane();\n        pane.setEditable(false);\n        pane.setContentType(&quot;text/html&quot;);\n        HTMLDocument doc = (HTMLDocument) pane.getDocument();\n        HTMLEditorKit editorKit = (HTMLEditorKit) pane.getEditorKit();\n\n        try {\n            editorKit.insertHTML(doc, doc.getLength(), &quot;&lt;a href=\\&quot;http://click.com\\&quot;&gt;clickable1&lt;/a&gt;&quot;, 0, 0, null);\n            editorKit.insertHTML(doc, doc.getLength(), &quot;&lt;a href=\\&quot;c2\\&quot;&gt;clickable2&lt;/a&gt;&quot;, 0, 0, null);\n            editorKit.insertHTML(doc, doc.getLength(), &quot;&lt;a href=\\&quot;c3\\&quot;&gt;clickable3&lt;/a&gt;&quot;, 0, 0, null);\n        } catch (BadLocationException | IOException e) {\n            e.printStackTrace();\n        }\n\n        pane.addHyperlinkListener(new HyperlinkListener() {\n            \n            @Override\n            public void hyperlinkUpdate(HyperlinkEvent e) {\n\n                if (e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {\n                    System.out.println(e.getSourceElement());\n                    if (e.getURL() != null)\n                        System.out.println(e.getURL());\n                    else\n                        System.out.println(e.getDescription());\n                    System.out.println(&quot;-----&quot;);\n                }\n            }\n        });\n\n        add(pane);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n\n        new Example();\n    }\n}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li><code>setEditable(false)</code> must be called for this to work properly (probably there is some convoluted way to make it work otherwise).</li>\n<li>The <code>HyperlinkListener</code> is just to prove that the links work, along with some demonstration of how to get the link string (<code>getURL</code> will only work if the link is a valid URL).</li>\n<li>You don't need to set the cursor, with or without the <code>HyperlinkListener</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3298387,"reputation":71,"user_id":2775076,"accept_rate":50,"display_name":"TacoB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1430802179,"creation_date":1430802179,"answer_id":30044625,"question_id":30041021,"body_markdown":"Turns out i put `setAlignmentY(0.85f); ` for the JTextPane instead of the JLable.\r\n\r\nIf you have an offset component you&#39;re attempting to insert into JTextPane, mess around with it&#39;s Y alignment. 0.85f works for me.","title":"How to insert clickable text into a JTextPane?","body":"<p>Turns out i put <code>setAlignmentY(0.85f);</code> for the JTextPane instead of the JLable.</p>\n\n<p>If you have an offset component you're attempting to insert into JTextPane, mess around with it's Y alignment. 0.85f works for me.</p>\n"}],"owner":{"account_id":3298387,"reputation":71,"user_id":2775076,"accept_rate":50,"display_name":"TacoB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30044625,"answer_count":2,"score":1,"last_activity_date":1643299501,"creation_date":1430778102,"question_id":30041021,"body_markdown":"I&#39;ve been making a chat program for a few days now and I&#39;m completely stumped on how to create a nice looking clickable text without the use of HTML. I tried to use HTML, but had extremely weird results (see below). So I am now just using \r\nbasic text rather then text/html. \r\n\r\n![clickable text with html][1]\r\n\r\nMy first attempt to add clickable text was to use `JTextPane`&#39;s ability to insert `Component`s along with the text. It inserted and worked perfectly, but it was vertically offset and looked very bad. I tried to mess with `setAlignmentY`, but had no luck aligning the components with the text.\r\n\r\n    \tJLabel l = new JLabel(test);\r\n\t\tl.setFont(this.getFont());\r\n\t\tl.setCursor(new Cursor(Cursor.HAND_CURSOR));\r\n\t\tl.setBackground(Color.RED); //Just so i could see it better for testing\r\n\t\tl.addMouseListener(new FakeMouseListener());\r\n\t\tthis.insertComponent(l);  \r\n\r\nI&#39;m using `JTextPane` and inserting text using `doc.insertString`. I skip lines using the systems line separator, so a single line can contain multiple `doc.insertString`s (Which is were I ran into trouble when attempting to use text/html).\r\n\r\n  [1]: http://i.stack.imgur.com/dpMBB.png","title":"How to insert clickable text into a JTextPane?","body":"<p>I've been making a chat program for a few days now and I'm completely stumped on how to create a nice looking clickable text without the use of HTML. I tried to use HTML, but had extremely weird results (see below). So I am now just using \nbasic text rather then text/html. </p>\n\n<p><img src=\"https://i.stack.imgur.com/dpMBB.png\" alt=\"clickable text with html\"></p>\n\n<p>My first attempt to add clickable text was to use <code>JTextPane</code>'s ability to insert <code>Component</code>s along with the text. It inserted and worked perfectly, but it was vertically offset and looked very bad. I tried to mess with <code>setAlignmentY</code>, but had no luck aligning the components with the text.</p>\n\n<pre><code>    JLabel l = new JLabel(test);\n    l.setFont(this.getFont());\n    l.setCursor(new Cursor(Cursor.HAND_CURSOR));\n    l.setBackground(Color.RED); //Just so i could see it better for testing\n    l.addMouseListener(new FakeMouseListener());\n    this.insertComponent(l);  \n</code></pre>\n\n<p>I'm using <code>JTextPane</code> and inserting text using <code>doc.insertString</code>. I skip lines using the systems line separator, so a single line can contain multiple <code>doc.insertString</code>s (Which is were I ran into trouble when attempting to use text/html).</p>\n"},{"tags":["java","spring","dependency-injection","constructor"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1643299750,"post_id":70881811,"comment_id":125308037,"body_markdown":"You can&#39;t. Rethink your design. Please share your higher level goal.","body":"You can&#39;t. Rethink your design. Please share your higher level goal."},{"owner":{"account_id":20353400,"reputation":124,"user_id":14929537,"display_name":"fabio19933"},"score":0,"creation_date":1643300189,"post_id":70881811,"comment_id":125308231,"body_markdown":"Try to check if this topic can help you https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot?page=1&amp;tab=active#tab-top","body":"Try to check if this topic can help you <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot?page=1&amp;tab=active#tab-top\" title=\"how to access a value defined in the application properties file in spring boot\">stackoverflow.com/questions/30528255/&hellip;</a>"},{"owner":{"account_id":1108189,"reputation":3327,"user_id":1099142,"accept_rate":87,"display_name":"java_doctor_101"},"score":0,"creation_date":1643307223,"post_id":70881811,"comment_id":125311296,"body_markdown":"fabio19933 thx but I have tried all the approaches mentioned in that thread.. the issue is that constructor is called before value annotation is processed and the only way to reverse the order is by passing value in constructor param which is not possible for me\n\n\nSotirios.. are you sure there is no way? My design limit me because of the third party library we are using which only accept an instance with no arg constructor.. the library uses following reflective call which will only work with a no arg constructor of my Cat object\n\nCat.getClass().getConstructor().newInstance();","body":"fabio19933 thx but I have tried all the approaches mentioned in that thread.. the issue is that constructor is called before value annotation is processed and the only way to reverse the order is by passing value in constructor param which is not possible for me   Sotirios.. are you sure there is no way? My design limit me because of the third party library we are using which only accept an instance with no arg constructor.. the library uses following reflective call which will only work with a no arg constructor of my Cat object  Cat.getClass().getConstructor().newInstance();"}],"owner":{"account_id":1108189,"reputation":3327,"user_id":1099142,"accept_rate":87,"display_name":"java_doctor_101"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643299457,"creation_date":1643299457,"question_id":70881811,"body_markdown":"I have class like this\r\n\r\n\r\n```\r\npublic class Cat extends Animal{\r\n\r\n   public Cat() {\r\n     super(configValue)\r\n   }\r\n}\r\n```\r\n\r\nI need to pass `configValue` from application.yaml but I can&#39;t add the `@Value({config.value})` annotation to the `Cat` constructor because there is a code which I can&#39;t control which calls no arg constructor of the `Cat` and does `new Cat()`\r\n\r\nHow can I pass `configValue` to the `Animal`","title":"How to pass value from spring properties without constructor argument","body":"<p>I have class like this</p>\n<pre><code>public class Cat extends Animal{\n\n   public Cat() {\n     super(configValue)\n   }\n}\n</code></pre>\n<p>I need to pass <code>configValue</code> from application.yaml but I can't add the <code>@Value({config.value})</code> annotation to the <code>Cat</code> constructor because there is a code which I can't control which calls no arg constructor of the <code>Cat</code> and does <code>new Cat()</code></p>\n<p>How can I pass <code>configValue</code> to the <code>Animal</code></p>\n"},{"tags":["java","spring","rest","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1643312728,"post_id":70881368,"comment_id":125313232,"body_markdown":"what you are missing is quite obvious, the PUT method is applied to a REST api, not a database api. The Crud repository handles CRUD operations, Create, Read, Update, Delete... there is no P in CRUD, otherwise it yould be named CRUPD","body":"what you are missing is quite obvious, the PUT method is applied to a REST api, not a database api. The Crud repository handles CRUD operations, Create, Read, Update, Delete... there is no P in CRUD, otherwise it yould be named CRUPD"},{"owner":{"account_id":1118781,"reputation":1746,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"score":0,"creation_date":1643387612,"post_id":70881368,"comment_id":125334396,"body_markdown":"If it&#39;s so easy, can you give a code example?  I fail to see how to use spring reactive crud repository behind a spring REST API to support PUT.","body":"If it&#39;s so easy, can you give a code example?  I fail to see how to use spring reactive crud repository behind a spring REST API to support PUT."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1643387790,"post_id":70881368,"comment_id":125334460,"body_markdown":"please read my comment, and tell me where i said the implementation was easy? i wrote, that CRUD does not include PUT, as the name states CRUD is create read update delete.... no PUT... if you want put, you need to implement it by accepting a PUT request in your REST api, then write the buisness logic as you want it, and then use the CRUD repository to update your data.","body":"please read my comment, and tell me where i said the implementation was easy? i wrote, that CRUD does not include PUT, as the name states CRUD is create read update delete.... no PUT... if you want put, you need to implement it by accepting a PUT request in your REST api, then write the buisness logic as you want it, and then use the CRUD repository to update your data."},{"owner":{"account_id":1118781,"reputation":1746,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"score":0,"creation_date":1643388357,"post_id":70881368,"comment_id":125334701,"body_markdown":"My point is that using the ReactiveCrudRepository for persistence, it&#39;s impossible to write such business logic.  The service layer receives an Apple object with a primary key set.  The only way to write that to the DB is to call save().  But if the DB entry doesn&#39;t already exist, you get an exception.  So how can you write the Apple to the DB in such a scenario, while maintaining the primary key as sent by the client?","body":"My point is that using the ReactiveCrudRepository for persistence, it&#39;s impossible to write such business logic.  The service layer receives an Apple object with a primary key set.  The only way to write that to the DB is to call save().  But if the DB entry doesn&#39;t already exist, you get an exception.  So how can you write the Apple to the DB in such a scenario, while maintaining the primary key as sent by the client?"}],"owner":{"account_id":1118781,"reputation":1746,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643299245,"creation_date":1643297861,"question_id":70881368,"body_markdown":"I&#39;m using Spring to build a simple Web app.  At the front end I have a REST api, which has a PUT method like this: `/api/v1/apple/{id}`\r\n\r\nWhen the call comes in to this endpoint, the body is deserialised to an `Apple`.\r\n\r\nIn the [spec][1] for PUT it says: *&quot;The PUT method requests that the enclosed entity be stored under the supplied Request-URI. If the Request-URI refers to an already existing resource, the enclosed entity SHOULD be considered as a modified version of the one residing on the origin server. If the Request-URI does not point to an existing resource, and that URI is capable of being defined as a new resource by the requesting user agent, the origin server can create the resource with that URI.&quot;*\r\n\r\nSo if apple 21 exists in the DB (and is therefore reachable at `/api/v1/apple/21`), it should be replaced with the one in the request.\r\nBut if it doesn&#39;t, a new one should be created, as per the apple in the request, with primary key 21 and URI `/api/v1/apple/21`.\r\n\r\nThe problem is that the `ReactiveCrudRepository` seems not to support this.\r\n\r\nAccording to the [release notes][2], since spring-data r2dbc 1.0.0, if you call `save()` and the row doesn&#39;t exist in the database, it throws a `TransientDataAccessException`.  I see the following:\r\n\r\n    Failed to updated table [apples].  Row with Id [21] does not exist.    \r\n    org.springframework.dao.TransientDataAccessResourceException: Failed to updated table [apples].  Row with Id [21] does not exist.\r\n      at app//org.springframework.data.r2dbc.core.R2dbcEntityTemplate.lambda$doUpdate$14(R2dbcEntityTemplate.java:707)\r\n    .....\r\n\r\n\r\n So if I supply an ID for my new Apple, I can&#39;t create it - at least not using `ReactiveCrudRepository`.  If I remove the ID from the POJO first, it will create it, but with an assigned ID - in other words calling `PUT /api/v1/apple/21` will result in creation of an apple, but with some other id (not 21).\r\n\r\nWhat am I missing here?  There appear to be no alternatives to the save() method which behave the way I need.\r\n\r\n\r\n  [1]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6\r\n  [2]: https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#new-features.1-0-0\r\n  [3]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/reactive/ReactiveCrudRepository.html#save-S-","title":"Spring ReactiveCrudRepository doesn&#39;t support PUT? TransientDataAccessException","body":"<p>I'm using Spring to build a simple Web app.  At the front end I have a REST api, which has a PUT method like this: <code>/api/v1/apple/{id}</code></p>\n<p>When the call comes in to this endpoint, the body is deserialised to an <code>Apple</code>.</p>\n<p>In the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6\" rel=\"nofollow noreferrer\">spec</a> for PUT it says: <em>&quot;The PUT method requests that the enclosed entity be stored under the supplied Request-URI. If the Request-URI refers to an already existing resource, the enclosed entity SHOULD be considered as a modified version of the one residing on the origin server. If the Request-URI does not point to an existing resource, and that URI is capable of being defined as a new resource by the requesting user agent, the origin server can create the resource with that URI.&quot;</em></p>\n<p>So if apple 21 exists in the DB (and is therefore reachable at <code>/api/v1/apple/21</code>), it should be replaced with the one in the request.\nBut if it doesn't, a new one should be created, as per the apple in the request, with primary key 21 and URI <code>/api/v1/apple/21</code>.</p>\n<p>The problem is that the <code>ReactiveCrudRepository</code> seems not to support this.</p>\n<p>According to the <a href=\"https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#new-features.1-0-0\" rel=\"nofollow noreferrer\">release notes</a>, since spring-data r2dbc 1.0.0, if you call <code>save()</code> and the row doesn't exist in the database, it throws a <code>TransientDataAccessException</code>.  I see the following:</p>\n<pre><code>Failed to updated table [apples].  Row with Id [21] does not exist.    \norg.springframework.dao.TransientDataAccessResourceException: Failed to updated table [apples].  Row with Id [21] does not exist.\n  at app//org.springframework.data.r2dbc.core.R2dbcEntityTemplate.lambda$doUpdate$14(R2dbcEntityTemplate.java:707)\n.....\n</code></pre>\n<p>So if I supply an ID for my new Apple, I can't create it - at least not using <code>ReactiveCrudRepository</code>.  If I remove the ID from the POJO first, it will create it, but with an assigned ID - in other words calling <code>PUT /api/v1/apple/21</code> will result in creation of an apple, but with some other id (not 21).</p>\n<p>What am I missing here?  There appear to be no alternatives to the save() method which behave the way I need.</p>\n"},{"tags":["java","stack","push"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1643300290,"post_id":70881652,"comment_id":125308276,"body_markdown":"You need to post your solution.","body":"You need to post your solution."},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1643304330,"post_id":70881652,"comment_id":125310075,"body_markdown":"In your `removeFirstNode` you&#39;re returning the second item.  You need to `return deletedData` which is the first item, then your `head.next()` becomes `head` (which you&#39;re doing).  As for your main question, you need to do a `popped = list.removeFistNode()` and then use it there.","body":"In your <code>removeFirstNode</code> you&#39;re returning the second item.  You need to <code>return deletedData</code> which is the first item, then your <code>head.next()</code> becomes <code>head</code> (which you&#39;re doing).  As for your main question, you need to do a <code>popped = list.removeFistNode()</code> and then use it there."},{"owner":{"account_id":24073849,"reputation":13,"user_id":18049469,"display_name":"crimp crimp"},"score":0,"creation_date":1643306744,"post_id":70881652,"comment_id":125311118,"body_markdown":"its returning ListNode@5b480cf9. etc. how do i see the ints stored in the list?","body":"its returning ListNode@5b480cf9. etc. how do i see the ints stored in the list?"}],"owner":{"account_id":24073849,"reputation":13,"user_id":18049469,"display_name":"crimp crimp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643298878,"creation_date":1643298878,"question_id":70881652,"body_markdown":"I&#39;m trying to pop and push numbers to a stack using linked lists, i&#39;ve managed to remove the number from the beginning of the stack in the code i shared but how/where the removed node is stored for later use(for a calculator)\r\n\r\nI tried to declare a variable called deletedData before the if statement but then my IDE tells me this variable is already defined in the scope.\r\nAny insight to where i am mistaken here would be greatly appreciated. I am new to java and looking to learn :)\r\n\r\n    public class List\r\n    {\r\n        private ListNode head = null;\r\n    \r\n        /**\r\n         * Constructor for objects of class List\r\n         * Create a head\r\n         */\r\n        public List()\r\n        {\r\n        }\r\n    \r\n    \r\n        public void addToList(int number)\r\n        {\r\n            ListNode  newOne;\r\n    \r\n            newOne = new ListNode(number);\r\n            newOne.setNext(head);\r\n    \r\n            head = newOne;\r\n        }\r\n    \r\n        public ListNode removeFirstNode()\r\n        {\r\n            if (head == null)\r\n            {\r\n                System.out.println(&quot;The list is empty.&quot;);\r\n            } else {\r\n                // Move the head pointer to the next node\r\n                ListNode deletedData = head;\r\n                head = head.getNext();\r\n    \r\n            }\r\n            return head;\r\n\r\n    public class ListNode\r\n    {\r\n        // instance variables\r\n        private int number;\r\n        private ListNode next;\r\n    \r\n    \r\n        public ListNode(int number)\r\n        {\r\n            // initialise instance variables\r\n            this.number = number;\r\n            this.next = null;\r\n        }\r\n    \r\n    \r\n        public ListNode getNext()\r\n        {\r\n            return next;\r\n        }\r\n    \r\n    \r\n    \r\n        public int getNumber()\r\n        {\r\n            return number;\r\n        }\r\n    \r\n    \r\n    \r\n        public void setNext(ListNode next)\r\n        {\r\n            this.next = next;\r\n        }\r\n\r\n\r\n","title":"Pop from stack using linked list method","body":"<p>I'm trying to pop and push numbers to a stack using linked lists, i've managed to remove the number from the beginning of the stack in the code i shared but how/where the removed node is stored for later use(for a calculator)</p>\n<p>I tried to declare a variable called deletedData before the if statement but then my IDE tells me this variable is already defined in the scope.\nAny insight to where i am mistaken here would be greatly appreciated. I am new to java and looking to learn :)</p>\n<pre><code>public class List\n{\n    private ListNode head = null;\n\n    /**\n     * Constructor for objects of class List\n     * Create a head\n     */\n    public List()\n    {\n    }\n\n\n    public void addToList(int number)\n    {\n        ListNode  newOne;\n\n        newOne = new ListNode(number);\n        newOne.setNext(head);\n\n        head = newOne;\n    }\n\n    public ListNode removeFirstNode()\n    {\n        if (head == null)\n        {\n            System.out.println(&quot;The list is empty.&quot;);\n        } else {\n            // Move the head pointer to the next node\n            ListNode deletedData = head;\n            head = head.getNext();\n\n        }\n        return head;\n\npublic class ListNode\n{\n    // instance variables\n    private int number;\n    private ListNode next;\n\n\n    public ListNode(int number)\n    {\n        // initialise instance variables\n        this.number = number;\n        this.next = null;\n    }\n\n\n    public ListNode getNext()\n    {\n        return next;\n    }\n\n\n\n    public int getNumber()\n    {\n        return number;\n    }\n\n\n\n    public void setNext(ListNode next)\n    {\n        this.next = next;\n    }\n</code></pre>\n"},{"tags":["java","google-bigquery"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1632142829,"post_id":69254709,"comment_id":122406064,"body_markdown":"hmm are you sure you are passing &#39; &#39; string literal? :)","body":"hmm are you sure you are passing &#39; &#39; string literal? :)"},{"owner":{"account_id":3403346,"reputation":2057,"user_id":2855036,"accept_rate":70,"display_name":"Nacho"},"score":0,"creation_date":1632144161,"post_id":69254709,"comment_id":122406614,"body_markdown":"updated my question. I tried adding single quotes to the date already, same response","body":"updated my question. I tried adding single quotes to the date already, same response"},{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1632842619,"post_id":69254709,"comment_id":122600504,"body_markdown":"I have replicated your scenario and I have the same issue when writing DATETIME values using the BigQuery Storage Write API. The same has been raised in this [issue tracker](https://issuetracker.google.com/201397012). However, we cannot provide an ETA at the moment but you can “STAR” the issue to receive automatic updates on the progress and give it traction by referring to this [link](https://developers.google.com/issue-tracker/guides/subscribe#starring_an_issue).","body":"I have replicated your scenario and I have the same issue when writing DATETIME values using the BigQuery Storage Write API. The same has been raised in this <a href=\"https://issuetracker.google.com/201397012\" rel=\"nofollow noreferrer\">issue tracker</a>. However, we cannot provide an ETA at the moment but you can “STAR” the issue to receive automatic updates on the progress and give it traction by referring to this <a href=\"https://developers.google.com/issue-tracker/guides/subscribe#starring_an_issue\" rel=\"nofollow noreferrer\">link</a>."},{"owner":{"account_id":15285793,"reputation":1958,"user_id":11028850,"display_name":"Sakshi Gatyan"},"score":2,"creation_date":1634046044,"post_id":69254709,"comment_id":122917145,"body_markdown":"Hi @Nacho, the latest version of java-bigquerystorage (v2.3.3) now supports `int64` encoding of  DATETIME input values. Use the dependency as shown [here](https://cloud.google.com/bigquery/docs/reference/storage/libraries#client-libraries-install-java).","body":"Hi @Nacho, the latest version of java-bigquerystorage (v2.3.3) now supports <code>int64</code> encoding of  DATETIME input values. Use the dependency as shown <a href=\"https://cloud.google.com/bigquery/docs/reference/storage/libraries#client-libraries-install-java\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":18029859,"reputation":122,"user_id":13104794,"display_name":"Stephanie Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643298564,"creation_date":1643298256,"answer_id":70881482,"question_id":69254709,"body_markdown":"There was a similar Github issue: https://github.com/googleapis/java-bigquerystorage/issues/1330\r\n\r\nIt&#39;s been fixed in [v2.3.3][1] onwards. So updating the Java client library version should resolve this issue.\r\n\r\n\r\n  [1]: https://github.com/googleapis/java-bigquerystorage/releases/tag/v2.3.3","title":"BigQuery storage write API Datetime","body":"<p>There was a similar Github issue: <a href=\"https://github.com/googleapis/java-bigquerystorage/issues/1330\" rel=\"nofollow noreferrer\">https://github.com/googleapis/java-bigquerystorage/issues/1330</a></p>\n<p>It's been fixed in <a href=\"https://github.com/googleapis/java-bigquerystorage/releases/tag/v2.3.3\" rel=\"nofollow noreferrer\">v2.3.3</a> onwards. So updating the Java client library version should resolve this issue.</p>\n"}],"owner":{"account_id":3403346,"reputation":2057,"user_id":2855036,"accept_rate":70,"display_name":"Nacho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643298564,"creation_date":1632142140,"question_id":69254709,"body_markdown":"I&#39;m trying to send datetime to bigquery with storage write API.\r\n\r\nMy BQ model has a datetime column. \r\nI parse my java model with Jackson to json, resolving to this (try both ways with escaped literal):\r\n\r\n    {&quot;last_updated&quot;:&quot;2021-09-20T10:15:26.796731&quot;}\r\n    \r\n    {&quot;last_updated&quot;:&quot;&#39;2021-09-20T10:15:26.796731&#39;&quot;}\r\n\r\nAnd bigquery returns this error.\r\n\r\n    JSONObject does not have a int64 field at root.last_updated.\r\n\r\nAs I read in the documentation, it should support string literals as datetime: https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical#datetime_literals\r\n","title":"BigQuery storage write API Datetime","body":"<p>I'm trying to send datetime to bigquery with storage write API.</p>\n<p>My BQ model has a datetime column.\nI parse my java model with Jackson to json, resolving to this (try both ways with escaped literal):</p>\n<pre><code>{&quot;last_updated&quot;:&quot;2021-09-20T10:15:26.796731&quot;}\n\n{&quot;last_updated&quot;:&quot;'2021-09-20T10:15:26.796731'&quot;}\n</code></pre>\n<p>And bigquery returns this error.</p>\n<pre><code>JSONObject does not have a int64 field at root.last_updated.\n</code></pre>\n<p>As I read in the documentation, it should support string literals as datetime: <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical#datetime_literals\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical#datetime_literals</a></p>\n"},{"tags":["java","image","crop"],"comments":[{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":1,"creation_date":1643296182,"post_id":70880877,"comment_id":125306420,"body_markdown":"Welcome to Stack Overflow, please take the [tour], read [ask] and provide an [mre] of what you&#39;ve tried so far to solve your problem. We&#39;re volunteers and will help you with specific questions, we&#39;re not a &quot;code factory&quot; that will solve your problems if you don&#39;t try them first","body":"Welcome to Stack Overflow, please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of what you&#39;ve tried so far to solve your problem. We&#39;re volunteers and will help you with specific questions, we&#39;re not a &quot;code factory&quot; that will solve your problems if you don&#39;t try them first"},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1643296491,"post_id":70880877,"comment_id":125306575,"body_markdown":"The code provided isn&#39;t a proper [mre], it lacks `public class` and `main` method, we don&#39;t even know what your variable values are","body":"The code provided isn&#39;t a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, it lacks <code>public class</code> and <code>main</code> method, we don&#39;t even know what your variable values are"}],"answers":[{"tags":[],"owner":{"account_id":1147588,"reputation":148,"user_id":1130009,"display_name":"Mikhail Yevchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643298534,"creation_date":1643298534,"answer_id":70881557,"question_id":70880877,"body_markdown":"You can use [getRGB][1] and [setRGB][2] to copy image area to the new image.\r\n\r\n```java\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class ImageUtil {\r\n    \r\n    public static BufferedImage crop(BufferedImage image, int top, int right, int bottom, int left) {\r\n        int newWidth = image.getWidth() - left - right;\r\n        int newHeight = image.getHeight() - top - bottom;\r\n        \r\n        int[] rgb = image.getRGB(left, top, newWidth, newHeight, null, 0, newWidth);\r\n        \r\n        BufferedImage newImage = new BufferedImage(newHeight, newHeight, BufferedImage.TYPE_INT_ARGB);\r\n        \r\n        newImage.setRGB(0, 0, newWidth, newHeight, rgb, 0, newWidth);\r\n        \r\n        return newImage;\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getRGB(int,%20int,%20int,%20int,%20int[],%20int,%20int)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#setRGB(int,%20int,%20int,%20int,%20int[],%20int,%20int)","title":"Crop youtube type image in Java","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getRGB(int,%20int,%20int,%20int,%20int%5B%5D,%20int,%20int)\" rel=\"nofollow noreferrer\">getRGB</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#setRGB(int,%20int,%20int,%20int,%20int%5B%5D,%20int,%20int)\" rel=\"nofollow noreferrer\">setRGB</a> to copy image area to the new image.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.image.BufferedImage;\n\npublic class ImageUtil {\n    \n    public static BufferedImage crop(BufferedImage image, int top, int right, int bottom, int left) {\n        int newWidth = image.getWidth() - left - right;\n        int newHeight = image.getHeight() - top - bottom;\n        \n        int[] rgb = image.getRGB(left, top, newWidth, newHeight, null, 0, newWidth);\n        \n        BufferedImage newImage = new BufferedImage(newHeight, newHeight, BufferedImage.TYPE_INT_ARGB);\n        \n        newImage.setRGB(0, 0, newWidth, newHeight, rgb, 0, newWidth);\n        \n        return newImage;\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":24073380,"reputation":1,"user_id":18049044,"display_name":"NewProgrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643298534,"creation_date":1643295969,"question_id":70880877,"body_markdown":"I have a difficulty cropping the image in Java. I have image that has black lines up and down. The image looks like this :\r\n[Image][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y6d6x.jpg\r\n\r\nI want to remove the black frame from the image and the width to remain the same. Please send me some solution to my problem. I tried something like this, but it crops only the bottom of the image.\r\n\r\n     BufferedImage originalImg = ImageIO.read(\r\n                        new File(imageLocation));\r\n    \r\n                // Fetching and printing alongside the\r\n                // dimensions of original image using getWidth()\r\n                // and getHeight() methods\r\n                System.out.println(&quot;Original Image Dimension: &quot;\r\n                        + originalImg.getWidth()\r\n                        + &quot;x&quot;\r\n                        + originalImg.getHeight());\r\n    \r\n                // Creating a subimage of given dimensions\r\n                BufferedImage SubImg\r\n                        = originalImg.getSubimage(0,0,originalImg.getWidth(), 217);\r\n    \r\n    \r\n                // Printing Dimensions of new image created\r\n                System.out.println(&quot;Cropped Image Dimension: &quot;\r\n                        + SubImg.getWidth() + &quot;x&quot;\r\n                        + SubImg.getHeight());\r\n    \r\n                // Creating new file for cropped image by\r\n                // creating an object of File class\r\n                File outputfile\r\n                        = new File(defaultPath+&quot;crop_Image.jpg&quot;);\r\n    \r\n    //            // Writing image in new file created\r\n                ImageIO.write(SubImg, &quot;jpg&quot;, outputfile);\r\n    \r\n                // Display message on console representing\r\n    //            // proper execution of program\r\n                System.out.println(\r\n                        &quot;Cropped Image created successfully&quot;);\r\n            }\r\n\r\n","title":"Crop youtube type image in Java","body":"<p>I have a difficulty cropping the image in Java. I have image that has black lines up and down. The image looks like this :\n<a href=\"https://i.stack.imgur.com/y6d6x.jpg\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>I want to remove the black frame from the image and the width to remain the same. Please send me some solution to my problem. I tried something like this, but it crops only the bottom of the image.</p>\n<pre><code> BufferedImage originalImg = ImageIO.read(\n                    new File(imageLocation));\n\n            // Fetching and printing alongside the\n            // dimensions of original image using getWidth()\n            // and getHeight() methods\n            System.out.println(&quot;Original Image Dimension: &quot;\n                    + originalImg.getWidth()\n                    + &quot;x&quot;\n                    + originalImg.getHeight());\n\n            // Creating a subimage of given dimensions\n            BufferedImage SubImg\n                    = originalImg.getSubimage(0,0,originalImg.getWidth(), 217);\n\n\n            // Printing Dimensions of new image created\n            System.out.println(&quot;Cropped Image Dimension: &quot;\n                    + SubImg.getWidth() + &quot;x&quot;\n                    + SubImg.getHeight());\n\n            // Creating new file for cropped image by\n            // creating an object of File class\n            File outputfile\n                    = new File(defaultPath+&quot;crop_Image.jpg&quot;);\n\n//            // Writing image in new file created\n            ImageIO.write(SubImg, &quot;jpg&quot;, outputfile);\n\n            // Display message on console representing\n//            // proper execution of program\n            System.out.println(\n                    &quot;Cropped Image created successfully&quot;);\n        }\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-bigquery"],"comments":[{"owner":{"account_id":20093737,"reputation":6918,"user_id":14733669,"display_name":"Ricco D"},"score":0,"creation_date":1639970956,"post_id":68627128,"comment_id":124475982,"body_markdown":"Were you able to solve this problem? Can you provide more details on how to reproduce the error you encountered? Can you share the code and sample input tables to reproduce it?","body":"Were you able to solve this problem? Can you provide more details on how to reproduce the error you encountered? Can you share the code and sample input tables to reproduce it?"}],"answers":[{"tags":[],"owner":{"account_id":18029859,"reputation":122,"user_id":13104794,"display_name":"Stephanie Wang"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1643298491,"creation_date":1643213592,"answer_id":70866614,"question_id":68627128,"body_markdown":"Updating the Java client library version should solve this problem since reconnect support was added for the JsonStreamwriter. Instead of throwing this error, it should handle retries.","title":"java bigquery storage write api","body":"<p>Updating the Java client library version should solve this problem since reconnect support was added for the JsonStreamwriter. Instead of throwing this error, it should handle retries.</p>\n"}],"owner":{"account_id":55748,"reputation":5870,"user_id":167016,"accept_rate":78,"display_name":"vpram86"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1810,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70866614,"answer_count":1,"score":0,"last_activity_date":1643298491,"creation_date":1627933149,"question_id":68627128,"body_markdown":"Using the java bigquery storage api as documented here https://cloud.google.com/bigquery/docs/write-api.\r\nKeeping the write stream long lived and refreshing it when one of the non-retry-able errors happened as per this https://cloud.google.com/bigquery/docs/write-api#error_handling\r\n\r\nI am sticking with default stream. I have two tables and different parts of code responsible for writing to each table, maintaining its own stream writer.\r\n\r\nIf data is flowing, everything is fine. No errors. However I want to test refreshing the stream writers work too so I wait for default stream timeout (10mins) which closes the stream and try writing again. I can create the stream fine, no error there, but for one of the table I keep getting cancelled error wrapped in a Pre condition failed making my code refresh again and again.\r\n\r\nOriginal error because stream closed due to inactivity\r\n```\r\n! io.grpc.StatusRuntimeException: FAILED_PRECONDITION: Stream is closed due to com.google.api.gax.rpc.AbortedException: io.grpc.StatusRuntimeException: ABORTED: Closing the stream because it has been inactive for 600 seconds. Entity: projects/&lt;id&gt;/datasets/&lt;id&gt;/tables/&lt;id&gt;/_default\r\n! at com.google.cloud.bigquery.storage.v1beta2.StreamWriterV2.appendInternal(StreamWriterV2.java:263)\r\n! at com.google.cloud.bigquery.storage.v1beta2.StreamWriterV2.append(StreamWriterV2.java:234)\r\n! at com.google.cloud.bigquery.storage.v1beta2.JsonStreamWriter.append(JsonStreamWriter.java:114)\r\n! at com.google.cloud.bigquery.storage.v1beta2.JsonStreamWriter.append(JsonStreamWriter.java:89)\r\n\r\n```\r\n\r\nFurther repeating errors on new stream(s)\r\n```\r\n! io.grpc.StatusRuntimeException: FAILED_PRECONDITION: Stream is closed due to com.google.api.gax.rpc.CancelledException: io.grpc.StatusRuntimeException: CANCELLED: io.grpc.Context was cancelled without error\r\n! at com.google.cloud.bigquery.storage.v1beta2.StreamWriterV2.appendInternal(StreamWriterV2.java:263)\r\n! at com.google.cloud.bigquery.storage.v1beta2.StreamWriterV2.append(StreamWriterV2.java:234)\r\n! at com.google.cloud.bigquery.storage.v1beta2.JsonStreamWriter.append(JsonStreamWriter.java:114)\r\n! at com.google.cloud.bigquery.storage.v1beta2.JsonStreamWriter.append(JsonStreamWriter.java:89)\r\n```\r\n\r\nI am not sure why its being cancelled without error. Any pointers on how I can debug this or recommendation on how to maintain and refresh a long-lived streaming writer?\r\n\r\n","title":"java bigquery storage write api","body":"<p>Using the java bigquery storage api as documented here <a href=\"https://cloud.google.com/bigquery/docs/write-api\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/write-api</a>.\nKeeping the write stream long lived and refreshing it when one of the non-retry-able errors happened as per this <a href=\"https://cloud.google.com/bigquery/docs/write-api#error_handling\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/write-api#error_handling</a></p>\n<p>I am sticking with default stream. I have two tables and different parts of code responsible for writing to each table, maintaining its own stream writer.</p>\n<p>If data is flowing, everything is fine. No errors. However I want to test refreshing the stream writers work too so I wait for default stream timeout (10mins) which closes the stream and try writing again. I can create the stream fine, no error there, but for one of the table I keep getting cancelled error wrapped in a Pre condition failed making my code refresh again and again.</p>\n<p>Original error because stream closed due to inactivity</p>\n<pre><code>! io.grpc.StatusRuntimeException: FAILED_PRECONDITION: Stream is closed due to com.google.api.gax.rpc.AbortedException: io.grpc.StatusRuntimeException: ABORTED: Closing the stream because it has been inactive for 600 seconds. Entity: projects/&lt;id&gt;/datasets/&lt;id&gt;/tables/&lt;id&gt;/_default\n! at com.google.cloud.bigquery.storage.v1beta2.StreamWriterV2.appendInternal(StreamWriterV2.java:263)\n! at com.google.cloud.bigquery.storage.v1beta2.StreamWriterV2.append(StreamWriterV2.java:234)\n! at com.google.cloud.bigquery.storage.v1beta2.JsonStreamWriter.append(JsonStreamWriter.java:114)\n! at com.google.cloud.bigquery.storage.v1beta2.JsonStreamWriter.append(JsonStreamWriter.java:89)\n\n</code></pre>\n<p>Further repeating errors on new stream(s)</p>\n<pre><code>! io.grpc.StatusRuntimeException: FAILED_PRECONDITION: Stream is closed due to com.google.api.gax.rpc.CancelledException: io.grpc.StatusRuntimeException: CANCELLED: io.grpc.Context was cancelled without error\n! at com.google.cloud.bigquery.storage.v1beta2.StreamWriterV2.appendInternal(StreamWriterV2.java:263)\n! at com.google.cloud.bigquery.storage.v1beta2.StreamWriterV2.append(StreamWriterV2.java:234)\n! at com.google.cloud.bigquery.storage.v1beta2.JsonStreamWriter.append(JsonStreamWriter.java:114)\n! at com.google.cloud.bigquery.storage.v1beta2.JsonStreamWriter.append(JsonStreamWriter.java:89)\n</code></pre>\n<p>I am not sure why its being cancelled without error. Any pointers on how I can debug this or recommendation on how to maintain and refresh a long-lived streaming writer?</p>\n"},{"tags":["java","jpa","enums"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1643304746,"post_id":70881028,"comment_id":125310254,"body_markdown":"You don&#39;t post the complete Exception. Anyway, maybe it is this https://stackoverflow.com/questions/59544982/invaliddataaccessapiusageexception-no-enum-constant","body":"You don&#39;t post the complete Exception. Anyway, maybe it is this <a href=\"https://stackoverflow.com/questions/59544982/invaliddataaccessapiusageexception-no-enum-constant\" title=\"invaliddataaccessapiusageexception no enum constant\">stackoverflow.com/questions/59544982/&hellip;</a>"},{"owner":{"display_name":"user13534054"},"score":0,"creation_date":1643309665,"post_id":70881028,"comment_id":125312163,"body_markdown":"Yes.. It was that.. I was setting dummy values in another table and messed up.","body":"Yes.. It was that.. I was setting dummy values in another table and messed up."}],"answers":[{"tags":[],"owner":{"account_id":14399380,"reputation":245,"user_id":10401602,"display_name":"Md. Samim hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643298268,"creation_date":1643298268,"answer_id":70881484,"question_id":70881028,"body_markdown":"You should write the enum class like this:\r\n\r\n    public enum ClassificationEnum {\r\n      Type1,\r\n      Type2,\r\n      Type3\r\n    }","title":"how to get ENUM variable with JPA","body":"<p>You should write the enum class like this:</p>\n<pre><code>public enum ClassificationEnum {\n  Type1,\n  Type2,\n  Type3\n}\n</code></pre>\n"}],"owner":{"display_name":"user13534054"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643298268,"creation_date":1643296531,"question_id":70881028,"body_markdown":"I have a model with an ENUM field defined as:\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;CLASSIFICATION&quot;, length = 25)\r\n    private ClassificationEnum classification;\r\n\r\nClassificationEnum is defined as:\r\n\r\n    public enum ClassificationEnum {\r\n      Type1,\r\n      Type2,\r\n      Type3;\r\n    }\r\n\r\nOn repository class, when I try to get the model with Type2 classification, \r\nI got the following error: \r\n\r\nNo enum constant [...].ClassificationEnum.2\r\n\r\nThe 2 is also the id of the class that \r\ncontains my enum (maybe it&#39;s not related), but I don&#39;t know why JPA is trying \r\nto access my enum that way.\r\n","title":"how to get ENUM variable with JPA","body":"<p>I have a model with an ENUM field defined as:</p>\n<pre><code>@Enumerated(EnumType.STRING)\n@Column(name = &quot;CLASSIFICATION&quot;, length = 25)\nprivate ClassificationEnum classification;\n</code></pre>\n<p>ClassificationEnum is defined as:</p>\n<pre><code>public enum ClassificationEnum {\n  Type1,\n  Type2,\n  Type3;\n}\n</code></pre>\n<p>On repository class, when I try to get the model with Type2 classification,\nI got the following error:</p>\n<p>No enum constant [...].ClassificationEnum.2</p>\n<p>The 2 is also the id of the class that\ncontains my enum (maybe it's not related), but I don't know why JPA is trying\nto access my enum that way.</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1643244797,"post_id":70872026,"comment_id":125291257,"body_markdown":"`System.out.print(isDouble(new int[]{2 ,3, 4, 5, 6, 7}, 5));` &lt;- the last parameter here should be `0` and `return isDouble(array, i);` should be `return isDouble(array, i + 1);`","body":"<code>System.out.print(isDouble(new int[]{2 ,3, 4, 5, 6, 7}, 5));</code> &lt;- the last parameter here should be <code>0</code> and <code>return isDouble(array, i);</code> should be <code>return isDouble(array, i + 1);</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1643246503,"post_id":70872026,"comment_id":125291546,"body_markdown":"Why does it need to be recursive?","body":"Why does it need to be recursive?"},{"owner":{"account_id":8462680,"reputation":90,"user_id":6347831,"display_name":"Yenny Muller"},"score":0,"creation_date":1643249189,"post_id":70872026,"comment_id":125292032,"body_markdown":"In this array {2 ,3, 4, 5, 6, 7} the value returned is false? if we have this array {2, 4, 8, 16, 32} the value to return to be true ?","body":"In this array {2 ,3, 4, 5, 6, 7} the value returned is false? if we have this array {2, 4, 8, 16, 32} the value to return to be true ?"},{"owner":{"account_id":16691492,"reputation":41,"user_id":12063969,"display_name":"Welt"},"score":0,"creation_date":1643265122,"post_id":70872026,"comment_id":125294748,"body_markdown":"@shmosel it is a recursion practice exercise, I did not want to use loops.","body":"@shmosel it is a recursion practice exercise, I did not want to use loops."},{"owner":{"account_id":16691492,"reputation":41,"user_id":12063969,"display_name":"Welt"},"score":0,"creation_date":1643265198,"post_id":70872026,"comment_id":125294769,"body_markdown":"@YennyMuller it was returning true with the provided array. Literally returning true for everything. That&#39;s why I asked.","body":"@YennyMuller it was returning true with the provided array. Literally returning true for everything. That&#39;s why I asked."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1643291686,"post_id":70872026,"comment_id":125304235,"body_markdown":"Hint: the real answer here: start small. Start with the smallest possible array you can test. And hint: ideally, the &quot;public&quot; method for this task ... only takes the array as parameter. Then you have a *private* method that also takes that additional starting index. As in: always think about potential &quot;users&quot; of your methods. They do not need to know that you have a recursive solution that requires that parameter. They just want to know &quot;isDouble(someArray)&quot;. Finally: ask yourself what the method should return for an empty array, or one with only 1 entry.","body":"Hint: the real answer here: start small. Start with the smallest possible array you can test. And hint: ideally, the &quot;public&quot; method for this task ... only takes the array as parameter. Then you have a <i>private</i> method that also takes that additional starting index. As in: always think about potential &quot;users&quot; of your methods. They do not need to know that you have a recursive solution that requires that parameter. They just want to know &quot;isDouble(someArray)&quot;. Finally: ask yourself what the method should return for an empty array, or one with only 1 entry."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643291464,"creation_date":1643254438,"answer_id":70873009,"question_id":70872026,"body_markdown":"Here is one method.\r\n```\r\nint[][] test = {{2,4}, {1},{2,3}, {6,12,24},{6,12,24,47},\r\n\t\t{2,4,8,16,32,64,128}, {}, null};\r\nfor (int[] t : test) {\r\n\t System.out.printf(&quot;%5s - %s%n&quot;, isDouble(t), Arrays.toString(t));\r\n}\r\n\r\n```\r\nprints\r\n```\r\n true - [2, 4]\r\nfalse - [1]\r\nfalse - [2, 3]\r\n true - [6, 12, 24]\r\nfalse - [6, 12, 24, 47]\r\n true - [2, 4, 8, 16, 32, 64, 128]\r\nfalse - []\r\nfalse - null\r\n\r\n```\r\nYou only need to pass the array.\r\n- for each recursive call, copy the array sans the last element.\r\n- make the call `ANDing` with current result (a single `false` comparison will return `false`).\r\n\r\n```\r\npublic static boolean isDouble(int[] array) {\r\n\tif (array == null || array.length &lt;= 1) {\r\n\t\treturn false;\r\n\t}\r\n\tint len = array.length;\r\n\tif (array[len-1] != array[len-2]*2) {\r\n\t\treturn false;\r\n\t}\r\n\tif (array.length &gt;=3 ) {\r\n\t\treturn isDouble(Arrays.copyOf(array, len-1)); \t\t\r\n\t}\r\n\treturn true;\r\n}\r\n```\r\nHere is one way to do it with passing an index of `0`. Using a call of `isDouble(array,0)` prints the same as above.  It is essentially the same as above except no array is being copied (so it is somewhat more efficient).\r\n```\r\npublic static boolean isDouble(int[] array, int n) {\r\n\tif (array == null || array.length &lt;= 1) {\r\n\t\treturn false;\r\n\t}\r\n\tint len = array.length;\r\n\tif (array[len-1] != array[len-2]*2) {\r\n\t\treturn false;\r\n\t}\r\n\tif (n &lt; len-2) {\r\n\t\treturn isDouble(array, n+1);\r\n\t}\r\n\treturn true;\r\n}\r\n```\r\nBut the most efficient way would be a simple loop.  As soon as a false condition is exposed the result can be returned immediately with no `&quot;unwinding&quot;` of the recursive calls.","title":"Java Recursive method that accepts an array then returns true when each element is twice the value of the previous element","body":"<p>Here is one method.</p>\n<pre><code>int[][] test = {{2,4}, {1},{2,3}, {6,12,24},{6,12,24,47},\n        {2,4,8,16,32,64,128}, {}, null};\nfor (int[] t : test) {\n     System.out.printf(&quot;%5s - %s%n&quot;, isDouble(t), Arrays.toString(t));\n}\n\n</code></pre>\n<p>prints</p>\n<pre><code> true - [2, 4]\nfalse - [1]\nfalse - [2, 3]\n true - [6, 12, 24]\nfalse - [6, 12, 24, 47]\n true - [2, 4, 8, 16, 32, 64, 128]\nfalse - []\nfalse - null\n\n</code></pre>\n<p>You only need to pass the array.</p>\n<ul>\n<li>for each recursive call, copy the array sans the last element.</li>\n<li>make the call <code>ANDing</code> with current result (a single <code>false</code> comparison will return <code>false</code>).</li>\n</ul>\n<pre><code>public static boolean isDouble(int[] array) {\n    if (array == null || array.length &lt;= 1) {\n        return false;\n    }\n    int len = array.length;\n    if (array[len-1] != array[len-2]*2) {\n        return false;\n    }\n    if (array.length &gt;=3 ) {\n        return isDouble(Arrays.copyOf(array, len-1));       \n    }\n    return true;\n}\n</code></pre>\n<p>Here is one way to do it with passing an index of <code>0</code>. Using a call of <code>isDouble(array,0)</code> prints the same as above.  It is essentially the same as above except no array is being copied (so it is somewhat more efficient).</p>\n<pre><code>public static boolean isDouble(int[] array, int n) {\n    if (array == null || array.length &lt;= 1) {\n        return false;\n    }\n    int len = array.length;\n    if (array[len-1] != array[len-2]*2) {\n        return false;\n    }\n    if (n &lt; len-2) {\n        return isDouble(array, n+1);\n    }\n    return true;\n}\n</code></pre>\n<p>But the most efficient way would be a simple loop.  As soon as a false condition is exposed the result can be returned immediately with no <code>&quot;unwinding&quot;</code> of the recursive calls.</p>\n"},{"tags":[],"owner":{"account_id":8462680,"reputation":90,"user_id":6347831,"display_name":"Yenny Muller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643298163,"creation_date":1643298163,"answer_id":70881454,"question_id":70872026,"body_markdown":"This is correct??\r\n\r\n```\r\npublic class testRecursion {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.print(isDouble(new int[]{2 ,3, 4, 5, 6, 7}, 5));\r\n\r\n    }\r\n    public boolean isDouble(int[] array,int i) {\r\n\t        //base case\r\n\t        if(i == 1) {\r\n\t        \tif(array[i] == array[i-1] * 2)\r\n\t\t            return true;\r\n\t\t        else\r\n\t\t            return false;\r\n\t        }else {\r\n\t        \t if(isDouble(array, i-1)) {\r\n\t \t        \tif(array[i] == array[i-1] * 2)\r\n\t\t\t            return true;\r\n\t\t\t        else\r\n\t\t\t            return isDouble(array, i-1);\r\n\t        \t }else {\r\n\t        \t\t return false;\r\n\t        \t }\r\n\t        }\r\n\t    }\r\n}\r\n```","title":"Java Recursive method that accepts an array then returns true when each element is twice the value of the previous element","body":"<p>This is correct??</p>\n<pre><code>public class testRecursion {\n\n    public static void main(String[] args) {\n        System.out.print(isDouble(new int[]{2 ,3, 4, 5, 6, 7}, 5));\n\n    }\n    public boolean isDouble(int[] array,int i) {\n            //base case\n            if(i == 1) {\n                if(array[i] == array[i-1] * 2)\n                    return true;\n                else\n                    return false;\n            }else {\n                 if(isDouble(array, i-1)) {\n                    if(array[i] == array[i-1] * 2)\n                        return true;\n                    else\n                        return isDouble(array, i-1);\n                 }else {\n                     return false;\n                 }\n            }\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":16691492,"reputation":41,"user_id":12063969,"display_name":"Welt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643298163,"creation_date":1643244438,"question_id":70872026,"body_markdown":"I am writing a java recursive method that accepts an array and returns that true when each element is twice the value of the previous element. I can&#39;t figure out the base case yet, because it is returning true for each case. Any help will be appreciated. \r\n\r\n        public class testRecursion {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.print(isDouble(new int[]{2 ,3, 4, 5, 6, 7}, 5));\r\n    \r\n    \t}\r\n    \tpublic static boolean isDouble(int[] array,int i) {\r\n    \t\t//base case\r\n    \t\tif(i == array.length - 1)\r\n    \t\t\treturn true;\r\n    \t\t//recursive case\r\n    \t\tif(array[i+1] != array[i] * 2)\r\n    \t\t\treturn false;\r\n    \t\telse\r\n    \t\t\treturn isDouble(array, i);\r\n    \t}\t\r\n    }","title":"Java Recursive method that accepts an array then returns true when each element is twice the value of the previous element","body":"<p>I am writing a java recursive method that accepts an array and returns that true when each element is twice the value of the previous element. I can't figure out the base case yet, because it is returning true for each case. Any help will be appreciated.</p>\n<pre><code>    public class testRecursion {\n\n    public static void main(String[] args) {\n        System.out.print(isDouble(new int[]{2 ,3, 4, 5, 6, 7}, 5));\n\n    }\n    public static boolean isDouble(int[] array,int i) {\n        //base case\n        if(i == array.length - 1)\n            return true;\n        //recursive case\n        if(array[i+1] != array[i] * 2)\n            return false;\n        else\n            return isDouble(array, i);\n    }   \n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1643283334,"post_id":70876049,"comment_id":125301015,"body_markdown":"what is the variable `messages` and how is it used in your code?","body":"what is the variable <code>messages</code> and how is it used in your code?"},{"owner":{"account_id":24036627,"reputation":3,"user_id":18016827,"display_name":"Kardeen"},"score":0,"creation_date":1643286161,"post_id":70876049,"comment_id":125302032,"body_markdown":"`messages` is a list of message Objects. I create it as an empty Arraylist before iterating through the list of settings and adding Messages to it based on the type of the element. I added the corresponding code in my edit above.","body":"<code>messages</code> is a list of message Objects. I create it as an empty Arraylist before iterating through the list of settings and adding Messages to it based on the type of the element. I added the corresponding code in my edit above."},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1643288275,"post_id":70876049,"comment_id":125302827,"body_markdown":"the `Mono` generated inside the &quot;Link&quot; case is not being subscribed to and as a result will never be run. &quot;Nothing happens until you subscribe&quot;","body":"the <code>Mono</code> generated inside the &quot;Link&quot; case is not being subscribed to and as a result will never be run. &quot;Nothing happens until you subscribe&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1288668,"reputation":2490,"user_id":1241218,"display_name":"Nonika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643297546,"creation_date":1643291841,"answer_id":70879783,"question_id":70876049,"body_markdown":"I have changed some of your code to make it more compatible with the reactor pattern. I have changed the recursion into `expandDeep` and also used Jackson to parse the JSON. I hope this will give you some ideas how to solve your issue. \r\n\r\n    List&lt;Message&gt; messages = Flux\r\n                    .fromIterable(jsonNode.get(&quot;settings&quot;))\r\n                    //expand the graph into a stream of flat data and track the address of the node with &#39;prefix&#39;\r\n                    //expand/exapndDeep operators are alternatives of recursion in project reactor\r\n                    .expandDeep(parent -&gt; {\r\n                        String parentPrefix = Optional.ofNullable(parent.get(&quot;prefix&quot;)).map(JsonNode::asText)\r\n                                .orElse(parent.get(&quot;key&quot;).asText());\r\n                        String type = parent.get(&quot;type&quot;).asText();\r\n                        if (type.equals(&quot;Struct&quot;)) {\r\n                            return Flux.fromIterable(parent.get(&quot;value&quot;))\r\n                                    .cast(ObjectNode.class)\r\n                                    .map(child -&gt; child.put(&quot;prefix&quot;, parentPrefix + &quot;:&quot; + child.get(&quot;key&quot;).asText()));\r\n                        }\r\n                        return Mono.empty();\r\n                    })\r\n                    //we have to choose only leaf nodes aka String and Link nodes\r\n                    .filter(node -&gt; Arrays.asList(&quot;String&quot;, &quot;Link&quot;).contains(node.get(&quot;type&quot;).asText()))\r\n                    //now process expanded leaf nodes\r\n                    .flatMap(leaf -&gt; {\r\n                        if (&quot;String&quot;.equals(leaf.get(&quot;type&quot;).asText())) {\r\n                            return Mono.just(new Message(leaf.get(&quot;prefix&quot;).asText(), leaf.get(&quot;value&quot;).asText(), true));\r\n                        }\r\n                        if (&quot;Link&quot;.equals(leaf.get(&quot;type&quot;).asText())) {\r\n                            return webClient\r\n                                    .get()\r\n                                    .uri(\r\n                                            uriBuilder -&gt;\r\n                                                    uriBuilder\r\n                                                            .pathSegment(leaf.get(&quot;key&quot;).asText())\r\n                                                            .build())\r\n                                    .retrieve()\r\n                                    .bodyToMono(JsonNode.class)\r\n                                    .map(configurableTextResponse -&gt; new Message(\r\n                                            leaf.get(&quot;prefix&quot;) + configurableTextResponse.get(&quot;key&quot;).asText(),\r\n                                            configurableTextResponse.get(&quot;text&quot;).asText(),\r\n                                            true));\r\n                        }\r\n                        return Mono.empty();\r\n                    })\r\n                    // at this point we are getting stream of the Message objects from the Link/String nodes\r\n                    //collect them into a list\r\n                    .collectList()\r\n                    //we have to subscribe()/block() the mono to actually invoke the pipline.\r\n                    .block();\r\n\r\nThe main reason your code did nothing was that you were not subscribing to your WebClient pipeline.\r\n\r\nEDIT:\r\n\r\nchange \r\n\r\n      .map(response -&gt; {\r\n                      return getCollectionContent(response);\r\n                    })\r\nto \r\n\r\n    .flatMap(response -&gt; {\r\n                          return getCollectionContent(response);\r\n                        })\r\n\r\nand return from `getCollectionContent(response)` ` Mono&lt;PageContent&gt; page`\r\n\r\nsomething like:\r\n\r\n         // at this point we are getting stream of the Message objects from the Link/String nodes\r\n                        //collect them into a list\r\n                        .collectList()\r\n                        .map(messages -&gt; {\r\n                            PageContent pageContent = new PageContent();\r\n                            pageContent.setPageId(response.get(&quot;pageId&quot;).asText());\r\n    pageContent.setMessages(messages);\r\n                            return pageContent;\r\n                        });\r\n\r\nafter these changes, your `getCollectionContent()` will return a publisher ` Mono&lt;PageContent&gt;` which will be subscribed from the flatMap operator.\r\n","title":"Spring webflux webclient make another call while evaluating response from first call","body":"<p>I have changed some of your code to make it more compatible with the reactor pattern. I have changed the recursion into <code>expandDeep</code> and also used Jackson to parse the JSON. I hope this will give you some ideas how to solve your issue.</p>\n<pre><code>List&lt;Message&gt; messages = Flux\n                .fromIterable(jsonNode.get(&quot;settings&quot;))\n                //expand the graph into a stream of flat data and track the address of the node with 'prefix'\n                //expand/exapndDeep operators are alternatives of recursion in project reactor\n                .expandDeep(parent -&gt; {\n                    String parentPrefix = Optional.ofNullable(parent.get(&quot;prefix&quot;)).map(JsonNode::asText)\n                            .orElse(parent.get(&quot;key&quot;).asText());\n                    String type = parent.get(&quot;type&quot;).asText();\n                    if (type.equals(&quot;Struct&quot;)) {\n                        return Flux.fromIterable(parent.get(&quot;value&quot;))\n                                .cast(ObjectNode.class)\n                                .map(child -&gt; child.put(&quot;prefix&quot;, parentPrefix + &quot;:&quot; + child.get(&quot;key&quot;).asText()));\n                    }\n                    return Mono.empty();\n                })\n                //we have to choose only leaf nodes aka String and Link nodes\n                .filter(node -&gt; Arrays.asList(&quot;String&quot;, &quot;Link&quot;).contains(node.get(&quot;type&quot;).asText()))\n                //now process expanded leaf nodes\n                .flatMap(leaf -&gt; {\n                    if (&quot;String&quot;.equals(leaf.get(&quot;type&quot;).asText())) {\n                        return Mono.just(new Message(leaf.get(&quot;prefix&quot;).asText(), leaf.get(&quot;value&quot;).asText(), true));\n                    }\n                    if (&quot;Link&quot;.equals(leaf.get(&quot;type&quot;).asText())) {\n                        return webClient\n                                .get()\n                                .uri(\n                                        uriBuilder -&gt;\n                                                uriBuilder\n                                                        .pathSegment(leaf.get(&quot;key&quot;).asText())\n                                                        .build())\n                                .retrieve()\n                                .bodyToMono(JsonNode.class)\n                                .map(configurableTextResponse -&gt; new Message(\n                                        leaf.get(&quot;prefix&quot;) + configurableTextResponse.get(&quot;key&quot;).asText(),\n                                        configurableTextResponse.get(&quot;text&quot;).asText(),\n                                        true));\n                    }\n                    return Mono.empty();\n                })\n                // at this point we are getting stream of the Message objects from the Link/String nodes\n                //collect them into a list\n                .collectList()\n                //we have to subscribe()/block() the mono to actually invoke the pipline.\n                .block();\n</code></pre>\n<p>The main reason your code did nothing was that you were not subscribing to your WebClient pipeline.</p>\n<p>EDIT:</p>\n<p>change</p>\n<pre><code>  .map(response -&gt; {\n                  return getCollectionContent(response);\n                })\n</code></pre>\n<p>to</p>\n<pre><code>.flatMap(response -&gt; {\n                      return getCollectionContent(response);\n                    })\n</code></pre>\n<p>and return from <code>getCollectionContent(response)</code> <code> Mono&lt;PageContent&gt; page</code></p>\n<p>something like:</p>\n<pre><code>     // at this point we are getting stream of the Message objects from the Link/String nodes\n                    //collect them into a list\n                    .collectList()\n                    .map(messages -&gt; {\n                        PageContent pageContent = new PageContent();\n                        pageContent.setPageId(response.get(&quot;pageId&quot;).asText());\npageContent.setMessages(messages);\n                        return pageContent;\n                    });\n</code></pre>\n<p>after these changes, your <code>getCollectionContent()</code> will return a publisher <code> Mono&lt;PageContent&gt;</code> which will be subscribed from the flatMap operator.</p>\n"}],"owner":{"account_id":24036627,"reputation":3,"user_id":18016827,"display_name":"Kardeen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70879783,"answer_count":1,"score":0,"last_activity_date":1643297546,"creation_date":1643275234,"question_id":70876049,"body_markdown":"I am calling an endpoint with webclient and want to map the response that I get to another object. While mapping that object I want to make additional calls for some parameters of the response.\r\n\r\nMy first call returns the following object\r\n```\r\n{\r\n  &quot;type&quot;: &quot;Collection&quot;,\r\n  &quot;key&quot;: &quot;some.key&quot;,\r\n  &quot;settings&quot;: [\r\n    {\r\n      &quot;type&quot;: &quot;Struct&quot;,\r\n      &quot;key&quot;: &quot;steps&quot;,\r\n      &quot;value&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;Struct&quot;,\r\n          &quot;key&quot;: &quot;1&quot;,\r\n          &quot;value&quot;: [\r\n            {\r\n              &quot;type&quot;: &quot;String&quot;,\r\n              &quot;key&quot;: &quot;headline&quot;,\r\n              &quot;value&quot;: &quot;someheadline&quot;\r\n            },\r\n            {\r\n              &quot;type&quot;: &quot;String&quot;,\r\n              &quot;key&quot;: &quot;subheadline&quot;,\r\n              &quot;value&quot;: &quot;somesubheadline&quot;\r\n            },\r\n            {\r\n              &quot;type&quot;: &quot;Link&quot;,\r\n              &quot;key&quot;: &quot;link.to.another.object&quot;,\r\n              &quot;value&quot;: {\r\n                &quot;linkType&quot;: &quot;Boilerplate&quot;,\r\n                &quot;key&quot;: &quot;configurabletextkey&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;Struct&quot;,\r\n      &quot;key&quot;: &quot;commons&quot;,\r\n      &quot;value&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;String&quot;,\r\n          &quot;key&quot;: &quot;mandatory.fields.text&quot;,\r\n          &quot;value&quot;: &quot;Pflichtfelder&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI map that response like so:\r\n```\r\nwebClient\r\n        .get()\r\n        .uri(\r\n            uriBuilder -&gt;\r\n                uriBuilder\r\n                    .path(headlessConfig.getEndpoint())\r\n                    .pathSegment(contentId)\r\n                    .build())\r\n        .retrieve()\r\n        .bodyToMono(Collection.class)\r\n        .map(response -&gt; {\r\n                  return getCollectionContent(response);\r\n                })\r\n\r\n```\r\n\r\nIn the getCollectionContent method I iterate over the settings array and I extract data from the response and map it to my PageContent Object.\r\n\r\n```\r\npublic class PageContent {\r\n\r\n  private String pageId;\r\n\r\n  private List&lt;Message&gt; messages;\r\n}\r\n```\r\n\r\n```\r\npublic class Message {\r\n\r\n  @NonNull private String key;\r\n\r\n  @NonNull private String text;\r\n\r\n  private Boolean containsHtml = false;\r\n}\r\n```\r\n\r\nIf the response contains the type &quot;String&quot; i&#39;ll just add the data to an Message Object and add it to the List of the PageContent.\r\n\r\nNow to the problem. If the type is &quot;Link&quot; I want to make another call with webclient like above to the same endpoint to get the key and text for that object, create a Message Object out of it and add it to my existing List. \r\n\r\nThe corresponding code looks like so:\r\n\r\n```\r\nwebClient\r\n        .get()\r\n        .uri(\r\n            uriBuilder -&gt;\r\n                uriBuilder\r\n                    .path(headlessConfig.getEndpoint())\r\n                    .pathSegment(contentKey)\r\n                    .build())\r\n        .retrieve()\r\n        .bodyToMono(ConfigurableText.class)\r\n        .map(\r\n                configurableTextResponse -&gt; {\r\n                  messages.add(\r\n                      new Message(\r\n                          prefix + configurableTextResponse.getKey(),\r\n                          configurableTextResponse.getText(),\r\n                          true));\r\n                  return Mono.empty();\r\n                })\r\n\r\n```\r\n\r\nNow when I try to do that nothing happens and I just receive the PageContent object without the message for the link.\r\n\r\nIn a blocking way with resttemplate this logic should work but I would like to get it to work with webclient. \r\n\r\nEdit:\r\n\r\nCode to iterate through the list and extract the message data:\r\n\r\n```\r\nprivate PageContent getCollectionContent(Collection response) {\r\n\r\n    PageContent pageContent = new PageContent();\r\n    pageContent.setPageId(response.getKey());\r\n\r\n    List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\n\r\n    response\r\n        .getSettings()\r\n        .forEach(\r\n            settingsItemsArray -&gt; {\r\n              var settingsItemList = (List&lt;?&gt;) settingsItemsArray.getValue();\r\n              String prefix = settingsItemsArray.getKey() + &quot;.&quot;;\r\n\r\n              extractMessageText(prefix, (LinkedHashMap&lt;?, ?&gt;) settingsItemList.get(0), messages);\r\n            });\r\n\r\n    pageContent.setMessages(messages);\r\n\r\n    return pageContent;\r\n  }\r\n```\r\n\r\nCode to extract the MessageText, iterate further or get the missing text for a link type.\r\n\r\n```\r\nprivate void extractMessageText(\r\n      String prefix, LinkedHashMap&lt;?, ?&gt; settingsItem, List&lt;Message&gt; messages) {\r\n\r\n    String itemKey = (String) settingsItem.get(KEY);\r\n    String itemType = (String) settingsItem.get(TYPE);\r\n\r\n    switch (itemType) {\r\n      case &quot;String&quot;:\r\n        messages.add(new Message(prefix + itemKey, (String) settingsItem.get(VALUE)));\r\n        break;\r\n      case &quot;Struct&quot;:\r\n        ((List&lt;?&gt;) settingsItem.get(VALUE))\r\n            .forEach(\r\n                structItems -&gt;\r\n                    extractMessageText(\r\n                        prefix + settingsItem.get(KEY) + &quot;.&quot;,\r\n                        (LinkedHashMap&lt;?, ?&gt;) structItems,\r\n                        messages));\r\n        break;\r\n      case &quot;Link&quot;:\r\n        webClient\r\n        .get()\r\n        .uri(\r\n            uriBuilder -&gt;\r\n                uriBuilder\r\n                    .path(headlessConfig.getEndpoint())\r\n                    .pathSegment(contentKey)\r\n                    .build())\r\n        .retrieve()\r\n        .bodyToMono(ConfigurableText.class)\r\n        .map(\r\n                configurableTextResponse -&gt; {\r\n                  messages.add(\r\n                      new Message(\r\n                          prefix + configurableTextResponse.getKey(),\r\n                          configurableTextResponse.getText(),\r\n                          true));\r\n                  return Mono.empty();\r\n                })\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n```","title":"Spring webflux webclient make another call while evaluating response from first call","body":"<p>I am calling an endpoint with webclient and want to map the response that I get to another object. While mapping that object I want to make additional calls for some parameters of the response.</p>\n<p>My first call returns the following object</p>\n<pre><code>{\n  &quot;type&quot;: &quot;Collection&quot;,\n  &quot;key&quot;: &quot;some.key&quot;,\n  &quot;settings&quot;: [\n    {\n      &quot;type&quot;: &quot;Struct&quot;,\n      &quot;key&quot;: &quot;steps&quot;,\n      &quot;value&quot;: [\n        {\n          &quot;type&quot;: &quot;Struct&quot;,\n          &quot;key&quot;: &quot;1&quot;,\n          &quot;value&quot;: [\n            {\n              &quot;type&quot;: &quot;String&quot;,\n              &quot;key&quot;: &quot;headline&quot;,\n              &quot;value&quot;: &quot;someheadline&quot;\n            },\n            {\n              &quot;type&quot;: &quot;String&quot;,\n              &quot;key&quot;: &quot;subheadline&quot;,\n              &quot;value&quot;: &quot;somesubheadline&quot;\n            },\n            {\n              &quot;type&quot;: &quot;Link&quot;,\n              &quot;key&quot;: &quot;link.to.another.object&quot;,\n              &quot;value&quot;: {\n                &quot;linkType&quot;: &quot;Boilerplate&quot;,\n                &quot;key&quot;: &quot;configurabletextkey&quot;\n              }\n            }\n          ]\n        }\n      ]\n    },\n    {\n      &quot;type&quot;: &quot;Struct&quot;,\n      &quot;key&quot;: &quot;commons&quot;,\n      &quot;value&quot;: [\n        {\n          &quot;type&quot;: &quot;String&quot;,\n          &quot;key&quot;: &quot;mandatory.fields.text&quot;,\n          &quot;value&quot;: &quot;Pflichtfelder&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I map that response like so:</p>\n<pre><code>webClient\n        .get()\n        .uri(\n            uriBuilder -&gt;\n                uriBuilder\n                    .path(headlessConfig.getEndpoint())\n                    .pathSegment(contentId)\n                    .build())\n        .retrieve()\n        .bodyToMono(Collection.class)\n        .map(response -&gt; {\n                  return getCollectionContent(response);\n                })\n\n</code></pre>\n<p>In the getCollectionContent method I iterate over the settings array and I extract data from the response and map it to my PageContent Object.</p>\n<pre><code>public class PageContent {\n\n  private String pageId;\n\n  private List&lt;Message&gt; messages;\n}\n</code></pre>\n<pre><code>public class Message {\n\n  @NonNull private String key;\n\n  @NonNull private String text;\n\n  private Boolean containsHtml = false;\n}\n</code></pre>\n<p>If the response contains the type &quot;String&quot; i'll just add the data to an Message Object and add it to the List of the PageContent.</p>\n<p>Now to the problem. If the type is &quot;Link&quot; I want to make another call with webclient like above to the same endpoint to get the key and text for that object, create a Message Object out of it and add it to my existing List.</p>\n<p>The corresponding code looks like so:</p>\n<pre><code>webClient\n        .get()\n        .uri(\n            uriBuilder -&gt;\n                uriBuilder\n                    .path(headlessConfig.getEndpoint())\n                    .pathSegment(contentKey)\n                    .build())\n        .retrieve()\n        .bodyToMono(ConfigurableText.class)\n        .map(\n                configurableTextResponse -&gt; {\n                  messages.add(\n                      new Message(\n                          prefix + configurableTextResponse.getKey(),\n                          configurableTextResponse.getText(),\n                          true));\n                  return Mono.empty();\n                })\n\n</code></pre>\n<p>Now when I try to do that nothing happens and I just receive the PageContent object without the message for the link.</p>\n<p>In a blocking way with resttemplate this logic should work but I would like to get it to work with webclient.</p>\n<p>Edit:</p>\n<p>Code to iterate through the list and extract the message data:</p>\n<pre><code>private PageContent getCollectionContent(Collection response) {\n\n    PageContent pageContent = new PageContent();\n    pageContent.setPageId(response.getKey());\n\n    List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\n\n    response\n        .getSettings()\n        .forEach(\n            settingsItemsArray -&gt; {\n              var settingsItemList = (List&lt;?&gt;) settingsItemsArray.getValue();\n              String prefix = settingsItemsArray.getKey() + &quot;.&quot;;\n\n              extractMessageText(prefix, (LinkedHashMap&lt;?, ?&gt;) settingsItemList.get(0), messages);\n            });\n\n    pageContent.setMessages(messages);\n\n    return pageContent;\n  }\n</code></pre>\n<p>Code to extract the MessageText, iterate further or get the missing text for a link type.</p>\n<pre><code>private void extractMessageText(\n      String prefix, LinkedHashMap&lt;?, ?&gt; settingsItem, List&lt;Message&gt; messages) {\n\n    String itemKey = (String) settingsItem.get(KEY);\n    String itemType = (String) settingsItem.get(TYPE);\n\n    switch (itemType) {\n      case &quot;String&quot;:\n        messages.add(new Message(prefix + itemKey, (String) settingsItem.get(VALUE)));\n        break;\n      case &quot;Struct&quot;:\n        ((List&lt;?&gt;) settingsItem.get(VALUE))\n            .forEach(\n                structItems -&gt;\n                    extractMessageText(\n                        prefix + settingsItem.get(KEY) + &quot;.&quot;,\n                        (LinkedHashMap&lt;?, ?&gt;) structItems,\n                        messages));\n        break;\n      case &quot;Link&quot;:\n        webClient\n        .get()\n        .uri(\n            uriBuilder -&gt;\n                uriBuilder\n                    .path(headlessConfig.getEndpoint())\n                    .pathSegment(contentKey)\n                    .build())\n        .retrieve()\n        .bodyToMono(ConfigurableText.class)\n        .map(\n                configurableTextResponse -&gt; {\n                  messages.add(\n                      new Message(\n                          prefix + configurableTextResponse.getKey(),\n                          configurableTextResponse.getText(),\n                          true));\n                  return Mono.empty();\n                })\n        break;\n      default:\n        break;\n    }\n  }\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":5186630,"reputation":177,"user_id":4150831,"display_name":"UDS"},"score":0,"creation_date":1643267534,"post_id":70874532,"comment_id":125295292,"body_markdown":"Refer this. [link](https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean)","body":"Refer this. <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\">link</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643272269,"post_id":70874532,"comment_id":125296757,"body_markdown":"See the section in the eden coding guide on [adding VM arguments to a jar](https://edencoding.com/runtime-components-error/#jar) or package another way (e.g.!jlink or jpackage).","body":"See the section in the eden coding guide on <a href=\"https://edencoding.com/runtime-components-error/#jar\" rel=\"nofollow noreferrer\">adding VM arguments to a jar</a> or package another way (e.g.!jlink or jpackage)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643273376,"post_id":70874532,"comment_id":125297136,"body_markdown":"For the `java` command, ensure the required JavaFX modules are on the `--module-path` *and*, if your app is *not* modular, ensure  you name the required JavaFX modules in `--add-modules`.","body":"For the <code>java</code> command, ensure the required JavaFX modules are on the <code>--module-path</code> <i>and</i>, if your app is <i>not</i> modular, ensure  you name the required JavaFX modules in <code>--add-modules</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643275650,"post_id":70874532,"comment_id":125297964,"body_markdown":"@UDS the answer at that link is pretty awesome, but unfortunately it doesn’t cover Java modularity well, IMO.","body":"@UDS the answer at that link is pretty awesome, but unfortunately it doesn’t cover Java modularity well, IMO."}],"answers":[{"tags":[],"owner":{"account_id":1822913,"reputation":559,"user_id":1656527,"accept_rate":82,"display_name":"Shreyans jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643297368,"creation_date":1643297368,"answer_id":70881239,"question_id":70874532,"body_markdown":"I recently installed java 11 so when i was running through cmd or double clicking it was taking java 11. When i ran through java 8. it ran successfully.","title":"jar file, created by netbeans in dist not opening","body":"<p>I recently installed java 11 so when i was running through cmd or double clicking it was taking java 11. When i ran through java 8. it ran successfully.</p>\n"}],"owner":{"account_id":1822913,"reputation":559,"user_id":1656527,"accept_rate":82,"display_name":"Shreyans jain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70881239,"answer_count":1,"score":1,"last_activity_date":1643297368,"creation_date":1643266972,"question_id":70874532,"body_markdown":"I have a project on netbeans and after buliding the project the jar file is generated along with lib folder but jar is not opening. When i tried to run the jar from command line, it says\r\n\r\n    Error: Could not find or load main class jewelleryinventory.JewelleryInventory\r\n    Caused by: java.lang.NoClassDefFoundError: javafx/application/Application\r\nAny help would be good. It used to open previously but now not opening. Also i can run it from netbeans.","title":"jar file, created by netbeans in dist not opening","body":"<p>I have a project on netbeans and after buliding the project the jar file is generated along with lib folder but jar is not opening. When i tried to run the jar from command line, it says</p>\n<pre><code>Error: Could not find or load main class jewelleryinventory.JewelleryInventory\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\n</code></pre>\n<p>Any help would be good. It used to open previously but now not opening. Also i can run it from netbeans.</p>\n"},{"tags":["java","spring","tomcat"],"answers":[{"tags":[],"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643297120,"creation_date":1643297120,"answer_id":70881178,"question_id":70879381,"body_markdown":"As suspected context root was not defined in Tomcat. This solved the issue.","title":"Spring Tomcat 404 the origin server did not find a current representation","body":"<p>As suspected context root was not defined in Tomcat. This solved the issue.</p>\n"}],"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643297120,"creation_date":1643290221,"question_id":70879381,"body_markdown":"I am running a Spring app on Tomcat and I continue to get the error mentioned in the post title. I am trying to understand the reason but I cannot figure out. What file should I check that may influence this? Tomcat configurations etc. ?\r\n\r\nUPDATE\r\nI noticed that in the project there is an application.xml in meta-inf folder with specified the context-root but this file is not in meta-inf folder inside tomcat webapps deployed\r\n","title":"Spring Tomcat 404 the origin server did not find a current representation","body":"<p>I am running a Spring app on Tomcat and I continue to get the error mentioned in the post title. I am trying to understand the reason but I cannot figure out. What file should I check that may influence this? Tomcat configurations etc. ?</p>\n<p>UPDATE\nI noticed that in the project there is an application.xml in meta-inf folder with specified the context-root but this file is not in meta-inf folder inside tomcat webapps deployed</p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643297009,"creation_date":1641121404,"answer_id":70555433,"question_id":70554618,"body_markdown":"You use `page.newContentStreamBefore()` to add a content stream for your water mark. Thus, when the page is drawn, the watermark is drawn first and the content thereafter over it. For usual text and sparse vector graphics that is good but for full area covering content the watermark may be totally hidden. \r\n\r\nTry to use `page.newContentStreamAfter()` instead. But beware, you may not want to bold the watermark text then anymore, probably even restrict to outline only, as the mark now covers content. \r\n\r\n---\r\n\r\nIn a question update and a comment you asked how to \r\n\r\n&gt; make the text transparent.\r\n\r\nTransparency usually is achieved by selecting a matching extended graphics state, e.g.:\r\n\r\n```lang-java\r\nPdfExtGState extGState = new PdfExtGState().setBlendMode(new PdfName(&quot;Multiply&quot;));\r\nfor (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\r\n    PdfPage page = pdfDocument.getPage(i);\r\n    new PdfCanvas(page.newContentStreamAfter(), page.getResources(), pdfDocument)\r\n            .saveState()\r\n            .setExtGState(extGState)\r\n            .setFillColor(new PatternColor(tiling))\r\n            .rectangle(page.getCropBox())\r\n            .fill()\r\n            .restoreState();\r\n```\r\n*([AddWatermark][1] test `testAddLikeFrancoImproved`)*\r\n\r\nYou can try and find out whether you want to use a blend mode (like &quot;Multiply&quot; in the example here) or alpha value transparency (set using `setFillOpacity` and `setStrokeOpacity` instead of `setBlendMode`)\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-itext7/blob/master/src/test/java/mkl/testarea/itext7/content/AddWatermark.java#L87","title":"java itext7 watermark text is hiding behind images","body":"<p>You use <code>page.newContentStreamBefore()</code> to add a content stream for your water mark. Thus, when the page is drawn, the watermark is drawn first and the content thereafter over it. For usual text and sparse vector graphics that is good but for full area covering content the watermark may be totally hidden.</p>\n<p>Try to use <code>page.newContentStreamAfter()</code> instead. But beware, you may not want to bold the watermark text then anymore, probably even restrict to outline only, as the mark now covers content.</p>\n<hr />\n<p>In a question update and a comment you asked how to</p>\n<blockquote>\n<p>make the text transparent.</p>\n</blockquote>\n<p>Transparency usually is achieved by selecting a matching extended graphics state, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PdfExtGState extGState = new PdfExtGState().setBlendMode(new PdfName(&quot;Multiply&quot;));\nfor (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\n    PdfPage page = pdfDocument.getPage(i);\n    new PdfCanvas(page.newContentStreamAfter(), page.getResources(), pdfDocument)\n            .saveState()\n            .setExtGState(extGState)\n            .setFillColor(new PatternColor(tiling))\n            .rectangle(page.getCropBox())\n            .fill()\n            .restoreState();\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/test/java/mkl/testarea/itext7/content/AddWatermark.java#L87\" rel=\"nofollow noreferrer\">AddWatermark</a> test <code>testAddLikeFrancoImproved</code>)</em></p>\n<p>You can try and find out whether you want to use a blend mode (like &quot;Multiply&quot; in the example here) or alpha value transparency (set using <code>setFillOpacity</code> and <code>setStrokeOpacity</code> instead of <code>setBlendMode</code>)</p>\n"}],"owner":{"account_id":1464588,"reputation":1889,"user_id":1377850,"accept_rate":31,"display_name":"franco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70555433,"answer_count":1,"score":1,"last_activity_date":1643297009,"creation_date":1641112716,"question_id":70554618,"body_markdown":"\r\nI try to add a watermark using itext in pdf.\r\n it work without problem using this code :\r\n\r\n\r\n\r\n    import com.itextpdf.io.font.constants.StandardFonts;\r\n    import com.itextpdf.kernel.colors.ColorConstants;\r\n    import com.itextpdf.kernel.colors.PatternColor;\r\n    import com.itextpdf.kernel.font.PdfFontFactory;\r\n    import com.itextpdf.kernel.geom.Rectangle;\r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n    import com.itextpdf.kernel.pdf.PdfPage;\r\n    import com.itextpdf.kernel.pdf.PdfReader;\r\n    import com.itextpdf.kernel.pdf.PdfWriter;\r\n    import com.itextpdf.kernel.pdf.canvas.PdfCanvas;\r\n    import com.itextpdf.kernel.pdf.canvas.PdfPatternCanvas;\r\n    import com.itextpdf.kernel.pdf.colorspace.PdfPattern;\r\n    import com.itextpdf.kernel.pdf.colorspace.PdfPattern.Tiling;\r\n    import com.itextpdf.layout.Canvas;\r\n    import com.itextpdf.layout.element.Paragraph;\r\n    \r\n    \r\n    public class TestNewPdf {\r\n    \r\n    \t@SuppressWarnings(&quot;resource&quot;)\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n              PdfReader reader = new PdfReader(&quot;F:/barcode/test.pdf&quot;);\t\t  \r\n    \t\t  PdfWriter writer = new PdfWriter(&quot;F:/barcode/outputTest.pdf&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tPdfDocument pdfDocument = new PdfDocument(reader,writer);\r\n    \t\r\n    \t\tPdfPattern.Tiling tiling = new Tiling(new Rectangle(220, 100));\r\n    \t\tnew Canvas(new PdfPatternCanvas(tiling, pdfDocument), pdfDocument, tiling.getBBox()).add(new Paragraph(&quot;franco&quot;)\r\n    \t\t        .setFontColor(ColorConstants.RED)\r\n    \t\t        .setBold()\r\n    \t\t        .setFont(PdfFontFactory.createFont(StandardFonts.HELVETICA_BOLD))\r\n                    .setFontSize(10f)\r\n    \t\t        .setRotationAngle(Math.PI / 10)\r\n    \t\t        );\r\n    \r\n    \t\tfor (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\r\n    \t\t    PdfPage page = pdfDocument.getPage(i);\r\n    \t\t    \r\n    \t\t    new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDocument)\r\n    \t\t            .saveState()\r\n    \t\t            \r\n    \t\t            .setFillColor(new PatternColor(tiling))\r\n    \t\t            .rectangle(page.getCropBox())\r\n    \t\t            .fill()\r\n    \t\t            .restoreState();\r\n    \t\t}\r\n    \r\n    \t\tpdfDocument.close();\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\nbut I have a problem for specific case when the source pdf contain image or the source pdf is a scanning file meaning the pdf become like image .\r\n\r\nthe watermark text is hiding behind images\r\n\r\ncan someone help me to resolve this problem\r\n\r\n\r\n**updated :**\r\n\r\n\r\nIn some case the watermark cover content, \r\nhow can I make the text more transparent .\r\nI have update my code without success to make the watermark more transparent\r\n\r\nI try with this code :\r\n\r\n  \r\n\r\n      PdfFont helvetica = PdfFontFactory.createFont();\r\n              \r\n            PdfDocument pdfDocument = new PdfDocument(reader,writer);\r\n            \r\n        \r\n            PdfPattern.Tiling tiling = new Tiling(new Rectangle(220, 100));\r\n            new Canvas(new PdfPatternCanvas(tiling, pdfDocument), pdfDocument, tiling.getBBox()).add(new Paragraph(&quot;uhatem&quot;)\r\n            \t\t\r\n            \t\t   .setFontColor(ColorConstants.GRAY)\r\n                       .setFont(helvetica)\r\n                       .setFontSize(15f)\r\n                    .setRotationAngle(Math.PI / 10)\r\n                    );\r\n    \r\n            for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\r\n                PdfPage page = pdfDocument.getPage(i);\r\n                new PdfCanvas(page.newContentStreamAfter(), page.getResources(), pdfDocument)\r\n                        .saveState()\r\n                        \r\n                        .setFillColor(new PatternColor(tiling))\r\n                        .rectangle(page.getCropBox())\r\n                        .fill()\r\n                        .restoreState();\r\n            }\r\n    \r\n            pdfDocument.close();\r\n        ","title":"java itext7 watermark text is hiding behind images","body":"<p>I try to add a watermark using itext in pdf.\nit work without problem using this code :</p>\n<pre><code>import com.itextpdf.io.font.constants.StandardFonts;\nimport com.itextpdf.kernel.colors.ColorConstants;\nimport com.itextpdf.kernel.colors.PatternColor;\nimport com.itextpdf.kernel.font.PdfFontFactory;\nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfPage;\nimport com.itextpdf.kernel.pdf.PdfReader;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.kernel.pdf.canvas.PdfCanvas;\nimport com.itextpdf.kernel.pdf.canvas.PdfPatternCanvas;\nimport com.itextpdf.kernel.pdf.colorspace.PdfPattern;\nimport com.itextpdf.kernel.pdf.colorspace.PdfPattern.Tiling;\nimport com.itextpdf.layout.Canvas;\nimport com.itextpdf.layout.element.Paragraph;\n\n\npublic class TestNewPdf {\n\n    @SuppressWarnings(&quot;resource&quot;)\n    public static void main(String[] args) throws Exception {\n        \n        \n        \n        \n          PdfReader reader = new PdfReader(&quot;F:/barcode/test.pdf&quot;);        \n          PdfWriter writer = new PdfWriter(&quot;F:/barcode/outputTest.pdf&quot;);\n        \n        \n        PdfDocument pdfDocument = new PdfDocument(reader,writer);\n    \n        PdfPattern.Tiling tiling = new Tiling(new Rectangle(220, 100));\n        new Canvas(new PdfPatternCanvas(tiling, pdfDocument), pdfDocument, tiling.getBBox()).add(new Paragraph(&quot;franco&quot;)\n                .setFontColor(ColorConstants.RED)\n                .setBold()\n                .setFont(PdfFontFactory.createFont(StandardFonts.HELVETICA_BOLD))\n                .setFontSize(10f)\n                .setRotationAngle(Math.PI / 10)\n                );\n\n        for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\n            PdfPage page = pdfDocument.getPage(i);\n            \n            new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDocument)\n                    .saveState()\n                    \n                    .setFillColor(new PatternColor(tiling))\n                    .rectangle(page.getCropBox())\n                    .fill()\n                    .restoreState();\n        }\n\n        pdfDocument.close();\n        \n        \n    }\n    \n    \n    \n    \n\n}\n</code></pre>\n<p>but I have a problem for specific case when the source pdf contain image or the source pdf is a scanning file meaning the pdf become like image .</p>\n<p>the watermark text is hiding behind images</p>\n<p>can someone help me to resolve this problem</p>\n<p><strong>updated :</strong></p>\n<p>In some case the watermark cover content,\nhow can I make the text more transparent .\nI have update my code without success to make the watermark more transparent</p>\n<p>I try with this code :</p>\n<pre><code>  PdfFont helvetica = PdfFontFactory.createFont();\n          \n        PdfDocument pdfDocument = new PdfDocument(reader,writer);\n        \n    \n        PdfPattern.Tiling tiling = new Tiling(new Rectangle(220, 100));\n        new Canvas(new PdfPatternCanvas(tiling, pdfDocument), pdfDocument, tiling.getBBox()).add(new Paragraph(&quot;uhatem&quot;)\n                \n                   .setFontColor(ColorConstants.GRAY)\n                   .setFont(helvetica)\n                   .setFontSize(15f)\n                .setRotationAngle(Math.PI / 10)\n                );\n\n        for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\n            PdfPage page = pdfDocument.getPage(i);\n            new PdfCanvas(page.newContentStreamAfter(), page.getResources(), pdfDocument)\n                    .saveState()\n                    \n                    .setFillColor(new PatternColor(tiling))\n                    .rectangle(page.getCropBox())\n                    .fill()\n                    .restoreState();\n        }\n\n        pdfDocument.close();\n    \n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":0,"creation_date":1643272125,"post_id":70875059,"comment_id":125296710,"body_markdown":"Does this answer your question? [Google firebase check if child exists](https://stackoverflow.com/questions/37397205/google-firebase-check-if-child-exists). `....child(usernameFGS).equals(true)` will never be true.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37397205/google-firebase-check-if-child-exists\">Google firebase check if child exists</a>. <code>....child(usernameFGS).equals(true)</code> will never be true."},{"owner":{"account_id":21091690,"reputation":103,"user_id":15503457,"display_name":"Raymond Jian"},"score":0,"creation_date":1643272918,"post_id":70875059,"comment_id":125296984,"body_markdown":"but within my database it is true though","body":"but within my database it is true though"},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":0,"creation_date":1643273851,"post_id":70875059,"comment_id":125297299,"body_markdown":"[`DataSnapshot.child(String)`](https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#child(java.lang.String)) returns another `DataSnapshot`, not the value at that node. You can take a look [here](https://firebase.google.com/docs/database/android/read-and-write) for details on how to properly read data.","body":"<a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#child(java.lang.String)\" rel=\"nofollow noreferrer\"><code>DataSnapshot.child(String)</code></a> returns another <code>DataSnapshot</code>, not the value at that node. You can take a look <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">here</a> for details on how to properly read data."},{"owner":{"account_id":21091690,"reputation":103,"user_id":15503457,"display_name":"Raymond Jian"},"score":0,"creation_date":1643285293,"post_id":70875059,"comment_id":125301695,"body_markdown":"what can i amend to improve or fix the current code @HenryTwist, please, it would be much appreciated","body":"what can i amend to improve or fix the current code @HenryTwist, please, it would be much appreciated"},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":0,"creation_date":1643292479,"post_id":70875059,"comment_id":125304614,"body_markdown":"What have you got so far after reading the article I linked?","body":"What have you got so far after reading the article I linked?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643296790,"creation_date":1643296790,"answer_id":70881099,"question_id":70875059,"body_markdown":"*There is way too much going on in your question, so I&#39;m just going to point out the first few problems that I noticed. For future questions, please follow the guidance in [how to create a minimal, complete, verifiable example](http://stackoverflow.com/help/mcve).*\r\n\r\n---\r\n\r\nThis code won&#39;t work:\r\n\r\n```\r\nif (snapshotter.child(roomnameunderCustomerBooked).child(usernameFGS).equals(true)) {\r\n```\r\n\r\nSince `snapshotter` is a `DataSnapshot`, so is `snapshotter.child(roomnameunderCustomerBooked).child(usernameFGS)`. So you&#39;re comparing a `DataSnapshot` object with a literal `true` value, and that&#39;s never going to match.\r\n\r\nYou&#39;ll want to instead compare the boolean **value of** the `DataSnapshot` with `true`, which you can do with:\r\n\r\n```\r\nbool value = snapshotter.child(roomnameunderCustomerBooked).child(usernameFGS).getValue(Boolean.class);\r\nif (value.equals(true)) {\r\n```\r\n\r\n---\r\n\r\nYou&#39;re leaving `onCancelled` empty, which means that you&#39;re ignoring important error messages that may be raised. `onCancelled` should *never* be empty, and at its minimum should look something like:\r\n\r\n```\r\npublic void onCancelled(@NonNull DatabaseError databaseError) { \r\n    throw databaseError.toException(); \r\n}\r\n```","title":"Data is not retrieving from the firebase","body":"<p><em>There is way too much going on in your question, so I'm just going to point out the first few problems that I noticed. For future questions, please follow the guidance in <a href=\"http://stackoverflow.com/help/mcve\">how to create a minimal, complete, verifiable example</a>.</em></p>\n<hr />\n<p>This code won't work:</p>\n<pre><code>if (snapshotter.child(roomnameunderCustomerBooked).child(usernameFGS).equals(true)) {\n</code></pre>\n<p>Since <code>snapshotter</code> is a <code>DataSnapshot</code>, so is <code>snapshotter.child(roomnameunderCustomerBooked).child(usernameFGS)</code>. So you're comparing a <code>DataSnapshot</code> object with a literal <code>true</code> value, and that's never going to match.</p>\n<p>You'll want to instead compare the boolean <strong>value of</strong> the <code>DataSnapshot</code> with <code>true</code>, which you can do with:</p>\n<pre><code>bool value = snapshotter.child(roomnameunderCustomerBooked).child(usernameFGS).getValue(Boolean.class);\nif (value.equals(true)) {\n</code></pre>\n<hr />\n<p>You're leaving <code>onCancelled</code> empty, which means that you're ignoring important error messages that may be raised. <code>onCancelled</code> should <em>never</em> be empty, and at its minimum should look something like:</p>\n<pre><code>public void onCancelled(@NonNull DatabaseError databaseError) { \n    throw databaseError.toException(); \n}\n</code></pre>\n"}],"owner":{"account_id":21091690,"reputation":103,"user_id":15503457,"display_name":"Raymond Jian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1643296790,"creation_date":1643270230,"question_id":70875059,"body_markdown":" Why am i not getting data even though i have specifically pointed my reference to that child of that child\r\n\r\nMy goals is to:\r\n\r\nFirstly, check if the customer has booked the specific room within the RoomsToCustomer table and if its true go to the second check which is checking if the roomname is still exist within the Rooms table if its true then retrieve everything from there, but the problem is it doesnt seem to retrieve the data at all, and im not sure why.\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n        protected void onBindViewHolder(@NonNull @NotNull CustomerBookedRoomAdapter.myViewHolder holder, int position, @NonNull @NotNull RoomDataForAdapter model) {\r\n    \r\n            roomnameunderCustomerBooked = model.getRoomname();\r\n            dataReferenceForCUSTBOOKEDADPT = FirebaseDatabase.getInstance().getReference().child(&quot;Rooms&quot;);\r\n            dataReferenceForROOMBOOKEDBOOLEAN = FirebaseDatabase.getInstance().getReference().child(&quot;RoomsToCustomer&quot;);\r\n    \r\n            dataReferenceForROOMBOOKEDBOOLEAN.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull @NotNull DataSnapshot snapshotter) {\r\n                    if(snapshotter.child(roomnameunderCustomerBooked).child(usernameFGS).equals(true)){\r\n                        dataReferenceForCUSTBOOKEDADPT.addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            //model.getRoomname().equals(snapshot.child(&quot;roomname&quot;).exists())\r\n                            public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n                                if(roomnameunderCustomerBooked.equals(snapshot.child(roomnameunderCustomerBooked).exists())){\r\n    \r\n                                    String updatedRoomStatus = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomstatus&quot;).getValue().toString();\r\n                                    String roomType = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomtype&quot;).getValue().toString();\r\n                                    String roomCapacity = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomcapacity&quot;).getValue().toString();\r\n                                    String roomName = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomname&quot;).getValue().toString();\r\n                                    String roomPrice = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomprice&quot;).getValue().toString();\r\n                                    String roomCharacteristics = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomcharacteristics&quot;).getValue().toString();\r\n                                    String roomImage = snapshot.child(roomnameunderCustomerBooked).child(&quot;imageUrl&quot;).getValue().toString();\r\n    \r\n    \r\n                                    holder.roomName.setText(roomName);\r\n                                    holder.roomType.setText(roomType);\r\n                                    holder.roomCapacity.setText(roomCapacity);\r\n    \r\n                                    if(updatedRoomStatus.equals(&quot;Available&quot;)){\r\n                                        String  availaFormat = &quot;Available      &quot;;\r\n                                        holder.roomStatus.setText(availaFormat);\r\n                                        holder.roomStatus.setTextColor(Color.parseColor(&quot;#226600&quot;));\r\n                                    }else if(updatedRoomStatus.equals(&quot;Unavailable&quot;)){\r\n                                        String  unavailaFormat = &quot;Unavailable   &quot;;\r\n                                        holder.roomStatus.setText(unavailaFormat);\r\n                                        holder.roomStatus.setTextColor(Color.parseColor(&quot;#C91818&quot;));\r\n                                    }else if(updatedRoomStatus.equals(&quot;Maintenance&quot;)){\r\n                                        String  umFormat = &quot;Under\\nMaintenance&quot;;\r\n                                        holder.roomStatus.setText(umFormat);\r\n                                        holder.roomStatus.setTextColor(Color.parseColor(&quot;#CCAA00&quot;));\r\n    \r\n                                        //Set room &quot;Under Maintenance&quot; word alignment in a proper way\r\n                                        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);\r\n                                        params.setMargins(29,-28,0,0);\r\n                                        holder.roomStatus.setLayoutParams(params);\r\n                                    }\r\n                                    else{\r\n                                        holder.roomStatus.setText(updatedRoomStatus);\r\n                                        holder.roomStatus.setTextColor(Color.parseColor(&quot;#a4c639 &quot;));\r\n                                    }\r\n                                    holder.roomPrice.setText(roomPrice);\r\n                                    holder.roomCharacteristics.setText(roomCharacteristics);\r\n                                    Picasso.get().load(roomImage).fit().into(holder.roomImage);\r\n    \r\n    \r\n                                }\r\n    \r\n    \r\n                            }\r\n    \r\n    \r\n    \r\n                            @Override\r\n                            public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n    \r\n                            }\r\n                        });\r\n    \r\n    \r\n    \r\n    \r\n                    }else{\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n\r\nPlease take a look at my JSON file:\r\n\r\n    {\r\n      &quot;Customer&quot; : {\r\n        &quot;johnny123&quot; : {\r\n          &quot;email&quot; : &quot;johnny@gmail.com&quot;,\r\n          &quot;fullname&quot; : &quot;johnny&quot;,\r\n          &quot;password&quot; : &quot;Abcbc12345&quot;,\r\n          &quot;username&quot; : &quot;johnny123&quot;\r\n        },\r\n        &quot;tjing123&quot; : {\r\n          &quot;email&quot; : &quot;jh@gmail.com&quot;,\r\n          &quot;fullname&quot; : &quot;JingHuan&quot;,\r\n          &quot;password&quot; : &quot;1&quot;,\r\n          &quot;username&quot; : &quot;tjing123&quot;\r\n        }\r\n      },\r\n      &quot;CustomerBookedRooms&quot; : {\r\n        &quot;johnny123&quot; : {\r\n          &quot;CozyCone&quot; : {\r\n            &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F7b07e1ba-dabb-43b4-872b-087df75f8df6%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A277e0ed8-e053-48bb-8d04-3d720ba8264e%2FORIGINAL%2FNONE%2F691350677?alt=media&amp;token=b043022c-a54a-4e2e-afa2-345d266c9c47&quot;,\r\n            &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n            &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n            &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n            &quot;roomname&quot; : &quot;CozyCone&quot;,\r\n            &quot;roomprice&quot; : &quot;288.00&quot;,\r\n            &quot;roomstatus&quot; : &quot;Available&quot;,\r\n            &quot;roomtype&quot; : &quot;Master Room&quot;,\r\n            &quot;username&quot; : &quot;johnny123&quot;\r\n          },\r\n          &quot;TheVamps&quot; : {\r\n            &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F60ea14ef-93bf-4c04-bb75-0a95731511dd%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A9145b259-426c-447a-a6b0-53cbf5770ace%2FORIGINAL%2FNONE%2F558417666?alt=media&amp;token=eb57f6e6-fd81-4d90-a485-de40885a4a43&quot;,\r\n            &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n            &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n            &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n            &quot;roomname&quot; : &quot;TheVamps&quot;,\r\n            &quot;roomprice&quot; : &quot;499.00&quot;,\r\n            &quot;roomstatus&quot; : &quot;Available&quot;,\r\n            &quot;roomtype&quot; : &quot;Master Room&quot;,\r\n            &quot;username&quot; : &quot;johnny123&quot;\r\n          }\r\n        },\r\n        &quot;tjing123&quot; : {\r\n          &quot;CozyCone&quot; : {\r\n            &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F7b07e1ba-dabb-43b4-872b-087df75f8df6%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A277e0ed8-e053-48bb-8d04-3d720ba8264e%2FORIGINAL%2FNONE%2F691350677?alt=media&amp;token=b043022c-a54a-4e2e-afa2-345d266c9c47&quot;,\r\n            &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n            &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n            &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n            &quot;roomname&quot; : &quot;CozyCone&quot;,\r\n            &quot;roomprice&quot; : &quot;288.00&quot;,\r\n            &quot;roomstatus&quot; : &quot;Available&quot;,\r\n            &quot;roomtype&quot; : &quot;Master Room&quot;,\r\n            &quot;username&quot; : &quot;tjing123&quot;\r\n          },\r\n          &quot;TheVamps&quot; : {\r\n            &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F60ea14ef-93bf-4c04-bb75-0a95731511dd%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A9145b259-426c-447a-a6b0-53cbf5770ace%2FORIGINAL%2FNONE%2F558417666?alt=media&amp;token=eb57f6e6-fd81-4d90-a485-de40885a4a43&quot;,\r\n            &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n            &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n            &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n            &quot;roomname&quot; : &quot;TheVamps&quot;,\r\n            &quot;roomprice&quot; : &quot;499.00&quot;,\r\n            &quot;roomstatus&quot; : &quot;Available&quot;,\r\n            &quot;roomtype&quot; : &quot;Master Room&quot;,\r\n            &quot;username&quot; : &quot;tjing123&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;Rooms&quot; : {\r\n        &quot;CozyCone&quot; : {\r\n          &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F7b07e1ba-dabb-43b4-872b-087df75f8df6%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A277e0ed8-e053-48bb-8d04-3d720ba8264e%2FORIGINAL%2FNONE%2F691350677?alt=media&amp;token=b043022c-a54a-4e2e-afa2-345d266c9c47&quot;,\r\n          &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n          &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n          &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n          &quot;roomcounts&quot; : &quot;115&quot;,\r\n          &quot;roomid&quot; : &quot;1234&quot;,\r\n          &quot;roomname&quot; : &quot;CozyCone&quot;,\r\n          &quot;roomprice&quot; : &quot;288.00&quot;,\r\n          &quot;roomstatus&quot; : &quot;Available&quot;,\r\n          &quot;roomtype&quot; : &quot;Master Room&quot;\r\n        },\r\n        &quot;TheVamps&quot; : {\r\n          &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F60ea14ef-93bf-4c04-bb75-0a95731511dd%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A9145b259-426c-447a-a6b0-53cbf5770ace%2FORIGINAL%2FNONE%2F558417666?alt=media&amp;token=eb57f6e6-fd81-4d90-a485-de40885a4a43&quot;,\r\n          &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n          &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n          &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n          &quot;roomcounts&quot; : &quot;29&quot;,\r\n          &quot;roomid&quot; : &quot;8888&quot;,\r\n          &quot;roomname&quot; : &quot;TheVamps&quot;,\r\n          &quot;roomprice&quot; : &quot;499.00&quot;,\r\n          &quot;roomstatus&quot; : &quot;Available&quot;,\r\n          &quot;roomtype&quot; : &quot;Master Room&quot;\r\n        }\r\n      },\r\n      &quot;RoomsToCustomer&quot; : {\r\n        &quot;CozyCone&quot; : {\r\n          &quot;johnny123&quot; : true,\r\n          &quot;tjing123&quot; : true\r\n        },\r\n        &quot;TheVamps&quot; : {\r\n          &quot;johnny123&quot; : true,\r\n          &quot;tjing123&quot; : true\r\n        }\r\n      },\r\n      &quot;Staff&quot; : {\r\n        &quot;tt&quot; : {\r\n          &quot;email&quot; : &quot;raymondting521@gmail.com&quot;,\r\n          &quot;fullname&quot; : &quot;raymondting&quot;,\r\n          &quot;password&quot; : &quot;Abcbc12345&quot;,\r\n          &quot;username&quot; : &quot;tt&quot;\r\n        }\r\n      }\r\n    }","title":"Data is not retrieving from the firebase","body":"<p>Why am i not getting data even though i have specifically pointed my reference to that child of that child</p>\n<p>My goals is to:</p>\n<p>Firstly, check if the customer has booked the specific room within the RoomsToCustomer table and if its true go to the second check which is checking if the roomname is still exist within the Rooms table if its true then retrieve everything from there, but the problem is it doesnt seem to retrieve the data at all, and im not sure why.</p>\n<pre><code>@Override\n    protected void onBindViewHolder(@NonNull @NotNull CustomerBookedRoomAdapter.myViewHolder holder, int position, @NonNull @NotNull RoomDataForAdapter model) {\n\n        roomnameunderCustomerBooked = model.getRoomname();\n        dataReferenceForCUSTBOOKEDADPT = FirebaseDatabase.getInstance().getReference().child(&quot;Rooms&quot;);\n        dataReferenceForROOMBOOKEDBOOLEAN = FirebaseDatabase.getInstance().getReference().child(&quot;RoomsToCustomer&quot;);\n\n        dataReferenceForROOMBOOKEDBOOLEAN.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull @NotNull DataSnapshot snapshotter) {\n                if(snapshotter.child(roomnameunderCustomerBooked).child(usernameFGS).equals(true)){\n                    dataReferenceForCUSTBOOKEDADPT.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        //model.getRoomname().equals(snapshot.child(&quot;roomname&quot;).exists())\n                        public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n                            if(roomnameunderCustomerBooked.equals(snapshot.child(roomnameunderCustomerBooked).exists())){\n\n                                String updatedRoomStatus = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomstatus&quot;).getValue().toString();\n                                String roomType = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomtype&quot;).getValue().toString();\n                                String roomCapacity = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomcapacity&quot;).getValue().toString();\n                                String roomName = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomname&quot;).getValue().toString();\n                                String roomPrice = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomprice&quot;).getValue().toString();\n                                String roomCharacteristics = snapshot.child(roomnameunderCustomerBooked).child(&quot;roomcharacteristics&quot;).getValue().toString();\n                                String roomImage = snapshot.child(roomnameunderCustomerBooked).child(&quot;imageUrl&quot;).getValue().toString();\n\n\n                                holder.roomName.setText(roomName);\n                                holder.roomType.setText(roomType);\n                                holder.roomCapacity.setText(roomCapacity);\n\n                                if(updatedRoomStatus.equals(&quot;Available&quot;)){\n                                    String  availaFormat = &quot;Available      &quot;;\n                                    holder.roomStatus.setText(availaFormat);\n                                    holder.roomStatus.setTextColor(Color.parseColor(&quot;#226600&quot;));\n                                }else if(updatedRoomStatus.equals(&quot;Unavailable&quot;)){\n                                    String  unavailaFormat = &quot;Unavailable   &quot;;\n                                    holder.roomStatus.setText(unavailaFormat);\n                                    holder.roomStatus.setTextColor(Color.parseColor(&quot;#C91818&quot;));\n                                }else if(updatedRoomStatus.equals(&quot;Maintenance&quot;)){\n                                    String  umFormat = &quot;Under\\nMaintenance&quot;;\n                                    holder.roomStatus.setText(umFormat);\n                                    holder.roomStatus.setTextColor(Color.parseColor(&quot;#CCAA00&quot;));\n\n                                    //Set room &quot;Under Maintenance&quot; word alignment in a proper way\n                                    LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);\n                                    params.setMargins(29,-28,0,0);\n                                    holder.roomStatus.setLayoutParams(params);\n                                }\n                                else{\n                                    holder.roomStatus.setText(updatedRoomStatus);\n                                    holder.roomStatus.setTextColor(Color.parseColor(&quot;#a4c639 &quot;));\n                                }\n                                holder.roomPrice.setText(roomPrice);\n                                holder.roomCharacteristics.setText(roomCharacteristics);\n                                Picasso.get().load(roomImage).fit().into(holder.roomImage);\n\n\n                            }\n\n\n                        }\n\n\n\n                        @Override\n                        public void onCancelled(@NonNull @NotNull DatabaseError error) {\n\n                        }\n                    });\n\n\n\n\n                }else{\n\n                }\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull @NotNull DatabaseError error) {\n\n            }\n        });\n</code></pre>\n<p>Please take a look at my JSON file:</p>\n<pre><code>{\n  &quot;Customer&quot; : {\n    &quot;johnny123&quot; : {\n      &quot;email&quot; : &quot;johnny@gmail.com&quot;,\n      &quot;fullname&quot; : &quot;johnny&quot;,\n      &quot;password&quot; : &quot;Abcbc12345&quot;,\n      &quot;username&quot; : &quot;johnny123&quot;\n    },\n    &quot;tjing123&quot; : {\n      &quot;email&quot; : &quot;jh@gmail.com&quot;,\n      &quot;fullname&quot; : &quot;JingHuan&quot;,\n      &quot;password&quot; : &quot;1&quot;,\n      &quot;username&quot; : &quot;tjing123&quot;\n    }\n  },\n  &quot;CustomerBookedRooms&quot; : {\n    &quot;johnny123&quot; : {\n      &quot;CozyCone&quot; : {\n        &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F7b07e1ba-dabb-43b4-872b-087df75f8df6%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A277e0ed8-e053-48bb-8d04-3d720ba8264e%2FORIGINAL%2FNONE%2F691350677?alt=media&amp;token=b043022c-a54a-4e2e-afa2-345d266c9c47&quot;,\n        &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n        &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n        &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n        &quot;roomname&quot; : &quot;CozyCone&quot;,\n        &quot;roomprice&quot; : &quot;288.00&quot;,\n        &quot;roomstatus&quot; : &quot;Available&quot;,\n        &quot;roomtype&quot; : &quot;Master Room&quot;,\n        &quot;username&quot; : &quot;johnny123&quot;\n      },\n      &quot;TheVamps&quot; : {\n        &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F60ea14ef-93bf-4c04-bb75-0a95731511dd%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A9145b259-426c-447a-a6b0-53cbf5770ace%2FORIGINAL%2FNONE%2F558417666?alt=media&amp;token=eb57f6e6-fd81-4d90-a485-de40885a4a43&quot;,\n        &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n        &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n        &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n        &quot;roomname&quot; : &quot;TheVamps&quot;,\n        &quot;roomprice&quot; : &quot;499.00&quot;,\n        &quot;roomstatus&quot; : &quot;Available&quot;,\n        &quot;roomtype&quot; : &quot;Master Room&quot;,\n        &quot;username&quot; : &quot;johnny123&quot;\n      }\n    },\n    &quot;tjing123&quot; : {\n      &quot;CozyCone&quot; : {\n        &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F7b07e1ba-dabb-43b4-872b-087df75f8df6%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A277e0ed8-e053-48bb-8d04-3d720ba8264e%2FORIGINAL%2FNONE%2F691350677?alt=media&amp;token=b043022c-a54a-4e2e-afa2-345d266c9c47&quot;,\n        &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n        &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n        &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n        &quot;roomname&quot; : &quot;CozyCone&quot;,\n        &quot;roomprice&quot; : &quot;288.00&quot;,\n        &quot;roomstatus&quot; : &quot;Available&quot;,\n        &quot;roomtype&quot; : &quot;Master Room&quot;,\n        &quot;username&quot; : &quot;tjing123&quot;\n      },\n      &quot;TheVamps&quot; : {\n        &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F60ea14ef-93bf-4c04-bb75-0a95731511dd%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A9145b259-426c-447a-a6b0-53cbf5770ace%2FORIGINAL%2FNONE%2F558417666?alt=media&amp;token=eb57f6e6-fd81-4d90-a485-de40885a4a43&quot;,\n        &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n        &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n        &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n        &quot;roomname&quot; : &quot;TheVamps&quot;,\n        &quot;roomprice&quot; : &quot;499.00&quot;,\n        &quot;roomstatus&quot; : &quot;Available&quot;,\n        &quot;roomtype&quot; : &quot;Master Room&quot;,\n        &quot;username&quot; : &quot;tjing123&quot;\n      }\n    }\n  },\n  &quot;Rooms&quot; : {\n    &quot;CozyCone&quot; : {\n      &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F7b07e1ba-dabb-43b4-872b-087df75f8df6%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A277e0ed8-e053-48bb-8d04-3d720ba8264e%2FORIGINAL%2FNONE%2F691350677?alt=media&amp;token=b043022c-a54a-4e2e-afa2-345d266c9c47&quot;,\n      &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n      &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n      &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n      &quot;roomcounts&quot; : &quot;115&quot;,\n      &quot;roomid&quot; : &quot;1234&quot;,\n      &quot;roomname&quot; : &quot;CozyCone&quot;,\n      &quot;roomprice&quot; : &quot;288.00&quot;,\n      &quot;roomstatus&quot; : &quot;Available&quot;,\n      &quot;roomtype&quot; : &quot;Master Room&quot;\n    },\n    &quot;TheVamps&quot; : {\n      &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F60ea14ef-93bf-4c04-bb75-0a95731511dd%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253A9145b259-426c-447a-a6b0-53cbf5770ace%2FORIGINAL%2FNONE%2F558417666?alt=media&amp;token=eb57f6e6-fd81-4d90-a485-de40885a4a43&quot;,\n      &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n      &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n      &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n      &quot;roomcounts&quot; : &quot;29&quot;,\n      &quot;roomid&quot; : &quot;8888&quot;,\n      &quot;roomname&quot; : &quot;TheVamps&quot;,\n      &quot;roomprice&quot; : &quot;499.00&quot;,\n      &quot;roomstatus&quot; : &quot;Available&quot;,\n      &quot;roomtype&quot; : &quot;Master Room&quot;\n    }\n  },\n  &quot;RoomsToCustomer&quot; : {\n    &quot;CozyCone&quot; : {\n      &quot;johnny123&quot; : true,\n      &quot;tjing123&quot; : true\n    },\n    &quot;TheVamps&quot; : {\n      &quot;johnny123&quot; : true,\n      &quot;tjing123&quot; : true\n    }\n  },\n  &quot;Staff&quot; : {\n    &quot;tt&quot; : {\n      &quot;email&quot; : &quot;raymondting521@gmail.com&quot;,\n      &quot;fullname&quot; : &quot;raymondting&quot;,\n      &quot;password&quot; : &quot;Abcbc12345&quot;,\n      &quot;username&quot; : &quot;tt&quot;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1643305413,"post_id":70881078,"comment_id":125310552,"body_markdown":"Cucumber JVM doesn&#39;t rerun anything on it&#39;s own. You may want to look at your own systems.","body":"Cucumber JVM doesn&#39;t rerun anything on it&#39;s own. You may want to look at your own systems."},{"owner":{"account_id":12831592,"reputation":1,"user_id":9282579,"display_name":"Tigersix"},"score":0,"creation_date":1643444537,"post_id":70881078,"comment_id":125344980,"body_markdown":"I don’t understand what you mean?","body":"I don’t understand what you mean?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1643487378,"post_id":70881078,"comment_id":125354899,"body_markdown":"You&#39;re thinking that Cucumber retries failed scenarios 3 times by default. Cucumber doesn&#39;t do that. So either you may not be using Cucumber and need to look at the documentation of what you are actually using, or something else is using Cucumber to retry failures. Or there is something else that only you can know or learn about.","body":"You&#39;re thinking that Cucumber retries failed scenarios 3 times by default. Cucumber doesn&#39;t do that. So either you may not be using Cucumber and need to look at the documentation of what you are actually using, or something else is using Cucumber to retry failures. Or there is something else that only you can know or learn about."},{"owner":{"account_id":12831592,"reputation":1,"user_id":9282579,"display_name":"Tigersix"},"score":0,"creation_date":1643611249,"post_id":70881078,"comment_id":125376824,"body_markdown":"Ok, then I have been looking at the wrong place (when searched on google I really got the understanding that the retries were implemented directly in Cucumber). And since I don&#39;t implement it explicitly myself, I guess it is either in Spring or JUnit I should look further. Thank you!","body":"Ok, then I have been looking at the wrong place (when searched on google I really got the understanding that the retries were implemented directly in Cucumber). And since I don&#39;t implement it explicitly myself, I guess it is either in Spring or JUnit I should look further. Thank you!"}],"owner":{"account_id":12831592,"reputation":1,"user_id":9282579,"display_name":"Tigersix"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643296733,"creation_date":1643296733,"question_id":70881078,"body_markdown":"I&#39;m using cucumber-jvm in a java project and would like to configure it to not do any reruns if a test fails, default is that it tries 3 times.\r\nI have searched &quot;everywhere&quot; but filed to find how to to that (thought it should be easy). Is it so that there is no way to do that? ","title":"Limit number of retries Cucumber does","body":"<p>I'm using cucumber-jvm in a java project and would like to configure it to not do any reruns if a test fails, default is that it tries 3 times.\nI have searched &quot;everywhere&quot; but filed to find how to to that (thought it should be easy). Is it so that there is no way to do that?</p>\n"},{"tags":["java","google-ads-api"],"answers":[{"tags":[],"owner":{"account_id":3332749,"reputation":844,"user_id":2801259,"display_name":"Dave Davis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643296701,"creation_date":1643296701,"answer_id":70881070,"question_id":70835272,"body_markdown":"It depends. Are you using a service account or authorization credentials for the user?\r\n\r\nThis matters because you can run a simple query against the regular service on the customer_client resource to get the logged in customer accounts. \r\n\r\n    SELECT \r\n    customer_client.client_customer, \r\n    customer_client.level, \r\n    customer_client.manager, \r\n    customer_client.descriptive_name, \r\n    customer_client.currency_code, \r\n    customer_client.time_zone, \r\n    customer_client.id \r\n    FROM&#160;customer_client \r\n    WHERE&#160;customer_client.level&#160;&lt;=&#160;1","title":"Migrate getCustomers method from Ad Words to Google Ads","body":"<p>It depends. Are you using a service account or authorization credentials for the user?</p>\n<p>This matters because you can run a simple query against the regular service on the customer_client resource to get the logged in customer accounts.</p>\n<pre><code>SELECT \ncustomer_client.client_customer, \ncustomer_client.level, \ncustomer_client.manager, \ncustomer_client.descriptive_name, \ncustomer_client.currency_code, \ncustomer_client.time_zone, \ncustomer_client.id \nFROM customer_client \nWHERE customer_client.level &lt;= 1\n</code></pre>\n"}],"owner":{"account_id":1495402,"reputation":2213,"user_id":1401472,"accept_rate":78,"display_name":"user1401472"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643296701,"creation_date":1643033740,"question_id":70835272,"body_markdown":"We are in process of migrating code from Ad Words to Google Ads. First step from this is to get all customers which are assigned to for logged in user. For this Ad Words has an API called &quot;CustomerServiceInterface.getCustomers&quot; method which returns all customers at once.\r\n\r\nBut in Google Ads, there doesn&#39;t seem to be similar method. All we could find was [get-account-hierarchy][1]\r\n\r\nLooking at the code, it is getting all child accounts by recursion method. \r\n\r\nThis has a major performance bottleneck as it has to iterate over all accessible customers first and then recursively over all manager and their children. \r\n\r\nQuestion for the experts here - is there any efficient way I can get all customers at once? At least can we get all managers accessible to logged in user?\r\n\r\nWe did find a relevant article - https://groups.google.com/g/adwords-api/c/UHWxe7ag7zI. But that seems to talk about API quota rather than performance. \r\n\r\n  [1]: https://developers.google.com/google-ads/api/docs/account-management/get-account-hierarchy","title":"Migrate getCustomers method from Ad Words to Google Ads","body":"<p>We are in process of migrating code from Ad Words to Google Ads. First step from this is to get all customers which are assigned to for logged in user. For this Ad Words has an API called &quot;CustomerServiceInterface.getCustomers&quot; method which returns all customers at once.</p>\n<p>But in Google Ads, there doesn't seem to be similar method. All we could find was <a href=\"https://developers.google.com/google-ads/api/docs/account-management/get-account-hierarchy\" rel=\"nofollow noreferrer\">get-account-hierarchy</a></p>\n<p>Looking at the code, it is getting all child accounts by recursion method.</p>\n<p>This has a major performance bottleneck as it has to iterate over all accessible customers first and then recursively over all manager and their children.</p>\n<p>Question for the experts here - is there any efficient way I can get all customers at once? At least can we get all managers accessible to logged in user?</p>\n<p>We did find a relevant article - <a href=\"https://groups.google.com/g/adwords-api/c/UHWxe7ag7zI\" rel=\"nofollow noreferrer\">https://groups.google.com/g/adwords-api/c/UHWxe7ag7zI</a>. But that seems to talk about API quota rather than performance.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1643297674,"post_id":70881056,"comment_id":125307069,"body_markdown":"`use-latest-releases` will always use the latest version, not the next version.","body":"<code>use-latest-releases</code> will always use the latest version, not the next version."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1643298046,"post_id":70881056,"comment_id":125307242,"body_markdown":"Continuing @JFabianMeier &#39;s comment, maybe `use-next-releases` or `use-next-versions` does what you want. If not, do consider forking the versions plugin and applying your own version logic. Maven plugins may seem intimidating at first, but they are quite manageable.","body":"Continuing @JFabianMeier &#39;s comment, maybe <code>use-next-releases</code> or <code>use-next-versions</code> does what you want. If not, do consider forking the versions plugin and applying your own version logic. Maven plugins may seem intimidating at first, but they are quite manageable."},{"owner":{"account_id":24073562,"reputation":1,"user_id":18049204,"display_name":"Catchexception"},"score":0,"creation_date":1643299217,"post_id":70881056,"comment_id":125307813,"body_markdown":"@NikosParaskevopoulos Sadly that doesn&#39;t do what I was looking for. I may have to write my own plugin but I was hoping to avoid that due to time constraints. Thanks though.","body":"@NikosParaskevopoulos Sadly that doesn&#39;t do what I was looking for. I may have to write my own plugin but I was hoping to avoid that due to time constraints. Thanks though."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643300080,"post_id":70881056,"comment_id":125308183,"body_markdown":"I would recommend to change your version policy to SemVer... that makes it easier...","body":"I would recommend to change your version policy to SemVer... that makes it easier..."}],"owner":{"account_id":24073562,"reputation":1,"user_id":18049204,"display_name":"Catchexception"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643296643,"creation_date":1643296643,"question_id":70881056,"body_markdown":"Hoping you can help me. I&#39;m trying to automate moving the dependency version inside a pom up to the next version based on the last digit.\r\n\r\nEg:\r\n\r\nRepostiory has version 1.0.1, 1.0.1.1, 1.0.1.2, 1.0.2\r\n\r\nDepdnency inside my pom is 1.0.1.1\r\n\r\nThe ideal new version would be 1.0.1.2 not 1.0.2\r\n\r\nWhen I run the `mvn versions:use-latest-releases` it is moving my depdency to 1.0.2 instead of 1.0.1.2 as I would expect. Afterall, if I branch to have a new version I don&#39;t want to start using the original branch!\r\n\r\nAfter reading about it seems to be because the versions plugin only caters for versions that have 3 segments. Any more segments and it treats it as a string to interpret the version from greatest to smallest. Of course this is correct as &quot;1.0.2&quot; is greater than &quot;1.0.1.2&quot;. However, it&#39;s not being smart enough to stop before changing to a too high of a number.\r\n\r\nHas anyone found a way or a different plugin to overcome this? Sadly our version numbers can get a bit crazy in length (not my choice).","title":"Maven versions plugin not putting up last digit only for dependency on use-latest-relases","body":"<p>Hoping you can help me. I'm trying to automate moving the dependency version inside a pom up to the next version based on the last digit.</p>\n<p>Eg:</p>\n<p>Repostiory has version 1.0.1, 1.0.1.1, 1.0.1.2, 1.0.2</p>\n<p>Depdnency inside my pom is 1.0.1.1</p>\n<p>The ideal new version would be 1.0.1.2 not 1.0.2</p>\n<p>When I run the <code>mvn versions:use-latest-releases</code> it is moving my depdency to 1.0.2 instead of 1.0.1.2 as I would expect. Afterall, if I branch to have a new version I don't want to start using the original branch!</p>\n<p>After reading about it seems to be because the versions plugin only caters for versions that have 3 segments. Any more segments and it treats it as a string to interpret the version from greatest to smallest. Of course this is correct as &quot;1.0.2&quot; is greater than &quot;1.0.1.2&quot;. However, it's not being smart enough to stop before changing to a too high of a number.</p>\n<p>Has anyone found a way or a different plugin to overcome this? Sadly our version numbers can get a bit crazy in length (not my choice).</p>\n"},{"tags":["java","spring-boot","spring-cloud","microservices","netflix-eureka"],"comments":[{"owner":{"account_id":341964,"reputation":7053,"user_id":672859,"accept_rate":54,"display_name":"Patrick Grimard"},"score":1,"creation_date":1462970095,"post_id":37159662,"comment_id":61860953,"body_markdown":"It appears as though the `RestTemplate` being injected isn&#39;t the load balanced one.  Since you&#39;re using Spring Cloud Angel.SR6 in your project, it should inject the load balanced one automatically.  The only suggestion I can think of is to annotate your `RestTemplate` with `@LoadBalanced` and see if that makes a difference.","body":"It appears as though the <code>RestTemplate</code> being injected isn&#39;t the load balanced one.  Since you&#39;re using Spring Cloud Angel.SR6 in your project, it should inject the load balanced one automatically.  The only suggestion I can think of is to annotate your <code>RestTemplate</code> with <code>@LoadBalanced</code> and see if that makes a difference."},{"owner":{"account_id":1248178,"reputation":3799,"user_id":1209187,"accept_rate":82,"display_name":"KenavR"},"score":0,"creation_date":1462986098,"post_id":37159662,"comment_id":61872937,"body_markdown":"I tried that in the past and now again, sadly the error stays the same.","body":"I tried that in the past and now again, sadly the error stays the same."},{"owner":{"account_id":341964,"reputation":7053,"user_id":672859,"accept_rate":54,"display_name":"Patrick Grimard"},"score":2,"creation_date":1462993897,"post_id":37159662,"comment_id":61877464,"body_markdown":"Have you tried Spring Cloud Brixton.RELEASE, it was released today.  Just note that with Brixton, you have to define your own `@LoadBalanced @Bean RestTemplate` because Brixton no longer creates one by default.  Then you can `@Autowire` it as usual.  Barring that, you could try calling your service with the service ID in lower case `http://my-service/test`.","body":"Have you tried Spring Cloud Brixton.RELEASE, it was released today.  Just note that with Brixton, you have to define your own <code>@LoadBalanced @Bean RestTemplate</code> because Brixton no longer creates one by default.  Then you can <code>@Autowire</code> it as usual.  Barring that, you could try calling your service with the service ID in lower case <code>http:&#47;&#47;my-service&#47;test</code>."},{"owner":{"account_id":1248178,"reputation":3799,"user_id":1209187,"accept_rate":82,"display_name":"KenavR"},"score":0,"creation_date":1463243152,"post_id":37159662,"comment_id":61987965,"body_markdown":"Switching to Brixton and changing the code were needed fixed the issue, thanks","body":"Switching to Brixton and changing the code were needed fixed the issue, thanks"}],"answers":[{"tags":[],"owner":{"account_id":1248178,"reputation":3799,"user_id":1209187,"accept_rate":82,"display_name":"KenavR"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1463243820,"creation_date":1463243820,"answer_id":37229239,"question_id":37159662,"body_markdown":"As suggested by [patrick-grimard][1] switching to Brixton and changing the code were needed fixed the issues. Working Solution is on [Github][2].\r\n\r\nAlso changed the posted `id` from request param to request body, which also changed the way I add it to the request.\r\n\r\n**Service endpoint**\r\n\r\n    @RequestMapping(method = RequestMethod.POST, produces = &quot;application/json; charset=utf-8&quot;)\r\n    public @ResponseBody Map&lt;String, String&gt; getTest(@RequestBody Map&lt;String, Long&gt; params) {\r\n        \r\n        Map&lt;String, String&gt; response = new HashMap&lt;&gt;();\r\n    \r\n        response.put(&quot;name&quot;, &quot;My Service&quot;);\r\n    \r\n        return response;\r\n    }\r\n\r\n**RestTemplate creation**\r\n\r\n    @Configuration\r\n    public class PublicAPIConfiguration {\r\n        @LoadBalanced\r\n        @Bean\r\n        RestTemplate restTemplate() {\r\n            return new RestTemplate();\r\n        }\r\n    }\r\n\r\n**Calling service**\r\n\r\n    @Service\r\n    public class MyServiceService {\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        private final String serviceUrl;\r\n    \r\n        public MyServiceService() {\r\n            this.serviceUrl = &quot;http://my-service&quot;;\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getTest() {\r\n    \r\n            Map&lt;String, Long&gt; vars = new HashMap&lt;&gt;();\r\n            vars.put(&quot;id&quot;, 1L);\r\n    \r\n            return restTemplate.postForObject(serviceUrl+&quot;/test&quot;, vars, Map.class);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/672859/patrick-grimard\r\n  [2]: https://github.com/KenavR/spring-boot-microservices-example","title":"Microservices - RestTemplate UnknownHostException","body":"<p>As suggested by <a href=\"https://stackoverflow.com/users/672859/patrick-grimard\">patrick-grimard</a> switching to Brixton and changing the code were needed fixed the issues. Working Solution is on <a href=\"https://github.com/KenavR/spring-boot-microservices-example\" rel=\"noreferrer\">Github</a>.</p>\n\n<p>Also changed the posted <code>id</code> from request param to request body, which also changed the way I add it to the request.</p>\n\n<p><strong>Service endpoint</strong></p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST, produces = \"application/json; charset=utf-8\")\npublic @ResponseBody Map&lt;String, String&gt; getTest(@RequestBody Map&lt;String, Long&gt; params) {\n\n    Map&lt;String, String&gt; response = new HashMap&lt;&gt;();\n\n    response.put(\"name\", \"My Service\");\n\n    return response;\n}\n</code></pre>\n\n<p><strong>RestTemplate creation</strong></p>\n\n<pre><code>@Configuration\npublic class PublicAPIConfiguration {\n    @LoadBalanced\n    @Bean\n    RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n}\n</code></pre>\n\n<p><strong>Calling service</strong></p>\n\n<pre><code>@Service\npublic class MyServiceService {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    private final String serviceUrl;\n\n    public MyServiceService() {\n        this.serviceUrl = \"http://my-service\";\n    }\n\n    public Map&lt;String, String&gt; getTest() {\n\n        Map&lt;String, Long&gt; vars = new HashMap&lt;&gt;();\n        vars.put(\"id\", 1L);\n\n        return restTemplate.postForObject(serviceUrl+\"/test\", vars, Map.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6338394,"reputation":402,"user_id":4921141,"accept_rate":100,"display_name":"Brent Thoenen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574196253,"creation_date":1574196253,"answer_id":58942507,"question_id":37159662,"body_markdown":"Just for anyone in the future that might also happen to come across this issue, i had the exact same stacktrace, but was slightly different for a solution.\r\n\r\nMy issue was not related to a configuration from a coding standpoint. It was related to the server i was running the code on. I was ignoring the fact that it was on a DMZ, which doesn&#39;t have a DNS, so you have to manually map a domain to an IP.\r\n\r\nMore or less, make sure your DNS is properly configured on your server, because, from a restTemplate standpoint, it will throw this exact stacktrace.","title":"Microservices - RestTemplate UnknownHostException","body":"<p>Just for anyone in the future that might also happen to come across this issue, i had the exact same stacktrace, but was slightly different for a solution.</p>\n\n<p>My issue was not related to a configuration from a coding standpoint. It was related to the server i was running the code on. I was ignoring the fact that it was on a DMZ, which doesn't have a DNS, so you have to manually map a domain to an IP.</p>\n\n<p>More or less, make sure your DNS is properly configured on your server, because, from a restTemplate standpoint, it will throw this exact stacktrace.</p>\n"},{"tags":[],"owner":{"account_id":17716661,"reputation":1,"user_id":12862818,"display_name":"alchemist bharat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643296620,"creation_date":1643296620,"answer_id":70881045,"question_id":37159662,"body_markdown":"Adding the `@LoadBalanced` to `RestTemplate` bean creation  worked for me","title":"Microservices - RestTemplate UnknownHostException","body":"<p>Adding the <code>@LoadBalanced</code> to <code>RestTemplate</code> bean creation  worked for me</p>\n"}],"owner":{"account_id":1248178,"reputation":3799,"user_id":1209187,"accept_rate":82,"display_name":"KenavR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23177,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37229239,"answer_count":3,"score":5,"last_activity_date":1643296620,"creation_date":1462961896,"question_id":37159662,"body_markdown":"I have a simple setup with a Eureka service registration server, a service for the public API and a service that gets called from the public API using RestTemplate. Eureka tells me that the services are successfully registered, but when I call the service \r\n\r\n    @Service\r\n    public class MyServiceService {\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        private final String serviceUrl;\r\n    \r\n        public MyServiceService() {\r\n            this.serviceUrl = &quot;http://MY-SERVICE&quot;;\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getTest() {\r\n    \r\n            Map&lt;String, String&gt; vars = new HashMap&lt;&gt;();\r\n            vars.put(&quot;id&quot;, &quot;1&quot;);\r\n    \r\n            restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\r\n    \r\n            return restTemplate.postForObject(serviceUrl+&quot;/test&quot;, &quot;&quot;, Map.class, vars);\r\n        }\r\n    }\r\n\r\nI get the following exception\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed;\r\n      nested exception is org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://MY-SERVICE/test&quot;: MY-SERVICE;\r\n      nested exception is java.net.UnknownHostException: MY-SERVICE] with root cause java.net.UnknownHostException: MY-SERVICE\r\n\r\nI created a sample project to illustrate my setup, maybe someone could take a look at it and tell me what&#39;s wrong with my setup.\r\n\r\nhttps://github.com/KenavR/spring-boot-microservices-example\r\n\r\nthanks","title":"Microservices - RestTemplate UnknownHostException","body":"<p>I have a simple setup with a Eureka service registration server, a service for the public API and a service that gets called from the public API using RestTemplate. Eureka tells me that the services are successfully registered, but when I call the service </p>\n\n<pre><code>@Service\npublic class MyServiceService {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    private final String serviceUrl;\n\n    public MyServiceService() {\n        this.serviceUrl = \"http://MY-SERVICE\";\n    }\n\n    public Map&lt;String, String&gt; getTest() {\n\n        Map&lt;String, String&gt; vars = new HashMap&lt;&gt;();\n        vars.put(\"id\", \"1\");\n\n        restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\n\n        return restTemplate.postForObject(serviceUrl+\"/test\", \"\", Map.class, vars);\n    }\n}\n</code></pre>\n\n<p>I get the following exception</p>\n\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed;\n  nested exception is org.springframework.web.client.ResourceAccessException: I/O error on POST request for \"http://MY-SERVICE/test\": MY-SERVICE;\n  nested exception is java.net.UnknownHostException: MY-SERVICE] with root cause java.net.UnknownHostException: MY-SERVICE\n</code></pre>\n\n<p>I created a sample project to illustrate my setup, maybe someone could take a look at it and tell me what's wrong with my setup.</p>\n\n<p><a href=\"https://github.com/KenavR/spring-boot-microservices-example\" rel=\"noreferrer\">https://github.com/KenavR/spring-boot-microservices-example</a></p>\n\n<p>thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8349,"page":1643,"page_size":100}
