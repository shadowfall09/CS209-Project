{"items":[{"tags":["java","jsp","servlets","java-ee-6","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":200728,"reputation":3833,"user_id":446738,"accept_rate":71,"display_name":"worpet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640816392,"creation_date":1640816392,"answer_id":70525602,"question_id":70499823,"body_markdown":"This is a type of variable substitution expression. Tomcat supports variable substitution for Java system properties using the syntax `${propname}`.\r\n\r\nFrom the [documentation][1]:\r\n\r\n&gt; Apache Ant-style variable substitution is supported; a system property\r\n&gt; with the name `propname` may be used in a configuration file using the\r\n&gt; syntax `${propname}`. All system properties are available including\r\n&gt; those set using the `-D` syntax, those automatically made available by\r\n&gt; the JVM and those configured in the\r\n&gt; `$CATALINA_BASE/conf/catalina.properties` file.\r\n\r\nSomewhere in your system, a Java system variable with that name is set, which makes it available for use in the configuration file. There are many ways to set a Java system variable, but common places for Tomcat are in `catalina.properties` or a [`setenv` script][2].\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/config/index.html\r\n  [2]: https://tomcat.apache.org/tomcat-9.0-doc/RUNNING.txt","title":"Java EE project, where the value comes in the WEB-INF/context.xml - Parameter value ${xxx} expression?","body":"<p>This is a type of variable substitution expression. Tomcat supports variable substitution for Java system properties using the syntax <code>${propname}</code>.</p>\n<p>From the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/index.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Apache Ant-style variable substitution is supported; a system property\nwith the name <code>propname</code> may be used in a configuration file using the\nsyntax <code>${propname}</code>. All system properties are available including\nthose set using the <code>-D</code> syntax, those automatically made available by\nthe JVM and those configured in the\n<code>$CATALINA_BASE/conf/catalina.properties</code> file.</p>\n</blockquote>\n<p>Somewhere in your system, a Java system variable with that name is set, which makes it available for use in the configuration file. There are many ways to set a Java system variable, but common places for Tomcat are in <code>catalina.properties</code> or a <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/RUNNING.txt\" rel=\"nofollow noreferrer\"><code>setenv</code> script</a>.</p>\n"}],"owner":{"account_id":248702,"reputation":111,"user_id":524262,"accept_rate":25,"display_name":"Eduardo B.M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640816392,"creation_date":1640634672,"question_id":70499823,"body_markdown":"I have a doubt in a basic Java EE, Jsp project...\r\nIn the META-INF/context.xml I have \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    \r\n    &lt;Context antiJARLocking=&quot;true&quot; path=&quot;/sna&quot; reloadable=&quot;true&quot;&gt;\r\n        (...)\r\n        &lt;Parameter name=&quot;jdbc/default/username&quot; value=&quot;${sna.oracle.username}&quot;/&gt;\r\n        (...)\r\n\r\nwhere the value ${sna.oracle.username} comes?\r\nI dont know that expression in that file...\r\n","title":"Java EE project, where the value comes in the WEB-INF/context.xml - Parameter value ${xxx} expression?","body":"<p>I have a doubt in a basic Java EE, Jsp project...\nIn the META-INF/context.xml I have</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    \n&lt;Context antiJARLocking=&quot;true&quot; path=&quot;/sna&quot; reloadable=&quot;true&quot;&gt;\n    (...)\n    &lt;Parameter name=&quot;jdbc/default/username&quot; value=&quot;${sna.oracle.username}&quot;/&gt;\n    (...)\n</code></pre>\n<p>where the value ${sna.oracle.username} comes?\nI dont know that expression in that file...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1569144912,"post_id":58047913,"comment_id":102494575,"body_markdown":"Welcome to Stack Overflow! Please read through the [help], in particular [*How do I ask a good question?*](/help/how-to-ask) Your best bet here is to do your research, [search](/help/searching) for related topics on SO, and give it a go. ***If*** you get stuck and can&#39;t get unstuck after doing more research and searching, post a [mcve] of your attempt and say specifically where you&#39;re stuck. People will be glad to help.","body":"Welcome to Stack Overflow! Please read through the <a href=\"https://stackoverflow.com/help\">help center</a>, in particular <a href=\"/help/how-to-ask\"><i>How do I ask a good question?</i></a> Your best bet here is to do your research, <a href=\"/help/searching\">search</a> for related topics on SO, and give it a go. <b><i>If</i></b> you get stuck and can&#39;t get unstuck after doing more research and searching, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your attempt and say specifically where you&#39;re stuck. People will be glad to help."},{"owner":{"account_id":16743096,"reputation":1,"user_id":12102183,"display_name":"jacklyn"},"score":1,"creation_date":1569145004,"post_id":58047913,"comment_id":102494602,"body_markdown":"alright sir , thank you for the help","body":"alright sir , thank you for the help"},{"owner":{"account_id":167107,"reputation":3383,"user_id":391691,"display_name":"Simson"},"score":0,"creation_date":1569156342,"post_id":58047913,"comment_id":102497173,"body_markdown":"Simple answer will be &quot;it depends...&quot; try to narrow it down some more, what kind of fps are you using, how do you plan to connected it? What frameworks are you planing to use. Are you looking for the captured image or do you want to use the authentication system already in place.","body":"Simple answer will be &quot;it depends...&quot; try to narrow it down some more, what kind of fps are you using, how do you plan to connected it? What frameworks are you planing to use. Are you looking for the captured image or do you want to use the authentication system already in place."},{"owner":{"account_id":16743096,"reputation":1,"user_id":12102183,"display_name":"jacklyn"},"score":0,"creation_date":1569160041,"post_id":58047913,"comment_id":102497988,"body_markdown":"Actually I don&#39;t know what framework to use , basiclly the fingerprint device has an Access DataBase where it stores time of entery and time of exit and who&#39;s fingerprint is this one , and my java application need to get those information from the database to do statistics, please help","body":"Actually I don&#39;t know what framework to use , basiclly the fingerprint device has an Access DataBase where it stores time of entery and time of exit and who&#39;s fingerprint is this one , and my java application need to get those information from the database to do statistics, please help"}],"owner":{"account_id":16743096,"reputation":1,"user_id":12102183,"display_name":"jacklyn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640815702,"creation_date":1569144699,"question_id":58047913,"body_markdown":"How can I send and receive data to a **fingerprint device** using **java** ,\r\n\r\nI am working on a desktop application using `java` that controls the fingerprint device and I need at some point to send and receive data from and to the fingerprint device.\r\n\r\nMy question is how to connect the **device** to the **desktop application** and how to send and receive data. \r\n\r\nThank you in advance","title":"How can I send and receive data to a fingerprint device using Java","body":"<p>How can I send and receive data to a <strong>fingerprint device</strong> using <strong>java</strong> ,</p>\n\n<p>I am working on a desktop application using <code>java</code> that controls the fingerprint device and I need at some point to send and receive data from and to the fingerprint device.</p>\n\n<p>My question is how to connect the <strong>device</strong> to the <strong>desktop application</strong> and how to send and receive data. </p>\n\n<p>Thank you in advance</p>\n"},{"tags":["java","maven","github","jenkins","gnupg"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1640808561,"post_id":70524439,"comment_id":124665763,"body_markdown":"The maven plugin will honor local git configuration. You must have an issue there.","body":"The maven plugin will honor local git configuration. You must have an issue there."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1640808600,"post_id":70524439,"comment_id":124665773,"body_markdown":"Can&#39;t you spawn an agent with same config and run some git commands manually to debug?","body":"Can&#39;t you spawn an agent with same config and run some git commands manually to debug?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640809241,"post_id":70524439,"comment_id":124665913,"body_markdown":"Log file output... which release plugin version? etc. more information ...","body":"Log file output... which release plugin version? etc. more information ..."},{"owner":{"account_id":10333697,"reputation":51,"user_id":7622626,"display_name":"vergessen"},"score":0,"creation_date":1640814281,"post_id":70524439,"comment_id":124667395,"body_markdown":"@Ga&#235;lJ, see the above.  \n\nNote that I have also added the no-tty to the gpg.conf, thinking it may be something to do with a lack of a proper tty in the container.\n\nLast, but not least, I have tried calling ```git commit``` with the -S flag, with no luck there.","body":"@Ga&#235;lJ, see the above.    Note that I have also added the no-tty to the gpg.conf, thinking it may be something to do with a lack of a proper tty in the container.  Last, but not least, I have tried calling <code>git commit</code> with the -S flag, with no luck there."}],"owner":{"account_id":10333697,"reputation":51,"user_id":7622626,"display_name":"vergessen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1640813649,"creation_date":1640808197,"question_id":70524439,"body_markdown":"Okay, either one cannot do this, or I&#39;m missing something.\r\n\r\nTL;DR version:\r\n\r\nIn a Jenkins pipeline, I want to do a ```mvn release:prepare``` on a project that has protected branch rules requiring signed commits for ALL users, but that only (seemingly) does git commit .... without signing.  Is it possible to use the plugin with signed commits?\r\n\r\n\r\n\r\n\r\nLong version:\r\n\r\nMy Jenkins server is set up to spawn agents in the cloud and perform steps there.  My dev team (Java) wants to use the maven-release-plugin to handle new releases.  We have a beanch protection rule in place in our github repos that require signed commits for __all__ branches and __all__ users, no exceptions.\r\n\r\nEverything works fine until we get to the step where we attempt ```mvn release:prepare``` as it _seems_ to only perform a git commit that is __NOT__ signed, despite a .gitconfig that says a) always do a signed commit and b) use this gpg key to do that op with. \r\n\r\nI have the following gitconfig settings for the user running jenkins:\r\n```\r\n[alias]                                                             \r\n  commit = commit -S                                                \r\n[user]                                                             \r\n  email = [REDACTED]                                        \r\n  name = CICDUser                                                \r\n  signingkey = [REDACTED]             \r\n[commit]                                                            \r\n  gpgsign = true                                                    \r\n[tag]                                                               \r\n  gpgsign = true                                                    \r\n  forceSignAnnotated = true                                         \r\n[gpg]                                                               \r\n  program = gpg2\r\n```\r\nI also have gpg configuration to use pinentry loopback, use the agent and to read the secret from a file on the filesystem.  Gpg agent&#39;s config is set to allow the pinentry loopback.  Yes, I know, bad idea to store the passphrase on the filesystem.  If it&#39;s any consolation, these agents are spun up for the build, and then destroyed at the end.\r\n\r\nEither way, it&#39;s my understanding that git _should_ honor its config, unless maven isn&#39;t really calling out to git but using some builtin implementation.  Assuming it&#39;s the latter, or it&#39;s clobbering/ignoring my options somehow, is there a way to tell the plugin to sign commits?\r\n\r\nTIA, as always.\r\n\r\nEdited to add\r\n\r\nThe java project is using:\r\n```\r\nmaven-release plugin 3.0.0-M4\r\nopenjdk 8\r\nJenkins 2.319.1\r\ngnupg 2.2.27\r\nlibcrypt 1.8.8\r\ngit 2.30.2\r\n```\r\n\r\nNow... jenkins output.\r\n```\r\n[Pipeline] stage\r\n[Pipeline] { (Build Setup)\r\n[Pipeline] container\r\n[Pipeline] {\r\n[Pipeline] withCredentials\r\nMasking supported pattern matches of $FILE\r\n[Pipeline] {\r\n[Pipeline] sh\r\n+ cp **** /usr/share/maven/conf/settings.xml\r\n[Pipeline] }\r\n[Pipeline] // withCredentials\r\n[Pipeline] sh\r\n+ ssh-keyscan github.com\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n[Pipeline] sh\r\n+ gpg --export-ownertrust\r\n+ sed s/:.*/:5:/\r\n+ gpg --import-ownertrust\r\n[Pipeline] sh\r\n+ echo hello\r\n+ gpg2 --clearsign\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nhello\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIzBAEBCgAdFiEEtf5LJlo4KEW0XTLWUG9hI4IEwvAFAmHM0VcACgkQUG9hI4IE\r\nwvCZKBAAtS4sF2YtcLS8wTBLqNNyl/q6VCxqjMVxxMC9lic05vNNnEq0JfZUF69K\r\nZzCD2qpUwf3IbG7XUgpAvug3kZeeYvJosFn035DDakUvTBBm/I/st8UnA10qudPO\r\n+EezUIUPTO5Cup969SpBGMh7QNcZs6aOX0sHLucmOwrRQV5JdngHaa89b6jBxGXq\r\nq7KtCGN2huGPd8JTFGOen8YhiWmdmeQhuz5PPSppVHMBGRFQ42urQ7DcazsdU+NR\r\nAsKgm/f1qPSSALGgAHZQBaeDLNyRMMQNaHQwQxphvHrZ3xAx6aHMVkyH+5cvF3u9\r\nxSIO/ioUdo761Su/ZZ8Dt5xLZkN4y5yAnk8yPP/qzfT4gm3LN626ffighS0MrfnA\r\niBypABtZPjh3bI2HGDUijaqH3rbRYIeSvCPfIN2c2BrgHy5SZVo4mpAqazUw3lxC\r\nIQPTf42Xm8lDPOCj2wapxdTOMylKdvoCMMBVDvxkQxgeLmvagPfALM8t4IkEwmpH\r\nOzIq7rWW6Pi0jL6FDhZ2y1roI9xXF5sJmSkGvpZDbHvuuUsL2Fm9XZaD4nntPn0B\r\n1zoaXYXve6Y2W4spTNSAOilhPM9FmSn61Mf1Ip8bl4SmQajN/8dhz5S1Bt1P5sP0\r\nEJW8ls8EIBeVGelVyIEOc9pMJbUERt+VcWnaW0eASCUehdKCojg=\r\n=kEmN\r\n-----END PGP SIGNATURE-----\r\n[Pipeline] sh\r\n+ git config --global -l\r\nuser.email=[REDACTED]\r\nuser.name=CICDUser\r\nuser.signingkey=B5FE4B265A382845B45D32D6506F61238204C2F0\r\ncommit.gpgsign=true\r\ntag.gpgsign=true\r\ntag.forcesignannotated=true\r\ngpg.program=gpg2\r\n[Pipeline] sh\r\n+ gpg2 --list-keys\r\n/root/.gnupg/pubring.kbx\r\n------------------------\r\npub   rsa4096 2021-12-28 [SC]\r\n      B5FE4B265A382845B45D32D6506F61238204C2F0\r\nuid           [ unknown] CICDUser &lt;[REDACTED]&gt;\r\nsub   rsa4096 2021-12-28 [E]\r\n\r\n[Pipeline] sh\r\n+ echo this is a test\r\n[Pipeline] sh\r\n+ git add .\r\n[Pipeline] sh\r\n+ git commit -S -mTesting\r\n[test fd220d0] Testing\r\n 1 file changed, 1 insertion(+)\r\n create mode 100644 test_file.txt\r\n[Pipeline] sh\r\n+ git push --set-upstream origin test\r\nWarning: Permanently added the ECDSA host key for IP address &#39;140.82.112.3&#39; to the list of known hosts.\r\nremote: error: GH006: Protected branch update failed for refs/heads/test.        \r\nremote: error: Commits must have valid signatures.        \r\nTo github.com:[REDACTED].git\r\n ! [remote rejected] test -&gt; test (protected branch hook declined)\r\nerror: failed to push some refs to &#39;github.com:[REDACTED]&#39;\r\n```","title":"Can one use maven&#39;s prepare release with a github protected branch?","body":"<p>Okay, either one cannot do this, or I'm missing something.</p>\n<p>TL;DR version:</p>\n<p>In a Jenkins pipeline, I want to do a <code>mvn release:prepare</code> on a project that has protected branch rules requiring signed commits for ALL users, but that only (seemingly) does git commit .... without signing.  Is it possible to use the plugin with signed commits?</p>\n<p>Long version:</p>\n<p>My Jenkins server is set up to spawn agents in the cloud and perform steps there.  My dev team (Java) wants to use the maven-release-plugin to handle new releases.  We have a beanch protection rule in place in our github repos that require signed commits for <strong>all</strong> branches and <strong>all</strong> users, no exceptions.</p>\n<p>Everything works fine until we get to the step where we attempt <code>mvn release:prepare</code> as it <em>seems</em> to only perform a git commit that is <strong>NOT</strong> signed, despite a .gitconfig that says a) always do a signed commit and b) use this gpg key to do that op with.</p>\n<p>I have the following gitconfig settings for the user running jenkins:</p>\n<pre><code>[alias]                                                             \n  commit = commit -S                                                \n[user]                                                             \n  email = [REDACTED]                                        \n  name = CICDUser                                                \n  signingkey = [REDACTED]             \n[commit]                                                            \n  gpgsign = true                                                    \n[tag]                                                               \n  gpgsign = true                                                    \n  forceSignAnnotated = true                                         \n[gpg]                                                               \n  program = gpg2\n</code></pre>\n<p>I also have gpg configuration to use pinentry loopback, use the agent and to read the secret from a file on the filesystem.  Gpg agent's config is set to allow the pinentry loopback.  Yes, I know, bad idea to store the passphrase on the filesystem.  If it's any consolation, these agents are spun up for the build, and then destroyed at the end.</p>\n<p>Either way, it's my understanding that git <em>should</em> honor its config, unless maven isn't really calling out to git but using some builtin implementation.  Assuming it's the latter, or it's clobbering/ignoring my options somehow, is there a way to tell the plugin to sign commits?</p>\n<p>TIA, as always.</p>\n<p>Edited to add</p>\n<p>The java project is using:</p>\n<pre><code>maven-release plugin 3.0.0-M4\nopenjdk 8\nJenkins 2.319.1\ngnupg 2.2.27\nlibcrypt 1.8.8\ngit 2.30.2\n</code></pre>\n<p>Now... jenkins output.</p>\n<pre><code>[Pipeline] stage\n[Pipeline] { (Build Setup)\n[Pipeline] container\n[Pipeline] {\n[Pipeline] withCredentials\nMasking supported pattern matches of $FILE\n[Pipeline] {\n[Pipeline] sh\n+ cp **** /usr/share/maven/conf/settings.xml\n[Pipeline] }\n[Pipeline] // withCredentials\n[Pipeline] sh\n+ ssh-keyscan github.com\n# github.com:22 SSH-2.0-babeld-17a926d7\n# github.com:22 SSH-2.0-babeld-17a926d7\n# github.com:22 SSH-2.0-babeld-17a926d7\n# github.com:22 SSH-2.0-babeld-17a926d7\n# github.com:22 SSH-2.0-babeld-17a926d7\n[Pipeline] sh\n+ gpg --export-ownertrust\n+ sed s/:.*/:5:/\n+ gpg --import-ownertrust\n[Pipeline] sh\n+ echo hello\n+ gpg2 --clearsign\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nhello\n-----BEGIN PGP SIGNATURE-----\n\niQIzBAEBCgAdFiEEtf5LJlo4KEW0XTLWUG9hI4IEwvAFAmHM0VcACgkQUG9hI4IE\nwvCZKBAAtS4sF2YtcLS8wTBLqNNyl/q6VCxqjMVxxMC9lic05vNNnEq0JfZUF69K\nZzCD2qpUwf3IbG7XUgpAvug3kZeeYvJosFn035DDakUvTBBm/I/st8UnA10qudPO\n+EezUIUPTO5Cup969SpBGMh7QNcZs6aOX0sHLucmOwrRQV5JdngHaa89b6jBxGXq\nq7KtCGN2huGPd8JTFGOen8YhiWmdmeQhuz5PPSppVHMBGRFQ42urQ7DcazsdU+NR\nAsKgm/f1qPSSALGgAHZQBaeDLNyRMMQNaHQwQxphvHrZ3xAx6aHMVkyH+5cvF3u9\nxSIO/ioUdo761Su/ZZ8Dt5xLZkN4y5yAnk8yPP/qzfT4gm3LN626ffighS0MrfnA\niBypABtZPjh3bI2HGDUijaqH3rbRYIeSvCPfIN2c2BrgHy5SZVo4mpAqazUw3lxC\nIQPTf42Xm8lDPOCj2wapxdTOMylKdvoCMMBVDvxkQxgeLmvagPfALM8t4IkEwmpH\nOzIq7rWW6Pi0jL6FDhZ2y1roI9xXF5sJmSkGvpZDbHvuuUsL2Fm9XZaD4nntPn0B\n1zoaXYXve6Y2W4spTNSAOilhPM9FmSn61Mf1Ip8bl4SmQajN/8dhz5S1Bt1P5sP0\nEJW8ls8EIBeVGelVyIEOc9pMJbUERt+VcWnaW0eASCUehdKCojg=\n=kEmN\n-----END PGP SIGNATURE-----\n[Pipeline] sh\n+ git config --global -l\nuser.email=[REDACTED]\nuser.name=CICDUser\nuser.signingkey=B5FE4B265A382845B45D32D6506F61238204C2F0\ncommit.gpgsign=true\ntag.gpgsign=true\ntag.forcesignannotated=true\ngpg.program=gpg2\n[Pipeline] sh\n+ gpg2 --list-keys\n/root/.gnupg/pubring.kbx\n------------------------\npub   rsa4096 2021-12-28 [SC]\n      B5FE4B265A382845B45D32D6506F61238204C2F0\nuid           [ unknown] CICDUser &lt;[REDACTED]&gt;\nsub   rsa4096 2021-12-28 [E]\n\n[Pipeline] sh\n+ echo this is a test\n[Pipeline] sh\n+ git add .\n[Pipeline] sh\n+ git commit -S -mTesting\n[test fd220d0] Testing\n 1 file changed, 1 insertion(+)\n create mode 100644 test_file.txt\n[Pipeline] sh\n+ git push --set-upstream origin test\nWarning: Permanently added the ECDSA host key for IP address '140.82.112.3' to the list of known hosts.\nremote: error: GH006: Protected branch update failed for refs/heads/test.        \nremote: error: Commits must have valid signatures.        \nTo github.com:[REDACTED].git\n ! [remote rejected] test -&gt; test (protected branch hook declined)\nerror: failed to push some refs to 'github.com:[REDACTED]'\n</code></pre>\n"},{"tags":["java","git","gradle","android-gradle-plugin","checkstyle"],"comments":[{"owner":{"account_id":7643434,"reputation":406,"user_id":6106156,"display_name":"Yevhen Lebid"},"score":2,"creation_date":1581941325,"post_id":43730901,"comment_id":106593327,"body_markdown":"https://ealebed.github.io/posts/2020/gradle-checkstyle-on-changed-files-only/","body":"<a href=\"https://ealebed.github.io/posts/2020/gradle-checkstyle-on-changed-files-only/\" rel=\"nofollow noreferrer\">ealebed.github.io/posts/2020/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518002112,"creation_date":1518002112,"answer_id":48662439,"question_id":43730901,"body_markdown":"I think, what you actually want is to filter out the violations found in the changed files.\r\n\r\nCheckout [Violations Lib][1] and the plugins mentioned in that readme. There are plugins to do this offline, or integrate it with pull requests.\r\n\r\n\r\n  [1]: https://github.com/tomasbjerre/violations-lib","title":"Is there a way to run checkstyle on only files that have changes in VCS?","body":"<p>I think, what you actually want is to filter out the violations found in the changed files.</p>\n\n<p>Checkout <a href=\"https://github.com/tomasbjerre/violations-lib\" rel=\"nofollow noreferrer\">Violations Lib</a> and the plugins mentioned in that readme. There are plugins to do this offline, or integrate it with pull requests.</p>\n"},{"tags":[],"owner":{"account_id":11063997,"reputation":105,"user_id":8124327,"display_name":"zyang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544235867,"creation_date":1544235867,"answer_id":53678976,"question_id":43730901,"body_markdown":"Recently I wrote a tool based on checkstyle to support style checks only on incremental changes of code lines, and you can add this tool to your Git pre-commit hook to trigger the check before every commit. \r\n\r\nFor details please see: [https://github.com/yangziwen/diff-checkstyle][1]\r\n\r\nThough it is too late for your question, I still hope this can help you in the future.\r\n\r\n\r\n  [1]: https://github.com/yangziwen/diff-checkstyle","title":"Is there a way to run checkstyle on only files that have changes in VCS?","body":"<p>Recently I wrote a tool based on checkstyle to support style checks only on incremental changes of code lines, and you can add this tool to your Git pre-commit hook to trigger the check before every commit. </p>\n\n<p>For details please see: <a href=\"https://github.com/yangziwen/diff-checkstyle\" rel=\"nofollow noreferrer\">https://github.com/yangziwen/diff-checkstyle</a></p>\n\n<p>Though it is too late for your question, I still hope this can help you in the future.</p>\n"}],"owner":{"account_id":270495,"reputation":921,"user_id":560481,"accept_rate":54,"display_name":"Raveesh Bhalla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3663,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1544237531,"answer_count":2,"score":6,"last_activity_date":1640813139,"creation_date":1493703910,"question_id":43730901,"body_markdown":"I&#39;ve recently begun helping out a young team to help improve their development practices and wanted them to run checkstyle before every commit. Unfortunately, their code is littered with errors and the only scalable way to implement it would be to run checkstyle on a small portion of files each time.\r\n\r\nStrategically, I wanted to run checkstyle on only those files that have been modified in the VCS. I wrote a Gradle script to make this happen, but it doesn&#39;t seem to work. Does anyone have tips on how to make this happen?\r\n\r\n    apply plugin: &#39;checkstyle&#39;\r\n    \r\n    def getChangedFiles = { -&gt;\r\n        try {\r\n            def stdout = new ByteArrayOutputStream()\r\n            exec {\r\n                commandLine &#39;git&#39;, &#39;diff&#39;, &#39;--name-only&#39;\r\n                standardOutput = stdout\r\n            }\r\n            return stdout.toString().trim().split(&quot;\\n&quot;)\r\n        }\r\n        catch (ignored) {\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    task checkstyle(type: Checkstyle) {\r\n        configFile file(&quot;${project.rootDir}/quality/checkstyle/uncommon-checkstyle.xml&quot;)\r\n        configProperties = [\r\n                &#39;checkstyle.cache.file&#39;: rootProject.file(&#39;build/checkstyle.cache&#39;),\r\n                &#39;checkstyleSuppressionsPath&#39;: file(&quot;${project.rootDir}/quality/checkstyle/suppressions.xml&quot;).absolutePath\r\n        ]\r\n        source &#39;src&#39;\r\n        String[] split = getChangedFiles()\r\n        for (int i=0; i&lt;split.length; i++){\r\n            include split[i]\r\n            println split[i]\r\n        }\r\n        exclude &#39;**/build/**&#39;   // Exclude everything inside build folders.\r\n        exclude &#39;**/test/**&#39; // Exclude tests\r\n        exclude &#39;**/androidTest/**&#39; // Exclude android test files.\r\n    \tignoreFailures = false  // Don&#39;t allow the build to continue if there are warnings.\r\n        classpath = files()\r\n    }\r\n    \r\n    checkstyle {\r\n        toolVersion &#39;6.19&#39;    // set Checkstyle version here\r\n    }\r\n\r\nThe print commands show the right set of files are being returned by getChangedFiles() and I&#39;ve checked to ensure the included files are accurate as well, but the checkstyle itself doesn&#39;t seem to run on them.","title":"Is there a way to run checkstyle on only files that have changes in VCS?","body":"<p>I've recently begun helping out a young team to help improve their development practices and wanted them to run checkstyle before every commit. Unfortunately, their code is littered with errors and the only scalable way to implement it would be to run checkstyle on a small portion of files each time.</p>\n<p>Strategically, I wanted to run checkstyle on only those files that have been modified in the VCS. I wrote a Gradle script to make this happen, but it doesn't seem to work. Does anyone have tips on how to make this happen?</p>\n<pre><code>apply plugin: 'checkstyle'\n\ndef getChangedFiles = { -&gt;\n    try {\n        def stdout = new ByteArrayOutputStream()\n        exec {\n            commandLine 'git', 'diff', '--name-only'\n            standardOutput = stdout\n        }\n        return stdout.toString().trim().split(&quot;\\n&quot;)\n    }\n    catch (ignored) {\n        return null;\n    }\n}\n\ntask checkstyle(type: Checkstyle) {\n    configFile file(&quot;${project.rootDir}/quality/checkstyle/uncommon-checkstyle.xml&quot;)\n    configProperties = [\n            'checkstyle.cache.file': rootProject.file('build/checkstyle.cache'),\n            'checkstyleSuppressionsPath': file(&quot;${project.rootDir}/quality/checkstyle/suppressions.xml&quot;).absolutePath\n    ]\n    source 'src'\n    String[] split = getChangedFiles()\n    for (int i=0; i&lt;split.length; i++){\n        include split[i]\n        println split[i]\n    }\n    exclude '**/build/**'   // Exclude everything inside build folders.\n    exclude '**/test/**' // Exclude tests\n    exclude '**/androidTest/**' // Exclude android test files.\n    ignoreFailures = false  // Don't allow the build to continue if there are warnings.\n    classpath = files()\n}\n\ncheckstyle {\n    toolVersion '6.19'    // set Checkstyle version here\n}\n</code></pre>\n<p>The print commands show the right set of files are being returned by getChangedFiles() and I've checked to ensure the included files are accurate as well, but the checkstyle itself doesn't seem to run on them.</p>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1600066592,"post_id":63741540,"comment_id":112959300,"body_markdown":"`ConditionalHttpChunkAggregator` is annotated with @ChannelHandler.Sharable indicating that there will be no race conditions, however the field `sendaschunked` is read and written multiple times in `channelRead()`.\nTo make matters worse it is declared as `volatile`, which guarantees that writes will be visible accross threads.\nSo I think `sendaschunked` should really be a method variable.","body":"<code>ConditionalHttpChunkAggregator</code> is annotated with @ChannelHandler.Sharable indicating that there will be no race conditions, however the field <code>sendaschunked</code> is read and written multiple times in <code>channelRead()</code>. To make matters worse it is declared as <code>volatile</code>, which guarantees that writes will be visible accross threads. So I think <code>sendaschunked</code> should really be a method variable."}],"answers":[{"tags":[],"owner":{"account_id":11271799,"reputation":178,"user_id":8267040,"display_name":"HyperX Pro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599374129,"creation_date":1599374129,"answer_id":63761421,"question_id":63741540,"body_markdown":"You need to release `Bytebuf` allocated by you. It&#39;s not a Netty bug.\r\n\r\nByteBuf is at `com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead(ConditionalHttpChunkAggregator.java:112)`","title":"LEAK: ByteBuf.release() was not called - how do we solve this?","body":"<p>You need to release <code>Bytebuf</code> allocated by you. It's not a Netty bug.</p>\n<p>ByteBuf is at <code>com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead(ConditionalHttpChunkAggregator.java:112)</code></p>\n"},{"tags":[],"owner":{"account_id":3920223,"reputation":5600,"user_id":3242721,"accept_rate":86,"display_name":"Michal Hosala"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640795154,"creation_date":1640795154,"answer_id":70522173,"question_id":63741540,"body_markdown":"In our case it was a problem in the body of the response not being read which resulted into byte buf never being released.\r\n\r\nOriginal code:\r\n```\r\nWebClient client = WebClient.create(&quot;some_url&quot;);\r\nreturn client.get().exchange().flatMap(response -&gt; Mono.just(builder.up().build()));\r\n```\r\n\r\nFixed code:\r\n```\r\nWebClient client = WebClient.create(&quot;some_url&quot;);\r\nreturn client.get().retrieve().toBodilessEntity().flatMap(response -&gt; Mono.just(builder.up().build()));\r\n```\r\n\r\nEven the javadoc for `exchange` says it:\r\n&gt; **Deprecated** since 5.3 due to the possibility to leak memory and/or connections; please, use exchangeToMono(Function), exchangeToFlux(Function); consider also using retrieve() which provides access to the response status and headers via ResponseEntity along with error status handling.\r\n\r\nKudos: https://stackoverflow.com/a/51321602/3242721\r\n\r\nTo reproduce the issue on localhost I used `-Dio.netty.leakDetectionLevel=paranoid` vm args.","title":"LEAK: ByteBuf.release() was not called - how do we solve this?","body":"<p>In our case it was a problem in the body of the response not being read which resulted into byte buf never being released.</p>\n<p>Original code:</p>\n<pre><code>WebClient client = WebClient.create(&quot;some_url&quot;);\nreturn client.get().exchange().flatMap(response -&gt; Mono.just(builder.up().build()));\n</code></pre>\n<p>Fixed code:</p>\n<pre><code>WebClient client = WebClient.create(&quot;some_url&quot;);\nreturn client.get().retrieve().toBodilessEntity().flatMap(response -&gt; Mono.just(builder.up().build()));\n</code></pre>\n<p>Even the javadoc for <code>exchange</code> says it:</p>\n<blockquote>\n<p><strong>Deprecated</strong> since 5.3 due to the possibility to leak memory and/or connections; please, use exchangeToMono(Function), exchangeToFlux(Function); consider also using retrieve() which provides access to the response status and headers via ResponseEntity along with error status handling.</p>\n</blockquote>\n<p>Kudos: <a href=\"https://stackoverflow.com/a/51321602/3242721\">https://stackoverflow.com/a/51321602/3242721</a></p>\n<p>To reproduce the issue on localhost I used <code>-Dio.netty.leakDetectionLevel=paranoid</code> vm args.</p>\n"}],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5202,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1640812555,"creation_date":1599223810,"question_id":63741540,"body_markdown":"We have a netty-based network traffic intensive Java app/server.   \r\n\r\n*Side note: I mainly support this app, I didn&#39;t build it so I don&#39;t know it in full.*       \r\n\r\nWe sometimes get this error as shown below. Previously we used to get this error after the server has been up for 3-4 days. Now I noticed that we are getting this error even just 10-15 mins after rebooting the server/app.     \r\n\r\nI don&#39;t understand how this is possible. Is this error something worrying and how can we fix it? I recall doing extensive research in the past on this same error, back then I even tried upgrading and patching netty but nothing helped to fully resolve the issue.\r\n\r\nOS: Linux     \r\nJava version: 1.8      \r\nNetty version: netty-all-4.1.30.Final.jar      \r\n\r\nThis is the only line of app-specific code, everything else happens in Netty.    \r\n\r\n`com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead`  \r\n\r\nIs this a bug of some sort in Netty itself? Would Netty upgrade or any other configuration tuning help here?\r\n\r\n\t[2020-09-04 08:33:53,072]\r\n\t\r\n\tERROR\r\n\t\r\n\tio.netty.util.ResourceLeakDetector\r\n\t\r\n\tLEAK: ByteBuf.release() was not called before it&#39;s garbage-collected. \r\n\t\r\n\tSee https://netty.io/wiki/reference-counted-objects.html for more information.\r\n\t\r\n\tRecent access records: \r\n\tCreated at:\r\n\t\tio.netty.buffer.AbstractByteBufAllocator.compositeDirectBuffer(AbstractByteBufAllocator.java:221)\r\n\t\tio.netty.buffer.AbstractByteBufAllocator.compositeBuffer(AbstractByteBufAllocator.java:199)\r\n\t\tio.netty.handler.codec.MessageAggregator.decode(MessageAggregator.java:255)\r\n\t\tio.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88)\r\n\t\tcom.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead(ConditionalHttpChunkAggregator.java:112)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\t\tio.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\r\n\t\tio.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\t\tio.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\t\tio.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\t\tio.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)\r\n\t\tio.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\t\tio.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644)\r\n\t\tio.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)\r\n\t\tio.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)\r\n\t\tio.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)\r\n\t\tio.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)\r\n\t\tio.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tjava.lang.Thread.run(Thread.java:748)\r\n\t\r\n\t\r\n\t\r\n\t\r\nHere is the code for the `ConditionalHttpChunkAggregator`.    \r\n\r\n\r\n\tpackage com.company.japp.protocol.http.decoders;\r\n\t\r\n\timport com.company.japp.IHttpProxyServer;\r\n\timport io.netty.channel.ChannelDuplexHandler;\r\n\timport io.netty.channel.ChannelHandler;\r\n\timport io.netty.channel.ChannelHandlerContext;\r\n\timport io.netty.handler.codec.http.HttpHeaders;\r\n\timport io.netty.handler.codec.http.HttpMessage;\r\n\timport io.netty.handler.codec.http.HttpObjectAggregator;\r\n\timport io.netty.handler.codec.http.HttpResponse;\r\n\timport io.netty.util.internal.logging.InternalLogger;\r\n\timport io.netty.util.internal.logging.InternalLoggerFactory;\r\n\t\r\n\timport java.util.HashSet;\r\n\t\r\n\t@ChannelHandler.Sharable\r\n\tpublic class ConditionalHttpChunkAggregator extends HttpObjectAggregator {\r\n\t    private static final InternalLogger logger = InternalLoggerFactory.getInstance(ConditionalHttpChunkAggregator.class);\r\n\t\r\n\t    private volatile boolean        sendaschunked;\r\n\t    private volatile int        maxContentLength;\r\n\t\r\n\t    private static IHttpProxyServer         iHttpProxyServer;\r\n\t\r\n\t    public static void initialize(IHttpProxyServer iHttpProxyServer) {\r\n\t        ConditionalHttpChunkAggregator.iHttpProxyServer = iHttpProxyServer;\r\n\t    }\r\n\t\r\n\t    public ConditionalHttpChunkAggregator(int maxContentLength) {\r\n\t        super(maxContentLength);\r\n\t        this.maxContentLength = maxContentLength;\r\n\t        sendaschunked = false;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void channelRead(ChannelHandlerContext ctx, Object msg){\r\n\t        if ((msg instanceof HttpResponse)) {\r\n\t            HttpResponse response = (HttpResponse)msg;\r\n\t            if ((msg instanceof HttpMessage)) {\r\n\t                HttpMessage httpmessage= (HttpMessage)msg;\r\n\t\r\n\t                try  {\r\n\t                    // If the content length exceeds the threshhold, then send it as chunked\r\n\t                    // It&#39;s too large to process substitutions\r\n\t                    Long contentlength = \r\n\t                    \t\thttpmessage.headers().get(HttpHeaders.Names.CONTENT_LENGTH) != null ? \r\n\t                    \t\tLong.valueOf(httpmessage.headers().get(HttpHeaders.Names.CONTENT_LENGTH)) : -1;\r\n\t                    if (contentlength &gt;= maxContentLength) {\r\n\t                        sendaschunked = true;\r\n\t                    } else {\r\n\t                    // Check content types\r\n\t                         HashSet&lt;String&gt; chunkabletypes = iHttpProxyServer.getConfig().getProperty(&quot;chunkabletypes&quot;);\r\n\t                        if (!chunkabletypes.isEmpty() &amp;&amp; response.headers().contains(HttpHeaders.Names.CONTENT_TYPE)) {\r\n\t                            String contentType = response.headers().get(HttpHeaders.Names.CONTENT_TYPE).toLowerCase().trim();\r\n\t                            if (contentType.length()&gt;0) {\r\n\t                                sendaschunked = chunkabletypes.contains(contentType);\r\n\t                                if (!sendaschunked) {\r\n\t                                    for (String chunkabletype: chunkabletypes) {\r\n\t                                        // Begins with\r\n\t                                        if (contentType.indexOf(chunkabletype)==0) {\r\n\t                                            sendaschunked = true;\r\n\t                                            break;\r\n\t                                        }\r\n\t                                    }\r\n\t                                }\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    if (sendaschunked) {\r\n\t                        ctx.fireChannelRead(msg);\r\n\t                        return;\r\n\t                    }\r\n\t                }\r\n\t                catch(Exception ex) {\r\n\t                    logger.error(&quot;error determining chunkable viability&quot;, ex);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        if (sendaschunked) {\r\n\t            ctx.fireChannelRead(msg);\r\n\t            return;\r\n\t        }\r\n\t\r\n\t        try {\r\n\t            super.channelRead(ctx, msg);\r\n\t            \r\n\t        } catch (Exception e) {\r\n\t            logger.error(&quot;error determining chunkable viability&quot;, e);\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\r\nAnd this is the value for the chunkable types property:  \r\n\r\n`video/x-ms-wvx,video/x-flv,application/x-shockwave-flash,video/quicktime,video/,audio/`\r\n\r\n\r\nEdit\r\n---\r\n\r\nI think this is bug in netty 4.1.30 around this line 255 in `io.netty.handler.codec.MessageAggregator`. Seems this CompositeByteBuf is allocated but not released. Am I right? I am hoping for some authoritative answer to either confirm or reject this idea.\r\n\r\n            // A streamed message - initialize the cumulative buffer, and wait for incoming chunks.\r\n            CompositeByteBuf content = ctx.alloc().compositeBuffer(maxCumulationBufferComponents); // LINE 255 \r\n            if (m instanceof ByteBufHolder) {\r\n                appendPartialContent(content, ((ByteBufHolder) m).content());\r\n            }\r\n            currentMessage = beginAggregation(m, content);\r\n\r\n\r\n","title":"LEAK: ByteBuf.release() was not called - how do we solve this?","body":"<p>We have a netty-based network traffic intensive Java app/server.</p>\n<p><em>Side note: I mainly support this app, I didn't build it so I don't know it in full.</em></p>\n<p>We sometimes get this error as shown below. Previously we used to get this error after the server has been up for 3-4 days. Now I noticed that we are getting this error even just 10-15 mins after rebooting the server/app.</p>\n<p>I don't understand how this is possible. Is this error something worrying and how can we fix it? I recall doing extensive research in the past on this same error, back then I even tried upgrading and patching netty but nothing helped to fully resolve the issue.</p>\n<p>OS: Linux<br />\nJava version: 1.8<br />\nNetty version: netty-all-4.1.30.Final.jar</p>\n<p>This is the only line of app-specific code, everything else happens in Netty.</p>\n<p><code>com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead</code></p>\n<p>Is this a bug of some sort in Netty itself? Would Netty upgrade or any other configuration tuning help here?</p>\n<pre><code>[2020-09-04 08:33:53,072]\n\nERROR\n\nio.netty.util.ResourceLeakDetector\n\nLEAK: ByteBuf.release() was not called before it's garbage-collected. \n\nSee https://netty.io/wiki/reference-counted-objects.html for more information.\n\nRecent access records: \nCreated at:\n    io.netty.buffer.AbstractByteBufAllocator.compositeDirectBuffer(AbstractByteBufAllocator.java:221)\n    io.netty.buffer.AbstractByteBufAllocator.compositeBuffer(AbstractByteBufAllocator.java:199)\n    io.netty.handler.codec.MessageAggregator.decode(MessageAggregator.java:255)\n    io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88)\n    com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead(ConditionalHttpChunkAggregator.java:112)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\n    io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)\n    io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644)\n    io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)\n    io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)\n    io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)\n    io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)\n    io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Here is the code for the <code>ConditionalHttpChunkAggregator</code>.</p>\n<pre><code>package com.company.japp.protocol.http.decoders;\n\nimport com.company.japp.IHttpProxyServer;\nimport io.netty.channel.ChannelDuplexHandler;\nimport io.netty.channel.ChannelHandler;\nimport io.netty.channel.ChannelHandlerContext;\nimport io.netty.handler.codec.http.HttpHeaders;\nimport io.netty.handler.codec.http.HttpMessage;\nimport io.netty.handler.codec.http.HttpObjectAggregator;\nimport io.netty.handler.codec.http.HttpResponse;\nimport io.netty.util.internal.logging.InternalLogger;\nimport io.netty.util.internal.logging.InternalLoggerFactory;\n\nimport java.util.HashSet;\n\n@ChannelHandler.Sharable\npublic class ConditionalHttpChunkAggregator extends HttpObjectAggregator {\n    private static final InternalLogger logger = InternalLoggerFactory.getInstance(ConditionalHttpChunkAggregator.class);\n\n    private volatile boolean        sendaschunked;\n    private volatile int        maxContentLength;\n\n    private static IHttpProxyServer         iHttpProxyServer;\n\n    public static void initialize(IHttpProxyServer iHttpProxyServer) {\n        ConditionalHttpChunkAggregator.iHttpProxyServer = iHttpProxyServer;\n    }\n\n    public ConditionalHttpChunkAggregator(int maxContentLength) {\n        super(maxContentLength);\n        this.maxContentLength = maxContentLength;\n        sendaschunked = false;\n    }\n\n    @Override\n    public void channelRead(ChannelHandlerContext ctx, Object msg){\n        if ((msg instanceof HttpResponse)) {\n            HttpResponse response = (HttpResponse)msg;\n            if ((msg instanceof HttpMessage)) {\n                HttpMessage httpmessage= (HttpMessage)msg;\n\n                try  {\n                    // If the content length exceeds the threshhold, then send it as chunked\n                    // It's too large to process substitutions\n                    Long contentlength = \n                            httpmessage.headers().get(HttpHeaders.Names.CONTENT_LENGTH) != null ? \n                            Long.valueOf(httpmessage.headers().get(HttpHeaders.Names.CONTENT_LENGTH)) : -1;\n                    if (contentlength &gt;= maxContentLength) {\n                        sendaschunked = true;\n                    } else {\n                    // Check content types\n                         HashSet&lt;String&gt; chunkabletypes = iHttpProxyServer.getConfig().getProperty(&quot;chunkabletypes&quot;);\n                        if (!chunkabletypes.isEmpty() &amp;&amp; response.headers().contains(HttpHeaders.Names.CONTENT_TYPE)) {\n                            String contentType = response.headers().get(HttpHeaders.Names.CONTENT_TYPE).toLowerCase().trim();\n                            if (contentType.length()&gt;0) {\n                                sendaschunked = chunkabletypes.contains(contentType);\n                                if (!sendaschunked) {\n                                    for (String chunkabletype: chunkabletypes) {\n                                        // Begins with\n                                        if (contentType.indexOf(chunkabletype)==0) {\n                                            sendaschunked = true;\n                                            break;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (sendaschunked) {\n                        ctx.fireChannelRead(msg);\n                        return;\n                    }\n                }\n                catch(Exception ex) {\n                    logger.error(&quot;error determining chunkable viability&quot;, ex);\n                }\n            }\n        }\n        if (sendaschunked) {\n            ctx.fireChannelRead(msg);\n            return;\n        }\n\n        try {\n            super.channelRead(ctx, msg);\n            \n        } catch (Exception e) {\n            logger.error(&quot;error determining chunkable viability&quot;, e);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And this is the value for the chunkable types property:</p>\n<p><code>video/x-ms-wvx,video/x-flv,application/x-shockwave-flash,video/quicktime,video/,audio/</code></p>\n<h2>Edit</h2>\n<p>I think this is bug in netty 4.1.30 around this line 255 in <code>io.netty.handler.codec.MessageAggregator</code>. Seems this CompositeByteBuf is allocated but not released. Am I right? I am hoping for some authoritative answer to either confirm or reject this idea.</p>\n<pre><code>        // A streamed message - initialize the cumulative buffer, and wait for incoming chunks.\n        CompositeByteBuf content = ctx.alloc().compositeBuffer(maxCumulationBufferComponents); // LINE 255 \n        if (m instanceof ByteBufHolder) {\n            appendPartialContent(content, ((ByteBufHolder) m).content());\n        }\n        currentMessage = beginAggregation(m, content);\n</code></pre>\n"},{"tags":["java","spring","web-services","spring-mvc","jaxb"],"owner":{"account_id":12077214,"reputation":63,"user_id":8830231,"display_name":"Rodrigo Rapozo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640812422,"creation_date":1508922139,"question_id":46928196,"body_markdown":"I&#39;m trying to use Spring WS to invoke a WS but the return to my jaxb class myResponse is null.\r\n\r\n1 - My request is correct I logged it and used in SOAPUI and the answer is valid.\r\n\r\n2 - Debbuging I discovered that inside the Spring classes I have a answer but without body: \r\n\r\n    &lt;env:Envelope xmlns:env=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;&lt;env:Header/&gt;&lt;env:Body/&gt;&lt;/env:Envelope&gt;\r\n\r\n\r\n3 - I discoved too that the problem is the payload is null and return it.\r\n\r\nAbove is a part of my code, if you need more information just ask.\r\n\r\n    myResponse =  (MyResponse) webServiceTemplate.marshalSendAndReceive(\r\n\t\t\t\trequestConfiguration.getEndpoint(),myRequest, \r\n            new SoapActionCallback(&quot;http://test.com/services/myRequest&quot;));\r\n\r\nBest Regards\r\n\r\n**UPDATE**\r\n\r\nI&#39;m using HTTPS but disabling it and I&#39;m forcing use SOAP 1.2.","title":"Spring WS webServiceTemplate.marshalSendAndReceive return null","body":"<p>I'm trying to use Spring WS to invoke a WS but the return to my jaxb class myResponse is null.</p>\n\n<p>1 - My request is correct I logged it and used in SOAPUI and the answer is valid.</p>\n\n<p>2 - Debbuging I discovered that inside the Spring classes I have a answer but without body: </p>\n\n<pre><code>&lt;env:Envelope xmlns:env=\"http://www.w3.org/2003/05/soap-envelope\"&gt;&lt;env:Header/&gt;&lt;env:Body/&gt;&lt;/env:Envelope&gt;\n</code></pre>\n\n<p>3 - I discoved too that the problem is the payload is null and return it.</p>\n\n<p>Above is a part of my code, if you need more information just ask.</p>\n\n<pre><code>myResponse =  (MyResponse) webServiceTemplate.marshalSendAndReceive(\n            requestConfiguration.getEndpoint(),myRequest, \n        new SoapActionCallback(\"http://test.com/services/myRequest\"));\n</code></pre>\n\n<p>Best Regards</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I'm using HTTPS but disabling it and I'm forcing use SOAP 1.2.</p>\n"},{"tags":["java","3d","binary","compression","minecraft"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640810834,"post_id":70524813,"comment_id":124666384,"body_markdown":"Why not ask the authors?","body":"Why not ask the authors?"}],"answers":[{"tags":[],"owner":{"account_id":20067049,"reputation":97,"user_id":14712559,"display_name":"diegogs_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640810957,"creation_date":1640810957,"answer_id":70524860,"question_id":70524813,"body_markdown":"I am not sure, but I think that it comes form chunks system and how sections are stored, I have been looking for reasons and the answer could be here:\r\n\r\nhttps://stackoverflow.com/a/32671125/14712559\r\n\r\nHere it is explained how it works, biomes use ZX-order and using YZX-order could be faster to render the graphics. Perhaps you are aware of this info, take a look to this question and tell me :D.","title":"Why does storing coordinates as YZX take up less space than storing them as XZY?","body":"<p>I am not sure, but I think that it comes form chunks system and how sections are stored, I have been looking for reasons and the answer could be here:</p>\n<p><a href=\"https://stackoverflow.com/a/32671125/14712559\">https://stackoverflow.com/a/32671125/14712559</a></p>\n<p>Here it is explained how it works, biomes use ZX-order and using YZX-order could be faster to render the graphics. Perhaps you are aware of this info, take a look to this question and tell me :D.</p>\n"}],"owner":{"account_id":23778704,"reputation":21,"user_id":17791740,"display_name":"thethethe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640810957,"creation_date":1640810512,"question_id":70524813,"body_markdown":"In recent Minecraft patch-notes some changes were made to the way it saves world data.\r\n\r\n[said change][1]\r\n\r\n[link to wiki page][2]\r\n\r\nThis included a change from storing coordinates (presumably of entities) in the format of **XZY** to **YZX**.\r\n\r\nMinecraft&#39;s Y coordinate is height, which used to range from 0 to 256, but with the same update that brought this optimisation it was changed to the range of -64 to 256.\r\n\r\nI imagine that the reason that this is faster is something to do with the two&#39;s compliment representation of Y needing a sign bit at the front, but I can&#39;t visualise any reason why this would be faster.\r\n\r\nAn explanation would be appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dR6nL.png\r\n  [2]: https://minecraft.fandom.com/wiki/Anvil_file_format","title":"Why does storing coordinates as YZX take up less space than storing them as XZY?","body":"<p>In recent Minecraft patch-notes some changes were made to the way it saves world data.</p>\n<p><a href=\"https://i.stack.imgur.com/dR6nL.png\" rel=\"nofollow noreferrer\">said change</a></p>\n<p><a href=\"https://minecraft.fandom.com/wiki/Anvil_file_format\" rel=\"nofollow noreferrer\">link to wiki page</a></p>\n<p>This included a change from storing coordinates (presumably of entities) in the format of <strong>XZY</strong> to <strong>YZX</strong>.</p>\n<p>Minecraft's Y coordinate is height, which used to range from 0 to 256, but with the same update that brought this optimisation it was changed to the range of -64 to 256.</p>\n<p>I imagine that the reason that this is faster is something to do with the two's compliment representation of Y needing a sign bit at the front, but I can't visualise any reason why this would be faster.</p>\n<p>An explanation would be appreciated.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","azure-cosmosdb"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640810428,"creation_date":1640810428,"answer_id":70524800,"question_id":70524392,"body_markdown":"Doing it the reactive way would be to return a `Mono&lt;Long&gt;` instead of blocking and unpacking the mono into an `long` or `int`:\r\n\r\n```\r\npublic Mono&lt;Long&gt; deleteMongoDataForGivenId(Long id) {\r\n    Query query = new Query();\r\n    query.addCriteria(where(&quot;id&quot;).is(id));\r\n\r\n    return reactiveMongoTemplate\r\n            .findAllAndRemove(query, MyDocument.class, &quot;SomeCollection&quot;)\r\n            .count();\r\n}\r\n```\r\n\r\nHaving to use a blocking method defies the purpose of reactive programming, but if you don&#39;t really have a choice, you can do the following:\r\n\r\n\r\n```\r\npublic Long deleteMongoDataForGivenId(Long id) {\r\n    Query query = new Query();\r\n    query.addCriteria(where(&quot;id&quot;).is(id));\r\n\r\n    return reactiveMongoTemplate\r\n            .findAllAndRemove(query, MyDocument.class, &quot;SomeCollection&quot;)\r\n            .count()\r\n  \r\n            // Please don&#39;t do this!!!\r\n            .share().block();\r\n}\r\n```","title":"ReactiveMongoTemplate does not return number of documents removed","body":"<p>Doing it the reactive way would be to return a <code>Mono&lt;Long&gt;</code> instead of blocking and unpacking the mono into an <code>long</code> or <code>int</code>:</p>\n<pre><code>public Mono&lt;Long&gt; deleteMongoDataForGivenId(Long id) {\n    Query query = new Query();\n    query.addCriteria(where(&quot;id&quot;).is(id));\n\n    return reactiveMongoTemplate\n            .findAllAndRemove(query, MyDocument.class, &quot;SomeCollection&quot;)\n            .count();\n}\n</code></pre>\n<p>Having to use a blocking method defies the purpose of reactive programming, but if you don't really have a choice, you can do the following:</p>\n<pre><code>public Long deleteMongoDataForGivenId(Long id) {\n    Query query = new Query();\n    query.addCriteria(where(&quot;id&quot;).is(id));\n\n    return reactiveMongoTemplate\n            .findAllAndRemove(query, MyDocument.class, &quot;SomeCollection&quot;)\n            .count()\n  \n            // Please don't do this!!!\n            .share().block();\n}\n</code></pre>\n"}],"owner":{"account_id":16395317,"reputation":205,"user_id":11843048,"display_name":"Froshiga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70524800,"answer_count":1,"score":0,"last_activity_date":1640810428,"creation_date":1640807868,"question_id":70524392,"body_markdown":"I have this implementation to remove documents based on some id using ReactiveMongoTemplate. I&#39;m trying to get the size of the the list of impacted documents but it always returns 0, and since it is reactive I&#39;m not sure how to get the number of records deleted\r\n\r\n```\r\n@Override\r\npublic int deleteMongoDataForGivenId(Long id) {\r\n     int deletedRecords = 0;\r\n     Query query = new Query();\r\n     query.addCriteria(where(&quot;id&quot;).is(id));\r\n\r\n     Flux&lt;Object&gt; deletedDocs = reactiveMongoTemplate.findAllAndRemove(query, Object.class, &quot;SomeCollection&quot;);\r\n\r\n     if(!deletedDocs.collectList().block().isEmpty()) {\r\n          List&lt;Object&gt; listOfRecords = deletedDocs.collectList().block();\r\n          deletedRecords = listOfRecords.size();\r\n     }\r\n}\r\n```\r\n","title":"ReactiveMongoTemplate does not return number of documents removed","body":"<p>I have this implementation to remove documents based on some id using ReactiveMongoTemplate. I'm trying to get the size of the the list of impacted documents but it always returns 0, and since it is reactive I'm not sure how to get the number of records deleted</p>\n<pre><code>@Override\npublic int deleteMongoDataForGivenId(Long id) {\n     int deletedRecords = 0;\n     Query query = new Query();\n     query.addCriteria(where(&quot;id&quot;).is(id));\n\n     Flux&lt;Object&gt; deletedDocs = reactiveMongoTemplate.findAllAndRemove(query, Object.class, &quot;SomeCollection&quot;);\n\n     if(!deletedDocs.collectList().block().isEmpty()) {\n          List&lt;Object&gt; listOfRecords = deletedDocs.collectList().block();\n          deletedRecords = listOfRecords.size();\n     }\n}\n</code></pre>\n"},{"tags":["java","android","networking","server","port"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1640811028,"post_id":70524746,"comment_id":124666429,"body_markdown":"Use Logcat to examine the stack trace associated with your crash.","body":"Use Logcat to examine the stack trace associated with your crash."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640812258,"post_id":70524746,"comment_id":124666837,"body_markdown":"`findViewById(R.id.start_server).setVisibility(View.GONE)` That influences the gui. And you cannot update the gui from a thread.","body":"<code>findViewById(R.id.start_server).setVisibility(View.GONE)</code> That influences the gui. And you cannot update the gui from a thread."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640812321,"post_id":70524746,"comment_id":124666870,"body_markdown":"Also you cannot use showMessage() in a thread.","body":"Also you cannot use showMessage() in a thread."},{"owner":{"account_id":23329545,"reputation":1,"user_id":17406153,"display_name":"Metty Master"},"score":0,"creation_date":1640823010,"post_id":70524746,"comment_id":124669442,"body_markdown":"Removing setVisibility solved the issue. Thanks!","body":"Removing setVisibility solved the issue. Thanks!"}],"owner":{"account_id":23329545,"reputation":1,"user_id":17406153,"display_name":"Metty Master"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640810113,"creation_date":1640810113,"question_id":70524746,"body_markdown":"I&#39;m trying to start a server in order to receive messages on a certain port; but the app keeps crashing when i click the start server button, i think when this code is executed:\r\n\r\n    showMessage(&quot;Try starting server...&quot;, Color.WHITE);\r\n    this.serverThread = new Thread(new ServerThread());\r\n    this.serverThread.start();\r\nSince the message &quot;Try starting server...&quot; is visible for a second before the app crashes.\r\n\r\n\r\nThis is main activity full code:\r\n\r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    private ServerSocket serverSocket;\r\n    private Socket tempClientSocket;\r\n    public Thread serverThread = null;\r\n    public static final int SERVER_PORT = 3034;\r\n    private LinearLayout msgList;\r\n    private Handler handler;\r\n    private EditText edMessage;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        setTitle(&quot;Server&quot;);\r\n        msgList = findViewById(R.id.msgList);\r\n        handler = new Handler();\r\n        edMessage = findViewById(R.id.edMessage);\r\n\r\n        showMessage(getIPAddress(), Color.WHITE);\r\n    }\r\n\r\n    public TextView textView(String message, int color) {\r\n        if (null == message || message.trim().isEmpty()) {\r\n            message = &quot;&lt;Empty Message&gt;&quot;;\r\n        }\r\n        TextView tv = new TextView(this);\r\n        tv.setTextColor(color);\r\n        tv.setText(message + &quot; [&quot; + getTime() +&quot;]&quot;);\r\n        tv.setTextSize(20);\r\n        tv.setPadding(0, 5, 0, 0);\r\n        return tv;\r\n    }\r\n\r\n    public void showMessage(final String message, final int color) {\r\n        handler.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                msgList.addView(textView(message, color));\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        if (view.getId() == R.id.start_server) {\r\n            //msgList.removeAllViews();\r\n            showMessage(&quot;Try starting server...&quot;, Color.WHITE);\r\n            this.serverThread = new Thread(new ServerThread());\r\n            this.serverThread.start();\r\n        }\r\n        if (view.getId() == R.id.send_data) {\r\n            String msg = edMessage.getText().toString().trim();\r\n            showMessage(&quot;Server : &quot; + msg, Color.BLUE);\r\n            sendMessage(msg);\r\n        }\r\n    }\r\n\r\n    private void sendMessage(final String message) {\r\n        try {\r\n            if (null != tempClientSocket) {\r\n                new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        PrintWriter out = null;\r\n                        try {\r\n                            out = new PrintWriter(new BufferedWriter(\r\n                                    new OutputStreamWriter(tempClientSocket.getOutputStream())),\r\n                                    true);\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        out.println(message);\r\n                    }\r\n                }).start();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    class ServerThread implements Runnable {\r\n\r\n        public void run() {\r\n            Socket socket;\r\n            try {\r\n                serverSocket = new ServerSocket(SERVER_PORT);\r\n                findViewById(R.id.start_server).setVisibility(View.GONE);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                showMessage(&quot;Error Starting Server : &quot; + e.getMessage(), Color.RED);\r\n            }\r\n            if (serverSocket != null) {\r\n                while (!Thread.currentThread().isInterrupted()) {\r\n                    try {\r\n                        socket = serverSocket.accept();\r\n                        CommunicationThread commThread = new CommunicationThread(socket);\r\n                        new Thread(commThread).start();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                        showMessage(&quot;Error Communicating to Client :&quot; + e.getMessage(), Color.RED);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    class CommunicationThread implements Runnable {\r\n\r\n        private Socket clientSocket;\r\n\r\n        private BufferedReader input;\r\n\r\n        public CommunicationThread(Socket clientSocket) {\r\n            this.clientSocket = clientSocket;\r\n            tempClientSocket = clientSocket;\r\n            try {\r\n                this.input = new BufferedReader(new InputStreamReader(this.clientSocket.getInputStream()));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                showMessage(&quot;Error Connecting to Client!!&quot;, Color.RED);\r\n            }\r\n            showMessage(&quot;Connected to Client!!&quot;, Color.GREEN);\r\n        }\r\n\r\n        public void run() {\r\n\r\n            while (!Thread.currentThread().isInterrupted()) {\r\n                try {\r\n                    String read = input.readLine();\r\n                    if (null == read || &quot;Disconnect&quot;.contentEquals(read)) {\r\n                        Thread.interrupted();\r\n                        read = &quot;Client Disconnected&quot;;\r\n                        showMessage(&quot;Client : &quot; + read, Color.GREEN);\r\n                        break;\r\n                    }\r\n                    showMessage(&quot;Client : &quot; + read, Color.GREEN);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (null != serverThread) {\r\n            sendMessage(&quot;Disconnect&quot;);\r\n            serverThread.interrupt();\r\n            serverThread = null;\r\n        }\r\n      }\r\n    }\r\n\r\nAny idea about why this is happening?\r\n\r\nThanks.","title":"Starting a Thread to open a Server on port makes the app crash","body":"<p>I'm trying to start a server in order to receive messages on a certain port; but the app keeps crashing when i click the start server button, i think when this code is executed:</p>\n<pre><code>showMessage(&quot;Try starting server...&quot;, Color.WHITE);\nthis.serverThread = new Thread(new ServerThread());\nthis.serverThread.start();\n</code></pre>\n<p>Since the message &quot;Try starting server...&quot; is visible for a second before the app crashes.</p>\n<p>This is main activity full code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener{\n\nprivate ServerSocket serverSocket;\nprivate Socket tempClientSocket;\npublic Thread serverThread = null;\npublic static final int SERVER_PORT = 3034;\nprivate LinearLayout msgList;\nprivate Handler handler;\nprivate EditText edMessage;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    setTitle(&quot;Server&quot;);\n    msgList = findViewById(R.id.msgList);\n    handler = new Handler();\n    edMessage = findViewById(R.id.edMessage);\n\n    showMessage(getIPAddress(), Color.WHITE);\n}\n\npublic TextView textView(String message, int color) {\n    if (null == message || message.trim().isEmpty()) {\n        message = &quot;&lt;Empty Message&gt;&quot;;\n    }\n    TextView tv = new TextView(this);\n    tv.setTextColor(color);\n    tv.setText(message + &quot; [&quot; + getTime() +&quot;]&quot;);\n    tv.setTextSize(20);\n    tv.setPadding(0, 5, 0, 0);\n    return tv;\n}\n\npublic void showMessage(final String message, final int color) {\n    handler.post(new Runnable() {\n        @Override\n        public void run() {\n            msgList.addView(textView(message, color));\n        }\n    });\n}\n\n@Override\npublic void onClick(View view) {\n    if (view.getId() == R.id.start_server) {\n        //msgList.removeAllViews();\n        showMessage(&quot;Try starting server...&quot;, Color.WHITE);\n        this.serverThread = new Thread(new ServerThread());\n        this.serverThread.start();\n    }\n    if (view.getId() == R.id.send_data) {\n        String msg = edMessage.getText().toString().trim();\n        showMessage(&quot;Server : &quot; + msg, Color.BLUE);\n        sendMessage(msg);\n    }\n}\n\nprivate void sendMessage(final String message) {\n    try {\n        if (null != tempClientSocket) {\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    PrintWriter out = null;\n                    try {\n                        out = new PrintWriter(new BufferedWriter(\n                                new OutputStreamWriter(tempClientSocket.getOutputStream())),\n                                true);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    out.println(message);\n                }\n            }).start();\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nclass ServerThread implements Runnable {\n\n    public void run() {\n        Socket socket;\n        try {\n            serverSocket = new ServerSocket(SERVER_PORT);\n            findViewById(R.id.start_server).setVisibility(View.GONE);\n        } catch (IOException e) {\n            e.printStackTrace();\n            showMessage(&quot;Error Starting Server : &quot; + e.getMessage(), Color.RED);\n        }\n        if (serverSocket != null) {\n            while (!Thread.currentThread().isInterrupted()) {\n                try {\n                    socket = serverSocket.accept();\n                    CommunicationThread commThread = new CommunicationThread(socket);\n                    new Thread(commThread).start();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    showMessage(&quot;Error Communicating to Client :&quot; + e.getMessage(), Color.RED);\n                }\n            }\n        }\n    }\n}\n\nclass CommunicationThread implements Runnable {\n\n    private Socket clientSocket;\n\n    private BufferedReader input;\n\n    public CommunicationThread(Socket clientSocket) {\n        this.clientSocket = clientSocket;\n        tempClientSocket = clientSocket;\n        try {\n            this.input = new BufferedReader(new InputStreamReader(this.clientSocket.getInputStream()));\n        } catch (IOException e) {\n            e.printStackTrace();\n            showMessage(&quot;Error Connecting to Client!!&quot;, Color.RED);\n        }\n        showMessage(&quot;Connected to Client!!&quot;, Color.GREEN);\n    }\n\n    public void run() {\n\n        while (!Thread.currentThread().isInterrupted()) {\n            try {\n                String read = input.readLine();\n                if (null == read || &quot;Disconnect&quot;.contentEquals(read)) {\n                    Thread.interrupted();\n                    read = &quot;Client Disconnected&quot;;\n                    showMessage(&quot;Client : &quot; + read, Color.GREEN);\n                    break;\n                }\n                showMessage(&quot;Client : &quot; + read, Color.GREEN);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    if (null != serverThread) {\n        sendMessage(&quot;Disconnect&quot;);\n        serverThread.interrupt();\n        serverThread = null;\n    }\n  }\n}\n</code></pre>\n<p>Any idea about why this is happening?</p>\n<p>Thanks.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1640773534,"post_id":70517898,"comment_id":124654353,"body_markdown":"It doesn’t work because you don’t import it, BUT, don’t use `JOptionPane`, JavaFX has [dialogs](https://code.makery.ch/blog/javafx-dialogs-official/).","body":"It doesn’t work because you don’t import it, BUT, don’t use <code>JOptionPane</code>, JavaFX has <a href=\"https://code.makery.ch/blog/javafx-dialogs-official/\" rel=\"nofollow noreferrer\">dialogs</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1640788543,"post_id":70517898,"comment_id":124659049,"body_markdown":"Don&#39;t mix Swing and JavaFX. If you do, you have to manage two different UI threads.","body":"Don&#39;t mix Swing and JavaFX. If you do, you have to manage two different UI threads."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1640824201,"post_id":70517898,"comment_id":124669643,"body_markdown":"The Swing import was lurking [here](https://stackoverflow.com/revisions/aebc48c3-a13b-44cb-b239-74f26db14bab/view-source), behind the code fence!","body":"The Swing import was lurking <a href=\"https://stackoverflow.com/revisions/aebc48c3-a13b-44cb-b239-74f26db14bab/view-source\">here</a>, behind the code fence!"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640810110,"creation_date":1640809754,"answer_id":70524685,"question_id":70517898,"body_markdown":"&gt;`JOptionPane.showMessageDialog()`…It&#39;s working if I put the syntax in the main. Please tell me why.\r\n\r\nWhen you invoke `JOptionPane.showMessageDialog()` in `main()`, it executes on the [_initial thread_][1]. In a _Swing_ program, you would invoke it from `main()` like this:\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            JOptionPane.showMessageDialog(null, &quot;Click to continue…&quot;);\r\n            …\r\n        });\r\n    }\r\n\r\nIn a _JavaFX_ program you are [well advised][2] _not_ to &quot;mix Swing and JavaFX,&quot; unless you account for [*JavaFX-Swing Interoperability*][3]. Instead, evoke an `Alert` as shown [here][4] and below:\r\n\r\n[![Alert image][5]][5]\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n    TextField txt;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Label label = new Label();\r\n        TextField text = new TextField(&quot;Type here&quot;);\r\n        Button button = new Button(&quot;Click&quot;);\r\n        MyHandlerClass handler = new MyHandlerClass();\r\n\r\n        button.setOnAction(handler);\r\n        text.setPrefSize(10, 10);\r\n        label.setText(&quot;Enter here&quot;);\r\n        text.getText();\r\n\r\n        VBox box = new VBox();\r\n        box.getChildren().addAll(label, text, button);\r\n        Scene scene = new Scene(box, 320, 240);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.setTitle(&quot;anas&quot;);\r\n        primaryStage.show();\r\n    }\r\n\r\n    class MyHandlerClass implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n        @Override\r\n        public void handle(ActionEvent e) {\r\n            Alert alert = new Alert(Alert.AlertType.INFORMATION, &quot;You clicked the button.&quot;);\r\n            alert.showAndWait();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\r\n  [2]: https://stackoverflow.com/questions/70517898/why-joptionpane-showmessagedialog-just-working-in-main#comment124659049_70517898\r\n  [3]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/fx_swing.htm\r\n  [4]: https://stackoverflow.com/a/37183801/230513\r\n  [5]: https://i.stack.imgur.com/rCRLI.png","title":"why JOptionPane.showMessageDialog just working in main?","body":"<blockquote>\n<p><code>JOptionPane.showMessageDialog()</code>…It's working if I put the syntax in the main. Please tell me why.</p>\n</blockquote>\n<p>When you invoke <code>JOptionPane.showMessageDialog()</code> in <code>main()</code>, it executes on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\"><em>initial thread</em></a>. In a <em>Swing</em> program, you would invoke it from <code>main()</code> like this:</p>\n<pre><code>public static void main(String[] args) {\n    EventQueue.invokeLater(() -&gt; {\n        JOptionPane.showMessageDialog(null, &quot;Click to continue…&quot;);\n        …\n    });\n}\n</code></pre>\n<p>In a <em>JavaFX</em> program you are <a href=\"https://stackoverflow.com/questions/70517898/why-joptionpane-showmessagedialog-just-working-in-main#comment124659049_70517898\">well advised</a> <em>not</em> to &quot;mix Swing and JavaFX,&quot; unless you account for <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/fx_swing.htm\" rel=\"nofollow noreferrer\"><em>JavaFX-Swing Interoperability</em></a>. Instead, evoke an <code>Alert</code> as shown <a href=\"https://stackoverflow.com/a/37183801/230513\">here</a> and below:</p>\n<p><a href=\"https://i.stack.imgur.com/rCRLI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rCRLI.png\" alt=\"Alert image\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    TextField txt;\n\n    @Override\n    public void start(Stage primaryStage) {\n        Label label = new Label();\n        TextField text = new TextField(&quot;Type here&quot;);\n        Button button = new Button(&quot;Click&quot;);\n        MyHandlerClass handler = new MyHandlerClass();\n\n        button.setOnAction(handler);\n        text.setPrefSize(10, 10);\n        label.setText(&quot;Enter here&quot;);\n        text.getText();\n\n        VBox box = new VBox();\n        box.getChildren().addAll(label, text, button);\n        Scene scene = new Scene(box, 320, 240);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;anas&quot;);\n        primaryStage.show();\n    }\n\n    class MyHandlerClass implements EventHandler&lt;ActionEvent&gt; {\n\n        @Override\n        public void handle(ActionEvent e) {\n            Alert alert = new Alert(Alert.AlertType.INFORMATION, &quot;You clicked the button.&quot;);\n            alert.showAndWait();\n        }\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23774062,"reputation":23,"user_id":17787769,"display_name":"Anas Aljaghbeer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70524685,"answer_count":1,"score":1,"last_activity_date":1640810110,"creation_date":1640772362,"question_id":70517898,"body_markdown":"I&#39;m using NetBeans last version and macOS. I try this is my code and  `JOptionPane.showMessageDialog` not working. It&#39;s working if I put the syntax in the main. Please tell me why. I try [tag:vscode], and I have same problem  \r\n\r\n```\r\nimport javax.swing.*;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.CheckBox;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.RadioButton;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.TextInputDialog;\r\nimport javafx.scene.control.ToggleGroup;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n    TextField txt;\r\n\r\n    public void start(Stage primaryStage) {\r\n        Label lb1 = new Label();\r\n        TextField txt = new TextField(&quot;Type here&quot;);\r\n        RadioButton rb1 = new RadioButton();\r\n        RadioButton rb2 = new RadioButton();\r\n        Button bt = new Button(&quot;click&quot;);\r\n        Button bt1 = new Button(&quot;anas aljaghbeer&quot;);\r\n        MyHandlerClass handler1 = new MyHandlerClass();\r\n\r\n        bt.setOnAction(handler1);\r\n        txt.setPrefSize(10, 10);\r\n        lb1.setText(&quot;Enter here&quot;);\r\n        txt.getText();\r\n\r\n        VBox box = new VBox();\r\n        Scene scene = new Scene(box, 1000, 1000);\r\n\r\n        box.getChildren().addAll(lb1, txt, bt);\r\n        primaryStage.setTitle(&quot;anas&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    class MyHandlerClass implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n        @Override\r\n        public void handle(ActionEvent e) {\r\n            JOptionPane.showMessageDialog(null, &quot; Hello&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(args);\r\n    }\r\n}\r\n```","title":"why JOptionPane.showMessageDialog just working in main?","body":"<p>I'm using NetBeans last version and macOS. I try this is my code and  <code>JOptionPane.showMessageDialog</code> not working. It's working if I put the syntax in the main. Please tell me why. I try <a href=\"/questions/tagged/vscode\" class=\"post-tag\" title=\"show questions tagged &#39;vscode&#39;\" rel=\"tag\">vscode</a>, and I have same problem</p>\n<pre><code>import javax.swing.*;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TextInputDialog;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    TextField txt;\n\n    public void start(Stage primaryStage) {\n        Label lb1 = new Label();\n        TextField txt = new TextField(&quot;Type here&quot;);\n        RadioButton rb1 = new RadioButton();\n        RadioButton rb2 = new RadioButton();\n        Button bt = new Button(&quot;click&quot;);\n        Button bt1 = new Button(&quot;anas aljaghbeer&quot;);\n        MyHandlerClass handler1 = new MyHandlerClass();\n\n        bt.setOnAction(handler1);\n        txt.setPrefSize(10, 10);\n        lb1.setText(&quot;Enter here&quot;);\n        txt.getText();\n\n        VBox box = new VBox();\n        Scene scene = new Scene(box, 1000, 1000);\n\n        box.getChildren().addAll(lb1, txt, bt);\n        primaryStage.setTitle(&quot;anas&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    class MyHandlerClass implements EventHandler&lt;ActionEvent&gt; {\n\n        @Override\n        public void handle(ActionEvent e) {\n            JOptionPane.showMessageDialog(null, &quot; Hello&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":1583701,"reputation":748,"user_id":1468508,"display_name":"Von Lion"},"score":0,"creation_date":1379590242,"post_id":18893390,"comment_id":27886807,"body_markdown":"Why is this a requirement? Could you give more info as to the problem you are trying to solve?","body":"Why is this a requirement? Could you give more info as to the problem you are trying to solve?"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1640727627,"post_id":18893390,"comment_id":124645138,"body_markdown":"I do not believe this question is a duplicate of the cited earlier question, as here doubly-quoted strings are delimited with commas; the earlier question did not have that requirement . It wanted (example given) `foo,bar,c;qual=&quot;baz,blurb&quot;,d;junk=&quot;quux,syzygy&quot;` to be split into `foo`, `bar`, `c;qual=&quot;baz,blurb&quot;` and `d;junk=&quot;quux,syzygy&quot;`. That is not a trivial difference, as matching @LAFKsaysReinstateMonica&#39;s regex  `&quot;\\&quot;[^\\&quot;]*\\&quot;|[^,]+` works here but not there. I have voted to reopen.","body":"I do not believe this question is a duplicate of the cited earlier question, as here doubly-quoted strings are delimited with commas; the earlier question did not have that requirement . It wanted (example given) <code>foo,bar,c;qual=&quot;baz,blurb&quot;,d;junk=&quot;quux,syzygy&quot;</code> to be split into <code>foo</code>, <code>bar</code>, <code>c;qual=&quot;baz,blurb&quot;</code> and <code>d;junk=&quot;quux,syzygy&quot;</code>. That is not a trivial difference, as matching @LAFKsaysReinstateMonica&#39;s regex  <code>&quot;\\&quot;[^\\&quot;]*\\&quot;|[^,]+</code> works here but not there. I have voted to reopen."}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":174,"is_accepted":true,"score":174,"last_activity_date":1379591099,"creation_date":1379590286,"answer_id":18893443,"question_id":18893390,"body_markdown":"You can try out this regex:\r\n\r\n    str.split(&quot;,(?=(?:[^\\&quot;]*\\&quot;[^\\&quot;]*\\&quot;)*[^\\&quot;]*$)&quot;);\r\n\r\nThis splits the string on `,` that is followed by an even number of double quotes. In other words, it splits on comma outside the double quotes. This will work provided you have balanced quotes in your string.\r\n\r\nExplanation:\r\n\r\n   \r\n\r\n    ,           // Split on comma\r\n    (?=         // Followed by\r\n       (?:      // Start a non-capture group\r\n         [^&quot;]*  // 0 or more non-quote characters\r\n         &quot;      // 1 quote\r\n         [^&quot;]*  // 0 or more non-quote characters\r\n         &quot;      // 1 quote\r\n       )*       // 0 or more repetition of non-capture group (multiple of 2 quotes will be even)\r\n       [^&quot;]*    // Finally 0 or more non-quotes\r\n       $        // Till the end  (This is necessary, else every comma will satisfy the condition)\r\n    )\r\n\r\nYou can even type like this in your code, using `(?x)` modifier with your regex. The modifier ignores any whitespaces in your regex, so it&#39;s becomes more easy to read a regex broken into multiple lines like so:\r\n\r\n    String[] arr = str.split(&quot;(?x)   &quot; + \r\n                         &quot;,          &quot; +   // Split on comma\r\n                         &quot;(?=        &quot; +   // Followed by\r\n                         &quot;  (?:      &quot; +   // Start a non-capture group\r\n                         &quot;    [^\\&quot;]* &quot; +   // 0 or more non-quote characters\r\n                         &quot;    \\&quot;     &quot; +   // 1 quote\r\n                         &quot;    [^\\&quot;]* &quot; +   // 0 or more non-quote characters\r\n                         &quot;    \\&quot;     &quot; +   // 1 quote\r\n                         &quot;  )*       &quot; +   // 0 or more repetition of non-capture group (multiple of 2 quotes will be even)\r\n                         &quot;  [^\\&quot;]*   &quot; +   // Finally 0 or more non-quotes\r\n                         &quot;  $        &quot; +   // Till the end  (This is necessary, else every comma will satisfy the condition)\r\n                         &quot;)          &quot;     // End look-ahead\r\n                             );\r\n    ","title":"Splitting on comma outside quotes","body":"<p>You can try out this regex:</p>\n\n<pre><code>str.split(\",(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)\");\n</code></pre>\n\n<p>This splits the string on <code>,</code> that is followed by an even number of double quotes. In other words, it splits on comma outside the double quotes. This will work provided you have balanced quotes in your string.</p>\n\n<p>Explanation:</p>\n\n<pre><code>,           // Split on comma\n(?=         // Followed by\n   (?:      // Start a non-capture group\n     [^\"]*  // 0 or more non-quote characters\n     \"      // 1 quote\n     [^\"]*  // 0 or more non-quote characters\n     \"      // 1 quote\n   )*       // 0 or more repetition of non-capture group (multiple of 2 quotes will be even)\n   [^\"]*    // Finally 0 or more non-quotes\n   $        // Till the end  (This is necessary, else every comma will satisfy the condition)\n)\n</code></pre>\n\n<p>You can even type like this in your code, using <code>(?x)</code> modifier with your regex. The modifier ignores any whitespaces in your regex, so it's becomes more easy to read a regex broken into multiple lines like so:</p>\n\n<pre><code>String[] arr = str.split(\"(?x)   \" + \n                     \",          \" +   // Split on comma\n                     \"(?=        \" +   // Followed by\n                     \"  (?:      \" +   // Start a non-capture group\n                     \"    [^\\\"]* \" +   // 0 or more non-quote characters\n                     \"    \\\"     \" +   // 1 quote\n                     \"    [^\\\"]* \" +   // 0 or more non-quote characters\n                     \"    \\\"     \" +   // 1 quote\n                     \"  )*       \" +   // 0 or more repetition of non-capture group (multiple of 2 quotes will be even)\n                     \"  [^\\\"]*   \" +   // Finally 0 or more non-quotes\n                     \"  $        \" +   // Till the end  (This is necessary, else every comma will satisfy the condition)\n                     \")          \"     // End look-ahead\n                         );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145150,"reputation":8892,"user_id":1885392,"display_name":"stefan.schwetschke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379592276,"creation_date":1379590911,"answer_id":18893667,"question_id":18893390,"body_markdown":"You can do this very easily without complex regular expression:\r\n\r\n  1. Split on the character &lt;code&gt;&quot;&lt;/code&gt;. You get a list of Strings\r\n  2. Process each string in the list: Split every string that is on an even position in the List (starting indexing with zero) on &quot;,&quot; (you get a list inside a list), leave every odd positioned string alone (directly putting it in a list inside the list).\r\n  3. Join the list of lists, so you get only a list.\r\n\r\nIf you want to handle quoting of &#39;&quot;&#39;, you have to adapt the algorithm a little bit (joining some parts, you have incorrectly split of, or changing splitting to simple regexp), but the basic structure stays.\r\n\r\nSo basically it is something like this:\r\n\r\n    public class SplitTest {\r\n        public static void main(String[] args) {\r\n            final String splitMe=&quot;123,test,444,\\&quot;don&#39;t split, this\\&quot;,more test,1&quot;;\r\n            final String[] splitByQuote=splitMe.split(&quot;\\&quot;&quot;);\r\n            final String[][] splitByComma=new String[splitByQuote.length][];\r\n            for(int i=0;i&lt;splitByQuote.length;i++) {\r\n                String part=splitByQuote[i];\r\n                if (i % 2 == 0){\r\n                   splitByComma[i]=part.split(&quot;,&quot;);\r\n                }else{\r\n                    splitByComma[i]=new String[1];\r\n                    splitByComma[i][0]=part;\r\n                }\r\n            }\r\n            for (String parts[] : splitByComma) {\r\n                for (String part : parts) {\r\n                    System.out.println(part);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis will be much cleaner with lambdas, promised!\r\n\r\n","title":"Splitting on comma outside quotes","body":"<p>You can do this very easily without complex regular expression:</p>\n\n<ol>\n<li>Split on the character <code>\"</code>. You get a list of Strings</li>\n<li>Process each string in the list: Split every string that is on an even position in the List (starting indexing with zero) on \",\" (you get a list inside a list), leave every odd positioned string alone (directly putting it in a list inside the list).</li>\n<li>Join the list of lists, so you get only a list.</li>\n</ol>\n\n<p>If you want to handle quoting of '\"', you have to adapt the algorithm a little bit (joining some parts, you have incorrectly split of, or changing splitting to simple regexp), but the basic structure stays.</p>\n\n<p>So basically it is something like this:</p>\n\n<pre><code>public class SplitTest {\n    public static void main(String[] args) {\n        final String splitMe=\"123,test,444,\\\"don't split, this\\\",more test,1\";\n        final String[] splitByQuote=splitMe.split(\"\\\"\");\n        final String[][] splitByComma=new String[splitByQuote.length][];\n        for(int i=0;i&lt;splitByQuote.length;i++) {\n            String part=splitByQuote[i];\n            if (i % 2 == 0){\n               splitByComma[i]=part.split(\",\");\n            }else{\n                splitByComma[i]=new String[1];\n                splitByComma[i][0]=part;\n            }\n        }\n        for (String parts[] : splitByComma) {\n            for (String part : parts) {\n                System.out.println(part);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This will be much cleaner with lambdas, promised!</p>\n"},{"tags":[],"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379592669,"creation_date":1379592669,"answer_id":18894279,"question_id":18893390,"body_markdown":"Please see the below code snippet. This code only considers happy flow. Change the according to your requirement\r\n\r\n    public static String[] splitWithEscape(final String str, char split,\r\n\t\t\tchar escapeCharacter) {\r\n\t\tfinal List&lt;String&gt; list = new LinkedList&lt;String&gt;();\r\n\r\n\t\tchar[] cArr = str.toCharArray();\r\n\r\n\t\tboolean isEscape = false;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tfor (char c : cArr) {\r\n\t\t\tif (isEscape &amp;&amp; c != escapeCharacter) {\r\n\t\t\t\tsb.append(c);\r\n\t\t\t} else if (c != split &amp;&amp; c != escapeCharacter) {\r\n\t\t\t\tsb.append(c);\r\n\t\t\t} else if (c == escapeCharacter) {\r\n\t\t\t\tif (!isEscape) {\r\n\t\t\t\t\tisEscape = true;\r\n\t\t\t\t\tif (sb.length() &gt; 0) {\r\n\t\t\t\t\t\tlist.add(sb.toString());\r\n\t\t\t\t\t\tsb = new StringBuilder();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tisEscape = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (c == split) {\r\n\t\t\t\tlist.add(sb.toString());\r\n\t\t\t\tsb = new StringBuilder();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (sb.length() &gt; 0) {\r\n\t\t\tlist.add(sb.toString());\r\n\t\t}\r\n\r\n\t\tString[] strArr = new String[list.size()];\r\n\r\n\t\treturn list.toArray(strArr);\r\n\t}","title":"Splitting on comma outside quotes","body":"<p>Please see the below code snippet. This code only considers happy flow. Change the according to your requirement</p>\n\n<pre><code>public static String[] splitWithEscape(final String str, char split,\n        char escapeCharacter) {\n    final List&lt;String&gt; list = new LinkedList&lt;String&gt;();\n\n    char[] cArr = str.toCharArray();\n\n    boolean isEscape = false;\n    StringBuilder sb = new StringBuilder();\n\n    for (char c : cArr) {\n        if (isEscape &amp;&amp; c != escapeCharacter) {\n            sb.append(c);\n        } else if (c != split &amp;&amp; c != escapeCharacter) {\n            sb.append(c);\n        } else if (c == escapeCharacter) {\n            if (!isEscape) {\n                isEscape = true;\n                if (sb.length() &gt; 0) {\n                    list.add(sb.toString());\n                    sb = new StringBuilder();\n                }\n            } else {\n                isEscape = false;\n            }\n\n        } else if (c == split) {\n            list.add(sb.toString());\n            sb = new StringBuilder();\n        }\n    }\n\n    if (sb.length() &gt; 0) {\n        list.add(sb.toString());\n    }\n\n    String[] strArr = new String[list.size()];\n\n    return list.toArray(strArr);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1081611,"reputation":41298,"user_id":1078583,"accept_rate":69,"display_name":"zx81"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1403866652,"creation_date":1403866652,"answer_id":24450127,"question_id":18893390,"body_markdown":"**Why Split when you can Match?**\r\n\r\nResurrecting this question because for some reason, the easy solution wasn&#39;t mentioned. Here is our beautifully compact regex:\r\n\r\n    &quot;[^&quot;]*&quot;|[^,]+\r\n\r\nThis will match all the desired fragments ([see demo][1]).\r\n\r\n**Explanation**\r\n\r\n - With `&quot;[^&quot;]*&quot;`, we match complete `&quot;double-quoted strings&quot;`\r\n - or `|`\r\n - we match `[^,]+` any characters that are not a comma.\r\n\r\nA possible refinement is to improve the string side of the alternation to allow the quoted strings to include escaped quotes.\r\n\r\n\r\n  [1]: http://regex101.com/r/dM3wM7","title":"Splitting on comma outside quotes","body":"<p><strong>Why Split when you can Match?</strong></p>\n\n<p>Resurrecting this question because for some reason, the easy solution wasn't mentioned. Here is our beautifully compact regex:</p>\n\n<pre><code>\"[^\"]*\"|[^,]+\n</code></pre>\n\n<p>This will match all the desired fragments (<a href=\"http://regex101.com/r/dM3wM7\" rel=\"noreferrer\">see demo</a>).</p>\n\n<p><strong>Explanation</strong></p>\n\n<ul>\n<li>With <code>\"[^\"]*\"</code>, we match complete <code>\"double-quoted strings\"</code></li>\n<li>or <code>|</code></li>\n<li>we match <code>[^,]+</code> any characters that are not a comma.</li>\n</ul>\n\n<p>A possible refinement is to improve the string side of the alternation to allow the quoted strings to include escaped quotes.</p>\n"},{"tags":[],"owner":{"account_id":978905,"reputation":2840,"user_id":999165,"accept_rate":75,"display_name":"LAFK says reinstate Monica"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520242932,"creation_date":1520230466,"answer_id":49104480,"question_id":18893390,"body_markdown":"Building upon **@zx81&#39;s** answer, cause matching idea is really nice, I&#39;ve added Java 9 __`results`__ call, which returns a `Stream`. Since OP wanted to use `split`, I&#39;ve collected to `String[]`, as `split` does.\r\n\r\n**Caution if you have spaces after your comma-separators (`a, b, &quot;c,d&quot;`). Then you need to change the pattern.**\r\n\r\n## Jshell demo\r\n\r\n    $ jshell\r\n    -&gt; String so = &quot;123,test,444,\\&quot;don&#39;t split, this\\&quot;,more test,1&quot;;\r\n    |  Added variable so of type String with initial value &quot;123,test,444,&quot;don&#39;t split, this&quot;,more test,1&quot;\r\n\r\n    -&gt; Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;|[^,]+&quot;).matcher(so).results();\r\n    |  Expression value is: java.util.stream.ReferencePipeline$Head@2038ae61\r\n    |    assigned to temporary variable $68 of type java.util.stream.Stream&lt;MatchResult&gt;\r\n\r\n    -&gt; $68.map(MatchResult::group).toArray(String[]::new);\r\n    |  Expression value is: [Ljava.lang.String;@6b09bb57\r\n    |    assigned to temporary variable $69 of type String[]\r\n\r\n    -&gt; Arrays.stream($69).forEach(System.out::println);\r\n    123\r\n    test\r\n    444\r\n    &quot;don&#39;t split, this&quot;\r\n    more test\r\n    1\r\n\r\n## Code\r\n\r\n    String so = &quot;123,test,444,\\&quot;don&#39;t split, this\\&quot;,more test,1&quot;;\r\n    Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;|[^,]+&quot;)\r\n        .matcher(so)\r\n        .results()\r\n        .map(MatchResult::group)\r\n        .toArray(String[]::new);\r\n\r\n## Explanation\r\n\r\n1. Regex `[^&quot;]` matches: a quote, anything but a quote, a quote.\r\n2. Regex `[^&quot;]*` matches: a quote, anything but a quote 0 (or more) times , a quote.\r\n3. That regex needs to go first to &quot;win&quot;, otherwise matching _anything but a comma 1 or more times_ - that is: `[^,]+` - would &quot;win&quot;.\r\n4. `results()` requires Java 9 or higher.\r\n5. It returns `Stream&lt;MatchResult&gt;`, which I map using `group()` call and collect to array of Strings. Parameterless `toArray()` call would return `Object[]`.\r\n","title":"Splitting on comma outside quotes","body":"<p>Building upon <strong>@zx81's</strong> answer, cause matching idea is really nice, I've added Java 9 <strong><code>results</code></strong> call, which returns a <code>Stream</code>. Since OP wanted to use <code>split</code>, I've collected to <code>String[]</code>, as <code>split</code> does.</p>\n\n<p><strong>Caution if you have spaces after your comma-separators (<code>a, b, \"c,d\"</code>). Then you need to change the pattern.</strong></p>\n\n<h2>Jshell demo</h2>\n\n<pre><code>$ jshell\n-&gt; String so = \"123,test,444,\\\"don't split, this\\\",more test,1\";\n|  Added variable so of type String with initial value \"123,test,444,\"don't split, this\",more test,1\"\n\n-&gt; Pattern.compile(\"\\\"[^\\\"]*\\\"|[^,]+\").matcher(so).results();\n|  Expression value is: java.util.stream.ReferencePipeline$Head@2038ae61\n|    assigned to temporary variable $68 of type java.util.stream.Stream&lt;MatchResult&gt;\n\n-&gt; $68.map(MatchResult::group).toArray(String[]::new);\n|  Expression value is: [Ljava.lang.String;@6b09bb57\n|    assigned to temporary variable $69 of type String[]\n\n-&gt; Arrays.stream($69).forEach(System.out::println);\n123\ntest\n444\n\"don't split, this\"\nmore test\n1\n</code></pre>\n\n<h2>Code</h2>\n\n<pre><code>String so = \"123,test,444,\\\"don't split, this\\\",more test,1\";\nPattern.compile(\"\\\"[^\\\"]*\\\"|[^,]+\")\n    .matcher(so)\n    .results()\n    .map(MatchResult::group)\n    .toArray(String[]::new);\n</code></pre>\n\n<h2>Explanation</h2>\n\n<ol>\n<li>Regex <code>[^\"]</code> matches: a quote, anything but a quote, a quote.</li>\n<li>Regex <code>[^\"]*</code> matches: a quote, anything but a quote 0 (or more) times , a quote.</li>\n<li>That regex needs to go first to \"win\", otherwise matching <em>anything but a comma 1 or more times</em> - that is: <code>[^,]+</code> - would \"win\".</li>\n<li><code>results()</code> requires Java 9 or higher.</li>\n<li>It returns <code>Stream&lt;MatchResult&gt;</code>, which I map using <code>group()</code> call and collect to array of Strings. Parameterless <code>toArray()</code> call would return <code>Object[]</code>.</li>\n</ol>\n"}],"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66429,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":18893443,"answer_count":5,"score":75,"last_activity_date":1640809687,"creation_date":1379590116,"question_id":18893390,"body_markdown":"My program reads a line from a file. This line contains comma-separated text like:\r\n\r\n    123,test,444,&quot;don&#39;t split, this&quot;,more test,1\r\n\r\nI would like the result of a split to be this:\r\n\r\n    123\r\n    test\r\n    444\r\n    &quot;don&#39;t split, this&quot;\r\n    more test\r\n    1\r\n\r\nIf I use the `String.split(&quot;,&quot;)`, I would get this:\r\n\r\n    123\r\n    test\r\n    444\r\n    &quot;don&#39;t split\r\n     this&quot;\r\n    more test\r\n    1\r\n\r\nIn other words: The comma in the substring `&quot;don&#39;t split, this&quot;` is not a separator. How to deal with this?","title":"Splitting on comma outside quotes","body":"<p>My program reads a line from a file. This line contains comma-separated text like:</p>\n\n<pre><code>123,test,444,\"don't split, this\",more test,1\n</code></pre>\n\n<p>I would like the result of a split to be this:</p>\n\n<pre><code>123\ntest\n444\n\"don't split, this\"\nmore test\n1\n</code></pre>\n\n<p>If I use the <code>String.split(\",\")</code>, I would get this:</p>\n\n<pre><code>123\ntest\n444\n\"don't split\n this\"\nmore test\n1\n</code></pre>\n\n<p>In other words: The comma in the substring <code>\"don't split, this\"</code> is not a separator. How to deal with this?</p>\n"},{"tags":["java","maven","multi-module"],"comments":[{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":2,"creation_date":1640807054,"post_id":70523328,"comment_id":124665279,"body_markdown":"Could you try `mvn install` instead of `mvn package` and then run `mvn clean`?","body":"Could you try <code>mvn install</code> instead of <code>mvn package</code> and then run <code>mvn clean</code>?"},{"owner":{"account_id":7991189,"reputation":415,"user_id":6028998,"display_name":"Ron Wellman"},"score":0,"creation_date":1640807741,"post_id":70523328,"comment_id":124665504,"body_markdown":"@The5thcolumnmouse That works.  I can&#39;t believe I didn&#39;t think of that.  For whatever reason, I didn&#39;t think `mvn install` would also build my main app but it does.  Thanks!","body":"@The5thcolumnmouse That works.  I can&#39;t believe I didn&#39;t think of that.  For whatever reason, I didn&#39;t think <code>mvn install</code> would also build my main app but it does.  Thanks!"},{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":0,"creation_date":1640808091,"post_id":70523328,"comment_id":124665595,"body_markdown":"You are welcome! It is not enough to build the artifact, you have to install it into the local `.m2` repository.","body":"You are welcome! It is not enough to build the artifact, you have to install it into the local <code>.m2</code> repository."}],"answers":[{"tags":[],"owner":{"account_id":7991189,"reputation":415,"user_id":6028998,"display_name":"Ron Wellman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640809187,"creation_date":1640809187,"answer_id":70524594,"question_id":70523328,"body_markdown":"As pointed out by @The5thcolumnmouse, instead of using `mvn package`, if I use `mvn install` then the resulting jar files are installed into the .m2 repository.  Then when `mvn clean` is executed, my main app no longer complains about not being able to find my plugin.\r\n\r\n### M2 Repository\r\n```\r\npizza@hut:~/maven/maven-test$ tree ~/.m2/repository/com/ecorp/\r\n/somepath/.m2/repository/com/ecorp/\r\n├── build-args\r\n│&#160;&#160; ├── 1.0-SNAPSHOT\r\n│&#160;&#160; │&#160;&#160; ├── build-args-1.0-SNAPSHOT.jar\r\n│&#160;&#160; │&#160;&#160; ├── build-args-1.0-SNAPSHOT.pom\r\n│&#160;&#160; │&#160;&#160; ├── maven-metadata-local.xml\r\n│&#160;&#160; │&#160;&#160; └── _remote.repositories\r\n│&#160;&#160; └── maven-metadata-local.xml\r\n├── call-me\r\n│&#160;&#160; ├── 1.0-SNAPSHOT\r\n│&#160;&#160; │&#160;&#160; ├── call-me-1.0-SNAPSHOT.jar\r\n│&#160;&#160; │&#160;&#160; ├── call-me-1.0-SNAPSHOT.pom\r\n│&#160;&#160; │&#160;&#160; ├── maven-metadata-local.xml\r\n│&#160;&#160; │&#160;&#160; └── _remote.repositories\r\n│&#160;&#160; └── maven-metadata-local.xml\r\n├── maven-metadata-local.xml\r\n└── maven-test\r\n    ├── 1.0-SNAPSHOT\r\n    │&#160;&#160; ├── maven-metadata-local.xml\r\n    │&#160;&#160; ├── maven-test-1.0-SNAPSHOT.pom\r\n    │&#160;&#160; └── _remote.repositories\r\n    └── maven-metadata-local.xml\r\n\r\n```\r\n\r\n### Clean\r\n`mvn clean`\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] maven-test                                                         [pom]\r\n[INFO] build-args Maven Plugin                                   [maven-plugin]\r\n[INFO] call-me                                                            [jar]\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\r\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ maven-test ---\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\r\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\r\n[INFO] ----------------------------[ maven-plugin ]----------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ build-args ---\r\n[INFO] Deleting /somepath/maven-test/build-args/target\r\n[INFO] \r\n[INFO] -------------------------&lt; com.ecorp:call-me &gt;--------------------------\r\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ call-me ---\r\n[INFO] Deleting /somepath/maven-test/call-me/target\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] maven-test ......................................... SUCCESS [  0.159 s]\r\n[INFO] build-args Maven Plugin ............................ SUCCESS [  0.037 s]\r\n[INFO] call-me ............................................ SUCCESS [  0.015 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.322 s\r\n[INFO] Finished at: 2021-12-29T15:11:12-05:00\r\n[INFO] ------------------------------------------------------------------------\r\n```","title":"Maven Multi-Module clean cannot find dependency","body":"<p>As pointed out by @The5thcolumnmouse, instead of using <code>mvn package</code>, if I use <code>mvn install</code> then the resulting jar files are installed into the .m2 repository.  Then when <code>mvn clean</code> is executed, my main app no longer complains about not being able to find my plugin.</p>\n<h3>M2 Repository</h3>\n<pre><code>pizza@hut:~/maven/maven-test$ tree ~/.m2/repository/com/ecorp/\n/somepath/.m2/repository/com/ecorp/\n├── build-args\n│   ├── 1.0-SNAPSHOT\n│   │   ├── build-args-1.0-SNAPSHOT.jar\n│   │   ├── build-args-1.0-SNAPSHOT.pom\n│   │   ├── maven-metadata-local.xml\n│   │   └── _remote.repositories\n│   └── maven-metadata-local.xml\n├── call-me\n│   ├── 1.0-SNAPSHOT\n│   │   ├── call-me-1.0-SNAPSHOT.jar\n│   │   ├── call-me-1.0-SNAPSHOT.pom\n│   │   ├── maven-metadata-local.xml\n│   │   └── _remote.repositories\n│   └── maven-metadata-local.xml\n├── maven-metadata-local.xml\n└── maven-test\n    ├── 1.0-SNAPSHOT\n    │   ├── maven-metadata-local.xml\n    │   ├── maven-test-1.0-SNAPSHOT.pom\n    │   └── _remote.repositories\n    └── maven-metadata-local.xml\n\n</code></pre>\n<h3>Clean</h3>\n<p><code>mvn clean</code></p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] maven-test                                                         [pom]\n[INFO] build-args Maven Plugin                                   [maven-plugin]\n[INFO] call-me                                                            [jar]\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ maven-test ---\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\n[INFO] ----------------------------[ maven-plugin ]----------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ build-args ---\n[INFO] Deleting /somepath/maven-test/build-args/target\n[INFO] \n[INFO] -------------------------&lt; com.ecorp:call-me &gt;--------------------------\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ call-me ---\n[INFO] Deleting /somepath/maven-test/call-me/target\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\n[INFO] \n[INFO] maven-test ......................................... SUCCESS [  0.159 s]\n[INFO] build-args Maven Plugin ............................ SUCCESS [  0.037 s]\n[INFO] call-me ............................................ SUCCESS [  0.015 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.322 s\n[INFO] Finished at: 2021-12-29T15:11:12-05:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"}],"owner":{"account_id":7991189,"reputation":415,"user_id":6028998,"display_name":"Ron Wellman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640809187,"creation_date":1640801604,"question_id":70523328,"body_markdown":"# Problem\r\n`mvn package` is successful but `mvn clean` fails due to dependency artifact not being found in a multi-module project.\r\n\r\n\r\n## Details\r\nI am new to Maven and thus far my Google foo has not been successful.  I&#39;m attempting to learn it through a pet project and its mostly coming along fine.  I am attempting to use Maven to build both a custom plugin and my main App at the same time.  Both are currently generic having been build using the `mvn archetype:generate` for a plugin and a quickstart. Thus far, running `mvn package` works just fine. I can see my plugin being built, and during the process of building my main App, my plugin is executed. This is exactly what I wanted to see. The resulting jar from the main app works fine and the *touch.txt* file that the sample plugin generates is also present.\r\n\r\nHowever, when I attempt `mvn clean`, maven reactor cleans up my plugin first, so when it then cleans up my main App it can&#39;t locate the plugin&#39;s jar file that it just deleted in the previous step and fails. I can&#39;t find where I should specify this order as I thought reactor was supposed to figure this out on its own. Then again, maybe the main App shouldn&#39;t be looking for the plugin jar at all.  Do I need to exclude it during one of the phases? I&#39;ve attempted swapping the order of the modules by changing their order in my parent *pom.xml* file and that didn&#39;t seem to make a difference but I also don&#39;t know if I need to clear out a cache before the swap would have any effect. I feel like I&#39;m missing something fundamental here in my understanding of Maven.  Either way, overly verbose details are below and any help would be greatly appreciated.\r\n\r\n`mvn --version`: \r\n```\r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 13.0.7, vendor: Private Build, runtime: /usr/lib/jvm/java-13-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.15.5-76051505-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n### Project Directory Structure\r\n\r\nBefore anything is built:\r\n```\r\nmaven-test\r\n    ├── build-args\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     ├── it\r\n    │&#160;&#160;     │&#160;&#160; ├── settings.xml\r\n    │&#160;&#160;     │&#160;&#160; └── simple-it\r\n    │&#160;&#160;     │&#160;&#160;     ├── pom.xml\r\n    │&#160;&#160;     │&#160;&#160;     └── verify.groovy\r\n    │&#160;&#160;     ├── main\r\n    │&#160;&#160;     │&#160;&#160; └── java\r\n    │&#160;&#160;     │&#160;&#160;     └── com\r\n    │&#160;&#160;     │&#160;&#160;         └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;             └── MyMojo.java\r\n    │&#160;&#160;     └── test\r\n    │&#160;&#160;         ├── java\r\n    │&#160;&#160;         │&#160;&#160; └── com\r\n    │&#160;&#160;         │&#160;&#160;     └── ecorp\r\n    │&#160;&#160;         │&#160;&#160;         └── MyMojoTest.java\r\n    │&#160;&#160;         └── resources\r\n    │&#160;&#160;             └── project-to-test\r\n    │&#160;&#160;                 └── pom.xml\r\n    ├── call-me\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     ├── main\r\n    │&#160;&#160;     │&#160;&#160; └── java\r\n    │&#160;&#160;     │&#160;&#160;     └── com\r\n    │&#160;&#160;     │&#160;&#160;         └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;             └── App.java\r\n    │&#160;&#160;     └── test\r\n    │&#160;&#160;         └── java\r\n    │&#160;&#160;             └── com\r\n    │&#160;&#160;                 └── ecorp\r\n    │&#160;&#160;                     └── AppTest.java\r\n    └── pom.xml\r\n```\r\n\r\nAfter Build\r\n```\r\nmaven-test\r\n    ├── build-args\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; ├── src\r\n    │&#160;&#160; │&#160;&#160; ├── it\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; ├── settings.xml\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; └── simple-it\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     ├── pom.xml\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     └── verify.groovy\r\n    │&#160;&#160; │&#160;&#160; ├── main\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; └── java\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     └── com\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;         └── ecorp\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             └── MyMojo.java\r\n    │&#160;&#160; │&#160;&#160; └── test\r\n    │&#160;&#160; │&#160;&#160;     ├── java\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; └── com\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160;     └── ecorp\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160;         └── MyMojoTest.java\r\n    │&#160;&#160; │&#160;&#160;     └── resources\r\n    │&#160;&#160; │&#160;&#160;         └── project-to-test\r\n    │&#160;&#160; │&#160;&#160;             └── pom.xml\r\n    │&#160;&#160; └── target\r\n    │&#160;&#160;     ├── build-args-1.0-SNAPSHOT.jar\r\n    │&#160;&#160;     ├── classes\r\n    │&#160;&#160;     │&#160;&#160; ├── com\r\n    │&#160;&#160;     │&#160;&#160; │&#160;&#160; └── ecorp\r\n    │&#160;&#160;     │&#160;&#160; │&#160;&#160;     ├── HelpMojo.class\r\n    │&#160;&#160;     │&#160;&#160; │&#160;&#160;     └── MyMojo.class\r\n    │&#160;&#160;     │&#160;&#160; └── META-INF\r\n    │&#160;&#160;     │&#160;&#160;     └── maven\r\n    │&#160;&#160;     │&#160;&#160;         ├── com.ecorp\r\n    │&#160;&#160;     │&#160;&#160;         │&#160;&#160; └── build-args\r\n    │&#160;&#160;     │&#160;&#160;         │&#160;&#160;     └── plugin-help.xml\r\n    │&#160;&#160;     │&#160;&#160;         └── plugin.xml\r\n    │&#160;&#160;     ├── generated-sources\r\n    │&#160;&#160;     │&#160;&#160; ├── annotations\r\n    │&#160;&#160;     │&#160;&#160; └── plugin\r\n    │&#160;&#160;     │&#160;&#160;     └── com\r\n    │&#160;&#160;     │&#160;&#160;         └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;             └── HelpMojo.java\r\n    │&#160;&#160;     ├── generated-test-sources\r\n    │&#160;&#160;     │&#160;&#160; └── test-annotations\r\n    │&#160;&#160;     ├── maven-archiver\r\n    │&#160;&#160;     │&#160;&#160; └── pom.properties\r\n    │&#160;&#160;     ├── maven-plugin-help.properties\r\n    │&#160;&#160;     ├── maven-status\r\n    │&#160;&#160;     │&#160;&#160; └── maven-compiler-plugin\r\n    │&#160;&#160;     │&#160;&#160;     ├── compile\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160; └── default-compile\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160;     ├── createdFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160;     └── inputFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;     └── testCompile\r\n    │&#160;&#160;     │&#160;&#160;         └── default-testCompile\r\n    │&#160;&#160;     │&#160;&#160;             ├── createdFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;             └── inputFiles.lst\r\n    │&#160;&#160;     ├── surefire-reports\r\n    │&#160;&#160;     │&#160;&#160; ├── com.ecorp.MyMojoTest.txt\r\n    │&#160;&#160;     │&#160;&#160; └── TEST-com.ecorp.MyMojoTest.xml\r\n    │&#160;&#160;     └── test-classes\r\n    │&#160;&#160;         ├── com\r\n    │&#160;&#160;         │&#160;&#160; └── ecorp\r\n    │&#160;&#160;         │&#160;&#160;     ├── MyMojoTest$1.class\r\n    │&#160;&#160;         │&#160;&#160;     └── MyMojoTest.class\r\n    │&#160;&#160;         └── project-to-test\r\n    │&#160;&#160;             ├── pom.xml\r\n    │&#160;&#160;             └── target\r\n    │&#160;&#160;                 └── touch.txt\r\n    ├── call-me\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; ├── src\r\n    │&#160;&#160; │&#160;&#160; ├── main\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; └── java\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     └── com\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;         └── ecorp\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             └── App.java\r\n    │&#160;&#160; │&#160;&#160; └── test\r\n    │&#160;&#160; │&#160;&#160;     └── java\r\n    │&#160;&#160; │&#160;&#160;         └── com\r\n    │&#160;&#160; │&#160;&#160;             └── ecorp\r\n    │&#160;&#160; │&#160;&#160;                 └── AppTest.java\r\n    │&#160;&#160; └── target\r\n    │&#160;&#160;     ├── call-me-1.0-SNAPSHOT.jar\r\n    │&#160;&#160;     ├── classes\r\n    │&#160;&#160;     │&#160;&#160; └── com\r\n    │&#160;&#160;     │&#160;&#160;     └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;         └── App.class\r\n    │&#160;&#160;     ├── generated-sources\r\n    │&#160;&#160;     │&#160;&#160; └── annotations\r\n    │&#160;&#160;     ├── generated-test-sources\r\n    │&#160;&#160;     │&#160;&#160; └── test-annotations\r\n    │&#160;&#160;     ├── maven-archiver\r\n    │&#160;&#160;     │&#160;&#160; └── pom.properties\r\n    │&#160;&#160;     ├── maven-status\r\n    │&#160;&#160;     │&#160;&#160; └── maven-compiler-plugin\r\n    │&#160;&#160;     │&#160;&#160;     ├── compile\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160; └── default-compile\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160;     ├── createdFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160;     └── inputFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;     └── testCompile\r\n    │&#160;&#160;     │&#160;&#160;         └── default-testCompile\r\n    │&#160;&#160;     │&#160;&#160;             ├── createdFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;             └── inputFiles.lst\r\n    │&#160;&#160;     ├── surefire-reports\r\n    │&#160;&#160;     │&#160;&#160; ├── com.ecorp.AppTest.txt\r\n    │&#160;&#160;     │&#160;&#160; └── TEST-com.ecorp.AppTest.xml\r\n    │&#160;&#160;     ├── test-classes\r\n    │&#160;&#160;     │&#160;&#160; └── com\r\n    │&#160;&#160;     │&#160;&#160;     └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;         └── AppTest.class\r\n    │&#160;&#160;     └── touch.txt\r\n    └── pom.xml\r\n\r\n71 directories, 40 files\r\npizza@hut:~/maven/maven-test$ java -jar call-me/target/call-me-1.0-SNAPSHOT.jar \r\nHello World!\r\npizza@hut:~/maven/maven-test$ cat call-me/target/touch.txt \r\ntouch.txt\r\n```\r\n\r\n## Package\r\n\r\nIf I manually clean everything up by deleting all of the target folders and then run `mvn package`:\r\n```\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] maven-test                                                         [pom]\r\n[INFO] build-args Maven Plugin                                   [maven-plugin]\r\n[INFO] call-me                                                            [jar]\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\r\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\r\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\r\n.........\r\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- build-args:1.0-SNAPSHOT:touch (default) @ call-me ---\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ call-me ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /somepath/maven-test/call-me/src/main/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ call-me ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 1 source file to /somepath/maven-test/call-me/target/classes\r\n.........\r\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] maven-test ......................................... SUCCESS [  0.005 s]\r\n[INFO] build-args Maven Plugin ............................ SUCCESS [  4.101 s]\r\n[INFO] call-me ............................................ SUCCESS [  0.574 s]\r\n```\r\n## Clean\r\n\r\n`mvn clean` exert:\r\n```\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] maven-test                                                         [pom]\r\n[INFO] build-args Maven Plugin                                   [maven-plugin]\r\n[INFO] call-me                                                            [jar]\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\r\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ maven-test ---\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\r\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\r\n[INFO] ----------------------------[ maven-plugin ]----------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ build-args ---\r\n[INFO] Deleting /somepath/maven-test/build-args/target\r\n[INFO] \r\n[INFO] -------------------------&lt; com.ecorp:call-me &gt;--------------------------\r\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] maven-test ......................................... SUCCESS [  0.159 s]\r\n[INFO] build-args Maven Plugin ............................ SUCCESS [  0.030 s]\r\n[INFO] call-me ............................................ FAILURE [  0.005 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.303 s\r\n[INFO] Finished at: 2021-12-29T12:29:55-05:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Plugin com.ecorp:build-args:1.0-SNAPSHOT or one of its dependencies could not be resolved: Could not find artifact com.ecorp:build-args:jar:1.0-SNAPSHOT -&gt; [Help 1]\r\n```\r\n## POM Files\r\n\r\n### Parent\r\n\r\nHere is a copy of my maven-test *pom.xml* file:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  \r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;maven-test&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n      \r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n      \r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  \r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;com.ecorp.App&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n    \r\n  &lt;modules&gt;\r\n    &lt;module&gt;call-me&lt;/module&gt;\r\n    &lt;module&gt;build-args&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  \r\n&lt;/project&gt;\r\n```\r\n### Plugin\r\n\r\nHere is a copy of my build-args plugin *pom.xml*:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n  &lt;parent&gt;\r\n    &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\r\n    &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;build-args&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;build-args Maven Plugin&lt;/name&gt;\r\n\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;prerequisites&gt;\r\n    &lt;maven&gt;${maven.version}&lt;/maven&gt;\r\n  &lt;/prerequisites&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    &lt;maven.version&gt;3.3.9&lt;/maven.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven.version}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven.version}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven.version}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt; \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;3.6.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- &lt;goalPrefix&gt;maven-archetype-plugin&lt;/goalPrefix&gt; --&gt;\r\n          &lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;mojo-descriptor&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;descriptor&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;help-goal&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;helpmojo&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;run-its&lt;/id&gt;\r\n      &lt;build&gt;\r\n\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-invoker-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;debug&gt;true&lt;/debug&gt;\r\n              &lt;cloneProjectsTo&gt;${project.build.directory}/it&lt;/cloneProjectsTo&gt;\r\n              &lt;pomIncludes&gt;\r\n                &lt;pomInclude&gt;*/pom.xml&lt;/pomInclude&gt;\r\n              &lt;/pomIncludes&gt;\r\n              &lt;postBuildHookScript&gt;verify&lt;/postBuildHookScript&gt;\r\n              &lt;localRepositoryPath&gt;${project.build.directory}/local-repo&lt;/localRepositoryPath&gt;\r\n              &lt;settingsFile&gt;src/it/settings.xml&lt;/settingsFile&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;clean&lt;/goal&gt;\r\n                &lt;goal&gt;test-compile&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;integration-test&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;install&lt;/goal&gt;\r\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                  &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n### Main App\r\n\r\nHere is a copy of my call-me *pom.xml* main app:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\r\n    &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;call-me&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;call-me&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;build-args&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  \r\n  &lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;build-args&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;touch&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Maven Multi-Module clean cannot find dependency","body":"<h1>Problem</h1>\n<p><code>mvn package</code> is successful but <code>mvn clean</code> fails due to dependency artifact not being found in a multi-module project.</p>\n<h2>Details</h2>\n<p>I am new to Maven and thus far my Google foo has not been successful.  I'm attempting to learn it through a pet project and its mostly coming along fine.  I am attempting to use Maven to build both a custom plugin and my main App at the same time.  Both are currently generic having been build using the <code>mvn archetype:generate</code> for a plugin and a quickstart. Thus far, running <code>mvn package</code> works just fine. I can see my plugin being built, and during the process of building my main App, my plugin is executed. This is exactly what I wanted to see. The resulting jar from the main app works fine and the <em>touch.txt</em> file that the sample plugin generates is also present.</p>\n<p>However, when I attempt <code>mvn clean</code>, maven reactor cleans up my plugin first, so when it then cleans up my main App it can't locate the plugin's jar file that it just deleted in the previous step and fails. I can't find where I should specify this order as I thought reactor was supposed to figure this out on its own. Then again, maybe the main App shouldn't be looking for the plugin jar at all.  Do I need to exclude it during one of the phases? I've attempted swapping the order of the modules by changing their order in my parent <em>pom.xml</em> file and that didn't seem to make a difference but I also don't know if I need to clear out a cache before the swap would have any effect. I feel like I'm missing something fundamental here in my understanding of Maven.  Either way, overly verbose details are below and any help would be greatly appreciated.</p>\n<p><code>mvn --version</code>:</p>\n<pre><code>Apache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 13.0.7, vendor: Private Build, runtime: /usr/lib/jvm/java-13-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.5-76051505-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<h3>Project Directory Structure</h3>\n<p>Before anything is built:</p>\n<pre><code>maven-test\n    ├── build-args\n    │   ├── pom.xml\n    │   └── src\n    │       ├── it\n    │       │   ├── settings.xml\n    │       │   └── simple-it\n    │       │       ├── pom.xml\n    │       │       └── verify.groovy\n    │       ├── main\n    │       │   └── java\n    │       │       └── com\n    │       │           └── ecorp\n    │       │               └── MyMojo.java\n    │       └── test\n    │           ├── java\n    │           │   └── com\n    │           │       └── ecorp\n    │           │           └── MyMojoTest.java\n    │           └── resources\n    │               └── project-to-test\n    │                   └── pom.xml\n    ├── call-me\n    │   ├── pom.xml\n    │   └── src\n    │       ├── main\n    │       │   └── java\n    │       │       └── com\n    │       │           └── ecorp\n    │       │               └── App.java\n    │       └── test\n    │           └── java\n    │               └── com\n    │                   └── ecorp\n    │                       └── AppTest.java\n    └── pom.xml\n</code></pre>\n<p>After Build</p>\n<pre><code>maven-test\n    ├── build-args\n    │   ├── pom.xml\n    │   ├── src\n    │   │   ├── it\n    │   │   │   ├── settings.xml\n    │   │   │   └── simple-it\n    │   │   │       ├── pom.xml\n    │   │   │       └── verify.groovy\n    │   │   ├── main\n    │   │   │   └── java\n    │   │   │       └── com\n    │   │   │           └── ecorp\n    │   │   │               └── MyMojo.java\n    │   │   └── test\n    │   │       ├── java\n    │   │       │   └── com\n    │   │       │       └── ecorp\n    │   │       │           └── MyMojoTest.java\n    │   │       └── resources\n    │   │           └── project-to-test\n    │   │               └── pom.xml\n    │   └── target\n    │       ├── build-args-1.0-SNAPSHOT.jar\n    │       ├── classes\n    │       │   ├── com\n    │       │   │   └── ecorp\n    │       │   │       ├── HelpMojo.class\n    │       │   │       └── MyMojo.class\n    │       │   └── META-INF\n    │       │       └── maven\n    │       │           ├── com.ecorp\n    │       │           │   └── build-args\n    │       │           │       └── plugin-help.xml\n    │       │           └── plugin.xml\n    │       ├── generated-sources\n    │       │   ├── annotations\n    │       │   └── plugin\n    │       │       └── com\n    │       │           └── ecorp\n    │       │               └── HelpMojo.java\n    │       ├── generated-test-sources\n    │       │   └── test-annotations\n    │       ├── maven-archiver\n    │       │   └── pom.properties\n    │       ├── maven-plugin-help.properties\n    │       ├── maven-status\n    │       │   └── maven-compiler-plugin\n    │       │       ├── compile\n    │       │       │   └── default-compile\n    │       │       │       ├── createdFiles.lst\n    │       │       │       └── inputFiles.lst\n    │       │       └── testCompile\n    │       │           └── default-testCompile\n    │       │               ├── createdFiles.lst\n    │       │               └── inputFiles.lst\n    │       ├── surefire-reports\n    │       │   ├── com.ecorp.MyMojoTest.txt\n    │       │   └── TEST-com.ecorp.MyMojoTest.xml\n    │       └── test-classes\n    │           ├── com\n    │           │   └── ecorp\n    │           │       ├── MyMojoTest$1.class\n    │           │       └── MyMojoTest.class\n    │           └── project-to-test\n    │               ├── pom.xml\n    │               └── target\n    │                   └── touch.txt\n    ├── call-me\n    │   ├── pom.xml\n    │   ├── src\n    │   │   ├── main\n    │   │   │   └── java\n    │   │   │       └── com\n    │   │   │           └── ecorp\n    │   │   │               └── App.java\n    │   │   └── test\n    │   │       └── java\n    │   │           └── com\n    │   │               └── ecorp\n    │   │                   └── AppTest.java\n    │   └── target\n    │       ├── call-me-1.0-SNAPSHOT.jar\n    │       ├── classes\n    │       │   └── com\n    │       │       └── ecorp\n    │       │           └── App.class\n    │       ├── generated-sources\n    │       │   └── annotations\n    │       ├── generated-test-sources\n    │       │   └── test-annotations\n    │       ├── maven-archiver\n    │       │   └── pom.properties\n    │       ├── maven-status\n    │       │   └── maven-compiler-plugin\n    │       │       ├── compile\n    │       │       │   └── default-compile\n    │       │       │       ├── createdFiles.lst\n    │       │       │       └── inputFiles.lst\n    │       │       └── testCompile\n    │       │           └── default-testCompile\n    │       │               ├── createdFiles.lst\n    │       │               └── inputFiles.lst\n    │       ├── surefire-reports\n    │       │   ├── com.ecorp.AppTest.txt\n    │       │   └── TEST-com.ecorp.AppTest.xml\n    │       ├── test-classes\n    │       │   └── com\n    │       │       └── ecorp\n    │       │           └── AppTest.class\n    │       └── touch.txt\n    └── pom.xml\n\n71 directories, 40 files\npizza@hut:~/maven/maven-test$ java -jar call-me/target/call-me-1.0-SNAPSHOT.jar \nHello World!\npizza@hut:~/maven/maven-test$ cat call-me/target/touch.txt \ntouch.txt\n</code></pre>\n<h2>Package</h2>\n<p>If I manually clean everything up by deleting all of the target folders and then run <code>mvn package</code>:</p>\n<pre><code>[INFO] Reactor Build Order:\n[INFO] \n[INFO] maven-test                                                         [pom]\n[INFO] build-args Maven Plugin                                   [maven-plugin]\n[INFO] call-me                                                            [jar]\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\n.........\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- build-args:1.0-SNAPSHOT:touch (default) @ call-me ---\n[INFO] \n[INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ call-me ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /somepath/maven-test/call-me/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ call-me ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /somepath/maven-test/call-me/target/classes\n.........\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\n[INFO] \n[INFO] maven-test ......................................... SUCCESS [  0.005 s]\n[INFO] build-args Maven Plugin ............................ SUCCESS [  4.101 s]\n[INFO] call-me ............................................ SUCCESS [  0.574 s]\n</code></pre>\n<h2>Clean</h2>\n<p><code>mvn clean</code> exert:</p>\n<pre><code>[INFO] Reactor Build Order:\n[INFO] \n[INFO] maven-test                                                         [pom]\n[INFO] build-args Maven Plugin                                   [maven-plugin]\n[INFO] call-me                                                            [jar]\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ maven-test ---\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\n[INFO] ----------------------------[ maven-plugin ]----------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ build-args ---\n[INFO] Deleting /somepath/maven-test/build-args/target\n[INFO] \n[INFO] -------------------------&lt; com.ecorp:call-me &gt;--------------------------\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\n[INFO] \n[INFO] maven-test ......................................... SUCCESS [  0.159 s]\n[INFO] build-args Maven Plugin ............................ SUCCESS [  0.030 s]\n[INFO] call-me ............................................ FAILURE [  0.005 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.303 s\n[INFO] Finished at: 2021-12-29T12:29:55-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Plugin com.ecorp:build-args:1.0-SNAPSHOT or one of its dependencies could not be resolved: Could not find artifact com.ecorp:build-args:jar:1.0-SNAPSHOT -&gt; [Help 1]\n</code></pre>\n<h2>POM Files</h2>\n<h3>Parent</h3>\n<p>Here is a copy of my maven-test <em>pom.xml</em> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  \n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;maven-test&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n      \n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n      \n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  \n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;mainClass&gt;com.ecorp.App&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n    \n  &lt;modules&gt;\n    &lt;module&gt;call-me&lt;/module&gt;\n    &lt;module&gt;build-args&lt;/module&gt;\n  &lt;/modules&gt;\n  \n&lt;/project&gt;\n</code></pre>\n<h3>Plugin</h3>\n<p>Here is a copy of my build-args plugin <em>pom.xml</em>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\n    &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n  &lt;artifactId&gt;build-args&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n\n  &lt;name&gt;build-args Maven Plugin&lt;/name&gt;\n\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;prerequisites&gt;\n    &lt;maven&gt;${maven.version}&lt;/maven&gt;\n  &lt;/prerequisites&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;maven.version&gt;3.3.9&lt;/maven.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n      &lt;version&gt;${maven.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n      &lt;version&gt;${maven.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\n      &lt;version&gt;${maven.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n      &lt;version&gt;${maven.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt; \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n      &lt;version&gt;3.6.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;!-- &lt;goalPrefix&gt;maven-archetype-plugin&lt;/goalPrefix&gt; --&gt;\n          &lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;mojo-descriptor&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;descriptor&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;help-goal&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;helpmojo&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;run-its&lt;/id&gt;\n      &lt;build&gt;\n\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-invoker-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;debug&gt;true&lt;/debug&gt;\n              &lt;cloneProjectsTo&gt;${project.build.directory}/it&lt;/cloneProjectsTo&gt;\n              &lt;pomIncludes&gt;\n                &lt;pomInclude&gt;*/pom.xml&lt;/pomInclude&gt;\n              &lt;/pomIncludes&gt;\n              &lt;postBuildHookScript&gt;verify&lt;/postBuildHookScript&gt;\n              &lt;localRepositoryPath&gt;${project.build.directory}/local-repo&lt;/localRepositoryPath&gt;\n              &lt;settingsFile&gt;src/it/settings.xml&lt;/settingsFile&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;clean&lt;/goal&gt;\n                &lt;goal&gt;test-compile&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;integration-test&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;install&lt;/goal&gt;\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\n                  &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<h3>Main App</h3>\n<p>Here is a copy of my call-me <em>pom.xml</em> main app:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\n    &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n  &lt;artifactId&gt;call-me&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;call-me&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n      &lt;artifactId&gt;build-args&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n      &lt;artifactId&gt;build-args&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;touch&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","list","generics","numbers"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640805157,"post_id":70523903,"comment_id":124664707,"body_markdown":"You want an upper bound for the generic parameter `T`: `T extends Number`. For details, I recommend reading a tutorial on the topic, e.g. [this one from `oracle.com`](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html).","body":"You want an upper bound for the generic parameter <code>T</code>: <code>T extends Number</code>. For details, I recommend reading a tutorial on the topic, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">this one from <code>oracle.com</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":23778083,"reputation":44,"user_id":17791222,"display_name":"coderwindows03"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1640805264,"creation_date":1640805264,"answer_id":70523958,"question_id":70523903,"body_markdown":"check for absolute value of the number, then compare it to the number without abs. if they match, then it&#39;s positive, and if not its negative.\r\n\r\n\r\n\r\nadd the elements that match to another list to have all the positive numbers in the list","title":"Select positives from a list with Generics","body":"<p>check for absolute value of the number, then compare it to the number without abs. if they match, then it's positive, and if not its negative.</p>\n<p>add the elements that match to another list to have all the positive numbers in the list</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1640805678,"creation_date":1640805678,"answer_id":70524038,"question_id":70523903,"body_markdown":"I modified your code so that it would return a list of positive numbers.\r\n\r\n```\r\n    //public static &lt;T&gt; List&lt;T&gt; selectPositives(List&lt;? extends Number&gt; list) {\r\n    public static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\r\n        //T positiveNumber = null;\r\n        List&lt;T&gt; positiveNumbers = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i).doubleValue() &gt; 0) {\r\n                //return (List&lt;T&gt;) positiveNumber;\r\n                positiveNumbers.add(list.get(i));\r\n            }\r\n        }\r\n        return positiveNumbers;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        List&lt;Number&gt; list = List.of(-1,-2,1.5, 3,-4,-5, 6);\r\n        System.out.println(selectPositives(list));\r\n    }\r\n```\r\n\r\nOutput:\r\n```\r\n[1.5, 3, 6]\r\n```\r\n","title":"Select positives from a list with Generics","body":"<p>I modified your code so that it would return a list of positive numbers.</p>\n<pre><code>    //public static &lt;T&gt; List&lt;T&gt; selectPositives(List&lt;? extends Number&gt; list) {\n    public static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\n        //T positiveNumber = null;\n        List&lt;T&gt; positiveNumbers = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (list.get(i).doubleValue() &gt; 0) {\n                //return (List&lt;T&gt;) positiveNumber;\n                positiveNumbers.add(list.get(i));\n            }\n        }\n        return positiveNumbers;\n    }\n\n    public static void main(String[] args) {\n        \n        List&lt;Number&gt; list = List.of(-1,-2,1.5, 3,-4,-5, 6);\n        System.out.println(selectPositives(list));\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>[1.5, 3, 6]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640808440,"creation_date":1640808440,"answer_id":70524477,"question_id":70523903,"body_markdown":"Using Stream API, the list of positives may be filtered out of the input:\r\n```java\r\npublic static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\r\n    return list.stream()\r\n        .filter(x -&gt; x.doubleValue() &gt; 0.0)\r\n        .collect(Collectors.toList());\r\n} \r\n```\r\nAlso, `List::removeIf` with inverted condition may be applied to the given input/mutable copy of the input:\r\n```java\r\npublic static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\r\n\r\n    List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\r\n    \r\n    result.removeIf(x -&gt; x.doubleValue() &lt;= 0);\r\n    \r\n    return result;\r\n}\r\n```","title":"Select positives from a list with Generics","body":"<p>Using Stream API, the list of positives may be filtered out of the input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\n    return list.stream()\n        .filter(x -&gt; x.doubleValue() &gt; 0.0)\n        .collect(Collectors.toList());\n} \n</code></pre>\n<p>Also, <code>List::removeIf</code> with inverted condition may be applied to the given input/mutable copy of the input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\n\n    List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\n    \n    result.removeIf(x -&gt; x.doubleValue() &lt;= 0);\n    \n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":23552843,"reputation":35,"user_id":17595294,"display_name":"Alma Jelena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70524038,"answer_count":3,"score":2,"last_activity_date":1640808440,"creation_date":1640804967,"question_id":70523903,"body_markdown":"I am pretty new here, so excuse me if you do not understand my question.(Be nice :D)\r\nSo basically I have to make a method which select positives &quot;numbers&quot; from a list using Generics.\r\n\r\nThe base of the method should look like this :\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; selectPositives(List&lt;? extends Number&gt; list) {\r\n    \r\n            T positiveNumber = null;\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                if (list.get(i) &gt; 0) {\r\n                    return (List&lt;T&gt;) positiveNumber;\r\n                }\r\n            }\r\n            return (List&lt;T&gt;) positiveNumber;\r\n        }\r\n\r\nWell obviously this is not working, so I would greatly appreciate any help.\r\nThanks,\r\nAlma","title":"Select positives from a list with Generics","body":"<p>I am pretty new here, so excuse me if you do not understand my question.(Be nice :D)\nSo basically I have to make a method which select positives &quot;numbers&quot; from a list using Generics.</p>\n<p>The base of the method should look like this :</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; selectPositives(List&lt;? extends Number&gt; list) {\n\n        T positiveNumber = null;\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (list.get(i) &gt; 0) {\n                return (List&lt;T&gt;) positiveNumber;\n            }\n        }\n        return (List&lt;T&gt;) positiveNumber;\n    }\n</code></pre>\n<p>Well obviously this is not working, so I would greatly appreciate any help.\nThanks,\nAlma</p>\n"},{"tags":["java","properties"],"comments":[{"owner":{"account_id":16290392,"reputation":341,"user_id":11937776,"display_name":"m3r1v3"},"score":0,"creation_date":1640808132,"post_id":70524389,"comment_id":124665622,"body_markdown":"You can use regular expressions. It helps find necessary value. [About regex in Java](https://www.tutorialspoint.com/java/java_regular_expressions.htm)","body":"You can use regular expressions. It helps find necessary value. <a href=\"https://www.tutorialspoint.com/java/java_regular_expressions.htm\" rel=\"nofollow noreferrer\">About regex in Java</a>"},{"owner":{"account_id":404578,"reputation":2475,"user_id":772992,"accept_rate":80,"display_name":"hradecek"},"score":0,"creation_date":1640813762,"post_id":70524389,"comment_id":124667257,"body_markdown":"You might use https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html with combination of `System.getenv()` (but commons-text uses `${VAR:-defaultValue}`, just like BASH, so you have to change format)","body":"You might use <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a> with combination of <code>System.getenv()</code> (but commons-text uses <code>${VAR:-defaultValue}</code>, just like BASH, so you have to change format)"}],"owner":{"account_id":5963324,"reputation":61,"user_id":4687788,"display_name":"Богдан Ляховецкий"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640807856,"creation_date":1640807856,"question_id":70524389,"body_markdown":"I have a property file such like this\r\n\r\n    human.name=${HUMAN_NAME:defaultName}\r\n    human.age=${HUMAN_AGE}\r\n    human.def=Value\r\n\r\nI need to read it on runtime in java without the spring framework.\r\nIs there a method how to achieve this?","title":"Read property file values with environment variables","body":"<p>I have a property file such like this</p>\n<pre><code>human.name=${HUMAN_NAME:defaultName}\nhuman.age=${HUMAN_AGE}\nhuman.def=Value\n</code></pre>\n<p>I need to read it on runtime in java without the spring framework.\nIs there a method how to achieve this?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640806935,"post_id":70524214,"comment_id":124665245,"body_markdown":"Does this answer your question? [What is PECS (Producer Extends Consumer Super)?](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">What is PECS (Producer Extends Consumer Super)?</a>"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1640806963,"post_id":70524214,"comment_id":124665253,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/subtyping.html</a>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1640807150,"post_id":70524214,"comment_id":124665311,"body_markdown":"To the closer-voters: OP clearly isn&#39;t struggling with PECS, nor with specifically why `&lt;? super T&gt;` instead of just `&lt;T&gt;`; op simply wants an explanation for why Comparable even has generics.","body":"To the closer-voters: OP clearly isn&#39;t struggling with PECS, nor with specifically why <code>&lt;? super T&gt;</code> instead of just <code>&lt;T&gt;</code>; op simply wants an explanation for why Comparable even has generics."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1640807327,"post_id":70524214,"comment_id":124665371,"body_markdown":"How is it that these close votes are not registering?","body":"How is it that these close votes are not registering?"},{"owner":{"account_id":11421497,"reputation":58712,"user_id":8372853,"display_name":"cigien"},"score":0,"creation_date":1640807490,"post_id":70524214,"comment_id":124665422,"body_markdown":"@RobertHarvey The close votes registered, but the question has been reopened now.","body":"@RobertHarvey The close votes registered, but the question has been reopened now."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640807565,"post_id":70524214,"comment_id":124665453,"body_markdown":"@rzwitserloot I do not see any indication that this is the actual question. As-is, the question is then at least unclear.","body":"@rzwitserloot I do not see any indication that this is the actual question. As-is, the question is then at least unclear."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1640813835,"post_id":70524214,"comment_id":124667276,"body_markdown":"OP literally says: `&lt;T extends Comparable&gt;`, in code quotes and everything, @Turing85. Note, not `&lt;T extends Comparable&lt;T&gt;&gt;`, hence not an &#39;exact duplicate&#39;. Barely the same ballpark.","body":"OP literally says: <code>&lt;T extends Comparable&gt;</code>, in code quotes and everything, @Turing85. Note, not <code>&lt;T extends Comparable&lt;T&gt;&gt;</code>, hence not an &#39;exact duplicate&#39;. Barely the same ballpark."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640844360,"post_id":70524214,"comment_id":124672500,"body_markdown":"@rzwitserloot For me, it&#39;s unclear whether OP does not understand why `Comparable` is generic or why we use `? super T`, hence for me the question is unclear. But you answer covers both, so... it doesn&#39;t matter.","body":"@rzwitserloot For me, it&#39;s unclear whether OP does not understand why <code>Comparable</code> is generic or why we use <code>? super T</code>, hence for me the question is unclear. But you answer covers both, so... it doesn&#39;t matter."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640807581,"creation_date":1640807581,"answer_id":70524344,"question_id":70524214,"body_markdown":"Forget about `Pair` for a moment. Let&#39;s just look at `Comparable`. Initially one might think Comparable needs no parameters. But there&#39;s a problem in that. What does the signature of `compareTo` (as in `a.compareTo(b)`) look like?\r\n\r\nPerhaps:\r\n\r\n```java\r\n/**\r\n * Return negative if a is &#39;before&#39; b, positive if a is &#39;after&#39; b,\r\n * and 0 if they are equal in ranking.\r\n */\r\n public int compareTo(Object other);\r\n}\r\n```\r\n\r\nBut this is problematic: Now for e.g. `Double` to implement Comparable, it needs to be capable of answering that question for __any type__. so if I try to compare a Double with value 4.5 against, say, an InputStream - that&#39;s a nonsensical question. Asking to compare guns and grandmas.\r\n\r\nSo, we&#39;d strongly prefer for the signature to be:\r\n\r\n```java\r\n/**\r\n * Return negative if a is &#39;before&#39; b, positive if a is &#39;after&#39; b,\r\n * and 0 if they are equal in ranking.\r\n */\r\n public int compareTo(Double other);\r\n}\r\n```\r\n\r\nBut how? We can&#39;t make a new `Comparator` interface for every type in existence, and there is nothing in java that means &#39;your own type&#39;.\r\n\r\nGenerics to the rescue! Let&#39;s make a generics parameter that represents the type against which you can compare yourself:\r\n\r\n```java\r\npublic interface Comparable&lt;T&gt; {\r\n  public int compareTo(T other);\r\n```\r\n\r\nAnd let&#39;s implement it in double:\r\n\r\n```\r\npublic class Double extends Number implements Comparable&lt;Double&gt; {\r\n ...\r\n```\r\n\r\nWe&#39;re going to read the type `Comparable` as: &quot;Comparables of foos&quot;, which means: Things which can be compared against things that have the Foo type. (And generally, we just mean Foos with that; we are interested in comparing oranges to oranges, of course).\r\n\r\nNow lets stick it back into `Pair`. We can&#39;t write `Pair&lt;Comparable&gt;` for the same reason you can&#39;t write `List&lt;List&gt;`. Yes, it&#39;ll compile, but you get severe warnings: After all, okay a list of lists. But what are the lists in the lists listing? You&#39;d write `List&lt;List&lt;String&gt;&gt;`: A list of lists of strings. Same applies to comparables: It&#39;s not just a Pair of Comparables, it&#39;s a Pair of Comparables of Foos. A `Pair&lt;Comparable&lt;String&gt;&gt;` means: I have a pair of 2 things, each of which is of some type that knows how to compare itself to strings. (And, spoiler alert, only `java.lang.String` fits that bill).\r\n\r\nThat juust leaves 2 problems:\r\n\r\n1. Why is it `Pair&lt;? extends Comparable&lt;..&gt;&gt;` and not just `Pair&lt;Comparable&gt;`\r\n2. Why is it `Pair&lt;... Comparable&lt;? super T&gt;&gt;` and not just `Comparable&lt;T&gt;`?\r\n\r\nThe answers to these:\r\n1. Because of PECS. See the linked answer in the comments.\r\n2. This is rarely relevant, but in theory, if you have some object of a type that is capable of comparing itself to some SUPERtype of strings (let&#39;s say &#39;can compare itself to any object of any type&#39;), well, that&#39;d.. be just fine. We want anything that knows what to do when I feed it: Hey, compare yourself to this thingie, and the thingie is of type T. Whatever that might be. If the thingie can compare itself to some supertype of T, that&#39;s totally fine. All Integers are also Numbers - all Ts are also any supertype of T.\r\n","title":"Using wildcards in Java generics","body":"<p>Forget about <code>Pair</code> for a moment. Let's just look at <code>Comparable</code>. Initially one might think Comparable needs no parameters. But there's a problem in that. What does the signature of <code>compareTo</code> (as in <code>a.compareTo(b)</code>) look like?</p>\n<p>Perhaps:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Return negative if a is 'before' b, positive if a is 'after' b,\n * and 0 if they are equal in ranking.\n */\n public int compareTo(Object other);\n}\n</code></pre>\n<p>But this is problematic: Now for e.g. <code>Double</code> to implement Comparable, it needs to be capable of answering that question for <strong>any type</strong>. so if I try to compare a Double with value 4.5 against, say, an InputStream - that's a nonsensical question. Asking to compare guns and grandmas.</p>\n<p>So, we'd strongly prefer for the signature to be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Return negative if a is 'before' b, positive if a is 'after' b,\n * and 0 if they are equal in ranking.\n */\n public int compareTo(Double other);\n}\n</code></pre>\n<p>But how? We can't make a new <code>Comparator</code> interface for every type in existence, and there is nothing in java that means 'your own type'.</p>\n<p>Generics to the rescue! Let's make a generics parameter that represents the type against which you can compare yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Comparable&lt;T&gt; {\n  public int compareTo(T other);\n</code></pre>\n<p>And let's implement it in double:</p>\n<pre><code>public class Double extends Number implements Comparable&lt;Double&gt; {\n ...\n</code></pre>\n<p>We're going to read the type <code>Comparable</code> as: &quot;Comparables of foos&quot;, which means: Things which can be compared against things that have the Foo type. (And generally, we just mean Foos with that; we are interested in comparing oranges to oranges, of course).</p>\n<p>Now lets stick it back into <code>Pair</code>. We can't write <code>Pair&lt;Comparable&gt;</code> for the same reason you can't write <code>List&lt;List&gt;</code>. Yes, it'll compile, but you get severe warnings: After all, okay a list of lists. But what are the lists in the lists listing? You'd write <code>List&lt;List&lt;String&gt;&gt;</code>: A list of lists of strings. Same applies to comparables: It's not just a Pair of Comparables, it's a Pair of Comparables of Foos. A <code>Pair&lt;Comparable&lt;String&gt;&gt;</code> means: I have a pair of 2 things, each of which is of some type that knows how to compare itself to strings. (And, spoiler alert, only <code>java.lang.String</code> fits that bill).</p>\n<p>That juust leaves 2 problems:</p>\n<ol>\n<li>Why is it <code>Pair&lt;? extends Comparable&lt;..&gt;&gt;</code> and not just <code>Pair&lt;Comparable&gt;</code></li>\n<li>Why is it <code>Pair&lt;... Comparable&lt;? super T&gt;&gt;</code> and not just <code>Comparable&lt;T&gt;</code>?</li>\n</ol>\n<p>The answers to these:</p>\n<ol>\n<li>Because of PECS. See the linked answer in the comments.</li>\n<li>This is rarely relevant, but in theory, if you have some object of a type that is capable of comparing itself to some SUPERtype of strings (let's say 'can compare itself to any object of any type'), well, that'd.. be just fine. We want anything that knows what to do when I feed it: Hey, compare yourself to this thingie, and the thingie is of type T. Whatever that might be. If the thingie can compare itself to some supertype of T, that's totally fine. All Integers are also Numbers - all Ts are also any supertype of T.</li>\n</ol>\n"}],"owner":{"account_id":12092932,"reputation":55,"user_id":8838185,"display_name":"Stijn Klijn"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1640824370,"accepted_answer_id":70524344,"answer_count":1,"score":-1,"last_activity_date":1640807581,"creation_date":1640806779,"question_id":70524214,"body_markdown":"I am studying Java Generics using the book &quot;*Introduction to Java Programming and Data Structures*&quot; by Y. Daniel Liang, and I don&#39;t understand one of the exercises:\r\n\r\n&quot;*19.3 (Pair of objects of the same type) Create a Pair class that encapsulates two objects \r\nof the same data type in an instance of Pair.*\r\n \r\n*19.4 (Using wildcards) Write a generic static method that returns the smallest value in an \r\ninstance of Pair from Programming Exercise 19.3.*&quot;\r\n\r\nThe solution code is as follows:\r\n\r\n```\r\n\r\npublic class Exercise19_04 {\r\n\r\n    public static class Pair&lt;T&gt; {\r\n        public final T one;\r\n        public final T two;\r\n\r\n        public Pair(T one, T two) {\r\n            this.one = one;\r\n            this.two = two;\r\n        }\r\n    }\r\n    \r\n    public static class Main {\r\n        // To have the smallest between two objects, they need to be comparable.\r\n        public static &lt;T extends Comparable&lt;? super T&gt;&gt; T smallest(Pair&lt;T&gt; p) {\r\n            if (p.one.compareTo(p.two) &lt; 0) {\r\n                return p.one;\r\n            } else {\r\n                return p.two;\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            Pair&lt;Double&gt; pd = new Pair&lt;&gt;(7.0, 6.3);\r\n            System.out.println(smallest(pd));\r\n            Pair&lt;String&gt; ps = new Pair&lt;&gt;(&quot;big&quot;, &quot;small&quot;);\r\n            System.out.println(smallest(ps));\r\n            /* Lines below are not compilable because Color is not comparable\r\n            Pair&lt;String&gt; pc = new Pair&lt;&gt;(java.awt.Color.BLUE, java.awt.Color.RED);\r\n            System.out.println(smallest(ps));*/\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy problem is with the method declaration `public static &lt;T extends Comparable&lt;? super T&gt;&gt; T smallest(Pair&lt;T&gt; p)`\r\n\r\nI understand that in order to compare the objects T within an instance of Pair, T must be an instance of Comparable and therefore you have to declare `&lt;T extends Comparable&gt;`. However I don&#39;t understand the `&lt;? super T&gt;` part thereafter. Can somebody explain this to me? Thanks in advance! ","title":"Using wildcards in Java generics","body":"<p>I am studying Java Generics using the book &quot;<em>Introduction to Java Programming and Data Structures</em>&quot; by Y. Daniel Liang, and I don't understand one of the exercises:</p>\n<p>&quot;<em>19.3 (Pair of objects of the same type) Create a Pair class that encapsulates two objects\nof the same data type in an instance of Pair.</em></p>\n<p><em>19.4 (Using wildcards) Write a generic static method that returns the smallest value in an\ninstance of Pair from Programming Exercise 19.3.</em>&quot;</p>\n<p>The solution code is as follows:</p>\n<pre><code>\npublic class Exercise19_04 {\n\n    public static class Pair&lt;T&gt; {\n        public final T one;\n        public final T two;\n\n        public Pair(T one, T two) {\n            this.one = one;\n            this.two = two;\n        }\n    }\n    \n    public static class Main {\n        // To have the smallest between two objects, they need to be comparable.\n        public static &lt;T extends Comparable&lt;? super T&gt;&gt; T smallest(Pair&lt;T&gt; p) {\n            if (p.one.compareTo(p.two) &lt; 0) {\n                return p.one;\n            } else {\n                return p.two;\n            }\n        }\n        \n        public static void main(String[] args) {\n            Pair&lt;Double&gt; pd = new Pair&lt;&gt;(7.0, 6.3);\n            System.out.println(smallest(pd));\n            Pair&lt;String&gt; ps = new Pair&lt;&gt;(&quot;big&quot;, &quot;small&quot;);\n            System.out.println(smallest(ps));\n            /* Lines below are not compilable because Color is not comparable\n            Pair&lt;String&gt; pc = new Pair&lt;&gt;(java.awt.Color.BLUE, java.awt.Color.RED);\n            System.out.println(smallest(ps));*/\n        }\n    }\n}\n\n</code></pre>\n<p>My problem is with the method declaration <code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; T smallest(Pair&lt;T&gt; p)</code></p>\n<p>I understand that in order to compare the objects T within an instance of Pair, T must be an instance of Comparable and therefore you have to declare <code>&lt;T extends Comparable&gt;</code>. However I don't understand the <code>&lt;? super T&gt;</code> part thereafter. Can somebody explain this to me? Thanks in advance!</p>\n"},{"tags":["java","for-loop","recursion","label"],"comments":[{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1640806436,"post_id":70524117,"comment_id":124665096,"body_markdown":"Does your recursive method return something? You would want to break out from the loop based on the return of the method.","body":"Does your recursive method return something? You would want to break out from the loop based on the return of the method."},{"owner":{"account_id":23258822,"reputation":23,"user_id":17345442,"display_name":"FridolinJ"},"score":0,"creation_date":1640806704,"post_id":70524117,"comment_id":124665176,"body_markdown":"The recursive method is a void, so it currently does not return something. It could be an idea to return a boolean, false if the case is not reached and true if it was reached. Is that true, and what would I have to add in the for-loop?","body":"The recursive method is a void, so it currently does not return something. It could be an idea to return a boolean, false if the case is not reached and true if it was reached. Is that true, and what would I have to add in the for-loop?"},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1640806975,"post_id":70524117,"comment_id":124665256,"body_markdown":"Something like that,  see the answer from @Peter Trencansky.","body":"Something like that,  see the answer from @Peter Trencansky."},{"owner":{"account_id":23258822,"reputation":23,"user_id":17345442,"display_name":"FridolinJ"},"score":0,"creation_date":1640807322,"post_id":70524117,"comment_id":124665369,"body_markdown":"Thanks for your help, thanks a lot!","body":"Thanks for your help, thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":23741005,"reputation":373,"user_id":17759066,"display_name":"Peter Trencansky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640806773,"creation_date":1640806773,"answer_id":70524213,"question_id":70524117,"body_markdown":"You probably want to return boolean from your recursive method. E. g. true means that recursive call8ng should stop and exit loop\r\n\r\n\r\n    for (int i = 0, i &lt; 100 ; i++) {\r\n        //do something\r\n        if(recursivemethod(...))\r\n            break;\r\n     }\r\n\r\n\r\nRecursive method \r\n\r\n    boolean  recursivemethod (...) {\r\n        for (int i = 0; i &lt; 10 ; i++) {\r\n        //do something\r\n        if (case reached) {return true;}\r\n        else {return recursivemethod(modified)}\r\n        return false;\r\n    \r\n        }\r\n    }","title":"Jumping out of for-loop including a recursive method with for-loop (Java)","body":"<p>You probably want to return boolean from your recursive method. E. g. true means that recursive call8ng should stop and exit loop</p>\n<pre><code>for (int i = 0, i &lt; 100 ; i++) {\n    //do something\n    if(recursivemethod(...))\n        break;\n }\n</code></pre>\n<p>Recursive method</p>\n<pre><code>boolean  recursivemethod (...) {\n    for (int i = 0; i &lt; 10 ; i++) {\n    //do something\n    if (case reached) {return true;}\n    else {return recursivemethod(modified)}\n    return false;\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23258822,"reputation":23,"user_id":17345442,"display_name":"FridolinJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70524213,"answer_count":1,"score":1,"last_activity_date":1640806773,"creation_date":1640806161,"question_id":70524117,"body_markdown":"This is my first post, so sorry if I post incorrect or incomplete, I will answer every question and I am open for improvements.\r\n\r\nMy main method has a for-loop with a recursive method in it, the recursive method also has a for-loop (the recursive method basically replaces a lot of nested for-loops). When a specific case is reached, I want to jump out of the recursive method and out of the for-loop in my main. For visualization:\r\n\r\n    \r\n    public static void main(..)\r\n\r\n    for (int i = 0, i &lt; 100 ; i++) {\r\n       //do something\r\n       recursivemethod(...)\r\n    }\r\n    //jump here, if case in method is reached\r\n    ------------------------\r\n    recursivemethod (...) \r\n    for (int i = 0; i &lt; 10 ; i++) {\r\n        //do something\r\n        if (case reached) {//jump out of loop in main}\r\n        else {recursivemethod(modified)}\r\n        \r\n    }\r\n\r\nAs I cannot label my for-loop in main and ```break Label;``` in my method (to my knowledge), I tried using a boolean, but because of for-loops and/or recursive call, boolean switches back and has not the wanted effect.\r\n\r\nThere was a [similar question](https://stackoverflow.com/questions/33595545/define-a-label-in-the-main-and-use-it-in-another-method) where the user later added his solution, but didn&#39;t specify it enough for me to understand and how to implement this in my code, the user was last seen years ago, so I cannot ask him. Can someone please help me?\r\n\r\nThanks a lot in advance!","title":"Jumping out of for-loop including a recursive method with for-loop (Java)","body":"<p>This is my first post, so sorry if I post incorrect or incomplete, I will answer every question and I am open for improvements.</p>\n<p>My main method has a for-loop with a recursive method in it, the recursive method also has a for-loop (the recursive method basically replaces a lot of nested for-loops). When a specific case is reached, I want to jump out of the recursive method and out of the for-loop in my main. For visualization:</p>\n<pre><code>public static void main(..)\n\nfor (int i = 0, i &lt; 100 ; i++) {\n   //do something\n   recursivemethod(...)\n}\n//jump here, if case in method is reached\n------------------------\nrecursivemethod (...) \nfor (int i = 0; i &lt; 10 ; i++) {\n    //do something\n    if (case reached) {//jump out of loop in main}\n    else {recursivemethod(modified)}\n    \n}\n</code></pre>\n<p>As I cannot label my for-loop in main and <code>break Label;</code> in my method (to my knowledge), I tried using a boolean, but because of for-loops and/or recursive call, boolean switches back and has not the wanted effect.</p>\n<p>There was a <a href=\"https://stackoverflow.com/questions/33595545/define-a-label-in-the-main-and-use-it-in-another-method\">similar question</a> where the user later added his solution, but didn't specify it enough for me to understand and how to implement this in my code, the user was last seen years ago, so I cannot ask him. Can someone please help me?</p>\n<p>Thanks a lot in advance!</p>\n"},{"tags":["java","maven","gradle","jar","repository"],"comments":[{"owner":{"account_id":5583247,"reputation":498,"user_id":4424668,"display_name":"edean"},"score":0,"creation_date":1638562321,"post_id":70220102,"comment_id":124130793,"body_markdown":"Which platform do you run? I would suggest doing it with a bash script, to be honest. However for Windows I cannot come up with a solution due to my lack of competence in Win scripting &#128517;.","body":"Which platform do you run? I would suggest doing it with a bash script, to be honest. However for Windows I cannot come up with a solution due to my lack of competence in Win scripting 😅."},{"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"score":0,"creation_date":1638562646,"post_id":70220102,"comment_id":124130892,"body_markdown":"A script would be fine. A solution like you suggest is exactly what I&#39;m looking for, even though it sounds weird that the Java ecosystem wouldn&#39;t offer an easier way.","body":"A script would be fine. A solution like you suggest is exactly what I&#39;m looking for, even though it sounds weird that the Java ecosystem wouldn&#39;t offer an easier way."}],"answers":[{"tags":[],"owner":{"account_id":5583247,"reputation":498,"user_id":4424668,"display_name":"edean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638635090,"creation_date":1638566237,"answer_id":70220774,"question_id":70220102,"body_markdown":"I made you wait a little, however I come up with a solution at this point. Have a look at this bash script:\r\n```bash\r\n#!/usr/bin/env sh\r\nPWD=$( pwd )\r\nJARS=$( find $PWD -name &#39;*.jar&#39; )\r\nfor JARFILE in $JARS\r\ndo\r\n    echo &quot;found JAR: $JARFILE&quot;;\r\n    mkdir -p $PWD/extracted/$JARFILE/;\r\n    unzip $JARFILE -d $PWD/extracted/ &amp;&gt; /dev/null;\r\n    if [ -d &quot;$PWD/extracted/META-INF/maven/&quot; ]; then\r\n        POMPROPS=$( find $PWD/extracted/META-INF/maven -name &#39;pom.properties&#39; );\r\n        echo &quot;found POMPROPS: $POMPROPS&quot;;\r\n        POMXML=$( find $PWD/extracted/META-INF/maven -name &#39;pom.xml&#39; );\r\n        echo &quot;found POMXML: $POMXML&quot;;\r\n        ARTIFACTID=$( grep &#39;artifactId&#39; $POMPROPS | cut -d&#39;=&#39; -f2 | tr -d &#39;\\r&#39; );\r\n        GROUPID=$( grep &#39;groupId&#39; $POMPROPS | cut -d&#39;=&#39; -f2 | tr -d &#39;\\r&#39; );\r\n        VERSION=$( grep &#39;version&#39; $POMPROPS | cut -d&#39;=&#39; -f2 | tr -d &#39;\\r&#39; );\r\n        if [[ -f $POMPROPS &amp;&amp; -f $POMXML ]]; then\r\n            GROUPDIR=$( sed &#39;s/\\./\\//g&#39; &lt;&lt;&lt;$GROUPID);\r\n            echo &quot;Group dir: &quot;$GROUPDIR;\r\n            mkdir -p ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/\r\n            cp $POMXML ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/$ARTIFACTID-$VERSION.pom\r\n            cp $JARFILE ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/$ARTIFACTID-$VERSION.jar\r\n        else\r\n            echo &quot;did not find pom properties and/or xml &quot;\r\n            echo &quot;$JARFILE: did not find pom properties and/or xml&quot; &gt;&gt; log.txt\r\n        fi\r\n    else\r\n        echo &quot;$JARFILE: no maven directory found&quot; &gt;&gt; log.txt\r\n    fi\r\n    rm -rf $PWD/extracted/;\r\ndone\r\n```\r\n\r\nFirst have a look at it and understand it, please. You should not run any script, without understanding it. Of course I don&#39;t want to screw you, but always be cautious &#128515;. You must have sed, grep and unzip installed. However most distributions should have that on board. \r\n\r\nJust run that script, when in a terminal inside of the directory. It should organize your JARs inside of `~/.m2test`. If some files were not found, it will be logged inside `log.txt`. Eventually, you can copy-paste or move the files from `~/.m2test` to `~/.m2` as soon, as you are optimistic, it worked out. \r\n\r\nAnd of course: Always do make backups (of your `~/.m2` in this case) &#128513;!\r\n\r\nThis - of course - only works, if your JARs have that `maven` directory in `META-INF`. If it doesn&#39;t, I don&#39;t have a better guess, how to organize it into the local repository. \r\n","title":"Gradle how to turn a flat directory of massive amount of jar files to the .m2/repository structure?","body":"<p>I made you wait a little, however I come up with a solution at this point. Have a look at this bash script:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>#!/usr/bin/env sh\nPWD=$( pwd )\nJARS=$( find $PWD -name '*.jar' )\nfor JARFILE in $JARS\ndo\n    echo &quot;found JAR: $JARFILE&quot;;\n    mkdir -p $PWD/extracted/$JARFILE/;\n    unzip $JARFILE -d $PWD/extracted/ &amp;&gt; /dev/null;\n    if [ -d &quot;$PWD/extracted/META-INF/maven/&quot; ]; then\n        POMPROPS=$( find $PWD/extracted/META-INF/maven -name 'pom.properties' );\n        echo &quot;found POMPROPS: $POMPROPS&quot;;\n        POMXML=$( find $PWD/extracted/META-INF/maven -name 'pom.xml' );\n        echo &quot;found POMXML: $POMXML&quot;;\n        ARTIFACTID=$( grep 'artifactId' $POMPROPS | cut -d'=' -f2 | tr -d '\\r' );\n        GROUPID=$( grep 'groupId' $POMPROPS | cut -d'=' -f2 | tr -d '\\r' );\n        VERSION=$( grep 'version' $POMPROPS | cut -d'=' -f2 | tr -d '\\r' );\n        if [[ -f $POMPROPS &amp;&amp; -f $POMXML ]]; then\n            GROUPDIR=$( sed 's/\\./\\//g' &lt;&lt;&lt;$GROUPID);\n            echo &quot;Group dir: &quot;$GROUPDIR;\n            mkdir -p ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/\n            cp $POMXML ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/$ARTIFACTID-$VERSION.pom\n            cp $JARFILE ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/$ARTIFACTID-$VERSION.jar\n        else\n            echo &quot;did not find pom properties and/or xml &quot;\n            echo &quot;$JARFILE: did not find pom properties and/or xml&quot; &gt;&gt; log.txt\n        fi\n    else\n        echo &quot;$JARFILE: no maven directory found&quot; &gt;&gt; log.txt\n    fi\n    rm -rf $PWD/extracted/;\ndone\n</code></pre>\n<p>First have a look at it and understand it, please. You should not run any script, without understanding it. Of course I don't want to screw you, but always be cautious 😃. You must have sed, grep and unzip installed. However most distributions should have that on board.</p>\n<p>Just run that script, when in a terminal inside of the directory. It should organize your JARs inside of <code>~/.m2test</code>. If some files were not found, it will be logged inside <code>log.txt</code>. Eventually, you can copy-paste or move the files from <code>~/.m2test</code> to <code>~/.m2</code> as soon, as you are optimistic, it worked out.</p>\n<p>And of course: Always do make backups (of your <code>~/.m2</code> in this case) 😁!</p>\n<p>This - of course - only works, if your JARs have that <code>maven</code> directory in <code>META-INF</code>. If it doesn't, I don't have a better guess, how to organize it into the local repository.</p>\n"}],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70220774,"answer_count":1,"score":3,"last_activity_date":1640806694,"creation_date":1638562001,"question_id":70220102,"body_markdown":"I wonder how can I quickly take a directory in my computer that contains 1K jars, and let Gradle structure it to the Maven `.m2/repository` structure. I&#39;ve read of the [Gradle publishing](https://docs.gradle.org/current/userguide/userguide_single.html#publishing_maven) feature, but it seems pretty impossible to use when the amount of jars is that big because they are not taking the information from the META-INF, but want the user to specify the group ID and other details.","title":"Gradle how to turn a flat directory of massive amount of jar files to the .m2/repository structure?","body":"<p>I wonder how can I quickly take a directory in my computer that contains 1K jars, and let Gradle structure it to the Maven <code>.m2/repository</code> structure. I've read of the <a href=\"https://docs.gradle.org/current/userguide/userguide_single.html#publishing_maven\" rel=\"nofollow noreferrer\">Gradle publishing</a> feature, but it seems pretty impossible to use when the amount of jars is that big because they are not taking the information from the META-INF, but want the user to specify the group ID and other details.</p>\n"},{"tags":["java","owl","owl-api","description-logic","hermit"],"comments":[{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1640856666,"post_id":70522483,"comment_id":124675332,"body_markdown":"You&#39;re not using HermiT. The StructuralReasonerFactory class is an OWLAPI class and the reasoner it produces does not make inferences. Change that to the correct ReasonerFactory for HermiT.","body":"You&#39;re not using HermiT. The StructuralReasonerFactory class is an OWLAPI class and the reasoner it produces does not make inferences. Change that to the correct ReasonerFactory for HermiT."},{"owner":{"account_id":9938675,"reputation":89,"user_id":8798063,"display_name":"user402843"},"score":0,"creation_date":1640871293,"post_id":70522483,"comment_id":124679634,"body_markdown":"@Ignazio Thank you, but even changing to `org.semanticweb.HermiT.Reasoner.ReasonerFactory` the output doesn&#39;t change.","body":"@Ignazio Thank you, but even changing to <code>org.semanticweb.HermiT.Reasoner.ReasonerFactory</code> the output doesn&#39;t change."}],"answers":[{"tags":[],"owner":{"account_id":2550620,"reputation":4287,"user_id":2214440,"display_name":"Henriette Harmse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640806159,"creation_date":1640806159,"answer_id":70524116,"question_id":70522483,"body_markdown":"The inferences that follow from an ontology is infinite. See [this paper][1] for example.\r\n\r\nFor this reason reasoners usually limit inferences to named classes. `\\exists R` is not a named class, hence it is not returned as an inference.\r\n\r\nTo get the required inference, you need to give `\\exists R` a name by adding for example\r\n\r\n`C \\equiv \\exists R`\r\n\r\nThe reasoner then will be able to infer `A` is a subclass of `C`.\r\n\r\n\r\n  [1]: http://ceur-ws.org/Vol-745/paper_22.pdf","title":"Infer non-trivial OWL superclasses (or subclasses) assertions using a Java reasoner","body":"<p>The inferences that follow from an ontology is infinite. See <a href=\"http://ceur-ws.org/Vol-745/paper_22.pdf\" rel=\"nofollow noreferrer\">this paper</a> for example.</p>\n<p>For this reason reasoners usually limit inferences to named classes. <code>\\exists R</code> is not a named class, hence it is not returned as an inference.</p>\n<p>To get the required inference, you need to give <code>\\exists R</code> a name by adding for example</p>\n<p><code>C \\equiv \\exists R</code></p>\n<p>The reasoner then will be able to infer <code>A</code> is a subclass of <code>C</code>.</p>\n"}],"owner":{"account_id":9938675,"reputation":89,"user_id":8798063,"display_name":"user402843"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640806159,"creation_date":1640796676,"question_id":70522483,"body_markdown":"I want to express the following DL assertions in OWL\r\n\r\n    A ⊑ B\r\n    A ⊑ ∃R\r\n\r\nmeaning that `A` is subconcept of B and all the instances of `A` must have a relation `R` with something else.\r\n\r\nI&#39;m expressing it with the following OWL ontology:\r\n\r\n    Prefix(:=&lt;http://example.org/my-ontology#&gt;)\r\n    \r\n    Ontology(&lt;http://example.org/my-ontology&gt;\r\n    \tDeclaration(Class(:A))\r\n    \tDeclaration(Class(:B))\r\n    \r\n    \tDeclaration(ObjectProperty(:R))\r\n    \r\n    \tSubClassOf(:A :B)\r\n        SubClassOf(:A ObjectSomeValuesFrom(:R owl:Thing))\r\n    )\r\n\r\nI&#39;m using the HermiT reasoner for retrieving all the super-classes of `:A`, in this way:\r\n\r\n\tOWLOntology ontology = TestUtils.ontology;\r\n\tOWLReasonerFactory reasonerFactory = new StructuralReasonerFactory();\r\n\tConsoleProgressMonitor progressMonitor = new ConsoleProgressMonitor();\r\n\tOWLReasonerConfiguration config = new SimpleConfiguration(progressMonitor);\r\n\tOWLReasoner reasoner = reasonerFactory.createReasoner(ontology, config);\r\n\treasoner.precomputeInferences();\r\n\t\r\n\tfor (OWLClass owlClass : ontology.getClassesInSignature()) {\r\n\t\tif (owlClass.toStringID().contains(&quot;#A&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Class=&gt;&quot; + owlClass.toStringID() + &quot;\\nSuperClass[&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t&quot; + reasoner.getSuperClasses(owlClass, false));\r\n\t\t\tSystem.out.println(&quot;]&quot;);\r\n\t\t}\r\n\t}\r\n\r\nbut this is printing only:\r\n\r\n\tClass=&gt;http://example.org/my-ontology#A\r\n\tSuperClass[\r\n\t\tNodeset[Node( &lt;http://example.org/my-ontology#B&gt; ), Node( owl:Thing )]\r\n\t]\r\n\r\nHow can I also get the information about `SubClassOf(:A ObjectSomeValuesFrom(:R owl:Thing))`?\r\n\r\nP.S. I cannot just list the inclusion assertions from the ontology but I have to use a reasoner (not necessary HermiT) for possibly inferring them.","title":"Infer non-trivial OWL superclasses (or subclasses) assertions using a Java reasoner","body":"<p>I want to express the following DL assertions in OWL</p>\n<pre><code>A ⊑ B\nA ⊑ ∃R\n</code></pre>\n<p>meaning that <code>A</code> is subconcept of B and all the instances of <code>A</code> must have a relation <code>R</code> with something else.</p>\n<p>I'm expressing it with the following OWL ontology:</p>\n<pre><code>Prefix(:=&lt;http://example.org/my-ontology#&gt;)\n\nOntology(&lt;http://example.org/my-ontology&gt;\n    Declaration(Class(:A))\n    Declaration(Class(:B))\n\n    Declaration(ObjectProperty(:R))\n\n    SubClassOf(:A :B)\n    SubClassOf(:A ObjectSomeValuesFrom(:R owl:Thing))\n)\n</code></pre>\n<p>I'm using the HermiT reasoner for retrieving all the super-classes of <code>:A</code>, in this way:</p>\n<pre><code>OWLOntology ontology = TestUtils.ontology;\nOWLReasonerFactory reasonerFactory = new StructuralReasonerFactory();\nConsoleProgressMonitor progressMonitor = new ConsoleProgressMonitor();\nOWLReasonerConfiguration config = new SimpleConfiguration(progressMonitor);\nOWLReasoner reasoner = reasonerFactory.createReasoner(ontology, config);\nreasoner.precomputeInferences();\n\nfor (OWLClass owlClass : ontology.getClassesInSignature()) {\n    if (owlClass.toStringID().contains(&quot;#A&quot;)) {\n        System.out.println(&quot;Class=&gt;&quot; + owlClass.toStringID() + &quot;\\nSuperClass[&quot;);\n        System.out.println(&quot;\\t&quot; + reasoner.getSuperClasses(owlClass, false));\n        System.out.println(&quot;]&quot;);\n    }\n}\n</code></pre>\n<p>but this is printing only:</p>\n<pre><code>Class=&gt;http://example.org/my-ontology#A\nSuperClass[\n    Nodeset[Node( &lt;http://example.org/my-ontology#B&gt; ), Node( owl:Thing )]\n]\n</code></pre>\n<p>How can I also get the information about <code>SubClassOf(:A ObjectSomeValuesFrom(:R owl:Thing))</code>?</p>\n<p>P.S. I cannot just list the inclusion assertions from the ontology but I have to use a reasoner (not necessary HermiT) for possibly inferring them.</p>\n"},{"tags":["python","java","pyspark","hl7-fhir","hapi-fhir"],"owner":{"account_id":17821824,"reputation":269,"user_id":12944030,"display_name":"moe_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640806044,"creation_date":1638278844,"question_id":70170098,"body_markdown":"- I am learning Bunsen &lt;https://engineering.cerner.com/bunsen/0.5.10-SNAPSHOT/index.html&gt; for handling FHIR data with Pyspark\r\n\r\n- the folder bundles contain a fhir bundle which is a collection of resources as json objects\r\n\r\n- I downloaded all the requirements needed such as the bunsen module and the jar file for pyspark and I run these commands:  \r\n```\r\n&gt;&gt;&gt; import pyspark\r\n&gt;&gt;&gt; from bunsen.r4.bundles import load_from_directory, extract_entry\r\n&gt;&gt;&gt; bundles = load_from_directory(spark, &quot;C:\\\\Users\\MoemenEbdelli\\Desktop\\oumaima\\bundles&quot;)\r\n&gt;&gt;&gt; observations = extract_entry(spark, bundles, &#39;Patient&#39;).cache()\r\n\r\n```\r\nthe last command invoked an ERROR:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\r\n  File &quot;C:\\bunsen\\python\\bunsen\\r4\\bundles.py&quot;, line 101, in extract_entry\r\n    bundles.extractEntry(sparkSession._jsparkSession, javaRDD, resourceName, jArray),\r\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\java_gateway.py&quot;, line 1309, in __call__\r\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\pyspark\\sql\\utils.py&quot;, line 111, in deco\r\n    return f(*a, **kw)\r\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\protocol.py&quot;, line 326, in get_return_value\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o37.extractEntry.\r\n: java.lang.NoSuchMethodError: org.apache.spark.sql.catalyst.expressions.objects.Invoke$.apply$default$5()Z\r\n        at com.cerner.bunsen.EncoderBuilder.com$cerner$bunsen$EncoderBuilder$$childToExpr(EncoderBuilder.scala:259)\r\n        at com.cerner.bunsen.EncoderBuilder$$anonfun$6.apply(EncoderBuilder.scala:307)\r\n        at com.cerner.bunsen.EncoderBuilder$$anonfun$6.apply(EncoderBuilder.scala:307)\r\n        at scala.collection.TraversableLike.$anonfun$flatMap$1(TraversableLike.scala:293)\r\n        at scala.collection.Iterator.foreach(Iterator.scala:943)\r\n        at scala.collection.Iterator.foreach$(Iterator.scala:943)\r\n        at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)\r\n        at scala.collection.IterableLike.foreach(IterableLike.scala:74)\r\n        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)\r\n        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)\r\n        at scala.collection.TraversableLike.flatMap(TraversableLike.scala:293)\r\n        at scala.collection.TraversableLike.flatMap$(TraversableLike.scala:290)\r\n        at scala.collection.AbstractTraversable.flatMap(Traversable.scala:108)\r\n        at com.cerner.bunsen.EncoderBuilder.com$cerner$bunsen$EncoderBuilder$$serializer(EncoderBuilder.scala:307)\r\n        at com.cerner.bunsen.EncoderBuilder$.of(EncoderBuilder.scala:53)\r\n        at com.cerner.bunsen.EncoderBuilder.of(EncoderBuilder.scala)\r\n        at com.cerner.bunsen.FhirEncoders.of(FhirEncoders.java:213)\r\n        at com.cerner.bunsen.FhirEncoders.of(FhirEncoders.java:262)\r\n        at com.cerner.bunsen.Bundles.extractEntry(Bundles.java:291)\r\n        at com.cerner.bunsen.Bundles.extractEntry(Bundles.java:235)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n        at py4j.Gateway.invoke(Gateway.java:282)\r\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n```","title":"ERROR while working with Bunsen for FHIR data transformation to spark: py4j.protocol.Py4JJavaError: An error occurred while calling o37.extractEntry","body":"<ul>\n<li><p>I am learning Bunsen <a href=\"https://engineering.cerner.com/bunsen/0.5.10-SNAPSHOT/index.html\" rel=\"nofollow noreferrer\">https://engineering.cerner.com/bunsen/0.5.10-SNAPSHOT/index.html</a> for handling FHIR data with Pyspark</p>\n</li>\n<li><p>the folder bundles contain a fhir bundle which is a collection of resources as json objects</p>\n</li>\n<li><p>I downloaded all the requirements needed such as the bunsen module and the jar file for pyspark and I run these commands:</p>\n</li>\n</ul>\n<pre><code>&gt;&gt;&gt; import pyspark\n&gt;&gt;&gt; from bunsen.r4.bundles import load_from_directory, extract_entry\n&gt;&gt;&gt; bundles = load_from_directory(spark, &quot;C:\\\\Users\\MoemenEbdelli\\Desktop\\oumaima\\bundles&quot;)\n&gt;&gt;&gt; observations = extract_entry(spark, bundles, 'Patient').cache()\n\n</code></pre>\n<p>the last command invoked an ERROR:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\n  File &quot;C:\\bunsen\\python\\bunsen\\r4\\bundles.py&quot;, line 101, in extract_entry\n    bundles.extractEntry(sparkSession._jsparkSession, javaRDD, resourceName, jArray),\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\java_gateway.py&quot;, line 1309, in __call__\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\pyspark\\sql\\utils.py&quot;, line 111, in deco\n    return f(*a, **kw)\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\protocol.py&quot;, line 326, in get_return_value\npy4j.protocol.Py4JJavaError: An error occurred while calling o37.extractEntry.\n: java.lang.NoSuchMethodError: org.apache.spark.sql.catalyst.expressions.objects.Invoke$.apply$default$5()Z\n        at com.cerner.bunsen.EncoderBuilder.com$cerner$bunsen$EncoderBuilder$$childToExpr(EncoderBuilder.scala:259)\n        at com.cerner.bunsen.EncoderBuilder$$anonfun$6.apply(EncoderBuilder.scala:307)\n        at com.cerner.bunsen.EncoderBuilder$$anonfun$6.apply(EncoderBuilder.scala:307)\n        at scala.collection.TraversableLike.$anonfun$flatMap$1(TraversableLike.scala:293)\n        at scala.collection.Iterator.foreach(Iterator.scala:943)\n        at scala.collection.Iterator.foreach$(Iterator.scala:943)\n        at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)\n        at scala.collection.IterableLike.foreach(IterableLike.scala:74)\n        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)\n        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)\n        at scala.collection.TraversableLike.flatMap(TraversableLike.scala:293)\n        at scala.collection.TraversableLike.flatMap$(TraversableLike.scala:290)\n        at scala.collection.AbstractTraversable.flatMap(Traversable.scala:108)\n        at com.cerner.bunsen.EncoderBuilder.com$cerner$bunsen$EncoderBuilder$$serializer(EncoderBuilder.scala:307)\n        at com.cerner.bunsen.EncoderBuilder$.of(EncoderBuilder.scala:53)\n        at com.cerner.bunsen.EncoderBuilder.of(EncoderBuilder.scala)\n        at com.cerner.bunsen.FhirEncoders.of(FhirEncoders.java:213)\n        at com.cerner.bunsen.FhirEncoders.of(FhirEncoders.java:262)\n        at com.cerner.bunsen.Bundles.extractEntry(Bundles.java:291)\n        at com.cerner.bunsen.Bundles.extractEntry(Bundles.java:235)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n        at py4j.Gateway.invoke(Gateway.java:282)\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","security","sonarqube","static-analysis"],"answers":[{"tags":[],"owner":{"account_id":8023785,"reputation":3013,"user_id":6051596,"display_name":"Soumen Mukherjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640805572,"creation_date":1640805572,"answer_id":70524024,"question_id":70518280,"body_markdown":"Generally speaking the &quot;Sonar Way&quot; quality profile is the starting point and should be treated as the baseline . Most teams are expected to learn and evolve and over a period of time should raise the BAR both in terms of security and quality requirements of code .\r\n\r\nSo to answer your question , it is OK to start with the Sonar Way with a plan and desire to move to Extend the quality profile to meet your teams / organization&#39;s code quality and code security objectives.\r\n\r\nHowever important to point out that some of the security issues that you point out like Code Injection , XSS can be more suitably detected using DAST tools.","title":"In SonarQube, how reliable is the &#39;Sonar way&#39; quality profile for security reviews?","body":"<p>Generally speaking the &quot;Sonar Way&quot; quality profile is the starting point and should be treated as the baseline . Most teams are expected to learn and evolve and over a period of time should raise the BAR both in terms of security and quality requirements of code .</p>\n<p>So to answer your question , it is OK to start with the Sonar Way with a plan and desire to move to Extend the quality profile to meet your teams / organization's code quality and code security objectives.</p>\n<p>However important to point out that some of the security issues that you point out like Code Injection , XSS can be more suitably detected using DAST tools.</p>\n"}],"owner":{"account_id":881276,"reputation":79,"user_id":174940,"display_name":"Starbuck3000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640805572,"creation_date":1640774536,"question_id":70518280,"body_markdown":"Can I rely on this profile for also checking for well-known security issues (e.g., code injection, weak crypto, xss, etc., or should I rather use another default profile (or is there a &#39;recommended&#39; profile that I can import?).","title":"In SonarQube, how reliable is the &#39;Sonar way&#39; quality profile for security reviews?","body":"<p>Can I rely on this profile for also checking for well-known security issues (e.g., code injection, weak crypto, xss, etc., or should I rather use another default profile (or is there a 'recommended' profile that I can import?).</p>\n"},{"tags":["java","maven","maven-plugin","maven-mojo"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640800219,"post_id":70522736,"comment_id":124663232,"body_markdown":"First I strongly recommend you to follow naming conventions for maven plugins (https://maven.apache.org/guides/plugin/guide-java-plugin-development.html) furthermore I strongly recommend you to use more recent dependencies (you are using maven-plugin-api version 2.0 which is about 15 years old) ... also maven-project is about 12 years old.... So you should add the maven-plugin-plugin is needed to produce the plugin descriptor... Furthermore you are adding it to the source code but creating the directory afterwards ...that does not work...","body":"First I strongly recommend you to follow naming conventions for maven plugins (<a href=\"https://maven.apache.org/guides/plugin/guide-java-plugin-development.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/plugin/&hellip;</a>) furthermore I strongly recommend you to use more recent dependencies (you are using maven-plugin-api version 2.0 which is about 15 years old) ... also maven-project is about 12 years old.... So you should add the maven-plugin-plugin is needed to produce the plugin descriptor... Furthermore you are adding it to the source code but creating the directory afterwards ...that does not work..."},{"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"score":0,"creation_date":1640800666,"post_id":70522736,"comment_id":124663383,"body_markdown":"@khmarbaise Creating the folder first doesn&#39;t work either, in fact that&#39;s how I tried it at first. I will try updating the dependencies and update the question with the new code. Thanks!","body":"@khmarbaise Creating the folder first doesn&#39;t work either, in fact that&#39;s how I tried it at first. I will try updating the dependencies and update the question with the new code. Thanks!"},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1640800722,"post_id":70522736,"comment_id":124663399,"body_markdown":"minor nitpick, all plugins that I&#39;m aware of are using `generated-sources`, not `generate-sources`","body":"minor nitpick, all plugins that I&#39;m aware of are using <code>generated-sources</code>, not <code>generate-sources</code>"},{"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"score":0,"creation_date":1640802490,"post_id":70522736,"comment_id":124663949,"body_markdown":"@khmarbaise Answer updated (Dependencies versions, added maven-plugin-plugin plugin, moved addCompileSourceRoot after creating the directory). Still not working. output directory has also been changed to generated-sources as rkosegi said.","body":"@khmarbaise Answer updated (Dependencies versions, added maven-plugin-plugin plugin, moved addCompileSourceRoot after creating the directory). Still not working. output directory has also been changed to generated-sources as rkosegi said."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640804654,"post_id":70522736,"comment_id":124664562,"body_markdown":"maven project is wrong .... use maven-core instead.. I would suggest to use minimum 3.1.0 version for maven-core and for maven-plugin-api","body":"maven project is wrong .... use maven-core instead.. I would suggest to use minimum 3.1.0 version for maven-core and for maven-plugin-api"},{"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"score":0,"creation_date":1640805553,"post_id":70522736,"comment_id":124664819,"body_markdown":"@khmarbaise Done, question updated. Still not working. I have tried in several versions of Eclipse just in case, but it doesn&#39;t work. Thanks anyway.","body":"@khmarbaise Done, question updated. Still not working. I have tried in several versions of Eclipse just in case, but it doesn&#39;t work. Thanks anyway."}],"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640805479,"creation_date":1640798034,"question_id":70522736,"body_markdown":"I have a custom plugin with the following configuration, but I can&#39;t understand why the ```outputDir``` folder is not added to the classpath of the project running the goal ```generate-sources```.\r\n\r\n**Mojo class**\r\n\r\n```\r\npackage testing.sources.maven;\r\n\r\nimport java.io.*;\r\n\r\nimport org.apache.maven.plugin.*;\r\nimport org.apache.maven.plugins.annotations.*;\r\nimport org.apache.maven.plugins.annotations.Mojo;\r\nimport org.apache.maven.project.*;\r\nimport org.codehaus.plexus.util.*;\r\n\r\n@Mojo(name = &quot;SRXMLToJava&quot;, defaultPhase = LifecyclePhase.GENERATE_SOURCES)\r\npublic class SRXMLToJava extends AbstractMojo {\r\n\r\n\t/**\r\n\t * SR XML default location\r\n\t */\r\n\t@Parameter(defaultValue = &quot;${project.basedir}/src/main/resources&quot;, required = true)\r\n\tprivate String sourceResourceDir;\r\n\t\r\n    /**\r\n     * Project dependency\r\n     */\r\n    @Parameter(defaultValue = &quot;${project}&quot;, required = true)\r\n    public MavenProject project;\r\n    \r\n    /**\r\n     * Directory wherein generated source will be put\r\n     */\r\n    @Parameter(defaultValue = &quot;${project.build.directory}/generated-sources/code&quot;, required = true)\r\n    private File outputDir;\r\n\t\r\n\t/**\r\n\t * Converts the SR XML documents to an equivalent Java classes\r\n\t * \r\n\t * @throws MojoExecutionException - if an unexpected problem occurs. Throwing\r\n\t *                                this exception causes a &quot;BUILD ERROR&quot; message\r\n\t *                                to be displayed.\r\n\t * @throws MojoFailureException   - if an expected problem (such as a\r\n\t *                                compilation failure) occurs. Throwing this\r\n\t *                                exception causes a &quot;BUILD FAILURE&quot; message to\r\n\t *                                be displayed.\r\n\t */\r\n\tpublic void execute() throws MojoExecutionException, MojoFailureException {\r\n\t\t\r\n\t\tgetLog().info(&quot;1 Output dir path --&gt; &quot; + outputDir.getAbsolutePath());\r\n\t\t\r\n        try {\r\n        \toutputDir.mkdirs();\r\n\t\t\tnew File(outputDir.getAbsolutePath() + &quot;/TestingPlugin.java&quot;).createNewFile();\r\n\t\t\tFileUtils.fileWrite(outputDir.getAbsolutePath() + &quot;/TestingPlugin.java&quot;, &quot;package codigo;\\npublic class TestingPlugin {\\n public void run(){\\nSystem.out.println(\\&quot;Hello world\\&quot;);}}&quot;);\r\n\t\t} catch (final IOException exception) {\r\n\t\t\tthrow new MojoExecutionException(&quot;Failed to execute plugin&quot;, exception);\r\n\t\t}\r\n        \r\n        project.addCompileSourceRoot(outputDir.getAbsolutePath());\r\n\r\n\t}\r\n\r\n}\r\n```\r\n**Plugin pom.xml**\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;group.testing&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sources-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n\t&lt;version&gt;10.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;mojo-descriptor&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;descriptor&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-helpmojo&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;helpmojo&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;attach-sources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.10.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;attach-javadoc&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings \r\n\t\t\t\t\tonly. It has no influence on the Maven build itself. --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;lifecycleMappingMetadata&gt;\r\n\t\t\t\t\t\t\t&lt;pluginExecutions&gt;\r\n\t\t\t\t\t\t\t\t&lt;pluginExecution&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\torg.apache.maven.plugins\r\n\t\t\t\t\t\t\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\tmaven-plugin-plugin\r\n\t\t\t\t\t\t\t\t\t\t&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;versionRange&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t[3.2,)\r\n\t\t\t\t\t\t\t\t\t\t&lt;/versionRange&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;goal&gt;descriptor&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;goal&gt;helpmojo&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;action&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;ignore&gt;&lt;/ignore&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/action&gt;\r\n\t\t\t\t\t\t\t\t&lt;/pluginExecution&gt;\r\n\t\t\t\t\t\t\t&lt;/pluginExecutions&gt;\r\n\t\t\t\t\t\t&lt;/lifecycleMappingMetadata&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Project pom.xml where the plugin is used**\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;group.testing&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sources-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;10.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;SRXMLToJava&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAfter running maven &gt; run as &gt; generate-sources in Eclipse. Folder ```${project.build.directory}/generated-sources/code``` hasnt been added to the classpath.\r\n\r\n[build-helper-maven-plugin][1] works, but I want to avoid using it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19682602/9786749","title":"Why MavenProject.addCompileSourceRoot() is not working as expected?","body":"<p>I have a custom plugin with the following configuration, but I can't understand why the <code>outputDir</code> folder is not added to the classpath of the project running the goal <code>generate-sources</code>.</p>\n<p><strong>Mojo class</strong></p>\n<pre><code>package testing.sources.maven;\n\nimport java.io.*;\n\nimport org.apache.maven.plugin.*;\nimport org.apache.maven.plugins.annotations.*;\nimport org.apache.maven.plugins.annotations.Mojo;\nimport org.apache.maven.project.*;\nimport org.codehaus.plexus.util.*;\n\n@Mojo(name = &quot;SRXMLToJava&quot;, defaultPhase = LifecyclePhase.GENERATE_SOURCES)\npublic class SRXMLToJava extends AbstractMojo {\n\n    /**\n     * SR XML default location\n     */\n    @Parameter(defaultValue = &quot;${project.basedir}/src/main/resources&quot;, required = true)\n    private String sourceResourceDir;\n    \n    /**\n     * Project dependency\n     */\n    @Parameter(defaultValue = &quot;${project}&quot;, required = true)\n    public MavenProject project;\n    \n    /**\n     * Directory wherein generated source will be put\n     */\n    @Parameter(defaultValue = &quot;${project.build.directory}/generated-sources/code&quot;, required = true)\n    private File outputDir;\n    \n    /**\n     * Converts the SR XML documents to an equivalent Java classes\n     * \n     * @throws MojoExecutionException - if an unexpected problem occurs. Throwing\n     *                                this exception causes a &quot;BUILD ERROR&quot; message\n     *                                to be displayed.\n     * @throws MojoFailureException   - if an expected problem (such as a\n     *                                compilation failure) occurs. Throwing this\n     *                                exception causes a &quot;BUILD FAILURE&quot; message to\n     *                                be displayed.\n     */\n    public void execute() throws MojoExecutionException, MojoFailureException {\n        \n        getLog().info(&quot;1 Output dir path --&gt; &quot; + outputDir.getAbsolutePath());\n        \n        try {\n            outputDir.mkdirs();\n            new File(outputDir.getAbsolutePath() + &quot;/TestingPlugin.java&quot;).createNewFile();\n            FileUtils.fileWrite(outputDir.getAbsolutePath() + &quot;/TestingPlugin.java&quot;, &quot;package codigo;\\npublic class TestingPlugin {\\n public void run(){\\nSystem.out.println(\\&quot;Hello world\\&quot;);}}&quot;);\n        } catch (final IOException exception) {\n            throw new MojoExecutionException(&quot;Failed to execute plugin&quot;, exception);\n        }\n        \n        project.addCompileSourceRoot(outputDir.getAbsolutePath());\n\n    }\n\n}\n</code></pre>\n<p><strong>Plugin pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;group.testing&lt;/groupId&gt;\n    &lt;artifactId&gt;sources-maven-plugin&lt;/artifactId&gt;\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n    &lt;version&gt;10.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n            &lt;version&gt;3.8.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;3.8.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;mojo-descriptor&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;descriptor&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-helpmojo&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;helpmojo&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadoc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;!--This plugin's configuration is used to store Eclipse m2e settings \n                    only. It has no influence on the Maven build itself. --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;lifecycleMappingMetadata&gt;\n                            &lt;pluginExecutions&gt;\n                                &lt;pluginExecution&gt;\n                                    &lt;pluginExecutionFilter&gt;\n                                        &lt;groupId&gt;\n                                            org.apache.maven.plugins\n                                        &lt;/groupId&gt;\n                                        &lt;artifactId&gt;\n                                            maven-plugin-plugin\n                                        &lt;/artifactId&gt;\n                                        &lt;versionRange&gt;\n                                            [3.2,)\n                                        &lt;/versionRange&gt;\n                                        &lt;goals&gt;\n                                            &lt;goal&gt;descriptor&lt;/goal&gt;\n                                            &lt;goal&gt;helpmojo&lt;/goal&gt;\n                                        &lt;/goals&gt;\n                                    &lt;/pluginExecutionFilter&gt;\n                                    &lt;action&gt;\n                                        &lt;ignore&gt;&lt;/ignore&gt;\n                                    &lt;/action&gt;\n                                &lt;/pluginExecution&gt;\n                            &lt;/pluginExecutions&gt;\n                        &lt;/lifecycleMappingMetadata&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Project pom.xml where the plugin is used</strong></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;group.testing&lt;/groupId&gt;\n    &lt;artifactId&gt;sources-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;10.0-SNAPSHOT&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;SRXMLToJava&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>After running maven &gt; run as &gt; generate-sources in Eclipse. Folder <code>${project.build.directory}/generated-sources/code</code> hasnt been added to the classpath.</p>\n<p><a href=\"https://stackoverflow.com/a/19682602/9786749\">build-helper-maven-plugin</a> works, but I want to avoid using it.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1640648142,"post_id":70501362,"comment_id":124625325,"body_markdown":"Please, add the entity of Film as well. This seems to be a problem about how you&#39;re mapping/joining your entities.","body":"Please, add the entity of Film as well. This seems to be a problem about how you&#39;re mapping/joining your entities."},{"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"score":0,"creation_date":1640651606,"post_id":70501362,"comment_id":124625775,"body_markdown":"@JettoMart&#237;nez thanks, I edited the post","body":"@JettoMart&#237;nez thanks, I edited the post"},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1640685509,"post_id":70501362,"comment_id":124632072,"body_markdown":"Hi, please see this answers  https://stackoverflow.com/questions/48448079/json-parse-error-can-not-construct-instance-of-io-starter-topic-topic/48448121","body":"Hi, please see this answers  <a href=\"https://stackoverflow.com/questions/48448079/json-parse-error-can-not-construct-instance-of-io-starter-topic-topic/48448121\" title=\"json parse error can not construct instance of io starter topic topic\">stackoverflow.com/questions/48448079/&hellip;</a>"},{"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"score":0,"creation_date":1640726104,"post_id":70501362,"comment_id":124644704,"body_markdown":"@K.Nikita Hi, Ive already seen those (as you can see I already have the empty constructor) and adding &quot;JsonCreator&quot; and :JsonProperty&quot; didnt work","body":"@K.Nikita Hi, Ive already seen those (as you can see I already have the empty constructor) and adding &quot;JsonCreator&quot; and :JsonProperty&quot; didnt work"},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1640726614,"post_id":70501362,"comment_id":124644859,"body_markdown":"Сan share your project to reproduce the bug?","body":"Сan share your project to reproduce the bug?"},{"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"score":0,"creation_date":1640729741,"post_id":70501362,"comment_id":124645835,"body_markdown":"@K.Nikita thanks for your help. Adding github repo to the original post","body":"@K.Nikita thanks for your help. Adding github repo to the original post"}],"answers":[{"tags":[],"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640781610,"creation_date":1640781610,"answer_id":70519551,"question_id":70501362,"body_markdown":"Okey, so if anyone in the future has a similar problem this is the solution:\r\n\r\n**Controller**\r\n    \r\n    @PostMapping(path = &quot;/oscar/post/{filmId}&quot;)\r\n    public Oscar addOscarToFilm(@PathVariable Long filmId, @RequestBody OscarDto \r\n    oscar){\r\n        return oscarService.addOscarToFilm(filmId, oscar);\r\n    }\r\n\r\n**Service**\r\n\r\n        public Oscar addOscarToFilm(Long filmId, OscarDto oscarDto) {\r\n        if (filmId == null) {\r\n            throw new IllegalArgumentException(&quot;Id of Film you want to find is \r\n    null&quot;);\r\n        }\r\n\r\n        var film = filmRepository.findById(filmId)\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Cannot find film \r\n    with this id: &quot; + filmId));\r\n\r\n        var filmRezyser = film.getRezyser();\r\n        var oscar = oscarDto.toOscar();\r\n\r\n        oscar.setFilm(film);\r\n        oscar.setRezyser(filmRezyser);\r\n\r\n        return oscarRepository.save(oscar);\r\n    }\r\n\r\n**dto**\r\n\r\n    package com.example.Projekt21.dto;\r\n\r\n    import com.example.Projekt21.entity.Oscar;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class OscarDto {\r\n    Long rok;\r\n\r\n    public Oscar toOscar() {\r\n        return Oscar\r\n                .builder()\r\n                .rok(rok)\r\n                .build();\r\n    }\r\n}","title":"how to POST with a foreign key when the other table already exists - using spring","body":"<p>Okey, so if anyone in the future has a similar problem this is the solution:</p>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(path = &quot;/oscar/post/{filmId}&quot;)\npublic Oscar addOscarToFilm(@PathVariable Long filmId, @RequestBody OscarDto \noscar){\n    return oscarService.addOscarToFilm(filmId, oscar);\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>    public Oscar addOscarToFilm(Long filmId, OscarDto oscarDto) {\n    if (filmId == null) {\n        throw new IllegalArgumentException(&quot;Id of Film you want to find is \nnull&quot;);\n    }\n\n    var film = filmRepository.findById(filmId)\n            .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Cannot find film \nwith this id: &quot; + filmId));\n\n    var filmRezyser = film.getRezyser();\n    var oscar = oscarDto.toOscar();\n\n    oscar.setFilm(film);\n    oscar.setRezyser(filmRezyser);\n\n    return oscarRepository.save(oscar);\n}\n</code></pre>\n<p><strong>dto</strong></p>\n<pre><code>package com.example.Projekt21.dto;\n\nimport com.example.Projekt21.entity.Oscar;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class OscarDto {\nLong rok;\n\npublic Oscar toOscar() {\n    return Oscar\n            .builder()\n            .rok(rok)\n            .build();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640805274,"creation_date":1640805274,"answer_id":70523961,"question_id":70501362,"body_markdown":"It is great! We can use new class for request body, for example: \r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class AddNewOscarRequest {\r\n        private Long oscarId;\r\n        private Long rok;\r\n        private Long filmId;\r\n        private Long rezyseraId;\r\n    }\r\n\r\n\r\nthen:\r\n\r\n    @PostMapping(path = &quot;/oscar/create&quot;)\r\n    public Oscar addOscarToFilm(@RequestBody AddNewOscarRequest request){\r\n        return oscarService.addOscarToFilm(request);\r\n    }\r\n\r\nIf you not found entity  application throws **EntityNotFoundException**\r\n    \r\n    filmRepository.findById(filmId)\r\n\r\n\r\nFor mapping you can use new class like &quot;OscarMapper&quot;\r\n","title":"how to POST with a foreign key when the other table already exists - using spring","body":"<p>It is great! We can use new class for request body, for example:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class AddNewOscarRequest {\n    private Long oscarId;\n    private Long rok;\n    private Long filmId;\n    private Long rezyseraId;\n}\n</code></pre>\n<p>then:</p>\n<pre><code>@PostMapping(path = &quot;/oscar/create&quot;)\npublic Oscar addOscarToFilm(@RequestBody AddNewOscarRequest request){\n    return oscarService.addOscarToFilm(request);\n}\n</code></pre>\n<p>If you not found entity  application throws <strong>EntityNotFoundException</strong></p>\n<pre><code>filmRepository.findById(filmId)\n</code></pre>\n<p>For mapping you can use new class like &quot;OscarMapper&quot;</p>\n"}],"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70519551,"answer_count":2,"score":0,"last_activity_date":1640805274,"creation_date":1640647330,"question_id":70501362,"body_markdown":"So I&#39;m learning Spring Boot for my uni project and I want to add values to a table that has a foreign key when the FK already exists in the other table. Im new to this stuff and I don&#39;g really know what to do with the error that Spring gives me.\r\n\r\n**My entity**\r\n```\r\n    package com.example.Projekt21.entity;\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Table\r\n    @Entity\r\n    public class Oscar {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private Long rok;\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;idFilmu&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Film idFilmu;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;idRezyserea&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Rezyser idRezysera;\r\n\r\n\r\n    public Oscar(Long idOscary, Long rok) {\r\n        this.id = idOscary;\r\n        this.rok = rok;\r\n    }\r\n\r\n    public Oscar() {\r\n    }\r\n\r\n    public Long getIdOscar() {\r\n        return id;\r\n    }\r\n\r\n    public void setIdOscar(Long idOscary) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getRok() {\r\n        return rok;\r\n    }\r\n\r\n    public void setRok(Long rok) {\r\n        this.rok = rok;\r\n    }\r\n\r\n    public Film getIdFilmu() {\r\n        return idFilmu;\r\n    }\r\n\r\n    public void setIdFilmu(Film idFilmu) {\r\n        this.idFilmu = idFilmu;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Controller**\r\n\r\n    package com.example.Projekt21.controller;\r\n\r\n    import com.example.Projekt21.entity.Oscar;\r\n    import com.example.Projekt21.service.OscarService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    import java.util.List;\r\n  \r\n    @RestController\r\n    @RequestMapping\r\n    public class OscarController {\r\n\r\n    private final OscarService oscarService;\r\n\r\n    @Autowired\r\n    public OscarController(OscarService oscarService){\r\n        this.oscarService = oscarService;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/oscar/get&quot;)\r\n    public List&lt;Oscar&gt; getOscar(){\r\n        return oscarService.getOscar();\r\n    }\r\n\r\n    @PostMapping(path = &quot;/oscar/post&quot;)\r\n    public void registerNewOscar(@RequestBody Oscar oscar){\r\n        oscarService.addNewOscar(oscar);\r\n    }\r\n\r\n    @DeleteMapping(path = &quot;/oscar/delete/{oscarId}&quot;)\r\n    public void deleteOscar(@PathVariable(&quot;oscarId&quot;)Long oscarId){\r\n        oscarService.deleteOscar(oscarId);\r\n    }\r\n\r\n    @PutMapping(path = &quot;/oscar/put/{oscarId}&quot;)\r\n    public void updateStudent(\r\n            @PathVariable(&quot;oscarId&quot;) Long oscarId,\r\n            @RequestParam(required = false) Long rok) {\r\n        oscarService.updateOscar(oscarId, rok);\r\n    }\r\n}\r\n\r\n**Service**\r\n```\r\n    package com.example.Projekt21.service;\r\n\r\n     import com.example.Projekt21.entity.Oscar;\r\n    import com.example.Projekt21.repository.OscarRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import javax.transaction.Transactional;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n\r\n    @Service\r\n    public class OscarService {\r\n\r\n    private final OscarRepository oscarRepository;\r\n\r\n    @Autowired\r\n    public OscarService(OscarRepository oscarRepository){\r\n        this.oscarRepository = oscarRepository;\r\n    }\r\n\r\n    public List&lt;Oscar&gt; getOscar(){\r\n        return oscarRepository.findAll();\r\n    }\r\n\r\n    public void addNewOscar(Oscar oscar){\r\n        oscarRepository.save(oscar);\r\n    }\r\n\r\n    public void deleteOscar(Long oscarId){\r\n        boolean exists = oscarRepository.existsById(oscarId);\r\n        if(!exists){\r\n            throw new IllegalStateException(&quot;Oscar o numerze id:  &quot; + oscarId + &quot; nie istenieje&quot;);\r\n        }\r\n        oscarRepository.deleteById(oscarId);\r\n    }\r\n\r\n    @Transactional\r\n    public void updateOscar(Long oscarId, Long rok) {\r\n        Oscar oscar = oscarRepository.findById(oscarId).orElseThrow(() -&gt; new IllegalStateException(\r\n                &quot;Oscar o numerze id:  &quot; + oscarId + &quot; nie istnieje&quot;));\r\n\r\n        if (rok != null &amp;&amp; rok &gt; 0 &amp;&amp; rok != oscar.getRok()) {\r\n            oscar.setRok(rok);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nMy request\r\n```\r\n{\r\n    &quot;rok&quot;: &quot;2020&quot;,\r\n    &quot;idFilmu&quot;: &quot;1&quot;,\r\n    &quot;idRezysera&quot;: &quot;2&quot;\r\n}\r\n```\r\n\r\nError Message\r\n\r\n    JSON parse error: Cannot construct instance of `com.example.Projekt21.entity.Film` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;1&#39;);\r\n\r\nCan someone please give me a simple explanation on how to fix my problem?\r\nThanks\r\n\r\n\r\n**EDIT:\r\nFilm entity**\r\n\r\n    package com.example.Projekt21.entity;\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Table\r\n     @Entity\r\n    public class Film {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String tytul;\r\n    private String gatunek;\r\n    private Long rok_produkcji;\r\n\r\n    @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    private Rezyser rezyser;\r\n\r\n    public Film(String tytul, String gatunek, Long rok_produkcji, Rezyser \r\n    rezyser) {\r\n        this.tytul = tytul;\r\n        this.gatunek = gatunek;\r\n        this.rok_produkcji = rok_produkcji;\r\n        this.rezyser = rezyser;\r\n    }\r\n\r\n    public Film() {\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTytul() {\r\n        return tytul;\r\n    }\r\n\r\n    public void setTytul(String tytul) {\r\n        this.tytul = tytul;\r\n    }\r\n\r\n    public String getGatunek() {\r\n        return gatunek;\r\n    }\r\n\r\n    public void setGatunek(String gatunek) {\r\n        this.gatunek = gatunek;\r\n    }\r\n\r\n    public Long getRok_produkcji() {\r\n        return rok_produkcji;\r\n    }\r\n\r\n    public void setRok_produkcji(Long rok_produkcji) {\r\n        this.rok_produkcji = rok_produkcji;\r\n    }\r\n\r\n    public Rezyser getRezyser() {\r\n        return rezyser;\r\n    }\r\n\r\n    public void setRezyser(Rezyser rezyser) {\r\n        this.rezyser = rezyser;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Film{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, tytul=&#39;&quot; + tytul + &#39;\\&#39;&#39; +\r\n                &quot;, gatunek=&#39;&quot; + gatunek + &#39;\\&#39;&#39; +\r\n                &quot;, rok_produkcji=&quot; + rok_produkcji +\r\n                &quot;, id_rezysera=&quot; + rezyser +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n\r\nand Rezyser\r\n\r\n    public class Rezyser {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String imie;\r\n    private String nazwisko;\r\n    private Date data_urodzenia;\r\n    private String kraj_pochodzenia;\r\n\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @OneToMany(mappedBy = &quot;rezyser&quot;)\r\n    private List&lt;Film&gt; filmList;\r\n\r\n    public Rezyser(String imie, String nazwisko, Date data_urodzenia, String \r\n    kraj_pochodzenia) {\r\n        this.imie = imie;\r\n        this.nazwisko = nazwisko;\r\n        this.data_urodzenia = data_urodzenia;\r\n        this.kraj_pochodzenia = kraj_pochodzenia;\r\n    }\r\n    //getters, setters, toString and creators\r\n}\r\n\r\n\r\n**EDIT 2**\r\n\r\nsharing my project: https://github.com/TheFandorn/Projekt2.1","title":"how to POST with a foreign key when the other table already exists - using spring","body":"<p>So I'm learning Spring Boot for my uni project and I want to add values to a table that has a foreign key when the FK already exists in the other table. Im new to this stuff and I don'g really know what to do with the error that Spring gives me.</p>\n<p><strong>My entity</strong></p>\n<pre><code>    package com.example.Projekt21.entity;\n\n    import javax.persistence.*;\n\n    @Table\n    @Entity\n    public class Oscar {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private Long rok;\n    @OneToOne\n    @JoinColumn(name = &quot;idFilmu&quot;, referencedColumnName = &quot;id&quot;)\n    private Film idFilmu;\n    @ManyToOne\n    @JoinColumn(name = &quot;idRezyserea&quot;, referencedColumnName = &quot;id&quot;)\n    private Rezyser idRezysera;\n\n\n    public Oscar(Long idOscary, Long rok) {\n        this.id = idOscary;\n        this.rok = rok;\n    }\n\n    public Oscar() {\n    }\n\n    public Long getIdOscar() {\n        return id;\n    }\n\n    public void setIdOscar(Long idOscary) {\n        this.id = id;\n    }\n\n    public Long getRok() {\n        return rok;\n    }\n\n    public void setRok(Long rok) {\n        this.rok = rok;\n    }\n\n    public Film getIdFilmu() {\n        return idFilmu;\n    }\n\n    public void setIdFilmu(Film idFilmu) {\n        this.idFilmu = idFilmu;\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>package com.example.Projekt21.controller;\n\nimport com.example.Projekt21.entity.Oscar;\nimport com.example.Projekt21.service.OscarService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping\npublic class OscarController {\n\nprivate final OscarService oscarService;\n\n@Autowired\npublic OscarController(OscarService oscarService){\n    this.oscarService = oscarService;\n}\n\n@GetMapping(path = &quot;/oscar/get&quot;)\npublic List&lt;Oscar&gt; getOscar(){\n    return oscarService.getOscar();\n}\n\n@PostMapping(path = &quot;/oscar/post&quot;)\npublic void registerNewOscar(@RequestBody Oscar oscar){\n    oscarService.addNewOscar(oscar);\n}\n\n@DeleteMapping(path = &quot;/oscar/delete/{oscarId}&quot;)\npublic void deleteOscar(@PathVariable(&quot;oscarId&quot;)Long oscarId){\n    oscarService.deleteOscar(oscarId);\n}\n\n@PutMapping(path = &quot;/oscar/put/{oscarId}&quot;)\npublic void updateStudent(\n        @PathVariable(&quot;oscarId&quot;) Long oscarId,\n        @RequestParam(required = false) Long rok) {\n    oscarService.updateOscar(oscarId, rok);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Service</strong></p>\n<pre><code>    package com.example.Projekt21.service;\n\n     import com.example.Projekt21.entity.Oscar;\n    import com.example.Projekt21.repository.OscarRepository;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Service;\n\n    import javax.transaction.Transactional;\n    import java.util.List;\n    import java.util.Objects;\n\n    @Service\n    public class OscarService {\n\n    private final OscarRepository oscarRepository;\n\n    @Autowired\n    public OscarService(OscarRepository oscarRepository){\n        this.oscarRepository = oscarRepository;\n    }\n\n    public List&lt;Oscar&gt; getOscar(){\n        return oscarRepository.findAll();\n    }\n\n    public void addNewOscar(Oscar oscar){\n        oscarRepository.save(oscar);\n    }\n\n    public void deleteOscar(Long oscarId){\n        boolean exists = oscarRepository.existsById(oscarId);\n        if(!exists){\n            throw new IllegalStateException(&quot;Oscar o numerze id:  &quot; + oscarId + &quot; nie istenieje&quot;);\n        }\n        oscarRepository.deleteById(oscarId);\n    }\n\n    @Transactional\n    public void updateOscar(Long oscarId, Long rok) {\n        Oscar oscar = oscarRepository.findById(oscarId).orElseThrow(() -&gt; new IllegalStateException(\n                &quot;Oscar o numerze id:  &quot; + oscarId + &quot; nie istnieje&quot;));\n\n        if (rok != null &amp;&amp; rok &gt; 0 &amp;&amp; rok != oscar.getRok()) {\n            oscar.setRok(rok);\n        }\n    }\n}\n\n</code></pre>\n<p>My request</p>\n<pre><code>{\n    &quot;rok&quot;: &quot;2020&quot;,\n    &quot;idFilmu&quot;: &quot;1&quot;,\n    &quot;idRezysera&quot;: &quot;2&quot;\n}\n</code></pre>\n<p>Error Message</p>\n<pre><code>JSON parse error: Cannot construct instance of `com.example.Projekt21.entity.Film` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('1');\n</code></pre>\n<p>Can someone please give me a simple explanation on how to fix my problem?\nThanks</p>\n<p><strong>EDIT:\nFilm entity</strong></p>\n<pre><code>package com.example.Projekt21.entity;\n\nimport javax.persistence.*;\n\n@Table\n @Entity\npublic class Film {\n\n@Id\n@GeneratedValue\nprivate Long id;\nprivate String tytul;\nprivate String gatunek;\nprivate Long rok_produkcji;\n\n@ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\nprivate Rezyser rezyser;\n\npublic Film(String tytul, String gatunek, Long rok_produkcji, Rezyser \nrezyser) {\n    this.tytul = tytul;\n    this.gatunek = gatunek;\n    this.rok_produkcji = rok_produkcji;\n    this.rezyser = rezyser;\n}\n\npublic Film() {\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getTytul() {\n    return tytul;\n}\n\npublic void setTytul(String tytul) {\n    this.tytul = tytul;\n}\n\npublic String getGatunek() {\n    return gatunek;\n}\n\npublic void setGatunek(String gatunek) {\n    this.gatunek = gatunek;\n}\n\npublic Long getRok_produkcji() {\n    return rok_produkcji;\n}\n\npublic void setRok_produkcji(Long rok_produkcji) {\n    this.rok_produkcji = rok_produkcji;\n}\n\npublic Rezyser getRezyser() {\n    return rezyser;\n}\n\npublic void setRezyser(Rezyser rezyser) {\n    this.rezyser = rezyser;\n}\n\n@Override\npublic String toString() {\n    return &quot;Film{&quot; +\n            &quot;id=&quot; + id +\n            &quot;, tytul='&quot; + tytul + '\\'' +\n            &quot;, gatunek='&quot; + gatunek + '\\'' +\n            &quot;, rok_produkcji=&quot; + rok_produkcji +\n            &quot;, id_rezysera=&quot; + rezyser +\n            '}';\n}\n</code></pre>\n<p>}</p>\n<p>and Rezyser</p>\n<pre><code>public class Rezyser {\n\n@Id\n@GeneratedValue\nprivate Long id;\nprivate String imie;\nprivate String nazwisko;\nprivate Date data_urodzenia;\nprivate String kraj_pochodzenia;\n\n@OnDelete(action = OnDeleteAction.CASCADE)\n@OneToMany(mappedBy = &quot;rezyser&quot;)\nprivate List&lt;Film&gt; filmList;\n\npublic Rezyser(String imie, String nazwisko, Date data_urodzenia, String \nkraj_pochodzenia) {\n    this.imie = imie;\n    this.nazwisko = nazwisko;\n    this.data_urodzenia = data_urodzenia;\n    this.kraj_pochodzenia = kraj_pochodzenia;\n}\n//getters, setters, toString and creators\n</code></pre>\n<p>}</p>\n<p><strong>EDIT 2</strong></p>\n<p>sharing my project: <a href=\"https://github.com/TheFandorn/Projekt2.1\" rel=\"nofollow noreferrer\">https://github.com/TheFandorn/Projekt2.1</a></p>\n"},{"tags":["java","linux","bash","shell","ubuntu"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1431601038,"post_id":30235541,"comment_id":48573025,"body_markdown":"Does your `/home/jre` folder exist and actually contain a `bin` folder, in turn containing the `java` binary?","body":"Does your <code>&#47;home&#47;jre</code> folder exist and actually contain a <code>bin</code> folder, in turn containing the <code>java</code> binary?"},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1431601049,"post_id":30235541,"comment_id":48573035,"body_markdown":"Try running `$JAVA_HOME/bin/java Copy` from `setup.sh` script","body":"Try running <code>$JAVA_HOME&#47;bin&#47;java Copy</code> from <code>setup.sh</code> script"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431601106,"post_id":30235541,"comment_id":48573066,"body_markdown":"@Mena Yes the folder is exist and have all the required files.","body":"@Mena Yes the folder is exist and have all the required files."},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431601138,"post_id":30235541,"comment_id":48573085,"body_markdown":"@anubhava tried but not working. thanks for your suggestion.","body":"@anubhava tried but not working. thanks for your suggestion."},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1431601186,"post_id":30235541,"comment_id":48573110,"body_markdown":"What does `ls -l /home/jre/bin/java` show you?","body":"What does <code>ls -l &#47;home&#47;jre&#47;bin&#47;java</code> show you?"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431601386,"post_id":30235541,"comment_id":48573223,"body_markdown":"@anubhava if i changed export PATH=$PATH:$JAVA_HOME/bin to export PATH=$PATH:/home/jre/bin then its working fine.","body":"@anubhava if i changed export PATH=$PATH:$JAVA_HOME/bin to export PATH=$PATH:/home/jre/bin then its working fine."},{"owner":{"account_id":1552727,"reputation":2761,"user_id":1444748,"accept_rate":80,"display_name":"Morad"},"score":0,"creation_date":1431601542,"post_id":30235541,"comment_id":48573312,"body_markdown":"Try export PATH=${PATH}:${JAVA_HOME}/bin","body":"Try export PATH=${PATH}:${JAVA_HOME}/bin"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431602445,"post_id":30235541,"comment_id":48573850,"body_markdown":"@Morad\n\nI have change as per your suggestion as below:\n\n#!/bin/bash\n. ./setenv.sh\n\necho $JAVA_PATH\necho $PATH\nexport PATH=${PATH}:${JAVA_PATH}/bin\necho $PATH\n\njava Copy\n\n\nNow Output is:\n\n/home/jre\n\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n\n/bin/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/jre\n\njava not found","body":"@Morad  I have change as per your suggestion as below:  #!/bin/bash . ./setenv.sh  echo $JAVA_PATH echo $PATH export PATH=${PATH}:${JAVA_PATH}/bin echo $PATH  java Copy   Now Output is:  /home/jre  /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin  /bin/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&zwnj;&#8203;:/home/jre  java not found"},{"owner":{"account_id":1552727,"reputation":2761,"user_id":1444748,"accept_rate":80,"display_name":"Morad"},"score":0,"creation_date":1431603144,"post_id":30235541,"comment_id":48574234,"body_markdown":"It&#39;s strange that your PATH has /home/jre in the end of it instead of /home/jre/bin. What happens when you add &quot;TMP=${JAVA_PATH}/bin; echo $TMP&quot; to your script?","body":"It&#39;s strange that your PATH has /home/jre in the end of it instead of /home/jre/bin. What happens when you add &quot;TMP=${JAVA_PATH}/bin; echo $TMP&quot; to your script?"},{"owner":{"account_id":94756,"reputation":78623,"user_id":258523,"accept_rate":83,"display_name":"Etan Reisner"},"score":0,"creation_date":1431603584,"post_id":30235541,"comment_id":48574519,"body_markdown":"Does `setenv.sh` have DOS line endings by any chance?","body":"Does <code>setenv.sh</code> have DOS line endings by any chance?"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431603682,"post_id":30235541,"comment_id":48574575,"body_markdown":"It seems that it replace the  /usr (First output) to /bin (Second output) as you can see at the starting point of both the output.","body":"It seems that it replace the  /usr (First output) to /bin (Second output) as you can see at the starting point of both the output."},{"owner":{"account_id":3889535,"reputation":19352,"user_id":3220113,"display_name":"Walter A"},"score":1,"creation_date":1431608595,"post_id":30235541,"comment_id":48577703,"body_markdown":"The first line of setenv.sh seems to be a space, I guess a formatting issue. Please change. (File is sourced, so it doesn&#39;t matter)","body":"The first line of setenv.sh seems to be a space, I guess a formatting issue. Please change. (File is sourced, so it doesn&#39;t matter)"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431674122,"post_id":30235541,"comment_id":48607394,"body_markdown":"@WalterA Thanks for your suggestion, yes it was a formatting issue. Many Thanks. :)","body":"@WalterA Thanks for your suggestion, yes it was a formatting issue. Many Thanks. :)"}],"answers":[{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432883389,"creation_date":1432883389,"answer_id":30523318,"question_id":30235541,"body_markdown":"Please check the [shebang][1] of the two scripts: as Walter A says, please remove the beginning space from the first line and check the endofline (LF vs. CRLF) for each file (dos2unix tool could help).\r\n\r\nIn addition, and to use java executable directly from your $PATH entry, maybe you need to add shebang of the `Setup.sh` script too.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Shebang_%28Unix%29","title":"how to add JAVA_HOME variable to PATH variable in ubuntu","body":"<p>Please check the <a href=\"http://en.wikipedia.org/wiki/Shebang_%28Unix%29\" rel=\"nofollow\">shebang</a> of the two scripts: as Walter A says, please remove the beginning space from the first line and check the endofline (LF vs. CRLF) for each file (dos2unix tool could help).</p>\n\n<p>In addition, and to use java executable directly from your $PATH entry, maybe you need to add shebang of the <code>Setup.sh</code> script too.</p>\n"},{"tags":[],"owner":{"account_id":23151438,"reputation":25,"user_id":17253379,"display_name":"Master SentiBlue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640804943,"creation_date":1640804943,"answer_id":70523898,"question_id":30235541,"body_markdown":"I think this line is the problem: `. ./setenv.sh`\r\nThe `./setenv.sh` path is relative to the current directory and is not relative to the setup.sh script itself.\r\n\r\nIn setup.sh, please either refer to setenv.sh using absolute path or use \r\n        `$($(basedir $0)/setenv.sh)`","title":"how to add JAVA_HOME variable to PATH variable in ubuntu","body":"<p>I think this line is the problem: <code>. ./setenv.sh</code>\nThe <code>./setenv.sh</code> path is relative to the current directory and is not relative to the setup.sh script itself.</p>\n<p>In setup.sh, please either refer to setenv.sh using absolute path or use\n<code>$($(basedir $0)/setenv.sh)</code></p>\n"}],"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640804943,"creation_date":1431600889,"question_id":30235541,"body_markdown":"I want to get some variable from one file and use it in other shell files.\r\nfor this purpose I create two files as below.\r\n\r\nI have two sh files.\r\n\r\n1. setenv.sh\r\n2. Setup.sh\r\n\r\n**content of setenv.sh :**\r\n\r\n     #!bin/bash\r\n     \r\n    export JAVA_HOME=/home/jre\r\n\r\n**content of Setup.sh :**\r\n\r\n    . ./setenv.sh\r\n    \r\n    echo $JAVA_HOME\r\n    \r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n    \r\n    java Copy\r\n\r\n**when I run the Setup.sh file it gives the following output:**\r\n\r\n    /home/jre\r\n    \r\n    java not found\r\n\r\nSo can you please help me to solve this issue.\r\nthanks\r\n\r\n\r\n\r\n","title":"how to add JAVA_HOME variable to PATH variable in ubuntu","body":"<p>I want to get some variable from one file and use it in other shell files.\nfor this purpose I create two files as below.</p>\n\n<p>I have two sh files.</p>\n\n<ol>\n<li>setenv.sh</li>\n<li>Setup.sh</li>\n</ol>\n\n<p><strong>content of setenv.sh :</strong></p>\n\n<pre><code> #!bin/bash\n\nexport JAVA_HOME=/home/jre\n</code></pre>\n\n<p><strong>content of Setup.sh :</strong></p>\n\n<pre><code>. ./setenv.sh\n\necho $JAVA_HOME\n\nexport PATH=$PATH:$JAVA_HOME/bin\n\njava Copy\n</code></pre>\n\n<p><strong>when I run the Setup.sh file it gives the following output:</strong></p>\n\n<pre><code>/home/jre\n\njava not found\n</code></pre>\n\n<p>So can you please help me to solve this issue.\nthanks</p>\n"},{"tags":["java","azure","azure-ad-msal","azure-managed-identity"],"answers":[{"tags":[],"owner":{"account_id":19062442,"reputation":321,"user_id":13918262,"display_name":"udayxhegde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640804412,"creation_date":1640804412,"answer_id":70523808,"question_id":70458291,"body_markdown":"The best option here is to use the azure keyvault sdk, which manages the caching for you so you dont need to do this yourself. See this page for all the different languages this sdk is available: https://learn.microsoft.com/en-us/azure/key-vault/secrets/\r\n\r\nYou can simply pass the ManagedIdentityCredential, and the underlying getToken is then managed by the SDK, without you needing to get a token and figuring out how to cache it.\r\n\r\nexample in node:\r\n\r\n    const kvSecret = require(&#39;@azure/keyvault-secrets&#39;);\r\n    const identity = require(&#39;@azure/identity&#39;);\r\n    \r\n    const credential = new identity.ManagedIdentityCredential();\r\n    const keyVaultClient = new kvSecret.SecretClient(keyVaultUrl, credential);\r\n    const result = await keyVaultClient.getSecret(secretName);\r\n\r\n","title":"Java how to cache DefaultAzureCredential for key vault when using Manage Identity from Server","body":"<p>The best option here is to use the azure keyvault sdk, which manages the caching for you so you dont need to do this yourself. See this page for all the different languages this sdk is available: <a href=\"https://learn.microsoft.com/en-us/azure/key-vault/secrets/\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/key-vault/secrets/</a></p>\n<p>You can simply pass the ManagedIdentityCredential, and the underlying getToken is then managed by the SDK, without you needing to get a token and figuring out how to cache it.</p>\n<p>example in node:</p>\n<pre><code>const kvSecret = require('@azure/keyvault-secrets');\nconst identity = require('@azure/identity');\n\nconst credential = new identity.ManagedIdentityCredential();\nconst keyVaultClient = new kvSecret.SecretClient(keyVaultUrl, credential);\nconst result = await keyVaultClient.getSecret(secretName);\n</code></pre>\n"}],"owner":{"account_id":23723657,"reputation":11,"user_id":17743887,"display_name":"Jesper Werge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640804412,"creation_date":1640239947,"question_id":70458291,"body_markdown":"We are operating in Azure Manage Identity environment, where I have a high performance stdin stdout process where each process request access to the Azure Key Vault for getting secrets and settings for other Azure resources/components. \r\nBut we experience that we do not get the token each time as we have to many request to fast, and are requested to cache the token and refresh it when expired. makes sense, but I am not able to find the correct/good way to do so. It seems that it is not build in the java sdk for Azure.\r\n\r\nI was hoping some of you have had experience in this and could guide me, please.","title":"Java how to cache DefaultAzureCredential for key vault when using Manage Identity from Server","body":"<p>We are operating in Azure Manage Identity environment, where I have a high performance stdin stdout process where each process request access to the Azure Key Vault for getting secrets and settings for other Azure resources/components.\nBut we experience that we do not get the token each time as we have to many request to fast, and are requested to cache the token and refresh it when expired. makes sense, but I am not able to find the correct/good way to do so. It seems that it is not build in the java sdk for Azure.</p>\n<p>I was hoping some of you have had experience in this and could guide me, please.</p>\n"},{"tags":["java","web-services","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":67017,"reputation":4157,"user_id":196315,"display_name":"ankon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256761206,"creation_date":1256761206,"answer_id":1639872,"question_id":1639810,"body_markdown":"One workaround idea: add filter on the web application that just consumes the BOM before passing on the request document to the JAX-WS service.","title":"JAX-WS errors when SOAP body contains UTF-8 BOM","body":"<p>One workaround idea: add filter on the web application that just consumes the BOM before passing on the request document to the JAX-WS service.</p>\n"},{"tags":[],"owner":{"account_id":25705,"reputation":9229,"user_id":66293,"accept_rate":88,"display_name":"Andrew M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1284467028,"creation_date":1284467028,"answer_id":3708806,"question_id":1639810,"body_markdown":"We had a similar problem writing a .Net client to a 3rd party Java webservice, .Net included the Byte order mark and the Java service would throw an exception.\r\n\r\nThe 3rd party SOAP method took a single string as an argument, and that string was an XML document (I love people who don&#39;t really understand what problem SOAP is trying to solve!) By default .net added the UTF-8 byte order mark to the &quot;payload&quot; xml document, which is strictly correct, but in practice causes problems.\r\n\r\nIn our case we found two possible solutions from the client (.net) end. I&#39;m not sure how easy this will be to do from SQL Reporting services though.\r\n\r\nString.Trim()  - The xml had to get put into a string before passing into the soap method, calling .Trim() removed the byte order mark. Easy.\r\n\r\nThe second method was to set the UTF encoding settings on the XmlWriterSettings slightly differently, something like the following:\r\n\r\n    XmlWriter xmlWriter = null;\r\n    XmlWriterSettings settings = new XmlWriterSettings();\r\n    settings.Indent = true;\r\n    settings.Encoding = new UTF8Encoding(false);\r\n    xmlWriter = XmlWriter.Create(xmlSteam, settings);\r\n\r\nThe important bit is the &quot;new UTF8Encoding(**false**);&quot;, that argument is &quot;encoderShouldEmitUTF8Identifier&quot; and pretty much solves the problem.","title":"JAX-WS errors when SOAP body contains UTF-8 BOM","body":"<p>We had a similar problem writing a .Net client to a 3rd party Java webservice, .Net included the Byte order mark and the Java service would throw an exception.</p>\n\n<p>The 3rd party SOAP method took a single string as an argument, and that string was an XML document (I love people who don't really understand what problem SOAP is trying to solve!) By default .net added the UTF-8 byte order mark to the \"payload\" xml document, which is strictly correct, but in practice causes problems.</p>\n\n<p>In our case we found two possible solutions from the client (.net) end. I'm not sure how easy this will be to do from SQL Reporting services though.</p>\n\n<p>String.Trim()  - The xml had to get put into a string before passing into the soap method, calling .Trim() removed the byte order mark. Easy.</p>\n\n<p>The second method was to set the UTF encoding settings on the XmlWriterSettings slightly differently, something like the following:</p>\n\n<pre><code>XmlWriter xmlWriter = null;\nXmlWriterSettings settings = new XmlWriterSettings();\nsettings.Indent = true;\nsettings.Encoding = new UTF8Encoding(false);\nxmlWriter = XmlWriter.Create(xmlSteam, settings);\n</code></pre>\n\n<p>The important bit is the \"new UTF8Encoding(<strong>false</strong>);\", that argument is \"encoderShouldEmitUTF8Identifier\" and pretty much solves the problem.</p>\n"},{"tags":[],"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640803770,"creation_date":1640803770,"answer_id":70523706,"question_id":1639810,"body_markdown":"We faced this issue when hosting a .NET WCF service which was consumed by a Java client.\r\n\r\nThe .NET service uses [SoapCore](https://github.com/DigDes/SoapCore), so our solution was to modify the server application&#39;s encoding options:\r\n\r\n```cs\r\nvar encoder = new SoapEncoderOptions();\r\nencoder.WriteEncoding = new UTF8Encoding(false); // &lt;---- disables BOM which causes issue\r\n\r\napp.UseEndpoints(endpoints =&gt; {\r\n\tendpoints.UseSoapEndpoint&lt;IPingService&gt;(&quot;/Service.svc&quot;, encoder, SoapSerializer.DataContractSerializer);\r\n});\r\n```\r\n\r\nThis was found after reviewing [Microsoft documentation for UTF-8 encoding](https://learn.microsoft.com/en-us/dotnet/api/system.text.utf8encoding.preamble?view=net-6.0).\r\n\r\nAn issue in the SoapCore repository mentions the same: https://github.com/DigDes/SoapCore/issues/394.","title":"JAX-WS errors when SOAP body contains UTF-8 BOM","body":"<p>We faced this issue when hosting a .NET WCF service which was consumed by a Java client.</p>\n<p>The .NET service uses <a href=\"https://github.com/DigDes/SoapCore\" rel=\"nofollow noreferrer\">SoapCore</a>, so our solution was to modify the server application's encoding options:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>var encoder = new SoapEncoderOptions();\nencoder.WriteEncoding = new UTF8Encoding(false); // &lt;---- disables BOM which causes issue\n\napp.UseEndpoints(endpoints =&gt; {\n    endpoints.UseSoapEndpoint&lt;IPingService&gt;(&quot;/Service.svc&quot;, encoder, SoapSerializer.DataContractSerializer);\n});\n</code></pre>\n<p>This was found after reviewing <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.text.utf8encoding.preamble?view=net-6.0\" rel=\"nofollow noreferrer\">Microsoft documentation for UTF-8 encoding</a>.</p>\n<p>An issue in the SoapCore repository mentions the same: <a href=\"https://github.com/DigDes/SoapCore/issues/394\" rel=\"nofollow noreferrer\">https://github.com/DigDes/SoapCore/issues/394</a>.</p>\n"}],"owner":{"account_id":6285,"reputation":565,"user_id":10511,"accept_rate":60,"display_name":"Vinny Carpenter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7297,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1640803770,"creation_date":1256760680,"question_id":1639810,"body_markdown":"I have developed a Web Service using JAX-WS (v2.1.3 - Sun JDK 1.6.0_05) deployed on WebLogic 10.3 that works just fine when I use a Java client or SoapUI or other Web Services testing tools. I need to consume this service using 2005 Microsoft SQL Server Reporting Services and I get the following error\r\n\r\n&gt; Couldn&#39;t create SOAP message due to\r\n&gt; exception: XML reader error:\r\n&gt; unexpected character content\r\n\r\n\r\n    SEVERE: Couldn&#39;t create SOAP message due to exception: XML reader error: unexpected character content: &quot;?&quot;\r\n    com.sun.xml.ws.protocol.soap.MessageCreationException: Couldn&#39;t create SOAP message due to exception: XML reader error: unexpected character content: &quot;?&quot;\r\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:292)\r\n    at com.sun.xml.ws.transport.http.HttpAdapter.decodePacket(HttpAdapter.java:276)\r\n    at com.sun.xml.ws.transport.http.HttpAdapter.access$500(HttpAdapter.java:93)\r\n    at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:432)\r\n    at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:244)\r\n    at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:134)\r\n    at com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doGet(WSServletDelegate.java:129)\r\n    at com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doPost(WSServletDelegate.java:160)\r\n    at com.sun.xml.ws.transport.http.servlet.WSServlet.doPost(WSServlet.java:75)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\r\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\r\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:292)\r\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:175)\r\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3498)\r\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n    at weblogic.security.service.SecurityManager.runAs(Unknown Source)\r\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2180)\r\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2086)\r\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1406)\r\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\r\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\r\n    Caused by: com.sun.xml.ws.streaming.XMLStreamReaderException: XML reader error: unexpected character content: &quot;?&quot;\r\n    at com.sun.xml.ws.streaming.XMLStreamReaderUtil.nextElementContent(XMLStreamReaderUtil.java:102)\r\n    at com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:174)\r\n    at com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:296)\r\n    at com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:128)\r\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:287)\r\n    ... 22 more\r\n\r\n\r\nIf I use a HTTP proxy to sniff out what SSRS is sending to JAX-WS, I see EF BB BF as the beginning of the post body and JAX-WS doesn&#39;t like that. If I remove the special characters and resubmit the request using Fiddler, then the web-service invocation works.\r\n\r\nWhy does JAX-WS blow up with the standard UTF-8 BOM? Is there a workaround to get past this issue? Any suggestions would be greatly appreciated. Thanks\r\n\r\n--Vinny \r\n","title":"JAX-WS errors when SOAP body contains UTF-8 BOM","body":"<p>I have developed a Web Service using JAX-WS (v2.1.3 - Sun JDK 1.6.0_05) deployed on WebLogic 10.3 that works just fine when I use a Java client or SoapUI or other Web Services testing tools. I need to consume this service using 2005 Microsoft SQL Server Reporting Services and I get the following error</p>\n\n<blockquote>\n  <p>Couldn't create SOAP message due to\n  exception: XML reader error:\n  unexpected character content</p>\n</blockquote>\n\n<pre><code>SEVERE: Couldn't create SOAP message due to exception: XML reader error: unexpected character content: \"?\"\ncom.sun.xml.ws.protocol.soap.MessageCreationException: Couldn't create SOAP message due to exception: XML reader error: unexpected character content: \"?\"\nat com.sun.xml.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:292)\nat com.sun.xml.ws.transport.http.HttpAdapter.decodePacket(HttpAdapter.java:276)\nat com.sun.xml.ws.transport.http.HttpAdapter.access$500(HttpAdapter.java:93)\nat com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:432)\nat com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:244)\nat com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:134)\nat com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doGet(WSServletDelegate.java:129)\nat com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doPost(WSServletDelegate.java:160)\nat com.sun.xml.ws.transport.http.servlet.WSServlet.doPost(WSServlet.java:75)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\nat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\nat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\nat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:292)\nat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:175)\nat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3498)\nat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\nat weblogic.security.service.SecurityManager.runAs(Unknown Source)\nat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2180)\nat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2086)\nat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1406)\nat weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\nat weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\nCaused by: com.sun.xml.ws.streaming.XMLStreamReaderException: XML reader error: unexpected character content: \"?\"\nat com.sun.xml.ws.streaming.XMLStreamReaderUtil.nextElementContent(XMLStreamReaderUtil.java:102)\nat com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:174)\nat com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:296)\nat com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:128)\nat com.sun.xml.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:287)\n... 22 more\n</code></pre>\n\n<p>If I use a HTTP proxy to sniff out what SSRS is sending to JAX-WS, I see EF BB BF as the beginning of the post body and JAX-WS doesn't like that. If I remove the special characters and resubmit the request using Fiddler, then the web-service invocation works.</p>\n\n<p>Why does JAX-WS blow up with the standard UTF-8 BOM? Is there a workaround to get past this issue? Any suggestions would be greatly appreciated. Thanks</p>\n\n<p>--Vinny </p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8460744,"reputation":576,"user_id":6346585,"display_name":"Banns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640723359,"creation_date":1640723359,"answer_id":70512193,"question_id":70510184,"body_markdown":"Yes, it is possible, either inline, instantiating or recovering the data as you asked.\r\n\r\nWhen specifying a connection between 2 (or more) classes it is good to create the full mapping at first and then hone it after undertanding it fully (at least that is how I think).\r\n\r\nFor your case I&#39;ve reproduced the entities and created a simple persistence with spring-boot with mysql (don&#39;t have postgres here, sry) to make the POC.\r\n\r\nThe entities:\r\n\r\nEntity1\r\n\r\n    package com.jakub.model;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    \r\n    /**\r\n     *\r\n     * @author Andr&#233; Fr&#243;es\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;entity1&quot;)\r\n    public class Entity1 implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n        \r\n        @JoinColumn(name = &quot;entity2_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        @ManyToOne(optional = false, cascade = CascadeType.ALL)\r\n        private Entity2 entity2;\r\n    \r\n        public Entity1() {\r\n        }\r\n        \r\n        public Entity1(Entity2 ent) {\r\n            this.entity2 = ent;\r\n        }\r\n    \r\n        public Entity1(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Entity2 getEntity2Id() {\r\n            return entity2;\r\n        }\r\n    \r\n        public void setEntity2Id(Entity2 entity2Id) {\r\n            this.entity2 = entity2Id;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 0;\r\n            hash += (id != null ? id.hashCode() : 0);\r\n            return hash;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object object) {\r\n            // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n            if (!(object instanceof Entity1)) {\r\n                return false;\r\n            }\r\n            Entity1 other = (Entity1) object;\r\n            if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;com.jakub.model.Entity1[ id=&quot; + id + &quot; ]&quot;;\r\n        }\r\n        \r\n    }\r\n\r\nEntity2\r\n\r\n    package com.jakub.model;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    import javax.xml.bind.annotation.XmlTransient;\r\n    \r\n    /**\r\n     *\r\n     * @author Andr&#233; Fr&#243;es\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;entity2&quot;)\r\n    public class Entity2 implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;str&quot;)\r\n        private String str;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;entity2&quot;)\r\n        private List&lt;Entity1&gt; entity1List;\r\n    \r\n        public Entity2() {\r\n        }\r\n    \r\n        public Entity2(String str) {\r\n            this.str = str;\r\n        }\r\n    \r\n        public Entity2(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getStr() {\r\n            return str;\r\n        }\r\n    \r\n        public void setStr(String str) {\r\n            this.str = str;\r\n        }\r\n    \r\n        @XmlTransient\r\n        public List&lt;Entity1&gt; getEntity1List() {\r\n            if (entity1List == null) {\r\n                entity1List = new ArrayList&lt;&gt;();\r\n            }\r\n            return entity1List;\r\n        }\r\n    \r\n        public void setEntity1List(List&lt;Entity1&gt; entity1List) {\r\n            this.entity1List = entity1List;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 0;\r\n            hash += (id != null ? id.hashCode() : 0);\r\n            return hash;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object object) {\r\n            // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n            if (!(object instanceof Entity2)) {\r\n                return false;\r\n            }\r\n            Entity2 other = (Entity2) object;\r\n            if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;com.jakub.model.Entity2[ id=&quot; + id + &quot; ]&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nAs you can notice, I didn&#39;t add the sequential strategy that you&#39;ve added since you didn&#39;t post it, but should not stray far from this example. And secondly, I added in the Entity2 the list of entity1 with the mapping as well.\r\n\r\nPay attention that in the `manyToOne` relation in the `Entity1` I&#39;ve added a cascade in order to work properly as well.\r\n\r\nAfter that, all that was needed was to persist the entity and it should work without any issues, since the mapping will provide the sql for the persistence.\r\n\r\n    package com.jakub.service;\r\n    \r\n    import com.jakub.model.Entity1;\r\n    import com.jakub.model.Entity2;\r\n    import com.jakub.repository.Entity2Repository;\r\n    import com.jakub.repository.EntityRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    /**\r\n     *\r\n     * @author Andr&#233; Fr&#243;es\r\n     */\r\n    @Service\r\n    public class EntityService {\r\n        \r\n        @Autowired\r\n        private EntityRepository eRepo;\r\n        \r\n        @Autowired\r\n        private Entity2Repository e2Repo;\r\n        \r\n        public void saveEntity1() {\r\n    //        // Working\r\n    //        Entity1 ent1 = new Entity1(new Entity2(&quot;2&quot;));\r\n    //        ent1.getEntity2Id().getEntity1List().add(ent1);\r\n    //        eRepo.save(ent1;\r\n            \r\n    //        // working 2\r\n    //        eRepo.save(new Entity1(new Entity2(&quot;3&quot;)));\r\n    \r\n            // working 3\r\n            eRepo.save(new Entity1(e2Repo.findAll().get(0)));\r\n        }\r\n        \r\n        \r\n    }\r\n\r\nAll the examples above are working correctly. A screenshot of my DB is below with the persisted info.\r\n\r\n[![Persisted Data][1]][1]\r\n\r\nI&#39;ve created a project on [github with this example][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NpCkH.png\r\n  [2]: https://github.com/AndreFroes/jakub-example","title":"Is it possible to save entity with both new and existing data?","body":"<p>Yes, it is possible, either inline, instantiating or recovering the data as you asked.</p>\n<p>When specifying a connection between 2 (or more) classes it is good to create the full mapping at first and then hone it after undertanding it fully (at least that is how I think).</p>\n<p>For your case I've reproduced the entities and created a simple persistence with spring-boot with mysql (don't have postgres here, sry) to make the POC.</p>\n<p>The entities:</p>\n<p>Entity1</p>\n<pre><code>package com.jakub.model;\n\nimport java.io.Serializable;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\n\n/**\n *\n * @author André Fróes\n */\n@Entity\n@Table(name = &quot;entity1&quot;)\npublic class Entity1 implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    \n    @JoinColumn(name = &quot;entity2_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ManyToOne(optional = false, cascade = CascadeType.ALL)\n    private Entity2 entity2;\n\n    public Entity1() {\n    }\n    \n    public Entity1(Entity2 ent) {\n        this.entity2 = ent;\n    }\n\n    public Entity1(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Entity2 getEntity2Id() {\n        return entity2;\n    }\n\n    public void setEntity2Id(Entity2 entity2Id) {\n        this.entity2 = entity2Id;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (id != null ? id.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof Entity1)) {\n            return false;\n        }\n        Entity1 other = (Entity1) object;\n        if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;com.jakub.model.Entity1[ id=&quot; + id + &quot; ]&quot;;\n    }\n    \n}\n</code></pre>\n<p>Entity2</p>\n<pre><code>package com.jakub.model;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\nimport javax.xml.bind.annotation.XmlTransient;\n\n/**\n *\n * @author André Fróes\n */\n@Entity\n@Table(name = &quot;entity2&quot;)\npublic class Entity2 implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;str&quot;)\n    private String str;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;entity2&quot;)\n    private List&lt;Entity1&gt; entity1List;\n\n    public Entity2() {\n    }\n\n    public Entity2(String str) {\n        this.str = str;\n    }\n\n    public Entity2(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getStr() {\n        return str;\n    }\n\n    public void setStr(String str) {\n        this.str = str;\n    }\n\n    @XmlTransient\n    public List&lt;Entity1&gt; getEntity1List() {\n        if (entity1List == null) {\n            entity1List = new ArrayList&lt;&gt;();\n        }\n        return entity1List;\n    }\n\n    public void setEntity1List(List&lt;Entity1&gt; entity1List) {\n        this.entity1List = entity1List;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (id != null ? id.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof Entity2)) {\n            return false;\n        }\n        Entity2 other = (Entity2) object;\n        if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;com.jakub.model.Entity2[ id=&quot; + id + &quot; ]&quot;;\n    }\n\n}\n</code></pre>\n<p>As you can notice, I didn't add the sequential strategy that you've added since you didn't post it, but should not stray far from this example. And secondly, I added in the Entity2 the list of entity1 with the mapping as well.</p>\n<p>Pay attention that in the <code>manyToOne</code> relation in the <code>Entity1</code> I've added a cascade in order to work properly as well.</p>\n<p>After that, all that was needed was to persist the entity and it should work without any issues, since the mapping will provide the sql for the persistence.</p>\n<pre><code>package com.jakub.service;\n\nimport com.jakub.model.Entity1;\nimport com.jakub.model.Entity2;\nimport com.jakub.repository.Entity2Repository;\nimport com.jakub.repository.EntityRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n/**\n *\n * @author André Fróes\n */\n@Service\npublic class EntityService {\n    \n    @Autowired\n    private EntityRepository eRepo;\n    \n    @Autowired\n    private Entity2Repository e2Repo;\n    \n    public void saveEntity1() {\n//        // Working\n//        Entity1 ent1 = new Entity1(new Entity2(&quot;2&quot;));\n//        ent1.getEntity2Id().getEntity1List().add(ent1);\n//        eRepo.save(ent1;\n        \n//        // working 2\n//        eRepo.save(new Entity1(new Entity2(&quot;3&quot;)));\n\n        // working 3\n        eRepo.save(new Entity1(e2Repo.findAll().get(0)));\n    }\n    \n    \n}\n</code></pre>\n<p>All the examples above are working correctly. A screenshot of my DB is below with the persisted info.</p>\n<p><a href=\"https://i.stack.imgur.com/NpCkH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpCkH.png\" alt=\"Persisted Data\" /></a></p>\n<p>I've created a project on <a href=\"https://github.com/AndreFroes/jakub-example\" rel=\"nofollow noreferrer\">github with this example</a>.</p>\n"}],"owner":{"account_id":17805138,"reputation":21,"user_id":12930998,"display_name":"Jakub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640803678,"creation_date":1640710751,"question_id":70510184,"body_markdown":"I have 2 classes:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;entity1&quot;)\r\npublic class TestEntity1 {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;entity1_generator&quot;,\r\n            sequenceName = &quot;entity1_generator&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;entity1_generator&quot;\r\n    )\r\n    private long id;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;entity2_id&quot;)\r\n    private TestEntity2 ent;\r\n\r\n    public TestEntity1() {\r\n    }\r\n\r\n    public TestEntity1(TestEntity2 ent) {\r\n        this.ent = ent;\r\n    }\r\n\r\n    public TestEntity1(long id, TestEntity2 ent) {\r\n        this.id = id;\r\n        this.ent = ent;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public TestEntity2 getEnt() {\r\n        return ent;\r\n    }\r\n\r\n    public void setEnt(TestEntity2 ent) {\r\n        this.ent = ent;\r\n    }\r\n}\r\n```\r\n\r\nand\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;entity2&quot;)\r\npublic class TestEntity2 {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;entity2_generator&quot;,\r\n            sequenceName = &quot;entity2_generator&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;entity2_generator&quot;\r\n    )\r\n    private long id;\r\n\r\n    private String str;\r\n\r\n    public TestEntity2() {\r\n    }\r\n\r\n    public TestEntity2(String str) {\r\n        this.str = str;\r\n    }\r\n\r\n    public TestEntity2(long id, String str) {\r\n        this.id = id;\r\n        this.str = str;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getStr() {\r\n        return str;\r\n    }\r\n\r\n    public void setStr(String str) {\r\n        this.str = str;\r\n    }\r\n}\r\n```\r\n\r\nI want to be able to do both:\r\n```java\r\nrepository1.save(new TestEntity1(new TestEntity2(&quot;2&quot;)));\r\n```\r\n\r\nand\r\n\r\n```java\r\nrepository1.save(new TestEntity1(repository2.findAll().get(0)));\r\n```\r\n\r\nbut the problem is that these two ways of saving entities don&#39;t work at once.\r\nI can use either one or another.\r\nI tried to use different combinations of annotations, CascadeType.ALL or Merge etc, but nothing works. Always one of the lines above throws exception\r\nIs it even possible to use both of these lines:\r\n```java\r\nrepository1.save(new TestEntity1(new TestEntity2(&quot;2&quot;)));\r\nrepository1.save(new TestEntity1(repository2.findAll().get(0)));\r\n```\r\nor do I have to decide which one I want to use?\r\n\r\nEDIT:\r\n\r\nHere is the stack trace:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.jakub.model.Entity2; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.jakub.model.Entity2\r\n\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy110.save(Unknown Source)\r\n\tat com.jakub.service.EntityService.saveEntity1(EntityService.java:39)\r\n\tat com.jakub.service.EntityServiceTest.test1(EntityServiceTest.java:17)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.jakub.model.Entity2\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:798)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:766)\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:427)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:264)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:774)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:760)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy107.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 76 more\r\n\r\n```\r\n\r\nand here is the test class:\r\n\r\n```java\r\npackage com.jakub.service;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass EntityServiceTest {\r\n\r\n    @Autowired\r\n    private EntityService service;\r\n\r\n    @Test\r\n    void test1() {\r\n        service.saveEntity1();\r\n    }\r\n\r\n}\r\n```","title":"Is it possible to save entity with both new and existing data?","body":"<p>I have 2 classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;entity1&quot;)\npublic class TestEntity1 {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;entity1_generator&quot;,\n            sequenceName = &quot;entity1_generator&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;entity1_generator&quot;\n    )\n    private long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;entity2_id&quot;)\n    private TestEntity2 ent;\n\n    public TestEntity1() {\n    }\n\n    public TestEntity1(TestEntity2 ent) {\n        this.ent = ent;\n    }\n\n    public TestEntity1(long id, TestEntity2 ent) {\n        this.id = id;\n        this.ent = ent;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public TestEntity2 getEnt() {\n        return ent;\n    }\n\n    public void setEnt(TestEntity2 ent) {\n        this.ent = ent;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;entity2&quot;)\npublic class TestEntity2 {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;entity2_generator&quot;,\n            sequenceName = &quot;entity2_generator&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;entity2_generator&quot;\n    )\n    private long id;\n\n    private String str;\n\n    public TestEntity2() {\n    }\n\n    public TestEntity2(String str) {\n        this.str = str;\n    }\n\n    public TestEntity2(long id, String str) {\n        this.id = id;\n        this.str = str;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getStr() {\n        return str;\n    }\n\n    public void setStr(String str) {\n        this.str = str;\n    }\n}\n</code></pre>\n<p>I want to be able to do both:</p>\n<pre class=\"lang-java prettyprint-override\"><code>repository1.save(new TestEntity1(new TestEntity2(&quot;2&quot;)));\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>repository1.save(new TestEntity1(repository2.findAll().get(0)));\n</code></pre>\n<p>but the problem is that these two ways of saving entities don't work at once.\nI can use either one or another.\nI tried to use different combinations of annotations, CascadeType.ALL or Merge etc, but nothing works. Always one of the lines above throws exception\nIs it even possible to use both of these lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>repository1.save(new TestEntity1(new TestEntity2(&quot;2&quot;)));\nrepository1.save(new TestEntity1(repository2.findAll().get(0)));\n</code></pre>\n<p>or do I have to decide which one I want to use?</p>\n<p>EDIT:</p>\n<p>Here is the stack trace:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.jakub.model.Entity2; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.jakub.model.Entity2\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy110.save(Unknown Source)\n    at com.jakub.service.EntityService.saveEntity1(EntityService.java:39)\n    at com.jakub.service.EntityServiceTest.test1(EntityServiceTest.java:17)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.jakub.model.Entity2\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:798)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:766)\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\n    at org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:427)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:264)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:774)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:760)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at jdk.proxy2/jdk.proxy2.$Proxy107.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 76 more\n\n</code></pre>\n<p>and here is the test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.jakub.service;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass EntityServiceTest {\n\n    @Autowired\n    private EntityService service;\n\n    @Test\n    void test1() {\n        service.saveEntity1();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","tdd","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1607624823,"post_id":65239968,"comment_id":115338086,"body_markdown":"Would you want to do something with the description?","body":"Would you want to do something with the description?"},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1607625215,"post_id":65239968,"comment_id":115338243,"body_markdown":"@johanneslink I want to write description to my test cases. So, that in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description. More important sometimes I even forget :) what my test case were for after a month. Though function name aid in remembrance but not gives clear picture.","body":"@johanneslink I want to write description to my test cases. So, that in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description. More important sometimes I even forget :) what my test case were for after a month. Though function name aid in remembrance but not gives clear picture."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1607625583,"post_id":65239968,"comment_id":115338390,"body_markdown":"@ZahidKhan - `I want to write description to my test cases. So, that in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description....` - [Javadoc](https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html) is meant for this purpose only. If you do not want to use it, its your problem; Java will not change for such odd deslikes.","body":"@ZahidKhan - <code>I want to write description to my test cases. So, that in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description....</code> - <a href=\"https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html\" rel=\"nofollow noreferrer\">Javadoc</a> is meant for this purpose only. If you do not want to use it, its your problem; Java will not change for such odd deslikes."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1607625930,"post_id":65239968,"comment_id":115338562,"body_markdown":"I have to agree that Javadoc in your tests’ source code (not your app source code) seems appropriate to me. Do you know that Java comes with tools to generate nicely formatted web pages (HTML) like you see in the [Java API documentation](https://docs.oracle.com/en/java/javase/11/docs/api/index.html)? I suggest you edit your question to explain how Javadoc does not address your needs. And see [Wikipedia to learn more about Javadoc](https://en.m.wikipedia.org/wiki/Javadoc).","body":"I have to agree that Javadoc in your tests’ source code (not your app source code) seems appropriate to me. Do you know that Java comes with tools to generate nicely formatted web pages (HTML) like you see in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/index.html\" rel=\"nofollow noreferrer\">Java API documentation</a>? I suggest you edit your question to explain how Javadoc does not address your needs. And see <a href=\"https://en.m.wikipedia.org/wiki/Javadoc\" rel=\"nofollow noreferrer\">Wikipedia to learn more about Javadoc</a>."},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1607626030,"post_id":65239968,"comment_id":115338600,"body_markdown":"@ArvindKumarAvinash I am using javadocs when writing my coding part. But when I write test cases I believe there should be some annotation available in the Junit for such cases. Testing (JUNIT) and coding (JAVA) should be separated.","body":"@ArvindKumarAvinash I am using javadocs when writing my coding part. But when I write test cases I believe there should be some annotation available in the Junit for such cases. Testing (JUNIT) and coding (JAVA) should be separated."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1607626224,"post_id":65239968,"comment_id":115338680,"body_markdown":"@ZahidKhan We are suggesting Javadoc in your *test* source code, not your *app* source code. This approach maintains the separation you speak of. Perhaps someone can write an Answer showing an example of such Javadoc.","body":"@ZahidKhan We are suggesting Javadoc in your <i>test</i> source code, not your <i>app</i> source code. This approach maintains the separation you speak of. Perhaps someone can write an Answer showing an example of such Javadoc."},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1607626928,"post_id":65239968,"comment_id":115338990,"body_markdown":"@BasilBourque  thanks for your valuable suggestion and edits :) I think I can make some more amendments to this question or add some more explanation later - I believe Javadocs doesn&#39;t addressed my problem correctly. Or something is missing in JUnits. ( Just an intuition..)","body":"@BasilBourque  thanks for your valuable suggestion and edits :) I think I can make some more amendments to this question or add some more explanation later - I believe Javadocs doesn&#39;t addressed my problem correctly. Or something is missing in JUnits. ( Just an intuition..)"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1607669677,"post_id":65239968,"comment_id":115350077,"body_markdown":"You can always create your own annotation. But the question remains: What do you want to do with the description apart from seeing it close to the test code and in generated docs, both aspects being well covered by Javadoc.","body":"You can always create your own annotation. But the question remains: What do you want to do with the description apart from seeing it close to the test code and in generated docs, both aspects being well covered by Javadoc."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607629412,"creation_date":1607629060,"answer_id":65241184,"question_id":65239968,"body_markdown":"You are correct about the `DisplayName` annotation. The intention there is to simply provide a more readable name than the method’s name. This name is meant to be picked up by tooling that presents a user-interface to monitor the running of your tests. That annotation is not appropriate for lengthy description and notes. \r\n\r\n# Javadoc\r\n\r\nThe [Javadoc][1] facility in Java enables you to attach lengthy descriptions and notes to your source code. Java includes tools to extract the content of your Javadoc for presentation as nicely formatted pages written in auto-generated HTML.\r\n\r\nYour JUnit tests are Java source code. So your test source code can carry Javadoc just like your app source code can carry Javadoc. \r\n\r\nYour [IDE][2] will likely have features to assist in writing the Javadoc.\r\n\r\nYou wrote:\r\n\r\n&gt; in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description.\r\n\r\nIndeed, this exactly what Javadoc is for. Being embedded within the source means you cannot lose the content of your description and notes.\r\n\r\nJavadoc on the source code of your tests seems to meet to your needs.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Javadoc\r\n  [2]: https://en.m.wikipedia.org/wiki/Integrated_development_environment","title":"How to write description in Junit?","body":"<p>You are correct about the <code>DisplayName</code> annotation. The intention there is to simply provide a more readable name than the method’s name. This name is meant to be picked up by tooling that presents a user-interface to monitor the running of your tests. That annotation is not appropriate for lengthy description and notes.</p>\n<h1>Javadoc</h1>\n<p>The <a href=\"https://en.m.wikipedia.org/wiki/Javadoc\" rel=\"nofollow noreferrer\">Javadoc</a> facility in Java enables you to attach lengthy descriptions and notes to your source code. Java includes tools to extract the content of your Javadoc for presentation as nicely formatted pages written in auto-generated HTML.</p>\n<p>Your JUnit tests are Java source code. So your test source code can carry Javadoc just like your app source code can carry Javadoc.</p>\n<p>Your <a href=\"https://en.m.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> will likely have features to assist in writing the Javadoc.</p>\n<p>You wrote:</p>\n<blockquote>\n<p>in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description.</p>\n</blockquote>\n<p>Indeed, this exactly what Javadoc is for. Being embedded within the source means you cannot lose the content of your description and notes.</p>\n<p>Javadoc on the source code of your tests seems to meet to your needs.</p>\n"}],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2610,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640803268,"creation_date":1607623697,"question_id":65239968,"body_markdown":"I am using [Test Driven Development][1] approach for coding and testing various modules.\r\n\r\n---\r\n\r\n**What I want to do? :**\r\nI want to write some description to all my test cases so it could easily be readable for anyone.\r\n\r\n**How I am writing description right now?**\r\n\r\n```\r\n@Test\r\n@DisplayName(&quot;Description about my test case.&quot;)\r\npublic void addTwoObjects_onInvalidMapping_shouldReturnAnError(){\r\n  .\r\n  . \r\n  .\r\n}\r\n```\r\n\r\n**How I don&#39;t want to write description?**: I don&#39;t want to use comments to write  description of code.\r\n\r\n---\r\n&lt;br/&gt;**Also, I don&#39;t want to use the `DisplayName()` annotation** which I am currently using in JUNIT5. As this annotation by my understanding is meant for renaming technical function names and not for writing description.\r\n&lt;br/&gt;Reference: \r\n\r\n&gt; Test classes and test methods can declare custom display names via @DisplayName — with spaces, special characters, and even emojis — that will be displayed in test reports and by test runners and IDEs [[2]]\r\n\r\n\r\n----------\r\n\r\n\r\nThis Question is similar to [*JUnit test description*](https://stackoverflow.com/q/13159293/642706), but for two differences: (a) Asking about the current generation of JUnit 5, and (b) Explicitly asking for place to put a lengthy description rather than simply renaming the test method’s name.\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Test-driven_development\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-names","title":"How to write description in Junit?","body":"<p>I am using <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\" rel=\"nofollow noreferrer\">Test Driven Development</a> approach for coding and testing various modules.</p>\n<hr />\n<p><strong>What I want to do? :</strong>\nI want to write some description to all my test cases so it could easily be readable for anyone.</p>\n<p><strong>How I am writing description right now?</strong></p>\n<pre><code>@Test\n@DisplayName(&quot;Description about my test case.&quot;)\npublic void addTwoObjects_onInvalidMapping_shouldReturnAnError(){\n  .\n  . \n  .\n}\n</code></pre>\n<p><strong>How I don't want to write description?</strong>: I don't want to use comments to write  description of code.</p>\n<hr />\n<p><br/><strong>Also, I don't want to use the <code>DisplayName()</code> annotation</strong> which I am currently using in JUNIT5. As this annotation by my understanding is meant for renaming technical function names and not for writing description.\n<br/>Reference:</p>\n<blockquote>\n<p>Test classes and test methods can declare custom display names via @DisplayName — with spaces, special characters, and even emojis — that will be displayed in test reports and by test runners and IDEs [<a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-names\" rel=\"nofollow noreferrer\">2</a>]</p>\n</blockquote>\n<hr />\n<p>This Question is similar to <a href=\"https://stackoverflow.com/q/13159293/642706\"><em>JUnit test description</em></a>, but for two differences: (a) Asking about the current generation of JUnit 5, and (b) Explicitly asking for place to put a lengthy description rather than simply renaming the test method’s name.</p>\n"},{"tags":["java","java-stream","grpc","grpc-java","java-server"],"answers":[{"tags":[],"owner":{"account_id":16201737,"reputation":121,"user_id":11697987,"display_name":"Sergii Tkachenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633551742,"creation_date":1633551742,"answer_id":69472261,"question_id":69461072,"body_markdown":"As far as I see, the problem is that in `onNext()` you&#39;re initiating new `streamingCall` to `SecondProtoServiceGrpc` each time `MiddleService` receives a new message from the `FirstProtoServiceGrpc`. Even though it&#39;s the same stream from the first server, the first message creates its own stream to second server, the second message creates its own stream to second server, etc. That explains why you get into the situation with &quot;sending to much requests to second server&quot;.\r\n\r\nInstead, the middle layer should mirror what first server does (for this example, we&#39;re looking only at the direction first -&gt; middle -&gt; second). When the first server creates a new stream (1) to the middle, the middle creates a new stream (2) to the second. When the middle server gets a message on the stream (1) (from the first server), it sends it to stream (2). When stream (1) is closed, stream (2) is closed too. And so on.\r\n\r\nSame for the opposite direction, but vice-versa.","title":"Redirecting service to bidirectional grpc","body":"<p>As far as I see, the problem is that in <code>onNext()</code> you're initiating new <code>streamingCall</code> to <code>SecondProtoServiceGrpc</code> each time <code>MiddleService</code> receives a new message from the <code>FirstProtoServiceGrpc</code>. Even though it's the same stream from the first server, the first message creates its own stream to second server, the second message creates its own stream to second server, etc. That explains why you get into the situation with &quot;sending to much requests to second server&quot;.</p>\n<p>Instead, the middle layer should mirror what first server does (for this example, we're looking only at the direction first -&gt; middle -&gt; second). When the first server creates a new stream (1) to the middle, the middle creates a new stream (2) to the second. When the middle server gets a message on the stream (1) (from the first server), it sends it to stream (2). When stream (1) is closed, stream (2) is closed too. And so on.</p>\n<p>Same for the opposite direction, but vice-versa.</p>\n"},{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640803045,"creation_date":1634209157,"answer_id":69569516,"question_id":69461072,"body_markdown":"There are several problems here:\r\n- as pointed by @SergiiTkachenko, you create a new RPC to the second server per each message from the first. To solve this, Move the call to the second server 3 lines up to the beginning of the outer method.\r\n- a call to `requestObserver.onCompleted()` should be moved to `onCompleted()` of `StreamObserver&lt;First.RequestToFirstServer&gt;` few lines below (next to `logger.info(&quot;Everything okay&quot;);`).\r\n- you never call `responseObserver.onCompleted()`. You should do so in  `onCompleted()` of `StreamObserver&lt;Second.ResponseFromSecondServer&gt;` (next to `logger.info(&quot;sucess&quot;);`).\r\n- you should signal errors received from one server to the other (relation between `onError(...)` methods should be analogical to `onCompleted()`)\r\n- you should handle cancellations by the first server using [setOnCancelHandler(...)](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ServerCallStreamObserver.html#setOnCancelHandler-java.lang.Runnable-) and propagate them to the second.\r\n\r\nSo generally speaking (and as [@SergiiTkachenko also pointed](https://stackoverflow.com/a/69472261/1220560)), receiving a given callback (`onNext`, `onError`, `onCompleted`, &quot;`onCancel`&quot;) from one of the servers should trigger issuing the corresponding call to the other server (after &quot;translating&quot; the argument where needed).\r\n\r\nFinally, you should respect both servers&#39; readiness using methods from [CallStreamObserver](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html): [disableAutoInboundFlowControl()](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#disableAutoInboundFlowControl--), [request(1)](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#request-int-), [isReady()](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#isReady--) and [setOnReadyHandler(...)](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#setOnReadyHandler-java.lang.Runnable-). You can always cast your outbound `StreamObserver`s to `CallStreamObserver`s. More specifically, you should cast `responseObserver` to [ServerCallStreamObserver](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ServerCallStreamObserver.html) and `requestObserver` to [ClientCallStreamObserver](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ClientCallStreamObserver.html).  \r\nThis should be implemented criss-cross:\r\n- You should `request(1)` message from a given server at the end of processing a message from it (in `onNext()`) if the other server `isReady`.\r\n- receiving &quot;`onReady`&quot; callback from one server should trigger `request(...)`-ing 1 message from the other server.\r\n\r\nAs far as I remember, after returning the observer from the outer method you should receive initial &quot;`onReady`&quot; callbacks from the both servers, which will put everything in motion. However I&#39;m not 100% sure about the callback from the second server and cannot verify it at the moment: in case you don&#39;t receive the initial callback from it, simply request 1 initial message from the first server before returning the observer.","title":"Redirecting service to bidirectional grpc","body":"<p>There are several problems here:</p>\n<ul>\n<li>as pointed by @SergiiTkachenko, you create a new RPC to the second server per each message from the first. To solve this, Move the call to the second server 3 lines up to the beginning of the outer method.</li>\n<li>a call to <code>requestObserver.onCompleted()</code> should be moved to <code>onCompleted()</code> of <code>StreamObserver&lt;First.RequestToFirstServer&gt;</code> few lines below (next to <code>logger.info(&quot;Everything okay&quot;);</code>).</li>\n<li>you never call <code>responseObserver.onCompleted()</code>. You should do so in  <code>onCompleted()</code> of <code>StreamObserver&lt;Second.ResponseFromSecondServer&gt;</code> (next to <code>logger.info(&quot;sucess&quot;);</code>).</li>\n<li>you should signal errors received from one server to the other (relation between <code>onError(...)</code> methods should be analogical to <code>onCompleted()</code>)</li>\n<li>you should handle cancellations by the first server using <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ServerCallStreamObserver.html#setOnCancelHandler-java.lang.Runnable-\" rel=\"nofollow noreferrer\">setOnCancelHandler(...)</a> and propagate them to the second.</li>\n</ul>\n<p>So generally speaking (and as <a href=\"https://stackoverflow.com/a/69472261/1220560\">@SergiiTkachenko also pointed</a>), receiving a given callback (<code>onNext</code>, <code>onError</code>, <code>onCompleted</code>, &quot;<code>onCancel</code>&quot;) from one of the servers should trigger issuing the corresponding call to the other server (after &quot;translating&quot; the argument where needed).</p>\n<p>Finally, you should respect both servers' readiness using methods from <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html\" rel=\"nofollow noreferrer\">CallStreamObserver</a>: <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#disableAutoInboundFlowControl--\" rel=\"nofollow noreferrer\">disableAutoInboundFlowControl()</a>, <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#request-int-\" rel=\"nofollow noreferrer\">request(1)</a>, <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#isReady--\" rel=\"nofollow noreferrer\">isReady()</a> and <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#setOnReadyHandler-java.lang.Runnable-\" rel=\"nofollow noreferrer\">setOnReadyHandler(...)</a>. You can always cast your outbound <code>StreamObserver</code>s to <code>CallStreamObserver</code>s. More specifically, you should cast <code>responseObserver</code> to <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ServerCallStreamObserver.html\" rel=\"nofollow noreferrer\">ServerCallStreamObserver</a> and <code>requestObserver</code> to <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ClientCallStreamObserver.html\" rel=\"nofollow noreferrer\">ClientCallStreamObserver</a>.<br />\nThis should be implemented criss-cross:</p>\n<ul>\n<li>You should <code>request(1)</code> message from a given server at the end of processing a message from it (in <code>onNext()</code>) if the other server <code>isReady</code>.</li>\n<li>receiving &quot;<code>onReady</code>&quot; callback from one server should trigger <code>request(...)</code>-ing 1 message from the other server.</li>\n</ul>\n<p>As far as I remember, after returning the observer from the outer method you should receive initial &quot;<code>onReady</code>&quot; callbacks from the both servers, which will put everything in motion. However I'm not 100% sure about the callback from the second server and cannot verify it at the moment: in case you don't receive the initial callback from it, simply request 1 initial message from the first server before returning the observer.</p>\n"}],"owner":{"account_id":22955277,"reputation":43,"user_id":17085923,"display_name":"Нуркасым Абилов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69569516,"answer_count":2,"score":2,"last_activity_date":1640803045,"creation_date":1633503042,"question_id":69461072,"body_markdown":"I&#39;m currently working on a grpc server that will receive streaming grpc calls from the first server and redirect these calls to the second server, and redirect responses from the second server as streams to the first one.\r\n\r\nI have 2 proto files first proto\r\n\r\nFirst file:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    package first.proto.pack;\r\n    \r\n    service FirstProtoService {\r\n      rpc StreamingCall(stream RequestToFirstServer) returns (stream ResponseForFirstServer){}\r\n    }\r\n    \r\n    message RequestToFirstServer {\r\n        oneof firstStreamingRequest {\r\n            int32 x = 1;\r\n            int32 y = 2;\r\n        }\r\n    }\r\n    \r\n    message ResponseForFirstServer {\r\n      string someprocessedinformation = 1;\r\n    }\r\n\r\nSecond file:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    package second.proto.pack;\r\n    \r\n    service SecondProtoService {\r\n      rpc StreamingCall(stream RequestToSecondServer) returns (stream ResponseFromSecondServer){}\r\n    }\r\n    \r\n    message RequestToSecondServer {\r\n      oneof secondStreamingRequest {\r\n        int32 processedX = 1;\r\n        int32 procesdedY = 2;\r\n      }\r\n    }\r\n    \r\n    message ResponseFromSecondServer {\r\n      string computedInformation = 1;\r\n    }\r\n\r\nFirst server knows about first proto file but doesn&#39;t know about second.\r\n\r\nSecond server knows about second proto file but doesn&#39;t know about first.\r\n\r\nMiddle server knows about first and second proto.\r\n\r\nNeed to write a server that will transmit requests from one server from one server to another\r\n\r\nI started writing it on Java. But faced the problem of sending to much requests to second server\r\n\r\nThat how my service middle implementation looks on Java:\r\n\r\n    package middle.server.pack;\r\n    \r\n    \r\n    import first.proto.pack.First;\r\n    import first.proto.pack.FirstProtoServiceGrpc;\r\n    import io.grpc.ManagedChannel;\r\n    import io.grpc.ManagedChannelBuilder;\r\n    import io.grpc.stub.StreamObserver;\r\n    import second.proto.pack.Second;\r\n    import second.proto.pack.SecondProtoServiceGrpc;\r\n    \r\n    import java.util.logging.LogManager;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class MiddleService extends FirstProtoServiceGrpc.FirstProtoServiceImplBase {\r\n        private final ManagedChannel channel = ManagedChannelBuilder.forTarget(&quot;localhost:8080&quot;).build();\r\n        private final Logger logger = LogManager.getLogManager().getLogger(MiddleService.class.getName());\r\n    \r\n        @Override\r\n        public StreamObserver&lt;First.RequestToFirstServer&gt; streamingCall(StreamObserver&lt;First.ResponseForFirstServer&gt; responseObserver) {\r\n            return new StreamObserver&lt;First.RequestToFirstServer&gt;() {\r\n                @Override\r\n                public void onNext(First.RequestToFirstServer value) {\r\n                    SecondProtoServiceGrpc.SecondProtoServiceStub stub = SecondProtoServiceGrpc.newStub(channel);\r\n                    StreamObserver&lt;Second.RequestToSecondServer&gt; requestObserver = stub.streamingCall(\r\n                            new StreamObserver&lt;Second.ResponseFromSecondServer&gt;() {\r\n                                @Override\r\n                                public void onNext(Second.ResponseFromSecondServer value) {\r\n                                    doProcessOnResponse(value);\r\n                                    First.ResponseForFirstServer responseForFirstServer =\r\n                                            mapToFirstResponse(value);\r\n                                    responseObserver.onNext(responseForFirstServer);\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onError(Throwable t) {\r\n                                    logger.info(t.getMessage());\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onCompleted() {\r\n                                    logger.info(&quot;sucess&quot;);\r\n                                }\r\n                            }\r\n                    );\r\n                    Second.RequestToSecondServer requestToSecondServer = mapToSecondRequest(value);\r\n                    requestObserver.onNext(requestToSecondServer);\r\n                    requestObserver.onCompleted();\r\n                }\r\n    \r\n                @Override\r\n                public void onError(Throwable t) {\r\n                    logger.info(t.getMessage());\r\n                }\r\n    \r\n                @Override\r\n                public void onCompleted() {\r\n                    logger.info(&quot;Everything okay&quot;);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nAfter a request from the first client on the side of the middle server, I get the following errors:\r\n\r\n    CANCELLED: Failed to read message.\r\n    CANCELLED: io.grpc.Context was cancelled without error\r\n\r\n\r\nI know that I am doing it wrong. So the question is how to make it right or if I can&#39;t make it on java could I make it in any other language?","title":"Redirecting service to bidirectional grpc","body":"<p>I'm currently working on a grpc server that will receive streaming grpc calls from the first server and redirect these calls to the second server, and redirect responses from the second server as streams to the first one.</p>\n<p>I have 2 proto files first proto</p>\n<p>First file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage first.proto.pack;\n\nservice FirstProtoService {\n  rpc StreamingCall(stream RequestToFirstServer) returns (stream ResponseForFirstServer){}\n}\n\nmessage RequestToFirstServer {\n    oneof firstStreamingRequest {\n        int32 x = 1;\n        int32 y = 2;\n    }\n}\n\nmessage ResponseForFirstServer {\n  string someprocessedinformation = 1;\n}\n</code></pre>\n<p>Second file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage second.proto.pack;\n\nservice SecondProtoService {\n  rpc StreamingCall(stream RequestToSecondServer) returns (stream ResponseFromSecondServer){}\n}\n\nmessage RequestToSecondServer {\n  oneof secondStreamingRequest {\n    int32 processedX = 1;\n    int32 procesdedY = 2;\n  }\n}\n\nmessage ResponseFromSecondServer {\n  string computedInformation = 1;\n}\n</code></pre>\n<p>First server knows about first proto file but doesn't know about second.</p>\n<p>Second server knows about second proto file but doesn't know about first.</p>\n<p>Middle server knows about first and second proto.</p>\n<p>Need to write a server that will transmit requests from one server from one server to another</p>\n<p>I started writing it on Java. But faced the problem of sending to much requests to second server</p>\n<p>That how my service middle implementation looks on Java:</p>\n<pre><code>package middle.server.pack;\n\n\nimport first.proto.pack.First;\nimport first.proto.pack.FirstProtoServiceGrpc;\nimport io.grpc.ManagedChannel;\nimport io.grpc.ManagedChannelBuilder;\nimport io.grpc.stub.StreamObserver;\nimport second.proto.pack.Second;\nimport second.proto.pack.SecondProtoServiceGrpc;\n\nimport java.util.logging.LogManager;\nimport java.util.logging.Logger;\n\npublic class MiddleService extends FirstProtoServiceGrpc.FirstProtoServiceImplBase {\n    private final ManagedChannel channel = ManagedChannelBuilder.forTarget(&quot;localhost:8080&quot;).build();\n    private final Logger logger = LogManager.getLogManager().getLogger(MiddleService.class.getName());\n\n    @Override\n    public StreamObserver&lt;First.RequestToFirstServer&gt; streamingCall(StreamObserver&lt;First.ResponseForFirstServer&gt; responseObserver) {\n        return new StreamObserver&lt;First.RequestToFirstServer&gt;() {\n            @Override\n            public void onNext(First.RequestToFirstServer value) {\n                SecondProtoServiceGrpc.SecondProtoServiceStub stub = SecondProtoServiceGrpc.newStub(channel);\n                StreamObserver&lt;Second.RequestToSecondServer&gt; requestObserver = stub.streamingCall(\n                        new StreamObserver&lt;Second.ResponseFromSecondServer&gt;() {\n                            @Override\n                            public void onNext(Second.ResponseFromSecondServer value) {\n                                doProcessOnResponse(value);\n                                First.ResponseForFirstServer responseForFirstServer =\n                                        mapToFirstResponse(value);\n                                responseObserver.onNext(responseForFirstServer);\n                            }\n\n                            @Override\n                            public void onError(Throwable t) {\n                                logger.info(t.getMessage());\n                            }\n\n                            @Override\n                            public void onCompleted() {\n                                logger.info(&quot;sucess&quot;);\n                            }\n                        }\n                );\n                Second.RequestToSecondServer requestToSecondServer = mapToSecondRequest(value);\n                requestObserver.onNext(requestToSecondServer);\n                requestObserver.onCompleted();\n            }\n\n            @Override\n            public void onError(Throwable t) {\n                logger.info(t.getMessage());\n            }\n\n            @Override\n            public void onCompleted() {\n                logger.info(&quot;Everything okay&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>After a request from the first client on the side of the middle server, I get the following errors:</p>\n<pre><code>CANCELLED: Failed to read message.\nCANCELLED: io.grpc.Context was cancelled without error\n</code></pre>\n<p>I know that I am doing it wrong. So the question is how to make it right or if I can't make it on java could I make it in any other language?</p>\n"},{"tags":["java","junit","mockito","spring-test"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1640795419,"post_id":70522183,"comment_id":124661594,"body_markdown":"You mock the call `Mockito.when(utils.get(&quot;p&quot;)).thenReturn(1);` but your example call shows `utils.get(&quot;param&quot;)` - are you sure that you are mocking the correct method call?","body":"You mock the call <code>Mockito.when(utils.get(&quot;p&quot;)).thenReturn(1);</code> but your example call shows <code>utils.get(&quot;param&quot;)</code> - are you sure that you are mocking the correct method call?"},{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1640795462,"post_id":70522183,"comment_id":124661605,"body_markdown":"How do you initialize Utils bean in the service class? It won&#39;t work for tests and bootstrap","body":"How do you initialize Utils bean in the service class? It won&#39;t work for tests and bootstrap"},{"owner":{"account_id":17263392,"reputation":73,"user_id":12500745,"display_name":"pavloN"},"score":0,"creation_date":1640796225,"post_id":70522183,"comment_id":124661855,"body_markdown":"Updated the example.\n@DmitriiBykov through constructor","body":"Updated the example. @DmitriiBykov through constructor"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640802627,"creation_date":1640796712,"answer_id":70522491,"question_id":70522183,"body_markdown":"You don&#39;t actually need to Spy `MyService`. You can simplify your test and get it to work:\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class Test {\r\n\r\n   @Mock\r\n   Utils utils;\r\n\r\n   @InjectMocks\r\n   MyService service;\r\n\r\n    @Test\r\n    public void test(){\r\n        // Arrange\r\n        Mockito.doReturn(1).when(utils.get(&quot;p&quot;));\r\n        Mockito.when(custom.isValid(1)).thenReturn(true);\r\n\r\n        // Act\r\n        service.doIt(&quot;p&quot;);\r\n\r\n        // Assert\r\n        Mockito.verify(utils, Mockito.times(1)).get(&quot;p&quot;);\r\n        // You should also confirm that whatever is done in `if(param==1)` is actually done\r\n    }\r\n}\r\n```","title":"Use result of one mock call in another","body":"<p>You don't actually need to Spy <code>MyService</code>. You can simplify your test and get it to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class Test {\n\n   @Mock\n   Utils utils;\n\n   @InjectMocks\n   MyService service;\n\n    @Test\n    public void test(){\n        // Arrange\n        Mockito.doReturn(1).when(utils.get(&quot;p&quot;));\n        Mockito.when(custom.isValid(1)).thenReturn(true);\n\n        // Act\n        service.doIt(&quot;p&quot;);\n\n        // Assert\n        Mockito.verify(utils, Mockito.times(1)).get(&quot;p&quot;);\n        // You should also confirm that whatever is done in `if(param==1)` is actually done\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640796825,"creation_date":1640796825,"answer_id":70522515,"question_id":70522183,"body_markdown":"You&#39;re mocking with wrong parameter, change your test like that:\r\n\r\n    public class Test {\r\n    \r\n       @Mock\r\n       Utils utils;\r\n    \r\n       @InjectMocks\r\n       MyService service;\r\n    \r\n    \r\n       @BeforeEach\r\n       void setUp(){\r\n         initMocks(this);\r\n       }\r\n    \r\n       @Test\r\n       public void test(){  \r\n           Mockito.when(utils.get(any())).thenReturn(1);\r\n    \r\n           service.doIt(&quot;p&quot;);\r\n    \r\n           Mockito.verify(utils).get(any());\r\n       }\r\n    }\r\n\r\nInstead `any()` you can put any another variable but it should be the same variable with variable which you call the service","title":"Use result of one mock call in another","body":"<p>You're mocking with wrong parameter, change your test like that:</p>\n<pre><code>public class Test {\n\n   @Mock\n   Utils utils;\n\n   @InjectMocks\n   MyService service;\n\n\n   @BeforeEach\n   void setUp(){\n     initMocks(this);\n   }\n\n   @Test\n   public void test(){  \n       Mockito.when(utils.get(any())).thenReturn(1);\n\n       service.doIt(&quot;p&quot;);\n\n       Mockito.verify(utils).get(any());\n   }\n}\n</code></pre>\n<p>Instead <code>any()</code> you can put any another variable but it should be the same variable with variable which you call the service</p>\n"}],"owner":{"account_id":17263392,"reputation":73,"user_id":12500745,"display_name":"pavloN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70522491,"answer_count":2,"score":-1,"last_activity_date":1640802627,"creation_date":1640795218,"question_id":70522183,"body_markdown":"How can I use/inject the result of one mock into another?\r\n\r\nI think I did it in the wrong way\r\n\r\nThe int param is always null\r\n\r\nI use spy because the method I test is void.\r\nCan I do it using mockito?\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class Test {\r\n\r\n    @Mock\r\n    Utils utils;\r\n\r\n    @Mock\r\n    Custom custom;\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    MyService service;\r\n\r\n    @Test\r\n    public void test(){\r\n        Mockito.when(utils.get(&quot;p&quot;)).thenReturn(1); //use result of it in the next mock call\r\n\r\n        Mockito.when(custom.isValid(1)).thenReturn(true); //custom use 1 here\r\n        Mockito.doCallRealMethod().when(service).doIt(&quot;p&quot;);\r\n\r\n        service.doIt(&quot;p&quot;);\r\n\r\n        Mockito.verify(service,Mockito.times(1)).doIt(&quot;p&quot;);\r\n    }\r\n}\r\n```\r\n```java\r\n@Service\r\npublic class MyService {\r\n    Utils utils;\r\n    Custom custom;\r\n\r\n    public MyService(Utils utils) {\r\n        this.utils = utils;\r\n    }\r\n\r\n    public void doIt(String value){\r\n        int param = utils.get(value);\r\n\r\n        if(custom.isValid(param)){\r\n            //do it\r\n        }\r\n    }\r\n}\r\n```","title":"Use result of one mock call in another","body":"<p>How can I use/inject the result of one mock into another?</p>\n<p>I think I did it in the wrong way</p>\n<p>The int param is always null</p>\n<p>I use spy because the method I test is void.\nCan I do it using mockito?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class Test {\n\n    @Mock\n    Utils utils;\n\n    @Mock\n    Custom custom;\n\n    @Spy\n    @InjectMocks\n    MyService service;\n\n    @Test\n    public void test(){\n        Mockito.when(utils.get(&quot;p&quot;)).thenReturn(1); //use result of it in the next mock call\n\n        Mockito.when(custom.isValid(1)).thenReturn(true); //custom use 1 here\n        Mockito.doCallRealMethod().when(service).doIt(&quot;p&quot;);\n\n        service.doIt(&quot;p&quot;);\n\n        Mockito.verify(service,Mockito.times(1)).doIt(&quot;p&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n    Utils utils;\n    Custom custom;\n\n    public MyService(Utils utils) {\n        this.utils = utils;\n    }\n\n    public void doIt(String value){\n        int param = utils.get(value);\n\n        if(custom.isValid(param)){\n            //do it\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","guice"],"comments":[{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1639572594,"post_id":70363925,"comment_id":124382041,"body_markdown":"You could have `setStartTime` in `TimeUtils` interface and have it no-op for `TimeUtilsImpl`, but it is hard to decide from the info you gave if it is the right choice.","body":"You could have <code>setStartTime</code> in <code>TimeUtils</code> interface and have it no-op for <code>TimeUtilsImpl</code>, but it is hard to decide from the info you gave if it is the right choice."},{"owner":{"account_id":909930,"reputation":3924,"user_id":944000,"accept_rate":100,"display_name":"rdo"},"score":0,"creation_date":1639572679,"post_id":70363925,"comment_id":124382071,"body_markdown":"yeah, I thought about this option. But `setStartTime` method doesn&#39;t make sense for `TimeUtilsImpl `","body":"yeah, I thought about this option. But <code>setStartTime</code> method doesn&#39;t make sense for <code>TimeUtilsImpl </code>"}],"answers":[{"tags":[],"owner":{"account_id":903708,"reputation":4817,"user_id":939133,"accept_rate":70,"display_name":"Jakoss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639572605,"creation_date":1639572605,"answer_id":70363993,"question_id":70363925,"body_markdown":"Maybe add `setStartTime` to `TimeUtils` interface and do not implement it in `TimeUtilsImpl`? It all depends on the context. For unit testing for example I think your solution would be fine. But for other, &quot;normal&quot; business logic is seems fishy. It&#39;s almost like the interface does not really abstract the concept properly","title":"What is a right design for a such injection?","body":"<p>Maybe add <code>setStartTime</code> to <code>TimeUtils</code> interface and do not implement it in <code>TimeUtilsImpl</code>? It all depends on the context. For unit testing for example I think your solution would be fine. But for other, &quot;normal&quot; business logic is seems fishy. It's almost like the interface does not really abstract the concept properly</p>\n"},{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640802451,"creation_date":1639747246,"answer_id":70393837,"question_id":70363925,"body_markdown":"I don&#39;t know Kotlin, but pure OOP speaking, the best would be to define a `TimeUtilsWrapper` interface that extends `TimeUtils` and adds `setStartTime(...)` method. Then you would have 2 classes implementing this interface:\r\n- 1 that embeds a `TimeUtils` object with empty `setStartTime()` that delegates all other methods to the embedded object,\r\n- second that embeds a `TimeUtilsSimulation` and delegates all methods to it, including `setStartTime()`.\r\n\r\nThen `SomeClass` method should have a property of type `TimeUtilsWrapper` instead of `TimeUtils` and `onRequest(...)` should just always call `TimeUtilsWrapper`&#39;s `setStartTime(...)`.","title":"What is a right design for a such injection?","body":"<p>I don't know Kotlin, but pure OOP speaking, the best would be to define a <code>TimeUtilsWrapper</code> interface that extends <code>TimeUtils</code> and adds <code>setStartTime(...)</code> method. Then you would have 2 classes implementing this interface:</p>\n<ul>\n<li>1 that embeds a <code>TimeUtils</code> object with empty <code>setStartTime()</code> that delegates all other methods to the embedded object,</li>\n<li>second that embeds a <code>TimeUtilsSimulation</code> and delegates all methods to it, including <code>setStartTime()</code>.</li>\n</ul>\n<p>Then <code>SomeClass</code> method should have a property of type <code>TimeUtilsWrapper</code> instead of <code>TimeUtils</code> and <code>onRequest(...)</code> should just always call <code>TimeUtilsWrapper</code>'s <code>setStartTime(...)</code>.</p>\n"}],"owner":{"account_id":909930,"reputation":3924,"user_id":944000,"accept_rate":100,"display_name":"rdo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70393837,"answer_count":2,"score":1,"last_activity_date":1640802451,"creation_date":1639572310,"question_id":70363925,"body_markdown":"I have two classes of a one interface:\r\n```\r\ninterface TimeUtils { ... }\r\nclass TimeUtilsImpl : TimeUtils { ... }\r\nclass TimeUtilsSimulation : TimeUtils { ... }\r\n```\r\n`TimeUtils` binding is in the module `A`:\r\n```\r\nbind(TimeUtils::class.java).to(TimeUtilsImpl::class.java).`in`(Singleton)\r\n```\r\n`TimeUtilsSimulation` binding is in the module `B`:\r\n\r\n```\r\nbind(TimeUtils::class.java).to(TimeUtilsSimulation::class.java).`in`(Singleton)\r\n```\r\nand these modules `A` and `B` are used in different binaries.\r\n\r\n\r\nI injected `TimeUtils` in a common code like:\r\n```\r\nclass SomeClass @Inject constructor(\r\n  private val timeUtils: TimeUtils\r\n)\r\n```\r\n\r\nAnd now I have a problem that when I have a request to start simulation I need to set an initial time in the `TimeUtilsSimulation` object. I can do it like this:\r\n```\r\nclass RequestHandler @Inject constructor(\r\n  private val someObject: SomeClass\r\n)\r\nonRequest(simulationStartTime: LocalDateTime) {\r\n   if (timeUtils instanceof TimeUtilsSimulation) {\r\n       // Set start time in a singleton timeUtils object\r\n       (timeUtils as TimeUtilsSimulation).setStartTime(simulationStartTime)\r\n   }\r\n   someObject.run()\r\n}\r\n```\r\nbut it looks ugly.\r\nCan you suggest something to solve this bad design?\r\n","title":"What is a right design for a such injection?","body":"<p>I have two classes of a one interface:</p>\n<pre><code>interface TimeUtils { ... }\nclass TimeUtilsImpl : TimeUtils { ... }\nclass TimeUtilsSimulation : TimeUtils { ... }\n</code></pre>\n<p><code>TimeUtils</code> binding is in the module <code>A</code>:</p>\n<pre><code>bind(TimeUtils::class.java).to(TimeUtilsImpl::class.java).`in`(Singleton)\n</code></pre>\n<p><code>TimeUtilsSimulation</code> binding is in the module <code>B</code>:</p>\n<pre><code>bind(TimeUtils::class.java).to(TimeUtilsSimulation::class.java).`in`(Singleton)\n</code></pre>\n<p>and these modules <code>A</code> and <code>B</code> are used in different binaries.</p>\n<p>I injected <code>TimeUtils</code> in a common code like:</p>\n<pre><code>class SomeClass @Inject constructor(\n  private val timeUtils: TimeUtils\n)\n</code></pre>\n<p>And now I have a problem that when I have a request to start simulation I need to set an initial time in the <code>TimeUtilsSimulation</code> object. I can do it like this:</p>\n<pre><code>class RequestHandler @Inject constructor(\n  private val someObject: SomeClass\n)\nonRequest(simulationStartTime: LocalDateTime) {\n   if (timeUtils instanceof TimeUtilsSimulation) {\n       // Set start time in a singleton timeUtils object\n       (timeUtils as TimeUtilsSimulation).setStartTime(simulationStartTime)\n   }\n   someObject.run()\n}\n</code></pre>\n<p>but it looks ugly.\nCan you suggest something to solve this bad design?</p>\n"},{"tags":["java","android","android-bluetooth","samsung-mobile","joystick"],"owner":{"account_id":6729389,"reputation":21,"user_id":5220138,"display_name":"nreath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640802260,"creation_date":1640802260,"question_id":70523434,"body_markdown":"In my app I currently have virtual joysticks using the library suggested in this (&lt;https://stackoverflow.com/questions/39964718/virtual-joystick-in-android-sdk&gt;) post being used to steer something like an RC car. \r\n\r\nThey work exactly as intended *most* of the time (say 95%), but occasionally I&#39;ll run into issues where the joysticks will snap back to the center despite the user not letting go of the screen. If it happened occasionally it wouldn&#39;t be the end of the world but when it first appears it then begins to happen constantly, making them all but unusable. \r\n\r\n**Also, it seems like this problem only occurs when both joysticks are being used at the same time**\r\n\r\nI should note that the joysticks snapping back to the center is intended behavior when the user lets go of the stick, but that does not seem to be what&#39;s happening.\r\n\r\nThe app is not very complicated overall, there is a BLE interface to communicate with a control board and a single Activity to host a few Fragments. The BLE interface is fairly active, with communications of 384 data bytes + BLE overhead every ~120 mS, that data rate hasn&#39;t been a problem in any other Fragment but I also think this is the only Fragment where a problem would be noticeable.\r\n\r\nSo far I&#39;ve tried:\r\n- Enabling &quot;show taps&quot; and &quot;pointer location&quot; in developer settings to ensure that the user isn&#39;t accidentally removing their fingers from the display (they&#39;re not)\r\n- Enabling GPU watch (see screenshot) to ensure that GPU/CPU load isn&#39;t significantly higher when the issue occurs (they&#39;re not)\r\n- Reducing updates of LiveData objects in the Fragment&#39;s ViewModel to lower processing time\r\n- Reducing Bluetooth data rate to 240 mS per transfer instead of 120 mS\r\n- Verify that the Fragment isn&#39;t being reloaded/reinitialized by putting Toast pop ups in all initialization, onCreate(), onResume(), etc.. routines\r\n\r\nFrankly I&#39;m at a loss here as I feel like I&#39;ve examined every possible cause of this, any help would be greatly appreciated\r\n\r\nDevice/software version details:\r\n- Device is a Samsung Galaxy Tab A, running Samsung&#39;s latest Android version (SDK version 29)\r\n- App is running on Samsung Knox Configure platform\r\n- Running version 1.10.1 of virtual joystick library (the latest as far as I can tell)\r\n\r\nSee below screenshot for reference of what the fragment looks like.\r\n\r\n[![screenshot of fragment][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qq3FT.jpg","title":"Android virtual joysticks not behaving as expected","body":"<p>In my app I currently have virtual joysticks using the library suggested in this (<a href=\"https://stackoverflow.com/questions/39964718/virtual-joystick-in-android-sdk\">Virtual Joystick in Android SDK</a>) post being used to steer something like an RC car.</p>\n<p>They work exactly as intended <em>most</em> of the time (say 95%), but occasionally I'll run into issues where the joysticks will snap back to the center despite the user not letting go of the screen. If it happened occasionally it wouldn't be the end of the world but when it first appears it then begins to happen constantly, making them all but unusable.</p>\n<p><strong>Also, it seems like this problem only occurs when both joysticks are being used at the same time</strong></p>\n<p>I should note that the joysticks snapping back to the center is intended behavior when the user lets go of the stick, but that does not seem to be what's happening.</p>\n<p>The app is not very complicated overall, there is a BLE interface to communicate with a control board and a single Activity to host a few Fragments. The BLE interface is fairly active, with communications of 384 data bytes + BLE overhead every ~120 mS, that data rate hasn't been a problem in any other Fragment but I also think this is the only Fragment where a problem would be noticeable.</p>\n<p>So far I've tried:</p>\n<ul>\n<li>Enabling &quot;show taps&quot; and &quot;pointer location&quot; in developer settings to ensure that the user isn't accidentally removing their fingers from the display (they're not)</li>\n<li>Enabling GPU watch (see screenshot) to ensure that GPU/CPU load isn't significantly higher when the issue occurs (they're not)</li>\n<li>Reducing updates of LiveData objects in the Fragment's ViewModel to lower processing time</li>\n<li>Reducing Bluetooth data rate to 240 mS per transfer instead of 120 mS</li>\n<li>Verify that the Fragment isn't being reloaded/reinitialized by putting Toast pop ups in all initialization, onCreate(), onResume(), etc.. routines</li>\n</ul>\n<p>Frankly I'm at a loss here as I feel like I've examined every possible cause of this, any help would be greatly appreciated</p>\n<p>Device/software version details:</p>\n<ul>\n<li>Device is a Samsung Galaxy Tab A, running Samsung's latest Android version (SDK version 29)</li>\n<li>App is running on Samsung Knox Configure platform</li>\n<li>Running version 1.10.1 of virtual joystick library (the latest as far as I can tell)</li>\n</ul>\n<p>See below screenshot for reference of what the fragment looks like.</p>\n<p><a href=\"https://i.stack.imgur.com/Qq3FT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qq3FT.jpg\" alt=\"screenshot of fragment\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640798639,"post_id":70522389,"comment_id":124662714,"body_markdown":"What database are you using? What *exactly* is the data type of your column?","body":"What database are you using? What <i>exactly</i> is the data type of your column?"},{"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"score":0,"creation_date":1640799373,"post_id":70522389,"comment_id":124662968,"body_markdown":"In this example, H2 Database is used. By default, all of the column types are TIMESTAMP. When explicitly set, the type is TIMESTAMP WITH TIME ZONE.","body":"In this example, H2 Database is used. By default, all of the column types are TIMESTAMP. When explicitly set, the type is TIMESTAMP WITH TIME ZONE."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640802092,"creation_date":1640799760,"answer_id":70523028,"question_id":70522389,"body_markdown":"I cannot speak to JPA, but I can explain some of the JDBC issues. \r\n\r\n&gt; I want to store `Instant` type\r\n\r\nThe JDBC specification does not map `Instant`. \r\n\r\n - For a column of a type akin to the SQL standard type `TIMESTAMP WITHOUT TIME ZONE`, use the Java class `LocalDateTime`.\r\n - For a column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`, use the Java class [`OffsetDateTime`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html).\r\n\r\nIn JDBC, use `setObject` &amp; `getObject` to exchange data-time values as *java.time* values in JDBC 4.2 and later. \r\n\r\n    myPreparedStatement.setObject( … , myOffsetDateTime ) ;\r\n\r\nSome databases such as Postgres automatically adjust the incoming data to UTC, an offset of zero hours-minutes-seconds. For portable code across databases, you may want to make that adjustment in Java code. \r\n\r\n    OffsetDateTime myOdt = otherOdt.withOffsetSameInstant( ZoneOffset.UTC ) ;\r\n\r\nCapture the current moment as a `OffsetDateTime`.\r\n\r\n    OffsetDateTime myOdt = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n\r\nIf you have an `Instant` in hand, convert to `OffsetDateTime` for storage in a database via JDBC. \r\n\r\n    OffsetDateTime myOdt = myInstant.atOffset( ZoneOffset.UTC ) ;\r\n\r\nThere is no need for you to store the zoned or unzoned values in your database. You can easily adjust to time zones after database retrieval, in your Java code, as you would do for other localization needs. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n    ZonedDateTime zdt = myOdt.atZoneSameInstant( z ) ;\r\n\r\nI see no benefit generally to using `LocalDateTime` when dealing with moments, specific points on the timeline. That class purposely lacks the context of a time zone or offset. Such objects contain a date with time of day only, so are inherently ambiguous. You can convert from `OffsetDateTime` to `LocalDateTime` but would be stripping away vital information while gaining nothing in return. \r\n\r\n&gt; they are all stored as if they were LocalDateTime in application JVM timezone.\r\n\r\nThat is a contradiction in terms. A `LocalDateTime` has no time zone or offset. \r\n\r\n&gt; The default type of the column is set to TIMESTAMP for all of them.\r\n\r\nThere is no default for the data type of a column. You specify the data type when creating the column. The data type does not change while inserting rows. The data type can only change if you issue an `ALTER TABLE` command. \r\n\r\nAlso, we have no idea what type you mean with the word `TIMESTAMP` since you neglected to mention your specific database. As mentioned above, the SQL standard uses four words for each of the two very different timestamp types. \r\n\r\n&gt; Mapping Instant and ZonedDateTime to TIMESTAMP but convert them to UTC when serializing, \r\n\r\nNo, JDBC does not require any such mapping of `Instant` nor `ZonedDateTime`. \r\n\r\nYou need to do such conversions in your Java code, outside of the JDBC calls. \r\n\r\nThe exception is that your particular JDBC driver may choose to go beyond what is required by the JDBC spec. A driver is free to handle the `Instant` and `ZonedDateTime` types if it’s creators saw fit. But beware that any such code you wrote may not be portable across other JDBC drivers. \r\n\r\n&gt;and back to JVM timezone when deserializing.\r\n\r\nI believe you’ll find this work much easier if, as a programmer/DBA/SysAdmin, you do most of your thinking, logging, debugging, data storage, and data exchange, in UTC (offset of zero). \r\n\r\nConverting to `Instant` is a simple way of adjusting to UTC.\r\n\r\n    Instant instant = odt.toInstant() ;\r\n    Instant instant = zdt.toInstant() ;\r\n\r\nTip: Generally write your code to *not* depend on the default time zone of your JVM, your database session, or host OS. Those defaults are not under your control as a programmer. And those defaults can change at any moment during runtime. So use a default only where called for, such as localizing to default zone of a user’s mobile device for presentation in the user-interface. And make your use of such a default explicit, always specifying the otherwise optional zone/offset arguments to various calls. \r\n\r\nTip: Recording the moment a row is inserted or updated is generally best left to the database.  Use a trigger where the database server captures the current moment and assigns it to the field. Then you are covered for operations outside your Java app, such as bulk data loads. \r\n\r\n\r\n","title":"JPA Instant/ZonedDateTime Database mapping","body":"<p>I cannot speak to JPA, but I can explain some of the JDBC issues.</p>\n<blockquote>\n<p>I want to store <code>Instant</code> type</p>\n</blockquote>\n<p>The JDBC specification does not map <code>Instant</code>.</p>\n<ul>\n<li>For a column of a type akin to the SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, use the Java class <code>LocalDateTime</code>.</li>\n<li>For a column of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>, use the Java class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</li>\n</ul>\n<p>In JDBC, use <code>setObject</code> &amp; <code>getObject</code> to exchange data-time values as <em>java.time</em> values in JDBC 4.2 and later.</p>\n<pre><code>myPreparedStatement.setObject( … , myOffsetDateTime ) ;\n</code></pre>\n<p>Some databases such as Postgres automatically adjust the incoming data to UTC, an offset of zero hours-minutes-seconds. For portable code across databases, you may want to make that adjustment in Java code.</p>\n<pre><code>OffsetDateTime myOdt = otherOdt.withOffsetSameInstant( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Capture the current moment as a <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime myOdt = OffsetDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n<p>If you have an <code>Instant</code> in hand, convert to <code>OffsetDateTime</code> for storage in a database via JDBC.</p>\n<pre><code>OffsetDateTime myOdt = myInstant.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>There is no need for you to store the zoned or unzoned values in your database. You can easily adjust to time zones after database retrieval, in your Java code, as you would do for other localization needs.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime zdt = myOdt.atZoneSameInstant( z ) ;\n</code></pre>\n<p>I see no benefit generally to using <code>LocalDateTime</code> when dealing with moments, specific points on the timeline. That class purposely lacks the context of a time zone or offset. Such objects contain a date with time of day only, so are inherently ambiguous. You can convert from <code>OffsetDateTime</code> to <code>LocalDateTime</code> but would be stripping away vital information while gaining nothing in return.</p>\n<blockquote>\n<p>they are all stored as if they were LocalDateTime in application JVM timezone.</p>\n</blockquote>\n<p>That is a contradiction in terms. A <code>LocalDateTime</code> has no time zone or offset.</p>\n<blockquote>\n<p>The default type of the column is set to TIMESTAMP for all of them.</p>\n</blockquote>\n<p>There is no default for the data type of a column. You specify the data type when creating the column. The data type does not change while inserting rows. The data type can only change if you issue an <code>ALTER TABLE</code> command.</p>\n<p>Also, we have no idea what type you mean with the word <code>TIMESTAMP</code> since you neglected to mention your specific database. As mentioned above, the SQL standard uses four words for each of the two very different timestamp types.</p>\n<blockquote>\n<p>Mapping Instant and ZonedDateTime to TIMESTAMP but convert them to UTC when serializing,</p>\n</blockquote>\n<p>No, JDBC does not require any such mapping of <code>Instant</code> nor <code>ZonedDateTime</code>.</p>\n<p>You need to do such conversions in your Java code, outside of the JDBC calls.</p>\n<p>The exception is that your particular JDBC driver may choose to go beyond what is required by the JDBC spec. A driver is free to handle the <code>Instant</code> and <code>ZonedDateTime</code> types if it’s creators saw fit. But beware that any such code you wrote may not be portable across other JDBC drivers.</p>\n<blockquote>\n<p>and back to JVM timezone when deserializing.</p>\n</blockquote>\n<p>I believe you’ll find this work much easier if, as a programmer/DBA/SysAdmin, you do most of your thinking, logging, debugging, data storage, and data exchange, in UTC (offset of zero).</p>\n<p>Converting to <code>Instant</code> is a simple way of adjusting to UTC.</p>\n<pre><code>Instant instant = odt.toInstant() ;\nInstant instant = zdt.toInstant() ;\n</code></pre>\n<p>Tip: Generally write your code to <em>not</em> depend on the default time zone of your JVM, your database session, or host OS. Those defaults are not under your control as a programmer. And those defaults can change at any moment during runtime. So use a default only where called for, such as localizing to default zone of a user’s mobile device for presentation in the user-interface. And make your use of such a default explicit, always specifying the otherwise optional zone/offset arguments to various calls.</p>\n<p>Tip: Recording the moment a row is inserted or updated is generally best left to the database.  Use a trigger where the database server captures the current moment and assigns it to the field. Then you are covered for operations outside your Java app, such as bulk data loads.</p>\n"}],"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640802092,"creation_date":1640796182,"question_id":70522389,"body_markdown":"I came upon a problem with java.time classes and their mapping to DB types. I want to store Instant type, but it behaves quite unintuitively.\r\n\r\nSimple project example here: https://gitlab.com/Gobanit/jpa-time-example\r\n\r\nI have basic entity class:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class AbstractEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n//    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n    private Instant createdAt;\r\n//    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n    private ZonedDateTime createdAtZoned;\r\n    private LocalDateTime createdAtLocal;\r\n    private Instant modifiedAt;\r\n\r\n    @PrePersist\r\n    protected void prePersist() {\r\n        createdAt = Instant.now();\r\n        modifiedAt = createdAt;\r\n        createdAtZoned = createdAt.atZone(ZoneId.systemDefault());\r\n        createdAtLocal = createdAtZoned.toLocalDateTime();\r\n        System.out.println(String.format(&quot;Created: instant=%s, zoned=%s, local=%s&quot;, createdAt, createdAtZoned, createdAtLocal));\r\n    }\r\n\r\n    @PreUpdate\r\n    protected void preUpdate() {\r\n        modifiedAt = Instant.now();\r\n    }\r\n}\r\n```\r\n\r\nNow, I will create and persist the entity:\r\n```\r\n    @Transactional\r\n    @GetMapping(&quot;create&quot;)\r\n    public AbstractEntity createNew() {\r\n        System.out.println(&quot;create&quot;);\r\n        System.out.println(&quot;ZoneId=&quot; + ZoneId.systemDefault());\r\n        var e = new AbstractEntity();\r\n        em.persist(e);\r\n        return e;\r\n    }\r\n```\r\n\r\nThe data in Java are as expected - system output below:\r\n```\r\nZoneId=Europe/Bratislava\r\nCreated: instant=2021-12-29T14:13:55.624902400Z, zoned=2021-12-29T15:13:55.624902400+01:00[Europe/Bratislava], local=2021-12-29T15:13:55.624902400\r\n```\r\n\r\nHowever, the data in DB are not. They are all stored as the same value. The default type of the column is set to TIMESTAMP for all of them. And they are all stored as if they were LocalDateTime in application JVM timezone.\r\n\r\n[![jvm timezone db result][1]][1]\r\n\r\nI dont like this at all, there is no difference between these types and the &quot;meaning&quot; of the value is dependent on the application zone. If I look at the database without knowing which application wrote the data and what is its zone, i cannot say, what the datetime means. Even worse, if I run the application with different zone, it would assume that the values were written in its timezone, which they were not.\r\n\r\nSome people say, the time data should be stored in UTC (which i partially agree) and they recommend setting following property, so that the values are converted to UTC zone before storing in DB by JDBC: \r\n```\r\nspring.jpa.properties.hibernate.jdbc.time_zone: UTC\r\n```\r\nHowever, this results in even worse behavior, since it applies not only to Instant/ZonedDateTime but also to LocalDateTime, which seems logically wrong to me. LocalDateTime value should not be affected by any timezone conversions at all, that is why it is LocalDateTime.\r\n\r\nSystem Output:\r\n```\r\nZoneId=Europe/Bratislava\r\nCreated: instant=2021-12-29T14:15:13.614799900Z, zoned=2021-12-29T15:15:13.614799900+01:00[Europe/Bratislava], local=2021-12-29T15:15:13.614799900\r\n```\r\nDB Result:\r\n\r\n[![UTC jdbc timezone db result][2]][2]\r\n\r\nI would expect one of these to happen:\r\n1. Mapping Instant and ZonedDateTime to TIMESTAMP_WITH_TIMEZONE by default. Also, Instant type should be always serialized with UTC zone - just as when printing to string or serializing with jackson. (ideal)\r\n2. Mapping Instant and ZonedDateTime to TIMESTAMP but convert them to UTC when serializing, and back to JVM timezone when deserializing. (not ideal, but good enough)\r\n\r\nI can override the default mapping explicitly, by uncommenting the line below. \r\n```\r\n// @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n```\r\nThat works fine, only Instant are not converted to UTC but take the JVM zone, just like ZonedDateTime. Technically it is totally fine, i cant see any inconsistency result happen because of that, but personally i would prefer them in UTC, so that they are always unified.\r\nThe second problem with this, is that i need to explicitly configure it for each field.\r\n```\r\nZoneId=Europe/Bratislava\r\nCreated: instant=2021-12-29T14:19:14.600583400Z, zoned=2021-12-29T15:19:14.600583400+01:00[Europe/Bratislava], local=2021-12-29T15:19:14.600583400\r\n```\r\n\r\n[![Timestamp with timezone db result][3]][3]\r\n\r\nIn the end, I have few questions, I would really like someone to answer me :)\r\n**\r\n1. **Is there any way to get the ideal solution (the first mentioned)?**\r\n2. **Is there any way to at least globally configure the type mapping?**\r\n3. **Can you see any risks in this approach?**\r\n4. **Is there a better or more standardized approach, that I am not aware of? What is your strategy for working with time?**\r\n\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JOkxB.png\r\n  [2]: https://i.stack.imgur.com/CYKU1.png\r\n  [3]: https://i.stack.imgur.com/WPzK1.png","title":"JPA Instant/ZonedDateTime Database mapping","body":"<p>I came upon a problem with java.time classes and their mapping to DB types. I want to store Instant type, but it behaves quite unintuitively.</p>\n<p>Simple project example here: <a href=\"https://gitlab.com/Gobanit/jpa-time-example\" rel=\"nofollow noreferrer\">https://gitlab.com/Gobanit/jpa-time-example</a></p>\n<p>I have basic entity class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class AbstractEntity {\n    @Id\n    @GeneratedValue\n    private Long id;\n//    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n    private Instant createdAt;\n//    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n    private ZonedDateTime createdAtZoned;\n    private LocalDateTime createdAtLocal;\n    private Instant modifiedAt;\n\n    @PrePersist\n    protected void prePersist() {\n        createdAt = Instant.now();\n        modifiedAt = createdAt;\n        createdAtZoned = createdAt.atZone(ZoneId.systemDefault());\n        createdAtLocal = createdAtZoned.toLocalDateTime();\n        System.out.println(String.format(&quot;Created: instant=%s, zoned=%s, local=%s&quot;, createdAt, createdAtZoned, createdAtLocal));\n    }\n\n    @PreUpdate\n    protected void preUpdate() {\n        modifiedAt = Instant.now();\n    }\n}\n</code></pre>\n<p>Now, I will create and persist the entity:</p>\n<pre><code>    @Transactional\n    @GetMapping(&quot;create&quot;)\n    public AbstractEntity createNew() {\n        System.out.println(&quot;create&quot;);\n        System.out.println(&quot;ZoneId=&quot; + ZoneId.systemDefault());\n        var e = new AbstractEntity();\n        em.persist(e);\n        return e;\n    }\n</code></pre>\n<p>The data in Java are as expected - system output below:</p>\n<pre><code>ZoneId=Europe/Bratislava\nCreated: instant=2021-12-29T14:13:55.624902400Z, zoned=2021-12-29T15:13:55.624902400+01:00[Europe/Bratislava], local=2021-12-29T15:13:55.624902400\n</code></pre>\n<p>However, the data in DB are not. They are all stored as the same value. The default type of the column is set to TIMESTAMP for all of them. And they are all stored as if they were LocalDateTime in application JVM timezone.</p>\n<p><a href=\"https://i.stack.imgur.com/JOkxB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOkxB.png\" alt=\"jvm timezone db result\" /></a></p>\n<p>I dont like this at all, there is no difference between these types and the &quot;meaning&quot; of the value is dependent on the application zone. If I look at the database without knowing which application wrote the data and what is its zone, i cannot say, what the datetime means. Even worse, if I run the application with different zone, it would assume that the values were written in its timezone, which they were not.</p>\n<p>Some people say, the time data should be stored in UTC (which i partially agree) and they recommend setting following property, so that the values are converted to UTC zone before storing in DB by JDBC:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.time_zone: UTC\n</code></pre>\n<p>However, this results in even worse behavior, since it applies not only to Instant/ZonedDateTime but also to LocalDateTime, which seems logically wrong to me. LocalDateTime value should not be affected by any timezone conversions at all, that is why it is LocalDateTime.</p>\n<p>System Output:</p>\n<pre><code>ZoneId=Europe/Bratislava\nCreated: instant=2021-12-29T14:15:13.614799900Z, zoned=2021-12-29T15:15:13.614799900+01:00[Europe/Bratislava], local=2021-12-29T15:15:13.614799900\n</code></pre>\n<p>DB Result:</p>\n<p><a href=\"https://i.stack.imgur.com/CYKU1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CYKU1.png\" alt=\"UTC jdbc timezone db result\" /></a></p>\n<p>I would expect one of these to happen:</p>\n<ol>\n<li>Mapping Instant and ZonedDateTime to TIMESTAMP_WITH_TIMEZONE by default. Also, Instant type should be always serialized with UTC zone - just as when printing to string or serializing with jackson. (ideal)</li>\n<li>Mapping Instant and ZonedDateTime to TIMESTAMP but convert them to UTC when serializing, and back to JVM timezone when deserializing. (not ideal, but good enough)</li>\n</ol>\n<p>I can override the default mapping explicitly, by uncommenting the line below.</p>\n<pre><code>// @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n</code></pre>\n<p>That works fine, only Instant are not converted to UTC but take the JVM zone, just like ZonedDateTime. Technically it is totally fine, i cant see any inconsistency result happen because of that, but personally i would prefer them in UTC, so that they are always unified.\nThe second problem with this, is that i need to explicitly configure it for each field.</p>\n<pre><code>ZoneId=Europe/Bratislava\nCreated: instant=2021-12-29T14:19:14.600583400Z, zoned=2021-12-29T15:19:14.600583400+01:00[Europe/Bratislava], local=2021-12-29T15:19:14.600583400\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WPzK1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WPzK1.png\" alt=\"Timestamp with timezone db result\" /></a></p>\n<p>In the end, I have few questions, I would really like someone to answer me :)\n**</p>\n<ol>\n<li><strong>Is there any way to get the ideal solution (the first mentioned)?</strong></li>\n<li><strong>Is there any way to at least globally configure the type mapping?</strong></li>\n<li><strong>Can you see any risks in this approach?</strong></li>\n<li><strong>Is there a better or more standardized approach, that I am not aware of? What is your strategy for working with time?</strong></li>\n</ol>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","properties-file"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640801939,"creation_date":1640797381,"answer_id":70522615,"question_id":70521966,"body_markdown":"&gt; spring.config.import = file:./myapp.properties will only read from the\r\n&gt; current directory spring.config.import = file:/etc/myapp.properties\r\n&gt; will read from the specified directory -- but I don&#39;t know what this\r\n&gt; is at build time (the end-user determines it at installation time)\r\n\r\nWhy overcomplicate this. \r\n\r\nPlace inside the jar all the properties that you want to be statically configured as default values when you build the application.\r\n\r\nEmbedded `application.properties`\r\n\r\n     server.port = 8080\r\n     prop1.element = something\r\n\r\nThen the client can create another file `application.properties` and place it in the same directory with the jar and define more properties which are not already defined.\r\n\r\n     prop2.element = something2   \r\n     prop3.element = something3\r\n\r\nBy default Spring Boot will load properties both from the embedded file as well from the file in the current directory where the jar is placed during startup.\r\n\r\nIn the external `application.properties` you can also overwrite properties existing in the embedded `application.properties`. So if the external file in the current directory same as the jar is the following\r\n\r\n     prop2.element = something2   \r\n     prop3.element = something3\r\n     prop1.element = something4 &lt;--- this value here will overwrite the value &#39;something&#39; from embedded file \r\n\r\nAccording to [spring doc][1]\r\n\r\n&gt; SpringApplication will load properties from application.properties\r\n&gt; files in the following locations and add them to the Spring\r\n&gt; Environment:\r\n&gt; \r\n&gt; 1) /config subdirectory of the current directory. \r\n&gt; \r\n&gt; 2) The current directory\r\n&gt;\r\n&gt; 3) classpath /config package \r\n&gt;\r\n&gt; 4) The classpath root The list is ordered by\r\n&gt;\r\n&gt; Precedence (properties defined **in locations higher in the list\r\n&gt; override those defined in lower locations**).\r\n\r\nAfter having more input from the comments, it seems that you face another issue as well. You start the application from command line from another directory so that is counted as the directory where spring will look for the external configuration instead of where the jar is placed.\r\n\r\nSo for example let&#39;s say that the jar is placed inside the target folder that exists in current directory. You start the application using the following command:\r\n\r\n    java -jar target/demo-0.0.1-SNAPSHOT.jar\r\n\r\nBut then the external `application.properties` existing inside target folder is not loaded from spring because you executed the command from another directory. This can be solved if you start the application in the following way\r\n\r\n    java -jar -Dspring.config.additional-location=./target/ target/demo-0.0.1-SNAPSHOT.jar\r\n\r\nThis should not be difficult as you already provide the path where the jar exists in the command line.\r\n  \r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files","title":"Read external .properties file from the install directory (not the current directory)","body":"<blockquote>\n<p>spring.config.import = file:./myapp.properties will only read from the\ncurrent directory spring.config.import = file:/etc/myapp.properties\nwill read from the specified directory -- but I don't know what this\nis at build time (the end-user determines it at installation time)</p>\n</blockquote>\n<p>Why overcomplicate this.</p>\n<p>Place inside the jar all the properties that you want to be statically configured as default values when you build the application.</p>\n<p>Embedded <code>application.properties</code></p>\n<pre><code> server.port = 8080\n prop1.element = something\n</code></pre>\n<p>Then the client can create another file <code>application.properties</code> and place it in the same directory with the jar and define more properties which are not already defined.</p>\n<pre><code> prop2.element = something2   \n prop3.element = something3\n</code></pre>\n<p>By default Spring Boot will load properties both from the embedded file as well from the file in the current directory where the jar is placed during startup.</p>\n<p>In the external <code>application.properties</code> you can also overwrite properties existing in the embedded <code>application.properties</code>. So if the external file in the current directory same as the jar is the following</p>\n<pre><code> prop2.element = something2   \n prop3.element = something3\n prop1.element = something4 &lt;--- this value here will overwrite the value 'something' from embedded file \n</code></pre>\n<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">spring doc</a></p>\n<blockquote>\n<p>SpringApplication will load properties from application.properties\nfiles in the following locations and add them to the Spring\nEnvironment:</p>\n<ol>\n<li><p>/config subdirectory of the current directory.</p>\n</li>\n<li><p>The current directory</p>\n</li>\n<li><p>classpath /config package</p>\n</li>\n<li><p>The classpath root The list is ordered by</p>\n</li>\n</ol>\n<p>Precedence (properties defined <strong>in locations higher in the list\noverride those defined in lower locations</strong>).</p>\n</blockquote>\n<p>After having more input from the comments, it seems that you face another issue as well. You start the application from command line from another directory so that is counted as the directory where spring will look for the external configuration instead of where the jar is placed.</p>\n<p>So for example let's say that the jar is placed inside the target folder that exists in current directory. You start the application using the following command:</p>\n<pre><code>java -jar target/demo-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>But then the external <code>application.properties</code> existing inside target folder is not loaded from spring because you executed the command from another directory. This can be solved if you start the application in the following way</p>\n<pre><code>java -jar -Dspring.config.additional-location=./target/ target/demo-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>This should not be difficult as you already provide the path where the jar exists in the command line.</p>\n"}],"owner":{"account_id":1000824,"reputation":1501,"user_id":1015703,"accept_rate":96,"display_name":"David H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1070,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640801939,"creation_date":1640794067,"question_id":70521966,"body_markdown":"I am distributing a Spring Boot application as a zipped &quot;bootJar&quot; using the Gradle Application plugin and the &quot;distZip&quot; task.  The end-user will get the zip file, unzip it, and run it by just typing &quot;myApp&quot; (a shell script nicely created by the plugin).\r\n\r\nI would like the end-user to create a &quot;myapp.properties&quot; file (a name I chose) and put it in the installation directory, or a &quot;config&quot; directory under the installation directory.  \r\n\r\nSuppose I set up my embedded (in the jar) application.properties file as follows:\r\n\r\n- `spring.config.import = file:./myapp.properties` will only read from the *current* directory\r\n- `spring.config.import = file:/etc/myapp.properties` will read from the specified directory -- but I *don&#39;t know* what this is at *build time* (the end-user determines it at *installation time*)\r\n\r\nHow can I set up my application so that Spring Boot can read properties from an external file whose location is specified later?\r\n\r\nNOTE: I know I can play around with the generated scripts to pass in environment variables or Spring Boot properties, but I was hoping to do this completely within Spring Boot so I don&#39;t need to modify the nicely generated shell scripts.","title":"Read external .properties file from the install directory (not the current directory)","body":"<p>I am distributing a Spring Boot application as a zipped &quot;bootJar&quot; using the Gradle Application plugin and the &quot;distZip&quot; task.  The end-user will get the zip file, unzip it, and run it by just typing &quot;myApp&quot; (a shell script nicely created by the plugin).</p>\n<p>I would like the end-user to create a &quot;myapp.properties&quot; file (a name I chose) and put it in the installation directory, or a &quot;config&quot; directory under the installation directory.</p>\n<p>Suppose I set up my embedded (in the jar) application.properties file as follows:</p>\n<ul>\n<li><code>spring.config.import = file:./myapp.properties</code> will only read from the <em>current</em> directory</li>\n<li><code>spring.config.import = file:/etc/myapp.properties</code> will read from the specified directory -- but I <em>don't know</em> what this is at <em>build time</em> (the end-user determines it at <em>installation time</em>)</li>\n</ul>\n<p>How can I set up my application so that Spring Boot can read properties from an external file whose location is specified later?</p>\n<p>NOTE: I know I can play around with the generated scripts to pass in environment variables or Spring Boot properties, but I was hoping to do this completely within Spring Boot so I don't need to modify the nicely generated shell scripts.</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1640800571,"post_id":70522155,"comment_id":124663350,"body_markdown":"Have you checked your project layout;to make sure everything is in the correct place? It may be necessary to add the project layout to your question.","body":"Have you checked your project layout;to make sure everything is in the correct place? It may be necessary to add the project layout to your question."},{"owner":{"account_id":6916015,"reputation":1,"user_id":8555236,"display_name":"Himel Mazumder"},"score":0,"creation_date":1640801631,"post_id":70522155,"comment_id":124663693,"body_markdown":"Layout image has been added.","body":"Layout image has been added."}],"owner":{"account_id":6916015,"reputation":1,"user_id":8555236,"display_name":"Himel Mazumder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640801584,"creation_date":1640795074,"question_id":70522155,"body_markdown":"After creating a new empty project in android studio, I created a new module for Java or Kotlin library. But in the java class file keywords such as **String, System** shows **&#39;Cannot resolve symbol&#39;** error. I&#39;ve tried few things like **clean project, rebuild project, invalidate cache/restart** etc. nothing worked. I also **updated gradle version**. I&#39;m using android studio **Arctic Fox 2020.3.1 patch 4**. \r\nWhat can I do in this situation.\r\n[Project layout image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2xzhN.png","title":"Importing Anything in a Java Library Module says &#39;Cannot resolve symbol&#39; in Android Studio","body":"<p>After creating a new empty project in android studio, I created a new module for Java or Kotlin library. But in the java class file keywords such as <strong>String, System</strong> shows <strong>'Cannot resolve symbol'</strong> error. I've tried few things like <strong>clean project, rebuild project, invalidate cache/restart</strong> etc. nothing worked. I also <strong>updated gradle version</strong>. I'm using android studio <strong>Arctic Fox 2020.3.1 patch 4</strong>.\nWhat can I do in this situation.\n<a href=\"https://i.stack.imgur.com/2xzhN.png\" rel=\"nofollow noreferrer\">Project layout image</a></p>\n"},{"tags":["java","micronaut","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640800107,"creation_date":1640800107,"answer_id":70523089,"question_id":70516603,"body_markdown":"I assume that the agent is installed multiple times, likely once per test. You can deregister or even reset an installed agent, the returned ResettableClassFileTransformer offers methods for this. Alternatively, check if tour agent is already active on the current VM and avoid its reregistration.","title":"Byte Buddy is creating +1 TRANSFORM after every test class execution","body":"<p>I assume that the agent is installed multiple times, likely once per test. You can deregister or even reset an installed agent, the returned ResettableClassFileTransformer offers methods for this. Alternatively, check if tour agent is already active on the current VM and avoid its reregistration.</p>\n"}],"owner":{"account_id":18392267,"reputation":115,"user_id":13397671,"display_name":"angnewb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70523089,"answer_count":1,"score":2,"last_activity_date":1640800926,"creation_date":1640764603,"question_id":70516603,"body_markdown":"I&#39;m using Micronaut 3.0 and Byte Buddy 1.12.6, Groovy for testing.\r\n\r\nThe problem occurs when I&#39;m running whole package of tests at once in IntelliJ (doesn&#39;t have to be whole package, more than 1 test class is enough).\r\n\r\nWith every test class executed, it is creating +1 Transform for each class that is matched by agent.\r\n\r\nFirst test class executed:\r\n\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n\r\nSecond test class executed:\r\n\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n\r\nThird test class executed:\r\n\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n\r\netc.\r\n\r\nExample test class\r\n\r\n```\r\n@MicronautTest(transactional = false, environments = &quot;db&quot;)\r\n@Stepwise\r\n@Slf4j\r\nclass TestClass with Specification {\r\n\r\n    def &quot;test method&quot;() {\r\n    .....\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy agent class:\r\n\r\n```\r\n@Context\r\npublic class LoggingAgent {\r\n\r\n    @PostConstruct\r\n    private void premain() {\r\n        new AgentBuilder.Default()\r\n                .disableClassFormatChanges()\r\n                .with(AgentBuilder.Listener.StreamWriting.toSystemError().withTransformationsOnly())\r\n                .with(AgentBuilder.InstallationListener.StreamWriting.toSystemError())\r\n                .with(AgentBuilder.RedefinitionStrategy.RETRANSFORMATION)\r\n                .type(isSubTypeOf(Test.class).and(not(isAbstract())))\r\n                .transform((builder, typeDescription, classLoader, module) -&gt; builder.visit(Advice.to(LoggingAdvice.class).on(isMethod())))\r\n                .installOn(ByteBuddyAgent.install());\r\n    }\r\n\r\n}\r\n```\r\n\r\nAdvice\r\n\r\n```\r\npublic class LoggingAdvice {\r\n\r\n    @Advice.OnMethodEnter\r\n    public static void intercept(@Advice.Origin Method method, @Advice.AllArguments Object[] args) throws Exception {\r\n    .....\r\n    }\r\n}\r\n```\r\n\r\n","title":"Byte Buddy is creating +1 TRANSFORM after every test class execution","body":"<p>I'm using Micronaut 3.0 and Byte Buddy 1.12.6, Groovy for testing.</p>\n<p>The problem occurs when I'm running whole package of tests at once in IntelliJ (doesn't have to be whole package, more than 1 test class is enough).</p>\n<p>With every test class executed, it is creating +1 Transform for each class that is matched by agent.</p>\n<p>First test class executed:</p>\n<pre><code>[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n</code></pre>\n<p>Second test class executed:</p>\n<pre><code>[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n</code></pre>\n<p>Third test class executed:</p>\n<pre><code>[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n</code></pre>\n<p>etc.</p>\n<p>Example test class</p>\n<pre><code>@MicronautTest(transactional = false, environments = &quot;db&quot;)\n@Stepwise\n@Slf4j\nclass TestClass with Specification {\n\n    def &quot;test method&quot;() {\n    .....\n    }\n\n}\n</code></pre>\n<p>My agent class:</p>\n<pre><code>@Context\npublic class LoggingAgent {\n\n    @PostConstruct\n    private void premain() {\n        new AgentBuilder.Default()\n                .disableClassFormatChanges()\n                .with(AgentBuilder.Listener.StreamWriting.toSystemError().withTransformationsOnly())\n                .with(AgentBuilder.InstallationListener.StreamWriting.toSystemError())\n                .with(AgentBuilder.RedefinitionStrategy.RETRANSFORMATION)\n                .type(isSubTypeOf(Test.class).and(not(isAbstract())))\n                .transform((builder, typeDescription, classLoader, module) -&gt; builder.visit(Advice.to(LoggingAdvice.class).on(isMethod())))\n                .installOn(ByteBuddyAgent.install());\n    }\n\n}\n</code></pre>\n<p>Advice</p>\n<pre><code>public class LoggingAdvice {\n\n    @Advice.OnMethodEnter\n    public static void intercept(@Advice.Origin Method method, @Advice.AllArguments Object[] args) throws Exception {\n    .....\n    }\n}\n</code></pre>\n"},{"tags":["java","android","lightweight-stream-api"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1494515707,"post_id":43919243,"comment_id":74872160,"body_markdown":"Your version is actually fine so long as you can extract it into a separage function. You can use `flatMap`, of course, but I would suggest refactoring your code to replace `List&lt;Optional&lt;Visit&gt;&gt;` with `List&lt;Visit&gt;`.","body":"Your version is actually fine so long as you can extract it into a separage function. You can use <code>flatMap</code>, of course, but I would suggest refactoring your code to replace <code>List&lt;Optional&lt;Visit&gt;&gt;</code> with <code>List&lt;Visit&gt;</code>."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1494516136,"post_id":43919243,"comment_id":74872513,"body_markdown":"Your code doesn&#39;t compile because there is no static method `Optional.isPresent(Object)`. Both `isPresent` and `get` are instance methods. It is also not clear what are you trying to do by calling `Optional.of(t).get()` - this code is almost pointless since there is a lot cleaner and readable way to throw a `NullPointerException`.","body":"Your code doesn&#39;t compile because there is no static method <code>Optional.isPresent(Object)</code>. Both <code>isPresent</code> and <code>get</code> are instance methods. It is also not clear what are you trying to do by calling <code>Optional.of(t).get()</code> - this code is almost pointless since there is a lot cleaner and readable way to throw a <code>NullPointerException</code>."},{"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"score":0,"creation_date":1494516650,"post_id":43919243,"comment_id":74872904,"body_markdown":"@M.Prokhorov Let me try to explain properly what am trying to achieve. i call response. getVisits() from a method after an API call. and the return type is List&lt;Visit&gt; but each Visit object within the list is wrapped with an Optional. So am basically trying to get the value from the optional and add them to a new List which just contains Visits without the optional.","body":"@M.Prokhorov Let me try to explain properly what am trying to achieve. i call response. getVisits() from a method after an API call. and the return type is List&lt;Visit&gt; but each Visit object within the list is wrapped with an Optional. So am basically trying to get the value from the optional and add them to a new List which just contains Visits without the optional."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1494516784,"post_id":43919243,"comment_id":74872984,"body_markdown":"@irobotxxx I was going to write a simpler answer, but what is the type of `visits`?  I seemed to be confused whether it is `List&lt;Visit&gt;` or `List&lt;Optional&lt;Visit&gt;&gt;`","body":"@irobotxxx I was going to write a simpler answer, but what is the type of <code>visits</code>?  I seemed to be confused whether it is <code>List&lt;Visit&gt;</code> or <code>List&lt;Optional&lt;Visit&gt;&gt;</code>"},{"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"score":0,"creation_date":1494517008,"post_id":43919243,"comment_id":74873131,"body_markdown":"@JacobG. please see my comment above. its basically List&lt;Visit&gt; but in the list i have [Optional [Visit] ].","body":"@JacobG. please see my comment above. its basically List&lt;Visit&gt; but in the list i have [Optional [Visit] ]."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1494517049,"post_id":43919243,"comment_id":74873155,"body_markdown":"Okay, I assume you didn&#39;t specify a generic type, so it&#39;s actually a `List&lt;Optional&lt;Visit&gt;&gt;`.  Harmlezz&#39;s answer should work perfectly fine for you.","body":"Okay, I assume you didn&#39;t specify a generic type, so it&#39;s actually a <code>List&lt;Optional&lt;Visit&gt;&gt;</code>.  Harmlezz&#39;s answer should work perfectly fine for you."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1494518217,"post_id":43919243,"comment_id":74873959,"body_markdown":"@irobotxxx, if it&#39;s `List&lt;Visit&gt;`, then objects can&#39;t be &quot;wrapped&quot; into an optional, because then it would be `List&lt;Optional&lt;Visit&gt;&gt;`. I would also insist that you should rather change code so it _doesn&#39;t_ wrap into an optional. There is no purpose in this data structure (list of optionals) apart from making developers angry and confused.","body":"@irobotxxx, if it&#39;s <code>List&lt;Visit&gt;</code>, then objects can&#39;t be &quot;wrapped&quot; into an optional, because then it would be <code>List&lt;Optional&lt;Visit&gt;&gt;</code>. I would also insist that you should rather change code so it <i>doesn&#39;t</i> wrap into an optional. There is no purpose in this data structure (list of optionals) apart from making developers angry and confused."},{"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"score":0,"creation_date":1494519036,"post_id":43919243,"comment_id":74874516,"body_markdown":"@M.Prokhorov i would agree with you on that one. I must have done something wron when mapping from the api response to my domain response. Am really sorry for the confusion.","body":"@M.Prokhorov i would agree with you on that one. I must have done something wron when mapping from the api response to my domain response. Am really sorry for the confusion."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1494519360,"post_id":43919243,"comment_id":74874713,"body_markdown":"@irobotxxx, if your API responds with optionals, you should unwrap them as soon as possible. There is a handy method `ifPresent` that you can use like this: `optional.ifPresent(myList::add)`.","body":"@irobotxxx, if your API responds with optionals, you should unwrap them as soon as possible. There is a handy method <code>ifPresent</code> that you can use like this: <code>optional.ifPresent(myList::add)</code>."},{"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"score":0,"creation_date":1494579436,"post_id":43919243,"comment_id":74899273,"body_markdown":"@M.Prokhorov yeah.you are right.  that was the problem. i did it a bit too late which caused the issue.","body":"@M.Prokhorov yeah.you are right.  that was the problem. i did it a bit too late which caused the issue."}],"answers":[{"tags":[],"owner":{"account_id":545654,"reputation":7998,"user_id":1360984,"accept_rate":60,"display_name":"Harmlezz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1494566470,"creation_date":1494515704,"answer_id":43919422,"question_id":43919243,"body_markdown":"You may do it this way:\r\n\r\n    return visits.stream()\r\n                 .map(visit -&gt; visit.orElse(null))\r\n                 .filter(Objects::nonNull)\r\n                 .collect(Collectors.toList());\r\n\r\nAssuming `visits` is of type `List&lt;Optional&lt;Visit&gt;&gt;`.\r\n\r\n**Causes Of Your Code Not Compiling**\r\n\r\nAssuming that the variable `visits` is of type `List&lt;Optional&lt;Visit&gt;&gt;` the statement you posted:\r\n\r\n    Stream.of(visits).filter(value -&gt; Optional.isPresent(value))\r\n                     .map((Visit t) -&gt; Optional.get(t))\r\n                     .collect(Collectors.toList());\r\n\r\nhas the following problems:\r\n\r\n1. `Stream.of()` takes either one element or many elements of type `T` and creates a *Stream*. You use `visits` as one element of type `List&lt;Optional&lt;Visit&gt;&gt;` and I think you intend to get a *Stream* of `Optional&lt;Visit&gt;` which you may achieve by using `visits.stream()`.\r\n\r\n2. `filter(value -&gt; Optional.isPresent(value))` does invoke `isPresent(T t)` in a static way while the method `isPresent(T t)` doesn&#39;t exist, neither statically nor as an instance method. I think what you intend to do is: `filter(value -&gt; value.isPresent())` which is equal to `filter(Optional::isPresent)`. The difference of the second is that `Optional::isPresent` does not invoke a static method but results in a method reference.\r\n\r\n3. `map((Visit) t -&gt; Optional.get(t))` does as well invoke a method `get(T t)` in a static way which doesn&#39;t exist, neither statically nor as an instance method. I think you intended to invoke `map((Visit) t -&gt; t.get())` which is equal to `map(Optional::get)`. \r\n\r\nFixing those issues would result in the new statement:\r\n\r\n    visits.stream().filter(Optional::isPresent)\r\n                   .map(Optional::get)\r\n                   .collect(Collectors.toList());\r\n\r\nThe difference to my solution is only that you map after filter. As a reader to get it right you need to remember that `Optional::get` will always return a *non-null* value. If you map first and filter second you do not have to remember there are no `null` values because you filter them out in the second step.","title":"Return a List of present objects from a List of Optional objects using Lightweight-Stream-API","body":"<p>You may do it this way:</p>\n\n<pre><code>return visits.stream()\n             .map(visit -&gt; visit.orElse(null))\n             .filter(Objects::nonNull)\n             .collect(Collectors.toList());\n</code></pre>\n\n<p>Assuming <code>visits</code> is of type <code>List&lt;Optional&lt;Visit&gt;&gt;</code>.</p>\n\n<p><strong>Causes Of Your Code Not Compiling</strong></p>\n\n<p>Assuming that the variable <code>visits</code> is of type <code>List&lt;Optional&lt;Visit&gt;&gt;</code> the statement you posted:</p>\n\n<pre><code>Stream.of(visits).filter(value -&gt; Optional.isPresent(value))\n                 .map((Visit t) -&gt; Optional.get(t))\n                 .collect(Collectors.toList());\n</code></pre>\n\n<p>has the following problems:</p>\n\n<ol>\n<li><p><code>Stream.of()</code> takes either one element or many elements of type <code>T</code> and creates a <em>Stream</em>. You use <code>visits</code> as one element of type <code>List&lt;Optional&lt;Visit&gt;&gt;</code> and I think you intend to get a <em>Stream</em> of <code>Optional&lt;Visit&gt;</code> which you may achieve by using <code>visits.stream()</code>.</p></li>\n<li><p><code>filter(value -&gt; Optional.isPresent(value))</code> does invoke <code>isPresent(T t)</code> in a static way while the method <code>isPresent(T t)</code> doesn't exist, neither statically nor as an instance method. I think what you intend to do is: <code>filter(value -&gt; value.isPresent())</code> which is equal to <code>filter(Optional::isPresent)</code>. The difference of the second is that <code>Optional::isPresent</code> does not invoke a static method but results in a method reference.</p></li>\n<li><p><code>map((Visit) t -&gt; Optional.get(t))</code> does as well invoke a method <code>get(T t)</code> in a static way which doesn't exist, neither statically nor as an instance method. I think you intended to invoke <code>map((Visit) t -&gt; t.get())</code> which is equal to <code>map(Optional::get)</code>. </p></li>\n</ol>\n\n<p>Fixing those issues would result in the new statement:</p>\n\n<pre><code>visits.stream().filter(Optional::isPresent)\n               .map(Optional::get)\n               .collect(Collectors.toList());\n</code></pre>\n\n<p>The difference to my solution is only that you map after filter. As a reader to get it right you need to remember that <code>Optional::get</code> will always return a <em>non-null</em> value. If you map first and filter second you do not have to remember there are no <code>null</code> values because you filter them out in the second step.</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1494517408,"creation_date":1494517408,"answer_id":43920083,"question_id":43919243,"body_markdown":"You could do it as follows:\r\n\r\n    List&lt;Visit&gt; visitsWithoutOptionals = visits.stream()\r\n        .filter(Optional::isPresent)\r\n        .map(Optional::get)\r\n        .collect(Collectors.toList());\r\n\r\n","title":"Return a List of present objects from a List of Optional objects using Lightweight-Stream-API","body":"<p>You could do it as follows:</p>\n\n<pre><code>List&lt;Visit&gt; visitsWithoutOptionals = visits.stream()\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2568,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":43919422,"answer_count":2,"score":-1,"last_activity_date":1640800901,"creation_date":1494515193,"question_id":43919243,"body_markdown":"Consider I have an array list of `Optional` objects like `List&lt;Visit&gt; visit = {Optional[Visit], Optional[Visit], ...}`. How do i get the `Visit` object from the `Optional` and just return those objects as a `List`?\r\n\r\nI tried something like this: \r\n\r\n```lang-java\r\nreturn Stream.of(visits).filter(value -&gt; Optional.isPresent(value))\r\n    .map((Visit t) -&gt; Optional.get(t))\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nand this:\r\n \r\n```lang-java\r\nreturn Stream.of(visits)\r\n   .map(visit -&gt; Optional.of(visit).get())\r\n   .collect(Collectors.toList());\r\n```\r\n\r\nBut this doesn&#39;t compile.\r\n\r\nI am trying to use [Lightweight-Stream-API](https://github.com/aNNiMON/Lightweight-Stream-API) as the stream library.\r\n","title":"Return a List of present objects from a List of Optional objects using Lightweight-Stream-API","body":"<p>Consider I have an array list of <code>Optional</code> objects like <code>List&lt;Visit&gt; visit = {Optional[Visit], Optional[Visit], ...}</code>. How do i get the <code>Visit</code> object from the <code>Optional</code> and just return those objects as a <code>List</code>?</p>\n<p>I tried something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Stream.of(visits).filter(value -&gt; Optional.isPresent(value))\n    .map((Visit t) -&gt; Optional.get(t))\n    .collect(Collectors.toList());\n</code></pre>\n<p>and this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Stream.of(visits)\n   .map(visit -&gt; Optional.of(visit).get())\n   .collect(Collectors.toList());\n</code></pre>\n<p>But this doesn't compile.</p>\n<p>I am trying to use <a href=\"https://github.com/aNNiMON/Lightweight-Stream-API\" rel=\"nofollow noreferrer\">Lightweight-Stream-API</a> as the stream library.</p>\n"},{"tags":["java","linux","windows","batch-file"],"answers":[{"tags":[],"owner":{"account_id":20521686,"reputation":165,"user_id":15061122,"display_name":"Cameron Grande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640784904,"creation_date":1640784904,"answer_id":70520175,"question_id":70520148,"body_markdown":"SSH on windows is an option... if this can be used in your case I would consider it.\r\n\r\nI&#39;ve done this before and had a script execute based on a job from the Linux box which would SSH to the windows server, then execute the script there.\r\n\r\nSee more here-\r\nhttps://learn.microsoft.com/en-us/windows/terminal/tutorials/ssh","title":"Execute .bat file on a remote windows server (Java App installed on linux machine)","body":"<p>SSH on windows is an option... if this can be used in your case I would consider it.</p>\n<p>I've done this before and had a script execute based on a job from the Linux box which would SSH to the windows server, then execute the script there.</p>\n<p>See more here-\n<a href=\"https://learn.microsoft.com/en-us/windows/terminal/tutorials/ssh\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/terminal/tutorials/ssh</a></p>\n"}],"owner":{"account_id":19869584,"reputation":1,"user_id":14556075,"display_name":"Azrahell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1640800717,"creation_date":1640784762,"question_id":70520148,"body_markdown":"I have a Java web application installed on a Linux machine.\r\n\r\nMy objective is to programmatically (integrated in my Java app), execute a .bat file located on a remote Windows Server machine (with credential).\r\n\r\nIf the remote machine would have been a Linux machine, I would have used the jsch library, but the difficulty is that the remote machine is Windows.\r\n\r\n","title":"Execute .bat file on a remote windows server (Java App installed on linux machine)","body":"<p>I have a Java web application installed on a Linux machine.</p>\n<p>My objective is to programmatically (integrated in my Java app), execute a .bat file located on a remote Windows Server machine (with credential).</p>\n<p>If the remote machine would have been a Linux machine, I would have used the jsch library, but the difficulty is that the remote machine is Windows.</p>\n"},{"tags":["java","algorithm","java-8","partitioning","partition"],"comments":[{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640768090,"post_id":70511713,"comment_id":124652734,"body_markdown":"When `partition_array_(dss, currentInt, listMed)` cannot partition `dss` it returns an empty list?","body":"When <code>partition_array_(dss, currentInt, listMed)</code> cannot partition <code>dss</code> it returns an empty list?"},{"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"score":0,"creation_date":1640768450,"post_id":70511713,"comment_id":124652825,"body_markdown":"Yes, exactly. (i am controlling the size of `partitions_` and if `dss` cannot be partitioned the list `partitions_` will remain the same)","body":"Yes, exactly. (i am controlling the size of <code>partitions_</code> and if <code>dss</code> cannot be partitioned the list <code>partitions_</code> will remain the same)"},{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640770549,"post_id":70511713,"comment_id":124653474,"body_markdown":"When I run the algorithm with the driver code it crashes because in the first line of the `for` loop you want to take the first element (`get(0)`) because the last element that has been partitioned is removed. So it&#39;s always the first element that is the next to partition. Did I get it right?","body":"When I run the algorithm with the driver code it crashes because in the first line of the <code>for</code> loop you want to take the first element (<code>get(0)</code>) because the last element that has been partitioned is removed. So it&#39;s always the first element that is the next to partition. Did I get it right?"},{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640770960,"post_id":70511713,"comment_id":124653603,"body_markdown":"When I fixed the issue with `List&lt;Integer&gt; dss = partitions_bf .get(j);` the algorithm still crashes because when it exits the `for` loop, `partitions_` is not empty but `intIter` has been consumed and then `currentInt  = intIter.next();` throws. If I replace the `while` condition with `while (partitions_.size() != 0 &amp;&amp; intIter.hasNext())` then the code yields the expected result","body":"When I fixed the issue with <code>List&lt;Integer&gt; dss = partitions_bf .get(j);</code> the algorithm still crashes because when it exits the <code>for</code> loop, <code>partitions_</code> is not empty but <code>intIter</code> has been consumed and then <code>currentInt  = intIter.next();</code> throws. If I replace the <code>while</code> condition with <code>while (partitions_.size() != 0 &amp;&amp; intIter.hasNext())</code> then the code yields the expected result"},{"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"score":0,"creation_date":1640771940,"post_id":70511713,"comment_id":124653879,"body_markdown":"yes i check `intIter.hasNext()` as in the second loop OK.  for your first comment: yes i remove the element that has been partitioned because at the end i want the smallest partitioned parts only. Is there still other problems ?","body":"yes i check <code>intIter.hasNext()</code> as in the second loop OK.  for your first comment: yes i remove the element that has been partitioned because at the end i want the smallest partitioned parts only. Is there still other problems ?"},{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640777668,"post_id":70511713,"comment_id":124655511,"body_markdown":"I believe there is also an issue in the `for` loop when `intIter` has been consumed: it is reset as a new iterator but `currentInt` is not updated","body":"I believe there is also an issue in the <code>for</code> loop when <code>intIter</code> has been consumed: it is reset as a new iterator but <code>currentInt</code> is not updated"},{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640778083,"post_id":70511713,"comment_id":124655643,"body_markdown":"Functional question: what&#39;s the point of reiterating over `listMed`? Suppose you have this list: {1,2,4,5,7,8,10,11}. Once it has been partitioned with 6 it yields two partitions: {1,2,4,5} where all elements are smaller than 6 and {7,8,10,11} where all elements are bigger than 6, hence 6 can never be used again to partition them","body":"Functional question: what&#39;s the point of reiterating over <code>listMed</code>? Suppose you have this list: {1,2,4,5,7,8,10,11}. Once it has been partitioned with 6 it yields two partitions: {1,2,4,5} where all elements are smaller than 6 and {7,8,10,11} where all elements are bigger than 6, hence 6 can never be used again to partition them"},{"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"score":0,"creation_date":1640778356,"post_id":70511713,"comment_id":124655710,"body_markdown":"there&#39;s no point indeed","body":"there&#39;s no point indeed"}],"answers":[{"tags":[],"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640783200,"creation_date":1640772708,"answer_id":70517965,"question_id":70511713,"body_markdown":"I believe this code is equivalent and more compact with a recursive breadth-first algorithm. It stops when no more partition can be done:\r\n```java\r\n    public static List&lt;List&lt;Integer&gt;&gt; partition_rec(List&lt;Integer&gt; dF, Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed) {\r\n        List&lt;List&lt;Integer&gt;&gt; toPartition = new LinkedList&lt;&gt;();\r\n        toPartition.add(dF);\r\n        return recursion(toPartition, medIter, listMed, new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    private static List&lt;List&lt;Integer&gt;&gt; recursion(List&lt;List&lt;Integer&gt;&gt; toPartition, Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed, List&lt;List&lt;Integer&gt;&gt; noMorePartitionable) {\r\n        if (toPartition.isEmpty()) return noMorePartitionable;\r\n        medIter = reiterateIfNeeded(medIter, listMed);\r\n        List&lt;Integer&gt; toPartitionHead = toPartition.remove(0);\r\n        List&lt;List&lt;Integer&gt;&gt; partitions = partition_array_(toPartitionHead, medIter.next(), listMed);\r\n        if(partitions.isEmpty()) noMorePartitionable.add(toPartitionHead);\r\n        toPartition.addAll(partitions);\r\n        return recursion(toPartition, medIter, listMed, noMorePartitionable);\r\n    }\r\n\r\n    private static Iterator&lt;Integer&gt; reiterateIfNeeded(Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed) {\r\n        return medIter.hasNext() ? medIter : listMed.iterator();\r\n    }\r\n```\r\nThe lists to partition are stored into `toPartition`. When they are no more partitionable they are accumulated in `noMorePartitionable`. Once `toPartition` is empty, `noMorePartitionable` is returned.","title":"Breadth level based partitioning approach for arrays of integers","body":"<p>I believe this code is equivalent and more compact with a recursive breadth-first algorithm. It stops when no more partition can be done:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static List&lt;List&lt;Integer&gt;&gt; partition_rec(List&lt;Integer&gt; dF, Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed) {\n        List&lt;List&lt;Integer&gt;&gt; toPartition = new LinkedList&lt;&gt;();\n        toPartition.add(dF);\n        return recursion(toPartition, medIter, listMed, new ArrayList&lt;&gt;());\n    }\n\n    private static List&lt;List&lt;Integer&gt;&gt; recursion(List&lt;List&lt;Integer&gt;&gt; toPartition, Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed, List&lt;List&lt;Integer&gt;&gt; noMorePartitionable) {\n        if (toPartition.isEmpty()) return noMorePartitionable;\n        medIter = reiterateIfNeeded(medIter, listMed);\n        List&lt;Integer&gt; toPartitionHead = toPartition.remove(0);\n        List&lt;List&lt;Integer&gt;&gt; partitions = partition_array_(toPartitionHead, medIter.next(), listMed);\n        if(partitions.isEmpty()) noMorePartitionable.add(toPartitionHead);\n        toPartition.addAll(partitions);\n        return recursion(toPartition, medIter, listMed, noMorePartitionable);\n    }\n\n    private static Iterator&lt;Integer&gt; reiterateIfNeeded(Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed) {\n        return medIter.hasNext() ? medIter : listMed.iterator();\n    }\n</code></pre>\n<p>The lists to partition are stored into <code>toPartition</code>. When they are no more partitionable they are accumulated in <code>noMorePartitionable</code>. Once <code>toPartition</code> is empty, <code>noMorePartitionable</code> is returned.</p>\n"}],"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70517965,"answer_count":1,"score":0,"last_activity_date":1640800403,"creation_date":1640720153,"question_id":70511713,"body_markdown":"I want to partition an initial array (`dF`) and iteratively do the same for the obtained partitions based on a Breadth level approach.\r\nStarting from an initial array (`dF`) two arrays are obtained if a certain condition is met on the two arrays (see `partition_array_(dF, intIter, listMed)` below; that generates 2 arrays of ints) and the process is repeated for each obtained partition (Breadth level wise) up until that inner condition is no longer met then i want to return the last level of obtained partitions.\r\n\r\nThe partitioning is done according to a value `int` that is iteratively chosen from another array of ints `intIter`. My iterative method goes like the following:\r\n\r\n```\r\n public ArrayList&lt;List&lt;Integer&gt;&gt; partition_rec(List&lt;Integer&gt; dF, Iterator&lt;Integer&gt; intIter, List&lt;Integer&gt; listMed) {\r\n        ArrayList&lt;List&lt;Integer&gt;&gt; partitions_ = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        ArrayList&lt;List&lt;Integer&gt;&gt; partitions_bf  =  new ArrayList&lt;&gt;();\r\n       \r\n        \r\n        partitions_.add(dF);\r\n        while ( partitions_.size()!=0) {\r\n            \r\n            partitions_bf  =  new ArrayList&lt;&gt;(partitions_);\r\n\r\n            for (int j=0;j&lt; partitions_.size();j++) {\r\n                List&lt;Integer&gt; dss = partitions_bf .get(j);\r\n                numberPartsBf = partitions_bf .size();\r\n                if (intIter.hasNext())\r\n                currentInt  = intIter.next();\r\n                else intIter = listMed.iterator();\r\n                partitions_bf .addAll(partition_array_(dss, currentInt , listMed));\r\n                numberPartsAf = partitions_bf .size();\r\n                if (numberPartsAf &gt; numberPartsBf &amp;&amp; partitions_bf .contains(dss)) partitions_bf .remove(dss);\r\n                if (j == partitions_.size()-1){\r\n\t\t\t\t if (partitions_.size() == partitions_bf.size()) return partitions_bf;\r\n                   partitions_ =  new ArrayList&lt;&gt;(partitions_bf );\r\n                    break;\r\n                  \r\n\t\t\t\t\t}\r\n                   \r\n                else if (!intIter.hasNext()) intIter = listMed.iterator();\r\n\r\n            }\r\n        }\r\n\r\n        return partitions_bf ;\r\n    }\r\n```\r\n\r\n**1.** I want this algorithm to return only the last level children partitions (the smallest arrays obtained by the last for loop).\r\n \r\n**2.** make sure this algorithm stops when no new partitions could\r\nbe obtained.\r\n\r\nI want to make sure its logic is correct.\r\n\r\nOther question: Is there any algorithmic optimization to do here for a more compact code ?\r\n\r\n **Input**: *List&lt;Integer&gt;* : [1,2,4,5,7,8,10,11]; \r\n*ListMed* ArrayList: [6,3,9] \r\n*intIter* being one of the listMed iterated values.\r\n\r\n**Output** ArrayLists: [1,2], [4,5], [7,8], [10,11]\r\n\r\n driver code :\r\n\r\n  \r\n\r\n              List&lt;Integer&gt; dF = {1,2,4,5,7,8,10,11};\r\n              List&lt;Integer&gt; listMed = {6,3,9};\r\n              Iterator&lt;Integer&gt; its = listMed.iterator();\r\n              ArrayList&lt;List&lt;Integer&gt;&gt; res = partition_rec( dF,  intIter,  listMed);","title":"Breadth level based partitioning approach for arrays of integers","body":"<p>I want to partition an initial array (<code>dF</code>) and iteratively do the same for the obtained partitions based on a Breadth level approach.\nStarting from an initial array (<code>dF</code>) two arrays are obtained if a certain condition is met on the two arrays (see <code>partition_array_(dF, intIter, listMed)</code> below; that generates 2 arrays of ints) and the process is repeated for each obtained partition (Breadth level wise) up until that inner condition is no longer met then i want to return the last level of obtained partitions.</p>\n<p>The partitioning is done according to a value <code>int</code> that is iteratively chosen from another array of ints <code>intIter</code>. My iterative method goes like the following:</p>\n<pre><code> public ArrayList&lt;List&lt;Integer&gt;&gt; partition_rec(List&lt;Integer&gt; dF, Iterator&lt;Integer&gt; intIter, List&lt;Integer&gt; listMed) {\n        ArrayList&lt;List&lt;Integer&gt;&gt; partitions_ = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        ArrayList&lt;List&lt;Integer&gt;&gt; partitions_bf  =  new ArrayList&lt;&gt;();\n       \n        \n        partitions_.add(dF);\n        while ( partitions_.size()!=0) {\n            \n            partitions_bf  =  new ArrayList&lt;&gt;(partitions_);\n\n            for (int j=0;j&lt; partitions_.size();j++) {\n                List&lt;Integer&gt; dss = partitions_bf .get(j);\n                numberPartsBf = partitions_bf .size();\n                if (intIter.hasNext())\n                currentInt  = intIter.next();\n                else intIter = listMed.iterator();\n                partitions_bf .addAll(partition_array_(dss, currentInt , listMed));\n                numberPartsAf = partitions_bf .size();\n                if (numberPartsAf &gt; numberPartsBf &amp;&amp; partitions_bf .contains(dss)) partitions_bf .remove(dss);\n                if (j == partitions_.size()-1){\n                 if (partitions_.size() == partitions_bf.size()) return partitions_bf;\n                   partitions_ =  new ArrayList&lt;&gt;(partitions_bf );\n                    break;\n                  \n                    }\n                   \n                else if (!intIter.hasNext()) intIter = listMed.iterator();\n\n            }\n        }\n\n        return partitions_bf ;\n    }\n</code></pre>\n<p><strong>1.</strong> I want this algorithm to return only the last level children partitions (the smallest arrays obtained by the last for loop).</p>\n<p><strong>2.</strong> make sure this algorithm stops when no new partitions could\nbe obtained.</p>\n<p>I want to make sure its logic is correct.</p>\n<p>Other question: Is there any algorithmic optimization to do here for a more compact code ?</p>\n<p><strong>Input</strong>: <em>List</em> : [1,2,4,5,7,8,10,11];\n<em>ListMed</em> ArrayList: [6,3,9]\n<em>intIter</em> being one of the listMed iterated values.</p>\n<p><strong>Output</strong> ArrayLists: [1,2], [4,5], [7,8], [10,11]</p>\n<p>driver code :</p>\n<pre><code>          List&lt;Integer&gt; dF = {1,2,4,5,7,8,10,11};\n          List&lt;Integer&gt; listMed = {6,3,9};\n          Iterator&lt;Integer&gt; its = listMed.iterator();\n          ArrayList&lt;List&lt;Integer&gt;&gt; res = partition_rec( dF,  intIter,  listMed);\n</code></pre>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1640795748,"post_id":70522111,"comment_id":124661691,"body_markdown":"Please remove all code not required to demonstrate the problem, especially the UI related code, which is irrelevant. See [How to ask](https://stackoverflow.com/help/how-to-ask).","body":"Please remove all code not required to demonstrate the problem, especially the UI related code, which is irrelevant. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a>."},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1640795938,"post_id":70522111,"comment_id":124661755,"body_markdown":"Please show us the create table statement for `EventList`, specifically how `EventId` was defined (if DB does not autogenerate the field on insert - there is nothing to return you back)","body":"Please show us the create table statement for <code>EventList</code>, specifically how <code>EventId</code> was defined (if DB does not autogenerate the field on insert - there is nothing to return you back)"},{"owner":{"account_id":18063492,"reputation":191,"user_id":13130036,"display_name":"Franz Biberkopf"},"score":0,"creation_date":1640797019,"post_id":70522111,"comment_id":124662112,"body_markdown":"The table EventList was created with a SQL-query directly in database. EventID was simply defined as Integer.","body":"The table EventList was created with a SQL-query directly in database. EventID was simply defined as Integer."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640800014,"post_id":70522111,"comment_id":124663166,"body_markdown":"Which Oracle version and which Oracle JDBC driver version are you using?","body":"Which Oracle version and which Oracle JDBC driver version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640795594,"creation_date":1640795594,"answer_id":70522275,"question_id":70522111,"body_markdown":"Most things in the JDBC standard are optional. DBs are free to return nothing for `.getGeneratedKeys()`. Even when you ask for them. But you didn&#39;t, so, there&#39;s hope!\r\n\r\nTry `con.prepareStatement(&quot;SQL HERE&quot;, Statement.RETURN_GENERATED_KEYS)` first. But, if that doesn&#39;t work, you&#39;re in for a lot more effort. Run a query to fetch the next value from the sequence (and figuring out the name of that sequence in order to do this can be quite a job!), then insert that explicitly. Let&#39;s hope it doesn&#39;t need to come to this.\r\n\r\nNB: Modern DB design generally ditches the concept of an auto-count ID because keeping that counter &#39;in sync&#39; with replicated servers and all that jazz is a giant headache. If you&#39;re still at the beginning phases of all this, why not follow modern conventions? Make the ID a UUID, and just let java generate it. They are no longer consecutive values, instead, they are long randomly generated strings (and with enough bits that even trillions if inserts still have less chance of a collision than you winning the lottery without buying a ticket whilst getting struck by 2 separate meteors, and lightning, all at once).\r\n","title":"Generated keys for ID-column gives back null in table record","body":"<p>Most things in the JDBC standard are optional. DBs are free to return nothing for <code>.getGeneratedKeys()</code>. Even when you ask for them. But you didn't, so, there's hope!</p>\n<p>Try <code>con.prepareStatement(&quot;SQL HERE&quot;, Statement.RETURN_GENERATED_KEYS)</code> first. But, if that doesn't work, you're in for a lot more effort. Run a query to fetch the next value from the sequence (and figuring out the name of that sequence in order to do this can be quite a job!), then insert that explicitly. Let's hope it doesn't need to come to this.</p>\n<p>NB: Modern DB design generally ditches the concept of an auto-count ID because keeping that counter 'in sync' with replicated servers and all that jazz is a giant headache. If you're still at the beginning phases of all this, why not follow modern conventions? Make the ID a UUID, and just let java generate it. They are no longer consecutive values, instead, they are long randomly generated strings (and with enough bits that even trillions if inserts still have less chance of a collision than you winning the lottery without buying a ticket whilst getting struck by 2 separate meteors, and lightning, all at once).</p>\n"}],"owner":{"account_id":18063492,"reputation":191,"user_id":13130036,"display_name":"Franz Biberkopf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640799923,"creation_date":1640794821,"question_id":70522111,"body_markdown":"I am new to Java and above all to JDBC. I am trying to develop a simple DAO implementation for a GUI, in which fields from a panel get filled out and the data gets stored in an Oracle DB table named EventList. At the moment, it works with all the field of the class Event (Model) with the exception of the EventID column.\r\n\r\nI am trying to generate an auto-increment integer through the statement GENERATED KEYS, but, even though I tried different ways to reorganize the &quot;INSERT&quot; query in the method saveData2(), the record remains null and no keys are generated. What I am doing wrong? Every hint would be really appreciated!  \r\n  \r\n```````\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\n\r\npublic class EventDAOImpl implements EventDAO {\r\n\r\n\t@Override\r\n\tpublic void saveData2(Event event) {\r\n\t\tOracleDsSingleton ora =   OracleDsSingleton.getInstance();\r\n\t\tint primKey = 0;\r\n\t\ttry {\r\n\t\t\tConnection connection = ora.getConnection();\r\n\t\t\tString addQuery = &quot;INSERT INTO EventList(EventName, EventPlace, EventDate, EventDescription, EventCategory) VALUES (?,?,?,?,?)&quot;;\r\n\t\t\t//PreparedStatement ptmt = connection.prepareStatement(addQuery, Statement.RETURN_GENERATED_KEYS); \r\n//\t\t\tResultSet generatedKey = ptmt.getGeneratedKeys();\r\n//\t\t\t\t\t\tif (generatedKey.next()) {\r\n//\t\t\t\tint key = generatedKey.getInt(1);\r\n//\t\t\t\tSystem.out.println(key);\r\n//            }\r\n\t\t\tString columnNames [] = new String [] {&quot;EventId&quot;};\r\n\t\t\t\r\n\t\t\tPreparedStatement ptmt = connection.prepareStatement(addQuery, columnNames);\r\n\t\t\t\r\n\t\t\tptmt.setString(1, event.getName());\r\n\t\t\tptmt.setString(2, event.getPlace());\r\n\t\t\tptmt.setString(3, event.getDate());\r\n\t\t\tptmt.setString(4, event.getDescription());\r\n\t\t\tptmt.setString(5, event.getCategory());\r\n\t\t\t\r\n\t\t\t//ptmt.executeUpdate();\r\n\t\t\t\t\t\t\r\n\t\t\tif(ptmt.executeUpdate() &gt; 0) {\r\n\t\t\t\tjava.sql.ResultSet generatedKey = ptmt.getGeneratedKeys();\r\n\t\t\t\tif (generatedKey.next() ) {\r\n\t\t\t\t\tevent.setEventID(generatedKey.getInt(1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Data successfully added!&quot;);\r\n\t\t\t//System.out.println(&quot;Table updated with EventID = &quot; + primKey);\r\n\t\t\tSystem.out.println(event.getName());\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n````````\r\n\r\n[![The GUI-Panel][1]][1]\r\n\r\n\r\n[![The EventList Table-Schema][2]][2]\r\n\r\n[![The stored datas][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snuAb.png\r\n  [2]: https://i.stack.imgur.com/YYUCw.png\r\n  [3]: https://i.stack.imgur.com/9FeNJ.png","title":"Generated keys for ID-column gives back null in table record","body":"<p>I am new to Java and above all to JDBC. I am trying to develop a simple DAO implementation for a GUI, in which fields from a panel get filled out and the data gets stored in an Oracle DB table named EventList. At the moment, it works with all the field of the class Event (Model) with the exception of the EventID column.</p>\n<p>I am trying to generate an auto-increment integer through the statement GENERATED KEYS, but, even though I tried different ways to reorganize the &quot;INSERT&quot; query in the method saveData2(), the record remains null and no keys are generated. What I am doing wrong? Every hint would be really appreciated!</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\n\npublic class EventDAOImpl implements EventDAO {\n\n    @Override\n    public void saveData2(Event event) {\n        OracleDsSingleton ora =   OracleDsSingleton.getInstance();\n        int primKey = 0;\n        try {\n            Connection connection = ora.getConnection();\n            String addQuery = &quot;INSERT INTO EventList(EventName, EventPlace, EventDate, EventDescription, EventCategory) VALUES (?,?,?,?,?)&quot;;\n            //PreparedStatement ptmt = connection.prepareStatement(addQuery, Statement.RETURN_GENERATED_KEYS); \n//          ResultSet generatedKey = ptmt.getGeneratedKeys();\n//                      if (generatedKey.next()) {\n//              int key = generatedKey.getInt(1);\n//              System.out.println(key);\n//            }\n            String columnNames [] = new String [] {&quot;EventId&quot;};\n            \n            PreparedStatement ptmt = connection.prepareStatement(addQuery, columnNames);\n            \n            ptmt.setString(1, event.getName());\n            ptmt.setString(2, event.getPlace());\n            ptmt.setString(3, event.getDate());\n            ptmt.setString(4, event.getDescription());\n            ptmt.setString(5, event.getCategory());\n            \n            //ptmt.executeUpdate();\n                        \n            if(ptmt.executeUpdate() &gt; 0) {\n                java.sql.ResultSet generatedKey = ptmt.getGeneratedKeys();\n                if (generatedKey.next() ) {\n                    event.setEventID(generatedKey.getInt(1));\n                }\n            }\n            System.out.println(&quot;Data successfully added!&quot;);\n            //System.out.println(&quot;Table updated with EventID = &quot; + primKey);\n            System.out.println(event.getName());\n            \n            \n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        \n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/snuAb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snuAb.png\" alt=\"The GUI-Panel\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/YYUCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YYUCw.png\" alt=\"The EventList Table-Schema\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/9FeNJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9FeNJ.png\" alt=\"The stored datas\" /></a></p>\n"},{"tags":["java","byte-buddy","javaagents","jdi"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1640789204,"post_id":70520775,"comment_id":124659296,"body_markdown":"Use the [Attach API](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/package-summary.html) to load an agent into an already running VM. If your agent is already running in the VM, use [`Instrumentation.appendToSystemClassLoaderSearch`](https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch%28java.util.jar.JarFile%29).","body":"Use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/package-summary.html\" rel=\"nofollow noreferrer\">Attach API</a> to load an agent into an already running VM. If your agent is already running in the VM, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch%28java.util.jar.JarFile%29\" rel=\"nofollow noreferrer\"><code>Instrumentation.appendToSystemClassLoaderSearch</code></a>."},{"owner":{"account_id":22389122,"reputation":93,"user_id":16601506,"display_name":"AntoineG"},"score":0,"creation_date":1640789296,"post_id":70520775,"comment_id":124659331,"body_markdown":"Will the ByteBuddy agent run without the library jar loaded in the JVM ?","body":"Will the ByteBuddy agent run without the library jar loaded in the JVM ?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1640789476,"post_id":70520775,"comment_id":124659393,"body_markdown":"Then pack the agent with all required dependencies into one jar.","body":"Then pack the agent with all required dependencies into one jar."},{"owner":{"account_id":22389122,"reputation":93,"user_id":16601506,"display_name":"AntoineG"},"score":0,"creation_date":1640789560,"post_id":70520775,"comment_id":124659428,"body_markdown":"I&#39;m going to try that, thank you !","body":"I&#39;m going to try that, thank you !"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640799915,"creation_date":1640799915,"answer_id":70523053,"question_id":70520775,"body_markdown":"Often, agents shade all of their dependencies into a single jar. This can still be problematic. Byte Buddy is a rather common dependency, it night already be on the class path but in a different version. To avoid this, many agents shade their dependency into a different namespace.","title":"How to load a class from a Jar file at runtime with the Java Debug Interface","body":"<p>Often, agents shade all of their dependencies into a single jar. This can still be problematic. Byte Buddy is a rather common dependency, it night already be on the class path but in a different version. To avoid this, many agents shade their dependency into a different namespace.</p>\n"}],"owner":{"account_id":22389122,"reputation":93,"user_id":16601506,"display_name":"AntoineG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70523053,"answer_count":1,"score":0,"last_activity_date":1640799915,"creation_date":1640788148,"question_id":70520775,"body_markdown":"I am trying to inject a ByteBuddy agent at runtime, in a case where ByteBuddy was not present on the machine (and thus not in the classpath) when the JVM was launched. My first thought was to add the bytebuddy library jar files inside a directory present in the classpath, so that it gets loaded when I inject my agent, but I cannot find a way to retrieve the classpath of the running JVM. I was thus wondering if it is possible to use the Java Debug Interface to manually load the bytebuddy library jar files in the JVM just before injecting my agent.\r\n\r\nI tried to adapt [this][1] code (using the JDI), which translate for the first two lines to :\r\n\r\n```java\r\nClassType jarFileClass = (ClassType) findClassRef(&quot;java.util.jar.JarFile&quot;);\r\nMethod jarFileInit = findOverloadRef(&quot;java.util.jar.JarFile&quot;, &quot;&lt;init&gt;&quot;, &quot;java.lang.String&quot;);\r\nMethod entries = findOverloadRef(&quot;java.util.jar.JarFile&quot;, &quot;entries&quot;, &quot;&quot;);\r\nArrayList&lt;Value&gt; argz = new ArrayList&lt;Value&gt;();\r\nargz.add(vm.mirrorOf(path)); // path is the path to the bytebuddy library jar file, as a String\r\nObjectReference jarFile = jarFileClass.newInstance(ev.thread(), jarFileInit, argz, ObjectReference.INVOKE_SINGLE_THREADED);\r\nObjectReference x = jarFile.invokeMethod(ev.thread(), entries, new ArrayList&lt;Value&gt;(), ObjectReference.INVOKE_SINGLE_THREADED);\r\n```\r\nwhere `findClassRef` and `findOverloadRef` are methods of my own to respectively get a `ReferenceType` and a `Method` object.\r\nSadly, I cannot get any further as the `java.net.URL[]` class is not loaded in the JVM, and thus I cannot get a ReferenceType for it.\r\n\r\nHow can I pursue my quest ?\r\n\r\n  [1]: https://stackoverflow.com/a/11016392/16601506","title":"How to load a class from a Jar file at runtime with the Java Debug Interface","body":"<p>I am trying to inject a ByteBuddy agent at runtime, in a case where ByteBuddy was not present on the machine (and thus not in the classpath) when the JVM was launched. My first thought was to add the bytebuddy library jar files inside a directory present in the classpath, so that it gets loaded when I inject my agent, but I cannot find a way to retrieve the classpath of the running JVM. I was thus wondering if it is possible to use the Java Debug Interface to manually load the bytebuddy library jar files in the JVM just before injecting my agent.</p>\n<p>I tried to adapt <a href=\"https://stackoverflow.com/a/11016392/16601506\">this</a> code (using the JDI), which translate for the first two lines to :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassType jarFileClass = (ClassType) findClassRef(&quot;java.util.jar.JarFile&quot;);\nMethod jarFileInit = findOverloadRef(&quot;java.util.jar.JarFile&quot;, &quot;&lt;init&gt;&quot;, &quot;java.lang.String&quot;);\nMethod entries = findOverloadRef(&quot;java.util.jar.JarFile&quot;, &quot;entries&quot;, &quot;&quot;);\nArrayList&lt;Value&gt; argz = new ArrayList&lt;Value&gt;();\nargz.add(vm.mirrorOf(path)); // path is the path to the bytebuddy library jar file, as a String\nObjectReference jarFile = jarFileClass.newInstance(ev.thread(), jarFileInit, argz, ObjectReference.INVOKE_SINGLE_THREADED);\nObjectReference x = jarFile.invokeMethod(ev.thread(), entries, new ArrayList&lt;Value&gt;(), ObjectReference.INVOKE_SINGLE_THREADED);\n</code></pre>\n<p>where <code>findClassRef</code> and <code>findOverloadRef</code> are methods of my own to respectively get a <code>ReferenceType</code> and a <code>Method</code> object.\nSadly, I cannot get any further as the <code>java.net.URL[]</code> class is not loaded in the JVM, and thus I cannot get a ReferenceType for it.</p>\n<p>How can I pursue my quest ?</p>\n"},{"tags":["java","swing","jframe","layout-manager","grid-layout"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1640798776,"post_id":70522732,"comment_id":124662775,"body_markdown":"1) Class names should start with an upper case character. 2) Don&#39;t extend JFrame, there is no need to extend any class. Your code creates an instance of JFrame so there is no need for two instances. 3) Swing components are visible by default, so no need to make the panel visible.","body":"1) Class names should start with an upper case character. 2) Don&#39;t extend JFrame, there is no need to extend any class. Your code creates an instance of JFrame so there is no need for two instances. 3) Swing components are visible by default, so no need to make the panel visible."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640799797,"creation_date":1640798293,"answer_id":70522778,"question_id":70522732,"body_markdown":"You&#39;ve got several problems including:\r\n\r\n* Calling `setVisible(true)` on the JFrame ***before*** adding components, before calling `pack()` on the top-level window. This can lead to wonky positioned components within our GUI&#39;s or even GUI&#39;s that remain empty\r\n* Not calling `pack()` on the JFrame after adding components and before setting it visible\r\n* Setting the size of the JFrame. Let the layout managers, containers and components do this for you (which is what calling `pack()` is for)\r\n* Setting it to a bad size, a &quot;perfect square&quot;, one that ignores the menu bar that the OS adds,\r\n* ...\r\n\r\nFor example:\r\n\r\n```\r\npackage foo01;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class SnakePanel extends JPanel {\r\n\tprivate static final int CELL_WIDTH = 80;\r\n\tprivate static final Dimension CELL_DIMENSION = new Dimension(CELL_WIDTH, CELL_WIDTH);\r\n\tprivate static final int COLUMNS = 10;\r\n\tprivate static final int GAP = 2;\r\n\tprivate static final Color BG_COLOR = Color.WHITE;\r\n\tprivate static final Color CELL_COLOR = Color.RED;\r\n\r\n\tpublic SnakePanel() {\r\n\t\tsetBackground(BG_COLOR);\r\n\t\t\r\n\t\t// add a white line around the grid\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP));\r\n\t\t\r\n\t\t// create a grid with gaps that show the background (white) color\r\n\t\tsetLayout(new GridLayout(COLUMNS, COLUMNS, GAP, GAP));\r\n\r\n\t\tfor (int row = 0; row &lt; COLUMNS; row++) {\r\n\t\t\tfor (int col = 0; col &lt; COLUMNS; col++) {\r\n\t\t\t\tJPanel cell = new JPanel(); // create a new cell\r\n\t\t\t\tcell.setPreferredSize(CELL_DIMENSION); // cheating here. Better to override getPreferredSize()\r\n\t\t\t\tcell.setBackground(CELL_COLOR);\r\n\t\t\t\tadd(cell);\r\n\t\t\t\t\r\n\t\t\t\t// give the cell JPanel some simple behavior:\r\n\t\t\t\tcell.addMouseListener(new MyMouse(col, row));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate class MyMouse extends MouseAdapter {\r\n\t\tprivate int col;\r\n\t\tprivate int row;\r\n\r\n\t\tpublic MyMouse(int col, int row) {\r\n\t\t\tthis.col = col;\r\n\t\t\tthis.row = row;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\tSystem.out.printf(&quot;Mouse pressed row and column: [%d, %d]%n&quot;, row, col);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\t// create the main JPanel\r\n\t\t\tSnakePanel snakePanel = new SnakePanel();\r\n\r\n\t\t\t// create the JFrame\r\n\t\t\tJFrame frame = new JFrame(&quot;Snake&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\r\n\t\t\t// add the main JPanel to the JFrame\r\n\t\t\tframe.add(snakePanel);\r\n\t\t\t\r\n\t\t\t// pack the JFrame -- tells the layout managers to do their things\r\n\t\t\tframe.pack();\r\n\t\t\t\r\n\t\t\t// if we want to center the GUI:\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\r\n\t\t\t// only *now* do we display the GUI\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nSome notes on the code:\r\n\r\nAny code within the Runnable passed into the `SwingUtilities.invokeLater(...)` method is called on the Swing event thread, which is a wise thing to do when creating a Swing GUI\r\n```\r\nSwingUtilities.invokeLater(() -&gt; {\r\n    // ....\r\n});\r\n```\r\n\r\n\r\nFirst, create the main JPanel that is held by the JFrame:\r\n```\r\nSnakePanel snakePanel = new SnakePanel();\r\n```\r\n\r\nThen create the JFrame, add that JPanel and call `pack()`. The pack call tells the layout managers to do there thing, to lay out components within containers, to size things based on their preferred sizes and their layouts:\r\n```\r\nJFrame frame = new JFrame(&quot;Snake&quot;);\r\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\nframe.add(snakePanel);\r\nframe.pack();\r\n```\r\n\r\nif we want to center the GUI:\r\n```\r\nframe.setLocationRelativeTo(null);\r\n```\r\n\r\nonly *now* do we display the GUI\r\n```\r\nframe.setVisible(true);\r\n```","title":"GridLayout is showing odd behavior","body":"<p>You've got several problems including:</p>\n<ul>\n<li>Calling <code>setVisible(true)</code> on the JFrame <em><strong>before</strong></em> adding components, before calling <code>pack()</code> on the top-level window. This can lead to wonky positioned components within our GUI's or even GUI's that remain empty</li>\n<li>Not calling <code>pack()</code> on the JFrame after adding components and before setting it visible</li>\n<li>Setting the size of the JFrame. Let the layout managers, containers and components do this for you (which is what calling <code>pack()</code> is for)</li>\n<li>Setting it to a bad size, a &quot;perfect square&quot;, one that ignores the menu bar that the OS adds,</li>\n<li>...</li>\n</ul>\n<p>For example:</p>\n<pre><code>package foo01;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class SnakePanel extends JPanel {\n    private static final int CELL_WIDTH = 80;\n    private static final Dimension CELL_DIMENSION = new Dimension(CELL_WIDTH, CELL_WIDTH);\n    private static final int COLUMNS = 10;\n    private static final int GAP = 2;\n    private static final Color BG_COLOR = Color.WHITE;\n    private static final Color CELL_COLOR = Color.RED;\n\n    public SnakePanel() {\n        setBackground(BG_COLOR);\n        \n        // add a white line around the grid\n        setBorder(BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP));\n        \n        // create a grid with gaps that show the background (white) color\n        setLayout(new GridLayout(COLUMNS, COLUMNS, GAP, GAP));\n\n        for (int row = 0; row &lt; COLUMNS; row++) {\n            for (int col = 0; col &lt; COLUMNS; col++) {\n                JPanel cell = new JPanel(); // create a new cell\n                cell.setPreferredSize(CELL_DIMENSION); // cheating here. Better to override getPreferredSize()\n                cell.setBackground(CELL_COLOR);\n                add(cell);\n                \n                // give the cell JPanel some simple behavior:\n                cell.addMouseListener(new MyMouse(col, row));\n            }\n        }\n    }\n\n    private class MyMouse extends MouseAdapter {\n        private int col;\n        private int row;\n\n        public MyMouse(int col, int row) {\n            this.col = col;\n            this.row = row;\n        }\n        \n        @Override\n        public void mousePressed(MouseEvent e) {\n            System.out.printf(&quot;Mouse pressed row and column: [%d, %d]%n&quot;, row, col);\n        }\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            // create the main JPanel\n            SnakePanel snakePanel = new SnakePanel();\n\n            // create the JFrame\n            JFrame frame = new JFrame(&quot;Snake&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            \n            // add the main JPanel to the JFrame\n            frame.add(snakePanel);\n            \n            // pack the JFrame -- tells the layout managers to do their things\n            frame.pack();\n            \n            // if we want to center the GUI:\n            frame.setLocationRelativeTo(null);\n            \n            // only *now* do we display the GUI\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>Some notes on the code:</p>\n<p>Any code within the Runnable passed into the <code>SwingUtilities.invokeLater(...)</code> method is called on the Swing event thread, which is a wise thing to do when creating a Swing GUI</p>\n<pre><code>SwingUtilities.invokeLater(() -&gt; {\n    // ....\n});\n</code></pre>\n<p>First, create the main JPanel that is held by the JFrame:</p>\n<pre><code>SnakePanel snakePanel = new SnakePanel();\n</code></pre>\n<p>Then create the JFrame, add that JPanel and call <code>pack()</code>. The pack call tells the layout managers to do there thing, to lay out components within containers, to size things based on their preferred sizes and their layouts:</p>\n<pre><code>JFrame frame = new JFrame(&quot;Snake&quot;);\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nframe.add(snakePanel);\nframe.pack();\n</code></pre>\n<p>if we want to center the GUI:</p>\n<pre><code>frame.setLocationRelativeTo(null);\n</code></pre>\n<p>only <em>now</em> do we display the GUI</p>\n<pre><code>frame.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":15471391,"reputation":5,"user_id":11161359,"display_name":"someCoder21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70522778,"answer_count":1,"score":0,"last_activity_date":1640799797,"creation_date":1640798005,"question_id":70522732,"body_markdown":"I am trying to create a grid comprised of 100 squares. My code below is extremely buggy and I am not sure why.\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.Border;\r\n    import java.awt.*;\r\n    \r\n    public class snake extends JFrame\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Border whiteLine = BorderFactory.createLineBorder(Color.white);\r\n            //-----------FRAME\r\n            JFrame frame = new JFrame();\r\n            frame.setSize(1000,1000);\r\n            frame.setTitle(&quot;Snake&quot;);\r\n            frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            frame.getContentPane().setBackground(Color.black);\r\n            frame.setVisible(true);\r\n            frame.setLayout(new GridLayout(10,10));\r\n            //-----------FRAME\r\n    \r\n            //-----------PANELS\r\n            Dimension panelDimension = new Dimension(20,20);\r\n    \r\n            int counter = 0;\r\n            JPanel[][] p = new JPanel[10][10];\r\n            for (int i = 0; i &lt; 10; i++)\r\n            {\r\n                for (int j = 0; j &lt; 10; j++)\r\n                {\r\n                    p[i][j] = new JPanel();\r\n                    //p[i][j].setPreferredSize(panelDimension);\r\n                    p[i][j].setBackground(Color.red);\r\n                    //p[i][j].setLocation(490,490);\r\n                    p[i][j].setBorder(whiteLine);\r\n                    p[i][j].setVisible(true);\r\n    \r\n                    frame.getContentPane().add(p[i][j]);\r\n    \r\n                    counter+=1;\r\n                }\r\n            }\r\n           System.out.println(&quot;counter: &quot; + counter);\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nWhen I run the code like this it shows a grid comprised of 2 columns the first column has 7 rows and the second column has 6. Sometimes it even shows other incorrect numbers of columns and rows. I am not sure why it doesn&#39;t create a grid of 10 rows 10 columns.","title":"GridLayout is showing odd behavior","body":"<p>I am trying to create a grid comprised of 100 squares. My code below is extremely buggy and I am not sure why.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.Border;\nimport java.awt.*;\n\npublic class snake extends JFrame\n{\n    public static void main(String[] args)\n    {\n        Border whiteLine = BorderFactory.createLineBorder(Color.white);\n        //-----------FRAME\n        JFrame frame = new JFrame();\n        frame.setSize(1000,1000);\n        frame.setTitle(&quot;Snake&quot;);\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        frame.getContentPane().setBackground(Color.black);\n        frame.setVisible(true);\n        frame.setLayout(new GridLayout(10,10));\n        //-----------FRAME\n\n        //-----------PANELS\n        Dimension panelDimension = new Dimension(20,20);\n\n        int counter = 0;\n        JPanel[][] p = new JPanel[10][10];\n        for (int i = 0; i &lt; 10; i++)\n        {\n            for (int j = 0; j &lt; 10; j++)\n            {\n                p[i][j] = new JPanel();\n                //p[i][j].setPreferredSize(panelDimension);\n                p[i][j].setBackground(Color.red);\n                //p[i][j].setLocation(490,490);\n                p[i][j].setBorder(whiteLine);\n                p[i][j].setVisible(true);\n\n                frame.getContentPane().add(p[i][j]);\n\n                counter+=1;\n            }\n        }\n       System.out.println(&quot;counter: &quot; + counter);\n\n\n    }\n}\n</code></pre>\n<p>When I run the code like this it shows a grid comprised of 2 columns the first column has 7 rows and the second column has 6. Sometimes it even shows other incorrect numbers of columns and rows. I am not sure why it doesn't create a grid of 10 rows 10 columns.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":4,"creation_date":1640744736,"post_id":70514353,"comment_id":124648520,"body_markdown":"`dstOne.imageProperty().addListener((o, oldImage, newImage) -&gt; { /* ... */ });`","body":"<code>dstOne.imageProperty().addListener((o, oldImage, newImage) -&gt; { &#47;* ... *&#47; });</code>"},{"owner":{"account_id":17048308,"reputation":13,"user_id":12334580,"display_name":"dip chit"},"score":0,"creation_date":1640833195,"post_id":70514353,"comment_id":124670896,"body_markdown":"@VGR thanks, sir","body":"@VGR thanks, sir"}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640799695,"creation_date":1640799695,"answer_id":70523014,"question_id":70514353,"body_markdown":"```public void changed()``` is not the correct method signature for the ChangeListener interface.  The ```image``` property is not a Boolean either. Fix that. This is the interface method:\r\n\r\n```void changed(ObservableValue&lt;? extends T&gt; observable, T oldValue, T newValue)```\r\n\r\nFor the image property the type (```T```) is Image.\r\nhttps://docs.oracle.com/javase/8/javafx/api/javafx/scene/image/ImageView.html#imageProperty\r\n\r\nUsing any decent IDE, the correct method signature could have been completed for you.","title":"ImageView Change Listener in JavaFX","body":"<p><code>public void changed()</code> is not the correct method signature for the ChangeListener interface.  The <code>image</code> property is not a Boolean either. Fix that. This is the interface method:</p>\n<p><code>void changed(ObservableValue&lt;? extends T&gt; observable, T oldValue, T newValue)</code></p>\n<p>For the image property the type (<code>T</code>) is Image.\n<a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/image/ImageView.html#imageProperty\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/javafx/api/javafx/scene/image/ImageView.html#imageProperty</a></p>\n<p>Using any decent IDE, the correct method signature could have been completed for you.</p>\n"}],"owner":{"account_id":17048308,"reputation":13,"user_id":12334580,"display_name":"dip chit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70523014,"answer_count":1,"score":0,"last_activity_date":1640799695,"creation_date":1640742383,"question_id":70514353,"body_markdown":"How can I set up a change listener for an ImageView&#39;s image property?\r\n```        \r\n//dstOne is an ImageView\r\ndstOne.imageProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\r\n            public void changed() {\r\n\r\n            }\r\n        });\r\n```","title":"ImageView Change Listener in JavaFX","body":"<p>How can I set up a change listener for an ImageView's image property?</p>\n<pre><code>//dstOne is an ImageView\ndstOne.imageProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\n            public void changed() {\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","android","webview","sdk","nfc"],"answers":[{"tags":[],"owner":{"account_id":13105527,"reputation":111,"user_id":9468492,"display_name":"miles_christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522411562,"creation_date":1522411562,"answer_id":49574130,"question_id":49573843,"body_markdown":"Everything about using NFC for Android is in the docs [NFC Basics][1]\r\n\r\nFirst thing to know is the type of NFC tag you are dealing with (NDEF or other format) from there you should be able to figure out how to scan it from the docs.  If not sure about the tag type you can download one of the many NFC tools in the app store to try and get information from the tag.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/nfc/nfc.html","title":"Read nfc in app and get value of text","body":"<p>Everything about using NFC for Android is in the docs <a href=\"https://developer.android.com/guide/topics/connectivity/nfc/nfc.html\" rel=\"nofollow noreferrer\">NFC Basics</a></p>\n\n<p>First thing to know is the type of NFC tag you are dealing with (NDEF or other format) from there you should be able to figure out how to scan it from the docs.  If not sure about the tag type you can download one of the many NFC tools in the app store to try and get information from the tag.</p>\n"},{"tags":[],"owner":{"account_id":23777643,"reputation":1,"user_id":17790844,"display_name":"Elisabeth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640799394,"creation_date":1640799394,"answer_id":70522968,"question_id":49573843,"body_markdown":"NFC works in WebViewGold, if I remember it correctly? We built a NFC WebView app with that approach.\r\nTry this:\r\n\r\n    &lt;a href=&quot;readnfc://&quot;&gt;Read an NFC Tag&lt;/a&gt;\r\n\r\nand\r\n\r\n    writenfc://?value=data \r\n\r\n:-)","title":"Read nfc in app and get value of text","body":"<p>NFC works in WebViewGold, if I remember it correctly? We built a NFC WebView app with that approach.\nTry this:</p>\n<pre><code>&lt;a href=&quot;readnfc://&quot;&gt;Read an NFC Tag&lt;/a&gt;\n</code></pre>\n<p>and</p>\n<pre><code>writenfc://?value=data \n</code></pre>\n<p>:-)</p>\n"}],"owner":{"account_id":8442618,"reputation":1,"user_id":6334534,"accept_rate":50,"display_name":"Matt Penfold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":925,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640799394,"creation_date":1522410386,"question_id":49573843,"body_markdown":"i have a standard webview app. im trying to impliment NFC reading so when an NFC tag is scanned it opens the app if not already open and goes to a custom web address using the app. i for the life of me cannot work out how to do. the code for the web app is below i am new to this and have no idea how to add nfc to existing app.\r\n\r\nAndroid Manifest\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;web.webapp&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot; &gt;\r\n        &lt;activity android:name=&quot;.WebActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\njava\r\n\r\n        Webactivity.java\r\n    \r\n    import android.app.AlertDialog;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.media.AudioManager;\r\n    import android.net.Uri;\r\n    import android.os.Handler;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.KeyEvent;\r\n    import android.webkit.DownloadListener;\r\n    import android.webkit.WebChromeClient;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.Toast;\r\n    \r\n    public class WebActivity extends AppCompatActivity {\r\n    private WebView webView;\r\n    private boolean backButtonPressed = false;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_web);\r\n    \r\n    loadWebView();\r\n    }\r\n    \r\n    private void loadWebView() {\r\n    String URL = getString(R.string.url);\r\n    webView = (WebView) findViewById(R.id.webview);\r\n    webView.clearCache(true);\r\n    disableBrowserPopup();\r\n    enableDownloadListener();\r\n    enableMediaVolume();\r\n    enableJavascript();\r\n    enableZoom();\r\n    webView.loadUrl(URL);\r\n    }\r\n    \r\n    private void enableMediaVolume() {\r\n    setVolumeControlStream(AudioManager.STREAM_MUSIC);\r\n    }\r\n    \r\n    private void enableZoom() {\r\n    webView.getSettings().setBuiltInZoomControls(true);\r\n    webView.getSettings().setDisplayZoomControls(false);\r\n    }\r\n    \r\n    private void enableJavascript() {\r\n    webView.getSettings().setJavaScriptEnabled(true);\r\n    webView.getSettings().setDomStorageEnabled(true);\r\n    webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\r\n    webView.setWebChromeClient(new WebChromeClient());\r\n    }\r\n    \r\n    private void enableDownloadListener() {\r\n    webView.setDownloadListener(new DownloadListener() {\r\n    public void onDownloadStart(String url, String userAgent,\r\n    String contentDisposition, String mimetype,\r\n    long contentLength) {\r\n    Intent intent = new Intent(Intent.ACTION_VIEW);\r\n    intent.setData(Uri.parse(url));\r\n    startActivity(intent);\r\n    }\r\n    });\r\n    }\r\n    \r\n    private void disableBrowserPopup() {\r\n    webView.setWebViewClient(new WebViewClient() {\r\n    @Override\r\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n    view.loadUrl(url);\r\n    return true;\r\n    }\r\n    });\r\n    }\r\n    \r\n    private void exitPopup() {\r\n    new AlertDialog.Builder(this)\r\n    .setMessage(&quot;Exit &quot; + getString(R.string.app_name) + &quot;?&quot;)\r\n    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n    @Override\r\n    public void onClick(DialogInterface dialog, int which) {\r\n    WebActivity.super.onBackPressed();\r\n    System.exit(0);\r\n    }\r\n    })\r\n    .setNegativeButton(&quot;No&quot;, null)\r\n    .show();\r\n    }\r\n    \r\n    @Override\r\n    public void onBackPressed() {\r\n    if (webView.canGoBack()) {\r\n    webView.goBack();\r\n    return;\r\n    }\r\n    if (backButtonPressed) {\r\n    exitPopup();\r\n    return;\r\n    }\r\n    backButtonPressed = true;\r\n    Toast.makeText(this, &quot;Press BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n    new Handler().postDelayed(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n    backButtonPressed = false;\r\n    }\r\n    }, 2000);\r\n    }\r\n    \r\n    @Override\r\n    public boolean onKeyLongPress(int keyCode, KeyEvent event) {\r\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n    exitPopup();\r\n    return true;\r\n    }\r\n    return super.onKeyLongPress(keyCode, event);\r\n    }\r\n    \r\n    }\r\n\r\n\r\nany help would be fantastic\r\n\r\n\r\n\r\n","title":"Read nfc in app and get value of text","body":"<p>i have a standard webview app. im trying to impliment NFC reading so when an NFC tag is scanned it opens the app if not already open and goes to a custom web address using the app. i for the life of me cannot work out how to do. the code for the web app is below i am new to this and have no idea how to add nfc to existing app.</p>\n\n<p>Android Manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"web.webapp\"&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/Theme.AppCompat.NoActionBar\" &gt;\n    &lt;activity android:name=\".WebActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>java</p>\n\n<pre><code>    Webactivity.java\n\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.media.AudioManager;\nimport android.net.Uri;\nimport android.os.Handler;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.KeyEvent;\nimport android.webkit.DownloadListener;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\n\npublic class WebActivity extends AppCompatActivity {\nprivate WebView webView;\nprivate boolean backButtonPressed = false;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_web);\n\nloadWebView();\n}\n\nprivate void loadWebView() {\nString URL = getString(R.string.url);\nwebView = (WebView) findViewById(R.id.webview);\nwebView.clearCache(true);\ndisableBrowserPopup();\nenableDownloadListener();\nenableMediaVolume();\nenableJavascript();\nenableZoom();\nwebView.loadUrl(URL);\n}\n\nprivate void enableMediaVolume() {\nsetVolumeControlStream(AudioManager.STREAM_MUSIC);\n}\n\nprivate void enableZoom() {\nwebView.getSettings().setBuiltInZoomControls(true);\nwebView.getSettings().setDisplayZoomControls(false);\n}\n\nprivate void enableJavascript() {\nwebView.getSettings().setJavaScriptEnabled(true);\nwebView.getSettings().setDomStorageEnabled(true);\nwebView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\nwebView.setWebChromeClient(new WebChromeClient());\n}\n\nprivate void enableDownloadListener() {\nwebView.setDownloadListener(new DownloadListener() {\npublic void onDownloadStart(String url, String userAgent,\nString contentDisposition, String mimetype,\nlong contentLength) {\nIntent intent = new Intent(Intent.ACTION_VIEW);\nintent.setData(Uri.parse(url));\nstartActivity(intent);\n}\n});\n}\n\nprivate void disableBrowserPopup() {\nwebView.setWebViewClient(new WebViewClient() {\n@Override\npublic boolean shouldOverrideUrlLoading(WebView view, String url) {\nview.loadUrl(url);\nreturn true;\n}\n});\n}\n\nprivate void exitPopup() {\nnew AlertDialog.Builder(this)\n.setMessage(\"Exit \" + getString(R.string.app_name) + \"?\")\n.setPositiveButton(\"Yes\", new DialogInterface.OnClickListener() {\n@Override\npublic void onClick(DialogInterface dialog, int which) {\nWebActivity.super.onBackPressed();\nSystem.exit(0);\n}\n})\n.setNegativeButton(\"No\", null)\n.show();\n}\n\n@Override\npublic void onBackPressed() {\nif (webView.canGoBack()) {\nwebView.goBack();\nreturn;\n}\nif (backButtonPressed) {\nexitPopup();\nreturn;\n}\nbackButtonPressed = true;\nToast.makeText(this, \"Press BACK again to exit\", Toast.LENGTH_SHORT).show();\nnew Handler().postDelayed(new Runnable() {\n@Override\npublic void run() {\nbackButtonPressed = false;\n}\n}, 2000);\n}\n\n@Override\npublic boolean onKeyLongPress(int keyCode, KeyEvent event) {\nif (keyCode == KeyEvent.KEYCODE_BACK) {\nexitPopup();\nreturn true;\n}\nreturn super.onKeyLongPress(keyCode, event);\n}\n\n}\n</code></pre>\n\n<p>any help would be fantastic</p>\n"},{"tags":["java","android","temporary-files"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640682424,"post_id":70498728,"comment_id":124631156,"body_markdown":"Does Device Explorer of Android Studio not show this directory? Otherwise just change path of your temp file so that file managers have access.","body":"Does Device Explorer of Android Studio not show this directory? Otherwise just change path of your temp file so that file managers have access."},{"owner":{"account_id":5990492,"reputation":9346,"user_id":4706711,"accept_rate":87,"display_name":"Dimitrios Desyllas"},"score":0,"creation_date":1640694288,"post_id":70498728,"comment_id":124634622,"body_markdown":"The idea was to make an in-app temporary file so I can e4xtract some data from it.","body":"The idea was to make an in-app temporary file so I can e4xtract some data from it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640694814,"post_id":70498728,"comment_id":124634813,"body_markdown":"And your other idea was to inspect the cache dir. Now there are no tools for it. So i suggested to use another directory for which there are tools. I dont understand your reaction. You can extract data there too.","body":"And your other idea was to inspect the cache dir. Now there are no tools for it. So i suggested to use another directory for which there are tools. I dont understand your reaction. You can extract data there too."}],"answers":[{"tags":[],"owner":{"account_id":5990492,"reputation":9346,"user_id":4706711,"accept_rate":87,"display_name":"Dimitrios Desyllas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640798800,"creation_date":1640798800,"answer_id":70522856,"question_id":70498728,"body_markdown":"You can check if via adb as root:\r\n\r\n```\r\nadb root\r\nadb shell\r\n\r\n```\r\nOn the shell then run:\r\n\r\n```\r\nls -l ^path^\r\n```\r\n\r\nThe `^path^` value can be obtained via breakpoint upon:\r\n\r\n```\r\n     FileOutputStream download = new FileOutputStream(file);\r\n``` \r\nAnd evaluating the `file.toString()`\r\n\r\n\r\nOr via a log entry underneath the:\r\n \r\n```\r\nLog.d(&quot;Debug&quot;,file.toString());\r\n```\r\n\r\nAnd look on Logcat for it (You&#39;ll have a better change if you filter by `Debug`).\r\n\r\n---\r\n\r\n# Note:\r\n\r\nIn order to use breakpoint you&#39;ll need to:\r\n\r\n1. Select the line as image shows\r\n\r\n[![Select Breakpoint][1]][1]\r\n\r\n2. Then click on dug icon:\r\n[![Select Debug option][2]][2]\r\n\r\nA more detailed example you&#39;ll find in:\r\nhttps://www.youtube.com/watch?v=t2_Mtx9xzF8\r\n\r\n  [1]: https://i.stack.imgur.com/XQBZA.png\r\n  [2]: https://i.stack.imgur.com/aHgLZ.png","title":"How I can inspect that a temporary file has been created and sucessfuly written from an okHttp3 client?","body":"<p>You can check if via adb as root:</p>\n<pre><code>adb root\nadb shell\n\n</code></pre>\n<p>On the shell then run:</p>\n<pre><code>ls -l ^path^\n</code></pre>\n<p>The <code>^path^</code> value can be obtained via breakpoint upon:</p>\n<pre><code>     FileOutputStream download = new FileOutputStream(file);\n</code></pre>\n<p>And evaluating the <code>file.toString()</code></p>\n<p>Or via a log entry underneath the:</p>\n<pre><code>Log.d(&quot;Debug&quot;,file.toString());\n</code></pre>\n<p>And look on Logcat for it (You'll have a better change if you filter by <code>Debug</code>).</p>\n<hr />\n<h1>Note:</h1>\n<p>In order to use breakpoint you'll need to:</p>\n<ol>\n<li>Select the line as image shows</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/XQBZA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XQBZA.png\" alt=\"Select Breakpoint\" /></a></p>\n<ol start=\"2\">\n<li>Then click on dug icon:\n<a href=\"https://i.stack.imgur.com/aHgLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aHgLZ.png\" alt=\"Select Debug option\" /></a></li>\n</ol>\n<p>A more detailed example you'll find in:\n<a href=\"https://www.youtube.com/watch?v=t2_Mtx9xzF8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=t2_Mtx9xzF8</a></p>\n"}],"owner":{"account_id":5990492,"reputation":9346,"user_id":4706711,"accept_rate":87,"display_name":"Dimitrios Desyllas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70522856,"answer_count":1,"score":1,"last_activity_date":1640798800,"creation_date":1640627040,"question_id":70498728,"body_markdown":"I attempt to download a tarball using okHttp3:\r\n\r\n```\r\n    Request request = new Request.Builder().url(&quot;http://example.com/myfile.tar.gz&quot;).build();\r\n    Response response = client.newCall(request).execute();\r\n    ResponseBody downloadedTar = response.body();\r\n\r\n    // Status code checks goes here\r\n    if (downloadedTar == null) {\r\n       throw new SettingsFailedException();\r\n    }\r\n\r\n    File file = File.createTempFile(System.currentTimeMillis()+&quot;_file&quot;, &quot;.tar.gz&quot;, getContext().getCacheDir());\r\n     FileOutputStream download = new FileOutputStream(file);\r\n\r\n     download.write(downloadedTar.body().bytes());\r\n     download.flush();\r\n     download.close();\r\n```\r\n\r\nBut how I can check whether the temp file has been created without the need to write some code? Is there some sort of tool where I can inspect app&#39;s cache dir?","title":"How I can inspect that a temporary file has been created and sucessfuly written from an okHttp3 client?","body":"<p>I attempt to download a tarball using okHttp3:</p>\n<pre><code>    Request request = new Request.Builder().url(&quot;http://example.com/myfile.tar.gz&quot;).build();\n    Response response = client.newCall(request).execute();\n    ResponseBody downloadedTar = response.body();\n\n    // Status code checks goes here\n    if (downloadedTar == null) {\n       throw new SettingsFailedException();\n    }\n\n    File file = File.createTempFile(System.currentTimeMillis()+&quot;_file&quot;, &quot;.tar.gz&quot;, getContext().getCacheDir());\n     FileOutputStream download = new FileOutputStream(file);\n\n     download.write(downloadedTar.body().bytes());\n     download.flush();\n     download.close();\n</code></pre>\n<p>But how I can check whether the temp file has been created without the need to write some code? Is there some sort of tool where I can inspect app's cache dir?</p>\n"},{"tags":["java","quarkus","graalvm","quarkus-native"],"answers":[{"tags":[],"owner":{"account_id":543899,"reputation":2033,"user_id":635573,"accept_rate":63,"display_name":"Ricardo Cunha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640798548,"creation_date":1640798548,"answer_id":70522823,"question_id":70499624,"body_markdown":"So, after try to run as non-native the error is clear:\r\n\r\n    java.lang.UnsatisfiedLinkError: /usr/lib/libh3-java.so: /lib64/libm.so.6: version `GLIBC_2.29&#39; not found (required by /usr/lib/libh3-java.so)\r\n\r\nRunning as native there was no information about GLIBC_2.29 not found. This library is a very core library so I decided to move from docker image **quarkus-micro-image:1.0(GLIBC 2.28)** to **openjdk:11** as a base image since it is 2.31. Ubi-9 is beta at this moment.  ","title":"Quarkus native, not able to use a shared library from maven dependency","body":"<p>So, after try to run as non-native the error is clear:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: /usr/lib/libh3-java.so: /lib64/libm.so.6: version `GLIBC_2.29' not found (required by /usr/lib/libh3-java.so)\n</code></pre>\n<p>Running as native there was no information about GLIBC_2.29 not found. This library is a very core library so I decided to move from docker image <strong>quarkus-micro-image:1.0(GLIBC 2.28)</strong> to <strong>openjdk:11</strong> as a base image since it is 2.31. Ubi-9 is beta at this moment.</p>\n"}],"owner":{"account_id":543899,"reputation":2033,"user_id":635573,"accept_rate":63,"display_name":"Ricardo Cunha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70522823,"answer_count":1,"score":0,"last_activity_date":1640798548,"creation_date":1640633252,"question_id":70499624,"body_markdown":"I&#39;m trying to put a Quarkus server up using Graalvm with a maven dependency that loads a shared library(*.so file).\r\nHowever, after the server starts I&#39;m getting a java.lang.UnsatisfiedLinkError.\r\n\r\nSteps to reproduce the issue\r\n\r\n```git clone https://github.com/ricardocunha/h3-native-test```\r\n\r\n```mvn clean package -DskipTests &amp;&amp; docker build -f src/main/docker/Dockerfile.native -t quarkus/h3-test . &amp;&amp; docker run -i --rm -p 8080:8080 quarkus/h3-test```\r\n\r\nGraalVM and environment:\r\n\r\nGraalVM GraalVM 21.3.0\r\n* JDK major version: 11\r\n* OS: Linux (to be precise Ubuntu 20.04)\r\n* Architecture: AMD64\r\n\r\nMore details\r\n\r\nThe current error\r\n* java.lang.UnsatisfiedLinkError: Can&#39;t load library: /tmp/libh3-java.so \r\n\r\nhowever, a File.canRead returns true. So, I&#39;m not understanding what is happening.\r\n\r\nThe compilation command is:\r\n```\r\nnative-image -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager -J-Dsun.nio.ch.maxUpdateArraySize=100 -J-Dvertx.logger-delegate-factory-class-name=io.quarkus.vertx.core.runtime.VertxLogDelegateFactory -J-Dvertx.disableDnsResolver=true -J-Dio.netty.leakDetection.level=DISABLED -J-Dio.netty.allocator.maxOrder=3 -J-Duser.language=en -J-Duser.country=US -J-Dfile.encoding=UTF-8 -H:-ParseOnce -J--add-exports=java.security.jgss/sun.security.krb5=ALL-UNNAMED -J--add-opens=java.base/java.text=ALL-UNNAMED -H:ResourceConfigurationFiles=resource-config.json -H:+PrintClassInitialization --allow-incomplete-classpath -H:+JNI -Djava.library.path=/tmp -H:JNIConfigurationResources=jniconfig.json -H:InitialCollectionPolicy=com.oracle.svm.core.genscavenge.CollectionPolicy\\$BySpaceAndTime -H:+JNI -H:+AllowFoldMethods -J-Djava.awt.headless=true -H:FallbackThreshold=0 -H:+ReportExceptionStackTraces -H:-AddAllCharsets -H:EnableURLProtocols=http -H:NativeLinkerOption=-no-pie -H:-UseServiceLoaderFeature -H:+StackTrace h3-native-test-1.0.0-SNAPSHOT-runner -jar h3-native-test-1.0.0-SNAPSHOT-runner.jar```","title":"Quarkus native, not able to use a shared library from maven dependency","body":"<p>I'm trying to put a Quarkus server up using Graalvm with a maven dependency that loads a shared library(*.so file).\nHowever, after the server starts I'm getting a java.lang.UnsatisfiedLinkError.</p>\n<p>Steps to reproduce the issue</p>\n<p><code>git clone https://github.com/ricardocunha/h3-native-test</code></p>\n<p><code>mvn clean package -DskipTests &amp;&amp; docker build -f src/main/docker/Dockerfile.native -t quarkus/h3-test . &amp;&amp; docker run -i --rm -p 8080:8080 quarkus/h3-test</code></p>\n<p>GraalVM and environment:</p>\n<p>GraalVM GraalVM 21.3.0</p>\n<ul>\n<li>JDK major version: 11</li>\n<li>OS: Linux (to be precise Ubuntu 20.04)</li>\n<li>Architecture: AMD64</li>\n</ul>\n<p>More details</p>\n<p>The current error</p>\n<ul>\n<li>java.lang.UnsatisfiedLinkError: Can't load library: /tmp/libh3-java.so</li>\n</ul>\n<p>however, a File.canRead returns true. So, I'm not understanding what is happening.</p>\n<p>The compilation command is:</p>\n<pre><code>native-image -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager -J-Dsun.nio.ch.maxUpdateArraySize=100 -J-Dvertx.logger-delegate-factory-class-name=io.quarkus.vertx.core.runtime.VertxLogDelegateFactory -J-Dvertx.disableDnsResolver=true -J-Dio.netty.leakDetection.level=DISABLED -J-Dio.netty.allocator.maxOrder=3 -J-Duser.language=en -J-Duser.country=US -J-Dfile.encoding=UTF-8 -H:-ParseOnce -J--add-exports=java.security.jgss/sun.security.krb5=ALL-UNNAMED -J--add-opens=java.base/java.text=ALL-UNNAMED -H:ResourceConfigurationFiles=resource-config.json -H:+PrintClassInitialization --allow-incomplete-classpath -H:+JNI -Djava.library.path=/tmp -H:JNIConfigurationResources=jniconfig.json -H:InitialCollectionPolicy=com.oracle.svm.core.genscavenge.CollectionPolicy\\$BySpaceAndTime -H:+JNI -H:+AllowFoldMethods -J-Djava.awt.headless=true -H:FallbackThreshold=0 -H:+ReportExceptionStackTraces -H:-AddAllCharsets -H:EnableURLProtocols=http -H:NativeLinkerOption=-no-pie -H:-UseServiceLoaderFeature -H:+StackTrace h3-native-test-1.0.0-SNAPSHOT-runner -jar h3-native-test-1.0.0-SNAPSHOT-runner.jar```\n</code></pre>\n"},{"tags":["java","java-8","set"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1490720622,"post_id":43075589,"comment_id":73234800,"body_markdown":"There isn&#39;t really anything different in Java8 that would help you with that. What you do is first group input by `getName` with counting downstream collector, then loop over resulting map and look for a key with maximum entry value.","body":"There isn&#39;t really anything different in Java8 that would help you with that. What you do is first group input by <code>getName</code> with counting downstream collector, then loop over resulting map and look for a key with maximum entry value."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1490720859,"post_id":43075589,"comment_id":73234940,"body_markdown":"By the way, your question title is misleading: There is no most common item in Set, since a set will only contain unique items, meaning that each item is equally common.","body":"By the way, your question title is misleading: There is no most common item in Set, since a set will only contain unique items, meaning that each item is equally common."},{"owner":{"account_id":3180842,"reputation":1675,"user_id":2687589,"accept_rate":83,"display_name":"Brandon McKenzie"},"score":0,"creation_date":1490720909,"post_id":43075589,"comment_id":73234971,"body_markdown":"A Set can only have unique objects, but your example makes no guarantee that two Persons with the same name are not considered identical according to `Person.equals(...)`.","body":"A Set can only have unique objects, but your example makes no guarantee that two Persons with the same name are not considered identical according to <code>Person.equals(...)</code>."},{"owner":{"account_id":6503709,"reputation":2922,"user_id":5033475,"accept_rate":80,"display_name":"Roel Strolenberg"},"score":2,"creation_date":1490720944,"post_id":43075589,"comment_id":73234995,"body_markdown":"That&#39;s not true. It&#39;s a set of `Person` not `String`. So he can have multiple different person objects all with the same name, depending on his `equals` method","body":"That&#39;s not true. It&#39;s a set of <code>Person</code> not <code>String</code>. So he can have multiple different person objects all with the same name, depending on his <code>equals</code> method"},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1490721304,"post_id":43075589,"comment_id":73235204,"body_markdown":"What are your `equals` and `hashCode` (and `toString`) implementations for `Person`?","body":"What are your <code>equals</code> and <code>hashCode</code> (and <code>toString</code>) implementations for <code>Person</code>?"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1490724141,"post_id":43075589,"comment_id":73236753,"body_markdown":"What if multiple names tie for most common?","body":"What if multiple names tie for most common?"},{"owner":{"account_id":3180842,"reputation":1675,"user_id":2687589,"accept_rate":83,"display_name":"Brandon McKenzie"},"score":0,"creation_date":1490726704,"post_id":43075589,"comment_id":73238307,"body_markdown":"@RoelStrolenberg That&#39;s what I meant, since we don&#39;t know what his `equals` implementation was, the condition for equality is left ambiguous.","body":"@RoelStrolenberg That&#39;s what I meant, since we don&#39;t know what his <code>equals</code> implementation was, the condition for equality is left ambiguous."}],"answers":[{"tags":[],"owner":{"account_id":10558816,"reputation":33,"user_id":7779190,"display_name":"desconectad0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490721026,"creation_date":1490721026,"answer_id":43075792,"question_id":43075589,"body_markdown":"You can use a nested loop and go over the collection using equals method to compare the names, if it returns true add +1 to a counter and keep the name with more occurrences, or you can use a key/value object like a HashMap and store the number of times each name appears","title":"Correct way to get the most common name of all items in a Set using Java 8","body":"<p>You can use a nested loop and go over the collection using equals method to compare the names, if it returns true add +1 to a counter and keep the name with more occurrences, or you can use a key/value object like a HashMap and store the number of times each name appears</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490732131,"creation_date":1490732131,"answer_id":43079094,"question_id":43075589,"body_markdown":"You can use\r\n\r\n    public String findMostCommonName(Set&lt;Person&gt; personSet) {\r\n        return personSet.stream().map(Person::getName)\r\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n            .entrySet().stream()\r\n            .max(Map.Entry.comparingByValue()).map(Map.Entry::getKey)\r\n            .orElse(null);\r\n    }\r\n\r\n`personSet.stream().map(Person::getName)` straight-forwardly creates a stream of name strings, `.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))` counts the number of occurences into a `Map&lt;String,Long&gt;`, then `.entrySet().stream()` will stream over the entries and `.max(Map.Entry.comparingByValue()).map(Map.Entry::getKey)` will find the entry with the highest value, i.e. count, and extract the key, which is the string with that count.\r\n\r\nThe last `.orElse(null)` determines how to handle the situation when there is no result, i.e. `personSet` is empty. If you use `get()` instead, a `NoSuchElementException` will be thrown in that case.\r\n\r\nIn case of a tie, an arbitrary name out of the names with the highest number of occurrences will be returned.\r\n","title":"Correct way to get the most common name of all items in a Set using Java 8","body":"<p>You can use</p>\n\n<pre><code>public String findMostCommonName(Set&lt;Person&gt; personSet) {\n    return personSet.stream().map(Person::getName)\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n        .entrySet().stream()\n        .max(Map.Entry.comparingByValue()).map(Map.Entry::getKey)\n        .orElse(null);\n}\n</code></pre>\n\n<p><code>personSet.stream().map(Person::getName)</code> straight-forwardly creates a stream of name strings, <code>.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))</code> counts the number of occurences into a <code>Map&lt;String,Long&gt;</code>, then <code>.entrySet().stream()</code> will stream over the entries and <code>.max(Map.Entry.comparingByValue()).map(Map.Entry::getKey)</code> will find the entry with the highest value, i.e. count, and extract the key, which is the string with that count.</p>\n\n<p>The last <code>.orElse(null)</code> determines how to handle the situation when there is no result, i.e. <code>personSet</code> is empty. If you use <code>get()</code> instead, a <code>NoSuchElementException</code> will be thrown in that case.</p>\n\n<p>In case of a tie, an arbitrary name out of the names with the highest number of occurrences will be returned.</p>\n"},{"tags":[],"owner":{"account_id":21242025,"reputation":1,"user_id":15625335,"display_name":"Bhangyi Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640798358,"creation_date":1640798358,"answer_id":70522789,"question_id":43075589,"body_markdown":"    public String findMostCommonName(Set&lt;Person&gt; personSet) {\r\n        return personSet.stream().parallel().map(Person::getName)\r\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n            .entrySet().stream().parallel()\r\n            .max(Map.Entry.comparingByValue()).map(Map.Entry::getKey)\r\n            .orElse(null);\r\n    }\r\n\r\n&gt; Just added Parallelism to speed up the code by around 1.2x","title":"Correct way to get the most common name of all items in a Set using Java 8","body":"<pre><code>public String findMostCommonName(Set&lt;Person&gt; personSet) {\n    return personSet.stream().parallel().map(Person::getName)\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n        .entrySet().stream().parallel()\n        .max(Map.Entry.comparingByValue()).map(Map.Entry::getKey)\n        .orElse(null);\n}\n</code></pre>\n<blockquote>\n<p>Just added Parallelism to speed up the code by around 1.2x</p>\n</blockquote>\n"}],"owner":{"account_id":9755647,"reputation":810,"user_id":7232500,"accept_rate":0,"display_name":"000000000000000000000"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1640798358,"creation_date":1490720327,"question_id":43075589,"body_markdown":"I am currently trying to find the best way to find the most common name from all items in a Set.\r\n\r\nThe object in a Set are Person objects:\r\n\r\n    public class Person {\r\n         private String name;\r\n    \r\n         ...\r\n    \r\n         public String getName() {\r\n              return name;\r\n         }\r\n    }\r\n\r\n\r\nIn the method findMostCommonName, I want to find the most common name of all the Person objects in the given set.  Is there a Java 8 way to do that?\r\n\r\n    public String findMostCommonName(Set&lt;Person&gt; personSet) {\r\n    \r\n    //Code here\r\n    \r\n    }\r\n\r\nThanks.","title":"Correct way to get the most common name of all items in a Set using Java 8","body":"<p>I am currently trying to find the best way to find the most common name from all items in a Set.</p>\n\n<p>The object in a Set are Person objects:</p>\n\n<pre><code>public class Person {\n     private String name;\n\n     ...\n\n     public String getName() {\n          return name;\n     }\n}\n</code></pre>\n\n<p>In the method findMostCommonName, I want to find the most common name of all the Person objects in the given set.  Is there a Java 8 way to do that?</p>\n\n<pre><code>public String findMostCommonName(Set&lt;Person&gt; personSet) {\n\n//Code here\n\n}\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640798277,"creation_date":1640705343,"answer_id":70509141,"question_id":70507647,"body_markdown":"The crucial part of your `ArchRule` (which can be directly based on [`fields()`](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/lang/syntax/ArchRuleDefinition.html#fields()) or [`codeUnits()`](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/lang/syntax/ArchRuleDefinition.html#codeUnits())) can be expressed with custom [`ArchCondition`](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/lang/ArchCondition.html)s:\r\n\r\n```java\r\n@ArchTest\r\nstatic final ArchRule fields_of_type_HashMap_should_have_Comparable_key = fields()\r\n    .that().haveRawType(HashMap.class)\r\n    .should(haveComparableFirstTypeParameter());\r\n\r\n@ArchTest\r\nstatic final ArchRule code_units_should_have_parameters_of_type_HashMap_with_Comparable_key = codeUnits()\r\n    .should(new ArchCondition&lt;JavaCodeUnit&gt;(&quot;have parameters of type HashMap with Comparable key&quot;) {\r\n        @Override\r\n        public void check(JavaCodeUnit javaCodeUnit, ConditionEvents events) {\r\n            javaCodeUnit.getParameters().forEach(parameter -&gt; {\r\n                if (parameter.getRawType().isEquivalentTo(HashMap.class)) {\r\n                    haveComparableFirstTypeParameter().check(parameter, events);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n@ArchTest\r\nstatic final ArchRule methods_with_return_type_HashMap_should_have_return_types_with_Comparable_key = methods()\r\n    .that().haveRawReturnType(HashMap.class)\r\n    .should(new ArchCondition&lt;JavaMethod&gt;(&quot;have return type with Comparable key&quot;) {\r\n        @Override\r\n        public void check(JavaMethod method, ConditionEvents events) {\r\n            class ReturnType implements HasType, HasDescription {\r\n                @Override\r\n                public JavaType getType() { return method.getReturnType(); }\r\n                @Override\r\n                public JavaClass getRawType() { return method.getRawReturnType(); }\r\n                @Override\r\n                public String getDescription() { return &quot;Return type &lt;&quot; + getType().getName() + &quot;&gt; of &quot; + method.getDescription(); }\r\n            }\r\n            haveComparableFirstTypeParameter().check(new ReturnType(), events);\r\n        }\r\n    });\r\n\r\nprivate static &lt;T extends HasType &amp; HasDescription&gt; ArchCondition&lt;T&gt; haveComparableFirstTypeParameter() {\r\n    return new ArchCondition&lt;T&gt;(&quot;have Comparable first type parameter&quot;) {\r\n        @Override\r\n        public void check(T typed, ConditionEvents events) {\r\n            JavaType fieldType = typed.getType();\r\n            if (fieldType instanceof JavaParameterizedType) {\r\n                JavaType keyType = ((JavaParameterizedType) fieldType).getActualTypeArguments().get(0);\r\n                boolean satisfied = keyType.toErasure().getAllRawInterfaces().stream()\r\n                        .anyMatch(rawInterface -&gt; rawInterface.isEquivalentTo(Comparable.class));\r\n                String message = String.format(&quot;%s has a first type parameter %s that %s Comparable&quot;,\r\n                        typed.getDescription(), keyType.getName(), satisfied ? &quot;is&quot; : &quot;is not&quot;);\r\n                events.add(new SimpleConditionEvent(typed, satisfied, message));\r\n            } else {\r\n                events.add(SimpleConditionEvent.violated(typed, typed.getDescription() + &quot; is not parameterized&quot;));\r\n            }\r\n        }\r\n    };\r\n}\r\n```","title":"How to assert HashMap keys to be Comparable with ArchUnit?","body":"<p>The crucial part of your <code>ArchRule</code> (which can be directly based on <a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/lang/syntax/ArchRuleDefinition.html#fields()\" rel=\"nofollow noreferrer\"><code>fields()</code></a> or <a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/lang/syntax/ArchRuleDefinition.html#codeUnits()\" rel=\"nofollow noreferrer\"><code>codeUnits()</code></a>) can be expressed with custom <a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/lang/ArchCondition.html\" rel=\"nofollow noreferrer\"><code>ArchCondition</code></a>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nstatic final ArchRule fields_of_type_HashMap_should_have_Comparable_key = fields()\n    .that().haveRawType(HashMap.class)\n    .should(haveComparableFirstTypeParameter());\n\n@ArchTest\nstatic final ArchRule code_units_should_have_parameters_of_type_HashMap_with_Comparable_key = codeUnits()\n    .should(new ArchCondition&lt;JavaCodeUnit&gt;(&quot;have parameters of type HashMap with Comparable key&quot;) {\n        @Override\n        public void check(JavaCodeUnit javaCodeUnit, ConditionEvents events) {\n            javaCodeUnit.getParameters().forEach(parameter -&gt; {\n                if (parameter.getRawType().isEquivalentTo(HashMap.class)) {\n                    haveComparableFirstTypeParameter().check(parameter, events);\n                }\n            });\n        }\n    });\n\n@ArchTest\nstatic final ArchRule methods_with_return_type_HashMap_should_have_return_types_with_Comparable_key = methods()\n    .that().haveRawReturnType(HashMap.class)\n    .should(new ArchCondition&lt;JavaMethod&gt;(&quot;have return type with Comparable key&quot;) {\n        @Override\n        public void check(JavaMethod method, ConditionEvents events) {\n            class ReturnType implements HasType, HasDescription {\n                @Override\n                public JavaType getType() { return method.getReturnType(); }\n                @Override\n                public JavaClass getRawType() { return method.getRawReturnType(); }\n                @Override\n                public String getDescription() { return &quot;Return type &lt;&quot; + getType().getName() + &quot;&gt; of &quot; + method.getDescription(); }\n            }\n            haveComparableFirstTypeParameter().check(new ReturnType(), events);\n        }\n    });\n\nprivate static &lt;T extends HasType &amp; HasDescription&gt; ArchCondition&lt;T&gt; haveComparableFirstTypeParameter() {\n    return new ArchCondition&lt;T&gt;(&quot;have Comparable first type parameter&quot;) {\n        @Override\n        public void check(T typed, ConditionEvents events) {\n            JavaType fieldType = typed.getType();\n            if (fieldType instanceof JavaParameterizedType) {\n                JavaType keyType = ((JavaParameterizedType) fieldType).getActualTypeArguments().get(0);\n                boolean satisfied = keyType.toErasure().getAllRawInterfaces().stream()\n                        .anyMatch(rawInterface -&gt; rawInterface.isEquivalentTo(Comparable.class));\n                String message = String.format(&quot;%s has a first type parameter %s that %s Comparable&quot;,\n                        typed.getDescription(), keyType.getName(), satisfied ? &quot;is&quot; : &quot;is not&quot;);\n                events.add(new SimpleConditionEvent(typed, satisfied, message));\n            } else {\n                events.add(SimpleConditionEvent.violated(typed, typed.getDescription() + &quot; is not parameterized&quot;));\n            }\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":1287025,"reputation":749,"user_id":1239904,"accept_rate":64,"display_name":"Mahatma_Fatal_Error"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70509141,"answer_count":1,"score":0,"last_activity_date":1640798277,"creation_date":1640697560,"question_id":70507647,"body_markdown":"Background: https://dev.to/carey/java-map-keys-should-always-be-comparable-2c1b\r\n\r\nWhat I want to achieve:\r\n1. Find code that uses HashMap.\r\n2. Figure out the type of the HashMaps key.\r\n3. Check if the key type implements Comparable interface.\r\n4. (optional) Check if that type resides in a certain package.\r\n\r\nI a stuck at step 2\r\n\r\n    noClasses().that()\r\n\t\t\t.containAnyFieldsThat(have(rawType(HashMap.class)))\r\n\t\t\t.should()...\r\n\r\nAny ideas how I can get the type of a generic class? Thanks for support.","title":"How to assert HashMap keys to be Comparable with ArchUnit?","body":"<p>Background: <a href=\"https://dev.to/carey/java-map-keys-should-always-be-comparable-2c1b\" rel=\"nofollow noreferrer\">https://dev.to/carey/java-map-keys-should-always-be-comparable-2c1b</a></p>\n<p>What I want to achieve:</p>\n<ol>\n<li>Find code that uses HashMap.</li>\n<li>Figure out the type of the HashMaps key.</li>\n<li>Check if the key type implements Comparable interface.</li>\n<li>(optional) Check if that type resides in a certain package.</li>\n</ol>\n<p>I a stuck at step 2</p>\n<pre><code>noClasses().that()\n        .containAnyFieldsThat(have(rawType(HashMap.class)))\n        .should()...\n</code></pre>\n<p>Any ideas how I can get the type of a generic class? Thanks for support.</p>\n"},{"tags":["java","android","keyboard-events"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1640798631,"post_id":70522750,"comment_id":124662712,"body_markdown":"What you are describing -- monitoring all text input by the user -- is called spyware. Fortunately, that is not possible by ordinary apps. You are welcome to look into implementing an accessibility service, but you probably should talk to an attorney first.","body":"What you are describing -- monitoring all text input by the user -- is called spyware. Fortunately, that is not possible by ordinary apps. You are welcome to look into implementing an accessibility service, but you probably should talk to an attorney first."},{"owner":{"account_id":4644034,"reputation":41,"user_id":4743041,"display_name":"Jacob Harder"},"score":0,"creation_date":1640799042,"post_id":70522750,"comment_id":124662854,"body_markdown":"@CommonsWare I see! Though I will say that this was not my purpose at all","body":"@CommonsWare I see! Though I will say that this was not my purpose at all"},{"owner":{"account_id":4644034,"reputation":41,"user_id":4743041,"display_name":"Jacob Harder"},"score":0,"creation_date":1640799996,"post_id":70522750,"comment_id":124663160,"body_markdown":"In fact an accessibility service is more or less what I have in mind, so thanks for pointing me to this","body":"In fact an accessibility service is more or less what I have in mind, so thanks for pointing me to this"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1640800484,"post_id":70522750,"comment_id":124663321,"body_markdown":"Implementing an accessibility service for the purposes of improving accessibility is great! Note that the Play Store and other app distribution channels are cracking down on distributing accessibility services that do not improve accessibility.","body":"Implementing an accessibility service for the purposes of improving accessibility is great! Note that the Play Store and other app distribution channels are cracking down on distributing accessibility services that do not improve accessibility."}],"owner":{"account_id":4644034,"reputation":41,"user_id":4743041,"display_name":"Jacob Harder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640798122,"creation_date":1640798122,"question_id":70522750,"body_markdown":"I am developing an app &#39;A&#39;.\r\n\r\nBasically, say I want to add sounds to all key-up/down events, whenever I have turned on a switch A&#39;s UI.\r\n\r\nThe sounds from keystrokes should persist even after closing A, and using other apps (like messaging apps), and only should be turned off if one again opens A and turns off the switch.\r\n\r\nIn this way the app functions a bit like an extended settings-app. Even though this is not my final goal, any help in achieving the above would be much appreciated.\r\n\r\ncheers","title":"How to have android app add/change functionality of KeyDown/Up events, even when not active?","body":"<p>I am developing an app 'A'.</p>\n<p>Basically, say I want to add sounds to all key-up/down events, whenever I have turned on a switch A's UI.</p>\n<p>The sounds from keystrokes should persist even after closing A, and using other apps (like messaging apps), and only should be turned off if one again opens A and turns off the switch.</p>\n<p>In this way the app functions a bit like an extended settings-app. Even though this is not my final goal, any help in achieving the above would be much appreciated.</p>\n<p>cheers</p>\n"},{"tags":["java","eclipse","sequence-diagram","objectaid"],"comments":[{"owner":{"account_id":16453092,"reputation":852,"user_id":11886026,"display_name":"Trayan Momkov"},"score":0,"creation_date":1648798620,"post_id":69284471,"comment_id":126720323,"body_markdown":"Can I install a free version from this archive? Where is the archive?","body":"Can I install a free version from this archive? Where is the archive?"},{"owner":{"account_id":20491077,"reputation":93,"user_id":15037137,"display_name":"Bob"},"score":1,"creation_date":1648906028,"post_id":69284471,"comment_id":126744314,"body_markdown":"I couldn&#39;t agree more about how useful ObjectAid was. Ever since it&#39;s disappearance, I have not been able to create sequence diagrams. I have not yet found anything that comes close to its ease of use. The archive I was using was left-over from when ObjectAid was still available and I no longer have it nor do I know where you would be able to obtain it now. Meanwhile, I just discovered this post - https://stackoverflow.com/questions/68589918/objectaid-unhandled-event-loop-exception - perhaps this will be of some help? I&#39;ll be trying this myself later. Hopefully it works! Good luck.","body":"I couldn&#39;t agree more about how useful ObjectAid was. Ever since it&#39;s disappearance, I have not been able to create sequence diagrams. I have not yet found anything that comes close to its ease of use. The archive I was using was left-over from when ObjectAid was still available and I no longer have it nor do I know where you would be able to obtain it now. Meanwhile, I just discovered this post - <a href=\"https://stackoverflow.com/questions/68589918/objectaid-unhandled-event-loop-exception\" title=\"objectaid unhandled event loop exception\">stackoverflow.com/questions/68589918/&hellip;</a> - perhaps this will be of some help? I&#39;ll be trying this myself later. Hopefully it works! Good luck."},{"owner":{"account_id":16453092,"reputation":852,"user_id":11886026,"display_name":"Trayan Momkov"},"score":0,"creation_date":1648928378,"post_id":69284471,"comment_id":126748832,"body_markdown":"In that answer is explained how to fix it if you already have the ObjectAid jar which I don&#39;t have. But I&#39;ve found from where to download an old version and how to install it. See my answer here: https://stackoverflow.com/questions/71696763/how-to-install-objectaid-in-2022/71720676","body":"In that answer is explained how to fix it if you already have the ObjectAid jar which I don&#39;t have. But I&#39;ve found from where to download an old version and how to install it. See my answer here: <a href=\"https://stackoverflow.com/questions/71696763/how-to-install-objectaid-in-2022/71720676\" title=\"how to install objectaid in 2022\">stackoverflow.com/questions/71696763/&hellip;</a>"},{"owner":{"account_id":290433,"reputation":509,"user_id":591987,"display_name":"Cristiano Costantini"},"score":0,"creation_date":1664981143,"post_id":69284471,"comment_id":130593333,"body_markdown":"Does anyone has any way to know what happened?\n\nI was able to find these pages \n\nhttps://ecorp.sos.ga.gov/BusinessSearch/BusinessInformation?businessId=1591528&amp;businessType=Domestic%20Limited%20Liability%20Company&amp;fromSearch=True\n\nhttps://opencorporates.com/companies/us_ga/11007056 \n\nwhich says the company is &quot;Status Admin. Dissolved&quot; as of 09/30/2021\n\nThere is an agent name mentioned, &quot;Felix Mayer&quot;, is anyone in US able to contact this agent and inquiry what happened?\n\nPeople (like me) still have paid licenses which I can&#39;t install anymore on new computers...","body":"Does anyone has any way to know what happened?  I was able to find these pages   <a href=\"https://ecorp.sos.ga.gov/BusinessSearch/BusinessInformation?businessId=1591528&amp;businessType=Domestic%20Limited%20Liability%20Company&amp;fromSearch=True\" rel=\"nofollow noreferrer\">ecorp.sos.ga.gov/BusinessSearch/&hellip;</a>  <a href=\"https://opencorporates.com/companies/us_ga/11007056\" rel=\"nofollow noreferrer\">opencorporates.com/companies/us_ga/11007056</a>   which says the company is &quot;Status Admin. Dissolved&quot; as of 09/30/2021  There is an agent name mentioned, &quot;Felix Mayer&quot;, is anyone in US able to contact this agent and inquiry what happened?  People (like me) still have paid licenses which I can&#39;t install anymore on new computers..."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1632379696,"creation_date":1632322839,"answer_id":69286796,"question_id":69284471,"body_markdown":"It *appears* that ObjectAid LLC has gone out of business.  Their website has gone offline, and the DNS name &quot;objectaid.com&quot; is currently &quot;parked&quot; at GoDaddy.\r\n\r\n(For people who want to find the old website, check [here](https://web.archive.org/web/*/http://objectaid.com).)\r\n\r\nHowever:\r\n\r\n  1.  We don&#39;t **know** that they have gone out of business.  Someone might have simply forgotten to pay the bill for their DNS entries.\r\n\r\n  2.  Even if they have gone out of business, *someone* still owns the IP rights for the software that ObjectAid LLC has developed, and *someone* probably still owns ObjectAid LLC&#39;s rights in any contracts with their users.\r\n\r\n      The &quot;someone&quot; might be the original owners of the company, the company&#39;s creditors, or some other company that is taking them over / buying them out.  Those people may still have ideas of monetizing the remaining assets.\r\n\r\n  3.  If you were to attempt to develop a work-around for their license management system being off-line, that would *probably* entail reverse engineering the software, which is *probably* a violation of the terms of your license with ObjectAid LLC.  That may place you at legal risk.\r\n\r\n  4.  If you ... or someone else were to *publish* details of a work-around, that could be illegal depending on where you are.\r\n\r\n  5.  Just using such an work-around *could* be illegal, depending on where you are.\r\n\r\n  6.  If Stack Overflow were to (knowingly) publish an Answer containing a work-around, then Stack Exchange would potentially be liable for damages.  And since they most likely have &quot;deeper pockets&quot; than you do, Stack Exchange would likely be the primary target for (hypothetical) lawsuits aimed at getting a payout.\r\n\r\n&lt;sup&gt;None of the above should be read as legal advice.  If you feel you need something more definitive: 1) read the fine print of your license, and 2) talk to a professional lawyer.&lt;/sup&gt; \r\n\r\n-------------------\r\n\r\nMy advice would be: don&#39;t develop a work-around.  And if you do develop one, or find one, don&#39;t share the details here.\r\n\r\nInstead, start looking for an alternative to this plugin.\r\n\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;For the record: 1) I don&#39;t know of a work-around, and 2) I don&#39;t know of an alternative.&lt;/sup&gt;","title":"Is there a way to run the ObjectAid Sequence Diagram Eclipse plugin despite the site being closed?","body":"<p>It <em>appears</em> that ObjectAid LLC has gone out of business.  Their website has gone offline, and the DNS name &quot;objectaid.com&quot; is currently &quot;parked&quot; at GoDaddy.</p>\n<p>(For people who want to find the old website, check <a href=\"https://web.archive.org/web/*/http://objectaid.com\" rel=\"nofollow noreferrer\">here</a>.)</p>\n<p>However:</p>\n<ol>\n<li><p>We don't <strong>know</strong> that they have gone out of business.  Someone might have simply forgotten to pay the bill for their DNS entries.</p>\n</li>\n<li><p>Even if they have gone out of business, <em>someone</em> still owns the IP rights for the software that ObjectAid LLC has developed, and <em>someone</em> probably still owns ObjectAid LLC's rights in any contracts with their users.</p>\n<p>The &quot;someone&quot; might be the original owners of the company, the company's creditors, or some other company that is taking them over / buying them out.  Those people may still have ideas of monetizing the remaining assets.</p>\n</li>\n<li><p>If you were to attempt to develop a work-around for their license management system being off-line, that would <em>probably</em> entail reverse engineering the software, which is <em>probably</em> a violation of the terms of your license with ObjectAid LLC.  That may place you at legal risk.</p>\n</li>\n<li><p>If you ... or someone else were to <em>publish</em> details of a work-around, that could be illegal depending on where you are.</p>\n</li>\n<li><p>Just using such an work-around <em>could</em> be illegal, depending on where you are.</p>\n</li>\n<li><p>If Stack Overflow were to (knowingly) publish an Answer containing a work-around, then Stack Exchange would potentially be liable for damages.  And since they most likely have &quot;deeper pockets&quot; than you do, Stack Exchange would likely be the primary target for (hypothetical) lawsuits aimed at getting a payout.</p>\n</li>\n</ol>\n<p><sup>None of the above should be read as legal advice.  If you feel you need something more definitive: 1) read the fine print of your license, and 2) talk to a professional lawyer.</sup></p>\n<hr />\n<p>My advice would be: don't develop a work-around.  And if you do develop one, or find one, don't share the details here.</p>\n<p>Instead, start looking for an alternative to this plugin.</p>\n<hr />\n<p><sup>For the record: 1) I don't know of a work-around, and 2) I don't know of an alternative.</sup></p>\n"}],"owner":{"account_id":20491077,"reputation":93,"user_id":15037137,"display_name":"Bob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2318,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1640798077,"creation_date":1632314554,"question_id":69284471,"body_markdown":"Related to the question &quot;ObjectAid homepage is no longer accessible&quot;, the solution given which involves installing from the archive did not work for me since the license validation process still tries to run. My license keys are in place, but with the ObjectAid site being down, re-validation is not possible and thus the plugin does not function.\r\n\r\nHas anybody had success at continuing to run the ObjectAid Sequence Diagram plugin for Eclipse despite the site being down? If so, can you share your solution?\r\n\r\nThanks!\r\n\r\n","title":"Is there a way to run the ObjectAid Sequence Diagram Eclipse plugin despite the site being closed?","body":"<p>Related to the question &quot;ObjectAid homepage is no longer accessible&quot;, the solution given which involves installing from the archive did not work for me since the license validation process still tries to run. My license keys are in place, but with the ObjectAid site being down, re-validation is not possible and thus the plugin does not function.</p>\n<p>Has anybody had success at continuing to run the ObjectAid Sequence Diagram plugin for Eclipse despite the site being down? If so, can you share your solution?</p>\n<p>Thanks!</p>\n"},{"tags":["java","maven","infinispan","hot-rod","redhat-datagrid"],"answers":[{"tags":[],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640797653,"creation_date":1640797653,"answer_id":70522664,"question_id":70519415,"body_markdown":"Just to update my post.\r\n\r\nI found out the issue.\r\nIn Maven plugin was disabled the annotation processors.\r\n\r\nI added the &lt;annotationProcessorPath&gt; tag for *protostream-processor* as followed:\r\n\r\n    &lt;annotationProcessorPaths&gt;\r\n    \t&lt;annotationProcessorPath&gt;\r\n    \t   &lt;groupId&gt;org.infinispan.protostream&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;protostream-processor&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.4.1.Final&lt;/version&gt;\r\n    \t&lt;/annotationProcessorPath&gt;\r\n    &lt;/annotationProcessorPaths&gt;\r\n\r\nthe  `&lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;` did not allow the annotation processor. the finally`maven-compiler-plugin`works fine is the followed :\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;!--  &lt;configuration&gt;\r\n    \t\t&lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n    \t&lt;/configuration&gt; --&gt;\r\n    \t&lt;configuration&gt;\r\n    \t&lt;annotationProcessorPaths&gt;\r\n    \t\t&lt;annotationProcessorPath&gt;\r\n    \t\t   &lt;groupId&gt;org.infinispan.protostream&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;protostream-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.4.1.Final&lt;/version&gt;\r\n    \t\t&lt;/annotationProcessorPath&gt;\r\n    \t&lt;/annotationProcessorPaths&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How to implement protostream with AutoProtoSchemaBuilder for Data Grid Red Hat remote cache","body":"<p>Just to update my post.</p>\n<p>I found out the issue.\nIn Maven plugin was disabled the annotation processors.</p>\n<p>I added the  tag for <em>protostream-processor</em> as followed:</p>\n<pre><code>&lt;annotationProcessorPaths&gt;\n    &lt;annotationProcessorPath&gt;\n       &lt;groupId&gt;org.infinispan.protostream&lt;/groupId&gt;\n        &lt;artifactId&gt;protostream-processor&lt;/artifactId&gt;\n        &lt;version&gt;4.4.1.Final&lt;/version&gt;\n    &lt;/annotationProcessorPath&gt;\n&lt;/annotationProcessorPaths&gt;\n</code></pre>\n<p>the  <code>&lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;</code> did not allow the annotation processor. the finally<code>maven-compiler-plugin</code>works fine is the followed :</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;!--  &lt;configuration&gt;\n        &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n    &lt;/configuration&gt; --&gt;\n    &lt;configuration&gt;\n    &lt;annotationProcessorPaths&gt;\n        &lt;annotationProcessorPath&gt;\n           &lt;groupId&gt;org.infinispan.protostream&lt;/groupId&gt;\n            &lt;artifactId&gt;protostream-processor&lt;/artifactId&gt;\n            &lt;version&gt;4.4.1.Final&lt;/version&gt;\n        &lt;/annotationProcessorPath&gt;\n    &lt;/annotationProcessorPaths&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640797733,"creation_date":1640780960,"question_id":70519415,"body_markdown":"I have a java application managed from maven.\r\nI have implemented Data Grid cache with `org.infinispan.client.hotrod.RemoteCacheManager` version 8.2 to connect the application to distribuited remote cache service.\r\n\r\nFollowed the link page Red Hat https://access.redhat.com/documentation/en-us/red_hat_data_grid/8.2/html/cache_encoding_and_marshalling/marshalling_user_types\r\nto implement protostream object. Let me show how I have implemented the app, because I&#39;m not able to generate automatically via `@AutoProtoSchemaBuilder`the concrete classes as described from the guide:\r\n\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LF3hV.png\r\n\r\nExample implemented:\r\n\r\n**pom.xml** file:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n      &lt;artifactId&gt;infinispan-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;12.1.7.Final-redhat-00001&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n      &lt;artifactId&gt;infinispan-client-hotrod&lt;/artifactId&gt;\r\n      &lt;version&gt;12.1.7.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.infinispan/infinispan-jcache-remote --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;infinispan-jcache-remote&lt;/artifactId&gt;\r\n    \t&lt;version&gt;12.1.7.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.infinispan.protostream&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;protostream-processor&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.4.1.Final&lt;/version&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**LibraryInitalizer.java** Interface\r\n\r\n    package com.xxx.wa.configurator.cache.protostream;\r\n    \r\n    import org.infinispan.protostream.GeneratedSchema;\r\n    import org.infinispan.protostream.annotations.AutoProtoSchemaBuilder;\r\n    \r\n    import com.ducati.wa.configurator.cache.protostream.test.Home;\r\n    \r\n    @AutoProtoSchemaBuilder(includeClasses = { Home.class }, schemaFileName = &quot;simple.proto&quot;, schemaFilePath = &quot;proto/&quot;, schemaPackageName = &quot;com.ducati.wa.configurator.cache.protostream.test&quot;)\r\n    public interface LibraryInitalizer extends GeneratedSchema{\r\n    \r\n    }\r\n\r\n**Home.java** as object for testing\r\n\r\n    package com.xxx.wa.configurator.cache.protostream.test;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import org.infinispan.protostream.annotations.ProtoFactory;\r\n    import org.infinispan.protostream.annotations.ProtoField;\r\n    \r\n    \r\n    public class Home implements Serializable{\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@ProtoField(number = 1)\r\n    \tString name;\r\n    \t\r\n    \t@ProtoField(number = 2)\r\n    \tString address;\r\n    \t\r\n    \t\r\n    \tpublic Home() {\r\n    \t\tsuper();\r\n    \t}\r\n        @ProtoFactory\r\n    \tpublic Home(String name, String address) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nThe issue faced is the missed LibraryInitalizerImpl class autogenerate, I once done `mvn clean compile` maven command.\r\n\r\nCurrently I&#39;m using `org.apache.maven.plugins`, Do you know the autogenerate issue ?\r\n","title":"How to implement protostream with AutoProtoSchemaBuilder for Data Grid Red Hat remote cache","body":"<p>I have a java application managed from maven.\nI have implemented Data Grid cache with <code>org.infinispan.client.hotrod.RemoteCacheManager</code> version 8.2 to connect the application to distribuited remote cache service.</p>\n<p>Followed the link page Red Hat <a href=\"https://access.redhat.com/documentation/en-us/red_hat_data_grid/8.2/html/cache_encoding_and_marshalling/marshalling_user_types\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_data_grid/8.2/html/cache_encoding_and_marshalling/marshalling_user_types</a>\nto implement protostream object. Let me show how I have implemented the app, because I'm not able to generate automatically via <code>@AutoProtoSchemaBuilder</code>the concrete classes as described from the guide:</p>\n<p><a href=\"https://i.stack.imgur.com/LF3hV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LF3hV.png\" alt=\"enter image description here\" /></a></p>\n<p>Example implemented:</p>\n<p><strong>pom.xml</strong> file:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n  &lt;artifactId&gt;infinispan-bom&lt;/artifactId&gt;\n  &lt;version&gt;12.1.7.Final-redhat-00001&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n  &lt;artifactId&gt;infinispan-client-hotrod&lt;/artifactId&gt;\n  &lt;version&gt;12.1.7.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.infinispan/infinispan-jcache-remote --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n    &lt;artifactId&gt;infinispan-jcache-remote&lt;/artifactId&gt;\n    &lt;version&gt;12.1.7.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.infinispan.protostream&lt;/groupId&gt;\n    &lt;artifactId&gt;protostream-processor&lt;/artifactId&gt;\n    &lt;version&gt;4.4.1.Final&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>LibraryInitalizer.java</strong> Interface</p>\n<pre><code>package com.xxx.wa.configurator.cache.protostream;\n\nimport org.infinispan.protostream.GeneratedSchema;\nimport org.infinispan.protostream.annotations.AutoProtoSchemaBuilder;\n\nimport com.ducati.wa.configurator.cache.protostream.test.Home;\n\n@AutoProtoSchemaBuilder(includeClasses = { Home.class }, schemaFileName = &quot;simple.proto&quot;, schemaFilePath = &quot;proto/&quot;, schemaPackageName = &quot;com.ducati.wa.configurator.cache.protostream.test&quot;)\npublic interface LibraryInitalizer extends GeneratedSchema{\n\n}\n</code></pre>\n<p><strong>Home.java</strong> as object for testing</p>\n<pre><code>package com.xxx.wa.configurator.cache.protostream.test;\n\nimport java.io.Serializable;\n\nimport org.infinispan.protostream.annotations.ProtoFactory;\nimport org.infinispan.protostream.annotations.ProtoField;\n\n\npublic class Home implements Serializable{\n    \n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    @ProtoField(number = 1)\n    String name;\n    \n    @ProtoField(number = 2)\n    String address;\n    \n    \n    public Home() {\n        super();\n    }\n    @ProtoFactory\n    public Home(String name, String address) {\n        super();\n        this.name = name;\n        this.address = address;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n    \n    \n}\n</code></pre>\n<p>The issue faced is the missed LibraryInitalizerImpl class autogenerate, I once done <code>mvn clean compile</code> maven command.</p>\n<p>Currently I'm using <code>org.apache.maven.plugins</code>, Do you know the autogenerate issue ?</p>\n"},{"tags":["java","database","concurrency","server-side","multiple-users"],"comments":[{"owner":{"account_id":6402608,"reputation":4883,"user_id":4964791,"display_name":"RamblinRose"},"score":2,"creation_date":1640749534,"post_id":70514893,"comment_id":124649164,"body_markdown":"Theoretically yes.  Anything is possible.  But as posed this is a very broad question, and the OP is mixing client and server concerns.  Post a code attempt.","body":"Theoretically yes.  Anything is possible.  But as posed this is a very broad question, and the OP is mixing client and server concerns.  Post a code attempt."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640756428,"post_id":70514893,"comment_id":124650107,"body_markdown":"This could be a good a question if rewritten to focus on one scenario. Asking &quot;in general&quot; questions is not appropriate on Stack Overflow, in general.","body":"This could be a good a question if rewritten to focus on one scenario. Asking &quot;in general&quot; questions is not appropriate on Stack Overflow, in general."}],"answers":[{"tags":[],"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640750125,"creation_date":1640750125,"answer_id":70514969,"question_id":70514893,"body_markdown":"Yes, of course, but such a functionality typically clashes with the logic of an interactive multiuser/multithreaded application that would ideally produce immediate results. If this is not your case, then a simple trigger is the solution.\r\n\r\nOn the other hand, if you need immediate results, read on. You would probably need to implement delayed processes that assign these numbers in an orderly manner instead of doing it interactively when each row is inserted in a table. For example, you could record every new data insertion in a &quot;pending&quot; table or queue for further processing.\r\n\r\nThere are many options but off the top of my head you could:\r\n\r\n- Use a process behind the scenes that will run every 5 minutes, and processes all pending rows.\r\n- If you use a queue then you can have a reactive process that is continually running and waiting for rows to process and assign numbers, one at a time.\r\n- You can even delay all number assignation for the nightly process if that&#39;s an option.\r\n\r\nFor higher performance, you can implement any solution above in parallel, even in separate hardware if you are able to partition the data somehow. For example all IDs ending in `01-03` (partition #1) will be processed by node/process #1, then IDs ending in `04-07` (partition #2) could be processed by node/process #2 and so on.\r\n\r\nAs you see there&#39;s nothing built-in in the database for your use case, but there are plenty of good solutions for it, if you can relax some contraints, like perform the number assignation with a 5-minute delay.\r\n","title":"Is it possible to have sequential, ordered numbers for multiple users during record creation?","body":"<p>Yes, of course, but such a functionality typically clashes with the logic of an interactive multiuser/multithreaded application that would ideally produce immediate results. If this is not your case, then a simple trigger is the solution.</p>\n<p>On the other hand, if you need immediate results, read on. You would probably need to implement delayed processes that assign these numbers in an orderly manner instead of doing it interactively when each row is inserted in a table. For example, you could record every new data insertion in a &quot;pending&quot; table or queue for further processing.</p>\n<p>There are many options but off the top of my head you could:</p>\n<ul>\n<li>Use a process behind the scenes that will run every 5 minutes, and processes all pending rows.</li>\n<li>If you use a queue then you can have a reactive process that is continually running and waiting for rows to process and assign numbers, one at a time.</li>\n<li>You can even delay all number assignation for the nightly process if that's an option.</li>\n</ul>\n<p>For higher performance, you can implement any solution above in parallel, even in separate hardware if you are able to partition the data somehow. For example all IDs ending in <code>01-03</code> (partition #1) will be processed by node/process #1, then IDs ending in <code>04-07</code> (partition #2) could be processed by node/process #2 and so on.</p>\n<p>As you see there's nothing built-in in the database for your use case, but there are plenty of good solutions for it, if you can relax some contraints, like perform the number assignation with a 5-minute delay.</p>\n"}],"owner":{"account_id":20963863,"reputation":29,"user_id":15402686,"display_name":"WattMonki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1640756384,"answer_count":1,"score":-2,"last_activity_date":1640797212,"creation_date":1640749135,"question_id":70514893,"body_markdown":"In general, either in Java or in DB design, is it possible to have a record where a field can be in a sequential, ordered number with no gaps from each other? Like you have multiple users and you are both submitting a form, is it possible for the records to be labeled 1,2,3,4...n in order and with no gaps?\r\n\r\nI know that we have a sequence in database design that allows uniqueness in fields/columns, but in the case of multiple users and no serializing the risk of gaps is still there. Is there something in Java or in Database design that can incorporate sequences with no gaps? \r\n\r\nThis has been bothering me for months and I can&#39;t figure it out.","title":"Is it possible to have sequential, ordered numbers for multiple users during record creation?","body":"<p>In general, either in Java or in DB design, is it possible to have a record where a field can be in a sequential, ordered number with no gaps from each other? Like you have multiple users and you are both submitting a form, is it possible for the records to be labeled 1,2,3,4...n in order and with no gaps?</p>\n<p>I know that we have a sequence in database design that allows uniqueness in fields/columns, but in the case of multiple users and no serializing the risk of gaps is still there. Is there something in Java or in Database design that can incorporate sequences with no gaps?</p>\n<p>This has been bothering me for months and I can't figure it out.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":23776943,"reputation":1,"user_id":17790257,"display_name":"Sagura091"},"score":0,"creation_date":1640797656,"post_id":70521984,"comment_id":124662354,"body_markdown":"Caused by: java.lang.ClassCastException: class com.cbcse.entity.Site cannot be cast to class java.io.Serializable (com.cbcse.entity.Site is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @7c105899; java.io.Serializable is in module java.base of loader &#39;bootstrap&#39;)","body":"Caused by: java.lang.ClassCastException: class com.cbcse.entity.Site cannot be cast to class java.io.Serializable (com.cbcse.entity.Site is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @7c105899; java.io.Serializable is in module java.base of loader &#39;bootstrap&#39;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1640798235,"post_id":70521984,"comment_id":124662586,"body_markdown":"Does this answer your question? [When and why JPA entities should implement the Serializable interface?](https://stackoverflow.com/questions/2020904/when-and-why-jpa-entities-should-implement-the-serializable-interface)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2020904/when-and-why-jpa-entities-should-implement-the-serializable-interface\">When and why JPA entities should implement the Serializable interface?</a>"},{"owner":{"account_id":9886838,"reputation":1750,"user_id":7321113,"display_name":"Abhishek"},"score":0,"creation_date":1641466796,"post_id":70521984,"comment_id":124813664,"body_markdown":"Already edited and suggestion comment is there","body":"Already edited and suggestion comment is there"}],"owner":{"account_id":23776943,"reputation":1,"user_id":17790257,"display_name":"Sagura091"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640797113,"creation_date":1640794162,"question_id":70521984,"body_markdown":"I am having an issue with a bidirectional mapping. and when I try to post or get I get a error class site cant be serialized. if I take away the mappedby in the site then it works just fine and take always the site field in the inventory it will work is that the right way? \r\n\r\n```none\r\n11:24:52.341 [main] INFO  - in 3.977 seconds (JVM running for 4.471)\r\n11:25:36.453 [http-nio-8080-exec-2] INFO  com.cbcse.controller.SiteController - I Fell in here\r\n11:25:36.533 [http-nio-8080-exec-2] WARN  com.cbcse.service.SiteServiceImpl - Handling of [org.springframework.transaction.TransactionSystemException] resulted in Exception\r\norg.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\r\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)     \r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)   \r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)    \r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n        at jdk.proxy2/jdk.proxy2.$Proxy107.save(Unknown Source)\r\n        at com.cbcse.service.SiteServiceImpl.add(SiteServiceImpl.java:71)\r\n        at com.cbcse.controller.SiteController.add(SiteController.java:53)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)  \r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\r\n        at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81)\r\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\r\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n        ... 66 common frames omitted\r\nCaused by: java.lang.ClassCastException: class com.cbcse.entity.Site cannot be cast to class java.io.Serializable (com.cbcse.entity.Site is in unnamed module of loader &#39;app&#39;; java.io.Serializable is in module java.base of loader &#39;bootstrap&#39;)\r\n        at org.hibernate.type.CollectionType.getKeyOfOwner(CollectionType.java:446)\r\n        at org.hibernate.engine.internal.Collections.processReachableCollection(Collections.java:166)\r\n        at org.hibernate.event.internal.FlushVisitor.processCollection(FlushVisitor.java:53)\r\n        at org.hibernate.event.internal.AbstractVisitor.processValue(AbstractVisitor.java:104)\r\n        at org.hibernate.event.internal.AbstractVisitor.processValue(AbstractVisitor.java:65)\r\n        at org.hibernate.event.internal.AbstractVisitor.processEntityPropertyValues(AbstractVisitor.java:59)\r\n        at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:183)\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n        at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)\r\n        at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93)\r\n        at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1416)\r\n        at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:507)\r\n        at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3299)\r\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2434)\r\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n        ... 67 common frames omitted\r\n```\r\n\r\n```java\r\n@Entity\r\npublic class Site {\r\n\r\n\r\n    @Id\r\n\t@GeneratedValue\r\n\tLong id;\r\n\r\n    String name;\r\n\r\n    String date;\r\n\r\n    String suite;\r\n\r\n    String unit;\r\n\r\n    long siteId;\r\n\r\n    @OneToMany( mappedBy=&quot;sites&quot;, fetch = FetchType.LAZY ,cascade = {CascadeType.MERGE,CascadeType.REFRESH},orphanRemoval = true)\r\n    List&lt;Inventory&gt; inventory = new ArrayList&lt;&gt;();\r\n\r\n   // @OneToMany(fetch = FetchType.LAZY ,cascade = CascadeType.ALL,orphanRemoval = true)\r\n   // List&lt;SiteFiles&gt; siteFiles = new ArrayList&lt;&gt;();\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getSiteName() {\r\n        return name;\r\n    }\r\n\r\n    public void setSiteName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getSiteDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setSiteDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getSiteSuite() {\r\n        return suite;\r\n    }\r\n\r\n    public void setSiteSuite(String suite) {\r\n        this.suite = suite;\r\n    }\r\n\r\n    public String getSiteUnit() {\r\n        return unit;\r\n    }\r\n\r\n    public void setSiteUnit(String unit) {\r\n        this.unit = unit;\r\n    }\r\n\r\n    public Long getSiteId() {\r\n        return siteId;\r\n    }\r\n\r\n    public void setSiteId(Long siteId) {\r\n        this.siteId = siteId;\r\n    }\r\n\r\n    public List&lt;Inventory&gt; getInventory() {\r\n        return inventory;\r\n    }\r\n\r\n    public void setInventory(List&lt;Inventory&gt; inventory) {\r\n        this.inventory = inventory;\r\n    }  \r\n}\r\n```\r\n```java\r\n@Entity\r\npublic class Inventory {\r\n    \r\n    @Id\r\n    @GeneratedValue\r\n\tLong id;\r\n\r\n    \r\n    Long parentId;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY ,cascade = {CascadeType.MERGE,CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;parentId&quot;, referencedColumnName = &quot;siteId&quot;,insertable= false, updatable= false)\r\n    private Site sites;\r\n\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n\r\n    public Site getSites() {\r\n        return sites;\r\n    }\r\n\r\n    public void setSites(Site sites) {\r\n        this.sites = sites;\r\n    }\r\n}\r\n```","title":"Having an issue with One To Many and Many To One spring jpa app. getting a class cannot be serialized error","body":"<p>I am having an issue with a bidirectional mapping. and when I try to post or get I get a error class site cant be serialized. if I take away the mappedby in the site then it works just fine and take always the site field in the inventory it will work is that the right way?</p>\n<pre class=\"lang-none prettyprint-override\"><code>11:24:52.341 [main] INFO  - in 3.977 seconds (JVM running for 4.471)\n11:25:36.453 [http-nio-8080-exec-2] INFO  com.cbcse.controller.SiteController - I Fell in here\n11:25:36.533 [http-nio-8080-exec-2] WARN  com.cbcse.service.SiteServiceImpl - Handling of [org.springframework.transaction.TransactionSystemException] resulted in Exception\norg.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)     \n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)   \n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)    \n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n        at jdk.proxy2/jdk.proxy2.$Proxy107.save(Unknown Source)\n        at com.cbcse.service.SiteServiceImpl.add(SiteServiceImpl.java:71)\n        at com.cbcse.controller.SiteController.add(SiteController.java:53)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)  \n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\n        at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81)\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n        ... 66 common frames omitted\nCaused by: java.lang.ClassCastException: class com.cbcse.entity.Site cannot be cast to class java.io.Serializable (com.cbcse.entity.Site is in unnamed module of loader 'app'; java.io.Serializable is in module java.base of loader 'bootstrap')\n        at org.hibernate.type.CollectionType.getKeyOfOwner(CollectionType.java:446)\n        at org.hibernate.engine.internal.Collections.processReachableCollection(Collections.java:166)\n        at org.hibernate.event.internal.FlushVisitor.processCollection(FlushVisitor.java:53)\n        at org.hibernate.event.internal.AbstractVisitor.processValue(AbstractVisitor.java:104)\n        at org.hibernate.event.internal.AbstractVisitor.processValue(AbstractVisitor.java:65)\n        at org.hibernate.event.internal.AbstractVisitor.processEntityPropertyValues(AbstractVisitor.java:59)\n        at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:183)\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n        at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)\n        at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93)\n        at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1416)\n        at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:507)\n        at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3299)\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2434)\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n        ... 67 common frames omitted\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Site {\n\n\n    @Id\n    @GeneratedValue\n    Long id;\n\n    String name;\n\n    String date;\n\n    String suite;\n\n    String unit;\n\n    long siteId;\n\n    @OneToMany( mappedBy=&quot;sites&quot;, fetch = FetchType.LAZY ,cascade = {CascadeType.MERGE,CascadeType.REFRESH},orphanRemoval = true)\n    List&lt;Inventory&gt; inventory = new ArrayList&lt;&gt;();\n\n   // @OneToMany(fetch = FetchType.LAZY ,cascade = CascadeType.ALL,orphanRemoval = true)\n   // List&lt;SiteFiles&gt; siteFiles = new ArrayList&lt;&gt;();\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getSiteName() {\n        return name;\n    }\n\n    public void setSiteName(String name) {\n        this.name = name;\n    }\n\n    public String getSiteDate() {\n        return date;\n    }\n\n    public void setSiteDate(String date) {\n        this.date = date;\n    }\n\n    public String getSiteSuite() {\n        return suite;\n    }\n\n    public void setSiteSuite(String suite) {\n        this.suite = suite;\n    }\n\n    public String getSiteUnit() {\n        return unit;\n    }\n\n    public void setSiteUnit(String unit) {\n        this.unit = unit;\n    }\n\n    public Long getSiteId() {\n        return siteId;\n    }\n\n    public void setSiteId(Long siteId) {\n        this.siteId = siteId;\n    }\n\n    public List&lt;Inventory&gt; getInventory() {\n        return inventory;\n    }\n\n    public void setInventory(List&lt;Inventory&gt; inventory) {\n        this.inventory = inventory;\n    }  \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Inventory {\n    \n    @Id\n    @GeneratedValue\n    Long id;\n\n    \n    Long parentId;\n\n    @ManyToOne(fetch = FetchType.LAZY ,cascade = {CascadeType.MERGE,CascadeType.REFRESH})\n    @JoinColumn(name = &quot;parentId&quot;, referencedColumnName = &quot;siteId&quot;,insertable= false, updatable= false)\n    private Site sites;\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n\n    public Site getSites() {\n        return sites;\n    }\n\n    public void setSites(Site sites) {\n        this.sites = sites;\n    }\n}\n</code></pre>\n"},{"tags":["java","compression","zlib","inflate","gzipinputstream"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1640746759,"post_id":70514683,"comment_id":124648796,"body_markdown":"Does [this](https://stackoverflow.com/a/22311297/2970947) answer your question?","body":"Does <a href=\"https://stackoverflow.com/a/22311297/2970947\">this</a> answer your question?"},{"owner":{"account_id":23771163,"reputation":23,"user_id":17785213,"display_name":"MO15"},"score":0,"creation_date":1640747865,"post_id":70514683,"comment_id":124648933,"body_markdown":"sorry, but no. In my case, the data is not processed as a GZIP format.","body":"sorry, but no. In my case, the data is not processed as a GZIP format."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1640776143,"post_id":70514683,"comment_id":124655060,"body_markdown":"Could you post code sample of this issue.","body":"Could you post code sample of this issue."},{"owner":{"account_id":23771163,"reputation":23,"user_id":17785213,"display_name":"MO15"},"score":0,"creation_date":1640783243,"post_id":70514683,"comment_id":124657232,"body_markdown":"What I ask is a general question, I believe every JAVA code using GZIPInputStream class is facing this. Let me explain my question clearly, GZIP = GZIP header + raw deflate data + GZIP trailer. If using zlib to inflate whole things in GZIP format, everything&#39;s fine. However in ```GZIPInputStream``` class, it doesn&#39;t use GZIP format but DEFLATE format, and instead of passing whole GZIP things above, it pass the data to zlib without the GZIP header, ie raw deflate data + GZIP trailer. In my opinion, zlib needs to inflate the raw deflate data part and keep GZIP trailer unchanged.","body":"What I ask is a general question, I believe every JAVA code using GZIPInputStream class is facing this. Let me explain my question clearly, GZIP = GZIP header + raw deflate data + GZIP trailer. If using zlib to inflate whole things in GZIP format, everything&#39;s fine. However in <code>GZIPInputStream</code> class, it doesn&#39;t use GZIP format but DEFLATE format, and instead of passing whole GZIP things above, it pass the data to zlib without the GZIP header, ie raw deflate data + GZIP trailer. In my opinion, zlib needs to inflate the raw deflate data part and keep GZIP trailer unchanged."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641443874,"post_id":70514683,"comment_id":124807809,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640796732,"creation_date":1640796732,"answer_id":70522495,"question_id":70514683,"body_markdown":"The deflate format is self-terminating. zlib stops decompressing the raw deflate stream until the deflate block marked as the last block is processed. What&#39;s left over is the trailer for the Java code to deal with.","title":"How does zlib inflate GZIP trailer correctly in JAVA?","body":"<p>The deflate format is self-terminating. zlib stops decompressing the raw deflate stream until the deflate block marked as the last block is processed. What's left over is the trailer for the Java code to deal with.</p>\n"}],"owner":{"account_id":23771163,"reputation":23,"user_id":17785213,"display_name":"MO15"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70522495,"answer_count":1,"score":0,"last_activity_date":1640796732,"creation_date":1640746334,"question_id":70514683,"body_markdown":"When using ```GZIPInputStream``` in JAVA, it is not passing the whole buffer to zlib and inflate it as a GZIP format. Instead, It seems that GZIP header is been processed in JAVA side, and then pass the remaining part（raw deflate data + GZIP trailer）to zlib and do the inflate work as a DEFLATE format.  \r\nMy question is how does zlib do inflate work correctly, as the data passed in is not just a raw deflate data? In other words, how does zlib keeps the 8-bytes trailer and not treated it as the data needs to be decompressed?","title":"How does zlib inflate GZIP trailer correctly in JAVA?","body":"<p>When using <code>GZIPInputStream</code> in JAVA, it is not passing the whole buffer to zlib and inflate it as a GZIP format. Instead, It seems that GZIP header is been processed in JAVA side, and then pass the remaining part（raw deflate data + GZIP trailer）to zlib and do the inflate work as a DEFLATE format.<br />\nMy question is how does zlib do inflate work correctly, as the data passed in is not just a raw deflate data? In other words, how does zlib keeps the 8-bytes trailer and not treated it as the data needs to be decompressed?</p>\n"},{"tags":["java","spring","csv","file","annotations"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1640797965,"post_id":70522481,"comment_id":124662472,"body_markdown":"You could watch the folder?","body":"You could watch the folder?"},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1640810913,"post_id":70522481,"comment_id":124666401,"body_markdown":"Your current question is unclear and needs to be more precise.","body":"Your current question is unclear and needs to be more precise."},{"owner":{"account_id":23765229,"reputation":1,"user_id":17780070,"display_name":"viktor.terekhovich"},"score":0,"creation_date":1640843443,"post_id":70522481,"comment_id":124672379,"body_markdown":"I have a folder on the local machine (resources folder). I need to scan a folder and report new and modified files. How to do this not in a xml configuration file, but in a java class using spring integration annotations?","body":"I have a folder on the local machine (resources folder). I need to scan a folder and report new and modified files. How to do this not in a xml configuration file, but in a java class using spring integration annotations?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641478444,"post_id":70522481,"comment_id":124817964,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23765229,"reputation":1,"user_id":17780070,"display_name":"viktor.terekhovich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640796668,"creation_date":1640796668,"question_id":70522481,"body_markdown":"I need to scan the folder for new/changed files. How to do this not on java alone, but on **spring integration** using **@configuration** and different **annotations**?","title":"How to scan a folder for new files (CREATE, MODIFY) using beans, annotation and SpringIntegration?","body":"<p>I need to scan the folder for new/changed files. How to do this not on java alone, but on <strong>spring integration</strong> using <strong>@configuration</strong> and different <strong>annotations</strong>?</p>\n"},{"tags":["java","jogl","mouse-cursor"],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291147147,"creation_date":1291147147,"answer_id":4317947,"question_id":4317842,"body_markdown":"If mouse is in the area of application window you can set any image as a custom cursor. Use transparent image 1x1 pixel. I used it - works fine. It is regular API, no JOGL, no native code. ","title":"How to hide mouse cursor using JOGL2?","body":"<p>If mouse is in the area of application window you can set any image as a custom cursor. Use transparent image 1x1 pixel. I used it - works fine. It is regular API, no JOGL, no native code. </p>\n"},{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1291713208,"creation_date":1291155723,"answer_id":4319303,"question_id":4317842,"body_markdown":"As you (thekidder) say `GLWindow` does not have that capability so I would use `GLCanvas` inside a `Frame` (or `JFrame`) like this (like AlexR wrote):\r\n\r\n    public static void main(String... args) {\r\n\t\t\r\n        // create the cursor\r\n        Toolkit t = Toolkit.getDefaultToolkit();\r\n        Image i = new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB);\r\n        Cursor noCursor = t.createCustomCursor(i, new Point(0, 0), &quot;none&quot;);\t\r\n\r\n        // try it with a normal frame\r\n        Frame f = new Frame();\r\n\r\n        // create the GLCanvas and add it to the frame\r\n        GLCanvas canvas = new GLCanvas();\r\n        frame.add(canvas);\r\n\r\n        f.setCursor(noCursor);\r\n        f.setSize(400, 200);\r\n        f.setVisible(true);\r\n    }\r\n","title":"How to hide mouse cursor using JOGL2?","body":"<p>As you (thekidder) say <code>GLWindow</code> does not have that capability so I would use <code>GLCanvas</code> inside a <code>Frame</code> (or <code>JFrame</code>) like this (like AlexR wrote):</p>\n\n<pre><code>public static void main(String... args) {\n\n    // create the cursor\n    Toolkit t = Toolkit.getDefaultToolkit();\n    Image i = new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB);\n    Cursor noCursor = t.createCustomCursor(i, new Point(0, 0), \"none\"); \n\n    // try it with a normal frame\n    Frame f = new Frame();\n\n    // create the GLCanvas and add it to the frame\n    GLCanvas canvas = new GLCanvas();\n    frame.add(canvas);\n\n    f.setCursor(noCursor);\n    f.setSize(400, 200);\n    f.setVisible(true);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1229,"reputation":3506,"user_id":1631,"accept_rate":89,"display_name":"thekidder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291229821,"creation_date":1291229821,"answer_id":4327968,"question_id":4317842,"body_markdown":"After some further searching it appears that this is not implemented for NEWT windows in JOGL2 yet. There is an enhancement request filed on JOGL&#39;s bugzilla: http://jogamp.org/bugzilla/show_bug.cgi?id=409","title":"How to hide mouse cursor using JOGL2?","body":"<p>After some further searching it appears that this is not implemented for NEWT windows in JOGL2 yet. There is an enhancement request filed on JOGL's bugzilla: <a href=\"http://jogamp.org/bugzilla/show_bug.cgi?id=409\" rel=\"nofollow\">http://jogamp.org/bugzilla/show_bug.cgi?id=409</a></p>\n"},{"tags":[],"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324026605,"creation_date":1324026605,"answer_id":8531948,"question_id":4317842,"body_markdown":"This has since been implemented in JOGL2 using NEWT (a GLWindow object).  See https://jogamp.org/bugzilla/show_bug.cgi?id=409 (referenced in thekidder&#39;s answer).\r\n\r\nYou can do it like so:\r\n\r\n    glWindow.setPointerVisible(false);","title":"How to hide mouse cursor using JOGL2?","body":"<p>This has since been implemented in JOGL2 using NEWT (a GLWindow object).  See <a href=\"https://jogamp.org/bugzilla/show_bug.cgi?id=409\" rel=\"nofollow\">https://jogamp.org/bugzilla/show_bug.cgi?id=409</a> (referenced in thekidder's answer).</p>\n\n<p>You can do it like so:</p>\n\n<pre><code>glWindow.setPointerVisible(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171332,"reputation":188,"user_id":398672,"display_name":"olamedia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343853525,"creation_date":1343853525,"answer_id":11767206,"question_id":4317842,"body_markdown":"At the current time with NEWT GLWindow:\r\n\r\n    window = GLWindow.create(caps);\r\n...\r\n\r\n    window.requestFocus();\r\n    window.setAlwaysOnTop(true); // i think, be on top is good than mouse is jailed\r\n    window.setUndecorated(true); // remove window borders (if u want)\r\n    window.setPointerVisible(false); // hide cursor\r\n    window.confinePointer(true); // jail inside (cursor will be limited to window borders)","title":"How to hide mouse cursor using JOGL2?","body":"<p>At the current time with NEWT GLWindow:</p>\n\n<pre><code>window = GLWindow.create(caps);\n</code></pre>\n\n<p>...</p>\n\n<pre><code>window.requestFocus();\nwindow.setAlwaysOnTop(true); // i think, be on top is good than mouse is jailed\nwindow.setUndecorated(true); // remove window borders (if u want)\nwindow.setPointerVisible(false); // hide cursor\nwindow.confinePointer(true); // jail inside (cursor will be limited to window borders)\n</code></pre>\n"}],"owner":{"account_id":1229,"reputation":3506,"user_id":1631,"accept_rate":89,"display_name":"thekidder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1548,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4319303,"answer_count":5,"score":3,"last_activity_date":1640795926,"creation_date":1291146452,"question_id":4317842,"body_markdown":"I&#39;m using JOGL2 and the NativeWindow APIs to write an app in Java. How can I  hide the mouse cursor?\r\n\r\n[EDIT]  \r\nI&#39;m not using JFrame to create a window but rather GLWindow from JOGL. GLWindow does not have a setCursor method. Is this still possible?","title":"How to hide mouse cursor using JOGL2?","body":"<p>I'm using JOGL2 and the NativeWindow APIs to write an app in Java. How can I  hide the mouse cursor?</p>\n<p>[EDIT]<br />\nI'm not using JFrame to create a window but rather GLWindow from JOGL. GLWindow does not have a setCursor method. Is this still possible?</p>\n"},{"tags":["java","screenshot","screen-capture","mouse-cursor"],"comments":[{"owner":{"account_id":89589,"reputation":21149,"user_id":247090,"accept_rate":79,"display_name":"drekka"},"score":0,"creation_date":1312507988,"post_id":6950453,"comment_id":8285697,"body_markdown":"How are you taking the screen shot? Getting the cursor as well is usually an option on most screen grabbing programs.","body":"How are you taking the screen shot? Getting the cursor as well is usually an option on most screen grabbing programs."},{"owner":{"account_id":465390,"reputation":413,"user_id":869441,"accept_rate":75,"display_name":"devashish jasani"},"score":0,"creation_date":1312508914,"post_id":6950453,"comment_id":8285792,"body_markdown":"i am gettin it through java Robot class using the function createScreenCapture()","body":"i am gettin it through java Robot class using the function createScreenCapture()"},{"owner":{"account_id":48820,"reputation":39370,"user_id":145185,"display_name":"OverZealous"},"score":0,"creation_date":1312509628,"post_id":6950453,"comment_id":8285883,"body_markdown":"Check out this previous answer: http://stackoverflow.com/questions/2962271/how-to-capture-screen-image-with-mouse-pointer-on-it-in-java","body":"Check out this previous answer: <a href=\"http://stackoverflow.com/questions/2962271/how-to-capture-screen-image-with-mouse-pointer-on-it-in-java\" title=\"how to capture screen image with mouse pointer on it in java\">stackoverflow.com/questions/2962271/&hellip;</a>"},{"owner":{"account_id":465390,"reputation":413,"user_id":869441,"accept_rate":75,"display_name":"devashish jasani"},"score":0,"creation_date":1312510460,"post_id":6950453,"comment_id":8285975,"body_markdown":"how do i know which mouse image to draw out of the following as shown in the link... http://www.google.com/imgres?q=mouse+cursor&amp;um=1&amp;hl=en&amp;sa=N&amp;biw=1366&amp;bih=664&amp;tbm=isch&amp;tbnid=8KtCIOXrYF82PM:&amp;imgrefurl=http://www.blogiseverything.com/freebies/vista-aero-cursors-for-xp/&amp;docid=agkH9Aj5E153WM&amp;w=306&amp;h=296&amp;ei=41E7Tv6GFoi8rAfM2ZmPBQ&amp;zoom=1&amp;iact=hc&amp;vpx=930&amp;vpy=116&amp;dur=647&amp;hovh=221&amp;hovw=228&amp;tx=110&amp;ty=129&amp;page=1&amp;tbnh=139&amp;tbnw=148&amp;start=0&amp;ndsp=20&amp;ved=1t:429,r:4,s:0","body":"how do i know which mouse image to draw out of the following as shown in the link... <a href=\"http://www.google.com/imgres?q=mouse+cursor&amp;um=1&amp;hl=en&amp;sa=N&amp;biw=1366&amp;bih=664&amp;tbm=isch&amp;tbnid=8KtCIOXrYF82PM:&amp;imgrefurl=http://www.blogiseverything.com/freebies/vista-aero-cursors-for-xp/&amp;docid=agkH9Aj5E153WM&amp;w=306&amp;h=296&amp;ei=41E7Tv6GFoi8rAfM2ZmPBQ&amp;zoom=1&amp;iact=hc&amp;vpx=930&amp;vpy=116&amp;dur=647&amp;hovh=221&amp;hovw=228&amp;tx=110&amp;ty=129&amp;page=1&amp;tbnh=139&amp;tbnw=148&amp;start=0&amp;ndsp=20&amp;ved=1t:429,r:4,s:0\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>"}],"owner":{"account_id":465390,"reputation":413,"user_id":869441,"accept_rate":75,"display_name":"devashish jasani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3405,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1640795801,"creation_date":1312507383,"question_id":6950453,"body_markdown":"While taking a screen shot in java the mouse cursor does not appear. I am drawing the mouse cursor on the screen shot.\r\n\r\nHow to know which image of the cursor to draw depending on its state? (busy, moving over text, placed on a link, etc)","title":"How to get the current mouse cursor type in java?","body":"<p>While taking a screen shot in java the mouse cursor does not appear. I am drawing the mouse cursor on the screen shot.</p>\n<p>How to know which image of the cursor to draw depending on its state? (busy, moving over text, placed on a link, etc)</p>\n"},{"tags":["java","position","mouse-cursor"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1343002986,"post_id":11605073,"comment_id":15362812,"body_markdown":"Not sure of any &quot;rules&quot; that you&#39;ve broken, but 1+ for posting code correctly in your first post. Having said that, I&#39;d hate to use your application and find myself restricted.","body":"Not sure of any &quot;rules&quot; that you&#39;ve broken, but 1+ for posting code correctly in your first post. Having said that, I&#39;d hate to use your application and find myself restricted."},{"owner":{"account_id":1675423,"reputation":567,"user_id":1541101,"accept_rate":83,"display_name":"Atlas Wegman"},"score":0,"creation_date":1343003077,"post_id":11605073,"comment_id":15362832,"body_markdown":"The game is a sort of &quot;shooter&quot; and I only want the players cross-hair to be able to traverse within the Ellipse.  Thanks for the reply!","body":"The game is a sort of &quot;shooter&quot; and I only want the players cross-hair to be able to traverse within the Ellipse.  Thanks for the reply!"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1343003312,"post_id":11605073,"comment_id":15362858,"body_markdown":"Perhaps then all you want to do is to set the cursor image to cross-hairs when it is located within the ellipse? Oh, and welcome to stackoverflow!","body":"Perhaps then all you want to do is to set the cursor image to cross-hairs when it is located within the ellipse? Oh, and welcome to stackoverflow!"},{"owner":{"account_id":1675423,"reputation":567,"user_id":1541101,"accept_rate":83,"display_name":"Atlas Wegman"},"score":1,"creation_date":1343004142,"post_id":11605073,"comment_id":15362988,"body_markdown":"Hmmm interesting idea, however this still allows the cursor to become locked when leaving the ellipse.  One option would be to not draw the cross-hair when the cursor is out of the ellipse, but this then leaves the user without a cursor.  Another would be to simply draw the standard cursor, but this would leave the cross-hair again locked.  See my dilemma?","body":"Hmmm interesting idea, however this still allows the cursor to become locked when leaving the ellipse.  One option would be to not draw the cross-hair when the cursor is out of the ellipse, but this then leaves the user without a cursor.  Another would be to simply draw the standard cursor, but this would leave the cross-hair again locked.  See my dilemma?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1343004483,"post_id":11605073,"comment_id":15363030,"body_markdown":"Where&#39;s the mouse listener attached to??","body":"Where&#39;s the mouse listener attached to??"},{"owner":{"account_id":1675423,"reputation":567,"user_id":1541101,"accept_rate":83,"display_name":"Atlas Wegman"},"score":0,"creation_date":1343006451,"post_id":11605073,"comment_id":15363301,"body_markdown":"Mouse listener is attached to my Canvas, though mouse events are not an issue.  All listeners are behaving properly :)","body":"Mouse listener is attached to my Canvas, though mouse events are not an issue.  All listeners are behaving properly :)"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343004737,"creation_date":1343004737,"answer_id":11605256,"question_id":11605073,"body_markdown":"An example of setting the cursor based on position:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.Ellipse2D;\r\n    \r\n    import javax.swing.*;\r\n    \r\n    public class CursorMagic extends JPanel {\r\n       private static final int PREF_W = 600;\r\n       private static final int PREF_H = 400;\r\n       private static final Color ELLIPSE_COLOR = Color.red;\r\n       private static final Color ELLIPSE_FILL_COLOR = Color.pink;\r\n       private static final Stroke ELLIPSE_STROKE = new BasicStroke(3f);\r\n       private Ellipse2D ellipse = new Ellipse2D.Double(PREF_W / 4, PREF_H / 4, PREF_W / 2, PREF_H / 2);\r\n       \r\n       public CursorMagic() {\r\n          MyMouseAdapter mouseAdapter = new MyMouseAdapter();\r\n          addMouseMotionListener(mouseAdapter);\r\n       }\r\n       \r\n       @Override\r\n       protected void paintComponent(Graphics g) {\r\n          super.paintComponent(g);\r\n          Graphics2D g2 = (Graphics2D) g;\r\n          g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n          g2.setColor(ELLIPSE_FILL_COLOR);\r\n          g2.fill(ellipse);\r\n          g2.setColor(ELLIPSE_COLOR);\r\n          g2.setStroke(ELLIPSE_STROKE);\r\n          g2.draw(ellipse);\r\n       }\r\n    \r\n       @Override\r\n       public Dimension getPreferredSize() {\r\n          return new Dimension(PREF_W, PREF_H);\r\n       }\r\n       \r\n       private class MyMouseAdapter extends MouseAdapter {\r\n          @Override\r\n          public void mouseMoved(MouseEvent mEvt) {\r\n             if (ellipse.contains(mEvt.getPoint())) {\r\n                setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR));\r\n             } else {\r\n                setCursor(null);\r\n             }\r\n          }\r\n       }\r\n    \r\n       private static void createAndShowGui() {\r\n          CursorMagic mainPanel = new CursorMagic();\r\n    \r\n          JFrame frame = new JFrame(&quot;CursorMagic&quot;);\r\n          frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n          frame.getContentPane().add(mainPanel);\r\n          frame.pack();\r\n          frame.setLocationByPlatform(true);\r\n          frame.setVisible(true);\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          SwingUtilities.invokeLater(new Runnable() {\r\n             public void run() {\r\n                createAndShowGui();\r\n             }\r\n          });\r\n       }\r\n    }","title":"Keep mouse within Ellipse2D","body":"<p>An example of setting the cursor based on position:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Ellipse2D;\n\nimport javax.swing.*;\n\npublic class CursorMagic extends JPanel {\n   private static final int PREF_W = 600;\n   private static final int PREF_H = 400;\n   private static final Color ELLIPSE_COLOR = Color.red;\n   private static final Color ELLIPSE_FILL_COLOR = Color.pink;\n   private static final Stroke ELLIPSE_STROKE = new BasicStroke(3f);\n   private Ellipse2D ellipse = new Ellipse2D.Double(PREF_W / 4, PREF_H / 4, PREF_W / 2, PREF_H / 2);\n\n   public CursorMagic() {\n      MyMouseAdapter mouseAdapter = new MyMouseAdapter();\n      addMouseMotionListener(mouseAdapter);\n   }\n\n   @Override\n   protected void paintComponent(Graphics g) {\n      super.paintComponent(g);\n      Graphics2D g2 = (Graphics2D) g;\n      g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n            RenderingHints.VALUE_ANTIALIAS_ON);\n      g2.setColor(ELLIPSE_FILL_COLOR);\n      g2.fill(ellipse);\n      g2.setColor(ELLIPSE_COLOR);\n      g2.setStroke(ELLIPSE_STROKE);\n      g2.draw(ellipse);\n   }\n\n   @Override\n   public Dimension getPreferredSize() {\n      return new Dimension(PREF_W, PREF_H);\n   }\n\n   private class MyMouseAdapter extends MouseAdapter {\n      @Override\n      public void mouseMoved(MouseEvent mEvt) {\n         if (ellipse.contains(mEvt.getPoint())) {\n            setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR));\n         } else {\n            setCursor(null);\n         }\n      }\n   }\n\n   private static void createAndShowGui() {\n      CursorMagic mainPanel = new CursorMagic();\n\n      JFrame frame = new JFrame(\"CursorMagic\");\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frame.getContentPane().add(mainPanel);\n      frame.pack();\n      frame.setLocationByPlatform(true);\n      frame.setVisible(true);\n   }\n\n   public static void main(String[] args) {\n      SwingUtilities.invokeLater(new Runnable() {\n         public void run() {\n            createAndShowGui();\n         }\n      });\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151804,"reputation":2929,"user_id":365902,"accept_rate":83,"display_name":"lily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1343335202,"creation_date":1343004935,"answer_id":11605278,"question_id":11605073,"body_markdown":"The simplest way to do this would be to use the [`java.awt.Robot`][1] class, which allows you to directly control the mouse and keyboard:\r\n\r\n    import java.awt.Robot;\r\n    \r\n    ...\r\n    \r\n    Robot robot = new Robot(&lt;your GraphicsDevice&gt;);\r\n    \r\n    ...\r\n    \r\n    @Override\r\n    public void mouseMoved(MouseEvent e) {\r\n        int x = e.getX(), y = e.getY();\r\n        if(shape.contains(x, y)) {\r\n            mouseMoveX = e.getX();\r\n            mouseMoveY = e.getY();\r\n        }\r\n        else {\r\n            robot.mouseMove(mouseMoveX,mouseMoveY); // Assuming these are the previous coordinates.\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/awt/Robot.html\r\n\r\n**Edit:** Okay, try this instead:\r\n\r\n    @Override\r\n    public void mouseMoved(MouseEvent e) {\r\n        int x = e.getX(), y = e.getY();\r\n        if (shape.contains(x, y)) {\r\n            mouseMoveX = e.getX();\r\n            mouseMoveY = e.getY();\r\n        }\r\n        else {\r\n            // get angle of rotation\r\n            double r = Math.atan2(y-shape.getCenterY(),x-shape.getCenterX());\r\n            mouseMoveX = (int) (shape.getWidth()/2 * Math.cos(r) + shape.getCenterX());\r\n            mouseMoveY = (int) (shape.getHeight()/2 * Math.sin(r) + shape.getCenterY());\r\n        }\r\n    }","title":"Keep mouse within Ellipse2D","body":"<p>The simplest way to do this would be to use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Robot.html\" rel=\"nofollow\"><code>java.awt.Robot</code></a> class, which allows you to directly control the mouse and keyboard:</p>\n\n<pre><code>import java.awt.Robot;\n\n...\n\nRobot robot = new Robot(&lt;your GraphicsDevice&gt;);\n\n...\n\n@Override\npublic void mouseMoved(MouseEvent e) {\n    int x = e.getX(), y = e.getY();\n    if(shape.contains(x, y)) {\n        mouseMoveX = e.getX();\n        mouseMoveY = e.getY();\n    }\n    else {\n        robot.mouseMove(mouseMoveX,mouseMoveY); // Assuming these are the previous coordinates.\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong> Okay, try this instead:</p>\n\n<pre><code>@Override\npublic void mouseMoved(MouseEvent e) {\n    int x = e.getX(), y = e.getY();\n    if (shape.contains(x, y)) {\n        mouseMoveX = e.getX();\n        mouseMoveY = e.getY();\n    }\n    else {\n        // get angle of rotation\n        double r = Math.atan2(y-shape.getCenterY(),x-shape.getCenterX());\n        mouseMoveX = (int) (shape.getWidth()/2 * Math.cos(r) + shape.getCenterX());\n        mouseMoveY = (int) (shape.getHeight()/2 * Math.sin(r) + shape.getCenterY());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1675423,"reputation":567,"user_id":1541101,"accept_rate":83,"display_name":"Atlas Wegman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11605278,"answer_count":2,"score":4,"last_activity_date":1640795702,"creation_date":1343002436,"question_id":11605073,"body_markdown":"I know how to keep my mouse (my g.draw(mouseX, mouseY) cursor) within a Ellipse2D / Shape…\r\n\r\n    @Override\r\n    public void mouseMoved(MouseEvent e) {\r\n        int x = e.getX(), y = e.getY();\r\n\t    if(shape.contains(x, y)) {\r\n            mouseMoveX = e.getX();\r\n\t        mouseMoveY = e.getY();\r\n        }\r\n    }\r\n\r\n…but this locks the movement entirely when the mouse leaves said shape (until it returns).  IE it remains in the same position even though the actual cursor is moving around.  I would like the mouse to be able to move around the Ellipse even though the actual cursor is out.  Many of you may still be confused, sorry for that, if any more explanation is required I would be happy to oblige.  Also, first question here so please let me know if I broke any rules! Thanks.\r\n\r\nPS: Sorry for any late responses, currently on dialup internet :(","title":"Keep mouse within Ellipse2D","body":"<p>I know how to keep my mouse (my g.draw(mouseX, mouseY) cursor) within a Ellipse2D / Shape…</p>\n\n<pre><code>@Override\npublic void mouseMoved(MouseEvent e) {\n    int x = e.getX(), y = e.getY();\n    if(shape.contains(x, y)) {\n        mouseMoveX = e.getX();\n        mouseMoveY = e.getY();\n    }\n}\n</code></pre>\n\n<p>…but this locks the movement entirely when the mouse leaves said shape (until it returns).  IE it remains in the same position even though the actual cursor is moving around.  I would like the mouse to be able to move around the Ellipse even though the actual cursor is out.  Many of you may still be confused, sorry for that, if any more explanation is required I would be happy to oblige.  Also, first question here so please let me know if I broke any rules! Thanks.</p>\n\n<p>PS: Sorry for any late responses, currently on dialup internet :(</p>\n"},{"tags":["java","format","hex","arrays","stringbuilder"],"comments":[{"owner":{"account_id":3412463,"reputation":1246,"user_id":2862100,"accept_rate":33,"display_name":"Luke"},"score":0,"creation_date":1382102347,"post_id":19450452,"comment_id":28840557,"body_markdown":"Why don&#39;t you just call Integer.parseInt(sb.toString(), 16) ?","body":"Why don&#39;t you just call Integer.parseInt(sb.toString(), 16) ?"}],"answers":[{"tags":[],"owner":{"account_id":1579091,"reputation":3314,"user_id":1464838,"accept_rate":81,"display_name":"Tamas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1382101630,"creation_date":1382101630,"answer_id":19450487,"question_id":19450452,"body_markdown":"The way I do it:\r\n\r\n      private static final char[] HEX_CHARS = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;,\r\n          &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39; };\r\n\r\n      public static String toHexString(byte[] bytes) {\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        int v;\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n          v = bytes[j] &amp; 0xFF;\r\n          hexChars[j * 2] = HEX_CHARS[v &gt;&gt;&gt; 4];\r\n          hexChars[j * 2 + 1] = HEX_CHARS[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n      }\r\n","title":"How to convert byte array to hex format in Java","body":"<p>The way I do it:</p>\n\n<pre><code>  private static final char[] HEX_CHARS = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A',\n      'B', 'C', 'D', 'E', 'F' };\n\n  public static String toHexString(byte[] bytes) {\n    char[] hexChars = new char[bytes.length * 2];\n    int v;\n    for (int j = 0; j &lt; bytes.length; j++) {\n      v = bytes[j] &amp; 0xFF;\n      hexChars[j * 2] = HEX_CHARS[v &gt;&gt;&gt; 4];\n      hexChars[j * 2 + 1] = HEX_CHARS[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1382102150,"creation_date":1382101800,"answer_id":19450540,"question_id":19450452,"body_markdown":"You can use the [`String javax.xml.bind.DatatypeConverter.printHexBinary(byte[])`][1]. e.g.:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tbyte[] array = new byte[] { 127, 15, 0 };\r\n\t\tString hex = DatatypeConverter.printHexBinary(array);\r\n\t\tSystem.out.println(hex); // prints &quot;7F0F00&quot;\r\n\t}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary%28byte%5B%5D%29","title":"How to convert byte array to hex format in Java","body":"<p>You can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary%28byte%5B%5D%29\" rel=\"noreferrer\"><code>String javax.xml.bind.DatatypeConverter.printHexBinary(byte[])</code></a>. e.g.:</p>\n\n<pre><code>public static void main(String[] args) {\n    byte[] array = new byte[] { 127, 15, 0 };\n    String hex = DatatypeConverter.printHexBinary(array);\n    System.out.println(hex); // prints \"7F0F00\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1640795557,"creation_date":1382205927,"answer_id":19469285,"question_id":19450452,"body_markdown":"`String.format` actually makes use of the java.util.Formatter class.  Instead of using the String.format convenience method, use a Formatter directly:\r\n\r\n    Formatter formatter = new Formatter();\r\n    for (byte b : bytes) {\r\n        formatter.format(&quot;%02x&quot;, b);\r\n    }\r\n    String hex = formatter.toString();\r\n\r\nAs of Java 17, [HexFormat](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html) can do this in one line:\r\n\r\n    String hex = HexFormat.of().formatHex(bytes);\r\n","title":"How to convert byte array to hex format in Java","body":"<p><code>String.format</code> actually makes use of the java.util.Formatter class.  Instead of using the String.format convenience method, use a Formatter directly:</p>\n<pre><code>Formatter formatter = new Formatter();\nfor (byte b : bytes) {\n    formatter.format(&quot;%02x&quot;, b);\n}\nString hex = formatter.toString();\n</code></pre>\n<p>As of Java 17, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"nofollow noreferrer\">HexFormat</a> can do this in one line:</p>\n<pre><code>String hex = HexFormat.of().formatHex(bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4912490,"reputation":324,"user_id":3957406,"display_name":"Dharmesh Gohil"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1436996737,"creation_date":1436996737,"answer_id":31441719,"question_id":19450452,"body_markdown":"Try this\r\n\r\n    byte[] raw = some_bytes;\r\n    javax.xml.bind.DatatypeConverter.printHexBinary(raw)","title":"How to convert byte array to hex format in Java","body":"<p>Try this</p>\n\n<pre><code>byte[] raw = some_bytes;\njavax.xml.bind.DatatypeConverter.printHexBinary(raw)\n</code></pre>\n"}],"owner":{"account_id":1056051,"reputation":1147,"user_id":1058740,"accept_rate":39,"display_name":"James Meade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45458,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1640795557,"creation_date":1382101555,"question_id":19450452,"body_markdown":"I know that you can use `printf` and also use `StringBuilder.append(String.format(&quot;%x&quot;, byte))` to convert values to HEX values and display them on the console. But I want to be able to actually format the byte array so that each byte is displayed as HEX instead of decimal.\r\n\r\nHere is a section of my code that I have already that does the first two ways that I stated:\r\n\r\n    if(bytes &gt; 0)\r\n\t\t{\r\n\t\t\tbyteArray = new byte[bytes]; // Set up array to receive these values.\r\n\t\t\t\r\n\t\t\tfor(int i=0; i&lt;bytes; i++)\r\n\t\t\t{\r\n\t\t\t\tbyteString = hexSubString(hexString, offSet, CHARSPERBYTE, false); // Isolate digits for a single byte.\r\n\t\t\t\tLog.d(&quot;HEXSTRING&quot;, byteString);\r\n\t\t\t\t\r\n\t\t\t\tif(byteString.length() &gt; 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tbyteArray[i] = (byte)Integer.parseInt(byteString, 16); // Parse value into binary data array.\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;String is empty!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\toffSet += CHARSPERBYTE; // Set up for next word hex.\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tfor(byte b : byteArray)\r\n\t\t\t{\r\n\t\t\t\tsb.append(String.format(&quot;%x&quot;, b));\r\n\t\t\t}\r\n\t\t\r\n\t\t\tbyte subSystem = byteArray[0];\r\n\t\t\tbyte highLevel = byteArray[1];\r\n\t\t\tbyte lowLevel = byteArray[2];\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Byte array size: &quot; + byteArray.length);\r\n\t\t\tSystem.out.printf(&quot;Byte 1: &quot; + &quot;%x&quot;, subSystem);\r\n\t\t\tSystem.out.printf(&quot;Byte 2: &quot; + &quot;%x&quot;, highLevel);\r\n\t\t\tSystem.out.println(&quot;Byte 3: &quot; + lowLevel);\r\n\t\t\tSystem.out.println(&quot;Byte array value: &quot; + Arrays.toString(byteArray));\r\n\t\t\tSystem.out.println(&quot;Byte array values as HEX: &quot; + sb.toString());\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tbyteArray = new byte[0]; // No hex data.\r\n\t\t\t\r\n\t\t\t//throw new HexException();\r\n\t\t}\r\n\t\t\r\n\t\treturn byteArray;\r\n\r\nThe string that was split up into the byte array was:\r\n\r\n    &quot;1E2021345A2B&quot;\r\n\r\nBut displays it as decimal on the console as:\r\n\r\n    &quot;303233529043&quot;\r\n\r\nCould anyone please help me on how to get the actual values to be in hex and be displayed in that way naturally. Thank you in advance.","title":"How to convert byte array to hex format in Java","body":"<p>I know that you can use <code>printf</code> and also use <code>StringBuilder.append(String.format(\"%x\", byte))</code> to convert values to HEX values and display them on the console. But I want to be able to actually format the byte array so that each byte is displayed as HEX instead of decimal.</p>\n\n<p>Here is a section of my code that I have already that does the first two ways that I stated:</p>\n\n<pre><code>if(bytes &gt; 0)\n    {\n        byteArray = new byte[bytes]; // Set up array to receive these values.\n\n        for(int i=0; i&lt;bytes; i++)\n        {\n            byteString = hexSubString(hexString, offSet, CHARSPERBYTE, false); // Isolate digits for a single byte.\n            Log.d(\"HEXSTRING\", byteString);\n\n            if(byteString.length() &gt; 0)\n            {\n                byteArray[i] = (byte)Integer.parseInt(byteString, 16); // Parse value into binary data array.\n            }\n            else\n            {\n                System.out.println(\"String is empty!\");\n            }\n\n            offSet += CHARSPERBYTE; // Set up for next word hex.    \n        }\n\n        StringBuilder sb = new StringBuilder();\n        for(byte b : byteArray)\n        {\n            sb.append(String.format(\"%x\", b));\n        }\n\n        byte subSystem = byteArray[0];\n        byte highLevel = byteArray[1];\n        byte lowLevel = byteArray[2];\n\n        System.out.println(\"Byte array size: \" + byteArray.length);\n        System.out.printf(\"Byte 1: \" + \"%x\", subSystem);\n        System.out.printf(\"Byte 2: \" + \"%x\", highLevel);\n        System.out.println(\"Byte 3: \" + lowLevel);\n        System.out.println(\"Byte array value: \" + Arrays.toString(byteArray));\n        System.out.println(\"Byte array values as HEX: \" + sb.toString());\n    }\n    else\n    {\n        byteArray = new byte[0]; // No hex data.\n\n        //throw new HexException();\n    }\n\n    return byteArray;\n</code></pre>\n\n<p>The string that was split up into the byte array was:</p>\n\n<pre><code>\"1E2021345A2B\"\n</code></pre>\n\n<p>But displays it as decimal on the console as:</p>\n\n<pre><code>\"303233529043\"\n</code></pre>\n\n<p>Could anyone please help me on how to get the actual values to be in hex and be displayed in that way naturally. Thank you in advance.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4414483,"reputation":181,"user_id":3596475,"display_name":"Dr.Dax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640795387,"creation_date":1640795387,"answer_id":70522215,"question_id":38646175,"body_markdown":"Answer depends on engineering pipeline. I use _hibernate-tools_ 4.3.5.Final and Ant task _hibernatetool_ with notable configurations:\r\n * `&lt;hbm2hbmxml/&gt;` for HBM files generation;\r\n * `&lt;hbm2java jdk5=&quot;true&quot; ejb3=&quot;true&quot;/&gt;` to create Java classes from HBM. Solution is in HBM contents.\r\n\r\n### Is there any way to specify in the file reveng.xml?\r\n**No.** _hbm2hbmxml_ is configured by _reveng.xml_. [P&#233;ter&#39;s answer][1] suggests to specify desired type in `&lt;column/&gt;`, but _OneToMany_ has no column. Relationship may explicitly be defined as following\r\n```xml\r\n&lt;table name=&quot;MY_TABLE&quot;&gt;\r\n\t&lt;foreign-key constraint-name=&quot;FK_TO_MY_TABLE_IN_OTHER_TABLE&quot;&gt;\r\n\t\t&lt;set property=&quot;otherTables&quot;/&gt;\r\n\t&lt;/foreign-key&gt;\r\n&lt;/table&gt;\r\n```\r\nNotice `&lt;set/&gt;` element. There is no `&lt;list/&gt;` or other collection in _hibernate-reverse-engineering-3.0_ namespace. I have not found a way to change collection type in _reveng.xml_ or via Ant task parameters, so every relationship in generated HBM is `&lt;set&gt;` element (in _hibernate-mapping-3.0_ namespace).\r\n\r\n### Is there a way to change collection type?\r\n\r\n**Yes.** HBM file must contain desired type element (`&lt;list&gt;`, `&lt;bag&gt;`, `&lt;map&gt;`, etc.) instead of `&lt;set&gt;`. By default Hibernate tools use templates in JAR folders _hbm_ and _pojo_. Each of those may be overridden by files in subfolders of folder specified in _templatepath_ attribute of _hibernatetool_ Ant task. You need to provide custom FreeMaker templates in _hbm_ folder with following modifications.\r\n\r\nIn the end of _persistentclass.hbm.ftl_ replace\r\n```\r\n&lt;#if c2h.getTag(property)!=&quot;version&quot; &amp;&amp; c2h.getTag(property)!=&quot;timestamp&quot;&gt;\r\n```\r\nwith (notice template name starts with _list_, desired collection type, and processed tag is _set_)\r\n```\r\n&lt;#if c2h.getTag(property) == &quot;set&quot;&gt;\r\n\t&lt;#include &quot;list.hbm.ftl&quot;/&gt;\r\n&lt;#elseif c2h.getTag(property)!=&quot;version&quot; &amp;&amp; c2h.getTag(property)!=&quot;timestamp&quot;&gt;\r\n```\r\nIn _list.hbm.ftl_ remove following line (because set has no index property)\r\n```\r\n&lt;#assign indexValue = value.getIndex()&gt;\r\n```\r\nand replace mandatory element\r\n```\r\n&lt;list-index&gt;\r\n&lt;#foreach column in indexValue.columnIterator&gt;\r\n\t&lt;#include &quot;column.hbm.ftl&quot;&gt;\r\n&lt;/#foreach&gt;\r\n&lt;/list-index&gt;\r\n```\r\nwith (put whatever you like instead of `ID`, it is not present in generated Java code)\r\n```xml\r\n&lt;list-index column=&quot;ID&quot;/&gt;\r\n```\r\n\r\n----------\r\n_List_ implies order. I suggest to add `OrderBy` annotation with related entity ID field name. Add to _list.hbm.ftl_ after `&lt;#include &quot;meta.hbm.ftl&quot;&gt;`\r\n```xml\r\n&lt;meta attribute=&quot;scope-get&quot;&gt;@javax.persistence.OrderBy(&quot;id&quot;) public&lt;/meta&gt;\r\n```\r\n[maggu suggests][2] to add _extra-import_ meta attribute to have package name mentioned in class file only once, but in my experience it breaks build with undefined symbol.\r\n\r\nNotice actual scope after annotation. There is no way to put it on separate line (whitespace gets trimmed).\r\n\r\nAlternative to _scope hack_ is adding specific annotation in _pojo_ build stage (one with _hbm2java_) together with other annotations, e.g., add to _Ejb3PropertyGetAnnotation.ftl_ within `&lt;#elseif c2h.isCollection(property)&gt;` block following line\r\n```\r\n&lt;#if property.value.type.returnedClass.simpleName == &quot;List&quot;&gt;@javax.persistence.OrderBy(&quot;id&quot;)&lt;/#if&gt;\r\n```\r\n----------\r\n`&lt;list&gt;` and `&lt;bag&gt;` lead to `new ArrayList&lt;&gt;(0)` as default field value, but _list_ is exposed as useful _java.util.List_, while _bag_ is only _java.util.Collection_. It should be possible to change this (also for _set_) via _collection-type_ attribute, but it accepts only _org.hibernate.usertype.UserCollectionType_ implementations, not JDK classes.\r\n\r\nIn my project I had to replace _Set_ with _List_ only for certain relationships, so my _list.hbm.ftl_ contains `&lt;#if property.name == &quot;otherTables&quot;&gt;`. You can adjust condition as needed.\r\n\r\n  [1]: https://stackoverflow.com/a/2232784\r\n  [2]: https://stackoverflow.com/a/25963364","title":"How to generate List instead of Set with Hibernate tools reverse engineering?","body":"<p>Answer depends on engineering pipeline. I use <em>hibernate-tools</em> 4.3.5.Final and Ant task <em>hibernatetool</em> with notable configurations:</p>\n<ul>\n<li><code>&lt;hbm2hbmxml/&gt;</code> for HBM files generation;</li>\n<li><code>&lt;hbm2java jdk5=&quot;true&quot; ejb3=&quot;true&quot;/&gt;</code> to create Java classes from HBM. Solution is in HBM contents.</li>\n</ul>\n<h3>Is there any way to specify in the file reveng.xml?</h3>\n<p><strong>No.</strong> <em>hbm2hbmxml</em> is configured by <em>reveng.xml</em>. <a href=\"https://stackoverflow.com/a/2232784\">Péter's answer</a> suggests to specify desired type in <code>&lt;column/&gt;</code>, but <em>OneToMany</em> has no column. Relationship may explicitly be defined as following</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;table name=&quot;MY_TABLE&quot;&gt;\n    &lt;foreign-key constraint-name=&quot;FK_TO_MY_TABLE_IN_OTHER_TABLE&quot;&gt;\n        &lt;set property=&quot;otherTables&quot;/&gt;\n    &lt;/foreign-key&gt;\n&lt;/table&gt;\n</code></pre>\n<p>Notice <code>&lt;set/&gt;</code> element. There is no <code>&lt;list/&gt;</code> or other collection in <em>hibernate-reverse-engineering-3.0</em> namespace. I have not found a way to change collection type in <em>reveng.xml</em> or via Ant task parameters, so every relationship in generated HBM is <code>&lt;set&gt;</code> element (in <em>hibernate-mapping-3.0</em> namespace).</p>\n<h3>Is there a way to change collection type?</h3>\n<p><strong>Yes.</strong> HBM file must contain desired type element (<code>&lt;list&gt;</code>, <code>&lt;bag&gt;</code>, <code>&lt;map&gt;</code>, etc.) instead of <code>&lt;set&gt;</code>. By default Hibernate tools use templates in JAR folders <em>hbm</em> and <em>pojo</em>. Each of those may be overridden by files in subfolders of folder specified in <em>templatepath</em> attribute of <em>hibernatetool</em> Ant task. You need to provide custom FreeMaker templates in <em>hbm</em> folder with following modifications.</p>\n<p>In the end of <em>persistentclass.hbm.ftl</em> replace</p>\n<pre><code>&lt;#if c2h.getTag(property)!=&quot;version&quot; &amp;&amp; c2h.getTag(property)!=&quot;timestamp&quot;&gt;\n</code></pre>\n<p>with (notice template name starts with <em>list</em>, desired collection type, and processed tag is <em>set</em>)</p>\n<pre><code>&lt;#if c2h.getTag(property) == &quot;set&quot;&gt;\n    &lt;#include &quot;list.hbm.ftl&quot;/&gt;\n&lt;#elseif c2h.getTag(property)!=&quot;version&quot; &amp;&amp; c2h.getTag(property)!=&quot;timestamp&quot;&gt;\n</code></pre>\n<p>In <em>list.hbm.ftl</em> remove following line (because set has no index property)</p>\n<pre><code>&lt;#assign indexValue = value.getIndex()&gt;\n</code></pre>\n<p>and replace mandatory element</p>\n<pre><code>&lt;list-index&gt;\n&lt;#foreach column in indexValue.columnIterator&gt;\n    &lt;#include &quot;column.hbm.ftl&quot;&gt;\n&lt;/#foreach&gt;\n&lt;/list-index&gt;\n</code></pre>\n<p>with (put whatever you like instead of <code>ID</code>, it is not present in generated Java code)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;list-index column=&quot;ID&quot;/&gt;\n</code></pre>\n<hr />\n<p><em>List</em> implies order. I suggest to add <code>OrderBy</code> annotation with related entity ID field name. Add to <em>list.hbm.ftl</em> after <code>&lt;#include &quot;meta.hbm.ftl&quot;&gt;</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;meta attribute=&quot;scope-get&quot;&gt;@javax.persistence.OrderBy(&quot;id&quot;) public&lt;/meta&gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/25963364\">maggu suggests</a> to add <em>extra-import</em> meta attribute to have package name mentioned in class file only once, but in my experience it breaks build with undefined symbol.</p>\n<p>Notice actual scope after annotation. There is no way to put it on separate line (whitespace gets trimmed).</p>\n<p>Alternative to <em>scope hack</em> is adding specific annotation in <em>pojo</em> build stage (one with <em>hbm2java</em>) together with other annotations, e.g., add to <em>Ejb3PropertyGetAnnotation.ftl</em> within <code>&lt;#elseif c2h.isCollection(property)&gt;</code> block following line</p>\n<pre><code>&lt;#if property.value.type.returnedClass.simpleName == &quot;List&quot;&gt;@javax.persistence.OrderBy(&quot;id&quot;)&lt;/#if&gt;\n</code></pre>\n<hr />\n<p><code>&lt;list&gt;</code> and <code>&lt;bag&gt;</code> lead to <code>new ArrayList&lt;&gt;(0)</code> as default field value, but <em>list</em> is exposed as useful <em>java.util.List</em>, while <em>bag</em> is only <em>java.util.Collection</em>. It should be possible to change this (also for <em>set</em>) via <em>collection-type</em> attribute, but it accepts only <em>org.hibernate.usertype.UserCollectionType</em> implementations, not JDK classes.</p>\n<p>In my project I had to replace <em>Set</em> with <em>List</em> only for certain relationships, so my <em>list.hbm.ftl</em> contains <code>&lt;#if property.name == &quot;otherTables&quot;&gt;</code>. You can adjust condition as needed.</p>\n"}],"owner":{"account_id":2892834,"reputation":163,"user_id":2481202,"accept_rate":25,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640795387,"creation_date":1469737851,"question_id":38646175,"body_markdown":"I would like to know how I can get in POJOS generated by Hibernate tools when doing reverse engineering of a database the collections of relationships (OneToMany, ManyToMany) like List instead of Set.\r\n\r\nIs there any way to specify in the file reveng.xml?","title":"How to generate List instead of Set with Hibernate tools reverse engineering?","body":"<p>I would like to know how I can get in POJOS generated by Hibernate tools when doing reverse engineering of a database the collections of relationships (OneToMany, ManyToMany) like List instead of Set.</p>\n\n<p>Is there any way to specify in the file reveng.xml?</p>\n"},{"tags":["java","position","javafx-2","mouse-cursor"],"answers":[{"tags":[],"owner":{"account_id":2209615,"reputation":3624,"user_id":1951882,"display_name":"Alexander Kirov"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1362994038,"creation_date":1357423707,"answer_id":14176918,"question_id":14176702,"body_markdown":"You can use robot for that purpose:\r\n\r\nAWT robot:\r\n\r\nhttp://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Robot.html\r\n\r\nor glass robot:\r\n\r\ncom.sun.glass.ui.Robot; \r\nwhich could be created with:\r\ncom.sun.glass.ui.Application.GetApplication().createRobot();\r\n\r\nTo get the cursor position, see other post for this question about java.awt.MouseInfo","title":"JavaFX 2 set/get cursor position","body":"<p>You can use robot for that purpose:</p>\n\n<p>AWT robot:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Robot.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Robot.html</a></p>\n\n<p>or glass robot:</p>\n\n<p>com.sun.glass.ui.Robot; \nwhich could be created with:\ncom.sun.glass.ui.Application.GetApplication().createRobot();</p>\n\n<p>To get the cursor position, see other post for this question about java.awt.MouseInfo</p>\n"},{"tags":[],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1364301440,"creation_date":1362993606,"answer_id":15334882,"question_id":14176702,"body_markdown":"    import java.awt.MouseInfo;\r\n    // get the mouse&#39;s position\r\n    Point p = MouseInfo.getPointerInfo().getLocation();\r\n\r\n    import java.awt.Robot;\r\n    // set the mouse position\r\n    new Robot().mouseMove( x, y );\r\n\r\nPS. DO NOT USE com.sun.* classes (unless you&#39;re using Mac, see below).\r\n\r\nPS2. Due to a JavaFX issue which seems will be fixed in JavaFX8, you cannot use java.awt classes in Mac, so as pointed out by Alexander Kirov, in Mac you still need to use the com.sun classes like so:\r\n\r\n    // workaround for Mac only\r\n    com.sun.glass.ui.Robot robot =\r\n           com.sun.glass.ui.Application.GetApplication().createRobot();\r\n\r\n    // getPosition of the mouse in Mac\r\n    int x = robot.getMouseX(); \r\n    int y = robot.getMouseY();","title":"JavaFX 2 set/get cursor position","body":"<pre><code>import java.awt.MouseInfo;\n// get the mouse's position\nPoint p = MouseInfo.getPointerInfo().getLocation();\n\nimport java.awt.Robot;\n// set the mouse position\nnew Robot().mouseMove( x, y );\n</code></pre>\n\n<p>PS. DO NOT USE com.sun.* classes (unless you're using Mac, see below).</p>\n\n<p>PS2. Due to a JavaFX issue which seems will be fixed in JavaFX8, you cannot use java.awt classes in Mac, so as pointed out by Alexander Kirov, in Mac you still need to use the com.sun classes like so:</p>\n\n<pre><code>// workaround for Mac only\ncom.sun.glass.ui.Robot robot =\n       com.sun.glass.ui.Application.GetApplication().createRobot();\n\n// getPosition of the mouse in Mac\nint x = robot.getMouseX(); \nint y = robot.getMouseY();\n</code></pre>\n"}],"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7486,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":14176918,"answer_count":2,"score":4,"last_activity_date":1640795158,"creation_date":1357422096,"question_id":14176702,"body_markdown":"How can I set/get the cursor&#39;s position in JavaFX 2? \r\n\r\nI tired googling the answer but found nothing useful. All I can do is setting the cursor&#39;s style.","title":"JavaFX 2 set/get cursor position","body":"<p>How can I set/get the cursor's position in JavaFX 2?</p>\n<p>I tired googling the answer but found nothing useful. All I can do is setting the cursor's style.</p>\n"},{"tags":["java","html","escaping"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1640795224,"post_id":70522140,"comment_id":124661529,"body_markdown":"Of course not, that input format is just bizarre and not a standard anywhere. Just add the semi-colon. `StringEscapeUtils.unescapeHtml(thingYouGotFromDb + &quot;;&quot;)`.","body":"Of course not, that input format is just bizarre and not a standard anywhere. Just add the semi-colon. <code>StringEscapeUtils.unescapeHtml(thingYouGotFromDb + &quot;;&quot;)</code>."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1640795270,"post_id":70522140,"comment_id":124661546,"body_markdown":"If you know that adding the missing semicolon will fix the issue, why don&#39;t you programmatically just add it? eG check if the String ends with a semicolon and if not add it before passing it into the unescapeHtml method.","body":"If you know that adding the missing semicolon will fix the issue, why don&#39;t you programmatically just add it? eG check if the String ends with a semicolon and if not add it before passing it into the unescapeHtml method."},{"owner":{"account_id":20590284,"reputation":1,"user_id":15114136,"display_name":"Jeff Fulton"},"score":0,"creation_date":1640809742,"post_id":70522140,"comment_id":124666060,"body_markdown":"We don&#39;t know ahead of time when the value will present itself, and there are also other html values stored in the database.  It&#39;s also concatenated with a larger string value.  It&#39;s looking more like I&#39;ll just need a home grown solution.","body":"We don&#39;t know ahead of time when the value will present itself, and there are also other html values stored in the database.  It&#39;s also concatenated with a larger string value.  It&#39;s looking more like I&#39;ll just need a home grown solution."}],"owner":{"account_id":20590284,"reputation":1,"user_id":15114136,"display_name":"Jeff Fulton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640794986,"creation_date":1640794986,"question_id":70522140,"body_markdown":"I&#39;m trying to convert an html value stored in a database to the corresponding special character when it prints to a file.  The value stored in the database is &amp;#174.  If I execute StringEscapeUtils.unescapeHtml(&quot;&amp;#174&quot;), I simply get &quot;&amp;#174&quot; output to the file.  However, if I do StringEscapeUtils.unescapeHtml(&quot;&amp;#174 ;&quot;) then the registered symbol is output to the file.  Is there a library/function I&#39;m unaware of that will unescape the html even if it is missing the semi colon? ","title":"How can I unescape html in Java if the value stored is missing the semicolon?","body":"<p>I'm trying to convert an html value stored in a database to the corresponding special character when it prints to a file.  The value stored in the database is &amp;#174.  If I execute StringEscapeUtils.unescapeHtml(&quot;&amp;#174&quot;), I simply get &quot;&amp;#174&quot; output to the file.  However, if I do StringEscapeUtils.unescapeHtml(&quot;&amp;#174 ;&quot;) then the registered symbol is output to the file.  Is there a library/function I'm unaware of that will unescape the html even if it is missing the semi colon?</p>\n"},{"tags":["java","swing","hyperlink","mouse-cursor"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1311500214,"post_id":6803716,"comment_id":8081536,"body_markdown":"sounds like a bug to me - maybe the bug parade already knows about it","body":"sounds like a bug to me - maybe the bug parade already knows about it"}],"owner":{"account_id":173898,"reputation":1213,"user_id":402893,"accept_rate":75,"display_name":"peskal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1729,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1640794622,"creation_date":1311460074,"question_id":6803716,"body_markdown":"I have a JTextPane containing hyperlinks. When it&#39;s editable, hyperlinks aren&#39;t clickable, and the cursor does not change state when hovering over them (e.g. to a hand). When it is *not* editable, hyperlinks *are* clickable, and the cursor *does* change state when hovering over them. Perfect.\r\n\r\nHere&#39;s the problem, if the cursor is already hovering over a JTextPane when its editability is changed, the cursor does not update. The only way (that I know of) for the cursor to update is to move it around.\r\n\r\nEven though the cursor may not change state, the HyperlinkListeners will see an ACTIVATED event when the mouse is pressed and the JTextPane is not editable. Is there a way force the cursor reevaluate what state it should be in and update itself when I change the state of the panel beneath it?\r\n\r\nBasically, I want the cursor icon to *always* correspond to what will happen when the mouse is pressed. Yes, this is a boundary case, but it&#39;s still pretty annoying.\r\n\r\nHere is some sample code to play with. \r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    \r\n    /**\r\n     * Every five seconds the editability of the JTextPane is changed. If the\r\n     * editability changes to false when the mouse is hovering over the hyperlink,\r\n     * the cursor will not change to a hand until it is moved off and then back\r\n     * onto the hyperlink. If the editability changes to true when the mouse is\r\n     * hovering over the hyperlink, the cursor will not change back to normal\r\n     * until it is moved slightly.\r\n     * \r\n     * I want the cursor to update without having to move the mouse when it&#39;s\r\n     * already hovering over a hyperlink.\r\n     */\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class HyperlinkCursorProblem extends JFrame {\r\n    \r\n      public HyperlinkCursorProblem(String title) {\r\n        super(title);\r\n    \r\n        Container pane = getContentPane();\r\n        pane.setLayout(new BoxLayout(pane, BoxLayout.Y_AXIS));\r\n    \r\n        final JLabel editabilityLabel = new JLabel(&quot;Editable&quot;);\r\n        pane.add(editabilityLabel);\r\n    \r\n        final JTextPane textPane = new JTextPane();\r\n        textPane.setContentType(&quot;text/html&quot;);\r\n    \r\n        StringBuilder text = new StringBuilder();\r\n        text.append(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        text.append(&quot;&lt;a href=\\&quot;http://www.example.com/\\&quot;&gt;&quot;);\r\n        text.append(&quot;Click here for fun examples.&quot;);\r\n        text.append(&quot;&lt;/a&gt;&quot;);\r\n        text.append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        textPane.setText(text.toString());\r\n        textPane.addHyperlinkListener(new HyperlinkListener() {\r\n          public void hyperlinkUpdate(HyperlinkEvent e) {\r\n            if (e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {\r\n              System.out.println(&quot;Going to &quot; + e.getURL());\r\n            }\r\n          }\r\n        });\r\n        textPane.setPreferredSize(new Dimension(500, 250));\r\n        pane.add(textPane);\r\n    \r\n        new Thread(new Runnable() {\r\n          public void run() {\r\n            while (true) {\r\n              try {\r\n                Thread.sleep(5000);\r\n    \r\n                SwingUtilities.invokeLater(new Runnable() {\r\n                    public void run() {\r\n                        boolean editable = !textPane.isEditable();\r\n                        textPane.setEditable(editable);\r\n                        editabilityLabel.setText(editable ? &quot;Editable&quot; : &quot;Not Editable&quot;);\r\n                    }\r\n                });\r\n              } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n              }\r\n            }\r\n          }\r\n        }).start();\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n          public void run() {\r\n            JFrame frame = new HyperlinkCursorProblem(&quot;Large File Mover&quot;);\r\n    \r\n            // Display the window.\r\n            frame.setVisible(true);\r\n            frame.pack();\r\n          }\r\n        });\r\n      }\r\n    }\r\n        \r\n                                                                                                                                                                                        \r\n                                                                                                ","title":"Changing the cursor for hovering over hyperlinks when JEditor.setEditable() is called","body":"<p>I have a JTextPane containing hyperlinks. When it's editable, hyperlinks aren't clickable, and the cursor does not change state when hovering over them (e.g. to a hand). When it is <em>not</em> editable, hyperlinks <em>are</em> clickable, and the cursor <em>does</em> change state when hovering over them. Perfect.</p>\n\n<p>Here's the problem, if the cursor is already hovering over a JTextPane when its editability is changed, the cursor does not update. The only way (that I know of) for the cursor to update is to move it around.</p>\n\n<p>Even though the cursor may not change state, the HyperlinkListeners will see an ACTIVATED event when the mouse is pressed and the JTextPane is not editable. Is there a way force the cursor reevaluate what state it should be in and update itself when I change the state of the panel beneath it?</p>\n\n<p>Basically, I want the cursor icon to <em>always</em> correspond to what will happen when the mouse is pressed. Yes, this is a boundary case, but it's still pretty annoying.</p>\n\n<p>Here is some sample code to play with. </p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\n\n/**\n * Every five seconds the editability of the JTextPane is changed. If the\n * editability changes to false when the mouse is hovering over the hyperlink,\n * the cursor will not change to a hand until it is moved off and then back\n * onto the hyperlink. If the editability changes to true when the mouse is\n * hovering over the hyperlink, the cursor will not change back to normal\n * until it is moved slightly.\n * \n * I want the cursor to update without having to move the mouse when it's\n * already hovering over a hyperlink.\n */\n@SuppressWarnings(\"serial\")\npublic class HyperlinkCursorProblem extends JFrame {\n\n  public HyperlinkCursorProblem(String title) {\n    super(title);\n\n    Container pane = getContentPane();\n    pane.setLayout(new BoxLayout(pane, BoxLayout.Y_AXIS));\n\n    final JLabel editabilityLabel = new JLabel(\"Editable\");\n    pane.add(editabilityLabel);\n\n    final JTextPane textPane = new JTextPane();\n    textPane.setContentType(\"text/html\");\n\n    StringBuilder text = new StringBuilder();\n    text.append(\"&lt;html&gt;&lt;body&gt;\");\n    text.append(\"&lt;a href=\\\"http://www.example.com/\\\"&gt;\");\n    text.append(\"Click here for fun examples.\");\n    text.append(\"&lt;/a&gt;\");\n    text.append(\"&lt;/body&gt;&lt;/html&gt;\");\n    textPane.setText(text.toString());\n    textPane.addHyperlinkListener(new HyperlinkListener() {\n      public void hyperlinkUpdate(HyperlinkEvent e) {\n        if (e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {\n          System.out.println(\"Going to \" + e.getURL());\n        }\n      }\n    });\n    textPane.setPreferredSize(new Dimension(500, 250));\n    pane.add(textPane);\n\n    new Thread(new Runnable() {\n      public void run() {\n        while (true) {\n          try {\n            Thread.sleep(5000);\n\n            SwingUtilities.invokeLater(new Runnable() {\n                public void run() {\n                    boolean editable = !textPane.isEditable();\n                    textPane.setEditable(editable);\n                    editabilityLabel.setText(editable ? \"Editable\" : \"Not Editable\");\n                }\n            });\n          } catch (InterruptedException e) {\n            e.printStackTrace();\n          }\n        }\n      }\n    }).start();\n  }\n\n  public static void main(String[] args) {\n    SwingUtilities.invokeLater(new Runnable() {\n      public void run() {\n        JFrame frame = new HyperlinkCursorProblem(\"Large File Mover\");\n\n        // Display the window.\n        frame.setVisible(true);\n        frame.pack();\n      }\n    });\n  }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1640796263,"post_id":70522026,"comment_id":124661874,"body_markdown":"If you are unit testing the given class, then you should not mock any method on it. What you should do is actually have tests that actually test those private methods as well (because they are used by the public method).","body":"If you are unit testing the given class, then you should not mock any method on it. What you should do is actually have tests that actually test those private methods as well (because they are used by the public method)."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1640813187,"post_id":70522026,"comment_id":124667109,"body_markdown":"You don&#39;t stub `restTemplate.exchange` correctly. `HttpEntity.equals` takes both body and headers into account. You are missing the headers in test code. You have 2 options: 1. create correct headers in test. 2. relax requirements on httpEntity by using an ArgumentMatcher","body":"You don&#39;t stub <code>restTemplate.exchange</code> correctly. <code>HttpEntity.equals</code> takes both body and headers into account. You are missing the headers in test code. You have 2 options: 1. create correct headers in test. 2. relax requirements on httpEntity by using an ArgumentMatcher"}],"owner":{"account_id":22570426,"reputation":15,"user_id":16756665,"display_name":"javax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640794400,"creation_date":1640794400,"question_id":70522026,"body_markdown":"I want to test my Google API client but I don&#39;t know how to mock inner methods that are called when the main method runs. I&#39;m also not sure for now if I mock the restTemplate method properly but I&#39;d like to focus on those inner methods. \r\n\r\n    public List&lt;GoogleItemDto&gt; getRatings() {\r\n        URI url = UriComponentsBuilder.fromHttpUrl(&quot;https://www.googleapis.com/books/v1/mylibrary/bookshelves/2/volumes&quot;)\r\n                .build().encode().toUri();\r\n        try {\r\n            Credential credentials = getCredentials();\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setBearerAuth(credentials.getAccessToken());\r\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;body&quot;, headers);\r\n\r\n            ResponseEntity&lt;GoogleBooksRatingDto&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, GoogleBooksRatingDto.class);\r\n\r\n            return Optional.ofNullable(Objects.requireNonNull(response.getBody()).getItems())\r\n                    .map(Arrays::asList)\r\n                    .orElse(Collections.emptyList())\r\n                    .stream()\r\n                    .filter(p -&gt; Objects.nonNull(p.getGoogleVolumeInfoDtos()))\r\n                    .collect(Collectors.toList());\r\n        } catch (RestClientException | GeneralSecurityException | IOException e) {\r\n            log.error(e.getMessage(), e);\r\n            return Collections.emptyList();\r\n        }\r\n    }\r\n\r\n    public Credential getCredentials() throws GeneralSecurityException, IOException {\r\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n        final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n        GoogleCredential credential = new GoogleCredential.Builder()\r\n                .setTransport(HTTP_TRANSPORT)\r\n                .setJsonFactory(JSON_FACTORY)\r\n                .setClientSecrets(clientConfig.getClientId(), clientConfig.getClientSecret())\r\n                .build();\r\n        credential.setAccessToken(getNewToken());\r\n        credential.setRefreshToken(clientConfig.getRefreshToken());\r\n        return credential;\r\n    }\r\n\r\n    public String getNewToken() throws IOException {\r\n        ArrayList&lt;String&gt; scopes = new ArrayList&lt;&gt;();\r\n        scopes.add(clientConfig.getScope());\r\n        TokenResponse tokenResponse = new GoogleRefreshTokenRequest(new NetHttpTransport(), new JacksonFactory(),\r\n                clientConfig.getRefreshToken(), clientConfig.getClientId(), clientConfig.getClientSecret()).setScopes(scopes).setGrantType(&quot;refresh_token&quot;).execute();\r\n        return tokenResponse.getAccessToken();\r\n    }\r\n\r\nThe methods getCredentials and getNewToken were basically private but I change to public just to see if I can figure out some way to handle my problem.\r\n\r\nHere is test method.\r\n\r\n        @Test\r\n    void testGetRatings() {\r\n        // Given\r\n        when(clientConfig.getRefreshToken()).thenReturn(&quot;test&quot;);\r\n        when(clientConfig.getClientId()).thenReturn(&quot;test&quot;);\r\n        when(clientConfig.getClientSecret()).thenReturn(&quot;test&quot;);\r\n        when(clientConfig.getScope()).thenReturn(&quot;test&quot;);\r\n\r\n        URI url = UriComponentsBuilder.fromHttpUrl(&quot;https://www.googleapis.com/books/v1/mylibrary/bookshelves/2/volumes&quot;)\r\n                .build().encode().toUri();\r\n\r\n        GoogleImageLinksDto googleImageLinksDto = new GoogleImageLinksDto();\r\n\r\n        GoogleVolumeInfoDto volumeInfoDto = new GoogleVolumeInfoDto();\r\n        volumeInfoDto.setGoogleImageLinksDto(googleImageLinksDto);\r\n\r\n        GoogleItemDto item = new GoogleItemDto();\r\n        item.setGoogleVolumeInfoDtos(volumeInfoDto);\r\n\r\n        GoogleItemDto[] itemDto = new GoogleItemDto[1];\r\n        itemDto[0] = item;\r\n\r\n        GoogleBooksRatingDto ratingDto = new GoogleBooksRatingDto();\r\n        ratingDto.setItems(itemDto);\r\n\r\n        ResponseEntity&lt;GoogleBooksRatingDto&gt; response = new ResponseEntity&lt;&gt;(\r\n                ratingDto,\r\n                new HttpHeaders(),\r\n                HttpStatus.OK\r\n        );\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;body&quot;);\r\n        \r\n        when(restTemplate.exchange(url, HttpMethod.GET, entity, GoogleBooksRatingDto.class)).thenReturn(response);\r\n\r\n        // When\r\n        List&lt;GoogleItemDto&gt; ratings = bookRatingsClient.getRatings();\r\n        // Then\r\n    }\r\n\r\nI use those two methods only in my client component so I think there no point on create new component for those methods. I believe there is some way how to go around this.","title":"How to mock inner method in mocking class","body":"<p>I want to test my Google API client but I don't know how to mock inner methods that are called when the main method runs. I'm also not sure for now if I mock the restTemplate method properly but I'd like to focus on those inner methods.</p>\n<pre><code>public List&lt;GoogleItemDto&gt; getRatings() {\n    URI url = UriComponentsBuilder.fromHttpUrl(&quot;https://www.googleapis.com/books/v1/mylibrary/bookshelves/2/volumes&quot;)\n            .build().encode().toUri();\n    try {\n        Credential credentials = getCredentials();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setBearerAuth(credentials.getAccessToken());\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;body&quot;, headers);\n\n        ResponseEntity&lt;GoogleBooksRatingDto&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, GoogleBooksRatingDto.class);\n\n        return Optional.ofNullable(Objects.requireNonNull(response.getBody()).getItems())\n                .map(Arrays::asList)\n                .orElse(Collections.emptyList())\n                .stream()\n                .filter(p -&gt; Objects.nonNull(p.getGoogleVolumeInfoDtos()))\n                .collect(Collectors.toList());\n    } catch (RestClientException | GeneralSecurityException | IOException e) {\n        log.error(e.getMessage(), e);\n        return Collections.emptyList();\n    }\n}\n\npublic Credential getCredentials() throws GeneralSecurityException, IOException {\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n    final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n    GoogleCredential credential = new GoogleCredential.Builder()\n            .setTransport(HTTP_TRANSPORT)\n            .setJsonFactory(JSON_FACTORY)\n            .setClientSecrets(clientConfig.getClientId(), clientConfig.getClientSecret())\n            .build();\n    credential.setAccessToken(getNewToken());\n    credential.setRefreshToken(clientConfig.getRefreshToken());\n    return credential;\n}\n\npublic String getNewToken() throws IOException {\n    ArrayList&lt;String&gt; scopes = new ArrayList&lt;&gt;();\n    scopes.add(clientConfig.getScope());\n    TokenResponse tokenResponse = new GoogleRefreshTokenRequest(new NetHttpTransport(), new JacksonFactory(),\n            clientConfig.getRefreshToken(), clientConfig.getClientId(), clientConfig.getClientSecret()).setScopes(scopes).setGrantType(&quot;refresh_token&quot;).execute();\n    return tokenResponse.getAccessToken();\n}\n</code></pre>\n<p>The methods getCredentials and getNewToken were basically private but I change to public just to see if I can figure out some way to handle my problem.</p>\n<p>Here is test method.</p>\n<pre><code>    @Test\nvoid testGetRatings() {\n    // Given\n    when(clientConfig.getRefreshToken()).thenReturn(&quot;test&quot;);\n    when(clientConfig.getClientId()).thenReturn(&quot;test&quot;);\n    when(clientConfig.getClientSecret()).thenReturn(&quot;test&quot;);\n    when(clientConfig.getScope()).thenReturn(&quot;test&quot;);\n\n    URI url = UriComponentsBuilder.fromHttpUrl(&quot;https://www.googleapis.com/books/v1/mylibrary/bookshelves/2/volumes&quot;)\n            .build().encode().toUri();\n\n    GoogleImageLinksDto googleImageLinksDto = new GoogleImageLinksDto();\n\n    GoogleVolumeInfoDto volumeInfoDto = new GoogleVolumeInfoDto();\n    volumeInfoDto.setGoogleImageLinksDto(googleImageLinksDto);\n\n    GoogleItemDto item = new GoogleItemDto();\n    item.setGoogleVolumeInfoDtos(volumeInfoDto);\n\n    GoogleItemDto[] itemDto = new GoogleItemDto[1];\n    itemDto[0] = item;\n\n    GoogleBooksRatingDto ratingDto = new GoogleBooksRatingDto();\n    ratingDto.setItems(itemDto);\n\n    ResponseEntity&lt;GoogleBooksRatingDto&gt; response = new ResponseEntity&lt;&gt;(\n            ratingDto,\n            new HttpHeaders(),\n            HttpStatus.OK\n    );\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;body&quot;);\n    \n    when(restTemplate.exchange(url, HttpMethod.GET, entity, GoogleBooksRatingDto.class)).thenReturn(response);\n\n    // When\n    List&lt;GoogleItemDto&gt; ratings = bookRatingsClient.getRatings();\n    // Then\n}\n</code></pre>\n<p>I use those two methods only in my client component so I think there no point on create new component for those methods. I believe there is some way how to go around this.</p>\n"},{"tags":["java","jsf","websocket","myfaces","omnifaces"],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640793639,"creation_date":1640793639,"question_id":70521876,"body_markdown":"We were really happy to see f:websocket in JSF 2.3, as it&#39;s an awesome feature that really bridges the gap stateful applications.\r\n\r\nUnfortunately the implementation seems to be problematic in a load balanced environment, or worse off in a session-replicated environment.\r\n\r\nThe problem stems from it uses a series of ephemeral randomized tokens that are unique to each JVM startup. This means if a failover on the backend occurs, the next JVM will not have the same randomized state and will reject the connection attempt.\r\n\r\nThis sort of clashes with the built-in URL authentication. I don&#39;t really need MyFaces to secure inbound websocket requests if the websocket URL is already protected by the container in web.xml. Essentially if an inbound websocket request contains a valid session id, I just need MyFaces to accept the connection. It&#39;s a bit complicated with user channels, as f:websocket allows any serializable value to be used as the user-id, but one would hope the default value would look at `request.getRemoteUser()`.\r\n\r\nIs there a way to turn all of the tokenization off so f:websocket is usable in a realistic production environment?","title":"OmniFaces o:socket and myfaces f:websocket re-implement authentication with tokens, is it possible to disable?","body":"<p>We were really happy to see f:websocket in JSF 2.3, as it's an awesome feature that really bridges the gap stateful applications.</p>\n<p>Unfortunately the implementation seems to be problematic in a load balanced environment, or worse off in a session-replicated environment.</p>\n<p>The problem stems from it uses a series of ephemeral randomized tokens that are unique to each JVM startup. This means if a failover on the backend occurs, the next JVM will not have the same randomized state and will reject the connection attempt.</p>\n<p>This sort of clashes with the built-in URL authentication. I don't really need MyFaces to secure inbound websocket requests if the websocket URL is already protected by the container in web.xml. Essentially if an inbound websocket request contains a valid session id, I just need MyFaces to accept the connection. It's a bit complicated with user channels, as f:websocket allows any serializable value to be used as the user-id, but one would hope the default value would look at <code>request.getRemoteUser()</code>.</p>\n<p>Is there a way to turn all of the tokenization off so f:websocket is usable in a realistic production environment?</p>\n"},{"tags":["javascript","java","selenium","selenium-webdriver","asynchronous-javascript"],"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640793381,"creation_date":1640793381,"question_id":70521831,"body_markdown":"I know that `executeScript()` function of JavascriptExecutor interface in selenium requires no signalling mechanism and **it executes javascript inside it as synchronous(single threaded).**\r\n\r\nWhile `executeAsyncScript()` function of JavascriptExecutor interface requires signalling mechanism in the form of callback i.e. arguments[arguments.length-1] and **it executes javascript inside it as asynchronously(multithreaded) without blocking main selenium code.**\r\n\r\nThis means that if there is sleep in executeScript() javascript code then it will wait for that sleep time **then execute further selenium statements**. While if there is sleep in executeAsyncScript(), it will execute main selenium code **in parallel to that sleep without blocking main code.**\r\n\r\nNow consider following code:\r\n\r\n    public static void main(String args[]) {\r\n    \t\t\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\t\r\n    \t\tWebDriver driver=new ChromeDriver();\r\n    \t\tJavascriptExecutor js=(JavascriptExecutor)driver;\r\n    \t\t\r\n    \t\r\n    \t\tSystem.out.println(&quot;1&quot;);\r\n    \t\tString javascript=&quot;var callback=arguments[arguments.length-1]; window.setTimeout(callback,15000);&quot;;  //callback has no problem here. Statement:1\r\n    \t\tjs.executeScript(javascript);  //Statement:2\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;2&quot;);\r\n    \t\tdriver.quit();\r\n    \t}\r\n\r\nNow when I execute this code **it does not wait** for 15 sec sleep and immediately prints 2 and quit the browser while ideally it should behave synchronously i.e. it should block the main thread for 15 sec and after that it should print the 2 and quit the browser.\r\n\r\nNow if I replace the statements 1 and 2 in above code with:\r\n\r\n    String javascript=&quot;var callback=arguments[arguments.length-1]; window.setTimeout(callback,15000);&quot;;\r\n    js.executeAsyncScript(javascript);\r\n\r\nas:\r\n\r\n    public static void main(String args[]) {\r\n    \t\t\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\t\r\n    \t\tWebDriver driver=new ChromeDriver();\r\n    \t\tJavascriptExecutor js=(JavascriptExecutor)driver;\r\n    \t\t\r\n    \t\r\n    \t\tSystem.out.println(&quot;1&quot;);\r\n    \t\r\n    \tString javascript=&quot;var callback=arguments[arguments.length-1]; window.setTimeout(callback,15000);&quot;;\r\n    \t\r\n    \tjs.executeAsyncScript(javascript);\r\n    \t\r\n    \tSystem.out.println(&quot;2&quot;);\r\n    \t\r\n    \tdriver.quit();\r\n    \t}\r\n\r\nIf I run above code **it waits for 15 sec** sleep and print 2 after 15 sec and quit the browser after printing 2 after that 15 sec sleep.\r\n\r\nWhy they are behaving oppositely?","title":"executeScript() and executeAsyncScript() of javascriptExecutor interface is not behaving as expected","body":"<p>I know that <code>executeScript()</code> function of JavascriptExecutor interface in selenium requires no signalling mechanism and <strong>it executes javascript inside it as synchronous(single threaded).</strong></p>\n<p>While <code>executeAsyncScript()</code> function of JavascriptExecutor interface requires signalling mechanism in the form of callback i.e. arguments[arguments.length-1] and <strong>it executes javascript inside it as asynchronously(multithreaded) without blocking main selenium code.</strong></p>\n<p>This means that if there is sleep in executeScript() javascript code then it will wait for that sleep time <strong>then execute further selenium statements</strong>. While if there is sleep in executeAsyncScript(), it will execute main selenium code <strong>in parallel to that sleep without blocking main code.</strong></p>\n<p>Now consider following code:</p>\n<pre><code>public static void main(String args[]) {\n        \n        WebDriverManager.chromedriver().setup();\n        \n        WebDriver driver=new ChromeDriver();\n        JavascriptExecutor js=(JavascriptExecutor)driver;\n        \n    \n        System.out.println(&quot;1&quot;);\n        String javascript=&quot;var callback=arguments[arguments.length-1]; window.setTimeout(callback,15000);&quot;;  //callback has no problem here. Statement:1\n        js.executeScript(javascript);  //Statement:2\n        \n        System.out.println(&quot;2&quot;);\n        driver.quit();\n    }\n</code></pre>\n<p>Now when I execute this code <strong>it does not wait</strong> for 15 sec sleep and immediately prints 2 and quit the browser while ideally it should behave synchronously i.e. it should block the main thread for 15 sec and after that it should print the 2 and quit the browser.</p>\n<p>Now if I replace the statements 1 and 2 in above code with:</p>\n<pre><code>String javascript=&quot;var callback=arguments[arguments.length-1]; window.setTimeout(callback,15000);&quot;;\njs.executeAsyncScript(javascript);\n</code></pre>\n<p>as:</p>\n<pre><code>public static void main(String args[]) {\n        \n        WebDriverManager.chromedriver().setup();\n        \n        WebDriver driver=new ChromeDriver();\n        JavascriptExecutor js=(JavascriptExecutor)driver;\n        \n    \n        System.out.println(&quot;1&quot;);\n    \n    String javascript=&quot;var callback=arguments[arguments.length-1]; window.setTimeout(callback,15000);&quot;;\n    \n    js.executeAsyncScript(javascript);\n    \n    System.out.println(&quot;2&quot;);\n    \n    driver.quit();\n    }\n</code></pre>\n<p>If I run above code <strong>it waits for 15 sec</strong> sleep and print 2 after 15 sec and quit the browser after printing 2 after that 15 sec sleep.</p>\n<p>Why they are behaving oppositely?</p>\n"},{"tags":["java","selenium","selenium-webdriver","appium","katalon-studio"],"comments":[{"owner":{"account_id":1239395,"reputation":2987,"user_id":1202349,"accept_rate":88,"display_name":"Krunal"},"score":0,"creation_date":1640765628,"post_id":65837472,"comment_id":124652033,"body_markdown":"found any solution?","body":"found any solution?"}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640793024,"creation_date":1640785018,"answer_id":70520202,"question_id":65837472,"body_markdown":"Finally I achieved to run any katakon script with java and maven. All of that on linux. This is what I did:\r\n\r\n**1.- load several katakon jars** to my pom. They are not public (early 2021) so the only why was extract them from the katalon studio installation. \r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;katalon&lt;/groupId&gt;\r\n  &lt;artifactId&gt;com.kms.katalon.core_1.0.0.202101180916.jar&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0&lt;/version&gt;\r\n  &lt;type&gt;jar&lt;/type&gt;\r\n  &lt;scope&gt;system&lt;/scope&gt;\r\n  &lt;systemPath&gt;${katalon.studio.home.path}/plugins/com.kms.katalon.core_1.0.0.202101180916.jar&lt;/systemPath&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**2.- Modify one katalon class due to new errors**. The only solution was to delete one method of one class from katalon source code which is public:\r\n\r\noriginal: https://github.com/katalon-studio/katalon-studio-testing-framework\r\n\r\nmodified: https://github.com/jrichardsz-software-architect-tools/katalon-runner/blob/beta/src/main/java/com/kms/katalon/core/testobject/ObjectRepository.java#L263\r\n\r\nHere is my project wich I called: katalon-runner. \r\n\r\nhttps://github.com/jrichardsz-software-architect-tools/katalon-runner\r\n\r\nThe execution flow is:\r\n- clone and build the katalon runner\r\n- record the ui flow with katalon to obtain the groovy scripts\r\n- using the shell, execute the katalon-runner passing it several parameters\r\n\r\nAs you see this has a plugin nature, so it is easy to use on Jenkins or any ci server.\r\n\r\nPd: I have some local changes. I will update the repository.","title":"How to run Katalon script from simple java application?","body":"<p>Finally I achieved to run any katakon script with java and maven. All of that on linux. This is what I did:</p>\n<p><strong>1.- load several katakon jars</strong> to my pom. They are not public (early 2021) so the only why was extract them from the katalon studio installation.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;katalon&lt;/groupId&gt;\n  &lt;artifactId&gt;com.kms.katalon.core_1.0.0.202101180916.jar&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;type&gt;jar&lt;/type&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;${katalon.studio.home.path}/plugins/com.kms.katalon.core_1.0.0.202101180916.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>2.- Modify one katalon class due to new errors</strong>. The only solution was to delete one method of one class from katalon source code which is public:</p>\n<p>original: <a href=\"https://github.com/katalon-studio/katalon-studio-testing-framework\" rel=\"nofollow noreferrer\">https://github.com/katalon-studio/katalon-studio-testing-framework</a></p>\n<p>modified: <a href=\"https://github.com/jrichardsz-software-architect-tools/katalon-runner/blob/beta/src/main/java/com/kms/katalon/core/testobject/ObjectRepository.java#L263\" rel=\"nofollow noreferrer\">https://github.com/jrichardsz-software-architect-tools/katalon-runner/blob/beta/src/main/java/com/kms/katalon/core/testobject/ObjectRepository.java#L263</a></p>\n<p>Here is my project wich I called: katalon-runner.</p>\n<p><a href=\"https://github.com/jrichardsz-software-architect-tools/katalon-runner\" rel=\"nofollow noreferrer\">https://github.com/jrichardsz-software-architect-tools/katalon-runner</a></p>\n<p>The execution flow is:</p>\n<ul>\n<li>clone and build the katalon runner</li>\n<li>record the ui flow with katalon to obtain the groovy scripts</li>\n<li>using the shell, execute the katalon-runner passing it several parameters</li>\n</ul>\n<p>As you see this has a plugin nature, so it is easy to use on Jenkins or any ci server.</p>\n<p>Pd: I have some local changes. I will update the repository.</p>\n"}],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640793024,"creation_date":1611273279,"question_id":65837472,"body_markdown":"### Goal\r\n\r\nExecute scripts produced with Katalon Studio, using java. If this works, scripts could run on my devops pipeline: browserstack or my own selenium server.\r\n\r\n### Problem\r\n\r\nI have this groovy script which is the same as Katalon studio produced scripts:\r\n\r\n    import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\r\n    WebUI.openBrowser(&quot;https://www.katalon.com&quot;)\r\n\r\nI tried to run this script using java maven project. I achieved to find all the required jars. But when I run I get this error: **java.lang.VerifyError: Bad type on operand stack**\r\n\r\n    Exception in thread &quot;main&quot; com.kms.katalon.core.exception.StepFailedException: Unable to open browser with url: &#39;https://www.katalon.com&#39;\r\n    \tat com.kms.katalon.core.webui.keyword.internal.WebUIKeywordMain.stepFailed(WebUIKeywordMain.groovy:64)\r\n    \tat com.kms.katalon.core.webui.keyword.internal.WebUIKeywordMain.runKeyword(WebUIKeywordMain.groovy:26)\r\n    \tat com.kms.katalon.core.webui.keyword.builtin.OpenBrowserKeyword.openBrowser(OpenBrowserKeyword.groovy:81)\r\n    \tat com.kms.katalon.core.webui.keyword.builtin.OpenBrowserKeyword.execute(OpenBrowserKeyword.groovy:67)\r\n    \tat com.kms.katalon.core.keyword.internal.KeywordExecutor.executeKeywordForPlatform(KeywordExecutor.groovy:73)\r\n    \tat com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords.openBrowser(WebUiBuiltInKeywords.groovy:63)\r\n    \tat com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords$openBrowser.call(Unknown Source)\r\n    \tat Script1.run(Script1.groovy:17)\r\n    \tat JenkinsGroovySandbox1.main(JenkinsGroovySandbox1.java:37)\r\n    Caused by: java.lang.VerifyError: Bad type on operand stack\r\n    Exception Details:\r\n      Location:\r\n        com/kms/katalon/core/webui/driver/DriverFactory.createNewRemoteWebDriver(Ljava/util/Map;Lorg/openqa/selenium/remote/DesiredCapabilities;)Lorg/openqa/selenium/WebDriver; @168: invokespecial\r\n      Reason:\r\n        Type &#39;io/appium/java_client/remote/AppiumCommandExecutor&#39; (current frame, stack[2]) is not assignable to &#39;org/openqa/selenium/remote/HttpCommandExecutor&#39;\r\n      Current Frame:\r\n        bci: @168\r\n        flags: { }\r\n        locals: { &#39;java/util/Map&#39;, &#39;org/openqa/selenium/remote/DesiredCapabilities&#39;, &#39;java/lang/String&#39;, &#39;java/lang/String&#39;, &#39;com/kms/katalon/core/network/ProxyInformation&#39;, &#39;java/lang/Object&#39;, &#39;io/appium/java_client/remote/AppiumCommandExecutor&#39; }\r\n        stack: { uninitialized 161, uninitialized 161, &#39;io/appium/java_client/remote/AppiumCommandExecutor&#39;, &#39;org/openqa/selenium/remote/DesiredCapabilities&#39; }\r\n      Bytecode:\r\n        0x0000000: b800 f04d b802 a54e 2dc7 0006 1236 4eb8\r\n        0x0000010: 020a 3a04 1904 b602 0e99 0014 2bb8 02a8\r\n        ...\r\n        0x00000e0: bf                                     \r\n      Stackmap Table:\r\n        append_frame(@15,Object[#154],Object[#154])\r\n        append_frame(@45,Object[#527])\r\n        same_frame(@98)\r\n        append_frame(@119,Object[#3])\r\n        same_frame(@142)\r\n        same_frame(@172)\r\n        same_frame(@202)\r\n    \r\n    \tat com.kms.katalon.core.webui.keyword.builtin.OpenBrowserKeyword$_openBrowser_closure1.doCall(OpenBrowserKeyword.groovy:74)\r\n    \tat com.kms.katalon.core.webui.keyword.builtin.OpenBrowserKeyword$_openBrowser_closure1.call(OpenBrowserKeyword.groovy)\r\n    \tat com.kms.katalon.core.webui.keyword.internal.WebUIKeywordMain.runKeyword(WebUIKeywordMain.groovy:20)\r\n    \t... 7 more\r\n\r\n### Theories\r\n\r\n**RemoteWebDriver**\r\n\r\nAs we can see in the log, by default katalon libraries are using **remote web driver with Appium**. I can&#39;t find how to setup the webdriver in this script using katalon libraries. With pure selenium is very easy :D\r\n\r\nI&#39;m researching the possibility to use Local driver instead remote driver or how to configure the parameters in my simple groovy script to use my remote driver.\r\n\r\n**Katalon Community vs Enterprise**\r\n\r\nMaybe katalon scripts are supposed to be executed using Katalon tools, not from outside katalon tools.\r\n\r\n### Attempts\r\n\r\n- https://stackoverflow.com/questions/58836655/how-to-convert-katalon-script-in-selenium-java","title":"How to run Katalon script from simple java application?","body":"<h3>Goal</h3>\n<p>Execute scripts produced with Katalon Studio, using java. If this works, scripts could run on my devops pipeline: browserstack or my own selenium server.</p>\n<h3>Problem</h3>\n<p>I have this groovy script which is the same as Katalon studio produced scripts:</p>\n<pre><code>import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\nWebUI.openBrowser(&quot;https://www.katalon.com&quot;)\n</code></pre>\n<p>I tried to run this script using java maven project. I achieved to find all the required jars. But when I run I get this error: <strong>java.lang.VerifyError: Bad type on operand stack</strong></p>\n<pre><code>Exception in thread &quot;main&quot; com.kms.katalon.core.exception.StepFailedException: Unable to open browser with url: 'https://www.katalon.com'\n    at com.kms.katalon.core.webui.keyword.internal.WebUIKeywordMain.stepFailed(WebUIKeywordMain.groovy:64)\n    at com.kms.katalon.core.webui.keyword.internal.WebUIKeywordMain.runKeyword(WebUIKeywordMain.groovy:26)\n    at com.kms.katalon.core.webui.keyword.builtin.OpenBrowserKeyword.openBrowser(OpenBrowserKeyword.groovy:81)\n    at com.kms.katalon.core.webui.keyword.builtin.OpenBrowserKeyword.execute(OpenBrowserKeyword.groovy:67)\n    at com.kms.katalon.core.keyword.internal.KeywordExecutor.executeKeywordForPlatform(KeywordExecutor.groovy:73)\n    at com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords.openBrowser(WebUiBuiltInKeywords.groovy:63)\n    at com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords$openBrowser.call(Unknown Source)\n    at Script1.run(Script1.groovy:17)\n    at JenkinsGroovySandbox1.main(JenkinsGroovySandbox1.java:37)\nCaused by: java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    com/kms/katalon/core/webui/driver/DriverFactory.createNewRemoteWebDriver(Ljava/util/Map;Lorg/openqa/selenium/remote/DesiredCapabilities;)Lorg/openqa/selenium/WebDriver; @168: invokespecial\n  Reason:\n    Type 'io/appium/java_client/remote/AppiumCommandExecutor' (current frame, stack[2]) is not assignable to 'org/openqa/selenium/remote/HttpCommandExecutor'\n  Current Frame:\n    bci: @168\n    flags: { }\n    locals: { 'java/util/Map', 'org/openqa/selenium/remote/DesiredCapabilities', 'java/lang/String', 'java/lang/String', 'com/kms/katalon/core/network/ProxyInformation', 'java/lang/Object', 'io/appium/java_client/remote/AppiumCommandExecutor' }\n    stack: { uninitialized 161, uninitialized 161, 'io/appium/java_client/remote/AppiumCommandExecutor', 'org/openqa/selenium/remote/DesiredCapabilities' }\n  Bytecode:\n    0x0000000: b800 f04d b802 a54e 2dc7 0006 1236 4eb8\n    0x0000010: 020a 3a04 1904 b602 0e99 0014 2bb8 02a8\n    ...\n    0x00000e0: bf                                     \n  Stackmap Table:\n    append_frame(@15,Object[#154],Object[#154])\n    append_frame(@45,Object[#527])\n    same_frame(@98)\n    append_frame(@119,Object[#3])\n    same_frame(@142)\n    same_frame(@172)\n    same_frame(@202)\n\n    at com.kms.katalon.core.webui.keyword.builtin.OpenBrowserKeyword$_openBrowser_closure1.doCall(OpenBrowserKeyword.groovy:74)\n    at com.kms.katalon.core.webui.keyword.builtin.OpenBrowserKeyword$_openBrowser_closure1.call(OpenBrowserKeyword.groovy)\n    at com.kms.katalon.core.webui.keyword.internal.WebUIKeywordMain.runKeyword(WebUIKeywordMain.groovy:20)\n    ... 7 more\n</code></pre>\n<h3>Theories</h3>\n<p><strong>RemoteWebDriver</strong></p>\n<p>As we can see in the log, by default katalon libraries are using <strong>remote web driver with Appium</strong>. I can't find how to setup the webdriver in this script using katalon libraries. With pure selenium is very easy :D</p>\n<p>I'm researching the possibility to use Local driver instead remote driver or how to configure the parameters in my simple groovy script to use my remote driver.</p>\n<p><strong>Katalon Community vs Enterprise</strong></p>\n<p>Maybe katalon scripts are supposed to be executed using Katalon tools, not from outside katalon tools.</p>\n<h3>Attempts</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/58836655/how-to-convert-katalon-script-in-selenium-java\">How to convert Katalon Script in Selenium Java?</a></li>\n</ul>\n"},{"tags":["java","dictionary","hashmap"],"comments":[{"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"score":2,"creation_date":1336560473,"post_id":10514473,"comment_id":13595850,"body_markdown":"If it really is for the given String, keep the hardcoded solution... If not please tell us what you have tried so far and what your problem is.","body":"If it really is for the given String, keep the hardcoded solution... If not please tell us what you have tried so far and what your problem is."},{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1336560506,"post_id":10514473,"comment_id":13595862,"body_markdown":"http://mattgemmell.com/2008/12/08/what-have-you-tried/","body":"<a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">mattgemmell.com/2008/12/08/what-have-you-tried</a>"},{"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"score":0,"creation_date":1336560894,"post_id":10514473,"comment_id":13595999,"body_markdown":"@pgras i have edited my post. i think now it&#39;s not complicated to understand.","body":"@pgras i have edited my post. i think now it&#39;s not complicated to understand."},{"owner":{"account_id":7080403,"reputation":84,"user_id":5419028,"display_name":"Volo Myhal"},"score":1,"creation_date":1617791675,"post_id":10514473,"comment_id":118403283,"body_markdown":"Does this answer your question? [Convert string representing key-value pairs to Map](https://stackoverflow.com/questions/14768171/convert-string-representing-key-value-pairs-to-map)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14768171/convert-string-representing-key-value-pairs-to-map\">Convert string representing key-value pairs to Map</a>"}],"answers":[{"tags":[],"owner":{"account_id":77528,"reputation":30998,"user_id":221213,"accept_rate":93,"display_name":"KARASZI Istv&#225;n"},"down_vote_count":1,"up_vote_count":72,"is_accepted":false,"score":71,"last_activity_date":1640792863,"creation_date":1336560380,"answer_id":10514513,"question_id":10514473,"body_markdown":"You can do that with [Guava&#39;s][1] [Splitter.MapSplitter][2]:\r\n\r\n    Map&lt;String, String&gt; properties = Splitter.on(&quot;,&quot;)\r\n        .withKeyValueSeparator(&quot;:&quot;)\r\n        .split(inputString);\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/21.0/api/docs/com/google/common/base/Splitter.MapSplitter.html","title":"How to convert a string to a HashMap?","body":"<p>You can do that with <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava's</a> <a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/base/Splitter.MapSplitter.html\" rel=\"noreferrer\">Splitter.MapSplitter</a>:</p>\n<pre><code>Map&lt;String, String&gt; properties = Splitter.on(&quot;,&quot;)\n    .withKeyValueSeparator(&quot;:&quot;)\n    .split(inputString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1431675887,"creation_date":1336560415,"answer_id":10514517,"question_id":10514473,"body_markdown":"Use the [`String.split()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-) method with the `,` separator to get the list of pairs. Iterate the pairs and use `split()` again with the `:` separator to get the key and value for each pair.\r\n\r\n    Map&lt;String, Integer&gt; myMap = new HashMap&lt;String, Integer&gt;();\r\n    String s = &quot;SALES:0,SALE_PRODUCTS:1,EXPENSES:2,EXPENSES_ITEMS:3&quot;;\r\n    String[] pairs = s.split(&quot;,&quot;);\r\n    for (int i=0;i&lt;pairs.length;i++) {\r\n        String pair = pairs[i];\r\n        String[] keyValue = pair.split(&quot;:&quot;);\r\n        myMap.put(keyValue[0], Integer.valueOf(keyValue[1]));\r\n    }\r\n\r\n","title":"How to convert a string to a HashMap?","body":"<p>Use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"noreferrer\"><code>String.split()</code></a> method with the <code>,</code> separator to get the list of pairs. Iterate the pairs and use <code>split()</code> again with the <code>:</code> separator to get the key and value for each pair.</p>\n\n<pre><code>Map&lt;String, Integer&gt; myMap = new HashMap&lt;String, Integer&gt;();\nString s = \"SALES:0,SALE_PRODUCTS:1,EXPENSES:2,EXPENSES_ITEMS:3\";\nString[] pairs = s.split(\",\");\nfor (int i=0;i&lt;pairs.length;i++) {\n    String pair = pairs[i];\n    String[] keyValue = pair.split(\":\");\n    myMap.put(keyValue[0], Integer.valueOf(keyValue[1]));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336560481,"creation_date":1336560481,"answer_id":10514534,"question_id":10514473,"body_markdown":"Assuming no key contains either `&#39;,&#39;` or `&#39;:&#39;`:\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    for(final String entry : s.split(&quot;,&quot;)) {\r\n        final String[] parts = entry.split(&quot;:&quot;);\r\n        assert(parts.length == 2) : &quot;Invalid entry: &quot; + entry;\r\n        map.put(parts[0], new Integer(parts[1]));\r\n    }","title":"How to convert a string to a HashMap?","body":"<p>Assuming no key contains either <code>','</code> or <code>':'</code>:</p>\n\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\nfor(final String entry : s.split(\",\")) {\n    final String[] parts = entry.split(\":\");\n    assert(parts.length == 2) : \"Invalid entry: \" + entry;\n    map.put(parts[0], new Integer(parts[1]));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336560532,"creation_date":1336560532,"answer_id":10514546,"question_id":10514473,"body_markdown":"You can to use split to do it:\r\n\r\n\r\n     String[] elements = s.split(&quot;,&quot;);\r\n     for(String s1: elements) {\r\n         String[] keyValue = s1.split(&quot;:&quot;);\r\n         myMap.put(keyValue[0], keyValue[1]);\r\n     }\r\n\r\nNevertheless, myself I will go for guava based solution.\r\nhttps://stackoverflow.com/a/10514513/1356883","title":"How to convert a string to a HashMap?","body":"<p>You can to use split to do it:</p>\n\n<pre><code> String[] elements = s.split(\",\");\n for(String s1: elements) {\n     String[] keyValue = s1.split(\":\");\n     myMap.put(keyValue[0], keyValue[1]);\n }\n</code></pre>\n\n<p>Nevertheless, myself I will go for guava based solution.\n<a href=\"https://stackoverflow.com/a/10514513/1356883\">https://stackoverflow.com/a/10514513/1356883</a></p>\n"},{"tags":[],"owner":{"account_id":1462838,"reputation":313,"user_id":1376634,"accept_rate":91,"display_name":"LyB8899"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336560830,"creation_date":1336560830,"answer_id":10514624,"question_id":10514473,"body_markdown":"try \r\n\r\n     String s = &quot;SALES:0,SALE_PRODUCTS:1,EXPENSES:2,EXPENSES_ITEMS:3&quot;;\r\n        HashMap&lt;String,Integer&gt; hm =new HashMap&lt;String,Integer&gt;();\r\n        for(String s1:s.split(&quot;,&quot;)){\r\n           String[] s2 = s1.split(&quot;:&quot;);\r\n            hm.put(s2[0], Integer.parseInt(s2[1]));\r\n        }","title":"How to convert a string to a HashMap?","body":"<p>try </p>\n\n<pre><code> String s = \"SALES:0,SALE_PRODUCTS:1,EXPENSES:2,EXPENSES_ITEMS:3\";\n    HashMap&lt;String,Integer&gt; hm =new HashMap&lt;String,Integer&gt;();\n    for(String s1:s.split(\",\")){\n       String[] s2 = s1.split(\":\");\n        hm.put(s2[0], Integer.parseInt(s2[1]));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336563741,"creation_date":1336563741,"answer_id":10515356,"question_id":10514473,"body_markdown":"Use StringTokenizer to parse the string.\r\n\r\n    String s =&quot;SALES:0,SALE_PRODUCTS:1,EXPENSES:2,EXPENSES_ITEMS:3&quot;;\r\n\t\tMap&lt;String, Integer&gt; lMap=new HashMap&lt;String, Integer&gt;();\r\n\r\n\r\n\t\tStringTokenizer st=new StringTokenizer(s, &quot;,&quot;);\r\n\t\twhile(st.hasMoreTokens())\r\n\t\t{\r\n\t\t\tString [] array=st.nextToken().split(&quot;:&quot;);\r\n\t\t\tlMap.put(array[0], Integer.valueOf(array[1]));\r\n\t\t}\r\n","title":"How to convert a string to a HashMap?","body":"<p>Use StringTokenizer to parse the string.</p>\n\n<pre><code>String s =\"SALES:0,SALE_PRODUCTS:1,EXPENSES:2,EXPENSES_ITEMS:3\";\n    Map&lt;String, Integer&gt; lMap=new HashMap&lt;String, Integer&gt;();\n\n\n    StringTokenizer st=new StringTokenizer(s, \",\");\n    while(st.hasMoreTokens())\n    {\n        String [] array=st.nextToken().split(\":\");\n        lMap.put(array[0], Integer.valueOf(array[1]));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2755115,"reputation":65,"user_id":2373451,"display_name":"Ranjeet Rana"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434725457,"creation_date":1434725457,"answer_id":30941175,"question_id":10514473,"body_markdown":"You can also use JSONObject class from json.org to this will convert your HashMap to JSON string which is well formatted\r\n\r\nExample:\r\n\r\n    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;myNumber&quot;, 100);\r\n    map.put(&quot;myString&quot;, &quot;String&quot;);\r\n    \r\n    JSONObject json= new JSONObject(map);\r\n    \r\n    String result= json.toString();\r\n    \r\n    System.out.print(result);\r\n\r\nresult:\r\n\r\n    {&#39;myNumber&#39;:100, &#39;myString&#39;:&#39;String&#39;}\r\n\r\nYour can also get key from it like\r\n\r\n    System.out.print(json.get(&quot;myNumber&quot;));\r\n\r\nresult:\r\n\r\n    100\r\n\r\n","title":"How to convert a string to a HashMap?","body":"<p>You can also use JSONObject class from json.org to this will convert your HashMap to JSON string which is well formatted</p>\n\n<p>Example:</p>\n\n<pre><code>Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\nmap.put(\"myNumber\", 100);\nmap.put(\"myString\", \"String\");\n\nJSONObject json= new JSONObject(map);\n\nString result= json.toString();\n\nSystem.out.print(result);\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>{'myNumber':100, 'myString':'String'}\n</code></pre>\n\n<p>Your can also get key from it like</p>\n\n<pre><code>System.out.print(json.get(\"myNumber\"));\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3117306,"reputation":321,"user_id":2637804,"display_name":"Jeremy Bidet"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1436437350,"creation_date":1436437350,"answer_id":31314666,"question_id":10514473,"body_markdown":"In one line :\r\n\r\n&lt;!-- language-all: java --&gt;\r\n\r\n    HashMap&lt;String, Integer&gt; map = (HashMap&lt;String, Integer&gt;) Arrays.asList(str.split(&quot;,&quot;)).stream().map(s -&gt; s.split(&quot;:&quot;)).collect(Collectors.toMap(e -&gt; e[0], e -&gt; Integer.parseInt(e[1])));\r\n\r\n*Details:*\r\n\r\n1) Split entry pairs and convert string array to `List&lt;String&gt;` in order to use `java.lang.Collection.Stream` API from `Java 1.8`\r\n\r\n    Arrays.asList(str.split(&quot;,&quot;))\r\n\r\n2) Map the resulting string list `&quot;key:value&quot;` to a string array with [0] as key and [1] as value\r\n\r\n    map(s -&gt; s.split(&quot;:&quot;))\r\n\r\n3) Use `collect` terminal method from stream API to mutate \r\n\r\n    collect(Collector&lt;? super String, Object, Map&lt;Object, Object&gt;&gt; collector)\r\n\r\n4) Use the `Collectors.toMap()` static method which take two Function to perform mutation from input type to key and value type.\r\n\r\n    toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper)\r\n\r\nwhere T is the input type, K the key type and U the value type.\r\n\r\n5) Following lambda mutate `String` to `String` key and `String` to `Integer` value\r\n\r\n    toMap(e -&gt; e[0], e -&gt; Integer.parseInt(e[1]))\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n**Enjoy the stream and lambda style with `Java 8`.** ***No more loops !***","title":"How to convert a string to a HashMap?","body":"<p>In one line :</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;String, Integer&gt; map = (HashMap&lt;String, Integer&gt;) Arrays.asList(str.split(\",\")).stream().map(s -&gt; s.split(\":\")).collect(Collectors.toMap(e -&gt; e[0], e -&gt; Integer.parseInt(e[1])));\n</code></pre>\n\n<p><em>Details:</em></p>\n\n<p>1) Split entry pairs and convert string array to <code>List&lt;String&gt;</code> in order to use <code>java.lang.Collection.Stream</code> API from <code>Java 1.8</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.asList(str.split(\",\"))\n</code></pre>\n\n<p>2) Map the resulting string list <code>\"key:value\"</code> to a string array with [0] as key and [1] as value</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>map(s -&gt; s.split(\":\"))\n</code></pre>\n\n<p>3) Use <code>collect</code> terminal method from stream API to mutate </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>collect(Collector&lt;? super String, Object, Map&lt;Object, Object&gt;&gt; collector)\n</code></pre>\n\n<p>4) Use the <code>Collectors.toMap()</code> static method which take two Function to perform mutation from input type to key and value type.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper)\n</code></pre>\n\n<p>where T is the input type, K the key type and U the value type.</p>\n\n<p>5) Following lambda mutate <code>String</code> to <code>String</code> key and <code>String</code> to <code>Integer</code> value</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>toMap(e -&gt; e[0], e -&gt; Integer.parseInt(e[1]))\n</code></pre>\n\n<p><br><br>\n<strong>Enjoy the stream and lambda style with <code>Java 8</code>.</strong> <strong><em>No more loops !</em></strong></p>\n"},{"tags":[],"owner":{"account_id":4856881,"reputation":7986,"user_id":3917580,"accept_rate":50,"display_name":"iusting"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501689618,"creation_date":1501689618,"answer_id":45465724,"question_id":10514473,"body_markdown":"I recommend using `com.fasterxml.jackson.databind.ObjectMapper` (Maven repo link: https://mvnrepository.com/artifact/com.fasterxml.jackson.core) like\r\n\r\n\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    Map&lt;String, Object&gt; mapFromString = new HashMap&lt;&gt;();\r\n    try {\r\n    \tmapFromString = mapper.readValue(theStringToParse, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n    \t\t});\r\n    } catch (IOException e) {\r\n    \tLOG.error(&quot;Exception launched while trying to parse String to Map.&quot;, e);\r\n    }","title":"How to convert a string to a HashMap?","body":"<p>I recommend using <code>com.fasterxml.jackson.databind.ObjectMapper</code> (Maven repo link: <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core\" rel=\"noreferrer\">https://mvnrepository.com/artifact/com.fasterxml.jackson.core</a>) like</p>\n\n<pre><code>final ObjectMapper mapper = new ObjectMapper();\nMap&lt;String, Object&gt; mapFromString = new HashMap&lt;&gt;();\ntry {\n    mapFromString = mapper.readValue(theStringToParse, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n        });\n} catch (IOException e) {\n    LOG.error(\"Exception launched while trying to parse String to Map.\", e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2282282,"reputation":1401,"user_id":2007101,"display_name":"Chinmoy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610108247,"creation_date":1610108247,"answer_id":65628788,"question_id":10514473,"body_markdown":"**USING JAVA 8:**\r\n\r\n    Map&lt;String, String&gt; headerMap = Arrays.stream(header.split(&quot;,&quot;))\r\n    \t\t            .map(s -&gt; s.split(&quot;:&quot;))\r\n    \t\t            .collect(Collectors.toMap(s -&gt; s[0], s -&gt; s[1]));","title":"How to convert a string to a HashMap?","body":"<p><strong>USING JAVA 8:</strong></p>\n<pre><code>Map&lt;String, String&gt; headerMap = Arrays.stream(header.split(&quot;,&quot;))\n                    .map(s -&gt; s.split(&quot;:&quot;))\n                    .collect(Collectors.toMap(s -&gt; s[0], s -&gt; s[1]));\n</code></pre>\n"}],"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247779,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"closed_date":1617894320,"accepted_answer_id":10514517,"answer_count":10,"score":37,"last_activity_date":1640792863,"creation_date":1336560231,"question_id":10514473,"body_markdown":"I have a Java Property file and there is a `KEY` as `ORDER`. So I retrieve the `VALUE` of that `KEY` using the `getProperty()` method after loading the property file like below.:\r\n\r\n\r\n    String s = prop.getProperty(&quot;ORDER&quot;);\r\n\r\nthen\r\n\r\n    s =&quot;SALES:0,SALE_PRODUCTS:1,EXPENSES:2,EXPENSES_ITEMS:3&quot;;\r\n\r\nI need to create a HashMap from above string. `SALES,SALE_PRODUCTS,EXPENSES,EXPENSES_ITEMS` should be `KEY` of HashMap  and `0,1,2,3,` should be `VALUE`s of `KEY`s.\r\n\r\nIf it&#39;s hard corded, it seems like below:\r\n\r\n    Map&lt;String, Integer&gt; myMap  = new HashMap&lt;String, Integer&gt;();\r\n    myMap.put(&quot;SALES&quot;, 0);\r\n    myMap.put(&quot;SALE_PRODUCTS&quot;, 1);\r\n    myMap.put(&quot;EXPENSES&quot;, 2);\r\n    myMap.put(&quot;EXPENSES_ITEMS&quot;, 3);\r\n","title":"How to convert a string to a HashMap?","body":"<p>I have a Java Property file and there is a <code>KEY</code> as <code>ORDER</code>. So I retrieve the <code>VALUE</code> of that <code>KEY</code> using the <code>getProperty()</code> method after loading the property file like below.:</p>\n\n<pre><code>String s = prop.getProperty(\"ORDER\");\n</code></pre>\n\n<p>then</p>\n\n<pre><code>s =\"SALES:0,SALE_PRODUCTS:1,EXPENSES:2,EXPENSES_ITEMS:3\";\n</code></pre>\n\n<p>I need to create a HashMap from above string. <code>SALES,SALE_PRODUCTS,EXPENSES,EXPENSES_ITEMS</code> should be <code>KEY</code> of HashMap  and <code>0,1,2,3,</code> should be <code>VALUE</code>s of <code>KEY</code>s.</p>\n\n<p>If it's hard corded, it seems like below:</p>\n\n<pre><code>Map&lt;String, Integer&gt; myMap  = new HashMap&lt;String, Integer&gt;();\nmyMap.put(\"SALES\", 0);\nmyMap.put(\"SALE_PRODUCTS\", 1);\nmyMap.put(\"EXPENSES\", 2);\nmyMap.put(\"EXPENSES_ITEMS\", 3);\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":18082667,"reputation":101,"user_id":13160657,"display_name":"gold-book"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640792189,"creation_date":1639998153,"answer_id":70420832,"question_id":70070197,"body_markdown":"I don&#39;t know why, but I was able to solve this by setting `android:exported = &quot;true&quot;` for the first Activity to launch.\r\n\r\n    &lt;activity\r\n         android:name = &quot;.ui.top.TopActivity&quot;\r\n         android:exported = &quot;true&quot;\r\n         android:label = &quot;@string/app_name&quot;&gt;\r\n    \r\n         &lt;intent-filter&gt;\r\n             &lt;action android:name = &quot;android.intent.action.MAIN&quot; /&gt;\r\n             &lt;category android:name = &quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n         &lt;/ intent-filter&gt;\r\n    &lt;/ activity&gt;","title":"Could not connect to remote process. Aborting debug session. problem debug","body":"<p>I don't know why, but I was able to solve this by setting <code>android:exported = &quot;true&quot;</code> for the first Activity to launch.</p>\n<pre><code>&lt;activity\n     android:name = &quot;.ui.top.TopActivity&quot;\n     android:exported = &quot;true&quot;\n     android:label = &quot;@string/app_name&quot;&gt;\n\n     &lt;intent-filter&gt;\n         &lt;action android:name = &quot;android.intent.action.MAIN&quot; /&gt;\n         &lt;category android:name = &quot;android.intent.category.LAUNCHER&quot; /&gt;\n     &lt;/ intent-filter&gt;\n&lt;/ activity&gt;\n</code></pre>\n"}],"owner":{"account_id":9869950,"reputation":41,"user_id":7309977,"display_name":"Mohsen_AB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640792189,"creation_date":1637603159,"question_id":70070197,"body_markdown":"i have problem\r\n\r\n    Waiting for application to come online: com.example.distribution_system | com.example.distribution_system.test\r\n    \r\n    Waiting for application to come online: com.example.distribution_system | com.example.distribution_system.test\r\n    \r\n    Waiting for application to come online: com.example.distribution_system | com.example.distribution_system.test\r\n    \r\n    ---&gt;Could not connect to remote process. Aborting debug session.\r\n\r\nI did\r\n\r\n---&gt;adb kill-server &amp;&amp; adb start-server\r\n\r\n---&gt;invalidate cache / restart\r\n\r\nbut not work yet\r\n\r\nimage1:--&gt; [1]: https://i.stack.imgur.com/HZF5D.png\r\n\r\nimage2:--&gt; [2]: https://i.stack.imgur.com/hrE4a.png","title":"Could not connect to remote process. Aborting debug session. problem debug","body":"<p>i have problem</p>\n<pre><code>Waiting for application to come online: com.example.distribution_system | com.example.distribution_system.test\n\nWaiting for application to come online: com.example.distribution_system | com.example.distribution_system.test\n\nWaiting for application to come online: com.example.distribution_system | com.example.distribution_system.test\n\n---&gt;Could not connect to remote process. Aborting debug session.\n</code></pre>\n<p>I did</p>\n<p>---&gt;adb kill-server &amp;&amp; adb start-server</p>\n<p>---&gt;invalidate cache / restart</p>\n<p>but not work yet</p>\n<p>image1:--&gt; [1]: <a href=\"https://i.stack.imgur.com/HZF5D.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/HZF5D.png</a></p>\n<p>image2:--&gt; [2]: <a href=\"https://i.stack.imgur.com/hrE4a.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/hrE4a.png</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1638890749,"post_id":70262738,"comment_id":124204978,"body_markdown":"both classes need to be compiled. A isn&#39;t recognized as a class during your execution. Also, the .java is only needed when you compile, it should be java B 200 100","body":"both classes need to be compiled. A isn&#39;t recognized as a class during your execution. Also, the .java is only needed when you compile, it should be java B 200 100"},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":3,"creation_date":1638890877,"post_id":70262738,"comment_id":124205038,"body_markdown":"Did you build the code before launching?","body":"Did you build the code before launching?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1638890910,"post_id":70262738,"comment_id":124205048,"body_markdown":"@Stultuske `java File.java` will actually work (from Java 9 IIRC). Try it, it&#39;s great for quick scripts :)","body":"@Stultuske <code>java File.java</code> will actually work (from Java 9 IIRC). Try it, it&#39;s great for quick scripts :)"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":1,"creation_date":1638892379,"post_id":70262738,"comment_id":124205717,"body_markdown":"If `A` is in a different package than `B`, you will have to import it in `B.java`. Hope all that is taken care of.","body":"If <code>A</code> is in a different package than <code>B</code>, you will have to import it in <code>B.java</code>. Hope all that is taken care of."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638891125,"creation_date":1638891125,"answer_id":70262878,"question_id":70262738,"body_markdown":"Your code works. Compile it and then change your dir in the command line to where your classes are located. Run this command in the screen shot: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PQZB5.png","title":"How can I call a Java method using the Terminal?","body":"<p>Your code works. Compile it and then change your dir in the command line to where your classes are located. Run this command in the screen shot:</p>\n<p><a href=\"https://i.stack.imgur.com/PQZB5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PQZB5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14620333,"reputation":35,"user_id":10559220,"display_name":"SkywalkerLuke JS"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1638891213,"creation_date":1638891213,"answer_id":70262906,"question_id":70262738,"body_markdown":"I copied your classes, compiled both of them, and executed from command line as you mentioned.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oqQrT.png","title":"How can I call a Java method using the Terminal?","body":"<p>I copied your classes, compiled both of them, and executed from command line as you mentioned.</p>\n<p><a href=\"https://i.stack.imgur.com/oqQrT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oqQrT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23576155,"reputation":29,"user_id":17615786,"display_name":"Pl4g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640792151,"creation_date":1638894189,"answer_id":70263595,"question_id":70262738,"body_markdown":"The problem was a try to run B.java on src folder... \r\n\r\nI need to run B.class from bin folder,\r\n\r\nFinally move to bin folder and run: \r\n```\r\njava B 200 100\r\n```\r\n\r\n![Works OK!!][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AaAwS.png","title":"How can I call a Java method using the Terminal?","body":"<p>The problem was a try to run B.java on src folder...</p>\n<p>I need to run B.class from bin folder,</p>\n<p>Finally move to bin folder and run:</p>\n<pre><code>java B 200 100\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/AaAwS.png\" alt=\"Works OK!!\" /></p>\n"}],"owner":{"account_id":23576155,"reputation":29,"user_id":17615786,"display_name":"Pl4g"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1640792151,"creation_date":1638890597,"question_id":70262738,"body_markdown":"have a problem with JAVA when try to call a method if the main execute from TERMINAL.\r\n\r\ni have a simple Class A\r\n\r\n ``` import java.util.ArrayList;\r\npublic class A{\r\n\tpublic static int promedio(ArrayList&lt;Integer&gt; array) {\r\n\t\tint sum=0,prom=0;\r\n\t\tfor(int i=0 ; i &lt; array.size() ; i++) {\r\n\t\t\tsum+=array.get(i);}\r\n\t\tprom = sum/array.size();\r\n\t\treturn prom;\r\n\t}\r\n}\r\n``` \r\n\r\nAnd Iam try to call method promedio() from Class B\r\n``` import java.util.ArrayList;\r\n\r\npublic class B{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\r\n       \r\n\t\t//Convert to int the string from args\r\n        for (int i = 0; i &lt; args.length; i++) {\r\n        \tint StrToInt= Integer.parseInt(args[i]);\r\n        \tarray.add(StrToInt);\r\n        \t}\r\n        //call method class A\r\n        int returnPromedio = A.promedio(array);\r\n\r\n\t\tSystem.out.println(&quot;Prom: &quot;+returnPromedio);\r\n\t\t\r\n\t\t}\r\n}\r\n```\r\n\r\n\r\nwhen try to run from TERMINAL with\r\n``` java B.java 200 100``` \r\n\r\nGet this error:\r\n``` \r\nB.java:13: error: cannot find symbol\r\n        int returnPromedio = A.promedio(array);\r\n                             ^\r\n  symbol:   variable A\r\n  location: class B\r\n1 error\r\nerror: compilation failed\r\n```\r\n  \r\nWhat I can do to run this code from TERMINAL,  thanks everyone!!","title":"How can I call a Java method using the Terminal?","body":"<p>have a problem with JAVA when try to call a method if the main execute from TERMINAL.</p>\n<p>i have a simple Class A</p>\n<pre><code>public class A{\n   public static int promedio(ArrayList&lt;Integer&gt; array) {\n       int sum=0,prom=0;\n       for(int i=0 ; i &lt; array.size() ; i++) {\n           sum+=array.get(i);}\n       prom = sum/array.size();\n       return prom;\n   }\n}\n</code></pre>\n<p>And Iam try to call method promedio() from Class B</p>\n<pre><code>\npublic class B{\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\n       \n        //Convert to int the string from args\n        for (int i = 0; i &lt; args.length; i++) {\n            int StrToInt= Integer.parseInt(args[i]);\n            array.add(StrToInt);\n            }\n        //call method class A\n        int returnPromedio = A.promedio(array);\n\n        System.out.println(&quot;Prom: &quot;+returnPromedio);\n        \n        }\n}\n</code></pre>\n<p>when try to run from TERMINAL with\n<code> java B.java 200 100</code></p>\n<p>Get this error:</p>\n<pre><code>B.java:13: error: cannot find symbol\n        int returnPromedio = A.promedio(array);\n                             ^\n  symbol:   variable A\n  location: class B\n1 error\nerror: compilation failed\n</code></pre>\n<p>What I can do to run this code from TERMINAL,  thanks everyone!!</p>\n"},{"tags":["java","spring","validation","multipart","dto"],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640791668,"creation_date":1640791668,"answer_id":70521486,"question_id":70521343,"body_markdown":"You can create your own annotation for example `SizeConstraint` and `Validator` by `implementing` `ConstraintValidator&lt;SizeConstraint, String&gt;`. There you can validate any parameters including the size of MultiPartFile\r\n\r\nsee moree [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-custom-validator","title":"Spring: DTO file size validation","body":"<p>You can create your own annotation for example <code>SizeConstraint</code> and <code>Validator</code> by <code>implementing</code> <code>ConstraintValidator&lt;SizeConstraint, String&gt;</code>. There you can validate any parameters including the size of MultiPartFile</p>\n<p>see moree <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":12300328,"reputation":814,"user_id":8974764,"display_name":"weno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70521486,"answer_count":1,"score":0,"last_activity_date":1640791668,"creation_date":1640790945,"question_id":70521343,"body_markdown":"Consider two controller endpoint methods:\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n      @PostMapping(&quot;/foo&quot;)\r\n      public ResponseEntity&lt;?&gt; foo(@Valid @RequestBody FooDto dto) {\r\n        // ..\r\n      }\r\n    \r\n      @PostMapping(&quot;/bar&quot;)\r\n      public ResponseEntity&lt;?&gt; bar(@Valid @RequestBody BarDto dto) {\r\n        // ..\r\n      }\r\n    }\r\n\r\nActual dtos contain the multipart object, and are defined as:\r\n\r\n    class FooDto {\r\n    \r\n      @NotNull\r\n      private MultipartFile file;\r\n    \r\n      @Size(min 2, max 40)\r\n      private String name;\r\n    }\r\n\r\nand similarly for `BarDto` of course.\r\n\r\n----------\r\n\r\nCurrently, the max file size is defined globally in Spring properties as:\r\n\r\n    spring.servlet.multipart.max-file-size=10MB\r\n    spring.servlet.multipart.max-request-size=10MB\r\n\r\nIn an ideal scenario, I want to control each individual dto max file size from the properties, e.g. as:\r\n\r\n    foo-dto.max-size=10MB\r\n    bar-dto.max-size=500MB\r\n\r\nIn a less idea scenario, I would like to control the size from the inside of the dto classes, e.g.:\r\n\r\n    class BarDto {\r\n    \r\n      @FileSize(max = &#39;500MB&#39;) // &lt;-- something like this\r\n      @NotNull\r\n      private MultipartFile file;\r\n    \r\n      // ..\r\n    }\r\n\r\n**Any tips on how can I achieve that? Are there existing annotations for file validation, compatible with Spring?**\r\n\r\n\r\n","title":"Spring: DTO file size validation","body":"<p>Consider two controller endpoint methods:</p>\n<pre><code>@RestController\npublic class MyController {\n\n  @PostMapping(&quot;/foo&quot;)\n  public ResponseEntity&lt;?&gt; foo(@Valid @RequestBody FooDto dto) {\n    // ..\n  }\n\n  @PostMapping(&quot;/bar&quot;)\n  public ResponseEntity&lt;?&gt; bar(@Valid @RequestBody BarDto dto) {\n    // ..\n  }\n}\n</code></pre>\n<p>Actual dtos contain the multipart object, and are defined as:</p>\n<pre><code>class FooDto {\n\n  @NotNull\n  private MultipartFile file;\n\n  @Size(min 2, max 40)\n  private String name;\n}\n</code></pre>\n<p>and similarly for <code>BarDto</code> of course.</p>\n<hr />\n<p>Currently, the max file size is defined globally in Spring properties as:</p>\n<pre><code>spring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n</code></pre>\n<p>In an ideal scenario, I want to control each individual dto max file size from the properties, e.g. as:</p>\n<pre><code>foo-dto.max-size=10MB\nbar-dto.max-size=500MB\n</code></pre>\n<p>In a less idea scenario, I would like to control the size from the inside of the dto classes, e.g.:</p>\n<pre><code>class BarDto {\n\n  @FileSize(max = '500MB') // &lt;-- something like this\n  @NotNull\n  private MultipartFile file;\n\n  // ..\n}\n</code></pre>\n<p><strong>Any tips on how can I achieve that? Are there existing annotations for file validation, compatible with Spring?</strong></p>\n"},{"tags":["java","spring","spring-boot","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":989256,"reputation":1152,"user_id":1006984,"display_name":"mario"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433779742,"creation_date":1433779742,"answer_id":30714130,"question_id":30663527,"body_markdown":"Did you check that your `AuthenticationUserDetailsService` code is actually been executed? If the framework is not invoking it this means that your configuration is not properly hooking that `UserDetailsService`. In your `WebSecurityConfig` I think you need to have this:\r\n\r\n    @Bean\r\n    public AuthenticationManager getAuthenticationManager() throws Exception {\r\n        return super.authenticationManagerBean(); //not return auth.build();\r\n    }\r\n\r\nI suggest you to take a look at [this](https://github.com/stormpath/stormpath-sdk-java/tree/spring_security_extension_webmvc/extensions/spring/stormpath-spring-boot-starter-spring-security) branch from [Stormpath](http://www.stormpath.com). There, they are configuring Spring Boot to use a custom [AuthenticationProvider](http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/authentication/AuthenticationProvider.html) (similar to an `UserDetailsService`). That module uses and depends on [this other Spring Security module](https://github.com/stormpath/stormpath-sdk-java/tree/spring_security_extension_webmvc/extensions/spring/stormpath-spring-security).\r\n\r\nThen, [this sample Spring Security Example](https://github.com/stormpath/stormpath-sdk-java/tree/spring_security_extension_webmvc/examples/spring-security-webmvc) (note that it is not Spring Boot, but just Spring) will give you a complete example of the way the [Spring Security Java Config](https://github.com/stormpath/stormpath-sdk-java/blob/spring_security_extension_webmvc/examples/spring-security-webmvc/src/main/java/tutorial/SpringSecurityWebAppConfig.java) is done. Please note that this Java Config extends [this one](https://github.com/stormpath/stormpath-sdk-java/blob/spring_security_extension_webmvc/extensions/spring/stormpath-spring-security-webmvc/src/main/java/com/stormpath/spring/config/StormpathWebSecurityConfiguration.java) which actually hides much of the actual internal configuration.\r\n\r\nDisclaimer, I am an active Stormpath contributor.","title":"Spring boot security with 3 fields authentication and custom login form","body":"<p>Did you check that your <code>AuthenticationUserDetailsService</code> code is actually been executed? If the framework is not invoking it this means that your configuration is not properly hooking that <code>UserDetailsService</code>. In your <code>WebSecurityConfig</code> I think you need to have this:</p>\n\n<pre><code>@Bean\npublic AuthenticationManager getAuthenticationManager() throws Exception {\n    return super.authenticationManagerBean(); //not return auth.build();\n}\n</code></pre>\n\n<p>I suggest you to take a look at <a href=\"https://github.com/stormpath/stormpath-sdk-java/tree/spring_security_extension_webmvc/extensions/spring/stormpath-spring-boot-starter-spring-security\" rel=\"nofollow\">this</a> branch from <a href=\"http://www.stormpath.com\" rel=\"nofollow\">Stormpath</a>. There, they are configuring Spring Boot to use a custom <a href=\"http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/authentication/AuthenticationProvider.html\" rel=\"nofollow\">AuthenticationProvider</a> (similar to an <code>UserDetailsService</code>). That module uses and depends on <a href=\"https://github.com/stormpath/stormpath-sdk-java/tree/spring_security_extension_webmvc/extensions/spring/stormpath-spring-security\" rel=\"nofollow\">this other Spring Security module</a>.</p>\n\n<p>Then, <a href=\"https://github.com/stormpath/stormpath-sdk-java/tree/spring_security_extension_webmvc/examples/spring-security-webmvc\" rel=\"nofollow\">this sample Spring Security Example</a> (note that it is not Spring Boot, but just Spring) will give you a complete example of the way the <a href=\"https://github.com/stormpath/stormpath-sdk-java/blob/spring_security_extension_webmvc/examples/spring-security-webmvc/src/main/java/tutorial/SpringSecurityWebAppConfig.java\" rel=\"nofollow\">Spring Security Java Config</a> is done. Please note that this Java Config extends <a href=\"https://github.com/stormpath/stormpath-sdk-java/blob/spring_security_extension_webmvc/extensions/spring/stormpath-spring-security-webmvc/src/main/java/com/stormpath/spring/config/StormpathWebSecurityConfiguration.java\" rel=\"nofollow\">this one</a> which actually hides much of the actual internal configuration.</p>\n\n<p>Disclaimer, I am an active Stormpath contributor.</p>\n"},{"tags":[],"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1434007869,"creation_date":1433884161,"answer_id":30742873,"question_id":30663527,"body_markdown":"Actually i manage to find a solution to my issue.\r\n\r\nI added successHandler on successfulAuthentication was missing ! And a failureHandler too on unsuccessfulAuthentication methods. \r\n\r\nHere is my new Authentication filter : \r\n\r\n    public class TwoFactorAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n\tprivate static final String LOGIN_SUCCESS_URL = &quot;{0}/bleamcards/{1}/home&quot;; \r\n\tprivate static final String LOGIN_ERROR_URL = &quot;{0}/bleamcards/{1}/login?error&quot;;\r\n\tprivate String parameter = &quot;corporateId&quot;;\r\n\tprivate String delimiter = &quot;:&quot;;\r\n\tprivate String corporateId;\r\n\t\r\n\r\n\t@Override\r\n\tprotected String obtainUsername(HttpServletRequest request) {\r\n\t\tString username = request.getParameter(getUsernameParameter());\r\n\t\tString extraInput = request.getParameter(getParameter());\r\n\t\tString combinedUsername = username + getDelimiter() + extraInput;\r\n\r\n\t\tsetCorporateId(extraInput);\r\n\t\tSystem.out.println(&quot;Combined username = &quot; + combinedUsername);\r\n\t\treturn combinedUsername;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain , Authentication authResult) throws IOException, ServletException {\r\n\r\n\t\tString contextPath = request.getContextPath();\r\n\t\tString url = MessageFormat.format(LOGIN_SUCCESS_URL, contextPath, corporateId);\r\n\t\tsetAuthenticationSuccessHandler(new SimpleUrlAuthenticationSuccessHandler(url));\r\n\t\tsuper.successfulAuthentication(request, response, chain, authResult);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException, ServletException {\r\n\r\n\t\tString contextPath = request.getContextPath();\r\n\t\tString url = MessageFormat.format(LOGIN_ERROR_URL, contextPath, corporateId);\r\n\t\tsetAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(url));\r\n\r\n\t\tsuper.unsuccessfulAuthentication(request, response, failed);\r\n\t}\r\n\r\n\tpublic String getParameter() {\r\n\t\treturn parameter;\r\n\t}\r\n\r\n\tpublic void setParameter(String corporateId) {\r\n\t\tthis.parameter = corporateId;\r\n\t}\r\n\r\n\tpublic String getDelimiter() {\r\n\t\treturn delimiter;\r\n\t}\r\n\r\n\tpublic void setDelimiter(String delimiter) {\r\n\t\tthis.delimiter = delimiter;\r\n\t}\r\n\r\n\tpublic String getCorporateId() {\r\n\t\treturn corporateId;\r\n\t}\r\n\r\n\tpublic void setCorporateId(String corporateId) {\r\n\t\tthis.corporateId = corporateId;\r\n\t}\r\n    }","title":"Spring boot security with 3 fields authentication and custom login form","body":"<p>Actually i manage to find a solution to my issue.</p>\n\n<p>I added successHandler on successfulAuthentication was missing ! And a failureHandler too on unsuccessfulAuthentication methods. </p>\n\n<p>Here is my new Authentication filter : </p>\n\n<pre><code>public class TwoFactorAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\nprivate static final String LOGIN_SUCCESS_URL = \"{0}/bleamcards/{1}/home\"; \nprivate static final String LOGIN_ERROR_URL = \"{0}/bleamcards/{1}/login?error\";\nprivate String parameter = \"corporateId\";\nprivate String delimiter = \":\";\nprivate String corporateId;\n\n\n@Override\nprotected String obtainUsername(HttpServletRequest request) {\n    String username = request.getParameter(getUsernameParameter());\n    String extraInput = request.getParameter(getParameter());\n    String combinedUsername = username + getDelimiter() + extraInput;\n\n    setCorporateId(extraInput);\n    System.out.println(\"Combined username = \" + combinedUsername);\n    return combinedUsername;\n}\n\n@Override\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain , Authentication authResult) throws IOException, ServletException {\n\n    String contextPath = request.getContextPath();\n    String url = MessageFormat.format(LOGIN_SUCCESS_URL, contextPath, corporateId);\n    setAuthenticationSuccessHandler(new SimpleUrlAuthenticationSuccessHandler(url));\n    super.successfulAuthentication(request, response, chain, authResult);\n\n}\n\n@Override\nprotected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException, ServletException {\n\n    String contextPath = request.getContextPath();\n    String url = MessageFormat.format(LOGIN_ERROR_URL, contextPath, corporateId);\n    setAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(url));\n\n    super.unsuccessfulAuthentication(request, response, failed);\n}\n\npublic String getParameter() {\n    return parameter;\n}\n\npublic void setParameter(String corporateId) {\n    this.parameter = corporateId;\n}\n\npublic String getDelimiter() {\n    return delimiter;\n}\n\npublic void setDelimiter(String delimiter) {\n    this.delimiter = delimiter;\n}\n\npublic String getCorporateId() {\n    return corporateId;\n}\n\npublic void setCorporateId(String corporateId) {\n    this.corporateId = corporateId;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6907,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30742873,"answer_count":2,"score":5,"last_activity_date":1640791448,"creation_date":1433498000,"question_id":30663527,"body_markdown":"I&#39;m using spring boot and i need to implement spring security with 3 fields authentication process username, password and corporate identifier as a hidden input in a form.\r\n\r\nI implemented a custom usernamepasswordauthenticationfilter but it not seems to be enough to setup the security config.\r\n\r\nEDIT :\r\n\r\nUsers don&#39;t seem to be authenticated ! because a can access to authenticated request defined in web config\r\n\r\nEDIT 2 :\r\n\r\nin my custom filter when a enter a valid user it&#39;s do execute on succesfulAuthentication. What i&#39;m missing please provide me any help :(\r\nHere were i am\r\n\r\n    @Repository\r\n    public class AuthenticationUserDetailsService implements UserDetailsService {\r\n\r\n\tprivate static final Logger LOGGER = Logger.getLogger(AuthenticationUserDetailsService.class);\r\n\r\n\t@Autowired\r\n\tprivate UserRepository users;\r\n\r\n\tprivate org.springframework.security.core.userdetails.User userdetails;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String input) throws UsernameNotFoundException {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tSystem.out.println(input);\r\n\t\tString[] split = input.split(&quot;:&quot;);\r\n\t\tif (split.length &lt; 2) {\r\n\t\t\tLOGGER.debug(&quot;User did not enter both username and corporate domain.&quot;);\r\n\t\t\tthrow new UsernameNotFoundException(&quot;no corporate identifier is specified&quot;);\r\n\t\t}\r\n\t\tString username = split[0];\r\n\t\tString corporateId = split[1];\r\n\r\n\t\tSystem.out.println(&quot;Username = &quot; + username);\r\n\t\tSystem.out.println(&quot;Corporate identifier = &quot; + corporateId);\r\n\r\n\t\tboolean enabled = true;\r\n\t\tboolean accountNonExpired = true;\r\n\t\tboolean credentialsNonExpired = true;\r\n\t\tboolean accountNonLocked = true;\r\n\r\n\t\tcom.ubleam.corporate.server.model.User user;\r\n\r\n\t\tuser = checkUserDetail(username, corporateId);\r\n\r\n\t\tif (user == null)\r\n\t\t\tthrow new NotAuthorizedException(&quot;Your are not allowed to access to this resource&quot;);\r\n\r\n\t\tLOGGER.info(&quot;User email : &quot; + user.getEmail() + &quot;#User corporate : &quot; + user.getCorporateId());\r\n\r\n\t\tuserdetails = new User(user.getEmail(), user.getPassword(), enabled, accountNonExpired, credentialsNonExpired, accountNonLocked, getAuthorities(&quot;ROLE_USER&quot;));\r\n\t\treturn userdetails;\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @param roles\r\n\t *            roles granted for user\r\n\t * @return List of granted authorities\r\n\t * \r\n\t */\r\n\r\n\tpublic List&lt;GrantedAuthority&gt; getAuthorities(String roles) {\r\n\r\n\t\tList&lt;GrantedAuthority&gt; authList = new ArrayList&lt;GrantedAuthority&gt;();\r\n\t\tauthList.add(new SimpleGrantedAuthority(roles));\r\n\t\treturn authList;\r\n\t}\r\n\r\n\t/**\r\n\t * User authentication details from database\r\n\t * \r\n\t * @param username\r\n\t *            to use for authentication\r\n\t * @param coporateId\r\n\t *            corporate identifier of user\r\n\t * @return found user in database\r\n\t */\r\n\tprivate com.ubleam.corporate.server.model.User checkUserDetail(String username, String corporateId) {\r\n\r\n\t\tcom.ubleam.corporate.server.model.User user = users.findByEmailAndCorporateId(username, corporateId);\r\n\r\n\t\treturn user;\r\n\t}\r\n\r\nMy custom filter :\r\n\r\n    public class PlatformAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n\tprivate static final Logger LOGGER = Logger.getLogger(PlatformAuthenticationFilter.class);\r\n\r\n\tprivate static final String LOGIN_SUCCESS_URL = &quot;{0}/bleamcards/{1}/home&quot;;\r\n\tprivate static final String LOGIN_ERROR_URL = &quot;{0}/bleamcards/{1}/login?error&quot;;\r\n\tprivate String parameter = &quot;corporateId&quot;;\r\n\tprivate String delimiter = &quot;:&quot;;\r\n\tprivate String corporateId;\r\n\r\n\t@Override\r\n\tprotected String obtainUsername(HttpServletRequest request) {\r\n\t\tString username = request.getParameter(getUsernameParameter());\r\n\t\tString extraInput = request.getParameter(getParameter());\r\n\r\n\t\tString combinedUsername = username + getDelimiter() + extraInput;\r\n\r\n\t\tsetCorporateId(extraInput);\r\n\t\tLOGGER.info(&quot;Combined username = &quot; + combinedUsername);\r\n\t\treturn combinedUsername;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, Authentication authResult) throws IOException, ServletException {\r\n\r\n\t\tString contextPath = request.getContextPath();\r\n\t\tString url = MessageFormat.format(LOGIN_SUCCESS_URL, contextPath, corporateId);\r\n\r\n\t\tresponse.sendRedirect(url);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException, ServletException {\r\n\r\n\t\tString contextPath = request.getContextPath();\r\n\t\tString url = MessageFormat.format(LOGIN_ERROR_URL, contextPath, corporateId);\r\n\r\n\t\tresponse.sendRedirect(url);\r\n\t}\r\n\r\n\tpublic String getParameter() {\r\n\t\treturn parameter;\r\n\t}\r\n\r\n\tpublic void setParameter(String corporateId) {\r\n\t\tthis.parameter = corporateId;\r\n\t}\r\n\r\n\tpublic String getDelimiter() {\r\n\t\treturn delimiter;\r\n\t}\r\n\r\n\tpublic void setDelimiter(String delimiter) {\r\n\t\tthis.delimiter = delimiter;\r\n\t}\r\n\r\n\tpublic String getCorporateId() {\r\n\t\treturn corporateId;\r\n\t}\r\n\r\n\tpublic void setCorporateId(String corporateId) {\r\n\t\tthis.corporateId = corporateId;\r\n\t}\r\n    }\r\n\r\nAnd finally the web security config :\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Inject\r\n\tprivate AuthenticationManagerBuilder auth;\r\n\t@Inject\r\n\tprivate UserDetailsService userDS;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\r\n\t\thttp.authorizeRequests().antMatchers(&quot;/bleamcards/**/login&quot;, &quot;/bleamcards/**/forgetpassword&quot;, &quot;/bleamcards/**/register&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;, &quot;/webjars/**&quot;)\r\n\t\t\t\t.permitAll().anyRequest().authenticated().and().addFilterBefore(authenticationFilter(), UsernamePasswordAuthenticationFilter.class).formLogin().loginPage(&quot;/login&quot;)\r\n\t\t\t\t.defaultSuccessUrl(&quot;/&quot;).permitAll().and().logout().permitAll();\r\n\t}\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.eraseCredentials(false);\r\n\t\tauth.userDetailsService(userDS).passwordEncoder(new BCryptPasswordEncoder());\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManager() throws Exception {\r\n\t\treturn auth.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PlatformAuthenticationFilter authenticationFilter() throws Exception {\r\n\t\tPlatformAuthenticationFilter authFilter = new PlatformAuthenticationFilter();\r\n\t\tauthFilter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\r\n\t\tauthFilter.setAuthenticationManager(authenticationManager());\r\n\t\tauthFilter.setUsernameParameter(&quot;username&quot;);\r\n\t\tauthFilter.setPasswordParameter(&quot;password&quot;);\r\n\t\tauthFilter.setParameter(&quot;corporateId&quot;);\r\n\t\treturn authFilter;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected UserDetailsService userDetailsService() {\r\n\t\treturn userDS;\r\n\t}\r\n\r\nI want users to be able to connect only to /login /register /forgetpasswod urls for their respective corporate platforms","title":"Spring boot security with 3 fields authentication and custom login form","body":"<p>I'm using spring boot and i need to implement spring security with 3 fields authentication process username, password and corporate identifier as a hidden input in a form.</p>\n\n<p>I implemented a custom usernamepasswordauthenticationfilter but it not seems to be enough to setup the security config.</p>\n\n<p>EDIT :</p>\n\n<p>Users don't seem to be authenticated ! because a can access to authenticated request defined in web config</p>\n\n<p>EDIT 2 :</p>\n\n<p>in my custom filter when a enter a valid user it's do execute on succesfulAuthentication. What i'm missing please provide me any help :(\nHere were i am</p>\n\n<pre><code>@Repository\npublic class AuthenticationUserDetailsService implements UserDetailsService {\n\nprivate static final Logger LOGGER = Logger.getLogger(AuthenticationUserDetailsService.class);\n\n@Autowired\nprivate UserRepository users;\n\nprivate org.springframework.security.core.userdetails.User userdetails;\n\n@Override\npublic UserDetails loadUserByUsername(String input) throws UsernameNotFoundException {\n    // TODO Auto-generated method stub\n\n    System.out.println(input);\n    String[] split = input.split(\":\");\n    if (split.length &lt; 2) {\n        LOGGER.debug(\"User did not enter both username and corporate domain.\");\n        throw new UsernameNotFoundException(\"no corporate identifier is specified\");\n    }\n    String username = split[0];\n    String corporateId = split[1];\n\n    System.out.println(\"Username = \" + username);\n    System.out.println(\"Corporate identifier = \" + corporateId);\n\n    boolean enabled = true;\n    boolean accountNonExpired = true;\n    boolean credentialsNonExpired = true;\n    boolean accountNonLocked = true;\n\n    com.ubleam.corporate.server.model.User user;\n\n    user = checkUserDetail(username, corporateId);\n\n    if (user == null)\n        throw new NotAuthorizedException(\"Your are not allowed to access to this resource\");\n\n    LOGGER.info(\"User email : \" + user.getEmail() + \"#User corporate : \" + user.getCorporateId());\n\n    userdetails = new User(user.getEmail(), user.getPassword(), enabled, accountNonExpired, credentialsNonExpired, accountNonLocked, getAuthorities(\"ROLE_USER\"));\n    return userdetails;\n}\n\n/**\n * \n * @param roles\n *            roles granted for user\n * @return List of granted authorities\n * \n */\n\npublic List&lt;GrantedAuthority&gt; getAuthorities(String roles) {\n\n    List&lt;GrantedAuthority&gt; authList = new ArrayList&lt;GrantedAuthority&gt;();\n    authList.add(new SimpleGrantedAuthority(roles));\n    return authList;\n}\n\n/**\n * User authentication details from database\n * \n * @param username\n *            to use for authentication\n * @param coporateId\n *            corporate identifier of user\n * @return found user in database\n */\nprivate com.ubleam.corporate.server.model.User checkUserDetail(String username, String corporateId) {\n\n    com.ubleam.corporate.server.model.User user = users.findByEmailAndCorporateId(username, corporateId);\n\n    return user;\n}\n</code></pre>\n\n<p>My custom filter :</p>\n\n<pre><code>public class PlatformAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\nprivate static final Logger LOGGER = Logger.getLogger(PlatformAuthenticationFilter.class);\n\nprivate static final String LOGIN_SUCCESS_URL = \"{0}/bleamcards/{1}/home\";\nprivate static final String LOGIN_ERROR_URL = \"{0}/bleamcards/{1}/login?error\";\nprivate String parameter = \"corporateId\";\nprivate String delimiter = \":\";\nprivate String corporateId;\n\n@Override\nprotected String obtainUsername(HttpServletRequest request) {\n    String username = request.getParameter(getUsernameParameter());\n    String extraInput = request.getParameter(getParameter());\n\n    String combinedUsername = username + getDelimiter() + extraInput;\n\n    setCorporateId(extraInput);\n    LOGGER.info(\"Combined username = \" + combinedUsername);\n    return combinedUsername;\n}\n\n@Override\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, Authentication authResult) throws IOException, ServletException {\n\n    String contextPath = request.getContextPath();\n    String url = MessageFormat.format(LOGIN_SUCCESS_URL, contextPath, corporateId);\n\n    response.sendRedirect(url);\n}\n\n@Override\nprotected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException, ServletException {\n\n    String contextPath = request.getContextPath();\n    String url = MessageFormat.format(LOGIN_ERROR_URL, contextPath, corporateId);\n\n    response.sendRedirect(url);\n}\n\npublic String getParameter() {\n    return parameter;\n}\n\npublic void setParameter(String corporateId) {\n    this.parameter = corporateId;\n}\n\npublic String getDelimiter() {\n    return delimiter;\n}\n\npublic void setDelimiter(String delimiter) {\n    this.delimiter = delimiter;\n}\n\npublic String getCorporateId() {\n    return corporateId;\n}\n\npublic void setCorporateId(String corporateId) {\n    this.corporateId = corporateId;\n}\n}\n</code></pre>\n\n<p>And finally the web security config :</p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Inject\nprivate AuthenticationManagerBuilder auth;\n@Inject\nprivate UserDetailsService userDS;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    http.authorizeRequests().antMatchers(\"/bleamcards/**/login\", \"/bleamcards/**/forgetpassword\", \"/bleamcards/**/register\", \"/css/**\", \"/js/**\", \"/images/**\", \"/webjars/**\")\n            .permitAll().anyRequest().authenticated().and().addFilterBefore(authenticationFilter(), UsernamePasswordAuthenticationFilter.class).formLogin().loginPage(\"/login\")\n            .defaultSuccessUrl(\"/\").permitAll().and().logout().permitAll();\n}\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n    auth.eraseCredentials(false);\n    auth.userDetailsService(userDS).passwordEncoder(new BCryptPasswordEncoder());\n\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManager() throws Exception {\n    return auth.build();\n}\n\n@Bean\npublic PlatformAuthenticationFilter authenticationFilter() throws Exception {\n    PlatformAuthenticationFilter authFilter = new PlatformAuthenticationFilter();\n    authFilter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(\"/login\", \"POST\"));\n    authFilter.setAuthenticationManager(authenticationManager());\n    authFilter.setUsernameParameter(\"username\");\n    authFilter.setPasswordParameter(\"password\");\n    authFilter.setParameter(\"corporateId\");\n    return authFilter;\n}\n\n@Override\nprotected UserDetailsService userDetailsService() {\n    return userDS;\n}\n</code></pre>\n\n<p>I want users to be able to connect only to /login /register /forgetpasswod urls for their respective corporate platforms</p>\n"},{"tags":["java","multithreading","static-methods"],"comments":[{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":2,"creation_date":1640791553,"post_id":70521430,"comment_id":124660219,"body_markdown":"Why do you think it would be incorrect to do this? It should be ok if all threads start from a different root.","body":"Why do you think it would be incorrect to do this? It should be ok if all threads start from a different root."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1640791628,"post_id":70521430,"comment_id":124660250,"body_markdown":"@BurakSerdar: As the OP has currently written it, this is unlikely to work, as there&#39;s no coordination of any kind between threads.","body":"@BurakSerdar: As the OP has currently written it, this is unlikely to work, as there&#39;s no coordination of any kind between threads."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1640791716,"post_id":70521430,"comment_id":124660288,"body_markdown":"Also, for what it&#39;s worth, splitting your search like this is unlikely to obtain a performance benefit, especially on a spindle drive where it will probably make things worse due to thrashing of the drive heads.","body":"Also, for what it&#39;s worth, splitting your search like this is unlikely to obtain a performance benefit, especially on a spindle drive where it will probably make things worse due to thrashing of the drive heads."},{"owner":{"account_id":22564024,"reputation":343,"user_id":16751303,"display_name":"Tech Inquisitor"},"score":1,"creation_date":1640792145,"post_id":70521430,"comment_id":124660462,"body_markdown":"What @RobertHarvey said. Multithreading is beneficial for (some) CPU-bound tasks. The limiting factor here isn&#39;t your CPU, it&#39;s disk I/O. As for your general question, it sounds like you&#39;re asking about *reentrancy*. You can search and read about what makes a method reentrant. (And reentrancy is just one thing that can make a method thread-safe. There are others.)","body":"What @RobertHarvey said. Multithreading is beneficial for (some) CPU-bound tasks. The limiting factor here isn&#39;t your CPU, it&#39;s disk I/O. As for your general question, it sounds like you&#39;re asking about <i>reentrancy</i>. You can search and read about what makes a method reentrant. (And reentrancy is just one thing that can make a method thread-safe. There are others.)"}],"owner":{"account_id":21586295,"reputation":39,"user_id":16198800,"display_name":"Arkady"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1640792147,"answer_count":0,"score":0,"last_activity_date":1640791370,"creation_date":1640791370,"question_id":70521430,"body_markdown":"I know similar questions have already been asked here, but I have not found answers there that would satisfy me.\r\n\r\nThere is a STATIC searchFile method to search for a given file in a given directory. Its prototype looks like this:\r\n\r\n    boolean searchFile(File root, String fileName);\r\nI need to scan the entire drive looking for a file.\r\nI decided to entrust this business to several threads for faster search, but I ran into a problem. Because the method is static, it would be incorrect to use this method to perform a given task across multiple threads like this:\r\n\r\n    class SearchTask implements Runnable {\r\n    \tprivate File root;\r\n    \tprivate String fileName;\r\n    \r\n    \tSearchTask(File root, String fileName) { this(root, fileName); }\r\n    \r\n    \tpublic void run() {\r\n    \t\t// calling the static method searchFile\r\n    \t\tSomething.searchFile(root, fileName);\r\n    \t}\r\n    }\r\n\r\nWhat to do in such a situation?","title":"Static Method and Multithreading","body":"<p>I know similar questions have already been asked here, but I have not found answers there that would satisfy me.</p>\n<p>There is a STATIC searchFile method to search for a given file in a given directory. Its prototype looks like this:</p>\n<pre><code>boolean searchFile(File root, String fileName);\n</code></pre>\n<p>I need to scan the entire drive looking for a file.\nI decided to entrust this business to several threads for faster search, but I ran into a problem. Because the method is static, it would be incorrect to use this method to perform a given task across multiple threads like this:</p>\n<pre><code>class SearchTask implements Runnable {\n    private File root;\n    private String fileName;\n\n    SearchTask(File root, String fileName) { this(root, fileName); }\n\n    public void run() {\n        // calling the static method searchFile\n        Something.searchFile(root, fileName);\n    }\n}\n</code></pre>\n<p>What to do in such a situation?</p>\n"},{"tags":["java","ones-complement"],"comments":[{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":1,"creation_date":1382807941,"post_id":19609566,"comment_id":29108294,"body_markdown":"The first bit is the sign. Use unsigned instead.","body":"The first bit is the sign. Use unsigned instead."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":4,"creation_date":1382808786,"post_id":19609566,"comment_id":29108540,"body_markdown":"@ceving Java doesn&#39;t have an unsigned long type.","body":"@ceving Java doesn&#39;t have an unsigned long type."},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":1,"creation_date":1382809566,"post_id":19609566,"comment_id":29108788,"body_markdown":"@Boann Not a day passes that I do not learn something new that Java can not.","body":"@Boann Not a day passes that I do not learn something new that Java can not."}],"answers":[{"tags":[],"owner":{"account_id":1451501,"reputation":3900,"user_id":1858369,"accept_rate":91,"display_name":"CmdrMoozy"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1382808004,"creation_date":1382808004,"answer_id":19609603,"question_id":19609566,"body_markdown":"The `~` operator does what you think, but keep in mind that there are no unsigned types in Java, so when you enter a positive number (i.e., the high bit is a 0), applying `~` to it will make it negative (by turning the high bit on).\r\n\r\nIf you were to print the number out in hex (or binary, as other answers have suggested), you should see the answer you expect.","title":"Finding 1&#39;s complement","body":"<p>The <code>~</code> operator does what you think, but keep in mind that there are no unsigned types in Java, so when you enter a positive number (i.e., the high bit is a 0), applying <code>~</code> to it will make it negative (by turning the high bit on).</p>\n\n<p>If you were to print the number out in hex (or binary, as other answers have suggested), you should see the answer you expect.</p>\n"},{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1382808543,"creation_date":1382808064,"answer_id":19609612,"question_id":19609566,"body_markdown":"You presumably want to work in binary, so try:\r\n\r\n    Scanner keysIn = new Scanner(System.in);\r\n    System.out.print(&quot;Please enter your number: &quot;);\r\n\r\n    long originalNum = keysIn.nextLong(2);  // specify radix of 2\r\n    System.out.println(Long.toBinaryString(~originalNum));  // print binary string\r\n\r\n    keysIn.close();\r\n\r\n&lt;pre&gt;\r\nPlease enter your number: &lt;i&gt;0111011&lt;/i&gt;\r\n1111111111111111111111111111111111111111111111111111111111000100\r\n&lt;/pre&gt;\r\n\r\nAs you can see, all bits are flipped. Bear in mind that there are leading 0s in front of the binary number you entered.\r\n","title":"Finding 1&#39;s complement","body":"<p>You presumably want to work in binary, so try:</p>\n\n<pre><code>Scanner keysIn = new Scanner(System.in);\nSystem.out.print(\"Please enter your number: \");\n\nlong originalNum = keysIn.nextLong(2);  // specify radix of 2\nSystem.out.println(Long.toBinaryString(~originalNum));  // print binary string\n\nkeysIn.close();\n</code></pre>\n\n<pre>\nPlease enter your number: <i>0111011</i>\n1111111111111111111111111111111111111111111111111111111111000100\n</pre>\n\n<p>As you can see, all bits are flipped. Bear in mind that there are leading 0s in front of the binary number you entered.</p>\n"},{"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640791089,"creation_date":1640791089,"answer_id":70521376,"question_id":19609566,"body_markdown":"* count the number of bits in num.\r\n* make a mask of 1s of the same length.\r\n* xor with the number to get the complement.\r\n\r\neg. 9^15=6\r\n[![enter image description here][1]][1]\r\n\r\n\r\n      public static int solution(int num) {\r\n\r\n        int bits = Integer.toBinaryString(num).length();\r\n        int maxBound = (int)( Math.pow(2, bits)-1);\r\n        return num ^ maxBound;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ri1Tx.png","title":"Finding 1&#39;s complement","body":"<ul>\n<li>count the number of bits in num.</li>\n<li>make a mask of 1s of the same length.</li>\n<li>xor with the number to get the complement.</li>\n</ul>\n<p>eg. 9^15=6\n<a href=\"https://i.stack.imgur.com/ri1Tx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ri1Tx.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>  public static int solution(int num) {\n\n    int bits = Integer.toBinaryString(num).length();\n    int maxBound = (int)( Math.pow(2, bits)-1);\n    return num ^ maxBound;\n}\n</code></pre>\n"}],"owner":{"account_id":3480928,"reputation":123,"user_id":2913004,"accept_rate":25,"display_name":"user2913004"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19322,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":19609612,"answer_count":3,"score":7,"last_activity_date":1640791089,"creation_date":1382807820,"question_id":19609566,"body_markdown":"I am trying to make a program to calculate 1&#39;s complement after entering a binary number.\r\nThis is what I have to far:\r\n\r\n    import java.util.Scanner;\r\n    public class BitWiseComplement {\r\n        public static void main(String[] args) {\r\n            Scanner keysIn = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter your number: &quot;);\r\n            long originalNum = keysIn.nextLong();\r\n            System.out.println(~originalNum);\r\n      }\r\n    }\r\n\r\nHowever, when I enter 0111011, I get -111012. I thought the ~ operator was supposed to invert the number so that all 0s are 1s and all 1s are 0s. \r\n\r\nAny help?","title":"Finding 1&#39;s complement","body":"<p>I am trying to make a program to calculate 1's complement after entering a binary number.\nThis is what I have to far:</p>\n\n<pre><code>import java.util.Scanner;\npublic class BitWiseComplement {\n    public static void main(String[] args) {\n        Scanner keysIn = new Scanner(System.in);\n        System.out.println(\"Please enter your number: \");\n        long originalNum = keysIn.nextLong();\n        System.out.println(~originalNum);\n  }\n}\n</code></pre>\n\n<p>However, when I enter 0111011, I get -111012. I thought the ~ operator was supposed to invert the number so that all 0s are 1s and all 1s are 0s. </p>\n\n<p>Any help?</p>\n"},{"tags":["python","java","websphere"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1640855944,"post_id":70521257,"comment_id":124675133,"body_markdown":"But what error you are getting while installing the application???","body":"But what error you are getting while installing the application???"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641475374,"post_id":70521257,"comment_id":124816755,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23776330,"reputation":1,"user_id":17789730,"display_name":"SKP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640790545,"creation_date":1640790545,"question_id":70521257,"body_markdown":"After IBM WAS Java upgrade from 8.0.6.11 to 8.0.6.31 the .ear file is not getting deployed using wsadmin.sh script, although the same is getting\r\ndeployed successfully using WebSphere console directly.\r\n\r\nSome basic detail below:\r\n\r\nversion info from the server where .ear is deploying successfully:\r\n\r\n$ /usr/IBM/WebSphere90/AppServer/bin/versionInfo.sh\r\nWVER0010I: Copyright (c) IBM Corporation 2002, 2012; All rights reserved.\r\nWVER0012I: VersionInfo reporter version 1.15.1.48, dated 2/8/12\r\n\r\n--------------------------------------------------------------------------------\r\nIBM WebSphere Product Installation Status Report\r\n--------------------------------------------------------------------------------\r\n\r\nReport at date and time December 29, 2021 7:00:42 AM CET\r\n\r\nInstallation\r\n--------------------------------------------------------------------------------\r\nProduct Directory /usr/IBM/WebSphere90/AppServer\r\nVersion Directory /usr/IBM/WebSphere90/AppServer/properties/version\r\nDTD Directory /usr/IBM/WebSphere90/AppServer/properties/version/dtd\r\nLog Directory /var/ibm/InstallationManager/logs\r\n\r\nProduct List\r\n--------------------------------------------------------------------------------\r\nJAVA8 installed\r\nND installed\r\n\r\nInstalled Product\r\n--------------------------------------------------------------------------------\r\nName IBM SDK, Java Technology Edition, Version 8\r\nVersion 8.0.6.11\r\nID JAVA8\r\nBuild Level pap6480sr6fp11-20200602_01\r\nBuild Date 06/02/20\r\nArchitecture PPC64\r\n\r\nInstalled Product\r\n--------------------------------------------------------------------------------\r\nName IBM WebSphere Application Server Network Deployment\r\nVersion 9.0.5.7\r\nID ND\r\nBuild Level f5072109.01\r\nBuild Date 3/1/21\r\nPackage com.ibm.websphere.ND.v90_9.0.5007.20210301_1241\r\nArchitecture PPC64\r\nInstalled Features WebSphere Application Server traditional\r\nEJBDeploy tool for pre-EJB 3.0 modules\r\nEmbeddable EJB container\r\nStand-alone thin clients and resource adapters\r\n\r\n--------------------------------------------------------------------------------\r\nEnd Installation Status Report\r\n--------------------------------------------------------------------------------\r\n\r\n\r\nversion info from the server where .ear deploy is stuck:\r\n\r\n$ /usr/IBM/WebSphere90/AppServer/bin/versionInfo.sh\r\nWVER0010I: Copyright (c) IBM Corporation 2002, 2012; All rights reserved.\r\nWVER0012I: VersionInfo reporter version 1.15.1.48, dated 2/8/12\r\n\r\n--------------------------------------------------------------------------------\r\nIBM WebSphere Product Installation Status Report\r\n--------------------------------------------------------------------------------\r\n\r\nReport at date and time December 29, 2021 7:01:56 AM CET\r\n\r\nInstallation\r\n--------------------------------------------------------------------------------\r\nProduct Directory /usr/IBM/WebSphere90/AppServer\r\nVersion Directory /usr/IBM/WebSphere90/AppServer/properties/version\r\nDTD Directory /usr/IBM/WebSphere90/AppServer/properties/version/dtd\r\nLog Directory /var/ibm/InstallationManager/logs\r\n\r\nProduct List\r\n--------------------------------------------------------------------------------\r\nJAVA8 installed\r\nND installed\r\n\r\nInstalled Product\r\n--------------------------------------------------------------------------------\r\nName IBM SDK, Java Technology Edition, Version 8\r\nVersion 8.0.6.31\r\nID JAVA8\r\nBuild Level pap6480sr6fp31-20210510_01\r\nBuild Date 05/10/21\r\nArchitecture PPC64\r\n\r\nInstalled Product\r\n--------------------------------------------------------------------------------\r\nName IBM WebSphere Application Server Network Deployment\r\nVersion 9.0.5.7\r\nID ND\r\nBuild Level f5072109.01\r\nBuild Date 3/1/21\r\nPackage com.ibm.websphere.ND.v90_9.0.5007.20210301_1241\r\nArchitecture PPC64\r\nInstalled Features WebSphere Application Server traditional\r\nEJBDeploy tool for pre-EJB 3.0 modules\r\nEmbeddable EJB container\r\nStand-alone thin clients and resource adapters\r\n\r\n--------------------------------------------------------------------------------\r\nEnd Installation Status Report\r\n--------------------------------------------------------------------------------\r\n\r\n\r\nSince no logs is getting generated we cannot determine the exact reason for the stuck. At times it gives heap memory issue but even after increasing\r\nthe heap size the deployment still gets stuck. And we have noticed this behaviour after upgrade of WebSphere JDK 8.0.6.31. Once we downgrade the JDK back\r\nto 8.0.6.11 the same ear is getting deployed successfully using wsadmin.sh script.\r\n\r\nWe would need your help and advise on this..!!","title":"WebSphere 9.0.5.7 JDK upgraded to 8.0.6.31 and facing Issue to deploy EAR","body":"<p>After IBM WAS Java upgrade from 8.0.6.11 to 8.0.6.31 the .ear file is not getting deployed using wsadmin.sh script, although the same is getting\ndeployed successfully using WebSphere console directly.</p>\n<p>Some basic detail below:</p>\n<p>version info from the server where .ear is deploying successfully:</p>\n<p>$ /usr/IBM/WebSphere90/AppServer/bin/versionInfo.sh\nWVER0010I: Copyright (c) IBM Corporation 2002, 2012; All rights reserved.\nWVER0012I: VersionInfo reporter version 1.15.1.48, dated 2/8/12</p>\n<hr />\n<h2>IBM WebSphere Product Installation Status Report</h2>\n<p>Report at date and time December 29, 2021 7:00:42 AM CET</p>\n<h2>Installation</h2>\n<p>Product Directory /usr/IBM/WebSphere90/AppServer\nVersion Directory /usr/IBM/WebSphere90/AppServer/properties/version\nDTD Directory /usr/IBM/WebSphere90/AppServer/properties/version/dtd\nLog Directory /var/ibm/InstallationManager/logs</p>\n<h2>Product List</h2>\n<p>JAVA8 installed\nND installed</p>\n<h2>Installed Product</h2>\n<p>Name IBM SDK, Java Technology Edition, Version 8\nVersion 8.0.6.11\nID JAVA8\nBuild Level pap6480sr6fp11-20200602_01\nBuild Date 06/02/20\nArchitecture PPC64</p>\n<h2>Installed Product</h2>\n<p>Name IBM WebSphere Application Server Network Deployment\nVersion 9.0.5.7\nID ND\nBuild Level f5072109.01\nBuild Date 3/1/21\nPackage com.ibm.websphere.ND.v90_9.0.5007.20210301_1241\nArchitecture PPC64\nInstalled Features WebSphere Application Server traditional\nEJBDeploy tool for pre-EJB 3.0 modules\nEmbeddable EJB container\nStand-alone thin clients and resource adapters</p>\n<hr />\n<h2>End Installation Status Report</h2>\n<p>version info from the server where .ear deploy is stuck:</p>\n<p>$ /usr/IBM/WebSphere90/AppServer/bin/versionInfo.sh\nWVER0010I: Copyright (c) IBM Corporation 2002, 2012; All rights reserved.\nWVER0012I: VersionInfo reporter version 1.15.1.48, dated 2/8/12</p>\n<hr />\n<h2>IBM WebSphere Product Installation Status Report</h2>\n<p>Report at date and time December 29, 2021 7:01:56 AM CET</p>\n<h2>Installation</h2>\n<p>Product Directory /usr/IBM/WebSphere90/AppServer\nVersion Directory /usr/IBM/WebSphere90/AppServer/properties/version\nDTD Directory /usr/IBM/WebSphere90/AppServer/properties/version/dtd\nLog Directory /var/ibm/InstallationManager/logs</p>\n<h2>Product List</h2>\n<p>JAVA8 installed\nND installed</p>\n<h2>Installed Product</h2>\n<p>Name IBM SDK, Java Technology Edition, Version 8\nVersion 8.0.6.31\nID JAVA8\nBuild Level pap6480sr6fp31-20210510_01\nBuild Date 05/10/21\nArchitecture PPC64</p>\n<h2>Installed Product</h2>\n<p>Name IBM WebSphere Application Server Network Deployment\nVersion 9.0.5.7\nID ND\nBuild Level f5072109.01\nBuild Date 3/1/21\nPackage com.ibm.websphere.ND.v90_9.0.5007.20210301_1241\nArchitecture PPC64\nInstalled Features WebSphere Application Server traditional\nEJBDeploy tool for pre-EJB 3.0 modules\nEmbeddable EJB container\nStand-alone thin clients and resource adapters</p>\n<hr />\n<h2>End Installation Status Report</h2>\n<p>Since no logs is getting generated we cannot determine the exact reason for the stuck. At times it gives heap memory issue but even after increasing\nthe heap size the deployment still gets stuck. And we have noticed this behaviour after upgrade of WebSphere JDK 8.0.6.31. Once we downgrade the JDK back\nto 8.0.6.11 the same ear is getting deployed successfully using wsadmin.sh script.</p>\n<p>We would need your help and advise on this..!!</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1640788580,"post_id":70520831,"comment_id":124659057,"body_markdown":"Post the complete stack trace, not just the snippet you have.","body":"Post the complete stack trace, not just the snippet you have."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1640791724,"post_id":70520831,"comment_id":124660292,"body_markdown":"The error message is pretty explicit: you have a Null Pointer Exception on line 25 of `AddAppController` because `store` is null. If that&#39;s not enough information to solve the problem, you need to post the relevant code.","body":"The error message is pretty explicit: you have a Null Pointer Exception on line 25 of <code>AddAppController</code> because <code>store</code> is null. If that&#39;s not enough information to solve the problem, you need to post the relevant code."}],"owner":{"account_id":23776084,"reputation":1,"user_id":17789527,"display_name":"Georgina Walsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640789027,"creation_date":1640788454,"question_id":70520831,"body_markdown":"so I&#39;m getting this error message about an fmxl file, it says:\r\n\r\n````\r\nDec 29, 2021 2:11:16 P.M. javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNING: Loading FXML document with JavaFX API of version 17 by JavaFX runtime of version 16\r\nDec 29, 2021 2:11:16 P.M. javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNING: Loading FXML document with JavaFX API of version 17 by JavaFX runtime of version 16\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: javafx.fxml.LoadException: \r\n/C:/Users/georg/OneDrive%20-%20Waterford%20Institute%20of%20Technology/semester-3/datastruc-alg-1/dsaAsgnOne/target/classes/dsaasgnone/dsaasgnone/AddApp.fxml:13\r\n/C:/Users/georg/OneDrive%20-%20Waterford%20Institute%20of%20Technology/semester-3/datastruc-alg-1/dsaAsgnOne/target/classes/dsaasgnone/dsaasgnone/Main.fxml:33\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$IncludeElement.constructValue(FXMLLoader.java:1156)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:756)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2517)\r\n\tat dsaasgnone.dsaasgnone/dsaasgnone.dsaasgnone.App.start(App.java:75)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:474)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:447)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:446)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\t... 1 more\r\nCaused by: java.lang.NullPointerException: Cannot read field &quot;appointments&quot; because &quot;dsaasgnone.dsaasgnone.App.store&quot; is null\r\n\tat dsaasgnone.dsaasgnone/dsaasgnone.dsaasgnone.Controllers.AddAppController.&lt;init&gt;(AddAppController.java:25)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:938)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:982)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:229)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:754)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\r\n\t... 17 more\r\nException running application dsaasgnone.dsaasgnone.App\r\n\r\n````\r\n\r\nI&#39;ve mainly been trying to solve the problem by trying to fix this part here (then again, I may be completely wrong about this)\r\n````\r\nCaused by: javafx.fxml.LoadException: \r\n/C:/Users/georg/OneDrive%20-%20Waterford%20Institute%20of%20Technology/semester-3/datastruc-alg-1/dsaAsgnOne/target/classes/dsaasgnone/dsaasgnone/AddApp.fxml:13\r\n/C:/Users/georg/OneDrive%20-%20Waterford%20Institute%20of%20Technology/semester-3/datastruc-alg-1/dsaAsgnOne/target/classes/dsaasgnone/dsaasgnone/Main.fxml:33\r\n````\r\n\r\nMain.fxml is\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Tab?&gt;\r\n&lt;?import javafx.scene.control.TabPane?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;419.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TabPane prefHeight=&quot;411.0&quot; prefWidth=&quot;600.0&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot;&gt;\r\n        &lt;tabs&gt;\r\n            &lt;Tab text=&quot;Welcome&quot;&gt;\r\n              &lt;content&gt;\r\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;407.0&quot; prefWidth=&quot;600.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;fx:include source=&quot;SaveController.fxml&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/AnchorPane&gt;\r\n              &lt;/content&gt;\r\n            &lt;/Tab&gt;\r\n            &lt;Tab text=&quot;Add Patient&quot;&gt;\r\n              &lt;content&gt;\r\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;fx:include source=&quot;AddPatient.fxml&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/AnchorPane&gt;\r\n              &lt;/content&gt;\r\n            &lt;/Tab&gt;\r\n          &lt;Tab text=&quot;Make Appointment&quot;&gt;\r\n            &lt;content&gt;\r\n              &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;fx:include source=&quot;AddApp.fxml&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/AnchorPane&gt;\r\n            &lt;/content&gt;\r\n          &lt;/Tab&gt;\r\n          &lt;Tab text=&quot;Appointment List&quot;&gt;\r\n            &lt;content&gt;\r\n              &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;fx:include source=&quot;AppList.fxml&quot; /&gt;\r\n                     &lt;/children&gt;&lt;/AnchorPane&gt;\r\n            &lt;/content&gt;\r\n          &lt;/Tab&gt;\r\n            &lt;Tab text=&quot;Add Vaccine Centre&quot;&gt;\r\n              &lt;content&gt;\r\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;fx:include source=&quot;AddVc.fxml&quot; /&gt;\r\n                     &lt;/children&gt;&lt;/AnchorPane&gt;\r\n              &lt;/content&gt;\r\n            &lt;/Tab&gt;\r\n            &lt;Tab text=&quot;Add Booth&quot;&gt;\r\n              &lt;content&gt;\r\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;fx:include source=&quot;AddBooth.fxml&quot; /&gt;\r\n                     &lt;/children&gt;&lt;/AnchorPane&gt;\r\n              &lt;/content&gt;\r\n            &lt;/Tab&gt;\r\n            &lt;Tab text=&quot;Edit Centre/Booth&quot;&gt;\r\n              &lt;content&gt;\r\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;fx:include source=&quot;EditBoothVc.fxml&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/AnchorPane&gt;\r\n              &lt;/content&gt;\r\n            &lt;/Tab&gt;\r\n        &lt;/tabs&gt;\r\n      &lt;/TabPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n````\r\n\r\nLine 33 in Main.fmxl is just\r\n````\r\n&lt;fx:include source=&quot;AddApp.fxml&quot; /&gt;\r\n````\r\nso I don&#39;t believe that&#39;s the problem.\r\n\r\n\r\nAddApp.fxml is\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ChoiceBox?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.DatePicker?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot;\r\n            prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n            fx:controller=&quot;dsaasgnone.dsaasgnone.Controllers.AddAppController&quot;&gt;\r\n   &lt;Button fx:id=&quot;confirm&quot; layoutX=&quot;252.0&quot; layoutY=&quot;305.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addApp&quot;\r\n           text=&quot;Make Booking&quot;/&gt;\r\n   &lt;DatePicker fx:id=&quot;appDate&quot; layoutX=&quot;62.0&quot; layoutY=&quot;49.0&quot;/&gt;\r\n   &lt;ChoiceBox fx:id=&quot;appTime&quot; layoutX=&quot;358.0&quot; layoutY=&quot;49.0&quot; prefWidth=&quot;150.0&quot;/&gt;\r\n   &lt;ComboBox fx:id=&quot;appVc&quot; layoutX=&quot;62.0&quot; layoutY=&quot;114.0&quot; prefWidth=&quot;150.0&quot;/&gt;\r\n   &lt;ComboBox fx:id=&quot;appBooth&quot; layoutX=&quot;358.0&quot; layoutY=&quot;114.0&quot; prefWidth=&quot;150.0&quot;/&gt;\r\n   &lt;TextField fx:id=&quot;appPpsn&quot; layoutX=&quot;224.0&quot; layoutY=&quot;187.0&quot;/&gt;\r\n   &lt;Label layoutX=&quot;62.0&quot; layoutY=&quot;32.0&quot; text=&quot;Select Date&quot;/&gt;\r\n   &lt;Label layoutX=&quot;358.0&quot; layoutY=&quot;32.0&quot; text=&quot;Select Time&quot;/&gt;\r\n   &lt;Label layoutX=&quot;62.0&quot; layoutY=&quot;97.0&quot; text=&quot;Select Vaccine Centre&quot;/&gt;\r\n   &lt;Label layoutX=&quot;358.0&quot; layoutY=&quot;97.0&quot; text=&quot;Select Booth&quot;/&gt;\r\n   &lt;Label layoutX=&quot;224.0&quot; layoutY=&quot;169.0&quot; text=&quot;Enter PPSN&quot;/&gt;\r\n&lt;/AnchorPane&gt;\r\n````\r\n\r\nLine 13 of AddApp.fxml is\r\n````\r\nfx:controller=&quot;dsaasgnone.dsaasgnone.Controllers.AddAppController&quot;&gt;\r\n````\r\nso I also don&#39;t understand why that&#39;s an error.\r\n\r\nHelp would be greatly appreciated.\r\n\r\nScreenshot of the code are below:\r\n[The error message][1]\r\n\r\n[Line 13 of AddApp.fxml][2]\r\n\r\n[Line 33 of Main.fxml][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/woX6L.png\r\n  [2]: https://i.stack.imgur.com/OGJhZ.png\r\n  [3]: https://i.stack.imgur.com/QDMi5.png","title":"javafx.fxml.LoadException:","body":"<p>so I'm getting this error message about an fmxl file, it says:</p>\n<pre><code>Dec 29, 2021 2:11:16 P.M. javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 17 by JavaFX runtime of version 16\nDec 29, 2021 2:11:16 P.M. javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 17 by JavaFX runtime of version 16\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javafx.fxml.LoadException: \n/C:/Users/georg/OneDrive%20-%20Waterford%20Institute%20of%20Technology/semester-3/datastruc-alg-1/dsaAsgnOne/target/classes/dsaasgnone/dsaasgnone/AddApp.fxml:13\n/C:/Users/georg/OneDrive%20-%20Waterford%20Institute%20of%20Technology/semester-3/datastruc-alg-1/dsaAsgnOne/target/classes/dsaasgnone/dsaasgnone/Main.fxml:33\n\n    at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml/javafx.fxml.FXMLLoader$IncludeElement.constructValue(FXMLLoader.java:1156)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:756)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2517)\n    at dsaasgnone.dsaasgnone/dsaasgnone.dsaasgnone.App.start(App.java:75)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:474)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:447)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:446)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    ... 1 more\nCaused by: java.lang.NullPointerException: Cannot read field &quot;appointments&quot; because &quot;dsaasgnone.dsaasgnone.App.store&quot; is null\n    at dsaasgnone.dsaasgnone/dsaasgnone.dsaasgnone.Controllers.AddAppController.&lt;init&gt;(AddAppController.java:25)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:938)\n    at javafx.fxml/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:982)\n    at javafx.fxml/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:229)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:754)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\n    ... 17 more\nException running application dsaasgnone.dsaasgnone.App\n\n</code></pre>\n<p>I've mainly been trying to solve the problem by trying to fix this part here (then again, I may be completely wrong about this)</p>\n<pre><code>Caused by: javafx.fxml.LoadException: \n/C:/Users/georg/OneDrive%20-%20Waterford%20Institute%20of%20Technology/semester-3/datastruc-alg-1/dsaAsgnOne/target/classes/dsaasgnone/dsaasgnone/AddApp.fxml:13\n/C:/Users/georg/OneDrive%20-%20Waterford%20Institute%20of%20Technology/semester-3/datastruc-alg-1/dsaAsgnOne/target/classes/dsaasgnone/dsaasgnone/Main.fxml:33\n</code></pre>\n<p>Main.fxml is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Tab?&gt;\n&lt;?import javafx.scene.control.TabPane?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;419.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\n   &lt;children&gt;\n      &lt;TabPane prefHeight=&quot;411.0&quot; prefWidth=&quot;600.0&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot;&gt;\n        &lt;tabs&gt;\n            &lt;Tab text=&quot;Welcome&quot;&gt;\n              &lt;content&gt;\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;407.0&quot; prefWidth=&quot;600.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;fx:include source=&quot;SaveController.fxml&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/AnchorPane&gt;\n              &lt;/content&gt;\n            &lt;/Tab&gt;\n            &lt;Tab text=&quot;Add Patient&quot;&gt;\n              &lt;content&gt;\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;fx:include source=&quot;AddPatient.fxml&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/AnchorPane&gt;\n              &lt;/content&gt;\n            &lt;/Tab&gt;\n          &lt;Tab text=&quot;Make Appointment&quot;&gt;\n            &lt;content&gt;\n              &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;fx:include source=&quot;AddApp.fxml&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/AnchorPane&gt;\n            &lt;/content&gt;\n          &lt;/Tab&gt;\n          &lt;Tab text=&quot;Appointment List&quot;&gt;\n            &lt;content&gt;\n              &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;fx:include source=&quot;AppList.fxml&quot; /&gt;\n                     &lt;/children&gt;&lt;/AnchorPane&gt;\n            &lt;/content&gt;\n          &lt;/Tab&gt;\n            &lt;Tab text=&quot;Add Vaccine Centre&quot;&gt;\n              &lt;content&gt;\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;fx:include source=&quot;AddVc.fxml&quot; /&gt;\n                     &lt;/children&gt;&lt;/AnchorPane&gt;\n              &lt;/content&gt;\n            &lt;/Tab&gt;\n            &lt;Tab text=&quot;Add Booth&quot;&gt;\n              &lt;content&gt;\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;fx:include source=&quot;AddBooth.fxml&quot; /&gt;\n                     &lt;/children&gt;&lt;/AnchorPane&gt;\n              &lt;/content&gt;\n            &lt;/Tab&gt;\n            &lt;Tab text=&quot;Edit Centre/Booth&quot;&gt;\n              &lt;content&gt;\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;fx:include source=&quot;EditBoothVc.fxml&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/AnchorPane&gt;\n              &lt;/content&gt;\n            &lt;/Tab&gt;\n        &lt;/tabs&gt;\n      &lt;/TabPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Line 33 in Main.fmxl is just</p>\n<pre><code>&lt;fx:include source=&quot;AddApp.fxml&quot; /&gt;\n</code></pre>\n<p>so I don't believe that's the problem.</p>\n<p>AddApp.fxml is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ChoiceBox?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.DatePicker?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot;\n            prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n            fx:controller=&quot;dsaasgnone.dsaasgnone.Controllers.AddAppController&quot;&gt;\n   &lt;Button fx:id=&quot;confirm&quot; layoutX=&quot;252.0&quot; layoutY=&quot;305.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addApp&quot;\n           text=&quot;Make Booking&quot;/&gt;\n   &lt;DatePicker fx:id=&quot;appDate&quot; layoutX=&quot;62.0&quot; layoutY=&quot;49.0&quot;/&gt;\n   &lt;ChoiceBox fx:id=&quot;appTime&quot; layoutX=&quot;358.0&quot; layoutY=&quot;49.0&quot; prefWidth=&quot;150.0&quot;/&gt;\n   &lt;ComboBox fx:id=&quot;appVc&quot; layoutX=&quot;62.0&quot; layoutY=&quot;114.0&quot; prefWidth=&quot;150.0&quot;/&gt;\n   &lt;ComboBox fx:id=&quot;appBooth&quot; layoutX=&quot;358.0&quot; layoutY=&quot;114.0&quot; prefWidth=&quot;150.0&quot;/&gt;\n   &lt;TextField fx:id=&quot;appPpsn&quot; layoutX=&quot;224.0&quot; layoutY=&quot;187.0&quot;/&gt;\n   &lt;Label layoutX=&quot;62.0&quot; layoutY=&quot;32.0&quot; text=&quot;Select Date&quot;/&gt;\n   &lt;Label layoutX=&quot;358.0&quot; layoutY=&quot;32.0&quot; text=&quot;Select Time&quot;/&gt;\n   &lt;Label layoutX=&quot;62.0&quot; layoutY=&quot;97.0&quot; text=&quot;Select Vaccine Centre&quot;/&gt;\n   &lt;Label layoutX=&quot;358.0&quot; layoutY=&quot;97.0&quot; text=&quot;Select Booth&quot;/&gt;\n   &lt;Label layoutX=&quot;224.0&quot; layoutY=&quot;169.0&quot; text=&quot;Enter PPSN&quot;/&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Line 13 of AddApp.fxml is</p>\n<pre><code>fx:controller=&quot;dsaasgnone.dsaasgnone.Controllers.AddAppController&quot;&gt;\n</code></pre>\n<p>so I also don't understand why that's an error.</p>\n<p>Help would be greatly appreciated.</p>\n<p>Screenshot of the code are below:\n<a href=\"https://i.stack.imgur.com/woX6L.png\" rel=\"nofollow noreferrer\">The error message</a></p>\n<p><a href=\"https://i.stack.imgur.com/OGJhZ.png\" rel=\"nofollow noreferrer\">Line 13 of AddApp.fxml</a></p>\n<p><a href=\"https://i.stack.imgur.com/QDMi5.png\" rel=\"nofollow noreferrer\">Line 33 of Main.fxml</a></p>\n"},{"tags":["java","jsonpath"],"comments":[{"owner":{"account_id":13075955,"reputation":24580,"user_id":9448090,"display_name":"Jack Fleeting"},"score":0,"creation_date":1595949263,"post_id":63111380,"comment_id":111647678,"body_markdown":"just add another `.` to your 2nd `role`: `$..data.fruit[?(@.role..role==&quot;active&quot;)].objectType`. It&#39;s basically the short form of the more logical `$..data.fruit[?(@.role[?(@.role==&quot;active&quot;)])].objectType`.","body":"just add another <code>.</code> to your 2nd <code>role</code>: <code>$..data.fruit[?(@.role..role==&quot;active&quot;)].objectType</code>. It&#39;s basically the short form of the more logical <code>$..data.fruit[?(@.role[?(@.role==&quot;active&quot;)])].objectType</code>."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1596121475,"post_id":63111380,"comment_id":111715913,"body_markdown":"One minor change had to be implemented, thought.","body":"One minor change had to be implemented, thought."},{"owner":{"account_id":13075955,"reputation":24580,"user_id":9448090,"display_name":"Jack Fleeting"},"score":0,"creation_date":1596121839,"post_id":63111380,"comment_id":111716124,"body_markdown":"Out of curiosity - what was it?","body":"Out of curiosity - what was it?"},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1596122064,"post_id":63111380,"comment_id":111716240,"body_markdown":"`$.data.fruit[?(&#39;active&#39; in @..role..role)].objectType`. Please write an answer so that I can accept it. Without your input I couldn&#39;t have made it. No Gatling implementation was needed. In fact, I couldn&#39;t find it:)","body":"<code>$.data.fruit[?(&#39;active&#39; in @..role..role)].objectType</code>. Please write an answer so that I can accept it. Without your input I couldn&#39;t have made it. No Gatling implementation was needed. In fact, I couldn&#39;t find it:)"},{"owner":{"account_id":13075955,"reputation":24580,"user_id":9448090,"display_name":"Jack Fleeting"},"score":0,"creation_date":1596122173,"post_id":63111380,"comment_id":111716280,"body_markdown":"That&#39;s what I dislike about jsonpath - it&#39;s so finicky.. See below.","body":"That&#39;s what I dislike about jsonpath - it&#39;s so finicky.. See below."}],"answers":[{"tags":[],"owner":{"account_id":19085036,"reputation":1,"user_id":13936490,"display_name":"Micheal "},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1595843472,"creation_date":1595843472,"answer_id":63112769,"question_id":63111380,"body_markdown":"On the off chance that it is a number, progressive levels in the stringification will each be indented by this many space characters (up to 10). \r\n\r\nIn the event that it is a string, progressive levels will be indented by this string (or its initial ten characters).","title":"JSONPath get value from map within a table","body":"<p>On the off chance that it is a number, progressive levels in the stringification will each be indented by this many space characters (up to 10).</p>\n<p>In the event that it is a string, progressive levels will be indented by this string (or its initial ten characters).</p>\n"},{"tags":[],"owner":{"account_id":13075955,"reputation":24580,"user_id":9448090,"display_name":"Jack Fleeting"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596122136,"creation_date":1596122136,"answer_id":63176230,"question_id":63111380,"body_markdown":"At OP&#39;s request, here&#39;s the final, final answer!\r\n\r\n    $.data.fruit[?(&#39;active&#39; in @..role..role)].objectType","title":"JSONPath get value from map within a table","body":"<p>At OP's request, here's the final, final answer!</p>\n<pre><code>$.data.fruit[?('active' in @..role..role)].objectType\n</code></pre>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63176230,"answer_count":2,"score":1,"last_activity_date":1640788691,"creation_date":1595838259,"question_id":63111380,"body_markdown":"I have a JSON string as follows (simplified):\r\n\r\n    {\r\n       &quot;data&quot;:{\r\n          &quot;fruit&quot;:[\r\n             {\r\n                &quot;role&quot;:[\r\n                   {\r\n                      &quot;role&quot;:&quot;passive&quot;\r\n                   }\r\n                ],\r\n                &quot;objectType&quot;:&quot;apple&quot;\r\n             },\r\n             {\r\n                &quot;role&quot;:[\r\n                   {\r\n                      &quot;role&quot;:&quot;active&quot;\r\n                   }\r\n                ],\r\n                &quot;objectType&quot;:&quot;orange&quot;\r\n             }\r\n          ]\r\n       }\r\n    }\r\n\r\nI would like to get `objectType` value where role is `active`. In this example the result would be `orange`. I&#39;ve come up with the following code, however it doesn&#39;t return anything. How do I fix this?\r\n\r\n    $.data.fruit[?(@.role.role == &#39;active&#39;)]\r\n\r\n\r\nNote that the number of elements in fruit array may vary and there is no guarantee that the last element would be correct.","title":"JSONPath get value from map within a table","body":"<p>I have a JSON string as follows (simplified):</p>\n<pre><code>{\n   &quot;data&quot;:{\n      &quot;fruit&quot;:[\n         {\n            &quot;role&quot;:[\n               {\n                  &quot;role&quot;:&quot;passive&quot;\n               }\n            ],\n            &quot;objectType&quot;:&quot;apple&quot;\n         },\n         {\n            &quot;role&quot;:[\n               {\n                  &quot;role&quot;:&quot;active&quot;\n               }\n            ],\n            &quot;objectType&quot;:&quot;orange&quot;\n         }\n      ]\n   }\n}\n</code></pre>\n<p>I would like to get <code>objectType</code> value where role is <code>active</code>. In this example the result would be <code>orange</code>. I've come up with the following code, however it doesn't return anything. How do I fix this?</p>\n<pre><code>$.data.fruit[?(@.role.role == 'active')]\n</code></pre>\n<p>Note that the number of elements in fruit array may vary and there is no guarantee that the last element would be correct.</p>\n"},{"tags":["java","data-structures","linked-list"],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640786238,"creation_date":1640786238,"answer_id":70520421,"question_id":70520152,"body_markdown":"The concept of SinglyLinkedLists is, that you have one Node, which is denoted as `head` and from there you can traverse the next notes until you hit an empty node (in some cases there is an predefined guardian instead).\r\n\r\n    public class Node{\r\n      public int value;\r\n      public Node next;\r\n    }\r\n    \r\n    public class SinglyLinkedList{\r\n      public Node head;\r\n      private Node guardian; // no one needs to know the guardian\r\n    \r\n      public SinglyLinkedList(){\r\n        guardian = new Node();\r\n        head = guardian;\r\n      }\r\n    \r\n      public void add(int inputvalue){\r\n        // Create and set new node\r\n        Node newNode = new Node();\r\n        newNode.value(inputvalue);\r\n    \r\n        // append it to the chain\r\n        newNode.next = head.next;\r\n    \r\n        // the newly added node is now the new head\r\n        head = newNode;\r\n      }\r\n    \r\n      public boolean contains(int valueToCheck){\r\n      Node iterator = head;  \r\n      while(iterator != guardian){\r\n        if (iterator.value == valueToCheck){\r\n          return true;\r\n        }\r\n        iterator = iterator.next;\r\n      }\r\n    \r\n        return false;\r\n      }\r\n    }\r\n\r\nIn the initialization you don&#39;t set any values.\r\n\r\nA `DoublyLinkedList` works similiar except, that you can append, and search from both directions. In those situations you have to be careful to not undershoot while traversing. But you can use the same guardian for both thresholds.","title":"Why is sLL.node.value not working but sLL.head.value shows correct output in singly linked list with only one node in Java? Unclear of concept","body":"<p>The concept of SinglyLinkedLists is, that you have one Node, which is denoted as <code>head</code> and from there you can traverse the next notes until you hit an empty node (in some cases there is an predefined guardian instead).</p>\n<pre><code>public class Node{\n  public int value;\n  public Node next;\n}\n\npublic class SinglyLinkedList{\n  public Node head;\n  private Node guardian; // no one needs to know the guardian\n\n  public SinglyLinkedList(){\n    guardian = new Node();\n    head = guardian;\n  }\n\n  public void add(int inputvalue){\n    // Create and set new node\n    Node newNode = new Node();\n    newNode.value(inputvalue);\n\n    // append it to the chain\n    newNode.next = head.next;\n\n    // the newly added node is now the new head\n    head = newNode;\n  }\n\n  public boolean contains(int valueToCheck){\n  Node iterator = head;  \n  while(iterator != guardian){\n    if (iterator.value == valueToCheck){\n      return true;\n    }\n    iterator = iterator.next;\n  }\n\n    return false;\n  }\n}\n</code></pre>\n<p>In the initialization you don't set any values.</p>\n<p>A <code>DoublyLinkedList</code> works similiar except, that you can append, and search from both directions. In those situations you have to be careful to not undershoot while traversing. But you can use the same guardian for both thresholds.</p>\n"},{"tags":[],"owner":{"account_id":9239948,"reputation":279,"user_id":6863495,"display_name":"Urvashi Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640787876,"creation_date":1640787876,"answer_id":70520726,"question_id":70520152,"body_markdown":"\r\n\r\n1. &gt; System.out.println(sLL.node.value) shows Symbol not found? Is is because Node node=new Node(); creates node object that is local variable while head is instance variable that can be accessed by sLL object \r\n\r\n\r\nYes. Objects can access instance variables and not local variables, here `node` is the instance variable.\r\n\r\n2. &gt; If it is really a local variable will the node object be stored on heap memory or stack memory\r\n\r\nLocal variables are stored on Stack Memory, the stack objects pop as per the  program execution.\r\n\r\n3. &gt; Will start be stored in stack or heap memory?\r\n\r\nThere is no start but head, and the value of head will keep changing as per the elements added in the list. `head` itself will be stored on heap memory as it is the instance variable.\r\n\r\n4. &gt; Also,what does (sLL.head.value) actually do?\r\n\r\nIt will fetch the value (int) of the node which is currently assigned as `head`","title":"Why is sLL.node.value not working but sLL.head.value shows correct output in singly linked list with only one node in Java? Unclear of concept","body":"<ol>\n<li>\n<blockquote>\n<p>System.out.println(sLL.node.value) shows Symbol not found? Is is because Node node=new Node(); creates node object that is local variable while head is instance variable that can be accessed by sLL object</p>\n</blockquote>\n</li>\n</ol>\n<p>Yes. Objects can access instance variables and not local variables, here <code>node</code> is the instance variable.</p>\n<ol start=\"2\">\n<li>\n<blockquote>\n<p>If it is really a local variable will the node object be stored on heap memory or stack memory</p>\n</blockquote>\n</li>\n</ol>\n<p>Local variables are stored on Stack Memory, the stack objects pop as per the  program execution.</p>\n<ol start=\"3\">\n<li>\n<blockquote>\n<p>Will start be stored in stack or heap memory?</p>\n</blockquote>\n</li>\n</ol>\n<p>There is no start but head, and the value of head will keep changing as per the elements added in the list. <code>head</code> itself will be stored on heap memory as it is the instance variable.</p>\n<ol start=\"4\">\n<li>\n<blockquote>\n<p>Also,what does (sLL.head.value) actually do?</p>\n</blockquote>\n</li>\n</ol>\n<p>It will fetch the value (int) of the node which is currently assigned as <code>head</code></p>\n"}],"owner":{"display_name":"user17788823"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70520726,"answer_count":2,"score":2,"last_activity_date":1640787876,"creation_date":1640784774,"question_id":70520152,"body_markdown":"**I am a beginner in java** and have just started working with linked lists. I have written a simple program in java that creates a linked list having only one node with head and tail pointing to the same single node. However, I had some doubts that needed to be clarified and would be grateful to anyone who can clear them.\r\n\r\nHere is the code:\r\n\r\n1. Node.java class\r\n```\r\npublic class Node{\r\n  public int value;//Declared value field for node \r\n  public Node next;//Declared link to next node in java\r\n}\r\n```\r\n\r\n2. SinglyLinkedList.java class\r\n```\r\n\r\npublic class SinglyLinkedList{\r\n  public  Node head;//DEclared head node\r\n  public  Node tail;//Declared tail node\r\n\r\n  public Node createsSinglyLinkedList(int inputvalue){\r\n    head=new Node();//Memory allocation using new operator\r\n    tail=new Node();//Memory allocation using new operator\r\n    Node node=new Node();//Creation of node object and allocation of memory using new operator \r\n    node.next=null;//Since there is single node it point to null as there are no nodes after it\r\n    node.value=inputvalue;//input value field\r\n    head=node;//Memory address of node allocated to next of head as it id first element.\r\n    tail=node;//Memory address of node allocated to next of tail as it is also last element.\r\n\r\n    return head;\r\n  } \r\n}\r\n```\r\n\r\n3. Main.java class\r\n```\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    SinglyLinkedList sLL=new SinglyLinkedList();//sLL object creation and memory allocation\r\n    sLL.createsSinglyLinkedList(5);//Value inserted\r\n    System.out.println(sLL.head.value);//Linked list printed\r\n  }\r\n}\r\n```\r\n\r\nHere are my questions:\r\n\r\n1.System.out.println(sLL.head.value); gives correct output 5. However, System.out.println(sLL.node.value) shows Symbol not found? Is is because Node node=new Node();\r\ncreates node object that is local variable while head is instance variable that can be accessed by sLL object .\r\n\r\n2.If it is really a local variable will the node object be stored on heap memory or stack memory as read somewhere that local variables are stored on stack memory.\r\n\r\n3.Will start be stored in stack or heap memory?\r\n\r\n4.Are these Statements correct:\r\n\r\n head=node;//Memory address of node allocated to next of head as it id first element.\r\n\r\n tail=node;//Memory address of node allocated to next of tail as it is also last element.\r\n\r\n5.Also,what does (sLL.head.value) actually do?\r\n","title":"Why is sLL.node.value not working but sLL.head.value shows correct output in singly linked list with only one node in Java? Unclear of concept","body":"<p><strong>I am a beginner in java</strong> and have just started working with linked lists. I have written a simple program in java that creates a linked list having only one node with head and tail pointing to the same single node. However, I had some doubts that needed to be clarified and would be grateful to anyone who can clear them.</p>\n<p>Here is the code:</p>\n<ol>\n<li>Node.java class</li>\n</ol>\n<pre><code>public class Node{\n  public int value;//Declared value field for node \n  public Node next;//Declared link to next node in java\n}\n</code></pre>\n<ol start=\"2\">\n<li>SinglyLinkedList.java class</li>\n</ol>\n<pre><code>\npublic class SinglyLinkedList{\n  public  Node head;//DEclared head node\n  public  Node tail;//Declared tail node\n\n  public Node createsSinglyLinkedList(int inputvalue){\n    head=new Node();//Memory allocation using new operator\n    tail=new Node();//Memory allocation using new operator\n    Node node=new Node();//Creation of node object and allocation of memory using new operator \n    node.next=null;//Since there is single node it point to null as there are no nodes after it\n    node.value=inputvalue;//input value field\n    head=node;//Memory address of node allocated to next of head as it id first element.\n    tail=node;//Memory address of node allocated to next of tail as it is also last element.\n\n    return head;\n  } \n}\n</code></pre>\n<ol start=\"3\">\n<li>Main.java class</li>\n</ol>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    SinglyLinkedList sLL=new SinglyLinkedList();//sLL object creation and memory allocation\n    sLL.createsSinglyLinkedList(5);//Value inserted\n    System.out.println(sLL.head.value);//Linked list printed\n  }\n}\n</code></pre>\n<p>Here are my questions:</p>\n<p>1.System.out.println(sLL.head.value); gives correct output 5. However, System.out.println(sLL.node.value) shows Symbol not found? Is is because Node node=new Node();\ncreates node object that is local variable while head is instance variable that can be accessed by sLL object .</p>\n<p>2.If it is really a local variable will the node object be stored on heap memory or stack memory as read somewhere that local variables are stored on stack memory.</p>\n<p>3.Will start be stored in stack or heap memory?</p>\n<p>4.Are these Statements correct:</p>\n<p>head=node;//Memory address of node allocated to next of head as it id first element.</p>\n<p>tail=node;//Memory address of node allocated to next of tail as it is also last element.</p>\n<p>5.Also,what does (sLL.head.value) actually do?</p>\n"},{"tags":["java","phone-number","libphonenumber"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1640785679,"post_id":70520184,"comment_id":124658123,"body_markdown":"In most countries, a leading &quot;0&quot; is part of the national phone number. Guess, the library you are using, does exactly so.","body":"In most countries, a leading &quot;0&quot; is part of the national phone number. Guess, the library you are using, does exactly so."},{"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"score":0,"creation_date":1640786317,"post_id":70520184,"comment_id":124658317,"body_markdown":"&quot;In written phone numbers, it is not uncommon to see the area code preceded by a &#39;0&#39;. The &#39;0&#39; is India&#39;s national direct dialing (NDD) code used for making domestic long distance calls. If your are making an inbound international call and have a number starting with &#39;0&#39;, you&#39;ll need to remove it.&quot; - the international number does not have the 0 (between the +91 and 97), your local number has a leading 0, so it seems ok to me. But you could also remove the leading 0 from a national India number, if you want.","body":"&quot;In written phone numbers, it is not uncommon to see the area code preceded by a &#39;0&#39;. The &#39;0&#39; is India&#39;s national direct dialing (NDD) code used for making domestic long distance calls. If your are making an inbound international call and have a number starting with &#39;0&#39;, you&#39;ll need to remove it.&quot; - the international number does not have the 0 (between the +91 and 97), your local number has a leading 0, so it seems ok to me. But you could also remove the leading 0 from a national India number, if you want."}],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640786210,"creation_date":1640786210,"answer_id":70520416,"question_id":70520184,"body_markdown":"IMHO you must set the correct number format.\r\nHave a look to ```PhoneNumberUtil.PhoneNumberFormat:```\r\nINTERNATIONAL and NATIONAL formats are consistent with the definition in ITU-T Recommendation E123.\r\n\r\nDetailed information is in the [Javadoc of class PhoneNumberUtil][1]\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.googlecode.libphonenumber/libphonenumber/8.4.1/com/google/i18n/phonenumbers/PhoneNumberUtil.html","title":"Convert an international phone number into a national number","body":"<p>IMHO you must set the correct number format.\nHave a look to <code>PhoneNumberUtil.PhoneNumberFormat:</code>\nINTERNATIONAL and NATIONAL formats are consistent with the definition in ITU-T Recommendation E123.</p>\n<p>Detailed information is in the <a href=\"https://www.javadoc.io/doc/com.googlecode.libphonenumber/libphonenumber/8.4.1/com/google/i18n/phonenumbers/PhoneNumberUtil.html\" rel=\"nofollow noreferrer\">Javadoc of class PhoneNumberUtil</a></p>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640786283,"creation_date":1640786283,"answer_id":70520431,"question_id":70520184,"body_markdown":"In many countries you should write the 0 before the phone number , i think that the library will give you the correct format used in the given country.\r\n\r\nIf your choice is to delete the first 0 for all the phone numbers you can just replace the first 0 with a blank &quot;&quot; :\r\n\r\n    var phoneNumberUtil = PhoneNumberUtil.getInstance();\r\n    var phoneNumber = phoneNumberUtil.parse(internationalPhoneNumber, null);\r\n    var formattedPhoneNumber = phoneNumberUtil.format(phoneNumber, NATIONAL).replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n    if(formattedPhoneNumber.startsWith(&quot;0&quot;))\r\n\t\t\t formattedPhoneNumber=formattedPhoneNumber.substring(1);","title":"Convert an international phone number into a national number","body":"<p>In many countries you should write the 0 before the phone number , i think that the library will give you the correct format used in the given country.</p>\n<p>If your choice is to delete the first 0 for all the phone numbers you can just replace the first 0 with a blank &quot;&quot; :</p>\n<pre><code>var phoneNumberUtil = PhoneNumberUtil.getInstance();\nvar phoneNumber = phoneNumberUtil.parse(internationalPhoneNumber, null);\nvar formattedPhoneNumber = phoneNumberUtil.format(phoneNumber, NATIONAL).replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\nif(formattedPhoneNumber.startsWith(&quot;0&quot;))\n         formattedPhoneNumber=formattedPhoneNumber.substring(1);\n</code></pre>\n"}],"owner":{"account_id":225235,"reputation":6429,"user_id":485608,"accept_rate":50,"display_name":"M. Abbas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1490,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1640787860,"creation_date":1640784929,"question_id":70520184,"body_markdown":"I&#39;m using the [`libphonenumber`](https://github.com/google/libphonenumber) google library to convert an international phone number into a national number.\r\n\r\n```\r\nvar phoneNumberUtil = PhoneNumberUtil.getInstance();\r\nvar phoneNumber = phoneNumberUtil.parse(internationalPhoneNumber, null);\r\nvar formattedPhoneNumber = phoneNumberUtil.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.NATIONAL).replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n```\r\n\r\nAn example of an `internationalPhoneNumber` is &quot;+919744012345&quot;\r\n\r\nThe `formattedPhoneNumber` I am expecting is &quot;9744012345&quot; ([See the Mobile telephone numbering in India](https://en.wikipedia.org/wiki/Mobile_telephone_numbering_in_India)), but instead, I am getting &quot;**0**9744012345&quot; with a leading zero.\r\n\r\nHow to convert the international phone number correctly?","title":"Convert an international phone number into a national number","body":"<p>I'm using the <a href=\"https://github.com/google/libphonenumber\" rel=\"nofollow noreferrer\"><code>libphonenumber</code></a> google library to convert an international phone number into a national number.</p>\n<pre><code>var phoneNumberUtil = PhoneNumberUtil.getInstance();\nvar phoneNumber = phoneNumberUtil.parse(internationalPhoneNumber, null);\nvar formattedPhoneNumber = phoneNumberUtil.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.NATIONAL).replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\n</code></pre>\n<p>An example of an <code>internationalPhoneNumber</code> is &quot;+919744012345&quot;</p>\n<p>The <code>formattedPhoneNumber</code> I am expecting is &quot;9744012345&quot; (<a href=\"https://en.wikipedia.org/wiki/Mobile_telephone_numbering_in_India\" rel=\"nofollow noreferrer\">See the Mobile telephone numbering in India</a>), but instead, I am getting &quot;<strong>0</strong>9744012345&quot; with a leading zero.</p>\n<p>How to convert the international phone number correctly?</p>\n"},{"tags":["java","spring-boot","docker","feign"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640691691,"post_id":70506440,"comment_id":124633831,"body_markdown":"Not sure if this is the root cause, but in the `curl`-command you use `--header &#39;Authorization: ${Authorization}&#39;`  while in the `@GetMapping` you use `&quot;Authorization=${authorization}&quot;`.","body":"Not sure if this is the root cause, but in the <code>curl</code>-command you use <code>--header &#39;Authorization: ${Authorization}&#39;</code>  while in the <code>@GetMapping</code> you use <code>&quot;Authorization=${authorization}&quot;</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640691801,"post_id":70506440,"comment_id":124633868,"body_markdown":"Also, I fail to see where the `emailcheck-e`-part of the path is defined in the `@GetMapping`.","body":"Also, I fail to see where the <code>emailcheck-e</code>-part of the path is defined in the <code>@GetMapping</code>."},{"owner":{"account_id":422416,"reputation":41,"user_id":801178,"display_name":"arkhadi"},"score":0,"creation_date":1640694811,"post_id":70506440,"comment_id":124634810,"body_markdown":"The &quot;=&quot; is the way to map headers for feign. The emailcheck part is encoded as part of the URl in the java code. When I make the changes to hide the real URL I made a mistake and use the same ${url} with different scope, in the real code the &quot;https://${url}/emailcheck-e&quot; it is the same as the &quot;value = ${url}&quot; in the java code.","body":"The &quot;=&quot; is the way to map headers for feign. The emailcheck part is encoded as part of the URl in the java code. When I make the changes to hide the real URL I made a mistake and use the same ${url} with different scope, in the real code the &quot;https://${url}/emailcheck-e&quot; it is the same as the &quot;value = ${url}&quot; in the java code."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640694980,"post_id":70506440,"comment_id":124634872,"body_markdown":"The point with the headers was aimed at case-sensitivity (`${Authorization}` vs. `${authorization}`)","body":"The point with the headers was aimed at case-sensitivity (<code>${Authorization}</code> vs. <code>${authorization}</code>)"},{"owner":{"account_id":422416,"reputation":41,"user_id":801178,"display_name":"arkhadi"},"score":0,"creation_date":1640761354,"post_id":70506440,"comment_id":124651013,"body_markdown":"Sorry, I didn&#39;t get it that way. Anyway, that difference in casing was added by me when modifying to call to hide the data. Both of them are populated with the same Authorization info.","body":"Sorry, I didn&#39;t get it that way. Anyway, that difference in casing was added by me when modifying to call to hide the data. Both of them are populated with the same Authorization info."}],"answers":[{"tags":[],"owner":{"account_id":19212672,"reputation":36,"user_id":14038150,"display_name":"Hiero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640692285,"creation_date":1640692285,"answer_id":70506649,"question_id":70506440,"body_markdown":"I think the problem might be in the connection to the external API from a vm. When you start a DockerContainer you can specify the ports beeing map to from the vm to your localmachine using the `-p` Parameter. For detailed information you may wanna check the docs: https://docs.docker.com/engine/reference/commandline/port/ ","title":"Java &amp; Docker app can not hit external API","body":"<p>I think the problem might be in the connection to the external API from a vm. When you start a DockerContainer you can specify the ports beeing map to from the vm to your localmachine using the <code>-p</code> Parameter. For detailed information you may wanna check the docs: <a href=\"https://docs.docker.com/engine/reference/commandline/port/\" rel=\"nofollow noreferrer\">https://docs.docker.com/engine/reference/commandline/port/</a></p>\n"},{"tags":[],"owner":{"account_id":422416,"reputation":41,"user_id":801178,"display_name":"arkhadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640787043,"creation_date":1640787043,"answer_id":70520558,"question_id":70506440,"body_markdown":"We managed to fix it by adding the proxy server config to the feign config.\r\nApparently even when the proxy was set to work for the VM &amp; the docker container the java code needed it explicitly.","title":"Java &amp; Docker app can not hit external API","body":"<p>We managed to fix it by adding the proxy server config to the feign config.\nApparently even when the proxy was set to work for the VM &amp; the docker container the java code needed it explicitly.</p>\n"}],"owner":{"account_id":422416,"reputation":41,"user_id":801178,"display_name":"arkhadi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640787043,"creation_date":1640691156,"question_id":70506440,"body_markdown":"I have a problem connecting to an external API from a Java application built using Spring boot and feign.\r\nThe application is deployed to a VM in a docker container.\r\nI&#39;m trying to hit an external service endpoint to retrieve some data with no luck so far.\r\n\r\nI have executed the same command with curl both from the VM command line and from inside the docker container also from command line but when trying to hit it from the java code I just receive a timeout.\r\n\r\nAny ideas about what can be happening, apparently the hosts file and proxy are correct giventhat I can hit the endpoint via curl, so I guess I&#39;m missing something in the code itself or the setup for java.\r\n\r\n    @GetMapping(value = &quot;${url}&quot;, headers = {\r\n                &quot;X-API-Key=${apiKey}&quot;,\r\n                &quot;Authorization=${authorization}&quot;,\r\n                &quot;Accept=application/json&quot;,\r\n                &quot;Content-Type=application/json; charset=utf-8&quot;\r\n        })\r\n        CheckResponse checkEmail(@RequestParam(&quot;email&quot;) String email) throws FeignClientException;\r\n\r\nThe curl request that works from the docker and VM.\r\n\r\n    curl --location --request GET &#39;https://${url}/emailcheck-e?email=test@email.com&#39; --header &#39;X-API-Key: ${apiKey}&#39; --header &#39;Content-Type: application/json; charset=utf-8&#39; --header &#39;Accept: application/json&#39; --header &#39;Authorization: ${Authorization}&#39;","title":"Java &amp; Docker app can not hit external API","body":"<p>I have a problem connecting to an external API from a Java application built using Spring boot and feign.\nThe application is deployed to a VM in a docker container.\nI'm trying to hit an external service endpoint to retrieve some data with no luck so far.</p>\n<p>I have executed the same command with curl both from the VM command line and from inside the docker container also from command line but when trying to hit it from the java code I just receive a timeout.</p>\n<p>Any ideas about what can be happening, apparently the hosts file and proxy are correct giventhat I can hit the endpoint via curl, so I guess I'm missing something in the code itself or the setup for java.</p>\n<pre><code>@GetMapping(value = &quot;${url}&quot;, headers = {\n            &quot;X-API-Key=${apiKey}&quot;,\n            &quot;Authorization=${authorization}&quot;,\n            &quot;Accept=application/json&quot;,\n            &quot;Content-Type=application/json; charset=utf-8&quot;\n    })\n    CheckResponse checkEmail(@RequestParam(&quot;email&quot;) String email) throws FeignClientException;\n</code></pre>\n<p>The curl request that works from the docker and VM.</p>\n<pre><code>curl --location --request GET 'https://${url}/emailcheck-e?email=test@email.com' --header 'X-API-Key: ${apiKey}' --header 'Content-Type: application/json; charset=utf-8' --header 'Accept: application/json' --header 'Authorization: ${Authorization}'\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","xpath"],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640786736,"creation_date":1640786736,"answer_id":70520506,"question_id":70520330,"body_markdown":"You can use partial id in the `xpath` with `contains` or `starts-with`\r\n\r\n    &quot;//*[starts-with(@id,&#39;mat-checkbox&#39;)]/label/div&quot;","title":"Integrating regex in selenium xpath?","body":"<p>You can use partial id in the <code>xpath</code> with <code>contains</code> or <code>starts-with</code></p>\n<pre><code>&quot;//*[starts-with(@id,'mat-checkbox')]/label/div&quot;\n</code></pre>\n"}],"owner":{"account_id":20099335,"reputation":31,"user_id":16017220,"display_name":"faith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70520506,"answer_count":1,"score":1,"last_activity_date":1640786769,"creation_date":1640785622,"question_id":70520330,"body_markdown":"[![enter image description here][1]][1]Hello I just start using selenium with java framework :\r\n\r\nI have this case : I need to count all the check boxes in my view which contains multiple pages (1,2,3) and in each web page i have a bunch of check boxes with the same xpath with different number see the exemple below:\r\n\r\nxpath fir the second checkbox in page 1 : `&quot;//*[@id=&#39;mat-checkbox-2&#39;]/label/div&quot;`\r\nxpath fir the second checkbox in page 40 : `//*[@id=&quot;mat-checkbox-57&quot;]/label/div&quot;`\r\n\r\n    driver.findElements(By.xpath(&quot;//*[@id=&#39;mat-checkbox-&quot; + regex +&quot;&#39;]/label/div&quot;)).size()\r\n\r\nHow can I count all the present checkboxes in my current view without refering to the order number ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Bsin.png","title":"Integrating regex in selenium xpath?","body":"<p><a href=\"https://i.stack.imgur.com/0Bsin.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Bsin.png\" alt=\"enter image description here\" /></a>Hello I just start using selenium with java framework :</p>\n<p>I have this case : I need to count all the check boxes in my view which contains multiple pages (1,2,3) and in each web page i have a bunch of check boxes with the same xpath with different number see the exemple below:</p>\n<p>xpath fir the second checkbox in page 1 : <code>&quot;//*[@id='mat-checkbox-2']/label/div&quot;</code>\nxpath fir the second checkbox in page 40 : <code>//*[@id=&quot;mat-checkbox-57&quot;]/label/div&quot;</code></p>\n<pre><code>driver.findElements(By.xpath(&quot;//*[@id='mat-checkbox-&quot; + regex +&quot;']/label/div&quot;)).size()\n</code></pre>\n<p>How can I count all the present checkboxes in my current view without refering to the order number ?</p>\n"},{"tags":["java","spring","maven","spring-mvc"],"comments":[{"owner":{"display_name":"user2173738"},"score":0,"creation_date":1382891517,"post_id":19620342,"comment_id":29126774,"body_markdown":"see http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven","body":"see <a href=\"http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\" title=\"how can i create an executable jar with dependencies using maven\">stackoverflow.com/questions/574594/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user2173738"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382891875,"creation_date":1382891875,"answer_id":19620515,"question_id":19620342,"body_markdown":"You are missing `maven-jar-plugin` in which you need to add `manifest` tag. ","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>You are missing <code>maven-jar-plugin</code> in which you need to add <code>manifest</code> tag. </p>\n"},{"tags":[],"owner":{"account_id":1592276,"reputation":6902,"user_id":1475346,"accept_rate":100,"display_name":"Martin Seeler"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1382892386,"creation_date":1382892386,"answer_id":19620600,"question_id":19620342,"body_markdown":"You have to specifiy it in your pom.xml - This will make your jar executable with all dependencies (replace `your.main.class`):\r\n\r\n    &lt;!-- setup jar manifest to executable with dependencies --&gt;\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;descriptorRefs&gt;\r\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;mainClass&gt;your.main.class&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;phase&gt;package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n           &lt;goal&gt;single&lt;/goal&gt;\r\n          &lt;/goals&gt;  \r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>You have to specifiy it in your pom.xml - This will make your jar executable with all dependencies (replace <code>your.main.class</code>):</p>\n\n<pre><code>&lt;!-- setup jar manifest to executable with dependencies --&gt;\n&lt;plugin&gt;\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;descriptorRefs&gt;\n      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n    &lt;/descriptorRefs&gt;\n    &lt;archive&gt;\n      &lt;manifest&gt;\n        &lt;mainClass&gt;your.main.class&lt;/mainClass&gt;\n      &lt;/manifest&gt;\n    &lt;/archive&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n       &lt;goal&gt;single&lt;/goal&gt;\n      &lt;/goals&gt;  \n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3838682,"reputation":2034,"user_id":3182406,"display_name":"Mradul Pandey"},"down_vote_count":1,"up_vote_count":158,"is_accepted":true,"score":157,"last_activity_date":1539505543,"creation_date":1441169400,"answer_id":32344823,"question_id":19620342,"body_markdown":"If you are working with Spring Boot this will solve your problem:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n &lt;/plugins&gt;\r\n\r\n[Reference Guide | Spring Boot Maven Plugin][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-maven-plugin.html","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>If you are working with Spring Boot this will solve your problem:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p></p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-maven-plugin.html\" rel=\"noreferrer\">Reference Guide | Spring Boot Maven Plugin</a></p>\n"},{"tags":[],"owner":{"account_id":5779069,"reputation":227,"user_id":4560313,"display_name":"Atish Narlawar"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1442259188,"creation_date":1442259188,"answer_id":32572509,"question_id":19620342,"body_markdown":"You might be missing Spring Boot Maven Plugin.\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>You might be missing Spring Boot Maven Plugin.</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3816019,"reputation":5175,"user_id":4412203,"accept_rate":62,"display_name":"Dror"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1554146767,"creation_date":1508175472,"answer_id":46776018,"question_id":19620342,"body_markdown":"For spring boot, I&#39;ve created a **MANIFEST.MF** file inside **META-INF** folder.\r\n\r\nin my STS IDE, I placed the META-INFO folder inside the **src/main/resources** folder\r\nlike so:\r\n\r\n[![screenshot from STS IDE (eclipse project)][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O6qf9.jpg\r\n\r\nthe content of the MANIFEST.MF file:\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: bankim\r\n    Implementation-Version: 1.5.6.RELEASE\r\n    Archiver-Version: Plexus Archiver\r\n    Built-By: Yourname\r\n    Implementation-Vendor-Id: com.bankim\r\n    Spring-Boot-Version: 1.5.6.RELEASE\r\n    Implementation-Vendor: Pivotal Software, Inc.\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n    Start-Class: com.bankim.BankimApplication\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib/\r\n    Created-By: Apache Maven 3.3.9\r\n    Build-Jdk: 1.8.0_131\r\n    Implementation-URL: http://projects.spring.io/spring-boot/bankim/\r\n\r\n 1. Every mention of &quot;bankim&quot;/&quot;Bankim&quot; refers to my project name, so replace it with your project name that \r\n 2. take special note of the &quot;Start-Class&quot; value.  it should contain the &quot;path&quot; to the class that has your **main** method.\r\n 3. the row:\r\n Main-Class: org.springframework.boot.loader.JarLaunchershould be left as-is.\r\n\r\n****the above manifest was created for me by using the &quot;spring-boot-maven-plugin&quot;  mentioned above by &quot;Mradul Pandey&quot; (answered Sep 2 &#39;15 at 4:50) \r\n\r\nHope this helps","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>For spring boot, I've created a <strong>MANIFEST.MF</strong> file inside <strong>META-INF</strong> folder.</p>\n\n<p>in my STS IDE, I placed the META-INFO folder inside the <strong>src/main/resources</strong> folder\nlike so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/O6qf9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6qf9.jpg\" alt=\"screenshot from STS IDE (eclipse project)\"></a></p>\n\n<p>the content of the MANIFEST.MF file:</p>\n\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: bankim\nImplementation-Version: 1.5.6.RELEASE\nArchiver-Version: Plexus Archiver\nBuilt-By: Yourname\nImplementation-Vendor-Id: com.bankim\nSpring-Boot-Version: 1.5.6.RELEASE\nImplementation-Vendor: Pivotal Software, Inc.\nMain-Class: org.springframework.boot.loader.JarLauncher\nStart-Class: com.bankim.BankimApplication\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nCreated-By: Apache Maven 3.3.9\nBuild-Jdk: 1.8.0_131\nImplementation-URL: http://projects.spring.io/spring-boot/bankim/\n</code></pre>\n\n<ol>\n<li>Every mention of \"bankim\"/\"Bankim\" refers to my project name, so replace it with your project name that </li>\n<li>take special note of the \"Start-Class\" value.  it should contain the \"path\" to the class that has your <strong>main</strong> method.</li>\n<li>the row:\nMain-Class: org.springframework.boot.loader.JarLaunchershould be left as-is.</li>\n</ol>\n\n<p>****the above manifest was created for me by using the \"spring-boot-maven-plugin\"  mentioned above by \"Mradul Pandey\" (answered Sep 2 '15 at 4:50) </p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":2043107,"reputation":111,"user_id":1823828,"display_name":"Musab Qamri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536931109,"creation_date":1536931109,"answer_id":52332887,"question_id":19620342,"body_markdown":"check the order of \r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\nit should be above \r\n\r\ndockerfile-maven-plugin else repackage will happen\r\n\r\nthis solved my problem of no main attribute in manifest.","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>check the order of </p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>it should be above </p>\n\n<p>dockerfile-maven-plugin else repackage will happen</p>\n\n<p>this solved my problem of no main attribute in manifest.</p>\n"},{"tags":[],"owner":{"account_id":1434422,"reputation":20414,"user_id":1356127,"accept_rate":80,"display_name":"veer7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560335003,"creation_date":1560335003,"answer_id":56559895,"question_id":19620342,"body_markdown":"I had the `spring-boot-maven-plugin` but still I was getting the error regarding main class.\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\nFinally I had to use the `maven-jar-plugin` and add the `mainClass`\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t  &lt;archive&gt;\r\n\t\t\t    &lt;manifest&gt;\r\n\t\t\t\t&lt;mainClass&gt;com.org.proj.App&lt;/mainClass&gt;\r\n\t\t\t    &lt;/manifest&gt;\r\n\t\t\t  &lt;/archive&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t    &lt;/plugin&gt;\r\n\r\nAnd it was good to go!","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>I had the <code>spring-boot-maven-plugin</code> but still I was getting the error regarding main class.</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Finally I had to use the <code>maven-jar-plugin</code> and add the <code>mainClass</code></p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n            &lt;mainClass&gt;com.org.proj.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>And it was good to go!</p>\n"},{"tags":[],"owner":{"account_id":5610419,"reputation":33,"user_id":4443377,"display_name":"tycoon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565353449,"creation_date":1565350327,"answer_id":57429167,"question_id":19620342,"body_markdown":"Use `spring-boot-maven-plugin`\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\nand be sure you set `property start-class` in the pom.xml\r\n\r\n    &lt;properties&gt;\r\n          &lt;!-- The main class to start by executing &quot;java -jar&quot; --&gt;\r\n          &lt;start-class&gt;org.example.DemoApplication&lt;/start-class&gt;\r\n    &lt;/properties&gt;\r\n\r\nAlternatively, the main class can be defined as the mainClass element of the spring-boot-maven-plugin in the plugin section of your pom.xml:\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;             \r\n                &lt;executions&gt;\r\n                     &lt;execution&gt;\r\n                         &lt;goals&gt;\r\n                             &lt;goal&gt;repackage&lt;/goal&gt;\r\n                         &lt;/goals&gt;\r\n                         &lt;configuration&gt;\r\n                             &lt;classifier&gt;spring-boot&lt;/classifier&gt;\r\n                             &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n                         &lt;/configuration&gt;\r\n                     &lt;/execution&gt;\r\n                 &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt; ","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>Use <code>spring-boot-maven-plugin</code></p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>and be sure you set <code>property start-class</code> in the pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n      &lt;!-- The main class to start by executing \"java -jar\" --&gt;\n      &lt;start-class&gt;org.example.DemoApplication&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>Alternatively, the main class can be defined as the mainClass element of the spring-boot-maven-plugin in the plugin section of your pom.xml:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;             \n            &lt;executions&gt;\n                 &lt;execution&gt;\n                     &lt;goals&gt;\n                         &lt;goal&gt;repackage&lt;/goal&gt;\n                     &lt;/goals&gt;\n                     &lt;configuration&gt;\n                         &lt;classifier&gt;spring-boot&lt;/classifier&gt;\n                         &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n                     &lt;/configuration&gt;\n                 &lt;/execution&gt;\n             &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1503896,"reputation":398,"user_id":1407752,"accept_rate":45,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584189775,"creation_date":1584189775,"answer_id":60682864,"question_id":19620342,"body_markdown":"`java -jar target/gs-serving-web-content-0.1.0.jar` command assumes the provided jar is *executable*. In an *executable* jar, the `main` method is defined in `MANIFEST.MF` file. Given that you don&#39;t have a `MANIFEST.MF` file, an additional command-line argument can be passed to specify the class containing the `main` method.\r\n\r\nA command like `java -cp target/gs-serving-web-content-0.1.0.jar com.pkg.subpkg.MainClass` would serve the purpose.","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p><code>java -jar target/gs-serving-web-content-0.1.0.jar</code> command assumes the provided jar is <em>executable</em>. In an <em>executable</em> jar, the <code>main</code> method is defined in <code>MANIFEST.MF</code> file. Given that you don't have a <code>MANIFEST.MF</code> file, an additional command-line argument can be passed to specify the class containing the <code>main</code> method.</p>\n\n<p>A command like <code>java -cp target/gs-serving-web-content-0.1.0.jar com.pkg.subpkg.MainClass</code> would serve the purpose.</p>\n"},{"tags":[],"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593785959,"creation_date":1593785959,"answer_id":62717324,"question_id":19620342,"body_markdown":"If your plugin configuration is like mine (`below`), then, use `mvn package spring-boot:repackage`.\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n    \t\t    &lt;plugin&gt;\r\n    \t\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t        &lt;executions&gt;\r\n    \t\t            &lt;execution&gt;\r\n    \t\t                &lt;goals&gt;\r\n    \t\t                    &lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t                &lt;/goals&gt;\r\n    \t\t            &lt;/execution&gt;\r\n    \t\t        &lt;/executions&gt;\r\n    \t\t    &lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nHappy learning.\r\n","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>If your plugin configuration is like mine (<code>below</code>), then, use <code>mvn package spring-boot:repackage</code>.</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Happy learning.</p>\n"},{"tags":[],"owner":{"account_id":13339069,"reputation":3,"user_id":9658269,"display_name":"bryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612963920,"creation_date":1612963920,"answer_id":66137872,"question_id":19620342,"body_markdown":"You need to set your main class on MANIFEST.MF file:\r\n\r\n    Main-Class: com.example.MainClassApplication","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>You need to set your main class on MANIFEST.MF file:</p>\n<pre><code>Main-Class: com.example.MainClassApplication\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7239302,"reputation":1479,"user_id":5523366,"display_name":"Rajat Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640786416,"creation_date":1640786416,"answer_id":70520455,"question_id":19620342,"body_markdown":"You can use \r\n\r\n&gt;**mvn package spring-boot:repackage**\r\n&gt; \r\n&gt; hit this command before target dir\r\nthen use jar file\r\n\r\n.","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>You can use</p>\n<blockquote>\n<p><strong>mvn package spring-boot:repackage</strong></p>\n<p>hit this command before target dir\nthen use jar file</p>\n</blockquote>\n<p>.</p>\n"}],"owner":{"account_id":422651,"reputation":20422,"user_id":801544,"accept_rate":97,"display_name":"Simone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81236,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":32344823,"answer_count":12,"score":60,"last_activity_date":1640786416,"creation_date":1382890857,"question_id":19620342,"body_markdown":"I have successfully built my Spring MVC project with `mvn clean package` by following [this tutorial][1].\r\n\r\nNow I am trying to run the service with:\r\n\r\n    mvn clean package &amp;&amp; java -jar target/gs-serving-web-content-0.1.0.jar\r\n\r\nBut I get this error:\r\n\r\n**Failed to load Main-Class manifest attribute from\r\ntarget/gs-serving-web-content-0.1.0.jar**\r\n\r\nAm I missing something?\r\n\r\n\r\n  [1]: http://spring.io/guides/gs/serving-web-content/","title":"Failed to load Main-Class manifest attribute while running java -jar","body":"<p>I have successfully built my Spring MVC project with <code>mvn clean package</code> by following <a href=\"http://spring.io/guides/gs/serving-web-content/\" rel=\"noreferrer\">this tutorial</a>.</p>\n\n<p>Now I am trying to run the service with:</p>\n\n<pre><code>mvn clean package &amp;&amp; java -jar target/gs-serving-web-content-0.1.0.jar\n</code></pre>\n\n<p>But I get this error:</p>\n\n<p><strong>Failed to load Main-Class manifest attribute from\ntarget/gs-serving-web-content-0.1.0.jar</strong></p>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","reference","jvm","stack","super"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1640785028,"post_id":70520169,"comment_id":124657885,"body_markdown":"`super()` is a way of referencing methods defined in this object&#39;s inheritance hierarchy. The inheritance hierarchy is part of the class whose instance is referenced by `this`.","body":"<code>super()</code> is a way of referencing methods defined in this object&#39;s inheritance hierarchy. The inheritance hierarchy is part of the class whose instance is referenced by <code>this</code>."},{"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"score":0,"creation_date":1640785241,"post_id":70520169,"comment_id":124657956,"body_markdown":"I was referring to the reference and not the method","body":"I was referring to the reference and not the method"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640786172,"creation_date":1640786172,"answer_id":70520410,"question_id":70520169,"body_markdown":"There is no &quot;super&quot; reference.\r\n\r\nWhen you do:\r\n\r\n    super.foo()\r\n\r\nYou &quot;seem&quot; to be calling `foo` on an object called &quot;super&quot;, but that&#39;s merely Java&#39;s syntax, and doesn&#39;t have to reflect what&#39;s happening under the hood. When this call is translated, it is translated to a [`invokespecial`][1] instruction, that invokes the superclass&#39;s `foo` method.\r\n\r\nCompare this to a `this.foo()` call, which translates to a [`invokevirtual`][2] instruction. Unlike `invokespecial`, this will do dynamic dispatch, selecting the right method to call, depending on the runtime type of `this`.\r\n\r\nNote that in both cases, there is a `aload_0` instruction before invoking the method, loading the `this` reference onto the stack.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.invokespecial\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.invokevirtual","title":"Where is the super reference in a Java instance method&#39;s stack frame?","body":"<p>There is no &quot;super&quot; reference.</p>\n<p>When you do:</p>\n<pre><code>super.foo()\n</code></pre>\n<p>You &quot;seem&quot; to be calling <code>foo</code> on an object called &quot;super&quot;, but that's merely Java's syntax, and doesn't have to reflect what's happening under the hood. When this call is translated, it is translated to a <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.invokespecial\" rel=\"nofollow noreferrer\"><code>invokespecial</code></a> instruction, that invokes the superclass's <code>foo</code> method.</p>\n<p>Compare this to a <code>this.foo()</code> call, which translates to a <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.invokevirtual\" rel=\"nofollow noreferrer\"><code>invokevirtual</code></a> instruction. Unlike <code>invokespecial</code>, this will do dynamic dispatch, selecting the right method to call, depending on the runtime type of <code>this</code>.</p>\n<p>Note that in both cases, there is a <code>aload_0</code> instruction before invoking the method, loading the <code>this</code> reference onto the stack.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640786374,"creation_date":1640786374,"answer_id":70520451,"question_id":70520169,"body_markdown":"The &#39;hidden this&#39; reference does not exist in they way you think.\r\n\r\nIf you call `super.toString()`, then `super` is resolved and stored to &#39;hidden this&#39;.\r\nSo once the stack frame of `runInstanceMethod()` - in our example `toString()` - is created, the &#39;hidden this&#39; *IS* the former super. \r\n\r\nIn other words, the &#39;hidden this&#39; always refers to the object that the current member method belongs to.","title":"Where is the super reference in a Java instance method&#39;s stack frame?","body":"<p>The 'hidden this' reference does not exist in they way you think.</p>\n<p>If you call <code>super.toString()</code>, then <code>super</code> is resolved and stored to 'hidden this'.\nSo once the stack frame of <code>runInstanceMethod()</code> - in our example <code>toString()</code> - is created, the 'hidden this' <em>IS</em> the former super.</p>\n<p>In other words, the 'hidden this' always refers to the object that the current member method belongs to.</p>\n"}],"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70520410,"answer_count":2,"score":0,"last_activity_date":1640786374,"creation_date":1640784867,"question_id":70520169,"body_markdown":"I read Bill Venner&#39;s excellent Inside the Java Virtual Machine book, which, in Chapter 5 explores in detail, among other things, the composition of a JVM&#39;s stack frame.\r\n(This chapter from the book also happens to be officially published here: https://www.artima.com/insidejvm/ed2/jvm8.html)\r\nApart from this book I studied relatively much the runtime data areas of some JVM&#39;s, especially their stack and heap.\r\n\r\nIn an instance method&#39;s stack frame, the local variables section constitutes an array of words which holds the **method arguments** (or parameters), **local variables** and the &quot;hidden&quot; **this reference**.\r\n\r\nWhat I&#39;d like to know is, **where is the super reference stored**, as that is *also always available in any non-static context* (i.e. instance method body or initializer block), except in the Object class. Is it stored somewhere alongside the reference &quot;this&quot;? If yes, then why is it seemingly always left out from stack frame representations/overviews? \r\n","title":"Where is the super reference in a Java instance method&#39;s stack frame?","body":"<p>I read Bill Venner's excellent Inside the Java Virtual Machine book, which, in Chapter 5 explores in detail, among other things, the composition of a JVM's stack frame.\n(This chapter from the book also happens to be officially published here: <a href=\"https://www.artima.com/insidejvm/ed2/jvm8.html\" rel=\"nofollow noreferrer\">https://www.artima.com/insidejvm/ed2/jvm8.html</a>)\nApart from this book I studied relatively much the runtime data areas of some JVM's, especially their stack and heap.</p>\n<p>In an instance method's stack frame, the local variables section constitutes an array of words which holds the <strong>method arguments</strong> (or parameters), <strong>local variables</strong> and the &quot;hidden&quot; <strong>this reference</strong>.</p>\n<p>What I'd like to know is, <strong>where is the super reference stored</strong>, as that is <em>also always available in any non-static context</em> (i.e. instance method body or initializer block), except in the Object class. Is it stored somewhere alongside the reference &quot;this&quot;? If yes, then why is it seemingly always left out from stack frame representations/overviews?</p>\n"},{"tags":["java","string","algorithm","function","lcs"],"comments":[{"owner":{"account_id":23766661,"reputation":37,"user_id":17781347,"display_name":"rusty theron"},"score":0,"creation_date":1640702797,"post_id":70507906,"comment_id":124637451,"body_markdown":"Please help me I am not able to find what should be the right approach to attempt this problem.","body":"Please help me I am not able to find what should be the right approach to attempt this problem."},{"owner":{"account_id":1901481,"reputation":2745,"user_id":1717259,"accept_rate":100,"display_name":"user1717259"},"score":0,"creation_date":1640703403,"post_id":70507906,"comment_id":124637640,"body_markdown":"Have a look at the Smith-Waterman algorithm. Although it&#39;s use is mainly in DNA sequence alignment, what you want here is to find the minimum number of inserts needed.","body":"Have a look at the Smith-Waterman algorithm. Although it&#39;s use is mainly in DNA sequence alignment, what you want here is to find the minimum number of inserts needed."},{"owner":{"account_id":23766661,"reputation":37,"user_id":17781347,"display_name":"rusty theron"},"score":0,"creation_date":1640705079,"post_id":70507906,"comment_id":124638181,"body_markdown":"I didn&#39;t understand Smith-Waterman algorithm. I&#39;m a high school student. try to keep it simple. @user1717259","body":"I didn&#39;t understand Smith-Waterman algorithm. I&#39;m a high school student. try to keep it simple. @user1717259"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1640705658,"post_id":70507906,"comment_id":124638365,"body_markdown":"Did you make this problem up or do you have any online link where we could test our solution?","body":"Did you make this problem up or do you have any online link where we could test our solution?"},{"owner":{"account_id":23766661,"reputation":37,"user_id":17781347,"display_name":"rusty theron"},"score":0,"creation_date":1640706084,"post_id":70507906,"comment_id":124638525,"body_markdown":"yes, it just came to my mind while solving Longest common substring problem. I don&#39;t have any such link","body":"yes, it just came to my mind while solving Longest common substring problem. I don&#39;t have any such link"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1640706698,"post_id":70507906,"comment_id":124638730,"body_markdown":"Ok, your constraints are too tight to come up with an efficient one. Brute force was to check for every substring in A and figure out the slices required and get the minimum out of them.","body":"Ok, your constraints are too tight to come up with an efficient one. Brute force was to check for every substring in A and figure out the slices required and get the minimum out of them."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1640706793,"post_id":70507906,"comment_id":124638764,"body_markdown":"Dynamic programming could be of help to cache the cuts required for a substring to improve time complexity.","body":"Dynamic programming could be of help to cache the cuts required for a substring to improve time complexity."},{"owner":{"account_id":23766661,"reputation":37,"user_id":17781347,"display_name":"rusty theron"},"score":0,"creation_date":1640707041,"post_id":70507906,"comment_id":124638868,"body_markdown":"I set the constraints myself if you think finding an efficient solution is difficult with these given constraints. you are free to change it. I just need an explanation to do this problem","body":"I set the constraints myself if you think finding an efficient solution is difficult with these given constraints. you are free to change it. I just need an explanation to do this problem"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1640709807,"post_id":70507906,"comment_id":124639848,"body_markdown":"@rustytheron With the solution I can think of, time complexity could get too high. So your string lengths could barely be more than 10-15 for it. Not sure if it would be relevant to you.","body":"@rustytheron With the solution I can think of, time complexity could get too high. So your string lengths could barely be more than 10-15 for it. Not sure if it would be relevant to you."},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1640779656,"post_id":70507906,"comment_id":124656091,"body_markdown":"the problem presented here might actually fit nicely as a https://codegolf.stackexchange.com/ exercise.","body":"the problem presented here might actually fit nicely as a <a href=\"https://codegolf.stackexchange.com/\">codegolf.stackexchange.com</a> exercise."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1640787588,"post_id":70507906,"comment_id":124658714,"body_markdown":"@rustytheron Can we make answer for your sample case as `6`? It is pretty confusing what you mean by a slice? Can we reframe the word as splits?","body":"@rustytheron Can we make answer for your sample case as <code>6</code>? It is pretty confusing what you mean by a slice? Can we reframe the word as splits?"}],"answers":[{"tags":[],"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640717036,"creation_date":1640716584,"answer_id":70511156,"question_id":70507906,"body_markdown":"* As mentioned by you in the comments for the constraints, I am proposing a **O(&lt;sup&gt;An&lt;/sup&gt;C&lt;sub&gt;Bn&lt;/sub&gt;)** solution where `An` is the length of the string `A` and `Bn` is the length of the string `B`. \r\n\r\n* Space complexity would be `O(An)` where `An` is the length of the string `A`.\r\n\r\n----\r\n\r\n**Algorithm:**\r\n\r\n* We first make simple checks with lengths of `A` and `B`. If `B` is longer, then return `-1`.  If both have same lengths, if they are same, return `0`, else `-1`.\r\n\r\n* For `A.length()` &gt; `B.length()`,\r\n  * We check for every possible subsequence with length of `A` with length of `B` number of 1&#39;s in it. For your example, the `bits` array as in my below code would initially look like,\r\n   \r\n\r\n        0 0 0 0 1 1 1 1 1 1\r\n  * This `bits` array basically means we are going to check _for every_ possible permutation of it including the above one to see if any subsequence of `A` matches this. The `1` bit should match with corresponding character in `B`, else it is a failed permutation. \r\n  * If any permutation of `bits` matches, we count the no. of cuts required to make it a success. For your example, the permutation of `bits` array would look like below,\r\n\r\n        0 0 1 1 1 0 1 0 1 1\r\n        -------------------\r\n        g a m e r g i r l s\r\n    \r\n  * As you can see above, we have 6 segments of `0`s and `1`s. In the end, we just take minimum of all of the possibilities and return it.\r\n\r\n**Main Code:**\r\n\r\n    int min_cuts = Integer.MAX_VALUE;\r\n    do{\r\n        int ptr = 0;\r\n        for(int i=0;i&lt;bits.length &amp;&amp; ptr &lt; B.length();++i){\r\n            if(bits[i] == &#39;1&#39;){\r\n                if(A.charAt(i) == B.charAt(ptr)){\r\n                    ptr++;\r\n                }else{\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        if(ptr == B.length()){\r\n            min_cuts = Math.min(min_cuts, getCuts(bits) - 1);\r\n        }\r\n    }while(nextPermutation(bits));\r\n\r\n\r\n[**Complete Online Demo**](https://onecompiler.com/java/3xnqbr62g)\r\n    \r\n    ","title":"minimum number of slice required to make strings equal","body":"<ul>\n<li><p>As mentioned by you in the comments for the constraints, I am proposing a <strong>O(<sup>An</sup>C<sub>Bn</sub>)</strong> solution where <code>An</code> is the length of the string <code>A</code> and <code>Bn</code> is the length of the string <code>B</code>.</p>\n</li>\n<li><p>Space complexity would be <code>O(An)</code> where <code>An</code> is the length of the string <code>A</code>.</p>\n</li>\n</ul>\n<hr />\n<p><strong>Algorithm:</strong></p>\n<ul>\n<li><p>We first make simple checks with lengths of <code>A</code> and <code>B</code>. If <code>B</code> is longer, then return <code>-1</code>.  If both have same lengths, if they are same, return <code>0</code>, else <code>-1</code>.</p>\n</li>\n<li><p>For <code>A.length()</code> &gt; <code>B.length()</code>,</p>\n<ul>\n<li><p>We check for every possible subsequence with length of <code>A</code> with length of <code>B</code> number of 1's in it. For your example, the <code>bits</code> array as in my below code would initially look like,</p>\n<pre><code>0 0 0 0 1 1 1 1 1 1\n</code></pre>\n</li>\n<li><p>This <code>bits</code> array basically means we are going to check <em>for every</em> possible permutation of it including the above one to see if any subsequence of <code>A</code> matches this. The <code>1</code> bit should match with corresponding character in <code>B</code>, else it is a failed permutation.</p>\n</li>\n<li><p>If any permutation of <code>bits</code> matches, we count the no. of cuts required to make it a success. For your example, the permutation of <code>bits</code> array would look like below,</p>\n<pre><code>0 0 1 1 1 0 1 0 1 1\n-------------------\ng a m e r g i r l s\n</code></pre>\n</li>\n<li><p>As you can see above, we have 6 segments of <code>0</code>s and <code>1</code>s. In the end, we just take minimum of all of the possibilities and return it.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>Main Code:</strong></p>\n<pre><code>int min_cuts = Integer.MAX_VALUE;\ndo{\n    int ptr = 0;\n    for(int i=0;i&lt;bits.length &amp;&amp; ptr &lt; B.length();++i){\n        if(bits[i] == '1'){\n            if(A.charAt(i) == B.charAt(ptr)){\n                ptr++;\n            }else{\n                break;\n            }\n        }\n    }\n\n    if(ptr == B.length()){\n        min_cuts = Math.min(min_cuts, getCuts(bits) - 1);\n    }\n}while(nextPermutation(bits));\n</code></pre>\n<p><a href=\"https://onecompiler.com/java/3xnqbr62g\" rel=\"nofollow noreferrer\"><strong>Complete Online Demo</strong></a></p>\n"}],"owner":{"account_id":23766661,"reputation":37,"user_id":17781347,"display_name":"rusty theron"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1640786267,"creation_date":1640698869,"question_id":70507906,"body_markdown":"Can somebody please help me out with this problem?\r\n\r\nwhat is the minimum number of slices required to make string A equal to string b?\r\n\r\nExample:\r\n\r\n```\r\nString A = &quot;gamergirls&quot;\r\nString B = &quot;merils&quot;\r\n```\r\n\r\nga **| **mer** |** g **| **i** |** r **| ls**  -&gt; 5 slices to make merils.\r\n\r\nConstraints : \r\n\r\n - characters in both the strings are lowercase.\r\n - A.length &amp;&amp; B.length &lt;= 10^5\r\n\r\n \r\n\r\n   \r\n","title":"minimum number of slice required to make strings equal","body":"<p>Can somebody please help me out with this problem?</p>\n<p>what is the minimum number of slices required to make string A equal to string b?</p>\n<p>Example:</p>\n<pre><code>String A = &quot;gamergirls&quot;\nString B = &quot;merils&quot;\n</code></pre>\n<p>ga <strong>| <strong>mer</strong> |</strong> g <strong>| <strong>i</strong> |</strong> r <strong>| ls</strong>  -&gt; 5 slices to make merils.</p>\n<p>Constraints :</p>\n<ul>\n<li>characters in both the strings are lowercase.</li>\n<li>A.length &amp;&amp; B.length &lt;= 10^5</li>\n</ul>\n"},{"tags":["java","mariadb","jsch"],"comments":[{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1640661024,"post_id":70501054,"comment_id":124627118,"body_markdown":"&quot;If I try to execute the program via another java program with jsch...&quot; where is the code for this other program that uses jsch? And what happens when your code reaches the `getConnection()` line? You say it stops working, but what actually happens? Do you get an error message or an exception? What does the error say?","body":"&quot;If I try to execute the program via another java program with jsch...&quot; where is the code for this other program that uses jsch? And what happens when your code reaches the <code>getConnection()</code> line? You say it stops working, but what actually happens? Do you get an error message or an exception? What does the error say?"},{"owner":{"account_id":23761082,"reputation":11,"user_id":17776480,"display_name":"nordisch"},"score":0,"creation_date":1640675723,"post_id":70501054,"comment_id":124629334,"body_markdown":"Hello, added the code and the second point is my problem. I don&#39;t get any message or exception. The only reason I know, that something happens at that line is, that I placed a `System.out.println(&quot;1&quot;)` befor and `System.out.println(&quot;2&quot;)` after the line and got only the 1 as a terminal output.","body":"Hello, added the code and the second point is my problem. I don&#39;t get any message or exception. The only reason I know, that something happens at that line is, that I placed a <code>System.out.println(&quot;1&quot;)</code> befor and <code>System.out.println(&quot;2&quot;)</code> after the line and got only the 1 as a terminal output."},{"owner":{"account_id":23761082,"reputation":11,"user_id":17776480,"display_name":"nordisch"},"score":0,"creation_date":1640683213,"post_id":70501054,"comment_id":124631402,"body_markdown":"haven&#39;t heard about plink, will try it out. The new line isn&#39;t in my program, don&#39;t know why stackoverflow show it this way.","body":"haven&#39;t heard about plink, will try it out. The new line isn&#39;t in my program, don&#39;t know why stackoverflow show it this way."},{"owner":{"account_id":23761082,"reputation":11,"user_id":17776480,"display_name":"nordisch"},"score":0,"creation_date":1640710638,"post_id":70501054,"comment_id":124640099,"body_markdown":"I tried to connect over another pi via a ssh script and now I get the message: No suitable driver found for jdbc:mariadb....\nSo could it be, that it won&#39;t use the Classpath from the .bashrc? \nThat would explain why it doesn&#39;t work","body":"I tried to connect over another pi via a ssh script and now I get the message: No suitable driver found for jdbc:mariadb.... So could it be, that it won&#39;t use the Classpath from the .bashrc?  That would explain why it doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":23761082,"reputation":11,"user_id":17776480,"display_name":"nordisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640786091,"creation_date":1640786091,"answer_id":70520400,"question_id":70501054,"body_markdown":"So the tip from Martin Prikryl was right. Jsch uses different bash files and so my program didn&#39;t work. \r\nMy solution: I programmed a small bash script:\r\n``` \r\n#!/bin/bash\r\nexport CLASSPATH=/home/pi/Documents/Java/mariadb-java-client-2.7.3.jar:.\r\n\r\njava connection_db \r\n```\r\n\r\nThan I changed the execute command from java connection_db to the bash script and now everything works fine.\r\n\r\n","title":"Connection between Java program and mariadb won&#39;t work if it is executed via jsch","body":"<p>So the tip from Martin Prikryl was right. Jsch uses different bash files and so my program didn't work.\nMy solution: I programmed a small bash script:</p>\n<pre><code>#!/bin/bash\nexport CLASSPATH=/home/pi/Documents/Java/mariadb-java-client-2.7.3.jar:.\n\njava connection_db \n</code></pre>\n<p>Than I changed the execute command from java connection_db to the bash script and now everything works fine.</p>\n"}],"owner":{"account_id":23761082,"reputation":11,"user_id":17776480,"display_name":"nordisch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641194871,"accepted_answer_id":70520400,"answer_count":1,"score":1,"last_activity_date":1640786091,"creation_date":1640644046,"question_id":70501054,"body_markdown":"So I try to start a Java program on a raspberryPi via jsch from my visual studio code on my pc. The program connects to a mariadb database and does a simple Select statement.\r\n\r\nIf I&#39;m logged in on the raspberryPi, via putty, the connection between the java program and mariadb works fine. If I try to execute the program via another java program with jsch, the program will start but won&#39;t execute the line  ```connection = verbindung_datenbank.getConnection(dbURL, user, password);```\r\nI placed some ```System.out.println();``` lines to find the line where the program stops working. Befor the line it worked, after that it didn&#39;t.\r\nWhat I don&#39;t understand is, why does the program work if I&#39;m logged in over putty but won&#39;t work if a program is loged in via SSH?\r\n\r\nHere the full code:\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.io.*;\r\nimport java.sql.*;\r\n\r\n\r\npublic class connection_db {\r\n\r\n    public static Connection getConnection(String dbURL, String user, String password) throws SQLException {\r\n\r\n        Connection connection = DriverManager.getConnection(dbURL, user, password);\r\n        connection.setAutoCommit(true);\r\n        return connection;\r\n    }\r\n\r\n    \r\n    public static void main(String[] args) {\r\n\r\n        Connection connection = null;\r\n\t\tInteger aId=null;\r\n        String dbURL = &quot;jdbc:mariadb://192.168.178.39:3306/temperature&quot;;\r\n        String user =  &quot;pi&quot;;\r\n        String password = &quot;test&quot;;\r\n\r\n        try {\r\n            connection = verbindung_datenbank.getConnection(dbURL, user, password);\r\n            String query = &quot;SELECT MAX(id) FROM table1&quot; ;\r\n            System.out.println(query);\r\n            Statement stmt = connection.createStatement();\r\n\t\t\tResultSet rs = stmt.executeQuery(query);\r\n\t\t\t\t\r\n\t\t\t\twhile(rs.next())\r\n                {\r\n\t\t\t\t\tInteger id = rs.getInt(&quot;MAX(id)&quot;);\r\n\t\t\t\t\tSystem.out.println(id);\r\n\t\t\t\t\taId = id;\r\n\t\t\t\t\t\r\n                }\r\n\t\t\t\r\n\t\t\tdouble temperature = -15;\r\n\r\n\t\t\tString query2 = &quot;UPDATE table1 SET theke_1 = &quot;+temperature +&quot; WHERE id = &quot;+ aId;\r\n\t\t\tSystem.out.println(query2);\r\n\t\t\tStatement stmt2 = connection.createStatement();\r\n\t\t\t\tstmt2.executeQuery(query2);\r\n\t\t\t\tstmt2.close();\r\n\t\t\t\t\r\n\r\n            \r\n        } catch (SQLException e) {\r\n           e.printStackTrace();\r\n        } finally {\r\n          // connection.close();\r\n        }\r\n\r\n    }\r\n} \r\n```\r\n\r\n\r\nHopefully someone can help me.\r\n\r\nEdit:\r\nthe code from the jsch program:\r\n\r\n```import com.jcraft.jsch.*;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\n    public class main_slave {\r\n\r\n        public static void main(String[] args) throws JSchException, InterruptedException, IOException{\r\n            String host = &quot;192.168.178.46&quot;;\r\n            String user = &quot;pi&quot;;\r\n            String password = &quot;password&quot;;\r\n                       \r\n                JSch jsch = new JSch();\r\n                Session session = jsch.getSession(user, host, 22);\r\n                session.setUserInfo(new main_slaveUserInfo(user, password));\r\n                session.connect();\r\n                Channel channel = session.openChannel(&quot;exec&quot;);\r\n                \r\n                InputStream in = channel.getInputStream();\r\n\r\n                ((ChannelExec) channel).setCommand(&quot;java \r\nconnection_db&quot;);  \r\n                          \r\n\r\n                channel.connect();\r\n\r\n               BufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n\r\n               String line;\r\n               while((line = reader.readLine()) != null) {\r\n                   System.out.println(line);\r\n               }\r\n            \r\n                channel.disconnect();\r\n                session.disconnect();\r\n            \r\n          \r\n\r\n\r\n                \r\n            \r\n        }\r\n    }```","title":"Connection between Java program and mariadb won&#39;t work if it is executed via jsch","body":"<p>So I try to start a Java program on a raspberryPi via jsch from my visual studio code on my pc. The program connects to a mariadb database and does a simple Select statement.</p>\n<p>If I'm logged in on the raspberryPi, via putty, the connection between the java program and mariadb works fine. If I try to execute the program via another java program with jsch, the program will start but won't execute the line  <code>connection = verbindung_datenbank.getConnection(dbURL, user, password);</code>\nI placed some <code>System.out.println();</code> lines to find the line where the program stops working. Befor the line it worked, after that it didn't.\nWhat I don't understand is, why does the program work if I'm logged in over putty but won't work if a program is loged in via SSH?</p>\n<p>Here the full code:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.io.*;\nimport java.sql.*;\n\n\npublic class connection_db {\n\n    public static Connection getConnection(String dbURL, String user, String password) throws SQLException {\n\n        Connection connection = DriverManager.getConnection(dbURL, user, password);\n        connection.setAutoCommit(true);\n        return connection;\n    }\n\n    \n    public static void main(String[] args) {\n\n        Connection connection = null;\n        Integer aId=null;\n        String dbURL = &quot;jdbc:mariadb://192.168.178.39:3306/temperature&quot;;\n        String user =  &quot;pi&quot;;\n        String password = &quot;test&quot;;\n\n        try {\n            connection = verbindung_datenbank.getConnection(dbURL, user, password);\n            String query = &quot;SELECT MAX(id) FROM table1&quot; ;\n            System.out.println(query);\n            Statement stmt = connection.createStatement();\n            ResultSet rs = stmt.executeQuery(query);\n                \n                while(rs.next())\n                {\n                    Integer id = rs.getInt(&quot;MAX(id)&quot;);\n                    System.out.println(id);\n                    aId = id;\n                    \n                }\n            \n            double temperature = -15;\n\n            String query2 = &quot;UPDATE table1 SET theke_1 = &quot;+temperature +&quot; WHERE id = &quot;+ aId;\n            System.out.println(query2);\n            Statement stmt2 = connection.createStatement();\n                stmt2.executeQuery(query2);\n                stmt2.close();\n                \n\n            \n        } catch (SQLException e) {\n           e.printStackTrace();\n        } finally {\n          // connection.close();\n        }\n\n    }\n} \n</code></pre>\n<p>Hopefully someone can help me.</p>\n<p>Edit:\nthe code from the jsch program:</p>\n<pre><code>\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\n\n    public class main_slave {\n\n        public static void main(String[] args) throws JSchException, InterruptedException, IOException{\n            String host = &quot;192.168.178.46&quot;;\n            String user = &quot;pi&quot;;\n            String password = &quot;password&quot;;\n                       \n                JSch jsch = new JSch();\n                Session session = jsch.getSession(user, host, 22);\n                session.setUserInfo(new main_slaveUserInfo(user, password));\n                session.connect();\n                Channel channel = session.openChannel(&quot;exec&quot;);\n                \n                InputStream in = channel.getInputStream();\n\n                ((ChannelExec) channel).setCommand(&quot;java \nconnection_db&quot;);  \n                          \n\n                channel.connect();\n\n               BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n\n               String line;\n               while((line = reader.readLine()) != null) {\n                   System.out.println(line);\n               }\n            \n                channel.disconnect();\n                session.disconnect();\n            \n          \n\n\n                \n            \n        }\n    }```\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1640786044,"creation_date":1525443174,"answer_id":50177015,"question_id":50175877,"body_markdown":"`Excel` provides conditional formatting rules based on formulas.\r\n\r\nThe formula `=AND(ISNUMBER($C1), $C1&gt;5)` returns `True` if the value in  `$C1` is numeric and greater than 5. If this formula is applied to the range `G1:L1000`, then each cell in this range will be true if the value in column `C` of the corresponding row fulfills that contition. That is because column `C` is fixated using `$C` in the formula. But the row numbers are not fixated and so are relative.\r\n\r\nExample using `apache poi`:\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    \r\n    import java.io.FileOutputStream;\r\n    \r\n    public class ConditionalFormatting {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      Workbook workbook = new XSSFWorkbook();\r\n    \r\n      Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\r\n      SheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\r\n    \r\n      ConditionalFormattingRule rule = sheetCF.createConditionalFormattingRule(&quot;AND(ISNUMBER($C1), $C1&gt;5)&quot;);\r\n      PatternFormatting fill = rule.createPatternFormatting();\r\n      fill.setFillBackgroundColor(IndexedColors.YELLOW.index);\r\n      fill.setFillPattern(PatternFormatting.SOLID_FOREGROUND);\r\n    \r\n      ConditionalFormattingRule[] cfRules = new ConditionalFormattingRule[]{rule};\r\n    \r\n      CellRangeAddress[] regions = new CellRangeAddress[]{CellRangeAddress.valueOf(&quot;G1:L1000&quot;)};\r\n    \r\n      sheetCF.addConditionalFormatting(regions, cfRules);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;ConditionalFormatting.xlsx&quot;);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n    \r\n     }\r\n    }\r\n\r\n\r\nNow if you put something in column `C` what is numeric and greater than 5, the cells in columns `G:L` will be filled yellow.\r\n\r\n","title":"Apache POI - Conditional formatting - need to set different cell range for rule and formatting","body":"<p><code>Excel</code> provides conditional formatting rules based on formulas.</p>\n<p>The formula <code>=AND(ISNUMBER($C1), $C1&gt;5)</code> returns <code>True</code> if the value in  <code>$C1</code> is numeric and greater than 5. If this formula is applied to the range <code>G1:L1000</code>, then each cell in this range will be true if the value in column <code>C</code> of the corresponding row fulfills that contition. That is because column <code>C</code> is fixated using <code>$C</code> in the formula. But the row numbers are not fixated and so are relative.</p>\n<p>Example using <code>apache poi</code>:</p>\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport org.apache.poi.ss.util.CellRangeAddress;\n\nimport java.io.FileOutputStream;\n\npublic class ConditionalFormatting {\n\n public static void main(String[] args) throws Exception {\n  Workbook workbook = new XSSFWorkbook();\n\n  Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\n  SheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\n\n  ConditionalFormattingRule rule = sheetCF.createConditionalFormattingRule(&quot;AND(ISNUMBER($C1), $C1&gt;5)&quot;);\n  PatternFormatting fill = rule.createPatternFormatting();\n  fill.setFillBackgroundColor(IndexedColors.YELLOW.index);\n  fill.setFillPattern(PatternFormatting.SOLID_FOREGROUND);\n\n  ConditionalFormattingRule[] cfRules = new ConditionalFormattingRule[]{rule};\n\n  CellRangeAddress[] regions = new CellRangeAddress[]{CellRangeAddress.valueOf(&quot;G1:L1000&quot;)};\n\n  sheetCF.addConditionalFormatting(regions, cfRules);\n\n  FileOutputStream out = new FileOutputStream(&quot;ConditionalFormatting.xlsx&quot;);\n  workbook.write(out);\n  out.close();\n  workbook.close();\n\n }\n}\n</code></pre>\n<p>Now if you put something in column <code>C</code> what is numeric and greater than 5, the cells in columns <code>G:L</code> will be filled yellow.</p>\n"}],"owner":{"account_id":4358108,"reputation":499,"user_id":3556079,"accept_rate":46,"display_name":"nshweta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10946,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50177015,"answer_count":1,"score":2,"last_activity_date":1640786044,"creation_date":1525439670,"question_id":50175877,"body_markdown":"I am trying to create an empty excel template using apache poi java. I need to add a rule - when column no. 3 is populated then columns from 7 to 12 need to be highlighted in some color (as a mandatory indicator for the user).\r\n\r\nI could find below code which colors the cell when the condition is met on the same cell. But I want to color/format different cells when the condition is met on current cell.\r\n\r\n\r\n\r\n    `   XSSFSheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\r\n        ConditionalFormattingRule rule1 = sheetCF.createConditionalFormattingRule(ComparisonOperator.GT, &quot;5&quot;);\r\n\r\n        PatternFormatting patternFmt = rule1.createPatternFormatting();\r\n        patternFmt.setFillBackgroundColor(IndexedColors.YELLOW.index);\r\n\r\n        sheetCF.addConditionalFormatting(addressList.getCellRangeAddresses(), rule1); //when rule1 is met, same cell is colored yellow\r\n\r\n\r\nBut I want is when rule1 is met, then color a different cell range.\r\n\r\nIs this possible in poi and how ?","title":"Apache POI - Conditional formatting - need to set different cell range for rule and formatting","body":"<p>I am trying to create an empty excel template using apache poi java. I need to add a rule - when column no. 3 is populated then columns from 7 to 12 need to be highlighted in some color (as a mandatory indicator for the user).</p>\n\n<p>I could find below code which colors the cell when the condition is met on the same cell. But I want to color/format different cells when the condition is met on current cell.</p>\n\n<pre><code>`   XSSFSheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\n    ConditionalFormattingRule rule1 = sheetCF.createConditionalFormattingRule(ComparisonOperator.GT, \"5\");\n\n    PatternFormatting patternFmt = rule1.createPatternFormatting();\n    patternFmt.setFillBackgroundColor(IndexedColors.YELLOW.index);\n\n    sheetCF.addConditionalFormatting(addressList.getCellRangeAddresses(), rule1); //when rule1 is met, same cell is colored yellow\n</code></pre>\n\n<p>But I want is when rule1 is met, then color a different cell range.</p>\n\n<p>Is this possible in poi and how ?</p>\n"},{"tags":["java","swing","size","awt","jtextfield"],"comments":[{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":0,"creation_date":1514460697,"post_id":48006635,"comment_id":82981550,"body_markdown":"Did you ever remove txtEnterNum which exists before?","body":"Did you ever remove txtEnterNum which exists before?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1514469683,"post_id":48006635,"comment_id":82985835,"body_markdown":"The answer that is currently accepted is the complete wrong way to go about sizing and positioning the text field. I (and many others) can give you the correct advice for doing so, but first we need to know how the entire GUI (along with any other components &amp; labels etc.) is **supposed** to appear. Provide ASCII art or a simple drawing of the *intended* layout of the GUI at minimum size, and if resizable, with more width and height - to show how the extra space should be used.","body":"The answer that is currently accepted is the complete wrong way to go about sizing and positioning the text field. I (and many others) can give you the correct advice for doing so, but first we need to know how the entire GUI (along with any other components &amp; labels etc.) is <b>supposed</b> to appear. Provide ASCII art or a simple drawing of the <i>intended</i> layout of the GUI at minimum size, and if resizable, with more width and height - to show how the extra space should be used."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1514469973,"post_id":48006635,"comment_id":82985985,"body_markdown":"BTW 1) A height of 50 is much taller than a text field would normally appear, unless it has a large font. 2) `txtEnterNum` the &#39;enter num&#39; part of that name suggests that a `JSpinner` with a `SpinnerNumberModel` might be a better programming approach, and also easier for the user.","body":"BTW 1) A height of 50 is much taller than a text field would normally appear, unless it has a large font. 2) <code>txtEnterNum</code> the &#39;enter num&#39; part of that name suggests that a <code>JSpinner</code> with a <code>SpinnerNumberModel</code> might be a better programming approach, and also easier for the user."}],"answers":[{"tags":[],"owner":{"account_id":12471572,"reputation":638,"user_id":9134510,"display_name":"Alex Cuadr&#243;n"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1514546404,"creation_date":1514461448,"answer_id":48006899,"question_id":48006635,"body_markdown":"The size is not &quot;working&quot; due to the default layout (FlowLayout) in your JFrame. This layout doesn&#39;t let you change the size or location of any object.\r\nTry to use your own layout (modify x and y values in order to modify the size and location of your components):\r\n\r\n    setLayout(new LayoutManager() {\r\n            @Override\r\n            public void addLayoutComponent(String name, Component comp) {\r\n\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void removeLayoutComponent(Component comp) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public Dimension preferredLayoutSize(Container parent) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Dimension minimumLayoutSize(Container parent) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public void layoutContainer(Container parent) {\r\n                \r\n            public void layoutContainer(Container parent) {\r\n\r\n                float modifierx = Toolkit.getDefaultToolkit().getScreenSize().width/100;\r\n\r\n                float Sizemodifier = Toolkit.getDefaultToolkit().getScreenSize().height/50;\r\n\r\n                float modifiery = Toolkit.getDefaultToolkit().getScreenSize().height/150;\r\n\r\n                int x=(int)(Toolkit.getDefaultToolkit().getScreenSize().width/modifierx);\r\n\r\n                int y=(int)(Toolkit.getDefaultToolkit().getScreenSize().height/modifiery);\r\n\r\n                int height =(int)(Toolkit.getDefaultToolkit().getScreenSize().height/Sizemodifier);\r\n\r\n                int DX =(int)(Toolkit.getDefaultToolkit().getScreenSize().width/modifierx);\r\n\r\n                int DY =(int)(Toolkit.getDefaultToolkit().getScreenSize().height/modifiery);\r\n\r\n                for(int i = 0; i&lt;parent.getComponentCount();i++){\r\n\r\n                    if(i%2==0){\r\n\r\n                        parent.getComponent(i).setBounds(x,y,x,height);\r\n\r\n                        x+= DX;\r\n\r\n                    }else{\r\n\r\n                        parent.getComponent(i).setBounds(x,y,x,height);\r\n\r\n                        x=Toolkit.getDefaultToolkit().getScreenSize().width/100;\r\n\r\n                        y+=DY;\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n\r\n        });\r\n\r\nYou have to set the layout in the constructor of the JFrame:\r\n\r\n    frame() {\r\n\r\n        setSize(600, 600);\r\n        setLayout(new LayoutManager() {...}\r\n\r\n        txtEnterNum = new JTextField();\r\n        txtEnterNum.setSize(100, 50);\r\n        setLocation(100, 150);\r\n        add(txtEnterNum);\r\n        txtEnterNum.setVisible(true);\r\n\r\n\r\n        setVisible(true);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }","title":"JTextField size can&#39;t be changed","body":"<p>The size is not \"working\" due to the default layout (FlowLayout) in your JFrame. This layout doesn't let you change the size or location of any object.\nTry to use your own layout (modify x and y values in order to modify the size and location of your components):</p>\n\n<pre><code>setLayout(new LayoutManager() {\n        @Override\n        public void addLayoutComponent(String name, Component comp) {\n\n\n\n        }\n\n        @Override\n        public void removeLayoutComponent(Component comp) {\n\n        }\n\n        @Override\n        public Dimension preferredLayoutSize(Container parent) {\n            return null;\n        }\n\n        @Override\n        public Dimension minimumLayoutSize(Container parent) {\n            return null;\n        }\n\n        @Override\n        public void layoutContainer(Container parent) {\n\n        public void layoutContainer(Container parent) {\n\n            float modifierx = Toolkit.getDefaultToolkit().getScreenSize().width/100;\n\n            float Sizemodifier = Toolkit.getDefaultToolkit().getScreenSize().height/50;\n\n            float modifiery = Toolkit.getDefaultToolkit().getScreenSize().height/150;\n\n            int x=(int)(Toolkit.getDefaultToolkit().getScreenSize().width/modifierx);\n\n            int y=(int)(Toolkit.getDefaultToolkit().getScreenSize().height/modifiery);\n\n            int height =(int)(Toolkit.getDefaultToolkit().getScreenSize().height/Sizemodifier);\n\n            int DX =(int)(Toolkit.getDefaultToolkit().getScreenSize().width/modifierx);\n\n            int DY =(int)(Toolkit.getDefaultToolkit().getScreenSize().height/modifiery);\n\n            for(int i = 0; i&lt;parent.getComponentCount();i++){\n\n                if(i%2==0){\n\n                    parent.getComponent(i).setBounds(x,y,x,height);\n\n                    x+= DX;\n\n                }else{\n\n                    parent.getComponent(i).setBounds(x,y,x,height);\n\n                    x=Toolkit.getDefaultToolkit().getScreenSize().width/100;\n\n                    y+=DY;\n\n                }\n\n            }\n        }\n\n\n    });\n</code></pre>\n\n<p>You have to set the layout in the constructor of the JFrame:</p>\n\n<pre><code>frame() {\n\n    setSize(600, 600);\n    setLayout(new LayoutManager() {...}\n\n    txtEnterNum = new JTextField();\n    txtEnterNum.setSize(100, 50);\n    setLocation(100, 150);\n    add(txtEnterNum);\n    txtEnterNum.setVisible(true);\n\n\n    setVisible(true);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21418781,"reputation":1,"user_id":15777540,"display_name":"George Sobhy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640785752,"creation_date":1640720765,"answer_id":70511802,"question_id":48006635,"body_markdown":"use `obj.setBounds();` to set the size and location of the obj in frame\r\nor you could try to use layouts\r\nyou can read about it in : [Visual Guide to Layout Managers (java documentation) ][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","title":"JTextField size can&#39;t be changed","body":"<p>use <code>obj.setBounds();</code> to set the size and location of the obj in frame\nor you could try to use layouts\nyou can read about it in : <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Visual Guide to Layout Managers (java documentation) </a></p>\n"}],"owner":{"account_id":12553341,"reputation":1,"user_id":9134055,"display_name":"Yavuz Selim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":997,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48006899,"answer_count":2,"score":-1,"last_activity_date":1640785752,"creation_date":1514460479,"question_id":48006635,"body_markdown":"    public class AddMult extends JFrame {\r\n        public AddMult() {\r\n\t\tsetSize(600, 600);\r\n\t\r\n\t\ttxtEnterNum = new JTextField();\r\n\t\ttxtEnterNum.setSize(100,50);\r\n\t\tlblEnterNum.setLocation(100, 150);\r\n\t\tadd(txtEnterNum);\r\n\t\ttxtEnterNum.setVisible(true);\r\n\t\r\n\t\t\r\n\t\tsetVisible(true);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n}\r\nI tried to create a form and a JTextField on it. But the problem is, my location and size doesn&#39;t work. The TextField is filling the whole form. How can I fix it?","title":"JTextField size can&#39;t be changed","body":"<pre><code>public class AddMult extends JFrame {\n    public AddMult() {\n    setSize(600, 600);\n\n    txtEnterNum = new JTextField();\n    txtEnterNum.setSize(100,50);\n    lblEnterNum.setLocation(100, 150);\n    add(txtEnterNum);\n    txtEnterNum.setVisible(true);\n\n\n    setVisible(true);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n}\n</code></pre>\n\n<p>}\nI tried to create a form and a JTextField on it. But the problem is, my location and size doesn't work. The TextField is filling the whole form. How can I fix it?</p>\n"},{"tags":["java","swing","transparency","alpha-transparency","mouse-cursor"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1352584237,"post_id":13326256,"comment_id":18180808,"body_markdown":"I don&#39;t actually think this is possible and it most certainly isn&#39;t possible across multiple platforms.  If you know that your OS can support such an operation, you may be forced to use native methods to achieve it.","body":"I don&#39;t actually think this is possible and it most certainly isn&#39;t possible across multiple platforms.  If you know that your OS can support such an operation, you may be forced to use native methods to achieve it."},{"owner":{"account_id":311792,"reputation":1986,"user_id":625562,"accept_rate":78,"display_name":"Sammy Guergachi"},"score":0,"creation_date":1352638233,"post_id":13326256,"comment_id":18189193,"body_markdown":"Well, say this where to work in Mac OSX, what native methods would I have to take to make this work in Windows?","body":"Well, say this where to work in Mac OSX, what native methods would I have to take to make this work in Windows?"},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1353156431,"post_id":13326256,"comment_id":18358085,"body_markdown":"I tried using JNA library but I failed: I cannot associate `HCURSOR` with the window.","body":"I tried using JNA library but I failed: I cannot associate <code>HCURSOR</code> with the window."},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1353358414,"post_id":13326256,"comment_id":18412692,"body_markdown":"Java does not support partial transparency on Windows. You can load the cursor using JNA/JNI and associate it with the JFrame windows class [`WNDCLASSEX`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633577(v=vs.85).aspx) via [`SetClassLong`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633588(v=vs.85).aspx) but it has no effect on cursor over JFrame. Yet this approach works perfectly in Win32 API.","body":"Java does not support partial transparency on Windows. You can load the cursor using JNA/JNI and associate it with the JFrame windows class <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms633577(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>WNDCLASSEX</code></a> via <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms633588(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>SetClassLong</code></a> but it has no effect on cursor over JFrame. Yet this approach works perfectly in Win32 API."}],"answers":[{"tags":[],"owner":{"account_id":236891,"reputation":7221,"user_id":504685,"accept_rate":50,"display_name":"Charlie"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1352584915,"creation_date":1352584915,"answer_id":13326491,"question_id":13326256,"body_markdown":"Your code and cursor image actually produces the desired result on MacOS X 10.7.5 (jdk 1.6.0_31) with semi-transparent blue border. But I did notice an off comment in [this answer](https://stackoverflow.com/a/8653991/504685) saying that partial transparency is not supported in the default Windows look and feel.","title":"Implementing Cursor in Java with some Transparency","body":"<p>Your code and cursor image actually produces the desired result on MacOS X 10.7.5 (jdk 1.6.0_31) with semi-transparent blue border. But I did notice an off comment in <a href=\"https://stackoverflow.com/a/8653991/504685\">this answer</a> saying that partial transparency is not supported in the default Windows look and feel.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1352785554,"creation_date":1352785554,"answer_id":13356114,"question_id":13326256,"body_markdown":"The problem your having is to do with the `Cursor` class which (under Windows) doesn&#39;t take into account the transparency values of the image\r\n\r\nThis is, by no means, a &quot;real&quot; solution, but is more about &quot;fudging&quot; the result...\r\n\r\n    public class TestMouseCursor {\r\n\r\n        public static void main(String[] args) {\r\n            new TestMouseCursor();\r\n        }\r\n\r\n        public TestMouseCursor() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException ex) {\r\n                    } catch (InstantiationException ex) {\r\n                    } catch (IllegalAccessException ex) {\r\n                    } catch (UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JFrame frame = new JFrame();\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new MouseCursorPane());\r\n                    frame.setSize(400, 400);\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MouseCursorPane extends JPanel {\r\n\r\n            private BufferedImage cursorImage;\r\n            private Toolkit kit;\r\n\r\n            public MouseCursorPane() {\r\n                try {\r\n                    kit = Toolkit.getDefaultToolkit();\r\n                    cursorImage = ImageIO.read(getClass().getResource(&quot;/cursor02.png&quot;));\r\n                    for (int i = 0; i &lt; cursorImage.getHeight(); i++) {\r\n                        int[] rgb = cursorImage.getRGB(0, i, cursorImage.getWidth(), 1, null, 0, cursorImage.getWidth() * 4);\r\n                        for (int j = 0; j &lt; rgb.length; j++) {\r\n                            int alpha = (rgb[j] &gt;&gt; 24) &amp; 255;\r\n                            if (alpha &lt; 128) {\r\n                                alpha = 0;\r\n                            } else {\r\n                                alpha = 255;\r\n                            }\r\n                            rgb[j] &amp;= 0x00ffffff;\r\n                            rgb[j] = (alpha &lt;&lt; 24) | rgb[j];\r\n                        }\r\n                        cursorImage.setRGB(0, i, cursorImage.getWidth(), 1, rgb, 0,\r\n                                cursorImage.getWidth() * 4);\r\n                    }\r\n                    Cursor cursor = Toolkit.getDefaultToolkit().createCustomCursor(\r\n                            cursorImage, new Point(0, 0), &quot;CustomCursor&quot;);\r\n\r\n                    setCursor(cursor);\r\n\r\n                } catch (Exception exp) {\r\n                    exp.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI got the idea for [here](http://www.informit.com/articles/article.aspx?p=1189079)","title":"Implementing Cursor in Java with some Transparency","body":"<p>The problem your having is to do with the <code>Cursor</code> class which (under Windows) doesn't take into account the transparency values of the image</p>\n\n<p>This is, by no means, a \"real\" solution, but is more about \"fudging\" the result...</p>\n\n<pre><code>public class TestMouseCursor {\n\n    public static void main(String[] args) {\n        new TestMouseCursor();\n    }\n\n    public TestMouseCursor() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException ex) {\n                } catch (InstantiationException ex) {\n                } catch (IllegalAccessException ex) {\n                } catch (UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new JFrame();\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new MouseCursorPane());\n                frame.setSize(400, 400);\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MouseCursorPane extends JPanel {\n\n        private BufferedImage cursorImage;\n        private Toolkit kit;\n\n        public MouseCursorPane() {\n            try {\n                kit = Toolkit.getDefaultToolkit();\n                cursorImage = ImageIO.read(getClass().getResource(\"/cursor02.png\"));\n                for (int i = 0; i &lt; cursorImage.getHeight(); i++) {\n                    int[] rgb = cursorImage.getRGB(0, i, cursorImage.getWidth(), 1, null, 0, cursorImage.getWidth() * 4);\n                    for (int j = 0; j &lt; rgb.length; j++) {\n                        int alpha = (rgb[j] &gt;&gt; 24) &amp; 255;\n                        if (alpha &lt; 128) {\n                            alpha = 0;\n                        } else {\n                            alpha = 255;\n                        }\n                        rgb[j] &amp;= 0x00ffffff;\n                        rgb[j] = (alpha &lt;&lt; 24) | rgb[j];\n                    }\n                    cursorImage.setRGB(0, i, cursorImage.getWidth(), 1, rgb, 0,\n                            cursorImage.getWidth() * 4);\n                }\n                Cursor cursor = Toolkit.getDefaultToolkit().createCustomCursor(\n                        cursorImage, new Point(0, 0), \"CustomCursor\");\n\n                setCursor(cursor);\n\n            } catch (Exception exp) {\n                exp.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I got the idea for <a href=\"http://www.informit.com/articles/article.aspx?p=1189079\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1036092,"reputation":8846,"user_id":1043352,"accept_rate":81,"display_name":"Jakub Zaverka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352904271,"creation_date":1352904271,"answer_id":13381046,"question_id":13326256,"body_markdown":"If you are desperate and absolutely must have transparent cursor, no matter the consequences, you can use JNI and set the cursor manually using Win32 API. Windows since XP support alpha cursors, so you should be ok with that. \r\n\r\nBut you lose platform independence. And based on Windows settings, the alpha blending might be turned off for that particular user.","title":"Implementing Cursor in Java with some Transparency","body":"<p>If you are desperate and absolutely must have transparent cursor, no matter the consequences, you can use JNI and set the cursor manually using Win32 API. Windows since XP support alpha cursors, so you should be ok with that. </p>\n\n<p>But you lose platform independence. And based on Windows settings, the alpha blending might be turned off for that particular user.</p>\n"},{"tags":[],"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353199265,"creation_date":1353199265,"answer_id":13436350,"question_id":13326256,"body_markdown":"An alternative is to fake a cursor.\r\n\r\nTake a look at Alexander Potochkin&#39;s [Well Behaved GlassPane][1].\r\n\r\nIn particular, run the sample code, choose `Options&gt;GlassPane is Visible` and `Options&gt;Final GlassPane`.\r\n\r\nStarting from this, load up a cursor image that is *completely* transparent, then paint a proper, alpha-blended cursor on the glasspane.\r\n\r\n\r\n  [1]: http://weblogs.java.net/blog/alexfromsun/archive/2006/09/a_wellbehaved_g.html","title":"Implementing Cursor in Java with some Transparency","body":"<p>An alternative is to fake a cursor.</p>\n\n<p>Take a look at Alexander Potochkin's <a href=\"http://weblogs.java.net/blog/alexfromsun/archive/2006/09/a_wellbehaved_g.html\" rel=\"nofollow\">Well Behaved GlassPane</a>.</p>\n\n<p>In particular, run the sample code, choose <code>Options&gt;GlassPane is Visible</code> and <code>Options&gt;Final GlassPane</code>.</p>\n\n<p>Starting from this, load up a cursor image that is <em>completely</em> transparent, then paint a proper, alpha-blended cursor on the glasspane.</p>\n"}],"owner":{"account_id":311792,"reputation":1986,"user_id":625562,"accept_rate":78,"display_name":"Sammy Guergachi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2786,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":13356114,"answer_count":4,"score":7,"last_activity_date":1640785395,"creation_date":1352582931,"question_id":13326256,"body_markdown":"I have a 35x40 px. png image I want to use as a custom cursor in a Swing application.\r\nThe image has a glow so contains alpha transparency values. Problem is when I attempt to use the conventional method of using the `Toolkit` to generate the custom cursor I get black pixels where alpha transparency values should be.\r\n\r\nHere is the image I am using for a cursor:\r\nhttps://dl.dropbox.com/u/1186703/cursor.png\r\n\r\nHere is my code:\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n         new Sandbox().gui();\r\n\r\n    }\r\n    private Cursor cursor;\r\n\r\n    private Toolkit kit;\r\n\r\n    private Image cursorImage;\r\n\r\n    public void gui() {\r\n\r\n        kit = Toolkit.getDefaultToolkit();\r\n        cursorImage = kit.createImage(getClass().getResource(\r\n                &quot;/aurora/V1/resources/cursor.png&quot;));\r\n\r\n        cursor = Toolkit.getDefaultToolkit().createCustomCursor(\r\n                cursorImage, new Point(0, 0), &quot;CustomCursor&quot;);\r\n\r\n        setSize(800, 800);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n        setCursor(cursor);\r\n    }\r\n\r\nHere is the current result:\r\n\r\n![result][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Lpye4.png\r\n\r\n\r\n**Edit** it seems that this method does not work well cross platform, for instance Windows LAF doesn&#39;t support semi-transparency. I am therefore looking for any solution to get this to work on windows, assuming this implementation does work on Mac OSX, i can just specify in code which implementation to use based on which operating system the app is running on.","title":"Implementing Cursor in Java with some Transparency","body":"<p>I have a 35x40 px. png image I want to use as a custom cursor in a Swing application.\nThe image has a glow so contains alpha transparency values. Problem is when I attempt to use the conventional method of using the <code>Toolkit</code> to generate the custom cursor I get black pixels where alpha transparency values should be.</p>\n\n<p>Here is the image I am using for a cursor:\n<a href=\"https://dl.dropbox.com/u/1186703/cursor.png\" rel=\"noreferrer\">https://dl.dropbox.com/u/1186703/cursor.png</a></p>\n\n<p>Here is my code:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n\n     new Sandbox().gui();\n\n}\nprivate Cursor cursor;\n\nprivate Toolkit kit;\n\nprivate Image cursorImage;\n\npublic void gui() {\n\n    kit = Toolkit.getDefaultToolkit();\n    cursorImage = kit.createImage(getClass().getResource(\n            \"/aurora/V1/resources/cursor.png\"));\n\n    cursor = Toolkit.getDefaultToolkit().createCustomCursor(\n            cursorImage, new Point(0, 0), \"CustomCursor\");\n\n    setSize(800, 800);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setLocationRelativeTo(null);\n    setVisible(true);\n    setCursor(cursor);\n}\n</code></pre>\n\n<p>Here is the current result:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Lpye4.png\" alt=\"result\"></p>\n\n<p><strong>Edit</strong> it seems that this method does not work well cross platform, for instance Windows LAF doesn't support semi-transparency. I am therefore looking for any solution to get this to work on windows, assuming this implementation does work on Mac OSX, i can just specify in code which implementation to use based on which operating system the app is running on.</p>\n"},{"tags":["java","ffmpeg","process","runtime"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1640784044,"post_id":70519992,"comment_id":124657530,"body_markdown":"The error is telling you exactly what is wrong. What are you trying to do? What OS are you running this on?","body":"The error is telling you exactly what is wrong. What are you trying to do? What OS are you running this on?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1640784113,"post_id":70519992,"comment_id":124657549,"body_markdown":"If Unix, then perhaps you need to call `/bin/bash` explicitly","body":"If Unix, then perhaps you need to call <code>&#47;bin&#47;bash</code> explicitly"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1640784272,"post_id":70519992,"comment_id":124657602,"body_markdown":"and if Windows, use `cmd.exe`","body":"and if Windows, use <code>cmd.exe</code>"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1640784310,"post_id":70519992,"comment_id":124657623,"body_markdown":"Also, don&#39;t ignore the process&#39;s output and error streams. Also, use ProcessBuilder and an array of String or a `List&lt;String&gt;`, not Process and one single String.","body":"Also, don&#39;t ignore the process&#39;s output and error streams. Also, use ProcessBuilder and an array of String or a <code>List&lt;String&gt;</code>, not Process and one single String."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1640788689,"post_id":70519992,"comment_id":124659090,"body_markdown":"Why are you using that `for` at all, when [Java code is perfectly capable of listing a directory’s files](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#newDirectoryStream(java.nio.file.Path))?","body":"Why are you using that <code>for</code> at all, when <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#newDirectoryStream(java.nio.file.Path)\" rel=\"nofollow noreferrer\">Java code is perfectly capable of listing a directory’s files</a>?"}],"owner":{"account_id":13032835,"reputation":1,"user_id":9418719,"display_name":"Senthil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640784287,"answer_count":0,"score":0,"last_activity_date":1640785156,"creation_date":1640783881,"question_id":70519992,"body_markdown":"    String q1 = &quot;for %%i in (&#39;I:\\\\Test\\\\M1\\\\*.*&#39;) do D:/Softwares/PC/MultiMedia/Video/ffmpeg/bin/ffmpeg -i &#39;%%&#39; -ab 320k -map_metadata 0 -id3v2_version 3 &#39;I:\\\\Organised\\\\Audio\\\\MP3\\\\M1\\\\%%~ni.mp3&#39;&quot;;\r\n    Process p = Runtime.getRuntime().exec(q1); \r\n    p.waitFor();\r\n    System.out.println(&quot;Completed&quot;);\r\n\r\nOS: Windows 10\r\n\r\nObjective: Converting all FLAC files to mp3 using FFMPEG Libray. Instead of converting one by one using for loop format of ffmpeg to convert all files in a given folder.\r\n \r\nNote: Executing in command prompt is working fine. But I can not detect when the conversion is completed. But if I use &quot;Runtime.getRuntime().exec(q1)&quot; I monitor and once it is complete I can do further tasks.\r\n\r\nGetting Below error. But same works as a batch file:\r\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;for&quot;: CreateProcess error=2, The system cannot find the file specified","title":"Java Runtime.getRuntime().exec(q1) is not working when q1 string variable contains &quot;for&quot; keywork for looping in ffmpeg","body":"<pre><code>String q1 = &quot;for %%i in ('I:\\\\Test\\\\M1\\\\*.*') do D:/Softwares/PC/MultiMedia/Video/ffmpeg/bin/ffmpeg -i '%%' -ab 320k -map_metadata 0 -id3v2_version 3 'I:\\\\Organised\\\\Audio\\\\MP3\\\\M1\\\\%%~ni.mp3'&quot;;\nProcess p = Runtime.getRuntime().exec(q1); \np.waitFor();\nSystem.out.println(&quot;Completed&quot;);\n</code></pre>\n<p>OS: Windows 10</p>\n<p>Objective: Converting all FLAC files to mp3 using FFMPEG Libray. Instead of converting one by one using for loop format of ffmpeg to convert all files in a given folder.</p>\n<p>Note: Executing in command prompt is working fine. But I can not detect when the conversion is completed. But if I use &quot;Runtime.getRuntime().exec(q1)&quot; I monitor and once it is complete I can do further tasks.</p>\n<p>Getting Below error. But same works as a batch file:\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;for&quot;: CreateProcess error=2, The system cannot find the file specified</p>\n"},{"tags":["java","der","pkcs#8"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640785106,"creation_date":1640784650,"answer_id":70520124,"question_id":70517668,"body_markdown":"First, you don&#39;t actually read the contents of the file at all. You just create an empty buffer the same _size_ as the file. Since this buffer doesn&#39;t contain any data, the non-present data is not in PKCS8 format, nor JKS format, nor Bitcoin wallet format, nor any other format. (Note instead of multiple steps, you can just use `byte[] data = Files.readAllBytes(Paths.get(filename))`). \r\n\r\nSecond, [there are two PKCS8 DER formats](https://datatracker.ietf.org/doc/html/rfc5208). \r\n\r\nOOTB Java visibly supports PKCS8-unencrypted (clear) `PrivateKeyInfo` _only_ if you know the algorithm to which the key applies (RSA, DSA, ECDSA/ECDH, etc). If you do, simply call `KeyFactory.getInstance` for that algorithm, then call `.generatePrivateKey` with a `PKCS8EncodedKeySpec` containing the (purported) PKCS8-clear, and if it returns an appropriate subclass of PrivateKey (and doesn&#39;t throw an exception) then the data was in fact PKCS8-clear _and_ for that algorithm. If you don&#39;t know the algorithm but only a limited set are permitted or possible, you can simply try each in turn and see if any (and which) works. \r\n\r\nOtherwise, you must either parse the ASN.1 yourself (possible, but nontrivial), or use BouncyCastle (but not the PEM part): call `org.bouncycastle.asn1.pkcs.PrivateKeyInfo.getInstance(der)` and if it succeeds the input data either is PKCS8-clear or a very good imitation. \r\n\r\nFor PKCS8-encrypted, Java _does_ expose [`javax.crypto.EncryptedPrivateKeyInfo`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/crypto/EncryptedPrivateKeyInfo.html#%3Cinit%3E(byte%5B%5D)); just invoke the constructor on the data and if it doesn&#39;t throw the data looked like PKCS8-encrypted. This does not check however that this data can be decrypted and when decrypted is actually a privatekey as it should be; for that if you know the password use `epki.getKeySpec()` combined with checking the resulting purported PKCS8-clear as above. ","title":"How to check if a file is pkcs#8 DER format in Java?","body":"<p>First, you don't actually read the contents of the file at all. You just create an empty buffer the same <em>size</em> as the file. Since this buffer doesn't contain any data, the non-present data is not in PKCS8 format, nor JKS format, nor Bitcoin wallet format, nor any other format. (Note instead of multiple steps, you can just use <code>byte[] data = Files.readAllBytes(Paths.get(filename))</code>).</p>\n<p>Second, <a href=\"https://datatracker.ietf.org/doc/html/rfc5208\" rel=\"nofollow noreferrer\">there are two PKCS8 DER formats</a>.</p>\n<p>OOTB Java visibly supports PKCS8-unencrypted (clear) <code>PrivateKeyInfo</code> <em>only</em> if you know the algorithm to which the key applies (RSA, DSA, ECDSA/ECDH, etc). If you do, simply call <code>KeyFactory.getInstance</code> for that algorithm, then call <code>.generatePrivateKey</code> with a <code>PKCS8EncodedKeySpec</code> containing the (purported) PKCS8-clear, and if it returns an appropriate subclass of PrivateKey (and doesn't throw an exception) then the data was in fact PKCS8-clear <em>and</em> for that algorithm. If you don't know the algorithm but only a limited set are permitted or possible, you can simply try each in turn and see if any (and which) works.</p>\n<p>Otherwise, you must either parse the ASN.1 yourself (possible, but nontrivial), or use BouncyCastle (but not the PEM part): call <code>org.bouncycastle.asn1.pkcs.PrivateKeyInfo.getInstance(der)</code> and if it succeeds the input data either is PKCS8-clear or a very good imitation.</p>\n<p>For PKCS8-encrypted, Java <em>does</em> expose <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/crypto/EncryptedPrivateKeyInfo.html#%3Cinit%3E(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>javax.crypto.EncryptedPrivateKeyInfo</code></a>; just invoke the constructor on the data and if it doesn't throw the data looked like PKCS8-encrypted. This does not check however that this data can be decrypted and when decrypted is actually a privatekey as it should be; for that if you know the password use <code>epki.getKeySpec()</code> combined with checking the resulting purported PKCS8-clear as above.</p>\n"}],"owner":{"account_id":23426248,"reputation":37,"user_id":17485694,"display_name":"Skye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70520124,"answer_count":1,"score":0,"last_activity_date":1640785106,"creation_date":1640771092,"question_id":70517668,"body_markdown":"I need to check if a file is pkcs#8 DER format in Java when uploading the file, I think maybe PKCS8EncodedKeySpec and getFormat() can be used.\r\n```\r\nclass FileFormatePkcs8{\r\n    public static void main(String[] args) {\r\n    String filename = args[0];\r\n        try {\r\n            File f = new File(filename);\r\n            byte[] encodedKey = new byte[(int)f.length()];\r\n            PKCS8EncodedKeySpec pkcs8Key = new PKCS8EncodedKeySpec(encodedKey);\r\n            if(pkcs8Key.getFormat().equals(&quot;PKCS#8&quot;)) {\r\n                System.out.println(&quot;It&#39;s pkcs8.&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;It&#39;s not pkcs8.&quot;);\r\n            }\r\n        }\r\n        catch (Exception ex) {\r\n            System.out.println(&quot;exception:&quot;+ex.getMessage());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nAll the files input will get the &quot;It&#39;s pkcs8.&quot; result. I realize &quot;PKCS8EncodedKeySpec&quot; will create the pkcs#8 key, but I don&#39;t know using which class to replace it.\r\n\r\nNote that: both of PKCS#8 and DER need to be check, so I think org.bouncycastle.openssl.PEMParser can be ignored. Or am I on the wrong track?","title":"How to check if a file is pkcs#8 DER format in Java?","body":"<p>I need to check if a file is pkcs#8 DER format in Java when uploading the file, I think maybe PKCS8EncodedKeySpec and getFormat() can be used.</p>\n<pre><code>class FileFormatePkcs8{\n    public static void main(String[] args) {\n    String filename = args[0];\n        try {\n            File f = new File(filename);\n            byte[] encodedKey = new byte[(int)f.length()];\n            PKCS8EncodedKeySpec pkcs8Key = new PKCS8EncodedKeySpec(encodedKey);\n            if(pkcs8Key.getFormat().equals(&quot;PKCS#8&quot;)) {\n                System.out.println(&quot;It's pkcs8.&quot;);\n            }\n            else {\n                System.out.println(&quot;It's not pkcs8.&quot;);\n            }\n        }\n        catch (Exception ex) {\n            System.out.println(&quot;exception:&quot;+ex.getMessage());\n        }\n    }\n\n}\n</code></pre>\n<p>All the files input will get the &quot;It's pkcs8.&quot; result. I realize &quot;PKCS8EncodedKeySpec&quot; will create the pkcs#8 key, but I don't know using which class to replace it.</p>\n<p>Note that: both of PKCS#8 and DER need to be check, so I think org.bouncycastle.openssl.PEMParser can be ignored. Or am I on the wrong track?</p>\n"},{"tags":["java","android","bitmap","webp"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640782205,"post_id":70519570,"comment_id":124656869,"body_markdown":"`using webp files for animated sticker packs it get rejected` Where? By whom? When? What is this about?","body":"<code>using webp files for animated sticker packs it get rejected</code> Where? By whom? When? What is this about?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640782382,"post_id":70519570,"comment_id":124656932,"body_markdown":"It is unclear what you want. Are you editing the bitmap before saving? Or what is it that you want to accomplish?","body":"It is unclear what you want. Are you editing the bitmap before saving? Or what is it that you want to accomplish?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640782420,"post_id":70519570,"comment_id":124656944,"body_markdown":"Could not you better ask: How to download and save animated webp file?","body":"Could not you better ask: How to download and save animated webp file?"},{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":0,"creation_date":1640782614,"post_id":70519570,"comment_id":124657011,"body_markdown":"@blackapps sorry about that. I have edited the question now. please have a look.","body":"@blackapps sorry about that. I have edited the question now. please have a look."},{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":0,"creation_date":1640782674,"post_id":70519570,"comment_id":124657029,"body_markdown":"It is Whatsapp sticker pack. as static sticker it get accepted but for animated sticker those webp get rejected.","body":"It is Whatsapp sticker pack. as static sticker it get accepted but for animated sticker those webp get rejected."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640782903,"post_id":70519570,"comment_id":124657110,"body_markdown":"I still dont understand what you want and you did not react on my suggestion that you just wanted to download and save a webp file. If so then just download and save without using an intermediate bitmap. You did not at all explain why you are using a bitmap.","body":"I still dont understand what you want and you did not react on my suggestion that you just wanted to download and save a webp file. If so then just download and save without using an intermediate bitmap. You did not at all explain why you are using a bitmap."},{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":0,"creation_date":1640783519,"post_id":70519570,"comment_id":124657347,"body_markdown":"Yes I want to download and save webp but dont want to compress it. Here is the link for whole file. https://github.com/CrackerKSR/temporary/blob/main/RNWhatsAppStickersModule.java.","body":"Yes I want to download and save webp but dont want to compress it. Here is the link for whole file. <a href=\"https://github.com/CrackerKSR/temporary/blob/main/RNWhatsAppStickersModule.java\" rel=\"nofollow noreferrer\">github.com/CrackerKSR/temporary/blob/main/&hellip;</a>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1640783930,"post_id":70519570,"comment_id":124657488,"body_markdown":"That is a java file. What should i do with it? Again: Download and save to file directly. Dont use an intermediate bitmap.","body":"That is a java file. What should i do with it? Again: Download and save to file directly. Dont use an intermediate bitmap."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640784819,"creation_date":1640784819,"answer_id":70520161,"question_id":70519570,"body_markdown":"You can download and save in doInBackground()\r\n\r\n        InputStream inputStream = new URL(sUrl).openStream(); // Download Image from URL\r\n\r\n        FileOutputStream out = new FileOutputStream(file);\r\n\r\nThen make a loop where you read bytes in a buffer from input stream and write to output stream.\r\n\r\nDon&#39;t forget to close all streams when done.\r\n","title":"How to download and save Bitmap of animated webp?","body":"<p>You can download and save in doInBackground()</p>\n<pre><code>    InputStream inputStream = new URL(sUrl).openStream(); // Download Image from URL\n\n    FileOutputStream out = new FileOutputStream(file);\n</code></pre>\n<p>Then make a loop where you read bytes in a buffer from input stream and write to output stream.</p>\n<p>Don't forget to close all streams when done.</p>\n"}],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70520161,"answer_count":1,"score":2,"last_activity_date":1640784819,"creation_date":1640781713,"question_id":70519570,"body_markdown":"When I am using webp files for animated sticker packs it get rejected but if use same files for static stickers it get excepted. After looking all the codes I came to know that this is the last point where those files becomes problematic. But don not know how to identify if webp files stays as animated webp after saving. Please share your thought.\r\n\r\nps: I am using these webp files for whatsapp sticker packs. there is flag &quot;animated_sticker_pack&quot;. we have to tell whatsapp that this pack contains only animated webp with proper fomrat. If I set it false then sticker pack get added (let it be static or animated webp). But if I set that flag true then those animated webp get rejected for pack showing error that *There&#39;s problem with this pack...*. So it might be that frames are lesser then it required. It get accepted as static means it might have single frame only.\r\nTo avoid issues regarding file type,format,size and all I am using the sample files from WhatsApp sample app\r\n\r\nCode:\r\n```JAVA\r\npublic static void SaveImage(Bitmap finalBitmap, String name, String identifier) {\r\n\r\n        String root = path + &quot;/&quot; + identifier;\r\n        File myDir = new File(root);\r\n        myDir.mkdirs();\r\n\r\n        String fname = name;\r\n        File file = new File(myDir, fname);\r\n        \r\n        if (file.exists()){\r\n            file.delete();\r\n        }\r\n        \r\n        try {\r\n\r\n            // FileOutputStream \r\n            FileOutputStream out = new FileOutputStream(file);\r\n\r\n            // Bitmap.compress\r\n            finalBitmap.compress(Bitmap.CompressFormat.WEBP, 100, out); \r\n            \r\n            // close\r\n            out.flush();\r\n            out.close();\r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n }\r\n\r\n////////////////////Other methods before saving images\r\n\r\nprivate Bitmap downloadImageBitmap(String sUrl, String sIdentifier, String sName) {\r\n    imageFileName = getLastBitFromUrl(sUrl).replace(&quot;.png&quot;, &quot;.webp&quot;);\r\n    identifier = sIdentifier;\r\n    name = sName;\r\n    Bitmap bitmap = null;\r\n    try {\r\n        InputStream inputStream = new URL(sUrl).openStream(); // Download Image from URL\r\n        bitmap = BitmapFactory.decodeStream(inputStream); // Decode Bitmap\r\n        inputStream.close();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n     return bitmap;\r\n}\r\n\r\n@Override\r\nprotected Bitmap doInBackground(String... params) {\r\n    return downloadImageBitmap(params[0], params[1], params[2]);\r\n}\r\n\r\nprotected void onPostExecute(Bitmap result) {\r\n    SaveImage(result, imageFileName, identifier);\r\n}\r\n```\r\n","title":"How to download and save Bitmap of animated webp?","body":"<p>When I am using webp files for animated sticker packs it get rejected but if use same files for static stickers it get excepted. After looking all the codes I came to know that this is the last point where those files becomes problematic. But don not know how to identify if webp files stays as animated webp after saving. Please share your thought.</p>\n<p>ps: I am using these webp files for whatsapp sticker packs. there is flag &quot;animated_sticker_pack&quot;. we have to tell whatsapp that this pack contains only animated webp with proper fomrat. If I set it false then sticker pack get added (let it be static or animated webp). But if I set that flag true then those animated webp get rejected for pack showing error that <em>There's problem with this pack...</em>. So it might be that frames are lesser then it required. It get accepted as static means it might have single frame only.\nTo avoid issues regarding file type,format,size and all I am using the sample files from WhatsApp sample app</p>\n<p>Code:</p>\n<pre><code>public static void SaveImage(Bitmap finalBitmap, String name, String identifier) {\n\n        String root = path + &quot;/&quot; + identifier;\n        File myDir = new File(root);\n        myDir.mkdirs();\n\n        String fname = name;\n        File file = new File(myDir, fname);\n        \n        if (file.exists()){\n            file.delete();\n        }\n        \n        try {\n\n            // FileOutputStream \n            FileOutputStream out = new FileOutputStream(file);\n\n            // Bitmap.compress\n            finalBitmap.compress(Bitmap.CompressFormat.WEBP, 100, out); \n            \n            // close\n            out.flush();\n            out.close();\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n }\n\n////////////////////Other methods before saving images\n\nprivate Bitmap downloadImageBitmap(String sUrl, String sIdentifier, String sName) {\n    imageFileName = getLastBitFromUrl(sUrl).replace(&quot;.png&quot;, &quot;.webp&quot;);\n    identifier = sIdentifier;\n    name = sName;\n    Bitmap bitmap = null;\n    try {\n        InputStream inputStream = new URL(sUrl).openStream(); // Download Image from URL\n        bitmap = BitmapFactory.decodeStream(inputStream); // Decode Bitmap\n        inputStream.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n     return bitmap;\n}\n\n@Override\nprotected Bitmap doInBackground(String... params) {\n    return downloadImageBitmap(params[0], params[1], params[2]);\n}\n\nprotected void onPostExecute(Bitmap result) {\n    SaveImage(result, imageFileName, identifier);\n}\n</code></pre>\n"},{"tags":["java","testng","guice"],"comments":[{"owner":{"account_id":28542,"reputation":160910,"user_id":76337,"accept_rate":70,"display_name":"John Saunders"},"score":0,"creation_date":1425363976,"post_id":28825372,"comment_id":45921487,"body_markdown":"_How_ did you attempt to inject the dependencies?","body":"<i>How</i> did you attempt to inject the dependencies?"},{"owner":{"account_id":5617787,"reputation":85,"user_id":4448535,"accept_rate":20,"display_name":"Ram Prasath"},"score":0,"creation_date":1425966096,"post_id":28825372,"comment_id":46166641,"body_markdown":"binder.bind(xxx.class).to(yyy.class);","body":"binder.bind(xxx.class).to(yyy.class);"}],"answers":[{"tags":[],"owner":{"account_id":4025626,"reputation":307,"user_id":3320256,"accept_rate":75,"display_name":"daniel.kahlenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427378346,"creation_date":1427368675,"answer_id":29277077,"question_id":28825372,"body_markdown":"I have successfully tried [this approach][1] (using a factory, code example at the end of this answer). There is one addition to care for, if you use groups annotations, the thereby discrimination (as in line 126 in code for TestDIFactory.java - [there again][1]) seems to work reliable only if you use a testng.xml file.\r\n\r\nOtherwise with annotation parameters only the default case ([l. 130, TestDIFactory.java][1]) seems to get active. One can easily check that by adding `if(context.getIncludedGroups().length == 0) throw new NullPointerException(&quot;no groups found&quot;);` after [l. 122, TestDIFactory.java][1]\r\n\r\nIf you need the `implements ITestListener` explicitly it should be easy to modify the `public void onStart(ITestContext context)` method accordingly.\r\n\r\n    @Guice(moduleFactory = TestDIFactory.class)\r\n    public class YourTestClass {\r\n     @Inject protected MobConfiguration mob;\r\n\r\n     @Test(groups = {&quot;unit&quot;})\r\n     public void yourtest() {}\r\n    }\r\n\r\nEDIT:\r\nI have proven the factory approach problematic in one case:\r\nIf the modules provided by the factory share bindings meaning one object bound in module A is also bound in another module B but you request a combined module which installs / calls configure on A and B and then is returned by the factory. You run into a high change to get `InstantiationException`s. So rule of thumb for me: factories only when only one module per test is needed. In other cases I use i. e. `@Guice(modules = {TestDIFactory.A.class, TestDIFactory.B.class})` assumed given A and B public access though.\r\n\r\n[1]: http://biggerwrench.blogspot.de/2014/02/testng-using-guice-for-dependency.html","title":"Is it possible to bind dependencies to interceptor in TestNG?","body":"<p>I have successfully tried <a href=\"http://biggerwrench.blogspot.de/2014/02/testng-using-guice-for-dependency.html\" rel=\"nofollow\">this approach</a> (using a factory, code example at the end of this answer). There is one addition to care for, if you use groups annotations, the thereby discrimination (as in line 126 in code for TestDIFactory.java - <a href=\"http://biggerwrench.blogspot.de/2014/02/testng-using-guice-for-dependency.html\" rel=\"nofollow\">there again</a>) seems to work reliable only if you use a testng.xml file.</p>\n\n<p>Otherwise with annotation parameters only the default case (<a href=\"http://biggerwrench.blogspot.de/2014/02/testng-using-guice-for-dependency.html\" rel=\"nofollow\">l. 130, TestDIFactory.java</a>) seems to get active. One can easily check that by adding <code>if(context.getIncludedGroups().length == 0) throw new NullPointerException(\"no groups found\");</code> after <a href=\"http://biggerwrench.blogspot.de/2014/02/testng-using-guice-for-dependency.html\" rel=\"nofollow\">l. 122, TestDIFactory.java</a></p>\n\n<p>If you need the <code>implements ITestListener</code> explicitly it should be easy to modify the <code>public void onStart(ITestContext context)</code> method accordingly.</p>\n\n<pre><code>@Guice(moduleFactory = TestDIFactory.class)\npublic class YourTestClass {\n @Inject protected MobConfiguration mob;\n\n @Test(groups = {\"unit\"})\n public void yourtest() {}\n}\n</code></pre>\n\n<p>EDIT:\nI have proven the factory approach problematic in one case:\nIf the modules provided by the factory share bindings meaning one object bound in module A is also bound in another module B but you request a combined module which installs / calls configure on A and B and then is returned by the factory. You run into a high change to get <code>InstantiationException</code>s. So rule of thumb for me: factories only when only one module per test is needed. In other cases I use i. e. <code>@Guice(modules = {TestDIFactory.A.class, TestDIFactory.B.class})</code> assumed given A and B public access though.</p>\n"},{"tags":[],"owner":{"account_id":1796955,"reputation":2964,"user_id":1636173,"accept_rate":100,"display_name":"Giulio Caccin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640784774,"creation_date":1640778335,"answer_id":70518946,"question_id":28825372,"body_markdown":"While it will be possible in version **7.5.0**, in the **7.4.0** you can just:\r\n\r\n    @Override\r\n    public void onStart(ITestContext context) {\r\n        final Injector parentInjector = context.getSuite().getParentInjector();\r\n        final YourGuiceModule module = parentInjector.getInstance(YourGuiceModule.class);\r\n        final MobConfiguration mob = parentInjector.createChildInjector(module).getInstance(MobConfiguration.class);\r\n        \r\n        mob.useIt();\r\n    }\r\n\r\nThis is valid if you bind the module on the test, if you bind it on the parent module you can just do a:\r\n\r\n    context.getSuite().getParentInjector().getInstance(MobConfiguration.class);","title":"Is it possible to bind dependencies to interceptor in TestNG?","body":"<p>While it will be possible in version <strong>7.5.0</strong>, in the <strong>7.4.0</strong> you can just:</p>\n<pre><code>@Override\npublic void onStart(ITestContext context) {\n    final Injector parentInjector = context.getSuite().getParentInjector();\n    final YourGuiceModule module = parentInjector.getInstance(YourGuiceModule.class);\n    final MobConfiguration mob = parentInjector.createChildInjector(module).getInstance(MobConfiguration.class);\n    \n    mob.useIt();\n}\n</code></pre>\n<p>This is valid if you bind the module on the test, if you bind it on the parent module you can just do a:</p>\n<pre><code>context.getSuite().getParentInjector().getInstance(MobConfiguration.class);\n</code></pre>\n"}],"owner":{"account_id":5617787,"reputation":85,"user_id":4448535,"accept_rate":20,"display_name":"Ram Prasath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640784774,"creation_date":1425363799,"question_id":28825372,"body_markdown":"    public class AbstractTest implements ITestListener {\r\n\r\n    \t@Inject\r\n        protected MobConfiguration mob;\r\n    \t\r\n    \t@Override\r\n    \tpublic void onStart(ITestContext context) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    }\r\n\r\nWhen I tried to inject dependencies in the listener class, it always returns `null`.  \r\nIs there any possible ways to handle DI in listener or interceptor implementer classes?   ","title":"Is it possible to bind dependencies to interceptor in TestNG?","body":"<pre><code>public class AbstractTest implements ITestListener {\n\n    @Inject\n    protected MobConfiguration mob;\n    \n    @Override\n    public void onStart(ITestContext context) {\n        // TODO Auto-generated method stub\n    }\n}\n</code></pre>\n<p>When I tried to inject dependencies in the listener class, it always returns <code>null</code>.<br />\nIs there any possible ways to handle DI in listener or interceptor implementer classes?</p>\n"},{"tags":["java","spring","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":9951088,"reputation":413,"user_id":7363699,"display_name":"Krishna"},"score":0,"creation_date":1640703259,"post_id":70508416,"comment_id":124637602,"body_markdown":"If you are eclipse, ty JPA to generate entity class from tables which will do the trick. No need to write manually these classes. Refer this link for details. https://www.eclipse.org/webtools/dali/docs/3.2/user_guide/tasks006.htm","body":"If you are eclipse, ty JPA to generate entity class from tables which will do the trick. No need to write manually these classes. Refer this link for details. <a href=\"https://www.eclipse.org/webtools/dali/docs/3.2/user_guide/tasks006.htm\" rel=\"nofollow noreferrer\">eclipse.org/webtools/dali/docs/3.2/user_guide/tasks006.htm</a>"},{"owner":{"account_id":12173205,"reputation":101,"user_id":8887170,"display_name":"Aleksander Ndoci"},"score":0,"creation_date":1640703299,"post_id":70508416,"comment_id":124637610,"body_markdown":"I don&#39;t think  your problem is with the primary key, looks like your problem is with the json serialization/deserialization. Do you have any error stack traces?","body":"I don&#39;t think  your problem is with the primary key, looks like your problem is with the json serialization/deserialization. Do you have any error stack traces?"},{"owner":{"account_id":14513910,"reputation":41,"user_id":10483551,"display_name":"Kadri"},"score":0,"creation_date":1640703528,"post_id":70508416,"comment_id":124637675,"body_markdown":"@Krishna I&#39;m using intellij","body":"@Krishna I&#39;m using intellij"},{"owner":{"account_id":14513910,"reputation":41,"user_id":10483551,"display_name":"Kadri"},"score":0,"creation_date":1640703592,"post_id":70508416,"comment_id":124637694,"body_markdown":"@AleksanderNdoci Nope","body":"@AleksanderNdoci Nope"},{"owner":{"account_id":12173205,"reputation":101,"user_id":8887170,"display_name":"Aleksander Ndoci"},"score":1,"creation_date":1640703646,"post_id":70508416,"comment_id":124637717,"body_markdown":"can you post the request/response json?","body":"can you post the request/response json?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1640705226,"post_id":70508416,"comment_id":124638232,"body_markdown":"A sql table can only have one primary key (as the name suggests). It can consist of multiple columns. Additional keys are just (optionally unique) indexes","body":"A sql table can only have one primary key (as the name suggests). It can consist of multiple columns. Additional keys are just (optionally unique) indexes"}],"answers":[{"tags":[],"owner":{"account_id":13316371,"reputation":80,"user_id":13393881,"display_name":"fire_Rising"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640784285,"creation_date":1640784285,"answer_id":70520065,"question_id":70508416,"body_markdown":"Try to add @Embeddable annotation to ContactId class and All/No args constructors","title":"How do I write a table with 2 primary keys in springboot?","body":"<p>Try to add @Embeddable annotation to ContactId class and All/No args constructors</p>\n"}],"owner":{"account_id":14513910,"reputation":41,"user_id":10483551,"display_name":"Kadri"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640784285,"creation_date":1640701618,"question_id":70508416,"body_markdown":"First of all I&#39;m sorry if I made a mistake this is my first question\r\n\r\n\r\nI have to merge Contact table with Staff and Covid table.\r\n\r\nContact.java\r\n\r\n    public class Contact implements java.io.Serializable {\r\n\r\n    @EmbeddedId\r\n    private ContactId id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;covidId&quot;,insertable = false,updatable = false)\r\n    private Covid covidContact;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;staffId&quot;,insertable = false,updatable = false)\r\n    private Staff staffContact;\r\n    }\r\n\r\nContactId.java\r\n\r\n\r\n    public class ContactId implements Serializable {\r\n\r\n    @Column(name = &quot;covidId&quot;,insertable = false,updatable = false)\r\n    private int covidId;\r\n\r\n    @Column(name = &quot;staffId&quot;,insertable = false,updatable = false)\r\n    private int staffId;\r\n\r\n    }\r\n\r\nI wrote this but I can&#39;t get the correct result.\r\n\r\n[Output][1]\r\n\r\nWhat&#39;s wrong? Can you help me?\r\n\r\n\r\n  \r\n[Table diagram here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gQutE.png\r\n  [2]: https://i.stack.imgur.com/SnKUp.png","title":"How do I write a table with 2 primary keys in springboot?","body":"<p>First of all I'm sorry if I made a mistake this is my first question</p>\n<p>I have to merge Contact table with Staff and Covid table.</p>\n<p>Contact.java</p>\n<pre><code>public class Contact implements java.io.Serializable {\n\n@EmbeddedId\nprivate ContactId id;\n\n@ManyToOne\n@JoinColumn(name = &quot;covidId&quot;,insertable = false,updatable = false)\nprivate Covid covidContact;\n\n\n@ManyToOne\n@JoinColumn(name = &quot;staffId&quot;,insertable = false,updatable = false)\nprivate Staff staffContact;\n}\n</code></pre>\n<p>ContactId.java</p>\n<pre><code>public class ContactId implements Serializable {\n\n@Column(name = &quot;covidId&quot;,insertable = false,updatable = false)\nprivate int covidId;\n\n@Column(name = &quot;staffId&quot;,insertable = false,updatable = false)\nprivate int staffId;\n\n}\n</code></pre>\n<p>I wrote this but I can't get the correct result.</p>\n<p><a href=\"https://i.stack.imgur.com/gQutE.png\" rel=\"nofollow noreferrer\">Output</a></p>\n<p>What's wrong? Can you help me?</p>\n<p><a href=\"https://i.stack.imgur.com/SnKUp.png\" rel=\"nofollow noreferrer\">Table diagram here</a></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":152000,"reputation":13026,"user_id":366207,"accept_rate":42,"display_name":"Ahmad"},"score":0,"creation_date":1445730908,"post_id":33323981,"comment_id":54446916,"body_markdown":"When compiling a single java file from the command prompt, no &quot;project&quot; is required and the compiler just generates a simple class file. Why can&#39;t the same be done here ? Why is a &quot;project&quot; required ?","body":"When compiling a single java file from the command prompt, no &quot;project&quot; is required and the compiler just generates a simple class file. Why can&#39;t the same be done here ? Why is a &quot;project&quot; required ?"}],"answers":[{"tags":[],"owner":{"account_id":2893635,"reputation":3813,"user_id":5060066,"display_name":"Ivaylo D. Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445860070,"creation_date":1445860070,"answer_id":33345024,"question_id":33323981,"body_markdown":"This is not possible with IDEA, because in order to run a class it needs some basic configuration, like JDK, classpath, output path etc.\r\n\r\nSo you must create and configure a module and put the class file in it. \r\nThen, when running it, a command prompt terminal will be opened in the IDE itself allowing you to enter the input.","title":"How do I run/debug a single .java file in IntelliJ?","body":"<p>This is not possible with IDEA, because in order to run a class it needs some basic configuration, like JDK, classpath, output path etc.</p>\n\n<p>So you must create and configure a module and put the class file in it. \nThen, when running it, a command prompt terminal will be opened in the IDE itself allowing you to enter the input.</p>\n"},{"tags":[],"owner":{"account_id":7022432,"reputation":2723,"user_id":5381204,"accept_rate":80,"display_name":"Om Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492598099,"creation_date":1492598099,"answer_id":43493238,"question_id":33323981,"body_markdown":"To solve the error: **&quot;No module specified&quot;**. Write the name of your class in text box next to **Main class** in opened `Edit Configuration` window.\r\n\r\nHere, you put **CodingPrep** in text box next to **Main class:** in opened `Edit Configuration` window. \r\n\r\nIt will work like charm.","title":"How do I run/debug a single .java file in IntelliJ?","body":"<p>To solve the error: <strong>\"No module specified\"</strong>. Write the name of your class in text box next to <strong>Main class</strong> in opened <code>Edit Configuration</code> window.</p>\n\n<p>Here, you put <strong>CodingPrep</strong> in text box next to <strong>Main class:</strong> in opened <code>Edit Configuration</code> window. </p>\n\n<p>It will work like charm.</p>\n"},{"tags":[],"owner":{"account_id":8036411,"reputation":50,"user_id":6059365,"display_name":"Jatin Kheradiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640784204,"creation_date":1567623010,"answer_id":57794274,"question_id":33323981,"body_markdown":"If you already have some other project opened then by default new single java file will be treated as part of existing project. \r\n\r\n&gt; To run single java file (CodingPrep.java in your case), you have to open the Edit Configuration and there, add a new configuration for Java Scratch, where you provide the below items:\r\n\r\n - path to scratch file (`/home/user/path/to/CodingPrep.java`)\r\n - Main class (`CodingPrep.java`)\r\n - Working Directory\r\n - Additionally you can save this config with name `CodingPrep` or any other name.\r\n\r\nApply and Save and you are good to go.\r\n[Check the sample Edit Configuration here][1]\r\n\r\nBut since you do not have any project/do not want any project, you can use the Scratch files feature of IntelliJ. This assumes you have your code in a single `.java` file\r\nYou can use the scratch file in the following way:\r\n\r\n - Open your file using IntelliJ launch screen via **Open** option\r\n - Create a new scratch file like below\r\n[Create new scratch file in intellij][2]\r\n - Select it to be Java scratch file, which will make a main class by name `scratch.java`.\r\n - Paste content of your file in this scratch file and this will be independently runnable.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6f0Ju.jpg\r\n  [2]: https://i.stack.imgur.com/kY6A8.png","title":"How do I run/debug a single .java file in IntelliJ?","body":"<p>If you already have some other project opened then by default new single java file will be treated as part of existing project.</p>\n<blockquote>\n<p>To run single java file (CodingPrep.java in your case), you have to open the Edit Configuration and there, add a new configuration for Java Scratch, where you provide the below items:</p>\n</blockquote>\n<ul>\n<li>path to scratch file (<code>/home/user/path/to/CodingPrep.java</code>)</li>\n<li>Main class (<code>CodingPrep.java</code>)</li>\n<li>Working Directory</li>\n<li>Additionally you can save this config with name <code>CodingPrep</code> or any other name.</li>\n</ul>\n<p>Apply and Save and you are good to go.\n<a href=\"https://i.stack.imgur.com/6f0Ju.jpg\" rel=\"nofollow noreferrer\">Check the sample Edit Configuration here</a></p>\n<p>But since you do not have any project/do not want any project, you can use the Scratch files feature of IntelliJ. This assumes you have your code in a single <code>.java</code> file\nYou can use the scratch file in the following way:</p>\n<ul>\n<li>Open your file using IntelliJ launch screen via <strong>Open</strong> option</li>\n<li>Create a new scratch file like below\n<a href=\"https://i.stack.imgur.com/kY6A8.png\" rel=\"nofollow noreferrer\">Create new scratch file in intellij</a></li>\n<li>Select it to be Java scratch file, which will make a main class by name <code>scratch.java</code>.</li>\n<li>Paste content of your file in this scratch file and this will be independently runnable.</li>\n</ul>\n"}],"owner":{"account_id":152000,"reputation":13026,"user_id":366207,"accept_rate":42,"display_name":"Ahmad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4705,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1640784204,"creation_date":1445725216,"question_id":33323981,"body_markdown":"I have a simple java file as follows, which prints to the console:\r\n\r\n    import java.io.*;\r\n    import java.lang.reflect.*;\r\n    import java.lang.Math.*;\r\n    \r\n    public class CodingPrep {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n            \r\n            System.out.println(&quot;Hello World&quot;);\r\n    \r\n    \t}\r\n    }\r\n\r\nI&#39;m trying to run this file via IntelliJ, WITHOUT creating any project, etc. (There is a reason for this however it&#39;s beyond the discussion here). How can I do that ?\r\n\r\nSo far I&#39;ve just installed IntelliJ and have linked a Java JDK with it. When I try to run or debug this file, I get re-routed to the Edit Configurations Box, where there&#39;s an error showing: **&quot;No module specified&quot;**.\r\n\r\n[![enter image description here][1]][1]\r\nNote that my code is actually more than just a &quot;Hello World&quot;, however it&#39;s all command prompt based, where I have to pass arguments to my calls to the executable, and also have to provide input (via `ReadLine`) while the program is running.\r\n\r\nI need an IDE so that I can debug my java files using breakpoints, etc.\r\n\r\nWhat do I do ?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jfXNX.png","title":"How do I run/debug a single .java file in IntelliJ?","body":"<p>I have a simple java file as follows, which prints to the console:</p>\n\n<pre><code>import java.io.*;\nimport java.lang.reflect.*;\nimport java.lang.Math.*;\n\npublic class CodingPrep {\n\n    public static void main(String[] args) {\n\n        System.out.println(\"Hello World\");\n\n    }\n}\n</code></pre>\n\n<p>I'm trying to run this file via IntelliJ, WITHOUT creating any project, etc. (There is a reason for this however it's beyond the discussion here). How can I do that ?</p>\n\n<p>So far I've just installed IntelliJ and have linked a Java JDK with it. When I try to run or debug this file, I get re-routed to the Edit Configurations Box, where there's an error showing: <strong>\"No module specified\"</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jfXNX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfXNX.png\" alt=\"enter image description here\"></a>\nNote that my code is actually more than just a \"Hello World\", however it's all command prompt based, where I have to pass arguments to my calls to the executable, and also have to provide input (via <code>ReadLine</code>) while the program is running.</p>\n\n<p>I need an IDE so that I can debug my java files using breakpoints, etc.</p>\n\n<p>What do I do ?</p>\n"},{"tags":["java","android","listview"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1640814056,"post_id":70519891,"comment_id":124667332,"body_markdown":"Maje a List of booleans that save which are checked, you&#39;ll need to create a custom Adapter.","body":"Maje a List of booleans that save which are checked, you&#39;ll need to create a custom Adapter."}],"answers":[{"tags":[],"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640784055,"creation_date":1640784055,"answer_id":70520030,"question_id":70519891,"body_markdown":"It is because `ArrayAdapter` does not support this. You need to create a custom adapter that will remember what has been checked so that when it redraws a view it does not take the default value of unchecked.\r\n\r\nCreate a class that extends from `BaseAdapter` that works on an `ArrayList&lt;Model&gt;` instead of string array. In this Model you can have a boolean checked (initially all false). That way when user scrolls around or searches your model will know weather current name is selected.","title":"how to keep selected checkboxes in android searchable listview?","body":"<p>It is because <code>ArrayAdapter</code> does not support this. You need to create a custom adapter that will remember what has been checked so that when it redraws a view it does not take the default value of unchecked.</p>\n<p>Create a class that extends from <code>BaseAdapter</code> that works on an <code>ArrayList&lt;Model&gt;</code> instead of string array. In this Model you can have a boolean checked (initially all false). That way when user scrolls around or searches your model will know weather current name is selected.</p>\n"}],"owner":{"account_id":11834516,"reputation":212,"user_id":8660255,"display_name":"Morteza Hasanabadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640784055,"creation_date":1640783367,"question_id":70519891,"body_markdown":"I have a simple searchable listview with checkboxes but it can&#39;t remember my selections when it&#39;s getting filtered.\r\nwhen I filter a value and mark related checkbox then my choice won&#39;t be kept after clearing search value ... \r\n\r\n**activity_main.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnChecked&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:foregroundGravity=&quot;center_horizontal&quot;\r\n        android:text=&quot;Get checked items&quot;&gt;&lt;/Button&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/searchFilter&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:hint=&quot;Search Ingredients&quot;\r\n        android:textColor=&quot;@color/material_on_surface_emphasis_medium&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/lvMain&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;/ListView&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n**MainActivity.java**\r\n\r\n```\r\npackage com.example.listview;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.util.SparseBooleanArray;\r\nimport android.view.View;\r\nimport android.view.View.OnClickListener;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Filter;\r\nimport android.widget.ListView;\r\n\r\npublic class MainActivity extends Activity implements OnClickListener {\r\n\r\n    final String LOG_TAG = &quot;myLogs&quot;;\r\n\r\n    ListView lvMain;\r\n    String[] names;\r\n\r\n    private ArrayAdapter&lt;CharSequence&gt; adapter;\r\n\r\n\r\n\r\n    /** Called when the activity is first created. */\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        EditText theFilter = (EditText) findViewById(R.id.searchFilter);\r\n\r\n        lvMain = (ListView) findViewById(R.id.lvMain);\r\n        // here we adjust list elements choice mode\r\n        lvMain.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);\r\n        // create adapter using array from resources file\r\n        adapter = ArrayAdapter.createFromResource(\r\n                this, R.array.names,\r\n                android.R.layout.simple_list_item_multiple_choice);\r\n        lvMain.setAdapter(adapter);\r\n\r\n        Button btnChecked = (Button) findViewById(R.id.btnChecked);\r\n        btnChecked.setOnClickListener(this);\r\n\r\n        // get array from resources file\r\n        names = getResources().getStringArray(R.array.names);\r\n\r\n        theFilter.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n\r\n                (MainActivity.this).adapter.getFilter().filter(charSequence);\r\n                SparseBooleanArray scArray = lvMain.getCheckedItemPositions();\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n\r\n\r\n                // Uncheck everything:\r\n\r\n                for (int i = 0; i &lt; lvMain.getCount(); i++) {\r\n                    if (lvMain.isItemChecked(i)) {\r\n                        lvMain.setItemChecked(i, true);\r\n                    } else {\r\n                        lvMain.setItemChecked(i, false);\r\n                    }\r\n                }\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    public void onClick(View arg0) {\r\n        Log.d(LOG_TAG, &quot;checked: &quot;);\r\n        SparseBooleanArray sbArray = lvMain.getCheckedItemPositions();\r\n        for (int i = 0; i &lt; sbArray.size(); i++) {\r\n            int key = sbArray.keyAt(i);\r\n            if (sbArray.get(key))\r\n                Log.d(LOG_TAG, names[key]);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nas you can see in below pictures, it can&#39;t remember &quot;Petr&quot; and &quot;Ivan&quot; selected wrongly after search ...\r\n\r\n[![before search][1]][1]\r\n\r\n\r\n[![selecting filtered value][2]][2]\r\n\r\n[![Selection is wrong after clearing search][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AmBxf.png\r\n  [2]: https://i.stack.imgur.com/l4RvR.png\r\n  [3]: https://i.stack.imgur.com/lhVCE.png","title":"how to keep selected checkboxes in android searchable listview?","body":"<p>I have a simple searchable listview with checkboxes but it can't remember my selections when it's getting filtered.\nwhen I filter a value and mark related checkbox then my choice won't be kept after clearing search value ...</p>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;fill_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnChecked&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:foregroundGravity=&quot;center_horizontal&quot;\n        android:text=&quot;Get checked items&quot;&gt;&lt;/Button&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/searchFilter&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:hint=&quot;Search Ingredients&quot;\n        android:textColor=&quot;@color/material_on_surface_emphasis_medium&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/lvMain&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;/ListView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.listview;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.util.Log;\nimport android.util.SparseBooleanArray;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Filter;\nimport android.widget.ListView;\n\npublic class MainActivity extends Activity implements OnClickListener {\n\n    final String LOG_TAG = &quot;myLogs&quot;;\n\n    ListView lvMain;\n    String[] names;\n\n    private ArrayAdapter&lt;CharSequence&gt; adapter;\n\n\n\n    /** Called when the activity is first created. */\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        EditText theFilter = (EditText) findViewById(R.id.searchFilter);\n\n        lvMain = (ListView) findViewById(R.id.lvMain);\n        // here we adjust list elements choice mode\n        lvMain.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);\n        // create adapter using array from resources file\n        adapter = ArrayAdapter.createFromResource(\n                this, R.array.names,\n                android.R.layout.simple_list_item_multiple_choice);\n        lvMain.setAdapter(adapter);\n\n        Button btnChecked = (Button) findViewById(R.id.btnChecked);\n        btnChecked.setOnClickListener(this);\n\n        // get array from resources file\n        names = getResources().getStringArray(R.array.names);\n\n        theFilter.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n\n                (MainActivity.this).adapter.getFilter().filter(charSequence);\n                SparseBooleanArray scArray = lvMain.getCheckedItemPositions();\n\n\n\n\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n\n\n                // Uncheck everything:\n\n                for (int i = 0; i &lt; lvMain.getCount(); i++) {\n                    if (lvMain.isItemChecked(i)) {\n                        lvMain.setItemChecked(i, true);\n                    } else {\n                        lvMain.setItemChecked(i, false);\n                    }\n                }\n            }\n\n        });\n    }\n\n    public void onClick(View arg0) {\n        Log.d(LOG_TAG, &quot;checked: &quot;);\n        SparseBooleanArray sbArray = lvMain.getCheckedItemPositions();\n        for (int i = 0; i &lt; sbArray.size(); i++) {\n            int key = sbArray.keyAt(i);\n            if (sbArray.get(key))\n                Log.d(LOG_TAG, names[key]);\n        }\n    }\n}\n</code></pre>\n<p>as you can see in below pictures, it can't remember &quot;Petr&quot; and &quot;Ivan&quot; selected wrongly after search ...</p>\n<p><a href=\"https://i.stack.imgur.com/AmBxf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AmBxf.png\" alt=\"before search\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/l4RvR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l4RvR.png\" alt=\"selecting filtered value\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/lhVCE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lhVCE.png\" alt=\"Selection is wrong after clearing search\" /></a></p>\n"},{"tags":["java","spring","jsp"],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640528469,"creation_date":1640528469,"answer_id":70487141,"question_id":70485346,"body_markdown":"try adding @SessionAttributes for the model attribute on top of the controller and [remove the session attribute][1] when done\r\n\r\n    @SessionAttributes(&quot;reservation&quot;)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18209233/spring-mvc-how-to-remove-session-attribute","title":"Retrieving multiple model attributes from jsp page (Spring)","body":"<p>try adding @SessionAttributes for the model attribute on top of the controller and <a href=\"https://stackoverflow.com/questions/18209233/spring-mvc-how-to-remove-session-attribute\">remove the session attribute</a> when done</p>\n<pre><code>@SessionAttributes(&quot;reservation&quot;)\n</code></pre>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70487141,"answer_count":1,"score":0,"last_activity_date":1640784029,"creation_date":1640510168,"question_id":70485346,"body_markdown":"In ReservationController.java I have the following method, which gets a reservation object from new-reservation.jsp\r\n\r\n```\r\n@PostMapping(&quot;/addBookToReservation&quot;)\r\npublic String addBookToReservation(Model model,\r\n\t\t                          @Valid @ModelAttribute(&quot;reservation&quot;) Reservation reservation,\r\n\t\t                          BindingResult result,\r\n\t\t                          RedirectAttributes redirectAttributes) {\r\n\t\r\n\tif(result.hasErrors()) {\r\n\t\treturn &quot;reservation/new-reservation&quot;;\r\n\t}\r\n\r\n\tredirectAttributes.addFlashAttribute(&quot;reservation&quot;, reservation);\r\n\t\r\n\treturn &quot;redirect:/book/add-book&quot;;\r\n}\r\n```\r\n\r\nand sends it to BookController.java, where another method adds another attribute to the model\r\n\r\n```\r\n@GetMapping(&quot;/book/add-book&quot;)\r\npublic String showAddBookForm(Model model) {\r\n\r\n    model.addAttribute(&quot;book&quot;, new Book());\r\n    Reservation reservation = (Reservation) model.getAttribute(&quot;reservation&quot;);\r\n    System.out.println(reservation);       //prints the object I passed it!\r\n\r\n    return &quot;/book/add-book&quot;;\r\n}\r\n```\r\n\r\nand returns the following add-book.jsp\r\n\r\n```\r\n&lt;form:form action=&quot;/addBook&quot; modelAttribute=&quot;book&quot; method=&quot;post&quot;&gt;\t\t\t\t\t \r\n   &lt;div&gt;\r\n\t\t&lt;div&gt;\r\n\t\t\t&lt;form:label path=&quot;title&quot;&gt;Title&lt;/form:label&gt;\r\n\t\t\t&lt;form:input type=&quot;text&quot; id=&quot;title&quot; path=&quot;title&quot; /&gt;\r\n\t\t\t&lt;form:errors path=&quot;title&quot; /&gt;\r\n\t\t&lt;/div&gt;\r\n        ...\r\n\t&lt;/div&gt;\r\n\t&lt;div&gt;\r\n\t\t&lt;input type=&quot;submit&quot; value=&quot;Add book&quot;&gt;\r\n\t&lt;/div&gt;\r\n&lt;/form:form&gt;\r\n```\r\n\r\n\r\nNow, when I handle the form&#39;s action addBook\r\n\r\n\r\n```\r\n@PostMapping(&quot;/addBook&quot;)\r\npublic String addBook(@Valid @ModelAttribute Book book,\r\n\t\t\t\t\t\tBindingResult result,\r\n\t\t\t\t\t\tModel model) {\r\n\t\r\n    if (result.hasErrors()) {\r\n        return &quot;book/add-book&quot;;\r\n    }\r\n    \r\n    Reservation reservation = (Reservation) model.getAttribute(&quot;reservation&quot;);\r\n    System.out.println(reservation); // reservation is null!!\r\n    \r\n    \r\n    return &quot;somewhere/else&quot;;\r\n} \r\n```\r\n\r\nand I try to retrieve the reservation object from the model I get a null.\r\nHow can I pass my reservation object through the JSPs I&#39;ve showed you before?","title":"Retrieving multiple model attributes from jsp page (Spring)","body":"<p>In ReservationController.java I have the following method, which gets a reservation object from new-reservation.jsp</p>\n<pre><code>@PostMapping(&quot;/addBookToReservation&quot;)\npublic String addBookToReservation(Model model,\n                                  @Valid @ModelAttribute(&quot;reservation&quot;) Reservation reservation,\n                                  BindingResult result,\n                                  RedirectAttributes redirectAttributes) {\n    \n    if(result.hasErrors()) {\n        return &quot;reservation/new-reservation&quot;;\n    }\n\n    redirectAttributes.addFlashAttribute(&quot;reservation&quot;, reservation);\n    \n    return &quot;redirect:/book/add-book&quot;;\n}\n</code></pre>\n<p>and sends it to BookController.java, where another method adds another attribute to the model</p>\n<pre><code>@GetMapping(&quot;/book/add-book&quot;)\npublic String showAddBookForm(Model model) {\n\n    model.addAttribute(&quot;book&quot;, new Book());\n    Reservation reservation = (Reservation) model.getAttribute(&quot;reservation&quot;);\n    System.out.println(reservation);       //prints the object I passed it!\n\n    return &quot;/book/add-book&quot;;\n}\n</code></pre>\n<p>and returns the following add-book.jsp</p>\n<pre><code>&lt;form:form action=&quot;/addBook&quot; modelAttribute=&quot;book&quot; method=&quot;post&quot;&gt;                    \n   &lt;div&gt;\n        &lt;div&gt;\n            &lt;form:label path=&quot;title&quot;&gt;Title&lt;/form:label&gt;\n            &lt;form:input type=&quot;text&quot; id=&quot;title&quot; path=&quot;title&quot; /&gt;\n            &lt;form:errors path=&quot;title&quot; /&gt;\n        &lt;/div&gt;\n        ...\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Add book&quot;&gt;\n    &lt;/div&gt;\n&lt;/form:form&gt;\n</code></pre>\n<p>Now, when I handle the form's action addBook</p>\n<pre><code>@PostMapping(&quot;/addBook&quot;)\npublic String addBook(@Valid @ModelAttribute Book book,\n                        BindingResult result,\n                        Model model) {\n    \n    if (result.hasErrors()) {\n        return &quot;book/add-book&quot;;\n    }\n    \n    Reservation reservation = (Reservation) model.getAttribute(&quot;reservation&quot;);\n    System.out.println(reservation); // reservation is null!!\n    \n    \n    return &quot;somewhere/else&quot;;\n} \n</code></pre>\n<p>and I try to retrieve the reservation object from the model I get a null.\nHow can I pass my reservation object through the JSPs I've showed you before?</p>\n"},{"tags":["java","groovy","clover"],"comments":[{"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"score":0,"creation_date":1640786899,"post_id":70519451,"comment_id":124658503,"body_markdown":"What version of groovy are you using?  There was a recent JIRA issue where a new override in the hierarchy in JDK 16+ changed the super mop method distance. It was fixed in Groovy 4 which is at RC2 as of today.","body":"What version of groovy are you using?  There was a recent JIRA issue where a new override in the hierarchy in JDK 16+ changed the super mop method distance. It was fixed in Groovy 4 which is at RC2 as of today."},{"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"score":0,"creation_date":1640801445,"post_id":70519451,"comment_id":124663633,"body_markdown":"The build toolchain for OpenClover seems to use `groovy-all-2.4.15.jar` while running test cases. But the version of Groovy depends on other libraries (ex. https://github.com/openclover/clover/blob/master/groovy/build.xml and https://github.com/openclover/clover/blob/master/common.xml), so I&#39;m not sure how to change the version of Groovy consistently.","body":"The build toolchain for OpenClover seems to use <code>groovy-all-2.4.15.jar</code> while running test cases. But the version of Groovy depends on other libraries (ex. <a href=\"https://github.com/openclover/clover/blob/master/groovy/build.xml\" rel=\"nofollow noreferrer\">github.com/openclover/clover/blob/master/groovy/build.xml</a> and <a href=\"https://github.com/openclover/clover/blob/master/common.xml\" rel=\"nofollow noreferrer\">github.com/openclover/clover/blob/master/common.xml</a>), so I&#39;m not sure how to change the version of Groovy consistently."},{"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"score":0,"creation_date":1640803646,"post_id":70519451,"comment_id":124664296,"body_markdown":"Looks like you have some work to do in the Ant scripts. Groovy 2.5+ has converted the all jar to a pom.  Groovy 3+ is needed for Java 16+ support.","body":"Looks like you have some work to do in the Ant scripts. Groovy 2.5+ has converted the all jar to a pom.  Groovy 3+ is needed for Java 16+ support."}],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640783987,"creation_date":1640781165,"question_id":70519451,"body_markdown":"Cannot call ClassLoader.defineClass() from its subclass in Groovy\r\n\r\nI am trying to build [OpenClover](http://openclover.org/) on JDK17.\r\n\r\nWhen I run an ant target `clover-core.test`, the test `com.atlassian.clover.ClassInstanceProxyTest` is failed with following log. It says the call of `com.atlassian.clover.util.PrecannedClassLoader.defineClass()` cannot be assigned to any method:\r\n\r\n```lang-plaintext\r\nTestsuite: com.atlassian.clover.ClassInstanceProxyTest\r\nTests run: 6, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.85 sec\r\n\r\nTestcase: testDuplicates took 0.319 sec\r\nTestcase: testClassAndClassloaderHashCollisionForClassesWithDifferentNames took 0.037 sec\r\nTestcase: testNull took 0 sec\r\nTestcase: testDifferentClassloaders took 0.342 sec\r\n\tCaused an ERROR\r\nNo signature of method: com.atlassian.clover.util.PrecannedClassLoader.defineClass() is applicable for argument types: (java.lang.String, [B, java.lang.Integer, java.lang.Integer) values: [com.atlassian.clover.ClassInstanceProxy, [-54, -2, -70, -66, ...], ...]\r\ngroovy.lang.MissingMethodException: No signature of method: com.atlassian.clover.util.PrecannedClassLoader.defineClass() is applicable for argument types: (java.lang.String, [B, java.lang.Integer, java.lang.Integer) values: [com.atlassian.clover.ClassInstanceProxy, [-54, -2, -70, -66, ...], ...]\r\n\tat org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:71)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:80)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:157)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:193)\r\n\tat com.atlassian.clover.util.PrecannedClassLoader.findClass(PrecannedClassLoader.groovy:37)\r\n\tat com.atlassian.clover.util.PrecannedClassLoader.loadClass(PrecannedClassLoader.groovy:16)\r\n\tat com.atlassian.clover.util.PrecannedClassLoader$loadClass.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:136)\r\n\tat com.atlassian.clover.ClassInstanceProxyTest.testDifferentClassloaders(ClassInstanceProxyTest.groovy:51)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nTestcase: testIdentiy took 0 sec\r\nTestcase: testDifferent took 0 sec\r\n```\r\n\r\n[`com.atlassian.clover.util.PrecannedClassLoader`](https://github.com/openclover/clover/blob/master/clover-core/src/test/groovy/com/atlassian/clover/util/PrecannedClassLoader.groovy) is a subclass of `java.lang.ClassLoader` written in Groovy. `java.lang.ClassLoader#defineClass​(String name, byte[] b, int off, int len)` is a `protected` method, so I think it should be called property from its subclasses.\r\n\r\nI have tried to change the call of `defineClass()` with `super.defineClass()` to call the method on the parent class explicitly, but I got following error:\r\n\r\n```lang-plaintext\r\nTestsuite: com.atlassian.clover.ClassInstanceProxyTest\r\nTests run: 6, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.748 sec\r\n\r\nTestcase: testDuplicates took 0.299 sec\r\nTestcase: testClassAndClassloaderHashCollisionForClassesWithDifferentNames took 0.037 sec\r\nTestcase: testNull took 0.001 sec\r\nTestcase: testDifferentClassloaders took 0.271 sec\r\n\tCaused an ERROR\r\nNo signature of method: com.atlassian.clover.util.PrecannedClassLoader.defineClass() is applicable for argument types: (java.lang.String, [B, java.lang.Integer, java.lang.Integer) values: [com.atlassian.clover.ClassInstanceProxy, [-54, -2, -70, -66, ...], ...]\r\ngroovy.lang.MissingMethodException: No signature of method: com.atlassian.clover.util.PrecannedClassLoader.defineClass() is applicable for argument types: (java.lang.String, [B, java.lang.Integer, java.lang.Integer) values: [com.atlassian.clover.ClassInstanceProxy, [-54, -2, -70, -66, ...], ...]\r\n\tat org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:71)\r\n\tat org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuperN(ScriptBytecodeAdapter.java:147)\r\n\tat com.atlassian.clover.util.PrecannedClassLoader.findClass(PrecannedClassLoader.groovy:37)\r\n\tat com.atlassian.clover.util.PrecannedClassLoader.loadClass(PrecannedClassLoader.groovy:16)\r\n\tat com.atlassian.clover.util.PrecannedClassLoader$loadClass.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:136)\r\n\tat com.atlassian.clover.ClassInstanceProxyTest.testDifferentClassloaders(ClassInstanceProxyTest.groovy:51)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nTestcase: testIdentiy took 0.001 sec\r\nTestcase: testDifferent took 0 sec\r\n```\r\n\r\n\r\n## Question\r\n\r\nWhy the call of `defineClass()` on `com.atlassian.clover.util.PrecannedClassLoader` properly refers `java.lang.ClassLoader#defineClass​()` in Groovy?\r\n","title":"Cannot call ClassLoader.defineClass() from its subclass in Groovy","body":"<p>Cannot call ClassLoader.defineClass() from its subclass in Groovy</p>\n<p>I am trying to build <a href=\"http://openclover.org/\" rel=\"nofollow noreferrer\">OpenClover</a> on JDK17.</p>\n<p>When I run an ant target <code>clover-core.test</code>, the test <code>com.atlassian.clover.ClassInstanceProxyTest</code> is failed with following log. It says the call of <code>com.atlassian.clover.util.PrecannedClassLoader.defineClass()</code> cannot be assigned to any method:</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>Testsuite: com.atlassian.clover.ClassInstanceProxyTest\nTests run: 6, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.85 sec\n\nTestcase: testDuplicates took 0.319 sec\nTestcase: testClassAndClassloaderHashCollisionForClassesWithDifferentNames took 0.037 sec\nTestcase: testNull took 0 sec\nTestcase: testDifferentClassloaders took 0.342 sec\n    Caused an ERROR\nNo signature of method: com.atlassian.clover.util.PrecannedClassLoader.defineClass() is applicable for argument types: (java.lang.String, [B, java.lang.Integer, java.lang.Integer) values: [com.atlassian.clover.ClassInstanceProxy, [-54, -2, -70, -66, ...], ...]\ngroovy.lang.MissingMethodException: No signature of method: com.atlassian.clover.util.PrecannedClassLoader.defineClass() is applicable for argument types: (java.lang.String, [B, java.lang.Integer, java.lang.Integer) values: [com.atlassian.clover.ClassInstanceProxy, [-54, -2, -70, -66, ...], ...]\n    at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:71)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:80)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:157)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:193)\n    at com.atlassian.clover.util.PrecannedClassLoader.findClass(PrecannedClassLoader.groovy:37)\n    at com.atlassian.clover.util.PrecannedClassLoader.loadClass(PrecannedClassLoader.groovy:16)\n    at com.atlassian.clover.util.PrecannedClassLoader$loadClass.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:136)\n    at com.atlassian.clover.ClassInstanceProxyTest.testDifferentClassloaders(ClassInstanceProxyTest.groovy:51)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nTestcase: testIdentiy took 0 sec\nTestcase: testDifferent took 0 sec\n</code></pre>\n<p><a href=\"https://github.com/openclover/clover/blob/master/clover-core/src/test/groovy/com/atlassian/clover/util/PrecannedClassLoader.groovy\" rel=\"nofollow noreferrer\"><code>com.atlassian.clover.util.PrecannedClassLoader</code></a> is a subclass of <code>java.lang.ClassLoader</code> written in Groovy. <code>java.lang.ClassLoader#defineClass​(String name, byte[] b, int off, int len)</code> is a <code>protected</code> method, so I think it should be called property from its subclasses.</p>\n<p>I have tried to change the call of <code>defineClass()</code> with <code>super.defineClass()</code> to call the method on the parent class explicitly, but I got following error:</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>Testsuite: com.atlassian.clover.ClassInstanceProxyTest\nTests run: 6, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.748 sec\n\nTestcase: testDuplicates took 0.299 sec\nTestcase: testClassAndClassloaderHashCollisionForClassesWithDifferentNames took 0.037 sec\nTestcase: testNull took 0.001 sec\nTestcase: testDifferentClassloaders took 0.271 sec\n    Caused an ERROR\nNo signature of method: com.atlassian.clover.util.PrecannedClassLoader.defineClass() is applicable for argument types: (java.lang.String, [B, java.lang.Integer, java.lang.Integer) values: [com.atlassian.clover.ClassInstanceProxy, [-54, -2, -70, -66, ...], ...]\ngroovy.lang.MissingMethodException: No signature of method: com.atlassian.clover.util.PrecannedClassLoader.defineClass() is applicable for argument types: (java.lang.String, [B, java.lang.Integer, java.lang.Integer) values: [com.atlassian.clover.ClassInstanceProxy, [-54, -2, -70, -66, ...], ...]\n    at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:71)\n    at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuperN(ScriptBytecodeAdapter.java:147)\n    at com.atlassian.clover.util.PrecannedClassLoader.findClass(PrecannedClassLoader.groovy:37)\n    at com.atlassian.clover.util.PrecannedClassLoader.loadClass(PrecannedClassLoader.groovy:16)\n    at com.atlassian.clover.util.PrecannedClassLoader$loadClass.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:136)\n    at com.atlassian.clover.ClassInstanceProxyTest.testDifferentClassloaders(ClassInstanceProxyTest.groovy:51)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nTestcase: testIdentiy took 0.001 sec\nTestcase: testDifferent took 0 sec\n</code></pre>\n<h2>Question</h2>\n<p>Why the call of <code>defineClass()</code> on <code>com.atlassian.clover.util.PrecannedClassLoader</code> properly refers <code>java.lang.ClassLoader#defineClass​()</code> in Groovy?</p>\n"},{"tags":["java","android","postgresql","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":23266771,"reputation":13,"user_id":17352193,"display_name":"Profeta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640650072,"creation_date":1640650072,"answer_id":70501587,"question_id":70501548,"body_markdown":"You are missing `Class.forName(&quot;org.postgresql.Driver&quot;)`, above `DriverManager.getConnection`","title":"Can&#39;t connect Android application to local PostgreSQL database","body":"<p>You are missing <code>Class.forName(&quot;org.postgresql.Driver&quot;)</code>, above <code>DriverManager.getConnection</code></p>\n"},{"tags":[],"owner":{"account_id":2679942,"reputation":467,"user_id":2315516,"display_name":"Golil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640689757,"creation_date":1640689757,"answer_id":70506187,"question_id":70501548,"body_markdown":"`localhost:5432` is accessible from the device? if you test in a real device your PostgreSQL server must be in your device network or if the device is connected with the USB cable you can use the ADB port forward to connect to the server.","title":"Can&#39;t connect Android application to local PostgreSQL database","body":"<p><code>localhost:5432</code> is accessible from the device? if you test in a real device your PostgreSQL server must be in your device network or if the device is connected with the USB cable you can use the ADB port forward to connect to the server.</p>\n"},{"tags":[],"owner":{"account_id":16247046,"reputation":11,"user_id":11731898,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640727250,"creation_date":1640727250,"answer_id":70512782,"question_id":70501548,"body_markdown":"Try changing replacing the host line with this:\r\n\r\n    private final String host = &quot;10.0.2.2&quot;;","title":"Can&#39;t connect Android application to local PostgreSQL database","body":"<p>Try changing replacing the host line with this:</p>\n<pre><code>private final String host = &quot;10.0.2.2&quot;;\n</code></pre>\n"}],"owner":{"account_id":16250576,"reputation":552,"user_id":11734659,"display_name":"Programmer2B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1640783413,"creation_date":1640649481,"question_id":70501548,"body_markdown":"I have created a PostgreSQL database schema and I want to connect an android application with the database. I get this error: \r\n```\r\n&quot;W/System.err: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.&quot;\r\n```\r\nHere is my code:\r\n```\r\npublic class Database {\r\n\r\n    private Connection connection;\r\n\r\n    private final String host = &quot;localhost&quot;;\r\n    private final String database = &quot;postgres&quot;;\r\n    private final int port = 5432;\r\n    private final String user = &quot;postgres&quot;;\r\n    private final String pass = &quot;password&quot;;\r\n    private String url = &quot;jdbc:postgresql://%s:%d/%s&quot;;\r\n    private boolean status;\r\n\r\n    public Database() {\r\n        this.url = String.format(this.url, this.host, this.port, this.database);\r\n        connect();\r\n        //this.disconnect();\r\n        System.out.println(&quot;connection status:&quot; + status);\r\n    }\r\n\r\n    private void connect() {\r\n        Thread thread = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Class.forName(&quot;org.postgresql.Driver&quot;);\r\n                    connection = DriverManager.getConnection(url, user, pass);\r\n                    status = true;\r\n                    System.out.println(&quot;connected:&quot; + status);\r\n                } catch (Exception e) {\r\n                    status = false;\r\n                    System.out.print(e.getMessage());\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        thread.start();\r\n        try {\r\n            thread.join();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            this.status = false;\r\n        }\r\n    }\r\n\r\n    public Connection getExtraConnection(){\r\n        Connection c = null;\r\n        try {\r\n            Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            c = DriverManager.getConnection(url, user, pass);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return c;\r\n    }\r\n}\r\n```\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Database db = new Database();\r\n    }\r\n}\r\n```\r\nWhen I run netstat -a, it&#39;s all ok, it accepts TCP connections. I can not find anywhere anything that helps for connecting an Android application with a local PostgreSQL database. What is the problem and how can I fix this?","title":"Can&#39;t connect Android application to local PostgreSQL database","body":"<p>I have created a PostgreSQL database schema and I want to connect an android application with the database. I get this error:</p>\n<pre><code>&quot;W/System.err: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.&quot;\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>public class Database {\n\n    private Connection connection;\n\n    private final String host = &quot;localhost&quot;;\n    private final String database = &quot;postgres&quot;;\n    private final int port = 5432;\n    private final String user = &quot;postgres&quot;;\n    private final String pass = &quot;password&quot;;\n    private String url = &quot;jdbc:postgresql://%s:%d/%s&quot;;\n    private boolean status;\n\n    public Database() {\n        this.url = String.format(this.url, this.host, this.port, this.database);\n        connect();\n        //this.disconnect();\n        System.out.println(&quot;connection status:&quot; + status);\n    }\n\n    private void connect() {\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Class.forName(&quot;org.postgresql.Driver&quot;);\n                    connection = DriverManager.getConnection(url, user, pass);\n                    status = true;\n                    System.out.println(&quot;connected:&quot; + status);\n                } catch (Exception e) {\n                    status = false;\n                    System.out.print(e.getMessage());\n                    e.printStackTrace();\n                }\n            }\n        });\n        thread.start();\n        try {\n            thread.join();\n        } catch (Exception e) {\n            e.printStackTrace();\n            this.status = false;\n        }\n    }\n\n    public Connection getExtraConnection(){\n        Connection c = null;\n        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n            c = DriverManager.getConnection(url, user, pass);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return c;\n    }\n}\n</code></pre>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Database db = new Database();\n    }\n}\n</code></pre>\n<p>When I run netstat -a, it's all ok, it accepts TCP connections. I can not find anywhere anything that helps for connecting an Android application with a local PostgreSQL database. What is the problem and how can I fix this?</p>\n"},{"tags":["java","docker","jboss","tls1.3"],"answers":[{"tags":[],"owner":{"account_id":191808,"reputation":973,"user_id":432605,"accept_rate":50,"display_name":"Burcin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640783027,"creation_date":1640783027,"answer_id":70519805,"question_id":70517507,"body_markdown":"I download the jdk1.8.0_311 package an unzip it. With using COPY command I override the old JDK in the image with DockerFile, it worked!\r\n\r\n**DockerFile**\r\n\r\n    FROM jboss/wildfly:10.1.0.Final\r\n    \r\n    USER root\r\n    COPY JRE/* /usr/lib/jvm/java/\r\n    RUN chown -R root /usr/lib/jvm/java/\r\n    RUN chmod -R 775 /usr/lib/jvm/java/\r\n\r\n","title":"Updating OpenJDK Version in an Older jboss/wildfly Docker Image","body":"<p>I download the jdk1.8.0_311 package an unzip it. With using COPY command I override the old JDK in the image with DockerFile, it worked!</p>\n<p><strong>DockerFile</strong></p>\n<pre><code>FROM jboss/wildfly:10.1.0.Final\n\nUSER root\nCOPY JRE/* /usr/lib/jvm/java/\nRUN chown -R root /usr/lib/jvm/java/\nRUN chmod -R 775 /usr/lib/jvm/java/\n</code></pre>\n"}],"owner":{"account_id":191808,"reputation":973,"user_id":432605,"accept_rate":50,"display_name":"Burcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70519805,"answer_count":1,"score":0,"last_activity_date":1640783027,"creation_date":1640770134,"question_id":70517507,"body_markdown":"For **TLSv1.3** support we need min Java 8u261-b12 version as [discussed here][1]. \r\n\r\nHow can we update Open JDK version to **8u lastest** in an older Docker Image such as **jboss/wildfly:10.1.0.Final**?\r\n\r\nIs there a best practice for that? My DockerFile starts like that:\r\n\r\n    FROM jboss/wildfly:10.1.0.Final\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29437596/tlsv1-3-is-it-available-now-in-java-8","title":"Updating OpenJDK Version in an Older jboss/wildfly Docker Image","body":"<p>For <strong>TLSv1.3</strong> support we need min Java 8u261-b12 version as <a href=\"https://stackoverflow.com/questions/29437596/tlsv1-3-is-it-available-now-in-java-8\">discussed here</a>.</p>\n<p>How can we update Open JDK version to <strong>8u lastest</strong> in an older Docker Image such as <strong>jboss/wildfly:10.1.0.Final</strong>?</p>\n<p>Is there a best practice for that? My DockerFile starts like that:</p>\n<pre><code>FROM jboss/wildfly:10.1.0.Final\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","caching","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1549573476,"post_id":54577172,"comment_id":95961415,"body_markdown":"Have you tried to update a copy of your project using `jhipster upgrade`?","body":"Have you tried to update a copy of your project using <code>jhipster upgrade</code>?"},{"owner":{"account_id":14073231,"reputation":173,"user_id":10166224,"display_name":"Benjamin Gowers"},"score":0,"creation_date":1549575416,"post_id":54577172,"comment_id":95962352,"body_markdown":"Unfortunately that’s how I got into this mess. It upgraded 2 versions and so while merging the updated files back in, caused merge conflicts and errors in around 200 files (almost went insane fixing them).  Now this seems to be the last thing but I’m unsure whether it’s a dependancy issue in my pom or a more core problem.","body":"Unfortunately that’s how I got into this mess. It upgraded 2 versions and so while merging the updated files back in, caused merge conflicts and errors in around 200 files (almost went insane fixing them).  Now this seems to be the last thing but I’m unsure whether it’s a dependancy issue in my pom or a more core problem."},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1549579590,"post_id":54577172,"comment_id":95963935,"body_markdown":"Are you sure this error is the first one in logs? It could be a consequence of an earlier error as it was for this user https://github.com/hipster-labs/generator-jhipster-entity-audit/issues/60","body":"Are you sure this error is the first one in logs? It could be a consequence of an earlier error as it was for this user <a href=\"https://github.com/hipster-labs/generator-jhipster-entity-audit/issues/60\" rel=\"nofollow noreferrer\">github.com/hipster-labs/generator-jhipster-entity-audit/issu&zwnj;&#8203;es/&hellip;</a>"},{"owner":{"account_id":14073231,"reputation":173,"user_id":10166224,"display_name":"Benjamin Gowers"},"score":0,"creation_date":1549613865,"post_id":54577172,"comment_id":95972965,"body_markdown":"Unfortunately it does seem that this is the first error in the logs.  I have checked through thoroughly.","body":"Unfortunately it does seem that this is the first error in the logs.  I have checked through thoroughly."}],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640782839,"creation_date":1640775388,"answer_id":70518433,"question_id":54577172,"body_markdown":"Just remove this line and it&#39;s will works:\r\n\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n\r\nfor example:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tablename&quot;)\r\n    //@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class ClassName implements Serializable{","title":"How to fix &#39;All Hibernate caches should be created upfront. Please update CacheConfiguration.java to add com.nissan.rca.domain.OCIOMacroTypeOfService&#39;","body":"<p>Just remove this line and it's will works:</p>\n<pre><code>@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n</code></pre>\n<p>for example:</p>\n<pre><code>@Entity\n@Table(name = &quot;tablename&quot;)\n//@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class ClassName implements Serializable{\n</code></pre>\n"}],"owner":{"account_id":14073231,"reputation":173,"user_id":10166224,"display_name":"Benjamin Gowers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640782839,"creation_date":1549554624,"question_id":54577172,"body_markdown":"I am fairly new to JHipster and the technology that it uses.  A project that I have joined recently was made using JHipster with spring-boot, hibernate, liquidbase, maven and angular 4.  I took it on myself to upgrade the project (since a lot of the technologies were outdated versions) and I have got stuck trying to solve this error.\r\nI don&#39;t know much about caching at all and don&#39;t really know what the config files do, however I believe that the errors lie in the DatabaseConfiguration.java and CacheConfiguration.java files.\r\n\r\nI receive this error after running the backend with &lt;code&gt;mvn spring-boot:run&lt;/code&gt;\r\n\r\nI&#39;m not sure what to try or how to fix this, however I had a look in CacheConfiguration.java and found that the class which it is telling me to add (com.nissan.rca.domain.OCIOMacroTypeOfService) for caching is already added to the cache manager.\r\n\r\nThis is the error:\r\n\r\n````\r\n2019-02-07 14:58:20.013  WARN 9392 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.spri\r\nngframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error cr\r\neating bean with name &#39;servletEndpointRegistrar&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$Web\r\nMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to ins\r\ntantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &#39;servletEndpointRegistrar&#39; threw exception; nested exception is org.springframework.beans.fa\r\nctory.UnsatisfiedDependencyException: Error creating bean with name &#39;auditEventsEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndp\r\nointAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;auditEventsEndpoint&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyEx\r\nception: Error creating bean with name &#39;customAuditEventRepository&#39; defined in file [D:\\RCA\\ResourceCalenderApplication\\target\\classes\\com\\nissan\\rca\\repository\\CustomAuditEventRepository.cl\r\nass]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;persistenc\r\neAuditEventRepository&#39;: Cannot create inner bean &#39;(inner bean)#1411479e&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested\r\nexception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#1411479e&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while set\r\nting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [o\r\nrg/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit\r\n: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: All Hibernate caches should be created upfront. Please update CacheConfiguration.jav\r\na to add com.nissan.rca.domain.OCIOMacroTypeOfService\r\n2019-02-07 14:58:20.270 ERROR 9392 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n````\r\n\r\nHere is CacheConfiguration.java\r\n````\r\npackage com.nissan.rca.config;\r\nimport java.time.Duration;\r\nimport org.ehcache.config.builders.*;\r\nimport org.ehcache.jsr107.Eh107Configuration;\r\nimport io.github.jhipster.config.jcache.BeanClassLoaderAwareJCacheRegionFactory;\r\nimport io.github.jhipster.config.JHipsterProperties;\r\nimport org.springframework.boot.autoconfigure.AutoConfigureAfter;\r\nimport org.springframework.boot.autoconfigure.AutoConfigureBefore;\r\nimport org.springframework.boot.autoconfigure.cache.JCacheManagerCustomizer;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.*;\r\n\r\n@Configuration\r\n@EnableCaching\r\n// @AutoConfigureAfter(value = { MetricsConfiguration.class })\r\n@AutoConfigureBefore(value = { WebConfigurer.class, DatabaseConfiguration.class })\r\npublic class CacheConfiguration {\r\n\r\n    private final javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration;\r\n\r\n    public CacheConfiguration(JHipsterProperties jHipsterProperties) {\r\n        BeanClassLoaderAwareJCacheRegionFactory.setBeanClassLoader(this.getClass().getClassLoader());\r\n        JHipsterProperties.Cache.Ehcache ehcache =\r\n            jHipsterProperties.getCache().getEhcache();\r\n\r\n        jcacheConfiguration = Eh107Configuration.fromEhcacheCacheConfiguration(\r\n            CacheConfigurationBuilder.newCacheConfigurationBuilder(Object.class, Object.class,\r\n                ResourcePoolsBuilder.heap(ehcache.getMaxEntries()))\r\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(ehcache.getTimeToLiveSeconds())))\r\n                .build());\r\n    }\r\n\r\n    @Bean\r\n    public JCacheManagerCustomizer cacheManagerCustomizer() {\r\n        return cm -&gt; {\r\n            cm.createCache(com.nissan.rca.repository.UserRepository.USERS_BY_LOGIN_CACHE, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.repository.UserRepository.USERS_BY_EMAIL_CACHE, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.User.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Authority.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.User.class.getName() + &quot;.authorities&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Resource.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Resource.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagementType.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagementType.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.EVPLevel.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.EVPLevel.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Vendor.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Vendor.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.TechnologyPlatform.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.TechnologyPlatform.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Role.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Role.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Section.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Section.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Location.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Location.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOTechnologySoftware.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOTechnologySoftware.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOTypeOfService.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOTypeOfService.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOMacroTypeOfService.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOMacroTypeOfService.class.getName() + &quot;.oCIOTypeOfServices&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName() + &quot;.currencyExchangeToEuros&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.UserAccess.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.UserAccess.class.getName() + &quot;.resources&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + &quot;.currencyExchangeToEuros&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + &quot;.projectBudgets&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + &quot;.ongoingBudgets&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Project.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Project.class.getName() + &quot;.projectBudgets&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName() + &quot;.projects&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName() + &quot;.ongoingBudgets&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectPhase.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectPhase.class.getName() + &quot;.projects&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.CurrencyExchangeToEuro.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingResourceBudgeting.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingSpendItem.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectSpendItem.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectResourceBudgeting.class.getName(), jcacheConfiguration);\r\n            // jhipster-needle-ehcache-add-entry\r\n        };\r\n    }\r\n}\r\n````\r\n\r\nHere is the DatabseConfiguration.java\r\n````\r\npackage com.nissan.rca.config;\r\n\r\nimport io.github.jhipster.config.JHipsterConstants;\r\nimport io.github.jhipster.config.liquibase.AsyncSpringLiquibase;\r\n\r\nimport liquibase.integration.spring.SpringLiquibase;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.autoconfigure.liquibase.LiquibaseProperties;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.core.task.TaskExecutor;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\nimport java.sql.SQLException;\r\n\r\n@Configuration\r\n@EnableJpaRepositories(&quot;com.nissan.rca.repository&quot;)\r\n@EnableJpaAuditing(auditorAwareRef = &quot;springSecurityAuditorAware&quot;)\r\n@EnableTransactionManagement\r\npublic class DatabaseConfiguration {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(DatabaseConfiguration.class);\r\n\r\n    private final Environment env;\r\n\r\n    public DatabaseConfiguration(Environment env) {\r\n        this.env = env;\r\n    }\r\n\r\n    /**\r\n     * Open the TCP port for the H2 database, so it is available remotely.\r\n     *\r\n     * @return the H2 database TCP server\r\n     * @throws SQLException if the server failed to start\r\n     */\r\n    @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n    @Profile(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT)\r\n    public Object h2TCPServer() throws SQLException {\r\n        try {\r\n            // We don&#39;t want to include H2 when we are packaging for the &quot;prod&quot; profile and won&#39;t\r\n            // actually need it, so we have to load / invoke things at runtime through reflection.\r\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n            Class&lt;?&gt; serverClass = Class.forName(&quot;org.h2.tools.Server&quot;, true, loader);\r\n            Method createServer = serverClass.getMethod(&quot;createTcpServer&quot;, String[].class);\r\n            return createServer.invoke(null, new Object[] { new String[] { &quot;-tcp&quot;, &quot;-tcpAllowOthers&quot; } });\r\n\r\n        } catch (ClassNotFoundException | LinkageError  e) {\r\n            throw new RuntimeException(&quot;Failed to load and initialize org.h2.tools.Server&quot;, e);\r\n\r\n        } catch (SecurityException | NoSuchMethodException e) {\r\n            throw new RuntimeException(&quot;Failed to get method org.h2.tools.Server.createTcpServer()&quot;, e);\r\n\r\n        } catch (IllegalAccessException | IllegalArgumentException e) {\r\n            throw new RuntimeException(&quot;Failed to invoke org.h2.tools.Server.createTcpServer()&quot;, e);\r\n\r\n        } catch (InvocationTargetException e) {\r\n            Throwable t = e.getTargetException();\r\n            if (t instanceof SQLException) {\r\n                throw (SQLException) t;\r\n            }\r\n            throw new RuntimeException(&quot;Unchecked exception in org.h2.tools.Server.createTcpServer()&quot;, t);\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public SpringLiquibase liquibase(@Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\r\n            DataSource dataSource, LiquibaseProperties liquibaseProperties) {\r\n\r\n        // Use liquibase.integration.spring.SpringLiquibase if you don&#39;t want Liquibase to start asynchronously\r\n        SpringLiquibase liquibase = new AsyncSpringLiquibase(taskExecutor, env);\r\n        liquibase.setDataSource(dataSource);\r\n        liquibase.setChangeLog(&quot;classpath:config/liquibase/master.xml&quot;);\r\n        liquibase.setContexts(liquibaseProperties.getContexts());\r\n        liquibase.setDefaultSchema(liquibaseProperties.getDefaultSchema());\r\n        liquibase.setDropFirst(liquibaseProperties.isDropFirst());\r\n        if (env.acceptsProfiles(JHipsterConstants.SPRING_PROFILE_NO_LIQUIBASE)) {\r\n            liquibase.setShouldRun(false);\r\n        } else {\r\n            liquibase.setShouldRun(liquibaseProperties.isEnabled());\r\n            log.debug(&quot;Configuring Liquibase&quot;);\r\n        }\r\n        return liquibase;\r\n    }\r\n}\r\n````\r\nAnd here is the class which is shown in the error, OCIOMacroTypeOfService.java\r\n````\r\npackage com.nissan.rca.domain;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport org.hibernate.annotations.Cache;\r\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\r\n\r\nimport javax.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport java.util.Objects;\r\n\r\n/**\r\n * A OCIOMacroTypeOfService.\r\n */\r\n@Entity\r\n@Table(name = &quot;ociomacrotypeofservice&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\npublic class OCIOMacroTypeOfService implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    \r\n    @Id\r\n    @Column(name = &quot;ocio_macro_type_code&quot;)\r\n    private String ocioMacroTypeOfServiceCode;\r\n\r\n    @Column(name = &quot;ocio_macro_type_description&quot;)\r\n    private String ocioMacroTypeDescription;\r\n\r\n    @OneToMany(mappedBy = &quot;ocioMacroTypeOfService&quot;)\r\n    @JsonIgnore\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    private Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices = new HashSet&lt;&gt;();\r\n    // jhipster-needle-entity-add-field - JHipster will add fields here, do not remove\r\n    public String getOcioMacroTypeOfServiceCode() {\r\n        return ocioMacroTypeOfServiceCode;\r\n    }\r\n\r\n    public void setOcioMacroTypeOfServiceCode(String ocioMacroTypeOfServiceCode) {\r\n        this.ocioMacroTypeOfServiceCode = ocioMacroTypeOfServiceCode;\r\n    }\r\n\r\n    public String getOcioMacroTypeOfServiceDescription() {\r\n        return ocioMacroTypeDescription;\r\n    }\r\n\r\n    public OCIOMacroTypeOfService ocioMacroTypeOfServiceDescription(String ocioMacroTypeDescription) {\r\n        this.ocioMacroTypeDescription = ocioMacroTypeDescription;\r\n        return this;\r\n    }\r\n\r\n    public void setOcioMacroTypeOfServiceDescription(String ocioMacroTypeDescription) {\r\n        this.ocioMacroTypeDescription = ocioMacroTypeDescription;\r\n    }\r\n\r\n    public Set&lt;OCIOTypeOfService&gt; getOCIOTypeOfServices() {\r\n        return oCIOTypeOfServices;\r\n    }\r\n\r\n    public OCIOMacroTypeOfService oCIOTypeOfServices(Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices) {\r\n        this.oCIOTypeOfServices = oCIOTypeOfServices;\r\n        return this;\r\n    }\r\n\r\n    public OCIOMacroTypeOfService addOCIOTypeOfService(OCIOTypeOfService oCIOTypeOfService) {\r\n        this.oCIOTypeOfServices.add(oCIOTypeOfService);\r\n        oCIOTypeOfService.setOcioMacroTypeOfService(this);\r\n        return this;\r\n    }\r\n\r\n    public OCIOMacroTypeOfService removeOCIOTypeOfService(OCIOTypeOfService oCIOTypeOfService) {\r\n        this.oCIOTypeOfServices.remove(oCIOTypeOfService);\r\n        oCIOTypeOfService.setOcioMacroTypeOfService(null);\r\n        return this;\r\n    }\r\n\r\n    public void setOCIOTypeOfServices(Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices) {\r\n        this.oCIOTypeOfServices = oCIOTypeOfServices;\r\n    }\r\n    // jhipster-needle-entity-add-getters-setters - JHipster will add getters and setters here, do not remove\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n            return false;\r\n        }\r\n        OCIOMacroTypeOfService oCIOMacroTypeOfService = (OCIOMacroTypeOfService) o;\r\n        if (oCIOMacroTypeOfService.getOcioMacroTypeOfServiceCode() == null || getOcioMacroTypeOfServiceCode() == null) {\r\n            return false;\r\n        }\r\n        return Objects.equals(getOcioMacroTypeOfServiceCode(), oCIOMacroTypeOfService.getOcioMacroTypeOfServiceCode());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hashCode(getOcioMacroTypeOfServiceCode());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OCIOMacroTypeOfService{&quot; +\r\n            &quot;ocioMacroTypeOfServiceCode=&quot; + getOcioMacroTypeOfServiceCode() +\r\n            &quot;, ocioMacroTypeOfServiceDescription=&#39;&quot; + getOcioMacroTypeOfServiceDescription() + &quot;&#39;&quot; +\r\n            &quot;}&quot;;\r\n    }\r\n}\r\n````","title":"How to fix &#39;All Hibernate caches should be created upfront. Please update CacheConfiguration.java to add com.nissan.rca.domain.OCIOMacroTypeOfService&#39;","body":"<p>I am fairly new to JHipster and the technology that it uses.  A project that I have joined recently was made using JHipster with spring-boot, hibernate, liquidbase, maven and angular 4.  I took it on myself to upgrade the project (since a lot of the technologies were outdated versions) and I have got stuck trying to solve this error.\nI don't know much about caching at all and don't really know what the config files do, however I believe that the errors lie in the DatabaseConfiguration.java and CacheConfiguration.java files.</p>\n\n<p>I receive this error after running the backend with <code>mvn spring-boot:run</code></p>\n\n<p>I'm not sure what to try or how to fix this, however I had a look in CacheConfiguration.java and found that the class which it is telling me to add (com.nissan.rca.domain.OCIOMacroTypeOfService) for caching is already added to the cache manager.</p>\n\n<p>This is the error:</p>\n\n<pre><code>2019-02-07 14:58:20.013  WARN 9392 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.spri\nngframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error cr\neating bean with name 'servletEndpointRegistrar' defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$Web\nMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to ins\ntantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.fa\nctory.UnsatisfiedDependencyException: Error creating bean with name 'auditEventsEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndp\nointAutoConfiguration.class]: Unsatisfied dependency expressed through method 'auditEventsEndpoint' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyEx\nception: Error creating bean with name 'customAuditEventRepository' defined in file [D:\\RCA\\ResourceCalenderApplication\\target\\classes\\com\\nissan\\rca\\repository\\CustomAuditEventRepository.cl\nass]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenc\neAuditEventRepository': Cannot create inner bean '(inner bean)#1411479e' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested\nexception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#1411479e': Cannot resolve reference to bean 'entityManagerFactory' while set\nting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [o\nrg/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit\n: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: All Hibernate caches should be created upfront. Please update CacheConfiguration.jav\na to add com.nissan.rca.domain.OCIOMacroTypeOfService\n2019-02-07 14:58:20.270 ERROR 9392 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n</code></pre>\n\n<p>Here is CacheConfiguration.java</p>\n\n<pre><code>package com.nissan.rca.config;\nimport java.time.Duration;\nimport org.ehcache.config.builders.*;\nimport org.ehcache.jsr107.Eh107Configuration;\nimport io.github.jhipster.config.jcache.BeanClassLoaderAwareJCacheRegionFactory;\nimport io.github.jhipster.config.JHipsterProperties;\nimport org.springframework.boot.autoconfigure.AutoConfigureAfter;\nimport org.springframework.boot.autoconfigure.AutoConfigureBefore;\nimport org.springframework.boot.autoconfigure.cache.JCacheManagerCustomizer;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.*;\n\n@Configuration\n@EnableCaching\n// @AutoConfigureAfter(value = { MetricsConfiguration.class })\n@AutoConfigureBefore(value = { WebConfigurer.class, DatabaseConfiguration.class })\npublic class CacheConfiguration {\n\n    private final javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration;\n\n    public CacheConfiguration(JHipsterProperties jHipsterProperties) {\n        BeanClassLoaderAwareJCacheRegionFactory.setBeanClassLoader(this.getClass().getClassLoader());\n        JHipsterProperties.Cache.Ehcache ehcache =\n            jHipsterProperties.getCache().getEhcache();\n\n        jcacheConfiguration = Eh107Configuration.fromEhcacheCacheConfiguration(\n            CacheConfigurationBuilder.newCacheConfigurationBuilder(Object.class, Object.class,\n                ResourcePoolsBuilder.heap(ehcache.getMaxEntries()))\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(ehcache.getTimeToLiveSeconds())))\n                .build());\n    }\n\n    @Bean\n    public JCacheManagerCustomizer cacheManagerCustomizer() {\n        return cm -&gt; {\n            cm.createCache(com.nissan.rca.repository.UserRepository.USERS_BY_LOGIN_CACHE, jcacheConfiguration);\n            cm.createCache(com.nissan.rca.repository.UserRepository.USERS_BY_EMAIL_CACHE, jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.User.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Authority.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.User.class.getName() + \".authorities\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Resource.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Resource.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagementType.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagementType.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.EVPLevel.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.EVPLevel.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Vendor.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Vendor.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.TechnologyPlatform.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.TechnologyPlatform.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Role.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Role.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Section.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Section.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Location.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Location.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOTechnologySoftware.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOTechnologySoftware.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOTypeOfService.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOTypeOfService.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOMacroTypeOfService.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOMacroTypeOfService.class.getName() + \".oCIOTypeOfServices\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName() + \".currencyExchangeToEuros\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.UserAccess.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.UserAccess.class.getName() + \".resources\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + \".currencyExchangeToEuros\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + \".projectBudgets\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + \".ongoingBudgets\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Project.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Project.class.getName() + \".projectBudgets\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName() + \".projects\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName() + \".ongoingBudgets\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectPhase.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectPhase.class.getName() + \".projects\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.CurrencyExchangeToEuro.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingResourceBudgeting.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingSpendItem.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectSpendItem.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectResourceBudgeting.class.getName(), jcacheConfiguration);\n            // jhipster-needle-ehcache-add-entry\n        };\n    }\n}\n</code></pre>\n\n<p>Here is the DatabseConfiguration.java</p>\n\n<pre><code>package com.nissan.rca.config;\n\nimport io.github.jhipster.config.JHipsterConstants;\nimport io.github.jhipster.config.liquibase.AsyncSpringLiquibase;\n\nimport liquibase.integration.spring.SpringLiquibase;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.liquibase.LiquibaseProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.core.env.Environment;\nimport org.springframework.core.task.TaskExecutor;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.sql.SQLException;\n\n@Configuration\n@EnableJpaRepositories(\"com.nissan.rca.repository\")\n@EnableJpaAuditing(auditorAwareRef = \"springSecurityAuditorAware\")\n@EnableTransactionManagement\npublic class DatabaseConfiguration {\n\n    private final Logger log = LoggerFactory.getLogger(DatabaseConfiguration.class);\n\n    private final Environment env;\n\n    public DatabaseConfiguration(Environment env) {\n        this.env = env;\n    }\n\n    /**\n     * Open the TCP port for the H2 database, so it is available remotely.\n     *\n     * @return the H2 database TCP server\n     * @throws SQLException if the server failed to start\n     */\n    @Bean(initMethod = \"start\", destroyMethod = \"stop\")\n    @Profile(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT)\n    public Object h2TCPServer() throws SQLException {\n        try {\n            // We don't want to include H2 when we are packaging for the \"prod\" profile and won't\n            // actually need it, so we have to load / invoke things at runtime through reflection.\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\n            Class&lt;?&gt; serverClass = Class.forName(\"org.h2.tools.Server\", true, loader);\n            Method createServer = serverClass.getMethod(\"createTcpServer\", String[].class);\n            return createServer.invoke(null, new Object[] { new String[] { \"-tcp\", \"-tcpAllowOthers\" } });\n\n        } catch (ClassNotFoundException | LinkageError  e) {\n            throw new RuntimeException(\"Failed to load and initialize org.h2.tools.Server\", e);\n\n        } catch (SecurityException | NoSuchMethodException e) {\n            throw new RuntimeException(\"Failed to get method org.h2.tools.Server.createTcpServer()\", e);\n\n        } catch (IllegalAccessException | IllegalArgumentException e) {\n            throw new RuntimeException(\"Failed to invoke org.h2.tools.Server.createTcpServer()\", e);\n\n        } catch (InvocationTargetException e) {\n            Throwable t = e.getTargetException();\n            if (t instanceof SQLException) {\n                throw (SQLException) t;\n            }\n            throw new RuntimeException(\"Unchecked exception in org.h2.tools.Server.createTcpServer()\", t);\n        }\n    }\n\n    @Bean\n    public SpringLiquibase liquibase(@Qualifier(\"taskExecutor\") TaskExecutor taskExecutor,\n            DataSource dataSource, LiquibaseProperties liquibaseProperties) {\n\n        // Use liquibase.integration.spring.SpringLiquibase if you don't want Liquibase to start asynchronously\n        SpringLiquibase liquibase = new AsyncSpringLiquibase(taskExecutor, env);\n        liquibase.setDataSource(dataSource);\n        liquibase.setChangeLog(\"classpath:config/liquibase/master.xml\");\n        liquibase.setContexts(liquibaseProperties.getContexts());\n        liquibase.setDefaultSchema(liquibaseProperties.getDefaultSchema());\n        liquibase.setDropFirst(liquibaseProperties.isDropFirst());\n        if (env.acceptsProfiles(JHipsterConstants.SPRING_PROFILE_NO_LIQUIBASE)) {\n            liquibase.setShouldRun(false);\n        } else {\n            liquibase.setShouldRun(liquibaseProperties.isEnabled());\n            log.debug(\"Configuring Liquibase\");\n        }\n        return liquibase;\n    }\n}\n</code></pre>\n\n<p>And here is the class which is shown in the error, OCIOMacroTypeOfService.java</p>\n\n<pre><code>package com.nissan.rca.domain;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport org.hibernate.annotations.Cache;\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\n\nimport javax.persistence.*;\n\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.Objects;\n\n/**\n * A OCIOMacroTypeOfService.\n */\n@Entity\n@Table(name = \"ociomacrotypeofservice\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class OCIOMacroTypeOfService implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = \"ocio_macro_type_code\")\n    private String ocioMacroTypeOfServiceCode;\n\n    @Column(name = \"ocio_macro_type_description\")\n    private String ocioMacroTypeDescription;\n\n    @OneToMany(mappedBy = \"ocioMacroTypeOfService\")\n    @JsonIgnore\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n    private Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices = new HashSet&lt;&gt;();\n    // jhipster-needle-entity-add-field - JHipster will add fields here, do not remove\n    public String getOcioMacroTypeOfServiceCode() {\n        return ocioMacroTypeOfServiceCode;\n    }\n\n    public void setOcioMacroTypeOfServiceCode(String ocioMacroTypeOfServiceCode) {\n        this.ocioMacroTypeOfServiceCode = ocioMacroTypeOfServiceCode;\n    }\n\n    public String getOcioMacroTypeOfServiceDescription() {\n        return ocioMacroTypeDescription;\n    }\n\n    public OCIOMacroTypeOfService ocioMacroTypeOfServiceDescription(String ocioMacroTypeDescription) {\n        this.ocioMacroTypeDescription = ocioMacroTypeDescription;\n        return this;\n    }\n\n    public void setOcioMacroTypeOfServiceDescription(String ocioMacroTypeDescription) {\n        this.ocioMacroTypeDescription = ocioMacroTypeDescription;\n    }\n\n    public Set&lt;OCIOTypeOfService&gt; getOCIOTypeOfServices() {\n        return oCIOTypeOfServices;\n    }\n\n    public OCIOMacroTypeOfService oCIOTypeOfServices(Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices) {\n        this.oCIOTypeOfServices = oCIOTypeOfServices;\n        return this;\n    }\n\n    public OCIOMacroTypeOfService addOCIOTypeOfService(OCIOTypeOfService oCIOTypeOfService) {\n        this.oCIOTypeOfServices.add(oCIOTypeOfService);\n        oCIOTypeOfService.setOcioMacroTypeOfService(this);\n        return this;\n    }\n\n    public OCIOMacroTypeOfService removeOCIOTypeOfService(OCIOTypeOfService oCIOTypeOfService) {\n        this.oCIOTypeOfServices.remove(oCIOTypeOfService);\n        oCIOTypeOfService.setOcioMacroTypeOfService(null);\n        return this;\n    }\n\n    public void setOCIOTypeOfServices(Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices) {\n        this.oCIOTypeOfServices = oCIOTypeOfServices;\n    }\n    // jhipster-needle-entity-add-getters-setters - JHipster will add getters and setters here, do not remove\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n        OCIOMacroTypeOfService oCIOMacroTypeOfService = (OCIOMacroTypeOfService) o;\n        if (oCIOMacroTypeOfService.getOcioMacroTypeOfServiceCode() == null || getOcioMacroTypeOfServiceCode() == null) {\n            return false;\n        }\n        return Objects.equals(getOcioMacroTypeOfServiceCode(), oCIOMacroTypeOfService.getOcioMacroTypeOfServiceCode());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hashCode(getOcioMacroTypeOfServiceCode());\n    }\n\n    @Override\n    public String toString() {\n        return \"OCIOMacroTypeOfService{\" +\n            \"ocioMacroTypeOfServiceCode=\" + getOcioMacroTypeOfServiceCode() +\n            \", ocioMacroTypeOfServiceDescription='\" + getOcioMacroTypeOfServiceDescription() + \"'\" +\n            \"}\";\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","localbroadcastmanager"],"answers":[{"tags":[],"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640782776,"creation_date":1640782776,"answer_id":70519760,"question_id":70518224,"body_markdown":"If you are using **RxJava** you can use the **RxBus** else you can use one of many **EventBus** implementation for this.\r\n\r\nIf that is not the path you want to take then you can have a shared view model object that can be used only for communication between fragments see [this][1] article.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/fragments/communicate","title":"How can I turn off localbroadcast listener in recyclerview adapter? Of is there a better way to communicate with an activity called from it?","body":"<p>If you are using <strong>RxJava</strong> you can use the <strong>RxBus</strong> else you can use one of many <strong>EventBus</strong> implementation for this.</p>\n<p>If that is not the path you want to take then you can have a shared view model object that can be used only for communication between fragments see <a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">this</a> article.</p>\n"}],"owner":{"account_id":22118476,"reputation":13,"user_id":16372152,"display_name":"Jesse Duffield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70519760,"answer_count":1,"score":0,"last_activity_date":1640782776,"creation_date":1640774192,"question_id":70518224,"body_markdown":"I&#39;m new to SO and fairly new to coding, so please accept my apologies in advance if I break rules or expectations here. \r\n\r\nI have an unusual setup involving two recyclerViews, which I&#39;ll explain here and also paste a simplified version of the code below (as there is so much not relevant to this question). \r\n\r\nIn what I&#39;ll call verticalRecyclerViewActivity, a verticalRecyclerViewAdapter is called, with data it fetches from Firebase and loads into arrayLists.\r\n\r\nIf the user clicks on an item in the vertical recyclerview, a new dialog fragment which I&#39;ll call horizontalRecyclerViewDialogFragment is inflated, and that loads what I&#39;ll call horizontalRecyclerView (which has similar items to the vertical one, in more detail, with options to click on them to review them). \r\n\r\nIf the user clicks on an item in the horizontalRecyclerView, a new activity which I&#39;ll call reviewItem is started (through an Intent). When the user submits their review, it finishes and returns (through the backstack) to the horizontal RecyclerView. That can also happen if they press the back button without actually submitting a review. That all works fine, but I **need the horizontalRecyclerView to show that they have (or haven&#39;t) reviewed the item and state the score they gave it in a review.**\r\n\r\nCalling notifyDataSetChanged won&#39;t work for this because of how information comes through two recyclerViews and Firebase calls (or, at least, it would be very inefficient).  \r\n\r\nI&#39;ve tried using startActivityForResult (I know it&#39;s deprecated, but if I could get that to work I could try using the newer equivalent which I don&#39;t yet understand) but the problem is that the result is returned to the original (VerticalRecylcerView) activity, which is two recyclerView adapters and one fragment beneath what needs to be updated, and I don&#39;t know how to pass that data to the horizontal Recyclerview. \r\n\r\nI&#39;ve also tried using interfaces but was unable to pass it through the Intent (tried using Parcelable and Serializable, but it seems neither can work in this situation?). \r\n \r\nSince the review is updated on Firebase, I could have the horizontal Recyclerview listen for a change, but that seems very inefficient? \r\n\r\nSo I&#39;ve found a solution using localBroadcast (which I know is also deprecated). The Intent (with the review score) is transmitted when it is reviewed and received in the horizontal recyclerView adapter. But **when and how should I unregister the adapter?** Ideally the receiver would be turned on when the user goes to the Review activity and turned off once the user returns from that activity and the (horizontal) recyclerView holder is updated, whether the review is successfully submitted or whether the user just presses the back button and never submits a review. \r\n\r\n\r\nMy question is similar to this one: https://stackoverflow.com/questions/62370139/how-to-unregister-and-register-broadcastreceiver-from-another-class?noredirect=1&amp;lq=1\r\n\r\nThat is noted as a duplicate of this one: https://stackoverflow.com/questions/62370139/how-to-unregister-and-register-broadcastreceiver-from-another-class?noredirect=1&amp;lq=1\r\n\r\nThere&#39;s a lot in those questions I don&#39;t understand, but the important difference I think between their and my cases is that I would just like the receiver to know when a review is submitted, and ideally be unregistered then, or possibly when the viewHolder is recycled, which I tried but also didn&#39;t work since it&#39;s not connected to the viewHolder (should it be?). \r\n\r\nAny help would be much appreciated, thank you! \r\n\r\n  \r\n\r\n    public class verticalRecyclerViewActivity extends AppCompatActivity {\r\n                \r\n    // Loads an XML file and assembles an array from Firebase. \r\n                \r\n    mVerticalRecyclerView = findViewById(R.id.verticalRecyclerView);\r\n                \r\n    verticalRecyclerViewAdaptor mVerticalRecyclerViewAdaptor  = new verticalRecyclerViewAdaptor (this); // also pass other information it needs\r\n            \r\n                \r\n    mVerticalRecyclerView .setAdapter(mVerticalRecyclerViewAdaptor);\r\n    \r\n    }\r\n            \r\n            \r\n    public class verticalRecyclerViewAdaptor extends RecyclerView.Adapter&lt;verticalRecyclerViewAdaptor.singleHolder&gt; {\r\n            \r\n    // Usual recyclerView content\r\n            \r\n    holder.setOnClickListener(new View.OnClickListener() {\r\n    \r\n    @Override\r\n    \r\n    public void onClick(View view) {\r\n    \r\n    horizontalRecyclerViewFragment  mHorizontalRecyclerViewFragment = new horizontalRecyclerViewFragment();  \r\n    \r\n    // lots of arguments passed it needs. \r\n            \r\n    FragmentManager fragmentManager = ((FragmentActivity) view.getContext()).getSupportFragmentManager();\r\n            \r\n    mHorizontalRecyclerViewFragment.show(fragmentManager, null);\r\n                                        \r\n    }\r\n        \r\n    public class mHorizontalRecyclerViewFragment extends DialogFragment {\r\n        \r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n    \r\n    super.onCreate(savedInstanceState);\r\n        \r\n    mContext = getActivity().getApplicationContext(); // Not sure why I need this, but it works. \r\n        \r\n    View horizontalRecyclerViewView = getActivity().getLayoutInflater().inflate(R.layout.horizontal_recyclerview_holder, new CardView(getActivity()), false);\r\n    \r\n    Dialog horizontalRecyclerViewDialog = new Dialog(getActivity());\r\n                \r\n    horizontalRecyclerViewDialog.setContentView(horizontalRecyclerViewView);\r\n    \r\n    mHorizontalRecyclerView = horizontalRecyclerViewView.getRootView().findViewById(R.id.horizontalRecyclerView);    \r\n        \r\n    mHorizontalRecyclerViewAdapter  = new horizontalRecyclerViewAdapter (mContext) \r\n    // Other arguments passed\r\n        \r\n    mHorizontalRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity(), \r\n    \r\n    LinearLayoutManager.HORIZONTAL, false));\r\n    \r\n    mHorizontalRecyclerView.setAdapter(mHorizontalRecyclerViewAdapter);\r\n              \r\n    }\r\n        \r\n    public class horizontalRecyclerViewAdapter extends RecyclerView.Adapter&lt;horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder&gt; {\r\n        \r\n        \r\n    public horizontalRecyclerViewAdapter(){}\r\n        \r\n    // Blank constructor and also one with lots of arguments for it to work. \r\n        \r\n    public horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        \r\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.horizontal_recyclerview_adaptor_holder, parent, false);\r\n    \r\n    return new horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder(view);\r\n    \r\n    }\r\n        \r\n    public void onBindViewHolder(@NonNull horizontalRecyclerViewHolder holder, int position) {\r\n        \r\n        \r\n    // Connect up various views. \r\n        \r\n    holder.setOnClickListener(new View.OnClickListener() {\r\n                    \r\n    @Override\r\n    public void onClick(View view) {\r\n        \r\n    LocalBroadcastManager.getInstance(mContext).registerReceiver(reviewSubmittedListener, new IntentFilter(&quot;reviewSubmitted&quot;));\r\n        \r\n    Intent reviewNow = new Intent(view.getContext(), ReviewActivity.class);\r\n        \r\n    // Put extra details with the intent\r\n        \r\n    view.getContext().startActivity(reviewNow);\r\n        \r\n    }\r\n        \r\n    BroadcastReceiver reviewSubmittedListener = new BroadcastReceiver() {\r\n    \r\n    @Override\r\n    public void onReceive(Context context, Intent reviewFinishedIntent) {\r\n                           \r\n    int reviewScore = reviewFinishedIntent.getExtras().getInt(&quot;reviewScore&quot;);\r\n                            \r\n    \r\n    // Update the horizontal RecyclerView with the information received from the review Activity. \r\n    \r\n    }\r\n    };\r\n    \r\n    }\r\n        \r\n    public class ReviewActivity extends AppCompatActivity {\r\n        \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_review_item);\r\n        \r\n    // Set up the review, using Firebase and data passed through the intent.  \r\n        \r\n    }\r\n        \r\n    public void submitReview() {\r\n        \r\n    // Check that the review is complete/valid and submit it through Firebase\r\n        \r\n    LocalBroadcastManager localBroadcastManager = LocalBroadcastManager.getInstance(ReviewItemActivity.this);\r\n    \r\n    Intent reviewFinishedIntent = new Intent(&quot;reviewSubmitted&quot;);\r\n        \r\n    reviewFinishedIntent.putExtra(&quot;reviewScore&quot;, overallScore);\r\n    \r\n        \r\n    LocalBroadcastManager.getInstance(this).sendBroadcast(reviewFinishedIntent);\r\n        \r\n    finish();\r\n        \r\n    }","title":"How can I turn off localbroadcast listener in recyclerview adapter? Of is there a better way to communicate with an activity called from it?","body":"<p>I'm new to SO and fairly new to coding, so please accept my apologies in advance if I break rules or expectations here.</p>\n<p>I have an unusual setup involving two recyclerViews, which I'll explain here and also paste a simplified version of the code below (as there is so much not relevant to this question).</p>\n<p>In what I'll call verticalRecyclerViewActivity, a verticalRecyclerViewAdapter is called, with data it fetches from Firebase and loads into arrayLists.</p>\n<p>If the user clicks on an item in the vertical recyclerview, a new dialog fragment which I'll call horizontalRecyclerViewDialogFragment is inflated, and that loads what I'll call horizontalRecyclerView (which has similar items to the vertical one, in more detail, with options to click on them to review them).</p>\n<p>If the user clicks on an item in the horizontalRecyclerView, a new activity which I'll call reviewItem is started (through an Intent). When the user submits their review, it finishes and returns (through the backstack) to the horizontal RecyclerView. That can also happen if they press the back button without actually submitting a review. That all works fine, but I <strong>need the horizontalRecyclerView to show that they have (or haven't) reviewed the item and state the score they gave it in a review.</strong></p>\n<p>Calling notifyDataSetChanged won't work for this because of how information comes through two recyclerViews and Firebase calls (or, at least, it would be very inefficient).</p>\n<p>I've tried using startActivityForResult (I know it's deprecated, but if I could get that to work I could try using the newer equivalent which I don't yet understand) but the problem is that the result is returned to the original (VerticalRecylcerView) activity, which is two recyclerView adapters and one fragment beneath what needs to be updated, and I don't know how to pass that data to the horizontal Recyclerview.</p>\n<p>I've also tried using interfaces but was unable to pass it through the Intent (tried using Parcelable and Serializable, but it seems neither can work in this situation?).</p>\n<p>Since the review is updated on Firebase, I could have the horizontal Recyclerview listen for a change, but that seems very inefficient?</p>\n<p>So I've found a solution using localBroadcast (which I know is also deprecated). The Intent (with the review score) is transmitted when it is reviewed and received in the horizontal recyclerView adapter. But <strong>when and how should I unregister the adapter?</strong> Ideally the receiver would be turned on when the user goes to the Review activity and turned off once the user returns from that activity and the (horizontal) recyclerView holder is updated, whether the review is successfully submitted or whether the user just presses the back button and never submits a review.</p>\n<p>My question is similar to this one: <a href=\"https://stackoverflow.com/questions/62370139/how-to-unregister-and-register-broadcastreceiver-from-another-class?noredirect=1&amp;lq=1\">How to unregister and register BroadcastReceiver from another class?</a></p>\n<p>That is noted as a duplicate of this one: <a href=\"https://stackoverflow.com/questions/62370139/how-to-unregister-and-register-broadcastreceiver-from-another-class?noredirect=1&amp;lq=1\">How to unregister and register BroadcastReceiver from another class?</a></p>\n<p>There's a lot in those questions I don't understand, but the important difference I think between their and my cases is that I would just like the receiver to know when a review is submitted, and ideally be unregistered then, or possibly when the viewHolder is recycled, which I tried but also didn't work since it's not connected to the viewHolder (should it be?).</p>\n<p>Any help would be much appreciated, thank you!</p>\n<pre><code>public class verticalRecyclerViewActivity extends AppCompatActivity {\n            \n// Loads an XML file and assembles an array from Firebase. \n            \nmVerticalRecyclerView = findViewById(R.id.verticalRecyclerView);\n            \nverticalRecyclerViewAdaptor mVerticalRecyclerViewAdaptor  = new verticalRecyclerViewAdaptor (this); // also pass other information it needs\n        \n            \nmVerticalRecyclerView .setAdapter(mVerticalRecyclerViewAdaptor);\n\n}\n        \n        \npublic class verticalRecyclerViewAdaptor extends RecyclerView.Adapter&lt;verticalRecyclerViewAdaptor.singleHolder&gt; {\n        \n// Usual recyclerView content\n        \nholder.setOnClickListener(new View.OnClickListener() {\n\n@Override\n\npublic void onClick(View view) {\n\nhorizontalRecyclerViewFragment  mHorizontalRecyclerViewFragment = new horizontalRecyclerViewFragment();  \n\n// lots of arguments passed it needs. \n        \nFragmentManager fragmentManager = ((FragmentActivity) view.getContext()).getSupportFragmentManager();\n        \nmHorizontalRecyclerViewFragment.show(fragmentManager, null);\n                                    \n}\n    \npublic class mHorizontalRecyclerViewFragment extends DialogFragment {\n    \npublic Dialog onCreateDialog(Bundle savedInstanceState) {\n\nsuper.onCreate(savedInstanceState);\n    \nmContext = getActivity().getApplicationContext(); // Not sure why I need this, but it works. \n    \nView horizontalRecyclerViewView = getActivity().getLayoutInflater().inflate(R.layout.horizontal_recyclerview_holder, new CardView(getActivity()), false);\n\nDialog horizontalRecyclerViewDialog = new Dialog(getActivity());\n            \nhorizontalRecyclerViewDialog.setContentView(horizontalRecyclerViewView);\n\nmHorizontalRecyclerView = horizontalRecyclerViewView.getRootView().findViewById(R.id.horizontalRecyclerView);    \n    \nmHorizontalRecyclerViewAdapter  = new horizontalRecyclerViewAdapter (mContext) \n// Other arguments passed\n    \nmHorizontalRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity(), \n\nLinearLayoutManager.HORIZONTAL, false));\n\nmHorizontalRecyclerView.setAdapter(mHorizontalRecyclerViewAdapter);\n          \n}\n    \npublic class horizontalRecyclerViewAdapter extends RecyclerView.Adapter&lt;horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder&gt; {\n    \n    \npublic horizontalRecyclerViewAdapter(){}\n    \n// Blank constructor and also one with lots of arguments for it to work. \n    \npublic horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    \nView view = LayoutInflater.from(parent.getContext()).inflate(R.layout.horizontal_recyclerview_adaptor_holder, parent, false);\n\nreturn new horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder(view);\n\n}\n    \npublic void onBindViewHolder(@NonNull horizontalRecyclerViewHolder holder, int position) {\n    \n    \n// Connect up various views. \n    \nholder.setOnClickListener(new View.OnClickListener() {\n                \n@Override\npublic void onClick(View view) {\n    \nLocalBroadcastManager.getInstance(mContext).registerReceiver(reviewSubmittedListener, new IntentFilter(&quot;reviewSubmitted&quot;));\n    \nIntent reviewNow = new Intent(view.getContext(), ReviewActivity.class);\n    \n// Put extra details with the intent\n    \nview.getContext().startActivity(reviewNow);\n    \n}\n    \nBroadcastReceiver reviewSubmittedListener = new BroadcastReceiver() {\n\n@Override\npublic void onReceive(Context context, Intent reviewFinishedIntent) {\n                       \nint reviewScore = reviewFinishedIntent.getExtras().getInt(&quot;reviewScore&quot;);\n                        \n\n// Update the horizontal RecyclerView with the information received from the review Activity. \n\n}\n};\n\n}\n    \npublic class ReviewActivity extends AppCompatActivity {\n    \n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_review_item);\n    \n// Set up the review, using Firebase and data passed through the intent.  \n    \n}\n    \npublic void submitReview() {\n    \n// Check that the review is complete/valid and submit it through Firebase\n    \nLocalBroadcastManager localBroadcastManager = LocalBroadcastManager.getInstance(ReviewItemActivity.this);\n\nIntent reviewFinishedIntent = new Intent(&quot;reviewSubmitted&quot;);\n    \nreviewFinishedIntent.putExtra(&quot;reviewScore&quot;, overallScore);\n\n    \nLocalBroadcastManager.getInstance(this).sendBroadcast(reviewFinishedIntent);\n    \nfinish();\n    \n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8269,"page":1723,"page_size":100}
