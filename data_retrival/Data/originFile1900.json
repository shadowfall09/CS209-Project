{"items":[{"tags":["java","jmeter"],"comments":[{"owner":{"account_id":1666939,"reputation":1710,"user_id":1534157,"display_name":"Janesh Kodikara"},"score":0,"creation_date":1635513069,"post_id":69769376,"comment_id":123325439,"body_markdown":"Do you have (Module Controllers)[https://jmeter.apache.org/usermanual/component_reference.html#Module_Controller] in the test ? If yes please ensure that they are attached to the target test fragments. The mapping is lost when you when you rename the items. `A fragment name is made up of the Controller name and all its parent names`","body":"Do you have (Module Controllers)[<a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Module_Controller]\" rel=\"nofollow noreferrer\">jmeter.apache.org/usermanual/&hellip;</a> in the test ? If yes please ensure that they are attached to the target test fragments. The mapping is lost when you when you rename the items. <code>A fragment name is made up of the Controller name and all its parent names</code>"},{"owner":{"account_id":23181298,"reputation":1,"user_id":17279088,"display_name":"andi"},"score":1,"creation_date":1635515940,"post_id":69769376,"comment_id":123326799,"body_markdown":"Thanks for your fast reply. Turns out i had a section in my test where the Module Controller was not attached to the target test fragments. (I didn&#180;t wirte the test myself). Removed this section and now its working.","body":"Thanks for your fast reply. Turns out i had a section in my test where the Module Controller was not attached to the target test fragments. (I didn&#180;t wirte the test myself). Removed this section and now its working."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635513895,"creation_date":1635513895,"answer_id":69769671,"question_id":69769376,"body_markdown":"I believe the error is self-explanatory:\r\n\r\n 1. You have a [Module Controller][1] somewhere in your Test Plan\r\n 2. The Module Controller doesn&#39;t refer to any [Test Fragment][2]\r\n\r\nSo you just need to find the problematic Module Controller and choose which Test Fragment you want to execute at this place:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAs you can see on attempt to run the test containing the Module Controller not connected to any Test Fragment I&#39;m getting the same error as you do, however when I explicitly point the Module Controller to the Test Fragment - the underlying Sampler gets executed \r\n\r\n\r\n  [1]: https://guide.blazemeter.com/hc/en-us/articles/207421345-Using-JMeter-Module-Controller-Using-JMeter-Module-Controller\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#Test_Fragment\r\n  [3]: https://i.stack.imgur.com/ShEoR.gif","title":"JMeter Error in NonGUIDriver org.apache.jorphan.util.JMeterStopTestException","body":"<p>I believe the error is self-explanatory:</p>\n<ol>\n<li>You have a <a href=\"https://guide.blazemeter.com/hc/en-us/articles/207421345-Using-JMeter-Module-Controller-Using-JMeter-Module-Controller\" rel=\"nofollow noreferrer\">Module Controller</a> somewhere in your Test Plan</li>\n<li>The Module Controller doesn't refer to any <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Test_Fragment\" rel=\"nofollow noreferrer\">Test Fragment</a></li>\n</ol>\n<p>So you just need to find the problematic Module Controller and choose which Test Fragment you want to execute at this place:</p>\n<p><a href=\"https://i.stack.imgur.com/ShEoR.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ShEoR.gif\" alt=\"enter image description here\" /></a></p>\n<p>As you can see on attempt to run the test containing the Module Controller not connected to any Test Fragment I'm getting the same error as you do, however when I explicitly point the Module Controller to the Test Fragment - the underlying Sampler gets executed</p>\n"}],"owner":{"account_id":23181298,"reputation":1,"user_id":17279088,"display_name":"andi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635513895,"creation_date":1635512647,"question_id":69769376,"body_markdown":"I have a JMeter test which works in GUI-Mode but when i try to run it in NonGui-Mode i get this error:\r\n\r\n ```\r\nWARNING: package sun.awt.X11 not in java.desktop\r\nError in NonGUIDriver org.apache.jorphan.util.JMeterStopTestException: ModuleController:[Mod] Login has no selected Controller (did you rename some element in the path to target controller?), test was shutdown as a consequence\r\nAn error occurred: Error in NonGUIDriver ModuleController:[Mod] Login has no selected Controller (did you rename some element in the path to target controller?), test was shutdown as a consequence\r\n```\r\n\r\nJMeter version: 5.4.1\r\n\r\nJava version: openjdk version &quot;1.8.0_292&quot;\r\n\r\n\r\n\r\n\r\n\r\n","title":"JMeter Error in NonGUIDriver org.apache.jorphan.util.JMeterStopTestException","body":"<p>I have a JMeter test which works in GUI-Mode but when i try to run it in NonGui-Mode i get this error:</p>\n<pre><code>WARNING: package sun.awt.X11 not in java.desktop\nError in NonGUIDriver org.apache.jorphan.util.JMeterStopTestException: ModuleController:[Mod] Login has no selected Controller (did you rename some element in the path to target controller?), test was shutdown as a consequence\nAn error occurred: Error in NonGUIDriver ModuleController:[Mod] Login has no selected Controller (did you rename some element in the path to target controller?), test was shutdown as a consequence\n</code></pre>\n<p>JMeter version: 5.4.1</p>\n<p>Java version: openjdk version &quot;1.8.0_292&quot;</p>\n"},{"tags":["java","android","kotlin","encryption","android-keystore"],"comments":[{"owner":{"account_id":2593783,"reputation":1344,"user_id":5251245,"display_name":"Jameido"},"score":0,"creation_date":1634631908,"post_id":69627115,"comment_id":123070204,"body_markdown":"Does this answer your question? [Key permanently invalidated Exception after adding/removing fingerprint](https://stackoverflow.com/questions/44886119/key-permanently-invalidated-exception-after-adding-removing-fingerprint)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44886119/key-permanently-invalidated-exception-after-adding-removing-fingerprint\">Key permanently invalidated Exception after adding/removing fingerprint</a>"},{"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"score":0,"creation_date":1634632535,"post_id":69627115,"comment_id":123070484,"body_markdown":"Thanks for replay Jaameido, I also saw this but, could not figured where to handle this in my class, I tried in getOrCreateSecretKey method but it not worked","body":"Thanks for replay Jaameido, I also saw this but, could not figured where to handle this in my class, I tried in getOrCreateSecretKey method but it not worked"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1634634919,"post_id":69627115,"comment_id":123071476,"body_markdown":"IIRC, the exception is thrown when you try to do `Cipher.init` with an invalidated key. Check your stacktrace.","body":"IIRC, the exception is thrown when you try to do <code>Cipher.init</code> with an invalidated key. Check your stacktrace."},{"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"score":0,"creation_date":1634650351,"post_id":69627115,"comment_id":123078250,"body_markdown":"@Michael I updated post, I couldn&#39;t fixed it yet","body":"@Michael I updated post, I couldn&#39;t fixed it yet"}],"answers":[{"tags":[],"owner":{"account_id":4153564,"reputation":66,"user_id":3405369,"display_name":"daidalos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635513840,"creation_date":1635513478,"answer_id":69769565,"question_id":69627115,"body_markdown":"This happens because in your key generator parameters you include the **[setUserAuthenticationRequired(true)][1]** which invalidates the key when all biometrics are removed or a new one is added on the device.  \r\n\r\nThis means that when you try to decrypt using such a key after you have removed a fingerprint and add another you will get the **KeyPermanentlyInvalidatedException** thrown when you call **cipher.init**.\r\n \r\nCatching the exception, deleting the invalid key and generating a new one is part of the solution because with the new key you will not be able to decrypt your encrypted(with the previous key) data anymore. For this you will have to have a fallback flow where you ask the user for the data to be encrypted again with the new key.\r\n\r\nAs final notes:  \r\n- You could use the **[setInvalidatedByBiometricEnrollment][2]** method (available from API 24) when generating new keys and set it to false which will narrow down a little bit the cases where the key will be invalidated but is probably considered a little bit less secure.\r\n\r\n- Setting the setUserAuthenticationRequired to false when generating the key (which would also resolve your issue) is not recommended.\r\n\r\n  [1]: https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder#setUserAuthenticationRequired(boolean)\r\n  [2]: https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder#setInvalidatedByBiometricEnrollment(boolean)","title":"Key permanently invalidated exception biometric authorization Android","body":"<p>This happens because in your key generator parameters you include the <strong><a href=\"https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder#setUserAuthenticationRequired(boolean)\" rel=\"noreferrer\">setUserAuthenticationRequired(true)</a></strong> which invalidates the key when all biometrics are removed or a new one is added on the device.</p>\n<p>This means that when you try to decrypt using such a key after you have removed a fingerprint and add another you will get the <strong>KeyPermanentlyInvalidatedException</strong> thrown when you call <strong>cipher.init</strong>.</p>\n<p>Catching the exception, deleting the invalid key and generating a new one is part of the solution because with the new key you will not be able to decrypt your encrypted(with the previous key) data anymore. For this you will have to have a fallback flow where you ask the user for the data to be encrypted again with the new key.</p>\n<p>As final notes:</p>\n<ul>\n<li><p>You could use the <strong><a href=\"https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder#setInvalidatedByBiometricEnrollment(boolean)\" rel=\"noreferrer\">setInvalidatedByBiometricEnrollment</a></strong> method (available from API 24) when generating new keys and set it to false which will narrow down a little bit the cases where the key will be invalidated but is probably considered a little bit less secure.</p>\n</li>\n<li><p>Setting the setUserAuthenticationRequired to false when generating the key (which would also resolve your issue) is not recommended.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1780,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69769565,"answer_count":1,"score":2,"last_activity_date":1635513840,"creation_date":1634630627,"question_id":69627115,"body_markdown":"Im trying to implement biometric authorization in Android app. I followed android official  documentation and it was worked everything fine until today, so when I removed finger print and add new one, now its throwing exception, I tried to put try catch in getOrCreateSecretKey but it was same :( \r\n\r\nandroid.security.keystore.KeyPermanentlyInvalidatedException: Key permanently invalidated\r\n\r\n    private class CryptographyManagerImpl : CryptographyManager {\r\n    \r\n        private val KEY_SIZE = 256\r\n        private val ANDROID_KEYSTORE = &quot;AndroidKeyStore&quot;\r\n        private val ENCRYPTION_BLOCK_MODE = KeyProperties.BLOCK_MODE_GCM\r\n        private val ENCRYPTION_PADDING = KeyProperties.ENCRYPTION_PADDING_NONE\r\n        private val ENCRYPTION_ALGORITHM = KeyProperties.KEY_ALGORITHM_AES\r\n    \r\n        override fun getInitializedCipherForEncryption(keyName: String): Cipher {\r\n            val cipher = getCipher()\r\n            val secretKey = getOrCreateSecretKey(keyName)\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey)\r\n            return cipher\r\n        }\r\n    \r\n        override fun getInitializedCipherForDecryption(\r\n            keyName: String,\r\n            initializationVector: ByteArray\r\n        ): Cipher {\r\n            val cipher = getCipher()\r\n            val secretKey = getOrCreateSecretKey(keyName)\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, GCMParameterSpec(128, initializationVector))\r\n            return cipher\r\n        }\r\n    \r\n        override fun encryptData(plaintext: String, cipher: Cipher): CiphertextWrapper {\r\n            val ciphertext = cipher.doFinal(plaintext.toByteArray(Charset.forName(&quot;UTF-8&quot;)))\r\n            return CiphertextWrapper(ciphertext, cipher.iv)\r\n        }\r\n    \r\n        override fun decryptData(ciphertext: ByteArray, cipher: Cipher): String {\r\n            val plaintext = cipher.doFinal(ciphertext)\r\n            return String(plaintext, Charset.forName(&quot;UTF-8&quot;))\r\n        }\r\n    \r\n        private fun getCipher(): Cipher {\r\n            val transformation = &quot;$ENCRYPTION_ALGORITHM/$ENCRYPTION_BLOCK_MODE/$ENCRYPTION_PADDING&quot;\r\n            return Cipher.getInstance(transformation)\r\n        }\r\n    \r\n        private fun getOrCreateSecretKey(keyName: String): SecretKey {\r\n            // If Secretkey was previously created for that keyName, then grab and return it.\r\n            val keyStore = KeyStore.getInstance(ANDROID_KEYSTORE)\r\n            keyStore.load(null) // Keystore must be loaded before it can be accessed\r\n            keyStore.getKey(keyName, null)?.let { return it as SecretKey }\r\n    \r\n            // if you reach here, then a new SecretKey must be generated for that keyName\r\n            val paramsBuilder = KeyGenParameterSpec.Builder(\r\n                keyName,\r\n                KeyProperties.PURPOSE_ENCRYPT or KeyProperties.PURPOSE_DECRYPT\r\n            )\r\n            paramsBuilder.apply {\r\n                setBlockModes(ENCRYPTION_BLOCK_MODE)\r\n                setEncryptionPaddings(ENCRYPTION_PADDING)\r\n                setKeySize(KEY_SIZE)\r\n                setUserAuthenticationRequired(true)\r\n            }\r\n    \r\n            val keyGenParams = paramsBuilder.build()\r\n            val keyGenerator = KeyGenerator.getInstance(\r\n                KeyProperties.KEY_ALGORITHM_AES,\r\n                ANDROID_KEYSTORE\r\n            )\r\n            keyGenerator.init(keyGenParams)\r\n            return keyGenerator.generateKey()\r\n        }\r\n\r\nException\r\n\r\n    2021-10-19 17:28:05.252 6613-6613/com.samplebet E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.samplebet, PID: 6613\r\n        java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;\r\n         Caused by: android.security.keystore.KeyPermanentlyInvalidatedException: Key permanently invalidated\r\n            at android.security.KeyStore.getInvalidKeyException(KeyStore.java:1533)\r\n            at android.security.KeyStore.getInvalidKeyException(KeyStore.java:1548)\r\n            at android.security.keystore.KeyStoreCryptoOperationUtils.getInvalidKeyExceptionForInit(KeyStoreCryptoOperationUtils.java:54)\r\n            at android.security.keystore.KeyStoreCryptoOperationUtils.getExceptionForCipherInit(KeyStoreCryptoOperationUtils.java:89)\r\n            at android.security.keystore.AndroidKeyStoreCipherSpiBase.ensureKeystoreOperationInitialized(AndroidKeyStoreCipherSpiBase.java:265)\r\n            at android.security.keystore.AndroidKeyStoreCipherSpiBase.engineInit(AndroidKeyStoreCipherSpiBase.java:148)\r\n            at javax.crypto.Cipher.tryTransformWithProvider(Cipher.java:2980)\r\n            at javax.crypto.Cipher.tryCombinations(Cipher.java:2891)\r\n            at javax.crypto.Cipher$SpiAndProviderUpdater.updateAndGetSpiAndProvider(Cipher.java:2796)\r\n            at javax.crypto.Cipher.chooseProvider(Cipher.java:773)\r\n            at javax.crypto.Cipher.init(Cipher.java:1288)\r\n            at javax.crypto.Cipher.init(Cipher.java:1223)\r\n            at com.samplebet.biometric.CryptographyManagerImpl.getInitializedCipherForDecryption(CryptographyManager.kt:98)\r\n            at com.samplebet.auth.AuthActivity.showBiometricPromptForDecryption(AuthActivity.kt:120)\r\n            at com.samplebet.auth.AuthActivity.onCreate$lambda-5(AuthActivity.kt:87)\r\n            at com.samplebet.auth.AuthActivity.$r8$lambda$xxAGKHOwnj6tq1hGqTWaney7IFw(Unknown Source:0)\r\n            at com.samplebet.auth.AuthActivity$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\r\n            at android.view.View.performClick(View.java:8160)\r\n            at android.widget.TextView.performClick(TextView.java:16222)\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n            at android.view.View.performClickInternal(View.java:8137)\r\n            at android.view.View.access$3700(View.java:888)\r\n            at android.view.View$PerformClick.run(View.java:30236)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:246)","title":"Key permanently invalidated exception biometric authorization Android","body":"<p>Im trying to implement biometric authorization in Android app. I followed android official  documentation and it was worked everything fine until today, so when I removed finger print and add new one, now its throwing exception, I tried to put try catch in getOrCreateSecretKey but it was same :(</p>\n<p>android.security.keystore.KeyPermanentlyInvalidatedException: Key permanently invalidated</p>\n<pre><code>private class CryptographyManagerImpl : CryptographyManager {\n\n    private val KEY_SIZE = 256\n    private val ANDROID_KEYSTORE = &quot;AndroidKeyStore&quot;\n    private val ENCRYPTION_BLOCK_MODE = KeyProperties.BLOCK_MODE_GCM\n    private val ENCRYPTION_PADDING = KeyProperties.ENCRYPTION_PADDING_NONE\n    private val ENCRYPTION_ALGORITHM = KeyProperties.KEY_ALGORITHM_AES\n\n    override fun getInitializedCipherForEncryption(keyName: String): Cipher {\n        val cipher = getCipher()\n        val secretKey = getOrCreateSecretKey(keyName)\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey)\n        return cipher\n    }\n\n    override fun getInitializedCipherForDecryption(\n        keyName: String,\n        initializationVector: ByteArray\n    ): Cipher {\n        val cipher = getCipher()\n        val secretKey = getOrCreateSecretKey(keyName)\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, GCMParameterSpec(128, initializationVector))\n        return cipher\n    }\n\n    override fun encryptData(plaintext: String, cipher: Cipher): CiphertextWrapper {\n        val ciphertext = cipher.doFinal(plaintext.toByteArray(Charset.forName(&quot;UTF-8&quot;)))\n        return CiphertextWrapper(ciphertext, cipher.iv)\n    }\n\n    override fun decryptData(ciphertext: ByteArray, cipher: Cipher): String {\n        val plaintext = cipher.doFinal(ciphertext)\n        return String(plaintext, Charset.forName(&quot;UTF-8&quot;))\n    }\n\n    private fun getCipher(): Cipher {\n        val transformation = &quot;$ENCRYPTION_ALGORITHM/$ENCRYPTION_BLOCK_MODE/$ENCRYPTION_PADDING&quot;\n        return Cipher.getInstance(transformation)\n    }\n\n    private fun getOrCreateSecretKey(keyName: String): SecretKey {\n        // If Secretkey was previously created for that keyName, then grab and return it.\n        val keyStore = KeyStore.getInstance(ANDROID_KEYSTORE)\n        keyStore.load(null) // Keystore must be loaded before it can be accessed\n        keyStore.getKey(keyName, null)?.let { return it as SecretKey }\n\n        // if you reach here, then a new SecretKey must be generated for that keyName\n        val paramsBuilder = KeyGenParameterSpec.Builder(\n            keyName,\n            KeyProperties.PURPOSE_ENCRYPT or KeyProperties.PURPOSE_DECRYPT\n        )\n        paramsBuilder.apply {\n            setBlockModes(ENCRYPTION_BLOCK_MODE)\n            setEncryptionPaddings(ENCRYPTION_PADDING)\n            setKeySize(KEY_SIZE)\n            setUserAuthenticationRequired(true)\n        }\n\n        val keyGenParams = paramsBuilder.build()\n        val keyGenerator = KeyGenerator.getInstance(\n            KeyProperties.KEY_ALGORITHM_AES,\n            ANDROID_KEYSTORE\n        )\n        keyGenerator.init(keyGenParams)\n        return keyGenerator.generateKey()\n    }\n</code></pre>\n<p>Exception</p>\n<pre><code>2021-10-19 17:28:05.252 6613-6613/com.samplebet E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.samplebet, PID: 6613\n    java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) \n     Caused by: android.security.keystore.KeyPermanentlyInvalidatedException: Key permanently invalidated\n        at android.security.KeyStore.getInvalidKeyException(KeyStore.java:1533)\n        at android.security.KeyStore.getInvalidKeyException(KeyStore.java:1548)\n        at android.security.keystore.KeyStoreCryptoOperationUtils.getInvalidKeyExceptionForInit(KeyStoreCryptoOperationUtils.java:54)\n        at android.security.keystore.KeyStoreCryptoOperationUtils.getExceptionForCipherInit(KeyStoreCryptoOperationUtils.java:89)\n        at android.security.keystore.AndroidKeyStoreCipherSpiBase.ensureKeystoreOperationInitialized(AndroidKeyStoreCipherSpiBase.java:265)\n        at android.security.keystore.AndroidKeyStoreCipherSpiBase.engineInit(AndroidKeyStoreCipherSpiBase.java:148)\n        at javax.crypto.Cipher.tryTransformWithProvider(Cipher.java:2980)\n        at javax.crypto.Cipher.tryCombinations(Cipher.java:2891)\n        at javax.crypto.Cipher$SpiAndProviderUpdater.updateAndGetSpiAndProvider(Cipher.java:2796)\n        at javax.crypto.Cipher.chooseProvider(Cipher.java:773)\n        at javax.crypto.Cipher.init(Cipher.java:1288)\n        at javax.crypto.Cipher.init(Cipher.java:1223)\n        at com.samplebet.biometric.CryptographyManagerImpl.getInitializedCipherForDecryption(CryptographyManager.kt:98)\n        at com.samplebet.auth.AuthActivity.showBiometricPromptForDecryption(AuthActivity.kt:120)\n        at com.samplebet.auth.AuthActivity.onCreate$lambda-5(AuthActivity.kt:87)\n        at com.samplebet.auth.AuthActivity.$r8$lambda$xxAGKHOwnj6tq1hGqTWaney7IFw(Unknown Source:0)\n        at com.samplebet.auth.AuthActivity$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\n        at android.view.View.performClick(View.java:8160)\n        at android.widget.TextView.performClick(TextView.java:16222)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:8137)\n        at android.view.View.access$3700(View.java:888)\n        at android.view.View$PerformClick.run(View.java:30236)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n</code></pre>\n"},{"tags":["java","android","firebase","google-maps","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635508386,"post_id":69766071,"comment_id":123323529,"body_markdown":"Can you please indicate the exact data you want to get?","body":"Can you please indicate the exact data you want to get?"},{"owner":{"account_id":10536766,"reputation":49,"user_id":7764395,"display_name":"Rafael Campos"},"score":0,"creation_date":1635509983,"post_id":69766071,"comment_id":123324115,"body_markdown":"In the Users node, the Name, Emergency Type and Alert Level","body":"In the Users node, the Name, Emergency Type and Alert Level"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635513645,"creation_date":1635513645,"answer_id":69769611,"question_id":69766071,"body_markdown":"According to your last comment:\r\n\r\n&gt; In the Users node, the Name, Emergency Type, and Alert Level\r\n\r\nTo be able to get the values of the indicated fields that correspond to a specific user and add them to a Google Map, please use the following lines of code:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference userLocationRef = rootRef.child(&quot;User Location&quot;).child(uid);\r\n    userLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userLocationTask) {\r\n            if (userLocationTask.isSuccessful()) {\r\n                DataSnapshot userLocationSnapshot = userLocationTask.getResult();\r\n                double latitude = userLocationSnapshot.child(&quot;latitude&quot;).getValue(Double.class);\r\n                double longitude = userLocationSnapshot.child(&quot;longitude&quot;).getValue(Double.class);\r\n\r\n                DatabaseReference uidRef = rootRef.child(&quot;Users&quot;).child(uid);\r\n                uidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\r\n                        if (userTask.isSuccessful()) {\r\n                            DataSnapshot userSnapshot = userTask.getResult();\r\n                            String name = userSnapshot.child(&quot;Name&quot;).getValue(String.class);\r\n                            String emergencyType = userSnapshot.child(&quot;Emergency Type&quot;).getValue(String.class);\r\n                            String alertLevel = userSnapshot.child(&quot;Alert Level&quot;).getValue(String.class);\r\n\r\n                            MarkerOptions markerOptions = new MarkerOptions();\r\n                            LatLng latLng = new LatLng(latitude, longitude);\r\n                            markerOptions.position(latLng);\r\n                            markerOptions.title(name + &quot;/&quot; + emergencyType + &quot;/&quot; + alertLevel);\r\n                            googleMap.addMarker(markerOptions);\r\n                        } else {\r\n                            Log.d(&quot;TAG&quot;, userTask.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, userLocationTask.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\nThe result of the following code will be the addition of a marker that corresponds to the user location on the Google Map. The title of the marker will contain, the name, the emergency type, and the alert level.\r\n\r\nThis will indeed work for a single user, if you need to show all users, then simply loop through the DataSnapshot object using getChildren() method like this:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference userLocationRef = rootRef.child(uid).child(&quot;User Location&quot;);\r\n    userLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userLocationTask) {\r\n            if (userLocationTask.isSuccessful()) {\r\n                for (DataSnapshot userLocationSnapshot : userLocationTask.getResult().getChildren()) {\r\n                    double latitude = userLocationSnapshot.child(&quot;latitude&quot;).getValue(Double.class);\r\n                    double longitude = userLocationSnapshot.child(&quot;longitude&quot;).getValue(Double.class);\r\n\r\n                    DatabaseReference usersRef = rootRef.child(&quot;Users&quot;).child(uid);\r\n                    usersRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\r\n                            if (userTask.isSuccessful()) {\r\n                                for (DataSnapshot userSnapshot : userTask.getResult().getChildren()) {\r\n                                    String name = userSnapshot.child(&quot;name&quot;).getValue(String.class);\r\n                                    String emergencyType = userSnapshot.child(&quot;Emergency Type&quot;).getValue(String.class);\r\n                                    String alertLevel = userSnapshot.child(&quot;Alert Level&quot;).getValue(String.class);\r\n\r\n                                    MarkerOptions markerOptions = new MarkerOptions();\r\n                                    LatLng latLng = new LatLng(latitude, longitude);\r\n                                    markerOptions.position(latLng);\r\n                                    markerOptions.title(name + &quot;/&quot; + emergencyType + &quot;/&quot; + alertLevel);\r\n                                    googleMap.addMarker(markerOptions);\r\n                                }\r\n                            } else {\r\n                                Log.d(&quot;TAG&quot;, userTask.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, userLocationTask.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n            }\r\n        }\r\n    });","title":"Displaying data from Firebase into custom Info Window","body":"<p>According to your last comment:</p>\n<blockquote>\n<p>In the Users node, the Name, Emergency Type, and Alert Level</p>\n</blockquote>\n<p>To be able to get the values of the indicated fields that correspond to a specific user and add them to a Google Map, please use the following lines of code:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference userLocationRef = rootRef.child(&quot;User Location&quot;).child(uid);\nuserLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userLocationTask) {\n        if (userLocationTask.isSuccessful()) {\n            DataSnapshot userLocationSnapshot = userLocationTask.getResult();\n            double latitude = userLocationSnapshot.child(&quot;latitude&quot;).getValue(Double.class);\n            double longitude = userLocationSnapshot.child(&quot;longitude&quot;).getValue(Double.class);\n\n            DatabaseReference uidRef = rootRef.child(&quot;Users&quot;).child(uid);\n            uidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\n                    if (userTask.isSuccessful()) {\n                        DataSnapshot userSnapshot = userTask.getResult();\n                        String name = userSnapshot.child(&quot;Name&quot;).getValue(String.class);\n                        String emergencyType = userSnapshot.child(&quot;Emergency Type&quot;).getValue(String.class);\n                        String alertLevel = userSnapshot.child(&quot;Alert Level&quot;).getValue(String.class);\n\n                        MarkerOptions markerOptions = new MarkerOptions();\n                        LatLng latLng = new LatLng(latitude, longitude);\n                        markerOptions.position(latLng);\n                        markerOptions.title(name + &quot;/&quot; + emergencyType + &quot;/&quot; + alertLevel);\n                        googleMap.addMarker(markerOptions);\n                    } else {\n                        Log.d(&quot;TAG&quot;, userTask.getException().getMessage()); //Don't ignore potential errors!\n                    }\n                }\n            });\n        } else {\n            Log.d(&quot;TAG&quot;, userLocationTask.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>The result of the following code will be the addition of a marker that corresponds to the user location on the Google Map. The title of the marker will contain, the name, the emergency type, and the alert level.</p>\n<p>This will indeed work for a single user, if you need to show all users, then simply loop through the DataSnapshot object using getChildren() method like this:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference userLocationRef = rootRef.child(uid).child(&quot;User Location&quot;);\nuserLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userLocationTask) {\n        if (userLocationTask.isSuccessful()) {\n            for (DataSnapshot userLocationSnapshot : userLocationTask.getResult().getChildren()) {\n                double latitude = userLocationSnapshot.child(&quot;latitude&quot;).getValue(Double.class);\n                double longitude = userLocationSnapshot.child(&quot;longitude&quot;).getValue(Double.class);\n\n                DatabaseReference usersRef = rootRef.child(&quot;Users&quot;).child(uid);\n                usersRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\n                        if (userTask.isSuccessful()) {\n                            for (DataSnapshot userSnapshot : userTask.getResult().getChildren()) {\n                                String name = userSnapshot.child(&quot;name&quot;).getValue(String.class);\n                                String emergencyType = userSnapshot.child(&quot;Emergency Type&quot;).getValue(String.class);\n                                String alertLevel = userSnapshot.child(&quot;Alert Level&quot;).getValue(String.class);\n\n                                MarkerOptions markerOptions = new MarkerOptions();\n                                LatLng latLng = new LatLng(latitude, longitude);\n                                markerOptions.position(latLng);\n                                markerOptions.title(name + &quot;/&quot; + emergencyType + &quot;/&quot; + alertLevel);\n                                googleMap.addMarker(markerOptions);\n                            }\n                        } else {\n                            Log.d(&quot;TAG&quot;, userTask.getException().getMessage()); //Don't ignore potential errors!\n                        }\n                    }\n                });\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, userLocationTask.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":10536766,"reputation":49,"user_id":7764395,"display_name":"Rafael Campos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69769611,"answer_count":1,"score":0,"last_activity_date":1635513707,"creation_date":1635497466,"question_id":69766071,"body_markdown":"I&#39;m trying to display a couple of user details from Firebase into a custom Map Marker after the location data has been retrieved from the database but I don&#39;t know if I should implement FirebaseRecyclerAdapter or a normal one. How should I do this? \r\n\r\nI&#39;m trying to at least retrieve the user&#39;s name, emergency type, and alert level and display on the Info Window when the marker is clicked:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;Blocked Users&quot; : {\r\n        &quot;RCX2HZXIwlSmMHFgDytf1DgZBgi2&quot; : 0,\r\n        &quot;vqP3H4maEfQxCBHEWqsH9q4O1M52&quot; : 0\r\n      },\r\n      &quot;User Location&quot; : {\r\n        &quot;RCX2HZXIwlSmMHFgDytf1DgZBgi2&quot; : {\r\n          &quot;latitude&quot; : 15.506605,\r\n          &quot;longitude&quot; : 120.86838\r\n        },\r\n        &quot;vqP3H4maEfQxCBHEWqsH9q4O1M52&quot; : {\r\n          &quot;latitude&quot; : 37.3259633,\r\n          &quot;longitude&quot; : -121.898475\r\n        }\r\n      },\r\n      &quot;Users&quot; : {\r\n        &quot;RCX2HZXIwlSmMHFgDytf1DgZBgi2&quot; : {\r\n          &quot;Alert Level&quot; : &quot;High&quot;,\r\n          &quot;Emergency Type&quot; : &quot;Natural Disaster&quot;,\r\n          &quot;address&quot; : &quot;Lapaz Tarlac&quot;,\r\n          &quot;emergencyNum&quot; : &quot;0981232387346&quot;,\r\n          &quot;name&quot; : &quot;Rafael Campos&quot;,\r\n          &quot;phoneNum&quot; : &quot;0981233445675&quot;\r\n        },\r\n        &quot;vqP3H4maEfQxCBHEWqsH9q4O1M52&quot; : {\r\n          &quot;Alert Level&quot; : &quot;High&quot;,\r\n          &quot;Emergency Type&quot; : &quot;Natural Disaster&quot;,\r\n          &quot;address&quot; : &quot;Lapaz Tarlac&quot;,\r\n          &quot;emergencyNum&quot; : &quot;9876876650987&quot;,\r\n          &quot;name&quot; : &quot;Rafael Campos&quot;,\r\n          &quot;phoneNum&quot; : &quot;089098786876&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHere is my onMapReady():\r\n\r\n```\r\n@Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference locationRef = rootRef.child(&quot;User Location&quot;);\r\n\r\n\r\n\r\n        locationRef.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n\r\n                    LocationSend send = snapshot.getValue(LocationSend.class);\r\n                    LatLng location = new LatLng(send.getLatitude(), send.getLongitude());\r\n                    mMap.addMarker(new MarkerOptions().position(location).title(getCompleteAddress(send.getLatitude(), send.getLongitude())));\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(location));\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(location, 14F));\r\n                    mMap.setInfoWindowAdapter(new InfoWindowAdapter(Retrieve.this));\r\n                    Log.d(&quot;TAG&quot;, &quot;latitude, longitude&quot;);\r\n                    notification();\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                LocationSend send = snapshot.getValue(LocationSend.class);\r\n                notification();\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n```\r\nMy adapter:\r\n\r\n```\r\npublic class InfoWindowAdapter implements GoogleMap.InfoWindowAdapter{\r\n\r\n    Context context;\r\n    public InfoWindowAdapter(Context context){\r\n        this.context = context;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View getInfoWindow(@NonNull Marker marker) {\r\n        View infoView = LayoutInflater.from(context).inflate(R.layout.infowindow, null);\r\n        TextView title = infoView.findViewById(R.id.title);\r\n        TextView alert = infoView.findViewById(R.id.alert);\r\n        TextView type = infoView.findViewById(R.id.type);\r\n        title.setText(marker.getTitle());\r\n        alert.setText(marker.getSnippet());\r\n        type.setText(marker.getSnippet());\r\n\r\n        return infoView;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View getInfoContents(@NonNull Marker marker) {\r\n        return null;\r\n    }\r\n}","title":"Displaying data from Firebase into custom Info Window","body":"<p>I'm trying to display a couple of user details from Firebase into a custom Map Marker after the location data has been retrieved from the database but I don't know if I should implement FirebaseRecyclerAdapter or a normal one. How should I do this?</p>\n<p>I'm trying to at least retrieve the user's name, emergency type, and alert level and display on the Info Window when the marker is clicked:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n  \"Blocked Users\" : {\n    \"RCX2HZXIwlSmMHFgDytf1DgZBgi2\" : 0,\n    \"vqP3H4maEfQxCBHEWqsH9q4O1M52\" : 0\n  },\n  \"User Location\" : {\n    \"RCX2HZXIwlSmMHFgDytf1DgZBgi2\" : {\n      \"latitude\" : 15.506605,\n      \"longitude\" : 120.86838\n    },\n    \"vqP3H4maEfQxCBHEWqsH9q4O1M52\" : {\n      \"latitude\" : 37.3259633,\n      \"longitude\" : -121.898475\n    }\n  },\n  \"Users\" : {\n    \"RCX2HZXIwlSmMHFgDytf1DgZBgi2\" : {\n      \"Alert Level\" : \"High\",\n      \"Emergency Type\" : \"Natural Disaster\",\n      \"address\" : \"Lapaz Tarlac\",\n      \"emergencyNum\" : \"0981232387346\",\n      \"name\" : \"Rafael Campos\",\n      \"phoneNum\" : \"0981233445675\"\n    },\n    \"vqP3H4maEfQxCBHEWqsH9q4O1M52\" : {\n      \"Alert Level\" : \"High\",\n      \"Emergency Type\" : \"Natural Disaster\",\n      \"address\" : \"Lapaz Tarlac\",\n      \"emergencyNum\" : \"9876876650987\",\n      \"name\" : \"Rafael Campos\",\n      \"phoneNum\" : \"089098786876\"\n    }\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here is my onMapReady():</p>\n<pre><code>@Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        mMap = googleMap;\n\n        DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n        DatabaseReference locationRef = rootRef.child(&quot;User Location&quot;);\n\n\n\n        locationRef.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n\n                    LocationSend send = snapshot.getValue(LocationSend.class);\n                    LatLng location = new LatLng(send.getLatitude(), send.getLongitude());\n                    mMap.addMarker(new MarkerOptions().position(location).title(getCompleteAddress(send.getLatitude(), send.getLongitude())));\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(location));\n                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(location, 14F));\n                    mMap.setInfoWindowAdapter(new InfoWindowAdapter(Retrieve.this));\n                    Log.d(&quot;TAG&quot;, &quot;latitude, longitude&quot;);\n                    notification();\n            }\n\n            @Override\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                LocationSend send = snapshot.getValue(LocationSend.class);\n                notification();\n            }\n\n            @Override\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n</code></pre>\n<p>My adapter:</p>\n<pre><code>public class InfoWindowAdapter implements GoogleMap.InfoWindowAdapter{\n\n    Context context;\n    public InfoWindowAdapter(Context context){\n        this.context = context;\n    }\n\n    @Nullable\n    @Override\n    public View getInfoWindow(@NonNull Marker marker) {\n        View infoView = LayoutInflater.from(context).inflate(R.layout.infowindow, null);\n        TextView title = infoView.findViewById(R.id.title);\n        TextView alert = infoView.findViewById(R.id.alert);\n        TextView type = infoView.findViewById(R.id.type);\n        title.setText(marker.getTitle());\n        alert.setText(marker.getSnippet());\n        type.setText(marker.getSnippet());\n\n        return infoView;\n    }\n\n    @Nullable\n    @Override\n    public View getInfoContents(@NonNull Marker marker) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","angular","keycloak"],"comments":[{"owner":{"account_id":23182707,"reputation":21,"user_id":17280310,"display_name":"Sruthi k"},"score":0,"creation_date":1635567923,"post_id":69769493,"comment_id":123339235,"body_markdown":"Can anyone suggest a solution?","body":"Can anyone suggest a solution?"},{"owner":{"account_id":6953181,"reputation":2215,"user_id":5335153,"display_name":"Kevin Sanchez"},"score":0,"creation_date":1636084670,"post_id":69769493,"comment_id":123468560,"body_markdown":"I don&#39;t know if I understand your question, but do you want to change the internal theme in Keycloak admin pages or in your angular app?. If you want to change Keycloack theme you can do it by creating your own Theme. If what you want is to use the same keycloak&#39;s theme in Angular you will have to create your own css in your angular app in order to match it with Keycloak css.","body":"I don&#39;t know if I understand your question, but do you want to change the internal theme in Keycloak admin pages or in your angular app?. If you want to change Keycloack theme you can do it by creating your own Theme. If what you want is to use the same keycloak&#39;s theme in Angular you will have to create your own css in your angular app in order to match it with Keycloak css."},{"owner":{"account_id":23182707,"reputation":21,"user_id":17280310,"display_name":"Sruthi k"},"score":0,"creation_date":1636528360,"post_id":69769493,"comment_id":123577957,"body_markdown":"I want to change in angular app.that custom css I want to load it from Keycloak.Is it possible?","body":"I want to change in angular app.that custom css I want to load it from Keycloak.Is it possible?"}],"owner":{"account_id":23182707,"reputation":21,"user_id":17280310,"display_name":"Sruthi k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635513147,"creation_date":1635513147,"question_id":69769493,"body_markdown":"I am trying to set up Keycloak for multi tenant application in angular.I have created realms in Keycloak and integrated in angular app.For login page theme is applied from keycloak. After user is logged in, for dashboard and other application pages I want css to get applied from Keycloak themes.Is it possible using Keycloak to apply css for application pages?What is the better way to do this?","title":"Custom css for application pages in angular using Keycloak","body":"<p>I am trying to set up Keycloak for multi tenant application in angular.I have created realms in Keycloak and integrated in angular app.For login page theme is applied from keycloak. After user is logged in, for dashboard and other application pages I want css to get applied from Keycloak themes.Is it possible using Keycloak to apply css for application pages?What is the better way to do this?</p>\n"},{"tags":["java","arrays","char"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1635506408,"post_id":69767935,"comment_id":123322848,"body_markdown":"Have you tried stepping through the code in a debugger? Hint: when you&#39;re more than half way through the loop, you&#39;re swapping elements back to where they started...","body":"Have you tried stepping through the code in a debugger? Hint: when you&#39;re more than half way through the loop, you&#39;re swapping elements back to where they started..."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1635506662,"post_id":69767935,"comment_id":123322929,"body_markdown":"Yes a funny implementation. Worth in the for loop: `System.out.printf(&quot;[%d] %d [%d] %d%n&quot;, i, tabCar[i], lastPlace - i, tabCar[lastPlace - i]):` Oh, and next time `i &lt; tabCar.length / 2`","body":"Yes a funny implementation. Worth in the for loop: <code>System.out.printf(&quot;[%d] %d [%d] %d%n&quot;, i, tabCar[i], lastPlace - i, tabCar[lastPlace - i]):</code> Oh, and next time <code>i &lt; tabCar.length &#47; 2</code>"}],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635512932,"creation_date":1635512932,"answer_id":69769447,"question_id":69767935,"body_markdown":"since you are running the loop till tabCar.length whats happening is its reverting the changes once the i value becomes more than tabCar.lenght/2\r\nthat is :\r\n\r\n    a b c d e f ---&gt;original\r\n    f b c d e a ---&gt; i=0\r\n    f e c d b a ---&gt; i=1\r\n    f e d c b a ---&gt; i=2\r\n    f e c d b a ---&gt; i=3 (reverting the changes)\r\n    f b c d e a ---&gt; i=4\r\n    a b c d e f ---&gt; i=5\r\n\r\nso you should stop the loop when it reaches the half way (tabCar.length/2)\r\n\r\n    public static void reverseArray(char[] tabCar) {\r\n        int lastPlace = tabCar.length - 1;\r\n        for (int i = 0; i &lt; tabCar.length / 2; i++) {\r\n            char tempChar = tabCar[i];\r\n            tabCar[i] = tabCar[lastPlace - i];\r\n            tabCar[lastPlace - i] = tempChar;\r\n        }\r\n    }\r\n\r\n","title":"char array not modified after passing trough a method that should modify it in java","body":"<p>since you are running the loop till tabCar.length whats happening is its reverting the changes once the i value becomes more than tabCar.lenght/2\nthat is :</p>\n<pre><code>a b c d e f ---&gt;original\nf b c d e a ---&gt; i=0\nf e c d b a ---&gt; i=1\nf e d c b a ---&gt; i=2\nf e c d b a ---&gt; i=3 (reverting the changes)\nf b c d e a ---&gt; i=4\na b c d e f ---&gt; i=5\n</code></pre>\n<p>so you should stop the loop when it reaches the half way (tabCar.length/2)</p>\n<pre><code>public static void reverseArray(char[] tabCar) {\n    int lastPlace = tabCar.length - 1;\n    for (int i = 0; i &lt; tabCar.length / 2; i++) {\n        char tempChar = tabCar[i];\n        tabCar[i] = tabCar[lastPlace - i];\n        tabCar[lastPlace - i] = tempChar;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user10734354"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69769447,"answer_count":1,"score":0,"last_activity_date":1635512932,"creation_date":1635506079,"question_id":69767935,"body_markdown":"Hello i have a problem with the code i&#39;ve written down below. From what i&#39;ve understand so far  what is passed to the method is the memory reference of charArray thus the variable charArray and tabCar should point at the same memory place. thus the modification done in my method reverseArray should be seen but somehow the 2 print statement display the same array... Could somebody explain to me why ?\r\n\r\n\r\n```java\r\npublic static void reverseArray(char[] tabCar){\r\n    int lastPlace = tabCar.length - 1;\r\n    for(int i = 0 ; i &lt; tabCar.length ; i++){\r\n        char tempChar = tabCar[i];\r\n        tabCar[i] = tabCar[lastPlace - i];\r\n        tabCar[lastPlace - i] = tempChar;\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    char[] charArray = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;};\r\n    System.out.println(&quot;Before reverseArray : &quot; + Arrays.toString(charArray));\r\n    reverseArray(charArray);\r\n    System.out.println(&quot;After reverseArray : &quot; + Arrays.toString(charArray));\r\n}\r\n```","title":"char array not modified after passing trough a method that should modify it in java","body":"<p>Hello i have a problem with the code i've written down below. From what i've understand so far  what is passed to the method is the memory reference of charArray thus the variable charArray and tabCar should point at the same memory place. thus the modification done in my method reverseArray should be seen but somehow the 2 print statement display the same array... Could somebody explain to me why ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void reverseArray(char[] tabCar){\n    int lastPlace = tabCar.length - 1;\n    for(int i = 0 ; i &lt; tabCar.length ; i++){\n        char tempChar = tabCar[i];\n        tabCar[i] = tabCar[lastPlace - i];\n        tabCar[lastPlace - i] = tempChar;\n    }\n}\n\npublic static void main(String[] args) {\n    char[] charArray = {'a','b','c','d','e','f'};\n    System.out.println(&quot;Before reverseArray : &quot; + Arrays.toString(charArray));\n    reverseArray(charArray);\n    System.out.println(&quot;After reverseArray : &quot; + Arrays.toString(charArray));\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1635511496,"post_id":69769090,"comment_id":123324730,"body_markdown":"T cannot be primitive","body":"T cannot be primitive"},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1635512268,"post_id":69769090,"comment_id":123325064,"body_markdown":"That is a reason we have IntStream instead of using Stream","body":"That is a reason we have IntStream instead of using Stream"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1635512958,"post_id":69769090,"comment_id":123325383,"body_markdown":"You could overload the method ...","body":"You could overload the method ..."},{"owner":{"account_id":14415230,"reputation":185,"user_id":12479250,"display_name":"Alexey Ismagilov"},"score":0,"creation_date":1635514175,"post_id":69769090,"comment_id":123325928,"body_markdown":"I understand that the `Comparator&lt;Integer&gt;` can compare two `int` without any problems. But I don&#39;t really understand how to make sorting of both primitive and complex types possible with one function, so as not to write the same code twice.","body":"I understand that the <code>Comparator&lt;Integer&gt;</code> can compare two <code>int</code> without any problems. But I don&#39;t really understand how to make sorting of both primitive and complex types possible with one function, so as not to write the same code twice."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637249683,"post_id":69769090,"comment_id":123780892,"body_markdown":"If providing one function was possible, do you think they would have added [18 `sort` methods to `Arrays`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html) (not counting the parallel ones)?","body":"If providing one function was possible, do you think they would have added <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\">18 <code>sort</code> methods to <code>Arrays</code></a> (not counting the parallel ones)?"},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1640383284,"post_id":69769090,"comment_id":124581706,"body_markdown":"Even if JLS technically allowed that - the compiler would have to resort to boxing your `primitive[]` array to a respective `wrapper[]` array (e.g. `int[]` to `Integer[]`) anyway since any generic type is not a primitive by definition. So, you can just do that conversion yourself (`int[]` to `Integer[]`) right before calling sort as this is effectively identical to what the compiler would do if the `sort(T[] a, Comparator&lt;T&gt; c)` was allowed to accept primitive arrays","body":"Even if JLS technically allowed that - the compiler would have to resort to boxing your <code>primitive[]</code> array to a respective <code>wrapper[]</code> array (e.g. <code>int[]</code> to <code>Integer[]</code>) anyway since any generic type is not a primitive by definition. So, you can just do that conversion yourself (<code>int[]</code> to <code>Integer[]</code>) right before calling sort as this is effectively identical to what the compiler would do if the <code>sort(T[] a, Comparator&lt;T&gt; c)</code> was allowed to accept primitive arrays"}],"owner":{"account_id":14415230,"reputation":185,"user_id":12479250,"display_name":"Alexey Ismagilov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635512407,"creation_date":1635511424,"question_id":69769090,"body_markdown":"I&#39;m trying to write a sorting method that would receive an array and a comparator for its elements as input. But an argument for an interface in java cannot be a primitive type, so for an array of elements of type `int`, a `Comparator&lt;Integer&gt;` is needed, not a `Comparator&lt;int&gt;`. In the case of an array of objects, my prototype looks like this:\r\n```\r\npublic static &lt;T&gt; void sort(T[] a, java.util.Comparator&lt;T&gt; c) {\r\n    ...\r\n}\r\n```\r\nIn this case , the situation is as follows:\r\n```\r\nsort(new Integer[10], new IntegerComparator()); // compiled\r\nsort(new int[10], new IntegerComparator()); // not compiled\r\n```\r\nwhere\r\n```\r\npublic class IntegerComparator implements java.util.Comparator&lt;Integer&gt; {\r\n    public CountingComparator() {}\r\n    public int compare(Integer l, Integer r) { return l.compareTo(r); }\r\n}\r\n```\r\n\r\nIs there a way in java to get a wrapper over `T` as a type if `T` is primitive and `T` otherwise?","title":"Getting a type or wrapper if the type is primitive","body":"<p>I'm trying to write a sorting method that would receive an array and a comparator for its elements as input. But an argument for an interface in java cannot be a primitive type, so for an array of elements of type <code>int</code>, a <code>Comparator&lt;Integer&gt;</code> is needed, not a <code>Comparator&lt;int&gt;</code>. In the case of an array of objects, my prototype looks like this:</p>\n<pre><code>public static &lt;T&gt; void sort(T[] a, java.util.Comparator&lt;T&gt; c) {\n    ...\n}\n</code></pre>\n<p>In this case , the situation is as follows:</p>\n<pre><code>sort(new Integer[10], new IntegerComparator()); // compiled\nsort(new int[10], new IntegerComparator()); // not compiled\n</code></pre>\n<p>where</p>\n<pre><code>public class IntegerComparator implements java.util.Comparator&lt;Integer&gt; {\n    public CountingComparator() {}\n    public int compare(Integer l, Integer r) { return l.compareTo(r); }\n}\n</code></pre>\n<p>Is there a way in java to get a wrapper over <code>T</code> as a type if <code>T</code> is primitive and <code>T</code> otherwise?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635508991,"post_id":69768328,"comment_id":123323746,"body_markdown":"use `@Controller` not `@RestController`.","body":"use <code>@Controller</code> not <code>@RestController</code>."}],"answers":[{"tags":[],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635512314,"creation_date":1635512314,"answer_id":69769294,"question_id":69768328,"body_markdown":"```\r\n@RequestMapping(value = &quot;/session&quot;, method = RequestMethod.POST)\r\npublic String joinSession(RedirectAttributes redirectAttributes){\r\n\t/* --- */\r\n\tredirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;!!!Wrong Password!!!&quot;);\r\n\treturn &quot;redirect:/dashboard&quot;;\r\n}\r\n```","title":"RedirectAttributes not working in SpringBoot project","body":"<pre><code>@RequestMapping(value = &quot;/session&quot;, method = RequestMethod.POST)\npublic String joinSession(RedirectAttributes redirectAttributes){\n    /* --- */\n    redirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;!!!Wrong Password!!!&quot;);\n    return &quot;redirect:/dashboard&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69769294,"answer_count":1,"score":0,"last_activity_date":1635512314,"creation_date":1635507965,"question_id":69768328,"body_markdown":"I am trying to set up `RedirectAttributes`, but nothing happens when I do so. Here is my controller:\r\n```\r\nimport org.springframework.web.servlet.mvc.support.RedirectAttributes;\r\n\r\n\r\n    @GetMapping(&quot;/run-1&quot;)\r\n    public String getTests(RedirectAttributes redirectAttributes) {\r\n        logger.info(&quot;Info Log in Main controller class&quot;);\r\n        logger.info(workingDir);\r\n        redirectAttributes.addFlashAttribute(&quot;uploadStatus&quot;, &quot;redirectWithRedirectView&quot;);\r\n        redirectAttributes.addAttribute(&quot;uploadStatus&quot;, &quot;redirectWithRedirectView&quot;);\r\n        return &quot;redirect:uploadStatus&quot;;\r\n\r\n    }\r\n```\r\n\r\nThis is a SpringBoot project, and since it is the Umbrella over Spring MVC, then I assumed I could use `RedirectAttributes`. So, what is going on? When I hit this end point, I am returned: `redirect:uploadStatus`\r\n","title":"RedirectAttributes not working in SpringBoot project","body":"<p>I am trying to set up <code>RedirectAttributes</code>, but nothing happens when I do so. Here is my controller:</p>\n<pre><code>import org.springframework.web.servlet.mvc.support.RedirectAttributes;\n\n\n    @GetMapping(&quot;/run-1&quot;)\n    public String getTests(RedirectAttributes redirectAttributes) {\n        logger.info(&quot;Info Log in Main controller class&quot;);\n        logger.info(workingDir);\n        redirectAttributes.addFlashAttribute(&quot;uploadStatus&quot;, &quot;redirectWithRedirectView&quot;);\n        redirectAttributes.addAttribute(&quot;uploadStatus&quot;, &quot;redirectWithRedirectView&quot;);\n        return &quot;redirect:uploadStatus&quot;;\n\n    }\n</code></pre>\n<p>This is a SpringBoot project, and since it is the Umbrella over Spring MVC, then I assumed I could use <code>RedirectAttributes</code>. So, what is going on? When I hit this end point, I am returned: <code>redirect:uploadStatus</code></p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1635510020,"post_id":69768685,"comment_id":123324127,"body_markdown":"Well ... the error message is very clear: You don&#39;t have a bean of type `PersonaDetailsImpl` in your application context. (You even didn&#39;t show the class ...)","body":"Well ... the error message is very clear: You don&#39;t have a bean of type <code>PersonaDetailsImpl</code> in your application context. (You even didn&#39;t show the class ...)"},{"owner":{"account_id":23182103,"reputation":1,"user_id":17279788,"display_name":"Daniel Lobato"},"score":0,"creation_date":1635511385,"post_id":69768685,"comment_id":123324689,"body_markdown":"Sorry i forgot that one class... But yes, it contains a Bean, here you are:)   (i edit the question right now)","body":"Sorry i forgot that one class... But yes, it contains a Bean, here you are:)   (i edit the question right now)"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1635512828,"post_id":69768685,"comment_id":123325310,"body_markdown":"Well ... your class `PersonaDetailsImpl` is just that ... a class, but not a bean! To make it a bean, you either need to have a `@Bean` annotated method in any configuration class that returns an instance of this class, or you need to annotate this class with (at least) `@Component`.","body":"Well ... your class <code>PersonaDetailsImpl</code> is just that ... a class, but not a bean! To make it a bean, you either need to have a <code>@Bean</code> annotated method in any configuration class that returns an instance of this class, or you need to annotate this class with (at least) <code>@Component</code>."},{"owner":{"account_id":23182103,"reputation":1,"user_id":17279788,"display_name":"Daniel Lobato"},"score":0,"creation_date":1635589964,"post_id":69768685,"comment_id":123342543,"body_markdown":"Yes!! Thank you so much! Love this community&#128519;","body":"Yes!! Thank you so much! Love this community😇"}],"owner":{"account_id":23182103,"reputation":1,"user_id":17279788,"display_name":"Daniel Lobato"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635511485,"creation_date":1635509589,"question_id":69768685,"body_markdown":"I&#39;m actually defining login with websecurity enabled, and i don&#39;t really know what is wring with my annotations that don&#39;t allow me to continue testing...\r\nHere is the trace:\r\n\r\n    2021-10-29 13:58:09.436  INFO 10044 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2021-10-29 13:58:09.447  INFO 10044 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2021-10-29 13:58:09.447  INFO 10044 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.52]\r\n    2021-10-29 13:58:09.534  INFO 10044 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2021-10-29 13:58:09.534  INFO 10044 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1188 ms\r\n    2021-10-29 13:58:09.682  INFO 10044 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2021-10-29 13:58:09.731  INFO 10044 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\r\n    2021-10-29 13:58:09.845  INFO 10044 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2021-10-29 13:58:09.933  INFO 10044 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2021-10-29 13:58:10.065  INFO 10044 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2021-10-29 13:58:10.089  INFO 10044 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect\r\n    2021-10-29 13:58:10.628  INFO 10044 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2021-10-29 13:58:10.636  INFO 10044 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-10-29 13:58:10.670  WARN 10044 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2021-10-29 13:58:10.687  WARN 10044 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webSecurityConfig&#39;: Unsatisfied dependency expressed through field &#39;personaDetails&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.taxig10.demo.service.PersonaDetailsImpl&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2021-10-29 13:58:10.687  INFO 10044 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-10-29 13:58:10.689  INFO 10044 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2021-10-29 13:58:10.695  INFO 10044 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2021-10-29 13:58:10.696  INFO 10044 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2021-10-29 13:58:10.706  INFO 10044 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2021-10-29 13:58:10.720 ERROR 10044 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field personaDetails in com.taxig10.demo.config.WebSecurityConfig required a bean of type &#39;com.taxig10.demo.service.PersonaDetailsImpl&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.taxig10.demo.service.PersonaDetailsImpl&#39; in your configuration.\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n**And my classes:**\r\n\r\n***// app class***\r\n        \r\n\r\n    package com.taxig10.demo;\r\n            \r\n            import org.springframework.boot.SpringApplication;\r\n            import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n            \r\n            @SpringBootApplication\r\n            public class TaxiG10Application {\r\n            \r\n            \tpublic static void main(String[] args) {\r\n            \t\tSpringApplication.run(TaxiG10Application.class, args);\r\n            \t}\r\n            \r\n            }\r\n        \r\n***// config class***\r\n       \r\n\r\n     package com.taxig10.demo.config;\r\n            import org.springframework.beans.factory.annotation.Autowired;\r\n            import org.springframework.context.annotation.Bean;\r\n            import org.springframework.context.annotation.Configuration;\r\n            import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n            import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n            import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n            import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n            import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n            \r\n            import com.taxig10.demo.service.PersonaDetailsImpl;\r\n            \r\n            \r\n            @Configuration\r\n            @EnableWebSecurity\r\n            public class WebSecurityConfig extends WebSecurityConfigurerAdapter{\r\n            \t\r\n            \t@Autowired\r\n            \tprivate PersonaDetailsImpl personaDetails;\r\n            \t\r\n            \t@Bean\r\n            \tpublic BCryptPasswordEncoder passwordEncoder() {\r\n            \t\treturn new BCryptPasswordEncoder();\r\n            \t}\r\n            \r\n            \t@Override\r\n            \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            \t\tauth.userDetailsService(personaDetails).passwordEncoder(passwordEncoder());\r\n            \t}\r\n            \r\n            \t@Override\r\n            \tprotected void configure(HttpSecurity http) throws Exception {\r\n            \t\thttp.authorizeRequests().antMatchers(&quot;/&quot;,&quot;/auth/**&quot;,&quot;public/**&quot;,&quot;/css/**&quot;,&quot;/js/**&quot;)\r\n            \t\t\t.permitAll().anyRequest().authenticated()\r\n            \t\t.and()\r\n            \t\t\t.formLogin().loginPage(&quot;/auth/index/&quot;).defaultSuccessUrl(&quot;/private/index&quot;,true).failureUrl(&quot;/auth/login?error=true&quot;)\r\n            \t\t\t.loginProcessingUrl(&quot;/auth/login-post&quot;).permitAll()\r\n            \t\t.and()\r\n            \t\t\t.logout().logoutUrl(&quot;/logout/&quot;).logoutSuccessUrl(&quot;public/index&quot;);\r\n            \t}\r\n            \r\n            }\r\n    \r\n***// IPersona class***\r\n    package com.taxig10.demo.interfaces;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.taxig10.demo.modelo.Persona;\r\n    \r\n    @Repository\r\n    public interface Ipersona extends CrudRepository&lt;Persona, Integer&gt; {\r\n    \t\r\n    }\r\n    \r\n***// IpersonaService class***\r\n    package com.taxig10.demo.interfaceService;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import javax.mail.MessagingException;\r\n    \r\n    import com.taxig10.demo.modelo.Persona;\r\n    \r\n    public interface IpersonaService {\r\n    \tpublic List&lt;Persona&gt; listar();\r\n    \tpublic Optional&lt;Persona&gt; listarId(int id);\r\n    \tpublic Persona save(Persona p) throws UnsupportedEncodingException, MessagingException;\r\n    \tpublic void delete(int id);\r\n    \tboolean login(Persona persona);\r\n    \tint confirm(Persona p);\r\n    \tboolean isAdmin(String name);\r\n    \tvoid logout(Persona persona);\r\n    \t// ---\r\n    \tpublic Persona getPersonaFromBD(String name);\r\n    \tpublic Persona registrar(Persona p);\r\n    }\r\n    \r\n**// PersonaService class**\r\n    package com.taxig10.demo.service;\r\n    \r\n    @Service\r\n    public class PersonaService implements IpersonaService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate Ipersona data;\r\n    \t\r\n    \t@Autowired\r\n        private BCryptPasswordEncoder passwordEncoder;\r\n    \t\r\n    \t@Override\r\n    \tpublic List&lt;Persona&gt; listar() {\r\n    \t\treturn (List&lt;Persona&gt;)data.findAll();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Persona getPersonaFromBD(String name) {\r\n    \t\tIterator&lt;Persona&gt; personas = data.findAll().iterator();\r\n    \t\twhile(personas.hasNext()) {\r\n    \t\t\tPersona cont = personas.next();\r\n    \t\t\tif(cont.getName().equals(name)) {\r\n    \t\t\t\treturn cont;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }\r\n    \r\n***// PersonaDetailsImpl class***\r\n\r\n    package com.taxig10.demo.service;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.User.UserBuilder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    \r\n    import com.taxig10.demo.interfaceService.IpersonaService;\r\n    import com.taxig10.demo.modelo.Persona;\r\n    \r\n    public class PersonaDetailsImpl implements UserDetailsService{\r\n    \t\r\n    \t@Autowired\r\n    \tprivate IpersonaService personaService;\r\n    \t\r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String name) throws UsernameNotFoundException {\r\n    \t\tPersona persona = personaService.getPersonaFromBD(name);\r\n    \t\tUserBuilder builder = null;\r\n    \t\t\r\n    \t\tif(persona != null) {\r\n    \t\t\tbuilder = User.withUsername(name);\r\n    \t\t\tbuilder.disabled(false);\r\n    \t\t\tbuilder.password(persona.getPwd());\r\n    \t\t\tbuilder.authorities(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n    \t\t} else {\r\n    \t\t\tthrow new UsernameNotFoundException(&quot;Usuario no encontrado&quot;);\r\n    \t\t}\r\n    \t\treturn builder.build();\r\n    \t}\r\n    \r\n    }\r\n\r\n***Thank you in advance &lt;3***\r\n","title":"Consider defining a bean of type &#39;com.taxig10.demo.service.PersonaDetailsImpl&#39; in your configuration. ERROR The injection point has the following anno","body":"<p>I'm actually defining login with websecurity enabled, and i don't really know what is wring with my annotations that don't allow me to continue testing...\nHere is the trace:</p>\n<pre><code>2021-10-29 13:58:09.436  INFO 10044 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-10-29 13:58:09.447  INFO 10044 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-10-29 13:58:09.447  INFO 10044 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.52]\n2021-10-29 13:58:09.534  INFO 10044 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-10-29 13:58:09.534  INFO 10044 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1188 ms\n2021-10-29 13:58:09.682  INFO 10044 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-10-29 13:58:09.731  INFO 10044 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\n2021-10-29 13:58:09.845  INFO 10044 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-10-29 13:58:09.933  INFO 10044 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-10-29 13:58:10.065  INFO 10044 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-10-29 13:58:10.089  INFO 10044 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect\n2021-10-29 13:58:10.628  INFO 10044 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2021-10-29 13:58:10.636  INFO 10044 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-10-29 13:58:10.670  WARN 10044 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2021-10-29 13:58:10.687  WARN 10044 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'personaDetails'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.taxig10.demo.service.PersonaDetailsImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2021-10-29 13:58:10.687  INFO 10044 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2021-10-29 13:58:10.689  INFO 10044 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2021-10-29 13:58:10.695  INFO 10044 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2021-10-29 13:58:10.696  INFO 10044 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2021-10-29 13:58:10.706  INFO 10044 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-10-29 13:58:10.720 ERROR 10044 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField personaDetails in com.taxig10.demo.config.WebSecurityConfig required a bean of type 'com.taxig10.demo.service.PersonaDetailsImpl' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.taxig10.demo.service.PersonaDetailsImpl' in your configuration.\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p><strong>And my classes:</strong></p>\n<p><em><strong>// app class</strong></em></p>\n<pre><code>package com.taxig10.demo;\n        \n        import org.springframework.boot.SpringApplication;\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\n        \n        @SpringBootApplication\n        public class TaxiG10Application {\n        \n            public static void main(String[] args) {\n                SpringApplication.run(TaxiG10Application.class, args);\n            }\n        \n        }\n    \n</code></pre>\n<p><em><strong>// config class</strong></em></p>\n<pre><code> package com.taxig10.demo.config;\n        import org.springframework.beans.factory.annotation.Autowired;\n        import org.springframework.context.annotation.Bean;\n        import org.springframework.context.annotation.Configuration;\n        import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\n        import org.springframework.security.config.annotation.web.builders.HttpSecurity;\n        import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n        import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n        import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n        \n        import com.taxig10.demo.service.PersonaDetailsImpl;\n        \n        \n        @Configuration\n        @EnableWebSecurity\n        public class WebSecurityConfig extends WebSecurityConfigurerAdapter{\n            \n            @Autowired\n            private PersonaDetailsImpl personaDetails;\n            \n            @Bean\n            public BCryptPasswordEncoder passwordEncoder() {\n                return new BCryptPasswordEncoder();\n            }\n        \n            @Override\n            protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n                auth.userDetailsService(personaDetails).passwordEncoder(passwordEncoder());\n            }\n        \n            @Override\n            protected void configure(HttpSecurity http) throws Exception {\n                http.authorizeRequests().antMatchers(&quot;/&quot;,&quot;/auth/**&quot;,&quot;public/**&quot;,&quot;/css/**&quot;,&quot;/js/**&quot;)\n                    .permitAll().anyRequest().authenticated()\n                .and()\n                    .formLogin().loginPage(&quot;/auth/index/&quot;).defaultSuccessUrl(&quot;/private/index&quot;,true).failureUrl(&quot;/auth/login?error=true&quot;)\n                    .loginProcessingUrl(&quot;/auth/login-post&quot;).permitAll()\n                .and()\n                    .logout().logoutUrl(&quot;/logout/&quot;).logoutSuccessUrl(&quot;public/index&quot;);\n            }\n        \n        }\n</code></pre>\n<p><em><strong>// IPersona class</strong></em>\npackage com.taxig10.demo.interfaces;</p>\n<pre><code>import org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.taxig10.demo.modelo.Persona;\n\n@Repository\npublic interface Ipersona extends CrudRepository&lt;Persona, Integer&gt; {\n    \n}\n</code></pre>\n<p><em><strong>// IpersonaService class</strong></em>\npackage com.taxig10.demo.interfaceService;</p>\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.util.List;\nimport java.util.Optional;\n\nimport javax.mail.MessagingException;\n\nimport com.taxig10.demo.modelo.Persona;\n\npublic interface IpersonaService {\n    public List&lt;Persona&gt; listar();\n    public Optional&lt;Persona&gt; listarId(int id);\n    public Persona save(Persona p) throws UnsupportedEncodingException, MessagingException;\n    public void delete(int id);\n    boolean login(Persona persona);\n    int confirm(Persona p);\n    boolean isAdmin(String name);\n    void logout(Persona persona);\n    // ---\n    public Persona getPersonaFromBD(String name);\n    public Persona registrar(Persona p);\n}\n</code></pre>\n<p><strong>// PersonaService class</strong>\npackage com.taxig10.demo.service;</p>\n<pre><code>@Service\npublic class PersonaService implements IpersonaService {\n    \n    @Autowired\n    private Ipersona data;\n    \n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n    \n    @Override\n    public List&lt;Persona&gt; listar() {\n        return (List&lt;Persona&gt;)data.findAll();\n    }\n    \n    @Override\n    public Persona getPersonaFromBD(String name) {\n        Iterator&lt;Persona&gt; personas = data.findAll().iterator();\n        while(personas.hasNext()) {\n            Persona cont = personas.next();\n            if(cont.getName().equals(name)) {\n                return cont;\n            }\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p><em><strong>// PersonaDetailsImpl class</strong></em></p>\n<pre><code>package com.taxig10.demo.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.User.UserBuilder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n\nimport com.taxig10.demo.interfaceService.IpersonaService;\nimport com.taxig10.demo.modelo.Persona;\n\npublic class PersonaDetailsImpl implements UserDetailsService{\n    \n    @Autowired\n    private IpersonaService personaService;\n    \n    @Override\n    public UserDetails loadUserByUsername(String name) throws UsernameNotFoundException {\n        Persona persona = personaService.getPersonaFromBD(name);\n        UserBuilder builder = null;\n        \n        if(persona != null) {\n            builder = User.withUsername(name);\n            builder.disabled(false);\n            builder.password(persona.getPwd());\n            builder.authorities(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n        } else {\n            throw new UsernameNotFoundException(&quot;Usuario no encontrado&quot;);\n        }\n        return builder.build();\n    }\n\n}\n</code></pre>\n<p><em><strong>Thank you in advance &lt;3</strong></em></p>\n"},{"tags":["java","gradle","jar","dependencies"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635511195,"creation_date":1635511195,"answer_id":69769035,"question_id":69768860,"body_markdown":"There is no point sticking `.java` files in a jar file. You need to compile the java files, which produces `.class` files. Put those in the jar file.\r\n","title":"Cannot use classes from .jar file","body":"<p>There is no point sticking <code>.java</code> files in a jar file. You need to compile the java files, which produces <code>.class</code> files. Put those in the jar file.</p>\n"}],"owner":{"account_id":18208286,"reputation":11,"user_id":13251304,"display_name":"Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635511195,"creation_date":1635510414,"question_id":69768860,"body_markdown":"I&#39;ve made a .jar with .java classes and tried to import them into my project, but it doesn&#39;t work.\r\n\r\nWhen I build the project, I get:\r\n\r\n    &gt; Task :compileJava FAILED\r\n    error: package skija does not exist\r\n    import static skija.scenes.*;\r\n\r\n\r\nIn my gradle I&#39;ve tried to add this .jar via multiple methods and none of them work &lt;br/&gt;\r\nbuild.gradle:\r\n\r\n    repositories {\r\n    flatDir {\r\n        dirs &#39;lib&#39;\r\n       } \r\n    }\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;lib&#39;, include: &#39;*.jar&#39;)\r\n        implementation fileTree(dir: &#39;lib&#39;, includes: [&#39;*.jar&#39;])\r\n        implementation files(&#39;lib/scenes.jar&#39;)\r\n        implementation name: &#39;scenes&#39;\r\n    }\r\n\r\nAdditionally, I&#39;ve modified settings.gradle, which doesn&#39;t change anything:\r\n\r\n    pluginManagement {\r\n        buildscript {\r\n            repositories {\r\n                flatDir {\r\n                    dirs &#39;lib&#39;\r\n                }\r\n            }\r\n            dependencies {\r\n                classpath fileTree(dir: &#39;lib&#39;, includes: [&#39;*.jar&#39;])\r\n                classpath name: &#39;scenes&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nNext, I&#39;ve added libraries from the Idea Project Structure Libraries.\r\nOne is pointing to &lt;i&gt;lib&lt;/i&gt; folder, and another points directly to the .jar file. This didn&#39;t help either.\r\n\r\n\r\nI use a `jar.bat` script placed inside of PATH that calls jar.exe &lt;br/&gt;\r\njar.bat:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-16.0.1\\bin\\jar.exe&quot; %*\r\n\r\n\r\nThe scenes.jar was made with `jar cfv scenes.jar *` command. &lt;br/&gt;\r\nSnipped of `jar tf scenes.jar`:\r\n\r\n    &gt;&quot;C:\\Program Files\\Java\\jdk-16.0.1\\bin\\jar.exe&quot; tf scenes.jar\r\n    META-INF/\r\n    META-INF/MANIFEST.MF\r\n    skija/scenes/\r\n    skija/scenes/BitmapImageScene.java\r\n    skija/scenes/BitmapScene.java\r\n    skija/scenes/BlendsScene.java\r\n    skija/scenes/BreakIteratorScene.java\r\n    skija/scenes/CodecScene.java\r\n    skija/scenes/ColorFiltersScene.java\r\n    skija/scenes/DebugTextBlobHandler.java\r\n    skija/scenes/DebugTextRun.java\r\n    skija/scenes/DecorationsBenchScene.java\r\n    skija/scenes/DrawableScene.java\r\n    skija/scenes/EmptyScene.java\r\n    skija/scenes/FigmaScene.java\r\n    skija/scenes/FontRenderingScene.java\r\n    skija/scenes/FontScene.java\r\n    skija/scenes/FontSizeScene.java\r\n    skija/scenes/FontVariationsScene.java\r\n    skija/scenes/GeometryScene.java\r\n    skija/scenes/HUD.java\r\n    skija/scenes/ImageBenchScene.java\r\n    skija/scenes/ImageCodecsScene.java\r\n    skija/scenes/ImageFiltersScene.java\r\n    skija/scenes/ImagesScene.java\r\n    skija/scenes/MaskFiltersScene.java","title":"Cannot use classes from .jar file","body":"<p>I've made a .jar with .java classes and tried to import them into my project, but it doesn't work.</p>\n<p>When I build the project, I get:</p>\n<pre><code>&gt; Task :compileJava FAILED\nerror: package skija does not exist\nimport static skija.scenes.*;\n</code></pre>\n<p>In my gradle I've tried to add this .jar via multiple methods and none of them work <br/>\nbuild.gradle:</p>\n<pre><code>repositories {\nflatDir {\n    dirs 'lib'\n   } \n}\ndependencies {\n    implementation fileTree(dir: 'lib', include: '*.jar')\n    implementation fileTree(dir: 'lib', includes: ['*.jar'])\n    implementation files('lib/scenes.jar')\n    implementation name: 'scenes'\n}\n</code></pre>\n<p>Additionally, I've modified settings.gradle, which doesn't change anything:</p>\n<pre><code>pluginManagement {\n    buildscript {\n        repositories {\n            flatDir {\n                dirs 'lib'\n            }\n        }\n        dependencies {\n            classpath fileTree(dir: 'lib', includes: ['*.jar'])\n            classpath name: 'scenes'\n        }\n    }\n}\n</code></pre>\n<p>Next, I've added libraries from the Idea Project Structure Libraries.\nOne is pointing to <i>lib</i> folder, and another points directly to the .jar file. This didn't help either.</p>\n<p>I use a <code>jar.bat</code> script placed inside of PATH that calls jar.exe <br/>\njar.bat:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-16.0.1\\bin\\jar.exe&quot; %*\n</code></pre>\n<p>The scenes.jar was made with <code>jar cfv scenes.jar *</code> command. <br/>\nSnipped of <code>jar tf scenes.jar</code>:</p>\n<pre><code>&gt;&quot;C:\\Program Files\\Java\\jdk-16.0.1\\bin\\jar.exe&quot; tf scenes.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\nskija/scenes/\nskija/scenes/BitmapImageScene.java\nskija/scenes/BitmapScene.java\nskija/scenes/BlendsScene.java\nskija/scenes/BreakIteratorScene.java\nskija/scenes/CodecScene.java\nskija/scenes/ColorFiltersScene.java\nskija/scenes/DebugTextBlobHandler.java\nskija/scenes/DebugTextRun.java\nskija/scenes/DecorationsBenchScene.java\nskija/scenes/DrawableScene.java\nskija/scenes/EmptyScene.java\nskija/scenes/FigmaScene.java\nskija/scenes/FontRenderingScene.java\nskija/scenes/FontScene.java\nskija/scenes/FontSizeScene.java\nskija/scenes/FontVariationsScene.java\nskija/scenes/GeometryScene.java\nskija/scenes/HUD.java\nskija/scenes/ImageBenchScene.java\nskija/scenes/ImageCodecsScene.java\nskija/scenes/ImageFiltersScene.java\nskija/scenes/ImagesScene.java\nskija/scenes/MaskFiltersScene.java\n</code></pre>\n"},{"tags":["java","serialization"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635511059,"creation_date":1635511059,"answer_id":69769010,"question_id":69768484,"body_markdown":"This is an idiotic linting rule, so, no, you should not.\r\n\r\nSpecifically, the rule: &quot;All things that are serializable must have a serialVersionUID&quot; is extremely dubious. Applying this rule to things that are serializable by accident, such as all exception subtypes, is downright stupidity.\r\n\r\nAdhering to the linting rule either [A] just straight up making your code quite a bit worse (yes, this linting rule gives you incentive to make your code worse. I&#39;m using the word &#39;stupidity&#39; for good reason), or [B] makes it only slightly worse but writing it &#39;semi-properly&#39; like this is actually really expensive, in the sense that it takes a ton of time to do right, and then your code _still_ is worse than if you just leave it out.\r\n\r\nI better back up these drastic claims!\r\n\r\n## What is `serialVersionUID`, even?\r\n\r\nWhenever you serialize any object using java&#39;s baked in serialization mechanism, the &#39;serial version ID&#39; of a class is written into the data as well. When deserializing, that class needs to be on the classpath, _AND_ it must have the same svUid. If it doesn&#39;t, deserializing throws an exception instead. The svUid of any class is defined as:\r\n\r\n* The value of the `static final long serialVersionUID` field if it is present,\r\n\r\nor if it is not,\r\n\r\n* The result of computing it, which is based on hashing all signature aspects of that class (extends, implements, the type and name of all the fields, the return type, name, and parameter types and names of all methods). If you want to see it, the `serialver` tool (in the `bin` dir of any JDK distro) will tell you.\r\n\r\n## Why this linter rule is bad\r\n\r\nThe reason that it is boneheaded to complain about this is that the UID part of the serialization mechanism is what it is, and whilst it&#39;s not great, it is actually _better_ than what this linting rule is pushing you to. Specifically, this is the proper model of serial version UID management&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n* All classes start out with the computed svUid. __Do not explicitly add one__.\r\n* When you update your code and you are actually doing the silly move of using serialization to communicate between different versions of the same app, then by default any class is no longer compatible with a previous version of itself if any part of any signature changed.\r\n* ... unless the author has _explicitly_ opted into writing a version update that IS compatible with older versions and has taken the time to write tests and document this behaviour. In this case they obviously have the older version (how else could they make the promise that you can deserialize something &#39;saved&#39; with the old version using the new version, if you don&#39;t even have the old?) - so they run the `serialver` tool on the old version and __explicitly write this into their new version__.\r\n\r\nThe above is obviously (to me anyway) vastly superior to any other approach, _if_ (de)serializing between versions is even relevant (which it really shouldn&#39;t be). Thus, if you go with the rule of &#39;do not use java&#39;s serialization mechanism at all&#39;, then the linting rule should be disabled. If you go with the alternate best way to go about it, the linting rule should still be disabled: It is in fact RIGHT that all classes start off without any svUid initially. Your linting tool has no idea that this is version 2 of something that needs to be serialization-compatible with version 1 and therefore no linting rule can exist that triggers only in that (extremely rare) circumstance. Thus, linting rule is bad, disable it.\r\n\r\n## I can&#39;t, I must add one.\r\n\r\nOkay, let&#39;s ignore all that and say that we must add a value for it. But what number shall we put in? There are 3 options.\r\n\r\n### A constant value, such as `1L`\r\n\r\nThis just changes the conventions: Instead of defaulting to the behaviour of &#39;any signature update makes a class incompatible with a previous version of itself - to change that, add svUid&#39;, you&#39;ve now changed that behaviour to &#39;any signature change, even adding a field, doesn&#39;t matter - that class is still serialization-compatible with any previous version of it - to change that, add svUid&#39;.\r\n\r\nThat&#39;s a bad default, obviously. But it is the easy way to do it, further adding fuel to the fire: A linter should, if anything, warn if you use some obvious constant (1, or 42, or 31, or whatnot).\r\n\r\n### The actual svUid\r\n\r\nAs in, what `serialver` would generate. This is superfluous, and therefore a DRY violation. It&#39;s also a lot of work: Write in a dummy, compile it, run `serialver`, copy it over.\r\n\r\n\r\n### What you want: The svUid of the previous version, _IF_ you are compatible with it\r\n\r\nThat&#39;s the true answer. Not something a linter tool can help you with, though.\r\n\r\n----\r\n\r\nNB: This answer is a slightly edited copy of a reply to a feature request for project lombok asking for precisely this: serialVersionUID for your own exception subtypes. [See Project lombok issue #3016](https://github.com/projectlombok/lombok/issues/3016).\r\n\r\n[1] Actually the best way to do serialization is to not use java&#39;s baked in mechanism at all and instead use a library that thought it through properly.\r\n","title":"Should I implement serialVersionUID in Exception Subclasses?","body":"<p>This is an idiotic linting rule, so, no, you should not.</p>\n<p>Specifically, the rule: &quot;All things that are serializable must have a serialVersionUID&quot; is extremely dubious. Applying this rule to things that are serializable by accident, such as all exception subtypes, is downright stupidity.</p>\n<p>Adhering to the linting rule either [A] just straight up making your code quite a bit worse (yes, this linting rule gives you incentive to make your code worse. I'm using the word 'stupidity' for good reason), or [B] makes it only slightly worse but writing it 'semi-properly' like this is actually really expensive, in the sense that it takes a ton of time to do right, and then your code <em>still</em> is worse than if you just leave it out.</p>\n<p>I better back up these drastic claims!</p>\n<h2>What is <code>serialVersionUID</code>, even?</h2>\n<p>Whenever you serialize any object using java's baked in serialization mechanism, the 'serial version ID' of a class is written into the data as well. When deserializing, that class needs to be on the classpath, <em>AND</em> it must have the same svUid. If it doesn't, deserializing throws an exception instead. The svUid of any class is defined as:</p>\n<ul>\n<li>The value of the <code>static final long serialVersionUID</code> field if it is present,</li>\n</ul>\n<p>or if it is not,</p>\n<ul>\n<li>The result of computing it, which is based on hashing all signature aspects of that class (extends, implements, the type and name of all the fields, the return type, name, and parameter types and names of all methods). If you want to see it, the <code>serialver</code> tool (in the <code>bin</code> dir of any JDK distro) will tell you.</li>\n</ul>\n<h2>Why this linter rule is bad</h2>\n<p>The reason that it is boneheaded to complain about this is that the UID part of the serialization mechanism is what it is, and whilst it's not great, it is actually <em>better</em> than what this linting rule is pushing you to. Specifically, this is the proper model of serial version UID management<sup>1</sup>:</p>\n<ul>\n<li>All classes start out with the computed svUid. <strong>Do not explicitly add one</strong>.</li>\n<li>When you update your code and you are actually doing the silly move of using serialization to communicate between different versions of the same app, then by default any class is no longer compatible with a previous version of itself if any part of any signature changed.</li>\n<li>... unless the author has <em>explicitly</em> opted into writing a version update that IS compatible with older versions and has taken the time to write tests and document this behaviour. In this case they obviously have the older version (how else could they make the promise that you can deserialize something 'saved' with the old version using the new version, if you don't even have the old?) - so they run the <code>serialver</code> tool on the old version and <strong>explicitly write this into their new version</strong>.</li>\n</ul>\n<p>The above is obviously (to me anyway) vastly superior to any other approach, <em>if</em> (de)serializing between versions is even relevant (which it really shouldn't be). Thus, if you go with the rule of 'do not use java's serialization mechanism at all', then the linting rule should be disabled. If you go with the alternate best way to go about it, the linting rule should still be disabled: It is in fact RIGHT that all classes start off without any svUid initially. Your linting tool has no idea that this is version 2 of something that needs to be serialization-compatible with version 1 and therefore no linting rule can exist that triggers only in that (extremely rare) circumstance. Thus, linting rule is bad, disable it.</p>\n<h2>I can't, I must add one.</h2>\n<p>Okay, let's ignore all that and say that we must add a value for it. But what number shall we put in? There are 3 options.</p>\n<h3>A constant value, such as <code>1L</code></h3>\n<p>This just changes the conventions: Instead of defaulting to the behaviour of 'any signature update makes a class incompatible with a previous version of itself - to change that, add svUid', you've now changed that behaviour to 'any signature change, even adding a field, doesn't matter - that class is still serialization-compatible with any previous version of it - to change that, add svUid'.</p>\n<p>That's a bad default, obviously. But it is the easy way to do it, further adding fuel to the fire: A linter should, if anything, warn if you use some obvious constant (1, or 42, or 31, or whatnot).</p>\n<h3>The actual svUid</h3>\n<p>As in, what <code>serialver</code> would generate. This is superfluous, and therefore a DRY violation. It's also a lot of work: Write in a dummy, compile it, run <code>serialver</code>, copy it over.</p>\n<h3>What you want: The svUid of the previous version, <em>IF</em> you are compatible with it</h3>\n<p>That's the true answer. Not something a linter tool can help you with, though.</p>\n<hr />\n<p>NB: This answer is a slightly edited copy of a reply to a feature request for project lombok asking for precisely this: serialVersionUID for your own exception subtypes. <a href=\"https://github.com/projectlombok/lombok/issues/3016\" rel=\"nofollow noreferrer\">See Project lombok issue #3016</a>.</p>\n<p>[1] Actually the best way to do serialization is to not use java's baked in mechanism at all and instead use a library that thought it through properly.</p>\n"}],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69769010,"answer_count":1,"score":1,"last_activity_date":1635511059,"creation_date":1635508740,"question_id":69768484,"body_markdown":"on a code review I saw Code like this...\r\n\r\n```\r\npublic class IntersectionException extends Exception\r\n\r\n   static final long serialVersionUID = 42L;\r\n\r\n```\r\n\r\nas I know we need to implement serialVersionUID to be sure that we deserialize same version of an Object as serialized. And if we take a look on Hierarchy of class Exception, we will see there is a implementation of &quot;Serialiazable&quot; interface.\r\n\r\nBut in the class **Exception** we have already a serialVersionUID. So, my question is, should I declare serialVersionUID in a child class of **Exception** too?\r\n\r\n","title":"Should I implement serialVersionUID in Exception Subclasses?","body":"<p>on a code review I saw Code like this...</p>\n<pre><code>public class IntersectionException extends Exception\n\n   static final long serialVersionUID = 42L;\n\n</code></pre>\n<p>as I know we need to implement serialVersionUID to be sure that we deserialize same version of an Object as serialized. And if we take a look on Hierarchy of class Exception, we will see there is a implementation of &quot;Serialiazable&quot; interface.</p>\n<p>But in the class <strong>Exception</strong> we have already a serialVersionUID. So, my question is, should I declare serialVersionUID in a child class of <strong>Exception</strong> too?</p>\n"},{"tags":["java","oop","constructor"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":4,"creation_date":1635502253,"post_id":69767138,"comment_id":123321411,"body_markdown":"`&quot;C&quot;` is a `String` , `&#39;C&#39;` is a `char` .","body":"<code>&quot;C&quot;</code> is a <code>String</code> , <code>&#39;C&#39;</code> is a <code>char</code> ."},{"owner":{"account_id":21604796,"reputation":11,"user_id":15932371,"display_name":"PJ Villaflor"},"score":1,"creation_date":1635502871,"post_id":69767138,"comment_id":123321619,"body_markdown":"Oh, I didn&#39;t noticed it but thanks, still. &quot;Small help makes big difference.&quot;","body":"Oh, I didn&#39;t noticed it but thanks, still. &quot;Small help makes big difference.&quot;"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1635510072,"post_id":69767138,"comment_id":123324148,"body_markdown":"I assume this is really just &quot;throw away exercise code&quot;, but still: use **meaningful** names in your code, especially for the fields of your classes. You see, section vs section2, what is the sense of that? In other words: when writing code, also practice that &quot;how to come up with good names&quot; part.","body":"I assume this is really just &quot;throw away exercise code&quot;, but still: use <b>meaningful</b> names in your code, especially for the fields of your classes. You see, section vs section2, what is the sense of that? In other words: when writing code, also practice that &quot;how to come up with good names&quot; part."},{"owner":{"account_id":21604796,"reputation":11,"user_id":15932371,"display_name":"PJ Villaflor"},"score":0,"creation_date":1635511543,"post_id":69767138,"comment_id":123324748,"body_markdown":"Not trying to be rude but, I&#39;m still a learning student, sir. I haven&#39;t been on the part where I also have to worry my naming conventions. However, I am somewhat interested what you mean by &quot;meaningful&quot;. What sort of names can come up from someone who has already an expertise in this field?","body":"Not trying to be rude but, I&#39;m still a learning student, sir. I haven&#39;t been on the part where I also have to worry my naming conventions. However, I am somewhat interested what you mean by &quot;meaningful&quot;. What sort of names can come up from someone who has already an expertise in this field?"}],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635502828,"creation_date":1635502434,"answer_id":69767199,"question_id":69767138,"body_markdown":"When you call :\r\n\r\n```java\r\nBook book2 = new Book(&quot;E&quot;, 185.86, &quot;P&quot;, 277, 2010);\r\n```\r\n\r\nChange &quot;E&quot; to &#39;E&#39; if you want to call the second constructor with char, otherwise &quot;E&quot; is the String object. Same thing for the field `author` (change &quot;P&quot; to &#39;P&#39;)\r\n\r\nBy the way, instead of creating `displayData()` method, you can override the `toString()` method :\r\n\r\n```java\r\n@Override\r\npublic String toString() {\r\n    return &quot;your string with information&quot;;\r\n}\r\n```\r\n\r\nso you can call this method with :\r\n\r\n```java\r\nSystem.out.println(book.toString());\r\nSystem.out.println(book); // The same thing ! It will call the toString() method\r\n```","title":"Java Error: The constructor is undefined (2)","body":"<p>When you call :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Book book2 = new Book(&quot;E&quot;, 185.86, &quot;P&quot;, 277, 2010);\n</code></pre>\n<p>Change &quot;E&quot; to 'E' if you want to call the second constructor with char, otherwise &quot;E&quot; is the String object. Same thing for the field <code>author</code> (change &quot;P&quot; to 'P')</p>\n<p>By the way, instead of creating <code>displayData()</code> method, you can override the <code>toString()</code> method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String toString() {\n    return &quot;your string with information&quot;;\n}\n</code></pre>\n<p>so you can call this method with :</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(book.toString());\nSystem.out.println(book); // The same thing ! It will call the toString() method\n</code></pre>\n"}],"owner":{"account_id":21604796,"reputation":11,"user_id":15932371,"display_name":"PJ Villaflor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635510410,"creation_date":1635502162,"question_id":69767138,"body_markdown":"Problem: My overloading constructors are undefined, even though I&#39;m doing the right thing (I think so?).\r\n\r\nThe source code:\r\n\r\n    class Book { \r\n\t    String section;\r\n\t    float subject2;\r\n\t    char section2, author;\r\n\t    int subject, author2, year;\r\n\t\r\n\tBook(String section, int subject, char author, int author2, int year) { \r\n\t\tthis.section = section;\r\n\t\tthis.subject = subject;\r\n\t\tthis.author = author;\r\n\t\tthis.author2 = author2;\r\n\t\tthis.year = year;\r\n\t}\r\n\tBook(char section2, float subject2, char author, int author2, int year) {\r\n\t\tthis.section2 = section2;\r\n\t\tthis.subject2 = subject2;\r\n\t\tthis.author = author;\r\n\t\tthis.author2 = author2;\r\n\t\tthis.year = year;\r\n\t}\r\n\tvoid displayData() {\r\n\t\tSystem.out.println(section + subject + &quot; .&quot; + author + author2 + &quot; &quot; + year);\r\n\t}\r\n\tvoid displayData2() {\r\n\t\tSystem.out.println(section2 + subject2 + &quot; .&quot; + author + author2 + &quot; &quot; + year);\r\n\t}}\r\n    public class TestBook {\r\n\t  public static void main(String[] args) {\r\n        Book book1 = new Book(&quot;LB&quot;, 2395, &quot;C&quot;, 65, 1991);\r\n\t\tBook book2 = new Book(&quot;E&quot;, 185.86, &quot;P&quot;, 277, 2010);\r\n\t\tbook1.displayData();\r\n\t\tbook2.displayData2();\r\n\t    s.close();\t\r\n\t}}\r\n\r\nApologies for the length if it bothers. Thanks for helping in advanced!","title":"Java Error: The constructor is undefined (2)","body":"<p>Problem: My overloading constructors are undefined, even though I'm doing the right thing (I think so?).</p>\n<p>The source code:</p>\n<pre><code>class Book { \n    String section;\n    float subject2;\n    char section2, author;\n    int subject, author2, year;\n\nBook(String section, int subject, char author, int author2, int year) { \n    this.section = section;\n    this.subject = subject;\n    this.author = author;\n    this.author2 = author2;\n    this.year = year;\n}\nBook(char section2, float subject2, char author, int author2, int year) {\n    this.section2 = section2;\n    this.subject2 = subject2;\n    this.author = author;\n    this.author2 = author2;\n    this.year = year;\n}\nvoid displayData() {\n    System.out.println(section + subject + &quot; .&quot; + author + author2 + &quot; &quot; + year);\n}\nvoid displayData2() {\n    System.out.println(section2 + subject2 + &quot; .&quot; + author + author2 + &quot; &quot; + year);\n}}\npublic class TestBook {\n  public static void main(String[] args) {\n    Book book1 = new Book(&quot;LB&quot;, 2395, &quot;C&quot;, 65, 1991);\n    Book book2 = new Book(&quot;E&quot;, 185.86, &quot;P&quot;, 277, 2010);\n    book1.displayData();\n    book2.displayData2();\n    s.close();  \n}}\n</code></pre>\n<p>Apologies for the length if it bothers. Thanks for helping in advanced!</p>\n"},{"tags":["java","android","android-alarms"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1635510537,"post_id":69768839,"comment_id":123324339,"body_markdown":"under `R.id.ProceedBtn` onClick code you are using `AlarmReceiver.class` for `startService`, thats improper (and probably not related to your main problem ;) )","body":"under <code>R.id.ProceedBtn</code> onClick code you are using <code>AlarmReceiver.class</code> for <code>startService</code>, thats improper (and probably not related to your main problem ;) )"},{"owner":{"account_id":19864250,"reputation":104,"user_id":15473634,"display_name":"user15473634"},"score":0,"creation_date":1635510730,"post_id":69768839,"comment_id":123324428,"body_markdown":"@snachmsm This may seem rather silly to ask, but how can i fix it?","body":"@snachmsm This may seem rather silly to ask, but how can i fix it?"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1635512240,"post_id":69768839,"comment_id":123325049,"body_markdown":"use `sendBroadcast` instead of `startService`, as `AlarmReceiver` is probably extending `BroadcastReceiver`, not `Service`. but in fact this snippet it looks unnecessary there (never worked)","body":"use <code>sendBroadcast</code> instead of <code>startService</code>, as <code>AlarmReceiver</code> is probably extending <code>BroadcastReceiver</code>, not <code>Service</code>. but in fact this snippet it looks unnecessary there (never worked)"},{"owner":{"account_id":19864250,"reputation":104,"user_id":15473634,"display_name":"user15473634"},"score":0,"creation_date":1635512975,"post_id":69768839,"comment_id":123325391,"body_markdown":"@snachmsm It does work but when i try to get my string in AlarmReceiver i get the following error `android.app.ReceiverRestrictedContext cannot be cast to android.app.Activity`.","body":"@snachmsm It does work but when i try to get my string in AlarmReceiver i get the following error <code>android.app.ReceiverRestrictedContext cannot be cast to android.app.Activity</code>."},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1635514162,"post_id":69768839,"comment_id":123325916,"body_markdown":"I see only `Toast` in your `onReceive` method, and fixed `String`, no casting at all...","body":"I see only <code>Toast</code> in your <code>onReceive</code> method, and fixed <code>String</code>, no casting at all..."}],"owner":{"account_id":19864250,"reputation":104,"user_id":15473634,"display_name":"user15473634"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635510291,"creation_date":1635510291,"question_id":69768839,"body_markdown":"I am a bit new to android studio, and i am making an app where the user can select the date and time, and it will schedule and alarm to go off at that time. However, when i set the alarm it does not go off. Does anyone know where i went wrong? Or what it is i can change within my code.\r\n\r\n**CustomDialogClass**\r\n```\r\npublic Activity c;\r\n    public Dialog d;\r\n    public CircleButton CalendarBtn, TimeBtn;\r\n    public Button CancelBtn, ProceedBtn;\r\n    public TextView CalendarTxt, TimeTxt;\r\n    public EditText ReminderTxt;\r\n\r\n    //FOR CALENDAR\r\n    final Calendar myCalendar = Calendar.getInstance();\r\n\r\n    //FOR CALENDAR\r\n    private void updateLabel(TextView edittext) {\r\n        String myFormat = &quot;dd/MM/yy&quot;; //In which you need put here\r\n        SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.UK);\r\n\r\n        edittext.setText(sdf.format(myCalendar.getTime()));\r\n    }\r\n\r\n    //FOR CALENDAR\r\n    DatePickerDialog.OnDateSetListener date = new DatePickerDialog.OnDateSetListener() {\r\n        @Override\r\n        public void onDateSet(DatePicker view, int year, int monthOfYear,\r\n                              int dayOfMonth) {\r\n            // TODO Auto-generated method stub\r\n            myCalendar.set(Calendar.YEAR, year);\r\n            myCalendar.set(Calendar.MONTH, monthOfYear);\r\n            myCalendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\r\n            updateLabel(CalendarTxt);\r\n        }\r\n\r\n    };\r\n\r\n    public CustomDialogClass(Activity a) {\r\n        super(a);\r\n        // TODO Auto-generated constructor stub\r\n        this.c = a;\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        setContentView(R.layout.custom_dialog);\r\n        CalendarTxt = (TextView) findViewById(R.id.CurrentDateSelect);\r\n        TimeTxt = (TextView) findViewById(R.id.CurrentTimeSelect);\r\n\r\n        CancelBtn = (Button) findViewById(R.id.CancelBtn);\r\n        ProceedBtn = (Button) findViewById(R.id.ProceedBtn);\r\n        CancelBtn.setOnClickListener(this);\r\n        ProceedBtn.setOnClickListener(this);\r\n\r\n        CalendarBtn = (CircleButton) findViewById(R.id.calendarBtn);\r\n        TimeBtn = (CircleButton) findViewById(R.id.timeBtn);\r\n        CalendarBtn.setOnClickListener(this);\r\n        TimeBtn.setOnClickListener(this);\r\n\r\n        ReminderTxt = (EditText) findViewById(R.id.ReminderTxt);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        //On click method for buttons\r\n        switch (v.getId()) {\r\n            case R.id.calendarBtn:\r\n\r\n                new DatePickerDialog(getContext(), date, myCalendar\r\n                        .get(Calendar.YEAR), myCalendar.get(Calendar.MONTH),\r\n                        myCalendar.get(Calendar.DAY_OF_MONTH)).show();\r\n                break;\r\n\r\n            case R.id.CancelBtn:\r\n                dismiss();\r\n                break;\r\n\r\n\r\n            case R.id.timeBtn:\r\n\r\n                Calendar mcurrentTime = Calendar.getInstance();\r\n                int hour = mcurrentTime.get(Calendar.HOUR_OF_DAY);\r\n                int minute = mcurrentTime.get(Calendar.MINUTE);\r\n                TimePickerDialog mTimePicker;\r\n                mTimePicker = new TimePickerDialog(getContext(), new TimePickerDialog.OnTimeSetListener() {\r\n                    @Override\r\n                    public void onTimeSet(TimePicker timePicker, int selectedHour, int selectedMinute) {\r\n                        String curTime = String.format(&quot;%02d:%02d&quot;, selectedHour, selectedMinute);\r\n                        TimeTxt.setText(curTime);\r\n                    }\r\n                }, hour, minute, true);//Yes 24 hour time\r\n                mTimePicker.setTitle(&quot;Select Time&quot;);\r\n                mTimePicker.show();\r\n\r\n                break;\r\n\r\n            case R.id.ProceedBtn:\r\n\r\n\r\n                String TimeVal = TimeTxt.getText().toString();\r\n                String DateVal = CalendarTxt.getText().toString();\r\n                String RemindVal = ReminderTxt.getText().toString();\r\n\r\n                if ((TimeVal + DateVal + RemindVal).isEmpty()) {\r\n                    Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\r\n                } else if ((TimeVal + DateVal).isEmpty()) {\r\n                    Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\r\n                } else if ((TimeVal + RemindVal).isEmpty()) {\r\n                    Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\r\n                } else if ((DateVal + RemindVal).isEmpty()) {\r\n                    Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    String FinalAlarmVal = DateVal + &quot; &quot; + &quot; &quot; + TimeVal;\r\n\r\n                    String AlarmHour = TimeVal.substring(0, 2);\r\n                    String AlarmMins = TimeVal.substring(3, 5); \r\n\r\n                    String AlarmMonth = DateVal.substring(3, 5);\r\n                    String AlarmDay = DateVal.substring(0, 2);\r\n\r\n\r\n                    System.out.println(&quot;SEWISINGHVV-  &quot;+ Integer.parseInt(AlarmMonth));\r\n\r\n                    AlarmScheduler.setReminder(getContext(), Integer.parseInt(AlarmHour), Integer.parseInt(AlarmMins), Integer.parseInt(AlarmDay), Integer.parseInt(AlarmMonth)); // Here mContext is Context of Activity. If you use this code in Activity then you can pass ActivityName.this and in Fragment you can do getActivity()\r\n\r\n                    Intent AlarmName = new Intent(getContext(), AlarmReceiver.class);\r\n                    AlarmName.putExtra(&quot;NameOfAlarm&quot;, RemindVal);\r\n                    getContext().startService(AlarmName);\r\n\r\n                }\r\n\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        //dismiss();\r\n        //Ends dialog when button is pressed\r\n    }\r\n```\r\n\r\n**AlarmScheduler**\r\n```\r\n    public static final int DAILY_REMINDER_REQUEST_CODE = 100;\r\n    public static final String TAG = &quot;AlarmScheduler&quot;;\r\n\r\n    public static void setReminder(Context context, int hour, int min, int day, int month) {\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n\r\n        Calendar setcalendar = Calendar.getInstance();\r\n        setcalendar.set(Calendar.MONTH, month);\r\n        setcalendar.set(Calendar.DAY_OF_MONTH, day);\r\n        setcalendar.set(Calendar.HOUR_OF_DAY, hour);\r\n        setcalendar.set(Calendar.MINUTE, min);\r\n        setcalendar.set(Calendar.SECOND, 0);\r\n        setcalendar.set(Calendar.MILLISECOND, 0);\r\n\r\n        // cancel already scheduled reminders\r\n        cancelReminder(context, AlarmReceiver.class);\r\n\r\n        if (setcalendar.before(calendar))\r\n            setcalendar.add(Calendar.DATE, 1);\r\n\r\n        // Enable a receiver\r\n        ComponentName receiver = new ComponentName(context, AlarmReceiver.class);\r\n        PackageManager pm = context.getPackageManager();\r\n\r\n        pm.setComponentEnabledSetting(receiver,\r\n                PackageManager.COMPONENT_ENABLED_STATE_ENABLED,\r\n                PackageManager.DONT_KILL_APP);\r\n\r\n        Intent intent1 = new Intent(context, AlarmReceiver.class);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, DAILY_REMINDER_REQUEST_CODE, intent1, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        AlarmManager am = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n        am.setInexactRepeating(AlarmManager.RTC_WAKEUP, setcalendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntent);\r\n\r\n\r\n    }\r\n\r\n    public static void cancelReminder(Context context, Class&lt;?&gt; cls) {\r\n\r\n        // Disable a receiver\r\n        ComponentName receiver = new ComponentName(context, cls);\r\n        PackageManager pm = context.getPackageManager();\r\n\r\n        pm.setComponentEnabledSetting(receiver,\r\n                PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\r\n                PackageManager.DONT_KILL_APP);\r\n\r\n        Intent intent1 = new Intent(context, cls);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, DAILY_REMINDER_REQUEST_CODE, intent1, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        AlarmManager am = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n        am.cancel(pendingIntent);\r\n        pendingIntent.cancel();\r\n    }\r\n```\r\n**AlarmReceiver**\r\n```\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Toast.makeText(context, &quot;Alarm worked.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n```","title":"AlarmScheduler not working/setting off alarm in Android Studio","body":"<p>I am a bit new to android studio, and i am making an app where the user can select the date and time, and it will schedule and alarm to go off at that time. However, when i set the alarm it does not go off. Does anyone know where i went wrong? Or what it is i can change within my code.</p>\n<p><strong>CustomDialogClass</strong></p>\n<pre><code>public Activity c;\n    public Dialog d;\n    public CircleButton CalendarBtn, TimeBtn;\n    public Button CancelBtn, ProceedBtn;\n    public TextView CalendarTxt, TimeTxt;\n    public EditText ReminderTxt;\n\n    //FOR CALENDAR\n    final Calendar myCalendar = Calendar.getInstance();\n\n    //FOR CALENDAR\n    private void updateLabel(TextView edittext) {\n        String myFormat = &quot;dd/MM/yy&quot;; //In which you need put here\n        SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.UK);\n\n        edittext.setText(sdf.format(myCalendar.getTime()));\n    }\n\n    //FOR CALENDAR\n    DatePickerDialog.OnDateSetListener date = new DatePickerDialog.OnDateSetListener() {\n        @Override\n        public void onDateSet(DatePicker view, int year, int monthOfYear,\n                              int dayOfMonth) {\n            // TODO Auto-generated method stub\n            myCalendar.set(Calendar.YEAR, year);\n            myCalendar.set(Calendar.MONTH, monthOfYear);\n            myCalendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\n            updateLabel(CalendarTxt);\n        }\n\n    };\n\n    public CustomDialogClass(Activity a) {\n        super(a);\n        // TODO Auto-generated constructor stub\n        this.c = a;\n    }\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        setContentView(R.layout.custom_dialog);\n        CalendarTxt = (TextView) findViewById(R.id.CurrentDateSelect);\n        TimeTxt = (TextView) findViewById(R.id.CurrentTimeSelect);\n\n        CancelBtn = (Button) findViewById(R.id.CancelBtn);\n        ProceedBtn = (Button) findViewById(R.id.ProceedBtn);\n        CancelBtn.setOnClickListener(this);\n        ProceedBtn.setOnClickListener(this);\n\n        CalendarBtn = (CircleButton) findViewById(R.id.calendarBtn);\n        TimeBtn = (CircleButton) findViewById(R.id.timeBtn);\n        CalendarBtn.setOnClickListener(this);\n        TimeBtn.setOnClickListener(this);\n\n        ReminderTxt = (EditText) findViewById(R.id.ReminderTxt);\n\n\n    }\n\n    @Override\n    public void onClick(View v) {\n        //On click method for buttons\n        switch (v.getId()) {\n            case R.id.calendarBtn:\n\n                new DatePickerDialog(getContext(), date, myCalendar\n                        .get(Calendar.YEAR), myCalendar.get(Calendar.MONTH),\n                        myCalendar.get(Calendar.DAY_OF_MONTH)).show();\n                break;\n\n            case R.id.CancelBtn:\n                dismiss();\n                break;\n\n\n            case R.id.timeBtn:\n\n                Calendar mcurrentTime = Calendar.getInstance();\n                int hour = mcurrentTime.get(Calendar.HOUR_OF_DAY);\n                int minute = mcurrentTime.get(Calendar.MINUTE);\n                TimePickerDialog mTimePicker;\n                mTimePicker = new TimePickerDialog(getContext(), new TimePickerDialog.OnTimeSetListener() {\n                    @Override\n                    public void onTimeSet(TimePicker timePicker, int selectedHour, int selectedMinute) {\n                        String curTime = String.format(&quot;%02d:%02d&quot;, selectedHour, selectedMinute);\n                        TimeTxt.setText(curTime);\n                    }\n                }, hour, minute, true);//Yes 24 hour time\n                mTimePicker.setTitle(&quot;Select Time&quot;);\n                mTimePicker.show();\n\n                break;\n\n            case R.id.ProceedBtn:\n\n\n                String TimeVal = TimeTxt.getText().toString();\n                String DateVal = CalendarTxt.getText().toString();\n                String RemindVal = ReminderTxt.getText().toString();\n\n                if ((TimeVal + DateVal + RemindVal).isEmpty()) {\n                    Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\n                } else if ((TimeVal + DateVal).isEmpty()) {\n                    Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\n                } else if ((TimeVal + RemindVal).isEmpty()) {\n                    Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\n                } else if ((DateVal + RemindVal).isEmpty()) {\n                    Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    String FinalAlarmVal = DateVal + &quot; &quot; + &quot; &quot; + TimeVal;\n\n                    String AlarmHour = TimeVal.substring(0, 2);\n                    String AlarmMins = TimeVal.substring(3, 5); \n\n                    String AlarmMonth = DateVal.substring(3, 5);\n                    String AlarmDay = DateVal.substring(0, 2);\n\n\n                    System.out.println(&quot;SEWISINGHVV-  &quot;+ Integer.parseInt(AlarmMonth));\n\n                    AlarmScheduler.setReminder(getContext(), Integer.parseInt(AlarmHour), Integer.parseInt(AlarmMins), Integer.parseInt(AlarmDay), Integer.parseInt(AlarmMonth)); // Here mContext is Context of Activity. If you use this code in Activity then you can pass ActivityName.this and in Fragment you can do getActivity()\n\n                    Intent AlarmName = new Intent(getContext(), AlarmReceiver.class);\n                    AlarmName.putExtra(&quot;NameOfAlarm&quot;, RemindVal);\n                    getContext().startService(AlarmName);\n\n                }\n\n\n                break;\n            default:\n                break;\n        }\n        //dismiss();\n        //Ends dialog when button is pressed\n    }\n</code></pre>\n<p><strong>AlarmScheduler</strong></p>\n<pre><code>    public static final int DAILY_REMINDER_REQUEST_CODE = 100;\n    public static final String TAG = &quot;AlarmScheduler&quot;;\n\n    public static void setReminder(Context context, int hour, int min, int day, int month) {\n\n        Calendar calendar = Calendar.getInstance();\n\n        Calendar setcalendar = Calendar.getInstance();\n        setcalendar.set(Calendar.MONTH, month);\n        setcalendar.set(Calendar.DAY_OF_MONTH, day);\n        setcalendar.set(Calendar.HOUR_OF_DAY, hour);\n        setcalendar.set(Calendar.MINUTE, min);\n        setcalendar.set(Calendar.SECOND, 0);\n        setcalendar.set(Calendar.MILLISECOND, 0);\n\n        // cancel already scheduled reminders\n        cancelReminder(context, AlarmReceiver.class);\n\n        if (setcalendar.before(calendar))\n            setcalendar.add(Calendar.DATE, 1);\n\n        // Enable a receiver\n        ComponentName receiver = new ComponentName(context, AlarmReceiver.class);\n        PackageManager pm = context.getPackageManager();\n\n        pm.setComponentEnabledSetting(receiver,\n                PackageManager.COMPONENT_ENABLED_STATE_ENABLED,\n                PackageManager.DONT_KILL_APP);\n\n        Intent intent1 = new Intent(context, AlarmReceiver.class);\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, DAILY_REMINDER_REQUEST_CODE, intent1, PendingIntent.FLAG_UPDATE_CURRENT);\n        AlarmManager am = (AlarmManager) context.getSystemService(ALARM_SERVICE);\n        am.setInexactRepeating(AlarmManager.RTC_WAKEUP, setcalendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntent);\n\n\n    }\n\n    public static void cancelReminder(Context context, Class&lt;?&gt; cls) {\n\n        // Disable a receiver\n        ComponentName receiver = new ComponentName(context, cls);\n        PackageManager pm = context.getPackageManager();\n\n        pm.setComponentEnabledSetting(receiver,\n                PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\n                PackageManager.DONT_KILL_APP);\n\n        Intent intent1 = new Intent(context, cls);\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, DAILY_REMINDER_REQUEST_CODE, intent1, PendingIntent.FLAG_UPDATE_CURRENT);\n        AlarmManager am = (AlarmManager) context.getSystemService(ALARM_SERVICE);\n        am.cancel(pendingIntent);\n        pendingIntent.cancel();\n    }\n</code></pre>\n<p><strong>AlarmReceiver</strong></p>\n<pre><code>        @Override\n        public void onReceive(Context context, Intent intent) {\n            Toast.makeText(context, &quot;Alarm worked.&quot;, Toast.LENGTH_LONG).show();\n\n        }\n</code></pre>\n"},{"tags":["java","minecraft","bukkit"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635510261,"creation_date":1635510261,"answer_id":69768832,"question_id":69768763,"body_markdown":"Put the `count` variable outside the method (i.e. public) is a good idea. Actually, you are doing this:\r\n\r\n1. count = 5. count -1 -&gt; 4.\r\n2. count = 5. count -1 -&gt; 4.\r\n3. count = 5. count -1 -&gt; 4.\r\n4. etc...\r\n\r\nYou have to set the counter as public, but also link it to the user. You can do it with a Map.\r\n\r\nThere is also another solution, which is better: don&#39;t use lambda in this case, and use this instead :\r\n```java\r\n@EventHandler\r\npublic void onPlayerDeath(PlayerDeathEvent e) {\r\n   // here your code\r\n\r\n   task = Bukkit.getServer().getScheduler().runTaskTimer(Main.plugin, new Runnable() {\r\n        // complete runnable instance instead of implicit one\r\n        private int count = 5; // counter define only for this runnable instance\r\n\r\n        @Override\r\n        public void run() {\r\n            if(count == 0) {\r\n                task.cancel();\r\n                // finished\r\n            } else {\r\n                count--; // here it will remove 1 but keep it for next iteration\r\n                sendtitle(Integer.toString(count), e.getEntity());\r\n            }\r\n        }\r\n    }, 20, 20);\r\n}\r\n```","title":"Bukkit Custom death system","body":"<p>Put the <code>count</code> variable outside the method (i.e. public) is a good idea. Actually, you are doing this:</p>\n<ol>\n<li>count = 5. count -1 -&gt; 4.</li>\n<li>count = 5. count -1 -&gt; 4.</li>\n<li>count = 5. count -1 -&gt; 4.</li>\n<li>etc...</li>\n</ol>\n<p>You have to set the counter as public, but also link it to the user. You can do it with a Map.</p>\n<p>There is also another solution, which is better: don't use lambda in this case, and use this instead :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onPlayerDeath(PlayerDeathEvent e) {\n   // here your code\n\n   task = Bukkit.getServer().getScheduler().runTaskTimer(Main.plugin, new Runnable() {\n        // complete runnable instance instead of implicit one\n        private int count = 5; // counter define only for this runnable instance\n\n        @Override\n        public void run() {\n            if(count == 0) {\n                task.cancel();\n                // finished\n            } else {\n                count--; // here it will remove 1 but keep it for next iteration\n                sendtitle(Integer.toString(count), e.getEntity());\n            }\n        }\n    }, 20, 20);\n}\n</code></pre>\n"}],"owner":{"account_id":17868926,"reputation":79,"user_id":12980667,"display_name":"Sysy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69768832,"answer_count":1,"score":1,"last_activity_date":1635510261,"creation_date":1635509937,"question_id":69768763,"body_markdown":"i&#39;m making a bedwars plugin for a minecraft server, i&#39;m actually at the custom death system, i have a code that works :\r\n```\r\n    @EventHandler\r\n    public void onPlayerDeath(PlayerDeathEvent e) {\r\n        e.getEntity().spigot().respawn();\r\n        String[] pos = Main.death_coords.split(&quot;\\\\*&quot;);\r\n        World w = e.getEntity().getWorld();\r\n        Location loc = new Location(w, Double.parseDouble(pos[0]), Double.parseDouble(pos[1]), Double.parseDouble(pos[2]));\r\n        e.getEntity().teleport(loc);\r\n        e.getEntity().setGameMode(GameMode.SPECTATOR);\r\n\r\n        task = Bukkit.getServer().getScheduler().runTaskTimer(Main.plugin, () -&gt; {\r\n            int count = 5;\r\n            if(count == 0) {\r\n                task.cancel();\r\n                sendtitle(&quot;SusyBaka&quot;, e.getEntity());\r\n                e.getEntity().setGameMode(GameMode.SURVIVAL);\r\n            } else {\r\n                count--;\r\n                sendtitle(Integer.toString(count), e.getEntity());\r\n            }\r\n        }, 20, 20);\r\n    }\r\n```\r\n but when i get killed, i stucks, beaucause count is a new variable every sec and it&#39;s stucks a 5, i tried to make count a public int variable but it&#39;s just work for 1 death, else is instant respawn.\r\nHow to make that works ?","title":"Bukkit Custom death system","body":"<p>i'm making a bedwars plugin for a minecraft server, i'm actually at the custom death system, i have a code that works :</p>\n<pre><code>    @EventHandler\n    public void onPlayerDeath(PlayerDeathEvent e) {\n        e.getEntity().spigot().respawn();\n        String[] pos = Main.death_coords.split(&quot;\\\\*&quot;);\n        World w = e.getEntity().getWorld();\n        Location loc = new Location(w, Double.parseDouble(pos[0]), Double.parseDouble(pos[1]), Double.parseDouble(pos[2]));\n        e.getEntity().teleport(loc);\n        e.getEntity().setGameMode(GameMode.SPECTATOR);\n\n        task = Bukkit.getServer().getScheduler().runTaskTimer(Main.plugin, () -&gt; {\n            int count = 5;\n            if(count == 0) {\n                task.cancel();\n                sendtitle(&quot;SusyBaka&quot;, e.getEntity());\n                e.getEntity().setGameMode(GameMode.SURVIVAL);\n            } else {\n                count--;\n                sendtitle(Integer.toString(count), e.getEntity());\n            }\n        }, 20, 20);\n    }\n</code></pre>\n<p>but when i get killed, i stucks, beaucause count is a new variable every sec and it's stucks a 5, i tried to make count a public int variable but it's just work for 1 death, else is instant respawn.\nHow to make that works ?</p>\n"},{"tags":["java","spring-boot","jpa","concurrency","spring-data-jpa"],"comments":[{"owner":{"account_id":5237265,"reputation":824,"user_id":4185477,"display_name":"Nikesh Joshi"},"score":1,"creation_date":1635233360,"post_id":69718972,"comment_id":123234518,"body_markdown":"if you want to handle it in code, take lock on bookId, create one object which will have bookId and at a time only one instance of method can be called. Method can also has check if book already exisit.\n\nIf you want to handle in DB, use concurrency level in DB. \nI think you can handle things in code may be.","body":"if you want to handle it in code, take lock on bookId, create one object which will have bookId and at a time only one instance of method can be called. Method can also has check if book already exisit.  If you want to handle in DB, use concurrency level in DB.  I think you can handle things in code may be."},{"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"score":0,"creation_date":1635234895,"post_id":69718972,"comment_id":123235080,"body_markdown":"My concern with locks is performance, correct me if my understanding is wrong, but putting a pessimistic write  lock means not giving any read write access to the table for any other thread/method , the issue which I want to handle, will be not that common, but it will be definitely there,  so for solving that, I don&#39;t want the performance to take a major hit","body":"My concern with locks is performance, correct me if my understanding is wrong, but putting a pessimistic write  lock means not giving any read write access to the table for any other thread/method , the issue which I want to handle, will be not that common, but it will be definitely there,  so for solving that, I don&#39;t want the performance to take a major hit"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1635239944,"post_id":69718972,"comment_id":123237040,"body_markdown":"Add a unique index to these three fields.","body":"Add a unique index to these three fields."},{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":0,"creation_date":1635240055,"post_id":69718972,"comment_id":123237082,"body_markdown":"@zysaaa there must be a unique index in place already – no `DataIntegrtyViolation` would be thrown otherwise.","body":"@zysaaa there must be a unique index in place already – no <code>DataIntegrtyViolation</code> would be thrown otherwise."},{"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"score":0,"creation_date":1635240208,"post_id":69718972,"comment_id":123237144,"body_markdown":"@zysaaa i already have a unique constraint on the 3 fields for the entity - @UniqueConstraint(columnNames = { &quot;publisherName&quot;,&quot;bookTitle&quot;, &quot;authorName&quot; })","body":"@zysaaa i already have a unique constraint on the 3 fields for the entity - @UniqueConstraint(columnNames = { &quot;publisherName&quot;,&quot;bookTitle&quot;, &quot;authorName&quot; })"}],"answers":[{"tags":[],"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635509377,"creation_date":1635240099,"answer_id":69720512,"question_id":69718972,"body_markdown":"You could simply catch the `DataIntegrityViolation` and call `findFirstByPublisherNameAndBookTitleAndAuthorName` (or `createAutoBiography` recursively) again. ","title":"How to handle Concurrent create if not exists with spring data JPA","body":"<p>You could simply catch the <code>DataIntegrityViolation</code> and call <code>findFirstByPublisherNameAndBookTitleAndAuthorName</code> (or <code>createAutoBiography</code> recursively) again.</p>\n"},{"tags":[],"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635508389,"creation_date":1635508389,"answer_id":69768417,"question_id":69718972,"body_markdown":"Found the solution for this using the @Transactional(propagation = Propagation.REQUIRES_NEW) (you need the @Transactional provided by spring framework and not the javax.transaction.Transactional).\r\nThe reason it wasn&#39;t working for me is due to a very non intuitive caveat of how spring data JPA manages the transaction proxy.\r\nConsider this - \r\n\r\n    @Service\r\n    public class AuthorService {\r\n\r\n    @Transactional\r\n    public void createAutoBiography() {\r\n        createBook();\r\n        // process other entities\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void createBook() {\r\n        // ...\r\n    }\r\n}\r\n\r\nhere you would be expecting two transactions to be created, one by createAutoBiography() which is suspended by another transaction created in the createBook() method - and this is where my assumption was wrong.\r\n\r\nSpring creates a transactional AuthorService proxy, but once we are inside the AuthorService class and call other inner methods, there is no more proxy involved. This means, no new transaction is created.\r\nThis meant any exception in the second method was closing the transaction for the entire service and I was getting No session error when the next jpa operation was attempted. \r\n\r\nSo solved this by putting the createBook() method in a separate service class and adding a class level @Transactional(propagation = Propagation.REQUIRES_NEW) annotation.\r\n\r\nNow the createBook() execution takes place in a separate transaction and it is written to DB as soon as this method returns(transaction concludes) while the original transaction in createAutoBiography() is suspended. So, now if we catch the exception(as mentioned by @slauth above ) or use some kind of database locking we can handle/avoid the DataInegrityViolation Exception respectively. Also, even if the exception is not handled, only the second transaction should roll back, while the main transaction can still execute(need to test this though) .\r\n\r\nreference - https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth#transactional-pitfalls\r\n","title":"How to handle Concurrent create if not exists with spring data JPA","body":"<p>Found the solution for this using the @Transactional(propagation = Propagation.REQUIRES_NEW) (you need the @Transactional provided by spring framework and not the javax.transaction.Transactional).\nThe reason it wasn't working for me is due to a very non intuitive caveat of how spring data JPA manages the transaction proxy.\nConsider this -</p>\n<pre><code>@Service\npublic class AuthorService {\n\n@Transactional\npublic void createAutoBiography() {\n    createBook();\n    // process other entities\n}\n\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void createBook() {\n    // ...\n}\n</code></pre>\n<p>}</p>\n<p>here you would be expecting two transactions to be created, one by createAutoBiography() which is suspended by another transaction created in the createBook() method - and this is where my assumption was wrong.</p>\n<p>Spring creates a transactional AuthorService proxy, but once we are inside the AuthorService class and call other inner methods, there is no more proxy involved. This means, no new transaction is created.\nThis meant any exception in the second method was closing the transaction for the entire service and I was getting No session error when the next jpa operation was attempted.</p>\n<p>So solved this by putting the createBook() method in a separate service class and adding a class level @Transactional(propagation = Propagation.REQUIRES_NEW) annotation.</p>\n<p>Now the createBook() execution takes place in a separate transaction and it is written to DB as soon as this method returns(transaction concludes) while the original transaction in createAutoBiography() is suspended. So, now if we catch the exception(as mentioned by @slauth above ) or use some kind of database locking we can handle/avoid the DataInegrityViolation Exception respectively. Also, even if the exception is not handled, only the second transaction should roll back, while the main transaction can still execute(need to test this though) .</p>\n<p>reference - <a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth#transactional-pitfalls\" rel=\"nofollow noreferrer\">https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth#transactional-pitfalls</a></p>\n"}],"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69768417,"answer_count":2,"score":3,"last_activity_date":1635509377,"creation_date":1635232979,"question_id":69718972,"body_markdown":"I am using spring data JPA in my java-springboot project. I have one method which processes a lot of inter related entities(some of which are lazy loaded) and this method is run by concurrently by multiple threads. My issue is - when say Thread T1 comes and tries to create a new Book for the author, it checks if the book info already exists in the DB or not and starts creating a new record, in the meanwhile thread T2 also tries the same and starts creating the same resource, however when persisting, it gets DataIntegrtyViolation exception.\r\n\r\n    @Entity\r\n    @Table(name = &quot;BookInfo&quot;, uniqueConstraints = @UniqueConstraint(columnNames = { \r\n    &quot;publisherName&quot;,\r\n        &quot;bookTitle&quot;, &quot;authorName&quot; }), indexes = {\r\n                @Index(name = &quot;BookInfoProviderIndex&quot;, columnList = &quot;publisherName&quot;) \r\n    })\r\n    public class BookInfo  {\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY/* , generator=&quot;table_gen&quot; */)\r\n      private Long id;\r\n\r\n      @Column(name = &quot;publisherName&quot;, nullable = false)\r\n      private String publisherName;\r\n\r\n      @Column(name = &quot;bookTitle&quot;)\r\n      private String bookTitle;\r\n\r\n      @Column(name = &quot;authorName&quot;)\r\n      private String authorName;\r\n\r\nthe repository - \r\n\r\n    @Repository\r\n    public interface BookInfoRepository extends PagingAndSortingRepository&lt;BookInfo, Long&gt; {\r\n\r\n    public BookInfo findFirstByPublisherNameAndBookTitleAndAuthorName(String publisherName,\r\n            String bookTitle, String authorName);\r\n}\r\n  \r\nand the method which is causing the issue - \r\n\r\n    @Service\r\n    public class AuthorService{\r\n      @Autowired\r\n      BookInfoRepository bookRepo;\r\n\r\n      @Transactional\r\n      public createAutoBiography(AuthorDTO dto){\r\n          BookInfo book = null;\r\n          book = bookRepo.findFirstByPublisherNameAndBookTitleAndAuthorName(dto.getPubName(), dto.getTitle(), dto.author());\r\n          if(book != null){\r\n             book = buildBookInfo(dto);\r\n             book = bookRepo.save(book);\r\n          }\r\n\r\n          ...//other methods to create dependent resources for Author class and save the entities using the respective repositories \r\n      }\r\n    }\r\n\r\nI tried the following - \r\n1) Added @Lock(PESSIMISTIC_WRITE) on the `findFirstByPublisherNameAndBookTitleAndAuthorName()` repo method - this works, but collisions will not be very frequent and I am concerned about the performance impact it will have on the overall functionality, to handle occasional collisions like mentioned above.\r\n2) made the book creation part as a separate method with @Transactional(isolation = Isolation.SERIALIZABLE, propagation = Propagation.REQUIRES_NEW) - but I am getting no session error\r\n3) Made the BookInfo repo implement JpaRepository instead of PagingAndSortingRepository to use saveAndFlush() instead of save(), but it looks like even saveAndFlush will not commit to DB, the commit will implicitly happen only at the end of the outer method&#39;s Transaction\r\n\r\nAlso, noticed randomly there is a clash in resource creation for Author object itself, due to concurreny, where instead of adding the newly encountered BookInfo to an existing author, it creates a new entry for the author with the new book info \r\n\r\nIn general what is the best way to make JPA transactions thread safe?\r\n    ","title":"How to handle Concurrent create if not exists with spring data JPA","body":"<p>I am using spring data JPA in my java-springboot project. I have one method which processes a lot of inter related entities(some of which are lazy loaded) and this method is run by concurrently by multiple threads. My issue is - when say Thread T1 comes and tries to create a new Book for the author, it checks if the book info already exists in the DB or not and starts creating a new record, in the meanwhile thread T2 also tries the same and starts creating the same resource, however when persisting, it gets DataIntegrtyViolation exception.</p>\n<pre><code>@Entity\n@Table(name = &quot;BookInfo&quot;, uniqueConstraints = @UniqueConstraint(columnNames = { \n&quot;publisherName&quot;,\n    &quot;bookTitle&quot;, &quot;authorName&quot; }), indexes = {\n            @Index(name = &quot;BookInfoProviderIndex&quot;, columnList = &quot;publisherName&quot;) \n})\npublic class BookInfo  {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY/* , generator=&quot;table_gen&quot; */)\n  private Long id;\n\n  @Column(name = &quot;publisherName&quot;, nullable = false)\n  private String publisherName;\n\n  @Column(name = &quot;bookTitle&quot;)\n  private String bookTitle;\n\n  @Column(name = &quot;authorName&quot;)\n  private String authorName;\n</code></pre>\n<p>the repository -</p>\n<pre><code>@Repository\npublic interface BookInfoRepository extends PagingAndSortingRepository&lt;BookInfo, Long&gt; {\n\npublic BookInfo findFirstByPublisherNameAndBookTitleAndAuthorName(String publisherName,\n        String bookTitle, String authorName);\n</code></pre>\n<p>}</p>\n<p>and the method which is causing the issue -</p>\n<pre><code>@Service\npublic class AuthorService{\n  @Autowired\n  BookInfoRepository bookRepo;\n\n  @Transactional\n  public createAutoBiography(AuthorDTO dto){\n      BookInfo book = null;\n      book = bookRepo.findFirstByPublisherNameAndBookTitleAndAuthorName(dto.getPubName(), dto.getTitle(), dto.author());\n      if(book != null){\n         book = buildBookInfo(dto);\n         book = bookRepo.save(book);\n      }\n\n      ...//other methods to create dependent resources for Author class and save the entities using the respective repositories \n  }\n}\n</code></pre>\n<p>I tried the following -</p>\n<ol>\n<li>Added @Lock(PESSIMISTIC_WRITE) on the <code>findFirstByPublisherNameAndBookTitleAndAuthorName()</code> repo method - this works, but collisions will not be very frequent and I am concerned about the performance impact it will have on the overall functionality, to handle occasional collisions like mentioned above.</li>\n<li>made the book creation part as a separate method with @Transactional(isolation = Isolation.SERIALIZABLE, propagation = Propagation.REQUIRES_NEW) - but I am getting no session error</li>\n<li>Made the BookInfo repo implement JpaRepository instead of PagingAndSortingRepository to use saveAndFlush() instead of save(), but it looks like even saveAndFlush will not commit to DB, the commit will implicitly happen only at the end of the outer method's Transaction</li>\n</ol>\n<p>Also, noticed randomly there is a clash in resource creation for Author object itself, due to concurreny, where instead of adding the newly encountered BookInfo to an existing author, it creates a new entry for the author with the new book info</p>\n<p>In general what is the best way to make JPA transactions thread safe?</p>\n"},{"tags":["java","constructor","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"down_vote_count":9,"up_vote_count":10,"is_accepted":false,"score":1,"last_activity_date":1225768046,"creation_date":1225767175,"answer_id":260686,"question_id":260666,"body_markdown":"Consider this:\r\n\r\n    abstract class Product { \r\n        int value;\r\n        public Product( int val ) {\r\n            value= val;\r\n        }\r\n        abstract public int multiply();\r\n    }\r\n\r\n    class TimesTwo extends Product {\r\n        public int mutiply() {\r\n           return value * 2;\r\n        }\r\n    }\r\n    \r\nThe superclass is abstract and has a constructor.","title":"Can an abstract class have a constructor?","body":"<p>Consider this:</p>\n\n<pre><code>abstract class Product { \n    int value;\n    public Product( int val ) {\n        value= val;\n    }\n    abstract public int multiply();\n}\n\nclass TimesTwo extends Product {\n    public int mutiply() {\n       return value * 2;\n    }\n}\n</code></pre>\n\n<p>The superclass is abstract and has a constructor.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1225767592,"creation_date":1225767592,"answer_id":260710,"question_id":260666,"body_markdown":"Yes it can have a constructor and it is defined and behaves just like any other class&#39;s constructor.  Except that abstract classes can&#39;t be directly instantiated, only extended, so the use is therefore always from a subclass&#39;s constructor.","title":"Can an abstract class have a constructor?","body":"<p>Yes it can have a constructor and it is defined and behaves just like any other class's constructor.  Except that abstract classes can't be directly instantiated, only extended, so the use is therefore always from a subclass's constructor.</p>\n"},{"tags":[],"owner":{"account_id":15843,"reputation":13885,"user_id":33889,"accept_rate":82,"display_name":"Michael Rutherfurd"},"down_vote_count":1,"up_vote_count":748,"is_accepted":true,"score":747,"last_activity_date":1483060782,"creation_date":1225768777,"answer_id":260755,"question_id":260666,"body_markdown":"Yes, an abstract class can have a constructor. Consider this:\r\n\r\n    abstract class Product { \r\n        int multiplyBy;\r\n        public Product( int multiplyBy ) {\r\n            this.multiplyBy = multiplyBy;\r\n        }\r\n\r\n        public int mutiply(int val) {\r\n           return multiplyBy * val;\r\n        }\r\n    }\r\n    \r\n    class TimesTwo extends Product {\r\n        public TimesTwo() {\r\n            super(2);\r\n        }\r\n    }\r\n\r\n    class TimesWhat extends Product {\r\n        public TimesWhat(int what) {\r\n            super(what);\r\n        }\r\n    }\r\n\r\nThe superclass `Product` is abstract and has a constructor. The concrete class `TimesTwo` has a constructor that just hardcodes the value 2. The concrete class `TimesWhat` has a constructor that allows the caller to specify the value.\r\n\r\nAbstract constructors will frequently be used to enforce class constraints or invariants such as the minimum fields required to setup the class.\r\n\r\n&gt; NOTE: As there is no default (or no-arg) constructor in the parent\r\n&gt; abstract class, the constructor used in subclass must explicitly call\r\n&gt; the parent constructor.","title":"Can an abstract class have a constructor?","body":"<p>Yes, an abstract class can have a constructor. Consider this:</p>\n\n<pre><code>abstract class Product { \n    int multiplyBy;\n    public Product( int multiplyBy ) {\n        this.multiplyBy = multiplyBy;\n    }\n\n    public int mutiply(int val) {\n       return multiplyBy * val;\n    }\n}\n\nclass TimesTwo extends Product {\n    public TimesTwo() {\n        super(2);\n    }\n}\n\nclass TimesWhat extends Product {\n    public TimesWhat(int what) {\n        super(what);\n    }\n}\n</code></pre>\n\n<p>The superclass <code>Product</code> is abstract and has a constructor. The concrete class <code>TimesTwo</code> has a constructor that just hardcodes the value 2. The concrete class <code>TimesWhat</code> has a constructor that allows the caller to specify the value.</p>\n\n<p>Abstract constructors will frequently be used to enforce class constraints or invariants such as the minimum fields required to setup the class.</p>\n\n<blockquote>\n  <p>NOTE: As there is no default (or no-arg) constructor in the parent\n  abstract class, the constructor used in subclass must explicitly call\n  the parent constructor.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15857,"reputation":10459,"user_id":1440720,"display_name":"jfpoilpret"},"down_vote_count":0,"up_vote_count":185,"is_accepted":false,"score":185,"last_activity_date":1225783830,"creation_date":1225783830,"answer_id":261159,"question_id":260666,"body_markdown":"You would define a constructor in an abstract class if you are in one of these situations:\r\n\r\n  - you want to perform some\r\n    initialization (to fields of the\r\n    abstract class) before the\r\n    instantiation of a subclass actually\r\n    takes place\r\n  - you have defined final fields in the\r\n    abstract class but you did not\r\n    initialize them in the declaration\r\n    itself; in this case, you MUST have\r\n    a constructor to initialize these\r\n    fields\r\n\r\nNote that:\r\n\r\n  - you may define more than one\r\n    constructor (with different\r\n    arguments)\r\n  - you can (should?) define all your\r\n    constructors protected (making them\r\n    public is pointless anyway)\r\n  - your subclass constructor(s) can\r\n    call one constructor of the abstract\r\n    class; it may even **have to** call it\r\n    (if there is no no-arg constructor\r\n    in the abstract class)\r\n\r\nIn any case, don&#39;t forget that if you don&#39;t define a constructor, then the compiler will automatically generate one for you (this one is public, has no argument, and does nothing).\r\n","title":"Can an abstract class have a constructor?","body":"<p>You would define a constructor in an abstract class if you are in one of these situations:</p>\n\n<ul>\n<li>you want to perform some\ninitialization (to fields of the\nabstract class) before the\ninstantiation of a subclass actually\ntakes place</li>\n<li>you have defined final fields in the\nabstract class but you did not\ninitialize them in the declaration\nitself; in this case, you MUST have\na constructor to initialize these\nfields</li>\n</ul>\n\n<p>Note that:</p>\n\n<ul>\n<li>you may define more than one\nconstructor (with different\narguments)</li>\n<li>you can (should?) define all your\nconstructors protected (making them\npublic is pointless anyway)</li>\n<li>your subclass constructor(s) can\ncall one constructor of the abstract\nclass; it may even <strong>have to</strong> call it\n(if there is no no-arg constructor\nin the abstract class)</li>\n</ul>\n\n<p>In any case, don't forget that if you don't define a constructor, then the compiler will automatically generate one for you (this one is public, has no argument, and does nothing).</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1532539633,"creation_date":1368873475,"answer_id":16623315,"question_id":260666,"body_markdown":"**Yes**! **Abstract classes can have constructors**!\r\n\r\nYes, when we define a class to be an Abstract Class it cannot be instantiated but that does not mean an Abstract class cannot have a constructor. Each abstract class must have a concrete subclass which will implement the abstract methods of that abstract class.\r\n \r\nWhen we create an object of any subclass all the constructors in the corresponding inheritance tree are invoked in the top to bottom approach. The same case applies to abstract classes. Though we cannot create an object of an abstract class, when we create an object of a class which is concrete and subclass of the abstract class, the constructor of the abstract class is automatically invoked. Hence we can have a constructor in abstract classes.\r\n\r\nNote: A non-abstract class cannot have abstract methods but an abstract class can have a non-abstract method. Reason is similar to that of constructors, difference being instead of getting invoked automatically we can call super(). Also, there is nothing like an abstract constructor as it makes no sense at all.","title":"Can an abstract class have a constructor?","body":"<p><strong>Yes</strong>! <strong>Abstract classes can have constructors</strong>!</p>\n\n<p>Yes, when we define a class to be an Abstract Class it cannot be instantiated but that does not mean an Abstract class cannot have a constructor. Each abstract class must have a concrete subclass which will implement the abstract methods of that abstract class.</p>\n\n<p>When we create an object of any subclass all the constructors in the corresponding inheritance tree are invoked in the top to bottom approach. The same case applies to abstract classes. Though we cannot create an object of an abstract class, when we create an object of a class which is concrete and subclass of the abstract class, the constructor of the abstract class is automatically invoked. Hence we can have a constructor in abstract classes.</p>\n\n<p>Note: A non-abstract class cannot have abstract methods but an abstract class can have a non-abstract method. Reason is similar to that of constructors, difference being instead of getting invoked automatically we can call super(). Also, there is nothing like an abstract constructor as it makes no sense at all.</p>\n"},{"tags":[],"owner":{"account_id":3053016,"reputation":1631,"user_id":2587223,"accept_rate":86,"display_name":"jaideep"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1377709712,"creation_date":1374123843,"answer_id":17714904,"question_id":260666,"body_markdown":"As described by javafuns [here][1], this is an example:\r\n\r\n \r\n    public abstract class TestEngine\r\n    {\r\n       private String engineId;\r\n       private String engineName;\r\n     \r\n       public TestEngine(String engineId , String engineName)\r\n       {\r\n         this.engineId = engineId;\r\n         this.engineName = engineName;\r\n       }\r\n       //public gettors and settors\r\n       public abstract void scheduleTest();\r\n    }\r\n     \r\n     \r\n    public class JavaTestEngine extends TestEngine\r\n    {\r\n     \r\n       private String typeName;\r\n     \r\n       public JavaTestEngine(String engineId , String engineName , String typeName)\r\n       {\r\n          super(engineId , engineName);\r\n          this.typeName = typeName;\r\n       }\r\n     \r\n       public void scheduleTest()\r\n       {\r\n         //do Stuff\r\n       }\r\n    }\r\n       \r\n\r\n\r\n  [1]: http://www.geekinterview.com/question_details/77988","title":"Can an abstract class have a constructor?","body":"<p>As described by javafuns <a href=\"http://www.geekinterview.com/question_details/77988\" rel=\"nofollow\">here</a>, this is an example:</p>\n\n<pre><code>public abstract class TestEngine\n{\n   private String engineId;\n   private String engineName;\n\n   public TestEngine(String engineId , String engineName)\n   {\n     this.engineId = engineId;\n     this.engineName = engineName;\n   }\n   //public gettors and settors\n   public abstract void scheduleTest();\n}\n\n\npublic class JavaTestEngine extends TestEngine\n{\n\n   private String typeName;\n\n   public JavaTestEngine(String engineId , String engineName , String typeName)\n   {\n      super(engineId , engineName);\n      this.typeName = typeName;\n   }\n\n   public void scheduleTest()\n   {\n     //do Stuff\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3073524,"reputation":61,"user_id":2603515,"display_name":"Jacob"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1374382605,"creation_date":1374382605,"answer_id":17769203,"question_id":260666,"body_markdown":"Yes it can, abstract classes constructors are generally used for super calls for initialization events common to all the subclasses","title":"Can an abstract class have a constructor?","body":"<p>Yes it can, abstract classes constructors are generally used for super calls for initialization events common to all the subclasses</p>\n"},{"tags":[],"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1471104389,"creation_date":1378953982,"answer_id":18754509,"question_id":260666,"body_markdown":"Not only can it, it always does. If you do not specify one then it has a default no arg constructor, just like any other class. In fact, ALL classes, including nested and anonymous classes, will get a default constructor if one is not specified (in the case of anonymous classes it is impossible to specify one, so you will always get the default constructor).\r\n\r\nA good example of an abstract class having a constructor is the [Calendar][1] class. You get a Calendar object by calling Calendar.getInstance(), but it also has constructors which are protected. The reason its constructors are protected is so that only its subclasses can call them (or classes in the same package, but since it&#39;s abstract, that doesn&#39;t apply). [GregorianCalendar] [2] is an example of a class that extends Calendar.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#GregorianCalendar%28%29","title":"Can an abstract class have a constructor?","body":"<p>Not only can it, it always does. If you do not specify one then it has a default no arg constructor, just like any other class. In fact, ALL classes, including nested and anonymous classes, will get a default constructor if one is not specified (in the case of anonymous classes it is impossible to specify one, so you will always get the default constructor).</p>\n\n<p>A good example of an abstract class having a constructor is the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"noreferrer\">Calendar</a> class. You get a Calendar object by calling Calendar.getInstance(), but it also has constructors which are protected. The reason its constructors are protected is so that only its subclasses can call them (or classes in the same package, but since it's abstract, that doesn't apply). <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#GregorianCalendar%28%29\" rel=\"noreferrer\">GregorianCalendar</a> is an example of a class that extends Calendar.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386289260,"creation_date":1386289260,"answer_id":20413581,"question_id":260666,"body_markdown":"In a concrete class, declaration of a constructor for a concrete type Fnord effectively exposes two things:\r\n\r\n* A means by which code can request the creation of an instance of Fnord\r\n\r\n* A means by which an instance *of a type derived from Fnord* which is under construction can request that all base-class features be initialized.\r\n\r\nWhile there should perhaps be a means by which these two abilities could be controlled separately, for every concrete type one definition will enable both.  Although the first ability is not meaningful for an abstract class, the second ability is just as meaningful for an abstract class as it would be for any other, and thus its declaration is just as necessary and useful.","title":"Can an abstract class have a constructor?","body":"<p>In a concrete class, declaration of a constructor for a concrete type Fnord effectively exposes two things:</p>\n\n<ul>\n<li><p>A means by which code can request the creation of an instance of Fnord</p></li>\n<li><p>A means by which an instance <em>of a type derived from Fnord</em> which is under construction can request that all base-class features be initialized.</p></li>\n</ul>\n\n<p>While there should perhaps be a means by which these two abilities could be controlled separately, for every concrete type one definition will enable both.  Although the first ability is not meaningful for an abstract class, the second ability is just as meaningful for an abstract class as it would be for any other, and thus its declaration is just as necessary and useful.</p>\n"},{"tags":[],"owner":{"account_id":4356356,"reputation":21,"user_id":3554840,"accept_rate":0,"display_name":"Sandeep"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1398031305,"creation_date":1398031305,"answer_id":23188064,"question_id":260666,"body_markdown":"Yes..It is like any other class. It can have a constructor and it is called after creating object for the base class.","title":"Can an abstract class have a constructor?","body":"<p>Yes..It is like any other class. It can have a constructor and it is called after creating object for the base class.</p>\n"},{"tags":[],"owner":{"account_id":5801078,"reputation":1241,"user_id":4575227,"accept_rate":50,"display_name":"Kedar Parikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424171278,"creation_date":1424171278,"answer_id":28560577,"question_id":260666,"body_markdown":"Yes surely you can add one, as already mentioned for initialization of Abstract class variables.\r\nBUT if you dont explicitly declare one, it anyways has an implicit constructor for &quot;Constructor Chaining&quot; to work. ","title":"Can an abstract class have a constructor?","body":"<p>Yes surely you can add one, as already mentioned for initialization of Abstract class variables.\nBUT if you dont explicitly declare one, it anyways has an implicit constructor for \"Constructor Chaining\" to work. </p>\n"},{"tags":[],"owner":{"account_id":5332726,"reputation":507,"user_id":4252869,"accept_rate":64,"display_name":"Ketan G"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1430850445,"creation_date":1429644414,"answer_id":29781391,"question_id":260666,"body_markdown":"**Yes, Abstract Classes can have constructors !** \r\n\r\nHere is an example using constructor in abstract class:\r\n\r\n    abstract class Figure { \r\n        \r\n        double dim1;        \r\n        double dim2; \r\n        \r\n        Figure(double a, double b) {         \r\n            dim1 = a;         \r\n            dim2 = b;         \r\n        }\r\n    \r\n        // area is now an abstract method \r\n    \r\n       abstract double area(); \r\n    \r\n    }\r\n    \r\n    \r\n    class Rectangle extends Figure { \r\n        Rectangle(double a, double b) { \r\n            super(a, b); \r\n        } \r\n        // override area for rectangle \r\n        double area() { \r\n            System.out.println(&quot;Inside Area for Rectangle.&quot;); \r\n            return dim1 * dim2; \r\n        } \r\n    }\r\n    \r\n    class Triangle extends Figure { \r\n        Triangle(double a, double b) { \r\n            super(a, b); \r\n        } \r\n        // override area for right triangle \r\n        double area() { \r\n            System.out.println(&quot;Inside Area for Triangle.&quot;); \r\n            return dim1 * dim2 / 2; \r\n        } \r\n    }\r\n    \r\n    class AbstractAreas { \r\n        public static void main(String args[]) { \r\n            // Figure f = new Figure(10, 10); // illegal now \r\n            Rectangle r = new Rectangle(9, 5); \r\n            Triangle t = new Triangle(10, 8); \r\n            Figure figref; // this is OK, no object is created \r\n            figref = r; \r\n            System.out.println(&quot;Area is &quot; + figref.area()); \r\n            figref = t; \r\n            System.out.println(&quot;Area is &quot; + figref.area()); \r\n        } \r\n    }\r\n\r\nSo I think you got the answer.","title":"Can an abstract class have a constructor?","body":"<p><strong>Yes, Abstract Classes can have constructors !</strong> </p>\n\n<p>Here is an example using constructor in abstract class:</p>\n\n<pre><code>abstract class Figure { \n\n    double dim1;        \n    double dim2; \n\n    Figure(double a, double b) {         \n        dim1 = a;         \n        dim2 = b;         \n    }\n\n    // area is now an abstract method \n\n   abstract double area(); \n\n}\n\n\nclass Rectangle extends Figure { \n    Rectangle(double a, double b) { \n        super(a, b); \n    } \n    // override area for rectangle \n    double area() { \n        System.out.println(\"Inside Area for Rectangle.\"); \n        return dim1 * dim2; \n    } \n}\n\nclass Triangle extends Figure { \n    Triangle(double a, double b) { \n        super(a, b); \n    } \n    // override area for right triangle \n    double area() { \n        System.out.println(\"Inside Area for Triangle.\"); \n        return dim1 * dim2 / 2; \n    } \n}\n\nclass AbstractAreas { \n    public static void main(String args[]) { \n        // Figure f = new Figure(10, 10); // illegal now \n        Rectangle r = new Rectangle(9, 5); \n        Triangle t = new Triangle(10, 8); \n        Figure figref; // this is OK, no object is created \n        figref = r; \n        System.out.println(\"Area is \" + figref.area()); \n        figref = t; \n        System.out.println(\"Area is \" + figref.area()); \n    } \n}\n</code></pre>\n\n<p>So I think you got the answer.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435115006,"creation_date":1435115006,"answer_id":31016904,"question_id":260666,"body_markdown":"Abstract class can have a constructor though it cannot be instantiated. But the constructor defined in an abstract class can be used for instantiation of concrete class of this abstract class. Check [JLS][1]:\r\n\r\n&gt; **It is a compile-time error if an attempt is made to create an instance of an abstract class using a class instance creation\r\n&gt; expression**.\r\n&gt; \r\n&gt; A subclass of an abstract class that is not itself abstract may be\r\n&gt; instantiated, resulting in the execution of a constructor for the\r\n&gt; abstract class and, therefore, the execution of the field initializers\r\n&gt; for instance variables of that class.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.1.1","title":"Can an abstract class have a constructor?","body":"<p>Abstract class can have a constructor though it cannot be instantiated. But the constructor defined in an abstract class can be used for instantiation of concrete class of this abstract class. Check <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.1.1\" rel=\"nofollow\">JLS</a>:</p>\n\n<blockquote>\n  <p><strong>It is a compile-time error if an attempt is made to create an instance of an abstract class using a class instance creation\n  expression</strong>.</p>\n  \n  <p>A subclass of an abstract class that is not itself abstract may be\n  instantiated, resulting in the execution of a constructor for the\n  abstract class and, therefore, the execution of the field initializers\n  for instance variables of that class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6624176,"reputation":11,"user_id":5114930,"display_name":"Anilkumar K S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532538954,"creation_date":1436872826,"answer_id":31405155,"question_id":260666,"body_markdown":"In order to achieve constructor chaining, the abstract class will have a constructor.\r\nThe compiler keeps Super() statement inside the subclass constructor, which will call the superclass constructor. If there were no constructors for abstract classes then java rules are violated and we can&#39;t achieve constructor chaining.\r\n   ","title":"Can an abstract class have a constructor?","body":"<p>In order to achieve constructor chaining, the abstract class will have a constructor.\nThe compiler keeps Super() statement inside the subclass constructor, which will call the superclass constructor. If there were no constructors for abstract classes then java rules are violated and we can't achieve constructor chaining.</p>\n"},{"tags":[],"owner":{"account_id":7161076,"reputation":123,"user_id":5471827,"display_name":"Alok"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1532537956,"creation_date":1448870871,"answer_id":33993977,"question_id":260666,"body_markdown":"An abstract class can have a constructor BUT you can not create an object of abstract class so how do you use that constructor?\r\n\r\n\r\nThing is when you inherit that abstract class in your subclass you can pass values to its(abstract&#39;s) constructor through super(value) method in your subclass and no you don&#39;t inherit a constructor. \r\n\r\nso using super you can pass values in a constructor of the abstract class and as far as I remember it has to be the first statement in your method or constructor. ","title":"Can an abstract class have a constructor?","body":"<p>An abstract class can have a constructor BUT you can not create an object of abstract class so how do you use that constructor?</p>\n\n<p>Thing is when you inherit that abstract class in your subclass you can pass values to its(abstract's) constructor through super(value) method in your subclass and no you don't inherit a constructor. </p>\n\n<p>so using super you can pass values in a constructor of the abstract class and as far as I remember it has to be the first statement in your method or constructor. </p>\n"},{"tags":[],"owner":{"account_id":8464051,"reputation":661,"user_id":6348730,"display_name":"Raj Baral"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1532996777,"creation_date":1463718781,"answer_id":37337990,"question_id":260666,"body_markdown":"Of Course, abstract class can have a constructor.Generally class constructor is used to initialise fields.So, an abstract class constructor is used to initialise fields of the abstract class. You would provide a constructor for an abstract class if you want to initialise certain fields of the abstract class before the instantiation of a child-class takes place. An abstract class constructor can also be used to execute code that is relevant for every child class. This prevents code duplication.\r\n\r\nWe cannot create an instance of an abstract class,But we can create instances of classes those are derived from the abstract class. So, when an instance of derived class is created, the parent abstract class constructor is automatically called.\r\n\r\nReference :[This Article](http://csharp-video-tutorials.blogspot.com/2013/10/part-8-can-abstract-class-have.html)","title":"Can an abstract class have a constructor?","body":"<p>Of Course, abstract class can have a constructor.Generally class constructor is used to initialise fields.So, an abstract class constructor is used to initialise fields of the abstract class. You would provide a constructor for an abstract class if you want to initialise certain fields of the abstract class before the instantiation of a child-class takes place. An abstract class constructor can also be used to execute code that is relevant for every child class. This prevents code duplication.</p>\n\n<p>We cannot create an instance of an abstract class,But we can create instances of classes those are derived from the abstract class. So, when an instance of derived class is created, the parent abstract class constructor is automatically called.</p>\n\n<p>Reference :<a href=\"http://csharp-video-tutorials.blogspot.com/2013/10/part-8-can-abstract-class-have.html\" rel=\"nofollow noreferrer\">This Article</a></p>\n"},{"tags":[],"owner":{"account_id":9314964,"reputation":7453,"user_id":6915572,"accept_rate":100,"display_name":"Shubhamhackz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532584704,"creation_date":1504092970,"answer_id":45959363,"question_id":260666,"body_markdown":"Yes, an Abstract Class can have a Constructor. You Can Overload as many Constructor as you want in an Abstract Class. These Contractors Can be used to Initialized the initial state of the Objects Extending the Abstract Class. As we know we can&#39;t make an object of an Abstract Class because Objects are Created by the &quot;new&quot; keywords and not by the constructors...they are there for only initializing the state of the subclass Objects.","title":"Can an abstract class have a constructor?","body":"<p>Yes, an Abstract Class can have a Constructor. You Can Overload as many Constructor as you want in an Abstract Class. These Contractors Can be used to Initialized the initial state of the Objects Extending the Abstract Class. As we know we can't make an object of an Abstract Class because Objects are Created by the \"new\" keywords and not by the constructors...they are there for only initializing the state of the subclass Objects.</p>\n"},{"tags":[],"owner":{"account_id":1797857,"reputation":1240,"user_id":1636874,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1532533691,"creation_date":1504701395,"answer_id":46075444,"question_id":260666,"body_markdown":"Although there are many good answers, I would like to give my 2 cents.\r\n\r\nConstructor **DOES NOT BUILD THE OBJECT**. It is used to initialize an object.\r\n\r\nYes, an Abstract class always has a constructor. If you do not define your own constructor, the compiler will give a default constructor to the Abstract class.\r\nAbove holds true for all classes - nested, abstract, anonymous, etc. \r\n\r\nAn abstract class (unlike interface) can have non-final non-static fields which need initialization. You can write your own constructor in the abstract class to do that. But, in that case, there won&#39;t be any default constructor.\r\n\r\n    public abstract class Abs{\r\n        int i;\r\n        int j;\r\n        public Abs(int i,int j){\r\n            this.i = i;\r\n            this.j = j;\r\n            System.out.println(i+&quot; &quot;+j);\r\n        }\r\n    }\r\n\r\nBe careful while extending above abstract class, you have to explicitly call super from each constructor. The first line of any constructor calls to super(). if you do not explicitly call super(), Java will do that for you.\r\nBelow code will not compile:\r\n\r\n    public class Imp extends Abs{\r\n    \r\n    public Imp(int i, int j,int k, int l){\r\n        System.out.println(&quot;2 arg&quot;);\r\n    }\r\n    }\r\nYou have to use it like below example:\r\n\r\n    public class Imp extends Abs{\r\n    \r\n    public Imp(int i, int j,int k, int l){\r\n        super(i,j);\r\n        System.out.println(&quot;2 arg&quot;);\r\n    }\r\n    }","title":"Can an abstract class have a constructor?","body":"<p>Although there are many good answers, I would like to give my 2 cents.</p>\n\n<p>Constructor <strong>DOES NOT BUILD THE OBJECT</strong>. It is used to initialize an object.</p>\n\n<p>Yes, an Abstract class always has a constructor. If you do not define your own constructor, the compiler will give a default constructor to the Abstract class.\nAbove holds true for all classes - nested, abstract, anonymous, etc. </p>\n\n<p>An abstract class (unlike interface) can have non-final non-static fields which need initialization. You can write your own constructor in the abstract class to do that. But, in that case, there won't be any default constructor.</p>\n\n<pre><code>public abstract class Abs{\n    int i;\n    int j;\n    public Abs(int i,int j){\n        this.i = i;\n        this.j = j;\n        System.out.println(i+\" \"+j);\n    }\n}\n</code></pre>\n\n<p>Be careful while extending above abstract class, you have to explicitly call super from each constructor. The first line of any constructor calls to super(). if you do not explicitly call super(), Java will do that for you.\nBelow code will not compile:</p>\n\n<pre><code>public class Imp extends Abs{\n\npublic Imp(int i, int j,int k, int l){\n    System.out.println(\"2 arg\");\n}\n}\n</code></pre>\n\n<p>You have to use it like below example:</p>\n\n<pre><code>public class Imp extends Abs{\n\npublic Imp(int i, int j,int k, int l){\n    super(i,j);\n    System.out.println(\"2 arg\");\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7922657,"reputation":647,"user_id":5983136,"accept_rate":80,"display_name":"chamzz.dot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505543947,"creation_date":1505543947,"answer_id":46250908,"question_id":260666,"body_markdown":"yes it is. And a constructor of abstract class is called when an instance of a inherited class is created. For example, the following is a valid Java program.\r\n\r\n    // An abstract class with constructor\r\n    abstract class Base {\r\n    Base() { System.out.println(&quot;Base Constructor Called&quot;); }\r\n    abstract void fun();\r\n        }\r\n    class Derived extends Base {\r\n    Derived() { System.out.println(&quot;Derived Constructor Called&quot;); }\r\n    void fun() { System.out.println(&quot;Derived fun() called&quot;); }\r\n        }\r\n\r\n    class Main {\r\n    public static void main(String args[]) { \r\n       Derived d = new Derived();\r\n        }\r\n\r\n    }\r\n\r\nThis is the output of the above code,\r\n\r\nBase Constructor Called\r\nDerived Constructor Called\r\n\r\nreferences:\r\n[enter link description here][1]\r\n\r\n\r\n  [1]: http://www.geeksforgeeks.org/abstract-classes-in-java/","title":"Can an abstract class have a constructor?","body":"<p>yes it is. And a constructor of abstract class is called when an instance of a inherited class is created. For example, the following is a valid Java program.</p>\n\n<pre><code>// An abstract class with constructor\nabstract class Base {\nBase() { System.out.println(\"Base Constructor Called\"); }\nabstract void fun();\n    }\nclass Derived extends Base {\nDerived() { System.out.println(\"Derived Constructor Called\"); }\nvoid fun() { System.out.println(\"Derived fun() called\"); }\n    }\n\nclass Main {\npublic static void main(String args[]) { \n   Derived d = new Derived();\n    }\n\n}\n</code></pre>\n\n<p>This is the output of the above code,</p>\n\n<p>Base Constructor Called\nDerived Constructor Called</p>\n\n<p>references:\n<a href=\"http://www.geeksforgeeks.org/abstract-classes-in-java/\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":717890,"reputation":3568,"user_id":648608,"accept_rate":82,"display_name":"karto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516820619,"creation_date":1516820619,"answer_id":48429852,"question_id":260666,"body_markdown":"The purpose of the constructor in a class is used to **initialize fields** but not to &quot;build objects&quot;. When you try to create a new instance of an abstract SuperClass, the compiler will give you an error. However, we can inherit an abstract class Employee and make use of its constructor by setting its variables See example below\r\n\r\n    public abstract class Employee {\r\n      private String EmpName;\r\n      abstract double calcSalary();\r\n    \r\n\t  Employee(String name) {\r\n\t\tthis.EmpName = name;// constructor of abstract class super class\r\n\t  }\r\n    }\r\n\r\n    class Manager extends Employee{\r\n\t Manager(String name) {\r\n\t\tsuper(name);// setting the name in the constructor of sub class\r\n\t }\r\n\tdouble calcSalary() {\r\n\t\treturn 0;\r\n\t }\r\n    }\r\n\r\n","title":"Can an abstract class have a constructor?","body":"<p>The purpose of the constructor in a class is used to <strong>initialize fields</strong> but not to \"build objects\". When you try to create a new instance of an abstract SuperClass, the compiler will give you an error. However, we can inherit an abstract class Employee and make use of its constructor by setting its variables See example below</p>\n\n<pre><code>public abstract class Employee {\n  private String EmpName;\n  abstract double calcSalary();\n\n  Employee(String name) {\n    this.EmpName = name;// constructor of abstract class super class\n  }\n}\n\nclass Manager extends Employee{\n Manager(String name) {\n    super(name);// setting the name in the constructor of sub class\n }\ndouble calcSalary() {\n    return 0;\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532537897,"creation_date":1524575732,"answer_id":50002677,"question_id":260666,"body_markdown":"Since an **abstract class** can have variables of all access modifiers, they have to be initialized to default values, so constructor is necessary.\r\nAs you instantiate the child class, a constructor of an abstract class is invoked and variables are initialized.\r\n\r\nOn the contrary, an **interface** does contain only constant variables means they are already initialized. So interface doesn&#39;t need a constructor.","title":"Can an abstract class have a constructor?","body":"<p>Since an <strong>abstract class</strong> can have variables of all access modifiers, they have to be initialized to default values, so constructor is necessary.\nAs you instantiate the child class, a constructor of an abstract class is invoked and variables are initialized.</p>\n\n<p>On the contrary, an <strong>interface</strong> does contain only constant variables means they are already initialized. So interface doesn't need a constructor.</p>\n"},{"tags":[],"owner":{"account_id":11024095,"reputation":31,"user_id":8097510,"display_name":"sachit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635509355,"creation_date":1567540133,"answer_id":57777918,"question_id":260666,"body_markdown":"```java\r\npackage Test1;\r\n\r\npublic class AbstractClassConstructor {\r\n\r\n\tpublic AbstractClassConstructor() {\r\n\t\t\r\n\t}\r\n\r\n    public static void main(String args[]) {\r\n       Demo obj = new Test(&quot;Test of code has started&quot;);\r\n       obj.test1();\r\n    }\r\n}\r\n\r\nabstract class Demo{\r\n    protected final String demoValue;\r\n\t   \r\n    public Demo(String testName){\r\n        this.demoValue = testName;\r\n    }\r\n\t   \r\n    public abstract boolean test1();\r\n}\r\n\r\nclass Test extends Demo{\r\n\t   \r\n    public Test(String name){\r\n        super(name);\r\n    }\r\n\r\n    @Override\r\n    public boolean test1() {\r\n       System.out.println( this.demoValue + &quot; Demo test started&quot;);\r\n       return true;\r\n    }\r\n   \r\n}\r\n```","title":"Can an abstract class have a constructor?","body":"<pre class=\"lang-java prettyprint-override\"><code>package Test1;\n\npublic class AbstractClassConstructor {\n\n    public AbstractClassConstructor() {\n        \n    }\n\n    public static void main(String args[]) {\n       Demo obj = new Test(&quot;Test of code has started&quot;);\n       obj.test1();\n    }\n}\n\nabstract class Demo{\n    protected final String demoValue;\n       \n    public Demo(String testName){\n        this.demoValue = testName;\n    }\n       \n    public abstract boolean test1();\n}\n\nclass Test extends Demo{\n       \n    public Test(String name){\n        super(name);\n    }\n\n    @Override\n    public boolean test1() {\n       System.out.println( this.demoValue + &quot; Demo test started&quot;);\n       return true;\n    }\n   \n}\n</code></pre>\n"}],"owner":{"account_id":15839,"reputation":14996,"user_id":33885,"accept_rate":56,"display_name":"Szere Dyeri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785880,"favorite_count":0,"down_vote_count":2,"up_vote_count":734,"accepted_answer_id":260755,"answer_count":22,"score":732,"last_activity_date":1635509355,"creation_date":1225766781,"question_id":260666,"body_markdown":"Can an abstract class have a constructor?\r\n\r\nIf so, how can it be used and for what purposes?","title":"Can an abstract class have a constructor?","body":"<p>Can an abstract class have a constructor?</p>\n\n<p>If so, how can it be used and for what purposes?</p>\n"},{"tags":["java","exception","jackson","swagger"],"comments":[{"owner":{"account_id":1166651,"reputation":879,"user_id":1144745,"accept_rate":75,"display_name":"dgk"},"score":0,"creation_date":1503052121,"post_id":45754312,"comment_id":78465887,"body_markdown":"Error due to incompatible between  jackson core  and jackson-jaxrs-json-provider version.","body":"Error due to incompatible between  jackson core  and jackson-jaxrs-json-provider version."},{"owner":{"account_id":2053540,"reputation":23,"user_id":1831948,"accept_rate":20,"display_name":"Joao Brito"},"score":0,"creation_date":1503052551,"post_id":45754312,"comment_id":78466184,"body_markdown":"but both are dependent from io.swagger-jersey2-jaxrs and both versions are 2.4.5. why are they incompatible?","body":"but both are dependent from io.swagger-jersey2-jaxrs and both versions are 2.4.5. why are they incompatible?"},{"owner":{"account_id":1166651,"reputation":879,"user_id":1144745,"accept_rate":75,"display_name":"dgk"},"score":0,"creation_date":1503052622,"post_id":45754312,"comment_id":78466247,"body_markdown":"I just confirmed by you with a version of respective jars.","body":"I just confirmed by you with a version of respective jars."},{"owner":{"account_id":1166651,"reputation":879,"user_id":1144745,"accept_rate":75,"display_name":"dgk"},"score":0,"creation_date":1503052796,"post_id":45754312,"comment_id":78466364,"body_markdown":"Actually your root cause is &quot;Caused by: java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.AnnotationIntrospector.findPropertyIndex(Lcom/fa\nsterxml/jackson/databind/introspect/Annotated;)Ljava/lang/Integer;&quot;\nHope you are not maintaing any library in your weblogic server regarding to Jackson.","body":"Actually your root cause is &quot;Caused by: java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.AnnotationIntrospector.findPr&zwnj;&#8203;opertyIndex(Lcom/fa sterxml/jackson/databind/introspect/Annotated;)Ljava/lang/In&zwnj;&#8203;teger;&quot; Hope you are not maintaing any library in your weblogic server regarding to Jackson."},{"owner":{"account_id":2053540,"reputation":23,"user_id":1831948,"accept_rate":20,"display_name":"Joao Brito"},"score":0,"creation_date":1503053255,"post_id":45754312,"comment_id":78466648,"body_markdown":"Thank you for your comments! But I don&#39;t understand because I can deploy and run a REST only application (without any other frameworks) with the same io.swagger dependency and it works just fine including a custom bean as a parameter. The weblogic is the same too...","body":"Thank you for your comments! But I don&#39;t understand because I can deploy and run a REST only application (without any other frameworks) with the same io.swagger dependency and it works just fine including a custom bean as a parameter. The weblogic is the same too..."}],"answers":[{"tags":[],"owner":{"account_id":2382408,"reputation":36,"user_id":2084163,"display_name":"Egon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635509343,"creation_date":1635509343,"answer_id":69768629,"question_id":45754312,"body_markdown":"The error was probably generated by incompatibility versions of libraries in weblogic and EAR package.\r\n\r\nYou can configure weblogic to load only jackson libraries are inside the package, by the [application deployment descriptor](https://docs.oracle.com/cd/E11035_01/wls100/programming/app_xml.html#wp1064995).\r\n\r\nweblogic-application.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;weblogic-application\r\n        xmlns=&quot;http://xmlns.oracle.com/weblogic/weblogic-application&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/javaee_5.xsd http://xmlns.oracle.com/weblogic/weblogic-application http://xmlns.oracle.com/weblogic/weblogic-application/1.5/weblogic-application.xsd&quot;&gt;\r\n    &lt;prefer-application-packages&gt;\r\n        &lt;package-name&gt;com.fasterxml.*&lt;/package-name&gt;\r\n    &lt;/prefer-application-packages&gt;\r\n&lt;/weblogic-application&gt;","title":"java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.AnnotationIntrospector.findPropertyIndex","body":"<p>The error was probably generated by incompatibility versions of libraries in weblogic and EAR package.</p>\n<p>You can configure weblogic to load only jackson libraries are inside the package, by the <a href=\"https://docs.oracle.com/cd/E11035_01/wls100/programming/app_xml.html#wp1064995\" rel=\"nofollow noreferrer\">application deployment descriptor</a>.</p>\n<p>weblogic-application.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;weblogic-application\n    xmlns=&quot;http://xmlns.oracle.com/weblogic/weblogic-application&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/javaee_5.xsd http://xmlns.oracle.com/weblogic/weblogic-application http://xmlns.oracle.com/weblogic/weblogic-application/1.5/weblogic-application.xsd&quot;&gt;\n&lt;prefer-application-packages&gt;\n    &lt;package-name&gt;com.fasterxml.*&lt;/package-name&gt;\n&lt;/prefer-application-packages&gt;\n</code></pre>\n\n"}],"owner":{"account_id":2053540,"reputation":23,"user_id":1831948,"accept_rate":20,"display_name":"Joao Brito"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2574,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635509343,"creation_date":1503051724,"question_id":45754312,"body_markdown":"I&#39;m trying to deploy a WAR application into a wls 12c (v12.2.1.0.0) and I&#39;m getting the error above.\r\n\r\nI&#39;m using Swagger (for REST WS) and some pages supported by JSF framework.\r\n\r\nThe error happens only when I have a DTO as a parameter on a POST method:\r\n\r\n    @POST\r\n    @Path(&quot;/pesquisa&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @ApiOperation(value = &quot;Lista de Centros&quot;)\r\n    @ApiResponses(value = {\r\n        @ApiResponse(code = HttpServletResponse.SC_BAD_REQUEST, message = &quot;BAD REQUEST&quot;),\r\n        @ApiResponse(code = HttpServletResponse.SC_OK, message = &quot;OK&quot;)})\r\n    public Response pesquisaCentros(@ApiParam(required = true) PesquisaCentroDto dto){ \r\n        List&lt;CentrosBean&gt; lista = pesquisaCentros.pesquisaCentros(dto);\r\n        return Response.ok(lista).build();\r\n    }\r\n\r\nBut if I put a String instead of PesquisaCentroDto all works fine...\r\n\r\nI know that probably this is an compatibility error, but where? Here is my\r\n[mvn dependency:tree result][1]\r\n\r\nThe error stack trace:\r\n\r\n    Aug 18, 2017 10:46:15 AM BST&gt; &lt;Error&gt; &lt;Console&gt; &lt;BEA-240003&gt; &lt;Administration Console encountered the following error: weblogic.application.ModuleException: java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.AnnotationIntrospector.findPropertyIndex(Lcom/fasterxml/jackson/databind/introspect/Annotated;)Ljava/lang/Integer;\r\n\tat weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\r\n\tat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\r\n\tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:237)\r\n\tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:232)\r\n\tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n\tat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:82)\r\n\tat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:52)\r\n\tat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:753)\r\n\tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n\tat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:263)\r\n\tat weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:53)\r\n\tat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\r\n\tat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:80)\r\n\tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:601)\r\n\tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:171)\r\n\tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:121)\r\n\tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:343)\r\n\tat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:895)\r\n\tat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1422)\r\n\tat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:454)\r\n\tat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:181)\r\n\tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:195)\r\n\tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:13)\r\n\tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:68)\r\n\tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:643)\r\n\tat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:348)\r\n\tat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:333)\r\n\tat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:54)\r\n\tat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n\tat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:617)\r\n\tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:397)\r\n\tat weblogic.work.ExecuteThread.run(ExecuteThread.java:346)\r\n    Caused by: java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.AnnotationIntrospector.findPropertyIndex(Lcom/fa\r\n    sterxml/jackson/databind/introspect/Annotated;)Ljava/lang/Integer;\r\n\r\n\tat io.swagger.jackson.ModelResolver.resolve(ModelResolver.java:363)\r\n\tat io.swagger.jackson.ModelResolver.resolve(ModelResolver.java:127)\r\n\tat io.swagger.converter.ModelConverterContextImpl.resolve(ModelConverterContextImpl.java:99)\r\n\tat io.swagger.jackson.ModelResolver.resolveProperty(ModelResolver.java:106)\r\n\tat io.swagger.jackson.ModelResolver.resolveProperty(ModelResolver.java:71)\r\n\tat io.swagger.converter.ModelConverterContextImpl.resolveProperty(ModelConverterContextImpl.java:79)\r\n\tat io.swagger.converter.ModelConverters.readAsProperty(ModelConverters.java:58)\r\n\tat io.swagger.util.ParameterProcessor.applyAnnotations(ParameterProcessor.java:175)\r\n\tat io.swagger.jaxrs.Reader.getParameters(Reader.java:971)\r\n\tat io.swagger.jaxrs.Reader.parseMethod(Reader.java:897)\r\n\tat io.swagger.jaxrs.Reader.read(Reader.java:298)\r\n\tat io.swagger.jaxrs.Reader.read(Reader.java:150)\r\n\tat io.swagger.jaxrs.config.BeanConfig.scanAndRead(BeanConfig.java:235)\r\n\tat io.swagger.jaxrs.config.BeanConfig.setScan(BeanConfig.java:214)\r\n\tat pt.gov.cic.rest.ApplicationBootstrap.init(ApplicationBootstrap.java:55)\r\n\tat weblogic.servlet.internal.StubSecurityHelper$ServletInitAction.run(StubSecurityHelper.java:343)\r\n\tat weblogic.servlet.internal.StubSecurityHelper$ServletInitAction.run(StubSecurityHelper.java:294)\r\n\tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:326)\r\n\tat weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:196)\r\n\tat weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\r\n\tat weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\r\n\tat weblogic.servlet.internal.StubSecurityHelper.initServletInstance(StubSecurityHelper.java:99)\r\n\tat weblogic.servlet.internal.StubSecurityHelper.createServlet(StubSecurityHelper.java:87)\r\n\tat weblogic.servlet.internal.StubLifecycleHelper.createOneInstance(StubLifecycleHelper.java:71)\r\n\tat weblogic.servlet.internal.StubLifecycleHelper.&lt;init&gt;(StubLifecycleHelper.java:57)\r\n\tat weblogic.servlet.internal.StubLifecycleHelper.&lt;init&gt;(StubLifecycleHelper.java:31)\r\n\tat weblogic.servlet.internal.ServletStubImpl.initStubLifecycleHelper(ServletStubImpl.java:673)\r\n\tat weblogic.servlet.internal.ServletStubImpl.prepareServlet(ServletStubImpl.java:612)\r\n\tat weblogic.servlet.internal.WebAppServletContext.preloadServlet(WebAppServletContext.java:2053)\r\n\tat weblogic.servlet.internal.WebAppServletContext.loadServletsOnStartup(WebAppServletContext.java:2030)\r\n\tat weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1919)\r\n\tat weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3063)\r\n\tat weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1830)\r\n\tat weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:875)\r\n\tat weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:360)\r\n\tat weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:356)\r\n\tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n\tat weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:138)\r\n\r\nAny idea of what could be happening here?\r\n\r\nThank you in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/G5VXG.png","title":"java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.AnnotationIntrospector.findPropertyIndex","body":"<p>I'm trying to deploy a WAR application into a wls 12c (v12.2.1.0.0) and I'm getting the error above.</p>\n\n<p>I'm using Swagger (for REST WS) and some pages supported by JSF framework.</p>\n\n<p>The error happens only when I have a DTO as a parameter on a POST method:</p>\n\n<pre><code>@POST\n@Path(\"/pesquisa\")\n@Consumes(MediaType.APPLICATION_JSON)\n@ApiOperation(value = \"Lista de Centros\")\n@ApiResponses(value = {\n    @ApiResponse(code = HttpServletResponse.SC_BAD_REQUEST, message = \"BAD REQUEST\"),\n    @ApiResponse(code = HttpServletResponse.SC_OK, message = \"OK\")})\npublic Response pesquisaCentros(@ApiParam(required = true) PesquisaCentroDto dto){ \n    List&lt;CentrosBean&gt; lista = pesquisaCentros.pesquisaCentros(dto);\n    return Response.ok(lista).build();\n}\n</code></pre>\n\n<p>But if I put a String instead of PesquisaCentroDto all works fine...</p>\n\n<p>I know that probably this is an compatibility error, but where? Here is my\n<a href=\"https://i.stack.imgur.com/G5VXG.png\" rel=\"nofollow noreferrer\">mvn dependency:tree result</a></p>\n\n<p>The error stack trace:</p>\n\n<pre><code>Aug 18, 2017 10:46:15 AM BST&gt; &lt;Error&gt; &lt;Console&gt; &lt;BEA-240003&gt; &lt;Administration Console encountered the following error: weblogic.application.ModuleException: java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.AnnotationIntrospector.findPropertyIndex(Lcom/fasterxml/jackson/databind/introspect/Annotated;)Ljava/lang/Integer;\nat weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\nat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\nat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:237)\nat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:232)\nat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\nat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:82)\nat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:52)\nat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:753)\nat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\nat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:263)\nat weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:53)\nat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\nat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:80)\nat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:601)\nat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:171)\nat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:121)\nat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:343)\nat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:895)\nat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1422)\nat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:454)\nat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:181)\nat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:195)\nat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:13)\nat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:68)\nat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:643)\nat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:348)\nat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:333)\nat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:54)\nat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\nat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:617)\nat weblogic.work.ExecuteThread.execute(ExecuteThread.java:397)\nat weblogic.work.ExecuteThread.run(ExecuteThread.java:346)\nCaused by: java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.AnnotationIntrospector.findPropertyIndex(Lcom/fa\nsterxml/jackson/databind/introspect/Annotated;)Ljava/lang/Integer;\n\nat io.swagger.jackson.ModelResolver.resolve(ModelResolver.java:363)\nat io.swagger.jackson.ModelResolver.resolve(ModelResolver.java:127)\nat io.swagger.converter.ModelConverterContextImpl.resolve(ModelConverterContextImpl.java:99)\nat io.swagger.jackson.ModelResolver.resolveProperty(ModelResolver.java:106)\nat io.swagger.jackson.ModelResolver.resolveProperty(ModelResolver.java:71)\nat io.swagger.converter.ModelConverterContextImpl.resolveProperty(ModelConverterContextImpl.java:79)\nat io.swagger.converter.ModelConverters.readAsProperty(ModelConverters.java:58)\nat io.swagger.util.ParameterProcessor.applyAnnotations(ParameterProcessor.java:175)\nat io.swagger.jaxrs.Reader.getParameters(Reader.java:971)\nat io.swagger.jaxrs.Reader.parseMethod(Reader.java:897)\nat io.swagger.jaxrs.Reader.read(Reader.java:298)\nat io.swagger.jaxrs.Reader.read(Reader.java:150)\nat io.swagger.jaxrs.config.BeanConfig.scanAndRead(BeanConfig.java:235)\nat io.swagger.jaxrs.config.BeanConfig.setScan(BeanConfig.java:214)\nat pt.gov.cic.rest.ApplicationBootstrap.init(ApplicationBootstrap.java:55)\nat weblogic.servlet.internal.StubSecurityHelper$ServletInitAction.run(StubSecurityHelper.java:343)\nat weblogic.servlet.internal.StubSecurityHelper$ServletInitAction.run(StubSecurityHelper.java:294)\nat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:326)\nat weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:196)\nat weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\nat weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\nat weblogic.servlet.internal.StubSecurityHelper.initServletInstance(StubSecurityHelper.java:99)\nat weblogic.servlet.internal.StubSecurityHelper.createServlet(StubSecurityHelper.java:87)\nat weblogic.servlet.internal.StubLifecycleHelper.createOneInstance(StubLifecycleHelper.java:71)\nat weblogic.servlet.internal.StubLifecycleHelper.&lt;init&gt;(StubLifecycleHelper.java:57)\nat weblogic.servlet.internal.StubLifecycleHelper.&lt;init&gt;(StubLifecycleHelper.java:31)\nat weblogic.servlet.internal.ServletStubImpl.initStubLifecycleHelper(ServletStubImpl.java:673)\nat weblogic.servlet.internal.ServletStubImpl.prepareServlet(ServletStubImpl.java:612)\nat weblogic.servlet.internal.WebAppServletContext.preloadServlet(WebAppServletContext.java:2053)\nat weblogic.servlet.internal.WebAppServletContext.loadServletsOnStartup(WebAppServletContext.java:2030)\nat weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1919)\nat weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3063)\nat weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1830)\nat weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:875)\nat weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:360)\nat weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:356)\nat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\nat weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:138)\n</code></pre>\n\n<p>Any idea of what could be happening here?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","docker","docker-compose","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":4600987,"reputation":955,"user_id":3731747,"display_name":"Max"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635504791,"creation_date":1635504791,"answer_id":69767661,"question_id":69767291,"body_markdown":"Figured it out. Have to pass env. variable manually to required service inside docker-compose file:\r\n\r\n```yml\r\n# docker-compose.yml\r\nservices:\r\n  my-service:\r\n    environment:\r\n      MY_ENV_VAR: ${MY_ENV_VAR}\r\n```","title":"Testcontainers DockerComposeContainer withEnv","body":"<p>Figured it out. Have to pass env. variable manually to required service inside docker-compose file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># docker-compose.yml\nservices:\n  my-service:\n    environment:\n      MY_ENV_VAR: ${MY_ENV_VAR}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635508526,"creation_date":1635505432,"answer_id":69767792,"question_id":69767291,"body_markdown":"The [docker Compose Module documentation](https://www.testcontainers.org/modules/docker_compose/) states the following.\r\n\r\n&gt; Behind the scenes, Testcontainers actually launches a temporary Docker Compose client - in a container, of course, so it&#39;s not necessary to have it installed on all developer/test machines.\r\n\r\nSince there&#39;s no documentation on the `withEnv()` method, I went looking at the source and found [this comment](https://github.com/testcontainers/testcontainers-java/blob/0654ef6a9186eab85df3accd9ea52a37c68853b0/core/src/main/java/org/testcontainers/containers/DockerComposeContainer.java#L102-L106) on the `env` class field.\r\n\r\n&gt; Properties that should be passed through to all Compose and ambassador containers (not necessarily to containers that are spawned by Compose itself)\r\n\r\nAs far as I understood, the environment variables passed using the `withEnv()` method were applied to the container that runs the Docker Compose client. Hence, if you want to specify environment variables for spawned containers, you should use the Docker Compose configuration file to do it.\r\n\r\n---\r\n\r\n### Edit\r\n\r\nWith the local Docker Compose instance, the [environment variables are applied to the docker-compose command](https://github.com/testcontainers/testcontainers-java/blob/0654ef6a9186eab85df3accd9ea52a37c68853b0/core/src/main/java/org/testcontainers/containers/DockerComposeContainer.java#L761-L767). Containers spawned by Docker Compose do not inherit environment variables from the client that requested their spawn. But, you can still [inject client&#39;s environment variables into spawned containers using the configuration file](https://docs.docker.com/compose/environment-variables/#substitute-environment-variables-in-compose-files).\r\n\r\n```yaml\r\nversion: &quot;3.9&quot;\r\nservices:\r\n  test:\r\n    image: busybox\r\n    environment:\r\n      TEST_ENV_VAR: ${TEST_ENV_VAR:default-value}\r\n    command: printenv\r\n```\r\n\r\nAnd then your Java code should be able to inject it as expected.\r\n\r\n```java\r\nnew DockerComposeContainer&lt;&gt;(new File(&quot;../docker-compose.yml&quot;))\r\n    .withEnv(Map.of(&quot;TEST_ENV_VAR&quot;, &quot;test_value&quot;))\r\n    .withLocalCompose(true)\r\n    .start();\r\n```","title":"Testcontainers DockerComposeContainer withEnv","body":"<p>The <a href=\"https://www.testcontainers.org/modules/docker_compose/\" rel=\"nofollow noreferrer\">docker Compose Module documentation</a> states the following.</p>\n<blockquote>\n<p>Behind the scenes, Testcontainers actually launches a temporary Docker Compose client - in a container, of course, so it's not necessary to have it installed on all developer/test machines.</p>\n</blockquote>\n<p>Since there's no documentation on the <code>withEnv()</code> method, I went looking at the source and found <a href=\"https://github.com/testcontainers/testcontainers-java/blob/0654ef6a9186eab85df3accd9ea52a37c68853b0/core/src/main/java/org/testcontainers/containers/DockerComposeContainer.java#L102-L106\" rel=\"nofollow noreferrer\">this comment</a> on the <code>env</code> class field.</p>\n<blockquote>\n<p>Properties that should be passed through to all Compose and ambassador containers (not necessarily to containers that are spawned by Compose itself)</p>\n</blockquote>\n<p>As far as I understood, the environment variables passed using the <code>withEnv()</code> method were applied to the container that runs the Docker Compose client. Hence, if you want to specify environment variables for spawned containers, you should use the Docker Compose configuration file to do it.</p>\n<hr />\n<h3>Edit</h3>\n<p>With the local Docker Compose instance, the <a href=\"https://github.com/testcontainers/testcontainers-java/blob/0654ef6a9186eab85df3accd9ea52a37c68853b0/core/src/main/java/org/testcontainers/containers/DockerComposeContainer.java#L761-L767\" rel=\"nofollow noreferrer\">environment variables are applied to the docker-compose command</a>. Containers spawned by Docker Compose do not inherit environment variables from the client that requested their spawn. But, you can still <a href=\"https://docs.docker.com/compose/environment-variables/#substitute-environment-variables-in-compose-files\" rel=\"nofollow noreferrer\">inject client's environment variables into spawned containers using the configuration file</a>.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3.9&quot;\nservices:\n  test:\n    image: busybox\n    environment:\n      TEST_ENV_VAR: ${TEST_ENV_VAR:default-value}\n    command: printenv\n</code></pre>\n<p>And then your Java code should be able to inject it as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>new DockerComposeContainer&lt;&gt;(new File(&quot;../docker-compose.yml&quot;))\n    .withEnv(Map.of(&quot;TEST_ENV_VAR&quot;, &quot;test_value&quot;))\n    .withLocalCompose(true)\n    .start();\n</code></pre>\n"}],"owner":{"account_id":4600987,"reputation":955,"user_id":3731747,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2295,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1635508526,"creation_date":1635502874,"question_id":69767291,"body_markdown":"I&#39;m trying to pass env variable to service defined in docker compose file with DockerComposeContainer\r\n\r\n```java\r\nfinal var compose = new DockerComposeContainer&lt;&gt;(new File(&quot;../docker-compose.yml&quot;))\r\n                .withEnv(Map.of(&quot;MY_ENV_VAR&quot;, &quot;test_value&quot;))\r\n                .withLocalCompose(true);\r\n\r\ncompose.start();\r\n```\r\n\r\nBut I can&#39;t see **MY_ENV_VAR** env variable in any of containers started by docker compose. \r\nAlso I can&#39;t find any docs explaining how `withEnv` work with DockerComposeContainer.\r\n\r\nHow to properly pass env to container from docker compose file?","title":"Testcontainers DockerComposeContainer withEnv","body":"<p>I'm trying to pass env variable to service defined in docker compose file with DockerComposeContainer</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var compose = new DockerComposeContainer&lt;&gt;(new File(&quot;../docker-compose.yml&quot;))\n                .withEnv(Map.of(&quot;MY_ENV_VAR&quot;, &quot;test_value&quot;))\n                .withLocalCompose(true);\n\ncompose.start();\n</code></pre>\n<p>But I can't see <strong>MY_ENV_VAR</strong> env variable in any of containers started by docker compose.\nAlso I can't find any docs explaining how <code>withEnv</code> work with DockerComposeContainer.</p>\n<p>How to properly pass env to container from docker compose file?</p>\n"},{"tags":["java","jakarta-ee","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":450944,"reputation":2033,"user_id":846553,"display_name":"zerologiko"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1608646585,"creation_date":1425565455,"answer_id":28880097,"question_id":28879397,"body_markdown":"Just use the `@DisallowConcurrentExecution` Annotation on top of the Job class.\r\n\r\n\r\nSee this official [example] or this [tutorial] about concurrent job execution.\r\n\r\n[example]:https://github.com/quartz-scheduler/quartz-scheduler.org-site/blob/master/documentation/quartz-2.3.0/examples/Example4.md#colorjob-example4-colorjob\r\n\r\n[tutorial]:http://jayvilalta.com/blog/2014/06/04/understanding-the-disallowconcurrentexecution-job-attribute/","title":"Java Quartz scheduled Job - disallow concurrent execution of Job","body":"<p>Just use the <code>@DisallowConcurrentExecution</code> Annotation on top of the Job class.</p>\n<p>See this official <a href=\"https://github.com/quartz-scheduler/quartz-scheduler.org-site/blob/master/documentation/quartz-2.3.0/examples/Example4.md#colorjob-example4-colorjob\" rel=\"noreferrer\">example</a> or this <a href=\"http://jayvilalta.com/blog/2014/06/04/understanding-the-disallowconcurrentexecution-job-attribute/\" rel=\"noreferrer\">tutorial</a> about concurrent job execution.</p>\n"},{"tags":[],"owner":{"account_id":64431,"reputation":8472,"user_id":190200,"accept_rate":100,"display_name":"Matt Stephenson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1425565779,"creation_date":1425565779,"answer_id":28880225,"question_id":28879397,"body_markdown":"You can implement [StatefulJob][1] or annotate [DisallowConcurrentExecution][2]\r\n\r\n\r\n  [1]: http://quartz-scheduler.org/api/2.1.7/org/quartz/StatefulJob.html\r\n  [2]: http://quartz-scheduler.org/api/2.1.7/org/quartz/DisallowConcurrentExecution.html","title":"Java Quartz scheduled Job - disallow concurrent execution of Job","body":"<p>You can implement <a href=\"http://quartz-scheduler.org/api/2.1.7/org/quartz/StatefulJob.html\" rel=\"noreferrer\">StatefulJob</a> or annotate <a href=\"http://quartz-scheduler.org/api/2.1.7/org/quartz/DisallowConcurrentExecution.html\" rel=\"noreferrer\">DisallowConcurrentExecution</a></p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1551727549,"creation_date":1455089472,"answer_id":35309239,"question_id":28879397,"body_markdown":"`@DisallowConcurrentExecution` can do your job but please consider that it would only prevent your class from being run twice on the same node.\r\n\r\nPlease see @ReneM comment in https://stackoverflow.com/questions/35292420/quartz-2-2-multi-scehduler-and-disallowconcurrentexecution/35296259#35296259","title":"Java Quartz scheduled Job - disallow concurrent execution of Job","body":"<p><code>@DisallowConcurrentExecution</code> can do your job but please consider that it would only prevent your class from being run twice on the same node.</p>\n\n<p>Please see @ReneM comment in <a href=\"https://stackoverflow.com/questions/35292420/quartz-2-2-multi-scehduler-and-disallowconcurrentexecution/35296259#35296259\">Quartz 2.2 multi scheduler and @DisallowConcurrentExecution</a></p>\n"},{"tags":[],"owner":{"account_id":15372843,"reputation":103,"user_id":15431883,"display_name":"polyackov_ot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635507474,"creation_date":1635507474,"answer_id":69768230,"question_id":28879397,"body_markdown":"Be cereful when execute from Job with `@DisallowConcurrentExecution` method with `@Async`\r\n\r\nThe *second thread* may conflict with the *first*","title":"Java Quartz scheduled Job - disallow concurrent execution of Job","body":"<p>Be cereful when execute from Job with <code>@DisallowConcurrentExecution</code> method with <code>@Async</code></p>\n<p>The <em>second thread</em> may conflict with the <em>first</em></p>\n"}],"owner":{"account_id":1451863,"reputation":587,"user_id":1368548,"accept_rate":69,"display_name":"thanili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51642,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":28880097,"answer_count":4,"score":20,"last_activity_date":1635507474,"creation_date":1425563441,"question_id":28879397,"body_markdown":"I am using a Quartz Job for executing specific tasks. \r\n\r\nI am also scheduling its execution in my Main application class and what i am trying to accomplish is not to allow simultaneous instances of this job to be executed.\r\n\r\nSo the scheduler should only execute the job if its previous instance is finished.\r\n\r\nHere is my Job class:\r\n\r\n    public class MainJob implements Job {\r\n    \r\n    static Logger log = Logger.getLogger(MainJob.class.getName());\r\n    \r\n    @Override\r\n    public void execute(JobExecutionContext arg0) throws JobExecutionException {\r\n        \r\n        GlobalConfig cfg = new GlobalConfig();\r\n        \r\n        ProcessDicomFiles processDicomFiles = new ProcessDicomFiles();  \r\n        ProcessPdfReportFiles processPdf = new ProcessPdfReportFiles();\r\n        \r\n        try {\r\n                \r\n                log.info(&quot;1. ---- SCHEDULED JOB -- setStudiesReadyToProcess&quot;);\r\n                processDicomFiles.setStudiesReadyToProcess();\r\n                \r\n                log.info(&quot;2. ---- SCHEDULED JOB --- distributeToStudies&quot;);\r\n                processDicomFiles.distributeToStudies(cfg.getAssocDir());                \r\n                \r\n                ...\r\n                \r\n                //process any incoming PDF file\r\n                log.info(&quot;11. ---- SCHEDULED JOB --- processPdfFolder&quot;);\r\n                processPdf.processPdfFolder();\r\n                \r\n            } catch (Exception ex) {\r\n                Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.ERROR, null, ex);\r\n            }\r\n            \r\n        log.info(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Scheduled Job has ended .... &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;);\r\n        \r\n        }\r\n    }\r\n\r\nSo in my application&#39;s main class i am starting the scheduler:\r\n\r\n    ...\r\n    //start Scheduler\r\n        try {             \r\n            startScheduler();\r\n        } catch (SchedulerException ex) {\r\n            log.log(Level.INFO, null, ex);\r\n        }\r\n    ...\r\n\r\n    public void startScheduler () throws SchedulerException {\r\n        \r\n            //Creating scheduler factory and scheduler\r\n            factory = new StdSchedulerFactory();\r\n            scheduler = factory.getScheduler();\r\n\r\n            schedulerTimeWindow = config.getSchedulerTimeWindow();\r\n\r\n            JobDetailImpl jobDetail = new JobDetailImpl();\r\n            jobDetail.setName(&quot;First Job&quot;);\r\n            jobDetail.setJobClass(MainJob.class);\r\n\r\n            SimpleTriggerImpl simpleTrigger = new SimpleTriggerImpl();\r\n            simpleTrigger.setStartTime(new Date(System.currentTimeMillis() + 1000));\r\n            simpleTrigger.setRepeatCount(SimpleTrigger.REPEAT_INDEFINITELY);\r\n            simpleTrigger.setRepeatInterval(schedulerTimeWindow);\r\n            simpleTrigger.setName(&quot;FirstTrigger&quot;);\r\n\r\n            //Start scheduler\r\n            scheduler.start();\r\n            scheduler.scheduleJob(jobDetail,simpleTrigger);\r\n        \r\n    }\r\n\r\nI would like to prevent scheduler from starting a second MainJob instance if another one is still running ...","title":"Java Quartz scheduled Job - disallow concurrent execution of Job","body":"<p>I am using a Quartz Job for executing specific tasks. </p>\n\n<p>I am also scheduling its execution in my Main application class and what i am trying to accomplish is not to allow simultaneous instances of this job to be executed.</p>\n\n<p>So the scheduler should only execute the job if its previous instance is finished.</p>\n\n<p>Here is my Job class:</p>\n\n<pre><code>public class MainJob implements Job {\n\nstatic Logger log = Logger.getLogger(MainJob.class.getName());\n\n@Override\npublic void execute(JobExecutionContext arg0) throws JobExecutionException {\n\n    GlobalConfig cfg = new GlobalConfig();\n\n    ProcessDicomFiles processDicomFiles = new ProcessDicomFiles();  \n    ProcessPdfReportFiles processPdf = new ProcessPdfReportFiles();\n\n    try {\n\n            log.info(\"1. ---- SCHEDULED JOB -- setStudiesReadyToProcess\");\n            processDicomFiles.setStudiesReadyToProcess();\n\n            log.info(\"2. ---- SCHEDULED JOB --- distributeToStudies\");\n            processDicomFiles.distributeToStudies(cfg.getAssocDir());                \n\n            ...\n\n            //process any incoming PDF file\n            log.info(\"11. ---- SCHEDULED JOB --- processPdfFolder\");\n            processPdf.processPdfFolder();\n\n        } catch (Exception ex) {\n            Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.ERROR, null, ex);\n        }\n\n    log.info(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Scheduled Job has ended .... &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\");\n\n    }\n}\n</code></pre>\n\n<p>So in my application's main class i am starting the scheduler:</p>\n\n<pre><code>...\n//start Scheduler\n    try {             \n        startScheduler();\n    } catch (SchedulerException ex) {\n        log.log(Level.INFO, null, ex);\n    }\n...\n\npublic void startScheduler () throws SchedulerException {\n\n        //Creating scheduler factory and scheduler\n        factory = new StdSchedulerFactory();\n        scheduler = factory.getScheduler();\n\n        schedulerTimeWindow = config.getSchedulerTimeWindow();\n\n        JobDetailImpl jobDetail = new JobDetailImpl();\n        jobDetail.setName(\"First Job\");\n        jobDetail.setJobClass(MainJob.class);\n\n        SimpleTriggerImpl simpleTrigger = new SimpleTriggerImpl();\n        simpleTrigger.setStartTime(new Date(System.currentTimeMillis() + 1000));\n        simpleTrigger.setRepeatCount(SimpleTrigger.REPEAT_INDEFINITELY);\n        simpleTrigger.setRepeatInterval(schedulerTimeWindow);\n        simpleTrigger.setName(\"FirstTrigger\");\n\n        //Start scheduler\n        scheduler.start();\n        scheduler.scheduleJob(jobDetail,simpleTrigger);\n\n}\n</code></pre>\n\n<p>I would like to prevent scheduler from starting a second MainJob instance if another one is still running ...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1635508071,"post_id":69768157,"comment_id":123323412,"body_markdown":"It would appear that `orderList.getSelectedIndex()` returns -1 (minus one). I may be able to help you debug your code if you post a [mcve]. Note that removing large parts of your code and posting what&#39;s left (blank lines included) does **not** constitute a minimal, reproducible example.","body":"It would appear that <code>orderList.getSelectedIndex()</code> returns -1 (minus one). I may be able to help you debug your code if you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Note that removing large parts of your code and posting what&#39;s left (blank lines included) does <b>not</b> constitute a minimal, reproducible example."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1635508519,"post_id":69768157,"comment_id":123323569,"body_markdown":"In my `ListSelectionListener` implementations, I usually first call method [getValueIsAdjusting](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/event/ListSelectionEvent.html#getValueIsAdjusting()) and only do anything if that method returns false. Refer to [How to Write a List Selection Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/listselectionlistener.html)","body":"In my <code>ListSelectionListener</code> implementations, I usually first call method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/event/ListSelectionEvent.html#getValueIsAdjusting()\" rel=\"nofollow noreferrer\">getValueIsAdjusting</a> and only do anything if that method returns false. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/listselectionlistener.html\" rel=\"nofollow noreferrer\">How to Write a List Selection Listener</a>"}],"owner":{"account_id":21728233,"reputation":5,"user_id":16037354,"display_name":"Madhav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635507128,"creation_date":1635507128,"question_id":69768157,"body_markdown":"I am getting error while removing data from the DefaultListModel actually problem is that the element which I am removing is selected in the valueChanged method so thats why remove button throws error i even try to add clearSelection method but nothing is working\r\n```\r\nclass LoginPanel extends JPanel {\r\nprivate final JTextArea area;\r\nprivate final DefaultListModel&lt;String&gt;  defaultOrderList ;\r\n\r\n public LoginPanel() {\r\n\r\n defaultOrderList = new DefaultListModel&lt;String&gt;();\r\n\r\n orderList = new JList&lt;String&gt;(defaultOrderList);\r\n        orderList.addListSelectionListener(new listHandler());\r\n        orderList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n        add(new JScrollPane(orderList));\r\n\r\n  area = new JTextArea();\r\n    area.setEditable(false);\r\n\r\n removeButton = new JButton(&quot;Remove part&quot;);\r\n\r\n}\r\n\r\n    private class ButtonHandler implements ActionListener {\r\n\r\n\r\n\r\n//when i click the remove button it shows the error\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n   if(e.getSource()== removeButton){\r\n                    totalPrice-=order.getParts().get(orderList.getSelectedIndex()).getPrice();\r\n\r\n                    area.setText(&quot;&quot;);\r\n\r\n                    order.removeComputerPart(orderList.getSelectedIndex());\r\n                    defaultOrderList.removeElementAt(orderList.getSelectedIndex());\r\n\r\n\r\n\r\n                }\r\n\r\n}\r\n\r\n  private class listHandler implements ListSelectionListener {\r\n\r\n   if (e.getSource() == orderList) {\r\n\r\n\r\n\r\n                area.setText(order.getParts().get(orderList.getSelectedIndex()).getID()+&quot;\\n&quot;+&quot;$&quot;+order.getParts().get(orderList.getSelectedIndex()).getPrice()+&quot;\\n&quot;+\r\n                     checkCompatiblity(order.getParts().get(orderList.getSelectedIndex()))\r\n\r\n  );\r\n\r\n//here is where i get an error which i seen from the command prompt\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n}\r\n\r\n}\r\n}\r\n\r\n\r\n\r\n}\r\n\r\n```\r\nwhile checking the problem through command prompt i get an error out of bond\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 3\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:359)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n\r\n\r\n    \\\\main class name is CSFrame so here it shows the error\r\n\tat LoginPanel$listHandler.valueChanged(CSFrame.java:472)\r\n\r\n\r\n\r\n\tat java.desktop/javax.swing.JList.fireSelectionValueChanged(JList.java:1804)\r\n\tat java.desktop/javax.swing.JList$ListSelectionHandler.valueChanged(JList.java:1818)\r\n\tat java.desktop/javax.swing.DefaultListSelectionModel.fireValueChanged(DefaultListSelectionModel.java:224)\r\n\tat java.desktop/javax.swing.DefaultListSelectionModel.fireValueChanged(DefaultListSelectionModel.java:204)\r\n\tat java.desktop/javax.swing.DefaultListSelectionModel.fireValueChanged(DefaultListSelectionModel.java:251)\r\n\tat java.desktop/javax.swing.DefaultListSelectionModel.removeIndexInterval(DefaultListSelectionModel.java:720)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicListUI$Handler.intervalRemoved(BasicListUI.java:2793)\r\n\tat java.desktop/javax.swing.AbstractListModel.fireIntervalRemoved(AbstractListModel.java:188)\r\n\tat java.desktop/javax.swing.DefaultListModel.removeElementAt(DefaultListModel.java:334)\r\n\tat LoginPanel$ButtonHandler.actionPerformed(CSFrame.java:396)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6617)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6382)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2264)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4993)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2322)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4934)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4563)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4504)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2308)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2773)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n\r\n```","title":"GUI Error while removing from the defaultListModel","body":"<p>I am getting error while removing data from the DefaultListModel actually problem is that the element which I am removing is selected in the valueChanged method so thats why remove button throws error i even try to add clearSelection method but nothing is working</p>\n<pre><code>class LoginPanel extends JPanel {\nprivate final JTextArea area;\nprivate final DefaultListModel&lt;String&gt;  defaultOrderList ;\n\n public LoginPanel() {\n\n defaultOrderList = new DefaultListModel&lt;String&gt;();\n\n orderList = new JList&lt;String&gt;(defaultOrderList);\n        orderList.addListSelectionListener(new listHandler());\n        orderList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n        add(new JScrollPane(orderList));\n\n  area = new JTextArea();\n    area.setEditable(false);\n\n removeButton = new JButton(&quot;Remove part&quot;);\n\n}\n\n    private class ButtonHandler implements ActionListener {\n\n\n\n//when i click the remove button it shows the error\n\n        public void actionPerformed(ActionEvent e) {\n   if(e.getSource()== removeButton){\n                    totalPrice-=order.getParts().get(orderList.getSelectedIndex()).getPrice();\n\n                    area.setText(&quot;&quot;);\n\n                    order.removeComputerPart(orderList.getSelectedIndex());\n                    defaultOrderList.removeElementAt(orderList.getSelectedIndex());\n\n\n\n                }\n\n}\n\n  private class listHandler implements ListSelectionListener {\n\n   if (e.getSource() == orderList) {\n\n\n\n                area.setText(order.getParts().get(orderList.getSelectedIndex()).getID()+&quot;\\n&quot;+&quot;$&quot;+order.getParts().get(orderList.getSelectedIndex()).getPrice()+&quot;\\n&quot;+\n                     checkCompatiblity(order.getParts().get(orderList.getSelectedIndex()))\n\n  );\n\n//here is where i get an error which i seen from the command prompt\n\n\n\n\n\n            }\n\n}\n\n}\n}\n\n\n\n}\n\n</code></pre>\n<p>while checking the problem through command prompt i get an error out of bond</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 3\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\n    at java.base/java.util.Objects.checkIndex(Objects.java:359)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n\n\n    \\\\main class name is CSFrame so here it shows the error\n    at LoginPanel$listHandler.valueChanged(CSFrame.java:472)\n\n\n\n    at java.desktop/javax.swing.JList.fireSelectionValueChanged(JList.java:1804)\n    at java.desktop/javax.swing.JList$ListSelectionHandler.valueChanged(JList.java:1818)\n    at java.desktop/javax.swing.DefaultListSelectionModel.fireValueChanged(DefaultListSelectionModel.java:224)\n    at java.desktop/javax.swing.DefaultListSelectionModel.fireValueChanged(DefaultListSelectionModel.java:204)\n    at java.desktop/javax.swing.DefaultListSelectionModel.fireValueChanged(DefaultListSelectionModel.java:251)\n    at java.desktop/javax.swing.DefaultListSelectionModel.removeIndexInterval(DefaultListSelectionModel.java:720)\n    at java.desktop/javax.swing.plaf.basic.BasicListUI$Handler.intervalRemoved(BasicListUI.java:2793)\n    at java.desktop/javax.swing.AbstractListModel.fireIntervalRemoved(AbstractListModel.java:188)\n    at java.desktop/javax.swing.DefaultListModel.removeElementAt(DefaultListModel.java:334)\n    at LoginPanel$ButtonHandler.actionPerformed(CSFrame.java:396)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6617)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6382)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2264)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4993)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2322)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4934)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4563)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4504)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2308)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2773)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n\n\n</code></pre>\n"},{"tags":["java","mysql",".net","mysql-workbench"],"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1611288100,"post_id":22905514,"comment_id":116408426,"body_markdown":"I&#39;ve reproduced the same issue using MySQL Server 8.0.23 &amp; MySQL Workbench 8.0.23 for 64-bit OS Windows 10 and added answer [here](https://stackoverflow.com/a/65839054/8370915) for newer versions.","body":"I&#39;ve reproduced the same issue using MySQL Server 8.0.23 &amp; MySQL Workbench 8.0.23 for 64-bit OS Windows 10 and added answer <a href=\"https://stackoverflow.com/a/65839054/8370915\">here</a> for newer versions."}],"answers":[{"tags":[],"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396955067,"creation_date":1396955067,"answer_id":22935059,"question_id":22905514,"body_markdown":"Try running `chcp` in a terminal window (command line window). Does it run there? It should print out the current code page. Ensure the `chcp` command can be found by having the system path in your PATH variable.","title":"MySQL Workbench 6.0 error could not acquire managemant access for the administrator?","body":"<p>Try running <code>chcp</code> in a terminal window (command line window). Does it run there? It should print out the current code page. Ensure the <code>chcp</code> command can be found by having the system path in your PATH variable.</p>\n"},{"tags":[],"owner":{"account_id":6864475,"reputation":61,"user_id":5277425,"display_name":"Maisa M."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1440773487,"creation_date":1440773487,"answer_id":32273868,"question_id":22905514,"body_markdown":"I had the same problem and i tried so many thing to work, the only thing that works for me was check the Environment Variables, for this do:\r\n\r\n - Right click on My Computer&gt;Properties\r\n - Advanced system settings\r\n - Environment Variables\r\n - In the field &quot;Environment Variables&quot; search for Path\r\n\r\n Search for %SystemRoot%; and %SystemRoot%\\system32; if you don&#39;t see them there, add it on the final of the line (please don&#39;t delete the other things there!).\r\n- That&#39;s it.","title":"MySQL Workbench 6.0 error could not acquire managemant access for the administrator?","body":"<p>I had the same problem and i tried so many thing to work, the only thing that works for me was check the Environment Variables, for this do:</p>\n\n<ul>\n<li>Right click on My Computer>Properties</li>\n<li>Advanced system settings</li>\n<li>Environment Variables</li>\n<li><p>In the field \"Environment Variables\" search for Path</p>\n\n<p>Search for %SystemRoot%; and %SystemRoot%\\system32; if you don't see them there, add it on the final of the line (please don't delete the other things there!).</p>\n\n<ul>\n<li>That's it.</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8455006,"reputation":11,"user_id":6342633,"display_name":"Paulo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463430230,"creation_date":1463430230,"answer_id":37262646,"question_id":22905514,"body_markdown":"On 64 bits system you need copy chcp.com from system32 to SysWOW64","title":"MySQL Workbench 6.0 error could not acquire managemant access for the administrator?","body":"<p>On 64 bits system you need copy chcp.com from system32 to SysWOW64</p>\n"},{"tags":[],"owner":{"account_id":23181857,"reputation":1,"user_id":17279579,"display_name":"user17279579"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635506725,"creation_date":1635506725,"answer_id":69768076,"question_id":22905514,"body_markdown":"For me solve was to enable MYSQL80 service (for some reason it was disabled):\r\nTasks manager -&gt; Services -&gt; Open services -&gt; find MYSQL80 -&gt; start it\r\n","title":"MySQL Workbench 6.0 error could not acquire managemant access for the administrator?","body":"<p>For me solve was to enable MYSQL80 service (for some reason it was disabled):\nTasks manager -&gt; Services -&gt; Open services -&gt; find MYSQL80 -&gt; start it</p>\n"}],"owner":{"account_id":3553439,"reputation":1377,"user_id":2967727,"accept_rate":54,"display_name":"Whats Going On"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10616,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1635506725,"creation_date":1396853904,"question_id":22905514,"body_markdown":"I am using MySQL Workbench 6.0 over here. When I select the server status, I am getting this error\r\n\r\n![enter image description here][1]\r\n\r\n\r\nRegarding this, I tried looking for solutions on Google and StackOverflow (_e.g. [this result][2]_)\r\n\r\nBut here in MySQL Workbench 6.0, I don&#39;t know where is `Server Administration` of Mysql&#39;s and `Workbench Central`.\r\n\r\nCan anyone help me regarding this issue in MySQL Workbench 6.0?\r\n\r\n  [1]: http://i.stack.imgur.com/1gIWG.jpg\r\n  [2]: https://stackoverflow.com/questions/17462706/backup-of-mysql-db-not-being-created/21988037#21988037","title":"MySQL Workbench 6.0 error could not acquire managemant access for the administrator?","body":"<p>I am using MySQL Workbench 6.0 over here. When I select the server status, I am getting this error</p>\n\n<p><img src=\"https://i.stack.imgur.com/1gIWG.jpg\" alt=\"enter image description here\"></p>\n\n<p>Regarding this, I tried looking for solutions on Google and StackOverflow (<em>e.g. <a href=\"https://stackoverflow.com/questions/17462706/backup-of-mysql-db-not-being-created/21988037#21988037\">this result</a></em>)</p>\n\n<p>But here in MySQL Workbench 6.0, I don't know where is <code>Server Administration</code> of Mysql's and <code>Workbench Central</code>.</p>\n\n<p>Can anyone help me regarding this issue in MySQL Workbench 6.0?</p>\n"},{"tags":["java","jakarta-mail","tomcat8","sslhandshakeexception","starttls"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1635257743,"post_id":69724668,"comment_id":123245077,"body_markdown":"nothing changed - except time passed!? (certificate expired/renewed!?;) hi &amp; welcome to [so]!","body":"nothing changed - except time passed!? (certificate expired/renewed!?;) hi &amp; welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>!"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1635257745,"post_id":69724668,"comment_id":123245079,"body_markdown":"You may want to enable SSL debugging to see if anything is shown there. Also talk to the system administrator of your SMTP server.","body":"You may want to enable SSL debugging to see if anything is shown there. Also talk to the system administrator of your SMTP server."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1635260562,"post_id":69724668,"comment_id":123246500,"body_markdown":"Second the motion for `-Djavax.net.debug=ssl:handshake` . What java version? Tomcat 8.5 can run on 7, which was the last version with PermGen, and at least the free versions of 7 (through 7u80) by default disabled TLS client protocols above 1.0, while many servers today require 1.1 or even 1.2 minimum because 1.0 is if not outright broken at least seriously weakened. Note `https.protocols` has no effect at all on mail, which does not use HTTP[S]; if you meant to configure TLS versions for SMTP use `mail.smtp.ssl.protocols`","body":"Second the motion for <code>-Djavax.net.debug=ssl:handshake</code> . What java version? Tomcat 8.5 can run on 7, which was the last version with PermGen, and at least the free versions of 7 (through 7u80) by default disabled TLS client protocols above 1.0, while many servers today require 1.1 or even 1.2 minimum because 1.0 is if not outright broken at least seriously weakened. Note <code>https.protocols</code> has no effect at all on mail, which does not use HTTP[S]; if you meant to configure TLS versions for SMTP use <code>mail.smtp.ssl.protocols</code>"}],"answers":[{"tags":[],"owner":{"account_id":23149725,"reputation":11,"user_id":17251938,"display_name":"M L E"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635506646,"creation_date":1635506646,"answer_id":69768060,"question_id":69724668,"body_markdown":"Thank you to all those who replied.\r\n\r\nIt appears that all the problem was cause by a change on Microsoft policies regarding the basic authentication for their tenants.\r\n\r\nAfter some changes on the account settings, all is back to normal and the emails are sent again.","title":"MailSendException SSLHandshakeException JavaMail emails not being sent","body":"<p>Thank you to all those who replied.</p>\n<p>It appears that all the problem was cause by a change on Microsoft policies regarding the basic authentication for their tenants.</p>\n<p>After some changes on the account settings, all is back to normal and the emails are sent again.</p>\n"}],"owner":{"account_id":23149725,"reputation":11,"user_id":17251938,"display_name":"M L E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69768060,"answer_count":1,"score":1,"last_activity_date":1635506646,"creation_date":1635257364,"question_id":69724668,"body_markdown":"When sending an email using JavaMail, I get this exception:\r\n\r\n```none\r\norg.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n  nested exception is:\r\n\tjavax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake. Failed messages: javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n```\r\n\r\n\r\nI am using Tomcat 8 in which I have these arguments added:\r\n\r\n    -Dcatalina.home=C:\\Development\\apache-tomcat-8.5.12\r\n    -Dcatalina.base=C:\\Development\\apache-tomcat-8.5.12\r\n    -Djava.io.tmpdir=C:\\Development\\apache-tomcat-8.5.12\\temp\r\n    -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    -Djava.util.logging.config.file=C:\\Development\\apache-tomcat-8.5.12\\conf\\logging.properties\r\n    -XX:PermSize=128m\r\n    -XX:MaxPermSize=512m\r\n    -XX:+CMSClassUnloadingEnabled\r\n    -XX:+UseG1GC\r\n    -Dmail.smtp.starttls.enable=true \r\n    -Dmail.debug=true\r\n    -Dhttps.protocols=TLSv1.1,TLSv1.2\r\n\r\nMy java mail properties are:\r\n\r\n```xml\r\n&lt;property name=&quot;javaMailProperties&quot;&gt;\r\n  &lt;props&gt;\r\n\t  &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n\t  &lt;prop key=&quot;mail.smtp.debug&quot;&gt;true&lt;/prop&gt;\r\n      &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n  &lt;/props&gt;\r\n&lt;/property&gt;\r\n```\r\n\r\nI am using Spring Java Mail v.3.2.2.\r\n\r\nThe weirdest thing is that this configuration has been properly working for years but now around suddenly 80% of the emails are not being sent due to this. However, the other 20% of the emails are sent as usual.\r\n\r\nI have reviewed the configuration in the remote server and nothing has been changed.\r\n\r\n","title":"MailSendException SSLHandshakeException JavaMail emails not being sent","body":"<p>When sending an email using JavaMail, I get this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake. Failed messages: javax.mail.MessagingException: Can't send command to SMTP host;\n</code></pre>\n<p>I am using Tomcat 8 in which I have these arguments added:</p>\n<pre><code>-Dcatalina.home=C:\\Development\\apache-tomcat-8.5.12\n-Dcatalina.base=C:\\Development\\apache-tomcat-8.5.12\n-Djava.io.tmpdir=C:\\Development\\apache-tomcat-8.5.12\\temp\n-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n-Djava.util.logging.config.file=C:\\Development\\apache-tomcat-8.5.12\\conf\\logging.properties\n-XX:PermSize=128m\n-XX:MaxPermSize=512m\n-XX:+CMSClassUnloadingEnabled\n-XX:+UseG1GC\n-Dmail.smtp.starttls.enable=true \n-Dmail.debug=true\n-Dhttps.protocols=TLSv1.1,TLSv1.2\n</code></pre>\n<p>My java mail properties are:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;javaMailProperties&quot;&gt;\n  &lt;props&gt;\n      &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\n      &lt;prop key=&quot;mail.smtp.debug&quot;&gt;true&lt;/prop&gt;\n      &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\n  &lt;/props&gt;\n&lt;/property&gt;\n</code></pre>\n<p>I am using Spring Java Mail v.3.2.2.</p>\n<p>The weirdest thing is that this configuration has been properly working for years but now around suddenly 80% of the emails are not being sent due to this. However, the other 20% of the emails are sent as usual.</p>\n<p>I have reviewed the configuration in the remote server and nothing has been changed.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":1,"creation_date":1623201184,"post_id":67896212,"comment_id":120009234,"body_markdown":"For each not free space you’re completely declaring a new `blockedCoordinates` array, overwriting anything previously there Can you give a small example of a grid (say, 3x3) and what you expect the `blockedCoordinates` array to look like afterwards?Additionally, for only two states, a `boolean` would suffice, or better yet, an `enum` So more can be added easily later.","body":"For each not free space you’re completely declaring a new <code>blockedCoordinates</code> array, overwriting anything previously there Can you give a small example of a grid (say, 3x3) and what you expect the <code>blockedCoordinates</code> array to look like afterwards?Additionally, for only two states, a <code>boolean</code> would suffice, or better yet, an <code>enum</code> So more can be added easily later."}],"answers":[{"tags":[],"owner":{"account_id":7453006,"reputation":883,"user_id":5667103,"accept_rate":60,"display_name":"Manifest Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635506327,"creation_date":1623203563,"answer_id":67896480,"question_id":67896212,"body_markdown":"You are doing some error while copying your data, here is why:\r\n```java\r\n// assuming following definition\r\nint[][] blockedCoordinate = new int[][]{};\r\n\r\nfor (int v = 0; v &lt; info.getScene().getHeight(); v++) {\r\n    for (int h = 0; h &lt; info.getScene().getWidth(); h++) {\r\n        //System.out.print(freeSpace[h][v] != 77 ? &quot;.&quot; : &quot;#&quot;);\r\n        if (freeSpace[h][v] == 77) {\r\n            // Make a copy\r\n            int[][] copyBlockedCoordinate = blockedCoordinates;\r\n            // extend the array length by 1\r\n            blockedCoordinates = new int[copyBlockedCoordinate.length + 1][2];\r\n            for (int i = 0; i &lt; copyBlockedCoordinate.length; i++) {\r\n                for (int j = 0; j &lt; copyBlockedCoordinate[i].length; j++) {\r\n                    blockedCoordiante[i][j] = copyBlockedCoordinate[i][j];\r\n                }\r\n            }\r\n            // add new array at new or last index position in blockedCoordinate array\r\n            blockedCoordinate[copyBlockedCoordinate.length] = {h, v};\r\n        }\r\n    }\r\n    // Make sure you write what you want to the console here to debug :)\r\n    System.out.println();\r\n}\r\n```","title":"Copy coordinates of one 2D array to another array","body":"<p>You are doing some error while copying your data, here is why:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// assuming following definition\nint[][] blockedCoordinate = new int[][]{};\n\nfor (int v = 0; v &lt; info.getScene().getHeight(); v++) {\n    for (int h = 0; h &lt; info.getScene().getWidth(); h++) {\n        //System.out.print(freeSpace[h][v] != 77 ? &quot;.&quot; : &quot;#&quot;);\n        if (freeSpace[h][v] == 77) {\n            // Make a copy\n            int[][] copyBlockedCoordinate = blockedCoordinates;\n            // extend the array length by 1\n            blockedCoordinates = new int[copyBlockedCoordinate.length + 1][2];\n            for (int i = 0; i &lt; copyBlockedCoordinate.length; i++) {\n                for (int j = 0; j &lt; copyBlockedCoordinate[i].length; j++) {\n                    blockedCoordiante[i][j] = copyBlockedCoordinate[i][j];\n                }\n            }\n            // add new array at new or last index position in blockedCoordinate array\n            blockedCoordinate[copyBlockedCoordinate.length] = {h, v};\n        }\n    }\n    // Make sure you write what you want to the console here to debug :)\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":16579253,"reputation":59,"user_id":14801238,"display_name":"drexl spivey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67896480,"answer_count":1,"score":2,"last_activity_date":1635506327,"creation_date":1623200680,"question_id":67896212,"body_markdown":"I have a 2D array `freeSpace[][]` that represents `x`, `y` coordinates. If the space is &quot;not free&quot; then I have it marked as `77`, other `1`.\r\n\r\nI want to put all the elements marked as `77` into it&#39;s own array, with those particular array coordinates. I think it should be simple, but I just can&#39;t get the syntax correct.\r\n\r\nHere is my code:\r\n```java\r\nfor (int v = 0; v &lt; info.getScene().getHeight(); v++) {\r\n    for (int h = 0; h &lt; info.getScene().getWidth(); h++) {\r\n        //System.out.print(freeSpace[h][v] != 77 ? &quot;.&quot; : &quot;#&quot;);\r\n        if (freeSpace[h][v] == 77) {\r\n            blockedCoordinates = new int[][]{{h, v}};\r\n        }\r\n    }\r\n    System.out.println();\r\n}\r\n```\r\n\r\nI have already declared the `blockedCoordinates[][]` array.\r\n\r\nMost of my attempts have lead to an empty array.\r\n","title":"Copy coordinates of one 2D array to another array","body":"<p>I have a 2D array <code>freeSpace[][]</code> that represents <code>x</code>, <code>y</code> coordinates. If the space is &quot;not free&quot; then I have it marked as <code>77</code>, other <code>1</code>.</p>\n<p>I want to put all the elements marked as <code>77</code> into it's own array, with those particular array coordinates. I think it should be simple, but I just can't get the syntax correct.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int v = 0; v &lt; info.getScene().getHeight(); v++) {\n    for (int h = 0; h &lt; info.getScene().getWidth(); h++) {\n        //System.out.print(freeSpace[h][v] != 77 ? &quot;.&quot; : &quot;#&quot;);\n        if (freeSpace[h][v] == 77) {\n            blockedCoordinates = new int[][]{{h, v}};\n        }\n    }\n    System.out.println();\n}\n</code></pre>\n<p>I have already declared the <code>blockedCoordinates[][]</code> array.</p>\n<p>Most of my attempts have lead to an empty array.</p>\n"},{"tags":["java","runtime-error","simulation","stack-overflow","anylogic"],"comments":[{"owner":{"account_id":2796827,"reputation":2767,"user_id":2405914,"accept_rate":94,"display_name":"Leonardo Alves Machado"},"score":1,"creation_date":1635440059,"post_id":69758030,"comment_id":123305384,"body_markdown":"Are you able to run with an smaller model? Couldn&#39;t this actually be an infinite loop, or something you actually need to handle in your code? I don&#39;t know anylogic, but maybe [this post](https://stackoverflow.com/questions/3700459/how-to-increase-the-java-stack-size) helps you - it shows how to increase stack for java projects, or maybe [this tutorial](https://www.baeldung.com/jvm-configure-stack-sizes), which I believe is more helpful - related to jvm stack configuration.","body":"Are you able to run with an smaller model? Couldn&#39;t this actually be an infinite loop, or something you actually need to handle in your code? I don&#39;t know anylogic, but maybe <a href=\"https://stackoverflow.com/questions/3700459/how-to-increase-the-java-stack-size\">this post</a> helps you - it shows how to increase stack for java projects, or maybe <a href=\"https://www.baeldung.com/jvm-configure-stack-sizes\" rel=\"nofollow noreferrer\">this tutorial</a>, which I believe is more helpful - related to jvm stack configuration."},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1635441101,"post_id":69758030,"comment_id":123305809,"body_markdown":"You likely have created an infinite loop, no AnyLogic setting can help you there. You need to debug your model to see where the error is coming from.","body":"You likely have created an infinite loop, no AnyLogic setting can help you there. You need to debug your model to see where the error is coming from."},{"owner":{"account_id":23173935,"reputation":1,"user_id":17272731,"display_name":"Dhruva Kanwar"},"score":1,"creation_date":1635505679,"post_id":69758030,"comment_id":123322604,"body_markdown":"Thank you Leonardo &amp; Benjamin. You were right in guessing that this error was caused due to an infinite loop. Let me explain what exactly took place. In the simulation model I wanted the truck agents to be diverted to one bay or the other. The trucks can only proceed to a bay when the bay is empty. As there were 2 bays, I created a select output block whose exit on false condition led to another select output block whose exit of false condition led back to the input of the block before the first select output block. In the case when a truck was present at both bays, it led to an infinite loop.","body":"Thank you Leonardo &amp; Benjamin. You were right in guessing that this error was caused due to an infinite loop. Let me explain what exactly took place. In the simulation model I wanted the truck agents to be diverted to one bay or the other. The trucks can only proceed to a bay when the bay is empty. As there were 2 bays, I created a select output block whose exit on false condition led to another select output block whose exit of false condition led back to the input of the block before the first select output block. In the case when a truck was present at both bays, it led to an infinite loop."}],"answers":[{"tags":[],"owner":{"account_id":23181756,"reputation":1,"user_id":17279487,"display_name":"John doe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635506317,"creation_date":1635506317,"answer_id":69767991,"question_id":69758030,"body_markdown":"I believe that you are using the free trial /(PLE) version  of the AnyLogic software as the stack size is limited . The problem can be resolved by downsizing you model in terms of decreasing the number of agents or purchasing the full version here. https://www.anylogic.com/purchase/","title":"Stack overflow error encountered in AnyLogic","body":"<p>I believe that you are using the free trial /(PLE) version  of the AnyLogic software as the stack size is limited . The problem can be resolved by downsizing you model in terms of decreasing the number of agents or purchasing the full version here. <a href=\"https://www.anylogic.com/purchase/\" rel=\"nofollow noreferrer\">https://www.anylogic.com/purchase/</a></p>\n"}],"owner":{"account_id":23173935,"reputation":1,"user_id":17272731,"display_name":"Dhruva Kanwar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635506317,"creation_date":1635439603,"question_id":69758030,"body_markdown":"My model executed for the first 800 seconds after which I encounter the following error. Is there a way by which I can increase the stack size in AnyLogic? Is there any other approach I could use to counter the same?\r\n\r\n\r\n\t`Exception during discrete event execution:\r\n    StackOverflowError\r\n    java.lang.StackOverflowError\r\n    at com.anylogic.engine.Agent.e(Unknown Source)\r\n\tat com.anylogic.engine.Agent.h(Unknown Source)\r\n\tat com.anylogic.engine.Agent.ext(Unknown Source)\r\n\tat com.anylogic.libraries.processmodeling.OutPort.b(Unknown Source)\r\n\tat com.anylogic.libraries.processmodeling.OutputBlock.forwardReadyEntityNotification(Unknown Source)\r\n\tat com.anylogic.libraries.processmodeling.InputBlock$1.a(Unknown Source)\r\n\tat com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\r\n\tat com.anylogic.libraries.processmodeling.OutPort.b(Unknown Source)\r\n\tat com.anylogic.libraries.processmodeling.OutputBlock.forwardReadyEntityNotification(Unknown \r\n    Source)\r\n\tat com.anylogic.libraries.processmodeling.InputBlock$1.a(Unknown Source)\r\n\tat com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\r\n\tat com.anylogic.libraries.processmodeling.OutPort.b(Unknown Source)\r\n\tat com.anylogic.libraries.processmodeling.OutputBlock.forwardReadyEntityNotification(Unknown \r\n    Source)`","title":"Stack overflow error encountered in AnyLogic","body":"<p>My model executed for the first 800 seconds after which I encounter the following error. Is there a way by which I can increase the stack size in AnyLogic? Is there any other approach I could use to counter the same?</p>\n<pre><code>`Exception during discrete event execution:\nStackOverflowError\njava.lang.StackOverflowError\nat com.anylogic.engine.Agent.e(Unknown Source)\nat com.anylogic.engine.Agent.h(Unknown Source)\nat com.anylogic.engine.Agent.ext(Unknown Source)\nat com.anylogic.libraries.processmodeling.OutPort.b(Unknown Source)\nat com.anylogic.libraries.processmodeling.OutputBlock.forwardReadyEntityNotification(Unknown Source)\nat com.anylogic.libraries.processmodeling.InputBlock$1.a(Unknown Source)\nat com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\nat com.anylogic.libraries.processmodeling.OutPort.b(Unknown Source)\nat com.anylogic.libraries.processmodeling.OutputBlock.forwardReadyEntityNotification(Unknown \nSource)\nat com.anylogic.libraries.processmodeling.InputBlock$1.a(Unknown Source)\nat com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\nat com.anylogic.libraries.processmodeling.OutPort.b(Unknown Source)\nat com.anylogic.libraries.processmodeling.OutputBlock.forwardReadyEntityNotification(Unknown \nSource)`\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1635505443,"post_id":69767768,"comment_id":123322528,"body_markdown":"Your current code wouldn&#39;t compile because `addValue` is a static method, and `data` is an instance field.","body":"Your current code wouldn&#39;t compile because <code>addValue</code> is a static method, and <code>data</code> is an instance field."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1635505672,"post_id":69767768,"comment_id":123322603,"body_markdown":"Your first  loop will not run even once for empty array as `i &lt; data.length` will be false immediately. meaning `a[i + 1] = value;` will also never run. But i don&#39;t see the logic in adding the extra element in the loop anyway. just do `a[a.length-1] = value;` after your loop to add the extra value.","body":"Your first  loop will not run even once for empty array as <code>i &lt; data.length</code> will be false immediately. meaning <code>a[i + 1] = value;</code> will also never run. But i don&#39;t see the logic in adding the extra element in the loop anyway. just do <code>a[a.length-1] = value;</code> after your loop to add the extra value."},{"owner":{"account_id":19393337,"reputation":59,"user_id":14181512,"display_name":"Neo"},"score":0,"creation_date":1635507084,"post_id":69767768,"comment_id":123323064,"body_markdown":"How can i solve the Problem with a for-loop?","body":"How can i solve the Problem with a for-loop?"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635506170,"creation_date":1635505824,"answer_id":69767885,"question_id":69767768,"body_markdown":"```java\r\npublic class Measurement {\r\n\r\n    private int[] data = new int[0];\r\n\r\n    public void addValue(int value) {\r\n        int[] arr = new int[data.length + 1];\r\n        System.arraycopy(data, 0, arr, 0, data.length);\r\n        arr[arr.length - 1] = value;\r\n        data = arr;\r\n    }\r\n\r\n}\r\n```\r\n---\r\nAlternative way:\r\n\r\n```java\r\npublic class Measurement {\r\n\r\n    private int[] data = new int[0];\r\n\r\n    public void addValue(int value) {\r\n        data = Arrays.copyOf(data, data.length + 1);\r\n        data[data.length - 1] = value;\r\n    }\r\n\r\n}\r\n```","title":"Adding a new Value to an already existing Array (not using ArrayList)","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Measurement {\n\n    private int[] data = new int[0];\n\n    public void addValue(int value) {\n        int[] arr = new int[data.length + 1];\n        System.arraycopy(data, 0, arr, 0, data.length);\n        arr[arr.length - 1] = value;\n        data = arr;\n    }\n\n}\n</code></pre>\n<hr />\n<p>Alternative way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Measurement {\n\n    private int[] data = new int[0];\n\n    public void addValue(int value) {\n        data = Arrays.copyOf(data, data.length + 1);\n        data[data.length - 1] = value;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19393337,"reputation":59,"user_id":14181512,"display_name":"Neo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69767885,"answer_count":1,"score":2,"last_activity_date":1635506170,"creation_date":1635505319,"question_id":69767768,"body_markdown":"I want to add a new Value to my already existing Array. I made a new Array with the length of the already existing one and added one more Place for the new Value.\r\n\r\n```\r\npublic class Measurement {\r\n\r\n\tprivate int[] data;\r\n\r\n\tpublic Measurement() {\r\n\t\tdata = new int[0];\r\n\t}\r\n\r\n\tpublic static void addValue(int value) {\r\n\t\tint [] a = new int [data.length + 1];\r\n\t\tfor(int i = 0; i &lt; data.length; i++) {\r\n\t\t\ta[i] = data[i];\r\n\t\t\ta[i + 1] = value;\r\n\t\t}\r\n\t\tfor(int i: a) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI tried it with an already initialized Array and it worked, but I don&#39;t know what it doesn&#39;t with my existing try.\r\n\r\n``` \r\nint[] a = {1,3,4,5,6,9};\r\n        int value = 10;\r\n        int[] b = new int[a.length + 1];\r\n        for(int i = 0; i &lt; a.length; i++) {\r\n            b[i] = a[i];\r\n            b[i + 1] = value;\r\n    }\r\n    for (int i : b) {\r\n        System.out.println(i);\r\n    }\r\n``` ","title":"Adding a new Value to an already existing Array (not using ArrayList)","body":"<p>I want to add a new Value to my already existing Array. I made a new Array with the length of the already existing one and added one more Place for the new Value.</p>\n<pre><code>public class Measurement {\n\n    private int[] data;\n\n    public Measurement() {\n        data = new int[0];\n    }\n\n    public static void addValue(int value) {\n        int [] a = new int [data.length + 1];\n        for(int i = 0; i &lt; data.length; i++) {\n            a[i] = data[i];\n            a[i + 1] = value;\n        }\n        for(int i: a) {\n            System.out.println(i);\n        }\n    }\n}\n</code></pre>\n<p>I tried it with an already initialized Array and it worked, but I don't know what it doesn't with my existing try.</p>\n<pre><code>int[] a = {1,3,4,5,6,9};\n        int value = 10;\n        int[] b = new int[a.length + 1];\n        for(int i = 0; i &lt; a.length; i++) {\n            b[i] = a[i];\n            b[i + 1] = value;\n    }\n    for (int i : b) {\n        System.out.println(i);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635505443,"creation_date":1635505443,"answer_id":69767793,"question_id":69767643,"body_markdown":"First Spring uses `ProviderManager` class as the implementation of `AuthenticationManager` interface and if you see the implementation of the `authenticate` method you figure out that it only uses parent authentication manager if the child result is `null` not `exception` in your case.\r\n\r\n    if (result == null &amp;&amp; this.parent != null) {\r\n    \t\t\t// Allow the parent to try.\r\n    \t\t\ttry {\r\n    \t\t\t\tparentResult = this.parent.authenticate(authentication);\r\n    \t\t\t\tresult = parentResult;\r\n    \t\t\t}\r\n      // other stuff\r\n    }\r\n\r\nso change the following code in `CustomProvider` to returns `null`\r\n\r\n      @Override\r\n      public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        return AuthenticationException(&quot;error&quot;);\r\n      }\r\n\r\nalso from the image I noticed you are using http basic authentication but you didn&#39;t enable it in your configuration.\r\n\r\n    http\r\n        .antMatcher(&quot;/hello&quot;)\r\n        .authorizeRequests()\r\n        .anyRequest()\r\n        .authenticated()\r\n        .and()\r\n        .httpBasic();\r\n\r\n\r\n","title":"I set a parent to my Authentication Manager in Spring security but it didn&#39;t work","body":"<p>First Spring uses <code>ProviderManager</code> class as the implementation of <code>AuthenticationManager</code> interface and if you see the implementation of the <code>authenticate</code> method you figure out that it only uses parent authentication manager if the child result is <code>null</code> not <code>exception</code> in your case.</p>\n<pre><code>if (result == null &amp;&amp; this.parent != null) {\n            // Allow the parent to try.\n            try {\n                parentResult = this.parent.authenticate(authentication);\n                result = parentResult;\n            }\n  // other stuff\n}\n</code></pre>\n<p>so change the following code in <code>CustomProvider</code> to returns <code>null</code></p>\n<pre><code>  @Override\n  public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n    return AuthenticationException(&quot;error&quot;);\n  }\n</code></pre>\n<p>also from the image I noticed you are using http basic authentication but you didn't enable it in your configuration.</p>\n<pre><code>http\n    .antMatcher(&quot;/hello&quot;)\n    .authorizeRequests()\n    .anyRequest()\n    .authenticated()\n    .and()\n    .httpBasic();\n</code></pre>\n"}],"owner":{"account_id":23180069,"reputation":23,"user_id":17278011,"display_name":"Wang hua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69767793,"answer_count":1,"score":2,"last_activity_date":1635506092,"creation_date":1635504715,"question_id":69767643,"body_markdown":"I am trying to practice spring security and this is my spring security configuration\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class ProjectConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Autowired\r\n      AuthenticationProvider authenticationProvider;\r\n    \r\n      @Autowired\r\n      AuthenticationManagerBuilder builder;\r\n    \r\n      @Bean\r\n      public AuthenticationManager global() throws Exception {\r\n        builder\r\n            .inMemoryAuthentication()\r\n            .passwordEncoder(NoOpPasswordEncoder.getInstance())\r\n            .withUser(&quot;admin&quot;)\r\n            .password(&quot;123&quot;)\r\n            .authorities(() -&gt; &quot;ADMIN&quot;);\r\n        return builder.build();\r\n      }\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .antMatcher(&quot;/hello&quot;)\r\n            .authorizeRequests()\r\n            .anyRequest()\r\n            .authenticated();\r\n      }\r\n    \r\n      @Bean\r\n      @Override\r\n      public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n      }\r\n    \r\n      @Override\r\n      protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \r\n        auth.authenticationProvider(authenticationProvider);\r\n        auth.parentAuthenticationManager(global());\r\n      }\r\n    }\r\n\r\nand this is my custom authentication provider:\r\n\r\n    @Component\r\n    public class CustomProvider implements AuthenticationProvider {\r\n    \r\n      @Override\r\n      public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        return BadCredentialsException(&quot;error&quot;);\r\n      }\r\n    \r\n      @Override\r\n      public boolean supports(Class&lt;?&gt; authentication) {\r\n        return true;\r\n      }\r\n    }\r\n\r\nI read about how we can create a parent for authentication manager and tried to test it. every time I make a request using Postman I get 403 error. what is wrong with my configuration?\r\n[Postman][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/07U40.png","title":"I set a parent to my Authentication Manager in Spring security but it didn&#39;t work","body":"<p>I am trying to practice spring security and this is my spring security configuration</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ProjectConfig extends WebSecurityConfigurerAdapter {\n\n  @Autowired\n  AuthenticationProvider authenticationProvider;\n\n  @Autowired\n  AuthenticationManagerBuilder builder;\n\n  @Bean\n  public AuthenticationManager global() throws Exception {\n    builder\n        .inMemoryAuthentication()\n        .passwordEncoder(NoOpPasswordEncoder.getInstance())\n        .withUser(&quot;admin&quot;)\n        .password(&quot;123&quot;)\n        .authorities(() -&gt; &quot;ADMIN&quot;);\n    return builder.build();\n  }\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http\n        .antMatcher(&quot;/hello&quot;)\n        .authorizeRequests()\n        .anyRequest()\n        .authenticated();\n  }\n\n  @Bean\n  @Override\n  public AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n  }\n\n  @Override\n  protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n    auth.authenticationProvider(authenticationProvider);\n    auth.parentAuthenticationManager(global());\n  }\n}\n</code></pre>\n<p>and this is my custom authentication provider:</p>\n<pre><code>@Component\npublic class CustomProvider implements AuthenticationProvider {\n\n  @Override\n  public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n    return BadCredentialsException(&quot;error&quot;);\n  }\n\n  @Override\n  public boolean supports(Class&lt;?&gt; authentication) {\n    return true;\n  }\n}\n</code></pre>\n<p>I read about how we can create a parent for authentication manager and tried to test it. every time I make a request using Postman I get 403 error. what is wrong with my configuration?\n<a href=\"https://i.stack.imgur.com/07U40.png\" rel=\"nofollow noreferrer\">Postman</a></p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1447697724,"post_id":33741934,"comment_id":55252159,"body_markdown":"I take it you&#39;re using Java 8; can you specify the exact versions you are using, both on Mac OS X and Ubuntu?","body":"I take it you&#39;re using Java 8; can you specify the exact versions you are using, both on Mac OS X and Ubuntu?"},{"owner":{"account_id":317896,"reputation":233686,"user_id":634824,"accept_rate":87,"display_name":"Matt Johnson-Pint"},"score":3,"creation_date":1447700726,"post_id":33741934,"comment_id":55253787,"body_markdown":"FYI - In the general case, across all the various platforms and libraries that use them, IANA/Olson time zone IDs should be treated as **case sensitive**.","body":"FYI - In the general case, across all the various platforms and libraries that use them, IANA/Olson time zone IDs should be treated as <b>case sensitive</b>."},{"owner":{"account_id":235156,"reputation":808,"user_id":501785,"accept_rate":50,"display_name":"Ajay Yadav"},"score":0,"creation_date":1447813150,"post_id":33741934,"comment_id":55308913,"body_markdown":"Yes and that is why I am surprised it works on mac. I think the library refers to some OS services and mac&#39;s OS is somehow supporting lower case while ubuntu is not.","body":"Yes and that is why I am surprised it works on mac. I think the library refers to some OS services and mac&#39;s OS is somehow supporting lower case while ubuntu is not."}],"answers":[{"tags":[],"owner":{"account_id":3034610,"reputation":3931,"user_id":2572994,"accept_rate":83,"display_name":"Ivaylo Toskov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635505966,"creation_date":1447698998,"answer_id":33742252,"question_id":33741934,"body_markdown":"My assumption is that your `Ubuntu` machine runs `Java 8`, while your `mac` runs `Java 7`. \r\n\r\nThe code works on your `mac`, because the method in `Java 7` is not case sensitive, while in `Java 8` it **is**. For this reason the timezone on your `Ubuntu` machine is simply not recognized and the method returns the default timezone, which is `GMT`.\r\n\r\nIn order to get the correct timezone on your `Ubuntu`, use the proper name of the timezone, which starts with an uppercase letter:\r\n\r\n    TimeZone pacificTime = TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;);\r\n\r\n","title":"Java timezone ids are case-sensitive or platform dependent","body":"<p>My assumption is that your <code>Ubuntu</code> machine runs <code>Java 8</code>, while your <code>mac</code> runs <code>Java 7</code>.</p>\n<p>The code works on your <code>mac</code>, because the method in <code>Java 7</code> is not case sensitive, while in <code>Java 8</code> it <strong>is</strong>. For this reason the timezone on your <code>Ubuntu</code> machine is simply not recognized and the method returns the default timezone, which is <code>GMT</code>.</p>\n<p>In order to get the correct timezone on your <code>Ubuntu</code>, use the proper name of the timezone, which starts with an uppercase letter:</p>\n<pre><code>TimeZone pacificTime = TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;);\n</code></pre>\n"}],"owner":{"account_id":235156,"reputation":808,"user_id":501785,"accept_rate":50,"display_name":"Ajay Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635505966,"creation_date":1447697645,"question_id":33741934,"body_markdown":"On my mac the following code works correctly and returns a pacific timezone \r\n\r\n    TimeZone pacificTime = TimeZone.getTimeZone(&quot;america/los_angeles&quot;);\r\n\r\nHowever on my ubuntu machine Java is not able to parse it and the variable pacificTime returns the GMT timezone. Can someone explain why this happens?\r\n\r\n","title":"Java timezone ids are case-sensitive or platform dependent","body":"<p>On my mac the following code works correctly and returns a pacific timezone </p>\n\n<pre><code>TimeZone pacificTime = TimeZone.getTimeZone(\"america/los_angeles\");\n</code></pre>\n\n<p>However on my ubuntu machine Java is not able to parse it and the variable pacificTime returns the GMT timezone. Can someone explain why this happens?</p>\n"},{"tags":["java","spring","hibernate","criteria","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635364985,"creation_date":1635364985,"answer_id":69744800,"question_id":69718653,"body_markdown":"use JSONB instead of JSON or cast JSON to JSONB. You cannot compare JSON values. You can compare text values instead. you can solve this problem using type JSONB, which is stored in a decomposed binary format. Values of this type can be compared.\r\n\r\n    SELECT \r\n    &#39;[&quot;dramatic&quot; ,&quot;women&quot;, &quot;political&quot;]&#39;::json::text =  \r\n    &#39;[&quot;dramatic&quot;,&quot;women&quot;,&quot;political&quot;]&#39;::json::text      -- yields false!\r\n\r\n\r\n    SELECT \r\n    &#39;[&quot;dramatic&quot; ,&quot;women&quot;, &quot;political&quot;]&#39;::jsonb =  \r\n    &#39;[&quot;dramatic&quot;,&quot;women&quot;,&quot;political&quot;]&#39;::jsonb           -- yields true\r\n\r\nso your query should work like this to eliminate the error.\r\n\r\n    SELECT * \r\n    FROM movie_test \r\n    WHERE tags::jsonb = &#39;[&quot;dramatic&quot;,&quot;women&quot;,&quot;political&quot;]&#39;::jsonb\r\n\r\n","title":"Criteria Query with filter of non String type - JPA/Hibernate Spring Boot","body":"<p>use JSONB instead of JSON or cast JSON to JSONB. You cannot compare JSON values. You can compare text values instead. you can solve this problem using type JSONB, which is stored in a decomposed binary format. Values of this type can be compared.</p>\n<pre><code>SELECT \n'[&quot;dramatic&quot; ,&quot;women&quot;, &quot;political&quot;]'::json::text =  \n'[&quot;dramatic&quot;,&quot;women&quot;,&quot;political&quot;]'::json::text      -- yields false!\n\n\nSELECT \n'[&quot;dramatic&quot; ,&quot;women&quot;, &quot;political&quot;]'::jsonb =  \n'[&quot;dramatic&quot;,&quot;women&quot;,&quot;political&quot;]'::jsonb           -- yields true\n</code></pre>\n<p>so your query should work like this to eliminate the error.</p>\n<pre><code>SELECT * \nFROM movie_test \nWHERE tags::jsonb = '[&quot;dramatic&quot;,&quot;women&quot;,&quot;political&quot;]'::jsonb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23134322,"reputation":107,"user_id":17238746,"display_name":"Ankit Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635365228,"creation_date":1635365228,"answer_id":69744842,"question_id":69718653,"body_markdown":"The @JoinColumn annotation specifies the name of the column being used as the foreign key on the targeted entity.\r\nThe first field should be id maybe there is this issue so try this or may it was happening because the data field here can have an empty value and empty is not a Double and also empty is not null. \r\n[Here is you can go through][1]\r\n\r\n[Here see for the data field][2]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html/entity.html#entity-mapping-association\r\n  [2]: https://stackoverflow.com/questions/62988840/spring-criteriabuilder-query-jsonarray-data","title":"Criteria Query with filter of non String type - JPA/Hibernate Spring Boot","body":"<p>The @JoinColumn annotation specifies the name of the column being used as the foreign key on the targeted entity.\nThe first field should be id maybe there is this issue so try this or may it was happening because the data field here can have an empty value and empty is not a Double and also empty is not null.\n<a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html/entity.html#entity-mapping-association\" rel=\"nofollow noreferrer\">Here is you can go through</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62988840/spring-criteriabuilder-query-jsonarray-data\">Here see for the data field</a></p>\n"},{"tags":[],"owner":{"account_id":17782334,"reputation":19,"user_id":12913257,"display_name":"RhishHatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635505957,"creation_date":1635503543,"answer_id":69767402,"question_id":69718653,"body_markdown":"Took inspiration from Narasimha&#39;s casting technique, but casted to String instead of jsonb. It casts the json stored in db to String before comparing to our passed JsonNode converted to string.\r\n\r\n```\r\nquery.where(criteriaBuilder.equal(root.get(fieldName).as(String.class), fieldValue.toString()));\r\n```\r\n\r\nFull code looks like this - \r\n```\r\n    public Long getCountForMyEntity(JsonNode filter) {\r\n        CriteriaBuilder criteriaBuilder = sessionFactory.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Long&gt; query = criteriaBuilder.createQuery(Long.class);\r\n        Root&lt;MyEntity&gt; root = query.from(MyEntity.class);\r\n        query.select(criteriaBuilder.count(root));\r\n\r\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; filterFields = filter.fields();\r\n\r\n        while(filterFields.hasNext()) {\r\n            Map.Entry&lt;String, JsonNode&gt; field = filterFields.next();\r\n            String   fieldName  = field.getKey();\r\n            JsonNode fieldValue = field.getValue();\r\n\r\n            System.out.println(fieldValue + &quot; : &quot; + fieldValue.getNodeType());\r\n            if (fieldValue.getNodeType() == JsonNodeType.STRING) {\r\n                query.where(criteriaBuilder.equal(root.get(fieldName), fieldValue.asText()));\r\n            } else {\r\n                query.where(criteriaBuilder.equal(root.get(fieldName).as(String.class), fieldValue.toString()));\r\n            }\r\n        }\r\n\r\n        return sessionFactory.getCurrentSession().createQuery(query).getSingleResult();\r\n    }\r\n```","title":"Criteria Query with filter of non String type - JPA/Hibernate Spring Boot","body":"<p>Took inspiration from Narasimha's casting technique, but casted to String instead of jsonb. It casts the json stored in db to String before comparing to our passed JsonNode converted to string.</p>\n<pre><code>query.where(criteriaBuilder.equal(root.get(fieldName).as(String.class), fieldValue.toString()));\n</code></pre>\n<p>Full code looks like this -</p>\n<pre><code>    public Long getCountForMyEntity(JsonNode filter) {\n        CriteriaBuilder criteriaBuilder = sessionFactory.getCriteriaBuilder();\n        CriteriaQuery&lt;Long&gt; query = criteriaBuilder.createQuery(Long.class);\n        Root&lt;MyEntity&gt; root = query.from(MyEntity.class);\n        query.select(criteriaBuilder.count(root));\n\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; filterFields = filter.fields();\n\n        while(filterFields.hasNext()) {\n            Map.Entry&lt;String, JsonNode&gt; field = filterFields.next();\n            String   fieldName  = field.getKey();\n            JsonNode fieldValue = field.getValue();\n\n            System.out.println(fieldValue + &quot; : &quot; + fieldValue.getNodeType());\n            if (fieldValue.getNodeType() == JsonNodeType.STRING) {\n                query.where(criteriaBuilder.equal(root.get(fieldName), fieldValue.asText()));\n            } else {\n                query.where(criteriaBuilder.equal(root.get(fieldName).as(String.class), fieldValue.toString()));\n            }\n        }\n\n        return sessionFactory.getCurrentSession().createQuery(query).getSingleResult();\n    }\n</code></pre>\n"}],"owner":{"account_id":17782334,"reputation":19,"user_id":12913257,"display_name":"RhishHatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1635505957,"creation_date":1635231394,"question_id":69718653,"body_markdown":"I am trying to fetch the count of rows from table MyEntity using Criteria Query with filter.\r\n\r\nThis filter (function parameter) is a JsonNode with key (of JsonNode filter) as the column in entity and value (of JsonNode filter) can be of type String or JsonNode depending on the filter passed by user.\r\n\r\neg. \r\n\r\nif filter is `{&quot;policy&quot;: {&quot;id&quot;: &quot;123&quot;}}`, then search column `policy` that has value of json type `{&quot;id&quot;: &quot;123&quot;}`,\r\n\r\nif filter is `{&quot;string_column&quot;: &quot;test_string&quot;}`, then search column `string_column` that has value of string type `test_string`.\r\n\r\nThe database used is PostgreSQL.\r\n\r\nThis is my code - \r\n\r\n```\r\n    public Long getCountForMyEntity(JsonNode filter) {\r\n        CriteriaBuilder criteriaBuilder = sessionFactory.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Long&gt; query = criteriaBuilder.createQuery(Long.class);\r\n        Root&lt;MyEntity&gt; root = query.from(MyEntity.class);\r\n        query.select(criteriaBuilder.count(root));\r\n\r\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; filterFields = filter.fields();\r\n\r\n        while(filterFields.hasNext()) {\r\n            Map.Entry&lt;String, JsonNode&gt; field = filterFields.next();\r\n            String   fieldName  = field.getKey();\r\n            JsonNode fieldValue = field.getValue();\r\n            Object value = fieldValue;\r\n\r\n            System.out.println(fieldValue + &quot; : &quot; + fieldValue.getNodeType());\r\n            if (fieldValue.getNodeType() == JsonNodeType.STRING) {\r\n                value = fieldValue.asText();\r\n            }\r\n\r\n            query.where(criteriaBuilder.equal(root.get(fieldName), value));\r\n        }\r\n\r\n        return sessionFactory.getCurrentSession().createQuery(query).getSingleResult();\r\n    }\r\n```\r\n\r\nThis works for fetching count when filter value is string but when filter value is json, I get the following error -\r\n\r\n```\r\n44- [WARN ] 2021-10-26 14:42:35 [http-nio-9090-exec-7] o.h.e.j.s.SqlExceptionHelper [][][][] - SQL Error: 0, SQLState: 42883\r\n45- [ERROR] 2021-10-26 14:42:35 [http-nio-9090-exec-7] o.h.e.j.s.SqlExceptionHelper [][][][] - ERROR: operator does not exist: json = unknown\r\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n  Position: 121\r\n46- [WARN ] 2021-10-26 14:42:35 [http-nio-9090-exec-7] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [][][][] - Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet]\r\n\r\n```\r\n\r\nI have tried directly passing fieldValue like so, but still the same error -\r\n\r\n```\r\nquery.where(criteriaBuilder.equal(root.get(fieldName), fieldValue));\r\n```\r\n\r\nAny idea where I&#39;m going wrong? Is there a good way of filtering json/non-string values?","title":"Criteria Query with filter of non String type - JPA/Hibernate Spring Boot","body":"<p>I am trying to fetch the count of rows from table MyEntity using Criteria Query with filter.</p>\n<p>This filter (function parameter) is a JsonNode with key (of JsonNode filter) as the column in entity and value (of JsonNode filter) can be of type String or JsonNode depending on the filter passed by user.</p>\n<p>eg.</p>\n<p>if filter is <code>{&quot;policy&quot;: {&quot;id&quot;: &quot;123&quot;}}</code>, then search column <code>policy</code> that has value of json type <code>{&quot;id&quot;: &quot;123&quot;}</code>,</p>\n<p>if filter is <code>{&quot;string_column&quot;: &quot;test_string&quot;}</code>, then search column <code>string_column</code> that has value of string type <code>test_string</code>.</p>\n<p>The database used is PostgreSQL.</p>\n<p>This is my code -</p>\n<pre><code>    public Long getCountForMyEntity(JsonNode filter) {\n        CriteriaBuilder criteriaBuilder = sessionFactory.getCriteriaBuilder();\n        CriteriaQuery&lt;Long&gt; query = criteriaBuilder.createQuery(Long.class);\n        Root&lt;MyEntity&gt; root = query.from(MyEntity.class);\n        query.select(criteriaBuilder.count(root));\n\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; filterFields = filter.fields();\n\n        while(filterFields.hasNext()) {\n            Map.Entry&lt;String, JsonNode&gt; field = filterFields.next();\n            String   fieldName  = field.getKey();\n            JsonNode fieldValue = field.getValue();\n            Object value = fieldValue;\n\n            System.out.println(fieldValue + &quot; : &quot; + fieldValue.getNodeType());\n            if (fieldValue.getNodeType() == JsonNodeType.STRING) {\n                value = fieldValue.asText();\n            }\n\n            query.where(criteriaBuilder.equal(root.get(fieldName), value));\n        }\n\n        return sessionFactory.getCurrentSession().createQuery(query).getSingleResult();\n    }\n</code></pre>\n<p>This works for fetching count when filter value is string but when filter value is json, I get the following error -</p>\n<pre><code>44- [WARN ] 2021-10-26 14:42:35 [http-nio-9090-exec-7] o.h.e.j.s.SqlExceptionHelper [][][][] - SQL Error: 0, SQLState: 42883\n45- [ERROR] 2021-10-26 14:42:35 [http-nio-9090-exec-7] o.h.e.j.s.SqlExceptionHelper [][][][] - ERROR: operator does not exist: json = unknown\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n  Position: 121\n46- [WARN ] 2021-10-26 14:42:35 [http-nio-9090-exec-7] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [][][][] - Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet]\n\n</code></pre>\n<p>I have tried directly passing fieldValue like so, but still the same error -</p>\n<pre><code>query.where(criteriaBuilder.equal(root.get(fieldName), fieldValue));\n</code></pre>\n<p>Any idea where I'm going wrong? Is there a good way of filtering json/non-string values?</p>\n"},{"tags":["java","xml","javafx","unmarshalling"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635505414,"creation_date":1435952548,"answer_id":31213320,"question_id":31212400,"body_markdown":"If I understand correctly, the index is just the index of the element in the table&#39;s item list. So you can do\r\n\r\n    TableColumn&lt;FileModel, Void&gt; indexCol = new TableColumn&lt;&gt;(&quot;Index&quot;);\r\n    indexCol.setCellFactory(col -&gt; {\r\n        TableCell&lt;FileModel, Void&gt; cell = new TableCell&lt;&gt;();\r\n        cell.textProperty().bind(Bindings.createStringBinding(() -&gt; {\r\n            if (cell.isEmpty()) {\r\n                return null ;\r\n            } else {\r\n                return Integer.toString(cell.getIndex() + 1);\r\n            }\r\n        }, cell.emptyProperty(), cell.indexProperty()));\r\n        return cell ;\r\n    });\r\n\r\nComplete example (using standard Oracle tutorial example):\r\n\r\n    import java.util.function.Function;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.binding.Bindings;\r\n    import javafx.beans.binding.StringBinding;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.collections.ListChangeListener.Change;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableCell;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class TableViewWithIndexColumn extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            TableView&lt;Person&gt; table = new TableView&lt;&gt;();\r\n            table.setEditable(true);\r\n    \r\n            table.getItems().addAll(\r\n                    new Person(&quot;Jacob&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;),\r\n                    new Person(&quot;Isabella&quot;, &quot;Johnson&quot;,\r\n                            &quot;isabella.johnson@example.com&quot;),\r\n                    new Person(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.williams@example.com&quot;),\r\n                    new Person(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;),\r\n                    new Person(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;));\r\n    \r\n    \r\n    \r\n            TableColumn&lt;Person, String&gt; firstNameCol = createColumn(&quot;First Name&quot;,\r\n                    Person::firstNameProperty, 150);\r\n            TableColumn&lt;Person, String&gt; lastNameCol = createColumn(&quot;Last Name&quot;,\r\n                    Person::lastNameProperty, 150);\r\n            TableColumn&lt;Person, String&gt; emailCol = createColumn(&quot;Email&quot;,\r\n                    Person::emailProperty, 150);\r\n    \r\n            // index column doesn&#39;t even need data...\r\n            TableColumn&lt;Person, Void&gt; indexCol = new TableColumn&lt;&gt;(&quot;Index&quot;);\r\n            indexCol.setPrefWidth(50);\r\n    \r\n            // cell factory to display the index:\r\n            indexCol.setCellFactory(col -&gt; {\r\n                \r\n                // just a default table cell:\r\n                TableCell&lt;Person, Void&gt; cell = new TableCell&lt;&gt;();\r\n                \r\n                cell.textProperty().bind(Bindings.createStringBinding(() -&gt; {\r\n                    if (cell.isEmpty()) {\r\n                        return null ;\r\n                    } else {\r\n                        return Integer.toString(cell.getIndex() + 1);\r\n                    }\r\n                }, cell.emptyProperty(), cell.indexProperty()));\r\n                \r\n                return cell ;\r\n            });\r\n    \r\n            table.getColumns().add(indexCol);\r\n            table.getColumns().add(firstNameCol);\r\n            table.getColumns().add(lastNameCol);\r\n            table.getColumns().add(emailCol);\r\n    \r\n            primaryStage.setScene(new Scene(new BorderPane(table), 600, 400));\r\n            primaryStage.show();\r\n        }\r\n    \r\n        private &lt;S, T&gt; TableColumn&lt;S, T&gt; createColumn(String title,\r\n                Function&lt;S, ObservableValue&lt;T&gt;&gt; property, double width) {\r\n            TableColumn&lt;S, T&gt; col = new TableColumn&lt;&gt;(title);\r\n            col.setCellValueFactory(cellData -&gt; property.apply(cellData.getValue()));\r\n            col.setPrefWidth(width);\r\n            return col;\r\n        }\r\n    \r\n        public static class Person {\r\n            private final StringProperty firstName = new SimpleStringProperty();\r\n            private final StringProperty lastName = new SimpleStringProperty();\r\n            private final StringProperty email = new SimpleStringProperty();\r\n    \r\n            public Person() {\r\n                this(&quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n            }\r\n    \r\n            public Person(String firstName, String lastName, String email) {\r\n                setFirstName(firstName);\r\n                setLastName(lastName);\r\n                setEmail(email);\r\n            }\r\n    \r\n            public final StringProperty firstNameProperty() {\r\n                return this.firstName;\r\n            }\r\n    \r\n            public final java.lang.String getFirstName() {\r\n                return this.firstNameProperty().get();\r\n            }\r\n    \r\n            public final void setFirstName(final java.lang.String firstName) {\r\n                this.firstNameProperty().set(firstName);\r\n            }\r\n    \r\n            public final StringProperty lastNameProperty() {\r\n                return this.lastName;\r\n            }\r\n    \r\n            public final java.lang.String getLastName() {\r\n                return this.lastNameProperty().get();\r\n            }\r\n    \r\n            public final void setLastName(final java.lang.String lastName) {\r\n                this.lastNameProperty().set(lastName);\r\n            }\r\n    \r\n            public final StringProperty emailProperty() {\r\n                return this.email;\r\n            }\r\n    \r\n            public final java.lang.String getEmail() {\r\n                return this.emailProperty().get();\r\n            }\r\n    \r\n            public final void setEmail(final java.lang.String email) {\r\n                this.emailProperty().set(email);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n","title":"Adding index of records in a Javafx Tableview column","body":"<p>If I understand correctly, the index is just the index of the element in the table's item list. So you can do</p>\n<pre><code>TableColumn&lt;FileModel, Void&gt; indexCol = new TableColumn&lt;&gt;(&quot;Index&quot;);\nindexCol.setCellFactory(col -&gt; {\n    TableCell&lt;FileModel, Void&gt; cell = new TableCell&lt;&gt;();\n    cell.textProperty().bind(Bindings.createStringBinding(() -&gt; {\n        if (cell.isEmpty()) {\n            return null ;\n        } else {\n            return Integer.toString(cell.getIndex() + 1);\n        }\n    }, cell.emptyProperty(), cell.indexProperty()));\n    return cell ;\n});\n</code></pre>\n<p>Complete example (using standard Oracle tutorial example):</p>\n<pre><code>import java.util.function.Function;\n\nimport javafx.application.Application;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.binding.StringBinding;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.ListChangeListener.Change;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class TableViewWithIndexColumn extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        TableView&lt;Person&gt; table = new TableView&lt;&gt;();\n        table.setEditable(true);\n\n        table.getItems().addAll(\n                new Person(&quot;Jacob&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;),\n                new Person(&quot;Isabella&quot;, &quot;Johnson&quot;,\n                        &quot;isabella.johnson@example.com&quot;),\n                new Person(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.williams@example.com&quot;),\n                new Person(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;),\n                new Person(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;));\n\n\n\n        TableColumn&lt;Person, String&gt; firstNameCol = createColumn(&quot;First Name&quot;,\n                Person::firstNameProperty, 150);\n        TableColumn&lt;Person, String&gt; lastNameCol = createColumn(&quot;Last Name&quot;,\n                Person::lastNameProperty, 150);\n        TableColumn&lt;Person, String&gt; emailCol = createColumn(&quot;Email&quot;,\n                Person::emailProperty, 150);\n\n        // index column doesn't even need data...\n        TableColumn&lt;Person, Void&gt; indexCol = new TableColumn&lt;&gt;(&quot;Index&quot;);\n        indexCol.setPrefWidth(50);\n\n        // cell factory to display the index:\n        indexCol.setCellFactory(col -&gt; {\n            \n            // just a default table cell:\n            TableCell&lt;Person, Void&gt; cell = new TableCell&lt;&gt;();\n            \n            cell.textProperty().bind(Bindings.createStringBinding(() -&gt; {\n                if (cell.isEmpty()) {\n                    return null ;\n                } else {\n                    return Integer.toString(cell.getIndex() + 1);\n                }\n            }, cell.emptyProperty(), cell.indexProperty()));\n            \n            return cell ;\n        });\n\n        table.getColumns().add(indexCol);\n        table.getColumns().add(firstNameCol);\n        table.getColumns().add(lastNameCol);\n        table.getColumns().add(emailCol);\n\n        primaryStage.setScene(new Scene(new BorderPane(table), 600, 400));\n        primaryStage.show();\n    }\n\n    private &lt;S, T&gt; TableColumn&lt;S, T&gt; createColumn(String title,\n            Function&lt;S, ObservableValue&lt;T&gt;&gt; property, double width) {\n        TableColumn&lt;S, T&gt; col = new TableColumn&lt;&gt;(title);\n        col.setCellValueFactory(cellData -&gt; property.apply(cellData.getValue()));\n        col.setPrefWidth(width);\n        return col;\n    }\n\n    public static class Person {\n        private final StringProperty firstName = new SimpleStringProperty();\n        private final StringProperty lastName = new SimpleStringProperty();\n        private final StringProperty email = new SimpleStringProperty();\n\n        public Person() {\n            this(&quot;&quot;, &quot;&quot;, &quot;&quot;);\n        }\n\n        public Person(String firstName, String lastName, String email) {\n            setFirstName(firstName);\n            setLastName(lastName);\n            setEmail(email);\n        }\n\n        public final StringProperty firstNameProperty() {\n            return this.firstName;\n        }\n\n        public final java.lang.String getFirstName() {\n            return this.firstNameProperty().get();\n        }\n\n        public final void setFirstName(final java.lang.String firstName) {\n            this.firstNameProperty().set(firstName);\n        }\n\n        public final StringProperty lastNameProperty() {\n            return this.lastName;\n        }\n\n        public final java.lang.String getLastName() {\n            return this.lastNameProperty().get();\n        }\n\n        public final void setLastName(final java.lang.String lastName) {\n            this.lastNameProperty().set(lastName);\n        }\n\n        public final StringProperty emailProperty() {\n            return this.email;\n        }\n\n        public final java.lang.String getEmail() {\n            return this.emailProperty().get();\n        }\n\n        public final void setEmail(final java.lang.String email) {\n            this.emailProperty().set(email);\n        }\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4456686,"reputation":125,"user_id":3626720,"accept_rate":50,"display_name":"user3626720"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31213320,"answer_count":1,"score":2,"last_activity_date":1635505414,"creation_date":1435947485,"question_id":31212400,"body_markdown":"I am extracting the data from an xml file using a Wrapper for the my Model Class.\r\n\r\nModel Class:\r\n\r\n    private final StringProperty fileSubject;\r\n    private final StringProperty fileDate;\r\n    private final StringProperty fileRemarks;\r\n\r\n    public void setFileSubject(String fileSubject){\r\n        this.fileSubject.set(fileSubject);\r\n    }\r\n    public String getFileSubject() {\r\n        return fileSubject.get();\r\n    }\r\n    public StringProperty fileSubjectProperty() {\r\n        return fileSubject;\r\n    }\r\n\r\n    public void setFileDate(String fileDate){\r\n        this.fileDate.set(fileDate);\r\n    }\r\n    public String getFileDate() {\r\n        return fileDate.get();\r\n    }\r\n    public StringProperty fileDateProperty() {\r\n        return fileDate;\r\n    }\r\n\r\n    public void setFileRemarks(String fileRemarks){\r\n        this.fileRemarks.set(fileRemarks);\r\n    }\r\n    public String getFileRemarks() {\r\n        return fileRemarks.get();\r\n    }\r\n    public StringProperty fileRemarksProperty(){\r\n        return fileRemarks;\r\n    }\r\n\r\n    /**\r\n    * Default constructor.\r\n    */\r\n    public FileModel(){\r\n        this(null,null, null);\r\n    }\r\n\r\n    /**\r\n    *Constructor with some initial data.\r\n    *\r\n    *@param \r\n    *\r\n    */\r\n\r\n    public FileModel(String fileSubject, String fileDate, String fileRemarks){\r\n        this.fileSubject = new SimpleStringProperty(fileSubject);\r\n        this.fileDate = new SimpleStringProperty(fileDate);\r\n        this.fileRemarks = new SimpleStringProperty(fileRemarks);\r\n    }\r\n\r\n    }\r\nWrapper Class:\r\n\r\n    @XmlRootElement(name = &quot;files&quot;)\r\n    public class FileListWrapper {\r\n\r\n    private List&lt;FileModel&gt; files;\r\n\r\n    @XmlElement(name = &quot;file&quot;)\r\n    public List&lt;FileModel&gt; getFiles() {\r\n        return files;\r\n    }\r\n\r\n    public void setFiles(List&lt;FileModel&gt; files) {\r\n        this.files = files;\r\n    }\r\n\r\n    }\r\n\r\nThat is how I am unmarshalling it:\r\n\r\n     JAXBContext context = JAXBContext\r\n                    .newInstance(FileListWrapper.class);\r\n     Unmarshaller um = context.createUnmarshaller();\r\n     File file = new File(&quot;xxxxxxxxxx/xxx/x/xxxx/x.xml&quot;);\r\n            // Reading XML from the file and unmarshalling.\r\n            FileListWrapper wrapper = (FileListWrapper) um.unmarshal(file);\r\n            fileData.clear();\r\n            fileData.addAll(wrapper.getFiles());\r\n\r\nNow I am adding the extracted data into the tableview as below:\r\n\r\n    @FXML\r\n\tprivate void initialize(){\r\n\t\t//Initialize the file table with the three columns.\r\n\t\t\r\n\t\tindexColumn = new TableColumn&lt;&gt;(&quot;Index&quot;);\r\n\t\tindexColumn.setCellFactory(col -&gt; {\r\n\t\t    TableCell&lt;FileModel, Void&gt; cell = new TableCell&lt;&gt;();\r\n\t\t    cell.textProperty().bind(Bindings.createStringBinding(() -&gt; {\r\n\t\t        if (cell.isEmpty()) {\r\n\t\t            return null ;\r\n\t\t        } else {\r\n\t\t            return Integer.toString(cell.getIndex());\r\n\t\t        }\r\n\t\t    }));\r\n\t\t    return cell ;\r\n\t\t});\r\n\t\t\r\n    fileTable.getColumns().add(0, indexColumn);\r\n\r\n\t\tfileSubjectColumn.setCellValueFactory(cellData -&gt; cellData.getValue().fileSubjectProperty());\r\n\t\tfileDateColumn.setCellValueFactory(cellData -&gt; cellData.getValue().fileDateProperty());\r\n\r\n\t\t fileTable.getSelectionModel().selectedItemProperty().addListener(\r\n               (observable, oldValue, newValue) -&gt; showFileDetails(newValue));\r\n\t\tshowFileDetails(null);\r\n\t\t\r\n    }\r\n\r\n\t/**\r\n\t*Is called by the main application to give a reference back to itself.\r\n\t*\r\n\t*@param mainApp\r\n\t*/\r\n\tpublic void setMainApp(MainAppClass mainApp){\r\n\t\tthis.mainApp = mainApp;\r\n\t\t\r\n\t\tFilteredList&lt;FileModel&gt; filteredData = new FilteredList&lt;&gt;(mainApp.getFileData(), p -&gt; true);\r\n\r\n        // 2. Set the filter Predicate whenever the filter changes.\r\n        filterField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            filteredData.setPredicate(files -&gt; {\r\n                // If filter text is empty, display all files.\r\n                if (newValue == null || newValue.isEmpty()) {\r\n                    return true;\r\n                }\r\n\r\n                // Compare File Subject and Date of every file with filter text.\r\n                String lowerCaseFilter = newValue.toLowerCase();\r\n                if (files.getFileSubject().toLowerCase().indexOf(lowerCaseFilter) != -1) {\r\n                    return true; // Filter matches Subject.\r\n                }\r\n                    else if (files.getFileDate().toLowerCase().indexOf(lowerCaseFilter) != -1) {\r\n                    return true; // Filter matches last name.\r\n                }\r\n                return false; // Does not match.\r\n            });\r\n        });\r\n\r\n        // 3. Wrap the FilteredList in a SortedList. \r\n        SortedList&lt;FileModel&gt; sortedData = new SortedList&lt;&gt;(filteredData);\r\n\r\n        // 4. Bind the SortedList comparator to the TableView comparator.\r\n        sortedData.comparatorProperty().bind(fileTable.comparatorProperty());\r\n\r\n        // 5. Add sorted (and filtered) data to the table.\r\n       \r\n        fileTable.setItems(sortedData);\r\n\t\r\n\t}\r\nNow, the `indexColumn` doesn&#39;t displays any index. Kindly, help me out with it. I have tried multiple things but its not working out.","title":"Adding index of records in a Javafx Tableview column","body":"<p>I am extracting the data from an xml file using a Wrapper for the my Model Class.</p>\n\n<p>Model Class:</p>\n\n<pre><code>private final StringProperty fileSubject;\nprivate final StringProperty fileDate;\nprivate final StringProperty fileRemarks;\n\npublic void setFileSubject(String fileSubject){\n    this.fileSubject.set(fileSubject);\n}\npublic String getFileSubject() {\n    return fileSubject.get();\n}\npublic StringProperty fileSubjectProperty() {\n    return fileSubject;\n}\n\npublic void setFileDate(String fileDate){\n    this.fileDate.set(fileDate);\n}\npublic String getFileDate() {\n    return fileDate.get();\n}\npublic StringProperty fileDateProperty() {\n    return fileDate;\n}\n\npublic void setFileRemarks(String fileRemarks){\n    this.fileRemarks.set(fileRemarks);\n}\npublic String getFileRemarks() {\n    return fileRemarks.get();\n}\npublic StringProperty fileRemarksProperty(){\n    return fileRemarks;\n}\n\n/**\n* Default constructor.\n*/\npublic FileModel(){\n    this(null,null, null);\n}\n\n/**\n*Constructor with some initial data.\n*\n*@param \n*\n*/\n\npublic FileModel(String fileSubject, String fileDate, String fileRemarks){\n    this.fileSubject = new SimpleStringProperty(fileSubject);\n    this.fileDate = new SimpleStringProperty(fileDate);\n    this.fileRemarks = new SimpleStringProperty(fileRemarks);\n}\n\n}\n</code></pre>\n\n<p>Wrapper Class:</p>\n\n<pre><code>@XmlRootElement(name = \"files\")\npublic class FileListWrapper {\n\nprivate List&lt;FileModel&gt; files;\n\n@XmlElement(name = \"file\")\npublic List&lt;FileModel&gt; getFiles() {\n    return files;\n}\n\npublic void setFiles(List&lt;FileModel&gt; files) {\n    this.files = files;\n}\n\n}\n</code></pre>\n\n<p>That is how I am unmarshalling it:</p>\n\n<pre><code> JAXBContext context = JAXBContext\n                .newInstance(FileListWrapper.class);\n Unmarshaller um = context.createUnmarshaller();\n File file = new File(\"xxxxxxxxxx/xxx/x/xxxx/x.xml\");\n        // Reading XML from the file and unmarshalling.\n        FileListWrapper wrapper = (FileListWrapper) um.unmarshal(file);\n        fileData.clear();\n        fileData.addAll(wrapper.getFiles());\n</code></pre>\n\n<p>Now I am adding the extracted data into the tableview as below:</p>\n\n<pre><code>@FXML\nprivate void initialize(){\n    //Initialize the file table with the three columns.\n\n    indexColumn = new TableColumn&lt;&gt;(\"Index\");\n    indexColumn.setCellFactory(col -&gt; {\n        TableCell&lt;FileModel, Void&gt; cell = new TableCell&lt;&gt;();\n        cell.textProperty().bind(Bindings.createStringBinding(() -&gt; {\n            if (cell.isEmpty()) {\n                return null ;\n            } else {\n                return Integer.toString(cell.getIndex());\n            }\n        }));\n        return cell ;\n    });\n\nfileTable.getColumns().add(0, indexColumn);\n\n    fileSubjectColumn.setCellValueFactory(cellData -&gt; cellData.getValue().fileSubjectProperty());\n    fileDateColumn.setCellValueFactory(cellData -&gt; cellData.getValue().fileDateProperty());\n\n     fileTable.getSelectionModel().selectedItemProperty().addListener(\n           (observable, oldValue, newValue) -&gt; showFileDetails(newValue));\n    showFileDetails(null);\n\n}\n\n/**\n*Is called by the main application to give a reference back to itself.\n*\n*@param mainApp\n*/\npublic void setMainApp(MainAppClass mainApp){\n    this.mainApp = mainApp;\n\n    FilteredList&lt;FileModel&gt; filteredData = new FilteredList&lt;&gt;(mainApp.getFileData(), p -&gt; true);\n\n    // 2. Set the filter Predicate whenever the filter changes.\n    filterField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n        filteredData.setPredicate(files -&gt; {\n            // If filter text is empty, display all files.\n            if (newValue == null || newValue.isEmpty()) {\n                return true;\n            }\n\n            // Compare File Subject and Date of every file with filter text.\n            String lowerCaseFilter = newValue.toLowerCase();\n            if (files.getFileSubject().toLowerCase().indexOf(lowerCaseFilter) != -1) {\n                return true; // Filter matches Subject.\n            }\n                else if (files.getFileDate().toLowerCase().indexOf(lowerCaseFilter) != -1) {\n                return true; // Filter matches last name.\n            }\n            return false; // Does not match.\n        });\n    });\n\n    // 3. Wrap the FilteredList in a SortedList. \n    SortedList&lt;FileModel&gt; sortedData = new SortedList&lt;&gt;(filteredData);\n\n    // 4. Bind the SortedList comparator to the TableView comparator.\n    sortedData.comparatorProperty().bind(fileTable.comparatorProperty());\n\n    // 5. Add sorted (and filtered) data to the table.\n\n    fileTable.setItems(sortedData);\n\n}\n</code></pre>\n\n<p>Now, the <code>indexColumn</code> doesn't displays any index. Kindly, help me out with it. I have tried multiple things but its not working out.</p>\n"},{"tags":["java","netbeans","ssl-certificate","glassfish-5"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1635018691,"post_id":69687132,"comment_id":123185043,"body_markdown":"[1] Do you get exactly the same result regardless of the browser  used? [2] Update your question to detail your certificate configuration. [3] Review the many answers to these 2 questions which also relate to your **ValidatorException** and **SunCertPathBuilderException**: [&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;](https://stackoverflow.com/q/21076179/2985643) and [Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target](https://stackoverflow.com/q/6908948/2985643)","body":"[1] Do you get exactly the same result regardless of the browser  used? [2] Update your question to detail your certificate configuration. [3] Review the many answers to these 2 questions which also relate to your <b>ValidatorException</b> and <b>SunCertPathBuilderException</b>: <a href=\"https://stackoverflow.com/q/21076179/2985643\">&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;</a> and <a href=\"https://stackoverflow.com/q/6908948/2985643\">Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</a>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1635019113,"post_id":69687132,"comment_id":123185140,"body_markdown":"Also, there are dozens of questions and hundreds of answers on SO for the two exceptions you are getting. It would be helpful if you could update your question to provide more details on what you have already tried unsuccessfully. That helps others to focus only on the possible causes of your problem.","body":"Also, there are dozens of questions and hundreds of answers on SO for the two exceptions you are getting. It would be helpful if you could update your question to provide more details on what you have already tried unsuccessfully. That helps others to focus only on the possible causes of your problem."},{"owner":{"account_id":6171792,"reputation":23,"user_id":4809883,"display_name":"ICL Sales EXIMON"},"score":0,"creation_date":1635146052,"post_id":69687132,"comment_id":123207508,"body_markdown":"I tried to import cert into trusted root certificates of web browser (I tried on different browsers including edge, chrome and firefox). While importing it does not give any error, it always prompt successfully imported. But it is not. When I tried to import by not selecting trusted root path but default path, then certificate is imported in the Other people tab. When I see into the Windows using certmgr then it shows me in the trusted root certificate. Inspite of that it is not showing in the Browsers trusted root certificate. Certificate is ok, there is no issue with that issued by cPanel.","body":"I tried to import cert into trusted root certificates of web browser (I tried on different browsers including edge, chrome and firefox). While importing it does not give any error, it always prompt successfully imported. But it is not. When I tried to import by not selecting trusted root path but default path, then certificate is imported in the Other people tab. When I see into the Windows using certmgr then it shows me in the trusted root certificate. Inspite of that it is not showing in the Browsers trusted root certificate. Certificate is ok, there is no issue with that issued by cPanel."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1635180817,"post_id":69687132,"comment_id":123221751,"body_markdown":"Don&#39;t post additional information about your question in comments. Instead update the question itself. As it stands your question may be closed due to lack of details.","body":"Don&#39;t post additional information about your question in comments. Instead update the question itself. As it stands your question may be closed due to lack of details."}],"answers":[{"tags":[],"owner":{"account_id":6171792,"reputation":23,"user_id":4809883,"display_name":"ICL Sales EXIMON"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635314913,"creation_date":1635314913,"answer_id":69733586,"question_id":69687132,"body_markdown":"Well! I have have been struggling for last few days. Finally I could resolve the issue. The problem was Glassfish server. I replaced with Tomcat 9 server. But it want not working with that also. Then finally I realized that Tomcat 9 server need to be stop because NetBeans start at it on while executive web based project like jsp / servlet. It worked fine.\r\nThanks ","title":"How to resolve SSLHandshake fail exception error using jsp","body":"<p>Well! I have have been struggling for last few days. Finally I could resolve the issue. The problem was Glassfish server. I replaced with Tomcat 9 server. But it want not working with that also. Then finally I realized that Tomcat 9 server need to be stop because NetBeans start at it on while executive web based project like jsp / servlet. It worked fine.\nThanks</p>\n"}],"owner":{"account_id":6171792,"reputation":23,"user_id":4809883,"display_name":"ICL Sales EXIMON"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69733586,"answer_count":1,"score":1,"last_activity_date":1635505135,"creation_date":1634983886,"question_id":69687132,"body_markdown":"I could successfully connect to my website using **my java class.** \r\n\r\n    URLConnection myURLConnection=null; URL myURL=null; BufferedReader reader=null;\r\n\r\n    String mainUrl=&quot;https://example.com/ServCon/ServConI?&quot;; \r\n    StringBuilder sbPostData= new StringBuilder(mainUrl);        \r\n    sbPostData.append(&quot;page=&quot;).append(mpage);\r\n    mainUrl = sbPostData.toString();\r\n    try {\r\n        //prepare connection\r\n        myURL = new URL(mainUrl);\r\n        myURLConnection = myURL.openConnection();\r\n        myURLConnection.connect();\r\n        \r\n        reader= new BufferedReader(new  \r\n        InputStreamReader(myURLConnection.getInputStream(),&quot;UTF-8&quot;)); \r\n    } catch(Exception e) {   \r\n         System.out.println(e); \r\n    }\r\n\r\nBut the problem is when I am trying to connect from jsp file using same java class then I am getting error:\r\n\r\n    e = (SSLHandshakeException) javax.net.ssl.SSLHandshakeException:     \r\n    sun.security.validator.ValidatorException: PKIX path building failed: \r\n    sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \r\n    certification path to requested target\r\n\r\nI am using Glassfish 5.1.0 jdk 1.8.0_301 and apache Netbeans 12.5\r\n","title":"How to resolve SSLHandshake fail exception error using jsp","body":"<p>I could successfully connect to my website using <strong>my java class.</strong></p>\n<pre><code>URLConnection myURLConnection=null; URL myURL=null; BufferedReader reader=null;\n\nString mainUrl=&quot;https://example.com/ServCon/ServConI?&quot;; \nStringBuilder sbPostData= new StringBuilder(mainUrl);        \nsbPostData.append(&quot;page=&quot;).append(mpage);\nmainUrl = sbPostData.toString();\ntry {\n    //prepare connection\n    myURL = new URL(mainUrl);\n    myURLConnection = myURL.openConnection();\n    myURLConnection.connect();\n    \n    reader= new BufferedReader(new  \n    InputStreamReader(myURLConnection.getInputStream(),&quot;UTF-8&quot;)); \n} catch(Exception e) {   \n     System.out.println(e); \n}\n</code></pre>\n<p>But the problem is when I am trying to connect from jsp file using same java class then I am getting error:</p>\n<pre><code>e = (SSLHandshakeException) javax.net.ssl.SSLHandshakeException:     \nsun.security.validator.ValidatorException: PKIX path building failed: \nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \ncertification path to requested target\n</code></pre>\n<p>I am using Glassfish 5.1.0 jdk 1.8.0_301 and apache Netbeans 12.5</p>\n"},{"tags":["java","javafx","tableview","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1598442709,"post_id":63596975,"comment_id":112459288,"body_markdown":"`E:\\test.jpg` is not a valid relative (or absolute) URL. If you want to hard-code an absolute file URL for testing purposes, use (I think) `url = “file://E:/test.jpg”`.","body":"<code>E:\\test.jpg</code> is not a valid relative (or absolute) URL. If you want to hard-code an absolute file URL for testing purposes, use (I think) <code>url = “file:&#47;&#47;E:&#47;test.jpg”</code>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1598443727,"post_id":63596975,"comment_id":112459815,"body_markdown":"java naming conventions please","body":"java naming conventions please"},{"owner":{"account_id":19377792,"reputation":13,"user_id":14169728,"display_name":"JimmyQP"},"score":0,"creation_date":1598443948,"post_id":63596975,"comment_id":112459919,"body_markdown":"@James_D thank you, I&#39;ve tried your suggestion and it doesn&#39;t give me the error, but the load time takes longer and somehow the image is still not displayed","body":"@James_D thank you, I&#39;ve tried your suggestion and it doesn&#39;t give me the error, but the load time takes longer and somehow the image is still not displayed"},{"owner":{"account_id":19377792,"reputation":13,"user_id":14169728,"display_name":"JimmyQP"},"score":0,"creation_date":1598444043,"post_id":63596975,"comment_id":112459967,"body_markdown":"@kleopatra Hello, I&#39;m learning by myself and have very little clue of where to go, I don&#39;t know java naming conventions yet, I will look into that now. Thank you for comment.","body":"@kleopatra Hello, I&#39;m learning by myself and have very little clue of where to go, I don&#39;t know java naming conventions yet, I will look into that now. Thank you for comment."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1598446291,"post_id":63596975,"comment_id":112461204,"body_markdown":"Sorry; long while since I used windows (about 10 minutes after &quot;upgrading&quot; to Vista, I bought a Mac...). You need three `/` after `file:` (two delimiting the protocol `file:` from the hostname, which can be empty, and one delimiting the (empty) hostname from the file path). I.e. `url = &quot;file:///E:/test.jpg&quot;`. See https://en.wikipedia.org/wiki/File_URI_scheme. Of course, it&#39;s almost easier to just include the image in the application as you would do in production. See https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other","body":"Sorry; long while since I used windows (about 10 minutes after &quot;upgrading&quot; to Vista, I bought a Mac...). You need three <code>&#47;</code> after <code>file:</code> (two delimiting the protocol <code>file:</code> from the hostname, which can be empty, and one delimiting the (empty) hostname from the file path). I.e. <code>url = &quot;file:&#47;&#47;&#47;E:&#47;test.jpg&quot;</code>. See <a href=\"https://en.wikipedia.org/wiki/File_URI_scheme\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/File_URI_scheme</a>. Of course, it&#39;s almost easier to just include the image in the application as you would do in production. See <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\" title=\"how do i determine the correct path for fxml files css files images and other\">stackoverflow.com/questions/61531317/&hellip;</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1598446427,"post_id":63596975,"comment_id":112461276,"body_markdown":"In code, of course, you can do `new Image(new File(...).toURI().toString())`.","body":"In code, of course, you can do <code>new Image(new File(...).toURI().toString())</code>."},{"owner":{"account_id":19377792,"reputation":13,"user_id":14169728,"display_name":"JimmyQP"},"score":0,"creation_date":1598447671,"post_id":63596975,"comment_id":112461943,"body_markdown":"@James_D Thank you so much! It&#39;s working now thanks to your help! I changed ```image.setImage(new Image(CList.get(0).getPicture()));``` into ```image.setImage(new Image(&quot;file:///&quot;+CList.get(0).getPicture()));```","body":"@James_D Thank you so much! It&#39;s working now thanks to your help! I changed <code>image.setImage(new Image(CList.get(0).getPicture()));</code> into <code>image.setImage(new Image(&quot;file:&#47;&#47;&#47;&quot;+CList.get(0).getPicture()));</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1598447819,"post_id":63596975,"comment_id":112462046,"body_markdown":"Well, that won&#39;t work in general, because not every file path is a valid URL (e.g. if the file name has spaces in it). Do it the way I suggested in the previous comment.","body":"Well, that won&#39;t work in general, because not every file path is a valid URL (e.g. if the file name has spaces in it). Do it the way I suggested in the previous comment."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1598448034,"creation_date":1598448034,"answer_id":63598605,"question_id":63596975,"body_markdown":"If you are intending to set the image based on a file in the file system (e.g. one chosen by the user), you need to create a URL representing the file. \r\n\r\nYou should not try to construct this yourself, but should use the `File.toURI()` method, which handles creating the protocol and resolving file paths that are not valid URLs (e.g. file names containing illegal URL characters, such as whitespace) correctly.\r\n\r\nSo you should do\r\n\r\n    File file = new File(CList.get(0).getPicture());\r\n    image.setImage(new Image(file.toURI().toString()));","title":"JavaFX: FXML opening image malformed URL exception protocol: e","body":"<p>If you are intending to set the image based on a file in the file system (e.g. one chosen by the user), you need to create a URL representing the file.</p>\n<p>You should not try to construct this yourself, but should use the <code>File.toURI()</code> method, which handles creating the protocol and resolving file paths that are not valid URLs (e.g. file names containing illegal URL characters, such as whitespace) correctly.</p>\n<p>So you should do</p>\n<pre><code>File file = new File(CList.get(0).getPicture());\nimage.setImage(new Image(file.toURI().toString()));\n</code></pre>\n"}],"owner":{"account_id":19377792,"reputation":13,"user_id":14169728,"display_name":"JimmyQP"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":63598605,"answer_count":1,"score":0,"last_activity_date":1635505009,"creation_date":1598442425,"question_id":63596975,"body_markdown":"I&#39;m trying to learn JavaFX and making a user list that can display user image from a user tableview. Here&#39;s the code that I have:\r\n\r\n```\r\n@FXML private ImageView image;\r\n@FXML\r\n     public void buttonSHow(ActionEvent actionEvent) throws MalformedURLException, FileNotFoundException {\r\n      \r\n\r\n        CList  =TAbleview.getSelectionModel().getSelectedItems();\r\n        System.out.println(CList.get(0).getPicture());\r\n        //URL url = new URL(CList.get(0).getPicture());\r\n        //FileInputStream input = new FileInputStream (CList.get(0).getPicture());\r\n        image.setImage(new Image(CList.get(0).getPicture()));\r\n        \r\n    }\r\n```\r\nWhat I&#39;m trying to do with this code is setting up the `ImageView` image with an `Image` using the absolute path stored in the user list. The `fxml` has this:\r\n```\r\n&lt;ImageView fx:id = &quot;image&quot;/&gt;\r\n```\r\nWhen I tried to run it, it gives me the error with `MalformedURLException: unknown protocol e`. I tried to just punch in the url manually into the `fxml` to see if it loads manually,\r\n\r\n```\r\n&lt;ImageView&gt;\r\n&lt;image&gt;\r\n&lt;Image url = &quot;@E:\\test.jpg&quot;/&gt;\r\n&lt;/image&gt;\r\n&lt;/ImageView&gt;\r\n```\r\nbut it still gives me the same error.","title":"JavaFX: FXML opening image malformed URL exception protocol: e","body":"<p>I'm trying to learn JavaFX and making a user list that can display user image from a user tableview. Here's the code that I have:</p>\n<pre><code>@FXML private ImageView image;\n@FXML\n     public void buttonSHow(ActionEvent actionEvent) throws MalformedURLException, FileNotFoundException {\n      \n\n        CList  =TAbleview.getSelectionModel().getSelectedItems();\n        System.out.println(CList.get(0).getPicture());\n        //URL url = new URL(CList.get(0).getPicture());\n        //FileInputStream input = new FileInputStream (CList.get(0).getPicture());\n        image.setImage(new Image(CList.get(0).getPicture()));\n        \n    }\n</code></pre>\n<p>What I'm trying to do with this code is setting up the <code>ImageView</code> image with an <code>Image</code> using the absolute path stored in the user list. The <code>fxml</code> has this:</p>\n<pre><code>&lt;ImageView fx:id = &quot;image&quot;/&gt;\n</code></pre>\n<p>When I tried to run it, it gives me the error with <code>MalformedURLException: unknown protocol e</code>. I tried to just punch in the url manually into the <code>fxml</code> to see if it loads manually,</p>\n<pre><code>&lt;ImageView&gt;\n&lt;image&gt;\n&lt;Image url = &quot;@E:\\test.jpg&quot;/&gt;\n&lt;/image&gt;\n&lt;/ImageView&gt;\n</code></pre>\n<p>but it still gives me the same error.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":20677520,"reputation":81,"user_id":15181791,"display_name":"tniessen"},"score":0,"creation_date":1635497677,"post_id":69765828,"comment_id":123319646,"body_markdown":"Your problem is not exactly clear to me. As long as you only want to translate strings like &#39;t1n1b2p2t1m1b2a2&#39; into &#39;Tesla Nissan BMW+ | Porsche+ ...&#39; methods of the String class should do.","body":"Your problem is not exactly clear to me. As long as you only want to translate strings like &#39;t1n1b2p2t1m1b2a2&#39; into &#39;Tesla Nissan BMW+ | Porsche+ ...&#39; methods of the String class should do."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635504673,"creation_date":1635504673,"answer_id":69767636,"question_id":69765828,"body_markdown":"First the code. Explanations after the code.\r\n```java\r\nimport java.util.Map;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Garages {\r\n    private static final Map&lt;Character, String&gt; CAR_MAKES = Map.of(&#39;a&#39;, &quot;Audi&quot;,\r\n                                                                   &#39;b&#39;, &quot;BMW&quot;,\r\n                                                                   &#39;c&#39;, &quot;Cadillac&quot;,\r\n                                                                   &#39;j&#39;, &quot;Jaguar&quot;,\r\n                                                                   &#39;m&#39;, &quot;Maserati&quot;,\r\n                                                                   &#39;n&#39;, &quot;Nissan&quot;,\r\n                                                                   &#39;p&#39;, &quot;Porsche&quot;,\r\n                                                                   &#39;t&#39;, &quot;Tesla&quot;,\r\n                                                                   &#39;v&#39;, &quot;Volvo&quot;);\r\n    private static final Pattern REGEX = Pattern.compile(&quot;\\\\d+$&quot;);\r\n\r\n    private static String handleLine(String line, int limit) {\r\n        StringBuilder result = new StringBuilder();\r\n        int total = 0;\r\n        char[] letters = line.toCharArray();\r\n        for (int j = 0; j &lt; letters.length; j++) {\r\n            if (j % 2 == 0) {\r\n                // should be a letter\r\n                String make = CAR_MAKES.get(letters[j]);\r\n                result.append(make);\r\n            }\r\n            else {\r\n                // should be a number\r\n                int amount = letters[j] - &#39;0&#39;;\r\n                for (int k = 1; k &lt; amount; k++) {\r\n                    result.append(&#39;+&#39;);\r\n                }\r\n                result.append(&#39; &#39;);\r\n                total += amount;\r\n                if (total &gt;= limit) {\r\n                    result.append(&quot;| &quot;);\r\n                    total = 0;\r\n                }\r\n            }\r\n        }\r\n        return result.toString();\r\n    }\r\n\r\n    private static String handleLines(String[] lines) {\r\n        StringBuilder result = new StringBuilder();\r\n        result.append(lines[0]);\r\n        result.append(System.lineSeparator());\r\n        Matcher matcher = REGEX.matcher(lines[0]);\r\n        int limit = 0;\r\n        boolean hasLimit = matcher.find();\r\n        if (hasLimit) {\r\n            limit = Integer.parseInt(matcher.group());\r\n        }\r\n        for (int i = 1; i &lt; lines.length; i++) {\r\n            if (hasLimit) {\r\n                result.append(handleLine(lines[i], limit));\r\n            }\r\n            else {\r\n                if (i % 2 == 1) {\r\n                    // amount line\r\n                    limit = Integer.parseInt(lines[i].substring(1));\r\n                    result.append(&quot;#Number of cars = &quot; + limit);\r\n                }\r\n                else {\r\n                    result.append(handleLine(lines[i], limit));\r\n                }\r\n            }\r\n            result.append(System.lineSeparator());\r\n        }\r\n        return result.toString();\r\n    }\r\n\r\n    private static String handleInput(String input) {\r\n        return handleLines(input.split(&quot;\\n&quot;));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String first = &quot;&quot;&quot;\r\n#The number of cars that you can put in garage  = 4\r\nt1n1b2p2t1m1b2a2\r\nv1j1t1c1b3t1b1a1m1j1b4\r\n                &quot;&quot;&quot;;\r\n        System.out.println(handleInput(first));\r\n        String second = &quot;&quot;&quot;\r\n#The number of cars that you can put in garage is different\r\n^3\r\nt1b1t1b3\r\n^2\r\nm2a1t1\r\n^4\r\na4v2p2\r\n                &quot;&quot;&quot;;\r\n        System.out.println(&quot;====================================================================&quot;);\r\n        System.out.println(handleInput(second));\r\n    }\r\n}\r\n```\r\n* The above code is based solely on the data in your question and does not check for invalid data.\r\n* The code uses [text blocks][1] that were first added in JDK 13. (Refer to variables `first` and `second` in method `main` in above code.) In text blocks the line separator is `\\n`.\r\n* Static method `of` was added to [Map][2] interface in JDK 9. I populated the map according to the data in your question.\r\n* The `Map` key type must be a class (and not a primitive). Hence the key type is `java.lang.Character` (and not `char`). [Autoboxing][3] automatically converts the `char` literal to a `Character` object.\r\n* The first line of the input determines how the rest of the input should be parsed and handled. I use a [regular expression][4] for this. I check to see whether the first line of the input ends in a number.\r\n* After the first line, I assume that each subsequent line of the input is either `^` character followed by a number or a line where every odd character (i.e. first, third, fifth, etc) is a letter and every even character is a digit. Hence the code will probably throw an exception &amp;ndash; or give incorrect results &amp;ndash; if the input does not follow this pattern.\r\n\r\nHopefully, the rest of the code is clear and self-explanatory.\r\n\r\nThis is the result I get when I run the above code.\r\n```none\r\n#The number of cars that you can put in garage  = 4\r\nTesla Nissan BMW+ | Porsche+ Tesla Maserati | BMW+ Audi+ | \r\nVolvo Jaguar Tesla Cadillac | BMW++ Tesla | BMW Audi Maserati Jaguar | BMW+++ | \r\n\r\n====================================================================\r\n#The number of cars that you can put in garage is different\r\n#Number of cars = 3\r\nTesla BMW Tesla | BMW++ | \r\n#Number of cars = 2\r\nMaserati+ | Audi Tesla | \r\n#Number of cars = 4\r\nAudi+++ | Volvo+ Porsche+ | \r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/text_blocks/index.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/regex/","title":"How to read the information form a long text using Java","body":"<p>First the code. Explanations after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Garages {\n    private static final Map&lt;Character, String&gt; CAR_MAKES = Map.of('a', &quot;Audi&quot;,\n                                                                   'b', &quot;BMW&quot;,\n                                                                   'c', &quot;Cadillac&quot;,\n                                                                   'j', &quot;Jaguar&quot;,\n                                                                   'm', &quot;Maserati&quot;,\n                                                                   'n', &quot;Nissan&quot;,\n                                                                   'p', &quot;Porsche&quot;,\n                                                                   't', &quot;Tesla&quot;,\n                                                                   'v', &quot;Volvo&quot;);\n    private static final Pattern REGEX = Pattern.compile(&quot;\\\\d+$&quot;);\n\n    private static String handleLine(String line, int limit) {\n        StringBuilder result = new StringBuilder();\n        int total = 0;\n        char[] letters = line.toCharArray();\n        for (int j = 0; j &lt; letters.length; j++) {\n            if (j % 2 == 0) {\n                // should be a letter\n                String make = CAR_MAKES.get(letters[j]);\n                result.append(make);\n            }\n            else {\n                // should be a number\n                int amount = letters[j] - '0';\n                for (int k = 1; k &lt; amount; k++) {\n                    result.append('+');\n                }\n                result.append(' ');\n                total += amount;\n                if (total &gt;= limit) {\n                    result.append(&quot;| &quot;);\n                    total = 0;\n                }\n            }\n        }\n        return result.toString();\n    }\n\n    private static String handleLines(String[] lines) {\n        StringBuilder result = new StringBuilder();\n        result.append(lines[0]);\n        result.append(System.lineSeparator());\n        Matcher matcher = REGEX.matcher(lines[0]);\n        int limit = 0;\n        boolean hasLimit = matcher.find();\n        if (hasLimit) {\n            limit = Integer.parseInt(matcher.group());\n        }\n        for (int i = 1; i &lt; lines.length; i++) {\n            if (hasLimit) {\n                result.append(handleLine(lines[i], limit));\n            }\n            else {\n                if (i % 2 == 1) {\n                    // amount line\n                    limit = Integer.parseInt(lines[i].substring(1));\n                    result.append(&quot;#Number of cars = &quot; + limit);\n                }\n                else {\n                    result.append(handleLine(lines[i], limit));\n                }\n            }\n            result.append(System.lineSeparator());\n        }\n        return result.toString();\n    }\n\n    private static String handleInput(String input) {\n        return handleLines(input.split(&quot;\\n&quot;));\n    }\n\n    public static void main(String[] args) {\n        String first = &quot;&quot;&quot;\n#The number of cars that you can put in garage  = 4\nt1n1b2p2t1m1b2a2\nv1j1t1c1b3t1b1a1m1j1b4\n                &quot;&quot;&quot;;\n        System.out.println(handleInput(first));\n        String second = &quot;&quot;&quot;\n#The number of cars that you can put in garage is different\n^3\nt1b1t1b3\n^2\nm2a1t1\n^4\na4v2p2\n                &quot;&quot;&quot;;\n        System.out.println(&quot;====================================================================&quot;);\n        System.out.println(handleInput(second));\n    }\n}\n</code></pre>\n<ul>\n<li>The above code is based solely on the data in your question and does not check for invalid data.</li>\n<li>The code uses <a href=\"https://docs.oracle.com/en/java/javase/13/text_blocks/index.html\" rel=\"nofollow noreferrer\">text blocks</a> that were first added in JDK 13. (Refer to variables <code>first</code> and <code>second</code> in method <code>main</code> in above code.) In text blocks the line separator is <code>\\n</code>.</li>\n<li>Static method <code>of</code> was added to <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> interface in JDK 9. I populated the map according to the data in your question.</li>\n<li>The <code>Map</code> key type must be a class (and not a primitive). Hence the key type is <code>java.lang.Character</code> (and not <code>char</code>). <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">Autoboxing</a> automatically converts the <code>char</code> literal to a <code>Character</code> object.</li>\n<li>The first line of the input determines how the rest of the input should be parsed and handled. I use a <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regular expression</a> for this. I check to see whether the first line of the input ends in a number.</li>\n<li>After the first line, I assume that each subsequent line of the input is either <code>^</code> character followed by a number or a line where every odd character (i.e. first, third, fifth, etc) is a letter and every even character is a digit. Hence the code will probably throw an exception – or give incorrect results – if the input does not follow this pattern.</li>\n</ul>\n<p>Hopefully, the rest of the code is clear and self-explanatory.</p>\n<p>This is the result I get when I run the above code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>#The number of cars that you can put in garage  = 4\nTesla Nissan BMW+ | Porsche+ Tesla Maserati | BMW+ Audi+ | \nVolvo Jaguar Tesla Cadillac | BMW++ Tesla | BMW Audi Maserati Jaguar | BMW+++ | \n\n====================================================================\n#The number of cars that you can put in garage is different\n#Number of cars = 3\nTesla BMW Tesla | BMW++ | \n#Number of cars = 2\nMaserati+ | Audi Tesla | \n#Number of cars = 4\nAudi+++ | Volvo+ Porsche+ | \n</code></pre>\n"}],"owner":{"account_id":22872835,"reputation":13,"user_id":17015610,"display_name":"kelvin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69767636,"answer_count":1,"score":-1,"last_activity_date":1635504673,"creation_date":1635496264,"question_id":69765828,"body_markdown":"I have to translate a given text to another format.\r\n\r\nFor example, it is the given text:\r\n\r\n    #The number of cars that you can put in garage  = 4 \r\n    t1n1b2p2t1m1b2a2 \r\n    v1j1t1c1b3t1b1a1m1j1b4\r\n\r\nI have to change it to:\r\n\r\n    #The number of cars that you can put in garage = 4 \r\n    Tesla Nissan BMW+ | Porsche+ Tesla Maserati | BMW+ Audi+ | \r\n    Volvo Jaguar Tesla Cadillac | BMW++ Tesla | BMW Audi Maserati Jaguar  | BMW+++ |\r\n\r\nBut there is an other situation:\r\n\r\n    #The number of cars that you can put in garage is different\r\n    ^3\r\n    t1b1t1b3\r\n    ^2\r\n    m2a1t1\r\n    ^4\r\n    a4v2p2\r\n\r\nI have to change it to:\r\n\r\n    #The number of cars that you can put in garage is different\r\n    #Number of cars = 3\r\n    Tesla BMW Tesla | BMW++ | \r\n    #Number of cars = 2\r\n    Maserati+ | Audi Tesla | \r\n    #Number of cars = 4\r\n    Audi+++ | Volvo+ Porsche+ | \r\n\r\n","title":"How to read the information form a long text using Java","body":"<p>I have to translate a given text to another format.</p>\n<p>For example, it is the given text:</p>\n<pre><code>#The number of cars that you can put in garage  = 4 \nt1n1b2p2t1m1b2a2 \nv1j1t1c1b3t1b1a1m1j1b4\n</code></pre>\n<p>I have to change it to:</p>\n<pre><code>#The number of cars that you can put in garage = 4 \nTesla Nissan BMW+ | Porsche+ Tesla Maserati | BMW+ Audi+ | \nVolvo Jaguar Tesla Cadillac | BMW++ Tesla | BMW Audi Maserati Jaguar  | BMW+++ |\n</code></pre>\n<p>But there is an other situation:</p>\n<pre><code>#The number of cars that you can put in garage is different\n^3\nt1b1t1b3\n^2\nm2a1t1\n^4\na4v2p2\n</code></pre>\n<p>I have to change it to:</p>\n<pre><code>#The number of cars that you can put in garage is different\n#Number of cars = 3\nTesla BMW Tesla | BMW++ | \n#Number of cars = 2\nMaserati+ | Audi Tesla | \n#Number of cars = 4\nAudi+++ | Volvo+ Porsche+ | \n</code></pre>\n"},{"tags":["java","json","serialization","json-deserialization","jackson-databind"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1635452901,"post_id":69759567,"comment_id":123309833,"body_markdown":"Explain why it does not work. Any exception?","body":"Explain why it does not work. Any exception?"}],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635504526,"creation_date":1635503823,"answer_id":69767462,"question_id":69759567,"body_markdown":"Hi again from last post,\r\n\r\nSo, this is an example of what you can do :\r\n\r\nNote that since I don&#39;t know what is your object `Mypair`, I did this example with a `User` class :\r\n\r\n```java\r\npublic class User {\r\n\tprivate int id;\r\n\tprivate String name;\r\n\r\n\tpublic User(int id, String name) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n    // getters &amp; setters\r\n}\r\n```\r\n\r\nThe class containing your complex object :\r\n\r\n```java\r\npublic class YourClass {\r\n\r\n\t@JsonSerialize(using = ComplexObjectSerializer.class)\r\n\tprivate Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; object;\r\n\r\n\tpublic YourClass(Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; object) {\r\n\t\tthis.object = object;\r\n\t}\r\n\r\n\tpublic Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; getObject() {\r\n\t\treturn object;\r\n\t}\r\n\r\n\tpublic void setObject(Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; object) {\r\n\t\tthis.object = object;\r\n\t}\r\n}\r\n```\r\n\r\nThe custom serializer :\r\n\r\n```java\r\npublic class ComplexObjectSerializer extends StdSerializer&lt;Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt;&gt; {\r\n\r\n\tpublic ComplexObjectSerializer() {\r\n\t\tthis(null);\r\n\t}\r\n\r\n\tpublic ComplexObjectSerializer(Class&lt;Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt;&gt; t) {\r\n\t\tsuper(t);\r\n\t}\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Override\r\n\tpublic void serialize(Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; complexObject,\r\n\t\t\tJsonGenerator jsonGen, SerializerProvider arg2) throws IOException {\r\n\r\n\t\t// Suppose you want the following json:\r\n\t\t/**\r\n\t\t * [ { &quot;set&quot;:[], &quot;list&quot;:[] } ]\r\n\t\t */\r\n\r\n\t\tjsonGen.writeStartArray(); // [\r\n\r\n\t\tfor (Entry&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; entry : complexObject.entrySet()) {\r\n\t\t\tjsonGen.writeStartObject(); // {\r\n\t\t\tjsonGen.writeObjectField(&quot;set&quot;, entry.getKey()); // It will call the default serializer for a Set&lt;User&gt;, ie : [ {&quot;id&quot;: 0, &quot;name&quot;:&quot;string&quot;} ]\r\n\r\n\t\t\tjsonGen.writeObjectField(&quot;list&quot;, entry.getValue()); // It will call the default serializer for a List&lt;User&gt;, ie the same thing as the Set above\r\n\t\t\tjsonGen.writeEndObject(); // }\r\n\t\t}\r\n\t\tjsonGen.writeEndArray(); // ]\r\n\t}\r\n}\r\n```\r\n\r\nMain :\r\n\r\n```java\r\n        Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; complexObject = new HashMap&lt;Set&lt;User&gt;, List&lt;User&gt;&gt;();\r\n\r\n\t\t// Add some data in the map ...\r\n\r\n\t\tYourClass yourClass = new YourClass(complexObject);\r\n\r\n\t\t// Serialize your object\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tString json = mapper.writeValueAsString(yourClass); // It will call your custom serializer\r\n\t\tSystem.out.println(json);\r\n```\r\n\r\nOutput :\r\n\r\n```json\r\n{\r\n  &quot;object&quot;: [\r\n    {\r\n      &quot;set&quot;: [\r\n        {\r\n          &quot;id&quot;: 5,\r\n          &quot;name&quot;: &quot;userName5&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 6,\r\n          &quot;name&quot;: &quot;userName6&quot;\r\n        }\r\n      ],\r\n      &quot;list&quot;: [\r\n        {\r\n          &quot;id&quot;: 2,\r\n          &quot;name&quot;: &quot;userName2&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;set&quot;: [\r\n        {\r\n          &quot;id&quot;: 4,\r\n          &quot;name&quot;: &quot;userName4&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 3,\r\n          &quot;name&quot;: &quot;userName3&quot;\r\n        }\r\n      ],\r\n      &quot;list&quot;: [\r\n        {\r\n          &quot;id&quot;: 0,\r\n          &quot;name&quot;: &quot;userName0&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 1,\r\n          &quot;name&quot;: &quot;userName1&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n","title":"Serialize, deserialize using jackson","body":"<p>Hi again from last post,</p>\n<p>So, this is an example of what you can do :</p>\n<p>Note that since I don't know what is your object <code>Mypair</code>, I did this example with a <code>User</code> class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    private int id;\n    private String name;\n\n    public User(int id, String name) {\n        super();\n        this.id = id;\n        this.name = name;\n    }\n\n    // getters &amp; setters\n}\n</code></pre>\n<p>The class containing your complex object :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourClass {\n\n    @JsonSerialize(using = ComplexObjectSerializer.class)\n    private Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; object;\n\n    public YourClass(Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; object) {\n        this.object = object;\n    }\n\n    public Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; getObject() {\n        return object;\n    }\n\n    public void setObject(Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; object) {\n        this.object = object;\n    }\n}\n</code></pre>\n<p>The custom serializer :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComplexObjectSerializer extends StdSerializer&lt;Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt;&gt; {\n\n    public ComplexObjectSerializer() {\n        this(null);\n    }\n\n    public ComplexObjectSerializer(Class&lt;Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt;&gt; t) {\n        super(t);\n    }\n\n    private static final long serialVersionUID = 1L;\n\n    @Override\n    public void serialize(Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; complexObject,\n            JsonGenerator jsonGen, SerializerProvider arg2) throws IOException {\n\n        // Suppose you want the following json:\n        /**\n         * [ { &quot;set&quot;:[], &quot;list&quot;:[] } ]\n         */\n\n        jsonGen.writeStartArray(); // [\n\n        for (Entry&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; entry : complexObject.entrySet()) {\n            jsonGen.writeStartObject(); // {\n            jsonGen.writeObjectField(&quot;set&quot;, entry.getKey()); // It will call the default serializer for a Set&lt;User&gt;, ie : [ {&quot;id&quot;: 0, &quot;name&quot;:&quot;string&quot;} ]\n\n            jsonGen.writeObjectField(&quot;list&quot;, entry.getValue()); // It will call the default serializer for a List&lt;User&gt;, ie the same thing as the Set above\n            jsonGen.writeEndObject(); // }\n        }\n        jsonGen.writeEndArray(); // ]\n    }\n}\n</code></pre>\n<p>Main :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Map&lt;Set&lt;User&gt;, List&lt;User&gt;&gt; complexObject = new HashMap&lt;Set&lt;User&gt;, List&lt;User&gt;&gt;();\n\n        // Add some data in the map ...\n\n        YourClass yourClass = new YourClass(complexObject);\n\n        // Serialize your object\n        ObjectMapper mapper = new ObjectMapper();\n        String json = mapper.writeValueAsString(yourClass); // It will call your custom serializer\n        System.out.println(json);\n</code></pre>\n<p>Output :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;object&quot;: [\n    {\n      &quot;set&quot;: [\n        {\n          &quot;id&quot;: 5,\n          &quot;name&quot;: &quot;userName5&quot;\n        },\n        {\n          &quot;id&quot;: 6,\n          &quot;name&quot;: &quot;userName6&quot;\n        }\n      ],\n      &quot;list&quot;: [\n        {\n          &quot;id&quot;: 2,\n          &quot;name&quot;: &quot;userName2&quot;\n        }\n      ]\n    },\n    {\n      &quot;set&quot;: [\n        {\n          &quot;id&quot;: 4,\n          &quot;name&quot;: &quot;userName4&quot;\n        },\n        {\n          &quot;id&quot;: 3,\n          &quot;name&quot;: &quot;userName3&quot;\n        }\n      ],\n      &quot;list&quot;: [\n        {\n          &quot;id&quot;: 0,\n          &quot;name&quot;: &quot;userName0&quot;\n        },\n        {\n          &quot;id&quot;: 1,\n          &quot;name&quot;: &quot;userName1&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":18068708,"reputation":15,"user_id":13133853,"display_name":"Bhavya Nag"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69767462,"answer_count":1,"score":0,"last_activity_date":1635504526,"creation_date":1635447788,"question_id":69759567,"body_markdown":"I was trying convert to my object to and from json but the default serializer, deserializer by jackson doesn&#39;t work. \r\n\r\nHow can I make this work? I understand I might need to write a custom serializer, deserializer. How can I do that?\r\nIs ther some annotation by adding which the code would work?\r\n\r\nHere is the object:\r\n\r\n```\r\n@JsonDeserialize(keyUsing = mypairDeserializer.class)\r\n@JsonSerialize(keyUsing = mypairSerializer.class)\r\nHashMap&lt;Set &lt; Mypair &gt; , List &lt; Mypair &gt; &gt; obj;\r\n\r\n\r\npublic class ConditionSerializer extends JsonSerializer&lt;Collection&lt;mypair&gt;&gt; {\r\n\r\n    @Override\r\n    public void serialize(final Collection&lt;mypair&gt; conditionSet, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\r\n        jsonGenerator.writeStartObject();\r\n        jsonGenerator.writeFieldName(&quot;Pair&quot;);\r\n        jsonGenerator.writeStartArray();\r\n        for(final Condition condition: conditionSet) {\r\n            jsonGenerator.writeString(mypair.toString());\r\n        }\r\n        jsonGenerator.writeEndArray();\r\n        jsonGenerator.writeEndObject();\r\n    }\r\n}\r\n\r\n\r\npublic class mypairDeserializer extends KeyDeserializer {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    @Override\r\n    public Collection&lt;mypair&gt; deserializeKey(final String key, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        // return new mypair(key);\r\n        return mapper.readValue(key, Collection.class);\r\n    }\r\n}\r\n```","title":"Serialize, deserialize using jackson","body":"<p>I was trying convert to my object to and from json but the default serializer, deserializer by jackson doesn't work.</p>\n<p>How can I make this work? I understand I might need to write a custom serializer, deserializer. How can I do that?\nIs ther some annotation by adding which the code would work?</p>\n<p>Here is the object:</p>\n<pre><code>@JsonDeserialize(keyUsing = mypairDeserializer.class)\n@JsonSerialize(keyUsing = mypairSerializer.class)\nHashMap&lt;Set &lt; Mypair &gt; , List &lt; Mypair &gt; &gt; obj;\n\n\npublic class ConditionSerializer extends JsonSerializer&lt;Collection&lt;mypair&gt;&gt; {\n\n    @Override\n    public void serialize(final Collection&lt;mypair&gt; conditionSet, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeFieldName(&quot;Pair&quot;);\n        jsonGenerator.writeStartArray();\n        for(final Condition condition: conditionSet) {\n            jsonGenerator.writeString(mypair.toString());\n        }\n        jsonGenerator.writeEndArray();\n        jsonGenerator.writeEndObject();\n    }\n}\n\n\npublic class mypairDeserializer extends KeyDeserializer {\n    ObjectMapper mapper = new ObjectMapper();\n    @Override\n    public Collection&lt;mypair&gt; deserializeKey(final String key, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        // return new mypair(key);\n        return mapper.readValue(key, Collection.class);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1611124164,"post_id":65803731,"comment_id":116345882,"body_markdown":"You override method `paint`, in class `Game` and the first line in the method is `super.paintComponent()`. Is that your actual code? Maybe you made a mistake when you copied your code to your question? Also, which line is line 45 in file `Game.java`?","body":"You override method <code>paint</code>, in class <code>Game</code> and the first line in the method is <code>super.paintComponent()</code>. Is that your actual code? Maybe you made a mistake when you copied your code to your question? Also, which line is line 45 in file <code>Game.java</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611122231,"creation_date":1611122231,"answer_id":65803829,"question_id":65803731,"body_markdown":"I do not have line numbers in this display and will not count lines.\r\nCheck the code in your line 45. I assume it is\r\n\r\n    if (tiles[i] == 1) {\r\n\r\nYou know that the application is trying to access index 132 when it crashes. Check the size of your array. I guess it is 11x12=132 items, numbered from 0 to 131.\r\n\r\nIs it possible your calculation of i is wrong?","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 132","body":"<p>I do not have line numbers in this display and will not count lines.\nCheck the code in your line 45. I assume it is</p>\n<pre><code>if (tiles[i] == 1) {\n</code></pre>\n<p>You know that the application is trying to access index 132 when it crashes. Check the size of your array. I guess it is 11x12=132 items, numbered from 0 to 131.</p>\n<p>Is it possible your calculation of i is wrong?</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1611163576,"creation_date":1611163576,"answer_id":65814530,"question_id":65803731,"body_markdown":"Your calculations in your `for` loops are wrong.\r\n\r\nFirstly, `w` (the member variable in class `Game`) actually represents the number of columns in your [two-dimensional] grid of tiles and `h` (another member variable in class `Game`) represents the number of rows. You have these the wrong way around in your nested `for` loops. So instead of\r\n```java\r\nfor(int x = 0; x &lt; w; x++) {\r\n    for (int y = 0; y &lt; h; y++) {\r\n```\r\nyou should have\r\n```java\r\nfor(int x = 0; x &lt; h; x++) {\r\n    for (int y = 0; y &lt; w; y++) {\r\n```\r\nSo I only changed the code of class `Game`. For the sake of completeness, here is the entire code of the class with the changes described above.\r\n```java\r\npackage engine;\r\n\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Game extends JPanel {\r\n    private Thread thread;\r\n\r\n    // world settings\r\n    static int worldWidth = 12;\r\n    static int worldHeight = 11;\r\n\r\n    public int w = worldWidth;\r\n    public int h = worldHeight;\r\n\r\n    // window settings\r\n    private static int windowWidth = 800;\r\n    private static int windowHeight = 600;\r\n    private static String windowTitle = &quot;Game&quot;;\r\n\r\n    // tile settings\r\n    public static int tileSize = 50;\r\n\r\n    public static int tilex;\r\n    public static int tiley;\r\n\r\n    private static byte[] tiles;\r\n\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        // set background color\r\n        setBackground(new Color(0, 128, 255));\r\n\r\n        // set color and area of shape\r\n        g.setColor(new Color(0, 255, 0));\r\n\r\n        // checks array every repaint for modified tiles\r\n        for (int x = 0; x &lt; h; x++) {\r\n            for (int y = 0; y &lt; w; y++) {\r\n                int i = y + (x * w);\r\n                if (tiles[i] == 1) {\r\n                    tilex = x * tileSize;\r\n                    tiley = y * tileSize;\r\n                    g.fillRect(tilex, tiley, tileSize, tileSize);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        new Game();\r\n    }\r\n\r\n    public void init() {\r\n        new Window(windowWidth, windowHeight, windowTitle, this);\r\n        Window.running = true;\r\n\r\n        thread = new Thread();\r\n        thread.start();\r\n\r\n        generate();\r\n    }\r\n\r\n    public void terminate() {\r\n        System.exit(0);\r\n    }\r\n\r\n    public Game() throws InterruptedException {\r\n        try {\r\n            init();\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n            JOptionPane.showMessageDialog(null, e.toString(), &quot;Failed to start &quot; + windowTitle,\r\n                    JOptionPane.ERROR_MESSAGE);\r\n            System.exit(1);\r\n        }\r\n        while (Window.running) {\r\n            Thread.sleep(1);\r\n            // closes game if escape is pressed or if window is closed (handled in window\r\n            // class)\r\n            if (!Window.running) {\r\n                System.out.println(&quot;Closing &quot; + windowTitle);\r\n                terminate();\r\n            }\r\n            // render\r\n            repaint();\r\n        }\r\n    }\r\n\r\n    public void generate() {\r\n        tiles = new byte[w * h];\r\n        for (int x = 0; x &lt; h; x++) {\r\n            for (int y = 0; y &lt; w; y++) {\r\n                int i = y + (x * w);\r\n                // 1 = tile present, 0 = not present\r\n                tiles[i] = (byte) 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void changeSquare() {\r\n        if (GameListener.mouseButton == 3 &amp;&amp; GameListener.modifyBlock) {\r\n            tiles[GameListener.byteToModify] = 1;\r\n        }\r\n        else if (GameListener.mouseButton == 1 &amp;&amp; GameListener.modifyBlock) {\r\n            tiles[GameListener.byteToModify] = 0;\r\n        }\r\n    }\r\n}\r\n```\r\nYou should also note that your design contains [circular dependencies][1] since each one of the three classes, `Game`, `GameListener` and `Window` references the other two. This is generally a bad design.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Circular_dependency","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 132","body":"<p>Your calculations in your <code>for</code> loops are wrong.</p>\n<p>Firstly, <code>w</code> (the member variable in class <code>Game</code>) actually represents the number of columns in your [two-dimensional] grid of tiles and <code>h</code> (another member variable in class <code>Game</code>) represents the number of rows. You have these the wrong way around in your nested <code>for</code> loops. So instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int x = 0; x &lt; w; x++) {\n    for (int y = 0; y &lt; h; y++) {\n</code></pre>\n<p>you should have</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int x = 0; x &lt; h; x++) {\n    for (int y = 0; y &lt; w; y++) {\n</code></pre>\n<p>So I only changed the code of class <code>Game</code>. For the sake of completeness, here is the entire code of the class with the changes described above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package engine;\n\nimport java.awt.*;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Game extends JPanel {\n    private Thread thread;\n\n    // world settings\n    static int worldWidth = 12;\n    static int worldHeight = 11;\n\n    public int w = worldWidth;\n    public int h = worldHeight;\n\n    // window settings\n    private static int windowWidth = 800;\n    private static int windowHeight = 600;\n    private static String windowTitle = &quot;Game&quot;;\n\n    // tile settings\n    public static int tileSize = 50;\n\n    public static int tilex;\n    public static int tiley;\n\n    private static byte[] tiles;\n\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        // set background color\n        setBackground(new Color(0, 128, 255));\n\n        // set color and area of shape\n        g.setColor(new Color(0, 255, 0));\n\n        // checks array every repaint for modified tiles\n        for (int x = 0; x &lt; h; x++) {\n            for (int y = 0; y &lt; w; y++) {\n                int i = y + (x * w);\n                if (tiles[i] == 1) {\n                    tilex = x * tileSize;\n                    tiley = y * tileSize;\n                    g.fillRect(tilex, tiley, tileSize, tileSize);\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        new Game();\n    }\n\n    public void init() {\n        new Window(windowWidth, windowHeight, windowTitle, this);\n        Window.running = true;\n\n        thread = new Thread();\n        thread.start();\n\n        generate();\n    }\n\n    public void terminate() {\n        System.exit(0);\n    }\n\n    public Game() throws InterruptedException {\n        try {\n            init();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n            JOptionPane.showMessageDialog(null, e.toString(), &quot;Failed to start &quot; + windowTitle,\n                    JOptionPane.ERROR_MESSAGE);\n            System.exit(1);\n        }\n        while (Window.running) {\n            Thread.sleep(1);\n            // closes game if escape is pressed or if window is closed (handled in window\n            // class)\n            if (!Window.running) {\n                System.out.println(&quot;Closing &quot; + windowTitle);\n                terminate();\n            }\n            // render\n            repaint();\n        }\n    }\n\n    public void generate() {\n        tiles = new byte[w * h];\n        for (int x = 0; x &lt; h; x++) {\n            for (int y = 0; y &lt; w; y++) {\n                int i = y + (x * w);\n                // 1 = tile present, 0 = not present\n                tiles[i] = (byte) 1;\n            }\n        }\n    }\n\n    public static void changeSquare() {\n        if (GameListener.mouseButton == 3 &amp;&amp; GameListener.modifyBlock) {\n            tiles[GameListener.byteToModify] = 1;\n        }\n        else if (GameListener.mouseButton == 1 &amp;&amp; GameListener.modifyBlock) {\n            tiles[GameListener.byteToModify] = 0;\n        }\n    }\n}\n</code></pre>\n<p>You should also note that your design contains <a href=\"https://en.wikipedia.org/wiki/Circular_dependency\" rel=\"nofollow noreferrer\">circular dependencies</a> since each one of the three classes, <code>Game</code>, <code>GameListener</code> and <code>Window</code> references the other two. This is generally a bad design.</p>\n"}],"owner":{"account_id":13048270,"reputation":3,"user_id":9429475,"display_name":"eastasdfasdfaserawfasdgffras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65814530,"answer_count":2,"score":0,"last_activity_date":1635504368,"creation_date":1611121658,"question_id":65803731,"body_markdown":"I am trying to make a game and at this stage all it does is create a board of tiles which you can remove or place. However when I extend the grid to any value that is above 128, it crashes. However it only happens if the width is the bigger number. If the height is bigger then it makes a second grid below the first one and it gets kinda weird. Below is my code and the stack trace of the error I get.\r\n\r\nYou can see how it&#39;s supposed to function by changing the values in the world settings under `Game.java`. (Again, if width is the bigger number and it multiplies to over 128 that&#39;s what causes the error.)\r\n\r\nGame.java\r\n\r\n```java\r\npackage engine;\r\n\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Game extends JPanel{\r\n\tprivate Thread thread;\r\n\t\r\n\t//world settings\r\n\tstatic int worldWidth = 11;\r\n\tstatic int worldHeight = 12;\r\n\t\r\n\tpublic int w = worldWidth;\r\n\tpublic int h = worldHeight;\r\n\t\r\n\t//window settings\r\n\tprivate static int windowWidth = 800;\r\n\tprivate static int windowHeight = 600;\r\n\tprivate static String windowTitle = &quot;Game&quot;;\r\n\t\r\n\t//tile settings\r\n\tpublic static int tileSize = 50;\r\n\t\r\n\tpublic static int tilex;\r\n\tpublic static int tiley;\r\n\t\r\n\tprivate static byte[] tiles;\r\n\r\n\tpublic void paint(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\r\n\t\t//set background color\r\n\t\tsetBackground(new Color(0,128,255));\r\n\r\n\t\t//set color and area of shape\r\n\t\tg.setColor(new Color(0,255,0));\r\n\t\t\r\n\t\t//checks array every repaint for modified tiles\r\n\t\tfor(int x = 0; x &lt; w; x++) {\r\n\t\t\tfor (int y = 0; y &lt; h; y++) {\r\n\t\t\t\tint i = y + (x * w);\r\n\t\t\t\tif (tiles[i] == 1) {\r\n\t\t\t\t\ttilex = x * tileSize;\r\n\t\t\t\t\ttiley = y * tileSize;\r\n\t\t\t\t\tg.fillRect(tilex, tiley, tileSize, tileSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//Pointer/selector\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tnew Game();\r\n\t}\r\n\t\r\n\tpublic void init() {\r\n\t\tnew Window(windowWidth, windowHeight, windowTitle, this);\r\n\t\tWindow.running = true;\r\n\t\t\r\n\t\tthread = new Thread();\r\n\t\tthread.start();\r\n\t\t\r\n\t\tgenerate();\r\n\t}\r\n\t\r\n\tpublic void terminate() {\r\n\t\tSystem.exit(0);\r\n\t}\r\n\t\r\n\tpublic Game() throws InterruptedException {\r\n\t\ttry {\r\n\t\t\tinit();\r\n\t\t} catch (Exception e) {\r\n\t\t\tJOptionPane.showMessageDialog(null, e.toString(), &quot;Failed to start &quot; + windowTitle, JOptionPane.ERROR_MESSAGE);\r\n\t\t    System.exit(1);\r\n\t\t}\r\n\t\twhile(Window.running) {\r\n\t\t\tThread.sleep(1);\r\n\t\t\t//closes game if escape is pressed or if window is closed (handled in window class)\r\n\t\t\tif (!Window.running) {\r\n\t\t\t\tSystem.out.println(&quot;Closing &quot; + windowTitle);\r\n\t\t\t\tterminate();\r\n\t\t\t}\r\n\t\t\t//render\r\n\t\t\trepaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void generate() {\r\n\t\ttiles = new byte[w * h];\r\n\t\tfor(int x = 0; x &lt; w; x++) {\r\n\t\t\tfor (int y = 0; y &lt; h; y++) {\r\n\t\t\t\tint i = y + (x * w);\r\n\t\t\t\t//1 = tile present, 0 = not present\r\n\t\t\t\ttiles[i] = (byte) 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void changeSquare() {\r\n\t\tif (GameListener.mouseButton == 3 &amp;&amp; GameListener.modifyBlock) {\r\n\t\t\ttiles[GameListener.byteToModify] = 1;\r\n\t\t} else if (GameListener.mouseButton == 1 &amp;&amp; GameListener.modifyBlock){\r\n\t\t\ttiles[GameListener.byteToModify] = 0;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWindow.java \r\n\r\n```java\r\npackage engine;\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class Window {\r\n\tpublic static boolean running = false;\r\n\r\n\tpublic Window(int width, int height, String title, Game game) {\r\n\t\t//creates and displays window\r\n\t\tJFrame frame = new JFrame(title);\r\n\t\t\r\n\t\tKeyListener keylistener = new KeyListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyPressed(KeyEvent keyEvent) {\r\n\t\t\t\tGameListener.keyListener(keyEvent);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased(KeyEvent keyEvent) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyTyped(KeyEvent keyEvent) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tMouseListener mouselistener = new MouseListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent mouseEvent) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseEntered(MouseEvent mouseEvent) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseExited(MouseEvent mouseEvent) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mousePressed(MouseEvent mouseEvent) {\r\n\t\t\t\tGameListener.mouseListener(mouseEvent);\r\n\t\t\t\tGame.changeSquare();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseReleased(MouseEvent mouseEvent) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tMouseMotionListener mousemotionlistener = new MouseMotionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseDragged(MouseEvent mouseMotionEvent) {\r\n\t\t\t\tGameListener.mouseMotionListener(mouseMotionEvent);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseMoved(MouseEvent arg0) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t//listens for window close and sends back to game loop to terminate\r\n\t\tframe.addWindowListener(new WindowAdapter() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void windowClosing(WindowEvent e) {\r\n\t\t\t\trunning = false;\r\n\t\t\t}\r\n\t\t});\r\n\t\tframe.getContentPane().addKeyListener(keylistener);\r\n\t\tframe.getContentPane().addMouseListener(mouselistener);\r\n\t\tframe.getContentPane().addMouseMotionListener(mousemotionlistener);\r\n\t\tframe.setPreferredSize(new Dimension(width, height));\r\n\t\tframe.add(game);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t}\r\n}\r\n```\r\n\r\nand finally GameListener.java\r\n```java\r\npackage engine;\r\n\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class GameListener {\r\n\tprivate static int tileX;\r\n\tprivate static int tileY;\r\n\tprivate static int xTries;\r\n\tprivate static int yTries;\r\n\t\r\n\tprivate static int tileXM;\r\n\tprivate static int tileYM;\r\n\tprivate static int xTriesM;\r\n\tprivate static int yTriesM;\r\n\r\n\tpublic static int byteToModify;\r\n\tpublic static int mouseButton;\r\n\tpublic static boolean modifyBlock;\r\n\t\r\n\tpublic static boolean drawSelector;\r\n\tpublic static int byteToDrawSelector;\r\n\t\r\n\tpublic static void keyListener(KeyEvent e) {\r\n\t\tint code = e.getKeyCode();\r\n\t\t\r\n\t\t//put key if statements here (for example escape to close\r\n\t\t\r\n\t\t//use for testing key name when adding a new if statement \r\n\t\t//String character = KeyEvent.getKeyText(code);\r\n\t\t//System.out.println(&quot;Character: &quot; + KeyEvent.getKeyText(code));\r\n\t\t//System.out.println(&quot;Code: &quot; + code);\r\n\t\t\r\n\t\t//get key codes at keycode.info\r\n\t\t\r\n\t\t//closes game on escape\r\n        if (code == 27) {\r\n        \t//escape\r\n        \tWindow.running = false;\r\n        }\r\n        //movement\r\n       // if (code == 87) {\r\n        \t//W\r\n        //\tGame.y = Game.y - 100;\r\n  //      }\r\n      //  if (code == 65) {\r\n        \t//A\r\n       // \tGame.x = Game.x - 100;\r\n      //  }\r\n      //  if (code == 83) {\r\n        \t//S\r\n       // \tGame.y = Game.y + 100;\r\n      //  }\r\n       // if (code == 68) {\r\n        \t//D\r\n        \t//Game.x = Game.x + 100;\r\n       // }\r\n\t}\r\n\t\r\n\tpublic static void mouseListener(MouseEvent e) {\r\n\t\t//System.out.println(e.getX());\r\n\t\t//System.out.println(e.getY());\r\n\t\t//System.out.println(e.getButton());\r\n\t\t\r\n\t\txTries = 0;\r\n\t\ttileX = 0;\r\n\t\tyTries = 0;\r\n\t\ttileY = 0;\r\n\t\tmodifyBlock = true;\r\n\t\t\r\n\t\tif (e.getX() &lt; Game.tileSize) {\r\n\t\t\t\r\n\t\t} else if (e.getX() &gt; Game.tileSize &amp;&amp; e.getX() &lt; (Game.tileSize * Game.worldWidth)) {\r\n\t\t\tfor (int i = Game.tileSize; i&lt;e.getX(); i = i + Game.tileSize) {\r\n\t\t\t\txTries++;\r\n\t\t\t}\r\n\t\t\t//System.out.println(xTries);\r\n\t\t\ttileX = xTries;\r\n\t\t} else {\r\n\t\t\tSystem.err.println(&quot;User clicked outside of world&quot;);\r\n\t\t\tmodifyBlock = false;\r\n\t\t}\r\n\t\tif (e.getY() &lt; Game.tileSize) {\r\n\t\t} else if (e.getY() &gt; Game.tileSize &amp;&amp; e.getY() &lt; (Game.tileSize * Game.worldHeight)) {\r\n\t\t\tfor (int i = Game.tileSize; i&lt;e.getY(); i = i + Game.tileSize) {\r\n\t\t\t\tyTries++;\r\n\t\t\t}\r\n\t\t\t//System.out.println(yTries);\r\n\t\t\ttileY = yTries;\r\n\t\t} else {\r\n\t\t\tSystem.err.println(&quot;User clicked outside of world&quot;);\r\n\t\t\tmodifyBlock = false;\r\n\t\t}\r\n\t\tif (e.getButton() == MouseEvent.BUTTON1) {\r\n\t\t\tmouseButton = 1;\r\n\t\t} else if (e.getButton() == MouseEvent.BUTTON3) {\r\n\t\t\tmouseButton = 3;\r\n\t\t}\r\n\t\tbyteToModify = tileY+(tileX * Game.worldWidth);\r\n\t\t\r\n\t\t//System.out.println(tileX);\r\n\t\t//System.out.println(tileY);\r\n\t\t//System.out.println(byteToModify);\r\n\t}\r\n\t\r\n\tpublic static void mouseMotionListener(MouseEvent e) {\r\n\t\t//System.out.println(e.getX());\r\n\t\t//System.out.println(e.getY());\r\n\r\n\t\txTriesM = 0;\r\n\t\ttileXM = 0;\r\n\t\tyTriesM = 0;\r\n\t\ttileYM = 0;\r\n\t\tdrawSelector = true;\r\n\t\t\r\n\t\tif (e.getX() &lt; Game.tileSize) {\r\n\t\t\t\r\n\t\t} else if (e.getX() &gt; Game.tileSize &amp;&amp; e.getX() &lt; (Game.tileSize * Game.worldWidth)) {\r\n\t\t\tfor (int i = Game.tileSize; i&lt;e.getX(); i = i + Game.tileSize) {\r\n\t\t\t\txTriesM++;\r\n\t\t\t}\r\n\t\t\t//System.out.println(xTries);\r\n\t\t\ttileXM = xTriesM;\r\n\t\t} else {\r\n\t\t\tdrawSelector = false;\r\n\t\t}\r\n\t\tif (e.getY() &lt; Game.tileSize) {\r\n\t\t} else if (e.getY() &gt; Game.tileSize &amp;&amp; e.getY() &lt; (Game.tileSize * Game.worldHeight)) {\r\n\t\t\tfor (int i = Game.tileSize; i&lt;e.getY(); i = i + Game.tileSize) {\r\n\t\t\t\tyTriesM++;\r\n\t\t\t}\r\n\t\t\t//System.out.println(yTries);\r\n\t\t\ttileYM = yTriesM;\r\n\t\t} else {\r\n\t\t\tdrawSelector = false;\r\n\t\t}\r\n\t\tbyteToDrawSelector = tileYM+(tileXM* Game.worldWidth);\r\n\t}\r\n}\r\n```\r\n\r\nAnd here&#39;s the error I get when I load the game.\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 132\r\n\tat engine.Game.paint(Game.java:45)\r\n\tat javax.swing.JComponent.paintChildren(Unknown Source)\r\n\tat javax.swing.JComponent.paint(Unknown Source)\r\n\tat javax.swing.JComponent.paintChildren(Unknown Source)\r\n\tat javax.swing.JComponent.paint(Unknown Source)\r\n\tat javax.swing.JLayeredPane.paint(Unknown Source)\r\n\tat javax.swing.JComponent.paintChildren(Unknown Source)\r\n\tat javax.swing.JComponent.paintToOffscreen(Unknown Source)\r\n\tat javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(Unknown Source)\r\n\tat javax.swing.RepaintManager$PaintManager.paint(Unknown Source)\r\n\tat javax.swing.RepaintManager.paint(Unknown Source)\r\n\tat javax.swing.JComponent.paint(Unknown Source)\r\n\tat java.awt.GraphicsCallback$PaintCallback.run(Unknown Source)\r\n\tat sun.awt.SunGraphicsCallback.runOneComponent(Unknown Source)\r\n\tat sun.awt.SunGraphicsCallback.runComponents(Unknown Source)\r\n\tat java.awt.Container.paint(Unknown Source)\r\n\tat java.awt.Window.paint(Unknown Source)\r\n\tat javax.swing.RepaintManager$4.run(Unknown Source)\r\n\tat javax.swing.RepaintManager$4.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)\r\n\tat javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)\r\n\tat javax.swing.RepaintManager.prePaintDirtyRegions(Unknown Source)\r\n\tat javax.swing.RepaintManager.access$1200(Unknown Source)\r\n\tat javax.swing.RepaintManager$ProcessingRunnable.run(Unknown Source)\r\n\tat java.awt.event.InvocationEvent.dispatch(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.EventQueue.access$500(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.run(Unknown Source)\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 132\r\n\tat engine.Game.paint(Game.java:45)\r\n\tat javax.swing.JComponent.paintChildren(Unknown Source)\r\n\tat javax.swing.JComponent.paint(Unknown Source)\r\n\tat javax.swing.JComponent.paintChildren(Unknown Source)\r\n\tat javax.swing.JComponent.paint(Unknown Source)\r\n\tat javax.swing.JLayeredPane.paint(Unknown Source)\r\n\tat javax.swing.JComponent.paintChildren(Unknown Source)\r\n\tat javax.swing.JComponent.paintToOffscreen(Unknown Source)\r\n\tat javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(Unknown Source)\r\n\tat javax.swing.RepaintManager$PaintManager.paint(Unknown Source)\r\n\tat javax.swing.RepaintManager.paint(Unknown Source)\r\n\tat javax.swing.JComponent.paint(Unknown Source)\r\n\tat java.awt.GraphicsCallback$PaintCallback.run(Unknown Source)\r\n\tat sun.awt.SunGraphicsCallback.runOneComponent(Unknown Source)\r\n\tat sun.awt.SunGraphicsCallback.runComponents(Unknown Source)\r\n\tat java.awt.Container.paint(Unknown Source)\r\n\tat java.awt.Window.paint(Unknown Source)\r\n\tat javax.swing.RepaintManager$4.run(Unknown Source)\r\n\tat javax.swing.RepaintManager$4.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)\r\n\tat javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)\r\n\tat javax.swing.RepaintManager.prePaintDirtyRegions(Unknown Source)\r\n\tat javax.swing.RepaintManager.access$1200(Unknown Source)\r\n\tat javax.swing.RepaintManager$ProcessingRunnable.run(Unknown Source)\r\n\tat java.awt.event.InvocationEvent.dispatch(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.EventQueue.access$500(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.run(Unknown Source)\r\n```\r\n\r\nIt says the problem is in `Game.java` line 45 but I really don&#39;t understand what could be causing this.","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 132","body":"<p>I am trying to make a game and at this stage all it does is create a board of tiles which you can remove or place. However when I extend the grid to any value that is above 128, it crashes. However it only happens if the width is the bigger number. If the height is bigger then it makes a second grid below the first one and it gets kinda weird. Below is my code and the stack trace of the error I get.</p>\n<p>You can see how it's supposed to function by changing the values in the world settings under <code>Game.java</code>. (Again, if width is the bigger number and it multiplies to over 128 that's what causes the error.)</p>\n<p>Game.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package engine;\n\nimport java.awt.*;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Game extends JPanel{\n    private Thread thread;\n    \n    //world settings\n    static int worldWidth = 11;\n    static int worldHeight = 12;\n    \n    public int w = worldWidth;\n    public int h = worldHeight;\n    \n    //window settings\n    private static int windowWidth = 800;\n    private static int windowHeight = 600;\n    private static String windowTitle = &quot;Game&quot;;\n    \n    //tile settings\n    public static int tileSize = 50;\n    \n    public static int tilex;\n    public static int tiley;\n    \n    private static byte[] tiles;\n\n    public void paint(Graphics g) {\n        super.paintComponent(g);\n\n        //set background color\n        setBackground(new Color(0,128,255));\n\n        //set color and area of shape\n        g.setColor(new Color(0,255,0));\n        \n        //checks array every repaint for modified tiles\n        for(int x = 0; x &lt; w; x++) {\n            for (int y = 0; y &lt; h; y++) {\n                int i = y + (x * w);\n                if (tiles[i] == 1) {\n                    tilex = x * tileSize;\n                    tiley = y * tileSize;\n                    g.fillRect(tilex, tiley, tileSize, tileSize);\n                }\n            }\n        }\n        //Pointer/selector\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        new Game();\n    }\n    \n    public void init() {\n        new Window(windowWidth, windowHeight, windowTitle, this);\n        Window.running = true;\n        \n        thread = new Thread();\n        thread.start();\n        \n        generate();\n    }\n    \n    public void terminate() {\n        System.exit(0);\n    }\n    \n    public Game() throws InterruptedException {\n        try {\n            init();\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, e.toString(), &quot;Failed to start &quot; + windowTitle, JOptionPane.ERROR_MESSAGE);\n            System.exit(1);\n        }\n        while(Window.running) {\n            Thread.sleep(1);\n            //closes game if escape is pressed or if window is closed (handled in window class)\n            if (!Window.running) {\n                System.out.println(&quot;Closing &quot; + windowTitle);\n                terminate();\n            }\n            //render\n            repaint();\n        }\n    }\n    \n    public void generate() {\n        tiles = new byte[w * h];\n        for(int x = 0; x &lt; w; x++) {\n            for (int y = 0; y &lt; h; y++) {\n                int i = y + (x * w);\n                //1 = tile present, 0 = not present\n                tiles[i] = (byte) 1;\n            }\n        }\n    }\n    \n    public static void changeSquare() {\n        if (GameListener.mouseButton == 3 &amp;&amp; GameListener.modifyBlock) {\n            tiles[GameListener.byteToModify] = 1;\n        } else if (GameListener.mouseButton == 1 &amp;&amp; GameListener.modifyBlock){\n            tiles[GameListener.byteToModify] = 0;\n        }\n    }\n}\n</code></pre>\n<p>Window.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package engine;\n\nimport java.awt.Dimension;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\nimport javax.swing.JFrame;\n\npublic class Window {\n    public static boolean running = false;\n\n    public Window(int width, int height, String title, Game game) {\n        //creates and displays window\n        JFrame frame = new JFrame(title);\n        \n        KeyListener keylistener = new KeyListener() {\n\n            @Override\n            public void keyPressed(KeyEvent keyEvent) {\n                GameListener.keyListener(keyEvent);\n            }\n\n            @Override\n            public void keyReleased(KeyEvent keyEvent) {\n                \n            }\n\n            @Override\n            public void keyTyped(KeyEvent keyEvent) {\n                \n            }\n        };\n        \n        MouseListener mouselistener = new MouseListener() {\n\n            @Override\n            public void mouseClicked(MouseEvent mouseEvent) {\n                \n            }\n\n            @Override\n            public void mouseEntered(MouseEvent mouseEvent) {\n                \n            }\n\n            @Override\n            public void mouseExited(MouseEvent mouseEvent) {\n                \n            }\n\n            @Override\n            public void mousePressed(MouseEvent mouseEvent) {\n                GameListener.mouseListener(mouseEvent);\n                Game.changeSquare();\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent mouseEvent) {\n                \n            }\n        };\n        \n        MouseMotionListener mousemotionlistener = new MouseMotionListener() {\n\n            @Override\n            public void mouseDragged(MouseEvent mouseMotionEvent) {\n                GameListener.mouseMotionListener(mouseMotionEvent);\n            }\n\n            @Override\n            public void mouseMoved(MouseEvent arg0) {\n                \n            }\n        };\n\n        //listens for window close and sends back to game loop to terminate\n        frame.addWindowListener(new WindowAdapter() {\n            \n            @Override\n            public void windowClosing(WindowEvent e) {\n                running = false;\n            }\n        });\n        frame.getContentPane().addKeyListener(keylistener);\n        frame.getContentPane().addMouseListener(mouselistener);\n        frame.getContentPane().addMouseMotionListener(mousemotionlistener);\n        frame.setPreferredSize(new Dimension(width, height));\n        frame.add(game);\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>and finally GameListener.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package engine;\n\nimport java.awt.event.KeyEvent;\nimport java.awt.event.MouseEvent;\n\npublic class GameListener {\n    private static int tileX;\n    private static int tileY;\n    private static int xTries;\n    private static int yTries;\n    \n    private static int tileXM;\n    private static int tileYM;\n    private static int xTriesM;\n    private static int yTriesM;\n\n    public static int byteToModify;\n    public static int mouseButton;\n    public static boolean modifyBlock;\n    \n    public static boolean drawSelector;\n    public static int byteToDrawSelector;\n    \n    public static void keyListener(KeyEvent e) {\n        int code = e.getKeyCode();\n        \n        //put key if statements here (for example escape to close\n        \n        //use for testing key name when adding a new if statement \n        //String character = KeyEvent.getKeyText(code);\n        //System.out.println(&quot;Character: &quot; + KeyEvent.getKeyText(code));\n        //System.out.println(&quot;Code: &quot; + code);\n        \n        //get key codes at keycode.info\n        \n        //closes game on escape\n        if (code == 27) {\n            //escape\n            Window.running = false;\n        }\n        //movement\n       // if (code == 87) {\n            //W\n        //  Game.y = Game.y - 100;\n  //      }\n      //  if (code == 65) {\n            //A\n       //   Game.x = Game.x - 100;\n      //  }\n      //  if (code == 83) {\n            //S\n       //   Game.y = Game.y + 100;\n      //  }\n       // if (code == 68) {\n            //D\n            //Game.x = Game.x + 100;\n       // }\n    }\n    \n    public static void mouseListener(MouseEvent e) {\n        //System.out.println(e.getX());\n        //System.out.println(e.getY());\n        //System.out.println(e.getButton());\n        \n        xTries = 0;\n        tileX = 0;\n        yTries = 0;\n        tileY = 0;\n        modifyBlock = true;\n        \n        if (e.getX() &lt; Game.tileSize) {\n            \n        } else if (e.getX() &gt; Game.tileSize &amp;&amp; e.getX() &lt; (Game.tileSize * Game.worldWidth)) {\n            for (int i = Game.tileSize; i&lt;e.getX(); i = i + Game.tileSize) {\n                xTries++;\n            }\n            //System.out.println(xTries);\n            tileX = xTries;\n        } else {\n            System.err.println(&quot;User clicked outside of world&quot;);\n            modifyBlock = false;\n        }\n        if (e.getY() &lt; Game.tileSize) {\n        } else if (e.getY() &gt; Game.tileSize &amp;&amp; e.getY() &lt; (Game.tileSize * Game.worldHeight)) {\n            for (int i = Game.tileSize; i&lt;e.getY(); i = i + Game.tileSize) {\n                yTries++;\n            }\n            //System.out.println(yTries);\n            tileY = yTries;\n        } else {\n            System.err.println(&quot;User clicked outside of world&quot;);\n            modifyBlock = false;\n        }\n        if (e.getButton() == MouseEvent.BUTTON1) {\n            mouseButton = 1;\n        } else if (e.getButton() == MouseEvent.BUTTON3) {\n            mouseButton = 3;\n        }\n        byteToModify = tileY+(tileX * Game.worldWidth);\n        \n        //System.out.println(tileX);\n        //System.out.println(tileY);\n        //System.out.println(byteToModify);\n    }\n    \n    public static void mouseMotionListener(MouseEvent e) {\n        //System.out.println(e.getX());\n        //System.out.println(e.getY());\n\n        xTriesM = 0;\n        tileXM = 0;\n        yTriesM = 0;\n        tileYM = 0;\n        drawSelector = true;\n        \n        if (e.getX() &lt; Game.tileSize) {\n            \n        } else if (e.getX() &gt; Game.tileSize &amp;&amp; e.getX() &lt; (Game.tileSize * Game.worldWidth)) {\n            for (int i = Game.tileSize; i&lt;e.getX(); i = i + Game.tileSize) {\n                xTriesM++;\n            }\n            //System.out.println(xTries);\n            tileXM = xTriesM;\n        } else {\n            drawSelector = false;\n        }\n        if (e.getY() &lt; Game.tileSize) {\n        } else if (e.getY() &gt; Game.tileSize &amp;&amp; e.getY() &lt; (Game.tileSize * Game.worldHeight)) {\n            for (int i = Game.tileSize; i&lt;e.getY(); i = i + Game.tileSize) {\n                yTriesM++;\n            }\n            //System.out.println(yTries);\n            tileYM = yTriesM;\n        } else {\n            drawSelector = false;\n        }\n        byteToDrawSelector = tileYM+(tileXM* Game.worldWidth);\n    }\n}\n</code></pre>\n<p>And here's the error I get when I load the game.</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 132\n    at engine.Game.paint(Game.java:45)\n    at javax.swing.JComponent.paintChildren(Unknown Source)\n    at javax.swing.JComponent.paint(Unknown Source)\n    at javax.swing.JComponent.paintChildren(Unknown Source)\n    at javax.swing.JComponent.paint(Unknown Source)\n    at javax.swing.JLayeredPane.paint(Unknown Source)\n    at javax.swing.JComponent.paintChildren(Unknown Source)\n    at javax.swing.JComponent.paintToOffscreen(Unknown Source)\n    at javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(Unknown Source)\n    at javax.swing.RepaintManager$PaintManager.paint(Unknown Source)\n    at javax.swing.RepaintManager.paint(Unknown Source)\n    at javax.swing.JComponent.paint(Unknown Source)\n    at java.awt.GraphicsCallback$PaintCallback.run(Unknown Source)\n    at sun.awt.SunGraphicsCallback.runOneComponent(Unknown Source)\n    at sun.awt.SunGraphicsCallback.runComponents(Unknown Source)\n    at java.awt.Container.paint(Unknown Source)\n    at java.awt.Window.paint(Unknown Source)\n    at javax.swing.RepaintManager$4.run(Unknown Source)\n    at javax.swing.RepaintManager$4.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)\n    at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)\n    at javax.swing.RepaintManager.prePaintDirtyRegions(Unknown Source)\n    at javax.swing.RepaintManager.access$1200(Unknown Source)\n    at javax.swing.RepaintManager$ProcessingRunnable.run(Unknown Source)\n    at java.awt.event.InvocationEvent.dispatch(Unknown Source)\n    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n    at java.awt.EventQueue.access$500(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue.dispatchEvent(Unknown Source)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.run(Unknown Source)\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 132\n    at engine.Game.paint(Game.java:45)\n    at javax.swing.JComponent.paintChildren(Unknown Source)\n    at javax.swing.JComponent.paint(Unknown Source)\n    at javax.swing.JComponent.paintChildren(Unknown Source)\n    at javax.swing.JComponent.paint(Unknown Source)\n    at javax.swing.JLayeredPane.paint(Unknown Source)\n    at javax.swing.JComponent.paintChildren(Unknown Source)\n    at javax.swing.JComponent.paintToOffscreen(Unknown Source)\n    at javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(Unknown Source)\n    at javax.swing.RepaintManager$PaintManager.paint(Unknown Source)\n    at javax.swing.RepaintManager.paint(Unknown Source)\n    at javax.swing.JComponent.paint(Unknown Source)\n    at java.awt.GraphicsCallback$PaintCallback.run(Unknown Source)\n    at sun.awt.SunGraphicsCallback.runOneComponent(Unknown Source)\n    at sun.awt.SunGraphicsCallback.runComponents(Unknown Source)\n    at java.awt.Container.paint(Unknown Source)\n    at java.awt.Window.paint(Unknown Source)\n    at javax.swing.RepaintManager$4.run(Unknown Source)\n    at javax.swing.RepaintManager$4.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)\n    at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)\n    at javax.swing.RepaintManager.prePaintDirtyRegions(Unknown Source)\n    at javax.swing.RepaintManager.access$1200(Unknown Source)\n    at javax.swing.RepaintManager$ProcessingRunnable.run(Unknown Source)\n    at java.awt.event.InvocationEvent.dispatch(Unknown Source)\n    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n    at java.awt.EventQueue.access$500(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue.dispatchEvent(Unknown Source)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.run(Unknown Source)\n</code></pre>\n<p>It says the problem is in <code>Game.java</code> line 45 but I really don't understand what could be causing this.</p>\n"},{"tags":["java","json","gson","java-time"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1634123564,"post_id":69554414,"comment_id":122940157,"body_markdown":"Please include the full stacktrace.","body":"Please include the full stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635504128,"creation_date":1635504128,"answer_id":69767532,"question_id":69554414,"body_markdown":"Your issue is unrelated to Gson, it also occurs when just running the date formatting code:\r\n```java\r\nLocalDateTime date = LocalDateTime.now()\r\nDateTimeFormatter.ISO_INSTANT\r\n  .withZone(ZoneId.systemDefault())\r\n  .withLocale(Locale.getDefault())\r\n  .format(date);\r\n```\r\n\r\nException:\r\n```java\r\nException java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: InstantSeconds\r\n    at LocalDate.get0 (LocalDate.java:709)\r\n    at LocalDate.getLong (LocalDate.java:688)\r\n    at LocalDateTime.getLong (LocalDateTime.java:718)\r\n    at DateTimePrintContext$1.getLong (DateTimePrintContext.java:205)\r\n    at DateTimePrintContext.getValue (DateTimePrintContext.java:308)\r\n    at DateTimeFormatterBuilder$InstantPrinterParser.format (DateTimeFormatterBuilder.java:3459)\r\n    at DateTimeFormatterBuilder$CompositePrinterParser.format (DateTimeFormatterBuilder.java:2402)\r\n    at DateTimeFormatter.formatTo (DateTimeFormatter.java:1849)\r\n    at DateTimeFormatter.format (DateTimeFormatter.java:1823)\r\n    at (#5:1)\r\n```\r\n\r\nIt appears (based on [this comment](https://bugs.openjdk.java.net/browse/JDK-8171199?focusedCommentId=14032023&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-14032023)) that you should [convert the `LocalDateTime` to a `ZonedDateTime`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#of(java.time.LocalDateTime,java.time.ZoneId)) before formatting it.","title":"Serialise LocalDateTime with gson and ISO_INSTANT generates error: Unsupported field","body":"<p>Your issue is unrelated to Gson, it also occurs when just running the date formatting code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime date = LocalDateTime.now()\nDateTimeFormatter.ISO_INSTANT\n  .withZone(ZoneId.systemDefault())\n  .withLocale(Locale.getDefault())\n  .format(date);\n</code></pre>\n<p>Exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: InstantSeconds\n    at LocalDate.get0 (LocalDate.java:709)\n    at LocalDate.getLong (LocalDate.java:688)\n    at LocalDateTime.getLong (LocalDateTime.java:718)\n    at DateTimePrintContext$1.getLong (DateTimePrintContext.java:205)\n    at DateTimePrintContext.getValue (DateTimePrintContext.java:308)\n    at DateTimeFormatterBuilder$InstantPrinterParser.format (DateTimeFormatterBuilder.java:3459)\n    at DateTimeFormatterBuilder$CompositePrinterParser.format (DateTimeFormatterBuilder.java:2402)\n    at DateTimeFormatter.formatTo (DateTimeFormatter.java:1849)\n    at DateTimeFormatter.format (DateTimeFormatter.java:1823)\n    at (#5:1)\n</code></pre>\n<p>It appears (based on <a href=\"https://bugs.openjdk.java.net/browse/JDK-8171199?focusedCommentId=14032023&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-14032023\" rel=\"nofollow noreferrer\">this comment</a>) that you should <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#of(java.time.LocalDateTime,java.time.ZoneId)\" rel=\"nofollow noreferrer\">convert the <code>LocalDateTime</code> to a <code>ZonedDateTime</code></a> before formatting it.</p>\n"}],"owner":{"account_id":1232622,"reputation":37,"user_id":1196875,"display_name":"Anders"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69767532,"answer_count":1,"score":0,"last_activity_date":1635504128,"creation_date":1634123321,"question_id":69554414,"body_markdown":"Have a java object with a LocalDateTime property that I want to serialize and deserialize with gson.\r\nI am using ISO_INSTANT as the format for datetime in the json output\r\n\r\nHave tried creating a TypeAdaptor for GSON with the help from this post \r\n&gt; https://stackoverflow.com/a/39193077/1196875\r\n\r\nBut get &quot;Unsupported field: InstantSeconds&quot;\r\n\r\n\r\nMaybe I have gotten the date conversion messed up?\r\n\r\n```\r\nclass LocalDateTimeSerializer implements JsonSerializer&lt;LocalDateTime&gt; {\r\n\t\t\t@Override\r\n\t\t\tpublic JsonElement serialize(LocalDateTime date, Type typeOfSrc, JsonSerializationContext context) {\r\n\t\t\t\treturn new JsonPrimitive(\r\n\t\t\t\t\t\tDateTimeFormatter.ISO_INSTANT.withZone(ZoneId.systemDefault()).withLocale(Locale.getDefault()).format(date)); // &quot;yyyy-mm-ddThhMMssZ&quot;\r\n\t\t}\r\n}\r\n```","title":"Serialise LocalDateTime with gson and ISO_INSTANT generates error: Unsupported field","body":"<p>Have a java object with a LocalDateTime property that I want to serialize and deserialize with gson.\nI am using ISO_INSTANT as the format for datetime in the json output</p>\n<p>Have tried creating a TypeAdaptor for GSON with the help from this post</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/a/39193077/1196875\">https://stackoverflow.com/a/39193077/1196875</a></p>\n</blockquote>\n<p>But get &quot;Unsupported field: InstantSeconds&quot;</p>\n<p>Maybe I have gotten the date conversion messed up?</p>\n<pre><code>class LocalDateTimeSerializer implements JsonSerializer&lt;LocalDateTime&gt; {\n            @Override\n            public JsonElement serialize(LocalDateTime date, Type typeOfSrc, JsonSerializationContext context) {\n                return new JsonPrimitive(\n                        DateTimeFormatter.ISO_INSTANT.withZone(ZoneId.systemDefault()).withLocale(Locale.getDefault()).format(date)); // &quot;yyyy-mm-ddThhMMssZ&quot;\n        }\n}\n</code></pre>\n"},{"tags":["java","indexof"],"comments":[{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1600314793,"post_id":63930841,"comment_id":113050056,"body_markdown":"Rather than trying to do everything in one line, it&#39;s usually easier to understand your own code by assigning the intermediate work to variables.  Like `int firstSpaceIndex = sentence.indexOf(&quot; &quot;)`, etc.","body":"Rather than trying to do everything in one line, it&#39;s usually easier to understand your own code by assigning the intermediate work to variables.  Like <code>int firstSpaceIndex = sentence.indexOf(&quot; &quot;)</code>, etc."}],"answers":[{"tags":[],"owner":{"account_id":2596537,"reputation":1234,"user_id":2250097,"display_name":"tomgeraghty3"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600313974,"creation_date":1600313974,"answer_id":63930923,"question_id":63930841,"body_markdown":"You could split the sentence into &quot;parts&quot; using `String.split(&quot; &quot;)` which will give you an array of the words.\r\n\r\n    String[] words = sentence.split(&quot; &quot;);\r\n    String secondWord = words[1];   //0 based\r\n\r\nWatch out for `ArrayIndexOutOfBoundsException` if the words `String` array has a length less than 2","title":"How can I find a second space character in a string using indexOf in Java?","body":"<p>You could split the sentence into &quot;parts&quot; using <code>String.split(&quot; &quot;)</code> which will give you an array of the words.</p>\n<pre><code>String[] words = sentence.split(&quot; &quot;);\nString secondWord = words[1];   //0 based\n</code></pre>\n<p>Watch out for <code>ArrayIndexOutOfBoundsException</code> if the words <code>String</code> array has a length less than 2</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600314487,"creation_date":1600314487,"answer_id":63930983,"question_id":63930841,"body_markdown":"If you must use indexOf,just like this:\r\n\r\n    sentence.substring(sentence.indexOf(&quot; &quot;) + 1, sentence.indexOf(&quot; &quot;, sentence.indexOf(&quot; &quot;) + 1));\r\n\r\n\r\nBut the better way is what like @tomgeraghty3","title":"How can I find a second space character in a string using indexOf in Java?","body":"<p>If you must use indexOf,just like this:</p>\n<pre><code>sentence.substring(sentence.indexOf(&quot; &quot;) + 1, sentence.indexOf(&quot; &quot;, sentence.indexOf(&quot; &quot;) + 1));\n</code></pre>\n<p>But the better way is what like @tomgeraghty3</p>\n"}],"owner":{"account_id":19531881,"reputation":21,"user_id":14291456,"display_name":"Rohan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4466,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1635504048,"creation_date":1600313440,"question_id":63930841,"body_markdown":"My problem is as follows:\r\n&gt;Assume that sentence is a variable of type String that has been assigned a value. Assume furthermore that this value is a String consisting of words separated by single space characters with a period at the end. For example: &quot;This is a possible value of sentence.&quot;\r\n\r\n&gt;Assume that there is another variable declared, secondWord, also of type String. Write the statements needed so that the second word of the value of sentence is assigned to secondWord. So, if the value of sentence were &quot;Broccoli is delicious.&quot; your code would assign the value &quot;is&quot; to secondWord.\r\n\r\nI have written the following code:\r\n\r\n```secondWord = sentence.substring(sentence.indexOf(&quot; &quot;, sentence.indexOf(&quot; &quot;+1)));```\r\n\r\nI have no idea what I&#39;m doing so I would appreciate any explanation of what I should do. Keep in mind I&#39;m very new to coding and I can&#39;t use things like loop. Thank you.\r\n","title":"How can I find a second space character in a string using indexOf in Java?","body":"<p>My problem is as follows:</p>\n<blockquote>\n<p>Assume that sentence is a variable of type String that has been assigned a value. Assume furthermore that this value is a String consisting of words separated by single space characters with a period at the end. For example: &quot;This is a possible value of sentence.&quot;</p>\n</blockquote>\n<blockquote>\n<p>Assume that there is another variable declared, secondWord, also of type String. Write the statements needed so that the second word of the value of sentence is assigned to secondWord. So, if the value of sentence were &quot;Broccoli is delicious.&quot; your code would assign the value &quot;is&quot; to secondWord.</p>\n</blockquote>\n<p>I have written the following code:</p>\n<p><code>secondWord = sentence.substring(sentence.indexOf(&quot; &quot;, sentence.indexOf(&quot; &quot;+1)));</code></p>\n<p>I have no idea what I'm doing so I would appreciate any explanation of what I should do. Keep in mind I'm very new to coding and I can't use things like loop. Thank you.</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"display_name":"user10386912"},"score":0,"creation_date":1549976484,"post_id":54648954,"comment_id":96092595,"body_markdown":"is the `requestInfo` variable outputted with `System.out.println` or in a browser window?","body":"is the <code>requestInfo</code> variable outputted with <code>System.out.println</code> or in a browser window?"},{"owner":{"account_id":11352719,"reputation":453,"user_id":8323165,"display_name":"Matt Vegas"},"score":0,"creation_date":1549976909,"post_id":54648954,"comment_id":96092864,"body_markdown":"@ValentinCarnu i updated the topic, i&#39;m getting the value and do getBytes and writing the output as attachment","body":"@ValentinCarnu i updated the topic, i&#39;m getting the value and do getBytes and writing the output as attachment"}],"answers":[{"tags":[],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549977352,"creation_date":1549977024,"answer_id":54650869,"question_id":54648954,"body_markdown":"Your issue is the newline character.\r\n\r\nInstead of `\\n`, use `\\r\\n` for your new line in the file.\r\n\r\nHowever, this will not fix the issue on all platforms, only the one you&#39;re testing on.\r\n\r\nSee here for more info on newlines and different platforms:\r\n\r\nhttps://superuser.com/questions/374028/how-are-n-and-r-handled-differently-on-linux-and-windows\r\n\r\nYou can also try something like:\r\n\r\n`output.write(request.getRequestInfo().replaceAll(&quot;(\\\\\\\\r\\\\\\\\n|\\\\\\\\n)&quot;, &quot;\\\\\\n&quot;));`\r\n\r\nAgain, your servlet has no idea which platform the browser is on (Windows, Mac, or whatever) so unless you&#39;re going to look at the user agent header or something you&#39;ll always have a problem with one system or the other.\r\n","title":"Why is missing the carriage return?","body":"<p>Your issue is the newline character.</p>\n\n<p>Instead of <code>\\n</code>, use <code>\\r\\n</code> for your new line in the file.</p>\n\n<p>However, this will not fix the issue on all platforms, only the one you're testing on.</p>\n\n<p>See here for more info on newlines and different platforms:</p>\n\n<p><a href=\"https://superuser.com/questions/374028/how-are-n-and-r-handled-differently-on-linux-and-windows\">https://superuser.com/questions/374028/how-are-n-and-r-handled-differently-on-linux-and-windows</a></p>\n\n<p>You can also try something like:</p>\n\n<p><code>output.write(request.getRequestInfo().replaceAll(\"(\\\\\\\\r\\\\\\\\n|\\\\\\\\n)\", \"\\\\\\n\"));</code></p>\n\n<p>Again, your servlet has no idea which platform the browser is on (Windows, Mac, or whatever) so unless you're going to look at the user agent header or something you'll always have a problem with one system or the other.</p>\n"}],"owner":{"account_id":11352719,"reputation":453,"user_id":8323165,"display_name":"Matt Vegas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54650869,"answer_count":1,"score":0,"last_activity_date":1635503699,"creation_date":1549970344,"question_id":54648954,"body_markdown":"I have a SQL command that is updating a field into a table and populate this based on a &quot;cat file.txt&quot;. This file as a lot of lines and I would like later to have into the hibernate field but seems that after reading it from db hibernate remove all carriage return.\r\n\r\nThis is the script I execute from shell script(bash):\r\n\r\n     REQUEST_FILE=`cat file.txt`\r\n     echo &quot;UPDATE table SET request_info=&#39;$REQUEST_FILE&#39;  WHERE id=1;&quot; &gt; ./after.sql \r\n\r\nif I do cat of the after.sql I get:\r\n\r\n     UPDATE table SET request_info=&#39;1-Start-Env Script for Env\r\n     2-insert done\r\n     3-update info done\r\n     4-all performed correctly&#39;  WHERE id=29;\r\n\r\nthis is the DB table structure:\r\n\r\n    Table: table\r\n    Columns:\r\n    id int(11) AI PK \r\n    submit_date datetime \r\n    request_type varchar(45) \r\n    request_info longtext\r\n\r\nthis is the data stored on db and how is the row:\r\n\r\n    # id, submit_date,request_type, request_info\r\n    &#39;29&#39;, &#39;2019-02-11 04:55:21&#39;, &#39;check&#39;, &#39;1-Start-Env Script for Env\\n2-insert done\\n3-update info done\\n4-all performed correctly&#39;\r\n\r\nSo till this step I guess all is ok as field is containing the &#39;\\n&#39;\r\n\r\nHibernate class is done in this way:\r\n\r\n    @Entity\r\n    @Table(name=&quot;table&quot;)\r\n    @NamedQuery(name=&quot;Table.findAll&quot;, query=&quot;SELECT u FROM Table u&quot;)\r\n    public class Table implements Serializable {\r\n\t   private static final long serialVersionUID = 1L;\r\n\r\n\t   @Id\r\n\t   @GeneratedValue\r\n\t   private int id;\r\n\t\r\n\t   @Column(name=&quot;request_info&quot;)\r\n\t   private String requestInfo;\r\n\r\n\t   @Column(name=&quot;request_type&quot;)\r\n\t   private String requestType;\r\n\r\n\t   @Temporal(TemporalType.TIMESTAMP)\r\n\t   @Column(name=&quot;submit_date&quot;)\r\n\t   private Date submitDate;\r\n\r\nand when I access to the requestInfo variable the output is:\r\n\r\n&gt; 1-Start-Env Script for Env2-insert done3-update info done4-all performed correctly\r\n\r\nThis variable is used to create a file after clicking a button from a JSF page:\r\n\r\n      HttpServletResponse response = (HttpServletResponse) \r\n      fc.getExternalContext().getResponse();\r\n\r\n        response.reset();\r\n        response.setContentType(&quot;text/plain&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\r\n\r\n        OutputStream output = response.getOutputStream();\r\n\r\n         output.write(request.getRequestInfo().getBytes());\r\n\r\n        output.flush();\r\n        output.close();\r\n\r\nIf i do the System.out I see correct data, then I guess is the getBytes function is not returning the carriage return:\r\n\r\n\t         System.out.println(&quot;file content:&quot; +request.getRequestInfo());\r\n\r\nOutput:\r\n\r\n    file content:1-Start-Env Script for Env \r\n    2-insert done \r\n    3-update info done \r\n    4-all performed correctly\r\n\r\ndo you have any idea? thanks","title":"Why is missing the carriage return?","body":"<p>I have a SQL command that is updating a field into a table and populate this based on a \"cat file.txt\". This file as a lot of lines and I would like later to have into the hibernate field but seems that after reading it from db hibernate remove all carriage return.</p>\n\n<p>This is the script I execute from shell script(bash):</p>\n\n<pre><code> REQUEST_FILE=`cat file.txt`\n echo \"UPDATE table SET request_info='$REQUEST_FILE'  WHERE id=1;\" &gt; ./after.sql \n</code></pre>\n\n<p>if I do cat of the after.sql I get:</p>\n\n<pre><code> UPDATE table SET request_info='1-Start-Env Script for Env\n 2-insert done\n 3-update info done\n 4-all performed correctly'  WHERE id=29;\n</code></pre>\n\n<p>this is the DB table structure:</p>\n\n<pre><code>Table: table\nColumns:\nid int(11) AI PK \nsubmit_date datetime \nrequest_type varchar(45) \nrequest_info longtext\n</code></pre>\n\n<p>this is the data stored on db and how is the row:</p>\n\n<pre><code># id, submit_date,request_type, request_info\n'29', '2019-02-11 04:55:21', 'check', '1-Start-Env Script for Env\\n2-insert done\\n3-update info done\\n4-all performed correctly'\n</code></pre>\n\n<p>So till this step I guess all is ok as field is containing the '\\n'</p>\n\n<p>Hibernate class is done in this way:</p>\n\n<pre><code>@Entity\n@Table(name=\"table\")\n@NamedQuery(name=\"Table.findAll\", query=\"SELECT u FROM Table u\")\npublic class Table implements Serializable {\n   private static final long serialVersionUID = 1L;\n\n   @Id\n   @GeneratedValue\n   private int id;\n\n   @Column(name=\"request_info\")\n   private String requestInfo;\n\n   @Column(name=\"request_type\")\n   private String requestType;\n\n   @Temporal(TemporalType.TIMESTAMP)\n   @Column(name=\"submit_date\")\n   private Date submitDate;\n</code></pre>\n\n<p>and when I access to the requestInfo variable the output is:</p>\n\n<blockquote>\n  <p>1-Start-Env Script for Env2-insert done3-update info done4-all performed correctly</p>\n</blockquote>\n\n<p>This variable is used to create a file after clicking a button from a JSF page:</p>\n\n<pre><code>  HttpServletResponse response = (HttpServletResponse) \n  fc.getExternalContext().getResponse();\n\n    response.reset();\n    response.setContentType(\"text/plain\");\n    response.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"\" + filename + \"\\\"\");\n\n    OutputStream output = response.getOutputStream();\n\n     output.write(request.getRequestInfo().getBytes());\n\n    output.flush();\n    output.close();\n</code></pre>\n\n<p>If i do the System.out I see correct data, then I guess is the getBytes function is not returning the carriage return:</p>\n\n<pre><code>         System.out.println(\"file content:\" +request.getRequestInfo());\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>file content:1-Start-Env Script for Env \n2-insert done \n3-update info done \n4-all performed correctly\n</code></pre>\n\n<p>do you have any idea? thanks</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4030233,"reputation":4573,"user_id":3316645,"accept_rate":92,"display_name":"domsson"},"score":0,"creation_date":1490998584,"post_id":43150442,"comment_id":73377939,"body_markdown":"Hey mann, you should read up on *[ask]* and also check out *[Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)*","body":"Hey mann, you should read up on <i><a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a></i> and also check out <i><a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a></i>"},{"owner":{"account_id":4030233,"reputation":4573,"user_id":3316645,"accept_rate":92,"display_name":"domsson"},"score":0,"creation_date":1490998953,"post_id":43150442,"comment_id":73378039,"body_markdown":"Also, what kind of interview is that?","body":"Also, what kind of interview is that?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1490999959,"post_id":43150442,"comment_id":73378303,"body_markdown":"Also read: [How do I compare strings in Java?](http://stackoverflow.com/q/513832/5221149)","body":"Also read: <a href=\"http://stackoverflow.com/q/513832/5221149\">How do I compare strings in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7197320,"reputation":460,"user_id":5495701,"accept_rate":29,"display_name":"Slepz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490998693,"creation_date":1490998693,"answer_id":43150483,"question_id":43150442,"body_markdown":"A simple (but not very efficient) way would be to add all the elements to a set, which doesn&#39;t allow duplicates. See https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set. Then iterate through the set and count the number of occurrences in your array, printing out the answer after each set element you check.","title":"i want to count occurrence of each word in a given sentence in java","body":"<p>A simple (but not very efficient) way would be to add all the elements to a set, which doesn't allow duplicates. See <a href=\"https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set\">How to efficiently remove duplicates from an array without using Set</a>. Then iterate through the set and count the number of occurrences in your array, printing out the answer after each set element you check.</p>\n"},{"tags":[],"owner":{"account_id":6816538,"reputation":1507,"user_id":5245032,"accept_rate":100,"display_name":"Robert I"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490998872,"creation_date":1490998872,"answer_id":43150514,"question_id":43150442,"body_markdown":"**Use a hashmap to count frequency of objects**\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class Funly {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint counter = 0;\r\n    \t\tString a = &quot; To associate myself with an organization that provides a challenging job and an opportunity to provide innovative and diligent work.&quot;;\r\n    \r\n    \t\tString[] b = a.split(&quot; &quot;); // stored in array and splitted\r\n    \t\tHashMap&lt;String, Integer&gt; freqMap = new HashMap&lt;String, Integer&gt;();\r\n    \t\tfor (int i = 0; i &lt; b.length; i++) {\r\n    \t\t\tString key = b[i];\r\n    \t\t\tint freq = freqMap.getOrDefault(key, 0);\r\n    \t\t\tfreqMap.put(key, ++freq);\r\n    \t\t}\r\n    \t\tfor (Entry&lt;String, Integer&gt; result : freqMap.entrySet()) {\r\n    \t\t\tSystem.out.println(result.getKey() + &quot; &quot; + result.getValue());\r\n    \t\t}\r\n    \t}\r\n    }","title":"i want to count occurrence of each word in a given sentence in java","body":"<p><strong>Use a hashmap to count frequency of objects</strong></p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map.Entry;\n\npublic class Funly {\n    public static void main(String[] args) {\n        int counter = 0;\n        String a = \" To associate myself with an organization that provides a challenging job and an opportunity to provide innovative and diligent work.\";\n\n        String[] b = a.split(\" \"); // stored in array and splitted\n        HashMap&lt;String, Integer&gt; freqMap = new HashMap&lt;String, Integer&gt;();\n        for (int i = 0; i &lt; b.length; i++) {\n            String key = b[i];\n            int freq = freqMap.getOrDefault(key, 0);\n            freqMap.put(key, ++freq);\n        }\n        for (Entry&lt;String, Integer&gt; result : freqMap.entrySet()) {\n            System.out.println(result.getKey() + \" \" + result.getValue());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4030233,"reputation":4573,"user_id":3316645,"accept_rate":92,"display_name":"domsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490998892,"creation_date":1490998892,"answer_id":43150518,"question_id":43150442,"body_markdown":"There are several solutions to this and I&#39;m not going to provide you with any of them. However, I&#39;m going to give you a rough outline of one possible solution:\r\n\r\nYou could use a `Map`, for example a [`HashMap`](https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html), where you use the words as keys and the number of their occurrence as values. Then, all you need to do is to split the input string on spaces and iterate over the resulting array. For each word, you check if it already exists in the map. If so you increase the value by one, otherwise you add the word to the map and set the value to `1`. After that, you can iterate over the map to create the desired output.","title":"i want to count occurrence of each word in a given sentence in java","body":"<p>There are several solutions to this and I'm not going to provide you with any of them. However, I'm going to give you a rough outline of one possible solution:</p>\n\n<p>You could use a <code>Map</code>, for example a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><code>HashMap</code></a>, where you use the words as keys and the number of their occurrence as values. Then, all you need to do is to split the input string on spaces and iterate over the resulting array. For each word, you check if it already exists in the map. If so you increase the value by one, otherwise you add the word to the map and set the value to <code>1</code>. After that, you can iterate over the map to create the desired output.</p>\n"},{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490999012,"creation_date":1490999012,"answer_id":43150530,"question_id":43150442,"body_markdown":"You need to use **`Map` data structure which stores data in key-value pairs**. \r\n\r\nYou can use the **`HashMap` (implementation of `Map`) to store each word as key and their occurance as the value** inside the Map as shown in the below code with inline comments:\r\n\r\n\r\n    String[] b =a.split(&quot; &quot;); //split the array\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();//create a Map object\r\n    Integer counter=null;//initalize counter\r\n    for(int i=0;i&lt;b.length;i++) { //loop the whole array\r\n         counter=map.get(b[i]);//get element from map\r\n         if(map.get(b[i]) == null) { //check if it already exists\r\n    \t\t  map.put(b[i], 1);//not exist, add with counter as 1\r\n    \t } else {\r\n    \t\t  counter++;//if already eists, increment the counter &amp; put to Map\r\n    \t\t   map.put(b[i], counter);\r\n    \t }\r\n    }  ","title":"i want to count occurrence of each word in a given sentence in java","body":"<p>You need to use <strong><code>Map</code> data structure which stores data in key-value pairs</strong>. </p>\n\n<p>You can use the <strong><code>HashMap</code> (implementation of <code>Map</code>) to store each word as key and their occurance as the value</strong> inside the Map as shown in the below code with inline comments:</p>\n\n<pre><code>String[] b =a.split(\" \"); //split the array\nMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();//create a Map object\nInteger counter=null;//initalize counter\nfor(int i=0;i&lt;b.length;i++) { //loop the whole array\n     counter=map.get(b[i]);//get element from map\n     if(map.get(b[i]) == null) { //check if it already exists\n          map.put(b[i], 1);//not exist, add with counter as 1\n     } else {\n          counter++;//if already eists, increment the counter &amp; put to Map\n           map.put(b[i], counter);\n     }\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9664613,"reputation":1,"user_id":7171470,"display_name":"shashi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531205090,"creation_date":1531205090,"answer_id":51258726,"question_id":43150442,"body_markdown":"Using simple For loops\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString input = &quot;Table is this Table&quot;;\r\n\t\tString[] arr1 = input.split(&quot; &quot;);\r\n\t\tint count = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; arr1.length; i++) {\r\n\t\t\tcount = 0;\r\n\r\n\t\t\tfor (int j = 0; j &lt; arr1.length; j++) {\r\n\t\t\t\tString temp = arr1[j];\r\n\t\t\t\tString temp1 = arr1[i];\r\n\r\n\t\t\t\tif (j &lt; i &amp;&amp; temp.contentEquals(temp1)) {\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif (temp.contentEquals(temp1)) {\r\n\t\t\t\t\tcount = count + 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (j == arr1.length - 1) {\r\n\t\t\t\t\tSystem.out.println(&quot;&gt;&gt;&quot; + arr1[i] + &quot;&lt;&lt; is present &gt;&gt;&quot; + count + &quot;&lt;&lt; number of times&quot;);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}","title":"i want to count occurrence of each word in a given sentence in java","body":"<p>Using simple For loops</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String input = \"Table is this Table\";\n    String[] arr1 = input.split(\" \");\n    int count = 0;\n\n    for (int i = 0; i &lt; arr1.length; i++) {\n        count = 0;\n\n        for (int j = 0; j &lt; arr1.length; j++) {\n            String temp = arr1[j];\n            String temp1 = arr1[i];\n\n            if (j &lt; i &amp;&amp; temp.contentEquals(temp1)) {\n                break;\n\n            }\n            if (temp.contentEquals(temp1)) {\n                count = count + 1;\n\n            }\n\n            if (j == arr1.length - 1) {\n                System.out.println(\"&gt;&gt;\" + arr1[i] + \"&lt;&lt; is present &gt;&gt;\" + count + \"&lt;&lt; number of times\");\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10559241,"reputation":991,"user_id":7779517,"display_name":"Eduard Dubilyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635503599,"creation_date":1635499314,"answer_id":69766463,"question_id":43150442,"body_markdown":"Quite easy since Java8:\r\n\r\n     public static Map&lt;String, Long&gt; countOccurrences(String sentence) {\r\n        return Arrays.stream(sentence.split(&quot; &quot;))\r\n                .collect(Collectors.groupingBy(\r\n                                Function.identity(), Collectors.counting()\r\n                        )\r\n                );\r\n    }\r\n\r\n\r\nI would also remove non literal symbols, and convert to lowecase before running:\r\n\r\n    String tmp = sentence.replaceAll(&quot;[^A-Za-z\\\\s]&quot;, &quot;&quot;);\r\n\r\nSo your final main method for interview will be:\r\n\r\n    ppublic static void main(String[] args) {\r\n        String sentence = &quot;To associate myself with an organization that provides a challenging job and an opportunity to provide innovative and diligent work.&quot;;\r\n        String tmp = sentence.replaceAll(&quot;[^A-Za-z\\\\s]&quot;, &quot;&quot;).toLowerCase();\r\n        System.out.println(\r\n                countOccurrences(tmp)\r\n        );\r\n    }\r\n\r\nOutput is:\r\n\r\n`{diligent=1, a=1, work=1, myself=1, opportunity=1, challenging=1, an=2, associate=1, innovative=1, that=1, with=1, provide=1, and=2, provides=1, organization=1, to=2, job=1}\r\n`\r\n\r\n","title":"i want to count occurrence of each word in a given sentence in java","body":"<p>Quite easy since Java8:</p>\n<pre><code> public static Map&lt;String, Long&gt; countOccurrences(String sentence) {\n    return Arrays.stream(sentence.split(&quot; &quot;))\n            .collect(Collectors.groupingBy(\n                            Function.identity(), Collectors.counting()\n                    )\n            );\n}\n</code></pre>\n<p>I would also remove non literal symbols, and convert to lowecase before running:</p>\n<pre><code>String tmp = sentence.replaceAll(&quot;[^A-Za-z\\\\s]&quot;, &quot;&quot;);\n</code></pre>\n<p>So your final main method for interview will be:</p>\n<pre><code>ppublic static void main(String[] args) {\n    String sentence = &quot;To associate myself with an organization that provides a challenging job and an opportunity to provide innovative and diligent work.&quot;;\n    String tmp = sentence.replaceAll(&quot;[^A-Za-z\\\\s]&quot;, &quot;&quot;).toLowerCase();\n    System.out.println(\n            countOccurrences(tmp)\n    );\n}\n</code></pre>\n<p>Output is:</p>\n<p><code>{diligent=1, a=1, work=1, myself=1, opportunity=1, challenging=1, an=2, associate=1, innovative=1, that=1, with=1, provide=1, and=2, provides=1, organization=1, to=2, job=1} </code></p>\n"}],"owner":{"account_id":10588148,"reputation":11,"user_id":7799744,"display_name":"mann"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12029,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":6,"score":-1,"last_activity_date":1635503599,"creation_date":1490998370,"question_id":43150442,"body_markdown":"**beginner at java was asked in an interview** \r\nhere i have to count the occurrence of each word in a given sentence.\r\nfor eg( &quot;chair is equal to chair but not equal to table.&quot;\r\n           Output : chair :2,\r\n                    is :1,\r\n                    equal :2,\r\n                    to :2,\r\n                    but :1,\r\n                    not :1,\r\n                    table :1 )\r\nI have written some part of the code and tried using for loop but i failed.... \r\n  \r\n    public static void main(String[] args) \r\n    {\r\n                int counter = 0;\r\n       String a = &quot; To associate myself with an organization that provides a challenging job and an opportunity to provide innovative and diligent work.&quot;; \r\n\r\n       String[] b =a.split(&quot; &quot;); //stored in array and splitted\r\n                  \r\n     for(int i=0;i&lt;b.length;i++)\r\n     { \r\n         counter=0;\r\n         for(int j&lt;b.length;j&gt;0;j--)\r\n         {      \r\n             if(b[i] = b[j])\r\n              //\r\n\r\n\r\n         }\r\n     }       \r\n    }\r\n    \r\n}","title":"i want to count occurrence of each word in a given sentence in java","body":"<p><strong>beginner at java was asked in an interview</strong> \nhere i have to count the occurrence of each word in a given sentence.\nfor eg( \"chair is equal to chair but not equal to table.\"\n           Output : chair :2,\n                    is :1,\n                    equal :2,\n                    to :2,\n                    but :1,\n                    not :1,\n                    table :1 )\nI have written some part of the code and tried using for loop but i failed.... </p>\n\n<pre><code>public static void main(String[] args) \n{\n            int counter = 0;\n   String a = \" To associate myself with an organization that provides a challenging job and an opportunity to provide innovative and diligent work.\"; \n\n   String[] b =a.split(\" \"); //stored in array and splitted\n\n for(int i=0;i&lt;b.length;i++)\n { \n     counter=0;\n     for(int j&lt;b.length;j&gt;0;j--)\n     {      \n         if(b[i] = b[j])\n          //\n\n\n     }\n }       \n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1635450693,"post_id":69760009,"comment_id":123309120,"body_markdown":"Post your code.  Its hard to say what&#39;s going wrong without that.","body":"Post your code.  Its hard to say what&#39;s going wrong without that."},{"owner":{"account_id":23127752,"reputation":89,"user_id":17233314,"display_name":"User"},"score":0,"creation_date":1635503598,"post_id":69760009,"comment_id":123321836,"body_markdown":"I updated my question. Please see if you could help now @GabeSechan","body":"I updated my question. Please see if you could help now @GabeSechan"}],"owner":{"account_id":23127752,"reputation":89,"user_id":17233314,"display_name":"User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635503561,"creation_date":1635450159,"question_id":69760009,"body_markdown":"I have a fragment containing a `FrameLayout`. And I load a `PreferenceFragment` into that `FrameLayout` if fragment is being created for the first time. The issue is when I change the orientation of the device the Fragments load in correctly but the `FrameLayout` doesn&#39;t show anything.\r\n\r\nIf I have to be more detailed then, the `PreferenceFragment` opens more `PreferenceFragments` with class name defined in the xml. And now say navigated a couple of preferences inside then, each time a Ui change occurs the `FrameLayout` firstly gets blank and further pops out the fragments in the backstack.\r\n\r\nSo what am I missing out? It would be really helpful if someone can explain the reason to me.\r\n\r\n**Here&#39;s my code:**\r\n``` java\r\n// BottomNavigationViewAdapter\r\n\r\npublic class MainNavigationAdapter extends FragmentStateAdapter {\r\n\r\n    public MainNavigationAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n        super(fragmentActivity);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n\r\n        switch (position) {\r\n\r\n            case 0:\r\n                return new FragmentA();\r\n            case 1:\r\n                return new FragmentB();\r\n            case 2:\r\n                return new MyProfileFragment();\r\n            default:\r\n                return null;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 3;\r\n    }\r\n\r\n}\r\n```\r\n``` java\r\n// MyProfileFragment\r\n\r\n@Override\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    super.onViewCreated(view, savedInstanceState);\r\n\r\n    if (savedInstanceState == null) {\r\n        requireActivity().getSupportFragmentManager().beginTransaction().replace(R.id.mpf_frame_fl, new MainSettingsPreference()).commit();\r\n    }\r\n\r\n}\r\n\r\n```\r\n``` xml\r\n&lt;!-- main_settings_preference.xml --&gt;\r\n\r\n&lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;Preference\r\n        android:icon=&quot;@drawable/appearance&quot;\r\n        android:title=&quot;@string/appearance&quot;\r\n        app:fragment=&quot;com.xyz.abc.Settings.AppearanceFragment&quot; /&gt;\r\n\r\n    &lt;Preference\r\n        android:icon=&quot;@drawable/profile&quot;\r\n        android:title=&quot;@string/account_settings&quot;\r\n        app:fragment=&quot;com.xyz.abc.Settings.AccountSettingsPreference&quot; /&gt;\r\n\r\n    &lt;Preference\r\n        android:icon=&quot;@drawable/accessibility&quot;\r\n        android:key=&quot;ms_accessibility&quot;\r\n        android:title=&quot;@string/accessibility&quot;\r\n        app:fragment=&quot;com.xyz.abc.Settings.AccessibilityPreference&quot; /&gt;\r\n\r\n    &lt;Preference\r\n        android:icon=&quot;@drawable/privacy&quot;\r\n        android:key=&quot;ms_privacy&quot;\r\n        android:title=&quot;@string/privacy_settings&quot;\r\n        app:fragment=&quot;com.xyz.abc.Settings.SecurityPreference&quot; /&gt;\r\n\r\n&lt;/PreferenceScreen&gt;\r\n```","title":"Handling PreferenceFragments over Ui Changes","body":"<p>I have a fragment containing a <code>FrameLayout</code>. And I load a <code>PreferenceFragment</code> into that <code>FrameLayout</code> if fragment is being created for the first time. The issue is when I change the orientation of the device the Fragments load in correctly but the <code>FrameLayout</code> doesn't show anything.</p>\n<p>If I have to be more detailed then, the <code>PreferenceFragment</code> opens more <code>PreferenceFragments</code> with class name defined in the xml. And now say navigated a couple of preferences inside then, each time a Ui change occurs the <code>FrameLayout</code> firstly gets blank and further pops out the fragments in the backstack.</p>\n<p>So what am I missing out? It would be really helpful if someone can explain the reason to me.</p>\n<p><strong>Here's my code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// BottomNavigationViewAdapter\n\npublic class MainNavigationAdapter extends FragmentStateAdapter {\n\n    public MainNavigationAdapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n\n        switch (position) {\n\n            case 0:\n                return new FragmentA();\n            case 1:\n                return new FragmentB();\n            case 2:\n                return new MyProfileFragment();\n            default:\n                return null;\n\n        }\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return 3;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// MyProfileFragment\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    if (savedInstanceState == null) {\n        requireActivity().getSupportFragmentManager().beginTransaction().replace(R.id.mpf_frame_fl, new MainSettingsPreference()).commit();\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- main_settings_preference.xml --&gt;\n\n&lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;Preference\n        android:icon=&quot;@drawable/appearance&quot;\n        android:title=&quot;@string/appearance&quot;\n        app:fragment=&quot;com.xyz.abc.Settings.AppearanceFragment&quot; /&gt;\n\n    &lt;Preference\n        android:icon=&quot;@drawable/profile&quot;\n        android:title=&quot;@string/account_settings&quot;\n        app:fragment=&quot;com.xyz.abc.Settings.AccountSettingsPreference&quot; /&gt;\n\n    &lt;Preference\n        android:icon=&quot;@drawable/accessibility&quot;\n        android:key=&quot;ms_accessibility&quot;\n        android:title=&quot;@string/accessibility&quot;\n        app:fragment=&quot;com.xyz.abc.Settings.AccessibilityPreference&quot; /&gt;\n\n    &lt;Preference\n        android:icon=&quot;@drawable/privacy&quot;\n        android:key=&quot;ms_privacy&quot;\n        android:title=&quot;@string/privacy_settings&quot;\n        app:fragment=&quot;com.xyz.abc.Settings.SecurityPreference&quot; /&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n"},{"tags":["java","maven","jar","dependencies","classnotfoundexception"],"comments":[{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1635451394,"post_id":69760117,"comment_id":123309341,"body_markdown":"this [question](https://stackoverflow.com/questions/5166898/java-lang-noclassdeffounderror-org-apache-commons-fileupload-fileitemfactory)  should be usefull","body":"this <a href=\"https://stackoverflow.com/questions/5166898/java-lang-noclassdeffounderror-org-apache-commons-fileupload-fileitemfactory\">question</a>  should be usefull"},{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1635451413,"post_id":69760117,"comment_id":123309346,"body_markdown":"Does this answer your question? [java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory](https://stackoverflow.com/questions/5166898/java-lang-noclassdeffounderror-org-apache-commons-fileupload-fileitemfactory)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5166898/java-lang-noclassdeffounderror-org-apache-commons-fileupload-fileitemfactory\">java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory</a>"},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1635451791,"post_id":69760117,"comment_id":123309460,"body_markdown":"Not really, I tried but it still doesn&#39;t work. What I want to know is maybe where the dependencies are located when running the program in IntelliJ. This could help me understand where I need to put them when running the file from the Terminal. @Morteza Jalambadani","body":"Not really, I tried but it still doesn&#39;t work. What I want to know is maybe where the dependencies are located when running the program in IntelliJ. This could help me understand where I need to put them when running the file from the Terminal. @Morteza Jalambadani"},{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1635452603,"post_id":69760117,"comment_id":123309747,"body_markdown":"extract your jar file and sure to contains this files.","body":"extract your jar file and sure to contains this files."},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1635452671,"post_id":69760117,"comment_id":123309762,"body_markdown":"contains which file ?","body":"contains which file ?"},{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1635455031,"post_id":69760117,"comment_id":123310534,"body_markdown":"which file is not found? your question is about org/apache/commons/fileupload/FileItemFactory","body":"which file is not found? your question is about org/apache/commons/fileupload/FileItemFactory"},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1635456237,"post_id":69760117,"comment_id":123310907,"body_markdown":"@MortezaJalambadani if you read the question correctly, you would have known that I said that this issue is to all my dependencies (not only the FileItemFactory)","body":"@MortezaJalambadani if you read the question correctly, you would have known that I said that this issue is to all my dependencies (not only the FileItemFactory)"}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635503455,"creation_date":1635452710,"answer_id":69760473,"question_id":69760117,"body_markdown":"\r\nThe `org.apache.commons.fileupload.FileItemFactory` and most likely other dependencies are not in the classpath. Intellij includes dependencies in the classpath automatically, and this is the reason it works. \r\n\r\nTo run the program from CMD with all your depedecies included define the following plugin in `pom.xml`:\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n        \r\n            &lt;configuration&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n        \r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nand run:\r\n\r\n    mvn clean package\r\n    java -jar server-jar-with-dependencies.jar","title":"ClassNotFoundEcception when running jar through Terminal (or command prompt)","body":"<p>The <code>org.apache.commons.fileupload.FileItemFactory</code> and most likely other dependencies are not in the classpath. Intellij includes dependencies in the classpath automatically, and this is the reason it works.</p>\n<p>To run the program from CMD with all your depedecies included define the following plugin in <code>pom.xml</code>:</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    \n        &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n    \n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>and run:</p>\n<pre><code>mvn clean package\njava -jar server-jar-with-dependencies.jar\n</code></pre>\n"}],"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69760473,"answer_count":1,"score":0,"last_activity_date":1635503455,"creation_date":1635450754,"question_id":69760117,"body_markdown":"So I know there are tons of questions like this one, and I have been through all of them, but I can&#39;t seem to find one like mine.\r\n\r\nBasically, I have a java project with a lot of Maven Dependencies. The project compiles and runs just fine when I run it with IntelliJ, but now I am trying to run it through the terminal (or command prompt). In order to do that, I ran mvn package so I can get a jar file and when I run `java -jar server.jar`, I get the classic ClassNotFoundEcception exception. In my case, it says that it is:\r\n\r\n`Caused by: java.lang.ClassNotFoundException: org.apache.commons.fileupload.FileItemFactory`\r\n\r\nand when I suppress it by (temporarily) commenting out the part of the code that uses this class, I end up with the same error for another class. At this point, I know that I need to have some sort of folder (correct me if I&#39;m wrong, but I believe it is called CLASSPATH) which contains the .jar of each dependency. Can anyone explain to me the situation in a clear way and how am I supposed to organize the .jar file of each dependency (if that is even what I have to do to fix my error).","title":"ClassNotFoundEcception when running jar through Terminal (or command prompt)","body":"<p>So I know there are tons of questions like this one, and I have been through all of them, but I can't seem to find one like mine.</p>\n<p>Basically, I have a java project with a lot of Maven Dependencies. The project compiles and runs just fine when I run it with IntelliJ, but now I am trying to run it through the terminal (or command prompt). In order to do that, I ran mvn package so I can get a jar file and when I run <code>java -jar server.jar</code>, I get the classic ClassNotFoundEcception exception. In my case, it says that it is:</p>\n<p><code>Caused by: java.lang.ClassNotFoundException: org.apache.commons.fileupload.FileItemFactory</code></p>\n<p>and when I suppress it by (temporarily) commenting out the part of the code that uses this class, I end up with the same error for another class. At this point, I know that I need to have some sort of folder (correct me if I'm wrong, but I believe it is called CLASSPATH) which contains the .jar of each dependency. Can anyone explain to me the situation in a clear way and how am I supposed to organize the .jar file of each dependency (if that is even what I have to do to fix my error).</p>\n"},{"tags":["java","multithreading","kotlin","optimization","optaplanner"],"comments":[{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1635426969,"post_id":69746613,"comment_id":123299338,"body_markdown":"Cool, which video game is this?","body":"Cool, which video game is this?"},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1635427604,"post_id":69746613,"comment_id":123299649,"body_markdown":"What happens if you turn on `FULL_ASSERT`? Maybe the input modes uses values that aren&#39;t in the value range.","body":"What happens if you turn on <code>FULL_ASSERT</code>? Maybe the input modes uses values that aren&#39;t in the value range."},{"owner":{"account_id":9305006,"reputation":430,"user_id":6909078,"display_name":"Gabriel Pizarro"},"score":0,"creation_date":1635434511,"post_id":69746613,"comment_id":123302957,"body_markdown":"@GeoffreyDeSmet This tool is for Hypixel SkyBlock, a Minecraft server. For more info, look up SkyBlockSimplified, which I&#39;m helping rewrite. `FULL_ASSERT` doesn&#39;t change the error","body":"@GeoffreyDeSmet This tool is for Hypixel SkyBlock, a Minecraft server. For more info, look up SkyBlockSimplified, which I&#39;m helping rewrite. <code>FULL_ASSERT</code> doesn&#39;t change the error"}],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635427478,"creation_date":1635427478,"answer_id":69754926,"question_id":69746613,"body_markdown":"&gt; The externalObject (ReforgeProblemFact(id=897f...)) with planningId ((class ReforgeProblemFact,897f...)) has no known workingObject (null).\r\n\r\nThat `planningId ((class ReforgeProblemFact` makes no sense, as the planningId class is UUID in your model. \r\nLooking at the code of `PlanningIdLookUpStrategy` line 71, the error message is correct. Put a breakpoint on that line and look at what kind of class the planningId variable is. It should be a UUID.","title":"Optaplanner multithreading exception: &quot;The externalObject ... has no known workingObject&quot;","body":"<blockquote>\n<p>The externalObject (ReforgeProblemFact(id=897f...)) with planningId ((class ReforgeProblemFact,897f...)) has no known workingObject (null).</p>\n</blockquote>\n<p>That <code>planningId ((class ReforgeProblemFact</code> makes no sense, as the planningId class is UUID in your model.\nLooking at the code of <code>PlanningIdLookUpStrategy</code> line 71, the error message is correct. Put a breakpoint on that line and look at what kind of class the planningId variable is. It should be a UUID.</p>\n"},{"tags":[],"owner":{"account_id":9305006,"reputation":430,"user_id":6909078,"display_name":"Gabriel Pizarro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635436145,"creation_date":1635436145,"answer_id":69757204,"question_id":69746613,"body_markdown":"I revisited [the similar SO question](https://stackoverflow.com/questions/66754103/no-known-workingobject-when-trying-to-enable-multi-threading-in-optaplanner). After trying a few different versions of the answer, it finally worked. Here&#39;s a more detailed explanation than the other post:\r\n\r\nEach `PlanningEntity`&#39;s `ProblemFactCollectionProperty` must be part of the main `ProblemFactCollectionProperty` in the `PlanningSolution`. This means that both the entity and solution should have their problem facts defined. Here&#39;s what fixed it for me:\r\n\r\nKeep ItemPlanningEntity.kt the same.\r\n\r\nInclude a global `ProblemFactCollectionProperty` in ReforgePlanningSolution.kt:\r\n```kotlin\r\n@PlanningSolution\r\nclass ReforgePlanningSolution @JvmOverloads constructor(\r\n    @PlanningEntityCollectionProperty\r\n    val availableItems: List&lt;ItemPlanningEntity&gt;? = null,\r\n    @ProblemFactCollectionProperty\r\n    val allReforges: List&lt;ReforgeProblemFact&gt;? = null,\r\n    @PlanningScore\r\n    val score: HardSoftScore? = null\r\n)\r\n```\r\n\r\nDefine the global collection when instantiating the solution in Main.kt:\r\n```kotlin\r\nval solverJob = solverManager.solve(UUID.randomUUID(), ReforgePlanningSolution(availableItems, allReforges))\r\n```","title":"Optaplanner multithreading exception: &quot;The externalObject ... has no known workingObject&quot;","body":"<p>I revisited <a href=\"https://stackoverflow.com/questions/66754103/no-known-workingobject-when-trying-to-enable-multi-threading-in-optaplanner\">the similar SO question</a>. After trying a few different versions of the answer, it finally worked. Here's a more detailed explanation than the other post:</p>\n<p>Each <code>PlanningEntity</code>'s <code>ProblemFactCollectionProperty</code> must be part of the main <code>ProblemFactCollectionProperty</code> in the <code>PlanningSolution</code>. This means that both the entity and solution should have their problem facts defined. Here's what fixed it for me:</p>\n<p>Keep ItemPlanningEntity.kt the same.</p>\n<p>Include a global <code>ProblemFactCollectionProperty</code> in ReforgePlanningSolution.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@PlanningSolution\nclass ReforgePlanningSolution @JvmOverloads constructor(\n    @PlanningEntityCollectionProperty\n    val availableItems: List&lt;ItemPlanningEntity&gt;? = null,\n    @ProblemFactCollectionProperty\n    val allReforges: List&lt;ReforgeProblemFact&gt;? = null,\n    @PlanningScore\n    val score: HardSoftScore? = null\n)\n</code></pre>\n<p>Define the global collection when instantiating the solution in Main.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val solverJob = solverManager.solve(UUID.randomUUID(), ReforgePlanningSolution(availableItems, allReforges))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635503364,"creation_date":1635503364,"answer_id":69767374,"question_id":69746613,"body_markdown":"[Upgrade OptaPlanner][1], for example to the recently released 8.12.0.Final, to get a helpful error message like this:\r\n\r\n    Caused by: java.lang.IllegalStateException: The externalObject (2018-10-01T10:15-12:15) with planningId ((class org.optaplanner.examples.conferencescheduling.domain.Timeslot, 0)) has no known workingObject (null).\r\n    Maybe the workingObject was never added because the planning solution doesn&#39;t have a @ProblemFactCollectionProperty annotation on a member with instances of the externalObject&#39;s class (class org.optaplanner.examples.conferencescheduling.domain.Timeslot).\r\n    \tat org.optaplanner.core.impl.domain.lookup.PlanningIdLookUpStrategy.lookUpWorkingObject(PlanningIdLookUpStrategy.java:76)\r\n\r\nThat has an error message which has a &quot;Maybe&quot; line that directly points to the solution shown in the other answer.\r\n\r\n\r\n  [1]: https://www.optaplanner.org/download/upgradeRecipe/","title":"Optaplanner multithreading exception: &quot;The externalObject ... has no known workingObject&quot;","body":"<p><a href=\"https://www.optaplanner.org/download/upgradeRecipe/\" rel=\"nofollow noreferrer\">Upgrade OptaPlanner</a>, for example to the recently released 8.12.0.Final, to get a helpful error message like this:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: The externalObject (2018-10-01T10:15-12:15) with planningId ((class org.optaplanner.examples.conferencescheduling.domain.Timeslot, 0)) has no known workingObject (null).\nMaybe the workingObject was never added because the planning solution doesn't have a @ProblemFactCollectionProperty annotation on a member with instances of the externalObject's class (class org.optaplanner.examples.conferencescheduling.domain.Timeslot).\n    at org.optaplanner.core.impl.domain.lookup.PlanningIdLookUpStrategy.lookUpWorkingObject(PlanningIdLookUpStrategy.java:76)\n</code></pre>\n<p>That has an error message which has a &quot;Maybe&quot; line that directly points to the solution shown in the other answer.</p>\n"}],"owner":{"account_id":9305006,"reputation":430,"user_id":6909078,"display_name":"Gabriel Pizarro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69757204,"answer_count":3,"score":1,"last_activity_date":1635503364,"creation_date":1635377484,"question_id":69746613,"body_markdown":"**TLDR**: Enabling multithreading in Optaplanner is supposed to be a one-liner, but it throws an exception\r\n\r\nI&#39;m trying to optimize a damage calculation using configurable loadouts in a videogame. For context, a player may configure each item they own with a &quot;reforge,&quot; which adds stats for strength or crit damage. The final damage calculation must be maximized as a combination of strength and crit damage. For this reason, I am using Optaplanner to allocate reforges to items.\r\n\r\nHowever, enabling multithreading through `&lt;moveThreadCount&gt;AUTO&lt;/moveThreadCount&gt;` in the XML solver config throws an exception (that does not occur in single-threaded execution): \r\n```\r\nCaused by: java.lang.IllegalStateException: The externalObject (ReforgeProblemFact(id=897f4bab-80e0-4eb9-a1d7-974f7cddfd9e, name=Fierce, rarity=COMMON, strength=4, critDamage=0)) with planningId ((class net.javaman.optaplanner_reproducible.ReforgeProblemFact,897f4bab-80e0-4eb9-a1d7-974f7cddfd9e)) has no known workingObject (null).\r\nMaybe the workingObject was never added because the planning solution doesn&#39;t have a @ProblemFactCollectionProperty annotation on a member with instances of the externalObject&#39;s class (class net.javaman.optaplanner_reproducible.ReforgeProblemFact).\r\n```\r\n\r\n[This SO question](https://stackoverflow.com/questions/66754103/no-known-workingobject-when-trying-to-enable-multi-threading-in-optaplanner) is similar, but its answer doesn&#39;t fix the exception in this example.\r\n\r\nI removed packages and imports in the code below. [Full GitHub repository link](https://github.com/TheNewJavaman/optaplanner-reproducible)\r\n\r\nProject structure:\r\n```\r\nsrc/main/\r\n    kotlin/\r\n        net/javaman/optaplanner_reproducible/\r\n            Rarity.kt\r\n            ReforgeProblemFact.kt        \r\n            ItemPlanningEntity.kt\r\n            ReforgePlanningSolution.kt\r\n            MaximizeDamageConstraintProvider.kt\r\n            Main.kt\r\n    resources/\r\n        reforgeSolverConfig.xml\r\n```\r\n\r\nRarity.kt:\r\n```kotlin\r\nenum class Rarity {\r\n    COMMON,\r\n    RARE,\r\n    LEGENDARY\r\n}\r\n```\r\n\r\nReforgeProblemFact.kt:\r\n```kotlin\r\ndata class ReforgeProblemFact(\r\n    @PlanningId\r\n    val id: UUID,\r\n    val name: String,\r\n    val rarity: Rarity,\r\n    val strength: Int,\r\n    val critDamage: Int\r\n)\r\n```\r\n\r\nItemPlanningEntity.kt:\r\n```kotlin\r\n@PlanningEntity\r\ndata class ItemPlanningEntity @JvmOverloads constructor(\r\n    @PlanningId\r\n    val id: UUID? = null,\r\n    val rarity: Rarity? = null,\r\n    @PlanningVariable(valueRangeProviderRefs = [&quot;reforgeRange&quot;])\r\n    var reforge: ReforgeProblemFact? = null,\r\n    @ValueRangeProvider(id = &quot;reforgeRange&quot;)\r\n    @ProblemFactCollectionProperty\r\n    val availableReforges: List&lt;ReforgeProblemFact&gt;? = null\r\n)\r\n```\r\n\r\nReforgePlanningSolution.kt:\r\n```kotlin\r\n@PlanningSolution\r\nclass ReforgePlanningSolution @JvmOverloads constructor(\r\n    @PlanningEntityCollectionProperty\r\n    val availableItems: List&lt;ItemPlanningEntity&gt;? = null,\r\n    @PlanningScore\r\n    val score: HardSoftScore? = null,\r\n)\r\n```\r\n\r\nMaximizeDamageConstraintProvider.kt:\r\n```kotlin\r\nclass MaximizeDamageConstraintProvider : ConstraintProvider {\r\n    override fun defineConstraints(factory: ConstraintFactory): Array&lt;Constraint&gt; = arrayOf(maximizeDamage(factory))\r\n\r\n    // This approach does not take full advantage of incremental solving,\r\n    // but it is necessary to compute strength and critDamage together in the same equation\r\n    private fun maximizeDamage(factory: ConstraintFactory) = factory.from(ItemPlanningEntity::class.java)\r\n        .map(ItemPlanningEntity::reforge) // Get each item&#39;s reforge\r\n        .groupBy({ 0 }, toList { reforge: ReforgeProblemFact? -&gt; reforge }) // Compile into one List&lt;ReforgeProblemFact&gt;\r\n        .reward(&quot;damage&quot;, HardSoftScore.ONE_SOFT) { _, reforges: List&lt;ReforgeProblemFact?&gt; -&gt;\r\n            val strengthSum = reforges.stream().collect(Collectors.summingInt { reforge -&gt; reforge?.strength ?: 0 })\r\n            val critDamageSum = reforges.stream().collect(Collectors.summingInt { reforge -&gt; reforge?.critDamage ?: 0 })\r\n            (100 + strengthSum) * (100 + critDamageSum)\r\n        }\r\n}\r\n```\r\n\r\nMain.kt:\r\n```kotlin\r\nclass Main {\r\n    companion object {\r\n        private val allReforges = listOf(\r\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Clean&quot;, Rarity.COMMON, 0, 3),\r\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Fierce&quot;, Rarity.COMMON, 4, 0),\r\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Shiny&quot;, Rarity.COMMON, 2, 1),\r\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Clean&quot;, Rarity.RARE, 1, 3),\r\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Fierce&quot;, Rarity.RARE, 5, 0),\r\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Shiny&quot;, Rarity.RARE, 3, 2),\r\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Clean&quot;, Rarity.LEGENDARY, 1, 4),\r\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Fierce&quot;, Rarity.LEGENDARY, 6, 0),\r\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Shiny&quot;, Rarity.LEGENDARY, 4, 2),\r\n        )\r\n        private val solverManager: SolverManager&lt;ReforgePlanningSolution, UUID&gt; = SolverManager.create(\r\n            SolverConfig.createFromXmlResource(&quot;reforgeSolverConfig.xml&quot;)\r\n        )\r\n\r\n        @JvmStatic\r\n        fun main(args: Array&lt;String&gt;) {\r\n            val availableItems = generateAvailableItems(\r\n                mapOf(\r\n                    Rarity.COMMON to 4,\r\n                    Rarity.RARE to 3,\r\n                    Rarity.LEGENDARY to 1\r\n                )\r\n            )\r\n            val solverJob = solverManager.solve(UUID.randomUUID(), ReforgePlanningSolution(availableItems))\r\n            val solution = solverJob.finalBestSolution\r\n            solution.availableItems!!\r\n                .map { it.reforge!! }\r\n                .forEach { println(it.rarity.name + &quot; &quot; + it.name) }\r\n        }\r\n\r\n        private fun generateAvailableItems(itemCounts: Map&lt;Rarity, Int&gt;): MutableList&lt;ItemPlanningEntity&gt; {\r\n            val availableItems = mutableListOf&lt;ItemPlanningEntity&gt;()\r\n            for (itemCount in itemCounts) {\r\n                for (count in 0 until itemCount.value) {\r\n                    val rarity = itemCount.key\r\n                    availableItems.add(\r\n                        ItemPlanningEntity(\r\n                            UUID.randomUUID(),\r\n                            rarity,\r\n                            null,\r\n                            allReforges.filter { it.rarity == rarity }\r\n                        )\r\n                    )\r\n                }\r\n            }\r\n            return availableItems\r\n        }\r\n    }\r\n}\r\n```","title":"Optaplanner multithreading exception: &quot;The externalObject ... has no known workingObject&quot;","body":"<p><strong>TLDR</strong>: Enabling multithreading in Optaplanner is supposed to be a one-liner, but it throws an exception</p>\n<p>I'm trying to optimize a damage calculation using configurable loadouts in a videogame. For context, a player may configure each item they own with a &quot;reforge,&quot; which adds stats for strength or crit damage. The final damage calculation must be maximized as a combination of strength and crit damage. For this reason, I am using Optaplanner to allocate reforges to items.</p>\n<p>However, enabling multithreading through <code>&lt;moveThreadCount&gt;AUTO&lt;/moveThreadCount&gt;</code> in the XML solver config throws an exception (that does not occur in single-threaded execution):</p>\n<pre><code>Caused by: java.lang.IllegalStateException: The externalObject (ReforgeProblemFact(id=897f4bab-80e0-4eb9-a1d7-974f7cddfd9e, name=Fierce, rarity=COMMON, strength=4, critDamage=0)) with planningId ((class net.javaman.optaplanner_reproducible.ReforgeProblemFact,897f4bab-80e0-4eb9-a1d7-974f7cddfd9e)) has no known workingObject (null).\nMaybe the workingObject was never added because the planning solution doesn't have a @ProblemFactCollectionProperty annotation on a member with instances of the externalObject's class (class net.javaman.optaplanner_reproducible.ReforgeProblemFact).\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/66754103/no-known-workingobject-when-trying-to-enable-multi-threading-in-optaplanner\">This SO question</a> is similar, but its answer doesn't fix the exception in this example.</p>\n<p>I removed packages and imports in the code below. <a href=\"https://github.com/TheNewJavaman/optaplanner-reproducible\" rel=\"nofollow noreferrer\">Full GitHub repository link</a></p>\n<p>Project structure:</p>\n<pre><code>src/main/\n    kotlin/\n        net/javaman/optaplanner_reproducible/\n            Rarity.kt\n            ReforgeProblemFact.kt        \n            ItemPlanningEntity.kt\n            ReforgePlanningSolution.kt\n            MaximizeDamageConstraintProvider.kt\n            Main.kt\n    resources/\n        reforgeSolverConfig.xml\n</code></pre>\n<p>Rarity.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>enum class Rarity {\n    COMMON,\n    RARE,\n    LEGENDARY\n}\n</code></pre>\n<p>ReforgeProblemFact.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class ReforgeProblemFact(\n    @PlanningId\n    val id: UUID,\n    val name: String,\n    val rarity: Rarity,\n    val strength: Int,\n    val critDamage: Int\n)\n</code></pre>\n<p>ItemPlanningEntity.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@PlanningEntity\ndata class ItemPlanningEntity @JvmOverloads constructor(\n    @PlanningId\n    val id: UUID? = null,\n    val rarity: Rarity? = null,\n    @PlanningVariable(valueRangeProviderRefs = [&quot;reforgeRange&quot;])\n    var reforge: ReforgeProblemFact? = null,\n    @ValueRangeProvider(id = &quot;reforgeRange&quot;)\n    @ProblemFactCollectionProperty\n    val availableReforges: List&lt;ReforgeProblemFact&gt;? = null\n)\n</code></pre>\n<p>ReforgePlanningSolution.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@PlanningSolution\nclass ReforgePlanningSolution @JvmOverloads constructor(\n    @PlanningEntityCollectionProperty\n    val availableItems: List&lt;ItemPlanningEntity&gt;? = null,\n    @PlanningScore\n    val score: HardSoftScore? = null,\n)\n</code></pre>\n<p>MaximizeDamageConstraintProvider.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MaximizeDamageConstraintProvider : ConstraintProvider {\n    override fun defineConstraints(factory: ConstraintFactory): Array&lt;Constraint&gt; = arrayOf(maximizeDamage(factory))\n\n    // This approach does not take full advantage of incremental solving,\n    // but it is necessary to compute strength and critDamage together in the same equation\n    private fun maximizeDamage(factory: ConstraintFactory) = factory.from(ItemPlanningEntity::class.java)\n        .map(ItemPlanningEntity::reforge) // Get each item's reforge\n        .groupBy({ 0 }, toList { reforge: ReforgeProblemFact? -&gt; reforge }) // Compile into one List&lt;ReforgeProblemFact&gt;\n        .reward(&quot;damage&quot;, HardSoftScore.ONE_SOFT) { _, reforges: List&lt;ReforgeProblemFact?&gt; -&gt;\n            val strengthSum = reforges.stream().collect(Collectors.summingInt { reforge -&gt; reforge?.strength ?: 0 })\n            val critDamageSum = reforges.stream().collect(Collectors.summingInt { reforge -&gt; reforge?.critDamage ?: 0 })\n            (100 + strengthSum) * (100 + critDamageSum)\n        }\n}\n</code></pre>\n<p>Main.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Main {\n    companion object {\n        private val allReforges = listOf(\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Clean&quot;, Rarity.COMMON, 0, 3),\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Fierce&quot;, Rarity.COMMON, 4, 0),\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Shiny&quot;, Rarity.COMMON, 2, 1),\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Clean&quot;, Rarity.RARE, 1, 3),\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Fierce&quot;, Rarity.RARE, 5, 0),\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Shiny&quot;, Rarity.RARE, 3, 2),\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Clean&quot;, Rarity.LEGENDARY, 1, 4),\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Fierce&quot;, Rarity.LEGENDARY, 6, 0),\n            ReforgeProblemFact(UUID.randomUUID(), &quot;Shiny&quot;, Rarity.LEGENDARY, 4, 2),\n        )\n        private val solverManager: SolverManager&lt;ReforgePlanningSolution, UUID&gt; = SolverManager.create(\n            SolverConfig.createFromXmlResource(&quot;reforgeSolverConfig.xml&quot;)\n        )\n\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            val availableItems = generateAvailableItems(\n                mapOf(\n                    Rarity.COMMON to 4,\n                    Rarity.RARE to 3,\n                    Rarity.LEGENDARY to 1\n                )\n            )\n            val solverJob = solverManager.solve(UUID.randomUUID(), ReforgePlanningSolution(availableItems))\n            val solution = solverJob.finalBestSolution\n            solution.availableItems!!\n                .map { it.reforge!! }\n                .forEach { println(it.rarity.name + &quot; &quot; + it.name) }\n        }\n\n        private fun generateAvailableItems(itemCounts: Map&lt;Rarity, Int&gt;): MutableList&lt;ItemPlanningEntity&gt; {\n            val availableItems = mutableListOf&lt;ItemPlanningEntity&gt;()\n            for (itemCount in itemCounts) {\n                for (count in 0 until itemCount.value) {\n                    val rarity = itemCount.key\n                    availableItems.add(\n                        ItemPlanningEntity(\n                            UUID.randomUUID(),\n                            rarity,\n                            null,\n                            allReforges.filter { it.rarity == rarity }\n                        )\n                    )\n                }\n            }\n            return availableItems\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":1,"creation_date":1635495213,"post_id":69765588,"comment_id":123318775,"body_markdown":"httpServletRequest.getHeader(&lt;header-name&gt;) will get the value of a specific header","body":"httpServletRequest.getHeader(&lt;header-name&gt;) will get the value of a specific header"},{"owner":{"account_id":20939525,"reputation":67,"user_id":15383929,"display_name":"JRobi17X"},"score":0,"creation_date":1635496147,"post_id":69765588,"comment_id":123319061,"body_markdown":"Can you also do two headers at one time?","body":"Can you also do two headers at one time?"},{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1635496337,"post_id":69765588,"comment_id":123319144,"body_markdown":"what do you want as a result, a map of header name and value or just the values of some headers ?","body":"what do you want as a result, a map of header name and value or just the values of some headers ?"},{"owner":{"account_id":20939525,"reputation":67,"user_id":15383929,"display_name":"JRobi17X"},"score":0,"creation_date":1635496407,"post_id":69765588,"comment_id":123319172,"body_markdown":"Header name and value also, for the specified ones. So basically the code I wrote does that for every data in the header. But I would need the same response, only with a few ones.","body":"Header name and value also, for the specified ones. So basically the code I wrote does that for every data in the header. But I would need the same response, only with a few ones."}],"answers":[{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635497779,"creation_date":1635496668,"answer_id":69765920,"question_id":69765588,"body_markdown":"One possible solution for this\r\n```\r\nList&lt;String&gt; headerNames = Arrays.asList(&quot;Accept-Encoding&quot;, &quot;Content-Type&quot;);\r\nMap&lt;String, String&gt; headers = headerNames.stream()\r\n     .collect(Collectors.toMap(Function.identity(), header -&gt; httpServletRequest.getHeader(header)));\r\n```\r\n\r\nOr if you want to get HttpHeaders as a result\r\n```\r\nList&lt;String&gt; headers = Arrays.asList(&quot;Accept-Encoding&quot;, &quot;Content-Type&quot;);\r\nHttpHeaders httpHeaders = new HttpHeaders();\r\nheaders.forEach(header -&gt; {\r\n    request.getHeaders(header)\r\n             .asIterator()\r\n             .forEachRemaining(value -&gt; httpHeaders.add(header, value));\r\n});\r\n```","title":"Is it possible to get specific data only from a collection using Java stream?","body":"<p>One possible solution for this</p>\n<pre><code>List&lt;String&gt; headerNames = Arrays.asList(&quot;Accept-Encoding&quot;, &quot;Content-Type&quot;);\nMap&lt;String, String&gt; headers = headerNames.stream()\n     .collect(Collectors.toMap(Function.identity(), header -&gt; httpServletRequest.getHeader(header)));\n</code></pre>\n<p>Or if you want to get HttpHeaders as a result</p>\n<pre><code>List&lt;String&gt; headers = Arrays.asList(&quot;Accept-Encoding&quot;, &quot;Content-Type&quot;);\nHttpHeaders httpHeaders = new HttpHeaders();\nheaders.forEach(header -&gt; {\n    request.getHeaders(header)\n             .asIterator()\n             .forEachRemaining(value -&gt; httpHeaders.add(header, value));\n});\n</code></pre>\n"}],"owner":{"account_id":20939525,"reputation":67,"user_id":15383929,"display_name":"JRobi17X"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69765920,"answer_count":1,"score":0,"last_activity_date":1635503308,"creation_date":1635495033,"question_id":69765588,"body_markdown":"I have the following code:\r\n    \r\n     @Override\r\n          public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n            HttpHeaders httpHeaders = Collections.list(httpServletRequest.getHeaderNames())\r\n              .stream()\r\n              .collect(Collectors.toMap(\r\n                Function.identity(),\r\n                h -&gt; Collections.list(httpServletRequest.getHeaders(h)),\r\n                (oldValue, newValue) -&gt; newValue,\r\n                HttpHeaders::new\r\n              ));\r\n            System.out.println(httpHeaders);\r\n              chain.doFilter(request, response);\r\n          }\r\n\r\nIt works just fine, but I would only need to get a few specific data, like accept-encoding and accept language. Is it possible to do that somehow?\r\n\r\n","title":"Is it possible to get specific data only from a collection using Java stream?","body":"<p>I have the following code:</p>\n<pre><code> @Override\n      public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n        HttpHeaders httpHeaders = Collections.list(httpServletRequest.getHeaderNames())\n          .stream()\n          .collect(Collectors.toMap(\n            Function.identity(),\n            h -&gt; Collections.list(httpServletRequest.getHeaders(h)),\n            (oldValue, newValue) -&gt; newValue,\n            HttpHeaders::new\n          ));\n        System.out.println(httpHeaders);\n          chain.doFilter(request, response);\n      }\n</code></pre>\n<p>It works just fine, but I would only need to get a few specific data, like accept-encoding and accept language. Is it possible to do that somehow?</p>\n"},{"tags":["java","selenium","qwebelement"],"answers":[{"tags":[],"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635503054,"creation_date":1635498792,"answer_id":69766349,"question_id":69766269,"body_markdown":"In Java, Use this:\r\n\r\n      String value = &quot;Rajesh&quot;;\r\n      WebElement element = driver.findElement(By.xpath(&quot;span[text()=&#39;%s&#39;]&quot;));\r\n      WebElement newElement = driver.findElement(By.xpath(&quot;span[text()=&#39;&quot;+value+&quot;&#39;]&quot;));\r\n\r\nFrom method, as you mentioned int he comment, we can create like this:\r\n\r\n    private static void locatorwithvalue(WebElement element, String oldValue, String newValue) {\r\n            String element1 = element.toString().replace(oldValue,newValue);\r\n            WebElement element2 = driver.findElement(By.xpath(element1));\r\n    }","title":"Replacing Part of Webelement with string in Selenium","body":"<p>In Java, Use this:</p>\n<pre><code>  String value = &quot;Rajesh&quot;;\n  WebElement element = driver.findElement(By.xpath(&quot;span[text()='%s']&quot;));\n  WebElement newElement = driver.findElement(By.xpath(&quot;span[text()='&quot;+value+&quot;']&quot;));\n</code></pre>\n<p>From method, as you mentioned int he comment, we can create like this:</p>\n<pre><code>private static void locatorwithvalue(WebElement element, String oldValue, String newValue) {\n        String element1 = element.toString().replace(oldValue,newValue);\n        WebElement element2 = driver.findElement(By.xpath(element1));\n}\n</code></pre>\n"}],"owner":{"account_id":22321047,"reputation":11,"user_id":16543683,"display_name":"Snk2611uk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635503054,"creation_date":1635498394,"question_id":69766269,"body_markdown":"I want to replace a part of webelement with another String\r\nFor example **Webelement span[text()=&#39;%s&#39;]**, I want to replace %s with a string like **&quot;Rajesh&quot;**.\r\nSo how can i do it?","title":"Replacing Part of Webelement with string in Selenium","body":"<p>I want to replace a part of webelement with another String\nFor example <strong>Webelement span[text()='%s']</strong>, I want to replace %s with a string like <strong>&quot;Rajesh&quot;</strong>.\nSo how can i do it?</p>\n"},{"tags":["java","mysql","spring","docker"],"answers":[{"tags":[],"owner":{"account_id":20457051,"reputation":76,"user_id":15010460,"display_name":"donvogel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635502818,"creation_date":1635502617,"answer_id":69767236,"question_id":69767161,"body_markdown":"You have to use the exposed port on container side `3303` and not the public one `5647`.\r\n\r\nJust try\r\n```yaml\r\nSPRING_DATASOURCE_URL: jdbc:mysql://mysqlserver:3306/database?verifyServerCertificate=false&amp;useSSL=false&amp;requireSSL=false&amp;autoReconnect=true\r\n```\r\nThe port in local network stays the original exposed port. In port section you just define the public ports on the host machine.","title":"App container cannot connect to mysql container in the same network","body":"<p>You have to use the exposed port on container side <code>3303</code> and not the public one <code>5647</code>.</p>\n<p>Just try</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>SPRING_DATASOURCE_URL: jdbc:mysql://mysqlserver:3306/database?verifyServerCertificate=false&amp;useSSL=false&amp;requireSSL=false&amp;autoReconnect=true\n</code></pre>\n<p>The port in local network stays the original exposed port. In port section you just define the public ports on the host machine.</p>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69767236,"answer_count":1,"score":0,"last_activity_date":1635502818,"creation_date":1635502241,"question_id":69767161,"body_markdown":"I have a problem with the docker and containerized apps not connecting to mysql database that is running in a container within the same docker network. My `docker-compose.yml` looks like this:\r\n\r\n    version: &#39;3.8&#39;\r\n    \r\n    services:\r\n    \r\n      mysqlserver:\r\n        image: mysql:5.7.24\r\n        container_name: mysql_app\r\n        networks:\r\n          - somenetwork\r\n        ports:\r\n          - &quot;5647:3306&quot;\r\n        environment:\r\n          MYSQL_DATABASE: database\r\n          MYSQL_USER: USER\r\n          MYSQL_PASSWORD: PASS\r\n          MYSQL_ROOT_PASSWORD: PASS\r\n        command:\r\n          - --max_connections=1000\r\n        restart: always\r\n        volumes:\r\n         - persistent:/var/lib/mysql\r\n    \r\n      app:\r\n        image: app/appserver:latest\r\n        container_name: app_server\r\n        networks:\r\n          - somenetwork\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        depends_on:\r\n          - mysqlserver\r\n        environment:\r\n          SPRING_DATASOURCE_URL: jdbc:mysql://mysqlserver:5647/database?verifyServerCertificate=false&amp;useSSL=false&amp;requireSSL=false&amp;autoReconnect=true\r\n    \r\n    networks:\r\n      somenetwork:\r\n        name:\r\n          somenetwork_share_net\r\n    \r\n    volumes:\r\n      persistent:\r\n\r\nAnd looking at the logs from the app container, I found errors like this:\r\n\r\n&gt; Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\nand\r\n\r\n&gt; Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\nat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n\r\nIs there something wrong with my `docker-compose.yml`? Why the app container cannot connect","title":"App container cannot connect to mysql container in the same network","body":"<p>I have a problem with the docker and containerized apps not connecting to mysql database that is running in a container within the same docker network. My <code>docker-compose.yml</code> looks like this:</p>\n<pre><code>version: '3.8'\n\nservices:\n\n  mysqlserver:\n    image: mysql:5.7.24\n    container_name: mysql_app\n    networks:\n      - somenetwork\n    ports:\n      - &quot;5647:3306&quot;\n    environment:\n      MYSQL_DATABASE: database\n      MYSQL_USER: USER\n      MYSQL_PASSWORD: PASS\n      MYSQL_ROOT_PASSWORD: PASS\n    command:\n      - --max_connections=1000\n    restart: always\n    volumes:\n     - persistent:/var/lib/mysql\n\n  app:\n    image: app/appserver:latest\n    container_name: app_server\n    networks:\n      - somenetwork\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - mysqlserver\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:mysql://mysqlserver:5647/database?verifyServerCertificate=false&amp;useSSL=false&amp;requireSSL=false&amp;autoReconnect=true\n\nnetworks:\n  somenetwork:\n    name:\n      somenetwork_share_net\n\nvolumes:\n  persistent:\n</code></pre>\n<p>And looking at the logs from the app container, I found errors like this:</p>\n<blockquote>\n<p>Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Caused by: java.net.ConnectException: Connection refused (Connection refused)\nat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]</p>\n</blockquote>\n<p>Is there something wrong with my <code>docker-compose.yml</code>? Why the app container cannot connect</p>\n"},{"tags":["java","intellij-idea","ide"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635493102,"creation_date":1635493102,"answer_id":69765224,"question_id":69765171,"body_markdown":"There isn&#39;t any shortcut to do that, you have to explicitly click the small gear button and then change the view mode.\r\n\r\nCheck [this][1] and [this][2].\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/viewing-modes.html\r\n  [2]: https://www.jetbrains.com/help/idea/tool-windows.html#bars_and_buttons","title":"How to set shortcut key to change view mode of service window to window in intellij?","body":"<p>There isn't any shortcut to do that, you have to explicitly click the small gear button and then change the view mode.</p>\n<p>Check <a href=\"https://www.jetbrains.com/help/idea/viewing-modes.html\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://www.jetbrains.com/help/idea/tool-windows.html#bars_and_buttons\" rel=\"nofollow noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635502564,"creation_date":1635502564,"answer_id":69767223,"question_id":69765171,"body_markdown":"You can add showrtucs to \r\n- Settings (Preferences on macOS) | Keymap | All Actions | Other | Tool Windows View Modes | **Dock Pinned**\r\n- Settings (Preferences on macOS) | Keymap | All Actions | Other | Tool Windows View Modes | **Window**\r\n\r\nmodes:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nand use these shortcuts when the tool window is focused to toggle between Windowed and Pinned modes.\r\n\r\n  [1]: https://i.stack.imgur.com/6eMSi.png\r\n  [2]: https://i.stack.imgur.com/uB68X.png","title":"How to set shortcut key to change view mode of service window to window in intellij?","body":"<p>You can add showrtucs to</p>\n<ul>\n<li>Settings (Preferences on macOS) | Keymap | All Actions | Other | Tool Windows View Modes | <strong>Dock Pinned</strong></li>\n<li>Settings (Preferences on macOS) | Keymap | All Actions | Other | Tool Windows View Modes | <strong>Window</strong></li>\n</ul>\n<p>modes:</p>\n<p><a href=\"https://i.stack.imgur.com/6eMSi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6eMSi.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/uB68X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uB68X.png\" alt=\"enter image description here\" /></a></p>\n<p>and use these shortcuts when the tool window is focused to toggle between Windowed and Pinned modes.</p>\n"}],"owner":{"account_id":22667261,"reputation":111,"user_id":16839433,"display_name":"ringhiosi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69767223,"answer_count":2,"score":0,"last_activity_date":1635502564,"creation_date":1635492859,"question_id":69765171,"body_markdown":"How to set shortcut key to change view mode of service window to window in intellij?\r\n\r\nBecause a lot of logs are taken, the service window is usually closed, but whenever necessary, the view mode is changed to window and used.\r\n\r\nHowever, it is inconvenient to enter the menu and change the view mode to window. \r\n\r\nI wonder how to change the view mode of the service window to window with a shortcut key.\r\n\r\nbest regards","title":"How to set shortcut key to change view mode of service window to window in intellij?","body":"<p>How to set shortcut key to change view mode of service window to window in intellij?</p>\n<p>Because a lot of logs are taken, the service window is usually closed, but whenever necessary, the view mode is changed to window and used.</p>\n<p>However, it is inconvenient to enter the menu and change the view mode to window.</p>\n<p>I wonder how to change the view mode of the service window to window with a shortcut key.</p>\n<p>best regards</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1635497608,"post_id":69765994,"comment_id":123319616,"body_markdown":"in your login error (message), someone/-thing tries to access `/login` via HTTP POST! (i assume it is the [&quot;default form login processing url&quot;...](https://www.baeldung.com/spring-security-login)) ...which refuses access (correctly/consistent with your config (as xml/as java))","body":"in your login error (message), someone/-thing tries to access <code>&#47;login</code> via HTTP POST! (i assume it is the <a href=\"https://www.baeldung.com/spring-security-login\" rel=\"nofollow noreferrer\">&quot;default form login processing url&quot;...</a>) ...which refuses access (correctly/consistent with your config (as xml/as java))"},{"owner":{"account_id":18525138,"reputation":21,"user_id":13497205,"display_name":"Enuma Elish"},"score":0,"creation_date":1635498431,"post_id":69765994,"comment_id":123319928,"body_markdown":"Yes the login i made with ajax post, but i sweat the xml configuration function 100%, I&#39;m going crazy to found what i have missing","body":"Yes the login i made with ajax post, but i sweat the xml configuration function 100%, I&#39;m going crazy to found what i have missing"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1635499354,"post_id":69765994,"comment_id":123320256,"body_markdown":"moving from (spring-security) xml to java config .. (except for &quot;hello world&quot;) is not trivial/if possible, you could start &quot;digging at the problem&quot; (not its root) by adding: `.antMatchers(&quot;/login&quot;).permitAll()`","body":"moving from (spring-security) xml to java config .. (except for &quot;hello world&quot;) is not trivial/if possible, you could start &quot;digging at the problem&quot; (not its root) by adding: <code>.antMatchers(&quot;&#47;login&quot;).permitAll()</code>"}],"answers":[{"tags":[],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635499731,"creation_date":1635499731,"answer_id":69766557,"question_id":69765994,"body_markdown":"```\r\nhttp.csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/index&quot;,&quot;/images/**&quot;,&quot;/showSignUpForm&quot;,&quot;/login&quot;,&quot;/userSignUp&quot;,\r\n                        &quot;/page/**&quot;,&quot;/sort/**&quot;,&quot;/sortWithPage/**&quot;,&quot;/search/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and().formLogin()\r\n                .loginPage(&quot;/login&quot;).defaultSuccessUrl(&quot;/index&quot;).permitAll()\r\n                .and()\r\n                .logout()\r\n                .invalidateHttpSession(true)\r\n                .clearAuthentication(true)\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutSuccessUrl(&quot;/login?logout&quot;).permitAll();\r\n```\r\nTry in this way","title":"Problem change from xml to Java Based Configuration","body":"<pre><code>http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/index&quot;,&quot;/images/**&quot;,&quot;/showSignUpForm&quot;,&quot;/login&quot;,&quot;/userSignUp&quot;,\n                        &quot;/page/**&quot;,&quot;/sort/**&quot;,&quot;/sortWithPage/**&quot;,&quot;/search/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().formLogin()\n                .loginPage(&quot;/login&quot;).defaultSuccessUrl(&quot;/index&quot;).permitAll()\n                .and()\n                .logout()\n                .invalidateHttpSession(true)\n                .clearAuthentication(true)\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/login?logout&quot;).permitAll();\n</code></pre>\n<p>Try in this way</p>\n"},{"tags":[],"owner":{"account_id":18525138,"reputation":21,"user_id":13497205,"display_name":"Enuma Elish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635502524,"creation_date":1635502524,"answer_id":69767212,"question_id":69765994,"body_markdown":"I found the problems:\r\n\r\nError from xml to java (&amp;amp;) \r\n\r\n    provider.setSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={0}))&quot;);\r\n\r\nChanged loginPage\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll()\r\n                .antMatchers(&quot;/isAutenticated&quot;).permitAll()\r\n                .antMatchers(&quot;/resources/**&quot;).permitAll()\r\n                .antMatchers(&quot;/signin&quot;).permitAll()\r\n                .antMatchers(&quot;/signinAjax&quot;).permitAll()\r\n                .antMatchers(&quot;/userList&quot;).permitAll()\r\n                .antMatchers(&quot;/images/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .authenticationDetailsSource(customWebAuthenticationDetailsSource())\r\n                .successForwardUrl(&quot;/logged&quot;)\r\n                .failureForwardUrl(&quot;/signinAjax?error=1&quot;);\r\n\r\n\r\n    }\r\n\r\nI don&#39;t know how function with xml....","title":"Problem change from xml to Java Based Configuration","body":"<p>I found the problems:</p>\n<p>Error from xml to java (&amp;)</p>\n<pre><code>provider.setSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={0}))&quot;);\n</code></pre>\n<p>Changed loginPage</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll()\n            .antMatchers(&quot;/isAutenticated&quot;).permitAll()\n            .antMatchers(&quot;/resources/**&quot;).permitAll()\n            .antMatchers(&quot;/signin&quot;).permitAll()\n            .antMatchers(&quot;/signinAjax&quot;).permitAll()\n            .antMatchers(&quot;/userList&quot;).permitAll()\n            .antMatchers(&quot;/images/**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .authenticationDetailsSource(customWebAuthenticationDetailsSource())\n            .successForwardUrl(&quot;/logged&quot;)\n            .failureForwardUrl(&quot;/signinAjax?error=1&quot;);\n\n\n}\n</code></pre>\n<p>I don't know how function with xml....</p>\n"}],"owner":{"account_id":18525138,"reputation":21,"user_id":13497205,"display_name":"Enuma Elish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635502524,"creation_date":1635496982,"question_id":69765994,"body_markdown":"I&#39;m using Spring Boot MVC last version (5.3) e Spring security (5.5) with LDAP users\r\n\r\nI&#39;m trying to change from this xml\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \t   xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n    \t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n    http://www.springframework.org/schema/security\r\n    http://www.springframework.org/schema/security/spring-security-5.4.xsd&quot;&gt;\r\n    \r\n    \t&lt;security:http auto-config=&quot;true&quot; disable-url-rewriting=&quot;true&quot;\r\n    \t\t\t\t   use-expressions=&quot;true&quot;&gt;\r\n    \t\t&lt;security:form-login login-page=&quot;/signin&quot;\r\n    \t\t\t\t\t\t\t authentication-failure-url=&quot;/signinAjax?error=1&quot; authentication-details-source-ref=&quot;customWebAuthenticationDetailsSource&quot; authentication-success-forward-url=&quot;/logged&quot;/&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/&quot; access=&quot;permitAll&quot; /&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/isAutenticated&quot; access=&quot;permitAll&quot; /&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/resources/images/favicon.png&quot;\r\n    \t\t\t\t\t\t\t\taccess=&quot;permitAll&quot; /&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/resources/webfonts/**&quot;\r\n    \t\t\t\t\t\t\t\taccess=&quot;permitAll&quot; /&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/resources/**&quot;\r\n    \t\t\t\t\t\t\t\taccess=&quot;permitAll&quot; /&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/signin&quot;\r\n    \t\t\t\t\t\t\t\taccess=&quot;permitAll&quot; /&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/signinAjax&quot;\r\n    \t\t\t\t\t\t\t\taccess=&quot;permitAll&quot; /&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/userList&quot;\r\n    \t\t\t\t\t\t\t\taccess=&quot;isAuthenticated()&quot; /&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/imgages/**&quot;\r\n    \t\t\t\t\t\t\t\taccess=&quot;permitAll&quot; /&gt;\r\n    \t\t&lt;security:intercept-url pattern=&quot;/**&quot;\r\n    \t\t\t\t\t\t\t\taccess=&quot;isAuthenticated()&quot; /&gt;\r\n    \t&lt;/security:http&gt;\r\n    \r\n    \t&lt;security:global-method-security\r\n    \t\t\tsecured-annotations=&quot;enabled&quot; /&gt;\r\n    \r\n    \t&lt;security:authentication-manager\r\n    \t\t\terase-credentials=&quot;true&quot;&gt;\r\n    \t\t&lt;security:authentication-provider\r\n    \t\t\t\tref=&quot;ldapActiveDirectoryAuthProvider&quot; /&gt;\r\n    \t&lt;/security:authentication-manager&gt;\r\n    \r\n    \t&lt;bean id=&quot;ldapActiveDirectoryAuthProvider&quot;\r\n    \t\t  class=&quot;org.springframework.security.ldap.authentication.ad.CustomActiveDirectoryLdapAuthenticationProvider&quot;&gt;\r\n    \t\t&lt;constructor-arg value=&quot;XXXX&quot; /&gt;\r\n    \t\t&lt;constructor-arg value=&quot;ldap://XXX:389&quot; /&gt;\r\n    \t\t&lt;property name=&quot;convertSubErrorCodesToExceptions&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;searchFilter&quot;\r\n    \t\t\t\t  value=&quot;(&amp;amp;(objectClass=user)(sAMAccountName={0}))&quot;  /&gt;\r\n    \t\t&lt;property name=&quot;useAuthenticationRequestCredentials&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;userDetailsContextMapper&quot; ref=&quot;tdrUserDetailsContextMapper&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;tdrUserDetailsContextMapper&quot;\r\n    \t\t  class=&quot;it.xxx.account.CustomUserDetailsContextMapper&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;customWebAuthenticationDetailsSource&quot;\r\n    \t\tclass=&quot;it.xxx.config.security.CustomWebAuthenticationDetailsSource&quot;/&gt;\r\n    \r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\nThat function correctly to this Java Based Configuration\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    //@EnableGlobalMethodSecurity(securedEnabled=true)\r\n    //@ImportResource(value = &quot;classpath:spring-security-context.xml&quot;)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t\r\n    \r\n    \r\n        @Bean\r\n        public CustomWebAuthenticationDetailsSource customWebAuthenticationDetailsSource() {\r\n            return new CustomWebAuthenticationDetailsSource();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll()\r\n                    .antMatchers(&quot;/isAutenticated&quot;).permitAll()\r\n                    .antMatchers(&quot;/resources/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/signin&quot;).permitAll()\r\n                    .antMatchers(&quot;/signinAjax&quot;).permitAll()\r\n                    .antMatchers(&quot;/userList&quot;).permitAll()\r\n                    .antMatchers(&quot;/images/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .formLogin()\r\n                    .loginPage(&quot;/signin&quot;)\r\n                    .authenticationDetailsSource(customWebAuthenticationDetailsSource())\r\n                    .successForwardUrl(&quot;/logged&quot;)\r\n                    .failureForwardUrl(&quot;/signinAjax?error=1&quot;);\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        @Bean\r\n        public CustomActiveDirectoryLdapAuthenticationProvider ldapActiveDirectoryAuthProvider() {\r\n            CustomActiveDirectoryLdapAuthenticationProvider provider = new CustomActiveDirectoryLdapAuthenticationProvider(&quot;xxx.local&quot;,&quot;ldap://xxx:389&quot;);\r\n            provider.setConvertSubErrorCodesToExceptions(true);\r\n            provider.setSearchFilter(&quot;(&amp;amp;(objectClass=user)(sAMAccountName={0}))&quot;);\r\n            provider.setUseAuthenticationRequestCredentials(true);\r\n            provider.setUserDetailsContextMapper(tdrUserDetailsContextMapper());\r\n            return provider;\r\n        }\r\n    \r\n        @Bean\r\n        public LoggerListener loggerListener() {\r\n            return new LoggerListener();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.eraseCredentials(true);\r\n            auth.authenticationProvider(ldapActiveDirectoryAuthProvider());\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public CustomUserDetailsContextMapper tdrUserDetailsContextMapper() {\r\n            return new CustomUserDetailsContextMapper();\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\non compile and runnung of tomcat no error but is impossible to make the loggin and having this error\r\n\r\n    org.springframework.security.access.event.LoggerListener.onAuthorizationFailureEvent Security authorization failed due to: org.springframework.security.access.AccessDeniedException: Access is denied; authenticated principal: AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=19C02E6245BF011635B6ADC374ED4EA4], Granted Authorities=[ROLE_ANONYMOUS]]; secure object: filter invocation [POST /login]; configuration attributes: [authenticated]\r\n\r\nI don&#39;t know what is missing.\r\n\r\n","title":"Problem change from xml to Java Based Configuration","body":"<p>I'm using Spring Boot MVC last version (5.3) e Spring security (5.5) with LDAP users</p>\n<p>I'm trying to change from this xml</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-3.2.xsd\nhttp://www.springframework.org/schema/security\nhttp://www.springframework.org/schema/security/spring-security-5.4.xsd&quot;&gt;\n\n    &lt;security:http auto-config=&quot;true&quot; disable-url-rewriting=&quot;true&quot;\n                   use-expressions=&quot;true&quot;&gt;\n        &lt;security:form-login login-page=&quot;/signin&quot;\n                             authentication-failure-url=&quot;/signinAjax?error=1&quot; authentication-details-source-ref=&quot;customWebAuthenticationDetailsSource&quot; authentication-success-forward-url=&quot;/logged&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;/&quot; access=&quot;permitAll&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/isAutenticated&quot; access=&quot;permitAll&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/resources/images/favicon.png&quot;\n                                access=&quot;permitAll&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/resources/webfonts/**&quot;\n                                access=&quot;permitAll&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/resources/**&quot;\n                                access=&quot;permitAll&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/signin&quot;\n                                access=&quot;permitAll&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/signinAjax&quot;\n                                access=&quot;permitAll&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/userList&quot;\n                                access=&quot;isAuthenticated()&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/imgages/**&quot;\n                                access=&quot;permitAll&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/**&quot;\n                                access=&quot;isAuthenticated()&quot; /&gt;\n    &lt;/security:http&gt;\n\n    &lt;security:global-method-security\n            secured-annotations=&quot;enabled&quot; /&gt;\n\n    &lt;security:authentication-manager\n            erase-credentials=&quot;true&quot;&gt;\n        &lt;security:authentication-provider\n                ref=&quot;ldapActiveDirectoryAuthProvider&quot; /&gt;\n    &lt;/security:authentication-manager&gt;\n\n    &lt;bean id=&quot;ldapActiveDirectoryAuthProvider&quot;\n          class=&quot;org.springframework.security.ldap.authentication.ad.CustomActiveDirectoryLdapAuthenticationProvider&quot;&gt;\n        &lt;constructor-arg value=&quot;XXXX&quot; /&gt;\n        &lt;constructor-arg value=&quot;ldap://XXX:389&quot; /&gt;\n        &lt;property name=&quot;convertSubErrorCodesToExceptions&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;searchFilter&quot;\n                  value=&quot;(&amp;amp;(objectClass=user)(sAMAccountName={0}))&quot;  /&gt;\n        &lt;property name=&quot;useAuthenticationRequestCredentials&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;userDetailsContextMapper&quot; ref=&quot;tdrUserDetailsContextMapper&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;tdrUserDetailsContextMapper&quot;\n          class=&quot;it.xxx.account.CustomUserDetailsContextMapper&quot; /&gt;\n\n    &lt;bean id=&quot;customWebAuthenticationDetailsSource&quot;\n        class=&quot;it.xxx.config.security.CustomWebAuthenticationDetailsSource&quot;/&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n<p>That function correctly to this Java Based Configuration</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n//@EnableGlobalMethodSecurity(securedEnabled=true)\n//@ImportResource(value = &quot;classpath:spring-security-context.xml&quot;)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n\n\n    @Bean\n    public CustomWebAuthenticationDetailsSource customWebAuthenticationDetailsSource() {\n        return new CustomWebAuthenticationDetailsSource();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll()\n                .antMatchers(&quot;/isAutenticated&quot;).permitAll()\n                .antMatchers(&quot;/resources/**&quot;).permitAll()\n                .antMatchers(&quot;/signin&quot;).permitAll()\n                .antMatchers(&quot;/signinAjax&quot;).permitAll()\n                .antMatchers(&quot;/userList&quot;).permitAll()\n                .antMatchers(&quot;/images/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/signin&quot;)\n                .authenticationDetailsSource(customWebAuthenticationDetailsSource())\n                .successForwardUrl(&quot;/logged&quot;)\n                .failureForwardUrl(&quot;/signinAjax?error=1&quot;);\n\n\n    }\n\n\n\n    @Bean\n    public CustomActiveDirectoryLdapAuthenticationProvider ldapActiveDirectoryAuthProvider() {\n        CustomActiveDirectoryLdapAuthenticationProvider provider = new CustomActiveDirectoryLdapAuthenticationProvider(&quot;xxx.local&quot;,&quot;ldap://xxx:389&quot;);\n        provider.setConvertSubErrorCodesToExceptions(true);\n        provider.setSearchFilter(&quot;(&amp;amp;(objectClass=user)(sAMAccountName={0}))&quot;);\n        provider.setUseAuthenticationRequestCredentials(true);\n        provider.setUserDetailsContextMapper(tdrUserDetailsContextMapper());\n        return provider;\n    }\n\n    @Bean\n    public LoggerListener loggerListener() {\n        return new LoggerListener();\n    }\n\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.eraseCredentials(true);\n        auth.authenticationProvider(ldapActiveDirectoryAuthProvider());\n    }\n\n\n    @Bean\n    public CustomUserDetailsContextMapper tdrUserDetailsContextMapper() {\n        return new CustomUserDetailsContextMapper();\n    }\n\n\n\n\n}\n</code></pre>\n<p>on compile and runnung of tomcat no error but is impossible to make the loggin and having this error</p>\n<pre><code>org.springframework.security.access.event.LoggerListener.onAuthorizationFailureEvent Security authorization failed due to: org.springframework.security.access.AccessDeniedException: Access is denied; authenticated principal: AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=19C02E6245BF011635B6ADC374ED4EA4], Granted Authorities=[ROLE_ANONYMOUS]]; secure object: filter invocation [POST /login]; configuration attributes: [authenticated]\n</code></pre>\n<p>I don't know what is missing.</p>\n"},{"tags":["java","inheritance","polymorphism","gson","runtimetypeadapterfactory"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635502183,"creation_date":1635502183,"answer_id":69767145,"question_id":69689389,"body_markdown":"You have to use the `RuntimeTypeAdapterFactory.of(Class&lt;T&gt; baseType, String typeFieldName, boolean maintainType)` overload and specify `maintainType=true`. Otherwise Gson will ignore its value when assigning the field values.\r\n\r\nHowever, the question is rather if your `User` class really needs a `userType` field. Gson won&#39;t need that when using `RuntimeTypeAdapterFactory`. If you need the user type value in your application logic, maybe it would be cleaner to have `User` declare an abstract `getUserType()` method which the subclasses then override (e.g. `Admin` would implement it as `return UserType.ADMIN`). With your current implementation it would (theoretically) be possible that a `Regular` has the user type `ADMIN`.","title":"Gson RuntimeTypeAdapterFactory converted my userType to null after deserializing","body":"<p>You have to use the <code>RuntimeTypeAdapterFactory.of(Class&lt;T&gt; baseType, String typeFieldName, boolean maintainType)</code> overload and specify <code>maintainType=true</code>. Otherwise Gson will ignore its value when assigning the field values.</p>\n<p>However, the question is rather if your <code>User</code> class really needs a <code>userType</code> field. Gson won't need that when using <code>RuntimeTypeAdapterFactory</code>. If you need the user type value in your application logic, maybe it would be cleaner to have <code>User</code> declare an abstract <code>getUserType()</code> method which the subclasses then override (e.g. <code>Admin</code> would implement it as <code>return UserType.ADMIN</code>). With your current implementation it would (theoretically) be possible that a <code>Regular</code> has the user type <code>ADMIN</code>.</p>\n"}],"owner":{"account_id":19600630,"reputation":23,"user_id":14345576,"display_name":"winsonloo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635502183,"creation_date":1635001639,"question_id":69689389,"body_markdown":"I am using `RuntimeTypeAdapterFactory.java` from https://github.com/google/gson/blob/master/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java and was trying to **deserialize json to User object** from my `userData.json` file which contains the following values:\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;a66c4e96-3370-47e3-a757-d7d9417208db&quot;,\r\n    &quot;userType&quot;: &quot;ADMIN&quot;,\r\n    &quot;firstName&quot;: &quot;admin1&quot;,\r\n    &quot;lastName&quot;: &quot;adminlast1&quot;,\r\n    &quot;username&quot;: &quot;admin0101&quot;,\r\n    &quot;email&quot;: &quot;abc1@abc.com&quot;,\r\n    &quot;password&quot;: &quot;abc123&quot;,\r\n    &quot;address&quot;: null\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;4948f8c4-7c89-4b7a-92a8-a0ed9daa5b39&quot;,\r\n    &quot;userType&quot;: &quot;REGULAR&quot;,\r\n    &quot;firstName&quot;: &quot;regular1&quot;,\r\n    &quot;lastName&quot;: &quot;regularlast1&quot;,\r\n    &quot;username&quot;: &quot;regular0101&quot;,\r\n    &quot;email&quot;: &quot;abc2@abc.com&quot;,\r\n    &quot;password&quot;: &quot;abc123&quot;,\r\n    &quot;address&quot;: null\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;9dc587e1-b8e1-441a-a036-44cd091ce405&quot;,\r\n    &quot;userType&quot;: &quot;OWNER&quot;,\r\n    &quot;firstName&quot;: &quot;owner1&quot;,\r\n    &quot;lastName&quot;: &quot;ownerlast1&quot;,\r\n    &quot;username&quot;: &quot;owner0101&quot;,\r\n    &quot;email&quot;: &quot;abc3@abc.com&quot;,\r\n    &quot;password&quot;: &quot;abc123&quot;,\r\n    &quot;address&quot;: null\r\n  }\r\n]\r\n```\r\nBut when I tried to read them from the .json file, the `userType` has all became `null` as below:\r\n[![running debugger with breakpoint in where I load the data][1]][1]\r\nIn my `User` class:\r\n```java\r\npublic class User {\r\n    private String id;\r\n    protected UserType userType;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String username;\r\n    private String email;\r\n    private String password;\r\n    private String address;\r\n\r\n    public User(String id, UserType userType, String firstName, String lastName, String username, String email, String password, String address) {\r\n        this.id = id;\r\n        this.userType = userType;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.address = address;\r\n    }\r\n}\r\n```\r\n\r\nIn my `Admin`, &#39;Owner&#39; and &#39;Regular&#39; Classes:\r\n```java\r\npublic class Admin extends User{\r\n    private String adminDetails;\r\n    public Admin(String id, String firstName, String lastName, String username, String email, String password, String address, String adminDetails) {\r\n        super(id, UserType.ADMIN, firstName, lastName, username, email, password, address);\r\n        this.adminDetails = adminDetails;\r\n    }\r\n}\r\n```\r\n```java\r\npublic class Owner extends User{\r\n    private String ownerDetails;\r\n    public Owner(String id, String firstName, String lastName, String username, String email, String password, String address, String ownerDetails) {\r\n        super(id, UserType.OWNER, firstName, lastName, username, email, password, address);\r\n        this.ownerDetails = ownerDetails;\r\n    }\r\n}\r\n```\r\n```java\r\npublic class Regular extends User{\r\n    private String regularDetails;\r\n    public Regular(String id, String firstName, String lastName, String username, String email, String password, String address, String regularDetails) {\r\n        super(id, UserType.REGULAR, firstName, lastName, username, email, password, address);\r\n        this.regularDetails = regularDetails;\r\n    }\r\n}\r\n```\r\nHow I wrote the RuntimeTypeAdapaterFactory and method to load from json.\r\n```java\r\n private final Type USER_LIST_TYPE = new TypeToken&lt;ArrayList&lt;User&gt;&gt;(){}.getType();\r\n\r\n    //used for deserialization of User\r\n    RuntimeTypeAdapterFactory&lt;User&gt; adapter = RuntimeTypeAdapterFactory.of(User.class, &quot;userType&quot;)\r\n            .registerSubtype(Admin.class, UserType.ADMIN.name())\r\n            .registerSubtype(Owner.class, UserType.OWNER.name())\r\n            .registerSubtype(Agent.class, UserType.AGENT.name())\r\n            .registerSubtype(Regular.class, UserType.REGULAR.name())\r\n            .registerSubtype(Pending.class, UserType.PENDING.name());\r\n\r\n    //load from json file based on provided UserType\r\n    private ArrayList&lt;User&gt; loadData(UserType userType){\r\n        try {\r\n            fileReader = new FileReader(getPath(loadDataType));\r\n            gson = new GsonBuilder().registerTypeAdapterFactory(adapter).create();\r\n            reader = new JsonReader(fileReader);\r\n            data = gson.fromJson(reader, USER_LIST_TYPE);\r\n            fileReader.close();\r\n\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (data == null){\r\n            return new ArrayList&lt;User&gt;();\r\n        }\r\n\r\n        return data;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lOxAQ.png","title":"Gson RuntimeTypeAdapterFactory converted my userType to null after deserializing","body":"<p>I am using <code>RuntimeTypeAdapterFactory.java</code> from <a href=\"https://github.com/google/gson/blob/master/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java\" rel=\"nofollow noreferrer\">https://github.com/google/gson/blob/master/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java</a> and was trying to <strong>deserialize json to User object</strong> from my <code>userData.json</code> file which contains the following values:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;a66c4e96-3370-47e3-a757-d7d9417208db&quot;,\n    &quot;userType&quot;: &quot;ADMIN&quot;,\n    &quot;firstName&quot;: &quot;admin1&quot;,\n    &quot;lastName&quot;: &quot;adminlast1&quot;,\n    &quot;username&quot;: &quot;admin0101&quot;,\n    &quot;email&quot;: &quot;abc1@abc.com&quot;,\n    &quot;password&quot;: &quot;abc123&quot;,\n    &quot;address&quot;: null\n  },\n  {\n    &quot;id&quot;: &quot;4948f8c4-7c89-4b7a-92a8-a0ed9daa5b39&quot;,\n    &quot;userType&quot;: &quot;REGULAR&quot;,\n    &quot;firstName&quot;: &quot;regular1&quot;,\n    &quot;lastName&quot;: &quot;regularlast1&quot;,\n    &quot;username&quot;: &quot;regular0101&quot;,\n    &quot;email&quot;: &quot;abc2@abc.com&quot;,\n    &quot;password&quot;: &quot;abc123&quot;,\n    &quot;address&quot;: null\n  },\n  {\n    &quot;id&quot;: &quot;9dc587e1-b8e1-441a-a036-44cd091ce405&quot;,\n    &quot;userType&quot;: &quot;OWNER&quot;,\n    &quot;firstName&quot;: &quot;owner1&quot;,\n    &quot;lastName&quot;: &quot;ownerlast1&quot;,\n    &quot;username&quot;: &quot;owner0101&quot;,\n    &quot;email&quot;: &quot;abc3@abc.com&quot;,\n    &quot;password&quot;: &quot;abc123&quot;,\n    &quot;address&quot;: null\n  }\n]\n</code></pre>\n<p>But when I tried to read them from the .json file, the <code>userType</code> has all became <code>null</code> as below:\n<a href=\"https://i.stack.imgur.com/lOxAQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lOxAQ.png\" alt=\"running debugger with breakpoint in where I load the data\" /></a>\nIn my <code>User</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    private String id;\n    protected UserType userType;\n    private String firstName;\n    private String lastName;\n    private String username;\n    private String email;\n    private String password;\n    private String address;\n\n    public User(String id, UserType userType, String firstName, String lastName, String username, String email, String password, String address) {\n        this.id = id;\n        this.userType = userType;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.address = address;\n    }\n}\n</code></pre>\n<p>In my <code>Admin</code>, 'Owner' and 'Regular' Classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Admin extends User{\n    private String adminDetails;\n    public Admin(String id, String firstName, String lastName, String username, String email, String password, String address, String adminDetails) {\n        super(id, UserType.ADMIN, firstName, lastName, username, email, password, address);\n        this.adminDetails = adminDetails;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Owner extends User{\n    private String ownerDetails;\n    public Owner(String id, String firstName, String lastName, String username, String email, String password, String address, String ownerDetails) {\n        super(id, UserType.OWNER, firstName, lastName, username, email, password, address);\n        this.ownerDetails = ownerDetails;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Regular extends User{\n    private String regularDetails;\n    public Regular(String id, String firstName, String lastName, String username, String email, String password, String address, String regularDetails) {\n        super(id, UserType.REGULAR, firstName, lastName, username, email, password, address);\n        this.regularDetails = regularDetails;\n    }\n}\n</code></pre>\n<p>How I wrote the RuntimeTypeAdapaterFactory and method to load from json.</p>\n<pre class=\"lang-java prettyprint-override\"><code> private final Type USER_LIST_TYPE = new TypeToken&lt;ArrayList&lt;User&gt;&gt;(){}.getType();\n\n    //used for deserialization of User\n    RuntimeTypeAdapterFactory&lt;User&gt; adapter = RuntimeTypeAdapterFactory.of(User.class, &quot;userType&quot;)\n            .registerSubtype(Admin.class, UserType.ADMIN.name())\n            .registerSubtype(Owner.class, UserType.OWNER.name())\n            .registerSubtype(Agent.class, UserType.AGENT.name())\n            .registerSubtype(Regular.class, UserType.REGULAR.name())\n            .registerSubtype(Pending.class, UserType.PENDING.name());\n\n    //load from json file based on provided UserType\n    private ArrayList&lt;User&gt; loadData(UserType userType){\n        try {\n            fileReader = new FileReader(getPath(loadDataType));\n            gson = new GsonBuilder().registerTypeAdapterFactory(adapter).create();\n            reader = new JsonReader(fileReader);\n            data = gson.fromJson(reader, USER_LIST_TYPE);\n            fileReader.close();\n\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        if (data == null){\n            return new ArrayList&lt;User&gt;();\n        }\n\n        return data;\n    }\n</code></pre>\n"},{"tags":["java","while-loop","do-while"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1634691151,"post_id":69639044,"comment_id":123091343,"body_markdown":"To end the process, test for a hash before you enter the loop.  Add a space to the end parenthesis in the print in the last for loop.","body":"To end the process, test for a hash before you enter the loop.  Add a space to the end parenthesis in the print in the last for loop."},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1634717929,"post_id":69639044,"comment_id":123097261,"body_markdown":"Read [Why is it considered inappropriate and unprofessional to type in all capital letters](https://www.quora.com/Why-is-it-considered-inappropriate-and-unprofessional-to-type-in-all-capital-letters)","body":"Read <a href=\"https://www.quora.com/Why-is-it-considered-inappropriate-and-unprofessional-to-type-in-all-capital-letters\" rel=\"nofollow noreferrer\">Why is it considered inappropriate and unprofessional to type in all capital letters</a>"}],"answers":[{"tags":[],"owner":{"account_id":7931581,"reputation":86,"user_id":5989233,"display_name":"AlexMelgar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635502179,"creation_date":1634691493,"answer_id":69639123,"question_id":69639044,"body_markdown":"**First question**\r\n\r\nSeems you just need to add a space at the end of the print. You have this:\r\n\r\n    System.out.print( (char)(i+97)+ &quot;(&quot; + a[i]+&quot;)&quot;);\r\n\r\nIt should be:\r\n\r\n    System.out.print( (char)(i+97)+ &quot;(&quot; + a[i]+&quot;) &quot;); // Added a space at the end.\r\n\r\nOr you could also print the space later:\r\n\r\n    System.out.print( (char)(i+97)+ &quot;(&quot; + a[i]+&quot;)&quot;);\r\n    System.out.print(&quot; &quot;);\r\n\r\n\r\n**Second question**\r\n\r\nAbout the while-loop, you could wrap what you have within the loop and should work, something like:\r\n\r\n    // This will be used for the initial value ONLY, in your example, it should be the &quot;Hi&quot;\r\n    String str = sc.nextLine();\r\n\r\n    while (!str.equals(&quot;#&quot;)) {\r\n        int a[]=new int[26];\r\n\r\n        for(int i = 0; i&lt;str.length();i++) {\r\n            if(str.charAt(i)&gt;=65 &amp;&amp; str.charAt(i)&lt;=90) {\r\n                a[str.charAt(i)-65]++;\r\n            }\r\n            else if(str.charAt(i)&gt;=97 &amp;&amp; str.charAt(i)&lt;=122) {\r\n                a[str.charAt(i)-97]++;\r\n            }\r\n        }           \r\n            \r\n        for(int i=0;i&lt;26;i++) {\r\n            if(a[i]&gt;0) {                    \r\n                System.out.print( (char)(i+97)+ &quot;(&quot; + a[i]+&quot;)&quot;);\r\n            }                   \r\n        }\r\n\r\n        System.out.println(); // Printing new line to split next output\r\n\r\n        // This will be for the next inputs you have, in your example: &quot;Bye&quot; and &quot;#&quot;\r\n        str = sc.nextLine();\r\n    }\r\n","title":"Java while loop text formatting","body":"<p><strong>First question</strong></p>\n<p>Seems you just need to add a space at the end of the print. You have this:</p>\n<pre><code>System.out.print( (char)(i+97)+ &quot;(&quot; + a[i]+&quot;)&quot;);\n</code></pre>\n<p>It should be:</p>\n<pre><code>System.out.print( (char)(i+97)+ &quot;(&quot; + a[i]+&quot;) &quot;); // Added a space at the end.\n</code></pre>\n<p>Or you could also print the space later:</p>\n<pre><code>System.out.print( (char)(i+97)+ &quot;(&quot; + a[i]+&quot;)&quot;);\nSystem.out.print(&quot; &quot;);\n</code></pre>\n<p><strong>Second question</strong></p>\n<p>About the while-loop, you could wrap what you have within the loop and should work, something like:</p>\n<pre><code>// This will be used for the initial value ONLY, in your example, it should be the &quot;Hi&quot;\nString str = sc.nextLine();\n\nwhile (!str.equals(&quot;#&quot;)) {\n    int a[]=new int[26];\n\n    for(int i = 0; i&lt;str.length();i++) {\n        if(str.charAt(i)&gt;=65 &amp;&amp; str.charAt(i)&lt;=90) {\n            a[str.charAt(i)-65]++;\n        }\n        else if(str.charAt(i)&gt;=97 &amp;&amp; str.charAt(i)&lt;=122) {\n            a[str.charAt(i)-97]++;\n        }\n    }           \n        \n    for(int i=0;i&lt;26;i++) {\n        if(a[i]&gt;0) {                    \n            System.out.print( (char)(i+97)+ &quot;(&quot; + a[i]+&quot;)&quot;);\n        }                   \n    }\n\n    System.out.println(); // Printing new line to split next output\n\n    // This will be for the next inputs you have, in your example: &quot;Bye&quot; and &quot;#&quot;\n    str = sc.nextLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4945200,"reputation":114,"user_id":3980798,"display_name":"Kevin Field"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634693882,"creation_date":1634693882,"answer_id":69639345,"question_id":69639044,"body_markdown":"The space can be added into the print statement.\r\nThe loop can end when user enters # character.\r\nAdded one extra println to improve appearance.\r\n\r\n\timport java.util.Scanner;\r\n\r\n\tpublic class MyClass {\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tString str = &quot;&quot;;\r\n\t\t\tint a[];\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\twhile (!(str = sc.nextLine()).equals(&quot;#&quot;)) {\r\n\t\t\t\ta = new int[26];\r\n\t\t\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\t\t\tif (str.charAt(i) &gt;= 65 &amp;&amp; str.charAt(i) &lt;= 90) {\r\n\t\t\t\t\t\ta[str.charAt(i) - 65]++;\r\n\t\t\t\t\t} else if (str.charAt(i) &gt;= 97 &amp;&amp; str.charAt(i) &lt;= 122) {\r\n\t\t\t\t\t\ta[str.charAt(i) - 97]++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (int i = 0; i &lt; 26; i++) {\r\n\t\t\t\t\tif (a[i] &gt; 0) {\r\n\r\n\t\t\t\t\t\tSystem.out.print((char) (i + 97) + &quot;(&quot; + a[i] + &quot;) &quot;); // space added\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;&quot;);  //  looks better with this\r\n\t\t\t}\r\n\t\t\tsc.close();\r\n\t\t}\r\n\t}\r\n","title":"Java while loop text formatting","body":"<p>The space can be added into the print statement.\nThe loop can end when user enters # character.\nAdded one extra println to improve appearance.</p>\n<pre><code>import java.util.Scanner;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        String str = &quot;&quot;;\n        int a[];\n        Scanner sc = new Scanner(System.in);\n        while (!(str = sc.nextLine()).equals(&quot;#&quot;)) {\n            a = new int[26];\n            for (int i = 0; i &lt; str.length(); i++) {\n                if (str.charAt(i) &gt;= 65 &amp;&amp; str.charAt(i) &lt;= 90) {\n                    a[str.charAt(i) - 65]++;\n                } else if (str.charAt(i) &gt;= 97 &amp;&amp; str.charAt(i) &lt;= 122) {\n                    a[str.charAt(i) - 97]++;\n                }\n            }\n            for (int i = 0; i &lt; 26; i++) {\n                if (a[i] &gt; 0) {\n\n                    System.out.print((char) (i + 97) + &quot;(&quot; + a[i] + &quot;) &quot;); // space added\n                }\n            }\n            System.out.println(&quot;&quot;);  //  looks better with this\n        }\n        sc.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23077081,"reputation":1,"user_id":17189891,"display_name":"iman farhana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"answer_count":2,"score":-6,"last_activity_date":1635502179,"creation_date":1634690452,"question_id":69639044,"body_markdown":"**Inputs**\r\n\r\n    Hi.\r\n    Bye.\r\n    #\r\n\r\n**Actual outputs:**\r\n\r\n    h(1)i(1)\r\n\r\n**Expected outputs:**\r\n\r\n    h(1) i(1)\r\n    b(1) e(1) y(1)\r\n\r\nThere must be a gap between both items. How do I need to modify my `while` loop so `#` will indicate stop?\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n\t    \tint a[] = new int[26];\r\n\r\n\t    \tScanner sc =  new Scanner (System.in);\r\n\t    \tString str = sc.nextLine();   \t\r\n\t    \t\t    \t\t\r\n\t    \tfor (char ch : str.toCharArray())\r\n\t    \t\tif (ch &gt;= 65 &amp;&amp; ch &lt;= 90)\r\n\t    \t\t\ta[ch - 65]++;\r\n\t    \t\telse if (ch &gt;= 97 &amp;&amp; ch &lt;= 122)\r\n\t    \t\t\ta[ch - 97]++;  \t\r\n\t    \t\t\r\n\t    \tfor (int i = 0; i &lt; 26; i++)\r\n\t    \t\tif (a[i] &gt; 0)\r\n\t    \t\t   \tSystem.out.print((char)(i + 97) + &quot;(&quot; + a[i] + &quot;)&quot;);\t\r\n\t    }\t\t\r\n    }","title":"Java while loop text formatting","body":"<p><strong>Inputs</strong></p>\n<pre><code>Hi.\nBye.\n#\n</code></pre>\n<p><strong>Actual outputs:</strong></p>\n<pre><code>h(1)i(1)\n</code></pre>\n<p><strong>Expected outputs:</strong></p>\n<pre><code>h(1) i(1)\nb(1) e(1) y(1)\n</code></pre>\n<p>There must be a gap between both items. How do I need to modify my <code>while</code> loop so <code>#</code> will indicate stop?</p>\n<pre><code>import java.util.Scanner;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        int a[] = new int[26];\n\n        Scanner sc =  new Scanner (System.in);\n        String str = sc.nextLine();     \n                        \n        for (char ch : str.toCharArray())\n            if (ch &gt;= 65 &amp;&amp; ch &lt;= 90)\n                a[ch - 65]++;\n            else if (ch &gt;= 97 &amp;&amp; ch &lt;= 122)\n                a[ch - 97]++;   \n            \n        for (int i = 0; i &lt; 26; i++)\n            if (a[i] &gt; 0)\n                System.out.print((char)(i + 97) + &quot;(&quot; + a[i] + &quot;)&quot;);    \n    }       \n}\n</code></pre>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635502167,"creation_date":1602911806,"answer_id":64399246,"question_id":64399176,"body_markdown":"The problem is that you are throwing `Exception` in the constructor.  Throwing and / or declaring `Exception` is almost always *a really bad idea*.\r\n\r\nIn this case, it is better to throw a *specific* unchecked exception.  Either declare your own exception class, or throw an existing one.  `IllegalArgumentException` would be a good choice.\r\n\r\n\r\nSince `IllegalArgumentException` is unchecked, you won&#39;t need to declare it in your `Matrix` constructor&#39;s signature, and you won&#39;t need to &quot;catch or declare&quot; it everywhere you use the constructor.\r\n\r\n------------------\r\n\r\nAs to how you should return a `Matrix` if you can&#39;t construct it.  There are two straightforward&lt;sup&gt;1&lt;/sup&gt; answers:\r\n\r\n1.  Don&#39;t catch the exception.  Let it propagate to the caller ... which provided the invalid input in the first place.\r\n\r\n2.  Return a `null`.  Note this *must* be done in the code that calls the constructor, since a constructor **cannot** return `null`.\r\n\r\n**HOWEVER**, returning `null` leads to other problems:\r\n\r\n- If the caller of (say) `transpose` doesn&#39;t check the result of the call, and act appropriately, this is liable to lead to NullPointerException down the track.\r\n\r\n- If the call *does* check, there is nothing explaining *why* the result is `null`.  Indeed, any explanation that you might have included in the exception message will have been discarded (or dumped into the log, etc as a stacktrace) so that there is nothing to tell the end user ... about their bad input.\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - There is a third approach too.  Implement a way to represent an *invalid* matrix as a `Matrix` instance.  For example you *could* declare a subclass of `Matrix` and call it `InvalidMatrix`.  Some of the methods of this subclass would raise exceptions; e.g. &quot;you cannot transpose an invalid matrix&quot;.  This would also entail using a factory method, since the `new` operation cannot create instances of different classes depending on the arguments.&lt;br&gt;\r\nIt could be argued that this violates [LSP](https://en.wikipedia.org/wiki/Liskov_substitution_principle) since an `InvalidMatrix` cannot be used as a real matrix.  But it could also be argued that it *doesn&#39;t* violate LSP, since any Java method or constructor can *implicitly* throw an unchecked exception. Either way, it is a *pragmatic* solution.&lt;br&gt;\r\nNote that there examples of this kind of thing in the standard Java SE class library.  For instance the  `unmodifiableList` method in `Collections` ([javadoc][1]) creates a `List` instance that throws an `UnsupportedOperationException` if you try to modify it.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)","title":"return object of the method throws exception does not handle, how to fix it?","body":"<p>The problem is that you are throwing <code>Exception</code> in the constructor.  Throwing and / or declaring <code>Exception</code> is almost always <em>a really bad idea</em>.</p>\n<p>In this case, it is better to throw a <em>specific</em> unchecked exception.  Either declare your own exception class, or throw an existing one.  <code>IllegalArgumentException</code> would be a good choice.</p>\n<p>Since <code>IllegalArgumentException</code> is unchecked, you won't need to declare it in your <code>Matrix</code> constructor's signature, and you won't need to &quot;catch or declare&quot; it everywhere you use the constructor.</p>\n<hr />\n<p>As to how you should return a <code>Matrix</code> if you can't construct it.  There are two straightforward<sup>1</sup> answers:</p>\n<ol>\n<li><p>Don't catch the exception.  Let it propagate to the caller ... which provided the invalid input in the first place.</p>\n</li>\n<li><p>Return a <code>null</code>.  Note this <em>must</em> be done in the code that calls the constructor, since a constructor <strong>cannot</strong> return <code>null</code>.</p>\n</li>\n</ol>\n<p><strong>HOWEVER</strong>, returning <code>null</code> leads to other problems:</p>\n<ul>\n<li><p>If the caller of (say) <code>transpose</code> doesn't check the result of the call, and act appropriately, this is liable to lead to NullPointerException down the track.</p>\n</li>\n<li><p>If the call <em>does</em> check, there is nothing explaining <em>why</em> the result is <code>null</code>.  Indeed, any explanation that you might have included in the exception message will have been discarded (or dumped into the log, etc as a stacktrace) so that there is nothing to tell the end user ... about their bad input.</p>\n</li>\n</ul>\n<hr />\n<p><sup>1 - There is a third approach too.  Implement a way to represent an <em>invalid</em> matrix as a <code>Matrix</code> instance.  For example you <em>could</em> declare a subclass of <code>Matrix</code> and call it <code>InvalidMatrix</code>.  Some of the methods of this subclass would raise exceptions; e.g. &quot;you cannot transpose an invalid matrix&quot;.  This would also entail using a factory method, since the <code>new</code> operation cannot create instances of different classes depending on the arguments.<br>\nIt could be argued that this violates <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">LSP</a> since an <code>InvalidMatrix</code> cannot be used as a real matrix.  But it could also be argued that it <em>doesn't</em> violate LSP, since any Java method or constructor can <em>implicitly</em> throw an unchecked exception. Either way, it is a <em>pragmatic</em> solution.<br>\nNote that there examples of this kind of thing in the standard Java SE class library.  For instance the  <code>unmodifiableList</code> method in <code>Collections</code> (<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"nofollow noreferrer\">javadoc</a>) creates a <code>List</code> instance that throws an <code>UnsupportedOperationException</code> if you try to modify it.</sup></p>\n"},{"tags":[],"owner":{"account_id":5089420,"reputation":967,"user_id":4082946,"accept_rate":93,"display_name":"Anirudh Jadhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602913481,"creation_date":1602911852,"answer_id":64399248,"question_id":64399176,"body_markdown":"There are some statements you can use in the catch block, 1st is throwing Runtime Exception, 2nd is returning empty matrix and 3rd is returning null;\r\n\r\n1) `throw new RuntimeException();`\r\n\r\n2) `return new Matrix(new int[0][0]);`\r\n\r\n3) `return null;`","title":"return object of the method throws exception does not handle, how to fix it?","body":"<p>There are some statements you can use in the catch block, 1st is throwing Runtime Exception, 2nd is returning empty matrix and 3rd is returning null;</p>\n<ol>\n<li><p><code>throw new RuntimeException();</code></p>\n</li>\n<li><p><code>return new Matrix(new int[0][0]);</code></p>\n</li>\n<li><p><code>return null;</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":15040563,"reputation":3,"user_id":10855346,"display_name":"flexibleHammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":64399246,"answer_count":2,"score":-1,"last_activity_date":1635502167,"creation_date":1602910928,"question_id":64399176,"body_markdown":"I have made an immutable class that implements the responsibilities about Matrix operations\r\nits constructor throws an exception in confronting with invalid input\r\n\r\n        public Class Matrix{\r\n          public Matrix(int[][] matrix) throws Exception {\r\n            if (!isValid(matrix))\r\n              throw new Exception(&quot;Bad Matrix&quot;);\r\n            sth();\r\n            sth();\r\n            sth();\r\n          }\r\n\r\n\r\n    \t  public Matrix transpose() {\r\n            int[][] transposeMatrix = new int[column][row];\r\n            sth();\r\n            sth();\r\n            sth();\r\n\r\n   \t\t    try {\r\n\t\t \t    return new Matrix(transposeMatrix);\r\n\t\t    } catch (Exception e) {\r\n\t\t\t    // TODO Auto-generated catch block\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n         }\r\n\t  }\r\n\r\nin transpose method, a new instance of the Matrix class wants to be instantiated ,it&#39;s obvious that this method is responsible to handle the exception and this is the problem now I don&#39;t know how to return an instance of Matrix","title":"return object of the method throws exception does not handle, how to fix it?","body":"<p>I have made an immutable class that implements the responsibilities about Matrix operations\nits constructor throws an exception in confronting with invalid input</p>\n<pre><code>    public Class Matrix{\n      public Matrix(int[][] matrix) throws Exception {\n        if (!isValid(matrix))\n          throw new Exception(&quot;Bad Matrix&quot;);\n        sth();\n        sth();\n        sth();\n      }\n\n\n      public Matrix transpose() {\n        int[][] transposeMatrix = new int[column][row];\n        sth();\n        sth();\n        sth();\n\n        try {\n            return new Matrix(transposeMatrix);\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n     }\n  }\n</code></pre>\n<p>in transpose method, a new instance of the Matrix class wants to be instantiated ,it's obvious that this method is responsible to handle the exception and this is the problem now I don't know how to return an instance of Matrix</p>\n"},{"tags":["java","multithreading","asynchronous","concurrency","operating-system"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1635473612,"post_id":69762328,"comment_id":123314082,"body_markdown":"IDK about the efficiency, but the original reason for writing threaded code instead of doing async stuff was for readability. Each thread could be just like the simple, single-threaded, procedural programs that we all learned to write when we were beginners. When you&#39;ve got multiple async activities going on, the program must explicitly store the state of each one, and must explicitly switch from activity to activity. With threads, the state of each activity is _implicit_ in the local variables of its thread, and the scheduling is all taken care of for you by &quot;the system.&quot;","body":"IDK about the efficiency, but the original reason for writing threaded code instead of doing async stuff was for readability. Each thread could be just like the simple, single-threaded, procedural programs that we all learned to write when we were beginners. When you&#39;ve got multiple async activities going on, the program must explicitly store the state of each one, and must explicitly switch from activity to activity. With threads, the state of each activity is <i>implicit</i> in the local variables of its thread, and the scheduling is all taken care of for you by &quot;the system.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635467482,"creation_date":1635467482,"answer_id":69762351,"question_id":69762328,"body_markdown":"For a purely CPU-bound operation you are correct.  Most (99.9999%) of programs need to do input, output, and invoke other services.  Those are orders of magnitude slower than the CPU, so while waiting for the results of an external operation, the OS can schedule and run other (many other) processes in time slices.\r\n\r\nHardware multithreading benefits primarily when 2 conditions are met:\r\n\r\n1. CPU-intensive operations; \r\n2. That can be efficiently divided into independent subsets\r\n\r\nOr you have lots of different tasks to run that can be efficiently divided among multiple hardware processors.\r\n","title":"Multithreaded vs Asynchronous programming in a single core","body":"<p>For a purely CPU-bound operation you are correct.  Most (99.9999%) of programs need to do input, output, and invoke other services.  Those are orders of magnitude slower than the CPU, so while waiting for the results of an external operation, the OS can schedule and run other (many other) processes in time slices.</p>\n<p>Hardware multithreading benefits primarily when 2 conditions are met:</p>\n<ol>\n<li>CPU-intensive operations;</li>\n<li>That can be efficiently divided into independent subsets</li>\n</ol>\n<p>Or you have lots of different tasks to run that can be efficiently divided among multiple hardware processors.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635472620,"creation_date":1635472302,"answer_id":69762744,"question_id":69762328,"body_markdown":"&gt; In the following program for my multicore machine, the two thread final count count is almost half of the single thread count. \r\n\r\nThat is what I would expect from a **valid benchmark** when the application is using two cores.\r\n\r\nHowever, looking at your code, I am somewhat surprised that you are getting those results ... so reliably.\r\n\r\n  - Your benchmark doesn&#39;t take account of JVM warmup effects, particularly JIT compilation.\r\n\r\n  - You benchmark&#39;s `add` method could potentially be optimized by the JIT compiler to get rid of the loop entirely.  (But at least the counts are &quot;used&quot; ... by printing them out.)\r\n\r\nI guess you got lucky ... but I&#39;m not convinced those results will be reproducible for all versions of Java, or if you tweaked the benchmark.\r\n\r\nPlease read this:\r\n\r\n  - https://stackoverflow.com/questions/504103\r\n\r\n-----------------\r\n\r\n&gt; What if we ran this in a single core machine? \r\n\r\nAssuming the following:\r\n\r\n  - You rewrote the benchmark to corrected the flaws above.  \r\n  - You are running on a system where hardware hyper-threading&lt;sup&gt;1&lt;/sup&gt; is disabled&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\nThen ... I would expect it to take two threads to take **more than** twice as long as the one thread version.\r\n\r\nQ: Why &quot;more than&quot;?  \r\n\r\nA: Because there is a significant overhead in starting a new thread.  Depending on your hardware, OS and Java version, it could be more than a millisecond.  Certainly, the time taken is significant if you repeatedly use and discard threads.\r\n\r\n----------------------\r\n\r\n&gt; And is there any way we could achieve the same result there?\r\n\r\nNot sure what you are asking here.  But are if you are asking how to simulate the behavior of one core on a multi-core machine, you would probably need to do this at the OS level.  See https://superuser.com/questions/309617 for Windows and https://askubuntu.com/questions/483824 for Linux.\r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - [Hyperthreading][1] is a hardware optimization where a single core&#39;s processing hardware supports (typically) two hyper-threads.  Each hyperthread\r\nhas its own sets of registers, but it shares functional units such as the ALU with the other hyperthread.  So the two hyperthreads behave like (typically) two cores, except that they may be slower, depending on the precise instruction mix.  A typical OS will *treat* a hyperthread as if it is a regular core.  Hyperthreading is typically enabled / disabled at boot time; e.g. via a BIOS setting.&lt;br&gt;\r\n2 - If hyperthreading is enabled, it is possible that two Java threads won&#39;t be twice as fast as one in a CPU-intensive computation like this ... due to possible slowdown caused by the &quot;other&quot; hyperthread on respective cores.  Did someone mention that benchmarking is complicated?&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Hyper-threading","title":"Multithreaded vs Asynchronous programming in a single core","body":"<blockquote>\n<p>In the following program for my multicore machine, the two thread final count count is almost half of the single thread count.</p>\n</blockquote>\n<p>That is what I would expect from a <strong>valid benchmark</strong> when the application is using two cores.</p>\n<p>However, looking at your code, I am somewhat surprised that you are getting those results ... so reliably.</p>\n<ul>\n<li><p>Your benchmark doesn't take account of JVM warmup effects, particularly JIT compilation.</p>\n</li>\n<li><p>You benchmark's <code>add</code> method could potentially be optimized by the JIT compiler to get rid of the loop entirely.  (But at least the counts are &quot;used&quot; ... by printing them out.)</p>\n</li>\n</ul>\n<p>I guess you got lucky ... but I'm not convinced those results will be reproducible for all versions of Java, or if you tweaked the benchmark.</p>\n<p>Please read this:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/504103\">How do I write a correct micro-benchmark in Java?</a></li>\n</ul>\n<hr />\n<blockquote>\n<p>What if we ran this in a single core machine?</p>\n</blockquote>\n<p>Assuming the following:</p>\n<ul>\n<li>You rewrote the benchmark to corrected the flaws above.</li>\n<li>You are running on a system where hardware hyper-threading<sup>1</sup> is disabled<sup>2</sup>.</li>\n</ul>\n<p>Then ... I would expect it to take two threads to take <strong>more than</strong> twice as long as the one thread version.</p>\n<p>Q: Why &quot;more than&quot;?</p>\n<p>A: Because there is a significant overhead in starting a new thread.  Depending on your hardware, OS and Java version, it could be more than a millisecond.  Certainly, the time taken is significant if you repeatedly use and discard threads.</p>\n<hr />\n<blockquote>\n<p>And is there any way we could achieve the same result there?</p>\n</blockquote>\n<p>Not sure what you are asking here.  But are if you are asking how to simulate the behavior of one core on a multi-core machine, you would probably need to do this at the OS level.  See <a href=\"https://superuser.com/questions/309617\">https://superuser.com/questions/309617</a> for Windows and <a href=\"https://askubuntu.com/questions/483824\">https://askubuntu.com/questions/483824</a> for Linux.</p>\n<hr />\n<p><sup>1 - <a href=\"https://en.wikipedia.org/wiki/Hyper-threading\" rel=\"nofollow noreferrer\">Hyperthreading</a> is a hardware optimization where a single core's processing hardware supports (typically) two hyper-threads.  Each hyperthread\nhas its own sets of registers, but it shares functional units such as the ALU with the other hyperthread.  So the two hyperthreads behave like (typically) two cores, except that they may be slower, depending on the precise instruction mix.  A typical OS will <em>treat</em> a hyperthread as if it is a regular core.  Hyperthreading is typically enabled / disabled at boot time; e.g. via a BIOS setting.<br>\n2 - If hyperthreading is enabled, it is possible that two Java threads won't be twice as fast as one in a CPU-intensive computation like this ... due to possible slowdown caused by the &quot;other&quot; hyperthread on respective cores.  Did someone mention that benchmarking is complicated?</sup></p>\n"}],"owner":{"account_id":10793117,"reputation":644,"user_id":7939864,"display_name":"Shikhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69762351,"answer_count":2,"score":1,"last_activity_date":1635502096,"creation_date":1635467244,"question_id":69762328,"body_markdown":"If in real time the CPU performs only one task at a time then how is multithreading different from asynchronous programming (in terms of efficiency) in a single processor system?\r\n\r\nLets say for example we have to count from 1 to IntegerMax. In the following program for my multicore machine, the two thread final count count is almost half of the single thread count. What if we ran this in a single core machine? And is there any way we could achieve the same result there?\r\n\r\n    class Demonstration {\r\n        public static void main( String args[] ) throws InterruptedException {\r\n            SumUpExample.runTest();\r\n        }\r\n    }\r\n    \r\n    class SumUpExample {\r\n    \r\n        long startRange;\r\n        long endRange;\r\n        long counter = 0;\r\n        static long MAX_NUM = Integer.MAX_VALUE;\r\n    \r\n        public SumUpExample(long startRange, long endRange) {\r\n            this.startRange = startRange;\r\n            this.endRange = endRange;\r\n        }\r\n    \r\n        public void add() {\r\n    \r\n            for (long i = startRange; i &lt;= endRange; i++) {\r\n                counter += i;\r\n            }\r\n        }\r\n    \r\n        static public void twoThreads() throws InterruptedException {\r\n    \r\n            long start = System.currentTimeMillis();\r\n            SumUpExample s1 = new SumUpExample(1, MAX_NUM / 2);\r\n            SumUpExample s2 = new SumUpExample(1 + (MAX_NUM / 2), MAX_NUM);\r\n    \r\n            Thread t1 = new Thread(() -&gt; {\r\n                s1.add();\r\n            });\r\n    \r\n            Thread t2 = new Thread(() -&gt; {\r\n                s2.add();\r\n            });\r\n    \r\n            t1.start();\r\n            t2.start();\r\n            \r\n            t1.join();\r\n            t2.join();\r\n    \r\n            long finalCount = s1.counter + s2.counter;\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;Two threads final count = &quot; + finalCount + &quot; took &quot; + (end - start));\r\n        }\r\n    \r\n        static public void oneThread() {\r\n    \r\n            long start = System.currentTimeMillis();\r\n            SumUpExample s = new SumUpExample(1, MAX_NUM );\r\n            s.add();\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;Single thread final count = &quot; + s.counter + &quot; took &quot; + (end - start));\r\n        }\r\n    \r\n    \r\n        public static void runTest() throws InterruptedException {\r\n    \r\n            oneThread();\r\n            twoThreads();\r\n    \r\n        }\r\n    }\r\n\r\nOutput: \r\n\r\n\r\n    Single thread final count = 2305843008139952128 took 1003\r\n    Two threads final count = 2305843008139952128 took 540\r\n\r\n","title":"Multithreaded vs Asynchronous programming in a single core","body":"<p>If in real time the CPU performs only one task at a time then how is multithreading different from asynchronous programming (in terms of efficiency) in a single processor system?</p>\n<p>Lets say for example we have to count from 1 to IntegerMax. In the following program for my multicore machine, the two thread final count count is almost half of the single thread count. What if we ran this in a single core machine? And is there any way we could achieve the same result there?</p>\n<pre><code>class Demonstration {\n    public static void main( String args[] ) throws InterruptedException {\n        SumUpExample.runTest();\n    }\n}\n\nclass SumUpExample {\n\n    long startRange;\n    long endRange;\n    long counter = 0;\n    static long MAX_NUM = Integer.MAX_VALUE;\n\n    public SumUpExample(long startRange, long endRange) {\n        this.startRange = startRange;\n        this.endRange = endRange;\n    }\n\n    public void add() {\n\n        for (long i = startRange; i &lt;= endRange; i++) {\n            counter += i;\n        }\n    }\n\n    static public void twoThreads() throws InterruptedException {\n\n        long start = System.currentTimeMillis();\n        SumUpExample s1 = new SumUpExample(1, MAX_NUM / 2);\n        SumUpExample s2 = new SumUpExample(1 + (MAX_NUM / 2), MAX_NUM);\n\n        Thread t1 = new Thread(() -&gt; {\n            s1.add();\n        });\n\n        Thread t2 = new Thread(() -&gt; {\n            s2.add();\n        });\n\n        t1.start();\n        t2.start();\n        \n        t1.join();\n        t2.join();\n\n        long finalCount = s1.counter + s2.counter;\n        long end = System.currentTimeMillis();\n        System.out.println(&quot;Two threads final count = &quot; + finalCount + &quot; took &quot; + (end - start));\n    }\n\n    static public void oneThread() {\n\n        long start = System.currentTimeMillis();\n        SumUpExample s = new SumUpExample(1, MAX_NUM );\n        s.add();\n        long end = System.currentTimeMillis();\n        System.out.println(&quot;Single thread final count = &quot; + s.counter + &quot; took &quot; + (end - start));\n    }\n\n\n    public static void runTest() throws InterruptedException {\n\n        oneThread();\n        twoThreads();\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Single thread final count = 2305843008139952128 took 1003\nTwo threads final count = 2305843008139952128 took 540\n</code></pre>\n"},{"tags":["java","loops","switch-statement","gpa"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":0,"creation_date":1635455190,"post_id":69760893,"comment_id":123310587,"body_markdown":"Working with a `Scanner`, you probably want a `while` loop.","body":"Working with a <code>Scanner</code>, you probably want a <code>while</code> loop."}],"answers":[{"tags":[],"owner":{"account_id":18930393,"reputation":87,"user_id":17271405,"display_name":"Ghibran Aljabbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635456070,"creation_date":1635456070,"answer_id":69761081,"question_id":69760893,"body_markdown":"This is not golang you cant use a `for` loop like that and you want to  put your switch case inside the loop. Someone sugested a `while` loop but since you only want to loop over 4 times, a proper `for` loop will do it for you.\r\n\r\n    for(int i = 0, i &lt; 4, i++){\r\n     System.out.print(&quot;Enter grade: &quot;);\r\n        grade = scnr.nextLine();\r\n        \r\n        System.out.print(&quot;Enter number of credits for grade: &quot;);\r\n        creditHour = Integer.parseInt(scnr.nextLine());\r\n        \r\n        switch (grade) \r\n        {\r\n        \r\n          case &quot;A&quot;:\r\n            pointsPerCourse = 4 * creditHour;\r\n          case &quot;B&quot;:\r\n            pointsPerCourse = 3 * creditHour;\r\n          case &quot;C&quot;:\r\n            pointsPerCourse = 2 * creditHour;\r\n          case &quot;D&quot;:\r\n            pointsPerCourse = 1 * creditHour;\r\n            \r\n          default:\r\n            pointsPerCourse = 0 * creditHour;\r\n         }\r\n    }","title":"How can I build my for loop in this GPA Calculator? Java","body":"<p>This is not golang you cant use a <code>for</code> loop like that and you want to  put your switch case inside the loop. Someone sugested a <code>while</code> loop but since you only want to loop over 4 times, a proper <code>for</code> loop will do it for you.</p>\n<pre><code>for(int i = 0, i &lt; 4, i++){\n System.out.print(&quot;Enter grade: &quot;);\n    grade = scnr.nextLine();\n    \n    System.out.print(&quot;Enter number of credits for grade: &quot;);\n    creditHour = Integer.parseInt(scnr.nextLine());\n    \n    switch (grade) \n    {\n    \n      case &quot;A&quot;:\n        pointsPerCourse = 4 * creditHour;\n      case &quot;B&quot;:\n        pointsPerCourse = 3 * creditHour;\n      case &quot;C&quot;:\n        pointsPerCourse = 2 * creditHour;\n      case &quot;D&quot;:\n        pointsPerCourse = 1 * creditHour;\n        \n      default:\n        pointsPerCourse = 0 * creditHour;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9933082,"reputation":169,"user_id":7352289,"display_name":"arp5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635456446,"creation_date":1635456446,"answer_id":69761144,"question_id":69760893,"body_markdown":"I think you are trying to do this:\r\nloop 4 times and add th epoints and credit hours for averaging\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Prog {\r\n    public static void main(String[] args) {\r\n\r\n        String grade = &quot;&quot;;\r\n        int creditHour = 0;\r\n        int creditHourSum = 0;\r\n        int pointsPerCourse = 0;\r\n        double gpa = 0.0;\r\n\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;\\t\\t\\tpointsPerCourse Calculator&quot;);\r\n        System.out.println(&quot;This program will calculate pointsPerCourses based on course grades&quot;);\r\n\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            System.out.print(&quot;Enter grade: &quot;);\r\n            grade = scnr.nextLine();\r\n\r\n            System.out.print(&quot;Enter number of credits for grade: &quot;);\r\n            creditHour = Integer.parseInt(scnr.nextLine());\r\n            creditHourSum += creditHour;\r\n\r\n            switch (grade) {\r\n\r\n                case &quot;A&quot;:\r\n                    pointsPerCourse += 4 * creditHour;\r\n                    break;\r\n                case &quot;B&quot;:\r\n                    pointsPerCourse += 3 * creditHour;\r\n                    break;\r\n                case &quot;C&quot;:\r\n                    pointsPerCourse += 2 * creditHour;\r\n                    break;\r\n                case &quot;D&quot;:\r\n                    pointsPerCourse += 1 * creditHour;\r\n                    break;\r\n                default:\r\n                    pointsPerCourse += 0 * creditHour;\r\n            }\r\n            System.out.println(pointsPerCourse);\r\n        }\r\n\r\n        gpa = (double) pointsPerCourse / creditHourSum;\r\n        System.out.println(pointsPerCourse + &quot;, &quot; + creditHourSum);\r\n        System.out.printf(&quot;The GPA is %.1f &quot;, gpa);\r\n\r\n        scnr.close();\r\n\r\n    }\r\n}\r\n```\r\nOUTPUT\r\n```\r\nThis program will calculate pointsPerCourses based on course grades\r\nEnter grade: A\r\nEnter number of credits for grade: 4\r\n16\r\nEnter grade: E\r\nEnter number of credits for grade: 4\r\n16\r\nEnter grade: B\r\nEnter number of credits for grade: 4\r\n28\r\nEnter grade: C\r\nEnter number of credits for grade: 3\r\n34\r\n34, 15\r\nThe GPA is 2.3\r\n```","title":"How can I build my for loop in this GPA Calculator? Java","body":"<p>I think you are trying to do this:\nloop 4 times and add th epoints and credit hours for averaging</p>\n<pre><code>import java.util.Scanner;\n\nclass Prog {\n    public static void main(String[] args) {\n\n        String grade = &quot;&quot;;\n        int creditHour = 0;\n        int creditHourSum = 0;\n        int pointsPerCourse = 0;\n        double gpa = 0.0;\n\n        Scanner scnr = new Scanner(System.in);\n\n        System.out.println(&quot;\\t\\t\\tpointsPerCourse Calculator&quot;);\n        System.out.println(&quot;This program will calculate pointsPerCourses based on course grades&quot;);\n\n        for (int i = 0; i &lt; 4; i++) {\n            System.out.print(&quot;Enter grade: &quot;);\n            grade = scnr.nextLine();\n\n            System.out.print(&quot;Enter number of credits for grade: &quot;);\n            creditHour = Integer.parseInt(scnr.nextLine());\n            creditHourSum += creditHour;\n\n            switch (grade) {\n\n                case &quot;A&quot;:\n                    pointsPerCourse += 4 * creditHour;\n                    break;\n                case &quot;B&quot;:\n                    pointsPerCourse += 3 * creditHour;\n                    break;\n                case &quot;C&quot;:\n                    pointsPerCourse += 2 * creditHour;\n                    break;\n                case &quot;D&quot;:\n                    pointsPerCourse += 1 * creditHour;\n                    break;\n                default:\n                    pointsPerCourse += 0 * creditHour;\n            }\n            System.out.println(pointsPerCourse);\n        }\n\n        gpa = (double) pointsPerCourse / creditHourSum;\n        System.out.println(pointsPerCourse + &quot;, &quot; + creditHourSum);\n        System.out.printf(&quot;The GPA is %.1f &quot;, gpa);\n\n        scnr.close();\n\n    }\n}\n</code></pre>\n<p>OUTPUT</p>\n<pre><code>This program will calculate pointsPerCourses based on course grades\nEnter grade: A\nEnter number of credits for grade: 4\n16\nEnter grade: E\nEnter number of credits for grade: 4\n16\nEnter grade: B\nEnter number of credits for grade: 4\n28\nEnter grade: C\nEnter number of credits for grade: 3\n34\n34, 15\nThe GPA is 2.3\n</code></pre>\n"}],"owner":{"account_id":23104044,"reputation":15,"user_id":17213008,"display_name":"ryanmonty42"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69761144,"answer_count":2,"score":0,"last_activity_date":1635501878,"creation_date":1635454933,"question_id":69760893,"body_markdown":"How can I build my for loop in this GPA Calculator? Brand new to Java, and for our class we are required to ask for user&#39;s grade and credit hours 4 times, then calculate their average. We were instructed to use switch statements and loops, but not much other instruction. We just learned about for, while, and do loops. Here is what I have so far, not sure what to do next.\r\n\r\n  [1]: https://i.stack.imgur.com/BicQS.png\r\n[This is what output is supposed to look like.][1]\r\n\r\n    public static void main(String[] args) {\r\n    \tString grade = &quot;&quot;;\r\n    \tint creditHour = 0;\r\n    \tint pointsPerCourse = 0;\r\n    \tdouble gpa = 0.0;\r\n    \t\r\n    \tScanner scnr = new Scanner(System.in);\r\n    \t\r\n    \tSystem.out.println(&quot;\\t\\t\\tpointsPerCourse Calculator&quot;);\r\n    \tSystem.out.println(&quot;This program will calculate pointsPerCourses based on course grades&quot;);\r\n    \t\r\n    \tfor ();\r\n    \t{\r\n    \t\tSystem.out.print(&quot;Enter grade: &quot;);\r\n    \t\tgrade = scnr.nextLine();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter number of credits for grade: &quot;);\r\n    \t\tcreditHour = Integer.parseInt(scnr.nextLine());\r\n    \t}\r\n    \t\t\r\n    \tswitch (grade) {\r\n    \t\tcase &quot;A&quot;:\r\n    \t\t\tpointsPerCourse = 4 * creditHour;\r\n    \t\tcase &quot;B&quot;:\r\n    \t\t\tpointsPerCourse = 3 * creditHour;\r\n    \t\tcase &quot;C&quot;:\r\n    \t\t\tpointsPerCourse = 2 * creditHour;\r\n    \t\tcase &quot;D&quot;:\r\n    \t\t\tpointsPerCourse = 1 * creditHour;\r\n    \t\tdefault:\r\n    \t\t\tpointsPerCourse = 0 * creditHour;\r\n    \t}\t\r\n    \t\t\t\r\n    \tgpa = (double) pointsPerCourse / creditHour;\r\n    \tSystem.out.printf(&quot;The GPA is %.1f &quot;, gpa);\r\n    \r\n    \tscnr.close();\r\n    }","title":"How can I build my for loop in this GPA Calculator? Java","body":"<p>How can I build my for loop in this GPA Calculator? Brand new to Java, and for our class we are required to ask for user's grade and credit hours 4 times, then calculate their average. We were instructed to use switch statements and loops, but not much other instruction. We just learned about for, while, and do loops. Here is what I have so far, not sure what to do next.</p>\n<p><a href=\"https://i.stack.imgur.com/BicQS.png\" rel=\"nofollow noreferrer\">This is what output is supposed to look like.</a></p>\n<pre><code>public static void main(String[] args) {\n    String grade = &quot;&quot;;\n    int creditHour = 0;\n    int pointsPerCourse = 0;\n    double gpa = 0.0;\n    \n    Scanner scnr = new Scanner(System.in);\n    \n    System.out.println(&quot;\\t\\t\\tpointsPerCourse Calculator&quot;);\n    System.out.println(&quot;This program will calculate pointsPerCourses based on course grades&quot;);\n    \n    for ();\n    {\n        System.out.print(&quot;Enter grade: &quot;);\n        grade = scnr.nextLine();\n        \n        System.out.print(&quot;Enter number of credits for grade: &quot;);\n        creditHour = Integer.parseInt(scnr.nextLine());\n    }\n        \n    switch (grade) {\n        case &quot;A&quot;:\n            pointsPerCourse = 4 * creditHour;\n        case &quot;B&quot;:\n            pointsPerCourse = 3 * creditHour;\n        case &quot;C&quot;:\n            pointsPerCourse = 2 * creditHour;\n        case &quot;D&quot;:\n            pointsPerCourse = 1 * creditHour;\n        default:\n            pointsPerCourse = 0 * creditHour;\n    }   \n            \n    gpa = (double) pointsPerCourse / creditHour;\n    System.out.printf(&quot;The GPA is %.1f &quot;, gpa);\n\n    scnr.close();\n}\n</code></pre>\n"},{"tags":["java","c#","image","udp","send"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1635456471,"post_id":69760887,"comment_id":123310973,"body_markdown":"&quot;It doesn&#39;t work&quot; is not sufficient debugging information for anyone to help.  What happens?  How does that differ from what you expect?","body":"&quot;It doesn&#39;t work&quot; is not sufficient debugging information for anyone to help.  What happens?  How does that differ from what you expect?"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1635456647,"post_id":69760887,"comment_id":123311030,"body_markdown":"FWIW, this seems like it&#39;ll confuse the issue: `TcpClient _ClientUdp;`   So we have an object named with UDP that is apparently of a type intended for TCP.  Are we using TCP or UDP?   My guess is TCP, on the grounds that using UDP for large data seems somewhat silly.","body":"FWIW, this seems like it&#39;ll confuse the issue: <code>TcpClient _ClientUdp;</code>   So we have an object named with UDP that is apparently of a type intended for TCP.  Are we using TCP or UDP?   My guess is TCP, on the grounds that using UDP for large data seems somewhat silly."},{"owner":{"account_id":23175819,"reputation":1,"user_id":17274360,"display_name":"Federico111"},"score":0,"creation_date":1635458675,"post_id":69760887,"comment_id":123311572,"body_markdown":"I tried many code show in internet for listening udp in address:8501 but nothing received during the  sending command...","body":"I tried many code show in internet for listening udp in address:8501 but nothing received during the  sending command..."}],"answers":[{"tags":[],"owner":{"account_id":3987736,"reputation":370,"user_id":3287786,"display_name":"I.G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635501845,"creation_date":1635501845,"answer_id":69767066,"question_id":69760887,"body_markdown":"@Federico111, you should use `java.net.DatagramSocket` instead of `Socket` to work with UDP.","title":"Java: send/receive data through TCP and receive image from UDP","body":"<p>@Federico111, you should use <code>java.net.DatagramSocket</code> instead of <code>Socket</code> to work with UDP.</p>\n"}],"owner":{"account_id":23175819,"reputation":1,"user_id":17274360,"display_name":"Federico111"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635501845,"creation_date":1635454887,"question_id":69760887,"body_markdown":"I&#39;m working in a code that come from C# and I&#39;m trying to traduce it in java.\r\nBasically in first step I send and receive some data-command to an IP camera through TCP (this is done) and in second step I have to receive the image through UDP. The problem is with second step: receive image from UDP.\r\nI try every code in internet but no one work.\r\n\r\nThe originally code in C# is this:\r\n\r\n*Example to server connection in C# \r\n \r\n        Socket _ServerUdp = null; \r\n        Socket _ServerTcpIp = null; \r\n        IPEndPoint _EndpointUdp = null; \r\n        TcpClient _ClientUdp; \r\n        /// &lt;summary&gt; \r\n        /// Connect the socket \r\n       /// &lt;summary&gt; \r\n        public bool Connect(string IpAddr) \r\n        { \r\n             if (!_VideoPortConnect(IpAddr, 8501)) \r\n                    return false; \r\n            if (!_CommandPortConnect(IpAddr, 8500)) \r\n                return false; \r\n            return true; \r\n        } \r\n        /// &lt;summary&gt; \r\n        /// Udp Connect \r\n        /// &lt;/summary&gt; \r\n        bool _VideoPortConnect(string IpAddr, int VideoPort) \r\n        { \r\n            try \r\n            { \r\n                _ServerUdp = new Socket(AddressFamily.InterNetwork, SocketType.Dgram, ProtocolType.Udp); \r\n                _EndpointUdp = new IPEndPoint(IPAddress.Parse(IpAddr), VideoPort); \r\n                _ClientUdp = new TcpClient(); \r\n                _ClientUdp.Connect(_EndpointUdp); \r\n                return true; \r\n            } \r\n            catch { return false; } \r\n        } \r\n \r\n        /// &lt;summary&gt; \r\n        /// Tcp Ip Connect \r\n        /// &lt;/summary&gt; \r\n        bool _CommandPortConnect(string IpAddr, int CommandPort) \r\n        { \r\n            _ServerTcpIp = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp); \r\n            IPEndPoint _RemoteEndPoint = new IPEndPoint(IPAddress.Parse(IpAddr), CommandPort); \r\n            _ServerTcpIp.ReceiveTimeout = 5000; \r\n            _ServerTcpIp.SendTimeout = 5000; \r\n            try \r\n            { \r\n                _ServerTcpIp.Connect(_RemoteEndPoint); \r\n                return true; \r\n            } \r\n            catch { return false; } \r\n        *}* \r\n\r\nExample for send command and receive image\r\nThe command will be send by TCP/IP. \r\n \r\nbyte[] DataReceived = new byte[20000]; \r\n \r\n        /// &lt;summary&gt; \r\n        /// Send Command Bar Code Reader \r\n        /// &lt;/summary&gt; \r\n        /// &lt;returns&gt;&lt;/returns&gt; \r\n        bool SendCommand() \r\n        { \r\n            byte[] _Send = new byte[3]; \r\n            _Send[0]= 20;    //CMD BAR CODE READER \r\n            _Send[1] = 2;    //EXT CMD GET DATA \r\n            _Send[2] = 2;    //SEND IMAGE \r\n            if (!SendEth(_Send, 3)) \r\n                return false; \r\n            int _Ndati = ReadEth(); \r\n            if (_Ndati == -1) \r\n                return false; \r\n            if (DataReceived[4] != 20) \r\n                return false; \r\n            GetImage(); \r\n        } \r\n        /// &lt;summary&gt; \r\n        /// Send Data \r\n        /// &lt;/summary&gt; \r\n        /// &lt;param name=&quot;_Val&quot;&gt;&lt;/param&gt; \r\n        /// &lt;param name=&quot;_Len&quot;&gt;&lt;/param&gt; \r\n        bool SendEth(byte[] _Val, Int32 _Len) \r\n        { \r\n            try \r\n            { \r\n                byte[] _Send = new byte[_Len + 4]; \r\n                int _Value = _Len; \r\n                Array.Copy(_Val, 0, _Send, 4, _Len); \r\n                _Send[3] = (byte)_Value; \r\n                _Value &lt;&lt;= 8; \r\n                _Send[2] = (byte)_Value; \r\n                _Value &lt;&lt;= 8; \r\n                _Send[1] = (byte)_Value; \r\n                _Value &lt;&lt;= 8; \r\n                _Send[0] = (byte)_Value; \r\n                _ServerTcpIp.Send(_Send, _Len + 4, SocketFlags.None); \r\n            } \r\n            catch { return false; } \r\n            return true; \r\n        }\r\n\t\t/// &lt;summary&gt; \r\n        /// Read Data from Ethernet \r\n        /// &lt;/summary&gt; \r\n        /// &lt;param name=&quot;LenDati&quot;&gt;&lt;/param&gt; \r\n        /// &lt;returns&gt;array dati&lt;/returns&gt; \r\n        internal int ReadEth() \r\n        { \r\n            int _Ndati; \r\n            try \r\n            { \r\n                _Ndati = _ServerTcpIp.Receive(DataReceived, SocketFlags.None); \r\n                DataPointer =0; \r\n                int _Len = GetInt(); \r\n                if(_Len!=_Ndati-4) \r\n                { \r\n                    int _Diff = (_Ndati - 4) - _Len; \r\n                    byte[] BuffRx = new byte[_Diff]; \r\n                    int _NrDati = 0; \r\n                    int _PuntRx = _Ndati; \r\n                    while (_PuntRx &lt; _Diff) \r\n                    { \r\n                        _NrDati = _ServerTcpIp.Receive(BuffRx, _Diff, SocketFlags.None); \r\n                        for (int n = 0; n &lt; _NrDati; n++) \r\n                            DataReceived[_PuntRx++] = BuffRx[n]; \r\n                    } \r\n                } \r\n                return _Ndati; \r\n            } \r\n \r\n            catch { return -1; } \r\n        } \r\n \r\n        /// &lt;summary&gt; \r\n        /// Get Image \r\n        /// &lt;/summary&gt; \r\n        /// &lt;returns&gt;&lt;/returns&gt; \r\n        internal ImageSource GetImage() \r\n        { \r\n            //get image \r\n            NetworkStream _Stream = _ClientUdp.GetStream(); \r\n            byte[] _Data = (byte[])_Formatter.Deserialize(_Stream); \r\n            MemoryStream _ImgStream = new MemoryStream(_Data); \r\n            ImageSource _Image = BitmapFrame.Create(_ImgStream, BitmapCreateOptions.None, \r\n\t\t\tBitmapCacheOption.OnLoad); \r\n            return _Image; \r\n        } \r\n\r\n\r\nMy JAVA code:\r\n\r\n\r\npublic class TFinale {\r\n\r\n    static byte[] DataReceived = new byte[20000];\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String[] args8500 = new String[2];\r\n        args8500[0] = &quot;10.0.0.123&quot;;\r\n        args8500[1] = &quot;8500&quot;;\r\n        int port8500 = Integer.parseInt(args8500[1]);\r\n\r\n        String[] args8501 = new String[2];\r\n        args8501[0] = &quot;10.0.0.123&quot;;\r\n        args8501[1] = &quot;8501&quot;;\r\n        int port8501 = Integer.parseInt(args8501[1]);\r\n\r\n        Socket clientSocket8501 = TFinale.createSocket(args8501[0], port8501);\r\n        if (clientSocket8501 == null) {\r\n        System.err.println(&quot;Unable to create socket to &quot; + args8501[0] + &quot;:&quot; + port8501 + &quot;.&quot;);\r\n        System.exit(1);\r\n        }\r\n        Socket clientSocket8500 = TFinale.createSocket(args8500[0], port8500);\r\n\r\n        if (clientSocket8500 == null) {\r\n            System.err.println(&quot;Unable to create socket to &quot; + args8500[0] + &quot;:&quot; + port8500 + &quot;.&quot;);\r\n            System.exit(1);\r\n        }\r\n\r\n        byte[] _Send = new byte[3];\r\n        _Send[0] = 22;    //CMD BAR CODE READER \r\n        _Send[1] = 2;    //EXT CMD GET DATA \r\n        _Send[2] = 2;    //SEND IMAGE\r\n        int _Len1 = 3;\r\n        byte[] SendEth1 = SendEth(_Send, _Len1);\r\n\r\n        DataOutputStream serverOut = null;\r\n        try {\r\n            serverOut = new DataOutputStream(clientSocket8500.getOutputStream());\r\n            serverOut.write(SendEth1, 0, 7);\r\n            System.out.println(&quot;serverOut writed!&quot;);\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(TFinale.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        DataInputStream in = null;\r\n        try {\r\n            byte[] messageByte = new byte[1000];\r\n            boolean end = false;\r\n            String dataString = &quot;&quot;;\r\n            in = new DataInputStream(clientSocket8500.getInputStream());\r\n            int bytesRead = 0;\r\n            int f = 0;\r\n            //System.out.println(&quot;Please type 8500 clientSocket......&quot;);\r\n            for (f = 0; f &lt; 7; f++) {\r\n                messageByte[f] = in.readByte();\r\n                System.out.println(&quot;messageByte 8500[&quot; + f + &quot;] &quot; + messageByte[f]);\r\n            }\r\n            ByteBuffer byteBuffer = ByteBuffer.wrap(messageByte, 0, f);\r\n            int bytesToRead = byteBuffer.getShort();\r\n            System.out.println(&quot;About to read &quot; + bytesToRead + &quot; octets&quot;);\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(TCPClient1.class.getName()).log(Level.SEVERE, null, ex);\r\n        } finally {\r\n            try {\r\n                in.close();\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(TCPClient1.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n        timeDelay(1000);\r\n        try {\r\n            serverOut.close();\r\n            System.out.println(&quot;serverOut closed!&quot;);\r\n            in.close();\r\n            System.out.println(&quot;in closed!&quot;);\r\n            clientSocket8501.close();\r\n            System.out.println(&quot;clientSocket8501 closed!&quot;);\r\n            clientSocket8500.close();\r\n            System.out.println(&quot;clientSocket8500 closed!&quot;);\r\n        } catch (IOException ex) {\r\n            System.out.println(&quot;error:&quot; + ex);\r\n        }\r\n\r\n    }\r\n\r\n    private static Socket createSocket(final String hostname, final int port) {\r\n        try {\r\n            Socket clientSocket = new Socket(hostname, port);\r\n            System.out.println(hostname + &quot;:&quot; + port + &quot; socket created!&quot;);\r\n            return clientSocket;\r\n        } catch (UnknownHostException e) {\r\n            System.err.println(&quot; &quot; + hostname + &quot; cannot be resolved as a network host.&quot;);\r\n            return null;\r\n        } catch (IOException e) {\r\n            System.err\r\n                    .println(&quot;An exception occurred while communicating with the TCPServer: &quot;\r\n                            + e.getMessage());\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    private static void timeDelay(int i) {\r\n        try {\r\n            Thread.sleep(i);\r\n        } catch (InterruptedException e) {\r\n        }\r\n    }\r\n\r\n    private static byte[] SendEth(byte[] _Val, int _Len) {\r\n        byte[] _Send = new byte[_Len + 4];\r\n        int _Value = _Len;\r\n        System.arraycopy(_Val, 0, _Send, 4, _Len);\r\n        //Array.Copy(_Val, 0, _Send, 4, _Len); \r\n        _Send[3] = (byte) _Value;\r\n        _Value &lt;&lt;= 8;\r\n        _Send[2] = (byte) _Value;\r\n        _Value &lt;&lt;= 8;\r\n        _Send[1] = (byte) _Value;\r\n        _Value &lt;&lt;= 8;\r\n        _Send[0] = (byte) _Value;\r\n        return _Send;\r\n\r\n    }\r\n\r\n\t}\r\n\r\n\r\nThanks everybody can help me!\r\n\r\n","title":"Java: send/receive data through TCP and receive image from UDP","body":"<p>I'm working in a code that come from C# and I'm trying to traduce it in java.\nBasically in first step I send and receive some data-command to an IP camera through TCP (this is done) and in second step I have to receive the image through UDP. The problem is with second step: receive image from UDP.\nI try every code in internet but no one work.</p>\n<p>The originally code in C# is this:</p>\n<p>*Example to server connection in C#</p>\n<pre><code>    Socket _ServerUdp = null; \n    Socket _ServerTcpIp = null; \n    IPEndPoint _EndpointUdp = null; \n    TcpClient _ClientUdp; \n    /// &lt;summary&gt; \n    /// Connect the socket \n   /// &lt;summary&gt; \n    public bool Connect(string IpAddr) \n    { \n         if (!_VideoPortConnect(IpAddr, 8501)) \n                return false; \n        if (!_CommandPortConnect(IpAddr, 8500)) \n            return false; \n        return true; \n    } \n    /// &lt;summary&gt; \n    /// Udp Connect \n    /// &lt;/summary&gt; \n    bool _VideoPortConnect(string IpAddr, int VideoPort) \n    { \n        try \n        { \n            _ServerUdp = new Socket(AddressFamily.InterNetwork, SocketType.Dgram, ProtocolType.Udp); \n            _EndpointUdp = new IPEndPoint(IPAddress.Parse(IpAddr), VideoPort); \n            _ClientUdp = new TcpClient(); \n            _ClientUdp.Connect(_EndpointUdp); \n            return true; \n        } \n        catch { return false; } \n    } \n\n    /// &lt;summary&gt; \n    /// Tcp Ip Connect \n    /// &lt;/summary&gt; \n    bool _CommandPortConnect(string IpAddr, int CommandPort) \n    { \n        _ServerTcpIp = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp); \n        IPEndPoint _RemoteEndPoint = new IPEndPoint(IPAddress.Parse(IpAddr), CommandPort); \n        _ServerTcpIp.ReceiveTimeout = 5000; \n        _ServerTcpIp.SendTimeout = 5000; \n        try \n        { \n            _ServerTcpIp.Connect(_RemoteEndPoint); \n            return true; \n        } \n        catch { return false; } \n    *}* \n</code></pre>\n<p>Example for send command and receive image\nThe command will be send by TCP/IP.</p>\n<p>byte[] DataReceived = new byte[20000];</p>\n<pre><code>    /// &lt;summary&gt; \n    /// Send Command Bar Code Reader \n    /// &lt;/summary&gt; \n    /// &lt;returns&gt;&lt;/returns&gt; \n    bool SendCommand() \n    { \n        byte[] _Send = new byte[3]; \n        _Send[0]= 20;    //CMD BAR CODE READER \n        _Send[1] = 2;    //EXT CMD GET DATA \n        _Send[2] = 2;    //SEND IMAGE \n        if (!SendEth(_Send, 3)) \n            return false; \n        int _Ndati = ReadEth(); \n        if (_Ndati == -1) \n            return false; \n        if (DataReceived[4] != 20) \n            return false; \n        GetImage(); \n    } \n    /// &lt;summary&gt; \n    /// Send Data \n    /// &lt;/summary&gt; \n    /// &lt;param name=&quot;_Val&quot;&gt;&lt;/param&gt; \n    /// &lt;param name=&quot;_Len&quot;&gt;&lt;/param&gt; \n    bool SendEth(byte[] _Val, Int32 _Len) \n    { \n        try \n        { \n            byte[] _Send = new byte[_Len + 4]; \n            int _Value = _Len; \n            Array.Copy(_Val, 0, _Send, 4, _Len); \n            _Send[3] = (byte)_Value; \n            _Value &lt;&lt;= 8; \n            _Send[2] = (byte)_Value; \n            _Value &lt;&lt;= 8; \n            _Send[1] = (byte)_Value; \n            _Value &lt;&lt;= 8; \n            _Send[0] = (byte)_Value; \n            _ServerTcpIp.Send(_Send, _Len + 4, SocketFlags.None); \n        } \n        catch { return false; } \n        return true; \n    }\n    /// &lt;summary&gt; \n    /// Read Data from Ethernet \n    /// &lt;/summary&gt; \n    /// &lt;param name=&quot;LenDati&quot;&gt;&lt;/param&gt; \n    /// &lt;returns&gt;array dati&lt;/returns&gt; \n    internal int ReadEth() \n    { \n        int _Ndati; \n        try \n        { \n            _Ndati = _ServerTcpIp.Receive(DataReceived, SocketFlags.None); \n            DataPointer =0; \n            int _Len = GetInt(); \n            if(_Len!=_Ndati-4) \n            { \n                int _Diff = (_Ndati - 4) - _Len; \n                byte[] BuffRx = new byte[_Diff]; \n                int _NrDati = 0; \n                int _PuntRx = _Ndati; \n                while (_PuntRx &lt; _Diff) \n                { \n                    _NrDati = _ServerTcpIp.Receive(BuffRx, _Diff, SocketFlags.None); \n                    for (int n = 0; n &lt; _NrDati; n++) \n                        DataReceived[_PuntRx++] = BuffRx[n]; \n                } \n            } \n            return _Ndati; \n        } \n\n        catch { return -1; } \n    } \n\n    /// &lt;summary&gt; \n    /// Get Image \n    /// &lt;/summary&gt; \n    /// &lt;returns&gt;&lt;/returns&gt; \n    internal ImageSource GetImage() \n    { \n        //get image \n        NetworkStream _Stream = _ClientUdp.GetStream(); \n        byte[] _Data = (byte[])_Formatter.Deserialize(_Stream); \n        MemoryStream _ImgStream = new MemoryStream(_Data); \n        ImageSource _Image = BitmapFrame.Create(_ImgStream, BitmapCreateOptions.None, \n        BitmapCacheOption.OnLoad); \n        return _Image; \n    } \n</code></pre>\n<p>My JAVA code:</p>\n<p>public class TFinale {</p>\n<pre><code>static byte[] DataReceived = new byte[20000];\n\npublic static void main(String[] args) throws Exception {\n    String[] args8500 = new String[2];\n    args8500[0] = &quot;10.0.0.123&quot;;\n    args8500[1] = &quot;8500&quot;;\n    int port8500 = Integer.parseInt(args8500[1]);\n\n    String[] args8501 = new String[2];\n    args8501[0] = &quot;10.0.0.123&quot;;\n    args8501[1] = &quot;8501&quot;;\n    int port8501 = Integer.parseInt(args8501[1]);\n\n    Socket clientSocket8501 = TFinale.createSocket(args8501[0], port8501);\n    if (clientSocket8501 == null) {\n    System.err.println(&quot;Unable to create socket to &quot; + args8501[0] + &quot;:&quot; + port8501 + &quot;.&quot;);\n    System.exit(1);\n    }\n    Socket clientSocket8500 = TFinale.createSocket(args8500[0], port8500);\n\n    if (clientSocket8500 == null) {\n        System.err.println(&quot;Unable to create socket to &quot; + args8500[0] + &quot;:&quot; + port8500 + &quot;.&quot;);\n        System.exit(1);\n    }\n\n    byte[] _Send = new byte[3];\n    _Send[0] = 22;    //CMD BAR CODE READER \n    _Send[1] = 2;    //EXT CMD GET DATA \n    _Send[2] = 2;    //SEND IMAGE\n    int _Len1 = 3;\n    byte[] SendEth1 = SendEth(_Send, _Len1);\n\n    DataOutputStream serverOut = null;\n    try {\n        serverOut = new DataOutputStream(clientSocket8500.getOutputStream());\n        serverOut.write(SendEth1, 0, 7);\n        System.out.println(&quot;serverOut writed!&quot;);\n    } catch (IOException ex) {\n        Logger.getLogger(TFinale.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    DataInputStream in = null;\n    try {\n        byte[] messageByte = new byte[1000];\n        boolean end = false;\n        String dataString = &quot;&quot;;\n        in = new DataInputStream(clientSocket8500.getInputStream());\n        int bytesRead = 0;\n        int f = 0;\n        //System.out.println(&quot;Please type 8500 clientSocket......&quot;);\n        for (f = 0; f &lt; 7; f++) {\n            messageByte[f] = in.readByte();\n            System.out.println(&quot;messageByte 8500[&quot; + f + &quot;] &quot; + messageByte[f]);\n        }\n        ByteBuffer byteBuffer = ByteBuffer.wrap(messageByte, 0, f);\n        int bytesToRead = byteBuffer.getShort();\n        System.out.println(&quot;About to read &quot; + bytesToRead + &quot; octets&quot;);\n    } catch (IOException ex) {\n        Logger.getLogger(TCPClient1.class.getName()).log(Level.SEVERE, null, ex);\n    } finally {\n        try {\n            in.close();\n        } catch (IOException ex) {\n            Logger.getLogger(TCPClient1.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n    timeDelay(1000);\n    try {\n        serverOut.close();\n        System.out.println(&quot;serverOut closed!&quot;);\n        in.close();\n        System.out.println(&quot;in closed!&quot;);\n        clientSocket8501.close();\n        System.out.println(&quot;clientSocket8501 closed!&quot;);\n        clientSocket8500.close();\n        System.out.println(&quot;clientSocket8500 closed!&quot;);\n    } catch (IOException ex) {\n        System.out.println(&quot;error:&quot; + ex);\n    }\n\n}\n\nprivate static Socket createSocket(final String hostname, final int port) {\n    try {\n        Socket clientSocket = new Socket(hostname, port);\n        System.out.println(hostname + &quot;:&quot; + port + &quot; socket created!&quot;);\n        return clientSocket;\n    } catch (UnknownHostException e) {\n        System.err.println(&quot; &quot; + hostname + &quot; cannot be resolved as a network host.&quot;);\n        return null;\n    } catch (IOException e) {\n        System.err\n                .println(&quot;An exception occurred while communicating with the TCPServer: &quot;\n                        + e.getMessage());\n        e.printStackTrace();\n        return null;\n    }\n}\n\n\nprivate static void timeDelay(int i) {\n    try {\n        Thread.sleep(i);\n    } catch (InterruptedException e) {\n    }\n}\n\nprivate static byte[] SendEth(byte[] _Val, int _Len) {\n    byte[] _Send = new byte[_Len + 4];\n    int _Value = _Len;\n    System.arraycopy(_Val, 0, _Send, 4, _Len);\n    //Array.Copy(_Val, 0, _Send, 4, _Len); \n    _Send[3] = (byte) _Value;\n    _Value &lt;&lt;= 8;\n    _Send[2] = (byte) _Value;\n    _Value &lt;&lt;= 8;\n    _Send[1] = (byte) _Value;\n    _Value &lt;&lt;= 8;\n    _Send[0] = (byte) _Value;\n    return _Send;\n\n}\n\n}\n</code></pre>\n<p>Thanks everybody can help me!</p>\n"},{"tags":["java","tuples"],"comments":[{"owner":{"display_name":"user319799"},"score":4,"creation_date":1271712551,"post_id":2670982,"comment_id":2689560,"body_markdown":"You mean a pair, i.e. a tuple of length 2?  In any case, I guess your best bet is to write a class of your own, shouldn&#39;t be too hard.","body":"You mean a pair, i.e. a tuple of length 2?  In any case, I guess your best bet is to write a class of your own, shouldn&#39;t be too hard."},{"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"score":0,"creation_date":1271714642,"post_id":2670982,"comment_id":2689840,"body_markdown":"@Alexander, what if this particular Map needs safe concurrent access, then wouldn&#39;t Hashtable be the right choice?","body":"@Alexander, what if this particular Map needs safe concurrent access, then wouldn&#39;t Hashtable be the right choice?"},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":2,"creation_date":1271714889,"post_id":2670982,"comment_id":2689877,"body_markdown":"I&#39;d say wrapping with Collections.synchronizedMap(Map) would be preferable.","body":"I&#39;d say wrapping with Collections.synchronizedMap(Map) would be preferable."},{"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"score":26,"creation_date":1271719738,"post_id":2670982,"comment_id":2690207,"body_markdown":"If concurrent access is needed, then ConcurrentHashMap is the right class to use. It&#39;s more expressive and has better performance than a synchronized HashMap or Hashtable.","body":"If concurrent access is needed, then ConcurrentHashMap is the right class to use. It&#39;s more expressive and has better performance than a synchronized HashMap or Hashtable."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":3,"creation_date":1271722681,"post_id":2670982,"comment_id":2690352,"body_markdown":"Maybe I&#39;ve just seen too many Hashtables used when a HashMap should have been used... Collections.synchronizedMap at least signals that your intent is to synchronize. Though yeah, ConcurrentHashMap is even better.","body":"Maybe I&#39;ve just seen too many Hashtables used when a HashMap should have been used... Collections.synchronizedMap at least signals that your intent is to synchronize. Though yeah, ConcurrentHashMap is even better."},{"owner":{"account_id":2340674,"reputation":131,"user_id":2052038,"display_name":"Nick Hecht"},"score":4,"creation_date":1360263329,"post_id":2670982,"comment_id":20660478,"body_markdown":"couldn&#39;t you just use AbstractMap.SimpleEntry&lt;K,V&gt;, i have used this before when i want to achieve the Pair&lt;X,Y&gt; like behavior, out of the box.\nhttp://docs.oracle.com/javase/6/docs/api/java/util/AbstractMap.SimpleEntry.html","body":"couldn&#39;t you just use AbstractMap.SimpleEntry&lt;K,V&gt;, i have used this before when i want to achieve the Pair&lt;X,Y&gt; like behavior, out of the box. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":302564,"reputation":9052,"user_id":611007,"accept_rate":62,"display_name":"n611x007"},"score":0,"creation_date":1383652636,"post_id":2670982,"comment_id":29414302,"body_markdown":"This is not asking for a tuple, this is a pair, or 2-tuple - as @doublep pointed out. Tuple [should be](https://en.wikipedia.org/wiki/Tuple) an ordered list of *n* elements where *n* is a non-negative integer. (Also, tuples are usually immutable.)","body":"This is not asking for a tuple, this is a pair, or 2-tuple - as @doublep pointed out. Tuple <a href=\"https://en.wikipedia.org/wiki/Tuple\" rel=\"nofollow noreferrer\">should be</a> an ordered list of <i>n</i> elements where <i>n</i> is a non-negative integer. (Also, tuples are usually immutable.)"},{"owner":{"account_id":302564,"reputation":9052,"user_id":611007,"accept_rate":62,"display_name":"n611x007"},"score":1,"creation_date":1384103533,"post_id":2670982,"comment_id":29593095,"body_markdown":"Could you edit the title so it&#39;s clear if it actually asks about Pairs, not tuples? A tuple is expected to be of n-length. The answers generally address the pair problem. They don&#39;t try to provide solutions for actual &#39;tuple&#39;, ie. an n-tuple. Because only Pair is needed to answer the question. And thus this way the question&#39;s title overlaps with an potential inquery about n-tuples in general.","body":"Could you edit the title so it&#39;s clear if it actually asks about Pairs, not tuples? A tuple is expected to be of n-length. The answers generally address the pair problem. They don&#39;t try to provide solutions for actual &#39;tuple&#39;, ie. an n-tuple. Because only Pair is needed to answer the question. And thus this way the question&#39;s title overlaps with an potential inquery about n-tuples in general."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":1,"creation_date":1595929856,"post_id":2670982,"comment_id":111636985,"body_markdown":"can&#39;t you use the new java-14 `Record` type?","body":"can&#39;t you use the new java-14 <code>Record</code> type?"}],"answers":[{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":8,"up_vote_count":372,"is_accepted":true,"score":364,"last_activity_date":1331306403,"creation_date":1271712559,"answer_id":2671052,"question_id":2670982,"body_markdown":"I don&#39;t think there is a general purpose tuple class in Java but a custom one might be as easy as the following:\r\n\r\n \r\n    public class Tuple&lt;X, Y&gt; { \r\n      public final X x; \r\n      public final Y y; \r\n      public Tuple(X x, Y y) { \r\n        this.x = x; \r\n        this.y = y; \r\n      } \r\n    } \r\n\r\nOf course, there are some important implications of how to design this class further regarding equality, immutability, etc., especially if you plan to use instances as keys for hashing.\r\n","title":"Using Pairs or 2-tuples in Java","body":"<p>I don't think there is a general purpose tuple class in Java but a custom one might be as easy as the following:</p>\n\n<pre><code>public class Tuple&lt;X, Y&gt; { \n  public final X x; \n  public final Y y; \n  public Tuple(X x, Y y) { \n    this.x = x; \n    this.y = y; \n  } \n} \n</code></pre>\n\n<p>Of course, there are some important implications of how to design this class further regarding equality, immutability, etc., especially if you plan to use instances as keys for hashing.</p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1271712593,"creation_date":1271712593,"answer_id":2671059,"question_id":2670982,"body_markdown":"Create a class that describes the concept you&#39;re actually modeling and use that. It can just store two &lt;code&gt;Set&amp;lt;Long&amp;gt;&lt;/code&gt; and provide accessors for them, but it should be named to indicate what exactly each of those sets is and why they&#39;re grouped together.","title":"Using Pairs or 2-tuples in Java","body":"<p>Create a class that describes the concept you're actually modeling and use that. It can just store two <code>Set&lt;Long&gt;</code> and provide accessors for them, but it should be named to indicate what exactly each of those sets is and why they're grouped together.</p>\n"},{"tags":[],"owner":{"account_id":125208,"reputation":17733,"user_id":320830,"display_name":"not-just-yeti"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1271718892,"creation_date":1271718892,"answer_id":2671553,"question_id":2670982,"body_markdown":"Here&#39;s this exact same question elsewhere, that includes a more robust `equals`, `hash` that maerics alludes to:\r\n\r\nhttp://groups.google.com/group/comp.lang.java.help/browse_thread/thread/f8b63fc645c1b487/1d94be050cfc249b\r\n\r\nThat discussion goes on to mirror the maerics vs ColinD approaches of &quot;should I re-use a class Tuple with an unspecific name, or make a new class with specific names each time I encounter this situation&quot;.  Years ago I was in the latter camp; I&#39;ve evolved into supporting the former.\r\n","title":"Using Pairs or 2-tuples in Java","body":"<p>Here's this exact same question elsewhere, that includes a more robust <code>equals</code>, <code>hash</code> that maerics alludes to:</p>\n\n<p><a href=\"http://groups.google.com/group/comp.lang.java.help/browse_thread/thread/f8b63fc645c1b487/1d94be050cfc249b\" rel=\"noreferrer\">http://groups.google.com/group/comp.lang.java.help/browse_thread/thread/f8b63fc645c1b487/1d94be050cfc249b</a></p>\n\n<p>That discussion goes on to mirror the maerics vs ColinD approaches of \"should I re-use a class Tuple with an unspecific name, or make a new class with specific names each time I encounter this situation\".  Years ago I was in the latter camp; I've evolved into supporting the former.</p>\n"},{"tags":[],"owner":{"account_id":1494015,"reputation":1861,"user_id":1400403,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":184,"is_accepted":false,"score":184,"last_activity_date":1337244954,"creation_date":1337240497,"answer_id":10631692,"question_id":2670982,"body_markdown":"[javatuples][1] is a dedicated project for tuples in Java.\r\n\r\n    Unit&lt;A&gt; (1 element)\r\n    Pair&lt;A,B&gt; (2 elements)\r\n    Triplet&lt;A,B,C&gt; (3 elements)\r\n\r\n\r\n  [1]: http://www.javatuples.org/","title":"Using Pairs or 2-tuples in Java","body":"<p><a href=\"http://www.javatuples.org/\" rel=\"noreferrer\">javatuples</a> is a dedicated project for tuples in Java.</p>\n\n<pre><code>Unit&lt;A&gt; (1 element)\nPair&lt;A,B&gt; (2 elements)\nTriplet&lt;A,B,C&gt; (3 elements)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263936,"reputation":20265,"user_id":549848,"accept_rate":74,"display_name":"Aram Kocharyan"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1489849772,"creation_date":1347088614,"answer_id":12328838,"question_id":2670982,"body_markdown":"As an extension to @maerics nice answer, I&#39;ve added a few useful methods:\r\n\r\n    public class Tuple&lt;X, Y&gt; { \r\n    \tpublic final X x; \r\n    \tpublic final Y y; \r\n    \tpublic Tuple(X x, Y y) { \r\n    \t\tthis.x = x; \r\n    \t\tthis.y = y; \r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;(&quot; + x + &quot;,&quot; + y + &quot;)&quot;;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object other) {\r\n       \t    if (other == this) {\r\n    \t    \treturn true;\r\n    \t    }\r\n\r\n    \t    if (!(other instanceof Tuple)){\r\n    \t    \treturn false;\r\n    \t    }\r\n\r\n    \t    Tuple&lt;X,Y&gt; other_ = (Tuple&lt;X,Y&gt;) other;\r\n\r\n            // this may cause NPE if nulls are valid values for x or y. The logic may be improved to handle nulls properly, if needed.\r\n    \t    return other_.x.equals(this.x) &amp;&amp; other_.y.equals(this.y);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((x == null) ? 0 : x.hashCode());\r\n    \t\tresult = prime * result + ((y == null) ? 0 : y.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n","title":"Using Pairs or 2-tuples in Java","body":"<p>As an extension to @maerics nice answer, I've added a few useful methods:</p>\n\n<pre><code>public class Tuple&lt;X, Y&gt; { \n    public final X x; \n    public final Y y; \n    public Tuple(X x, Y y) { \n        this.x = x; \n        this.y = y; \n    }\n\n    @Override\n    public String toString() {\n        return \"(\" + x + \",\" + y + \")\";\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (other == this) {\n            return true;\n        }\n\n        if (!(other instanceof Tuple)){\n            return false;\n        }\n\n        Tuple&lt;X,Y&gt; other_ = (Tuple&lt;X,Y&gt;) other;\n\n        // this may cause NPE if nulls are valid values for x or y. The logic may be improved to handle nulls properly, if needed.\n        return other_.x.equals(this.x) &amp;&amp; other_.y.equals(this.y);\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((x == null) ? 0 : x.hashCode());\n        result = prime * result + ((y == null) ? 0 : y.hashCode());\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265202,"reputation":1726,"user_id":552014,"accept_rate":73,"display_name":"Alexei Averchenko"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1357409888,"creation_date":1357409888,"answer_id":14174832,"question_id":2670982,"body_markdown":"To supplement @maerics&#39;s answer, here is the `Comparable` tuple:\r\n\r\n    import java.util.*;\r\n    \r\n    /**\r\n     * A tuple of two classes that implement Comparable\r\n     */\r\n    public class ComparableTuple&lt;X extends Comparable&lt;? super X&gt;, Y extends Comparable&lt;? super Y&gt;&gt;\r\n           extends Tuple&lt;X, Y&gt;\r\n           implements Comparable&lt;ComparableTuple&lt;X, Y&gt;&gt;\r\n    {\r\n      public ComparableTuple(X x, Y y) {\r\n        super(x, y);\r\n      }\r\n    \r\n      /**\r\n       * Implements lexicographic order\r\n       */\r\n      public int compareTo(ComparableTuple&lt;X, Y&gt; other) {\r\n        int d = this.x.compareTo(other.x);\r\n        if (d == 0)\r\n          return this.y.compareTo(other.y);\r\n        return d;\r\n      }\r\n    }","title":"Using Pairs or 2-tuples in Java","body":"<p>To supplement @maerics's answer, here is the <code>Comparable</code> tuple:</p>\n\n<pre><code>import java.util.*;\n\n/**\n * A tuple of two classes that implement Comparable\n */\npublic class ComparableTuple&lt;X extends Comparable&lt;? super X&gt;, Y extends Comparable&lt;? super Y&gt;&gt;\n       extends Tuple&lt;X, Y&gt;\n       implements Comparable&lt;ComparableTuple&lt;X, Y&gt;&gt;\n{\n  public ComparableTuple(X x, Y y) {\n    super(x, y);\n  }\n\n  /**\n   * Implements lexicographic order\n   */\n  public int compareTo(ComparableTuple&lt;X, Y&gt; other) {\n    int d = this.x.compareTo(other.x);\n    if (d == 0)\n      return this.y.compareTo(other.y);\n    return d;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":390646,"reputation":911,"user_id":750857,"display_name":"at7000ft"},"down_vote_count":4,"up_vote_count":78,"is_accepted":false,"score":74,"last_activity_date":1492866980,"creation_date":1361811278,"answer_id":15072119,"question_id":2670982,"body_markdown":"If you are looking for a built-in Java two-element tuple, try `AbstractMap.SimpleEntry`.","title":"Using Pairs or 2-tuples in Java","body":"<p>If you are looking for a built-in Java two-element tuple, try <code>AbstractMap.SimpleEntry</code>.</p>\n"},{"tags":[],"owner":{"account_id":1097799,"reputation":4145,"user_id":1091013,"display_name":"rhgb"},"down_vote_count":0,"up_vote_count":120,"is_accepted":false,"score":120,"last_activity_date":1371010524,"creation_date":1362147012,"answer_id":15159703,"question_id":2670982,"body_markdown":"[Apache Commons](http://commons.apache.org/) provided some common java utilities including a [Pair][1]. It implements `Map.Entry`, `Comparable` and `Serializable`.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/tuple/package-summary.html","title":"Using Pairs or 2-tuples in Java","body":"<p><a href=\"http://commons.apache.org/\" rel=\"noreferrer\">Apache Commons</a> provided some common java utilities including a <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/tuple/package-summary.html\" rel=\"noreferrer\">Pair</a>. It implements <code>Map.Entry</code>, <code>Comparable</code> and <code>Serializable</code>.</p>\n"},{"tags":[],"owner":{"account_id":1625888,"reputation":647,"user_id":1501458,"accept_rate":31,"display_name":"see2851"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1390468303,"creation_date":1390468303,"answer_id":21303772,"question_id":2670982,"body_markdown":"[Android Tuple Utils][1]\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4_r1/android/util/Pair.java#Pair\r\n\r\nThis object provides a sensible implementation of equals(), returning true if equals() is true on each of the contained objects.","title":"Using Pairs or 2-tuples in Java","body":"<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4_r1/android/util/Pair.java#Pair\">Android Tuple Utils</a></p>\n\n<p>This object provides a sensible implementation of equals(), returning true if equals() is true on each of the contained objects.</p>\n"},{"tags":[],"owner":{"account_id":1344349,"reputation":141,"user_id":1285369,"display_name":"Ste"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564604221,"creation_date":1396868577,"answer_id":22910534,"question_id":2670982,"body_markdown":"You can use [Google Guava Table][1]\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/NewCollectionTypesExplained#table","title":"Using Pairs or 2-tuples in Java","body":"<p>You can use <a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#table\" rel=\"nofollow noreferrer\">Google Guava Table</a></p>\n"},{"tags":[],"owner":{"account_id":1419488,"reputation":2745,"user_id":1344424,"accept_rate":41,"display_name":"Teocali"},"down_vote_count":3,"up_vote_count":34,"is_accepted":false,"score":31,"last_activity_date":1404199031,"creation_date":1404199031,"answer_id":24504501,"question_id":2670982,"body_markdown":"Another 2 cents : Starting with Java 7, there is now a class for this in standard Lib : javafx.util.Pair.\r\n\r\nAnd Yes, It is standard Java, now that JavaFx is included in the JDK :)","title":"Using Pairs or 2-tuples in Java","body":"<p>Another 2 cents : Starting with Java 7, there is now a class for this in standard Lib : javafx.util.Pair.</p>\n\n<p>And Yes, It is standard Java, now that JavaFx is included in the JDK :)</p>\n"},{"tags":[],"owner":{"account_id":4989215,"reputation":249,"user_id":4011953,"display_name":"Mario Reutter"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1528630998,"creation_date":1416390507,"answer_id":27013644,"question_id":2670982,"body_markdown":"I will start from a general point of view about tuples in Java and finish with an implication for your concrete problem.\r\n\r\n1) The way tuples are used in non-generic languages is avoided in Java because they are not type-safe (e.g. in Python: `tuple = (4, 7.9, &#39;python&#39;)`). If you still want to use something like a general purpose tuple (which is **not recommended**), you should use `Object[]` or `List&lt;Object&gt;` and cast the elements after a check with `instanceof` to assure type-safety.\r\n\r\nUsually, tuples in a certain setting are always used the same way with containing the same structure. In Java, you have to define this structure explicitly in a `class` to provide well-defined, type-safe values and methods. This seems annoying and unnecessairy at first but prevents errors already at **compile-time**.\r\n\r\n2) If you need a tuple containing the same (super-)classes `Foo`, use `Foo[]`, `List&lt;Foo&gt;`, or `List&lt;? extends Foo&gt;` (or the lists&#39;s immutable counterparts). Since a tuple is not of a defined length, this solution is equivalent.\r\n\r\n3) In your case, you seem to need a `Pair` (i.e. a tuple of well-defined length 2). This renders maerics&#39;s answer or one of the supplementary answers the most efficient since you can reuse the code in the future.","title":"Using Pairs or 2-tuples in Java","body":"<p>I will start from a general point of view about tuples in Java and finish with an implication for your concrete problem.</p>\n\n<p>1) The way tuples are used in non-generic languages is avoided in Java because they are not type-safe (e.g. in Python: <code>tuple = (4, 7.9, 'python')</code>). If you still want to use something like a general purpose tuple (which is <strong>not recommended</strong>), you should use <code>Object[]</code> or <code>List&lt;Object&gt;</code> and cast the elements after a check with <code>instanceof</code> to assure type-safety.</p>\n\n<p>Usually, tuples in a certain setting are always used the same way with containing the same structure. In Java, you have to define this structure explicitly in a <code>class</code> to provide well-defined, type-safe values and methods. This seems annoying and unnecessairy at first but prevents errors already at <strong>compile-time</strong>.</p>\n\n<p>2) If you need a tuple containing the same (super-)classes <code>Foo</code>, use <code>Foo[]</code>, <code>List&lt;Foo&gt;</code>, or <code>List&lt;? extends Foo&gt;</code> (or the lists's immutable counterparts). Since a tuple is not of a defined length, this solution is equivalent.</p>\n\n<p>3) In your case, you seem to need a <code>Pair</code> (i.e. a tuple of well-defined length 2). This renders maerics's answer or one of the supplementary answers the most efficient since you can reuse the code in the future.</p>\n"},{"tags":[],"owner":{"account_id":4934669,"reputation":145,"user_id":3973221,"display_name":"Mads Boyd-Madsen"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1635501737,"creation_date":1424001764,"answer_id":28525822,"question_id":2670982,"body_markdown":"Though the article is pretty old now, and though I understand that I&#39;m not really very helpful, I think the proposal described in [Adding tuples to Java: a study in lightweight data structures][1], would have been nice in mainstream Java.\r\n\r\nYou can do things like:\r\n\r\n    int a;\r\n    char b;\r\n    float c;\r\n    [a,b,c] = [3,&#39;a&#39;,2.33];\r\n\r\nor\r\n\r\n    [int,int,char] x = [1,2,&#39;a&#39;];\r\n\r\nor\r\n\r\n    public [int,boolean] Find(int i)\r\n    {\r\n      int idx = FindInArray(A,i);\r\n      return [idx,idx&gt;=0];\r\n    }\r\n\r\n    [idx, found] = Find(7);\r\n\r\nHere tuples are:\r\n\r\n * Defined as primitive types - no templates/generics\r\n * Stack-allocated if declared locally\r\n * Assigned using pattern-matching\r\n\r\nThis approach increases\r\n\r\n * Performance\r\n * Readability\r\n * Expressiveness\r\n\r\n\r\n  [1]: https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.96.6578&amp;rep=rep1&amp;type=pdf","title":"Using Pairs or 2-tuples in Java","body":"<p>Though the article is pretty old now, and though I understand that I'm not really very helpful, I think the proposal described in <a href=\"https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.96.6578&amp;rep=rep1&amp;type=pdf\" rel=\"nofollow noreferrer\">Adding tuples to Java: a study in lightweight data structures</a>, would have been nice in mainstream Java.</p>\n<p>You can do things like:</p>\n<pre><code>int a;\nchar b;\nfloat c;\n[a,b,c] = [3,'a',2.33];\n</code></pre>\n<p>or</p>\n<pre><code>[int,int,char] x = [1,2,'a'];\n</code></pre>\n<p>or</p>\n<pre><code>public [int,boolean] Find(int i)\n{\n  int idx = FindInArray(A,i);\n  return [idx,idx&gt;=0];\n}\n\n[idx, found] = Find(7);\n</code></pre>\n<p>Here tuples are:</p>\n<ul>\n<li>Defined as primitive types - no templates/generics</li>\n<li>Stack-allocated if declared locally</li>\n<li>Assigned using pattern-matching</li>\n</ul>\n<p>This approach increases</p>\n<ul>\n<li>Performance</li>\n<li>Readability</li>\n<li>Expressiveness</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1424003415,"creation_date":1424003415,"answer_id":28526052,"question_id":2670982,"body_markdown":"With [lombok][1] it&#39;s easy to declare a `Pair` class:\r\n\r\n    @Data(staticConstructor = &quot;of&quot;)\r\n    public class Pair&lt;A, B&gt; {\r\n        private final A left;\r\n        private final B right;\r\n    }\r\n\r\nThis will generates getters, static constructor named &quot;of&quot;, `equals()`, `hashcode()` and `toString()`.\r\n\r\nsee [`@Data`][2] documentation for more information\r\n\r\n\r\n  [1]: http://projectlombok.org/\r\n  [2]: http://projectlombok.org/features/Data.html","title":"Using Pairs or 2-tuples in Java","body":"<p>With <a href=\"http://projectlombok.org/\" rel=\"noreferrer\">lombok</a> it's easy to declare a <code>Pair</code> class:</p>\n\n<pre><code>@Data(staticConstructor = \"of\")\npublic class Pair&lt;A, B&gt; {\n    private final A left;\n    private final B right;\n}\n</code></pre>\n\n<p>This will generates getters, static constructor named \"of\", <code>equals()</code>, <code>hashcode()</code> and <code>toString()</code>.</p>\n\n<p>see <a href=\"http://projectlombok.org/features/Data.html\" rel=\"noreferrer\"><code>@Data</code></a> documentation for more information</p>\n"}],"owner":{"account_id":116538,"reputation":10992,"user_id":305555,"accept_rate":53,"display_name":"syker"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737930,"favorite_count":0,"down_vote_count":0,"up_vote_count":361,"closed_date":1455984416,"accepted_answer_id":2671052,"answer_count":14,"score":361,"last_activity_date":1635501737,"creation_date":1271712016,"question_id":2670982,"body_markdown":"My Hashtable in Java would benefit from a value having a tuple structure. What data structure can I use in Java to do that?\r\n\r\n    Hashtable&lt;Long, Tuple&lt;Set&lt;Long&gt;,Set&lt;Long&gt;&gt;&gt; table = ...","title":"Using Pairs or 2-tuples in Java","body":"<p>My Hashtable in Java would benefit from a value having a tuple structure. What data structure can I use in Java to do that?</p>\n\n<pre><code>Hashtable&lt;Long, Tuple&lt;Set&lt;Long&gt;,Set&lt;Long&gt;&gt;&gt; table = ...\n</code></pre>\n"},{"tags":["java","android","html","pdf","converters"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1635315661,"post_id":69733615,"comment_id":123261026,"body_markdown":"You&#39;re never converting anything to PDF in that code.  You&#39;re taking HTML, converting it to an Android Spannable (which will only convert a tiny amount of that html), then writing that as text to a file.  Worse you aren&#39;t even writing it as text correctly (getBytes is not how you do it).  You need to find a library that can do that, writing it on your own will be months of development work, if not years.","body":"You&#39;re never converting anything to PDF in that code.  You&#39;re taking HTML, converting it to an Android Spannable (which will only convert a tiny amount of that html), then writing that as text to a file.  Worse you aren&#39;t even writing it as text correctly (getBytes is not how you do it).  You need to find a library that can do that, writing it on your own will be months of development work, if not years."},{"owner":{"account_id":22605510,"reputation":31,"user_id":16786465,"display_name":"Awais Gondal"},"score":0,"creation_date":1635317707,"post_id":69733615,"comment_id":123261703,"body_markdown":"I am taking input from user in edit text then applying some features like bold and italic on selected text. Then, I am storing that spannable string in html. Now I need to convert that html file to pdf. I tried to find some library to do all of the above functionality but didn&#39;t find any. Can you suggest to me any library?","body":"I am taking input from user in edit text then applying some features like bold and italic on selected text. Then, I am storing that spannable string in html. Now I need to convert that html file to pdf. I tried to find some library to do all of the above functionality but didn&#39;t find any. Can you suggest to me any library?"}],"answers":[{"tags":[],"owner":{"account_id":23156675,"reputation":26,"user_id":17257854,"display_name":"Hendra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635501728,"creation_date":1635316480,"answer_id":69733838,"question_id":69733615,"body_markdown":"Try this code :\r\n\r\n\r\n\r\n\r\n\tPdfConverter converter = PdfConverter.getInstance();\r\n\tString directory_path = Environment.getExternalStorageDirectory().toString();\r\n\tFile file = new File(directionPath, &quot;name_file.pdf&quot;);\r\n\tString htmlString = &quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;Hello World&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\tconverter.convert(getContext(), htmlString, file);\r\n\r\nclick\r\n [here](https://github.com/blink22/react-native-html-to-pdf/blob/master/android/src/main/java/android/print/PdfConverter.java) to add file `PdfConverter`","title":"How to convert Html page to Pdf in android studio","body":"<p>Try this code :</p>\n<pre><code>PdfConverter converter = PdfConverter.getInstance();\nString directory_path = Environment.getExternalStorageDirectory().toString();\nFile file = new File(directionPath, &quot;name_file.pdf&quot;);\nString htmlString = &quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;Hello World&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\nconverter.convert(getContext(), htmlString, file);\n</code></pre>\n<p>click\n<a href=\"https://github.com/blink22/react-native-html-to-pdf/blob/master/android/src/main/java/android/print/PdfConverter.java\" rel=\"nofollow noreferrer\">here</a> to add file <code>PdfConverter</code></p>\n"}],"owner":{"account_id":22605510,"reputation":31,"user_id":16786465,"display_name":"Awais Gondal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3491,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69733838,"answer_count":1,"score":1,"last_activity_date":1635501728,"creation_date":1635315124,"question_id":69733615,"body_markdown":"I know this question has been asked previously but still, I can&#39;t convert the HTML file to pdf. I have tried some solutions provided on the internet but they are outdated. It would be a big help if someone can help me solve my issue. I am saving the HTML file with the following lines of code.\r\n```\r\n String directory_path = String.valueOf(getApplicationContext().getExternalFilesDir(null));\r\n        File file = new File(directory_path);\r\n        if (!file.exists()) {\r\n            file.mkdirs();\r\n        }\r\n        String targetPdf = directory_path+&quot;myFile.html&quot;;\r\n        File filePath = new File(targetPdf);\r\n\r\n        String html = Html.toHtml(text.getText());\r\n\r\n        try {\r\n            FileOutputStream out = new FileOutputStream(filePath);\r\n            byte[] data = html.getBytes();\r\n            out.write(data);\r\n            out.close();\r\n            Log.e(TAG, &quot;File Save : &quot; + filePath.getPath());\r\n            Toast.makeText(this,&quot;Saved in &quot;+filePath.getPath(),Toast.LENGTH_SHORT).show();\r\n\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```","title":"How to convert Html page to Pdf in android studio","body":"<p>I know this question has been asked previously but still, I can't convert the HTML file to pdf. I have tried some solutions provided on the internet but they are outdated. It would be a big help if someone can help me solve my issue. I am saving the HTML file with the following lines of code.</p>\n<pre><code> String directory_path = String.valueOf(getApplicationContext().getExternalFilesDir(null));\n        File file = new File(directory_path);\n        if (!file.exists()) {\n            file.mkdirs();\n        }\n        String targetPdf = directory_path+&quot;myFile.html&quot;;\n        File filePath = new File(targetPdf);\n\n        String html = Html.toHtml(text.getText());\n\n        try {\n            FileOutputStream out = new FileOutputStream(filePath);\n            byte[] data = html.getBytes();\n            out.write(data);\n            out.close();\n            Log.e(TAG, &quot;File Save : &quot; + filePath.getPath());\n            Toast.makeText(this,&quot;Saved in &quot;+filePath.getPath(),Toast.LENGTH_SHORT).show();\n\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":6692290,"reputation":1789,"user_id":5436259,"accept_rate":50,"display_name":"infinitezero"},"score":3,"creation_date":1635482537,"post_id":69763716,"comment_id":123315488,"body_markdown":"You are missing quotation marks. Carefully read the error message, is telling you exactly where.","body":"You are missing quotation marks. Carefully read the error message, is telling you exactly where."}],"answers":[{"tags":[],"owner":{"account_id":11398864,"reputation":532,"user_id":9516742,"display_name":"Dinithi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635485551,"creation_date":1635485166,"answer_id":69764020,"question_id":69763716,"body_markdown":"Printing a statement which isn&#39;t a variable is must be inside inverted commas. \r\n\r\n    System.out.print(*\\n------------------------------*);\r\nshould be like below\r\n\r\n    System.out.println(&quot;*&quot;);\r\n    System.out.print(&quot;------------------------------*&quot;);\r\n\r\n System.out.println() goes to a new line after printing.\r\n ","title":"could you help me to fix this? it&#39;s always getting error everytime I run, i didn&#39;t understand why","body":"<p>Printing a statement which isn't a variable is must be inside inverted commas.</p>\n<pre><code>System.out.print(*\\n------------------------------*);\n</code></pre>\n<p>should be like below</p>\n<pre><code>System.out.println(&quot;*&quot;);\nSystem.out.print(&quot;------------------------------*&quot;);\n</code></pre>\n<p>System.out.println() goes to a new line after printing.</p>\n"}],"owner":{"account_id":23178496,"reputation":19,"user_id":17276647,"display_name":"carlos daeli_19"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1635501531,"answer_count":1,"score":0,"last_activity_date":1635501632,"creation_date":1635482407,"question_id":69763716,"body_markdown":"I made this code eaxactly like how my teacher make it, but I didnt use like application simply like neatbeans. I use a java online from jdoodle.com, and when I try the code like how my teacher do like this code :   \r\n\r\n    import java.util.Scanner;\r\n    public class UTS {\r\n        public static void main(String[] args) {\r\n            Scanner s = new Scanner(System.in);\r\n            String judul = &quot;Penghitung Promo Toko Roti&quot;;\r\n\r\n            System.out.println(&quot; &quot;+judul);\r\n            System.out.print(&quot;Masukkan umur customer : &quot;);\r\n\r\n            int umur = s.nextInt();\r\n            System.out.print(&quot;Masukkan berat badan customer : &quot;);\r\n\r\n            int beratBadan = s.nextInt();\r\n            System.out.print(&quot;Masukkan total belanja customer : &quot;);\r\n            int totalBelanja = s.nextInt();\r\n            int potongan = 0;\r\n            if (totalBelanja &gt; 50000 &amp;&amp; umur &gt; 16) {\r\n                //kondisi true\r\n                int persentasePotongan = 0;\r\n                if (umur &lt;= 25) {\r\n                    persentasePotongan = beratBadan / 10;\r\n                } else if (umur &lt;= 50) {\r\n                    persentasePotongan = beratBadan / 5;\r\n                } else {\r\n                    persentasePotongan = beratBadan / 2;\r\n                }\r\n\r\n                potongan = totalBelanja * persentasePotongan / 100;\r\n                System.out.println(&quot;Selamat anda mendapatkan potongan &quot;+persentasePotongan+\r\n                               &quot;% dari Rp &quot;+totalBelanja+ &quot; sebesar Rp &quot;+potongan);\r\n            } else {\r\n                //kondisi false\r\n                System.out.println(&quot;Mohon maaf, anda belum mendapatkan promo&quot;);\r\n            }\r\n\r\n            int totalHarusBayar = totalBelanja - potongan;\r\n            System.out.print(*\\n------------------------------*);\r\n            System.out.println(&quot; &quot;);\r\n            System.out.println(&quot;Umur : &quot;+umur+ &quot; Tahun&quot;);\r\n            System.out.println(&quot;Berat Badan : &quot;+beratBadan+ &quot;Kg&quot;);\r\n            System.out.println(&quot;Total Belanja : Rp &quot;+totalBelanja);\r\n            System.out.println(&quot;Potongan Promo : Rp &quot;+potongan);\r\n            System.out.println(&quot;Total Harus Bayar : Rp &quot;+totalHarusBayar);\r\n        }\r\n    }\r\n\r\nand when I run, the output it&#39;s getting error like this : \r\n\r\n    /UTS.java:32: error: illegal start of expression\r\n    System.out.print(*\\n------------------------------*);\r\n                             ^\r\n    /UTS.java:32: error: illegal character: &#39;\\&#39;\r\n    System.out.print(*\\n------------------------------*);\r\n                              ^\r\n    /UTS.java:32: error: illegal start of expression\r\n    System.out.print(*\\n------------------------------*);\r\n                                                               ^\r\n    /UTS.java:32: error: not a statement\r\n    System.out.print(*\\n------------------------------*);\r\n                                                              ^\r\n    4 errors\r\n\r\nfor sure, its like my teacher code exatcly but for me it&#39;s error. can someone help me?","title":"could you help me to fix this? it&#39;s always getting error everytime I run, i didn&#39;t understand why","body":"<p>I made this code eaxactly like how my teacher make it, but I didnt use like application simply like neatbeans. I use a java online from jdoodle.com, and when I try the code like how my teacher do like this code :</p>\n<pre><code>import java.util.Scanner;\npublic class UTS {\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        String judul = &quot;Penghitung Promo Toko Roti&quot;;\n\n        System.out.println(&quot; &quot;+judul);\n        System.out.print(&quot;Masukkan umur customer : &quot;);\n\n        int umur = s.nextInt();\n        System.out.print(&quot;Masukkan berat badan customer : &quot;);\n\n        int beratBadan = s.nextInt();\n        System.out.print(&quot;Masukkan total belanja customer : &quot;);\n        int totalBelanja = s.nextInt();\n        int potongan = 0;\n        if (totalBelanja &gt; 50000 &amp;&amp; umur &gt; 16) {\n            //kondisi true\n            int persentasePotongan = 0;\n            if (umur &lt;= 25) {\n                persentasePotongan = beratBadan / 10;\n            } else if (umur &lt;= 50) {\n                persentasePotongan = beratBadan / 5;\n            } else {\n                persentasePotongan = beratBadan / 2;\n            }\n\n            potongan = totalBelanja * persentasePotongan / 100;\n            System.out.println(&quot;Selamat anda mendapatkan potongan &quot;+persentasePotongan+\n                           &quot;% dari Rp &quot;+totalBelanja+ &quot; sebesar Rp &quot;+potongan);\n        } else {\n            //kondisi false\n            System.out.println(&quot;Mohon maaf, anda belum mendapatkan promo&quot;);\n        }\n\n        int totalHarusBayar = totalBelanja - potongan;\n        System.out.print(*\\n------------------------------*);\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Umur : &quot;+umur+ &quot; Tahun&quot;);\n        System.out.println(&quot;Berat Badan : &quot;+beratBadan+ &quot;Kg&quot;);\n        System.out.println(&quot;Total Belanja : Rp &quot;+totalBelanja);\n        System.out.println(&quot;Potongan Promo : Rp &quot;+potongan);\n        System.out.println(&quot;Total Harus Bayar : Rp &quot;+totalHarusBayar);\n    }\n}\n</code></pre>\n<p>and when I run, the output it's getting error like this :</p>\n<pre><code>/UTS.java:32: error: illegal start of expression\nSystem.out.print(*\\n------------------------------*);\n                         ^\n/UTS.java:32: error: illegal character: '\\'\nSystem.out.print(*\\n------------------------------*);\n                          ^\n/UTS.java:32: error: illegal start of expression\nSystem.out.print(*\\n------------------------------*);\n                                                           ^\n/UTS.java:32: error: not a statement\nSystem.out.print(*\\n------------------------------*);\n                                                          ^\n4 errors\n</code></pre>\n<p>for sure, its like my teacher code exatcly but for me it's error. can someone help me?</p>\n"},{"tags":["java","android","button","fragment","tabview"],"answers":[{"tags":[],"owner":{"account_id":14636378,"reputation":37,"user_id":10570397,"display_name":"Awais Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635496951,"creation_date":1635496951,"answer_id":69765981,"question_id":69765816,"body_markdown":"Search onclick property each button from right panel in Android IDE.\r\nPlace your tab change function over there. In the Main Activity, use switch statement inside button function compare id.\r\n\r\nUse same function in onclick property of each button in xml\r\n\r\nLike in MainActivity you have function: openTab() be like.\r\n\r\n    public void OpenTab(View view)\r\n    {\r\n        switch view.getId()\r\n        {\r\n            case r.id.xx:\r\n            // Your working\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Button OnClick from an Activity to a specific Tab/Fragment","body":"<p>Search onclick property each button from right panel in Android IDE.\nPlace your tab change function over there. In the Main Activity, use switch statement inside button function compare id.</p>\n<p>Use same function in onclick property of each button in xml</p>\n<p>Like in MainActivity you have function: openTab() be like.</p>\n<pre><code>public void OpenTab(View view)\n{\n    switch view.getId()\n    {\n        case r.id.xx:\n        // Your working\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18439348,"reputation":117,"user_id":13432369,"display_name":"Akshay Ashok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635498789,"creation_date":1635498431,"answer_id":69766277,"question_id":69765816,"body_markdown":"First, **pass your buttonId** to the Activity which contains all Tabs/fragments.\r\n\r\n**ButtonList.java**\r\n\r\n       public class ButtonList extends AppCompatActivity {\r\n        private Button btntotab1;\r\n        private Button btntotab2;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_buttonlist);\r\n        \r\n            btntotab1 = (Button)findViewById(R.id.btntotab1);\r\n            btntotab1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    openTab(1);\r\n                }\r\n            });\r\n           btntotab2 = (Button)findViewById(R.id.btntotab2);\r\n            btntotab2.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    openTab(2);\r\n                }\r\n            });\r\n        }\r\n        \r\n        public void openTab(int buttonId){\r\n            Intent intent = new Intent(this, TabbedActivity.class);\r\n            intent.putExtra(&quot;button_id&quot;,buttonId);\r\n            startActivity(intent);\r\n        }\r\n       }\r\n\r\nNow pass that buttonId to the fragmentManager or your viewPager.\r\n\r\n**TabbedActivity.java**\r\n\r\n   \r\n\r\n     public class TabbedActivity extends AppCompatActivity {\r\n    \r\n    TabLayout tabLayoutaa;\r\n    ViewPager2 pager2aa;\r\n    FragmentAdapter adapteraa;\r\n    int value, buttonId;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_tabbed);\r\n    \r\n        tabLayoutaa = findViewById(R.id.tab_layoutaa);\r\n        pager2aa = findViewById(R.id.view_pager2aa);\r\n         buttonId=getIntent().getIntExtra(&quot;button_id&quot;,0); // to get the button id\r\n\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        adapteraa = new FragmentAdapter(fm, getLifecycle());\r\n        pager2aa.setAdapter(adapteraa);\r\n       \r\n        tabLayoutaa.setTabMode(tabLayoutaa.MODE_SCROLLABLE);\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 1&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 2&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 3&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 4&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 5&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 6&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 7&quot;));\r\n    \r\n         pager2aa.setCurrentItem(buttonId-1);  // to get the current Tab\r\n\r\n        tabLayoutaa.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                pager2aa.setCurrentItem(tab.getPosition());\r\n            }\r\n    \r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n    \r\n            }\r\n        });\r\n    \r\n        pager2ah.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                tabLayoutaa.selectTab(tabLayoutaa.getTabAt(position));\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\nYou can also use a switch case to get the selected tab and pass it to the fragment manager if it doesn&#39;t work.\r\nthere may be some syntax errors so be careful.","title":"Button OnClick from an Activity to a specific Tab/Fragment","body":"<p>First, <strong>pass your buttonId</strong> to the Activity which contains all Tabs/fragments.</p>\n<p><strong>ButtonList.java</strong></p>\n<pre><code>   public class ButtonList extends AppCompatActivity {\n    private Button btntotab1;\n    private Button btntotab2;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_buttonlist);\n    \n        btntotab1 = (Button)findViewById(R.id.btntotab1);\n        btntotab1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openTab(1);\n            }\n        });\n       btntotab2 = (Button)findViewById(R.id.btntotab2);\n        btntotab2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openTab(2);\n            }\n        });\n    }\n    \n    public void openTab(int buttonId){\n        Intent intent = new Intent(this, TabbedActivity.class);\n        intent.putExtra(&quot;button_id&quot;,buttonId);\n        startActivity(intent);\n    }\n   }\n</code></pre>\n<p>Now pass that buttonId to the fragmentManager or your viewPager.</p>\n<p><strong>TabbedActivity.java</strong></p>\n<pre><code> public class TabbedActivity extends AppCompatActivity {\n\nTabLayout tabLayoutaa;\nViewPager2 pager2aa;\nFragmentAdapter adapteraa;\nint value, buttonId;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_tabbed);\n\n    tabLayoutaa = findViewById(R.id.tab_layoutaa);\n    pager2aa = findViewById(R.id.view_pager2aa);\n     buttonId=getIntent().getIntExtra(&quot;button_id&quot;,0); // to get the button id\n\n    FragmentManager fm = getSupportFragmentManager();\n    adapteraa = new FragmentAdapter(fm, getLifecycle());\n    pager2aa.setAdapter(adapteraa);\n   \n    tabLayoutaa.setTabMode(tabLayoutaa.MODE_SCROLLABLE);\n    tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 1&quot;));\n    tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 2&quot;));\n    tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 3&quot;));\n    tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 4&quot;));\n    tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 5&quot;));\n    tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 6&quot;));\n    tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 7&quot;));\n\n     pager2aa.setCurrentItem(buttonId-1);  // to get the current Tab\n\n    tabLayoutaa.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n        @Override\n        public void onTabSelected(TabLayout.Tab tab) {\n            pager2aa.setCurrentItem(tab.getPosition());\n        }\n\n        @Override\n        public void onTabUnselected(TabLayout.Tab tab) {\n\n        }\n\n        @Override\n        public void onTabReselected(TabLayout.Tab tab) {\n\n        }\n    });\n\n    pager2ah.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageSelected(int position) {\n            tabLayoutaa.selectTab(tabLayoutaa.getTabAt(position));\n        }\n    });\n}\n}\n</code></pre>\n<p>You can also use a switch case to get the selected tab and pass it to the fragment manager if it doesn't work.\nthere may be some syntax errors so be careful.</p>\n"}],"owner":{"account_id":23180173,"reputation":11,"user_id":17278106,"display_name":"tasty299orange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635501565,"creation_date":1635496199,"question_id":69765816,"body_markdown":"Here&#39;s the problem. I have 7 buttons in an Activity and 7 tabs/fragments in a different activity. The 7 tabs/fragments are slidable. I wanted to make the buttons to be able to open their respective tabs. For example, clicking on button 1 will redirect to tab/fragment 1, clicking on button 2 will open tab/fragment 2, etc. So, how do I make the buttons to work as I intended? Any answers or ideas would be much appreciated. Thank you in advance. \r\n\r\nHere&#39;s my code:\r\n`TabbedActivity.java`\r\n```\r\npublic class TabbedActivity extends AppCompatActivity {\r\n\r\n    TabLayout tabLayoutaa;\r\n    ViewPager2 pager2aa;\r\n    FragmentAdapter adapteraa;\r\n    int value;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_tabbed);\r\n\r\n        tabLayoutaa = findViewById(R.id.tab_layoutaa);\r\n        pager2aa = findViewById(R.id.view_pager2aa);\r\n\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        adapteraa = new FragmentAdapter(fm, getLifecycle());\r\n        pager2aa.setAdapter(adapteraa);\r\n\r\n        tabLayoutaa.setTabMode(tabLayoutaa.MODE_SCROLLABLE);\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 1&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 2&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 3&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 4&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 5&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 6&quot;));\r\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 7&quot;));\r\n\r\n        tabLayoutaa.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                pager2aa.setCurrentItem(tab.getPosition());\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n\r\n        pager2ah.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                tabLayoutaa.selectTab(tabLayoutaa.getTabAt(position));\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n`ButtonList.java`\r\n```\r\npublic class ButtonList extends AppCompatActivity {\r\n\r\n\r\n    private Button btntotab1;\r\n    private Button btntotab2;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_buttonlist);\r\n\r\n        btntotab1 = (Button)findViewById(R.id.btntotab1);\r\n        btntotab1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openTab1();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void openTab1(){\r\n        Intent intent = new Intent(this, TabbedActivity.class);\r\n        startActivity(intent);\r\n    }\r\n}\r\n\r\n","title":"Button OnClick from an Activity to a specific Tab/Fragment","body":"<p>Here's the problem. I have 7 buttons in an Activity and 7 tabs/fragments in a different activity. The 7 tabs/fragments are slidable. I wanted to make the buttons to be able to open their respective tabs. For example, clicking on button 1 will redirect to tab/fragment 1, clicking on button 2 will open tab/fragment 2, etc. So, how do I make the buttons to work as I intended? Any answers or ideas would be much appreciated. Thank you in advance.</p>\n<p>Here's my code:\n<code>TabbedActivity.java</code></p>\n<pre><code>public class TabbedActivity extends AppCompatActivity {\n\n    TabLayout tabLayoutaa;\n    ViewPager2 pager2aa;\n    FragmentAdapter adapteraa;\n    int value;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_tabbed);\n\n        tabLayoutaa = findViewById(R.id.tab_layoutaa);\n        pager2aa = findViewById(R.id.view_pager2aa);\n\n        FragmentManager fm = getSupportFragmentManager();\n        adapteraa = new FragmentAdapter(fm, getLifecycle());\n        pager2aa.setAdapter(adapteraa);\n\n        tabLayoutaa.setTabMode(tabLayoutaa.MODE_SCROLLABLE);\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 1&quot;));\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 2&quot;));\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 3&quot;));\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 4&quot;));\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 5&quot;));\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 6&quot;));\n        tabLayoutaa.addTab(tabLayoutaa.newTab().setText(&quot;Tab 7&quot;));\n\n        tabLayoutaa.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n                pager2aa.setCurrentItem(tab.getPosition());\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n\n        pager2ah.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n            @Override\n            public void onPageSelected(int position) {\n                tabLayoutaa.selectTab(tabLayoutaa.getTabAt(position));\n            }\n        });\n    }\n}\n</code></pre>\n<p><code>ButtonList.java</code></p>\n<pre><code>public class ButtonList extends AppCompatActivity {\n\n\n    private Button btntotab1;\n    private Button btntotab2;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_buttonlist);\n\n        btntotab1 = (Button)findViewById(R.id.btntotab1);\n        btntotab1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openTab1();\n            }\n        });\n    }\n\n    public void openTab1(){\n        Intent intent = new Intent(this, TabbedActivity.class);\n        startActivity(intent);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","google-api","google-drive-api","google-api-java-client"],"comments":[{"owner":{"account_id":12329796,"reputation":1924,"user_id":8996211,"display_name":"Kessy"},"score":0,"creation_date":1635337586,"post_id":69737562,"comment_id":123269775,"body_markdown":"Can you share the code you are using without the id&#39;s and the type of files that are failing? Could it be this: `To download Google Docs, Sheets, and Slides use files.export instead.` Mentioned on the [Files: get](https://developers.google.com/drive/api/v2/reference/files/get) docs?","body":"Can you share the code you are using without the id&#39;s and the type of files that are failing? Could it be this: <code>To download Google Docs, Sheets, and Slides use files.export instead.</code> Mentioned on the <a href=\"https://developers.google.com/drive/api/v2/reference/files/get\" rel=\"nofollow noreferrer\">Files: get</a> docs?"},{"owner":{"account_id":3924099,"reputation":49,"user_id":4387342,"display_name":"ramvirsingh"},"score":0,"creation_date":1635338596,"post_id":69737562,"comment_id":123270247,"body_markdown":"It is not issue with Google Documents. I am having issue with one file with .xlsx extension. Though i am able to download files (pdf,xlsx ...) with content. But sometime it fails for the file extension (xlsx,pdf), For Google workspace document, i am using export link and for other files , using download url","body":"It is not issue with Google Documents. I am having issue with one file with .xlsx extension. Though i am able to download files (pdf,xlsx ...) with content. But sometime it fails for the file extension (xlsx,pdf), For Google workspace document, i am using export link and for other files , using download url"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1635339186,"post_id":69737562,"comment_id":123270500,"body_markdown":"Why are you using V2? Please edit your question and include [example]","body":"Why are you using V2? Please edit your question and include <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":3924099,"reputation":49,"user_id":4387342,"display_name":"ramvirsingh"},"score":0,"creation_date":1635339670,"post_id":69737562,"comment_id":123270722,"body_markdown":"Product is using V2 that we need to support. I have added code in question","body":"Product is using V2 that we need to support. I have added code in question"},{"owner":{"account_id":12329796,"reputation":1924,"user_id":8996211,"display_name":"Kessy"},"score":0,"creation_date":1635777907,"post_id":69737562,"comment_id":123377569,"body_markdown":"Have you tried using other languages like python or Apps Script to download this failing files? To check if this is not only related to Java.","body":"Have you tried using other languages like python or Apps Script to download this failing files? To check if this is not only related to Java."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635410344,"creation_date":1635406877,"answer_id":69750052,"question_id":69737562,"body_markdown":"Its a little hard to help as you still have not included a [complete example](https://stackoverflow.com/help/minimal-reproducible-example).  However by looking at this method you are calling by passing the DownloadUrl link I suspect you have forgotten to check if it is null.   Not all files have a download Url link in some cases it is null.  If I recall with the v2 api binary type files will not have a download link.  All files that are not Google drive mime type will be considered binary type files.  Google sheet will have a download url,  xlsx will not.\r\n\r\n    new GenericUrl(file.getDownloadUrl()\r\n\r\n\r\nMay I suggest that you use the supplied download method rather than relying on the downloadUrl\r\n\r\n\r\n    String fileId = &quot;0BwwA4oUTeiV1UVNwOHItT0xfa2M&quot;;\r\n    OutputStream outputStream = new ByteArrayOutputStream();\r\n    driveService.files().get(fileId)\r\n        .executeMediaAndDownloadTo(outputStream);\r\n\r\n\r\n[File.get][1] responds with the download stream of the file itself. You don&#39;t need to do an export links on an xlsx file its already a binary file. You export a google sheet to xlsx. Try using the example given for all but internal google [mime types][2] those you should be preforming an export on.\r\n\r\n\r\nFor more information please consult [Manage downloads](https://developers.google.com/drive/api/v2/manage-downloads)\r\n\r\n\r\nI strongly suggest that you switch to the V3 of the api soon. \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/v2/reference/files/get\r\n  [2]: https://developers.google.com/drive/api/v2/mime-types","title":"Google drive API (v2) unable to download few files (with extension xlsx,pdf)","body":"<p>Its a little hard to help as you still have not included a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">complete example</a>.  However by looking at this method you are calling by passing the DownloadUrl link I suspect you have forgotten to check if it is null.   Not all files have a download Url link in some cases it is null.  If I recall with the v2 api binary type files will not have a download link.  All files that are not Google drive mime type will be considered binary type files.  Google sheet will have a download url,  xlsx will not.</p>\n<pre><code>new GenericUrl(file.getDownloadUrl()\n</code></pre>\n<p>May I suggest that you use the supplied download method rather than relying on the downloadUrl</p>\n<pre><code>String fileId = &quot;0BwwA4oUTeiV1UVNwOHItT0xfa2M&quot;;\nOutputStream outputStream = new ByteArrayOutputStream();\ndriveService.files().get(fileId)\n    .executeMediaAndDownloadTo(outputStream);\n</code></pre>\n<p><a href=\"https://developers.google.com/drive/api/v2/reference/files/get\" rel=\"nofollow noreferrer\">File.get</a> responds with the download stream of the file itself. You don't need to do an export links on an xlsx file its already a binary file. You export a google sheet to xlsx. Try using the example given for all but internal google <a href=\"https://developers.google.com/drive/api/v2/mime-types\" rel=\"nofollow noreferrer\">mime types</a> those you should be preforming an export on.</p>\n<p>For more information please consult <a href=\"https://developers.google.com/drive/api/v2/manage-downloads\" rel=\"nofollow noreferrer\">Manage downloads</a></p>\n<p>I strongly suggest that you switch to the V3 of the api soon.</p>\n"}],"owner":{"account_id":3924099,"reputation":49,"user_id":4387342,"display_name":"ramvirsingh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635501194,"creation_date":1635332983,"question_id":69737562,"body_markdown":"I am trying to download documents/files store in google drive using google drive API version (V2). though I am able to download files successfully except few that are failing with Bad request.             \r\nI have tried rest API approach\r\n \r\nhttps://developers.google.com/drive/api/v2/reference/files/get\r\n\r\nas well as native SDK method \r\n\r\nhttps://developers.google.com/drive/api/v2/manage-downloads#download_a_file_stored_on_google_drive.  \r\nCode snipped to download non google file:\r\n\r\n    public InputStream download() throws IOException {\r\n        HttpRequest httpRequest = service.getRequestFactory().buildGetRequest(new GenericUrl(file.getDownloadUrl()));\r\n        try {\r\n            return httpRequest.execute().getContent();\r\n        } catch (IllegalArgumentException e) {\r\n            log.warn(&quot;File &#39;{}&#39; could not be downloaded, illegal argument: {}&quot;, file.toString(), e.getMessage());\r\n            throw e\r\n        } catch (HttpResponseException e) {\r\n            throw e;\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n    }\r\n\r\nand Native SDK method\r\n\r\n     public InputStream download() throws IOException {\r\n            return driveService.files()\r\n                    .get(file.getId())\r\n                    .executeMediaAsInputStream();\r\n    }\r\n\r\nBut nothing working and there is nothing in error logs except below:\r\n\r\n&gt; com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\r\nBad Request\r\n\tat com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:150)\r\n\tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\r\n\tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:321)\r\n\tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1067)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeMedia(AbstractGoogleClientRequest.java:380)\r\n\tat com.google.api.services.drive.Drive$Files$Get.executeMedia(Drive.java:5765)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeMediaAsInputStream(AbstractGoogleClientRequest.java:523)\r\n\tat com.google.api.services.drive.Drive$Files$Get.executeMediaAsInputStream(Drive.java:5760)\r\n\r\n \r\n\r\nI have also reported this issue as bug : https://github.com/googleapis/google-api-java-client/issues/1910","title":"Google drive API (v2) unable to download few files (with extension xlsx,pdf)","body":"<p>I am trying to download documents/files store in google drive using google drive API version (V2). though I am able to download files successfully except few that are failing with Bad request.<br />\nI have tried rest API approach</p>\n<p><a href=\"https://developers.google.com/drive/api/v2/reference/files/get\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/api/v2/reference/files/get</a></p>\n<p>as well as native SDK method</p>\n<p><a href=\"https://developers.google.com/drive/api/v2/manage-downloads#download_a_file_stored_on_google_drive\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/api/v2/manage-downloads#download_a_file_stored_on_google_drive</a>.<br />\nCode snipped to download non google file:</p>\n<pre><code>public InputStream download() throws IOException {\n    HttpRequest httpRequest = service.getRequestFactory().buildGetRequest(new GenericUrl(file.getDownloadUrl()));\n    try {\n        return httpRequest.execute().getContent();\n    } catch (IllegalArgumentException e) {\n        log.warn(&quot;File '{}' could not be downloaded, illegal argument: {}&quot;, file.toString(), e.getMessage());\n        throw e\n    } catch (HttpResponseException e) {\n        throw e;\n    } catch (Exception e) {\n        throw e;\n    }\n}\n</code></pre>\n<p>and Native SDK method</p>\n<pre><code> public InputStream download() throws IOException {\n        return driveService.files()\n                .get(file.getId())\n                .executeMediaAsInputStream();\n}\n</code></pre>\n<p>But nothing working and there is nothing in error logs except below:</p>\n<blockquote>\n<p>com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\nBad Request\nat com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:150)\nat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\nat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:321)\nat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1067)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeMedia(AbstractGoogleClientRequest.java:380)\nat com.google.api.services.drive.Drive$Files$Get.executeMedia(Drive.java:5765)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeMediaAsInputStream(AbstractGoogleClientRequest.java:523)\nat com.google.api.services.drive.Drive$Files$Get.executeMediaAsInputStream(Drive.java:5760)</p>\n</blockquote>\n<p>I have also reported this issue as bug : <a href=\"https://github.com/googleapis/google-api-java-client/issues/1910\" rel=\"nofollow noreferrer\">https://github.com/googleapis/google-api-java-client/issues/1910</a></p>\n"},{"tags":["java","constructor","resource-leak"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635500899,"creation_date":1635500899,"answer_id":69766832,"question_id":69766747,"body_markdown":"Even if you could wrap the constructor call in a `try-with-resources`, does it really make sense? The constructor is most likely storing the `InputStream` in some internal state, so closing it in the constructor makes it invalid when subsequently used in other methods of the class.\r\n\r\nA better solution is to make `MyClass` implement `AutoCloseable` and close the input stream in the `close()` method, hence giving users of your class control over how to close the input stream that is passed to the `MyClass` instance.","title":"How to avoide a &quot;potential resource leak&quot; warning when using explicit constructor invocation?","body":"<p>Even if you could wrap the constructor call in a <code>try-with-resources</code>, does it really make sense? The constructor is most likely storing the <code>InputStream</code> in some internal state, so closing it in the constructor makes it invalid when subsequently used in other methods of the class.</p>\n<p>A better solution is to make <code>MyClass</code> implement <code>AutoCloseable</code> and close the input stream in the <code>close()</code> method, hence giving users of your class control over how to close the input stream that is passed to the <code>MyClass</code> instance.</p>\n"}],"owner":{"account_id":480041,"reputation":3020,"user_id":893044,"accept_rate":86,"display_name":"MRA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635500899,"creation_date":1635500564,"question_id":69766747,"body_markdown":"In my old code, I often used the following constructor idiom for convenience:\r\n\r\n    MyClass( InputStream input ) {\r\n      // do actual stuff\r\n    }\r\n    MyClass( String filename ) {\r\n      this( new FileInputStream(filename) )\r\n    }\r\nThis leads to Eclipse warning me of a **&quot;Potential resource leak: &#39;&amp;lt;unassigned Closeable value&amp;gt;&#39; may not be closed&quot;** in the explicit constructor invocation.\r\n\r\nUsually, I would use a try-with block for the auto-closable FileInputStream, but this is not possible here since the invocation must always be the first statement in a constructor. That is, the following **does not compile**:\r\n\r\n    MyClass( InputStream input ) {\r\n      // do actual stuff\r\n    }\r\n    MyClass( String filename ) {\r\n      try( FileInputStream fis = new FileInputStream(filename) ) {\r\n        this( fis );\r\n      }\r\n    }\r\n\r\nSo, what would be the correct (and elegant?) way to use this idiom without the risk of a potential resource leak? Any help is appreciated.","title":"How to avoide a &quot;potential resource leak&quot; warning when using explicit constructor invocation?","body":"<p>In my old code, I often used the following constructor idiom for convenience:</p>\n<pre><code>MyClass( InputStream input ) {\n  // do actual stuff\n}\nMyClass( String filename ) {\n  this( new FileInputStream(filename) )\n}\n</code></pre>\n<p>This leads to Eclipse warning me of a <strong>&quot;Potential resource leak: '&lt;unassigned Closeable value&gt;' may not be closed&quot;</strong> in the explicit constructor invocation.</p>\n<p>Usually, I would use a try-with block for the auto-closable FileInputStream, but this is not possible here since the invocation must always be the first statement in a constructor. That is, the following <strong>does not compile</strong>:</p>\n<pre><code>MyClass( InputStream input ) {\n  // do actual stuff\n}\nMyClass( String filename ) {\n  try( FileInputStream fis = new FileInputStream(filename) ) {\n    this( fis );\n  }\n}\n</code></pre>\n<p>So, what would be the correct (and elegant?) way to use this idiom without the risk of a potential resource leak? Any help is appreciated.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":1,"creation_date":1355487434,"post_id":13878465,"comment_id":19115192,"body_markdown":"Besides all the correct answers, setNumber method currently must return an int value or it will no compile.","body":"Besides all the correct answers, setNumber method currently must return an int value or it will no compile."},{"owner":{"account_id":84539,"reputation":9538,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":0,"creation_date":1478800074,"post_id":13878465,"comment_id":68307657,"body_markdown":"Possible duplicate of [Java Interface Usage Guidelines -- Are getters and setters in an interface bad?](http://stackoverflow.com/questions/1130294/java-interface-usage-guidelines-are-getters-and-setters-in-an-interface-bad)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1130294/java-interface-usage-guidelines-are-getters-and-setters-in-an-interface-bad\">Java Interface Usage Guidelines -- Are getters and setters in an interface bad?</a>"},{"owner":{"account_id":7937995,"reputation":555,"user_id":5993197,"display_name":"Muhammad Azam"},"score":0,"creation_date":1630422401,"post_id":13878465,"comment_id":121949329,"body_markdown":"you can use abstract class for this purpose","body":"you can use abstract class for this purpose"}],"answers":[{"tags":[],"owner":{"account_id":9558,"reputation":12465,"user_id":17713,"accept_rate":86,"display_name":"Matthias Meid"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1635500646,"creation_date":1355487227,"answer_id":13878488,"question_id":13878465,"body_markdown":"You cannot define *instance fields* in interfaces (unless they are constant - `static final` - values, thanks to [Jon][1]), since they&#39;re part of the *implementation* only. Thus, only the *getter and setter* are in the interface, whereas the field comes up in the implementation.\r\n\r\nAnd `setNumber` should return a `void` instead of `int`. For getting I suggest you to add `int getNumber()`.\r\n\r\n    public interface MyInterface {\r\n      void setNumber(int num); // public is implicit in interfaces\r\n      int getNumber();         // obviously\r\n    }\r\n    \r\n    public class MyClass implements MyInterface {\r\n      private int number = 0;\r\n      \r\n      public void setNumber(int num) { this.number = num; }\r\n      public int getNumber() { return this.number; }\r\n    }\r\n\r\nAs you can see, only `setNumber` is part of `MyInterface`. Consumers do not need to know about how the number is stored, therefore it is an implementation detail.\r\n\r\nBesides, in Java you name classes and interfaces in `PascalCase` rather than `camelCase`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13878520/17713","title":"Use getter/setter methods in interface","body":"<p>You cannot define <em>instance fields</em> in interfaces (unless they are constant - <code>static final</code> - values, thanks to <a href=\"https://stackoverflow.com/a/13878520/17713\">Jon</a>), since they're part of the <em>implementation</em> only. Thus, only the <em>getter and setter</em> are in the interface, whereas the field comes up in the implementation.</p>\n<p>And <code>setNumber</code> should return a <code>void</code> instead of <code>int</code>. For getting I suggest you to add <code>int getNumber()</code>.</p>\n<pre><code>public interface MyInterface {\n  void setNumber(int num); // public is implicit in interfaces\n  int getNumber();         // obviously\n}\n\npublic class MyClass implements MyInterface {\n  private int number = 0;\n  \n  public void setNumber(int num) { this.number = num; }\n  public int getNumber() { return this.number; }\n}\n</code></pre>\n<p>As you can see, only <code>setNumber</code> is part of <code>MyInterface</code>. Consumers do not need to know about how the number is stored, therefore it is an implementation detail.</p>\n<p>Besides, in Java you name classes and interfaces in <code>PascalCase</code> rather than <code>camelCase</code>.</p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355488864,"creation_date":1355487255,"answer_id":13878495,"question_id":13878465,"body_markdown":"Interface can not contain method body definition and field are `public`, `final` and `static` by default which normally use for constant declaration. It will be defined where you are going to implement this interface.\r\n\r\n&gt;In the Java programming language, an interface is a reference type, similar to a class, that can contain only constants, method signatures, and nested types. There are no method bodies. Interfaces cannot be instantiated—they can only be implemented by classes or extended by other interfaces.\r\n&gt;\r\n[ref][1]\r\n\r\nBut `abstract class` can contain concrete method as well as abstract method. \r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html","title":"Use getter/setter methods in interface","body":"<p>Interface can not contain method body definition and field are <code>public</code>, <code>final</code> and <code>static</code> by default which normally use for constant declaration. It will be defined where you are going to implement this interface.</p>\n\n<blockquote>\n  <p>In the Java programming language, an interface is a reference type, similar to a class, that can contain only constants, method signatures, and nested types. There are no method bodies. Interfaces cannot be instantiated—they can only be implemented by classes or extended by other interfaces.</p>\n  \n  <p><a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\" rel=\"nofollow\">ref</a></p>\n</blockquote>\n\n<p>But <code>abstract class</code> can contain concrete method as well as abstract method. </p>\n"},{"tags":[],"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355487331,"creation_date":1355487331,"answer_id":13878506,"question_id":13878465,"body_markdown":"You cannot change the fields declared in an interface as they are by deafulat `public static final`.\r\n\r\nYou see `final` so they cannot be changed once initialized.\r\n\r\nAnd in an interface you cannot give implementation of a method as you are doing in your code.\r\n\r\njust put `;` after the method signature and not `{}` (not even empty `{}`) :\r\n\r\n    public int setNumber(int num);","title":"Use getter/setter methods in interface","body":"<p>You cannot change the fields declared in an interface as they are by deafulat <code>public static final</code>.</p>\n\n<p>You see <code>final</code> so they cannot be changed once initialized.</p>\n\n<p>And in an interface you cannot give implementation of a method as you are doing in your code.</p>\n\n<p>just put <code>;</code> after the method signature and not <code>{}</code> (not even empty <code>{}</code>) :</p>\n\n<pre><code>public int setNumber(int num);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1355487335,"creation_date":1355487335,"answer_id":13878508,"question_id":13878465,"body_markdown":"When you define a value in an interface it is implicitly `public static final`  i.e. it&#39;s immutable and not an instance field.\r\n\r\nInterfaces are used for defining a contract, not behaviour so it doesn&#39;t make sense to insist that all implementations have this field.\r\n\r\nBTW You can do this if you have an `abstract class` as well as or instead of an `interface`","title":"Use getter/setter methods in interface","body":"<p>When you define a value in an interface it is implicitly <code>public static final</code>  i.e. it's immutable and not an instance field.</p>\n\n<p>Interfaces are used for defining a contract, not behaviour so it doesn't make sense to insist that all implementations have this field.</p>\n\n<p>BTW You can do this if you have an <code>abstract class</code> as well as or instead of an <code>interface</code></p>\n"},{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1355487716,"creation_date":1355487383,"answer_id":13878520,"question_id":13878465,"body_markdown":"Fields in `interface` are by default **public static final** i.e., constants.remember you have already initialized `number` in your `interface` and trying to change its value in your implementing class which breaks the laws of final variables .\r\n\r\nFrom [JLS][1]:\r\n\r\n&gt; A variable can be declared final. A final variable may only be\r\n&gt; assigned to once. Declaring a variable final can serve as useful\r\n&gt; documentation that its value will not change and can help avoid\r\n&gt; programming errors.\r\n&gt; \r\n&gt; It is a compile-time error if a final variable is assigned to unless\r\n&gt; it is definitely unassigned (&#167;16) immediately prior to the assignment.\r\n\r\nAlso methods in interface are by default public abstract. i dont understand your method signature in your interface. it should be something like below.\r\n\r\n    public void method();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4","title":"Use getter/setter methods in interface","body":"<p>Fields in <code>interface</code> are by default <strong>public static final</strong> i.e., constants.remember you have already initialized <code>number</code> in your <code>interface</code> and trying to change its value in your implementing class which breaks the laws of final variables .</p>\n\n<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\" rel=\"nofollow\">JLS</a>:</p>\n\n<blockquote>\n  <p>A variable can be declared final. A final variable may only be\n  assigned to once. Declaring a variable final can serve as useful\n  documentation that its value will not change and can help avoid\n  programming errors.</p>\n  \n  <p>It is a compile-time error if a final variable is assigned to unless\n  it is definitely unassigned (§16) immediately prior to the assignment.</p>\n</blockquote>\n\n<p>Also methods in interface are by default public abstract. i dont understand your method signature in your interface. it should be something like below.</p>\n\n<pre><code>public void method();\n</code></pre>\n"}],"owner":{"account_id":2142017,"reputation":2275,"user_id":1900445,"accept_rate":100,"display_name":"Sajad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59371,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":13878488,"answer_count":5,"score":10,"last_activity_date":1635500646,"creation_date":1355487134,"question_id":13878465,"body_markdown":"My question is how can I write setter/getter methods and static fields in an interface and implement it in another class.\r\n\r\nAn example:\r\n\r\n    public interface MyInterface {\r\n    int number = 0;\r\n\r\n    public int setNumber(int num);{\r\n\r\n     }\r\n    }\r\n\r\n    // Use it\r\n\r\n    public MyClass implements MyInterface{\r\n\r\n     ...\r\n\r\n    public int setNumber(int num) {\r\n       number = num;   // Error, Why?\r\n     }\r\n    }\r\n\r\n\r\nI get error on `number = num` but it get no error in the `setName(...)` method!\r\n","title":"Use getter/setter methods in interface","body":"<p>My question is how can I write setter/getter methods and static fields in an interface and implement it in another class.</p>\n<p>An example:</p>\n<pre><code>public interface MyInterface {\nint number = 0;\n\npublic int setNumber(int num);{\n\n }\n}\n\n// Use it\n\npublic MyClass implements MyInterface{\n\n ...\n\npublic int setNumber(int num) {\n   number = num;   // Error, Why?\n }\n}\n</code></pre>\n<p>I get error on <code>number = num</code> but it get no error in the <code>setName(...)</code> method!</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":15452950,"reputation":4661,"user_id":11147851,"display_name":"Pavel Smirnov"},"score":0,"creation_date":1635355589,"post_id":69742957,"comment_id":123278220,"body_markdown":"`if (this.familyList.contains(family))` Does `Family` override `equals()` method? If not you&#39;ll never get this method to work correctly. Also, you might want to read about [sets](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html).","body":"<code>if (this.familyList.contains(family))</code> Does <code>Family</code> override <code>equals()</code> method? If not you&#39;ll never get this method to work correctly. Also, you might want to read about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">sets</a>."},{"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"score":0,"creation_date":1635355747,"post_id":69742957,"comment_id":123278281,"body_markdown":"Thanks, I know about sets, but I need Arraylist in this case.@Override\n  public boolean equals(Object obj) {\n    if (this == obj)\n      return true;\n    if (!(obj instanceof Family myFamily))\n      return false;\n    return (mother.hashCode() == myFamily.getMother().hashCode());\n  }","body":"Thanks, I know about sets, but I need Arraylist in this case.@Override   public boolean equals(Object obj) {     if (this == obj)       return true;     if (!(obj instanceof Family myFamily))       return false;     return (mother.hashCode() == myFamily.getMother().hashCode());   }"},{"owner":{"account_id":15452950,"reputation":4661,"user_id":11147851,"display_name":"Pavel Smirnov"},"score":1,"creation_date":1635356308,"post_id":69742957,"comment_id":123278491,"body_markdown":"That `equals()` method is definitely broken. You may find how `equals()` and `hashCode()` work on the internet. Also you can generate these methods, modern IDEs such as IDEA or Eclipse have this function. And don&#39;t forget to override `equals()` and `hashCode()` for your other classes (Man, Woman, etc.) as well.","body":"That <code>equals()</code> method is definitely broken. You may find how <code>equals()</code> and <code>hashCode()</code> work on the internet. Also you can generate these methods, modern IDEs such as IDEA or Eclipse have this function. And don&#39;t forget to override <code>equals()</code> and <code>hashCode()</code> for your other classes (Man, Woman, etc.) as well."}],"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635500434,"creation_date":1635355088,"question_id":69742957,"body_markdown":"I&#39;m trying to generate any number of families using For Loop, those families are saved in ArrayList. But when I choose for example generate 1 family, I get two identical families in the ArrayList, although I have a method for saving only unique fammilies.\r\n\r\n    //Code for generating families\r\n\r\n    public static void firstOption(int count) {\r\n        ArrayList&lt;String&gt; womanNames = new ArrayList&lt;&gt;(List.of(&quot;Name1&quot;, &quot;Name2&quot;, &quot;Name3&quot;, &quot;Irina&quot;));\r\n        ArrayList&lt;String&gt; manNames = new ArrayList&lt;&gt;(List.of(&quot;Name1&quot;, &quot;Name2&quot;, &quot;Name3&quot;, &quot;Name4&quot;));\r\n        ArrayList&lt;String&gt; surnames = new ArrayList&lt;&gt;(List.of(&quot;Surname1&quot;, &quot;Surname2&quot;, &quot;Surname3&quot;, &quot;Surname4&quot;));\r\n        ArrayList&lt;Integer&gt; iq = new ArrayList&lt;&gt;(List.of(80, 100, 120, 90));\r\n\r\n        long minDay = LocalDate.of(1970, 1, 1).toEpochDay();\r\n        long maxDay = LocalDate.of(2015, 12, 31).toEpochDay();\r\n        long randomDay = ThreadLocalRandom.current().nextLong(minDay, maxDay);\r\n        LocalDate randomDate = Instant.ofEpochMilli(randomDay).atZone(ZoneId.systemDefault()).toLocalDate();\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n        for (int i = 0; i &lt; count; i++) {\r\n            int indexManName = (int) (Math.random() * manNames.size());\r\n            int indexWomanName = (int) (Math.random() * manNames.size());\r\n            int indexSurname = (int) (Math.random() * surnames.size());\r\n            int indexIq = (int) (Math.random() * iq.size());\r\n            Man father = new Man(manNames.get(indexManName), surnames.get(indexSurname), randomDate.format(formatter), iq.get(indexIq));\r\n            Woman mother = new Woman(womanNames.get(indexWomanName), father.getSurname(), randomDate.format(formatter), iq.get(indexIq));\r\n            familyController.createNewFamily(father, mother);\r\n        }\r\n    }\r\n\r\n    //This is the code for creating and saving new Family to ArrayList\r\n\r\n    public Family saveFamily(Family family) {\r\n        int index = this.familyList.indexOf(family);\r\n        if (this.familyList.contains(family)) {\r\n            this.familyList.set(index, family);\r\n        } else {\r\n            this.familyList.add(family);\r\n        }\r\n\r\n        return family;\r\n    }\r\n\r\n    public Family createNewFamily(Human mother, Human father) {\r\n        return familyDao.saveFamily(new Family(mother, father));\r\n    }\r\n\r\n    //Override family equals\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj)\r\n          return true;\r\n\r\n        if (!(obj instanceof Family myFamily))\r\n          return false;\r\n\r\n        return (mother.hashCode() == myFamily.getMother().hashCode());\r\n    }","title":"Duplicates in ArrayList using For loop (JAVA)","body":"<p>I'm trying to generate any number of families using For Loop, those families are saved in ArrayList. But when I choose for example generate 1 family, I get two identical families in the ArrayList, although I have a method for saving only unique fammilies.</p>\n<pre><code>//Code for generating families\n\npublic static void firstOption(int count) {\n    ArrayList&lt;String&gt; womanNames = new ArrayList&lt;&gt;(List.of(&quot;Name1&quot;, &quot;Name2&quot;, &quot;Name3&quot;, &quot;Irina&quot;));\n    ArrayList&lt;String&gt; manNames = new ArrayList&lt;&gt;(List.of(&quot;Name1&quot;, &quot;Name2&quot;, &quot;Name3&quot;, &quot;Name4&quot;));\n    ArrayList&lt;String&gt; surnames = new ArrayList&lt;&gt;(List.of(&quot;Surname1&quot;, &quot;Surname2&quot;, &quot;Surname3&quot;, &quot;Surname4&quot;));\n    ArrayList&lt;Integer&gt; iq = new ArrayList&lt;&gt;(List.of(80, 100, 120, 90));\n\n    long minDay = LocalDate.of(1970, 1, 1).toEpochDay();\n    long maxDay = LocalDate.of(2015, 12, 31).toEpochDay();\n    long randomDay = ThreadLocalRandom.current().nextLong(minDay, maxDay);\n    LocalDate randomDate = Instant.ofEpochMilli(randomDay).atZone(ZoneId.systemDefault()).toLocalDate();\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n    for (int i = 0; i &lt; count; i++) {\n        int indexManName = (int) (Math.random() * manNames.size());\n        int indexWomanName = (int) (Math.random() * manNames.size());\n        int indexSurname = (int) (Math.random() * surnames.size());\n        int indexIq = (int) (Math.random() * iq.size());\n        Man father = new Man(manNames.get(indexManName), surnames.get(indexSurname), randomDate.format(formatter), iq.get(indexIq));\n        Woman mother = new Woman(womanNames.get(indexWomanName), father.getSurname(), randomDate.format(formatter), iq.get(indexIq));\n        familyController.createNewFamily(father, mother);\n    }\n}\n\n//This is the code for creating and saving new Family to ArrayList\n\npublic Family saveFamily(Family family) {\n    int index = this.familyList.indexOf(family);\n    if (this.familyList.contains(family)) {\n        this.familyList.set(index, family);\n    } else {\n        this.familyList.add(family);\n    }\n\n    return family;\n}\n\npublic Family createNewFamily(Human mother, Human father) {\n    return familyDao.saveFamily(new Family(mother, father));\n}\n\n//Override family equals\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj)\n      return true;\n\n    if (!(obj instanceof Family myFamily))\n      return false;\n\n    return (mother.hashCode() == myFamily.getMother().hashCode());\n}\n</code></pre>\n"},{"tags":["java","kotlin","gradle","gradle-plugin"],"comments":[{"owner":{"account_id":19125636,"reputation":7406,"user_id":13968673,"display_name":"Михаил Нафталь"},"score":0,"creation_date":1604693061,"post_id":64717362,"comment_id":114434624,"body_markdown":"When you got this error? During project configuration phase?","body":"When you got this error? During project configuration phase?"},{"owner":{"account_id":4594453,"reputation":1,"user_id":3726936,"display_name":"dm0275"},"score":0,"creation_date":1604693526,"post_id":64717362,"comment_id":114434786,"body_markdown":"Yes I get this during the project configuration phase.","body":"Yes I get this during the project configuration phase."},{"owner":{"account_id":19125636,"reputation":7406,"user_id":13968673,"display_name":"Михаил Нафталь"},"score":0,"creation_date":1604693813,"post_id":64717362,"comment_id":114434887,"body_markdown":"Can&#39;t reproduce... Works fine for me (actually I removed `@Inject` annotations). Will it work without them in your case?","body":"Can&#39;t reproduce... Works fine for me (actually I removed <code>@Inject</code> annotations). Will it work without them in your case?"},{"owner":{"account_id":4594453,"reputation":1,"user_id":3726936,"display_name":"dm0275"},"score":0,"creation_date":1604694381,"post_id":64717362,"comment_id":114435078,"body_markdown":"I tried removing the `@Inject` annotations but still got the same result ```FAILURE: Build failed with an exception.\n\n* Where:\nBuild file &#39;/Users/user/git/pluginTest/build.gradle&#39; line: 19\n\n* What went wrong:\nA problem occurred evaluating root project &#39;pluginTest&#39;.\n&gt; Could not set unknown property &#39;albumName&#39; for object of type com.plugin.Artist.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nCONFIGURE FAILED in 84ms```","body":"I tried removing the <code>@Inject</code> annotations but still got the same result <code>FAILURE: Build failed with an exception.  * Where: Build file &#39;&#47;Users&#47;user&#47;git&#47;pluginTest&#47;build.gradle&#39; line: 19  * What went wrong: A problem occurred evaluating root project &#39;pluginTest&#39;. &gt; Could not set unknown property &#39;albumName&#39; for object of type com.plugin.Artist.  * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.  * Get more help at https:&#47;&#47;help.gradle.org  CONFIGURE FAILED in 84ms</code>"},{"owner":{"account_id":10946408,"reputation":638,"user_id":8372386,"display_name":"MR3YY"},"score":0,"creation_date":1605890752,"post_id":64717362,"comment_id":114800338,"body_markdown":"Why would you use `domainObjectSet()` over `newInstance` with wrapping all your attributes in `Property&lt;&gt;`??","body":"Why would you use <code>domainObjectSet()</code> over <code>newInstance</code> with wrapping all your attributes in <code>Property&lt;&gt;</code>??"},{"owner":{"account_id":4594453,"reputation":1,"user_id":3726936,"display_name":"dm0275"},"score":0,"creation_date":1606258459,"post_id":64717362,"comment_id":114909077,"body_markdown":"Can you provide an example of how this would work with multiple artists/albums?","body":"Can you provide an example of how this would work with multiple artists/albums?"}],"answers":[{"tags":[],"owner":{"account_id":5945283,"reputation":102,"user_id":6716368,"display_name":"Salvian Reynaldi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629376245,"creation_date":1629376245,"answer_id":68847943,"question_id":64717362,"body_markdown":"Probably you can use Gradle&#39;s [NamedDomainObjectContainer][1].\r\n```groovy\r\ninterface MusicPluginExtension {\r\n    // https://docs.gradle.org/current/userguide/custom_gradle_types.html#nameddomainobjectcontainer\r\n    NamedDomainObjectContainer&lt;Artist&gt; getArtists()\r\n\r\n    interface Artist {\r\n        String getName()\r\n        NamedDomainObjectContainer&lt;Album&gt; getAlbums()\r\n        interface Album {\r\n            String getName()\r\n        }\r\n    }\r\n}\r\n```\r\n```groovy\r\nmusic {\r\n    artists {\r\n        register(&quot;artist1&quot;) {\r\n            albums {\r\n                register(&quot;album1&quot;){}\r\n                register(&quot;album2&quot;){}\r\n            }\r\n        }\r\n        register(&quot;artist2&quot;) {\r\n            // ...\r\n        }\r\n    }\r\n}\r\n```\r\nIt works for 1-level nested list, maybe it would work with the 2-level list as well.\r\n\r\n[1]: https://docs.gradle.org/current/userguide/custom_gradle_types.html#nameddomainobjectcontainer","title":"Nested extensions in Gradle plugin","body":"<p>Probably you can use Gradle's <a href=\"https://docs.gradle.org/current/userguide/custom_gradle_types.html#nameddomainobjectcontainer\" rel=\"nofollow noreferrer\">NamedDomainObjectContainer</a>.</p>\n<pre><code>interface MusicPluginExtension {\n    // https://docs.gradle.org/current/userguide/custom_gradle_types.html#nameddomainobjectcontainer\n    NamedDomainObjectContainer&lt;Artist&gt; getArtists()\n\n    interface Artist {\n        String getName()\n        NamedDomainObjectContainer&lt;Album&gt; getAlbums()\n        interface Album {\n            String getName()\n        }\n    }\n}\n</code></pre>\n<pre><code>music {\n    artists {\n        register(&quot;artist1&quot;) {\n            albums {\n                register(&quot;album1&quot;){}\n                register(&quot;album2&quot;){}\n            }\n        }\n        register(&quot;artist2&quot;) {\n            // ...\n        }\n    }\n}\n</code></pre>\n<p>It works for 1-level nested list, maybe it would work with the 2-level list as well.</p>\n"}],"owner":{"account_id":4594453,"reputation":1,"user_id":3726936,"display_name":"dm0275"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635500134,"creation_date":1604676412,"question_id":64717362,"body_markdown":"I&#39;m trying to achieve the following configuration in my gradle plugin \r\n\r\n```kotlin\r\nmusic {\r\n    artist {\r\n        artistName = &quot;artist1&quot;\r\n        album {\r\n            albumName = &quot;album1&quot;\r\n        }\r\n    }\r\n    artist {\r\n        artistName = &quot;artist2&quot;\r\n        album {\r\n            albumName = &quot;album1&quot;\r\n        }\r\n        album {\r\n            albumName = &quot;album1&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this is what I have so far \r\n\r\n```kotlin\r\nopen class MusicPlugin : Plugin&lt;Project&gt; {\r\n    override fun apply(project: Project) {\r\n        project.extensions.create(&quot;music&quot;, MusicPluginExtension::class.java)\r\n    }\r\n}\r\n\r\nopen class MusicPluginExtension @Inject constructor(val objectFactory: ObjectFactory) {\r\n    val artists = objectFactory.domainObjectSet(Artist::class.java)\r\n\r\n    fun artist(action: Action&lt;in Artist&gt;) {\r\n        val artist = Artist(objectFactory)\r\n        action.execute(artist)\r\n        artists.add(artist)\r\n    }\r\n}\r\n\r\nopen class Artist @Inject constructor(objectFactory: ObjectFactory) {\r\n    var artistName: String? = null\r\n    val albums = objectFactory.domainObjectSet(Album::class.java)\r\n\r\n    fun album(action: Action&lt;in Album&gt;) {\r\n        val album = Album()\r\n        action.execute(album)\r\n        albums.add(album)\r\n    }\r\n}\r\n\r\nopen class Album() {\r\n    var albumName: String? = null\r\n}\r\n```\r\n\r\nWhen I apply the plugin to a project, I am able to create the closures but get a failure when I try to set properties for an `Album` (ex. setting the name of the album). This is the error I get:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;/Users/user/git/pluginTest/build.gradle&#39; line: 19\r\n\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;pluginTest&#39;.\r\n&gt; Could not set unknown property &#39;albumName&#39; for object of type com.plugin.Artist.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nCONFIGURE FAILED in 84ms\r\n```\r\n\r\nAny assistance with this would be greatly appreciated.","title":"Nested extensions in Gradle plugin","body":"<p>I'm trying to achieve the following configuration in my gradle plugin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>music {\n    artist {\n        artistName = &quot;artist1&quot;\n        album {\n            albumName = &quot;album1&quot;\n        }\n    }\n    artist {\n        artistName = &quot;artist2&quot;\n        album {\n            albumName = &quot;album1&quot;\n        }\n        album {\n            albumName = &quot;album1&quot;\n        }\n    }\n}\n</code></pre>\n<p>And this is what I have so far</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>open class MusicPlugin : Plugin&lt;Project&gt; {\n    override fun apply(project: Project) {\n        project.extensions.create(&quot;music&quot;, MusicPluginExtension::class.java)\n    }\n}\n\nopen class MusicPluginExtension @Inject constructor(val objectFactory: ObjectFactory) {\n    val artists = objectFactory.domainObjectSet(Artist::class.java)\n\n    fun artist(action: Action&lt;in Artist&gt;) {\n        val artist = Artist(objectFactory)\n        action.execute(artist)\n        artists.add(artist)\n    }\n}\n\nopen class Artist @Inject constructor(objectFactory: ObjectFactory) {\n    var artistName: String? = null\n    val albums = objectFactory.domainObjectSet(Album::class.java)\n\n    fun album(action: Action&lt;in Album&gt;) {\n        val album = Album()\n        action.execute(album)\n        albums.add(album)\n    }\n}\n\nopen class Album() {\n    var albumName: String? = null\n}\n</code></pre>\n<p>When I apply the plugin to a project, I am able to create the closures but get a failure when I try to set properties for an <code>Album</code> (ex. setting the name of the album). This is the error I get:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/Users/user/git/pluginTest/build.gradle' line: 19\n\n* What went wrong:\nA problem occurred evaluating root project 'pluginTest'.\n&gt; Could not set unknown property 'albumName' for object of type com.plugin.Artist.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nCONFIGURE FAILED in 84ms\n</code></pre>\n<p>Any assistance with this would be greatly appreciated.</p>\n"},{"tags":["java","java-websocket"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1635498192,"post_id":69766160,"comment_id":123319835,"body_markdown":"The whole point of a websocket is that you publish and it goes to all subscribers, you can either tack a client id onto the message so other subs know to ignore it, or just have a unique topic for that individual sub.","body":"The whole point of a websocket is that you publish and it goes to all subscribers, you can either tack a client id onto the message so other subs know to ignore it, or just have a unique topic for that individual sub."},{"owner":{"account_id":2382724,"reputation":95,"user_id":2084408,"accept_rate":0,"display_name":"coco"},"score":0,"creation_date":1635499119,"post_id":69766160,"comment_id":123320160,"body_markdown":"Can you guide me a little? It is for the 1st time when I playing with this. How can I have the individual topic?","body":"Can you guide me a little? It is for the 1st time when I playing with this. How can I have the individual topic?"},{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":1,"creation_date":1635499180,"post_id":69766160,"comment_id":123320180,"body_markdown":"If you look on the class Message on the tutorial you&#39;re following you find there are 2 attributes: _from_ and _to_. Those attributes can be used to send a message to a specific session, as you have a map that has session and users.","body":"If you look on the class Message on the tutorial you&#39;re following you find there are 2 attributes: <i>from</i> and <i>to</i>. Those attributes can be used to send a message to a specific session, as you have a map that has session and users."},{"owner":{"account_id":2382724,"reputation":95,"user_id":2084408,"accept_rate":0,"display_name":"coco"},"score":0,"creation_date":1635499781,"post_id":69766160,"comment_id":123320394,"body_markdown":"I changed the onMessage as below: &#39;code&#39; @OnMessage\n    public void onMessage(Session session, Message message) throws IOException, EncodeException {\n        String userName = (String)session.getId();\n        Iterator it = users.entrySet().iterator();\n\n        message.setFrom(users.get(session.getId()));\n        if (users.containsValue(&quot;u0&quot;)){\n            message.setTo(users.get(session.getId()));\n            broadcast(message);\n            System.out.println(message.getContent());\n        } &#39;code&#39; but the same results","body":"I changed the onMessage as below: &#39;code&#39; @OnMessage     public void onMessage(Session session, Message message) throws IOException, EncodeException {         String userName = (String)session.getId();         Iterator it = users.entrySet().iterator();          message.setFrom(users.get(session.getId()));         if (users.containsValue(&quot;u0&quot;)){             message.setTo(users.get(session.getId()));             broadcast(message);             System.out.println(message.getContent());         } &#39;code&#39; but the same results"}],"owner":{"account_id":2382724,"reputation":95,"user_id":2084408,"accept_rate":0,"display_name":"coco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635499363,"creation_date":1635497897,"question_id":69766160,"body_markdown":"I followed the following tutorial https://www.baeldung.com/java-websockets.\r\nI can send messages and all it is working as per expectation.\r\nBut is it possible to send a message only to a specific session? If yes, can you please guide me?\r\n\r\n   \r\n\r\n     @ServerEndpoint(value = &quot;/endpoint/{username}&quot;, decoders = MessageDecoder.class, encoders = MessageEncoder.class)\r\n    public class ChatEndpoint {\r\n    \r\n        private Session session;\r\n        private static final Set&lt;ChatEndpoint&gt; chatEndpoints = new CopyOnWriteArraySet&lt;&gt;();\r\n        private static HashMap&lt;String, String&gt; users = new HashMap&lt;&gt;();\r\n    \r\n        @OnOpen\r\n        public void onOpen(Session session, @PathParam(&quot;username&quot;) String username) throws IOException, EncodeException {\r\n    \r\n            this.session = session;\r\n            chatEndpoints.add(this);\r\n            users.put(session.getId(), username);\r\n            System.out.println(session.getId() + &quot; xxx&quot;);\r\n            Message message = new Message();\r\n            message.setFrom(username);\r\n            message.setContent(&quot;Connected!&quot;);\r\n            broadcast(message);\r\n        }\r\n    \r\n        @OnMessage\r\n        public void onMessage(Session session, Message message) throws IOException, EncodeException {\r\n            String userName = (String)session.getId();\r\n            Iterator it = users.entrySet().iterator();\r\n    //        while(it.hasNext())\r\n    //        {\r\n    //            Map.Entry&lt;String, String&gt; me = (Map.Entry)it.next();\r\n    //            System.out.println(&quot;session id: &quot; + me.getKey() + &quot; values: &quot; + me.getValue() + &quot; &quot; + userName);\r\n    //            if (users.containsValue(&quot;u0&quot;))\r\n    //            {\r\n    //                break;\r\n    //            }\r\n    //        }\r\n    //        message.setTo(session.getId());\r\n            message.setFrom(users.get(session.getId()));\r\n            broadcast(message);\r\n            System.out.println(message.getContent());\r\n            \r\n            \r\n        }\r\n    \r\n        \r\n        private static void broadcast(Message message) throws IOException, EncodeException {\r\n    //        for (ChatEndpoint ce : chatEndpoints)\r\n    //        {\r\n    //            if (ce.session.getId().equals(users.get(&quot;u0&quot;)))\r\n    //            {\r\n    //                ce.session.getBasicRemote().sendObject(message);\r\n    //            }\r\n    //        }\r\n            chatEndpoints.forEach(endpoint -&gt; {\r\n                synchronized (endpoint) {\r\n                    try {\r\n                        endpoint.session.getBasicRemote()\r\n                            .sendObject(message);\r\n                    } catch (IOException | EncodeException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nI added the above code\r\nThank you\r\n","title":"can I send a message to a specific session using java websocket","body":"<p>I followed the following tutorial <a href=\"https://www.baeldung.com/java-websockets\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-websockets</a>.\nI can send messages and all it is working as per expectation.\nBut is it possible to send a message only to a specific session? If yes, can you please guide me?</p>\n<pre><code> @ServerEndpoint(value = &quot;/endpoint/{username}&quot;, decoders = MessageDecoder.class, encoders = MessageEncoder.class)\npublic class ChatEndpoint {\n\n    private Session session;\n    private static final Set&lt;ChatEndpoint&gt; chatEndpoints = new CopyOnWriteArraySet&lt;&gt;();\n    private static HashMap&lt;String, String&gt; users = new HashMap&lt;&gt;();\n\n    @OnOpen\n    public void onOpen(Session session, @PathParam(&quot;username&quot;) String username) throws IOException, EncodeException {\n\n        this.session = session;\n        chatEndpoints.add(this);\n        users.put(session.getId(), username);\n        System.out.println(session.getId() + &quot; xxx&quot;);\n        Message message = new Message();\n        message.setFrom(username);\n        message.setContent(&quot;Connected!&quot;);\n        broadcast(message);\n    }\n\n    @OnMessage\n    public void onMessage(Session session, Message message) throws IOException, EncodeException {\n        String userName = (String)session.getId();\n        Iterator it = users.entrySet().iterator();\n//        while(it.hasNext())\n//        {\n//            Map.Entry&lt;String, String&gt; me = (Map.Entry)it.next();\n//            System.out.println(&quot;session id: &quot; + me.getKey() + &quot; values: &quot; + me.getValue() + &quot; &quot; + userName);\n//            if (users.containsValue(&quot;u0&quot;))\n//            {\n//                break;\n//            }\n//        }\n//        message.setTo(session.getId());\n        message.setFrom(users.get(session.getId()));\n        broadcast(message);\n        System.out.println(message.getContent());\n        \n        \n    }\n\n    \n    private static void broadcast(Message message) throws IOException, EncodeException {\n//        for (ChatEndpoint ce : chatEndpoints)\n//        {\n//            if (ce.session.getId().equals(users.get(&quot;u0&quot;)))\n//            {\n//                ce.session.getBasicRemote().sendObject(message);\n//            }\n//        }\n        chatEndpoints.forEach(endpoint -&gt; {\n            synchronized (endpoint) {\n                try {\n                    endpoint.session.getBasicRemote()\n                        .sendObject(message);\n                } catch (IOException | EncodeException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I added the above code\nThank you</p>\n"},{"tags":["java","reactive-programming","project-reactor","reactive-streams"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634827534,"creation_date":1634827534,"answer_id":69664071,"question_id":69663535,"body_markdown":"Have a look at [`Mono#cache()`][1] operator:\r\n\r\n&gt; Turn this Mono into a hot source and cache last emitted signals for\r\n&gt; further Subscriber. Completion and Error will also be replayed.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--","title":"How to multicast a Mono to multiple subscribers in Project Reactor?","body":"<p>Have a look at <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--\" rel=\"nofollow noreferrer\"><code>Mono#cache()</code></a> operator:</p>\n<blockquote>\n<p>Turn this Mono into a hot source and cache last emitted signals for\nfurther Subscriber. Completion and Error will also be replayed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635498949,"creation_date":1635491450,"answer_id":69764936,"question_id":69663535,"body_markdown":"Managed to multicast the mono using [`Mono.share()`][1] operator:\r\n\r\n&gt; Prepare a Mono which shares this Mono result similar to Flux.shareNext(). This will effectively turn this Mono into a hot task when the first Subscriber subscribes using subscribe() API. Further Subscriber will share the same Subscription and therefore the same result. It&#39;s worth noting this is an un-cancellable Subscription.\r\n\r\n\r\n**Example:**\r\nFollowing code creates only one subscription on the publisher:\r\n\r\n```\r\n        Mono&lt;Integer&gt; integerMono = Mono.just(2)\r\n                .log()\r\n                .share();\r\n\r\n        integerMono.map(i -&gt; i+3)\r\n                .subscribe(System.out::println);\r\n\r\n        integerMono.map(i -&gt; i*5)\r\n                .subscribe(System.out::println);\r\n```\r\n\r\nOutput of above code is shown below (data is requested only once):\r\n```\r\n5\r\nreactor.Mono.Just.1 - {} - | onSubscribe([Synchronous Fuseable] Operators.ScalarSubscription)\r\nreactor.Mono.Just.1 - {} - | request(unbounded)\r\nreactor.Mono.Just.1 - {} - | onNext(2)\r\nreactor.Mono.Just.1 - {} - | onComplete()\r\n10\r\n```\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#share--","title":"How to multicast a Mono to multiple subscribers in Project Reactor?","body":"<p>Managed to multicast the mono using <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#share--\" rel=\"nofollow noreferrer\"><code>Mono.share()</code></a> operator:</p>\n<blockquote>\n<p>Prepare a Mono which shares this Mono result similar to Flux.shareNext(). This will effectively turn this Mono into a hot task when the first Subscriber subscribes using subscribe() API. Further Subscriber will share the same Subscription and therefore the same result. It's worth noting this is an un-cancellable Subscription.</p>\n</blockquote>\n<p><strong>Example:</strong>\nFollowing code creates only one subscription on the publisher:</p>\n<pre><code>        Mono&lt;Integer&gt; integerMono = Mono.just(2)\n                .log()\n                .share();\n\n        integerMono.map(i -&gt; i+3)\n                .subscribe(System.out::println);\n\n        integerMono.map(i -&gt; i*5)\n                .subscribe(System.out::println);\n</code></pre>\n<p>Output of above code is shown below (data is requested only once):</p>\n<pre><code>5\nreactor.Mono.Just.1 - {} - | onSubscribe([Synchronous Fuseable] Operators.ScalarSubscription)\nreactor.Mono.Just.1 - {} - | request(unbounded)\nreactor.Mono.Just.1 - {} - | onNext(2)\nreactor.Mono.Just.1 - {} - | onComplete()\n10\n</code></pre>\n"}],"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635498949,"creation_date":1634825392,"question_id":69663535,"body_markdown":"With what I have read so far, one can multicast a Flux to multiple subscribers using `ConnectableFlux` using something similar to following:\r\n```\r\nFlux&lt;Integer&gt; integerFlux = Flux.range(1, 50)\r\n                .log();\r\n\r\nConnectableFlux&lt;Integer&gt; integerConnectableFlux = integerFlux.publish();\r\n\r\nintegerConnectableFlux.map(i -&gt; i*2)\r\n                .subscribe(System.out::println);\r\n\r\nintegerConnectableFlux.map(i -&gt; i*3)\r\n                .subscribe(System.out::println);\r\n\r\nintegerConnectableFlux.connect();\r\n```\r\n\r\nTo my limited understanding of reactive streams, above code converts a cold publisher to a hot publisher.\r\nI am working on scenario where I have multiple subscribers for a `Mono`. How can I get a hot publisher out of a Mono?","title":"How to multicast a Mono to multiple subscribers in Project Reactor?","body":"<p>With what I have read so far, one can multicast a Flux to multiple subscribers using <code>ConnectableFlux</code> using something similar to following:</p>\n<pre><code>Flux&lt;Integer&gt; integerFlux = Flux.range(1, 50)\n                .log();\n\nConnectableFlux&lt;Integer&gt; integerConnectableFlux = integerFlux.publish();\n\nintegerConnectableFlux.map(i -&gt; i*2)\n                .subscribe(System.out::println);\n\nintegerConnectableFlux.map(i -&gt; i*3)\n                .subscribe(System.out::println);\n\nintegerConnectableFlux.connect();\n</code></pre>\n<p>To my limited understanding of reactive streams, above code converts a cold publisher to a hot publisher.\nI am working on scenario where I have multiple subscribers for a <code>Mono</code>. How can I get a hot publisher out of a Mono?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1635489109,"post_id":69764557,"comment_id":123316844,"body_markdown":"What DB are you using?","body":"What DB are you using?"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635498135,"creation_date":1635489762,"answer_id":69764664,"question_id":69764557,"body_markdown":"If you want to use several threads that do this for you I would use `OFFSET` and several queries (15 to be exact (3M/200K)).\r\n\r\nThe first problem is creating the queries. This would be one way:\r\n\r\n```java\r\nint offset = 0;\r\nint incrementer = 200000; // 200k\r\nString baseQuery = &quot;SELECT ... FROM ... WHERE ... LIMIT 200000 OFFSET &quot;; // OFFSET must be supported by your DB for this to work.\r\n\r\nArrayList&lt;String&gt; queries = new ArrayList&lt;&gt;();\r\n\r\nint queryCount = 3000000 / incrementer;\r\n\r\nfor (int i = 0; i &lt; queryCount; i++) \r\n{\r\n    String tmpQuery = baseQuery + offset;\r\n    offset += incrementer;\r\n    \r\n    queries.add(tmpQuery);\r\n}\r\n```\r\n\r\nNow we got our queries. We should create a thread for each of them, where they will fetch the data and create your CSV files.\r\n\r\n```java\r\nfor (String query : queries)\r\n{\r\n    Runnable runnable = () -&gt;\r\n    {\r\n        // Use preparedStatement to create the query\r\n        // Fetch the data\r\n        // Write them to cv file\r\n        \r\n        // use query variable!\r\n    };\r\n    \r\n    Thread thread = new Thread(runnable);\r\n    thread.start();\r\n\r\n}\r\n```\r\n\r\n\r\nStill, don&#39;t expect a performance increase from this, all the threads read from the same (DB) disk, and that requires time.","title":"How to fetch 3 million records from database and generate CSV files","body":"<p>If you want to use several threads that do this for you I would use <code>OFFSET</code> and several queries (15 to be exact (3M/200K)).</p>\n<p>The first problem is creating the queries. This would be one way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int offset = 0;\nint incrementer = 200000; // 200k\nString baseQuery = &quot;SELECT ... FROM ... WHERE ... LIMIT 200000 OFFSET &quot;; // OFFSET must be supported by your DB for this to work.\n\nArrayList&lt;String&gt; queries = new ArrayList&lt;&gt;();\n\nint queryCount = 3000000 / incrementer;\n\nfor (int i = 0; i &lt; queryCount; i++) \n{\n    String tmpQuery = baseQuery + offset;\n    offset += incrementer;\n    \n    queries.add(tmpQuery);\n}\n</code></pre>\n<p>Now we got our queries. We should create a thread for each of them, where they will fetch the data and create your CSV files.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String query : queries)\n{\n    Runnable runnable = () -&gt;\n    {\n        // Use preparedStatement to create the query\n        // Fetch the data\n        // Write them to cv file\n        \n        // use query variable!\n    };\n    \n    Thread thread = new Thread(runnable);\n    thread.start();\n\n}\n</code></pre>\n<p>Still, don't expect a performance increase from this, all the threads read from the same (DB) disk, and that requires time.</p>\n"}],"owner":{"account_id":383332,"reputation":1147,"user_id":739115,"accept_rate":54,"display_name":"user739115"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1635490019,"accepted_answer_id":69764664,"answer_count":1,"score":-1,"last_activity_date":1635498135,"creation_date":1635489044,"question_id":69764557,"body_markdown":"I have 3 million records in the database. I want to fetch and create multiple csv files. Each csv file should have 0.2 million records. How can achieve this requirement in a faster way? How can we  achieve it using Multi-threading?","title":"How to fetch 3 million records from database and generate CSV files","body":"<p>I have 3 million records in the database. I want to fetch and create multiple csv files. Each csv file should have 0.2 million records. How can achieve this requirement in a faster way? How can we  achieve it using Multi-threading?</p>\n"},{"tags":["java","maven","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635498134,"creation_date":1635498134,"answer_id":69766213,"question_id":69766212,"body_markdown":"The most common reasons why a commercial jOOQ artifact cannot be resolved are:\r\n\r\n### Maven Central\r\n\r\nAs of jOOQ 3.15, the commercial edition is not published to Maven Central, but available only from the jOOQ website: https://www.jooq.org/download/versions. The distribution can be downloaded as a ZIP file, which contains scripts to publish the artifacts in a local repository (via `mvn install` or `mvn deploy`)\r\n\r\n### Maven `groupId` per edition\r\nThe `groupId` is incorrect for the free trial. These are the current Maven `groupId` values for each artifact, [as documented also here][1]:\r\n\r\n  - `org.jooq` for the Open Source Edition\r\n  - `org.jooq.pro` for commercial editions with the latest Java support (Java 17 for jOOQ 3.15)\r\n  - `org.jooq.pro-java-11` for commercial editions with Java 11 support\r\n  - `org.jooq.pro-java-8` for commercial editions with Java 8 support\r\n  - `org.jooq.pro-java-6` for commercial editions with Java 6 support (until jOOQ 3.14)\r\n  - `org.jooq.trial` for the free trial edition with the latest Java support (Java 17 for jOOQ 3.15)\r\n  - `org.jooq.trial-java-11` for the free trial edition with Java 11 support\r\n  - `org.jooq.trial-java-8` for the free trial edition with Java 8 support\r\n\r\n### Spring Boot\r\n\r\nSpring Boot offers starters that depend on the jOOQ Open Source Edition. If you&#39;re using Spring Boot with a commercial edition of jOOQ, you must make sure the Open Source Edition isn&#39;t included by the starter.\r\n\r\nOne way to achieve that is to exclude it explicitly from the Maven dependency of the starter, [as documented also in this blog post][2]:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-jooq&lt;/artifactId&gt;\r\n \r\n  &lt;!-- Exclude the jOOQ Open Source Edition --&gt;\r\n  &lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n      &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jooq&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n  &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-maven/\r\n  [2]: https://blog.jooq.org/how-to-use-jooqs-commercial-distributions-with-spring-boot/","title":"Plugin org.jooq.pro:jooq-codegen-maven or one of its dependencies could not be resolved","body":"<p>The most common reasons why a commercial jOOQ artifact cannot be resolved are:</p>\n<h3>Maven Central</h3>\n<p>As of jOOQ 3.15, the commercial edition is not published to Maven Central, but available only from the jOOQ website: <a href=\"https://www.jooq.org/download/versions\" rel=\"nofollow noreferrer\">https://www.jooq.org/download/versions</a>. The distribution can be downloaded as a ZIP file, which contains scripts to publish the artifacts in a local repository (via <code>mvn install</code> or <code>mvn deploy</code>)</p>\n<h3>Maven <code>groupId</code> per edition</h3>\n<p>The <code>groupId</code> is incorrect for the free trial. These are the current Maven <code>groupId</code> values for each artifact, <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-maven/\" rel=\"nofollow noreferrer\">as documented also here</a>:</p>\n<ul>\n<li><code>org.jooq</code> for the Open Source Edition</li>\n<li><code>org.jooq.pro</code> for commercial editions with the latest Java support (Java 17 for jOOQ 3.15)</li>\n<li><code>org.jooq.pro-java-11</code> for commercial editions with Java 11 support</li>\n<li><code>org.jooq.pro-java-8</code> for commercial editions with Java 8 support</li>\n<li><code>org.jooq.pro-java-6</code> for commercial editions with Java 6 support (until jOOQ 3.14)</li>\n<li><code>org.jooq.trial</code> for the free trial edition with the latest Java support (Java 17 for jOOQ 3.15)</li>\n<li><code>org.jooq.trial-java-11</code> for the free trial edition with Java 11 support</li>\n<li><code>org.jooq.trial-java-8</code> for the free trial edition with Java 8 support</li>\n</ul>\n<h3>Spring Boot</h3>\n<p>Spring Boot offers starters that depend on the jOOQ Open Source Edition. If you're using Spring Boot with a commercial edition of jOOQ, you must make sure the Open Source Edition isn't included by the starter.</p>\n<p>One way to achieve that is to exclude it explicitly from the Maven dependency of the starter, <a href=\"https://blog.jooq.org/how-to-use-jooqs-commercial-distributions-with-spring-boot/\" rel=\"nofollow noreferrer\">as documented also in this blog post</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-jooq&lt;/artifactId&gt;\n \n  &lt;!-- Exclude the jOOQ Open Source Edition --&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n      &lt;artifactId&gt;jooq&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69766213,"answer_count":1,"score":2,"last_activity_date":1635498134,"creation_date":1635498134,"question_id":69766212,"body_markdown":"I&#39;m setting up the [free trial of jOOQ][1]&#39;s commercial edition with the below dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt; \r\n    &lt;groupId&gt;org.jooq.pro-java-8&lt;/groupId&gt; \r\n    &lt;artifactId&gt;jooq&lt;/artifactId&gt; \r\n    &lt;version&gt;3.15.3&lt;/version&gt; \r\n&lt;/dependency&gt; \r\n&lt;dependency&gt; \r\n    &lt;groupId&gt;org.jooq.pro-java-8&lt;/groupId&gt; \r\n    &lt;artifactId&gt;jooq-meta&lt;/artifactId&gt; \r\n    &lt;version&gt;3.15.3&lt;/version&gt; \r\n&lt;/dependency&gt; \r\n&lt;dependency&gt; \r\n    &lt;groupId&gt;org.jooq.pro-java-8&lt;/groupId&gt; \r\n    &lt;artifactId&gt;jooq-codegen&lt;/artifactId&gt; \r\n    &lt;version&gt;3.15.3&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd the code generator plugin:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jooq.pro-java-8&lt;/groupId&gt; \r\n    &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;3.15.3&lt;/version&gt; \r\n&lt;/plugin&gt;\r\n```\r\n\r\nHowever, I&#39;m getting the following error:\r\n\r\n&gt; [ERROR] Plugin org.jooq.pro-java-8:jooq-codegen-maven:3.15.3 or one of its dependencies could not be resolved: Could not find artifact org.jooq.pro-java-8:jooq-codegen-maven:jar:3.15.3 in central (https://repo.maven.apache.org/maven2)\r\n\r\nWhat could be the reason?\r\n\r\n*(Note, I&#39;m asking this question to to document the jOOQ commercial edition specific answer here on Stack Overflow, as this has been a common support request from users, and [as this is encouraged by Stack Overflow][2]).*\r\n\r\n\r\n  [1]: https://www.jooq.org/download/\r\n  [2]: https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/","title":"Plugin org.jooq.pro:jooq-codegen-maven or one of its dependencies could not be resolved","body":"<p>I'm setting up the <a href=\"https://www.jooq.org/download/\" rel=\"nofollow noreferrer\">free trial of jOOQ</a>'s commercial edition with the below dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt; \n    &lt;groupId&gt;org.jooq.pro-java-8&lt;/groupId&gt; \n    &lt;artifactId&gt;jooq&lt;/artifactId&gt; \n    &lt;version&gt;3.15.3&lt;/version&gt; \n&lt;/dependency&gt; \n&lt;dependency&gt; \n    &lt;groupId&gt;org.jooq.pro-java-8&lt;/groupId&gt; \n    &lt;artifactId&gt;jooq-meta&lt;/artifactId&gt; \n    &lt;version&gt;3.15.3&lt;/version&gt; \n&lt;/dependency&gt; \n&lt;dependency&gt; \n    &lt;groupId&gt;org.jooq.pro-java-8&lt;/groupId&gt; \n    &lt;artifactId&gt;jooq-codegen&lt;/artifactId&gt; \n    &lt;version&gt;3.15.3&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>And the code generator plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jooq.pro-java-8&lt;/groupId&gt; \n    &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\n    &lt;version&gt;3.15.3&lt;/version&gt; \n&lt;/plugin&gt;\n</code></pre>\n<p>However, I'm getting the following error:</p>\n<blockquote>\n<p>[ERROR] Plugin org.jooq.pro-java-8:jooq-codegen-maven:3.15.3 or one of its dependencies could not be resolved: Could not find artifact org.jooq.pro-java-8:jooq-codegen-maven:jar:3.15.3 in central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>)</p>\n</blockquote>\n<p>What could be the reason?</p>\n<p><em>(Note, I'm asking this question to to document the jOOQ commercial edition specific answer here on Stack Overflow, as this has been a common support request from users, and <a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/\">as this is encouraged by Stack Overflow</a>).</em></p>\n"},{"tags":["java","swing","jframe"],"answers":[{"tags":[],"owner":{"display_name":"user1181445"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330466150,"creation_date":1330465687,"answer_id":9490261,"question_id":9490126,"body_markdown":"If you haven&#39;t already, using the MouseInfo class will get the x and y position.\r\n\r\n    Point location = MouseInfo.getPointerInfo().getLocation(); \r\n\r\nYou specified that you want to use a JFrame in this case, so setting the location of the JFrame to this x and y point will do so.\r\n\r\n    \r\n    Point location = MouseInfo.getPointerInfo().getLocation(); \r\n    int x = (int) location.getX();\r\n    int y = (int) location.getY();\r\n    JFrame frame = new JFrame(); //this is just the initialization of the window\r\n    frame.setLocation(x, y);","title":"Open window on mouse co-ordinates","body":"<p>If you haven't already, using the MouseInfo class will get the x and y position.</p>\n\n<pre><code>Point location = MouseInfo.getPointerInfo().getLocation(); \n</code></pre>\n\n<p>You specified that you want to use a JFrame in this case, so setting the location of the JFrame to this x and y point will do so.</p>\n\n<pre><code>Point location = MouseInfo.getPointerInfo().getLocation(); \nint x = (int) location.getX();\nint y = (int) location.getY();\nJFrame frame = new JFrame(); //this is just the initialization of the window\nframe.setLocation(x, y);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23180659,"reputation":31,"user_id":17278526,"display_name":"Marcello Marianetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635497932,"creation_date":1635497932,"answer_id":69766167,"question_id":9490126,"body_markdown":"user1181445 was right, but I think you can set the frame location without creating the variables `x` and `y`:\r\n\r\n    Point location = MouseInfo.getPointerInfo().getLocation(); \r\n    JFrame frame = new JFrame(); //this is just the initialization of the window\r\n    frame.setLocation(location);","title":"Open window on mouse co-ordinates","body":"<p>user1181445 was right, but I think you can set the frame location without creating the variables <code>x</code> and <code>y</code>:</p>\n<pre><code>Point location = MouseInfo.getPointerInfo().getLocation(); \nJFrame frame = new JFrame(); //this is just the initialization of the window\nframe.setLocation(location);\n</code></pre>\n"}],"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1635497932,"creation_date":1330465015,"question_id":9490126,"body_markdown":"I was wondering if it was possible to open a window where the mouse currently is? I have the current mouse co-ordinate but am unable to find what to do with the x y values when displaying my window.\r\n\r\nHopefully someone could point me in the direction of the appropriate method.\r\n\r\nThanks","title":"Open window on mouse co-ordinates","body":"<p>I was wondering if it was possible to open a window where the mouse currently is? I have the current mouse co-ordinate but am unable to find what to do with the x y values when displaying my window.</p>\n\n<p>Hopefully someone could point me in the direction of the appropriate method.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1906088,"reputation":2053,"user_id":1720938,"accept_rate":68,"display_name":"hamid"},"score":0,"creation_date":1635495833,"post_id":69765688,"comment_id":123318968,"body_markdown":"do you mean: an employee with salary &gt; 0  ?","body":"do you mean: an employee with salary &gt; 0  ?"}],"answers":[{"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635497892,"creation_date":1635497443,"answer_id":69766064,"question_id":69765688,"body_markdown":"you need to change the query like below.\r\n\r\n    @Override\r\n    public Optional&lt;Employee&gt; findByIdWithSalary(Long empNo) {\r\n        this.entityManager.createQuery(&quot;select * from employees e left join e.empNo=s.empNo where s.salary &gt;0&quot;);\r\n        try {\r\n            return Optional.ofNullable(this.entityManager.find(Employee.class, empNo));\r\n        } catch (EmptyResultDataAccessException e) {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n\r\nif it does not working send your entity classes. we can do the same with that also.","title":"how to find an employee that has salaries with jpa hibernate","body":"<p>you need to change the query like below.</p>\n<pre><code>@Override\npublic Optional&lt;Employee&gt; findByIdWithSalary(Long empNo) {\n    this.entityManager.createQuery(&quot;select * from employees e left join e.empNo=s.empNo where s.salary &gt;0&quot;);\n    try {\n        return Optional.ofNullable(this.entityManager.find(Employee.class, empNo));\n    } catch (EmptyResultDataAccessException e) {\n        return Optional.empty();\n    }\n}\n</code></pre>\n<p>if it does not working send your entity classes. we can do the same with that also.</p>\n"}],"owner":{"account_id":23023481,"reputation":73,"user_id":17144150,"display_name":"Taulant Fazliu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69766064,"answer_count":1,"score":0,"last_activity_date":1635497892,"creation_date":1635495503,"question_id":69765688,"body_markdown":"I have a method that returns an Employee by Id with a simple `entitymanager.find(id)` but now I need to find an employee by `id` that has a salary assigned to it, (the classes `Employee` and `Salary` are mapped through `OneToMany`), should I use an `entityManager.find()` or `entityManager.createQuery()`?\r\n\r\n```java\r\n@Override\r\npublic Optional&lt;Employee&gt; findById(Long emptNo) {\r\n\ttry {\r\n\t\treturn Optional.ofNullable(this.entityManager.find(Employee.class, emptNo));\r\n\t} catch (EmptyResultDataAccessException e) {\r\n\t\treturn Optional.empty();\r\n\t}\r\n}\r\n```\r\n#### This is where i need help:\r\n```java\r\n@Override\r\npublic Optional&lt;Employee&gt; findByIdWithSalary(Long empNo) {\r\n\tthis.entityManager.createQuery(&quot;select (e.empNo,s.salary,s.fromDate,s.toDate) as from employees e, salaries s where e.empNo=s.empNo&quot;);\r\n\ttry {\r\n\t\treturn Optional.ofNullable(this.entityManager.find(Employee.class, empNo));\r\n\t} catch (EmptyResultDataAccessException e) {\r\n\t\treturn Optional.empty();\r\n\t}\r\n}    \r\n```","title":"how to find an employee that has salaries with jpa hibernate","body":"<p>I have a method that returns an Employee by Id with a simple <code>entitymanager.find(id)</code> but now I need to find an employee by <code>id</code> that has a salary assigned to it, (the classes <code>Employee</code> and <code>Salary</code> are mapped through <code>OneToMany</code>), should I use an <code>entityManager.find()</code> or <code>entityManager.createQuery()</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Optional&lt;Employee&gt; findById(Long emptNo) {\n    try {\n        return Optional.ofNullable(this.entityManager.find(Employee.class, emptNo));\n    } catch (EmptyResultDataAccessException e) {\n        return Optional.empty();\n    }\n}\n</code></pre>\n<h4>This is where i need help:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Optional&lt;Employee&gt; findByIdWithSalary(Long empNo) {\n    this.entityManager.createQuery(&quot;select (e.empNo,s.salary,s.fromDate,s.toDate) as from employees e, salaries s where e.empNo=s.empNo&quot;);\n    try {\n        return Optional.ofNullable(this.entityManager.find(Employee.class, empNo));\n    } catch (EmptyResultDataAccessException e) {\n        return Optional.empty();\n    }\n}    \n</code></pre>\n"},{"tags":["java","android","validation","onactivityresult"],"comments":[{"owner":{"account_id":16285599,"reputation":574,"user_id":11760447,"display_name":"Nadim Ansari"},"score":0,"creation_date":1635530968,"post_id":69765327,"comment_id":123332398,"body_markdown":"Hey Rick!! Did you get answer?","body":"Hey Rick!! Did you get answer?"},{"owner":{"account_id":2344485,"reputation":2741,"user_id":3518278,"accept_rate":92,"display_name":"usr30911"},"score":0,"creation_date":1635944953,"post_id":69765327,"comment_id":123426374,"body_markdown":"Glad it worked, accept the answer and close the question. Cheers.","body":"Glad it worked, accept the answer and close the question. Cheers."}],"answers":[{"tags":[],"owner":{"account_id":13977436,"reputation":11,"user_id":10094498,"display_name":"Alexandre Reis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635495196,"creation_date":1635495196,"answer_id":69765619,"question_id":69765327,"body_markdown":"I&#39;ve noticed that you&#39;re comparing the value of requestCode with `IMAGE_REQUEST` and next with `IMAGE_REQUEST_2`.\r\n\r\nAfter that in the section where your code breaks, you&#39;re comparing both in one line. But I believe that this will never work since the requestCode has only one value, and you&#39;re comparing it with two different values [IMAGE_REQUEST, IMAGE_REQUEST_2]\r\n\r\n\r\nI suggest you to add the IMAGE_REQUEST_2 and the IMAGE_REQUEST to an array everytime you take a photo with that button.\r\n\r\nAnd then comparing if both values exist in that array, if so you do what you want.\r\n\r\nLike that:\r\n\r\n    ImageView imageV, imageV2;\r\n    Button btn1, btn2;\r\n    static final int IMAGE_REQUEST = 1;\r\n    static final int IMAGE_REQUEST_2 = 2;\r\n    private static final int PERMISSION_REQUEST = 2;\r\n    \r\n    // creates a new list to store the photos taken\r\n    List&lt;int&gt; requestsMade = new ArrayList&lt;int&gt;();\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n    imageV = findViewById(R.id.image_view);\r\n    imageV2 = findViewById(R.id.image_view_2);\r\n    btn1= findViewById(R.id.button_1);\r\n    btn2= findViewById(R.id.button_2);\r\n    \r\n    btn1.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n           Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n           if (camara.resolveActivity(getPackageManager()) != null) {\r\n              startActivityForResult(camara, IMAGE_REQUEST);\r\n           }\r\n        }\r\n    });\r\n    \r\n    btn2.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n           Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n           if (camara.resolveActivity(getPackageManager()) != null) {\r\n              startActivityForResult(camara, IMAGE_REQUEST_2);\r\n           }\r\n        }\r\n     });\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == IMAGE_REQUEST) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n          \r\n            imageV.setImageResource(R.drawable.image_view_2do);\r\n            // first photo taken\r\n            requestsMade.add(IMAGE_REQUEST);\r\n    \r\n        }\r\n        else if (requestCode == IMAGE_REQUEST_2) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n            \r\n                imageV2.setImageResource(R.drawable.image_view2_2do);\r\n                requestsMade.add(IMAGE_REQUEST_2);\r\n                // second photo taken\r\n    \r\n            }\r\n        }\r\n        // now this compares if both are taken\r\n        else if (requestsMade.contains(IMAGE_REQUEST) &amp;&amp; requestsMade.contains(IMAGE_REQUEST_2)) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                imageV.setImageResource(R.drawable.image_view_2do);\r\n                imageV2.setImageResource(R.drawable.image_view2_2do);\r\n            }\r\n        }\r\n     }\r\n    }","title":"Validate buttons after taking a picture in Android","body":"<p>I've noticed that you're comparing the value of requestCode with <code>IMAGE_REQUEST</code> and next with <code>IMAGE_REQUEST_2</code>.</p>\n<p>After that in the section where your code breaks, you're comparing both in one line. But I believe that this will never work since the requestCode has only one value, and you're comparing it with two different values [IMAGE_REQUEST, IMAGE_REQUEST_2]</p>\n<p>I suggest you to add the IMAGE_REQUEST_2 and the IMAGE_REQUEST to an array everytime you take a photo with that button.</p>\n<p>And then comparing if both values exist in that array, if so you do what you want.</p>\n<p>Like that:</p>\n<pre><code>ImageView imageV, imageV2;\nButton btn1, btn2;\nstatic final int IMAGE_REQUEST = 1;\nstatic final int IMAGE_REQUEST_2 = 2;\nprivate static final int PERMISSION_REQUEST = 2;\n\n// creates a new list to store the photos taken\nList&lt;int&gt; requestsMade = new ArrayList&lt;int&gt;();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\nimageV = findViewById(R.id.image_view);\nimageV2 = findViewById(R.id.image_view_2);\nbtn1= findViewById(R.id.button_1);\nbtn2= findViewById(R.id.button_2);\n\nbtn1.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n       Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n       if (camara.resolveActivity(getPackageManager()) != null) {\n          startActivityForResult(camara, IMAGE_REQUEST);\n       }\n    }\n});\n\nbtn2.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n       Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n       if (camara.resolveActivity(getPackageManager()) != null) {\n          startActivityForResult(camara, IMAGE_REQUEST_2);\n       }\n    }\n });\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == IMAGE_REQUEST) {\n        if (resultCode == Activity.RESULT_OK) {\n      \n        imageV.setImageResource(R.drawable.image_view_2do);\n        // first photo taken\n        requestsMade.add(IMAGE_REQUEST);\n\n    }\n    else if (requestCode == IMAGE_REQUEST_2) {\n        if (resultCode == Activity.RESULT_OK) {\n        \n            imageV2.setImageResource(R.drawable.image_view2_2do);\n            requestsMade.add(IMAGE_REQUEST_2);\n            // second photo taken\n\n        }\n    }\n    // now this compares if both are taken\n    else if (requestsMade.contains(IMAGE_REQUEST) &amp;&amp; requestsMade.contains(IMAGE_REQUEST_2)) {\n        if (resultCode == Activity.RESULT_OK) {\n            imageV.setImageResource(R.drawable.image_view_2do);\n            imageV2.setImageResource(R.drawable.image_view2_2do);\n        }\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2344485,"reputation":2741,"user_id":3518278,"accept_rate":92,"display_name":"usr30911"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635497032,"creation_date":1635495248,"answer_id":69765634,"question_id":69765327,"body_markdown":"\r\nMaintain 2 boolean variables \r\n\r\nboolean isPictureTakenBtn1, isPictureTakenBtn2;\r\n\r\n\r\nThen in onActivityResult update the variables accordingly\r\n\r\n\r\n \r\n\r\n      onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        Uri selectedImage = null;\r\n        boolean isPictureTakenBtn1, isPictureTakenBtn2;\r\n    \r\n        if (requestCode == IMAGE_REQUEST) {\r\n            if (resultCode == RESULT_OK) {                \r\n                isPictureTakenBtn1 = true;\r\n            } else if (resultCode == RESULT_CANCELED) {\r\n                isPictureTakenBtn1 = false;\r\n                Toast.makeText(this, &quot;Picture was not taken&quot;, Toast.LENGTH_SHORT);\r\n            } else {\r\n                isPictureTakenBtn1 = false;\r\n                Toast.makeText(this, &quot;Picture was not taken&quot;, Toast.LENGTH_SHORT);\r\n            }\r\n        } else if (requestCode == IMAGE_REQUEST_2) {\r\n            if (resultCode == RESULT_OK) {            \r\n                isPictureTakenBtn2 = true;\r\n            } else if (resultCode == RESULT_CANCELED) {\r\n                isPictureTakenBtn2 = false;\r\n                Toast.makeText(this, &quot;Picture was not taken&quot;, Toast.LENGTH_SHORT);\r\n            } else {\r\n                isPictureTakenBtn2 = false;\r\n                Toast.makeText(this, &quot;Picture was not taken&quot;, Toast.LENGTH_SHORT);\r\n            }\r\n        }\r\n    \r\n        if (isPictureTakenBtn1) {\r\n            //picture capture from btn1 available, do something\r\n            /* if (data != null) {\r\n                            selectedImage = data.getData();\r\n                            InputStream in;\r\n                            try {\r\n                                in = getContentResolver().openInputStream(uri);\r\n                                Bitmap selected_img = BitmapFactory.decodeStream(in);\r\n                                imageV.setImageBitmap(selected_img);\r\n                            } catch (FileNotFoundException e) {\r\n                                e.printStackTrace();\r\n                                Toast.makeText(this, &quot;An error occured!&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }*/\r\n        }\r\n        if (isPictureTakenBtn2) {\r\n            //picture capture from btn2 available, do something\r\n            /* if (data != null) {\r\n                            selectedImage = data.getData();\r\n                            InputStream in;\r\n                            try {\r\n                                in = getContentResolver().openInputStream(uri);\r\n                                Bitmap selected_img = BitmapFactory.decodeStream(in);\r\n                                imageV2.setImageBitmap(selected_img);\r\n                            } catch (FileNotFoundException e) {\r\n                                e.printStackTrace();\r\n                                Toast.makeText(this, &quot;An error occured!&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }*/\r\n        }\r\n    }\r\n\r\nNow you can use these boolean values to check if the image was successfully captured and execute your remaining code logic as needed.","title":"Validate buttons after taking a picture in Android","body":"<p>Maintain 2 boolean variables</p>\n<p>boolean isPictureTakenBtn1, isPictureTakenBtn2;</p>\n<p>Then in onActivityResult update the variables accordingly</p>\n<pre><code>  onActivityResult(int requestCode, int resultCode, Intent data) {\n    Uri selectedImage = null;\n    boolean isPictureTakenBtn1, isPictureTakenBtn2;\n\n    if (requestCode == IMAGE_REQUEST) {\n        if (resultCode == RESULT_OK) {                \n            isPictureTakenBtn1 = true;\n        } else if (resultCode == RESULT_CANCELED) {\n            isPictureTakenBtn1 = false;\n            Toast.makeText(this, &quot;Picture was not taken&quot;, Toast.LENGTH_SHORT);\n        } else {\n            isPictureTakenBtn1 = false;\n            Toast.makeText(this, &quot;Picture was not taken&quot;, Toast.LENGTH_SHORT);\n        }\n    } else if (requestCode == IMAGE_REQUEST_2) {\n        if (resultCode == RESULT_OK) {            \n            isPictureTakenBtn2 = true;\n        } else if (resultCode == RESULT_CANCELED) {\n            isPictureTakenBtn2 = false;\n            Toast.makeText(this, &quot;Picture was not taken&quot;, Toast.LENGTH_SHORT);\n        } else {\n            isPictureTakenBtn2 = false;\n            Toast.makeText(this, &quot;Picture was not taken&quot;, Toast.LENGTH_SHORT);\n        }\n    }\n\n    if (isPictureTakenBtn1) {\n        //picture capture from btn1 available, do something\n        /* if (data != null) {\n                        selectedImage = data.getData();\n                        InputStream in;\n                        try {\n                            in = getContentResolver().openInputStream(uri);\n                            Bitmap selected_img = BitmapFactory.decodeStream(in);\n                            imageV.setImageBitmap(selected_img);\n                        } catch (FileNotFoundException e) {\n                            e.printStackTrace();\n                            Toast.makeText(this, &quot;An error occured!&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }*/\n    }\n    if (isPictureTakenBtn2) {\n        //picture capture from btn2 available, do something\n        /* if (data != null) {\n                        selectedImage = data.getData();\n                        InputStream in;\n                        try {\n                            in = getContentResolver().openInputStream(uri);\n                            Bitmap selected_img = BitmapFactory.decodeStream(in);\n                            imageV2.setImageBitmap(selected_img);\n                        } catch (FileNotFoundException e) {\n                            e.printStackTrace();\n                            Toast.makeText(this, &quot;An error occured!&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }*/\n    }\n}\n</code></pre>\n<p>Now you can use these boolean values to check if the image was successfully captured and execute your remaining code logic as needed.</p>\n"}],"owner":{"account_id":13393533,"reputation":25,"user_id":9665227,"display_name":"Rick V"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69765634,"answer_count":2,"score":1,"last_activity_date":1635497873,"creation_date":1635493617,"question_id":69765327,"body_markdown":"Button validation after taking a picture in Android.\r\nIn my activity I have implemented two imageview(imageview1 and imageview2) with default images and two buttons(button1 and button2) that open the device camera, when the photo is taken from a button a validation is done to change the image view image(button1 -&gt; imageview1, button2 -&gt; imageview2). \r\n\r\n\r\nI want to do a third validation where it validates that the photo has already been taken from the two buttons.\r\n\r\n**How can I validate when the photos are already taken on the two buttons?**\r\n\r\n*This is the code I have*\r\n\r\n    ImageView imageV, imageV2;\r\n    Button btn1, btn2;\r\n    static final int IMAGE_REQUEST = 1;\r\n    static final int IMAGE_REQUEST_2 = 2;\r\n    private static final int PERMISSION_REQUEST = 2;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    imageV = findViewById(R.id.image_view);\r\n    imageV2 = findViewById(R.id.image_view_2);\r\n    btn1= findViewById(R.id.button_1);\r\n    btn2= findViewById(R.id.button_2);\r\n\r\n    btn1.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n           Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n           if (camara.resolveActivity(getPackageManager()) != null) {\r\n              startActivityForResult(camara, IMAGE_REQUEST);\r\n           }\r\n        }\r\n    });\r\n\r\n    btn2.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n           Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n           if (camara.resolveActivity(getPackageManager()) != null) {\r\n              startActivityForResult(camara, IMAGE_REQUEST_2);\r\n           }\r\n        }\r\n     });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == IMAGE_REQUEST) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n          \r\n            imageV.setImageResource(R.drawable.image_view_2do);\r\n\r\n        }\r\n        else if (requestCode == IMAGE_REQUEST_2) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n            \r\n                imageV2.setImageResource(R.drawable.image_view2_2do);\r\n            }\r\n        }\r\n        // This is where the code fails me \r\n        //how can I validate if the photos are already taken on the two buttons?\r\n        else if (requestCode == IMAGE_REQUEST &amp;&amp; requestCode == IMAGE_REQUEST_2) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                imageV.setImageResource(R.drawable.image_view_2do);\r\n                imageV2.setImageResource(R.drawable.image_view2_2do);\r\n            }\r\n        }\r\n     }\r\n    }","title":"Validate buttons after taking a picture in Android","body":"<p>Button validation after taking a picture in Android.\nIn my activity I have implemented two imageview(imageview1 and imageview2) with default images and two buttons(button1 and button2) that open the device camera, when the photo is taken from a button a validation is done to change the image view image(button1 -&gt; imageview1, button2 -&gt; imageview2).</p>\n<p>I want to do a third validation where it validates that the photo has already been taken from the two buttons.</p>\n<p><strong>How can I validate when the photos are already taken on the two buttons?</strong></p>\n<p><em>This is the code I have</em></p>\n<pre><code>ImageView imageV, imageV2;\nButton btn1, btn2;\nstatic final int IMAGE_REQUEST = 1;\nstatic final int IMAGE_REQUEST_2 = 2;\nprivate static final int PERMISSION_REQUEST = 2;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\nimageV = findViewById(R.id.image_view);\nimageV2 = findViewById(R.id.image_view_2);\nbtn1= findViewById(R.id.button_1);\nbtn2= findViewById(R.id.button_2);\n\nbtn1.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n       Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n       if (camara.resolveActivity(getPackageManager()) != null) {\n          startActivityForResult(camara, IMAGE_REQUEST);\n       }\n    }\n});\n\nbtn2.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n       Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n       if (camara.resolveActivity(getPackageManager()) != null) {\n          startActivityForResult(camara, IMAGE_REQUEST_2);\n       }\n    }\n });\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == IMAGE_REQUEST) {\n        if (resultCode == Activity.RESULT_OK) {\n      \n        imageV.setImageResource(R.drawable.image_view_2do);\n\n    }\n    else if (requestCode == IMAGE_REQUEST_2) {\n        if (resultCode == Activity.RESULT_OK) {\n        \n            imageV2.setImageResource(R.drawable.image_view2_2do);\n        }\n    }\n    // This is where the code fails me \n    //how can I validate if the photos are already taken on the two buttons?\n    else if (requestCode == IMAGE_REQUEST &amp;&amp; requestCode == IMAGE_REQUEST_2) {\n        if (resultCode == Activity.RESULT_OK) {\n            imageV.setImageResource(R.drawable.image_view_2do);\n            imageV2.setImageResource(R.drawable.image_view2_2do);\n        }\n    }\n }\n}\n</code></pre>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1635503342,"post_id":69766118,"comment_id":123321755,"body_markdown":"The `onActivityResult` signature is not right - e.g. try using `@Override` and verify it produces an error.  Where did you find that signature?  Depending on what you want, you either can use the `LatLng` in the long press or the user&#39;s current position - both of which you can get. Recommend removing the `LatLng` parameter in `onActivityResult`, verify it is invoked, @Override doesn&#39;t produce error and use `LatLng` from one of the two sources mentioned.","body":"The <code>onActivityResult</code> signature is not right - e.g. try using <code>@Override</code> and verify it produces an error.  Where did you find that signature?  Depending on what you want, you either can use the <code>LatLng</code> in the long press or the user&#39;s current position - both of which you can get. Recommend removing the <code>LatLng</code> parameter in <code>onActivityResult</code>, verify it is invoked, @Override doesn&#39;t produce error and use <code>LatLng</code> from one of the two sources mentioned."}],"owner":{"account_id":1876738,"reputation":685,"user_id":1697806,"accept_rate":43,"display_name":"Allrounder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635497692,"creation_date":1635497692,"question_id":69766118,"body_markdown":"Okay so what I am trying to do is to long click on my map and then take a photo using the camera intent and then return that photo as a marker on the point of the map where the user &quot;long Clicked&quot;\r\n\r\nWhat works is the long click and then taking the picture.\r\nWhat does not work is returning that image to the map as a marker.\r\n\r\nThis is what I am using to add the marker and take the image using the camera:\r\n \r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        LatLng mylocation = new LatLng(-xx.xxxx, xx.xxxx);\r\n        mMap.addMarker(new MarkerOptions().position(mylocation).title(&quot;Marker in mylocation&quot;));\r\n        CameraPosition cameraPosition = new CameraPosition.Builder().target(mylocation).zoom(12).build();\r\n        mMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\r\n        googleMap.setOnMapLongClickListener(new GoogleMap.OnMapLongClickListener() {\r\n\r\n            @Override\r\n            public void onMapLongClick(LatLng latLng) {\r\n                StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\r\n                StrictMode.setVmPolicy(builder.build());\r\n                root = Environment.getExternalStorageDirectory().toString() + &quot;/My Folder&quot;;\r\n                imageFolderPath = root + &quot;/saved_images&quot;;\r\n                File imagesFolder = new File(imageFolderPath);\r\n                imagesFolder.mkdirs();\r\n                imageName = &quot;test.png&quot;;\r\n                File image = new File(imageFolderPath, imageName);\r\n                fileUri = Uri.fromFile(image);\r\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\r\n                startActivityForResult(takePictureIntent, TAKE_PICTURE);\r\n            }\r\n            public void onActivityResult(int requestCode, int resultCode, Intent data, LatLng latlng) {\r\n                if (requestCode == TAKE_PICTURE &amp;&amp; resultCode == RESULT_OK) {\r\n\r\n                    try {\r\n                        GetImageThumbnail getImageThumbnail = new GetImageThumbnail();\r\n                        bitmap = getImageThumbnail.getThumbnail(fileUri, this);\r\n                    } catch (FileNotFoundException e1) {\r\n                        e1.printStackTrace();\r\n                    } catch (IOException e1) {\r\n                        e1.printStackTrace();\r\n                    }\r\n\r\n                    MarkerOptions markerOptions = new MarkerOptions()\r\n                            .position(latlng)\r\n                            .icon(BitmapDescriptorFactory.fromBitmap(bitmap));\r\n                    googleMap.addMarker(markerOptions);\r\n                }\r\n            }\r\n        });\r\n \r\nAnd this is the GetImageThumbnail Class:\r\n\r\n    public class GetImageThumbnail {\r\n\r\n    private static int getPowerOfTwoForSampleRatio(double ratio) {\r\n        int k = Integer.highestOneBit((int) Math.floor(ratio));\r\n        if (k == 0)\r\n            return 1;\r\n        else\r\n            return k;\r\n    }\r\n\r\n    public Bitmap getThumbnail(Uri uri, GoogleMap.OnMapLongClickListener test)\r\n            throws FileNotFoundException, IOException {\r\n        InputStream input = ((Context) test).getContentResolver().openInputStream(uri);\r\n\r\n        BitmapFactory.Options onlyBoundsOptions = new BitmapFactory.Options();\r\n        onlyBoundsOptions.inJustDecodeBounds = true;\r\n        onlyBoundsOptions.inDither = true;// optional\r\n        onlyBoundsOptions.inPreferredConfig = Bitmap.Config.ARGB_8888;// optional\r\n        BitmapFactory.decodeStream(input, null, onlyBoundsOptions);\r\n        input.close();\r\n        if ((onlyBoundsOptions.outWidth == -2)\r\n                || (onlyBoundsOptions.outHeight == -2))\r\n            return null;\r\n\r\n        int originalSize = Math.max(onlyBoundsOptions.outHeight, onlyBoundsOptions.outWidth);\r\n\r\n        double ratio = (originalSize &gt; 200) ? (originalSize / 175) : 0.5;\r\n\r\n        BitmapFactory.Options bitmapOptions = new BitmapFactory.Options();\r\n        bitmapOptions.inSampleSize = getPowerOfTwoForSampleRatio(ratio);\r\n        bitmapOptions.inDither = true;\r\n        bitmapOptions.inPreferredConfig = Bitmap.Config.ARGB_8888;// optional\r\n        input = ((Context) test).getContentResolver().openInputStream(uri);\r\n        Bitmap bitmap = BitmapFactory.decodeStream(input, null, bitmapOptions);\r\n        input.close();\r\n        return bitmap;\r\n      }\r\n    }\r\n\r\nAs I mentioned the camera intent launches and I can take a picture, but after the picture has been taken it returns to the map but with no marker?  There are also no error messages or anything I can find as to why its not displaying the marker/image.\r\n\r\nI am sure I am doing something wrong here but can&#39;t figure out what?\r\n\r\nThanks","title":"How can I get an image taken from my camera and add it as a marker on google maps?","body":"<p>Okay so what I am trying to do is to long click on my map and then take a photo using the camera intent and then return that photo as a marker on the point of the map where the user &quot;long Clicked&quot;</p>\n<p>What works is the long click and then taking the picture.\nWhat does not work is returning that image to the map as a marker.</p>\n<p>This is what I am using to add the marker and take the image using the camera:</p>\n<pre><code>@Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n\n    LatLng mylocation = new LatLng(-xx.xxxx, xx.xxxx);\n    mMap.addMarker(new MarkerOptions().position(mylocation).title(&quot;Marker in mylocation&quot;));\n    CameraPosition cameraPosition = new CameraPosition.Builder().target(mylocation).zoom(12).build();\n    mMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\n    googleMap.setOnMapLongClickListener(new GoogleMap.OnMapLongClickListener() {\n\n        @Override\n        public void onMapLongClick(LatLng latLng) {\n            StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\n            StrictMode.setVmPolicy(builder.build());\n            root = Environment.getExternalStorageDirectory().toString() + &quot;/My Folder&quot;;\n            imageFolderPath = root + &quot;/saved_images&quot;;\n            File imagesFolder = new File(imageFolderPath);\n            imagesFolder.mkdirs();\n            imageName = &quot;test.png&quot;;\n            File image = new File(imageFolderPath, imageName);\n            fileUri = Uri.fromFile(image);\n            Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n            takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\n            startActivityForResult(takePictureIntent, TAKE_PICTURE);\n        }\n        public void onActivityResult(int requestCode, int resultCode, Intent data, LatLng latlng) {\n            if (requestCode == TAKE_PICTURE &amp;&amp; resultCode == RESULT_OK) {\n\n                try {\n                    GetImageThumbnail getImageThumbnail = new GetImageThumbnail();\n                    bitmap = getImageThumbnail.getThumbnail(fileUri, this);\n                } catch (FileNotFoundException e1) {\n                    e1.printStackTrace();\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                }\n\n                MarkerOptions markerOptions = new MarkerOptions()\n                        .position(latlng)\n                        .icon(BitmapDescriptorFactory.fromBitmap(bitmap));\n                googleMap.addMarker(markerOptions);\n            }\n        }\n    });\n</code></pre>\n<p>And this is the GetImageThumbnail Class:</p>\n<pre><code>public class GetImageThumbnail {\n\nprivate static int getPowerOfTwoForSampleRatio(double ratio) {\n    int k = Integer.highestOneBit((int) Math.floor(ratio));\n    if (k == 0)\n        return 1;\n    else\n        return k;\n}\n\npublic Bitmap getThumbnail(Uri uri, GoogleMap.OnMapLongClickListener test)\n        throws FileNotFoundException, IOException {\n    InputStream input = ((Context) test).getContentResolver().openInputStream(uri);\n\n    BitmapFactory.Options onlyBoundsOptions = new BitmapFactory.Options();\n    onlyBoundsOptions.inJustDecodeBounds = true;\n    onlyBoundsOptions.inDither = true;// optional\n    onlyBoundsOptions.inPreferredConfig = Bitmap.Config.ARGB_8888;// optional\n    BitmapFactory.decodeStream(input, null, onlyBoundsOptions);\n    input.close();\n    if ((onlyBoundsOptions.outWidth == -2)\n            || (onlyBoundsOptions.outHeight == -2))\n        return null;\n\n    int originalSize = Math.max(onlyBoundsOptions.outHeight, onlyBoundsOptions.outWidth);\n\n    double ratio = (originalSize &gt; 200) ? (originalSize / 175) : 0.5;\n\n    BitmapFactory.Options bitmapOptions = new BitmapFactory.Options();\n    bitmapOptions.inSampleSize = getPowerOfTwoForSampleRatio(ratio);\n    bitmapOptions.inDither = true;\n    bitmapOptions.inPreferredConfig = Bitmap.Config.ARGB_8888;// optional\n    input = ((Context) test).getContentResolver().openInputStream(uri);\n    Bitmap bitmap = BitmapFactory.decodeStream(input, null, bitmapOptions);\n    input.close();\n    return bitmap;\n  }\n}\n</code></pre>\n<p>As I mentioned the camera intent launches and I can take a picture, but after the picture has been taken it returns to the map but with no marker?  There are also no error messages or anything I can find as to why its not displaying the marker/image.</p>\n<p>I am sure I am doing something wrong here but can't figure out what?</p>\n<p>Thanks</p>\n"},{"tags":["java","compiler-errors","system-tray"],"answers":[{"tags":[],"owner":{"account_id":23180604,"reputation":1,"user_id":17278477,"display_name":"nicole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635497413,"creation_date":1635497413,"answer_id":69766059,"question_id":67238127,"body_markdown":"Check your project path to make sure it&#39;s not under the &#39;Downloads&#39; directory.","title":"Execution failed for task &#39;:Main.main()&#39; - IntelliJ Gradle","body":"<p>Check your project path to make sure it's not under the 'Downloads' directory.</p>\n"}],"owner":{"account_id":19208994,"reputation":98,"user_id":14035203,"display_name":"AwesomeDude3247"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635497413,"creation_date":1619222889,"question_id":67238127,"body_markdown":"so I&#39;m trying to compile my gradle project, and am using intellij. I keep getting this error on compilation\r\n```\r\nExecution failed for task &#39;:Main.main()&#39;.\r\n&gt; Process &#39;command &#39;C:/Program Files/AdoptOpenJDK/jdk-15.0.2.7-hotspot/bin/java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n```\r\nAnd I have tried clearing cache and re-starting but nothing seems to work. [Here](https://pastebin.com/iuL70Efx) is the class that is throwing this error. \r\nIt worked when I had one system tray menu item, and when I added the about one it stopped working. I tried reverting it but still got the same error. Really confused.\r\n\r\nThanks in advance\r\n","title":"Execution failed for task &#39;:Main.main()&#39; - IntelliJ Gradle","body":"<p>so I'm trying to compile my gradle project, and am using intellij. I keep getting this error on compilation</p>\n<pre><code>Execution failed for task ':Main.main()'.\n&gt; Process 'command 'C:/Program Files/AdoptOpenJDK/jdk-15.0.2.7-hotspot/bin/java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n</code></pre>\n<p>And I have tried clearing cache and re-starting but nothing seems to work. <a href=\"https://pastebin.com/iuL70Efx\" rel=\"nofollow noreferrer\">Here</a> is the class that is throwing this error.\nIt worked when I had one system tray menu item, and when I added the about one it stopped working. I tried reverting it but still got the same error. Really confused.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635410336,"post_id":69750771,"comment_id":123292008,"body_markdown":"what gradle version are you using? @SanthoshKumar","body":"what gradle version are you using? @SanthoshKumar"},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1635410961,"post_id":69750771,"comment_id":123292284,"body_markdown":"Please add the full error log , this is not helpful for us , and make sure to add gradle version as well as build.gradle file .","body":"Please add the full error log , this is not helpful for us , and make sure to add gradle version as well as build.gradle file ."},{"owner":{"account_id":18976183,"reputation":11,"user_id":13848605,"display_name":"Santhosh Kumar"},"score":0,"creation_date":1635411418,"post_id":69750771,"comment_id":123292498,"body_markdown":"D:\\New folder\\Projects\\couponservice&gt;javac -version\njavac 16.0.1\n\nD:\\New folder\\Projects\\couponservice&gt;gradle -version\n\n------------------------------------------------------------\nGradle 7.2\n------------------------------------------------------------\n\nBuild time:   2021-08-17 09:59:03 UTC\nRevision:     a773786b58bb28710e3dc96c4d1a7063628952ad\n\nKotlin:       1.5.21\nGroovy:       3.0.8\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          16.0.1 (Oracle Corporation 16.0.1+9-24)\nOS:           Windows 10 10.0 amd64","body":"D:\\New folder\\Projects\\couponservice&gt;javac -version javac 16.0.1  D:\\New folder\\Projects\\couponservice&gt;gradle -version  ------------------------------------------------------------ Gradle 7.2 ------------------------------------------------------------  Build time:   2021-08-17 09:59:03 UTC Revision:     a773786b58bb28710e3dc96c4d1a7063628952ad  Kotlin:       1.5.21 Groovy:       3.0.8 Ant:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020 JVM:          16.0.1 (Oracle Corporation 16.0.1+9-24) OS:           Windows 10 10.0 amd64"},{"owner":{"account_id":18976183,"reputation":11,"user_id":13848605,"display_name":"Santhosh Kumar"},"score":0,"creation_date":1635411781,"post_id":69750771,"comment_id":123292655,"body_markdown":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]***********************Web server failed to start. Port 9091 was already in use.","body":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)         at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQL&zwnj;&#8203;Error.java:129) ~[mysql-connector-java-8.0.19.jar:8.0.19]         at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQL&zwnj;&#8203;Error.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]         at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateE&zwnj;&#8203;xception(SQLExceptio&zwnj;&#8203;nsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]*******************&zwnj;&#8203;****Web server failed to start. Port 9091 was already in use."},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1635412665,"post_id":69750771,"comment_id":123293034,"body_markdown":"You have  Access denied error , and for changing the port because its in use ```gradle bootrun --args=&#39;--server.port=8888&#39;```","body":"You have  Access denied error , and for changing the port because its in use <code>gradle bootrun --args=&#39;--server.port=8888&#39;</code>"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635412874,"post_id":69750771,"comment_id":123293131,"body_markdown":"Please [edit] your question to include it and make it easier to read","body":"Please <a href=\"https://stackoverflow.com/posts/69750771/edit\">edit</a> your question to include it and make it easier to read"},{"owner":{"account_id":18976183,"reputation":11,"user_id":13848605,"display_name":"Santhosh Kumar"},"score":0,"creation_date":1635527980,"post_id":69750771,"comment_id":123331490,"body_markdown":"Execution failed for task &#39;:bootRun&#39;.\n&gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-16.0.1\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1","body":"Execution failed for task &#39;:bootRun&#39;. &gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-16.0.1\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1"},{"owner":{"account_id":18976183,"reputation":11,"user_id":13848605,"display_name":"Santhosh Kumar"},"score":0,"creation_date":1635583316,"post_id":69750771,"comment_id":123341331,"body_markdown":"My not resolved yet, can anyone please help me out","body":"My not resolved yet, can anyone please help me out"}],"owner":{"account_id":18976183,"reputation":11,"user_id":13848605,"display_name":"Santhosh Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635497410,"creation_date":1635410066,"question_id":69750771,"body_markdown":"I am trying to build run a gradle project in CMD. and it shows following error. I tried to change port numbers also, but still same error repeats\r\n\r\n\r\nExecution failed for task &#39;:bootRun&#39;.\r\n&gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-16.0.1\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1","title":"Execution failed for task &#39;:bootRun&#39;. &gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-16.0.1\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1","body":"<p>I am trying to build run a gradle project in CMD. and it shows following error. I tried to change port numbers also, but still same error repeats</p>\n<p>Execution failed for task ':bootRun'.</p>\n<blockquote>\n<p>Process 'command 'C:\\Program Files\\Java\\jdk-16.0.1\\bin\\java.exe'' finished with non-zero exit value 1</p>\n</blockquote>\n"},{"tags":["java","micronaut"],"answers":[{"tags":[],"owner":{"account_id":2524916,"reputation":40766,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635497218,"creation_date":1635417604,"answer_id":69752594,"question_id":69750117,"body_markdown":"The problem is caused by the missing `TypeConverter&lt;S,T&gt;` that knows how to create an instance of `MyConfig.Instance` from another type. The property source resolver sees `a.b.instances` configuration as a `List&lt;Map&gt;`, so for every entry it tries to find a converter that satisfies `Map` -&gt; `MyConfig.Instance`. Because there is no one that explicitly satisfies such conversion, it falls back to `Map` -&gt; `Object` type converter. This converter uses Jackson&#39;s serialization and deserialization, and it also does not work because Jackson does not know how to deserialize a JSON like this:\r\n\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;T1&quot;,\r\n  &quot;endpoint&quot;: &quot;http://t1&quot;,\r\n  &quot;version&quot;: &quot;1.5.3.24305,2021-08-09 18:01&quot;,\r\n  &quot;read-timeout&quot;: 20\r\n}\r\n```\r\n\r\nto an instance of `MyConfig.Instance`, because there is no implementation of that interface available for the Jackson deserializer.\r\n\r\nImplementing `TypeConverter&lt;Map, MyConfig.Instance&gt;` bean can solve this problem. It can return an anonymous class that implements the interface that returns all values from the input map.\r\n\r\n```java\r\nimport io.micronaut.context.annotation.ConfigurationProperties;\r\nimport io.micronaut.core.convert.ConversionContext;\r\nimport io.micronaut.core.convert.TypeConverter;\r\n\r\nimport javax.inject.Singleton;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.net.URL;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\n\r\n@ConfigurationProperties(&quot;a.b&quot;)\r\npublic interface MyConfig {\r\n\r\n    List&lt;Instance&gt; getInstances();\r\n\r\n    interface Instance {\r\n        String getName();\r\n        URL getEndpoint();\r\n        String getVersion();\r\n        int getReadTimeout();\r\n    }\r\n\r\n    @Singleton\r\n    class MapToInstanceConverter implements TypeConverter&lt;Map, Instance&gt; {\r\n\r\n        @Override\r\n        public Optional&lt;Instance&gt; convert(Map object, Class&lt;Instance&gt; targetType, ConversionContext context) {\r\n            return Optional.of(new Instance() {\r\n                @Override\r\n                public String getName() {\r\n                    return object.getOrDefault(&quot;name&quot;, &quot;&quot;).toString();\r\n                }\r\n\r\n                @Override\r\n                public URL getEndpoint() {\r\n                    try {\r\n                        return new URI(object.getOrDefault(&quot;endpoint&quot;, &quot;&quot;).toString()).toURL();\r\n                    } catch (MalformedURLException | URISyntaxException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public String getVersion() {\r\n                    return object.getOrDefault(&quot;version&quot;, &quot;&quot;).toString();\r\n                }\r\n\r\n                @Override\r\n                public int getReadTimeout() {\r\n                    return Integer.parseInt(object.getOrDefault(&quot;read-timeout&quot;, 0).toString());\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nYou will see two entries returned by the `MyConfig.getInstances()` method when you run the test now.\r\n\r\n_&quot;Hold on&quot;_, you may ask, _&quot;why does it work when I define the `Instance getInstance()` method without the need of specifying any type converter?&quot;_. That&#39;s the right question to ask. As you may already tried, the following example works just fine, without providing any additional type converter:\r\n\r\n```java\r\n@ConfigurationProperties(&quot;a.b&quot;)\r\npublic interface MyConfig {\r\n\r\n    Instance getInstance();\r\n\r\n    @ConfigurationProperties(&quot;instance&quot;)\r\n    interface Instance {\r\n        String getName();\r\n        URL getEndpoint();\r\n        String getVersion();\r\n        int getReadTimeout();\r\n    }\r\n}\r\n```\r\n\r\nThe main difference between those two examples is that the previous one uses a list with the generic type - `List&lt;Instance&gt;`. The immutable configuration mechanism uses the `ConfigurationIntroductionAdvice.intercept(ctx)` method to invoke every getter method you define in the interface. The problem here is that the generic type gets erased in the runtime, and thus the return type of the `getInstances()` method is recognized as a `List`, not `List&lt;Instance&gt;`. You can add a breakpoint on line 66 in the `ConfigurationIntroductionAdvice` class and debug the test to see what happens. When the return type is `Instance` from the second example, the `intercept(ctx)` method recognizes that the `Instance` type is a member of `ConfigurationAdvice` through the `@ConfigurationProperties` annotation. In this case, it uses the interceptors to invoke each method from the `Instance` interface - the same mechanism it applies to the `MyConfig` interface. When the same check is done for the `List getInstances()` method, it does not recognize the `List` type as a part of the `ConfigurationAdvice`, and thus it treats it as a regular type, that is not wrapped in any interceptors but just used directly as any other class.","title":"Immutable configuration in Micronaut with list in YAML","body":"<p>The problem is caused by the missing <code>TypeConverter&lt;S,T&gt;</code> that knows how to create an instance of <code>MyConfig.Instance</code> from another type. The property source resolver sees <code>a.b.instances</code> configuration as a <code>List&lt;Map&gt;</code>, so for every entry it tries to find a converter that satisfies <code>Map</code> -&gt; <code>MyConfig.Instance</code>. Because there is no one that explicitly satisfies such conversion, it falls back to <code>Map</code> -&gt; <code>Object</code> type converter. This converter uses Jackson's serialization and deserialization, and it also does not work because Jackson does not know how to deserialize a JSON like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;T1&quot;,\n  &quot;endpoint&quot;: &quot;http://t1&quot;,\n  &quot;version&quot;: &quot;1.5.3.24305,2021-08-09 18:01&quot;,\n  &quot;read-timeout&quot;: 20\n}\n</code></pre>\n<p>to an instance of <code>MyConfig.Instance</code>, because there is no implementation of that interface available for the Jackson deserializer.</p>\n<p>Implementing <code>TypeConverter&lt;Map, MyConfig.Instance&gt;</code> bean can solve this problem. It can return an anonymous class that implements the interface that returns all values from the input map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.micronaut.context.annotation.ConfigurationProperties;\nimport io.micronaut.core.convert.ConversionContext;\nimport io.micronaut.core.convert.TypeConverter;\n\nimport javax.inject.Singleton;\nimport java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\n\n@ConfigurationProperties(&quot;a.b&quot;)\npublic interface MyConfig {\n\n    List&lt;Instance&gt; getInstances();\n\n    interface Instance {\n        String getName();\n        URL getEndpoint();\n        String getVersion();\n        int getReadTimeout();\n    }\n\n    @Singleton\n    class MapToInstanceConverter implements TypeConverter&lt;Map, Instance&gt; {\n\n        @Override\n        public Optional&lt;Instance&gt; convert(Map object, Class&lt;Instance&gt; targetType, ConversionContext context) {\n            return Optional.of(new Instance() {\n                @Override\n                public String getName() {\n                    return object.getOrDefault(&quot;name&quot;, &quot;&quot;).toString();\n                }\n\n                @Override\n                public URL getEndpoint() {\n                    try {\n                        return new URI(object.getOrDefault(&quot;endpoint&quot;, &quot;&quot;).toString()).toURL();\n                    } catch (MalformedURLException | URISyntaxException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n\n                @Override\n                public String getVersion() {\n                    return object.getOrDefault(&quot;version&quot;, &quot;&quot;).toString();\n                }\n\n                @Override\n                public int getReadTimeout() {\n                    return Integer.parseInt(object.getOrDefault(&quot;read-timeout&quot;, 0).toString());\n                }\n            });\n        }\n    }\n}\n\n</code></pre>\n<p>You will see two entries returned by the <code>MyConfig.getInstances()</code> method when you run the test now.</p>\n<p><em>&quot;Hold on&quot;</em>, you may ask, <em>&quot;why does it work when I define the <code>Instance getInstance()</code> method without the need of specifying any type converter?&quot;</em>. That's the right question to ask. As you may already tried, the following example works just fine, without providing any additional type converter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(&quot;a.b&quot;)\npublic interface MyConfig {\n\n    Instance getInstance();\n\n    @ConfigurationProperties(&quot;instance&quot;)\n    interface Instance {\n        String getName();\n        URL getEndpoint();\n        String getVersion();\n        int getReadTimeout();\n    }\n}\n</code></pre>\n<p>The main difference between those two examples is that the previous one uses a list with the generic type - <code>List&lt;Instance&gt;</code>. The immutable configuration mechanism uses the <code>ConfigurationIntroductionAdvice.intercept(ctx)</code> method to invoke every getter method you define in the interface. The problem here is that the generic type gets erased in the runtime, and thus the return type of the <code>getInstances()</code> method is recognized as a <code>List</code>, not <code>List&lt;Instance&gt;</code>. You can add a breakpoint on line 66 in the <code>ConfigurationIntroductionAdvice</code> class and debug the test to see what happens. When the return type is <code>Instance</code> from the second example, the <code>intercept(ctx)</code> method recognizes that the <code>Instance</code> type is a member of <code>ConfigurationAdvice</code> through the <code>@ConfigurationProperties</code> annotation. In this case, it uses the interceptors to invoke each method from the <code>Instance</code> interface - the same mechanism it applies to the <code>MyConfig</code> interface. When the same check is done for the <code>List getInstances()</code> method, it does not recognize the <code>List</code> type as a part of the <code>ConfigurationAdvice</code>, and thus it treats it as a regular type, that is not wrapped in any interceptors but just used directly as any other class.</p>\n"}],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69752594,"answer_count":1,"score":1,"last_activity_date":1635497218,"creation_date":1635407182,"question_id":69750117,"body_markdown":"Given then following YAML configuration\r\n\r\n```yaml\r\na:\r\n  b:\r\n    instances:\r\n      - name: T1\r\n        endpoint: &quot;http://t1&quot;\r\n        version: &quot;1.5.3.24305,2021-08-09 18:01&quot;\r\n        read-timeout: 20\r\n      - name: T2\r\n        endpoint: &quot;http://t1&quot;\r\n        version: &quot;2.0.0.16555,2022-01-03 16:48&quot;\r\n        read-timeout: 20\r\n```\r\n\r\nI would like to bind it to my immutable configuration interface using Micronaut 2.5.13.\r\n\r\n```java\r\n@ConfigurationProperties(&quot;a.b&quot;)\r\npublic interface MyConfig {\r\n\r\n  List&lt;Instance&gt; getInstances();\r\n\r\n  interface Instance {\r\n    String getName();\r\n    URL getEndpoint();\r\n    String getVersion();\r\n    int getReadTimeout();\r\n  }\r\n}\r\n```\r\n\r\nwhen I then run my Spock integration test \r\n\r\n```groovy\r\n@MicronautTest\r\nclass MyConfigSpec extends Specification {\r\n  @Inject\r\n  MyConfig config\r\n\r\n  void &quot;Make sure the config has instances&quot;() {\r\n\r\n    expect:\r\n    config.instances.isEmpty() == false\r\n  }\r\n}\r\n```\r\n\r\nthe assertions fail since the list is empty. How can I tell Micronaut to map the `instances` list into my immutable `Instance` object? ","title":"Immutable configuration in Micronaut with list in YAML","body":"<p>Given then following YAML configuration</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>a:\n  b:\n    instances:\n      - name: T1\n        endpoint: &quot;http://t1&quot;\n        version: &quot;1.5.3.24305,2021-08-09 18:01&quot;\n        read-timeout: 20\n      - name: T2\n        endpoint: &quot;http://t1&quot;\n        version: &quot;2.0.0.16555,2022-01-03 16:48&quot;\n        read-timeout: 20\n</code></pre>\n<p>I would like to bind it to my immutable configuration interface using Micronaut 2.5.13.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(&quot;a.b&quot;)\npublic interface MyConfig {\n\n  List&lt;Instance&gt; getInstances();\n\n  interface Instance {\n    String getName();\n    URL getEndpoint();\n    String getVersion();\n    int getReadTimeout();\n  }\n}\n</code></pre>\n<p>when I then run my Spock integration test</p>\n<pre><code>@MicronautTest\nclass MyConfigSpec extends Specification {\n  @Inject\n  MyConfig config\n\n  void &quot;Make sure the config has instances&quot;() {\n\n    expect:\n    config.instances.isEmpty() == false\n  }\n}\n</code></pre>\n<p>the assertions fail since the list is empty. How can I tell Micronaut to map the <code>instances</code> list into my immutable <code>Instance</code> object?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","elasticsearch-aggregation","elasticsearch-dsl"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635497122,"creation_date":1627716505,"answer_id":68600064,"question_id":68572136,"body_markdown":"The next version of Spring Data Elasticsearch (4.3) will have support for searching with search template by using the `NativeSearchQueryBuilder` which then will have a method `withSearchTemplate(SearchTemplateRequestBuilder searchTemplateBuilder)`.\r\n\r\n**Edit 02.08.2021:**\r\n\r\nHaving a deeper look at what is currently available, I noticed that having this on to the `NativeSearchQuery`is wrong. We will need to change this to add a corresponding method to the `ElasticseachOperations` and the implementations.\r\n\r\nSo in 4.3 there will be a solution, I will update this answer with details as sson as it&#39;s implemented.\r\n\r\n**Edit 29.10.2021:**\r\n\r\nwon&#39;t be in 4.3, I have no capacity to implement this until release of 4.3, so it will be postponed.","title":"How to use elastic search template id(stored in ES cluster) in spring boot get result","body":"<p>The next version of Spring Data Elasticsearch (4.3) will have support for searching with search template by using the <code>NativeSearchQueryBuilder</code> which then will have a method <code>withSearchTemplate(SearchTemplateRequestBuilder searchTemplateBuilder)</code>.</p>\n<p><strong>Edit 02.08.2021:</strong></p>\n<p>Having a deeper look at what is currently available, I noticed that having this on to the <code>NativeSearchQuery</code>is wrong. We will need to change this to add a corresponding method to the <code>ElasticseachOperations</code> and the implementations.</p>\n<p>So in 4.3 there will be a solution, I will update this answer with details as sson as it's implemented.</p>\n<p><strong>Edit 29.10.2021:</strong></p>\n<p>won't be in 4.3, I have no capacity to implement this until release of 4.3, so it will be postponed.</p>\n"}],"owner":{"account_id":9209922,"reputation":43,"user_id":6843587,"display_name":"suv1sh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635497122,"creation_date":1627545174,"question_id":68572136,"body_markdown":"I have an elastic search template stored in my ES we want to use this template-id in spring boot rest high client elastic search by passing the required parameter\r\n\r\n    curl -X POST \\\r\n      http://localhost:9200/_scripts/my_template_id \\\r\n      -H &#39;content-type: application/json&#39; \\\r\n      -d &#39;{\r\n            &quot;script&quot;: {\r\n                &quot;lang&quot;: &quot;mustache&quot;,\r\n                &quot;source&quot;: {\r\n                  &quot;query&quot;: {\r\n                    &quot;bool&quot;: {\r\n                      &quot;should&quot;: [\r\n                        {\r\n                          &quot;match&quot;: {\r\n                            &quot;studentName&quot;: {\r\n                              &quot;query&quot;: &quot;{{query_string}}&quot;,\r\n                              &quot;operator&quot;: &quot;or&quot;,\r\n                              &quot;fuzziness&quot;: 0,\r\n                              &quot;boost&quot;: 9\r\n                            }\r\n                          }\r\n                        },\r\n                        {\r\n                          &quot;match&quot;: {\r\n                            &quot;studentId&quot;: {\r\n                              &quot;query&quot;: &quot;{{query_string}}&quot;,\r\n                              &quot;operator&quot;: &quot;or&quot;,\r\n                              &quot;fuzziness&quot;: 0,\r\n                              &quot;boost&quot;: 1\r\n                            }\r\n                          }\r\n                        }\r\n                      ]\r\n                    }\r\n                  },\r\n                  &quot;from&quot;: &quot;{{from_offset}}&quot;,\r\n                  &quot;size&quot;: &quot;{{result_size}}&quot;\r\n                }\r\n              }\r\n          }&#39;\r\n\r\n\r\nI have tried multiple ways to make QuerySourceBuilder by using the above template id and get SearchResponse but I failed,\r\nAny suggestion why it&#39;s failing or spring boot doesn&#39;t support such a feature?\r\n\r\n","title":"How to use elastic search template id(stored in ES cluster) in spring boot get result","body":"<p>I have an elastic search template stored in my ES we want to use this template-id in spring boot rest high client elastic search by passing the required parameter</p>\n<pre><code>curl -X POST \\\n  http://localhost:9200/_scripts/my_template_id \\\n  -H 'content-type: application/json' \\\n  -d '{\n        &quot;script&quot;: {\n            &quot;lang&quot;: &quot;mustache&quot;,\n            &quot;source&quot;: {\n              &quot;query&quot;: {\n                &quot;bool&quot;: {\n                  &quot;should&quot;: [\n                    {\n                      &quot;match&quot;: {\n                        &quot;studentName&quot;: {\n                          &quot;query&quot;: &quot;{{query_string}}&quot;,\n                          &quot;operator&quot;: &quot;or&quot;,\n                          &quot;fuzziness&quot;: 0,\n                          &quot;boost&quot;: 9\n                        }\n                      }\n                    },\n                    {\n                      &quot;match&quot;: {\n                        &quot;studentId&quot;: {\n                          &quot;query&quot;: &quot;{{query_string}}&quot;,\n                          &quot;operator&quot;: &quot;or&quot;,\n                          &quot;fuzziness&quot;: 0,\n                          &quot;boost&quot;: 1\n                        }\n                      }\n                    }\n                  ]\n                }\n              },\n              &quot;from&quot;: &quot;{{from_offset}}&quot;,\n              &quot;size&quot;: &quot;{{result_size}}&quot;\n            }\n          }\n      }'\n</code></pre>\n<p>I have tried multiple ways to make QuerySourceBuilder by using the above template id and get SearchResponse but I failed,\nAny suggestion why it's failing or spring boot doesn't support such a feature?</p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":5946082,"reputation":13,"user_id":4675543,"display_name":"Yonchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635496588,"creation_date":1635496588,"answer_id":69765892,"question_id":69720820,"body_markdown":"Actually the problem is coming from the REST component. He set HeaderFilter which override the other setted filter in HTTP component. REST component can not set HeaderFilterStrategy and always use default one. I was start to use only http component with setted mine customised filter instead rest and now can transfer deleted headers from DefaultHeaderFilterStrategy.\r\n\r\nI replace it\r\n```\r\n   .to(&quot;rest:post:/rest/accounts/v1/account/list&quot;)\r\n```\r\nwith\r\n```\r\n   .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\r\n   .setHeader(Exchange.HTTP_QUERY, constant(urlQuery))\r\n   .to(&quot;https://host.domain.com/rest/accounts/v1/account/list&quot;)\r\n```\r\n","title":"Transfer Date header removed from Camel DefaultHeaderFilterStrategy","body":"<p>Actually the problem is coming from the REST component. He set HeaderFilter which override the other setted filter in HTTP component. REST component can not set HeaderFilterStrategy and always use default one. I was start to use only http component with setted mine customised filter instead rest and now can transfer deleted headers from DefaultHeaderFilterStrategy.</p>\n<p>I replace it</p>\n<pre><code>   .to(&quot;rest:post:/rest/accounts/v1/account/list&quot;)\n</code></pre>\n<p>with</p>\n<pre><code>   .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\n   .setHeader(Exchange.HTTP_QUERY, constant(urlQuery))\n   .to(&quot;https://host.domain.com/rest/accounts/v1/account/list&quot;)\n</code></pre>\n"}],"owner":{"account_id":5946082,"reputation":13,"user_id":4675543,"display_name":"Yonchev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69765892,"answer_count":1,"score":0,"last_activity_date":1635496588,"creation_date":1635241471,"question_id":69720820,"body_markdown":"I was try to hit REST API with authorization from two header fileds: Authorization and Date but Date field has removed from DefaultHeaderFilterStrategy. I was try to replace it with mine filter and set it into Jetty client, but Date header still missing into RequestProcessor and RestProcessor. I need to can transfer this header globally for all our requests. Here is a parts of my code.\r\n\r\n\t@Component\r\n\tpublic class RestAPIClientRoute extends RouteBuilder {\r\n\r\n\t\t@Autowired\r\n\t\tprivate CamelContext camelContext;\r\n\r\n\t\t@Override\r\n\t\tpublic void configure() throws Exception {\r\n\t\t\r\n\t\t\tJettyHttpComponent jettyComponent = camelContext.getComponent(&quot;jetty&quot;, JettyHttpComponent.class);\r\n\t\t\tjettyComponent.setHeaderFilterStrategy(new HeaderFilter());\r\n\t\t\t\r\n\t\t\trestConfiguration().component(&quot;jetty&quot;).scheme(&quot;http&quot;).port(80).host(&quot;localhost&quot;);    \r\n\r\n\r\n\t\t\tinterceptSendToEndpoint(&quot;rest:post:*&quot;).process(new Processor() {\r\n\t\t\t\tpublic void process(Exchange exchange) {\r\n\r\n\t\t\t\t\tProperties authProperties = CryptoUtil.duoAuthRequestEncode( duoConfig,&quot;POST&quot;, exchange);\r\n\r\n\t\t\t\t\tMessage msg = exchange.getMessage();\r\n\t\t\t\t\tmsg.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authProperties.getProperty(&quot;auth&quot;));\r\n\t\t\t\t\tmsg.setHeader(&quot;Date&quot;, authProperties.getProperty(&quot;timestamp&quot;));\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\trest(&quot;/rest&quot;)\r\n\t\t\t\t\t.post(&quot;/accounts/v1/account/list&quot;)\r\n\t\t\t\t\t.to(&quot;direct:hello&quot;);\r\n\r\n\t\t\tfrom(&quot;direct:hello&quot;)\r\n\t\t\t\t.process(new RequestProcessor());\r\n\r\n\t\t\tfrom(&quot;timer:rest-client?period=60s&quot;)\r\n\t\t\t\t.to(&quot;direct:accountList&quot;);\r\n\t\t\t\r\n\t\t\tfrom(&quot;direct:accountList&quot;)\r\n\t\t\t\t.to(&quot;rest:post:/rest/accounts/v1/account/list&quot;)\r\n\t\t\t\t.process(new RestProcessor());\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t@Component\r\n\tpublic class HeaderFilter implements HeaderFilterStrategy {\r\n\r\n\t\t@Override\r\n\t\tpublic boolean applyFilterToCamelHeaders(String headerName, Object headerValue, Exchange exchange) {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic boolean applyFilterToExternalHeaders(String headerName, Object headerValue, Exchange exchange) {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n","title":"Transfer Date header removed from Camel DefaultHeaderFilterStrategy","body":"<p>I was try to hit REST API with authorization from two header fileds: Authorization and Date but Date field has removed from DefaultHeaderFilterStrategy. I was try to replace it with mine filter and set it into Jetty client, but Date header still missing into RequestProcessor and RestProcessor. I need to can transfer this header globally for all our requests. Here is a parts of my code.</p>\n<pre><code>@Component\npublic class RestAPIClientRoute extends RouteBuilder {\n\n    @Autowired\n    private CamelContext camelContext;\n\n    @Override\n    public void configure() throws Exception {\n    \n        JettyHttpComponent jettyComponent = camelContext.getComponent(&quot;jetty&quot;, JettyHttpComponent.class);\n        jettyComponent.setHeaderFilterStrategy(new HeaderFilter());\n        \n        restConfiguration().component(&quot;jetty&quot;).scheme(&quot;http&quot;).port(80).host(&quot;localhost&quot;);    \n\n\n        interceptSendToEndpoint(&quot;rest:post:*&quot;).process(new Processor() {\n            public void process(Exchange exchange) {\n\n                Properties authProperties = CryptoUtil.duoAuthRequestEncode( duoConfig,&quot;POST&quot;, exchange);\n\n                Message msg = exchange.getMessage();\n                msg.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authProperties.getProperty(&quot;auth&quot;));\n                msg.setHeader(&quot;Date&quot;, authProperties.getProperty(&quot;timestamp&quot;));\n\n            }\n        });\n        \n        rest(&quot;/rest&quot;)\n                .post(&quot;/accounts/v1/account/list&quot;)\n                .to(&quot;direct:hello&quot;);\n\n        from(&quot;direct:hello&quot;)\n            .process(new RequestProcessor());\n\n        from(&quot;timer:rest-client?period=60s&quot;)\n            .to(&quot;direct:accountList&quot;);\n        \n        from(&quot;direct:accountList&quot;)\n            .to(&quot;rest:post:/rest/accounts/v1/account/list&quot;)\n            .process(new RestProcessor());\n        \n    }\n\n}\n\n\n@Component\npublic class HeaderFilter implements HeaderFilterStrategy {\n\n    @Override\n    public boolean applyFilterToCamelHeaders(String headerName, Object headerValue, Exchange exchange) {\n\n        return false;\n    }\n    @Override\n    public boolean applyFilterToExternalHeaders(String headerName, Object headerValue, Exchange exchange) {\n\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1591253268,"post_id":62183825,"comment_id":109986026,"body_markdown":"The only needed part is `mvn package spring-boot:run`. It could be usefull to use `mvn verify` cause that will run integration tests (if you have some in your project). I strongly recommend to read https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","body":"The only needed part is <code>mvn package spring-boot:run</code>. It could be usefull to use <code>mvn verify</code> cause that will run integration tests (if you have some in your project). I strongly recommend to read <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5682834,"reputation":5282,"user_id":4493352,"accept_rate":89,"display_name":"夢のの夢"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1591226510,"creation_date":1591226510,"answer_id":62184340,"question_id":62183825,"body_markdown":"`mvn clean install` is used to resolve dependencies that are listed on your `pom.xml`. You don&#39;t need to run it if there are no changes to your `pom.xml`. The error was most likely due to your local not having all the dependencies required.","title":"is it required to mvn clean install before mvn spring-boot:run","body":"<p><code>mvn clean install</code> is used to resolve dependencies that are listed on your <code>pom.xml</code>. You don't need to run it if there are no changes to your <code>pom.xml</code>. The error was most likely due to your local not having all the dependencies required.</p>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635496483,"creation_date":1635496483,"answer_id":69765872,"question_id":62183825,"body_markdown":"The only difference between `mvn spring-boot:run` and `mvn clean install` is the later phases after `testCompile` phase. Please refer to attached screenshots. \r\n\r\n`mvn spring-boot:run`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n`mvn clean install`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n The later steps after running tests in mvn clean install are -\r\n\r\n&gt; Building jar, repackage, install (default-install)\r\n\r\nHowever as compilation is done, so any changes in source code must be reflected in either case.\r\n\r\n  [1]: https://i.stack.imgur.com/sSER0.jpg\r\n  [2]: https://i.stack.imgur.com/jZQqD.jpg","title":"is it required to mvn clean install before mvn spring-boot:run","body":"<p>The only difference between <code>mvn spring-boot:run</code> and <code>mvn clean install</code> is the later phases after <code>testCompile</code> phase. Please refer to attached screenshots.</p>\n<p><code>mvn spring-boot:run</code></p>\n<p><a href=\"https://i.stack.imgur.com/sSER0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSER0.jpg\" alt=\"enter image description here\" /></a></p>\n<p><code>mvn clean install</code></p>\n<p><a href=\"https://i.stack.imgur.com/jZQqD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jZQqD.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The later steps after running tests in mvn clean install are -</p>\n<blockquote>\n<p>Building jar, repackage, install (default-install)</p>\n</blockquote>\n<p>However as compilation is done, so any changes in source code must be reflected in either case.</p>\n"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13809,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1635496483,"creation_date":1591223586,"question_id":62183825,"body_markdown":"Pulled an existing project form Git Repo\r\n\r\nI tried running it using ```mvn spring-boot:run``` , but it gave error\r\n\r\nThen performed a ```mvn clean install``` then did ```mvn spring-boot:run```, and it got running !!!\r\n\r\nEarlier I was supposing ```mvn spring-boot:run``` performs the task of ```mvn clean install``` also !\r\n\r\nBut then, How does ```mvn spring-boot:run``` considers latest code at compilation (I mean if it is not doing ```install``` it should not be compiling, so it should be running the stale JAR, but it takes the new code changes and refreshes the JAR)\r\n\r\nCan somebody through some light on the confusion !","title":"is it required to mvn clean install before mvn spring-boot:run","body":"<p>Pulled an existing project form Git Repo</p>\n\n<p>I tried running it using <code>mvn spring-boot:run</code> , but it gave error</p>\n\n<p>Then performed a <code>mvn clean install</code> then did <code>mvn spring-boot:run</code>, and it got running !!!</p>\n\n<p>Earlier I was supposing <code>mvn spring-boot:run</code> performs the task of <code>mvn clean install</code> also !</p>\n\n<p>But then, How does <code>mvn spring-boot:run</code> considers latest code at compilation (I mean if it is not doing <code>install</code> it should not be compiling, so it should be running the stale JAR, but it takes the new code changes and refreshes the JAR)</p>\n\n<p>Can somebody through some light on the confusion !</p>\n"},{"tags":["java","loops","while-loop","do-while"],"comments":[{"owner":{"account_id":7556077,"reputation":402,"user_id":5735629,"display_name":"ZIHAO LIU"},"score":0,"creation_date":1635475517,"post_id":69762965,"comment_id":123314382,"body_markdown":"Could you post your input case","body":"Could you post your input case"}],"answers":[{"tags":[],"owner":{"account_id":22999702,"reputation":19,"user_id":17123841,"display_name":"Hamka Satria"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635475665,"creation_date":1635475665,"answer_id":69763031,"question_id":69762965,"body_markdown":"you must change the comparison operator `==` to string equals ex\r\n```another.equals(&quot;Y&quot;)```. or u cant site the [same case][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","title":"what should I do to make my do-while loop statement work?","body":"<p>you must change the comparison operator <code>==</code> to string equals ex\n<code>another.equals(&quot;Y&quot;)</code>. or u cant site the <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">same case</a></p>\n"},{"tags":[],"owner":{"account_id":21825543,"reputation":21,"user_id":16121087,"display_name":"Cody"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635488445,"creation_date":1635481476,"answer_id":69763615,"question_id":69762965,"body_markdown":"My suggestion would be to set &#39;another&#39; to be a boolean\r\n````\r\nboolean anotherStudent = false;\r\ndo\r\n{\r\n\r\n\r\nif((another.equals(&quot;Y&quot;) || (another.equals(&quot;y&quot;) ){\r\nanotherStudent = true;\r\nelse if((another.equals(&quot;N&quot;)  || (another.equals(&quot;n&quot;) ){\r\nanotherStudent = false;\r\n}while(!anotherStudent)\r\n````\r\nI would also do a else if for if they dont enter a Y or an N.\r\n","title":"what should I do to make my do-while loop statement work?","body":"<p>My suggestion would be to set 'another' to be a boolean</p>\n<pre><code>boolean anotherStudent = false;\ndo\n{\n\n\nif((another.equals(&quot;Y&quot;) || (another.equals(&quot;y&quot;) ){\nanotherStudent = true;\nelse if((another.equals(&quot;N&quot;)  || (another.equals(&quot;n&quot;) ){\nanotherStudent = false;\n}while(!anotherStudent)\n</code></pre>\n<p>I would also do a else if for if they dont enter a Y or an N.</p>\n"}],"owner":{"account_id":21185624,"reputation":1,"user_id":15579048,"display_name":"Klyne Ajido"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635683184,"answer_count":2,"score":0,"last_activity_date":1635496460,"creation_date":1635474777,"question_id":69762965,"body_markdown":"I&#39;ve created a program that asks students&#39; names, years, and the courses they have. The idea is if I press y(yes) it should loop back and ask another student, but in my case, if I enter y, it doesn&#39;t ask me. Any tips for beginners?\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Practice{\r\n\tpublic static void main(String[]args) {\r\n\t\r\n\tScanner scan = new Scanner(System.in);\r\n\tString studentName, another;\r\n\tint year,choice;\r\n\t\r\n\tdo{\r\n\tSystem.out.println(&quot;Student name: &quot;);\r\n\tstudentName = scan.nextLine();\r\n\tSystem.out.println(&quot;Year: &quot;);\r\n\tyear = scan.nextInt();\r\n\tSystem.out.println(&quot;\\t1.BSIT \\n\\t2.BSCS \\n\\t3.BSCpE \\n\\t4.BSN&quot;);\r\n\tSystem.out.print(&quot;Choice: &quot;);\r\n\tchoice = scan.nextInt();\r\n\tscan.nextLine();\r\n\tif(choice == 1) {\r\n\t\tSystem.out.println(&quot;Course is BSIT&quot;);\r\n\t}\r\n\telse if(choice == 2 ) {\r\n\t\tSystem.out.println(&quot;Course is BSCS&quot;);\r\n\t}\r\n\telse if(choice == 3 ) {\r\n\t\tSystem.out.println(&quot;Course is BSCpE&quot;);\r\n\t}\r\n\telse if(choice == 4) {\r\n\t\tSystem.out.println(&quot;Course is BSN&quot;);\r\n\t}\r\n\tSystem.out.println(&quot;Another Student? type Y if yes, and N if no&quot;);\r\n\tanother = scan.nextLine();\r\n\t}while((another == &quot;Y&quot;) || (another == &quot;y&quot;));\r\n\t\t\tif ((another == &quot;N&quot;) || (another == &quot;n&quot;))System.out.println(&quot;You are the last student.&quot;);\r\n\t}\r\n    }\r\n","title":"what should I do to make my do-while loop statement work?","body":"<p>I've created a program that asks students' names, years, and the courses they have. The idea is if I press y(yes) it should loop back and ask another student, but in my case, if I enter y, it doesn't ask me. Any tips for beginners?</p>\n<pre><code>import java.util.Scanner;\n\npublic class Practice{\npublic static void main(String[]args) {\n\nScanner scan = new Scanner(System.in);\nString studentName, another;\nint year,choice;\n\ndo{\nSystem.out.println(&quot;Student name: &quot;);\nstudentName = scan.nextLine();\nSystem.out.println(&quot;Year: &quot;);\nyear = scan.nextInt();\nSystem.out.println(&quot;\\t1.BSIT \\n\\t2.BSCS \\n\\t3.BSCpE \\n\\t4.BSN&quot;);\nSystem.out.print(&quot;Choice: &quot;);\nchoice = scan.nextInt();\nscan.nextLine();\nif(choice == 1) {\n    System.out.println(&quot;Course is BSIT&quot;);\n}\nelse if(choice == 2 ) {\n    System.out.println(&quot;Course is BSCS&quot;);\n}\nelse if(choice == 3 ) {\n    System.out.println(&quot;Course is BSCpE&quot;);\n}\nelse if(choice == 4) {\n    System.out.println(&quot;Course is BSN&quot;);\n}\nSystem.out.println(&quot;Another Student? type Y if yes, and N if no&quot;);\nanother = scan.nextLine();\n}while((another == &quot;Y&quot;) || (another == &quot;y&quot;));\n        if ((another == &quot;N&quot;) || (another == &quot;n&quot;))System.out.println(&quot;You are the last student.&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","maven","jpa","db2","open-liberty"],"answers":[{"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635496430,"creation_date":1635496430,"answer_id":69765864,"question_id":69762671,"body_markdown":"Your `persistence.xml` is incorrect. It should point to datasource configured in the `server.xml`, not specify driver properties.\r\n\r\nLike this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.2&quot;\r\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence \r\n                        http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;jpa-unit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;jdbc/guestbookDS&lt;/jta-data-source&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.create-database-schemas&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.create-target&quot; value=&quot;create.ddl&quot;/&gt;  \r\n&lt;!--\r\n            &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-or-extend-tables&quot;/&gt;\r\n            &lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot; value=&quot;both&quot; /&gt;\r\n            --&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\n\r\n```\r\n\r\nYou can check this very simple Liberty project which uses JPA and database here  https://github.com/stocktrader-ops/db-sat-demo (it is using PostgreSQL instead of DB2, but you should just use your datasource setup) \r\n","title":"Entity Manager is null when trying to connect to Dockerised DB2 in Java using JPA, also using maven &amp; Open Liberty","body":"<p>Your <code>persistence.xml</code> is incorrect. It should point to datasource configured in the <code>server.xml</code>, not specify driver properties.</p>\n<p>Like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.2&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence \n                        http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;jpa-unit&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;jta-data-source&gt;jdbc/guestbookDS&lt;/jta-data-source&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.create-database-schemas&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.create-target&quot; value=&quot;create.ddl&quot;/&gt;  \n&lt;!--\n            &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-or-extend-tables&quot;/&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot; value=&quot;both&quot; /&gt;\n            --&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n\n\n</code></pre>\n<p>You can check this very simple Liberty project which uses JPA and database here  <a href=\"https://github.com/stocktrader-ops/db-sat-demo\" rel=\"nofollow noreferrer\">https://github.com/stocktrader-ops/db-sat-demo</a> (it is using PostgreSQL instead of DB2, but you should just use your datasource setup)</p>\n"}],"owner":{"account_id":22812096,"reputation":15,"user_id":16963231,"display_name":"Dylan VR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69765864,"answer_count":1,"score":0,"last_activity_date":1635496430,"creation_date":1635471378,"question_id":69762671,"body_markdown":"So I&#39;m developing an API and I&#39;m trying to connect to a local docker instance of DB2 from java using JPA entity manager. After running Apache Maven and getting build success, I try a GET request from Postman to test an endpoint and get a list of all users from DB2. I&#39;m receiving the below error saying that entity manager is null. I&#39;ve tried researching online and can&#39;t seem to find the solution.\r\nThe Dao class is virtually unchanged from a previous iteration that used Derby instead of DB2 and it worked fine.\r\nI was wanting to know where I&#39;ve gone wrong, what needs changing, and if anything is not needed. Provided below is the xml files and the DAO java class containing the entity manager. All properties for DB2 is correct as they&#39;re unchanged from a successful connection I was able to do from Eclipse&#39;s Database Development. The driver used then was db2jcc4 which I think is different to the driver said to use for the maven dependency so not sure if that&#39;s an issue.\r\n\r\nPostman:\r\n&gt;Error 500: java.lang.NullPointerException: Cannot invoke\r\n&amp;quot;javax.persistence.EntityManager.createNamedQuery&amp;#40;String, java.lang.Class&amp;#41;&amp;quot; because\r\n&amp;quot;this.em&amp;quot; is null\r\n\r\nMaven:\r\n&gt; [INFO] [ERROR   ] CWWJP0015E: An error occurred in the org.eclipse.persistence.jpa.PersistenceProvider persistence provider when it attempted to create the container entity manager factory for the jpa-unit persistence unit. The following error occurred: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.9.v20210604-2c549e2208): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\n\r\n&gt;[INFO] Exception Description: Predeployment of PersistenceUnit [jpa-unit] failed.                                                                                                                              \r\n\r\n&gt;[INFO] Internal Exception: javax.persistence.PersistenceException: CWWJP0013E: The server cannot locate the java:comp/DefaultDataSource data source for the jpa-unit persistence unit because it has encountered the following exception: javax.naming.NameNotFoundException: javax.naming.NameNotFoundException: java:comp/DefaultDataSource.\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n  &lt;groupId&gt;com.obdoblock&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hyperledger-api&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  \r\n  &lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;!-- Liberty configuration --&gt;\r\n\t\t&lt;liberty.var.default.http.port&gt;3500&lt;/liberty.var.default.http.port&gt;\r\n\t\t&lt;liberty.var.default.https.port&gt;9443&lt;/liberty.var.default.https.port&gt;\r\n\t\t&lt;liberty.var.app.context.root&gt;api&lt;/liberty.var.app.context.root&gt;\r\n\t\t&lt;!-- TestDB Configuration --&gt;\r\n\t\t&lt;version.ibm.db2&gt;11.5.6.0&lt;/version.ibm.db2&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Provided dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;microprofile&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- For tests --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cxf-rt-rs-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.6&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.6&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;yasson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- DB2 connector --&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcc&lt;/artifactId&gt;\r\n            &lt;version&gt;11.5.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Hyperledger Fabric Gateway for Blockchain --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hyperledger.fabric&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;fabric-gateway-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Enable liberty-maven plugin --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;io.openliberty.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;liberty-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;copyDependencies&gt;\r\n\t\t\t\t\t\t&lt;location&gt;${project.build.directory}/liberty/wlp/usr/shared/resources&lt;/location&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;jcc&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;11.5.6.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/copyDependencies&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- Plugin to run functional tests --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t&lt;http.port&gt;${liberty.var.default.http.port}&lt;/http.port&gt;\r\n\t\t\t\t\t\t&lt;context.root&gt;${liberty.var.app.context.root}&lt;/context.root&gt;\r\n\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.3&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- Plugin to run unit tests --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nserver.xml\r\n```\r\n&lt;server description=&quot;Obdoblock REST Server&quot;&gt;\r\n    &lt;featureManager&gt;\r\n        &lt;feature&gt;jaxrs-2.1&lt;/feature&gt;\r\n        &lt;feature&gt;openapi-3.1&lt;/feature&gt;\r\n        &lt;feature&gt;jpa-2.2&lt;/feature&gt;\r\n        &lt;feature&gt;cdi-2.0&lt;/feature&gt;\r\n    &lt;/featureManager&gt;\r\n  \r\n    &lt;httpEndpoint \r\n        httpPort=&quot;${default.http.port}&quot; \r\n        httpsPort=&quot;${default.https.port}&quot;\r\n        id=&quot;defaultHttpEndpoint&quot; \r\n        host=&quot;*&quot; \r\n    /&gt;\r\n\r\n    &lt;webApplication \r\n        location=&quot;hyperledger-api.war&quot; \r\n        contextRoot=&quot;${app.context.root}&quot;\r\n    /&gt;\r\n\t\r\n\t&lt;!-- DB2 Library Configuration --&gt;\r\n\t&lt;library id=&quot;DB2JCCLib&quot;&gt;\r\n\t\t&lt;fileset dir=&quot;${shared.resource.dir}&quot; includes=&quot;*.jar&quot; /&gt;\r\n\t&lt;/library&gt;\r\n\t\r\n\t\r\n\t&lt;dataSource jndiName=&quot;jdbc/db2&quot;&gt;\r\n\t\t&lt;jdbcDriver libraryRef=&quot;jdbcLib&quot;/&gt;\r\n\t\t&lt;properties\r\n\t\t\tdatabaseName=&quot;testdb&quot;\r\n\t\t\tserverName=&quot;localhost&quot; \r\n\t\t\tportNumber=&quot;50000&quot;\r\n            user=&quot;****&quot; password=&quot;****&quot;\r\n\t\t/&gt;\r\n\t&lt;/dataSource&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\npersistence.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- TODO: This will have to be configured by ENV as well --&gt;\r\n&lt;!-- https://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/p_ddl_generation.htm --&gt;\r\n&lt;persistence version=&quot;2.2&quot;\r\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence \r\n                        http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;jpa-unit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;properties&gt;\r\n            &lt;!-- Connection Specific --&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.DB2Dialect&quot;/&gt;\r\n\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.ibm.db2.jcc.DB2Driver&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot;    value=&quot;jdbc:db2://localhost:50000/testdb&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;****&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;****&quot; /&gt;\r\n\r\n\t\t\t&lt;property name=&quot;show_sql&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nUserDao.java\r\n```\r\npackage dao;\r\n\r\nimport java.util.List;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.PersistenceContext;\r\nimport javax.enterprise.context.RequestScoped;\r\nimport models.*;\r\n\r\n@RequestScoped\r\npublic class UserDao {\r\n    \r\n    @PersistenceContext(name = &quot;jpa-unit&quot;)\r\n    private EntityManager em;\r\n\r\n    public void createUser(Users user){\r\n        em.persist(user);\r\n    }\r\n\r\n    public Users readUser(int userId){\r\n        return em.find(Users.class, userId);\r\n    }\r\n\r\n    public List&lt;Users&gt; readAllUsers(){\r\n        return em.createNamedQuery(&quot;Users.findAll&quot;, Users.class).getResultList();\r\n    }\r\n\r\n\r\n    public void updateUser(Users user){\r\n        em.merge(user);\r\n    }\r\n\r\n    public void deleteUser(Users userId){\r\n        em.remove(userId);\r\n    }\r\n\r\n    public List&lt;Users&gt; findUser(String email){\r\n        return em.createNamedQuery(&quot;Users.findUser&quot;, Users.class)\r\n            .setParameter(&quot;email&quot;, email)\r\n            .getResultList(); \r\n    }\r\n\r\n    public void createHistory(History hist){\r\n        em.persist(hist);\r\n    }\r\n    //wait this doesnt do anything? \r\n    public Users readHistory(int id){\r\n        return em.find(Users.class, id);\r\n    }\r\n\r\n    public List&lt;History&gt; readAllHistory(){\r\n        return em.createNamedQuery(&quot;History.findAll&quot;, History.class).getResultList();\r\n    }\r\n\r\n}\r\n```\r\n\r\nVersions:\r\n- Docker: 20.10.8, build 3967b7d\r\n- DB2: ibm/db2 docker image version 11.5.6\r\n- Maven: 3.8.3\r\n- Java: JDK 14.0.2\r\n\r\nIf needing any more details, I&#39;m happy to provide them.\r\nThanks, Dylan","title":"Entity Manager is null when trying to connect to Dockerised DB2 in Java using JPA, also using maven &amp; Open Liberty","body":"<p>So I'm developing an API and I'm trying to connect to a local docker instance of DB2 from java using JPA entity manager. After running Apache Maven and getting build success, I try a GET request from Postman to test an endpoint and get a list of all users from DB2. I'm receiving the below error saying that entity manager is null. I've tried researching online and can't seem to find the solution.\nThe Dao class is virtually unchanged from a previous iteration that used Derby instead of DB2 and it worked fine.\nI was wanting to know where I've gone wrong, what needs changing, and if anything is not needed. Provided below is the xml files and the DAO java class containing the entity manager. All properties for DB2 is correct as they're unchanged from a successful connection I was able to do from Eclipse's Database Development. The driver used then was db2jcc4 which I think is different to the driver said to use for the maven dependency so not sure if that's an issue.</p>\n<p>Postman:</p>\n<blockquote>\n<p>Error 500: java.lang.NullPointerException: Cannot invoke\n&quot;javax.persistence.EntityManager.createNamedQuery(String, java.lang.Class)&quot; because\n&quot;this.em&quot; is null</p>\n</blockquote>\n<p>Maven:</p>\n<blockquote>\n<p>[INFO] [ERROR   ] CWWJP0015E: An error occurred in the org.eclipse.persistence.jpa.PersistenceProvider persistence provider when it attempted to create the container entity manager factory for the jpa-unit persistence unit. The following error occurred: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.9.v20210604-2c549e2208): org.eclipse.persistence.exceptions.EntityManagerSetupException</p>\n</blockquote>\n<blockquote>\n<p>[INFO] Exception Description: Predeployment of PersistenceUnit [jpa-unit] failed.</p>\n</blockquote>\n<blockquote>\n<p>[INFO] Internal Exception: javax.persistence.PersistenceException: CWWJP0013E: The server cannot locate the java:comp/DefaultDataSource data source for the jpa-unit persistence unit because it has encountered the following exception: javax.naming.NameNotFoundException: javax.naming.NameNotFoundException: java:comp/DefaultDataSource.</p>\n</blockquote>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;groupId&gt;com.obdoblock&lt;/groupId&gt;\n  &lt;artifactId&gt;hyperledger-api&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  \n  &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;!-- Liberty configuration --&gt;\n        &lt;liberty.var.default.http.port&gt;3500&lt;/liberty.var.default.http.port&gt;\n        &lt;liberty.var.default.https.port&gt;9443&lt;/liberty.var.default.https.port&gt;\n        &lt;liberty.var.app.context.root&gt;api&lt;/liberty.var.app.context.root&gt;\n        &lt;!-- TestDB Configuration --&gt;\n        &lt;version.ibm.db2&gt;11.5.6.0&lt;/version.ibm.db2&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Provided dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- For tests --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.6.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-rs-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse&lt;/groupId&gt;\n            &lt;artifactId&gt;yasson&lt;/artifactId&gt;\n            &lt;version&gt;1.0.7&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- DB2 connector --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\n            &lt;artifactId&gt;jcc&lt;/artifactId&gt;\n            &lt;version&gt;11.5.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Hyperledger Fabric Gateway for Blockchain --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hyperledger.fabric&lt;/groupId&gt;\n            &lt;artifactId&gt;fabric-gateway-java&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;!-- Enable liberty-maven plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.openliberty.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;liberty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;copyDependencies&gt;\n                        &lt;location&gt;${project.build.directory}/liberty/wlp/usr/shared/resources&lt;/location&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\n                            &lt;artifactId&gt;jcc&lt;/artifactId&gt;\n                            &lt;version&gt;11.5.6.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/copyDependencies&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Plugin to run functional tests --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;http.port&gt;${liberty.var.default.http.port}&lt;/http.port&gt;\n                        &lt;context.root&gt;${liberty.var.app.context.root}&lt;/context.root&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.3&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Plugin to run unit tests --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>server.xml</p>\n<pre><code>&lt;server description=&quot;Obdoblock REST Server&quot;&gt;\n    &lt;featureManager&gt;\n        &lt;feature&gt;jaxrs-2.1&lt;/feature&gt;\n        &lt;feature&gt;openapi-3.1&lt;/feature&gt;\n        &lt;feature&gt;jpa-2.2&lt;/feature&gt;\n        &lt;feature&gt;cdi-2.0&lt;/feature&gt;\n    &lt;/featureManager&gt;\n  \n    &lt;httpEndpoint \n        httpPort=&quot;${default.http.port}&quot; \n        httpsPort=&quot;${default.https.port}&quot;\n        id=&quot;defaultHttpEndpoint&quot; \n        host=&quot;*&quot; \n    /&gt;\n\n    &lt;webApplication \n        location=&quot;hyperledger-api.war&quot; \n        contextRoot=&quot;${app.context.root}&quot;\n    /&gt;\n    \n    &lt;!-- DB2 Library Configuration --&gt;\n    &lt;library id=&quot;DB2JCCLib&quot;&gt;\n        &lt;fileset dir=&quot;${shared.resource.dir}&quot; includes=&quot;*.jar&quot; /&gt;\n    &lt;/library&gt;\n    \n    \n    &lt;dataSource jndiName=&quot;jdbc/db2&quot;&gt;\n        &lt;jdbcDriver libraryRef=&quot;jdbcLib&quot;/&gt;\n        &lt;properties\n            databaseName=&quot;testdb&quot;\n            serverName=&quot;localhost&quot; \n            portNumber=&quot;50000&quot;\n            user=&quot;****&quot; password=&quot;****&quot;\n        /&gt;\n    &lt;/dataSource&gt;\n&lt;/server&gt;\n</code></pre>\n<p>persistence.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- TODO: This will have to be configured by ENV as well --&gt;\n&lt;!-- https://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/p_ddl_generation.htm --&gt;\n&lt;persistence version=&quot;2.2&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence \n                        http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;jpa-unit&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;properties&gt;\n            &lt;!-- Connection Specific --&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.DB2Dialect&quot;/&gt;\n\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.ibm.db2.jcc.DB2Driver&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;    value=&quot;jdbc:db2://localhost:50000/testdb&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;****&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;****&quot; /&gt;\n\n            &lt;property name=&quot;show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>UserDao.java</p>\n<pre><code>package dao;\n\nimport java.util.List;\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.enterprise.context.RequestScoped;\nimport models.*;\n\n@RequestScoped\npublic class UserDao {\n    \n    @PersistenceContext(name = &quot;jpa-unit&quot;)\n    private EntityManager em;\n\n    public void createUser(Users user){\n        em.persist(user);\n    }\n\n    public Users readUser(int userId){\n        return em.find(Users.class, userId);\n    }\n\n    public List&lt;Users&gt; readAllUsers(){\n        return em.createNamedQuery(&quot;Users.findAll&quot;, Users.class).getResultList();\n    }\n\n\n    public void updateUser(Users user){\n        em.merge(user);\n    }\n\n    public void deleteUser(Users userId){\n        em.remove(userId);\n    }\n\n    public List&lt;Users&gt; findUser(String email){\n        return em.createNamedQuery(&quot;Users.findUser&quot;, Users.class)\n            .setParameter(&quot;email&quot;, email)\n            .getResultList(); \n    }\n\n    public void createHistory(History hist){\n        em.persist(hist);\n    }\n    //wait this doesnt do anything? \n    public Users readHistory(int id){\n        return em.find(Users.class, id);\n    }\n\n    public List&lt;History&gt; readAllHistory(){\n        return em.createNamedQuery(&quot;History.findAll&quot;, History.class).getResultList();\n    }\n\n}\n</code></pre>\n<p>Versions:</p>\n<ul>\n<li>Docker: 20.10.8, build 3967b7d</li>\n<li>DB2: ibm/db2 docker image version 11.5.6</li>\n<li>Maven: 3.8.3</li>\n<li>Java: JDK 14.0.2</li>\n</ul>\n<p>If needing any more details, I'm happy to provide them.\nThanks, Dylan</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","dataflow","beam-sql"],"answers":[{"tags":[],"owner":{"account_id":8430128,"reputation":292,"user_id":6326169,"display_name":"Pato Navarro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635496394,"creation_date":1635496394,"answer_id":69765852,"question_id":69720869,"body_markdown":"Ok, I solved this by implementing the COUTIF by myself.\r\n\r\n\r\n\r\n        public static class CountConditional extends Combine.CombineFn&lt;Boolean, Long, Long&gt; {\r\n        @Override\r\n        public Long createAccumulator() {\r\n            return Long.valueOf(0);\r\n        }\r\n\r\n        @Override\r\n        public Long addInput(Long accumulator, Boolean input) {\r\n            if (input) {\r\n                ++accumulator;\r\n            }\r\n            return accumulator;\r\n        }\r\n\r\n        @Override\r\n        public Long mergeAccumulators(Iterable&lt;Long&gt; accumulators) {\r\n            Long v = Long.valueOf(0);\r\n            Iterator&lt;Long&gt; ite = accumulators.iterator();\r\n            while (ite.hasNext()) {\r\n                v += ite.next();\r\n            }\r\n            return v;\r\n        }\r\n\r\n        @Override\r\n        public Long extractOutput(Long accumulator) {\r\n            return accumulator;\r\n        }\r\n    }\r\n\r\n\r\nI placed it in the same PTransform that use it, so I don&#39;t have to deal with coders.","title":"Dataflow / Beam Accumulator coder","body":"<p>Ok, I solved this by implementing the COUTIF by myself.</p>\n<pre><code>    public static class CountConditional extends Combine.CombineFn&lt;Boolean, Long, Long&gt; {\n    @Override\n    public Long createAccumulator() {\n        return Long.valueOf(0);\n    }\n\n    @Override\n    public Long addInput(Long accumulator, Boolean input) {\n        if (input) {\n            ++accumulator;\n        }\n        return accumulator;\n    }\n\n    @Override\n    public Long mergeAccumulators(Iterable&lt;Long&gt; accumulators) {\n        Long v = Long.valueOf(0);\n        Iterator&lt;Long&gt; ite = accumulators.iterator();\n        while (ite.hasNext()) {\n            v += ite.next();\n        }\n        return v;\n    }\n\n    @Override\n    public Long extractOutput(Long accumulator) {\n        return accumulator;\n    }\n}\n</code></pre>\n<p>I placed it in the same PTransform that use it, so I don't have to deal with coders.</p>\n"}],"owner":{"account_id":8430128,"reputation":292,"user_id":6326169,"display_name":"Pato Navarro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69765852,"answer_count":1,"score":0,"last_activity_date":1635496394,"creation_date":1635241644,"question_id":69720869,"body_markdown":"I am developing a Dataflow pipeline that uses the ```SqlTransform``` Library and also the beam aggregation function defined in ```org.apache.beam.sdk.extensions.sql.impl.transform.agg.CountIf``` .\r\n\r\nHere a slide of code:\r\n```lang-java\r\nimport org.apache.beam.sdk.extensions.sql.SqlTransform;\r\nimport org.apache.beam.sdk.extensions.sql.impl.transform.agg.CountIf;\r\nimport org.apache.beam.sdk.schemas.Schema;\r\nimport org.apache.beam.sdk.transforms.PTransform;\r\nimport org.apache.beam.sdk.values.PCollection;\r\nimport org.apache.beam.sdk.values.Row;\r\n\r\npublic class EtlSqlTransformations extends PTransform&lt;PCollection&lt;Row&gt;, PCollection&lt;Row&gt;&gt; {\r\n    @Override\r\n    public PCollection&lt;Row&gt; expand(PCollection&lt;Row&gt; input) {\r\n        String sql1 = &quot;SELECT campaign_id, format_id, story_id, browser, device, os, &quot; +\r\n                &quot;       COUNTIF(event_type = &#39;track_click_through&#39;) as clickthrough, &quot; +\r\n                &quot;       FROM PCOLLECTION &quot; +\r\n                &quot;       GROUP BY campaign_id, format_id, story_id, browser, device, os&quot;;\r\n\r\n        PCollection&lt;Row&gt; groupedImpressions = input.apply(&quot;groupedImpressions&quot;,\r\n                SqlTransform.query(sql1).registerUdaf(&quot;COUNTIF&quot;, new CountIf.CountIfFn()));\r\n        return groupedImpressions;\r\n    }\r\n}\r\n```\r\n\r\nThis is working fine when testing locally (I also create some test, that works fine):\r\n```lang-java\r\n\r\n        PCollection&lt;Row&gt; results = rowPCollection.apply(&quot;SQL TRANSFORM&quot;, new EtlSqlTransformations());\r\n\r\n        // Expected output\r\n        Row expectedRow = Row.withSchema(EtlSqlTransformations.outputSchema)\r\n                .addValues(&quot;1044&quot;, ...)\r\n                .build();\r\n\r\n        PAssert.that(results).containsInAnyOrder(expectedRow);\r\n        pipeline.run();\r\n```\r\n\r\nThe problem is when I want to deploy in Google cloud with Dataflow, I have the following output:\r\n\r\n```\r\n[WARNING] \r\njava.lang.RuntimeException: java.io.IOException: Could not obtain a Coder for the accumulator\r\n    at org.apache.beam.runners.core.construction.PipelineTranslation$1.leaveCompositeTransform (PipelineTranslation.java:78)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:584)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:239)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:213)\r\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:468)\r\n    at org.apache.beam.runners.core.construction.PipelineTranslation.toProto (PipelineTranslation.java:60)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:996)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:203)\r\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\r\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:308)\r\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.runPubsubToStoragePipeline (PubsubToStorage.java:115)\r\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.main (PubsubToStorage.java:122)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:829)\r\nCaused by: java.io.IOException: Could not obtain a Coder for the accumulator\r\n    at org.apache.beam.runners.core.construction.CombineTranslation$CombineGroupedValuesPayloadTranslator.extractAccumulatorCoder (CombineTranslation.java:207)\r\n    at org.apache.beam.runners.core.construction.CombineTranslation$CombineGroupedValuesPayloadTranslator.translate (CombineTranslation.java:179)\r\n    at org.apache.beam.runners.core.construction.PTransformTranslation$KnownTransformPayloadTranslator.translate (PTransformTranslation.java:438)\r\n    at org.apache.beam.runners.core.construction.PTransformTranslation.toProto (PTransformTranslation.java:248)\r\n    at org.apache.beam.runners.core.construction.SdkComponents.registerPTransform (SdkComponents.java:175)\r\n    at org.apache.beam.runners.core.construction.PipelineTranslation$1.leaveCompositeTransform (PipelineTranslation.java:75)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:584)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:239)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:213)\r\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:468)\r\n    at org.apache.beam.runners.core.construction.PipelineTranslation.toProto (PipelineTranslation.java:60)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:996)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:203)\r\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\r\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:308)\r\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.runPubsubToStoragePipeline (PubsubToStorage.java:115)\r\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.main (PubsubToStorage.java:122)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:829)\r\nCaused by: org.apache.beam.sdk.coders.CannotProvideCoderException: Cannot infer coder for type parameter AccumT\r\n    at org.apache.beam.sdk.coders.CoderRegistry.getCoder (CoderRegistry.java:328)\r\n    at org.apache.beam.sdk.transforms.CombineFnBase$AbstractGlobalCombineFn.getAccumulatorCoder (CombineFnBase.java:119)\r\n    at org.apache.beam.sdk.transforms.Combine$CombineFn.getAccumulatorCoder (Combine.java:391)\r\n    at org.apache.beam.sdk.extensions.sql.impl.transform.agg.AggregationCombineFnAdapter$WrappedCombinerBase.getAccumulatorCoder (AggregationCombineFnAdapter.java:75)\r\n    at org.apache.beam.sdk.transforms.CombineFns$ComposedCombineFn.getAccumulatorCoder (CombineFns.java:430)\r\n    at org.apache.beam.sdk.schemas.transforms.SchemaAggregateFn$Inner.getAccumulatorCoder (SchemaAggregateFn.java:335)\r\n    at org.apache.beam.runners.core.construction.CombineTranslation$CombineGroupedValuesPayloadTranslator.extractAccumulatorCoder (CombineTranslation.java:204)\r\n    at org.apache.beam.runners.core.construction.CombineTranslation$CombineGroupedValuesPayloadTranslator.translate (CombineTranslation.java:179)\r\n    at org.apache.beam.runners.core.construction.PTransformTranslation$KnownTransformPayloadTranslator.translate (PTransformTranslation.java:438)\r\n    at org.apache.beam.runners.core.construction.PTransformTranslation.toProto (PTransformTranslation.java:248)\r\n    at org.apache.beam.runners.core.construction.SdkComponents.registerPTransform (SdkComponents.java:175)\r\n    at org.apache.beam.runners.core.construction.PipelineTranslation$1.leaveCompositeTransform (PipelineTranslation.java:75)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:584)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:239)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:213)\r\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:468)\r\n    at org.apache.beam.runners.core.construction.PipelineTranslation.toProto (PipelineTranslation.java:60)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:996)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:203)\r\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\r\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:308)\r\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.runPubsubToStoragePipeline (PubsubToStorage.java:115)\r\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.main (PubsubToStorage.java:122)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:829)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  57.006 s\r\n[INFO] Finished at: 2021-10-25T13:54:23Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project connected-stories-analytics-logger-store: An exception occured while executing the Java class. java.io.IOException: Could not obtain a Coder for the accumulator: Cannot infer coder for type parameter AccumT -&gt; [Help 1]\r\n\r\n```\r\nI search for this problem but I found nothing, just some similar cases where they have develop their own Agg functions and they need to define the CODER.\r\nIn this case, I can&#39;t understand where to find the coder, or if I have to create it on my own, as I am using a Beam function (`org.apache.beam.sdk.extensions.sql.impl.transform.agg.CountIf`). \r\n\r\nSo the questions are:\r\n1. Is there a way to use this beam function to add the coder that needs to run in Dataflow?\r\n2. If I need to change the function and create a new one and also the CODER, how can I do it?\r\n\r\n\r\nThanks","title":"Dataflow / Beam Accumulator coder","body":"<p>I am developing a Dataflow pipeline that uses the <code>SqlTransform</code> Library and also the beam aggregation function defined in <code>org.apache.beam.sdk.extensions.sql.impl.transform.agg.CountIf</code> .</p>\n<p>Here a slide of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.beam.sdk.extensions.sql.SqlTransform;\nimport org.apache.beam.sdk.extensions.sql.impl.transform.agg.CountIf;\nimport org.apache.beam.sdk.schemas.Schema;\nimport org.apache.beam.sdk.transforms.PTransform;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.apache.beam.sdk.values.Row;\n\npublic class EtlSqlTransformations extends PTransform&lt;PCollection&lt;Row&gt;, PCollection&lt;Row&gt;&gt; {\n    @Override\n    public PCollection&lt;Row&gt; expand(PCollection&lt;Row&gt; input) {\n        String sql1 = &quot;SELECT campaign_id, format_id, story_id, browser, device, os, &quot; +\n                &quot;       COUNTIF(event_type = 'track_click_through') as clickthrough, &quot; +\n                &quot;       FROM PCOLLECTION &quot; +\n                &quot;       GROUP BY campaign_id, format_id, story_id, browser, device, os&quot;;\n\n        PCollection&lt;Row&gt; groupedImpressions = input.apply(&quot;groupedImpressions&quot;,\n                SqlTransform.query(sql1).registerUdaf(&quot;COUNTIF&quot;, new CountIf.CountIfFn()));\n        return groupedImpressions;\n    }\n}\n</code></pre>\n<p>This is working fine when testing locally (I also create some test, that works fine):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        PCollection&lt;Row&gt; results = rowPCollection.apply(&quot;SQL TRANSFORM&quot;, new EtlSqlTransformations());\n\n        // Expected output\n        Row expectedRow = Row.withSchema(EtlSqlTransformations.outputSchema)\n                .addValues(&quot;1044&quot;, ...)\n                .build();\n\n        PAssert.that(results).containsInAnyOrder(expectedRow);\n        pipeline.run();\n</code></pre>\n<p>The problem is when I want to deploy in Google cloud with Dataflow, I have the following output:</p>\n<pre><code>[WARNING] \njava.lang.RuntimeException: java.io.IOException: Could not obtain a Coder for the accumulator\n    at org.apache.beam.runners.core.construction.PipelineTranslation$1.leaveCompositeTransform (PipelineTranslation.java:78)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:584)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:239)\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:213)\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:468)\n    at org.apache.beam.runners.core.construction.PipelineTranslation.toProto (PipelineTranslation.java:60)\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:996)\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:203)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:308)\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.runPubsubToStoragePipeline (PubsubToStorage.java:115)\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.main (PubsubToStorage.java:122)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:829)\nCaused by: java.io.IOException: Could not obtain a Coder for the accumulator\n    at org.apache.beam.runners.core.construction.CombineTranslation$CombineGroupedValuesPayloadTranslator.extractAccumulatorCoder (CombineTranslation.java:207)\n    at org.apache.beam.runners.core.construction.CombineTranslation$CombineGroupedValuesPayloadTranslator.translate (CombineTranslation.java:179)\n    at org.apache.beam.runners.core.construction.PTransformTranslation$KnownTransformPayloadTranslator.translate (PTransformTranslation.java:438)\n    at org.apache.beam.runners.core.construction.PTransformTranslation.toProto (PTransformTranslation.java:248)\n    at org.apache.beam.runners.core.construction.SdkComponents.registerPTransform (SdkComponents.java:175)\n    at org.apache.beam.runners.core.construction.PipelineTranslation$1.leaveCompositeTransform (PipelineTranslation.java:75)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:584)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:239)\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:213)\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:468)\n    at org.apache.beam.runners.core.construction.PipelineTranslation.toProto (PipelineTranslation.java:60)\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:996)\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:203)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:308)\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.runPubsubToStoragePipeline (PubsubToStorage.java:115)\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.main (PubsubToStorage.java:122)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:829)\nCaused by: org.apache.beam.sdk.coders.CannotProvideCoderException: Cannot infer coder for type parameter AccumT\n    at org.apache.beam.sdk.coders.CoderRegistry.getCoder (CoderRegistry.java:328)\n    at org.apache.beam.sdk.transforms.CombineFnBase$AbstractGlobalCombineFn.getAccumulatorCoder (CombineFnBase.java:119)\n    at org.apache.beam.sdk.transforms.Combine$CombineFn.getAccumulatorCoder (Combine.java:391)\n    at org.apache.beam.sdk.extensions.sql.impl.transform.agg.AggregationCombineFnAdapter$WrappedCombinerBase.getAccumulatorCoder (AggregationCombineFnAdapter.java:75)\n    at org.apache.beam.sdk.transforms.CombineFns$ComposedCombineFn.getAccumulatorCoder (CombineFns.java:430)\n    at org.apache.beam.sdk.schemas.transforms.SchemaAggregateFn$Inner.getAccumulatorCoder (SchemaAggregateFn.java:335)\n    at org.apache.beam.runners.core.construction.CombineTranslation$CombineGroupedValuesPayloadTranslator.extractAccumulatorCoder (CombineTranslation.java:204)\n    at org.apache.beam.runners.core.construction.CombineTranslation$CombineGroupedValuesPayloadTranslator.translate (CombineTranslation.java:179)\n    at org.apache.beam.runners.core.construction.PTransformTranslation$KnownTransformPayloadTranslator.translate (PTransformTranslation.java:438)\n    at org.apache.beam.runners.core.construction.PTransformTranslation.toProto (PTransformTranslation.java:248)\n    at org.apache.beam.runners.core.construction.SdkComponents.registerPTransform (SdkComponents.java:175)\n    at org.apache.beam.runners.core.construction.PipelineTranslation$1.leaveCompositeTransform (PipelineTranslation.java:75)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:584)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:579)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:239)\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:213)\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:468)\n    at org.apache.beam.runners.core.construction.PipelineTranslation.toProto (PipelineTranslation.java:60)\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:996)\n    at org.apache.beam.runners.dataflow.DataflowRunner.run (DataflowRunner.java:203)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:308)\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.runPubsubToStoragePipeline (PubsubToStorage.java:115)\n    at com.hypertv.AnalyticsLoggerStore.PubsubToStorage.main (PubsubToStorage.java:122)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:829)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  57.006 s\n[INFO] Finished at: 2021-10-25T13:54:23Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project connected-stories-analytics-logger-store: An exception occured while executing the Java class. java.io.IOException: Could not obtain a Coder for the accumulator: Cannot infer coder for type parameter AccumT -&gt; [Help 1]\n\n</code></pre>\n<p>I search for this problem but I found nothing, just some similar cases where they have develop their own Agg functions and they need to define the CODER.\nIn this case, I can't understand where to find the coder, or if I have to create it on my own, as I am using a Beam function (<code>org.apache.beam.sdk.extensions.sql.impl.transform.agg.CountIf</code>).</p>\n<p>So the questions are:</p>\n<ol>\n<li>Is there a way to use this beam function to add the coder that needs to run in Dataflow?</li>\n<li>If I need to change the function and create a new one and also the CODER, how can I do it?</li>\n</ol>\n<p>Thanks</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1619295234,"post_id":67246375,"comment_id":118863829,"body_markdown":"Your code compiles just fine, provided I add a fake version of the `StackGen` interface (which you haven&#39;t included in your post).","body":"Your code compiles just fine, provided I add a fake version of the <code>StackGen</code> interface (which you haven&#39;t included in your post)."}],"answers":[{"tags":[],"owner":{"account_id":18209491,"reputation":102,"user_id":13252285,"display_name":"Nicola Revelant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619290799,"creation_date":1619290799,"answer_id":67246434,"question_id":67246375,"body_markdown":"There is no errors in your code. If you are using Intellij IDEA try &quot;invalidate cache and restart&quot; (from File menu)","title":"Cannot Access class Error from given code?","body":"<p>There is no errors in your code. If you are using Intellij IDEA try &quot;invalidate cache and restart&quot; (from File menu)</p>\n"}],"owner":{"account_id":20025527,"reputation":1,"user_id":14679434,"display_name":"Natch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635496279,"creation_date":1619290425,"question_id":67246375,"body_markdown":"I was given some pre-written classes called NGen which is a generic node class and Stack1Gen.java which is being implemented for a linked list. For some reason in the Stack1Gen class, I get an error when it says start.getNext(); saying &quot;Cannot access NGen. What does this mean?\r\n\r\n    // NGen.java\r\n    // A *simplified* generic node class for use with Stack1Gen class \r\n    // and other data structures as desired; uses generics for the data\r\n\r\n    public class NGen &lt;T&gt; {\r\n  \r\n        // constructors\r\n    \r\n        public NGen () {}\r\n\r\n        public NGen (T o, NGen&lt;T&gt; link) {\r\n            data = o;\r\n            next = link;\r\n        }\r\n\r\n        // selectors\r\n\r\n        public T getData() {\r\n            return data;\r\n        }\r\n\r\n        public void setData(T o) {\r\n            data = o;\r\n        }\r\n\r\n        public NGen&lt;T&gt; getNext() {\r\n            return next;\r\n        }\r\n\r\n        public void setNext(NGen&lt;T&gt; link) {\r\n            next = link;\r\n        }\r\n\r\n        // instance variables\r\n\r\n        private T data;\r\n        private NGen&lt;T&gt; next;\r\n\r\n    }  // NGen class\r\n\r\n\r\n\r\n    // Stack1Gen.java\r\n    // The StackGen Interface is implemented using linked list\r\n    // The linked list used is a simple generic node class called NGen.  (See NGen.java)\r\n\r\n    public class Stack1Gen &lt;T&gt; implements StackGen&lt;T&gt; {\r\n\r\n        // constructor\r\n\r\n        public Stack1Gen () {}\r\n    \r\n        // selectors\r\n\r\n        public void push(T o) {\r\n            start = new NGen&lt;T&gt;(o, start);\r\n        }\r\n\r\n        public T pop() {\r\n            if (start == null)\r\n              throw new RuntimeException(&quot;Tried to pop an empty stack&quot;);\r\n            else {\r\n              T data = start.getData();\r\n              start = start.getNext();\r\n              return data;\r\n            }\r\n        }\r\n\r\n        public T top() {\r\n            if (start == null)\r\n              return null;\r\n            else return start.getData();\r\n        }\r\n\r\n        public boolean isEmpty() {\r\n            if (start == null)\r\n              return true;\r\n            else return false;\r\n        }\r\n\r\n        // instance variables\r\n\r\n        private NGen&lt;T&gt; start = null;\r\n\r\n    }  // Stack1Gen class\r\n\r\n\r\n","title":"Cannot Access class Error from given code?","body":"<p>I was given some pre-written classes called NGen which is a generic node class and Stack1Gen.java which is being implemented for a linked list. For some reason in the Stack1Gen class, I get an error when it says start.getNext(); saying &quot;Cannot access NGen. What does this mean?</p>\n<pre><code>// NGen.java\n// A *simplified* generic node class for use with Stack1Gen class \n// and other data structures as desired; uses generics for the data\n\npublic class NGen &lt;T&gt; {\n\n    // constructors\n\n    public NGen () {}\n\n    public NGen (T o, NGen&lt;T&gt; link) {\n        data = o;\n        next = link;\n    }\n\n    // selectors\n\n    public T getData() {\n        return data;\n    }\n\n    public void setData(T o) {\n        data = o;\n    }\n\n    public NGen&lt;T&gt; getNext() {\n        return next;\n    }\n\n    public void setNext(NGen&lt;T&gt; link) {\n        next = link;\n    }\n\n    // instance variables\n\n    private T data;\n    private NGen&lt;T&gt; next;\n\n}  // NGen class\n\n\n\n// Stack1Gen.java\n// The StackGen Interface is implemented using linked list\n// The linked list used is a simple generic node class called NGen.  (See NGen.java)\n\npublic class Stack1Gen &lt;T&gt; implements StackGen&lt;T&gt; {\n\n    // constructor\n\n    public Stack1Gen () {}\n\n    // selectors\n\n    public void push(T o) {\n        start = new NGen&lt;T&gt;(o, start);\n    }\n\n    public T pop() {\n        if (start == null)\n          throw new RuntimeException(&quot;Tried to pop an empty stack&quot;);\n        else {\n          T data = start.getData();\n          start = start.getNext();\n          return data;\n        }\n    }\n\n    public T top() {\n        if (start == null)\n          return null;\n        else return start.getData();\n    }\n\n    public boolean isEmpty() {\n        if (start == null)\n          return true;\n        else return false;\n    }\n\n    // instance variables\n\n    private NGen&lt;T&gt; start = null;\n\n}  // Stack1Gen class\n</code></pre>\n"},{"tags":["java","flutter"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1634986521,"post_id":69686436,"comment_id":123177769,"body_markdown":"What is the name of your computer has as a top level name e.g. in a network it may be called LXZworkSt31 whereas in these type of downloads in your OS settings configuration you usually need to be called **localhost** as the computer name.\nSee also the config file for the downloads.","body":"What is the name of your computer has as a top level name e.g. in a network it may be called LXZworkSt31 whereas in these type of downloads in your OS settings configuration you usually need to be called <b>localhost</b> as the computer name. See also the config file for the downloads."},{"owner":{"account_id":15890376,"reputation":43,"user_id":11465681,"display_name":"George Jonathan Osafo-Osei"},"score":0,"creation_date":1635012742,"post_id":69686436,"comment_id":123183784,"body_markdown":"I&#39;m using a Linux (Pop OS) running on an intel inside processor with 1.6ghz speed and a 4GB RAM.\nBecause of the RAM and processor, I usually run my flutter apps in debug mode on a physical android device","body":"I&#39;m using a Linux (Pop OS) running on an intel inside processor with 1.6ghz speed and a 4GB RAM. Because of the RAM and processor, I usually run my flutter apps in debug mode on a physical android device"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1635132927,"post_id":69686436,"comment_id":123204957,"body_markdown":"It&#39;s just a point with calling online repositories that the connection config in the local java code of the downloader needs to identify the host machine calling and a bug in having default configuration of the net connection requires the name localhost. In Linux you go to your general general computer settings in root mode change the computer name to localhost , if such a problem in windows you go into its settings and name the computer localhost.","body":"It&#39;s just a point with calling online repositories that the connection config in the local java code of the downloader needs to identify the host machine calling and a bug in having default configuration of the net connection requires the name localhost. In Linux you go to your general general computer settings in root mode change the computer name to localhost , if such a problem in windows you go into its settings and name the computer localhost."}],"owner":{"account_id":15890376,"reputation":43,"user_id":11465681,"display_name":"George Jonathan Osafo-Osei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635496233,"creation_date":1634978100,"question_id":69686436,"body_markdown":"Exception in thread &quot;main&quot; java.util.zip.ZipException: zip END header not found\r\n\tat\r\n\r\n&gt; \r\n\r\n    java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1581)\r\n    \tat java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1476)\r\n    \tat java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1483)\r\n    \tat java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1288)\r\n    \tat java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1251)\r\n    \tat java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:732)\r\n    \tat java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:849)\r\n    \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:247)\r\n    \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177)\r\n    \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:191)\r\n    \tat org.gradle.wrapper.Install.unzip(Install.java:214)\r\n    \tat org.gradle.wrapper.Install.access$600(Install.java:27)\r\n    \tat org.gradle.wrapper.Install$1.call(Install.java:74)\r\n    \tat org.gradle.wrapper.Install$1.call(Install.java:48)\r\n    \tat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n    \tat org.gradle.wrapper.Install.createDist(Install.java:48)\r\n    \tat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n    \tat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\n\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\nExited (sigterm)\r\n\r\n\r\n","title":"Gradle throwing exceptions in debugMode. Exception in thread &quot;main&quot; java.net.UnknownHostException:","body":"<p>Exception in thread &quot;main&quot; java.util.zip.ZipException: zip END header not found\nat</p>\n<blockquote>\n</blockquote>\n<pre><code>java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1581)\n    at java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1476)\n    at java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1483)\n    at java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1288)\n    at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1251)\n    at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:732)\n    at java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:849)\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:247)\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177)\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:191)\n    at org.gradle.wrapper.Install.unzip(Install.java:214)\n    at org.gradle.wrapper.Install.access$600(Install.java:27)\n    at org.gradle.wrapper.Install$1.call(Install.java:74)\n    at org.gradle.wrapper.Install$1.call(Install.java:48)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\n    at org.gradle.wrapper.Install.createDist(Install.java:48)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\n</code></pre>\n<p>Exception: Gradle task assembleDebug failed with exit code 1</p>\n<p>Exited (sigterm)</p>\n"},{"tags":["java","json","serialization","jackson","deserialization"],"comments":[{"owner":{"account_id":1360573,"reputation":581,"user_id":1298031,"display_name":"Nicolas Dos Santos"},"score":0,"creation_date":1635493215,"post_id":69751325,"comment_id":123318115,"body_markdown":"We can use `@JsonCreator` on the DataSourceObject constructor, but we have to add `@JsonProperty` to the parameters of the constructor.","body":"We can use <code>@JsonCreator</code> on the DataSourceObject constructor, but we have to add <code>@JsonProperty</code> to the parameters of the constructor."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635496221,"creation_date":1635440287,"answer_id":69758172,"question_id":69751325,"body_markdown":"You need to have a no-args constructor for `DataSourceObject`. You have two options.\r\n\r\n1) Make `concreteObject` not final:\r\n```java\r\npublic static class DataSourceObject&lt;T extends Serializable&gt; implements Serializable {\r\n\r\n    private static final long serialVersionUID = -6026669040755678830L;\r\n\r\n    private T concreteObject;\r\n\r\n    private DataSourceObject() { }\r\n\r\n    public DataSourceObject(final T concreteObject) {\r\n        this.concreteObject = concreteObject;\r\n    }\r\n\r\n    public T getConcreteObject() {\r\n        return concreteObject;\r\n    }\r\n}\r\n```\r\n\r\n2) Keep `concreteObject` final, but it must be assigned to `null` in the no-args constructor:\r\n```java\r\npublic static class DataSourceObject&lt;T extends Serializable&gt; implements Serializable {\r\n\r\n    private static final long serialVersionUID = -6026669040755678830L;\r\n\r\n    private final T concreteObject;\r\n\r\n    private DataSourceObject() {\r\n        concreteObject = null;\r\n    }\r\n\r\n    public DataSourceObject(final T concreteObject) {\r\n        this.concreteObject = concreteObject;\r\n    }\r\n\r\n    public T getConcreteObject() {\r\n        return concreteObject;\r\n    }\r\n}\r\n```\r\n\r\nEither option will work.","title":"Serialize/Deserialize a java.io.Serializable object but missing type id property","body":"<p>You need to have a no-args constructor for <code>DataSourceObject</code>. You have two options.</p>\n<ol>\n<li>Make <code>concreteObject</code> not final:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static class DataSourceObject&lt;T extends Serializable&gt; implements Serializable {\n\n    private static final long serialVersionUID = -6026669040755678830L;\n\n    private T concreteObject;\n\n    private DataSourceObject() { }\n\n    public DataSourceObject(final T concreteObject) {\n        this.concreteObject = concreteObject;\n    }\n\n    public T getConcreteObject() {\n        return concreteObject;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Keep <code>concreteObject</code> final, but it must be assigned to <code>null</code> in the no-args constructor:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static class DataSourceObject&lt;T extends Serializable&gt; implements Serializable {\n\n    private static final long serialVersionUID = -6026669040755678830L;\n\n    private final T concreteObject;\n\n    private DataSourceObject() {\n        concreteObject = null;\n    }\n\n    public DataSourceObject(final T concreteObject) {\n        this.concreteObject = concreteObject;\n    }\n\n    public T getConcreteObject() {\n        return concreteObject;\n    }\n}\n</code></pre>\n<p>Either option will work.</p>\n"}],"owner":{"account_id":1360573,"reputation":581,"user_id":1298031,"display_name":"Nicolas Dos Santos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69758172,"answer_count":1,"score":0,"last_activity_date":1635496221,"creation_date":1635412473,"question_id":69751325,"body_markdown":"I try to serialize and deserialize an object `DataSourceObject` that wraps a `Serializable` object, but I don&#39;t know the type of the wrapped object.\r\nWhen I deserialize the JSON, I get an exception:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.accor.assets.TestSerialization$DataSourceObject` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n     at [Source: (String)&quot;{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$DataSourceObject&quot;,&quot;concreteObject&quot;:{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$HotelsListBean&quot;,&quot;version&quot;:&quot;1.0&quot;,&quot;metaResponse&quot;:{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$MetaResponse&quot;,&quot;returncode&quot;:&quot;0&quot;,&quot;date&quot;:&quot;10/28/21 09:39:14 AM&quot;},&quot;hotelsList&quot;:{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$HotelsList&quot;,&quot;hotel&quot;:[&quot;java.util.ArrayList&quot;,[{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$Hotel&quot;,&quot;name&quot;:&quot;My Hotel&quot;,&quot;code&quot;:&quot;H001&quot;,&quot;nbstars&quot;:&quot;4&quot;,&quot;countryCode&quot;:&quot;G&quot;[truncated 8 chars]; line: 1, column: 65]\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1764)\r\n    \tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1209)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1415)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:362)\r\n\r\nHere is a complete example to reproduce the problem:\r\n\r\n    public class TestSerialization {\r\n    \r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            ObjectMapper objectMapper = objectMapper();\r\n    \r\n            HotelsListBean hotelsListBean = new HotelsListBean();\r\n    \r\n            hotelsListBean.setVersion(&quot;1.0&quot;);\r\n            MetaResponse metaResponse = new MetaResponse();\r\n            metaResponse.setReturncode(&quot;0&quot;);\r\n            metaResponse.setDate(&quot;10/28/21 09:39:14 AM&quot;);\r\n            hotelsListBean.setMetaResponse(metaResponse);\r\n    \r\n            HotelsList hotelsList = new HotelsList();\r\n            Hotel hotel = new Hotel();\r\n            hotel.setCode(&quot;H001&quot;);\r\n            hotel.setName(&quot;My Hotel&quot;);\r\n            hotel.setCountryCode(&quot;GB&quot;);\r\n            hotel.setNbstars(&quot;4&quot;);\r\n            hotelsList.getHotel().add(hotel);\r\n            hotelsListBean.setHotelsList(hotelsList);\r\n    \r\n            DataSourceObject&lt;HotelsListBean&gt; dataSourceObject = new DataSourceObject&lt;&gt;(hotelsListBean);\r\n    \r\n            String json = objectMapper.writeValueAsString(dataSourceObject);\r\n            System.out.println(json);\r\n    \r\n            Object result = objectMapper.readValue(json, Object.class);\r\n            System.out.println(result);\r\n        }\r\n    \r\n        private static ObjectMapper objectMapper() {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n            objectMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\r\n            objectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n            objectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n            objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator(), ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n    \r\n            // Register support of other new Java 8 datatypes outside of date/time: most notably Optional, OptionalLong, OptionalDouble\r\n            objectMapper.registerModule(new Jdk8Module());\r\n    \r\n            // Register support for Java 8 date/time types (specified in JSR-310 specification)\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n    \r\n            return objectMapper;\r\n        }\r\n    \r\n        public static class DataSourceObject&lt;T extends Serializable&gt; implements Serializable {\r\n    \r\n            private static final long serialVersionUID = -6026669040755678830L;\r\n    \r\n            private final T concreteObject;\r\n    \r\n            public DataSourceObject(final T concreteObject) {\r\n                this.concreteObject = concreteObject;\r\n            }\r\n    \r\n            public T getConcreteObject() {\r\n                return concreteObject;\r\n            }\r\n    \r\n        }\r\n    \r\n        public static class HotelsListBean implements Serializable {\r\n    \r\n            private final static long serialVersionUID = 1L;\r\n    \r\n            protected String version;\r\n    \r\n            protected MetaResponse metaResponse;\r\n    \r\n            protected HotelsList hotelsList;\r\n    \r\n            public String getVersion() {\r\n                return version;\r\n            }\r\n    \r\n            public void setVersion(String value) {\r\n                this.version = value;\r\n            }\r\n    \r\n            public MetaResponse getMetaResponse() {\r\n                return metaResponse;\r\n            }\r\n    \r\n            public void setMetaResponse(MetaResponse value) {\r\n                this.metaResponse = value;\r\n            }\r\n    \r\n            public HotelsList getHotelsList() {\r\n                return hotelsList;\r\n            }\r\n    \r\n            public void setHotelsList(HotelsList hotelsList) {\r\n                this.hotelsList = hotelsList;\r\n            }\r\n        }\r\n    \r\n        public static class MetaResponse implements Serializable {\r\n    \r\n            private final static long serialVersionUID = 1L;\r\n    \r\n            protected String returncode;\r\n            protected String date;\r\n    \r\n            public String getReturncode() {\r\n                return returncode;\r\n            }\r\n    \r\n            public void setReturncode(String value) {\r\n                this.returncode = value;\r\n            }\r\n    \r\n            public String getDate() {\r\n                return date;\r\n            }\r\n    \r\n            public void setDate(String value) {\r\n                this.date = value;\r\n            }\r\n        }\r\n    \r\n        public static class HotelsList implements Serializable {\r\n    \r\n            private final static long serialVersionUID = 1L;\r\n    \r\n            protected List&lt;Hotel&gt; hotel;\r\n    \r\n            public List&lt;Hotel&gt; getHotel() {\r\n                if (hotel == null) {\r\n                    hotel = new ArrayList&lt;Hotel&gt;();\r\n                }\r\n                return this.hotel;\r\n            }\r\n        }\r\n    \r\n        public static class Hotel implements Serializable {\r\n    \r\n            private final static long serialVersionUID = 1L;\r\n    \r\n            protected String name;\r\n            protected String code;\r\n            protected String nbstars;\r\n            protected String countryCode;\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String value) {\r\n                this.name = value;\r\n            }\r\n    \r\n            public String getCode() {\r\n                return code;\r\n            }\r\n    \r\n            public void setCode(String value) {\r\n                this.code = value;\r\n            }\r\n    \r\n            public String getNbstars() {\r\n                return nbstars;\r\n            }\r\n    \r\n            public void setNbstars(String value) {\r\n                this.nbstars = value;\r\n            }\r\n    \r\n            public String getCountryCode() {\r\n                return countryCode;\r\n            }\r\n    \r\n            public void setCountryCode(String value) {\r\n                this.countryCode = value;\r\n            }\r\n        }\r\n    }\r\n\r\nI would like to know what is possible to successfully deserialize.\r\n\r\n(I tried to add `@JsonCreator` on the DataSourceObject constructor but I get the same exception)","title":"Serialize/Deserialize a java.io.Serializable object but missing type id property","body":"<p>I try to serialize and deserialize an object <code>DataSourceObject</code> that wraps a <code>Serializable</code> object, but I don't know the type of the wrapped object.\nWhen I deserialize the JSON, I get an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.accor.assets.TestSerialization$DataSourceObject` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (String)&quot;{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$DataSourceObject&quot;,&quot;concreteObject&quot;:{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$HotelsListBean&quot;,&quot;version&quot;:&quot;1.0&quot;,&quot;metaResponse&quot;:{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$MetaResponse&quot;,&quot;returncode&quot;:&quot;0&quot;,&quot;date&quot;:&quot;10/28/21 09:39:14 AM&quot;},&quot;hotelsList&quot;:{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$HotelsList&quot;,&quot;hotel&quot;:[&quot;java.util.ArrayList&quot;,[{&quot;@class&quot;:&quot;com.accor.assets.TestSerialization$Hotel&quot;,&quot;name&quot;:&quot;My Hotel&quot;,&quot;code&quot;:&quot;H001&quot;,&quot;nbstars&quot;:&quot;4&quot;,&quot;countryCode&quot;:&quot;G&quot;[truncated 8 chars]; line: 1, column: 65]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1764)\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1209)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1415)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:362)\n</code></pre>\n<p>Here is a complete example to reproduce the problem:</p>\n<pre><code>public class TestSerialization {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        ObjectMapper objectMapper = objectMapper();\n\n        HotelsListBean hotelsListBean = new HotelsListBean();\n\n        hotelsListBean.setVersion(&quot;1.0&quot;);\n        MetaResponse metaResponse = new MetaResponse();\n        metaResponse.setReturncode(&quot;0&quot;);\n        metaResponse.setDate(&quot;10/28/21 09:39:14 AM&quot;);\n        hotelsListBean.setMetaResponse(metaResponse);\n\n        HotelsList hotelsList = new HotelsList();\n        Hotel hotel = new Hotel();\n        hotel.setCode(&quot;H001&quot;);\n        hotel.setName(&quot;My Hotel&quot;);\n        hotel.setCountryCode(&quot;GB&quot;);\n        hotel.setNbstars(&quot;4&quot;);\n        hotelsList.getHotel().add(hotel);\n        hotelsListBean.setHotelsList(hotelsList);\n\n        DataSourceObject&lt;HotelsListBean&gt; dataSourceObject = new DataSourceObject&lt;&gt;(hotelsListBean);\n\n        String json = objectMapper.writeValueAsString(dataSourceObject);\n        System.out.println(json);\n\n        Object result = objectMapper.readValue(json, Object.class);\n        System.out.println(result);\n    }\n\n    private static ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        objectMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\n        objectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        objectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n        objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator(), ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n\n        // Register support of other new Java 8 datatypes outside of date/time: most notably Optional, OptionalLong, OptionalDouble\n        objectMapper.registerModule(new Jdk8Module());\n\n        // Register support for Java 8 date/time types (specified in JSR-310 specification)\n        objectMapper.registerModule(new JavaTimeModule());\n\n        return objectMapper;\n    }\n\n    public static class DataSourceObject&lt;T extends Serializable&gt; implements Serializable {\n\n        private static final long serialVersionUID = -6026669040755678830L;\n\n        private final T concreteObject;\n\n        public DataSourceObject(final T concreteObject) {\n            this.concreteObject = concreteObject;\n        }\n\n        public T getConcreteObject() {\n            return concreteObject;\n        }\n\n    }\n\n    public static class HotelsListBean implements Serializable {\n\n        private final static long serialVersionUID = 1L;\n\n        protected String version;\n\n        protected MetaResponse metaResponse;\n\n        protected HotelsList hotelsList;\n\n        public String getVersion() {\n            return version;\n        }\n\n        public void setVersion(String value) {\n            this.version = value;\n        }\n\n        public MetaResponse getMetaResponse() {\n            return metaResponse;\n        }\n\n        public void setMetaResponse(MetaResponse value) {\n            this.metaResponse = value;\n        }\n\n        public HotelsList getHotelsList() {\n            return hotelsList;\n        }\n\n        public void setHotelsList(HotelsList hotelsList) {\n            this.hotelsList = hotelsList;\n        }\n    }\n\n    public static class MetaResponse implements Serializable {\n\n        private final static long serialVersionUID = 1L;\n\n        protected String returncode;\n        protected String date;\n\n        public String getReturncode() {\n            return returncode;\n        }\n\n        public void setReturncode(String value) {\n            this.returncode = value;\n        }\n\n        public String getDate() {\n            return date;\n        }\n\n        public void setDate(String value) {\n            this.date = value;\n        }\n    }\n\n    public static class HotelsList implements Serializable {\n\n        private final static long serialVersionUID = 1L;\n\n        protected List&lt;Hotel&gt; hotel;\n\n        public List&lt;Hotel&gt; getHotel() {\n            if (hotel == null) {\n                hotel = new ArrayList&lt;Hotel&gt;();\n            }\n            return this.hotel;\n        }\n    }\n\n    public static class Hotel implements Serializable {\n\n        private final static long serialVersionUID = 1L;\n\n        protected String name;\n        protected String code;\n        protected String nbstars;\n        protected String countryCode;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String value) {\n            this.name = value;\n        }\n\n        public String getCode() {\n            return code;\n        }\n\n        public void setCode(String value) {\n            this.code = value;\n        }\n\n        public String getNbstars() {\n            return nbstars;\n        }\n\n        public void setNbstars(String value) {\n            this.nbstars = value;\n        }\n\n        public String getCountryCode() {\n            return countryCode;\n        }\n\n        public void setCountryCode(String value) {\n            this.countryCode = value;\n        }\n    }\n}\n</code></pre>\n<p>I would like to know what is possible to successfully deserialize.</p>\n<p>(I tried to add <code>@JsonCreator</code> on the DataSourceObject constructor but I get the same exception)</p>\n"},{"tags":["java","pdfbox","ioexception","pdfmerger"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1635495951,"post_id":69763370,"comment_id":123319006,"body_markdown":"Is this your actual code? The `document` is never used. If there is more, then close it AFTER all merges are done. If this doesn&#39;t help, please edit your question to include the stack trace.","body":"Is this your actual code? The <code>document</code> is never used. If there is more, then close it AFTER all merges are done. If this doesn&#39;t help, please edit your question to include the stack trace."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1635496936,"post_id":69763370,"comment_id":123319355,"body_markdown":"Also make sure you&#39;re using the latest version (2.0.24). This looks like 1.8.","body":"Also make sure you&#39;re using the latest version (2.0.24). This looks like 1.8."}],"owner":{"account_id":21263798,"reputation":9,"user_id":15644299,"display_name":"Alex Pandian Bala Murugan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635496057,"creation_date":1635478946,"question_id":69763370,"body_markdown":"I&#39;m trying to merge multiple pdf files in java using pdfbox jar using this code. when it&#39;s trying to merge the second pdf in to first...it&#39;s getting Stream closed error. can anyone pls help me with this? \r\n\r\n\r\n```\r\n public static string PDFMergingForForeignModule String(folder_name) {\r\n      //Creating a File object for directory\r\n\t  String path = &quot;E:\\Code&quot;;\r\n\r\n      File directoryPath = new File(path);\r\n      File[] files = directoryPath.list();\r\n\t  \r\n\t  String mergedFileName = &quot;Merged_&quot;+folder_name+&quot;.pdf&quot;;\r\n\t  path = path + &quot;\\\\&quot;+ mergedFileName;\r\n      mergePDFFiles(files, path);\r\n\t  \r\n  \r\n      File mergedFile = new File(mergedFileName);\r\n\t }\r\n\r\npublic void mergePDFFiles(File[] files, String filepath) throws COSVisitorException{\r\n    try {\r\n        PDFMergerUtility pdfmerger = new PDFMergerUtility();\r\n        for (File file : files) {\r\n            PDDocument document = PDDocument.load(file);\r\n            pdfmerger.setDestinationFileName(filepath);\r\n            pdfmerger.addSource(file);\r\n            pdfmerger.mergeDocuments();\r\n            document.close();\r\n        }\r\n    } catch (IOException e) {\r\n        logger.error(&quot;Error to merge files. Error: &quot; + e.getMessage());\r\n    }\r\n}\r\n```","title":"how to solve &quot;stream closed error&quot; in java?","body":"<p>I'm trying to merge multiple pdf files in java using pdfbox jar using this code. when it's trying to merge the second pdf in to first...it's getting Stream closed error. can anyone pls help me with this?</p>\n<pre><code> public static string PDFMergingForForeignModule String(folder_name) {\n      //Creating a File object for directory\n      String path = &quot;E:\\Code&quot;;\n\n      File directoryPath = new File(path);\n      File[] files = directoryPath.list();\n      \n      String mergedFileName = &quot;Merged_&quot;+folder_name+&quot;.pdf&quot;;\n      path = path + &quot;\\\\&quot;+ mergedFileName;\n      mergePDFFiles(files, path);\n      \n  \n      File mergedFile = new File(mergedFileName);\n     }\n\npublic void mergePDFFiles(File[] files, String filepath) throws COSVisitorException{\n    try {\n        PDFMergerUtility pdfmerger = new PDFMergerUtility();\n        for (File file : files) {\n            PDDocument document = PDDocument.load(file);\n            pdfmerger.setDestinationFileName(filepath);\n            pdfmerger.addSource(file);\n            pdfmerger.mergeDocuments();\n            document.close();\n        }\n    } catch (IOException e) {\n        logger.error(&quot;Error to merge files. Error: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","spring-boot","kotlin","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635491885,"creation_date":1635491885,"answer_id":69765006,"question_id":69764425,"body_markdown":"This is a hex string representing the serialized `ArrayList` object. See [Serializable Objects](https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html) for details about object serialization in Java.\r\n\r\nRunning the following code yields the same result:\r\n\r\n```lang-java\r\nList&lt;String&gt; symptoms = new ArrayList&lt;&gt;(Arrays.asList(&quot;Fever&quot;, &quot;Cough&quot;));\r\nByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\nObjectOutputStream objectOutputStream = new ObjectOutputStream(byteArrayOutputStream);\r\nobjectOutputStream.writeObject(symptoms);\r\nbyte[] serializedObject = byteArrayOutputStream.toByteArray();\r\nString hex = Hex.encodeHexString(serializedObject); // Apache Commons Codec\r\nSystem.out.println(hex);\r\n```\r\n```\r\naced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a657870000000027704000000027400054665766572740005436f75676878\r\n```","title":"Why Arraylist&lt;String&gt; get stored in H2 database as a long and random string?","body":"<p>This is a hex string representing the serialized <code>ArrayList</code> object. See <a href=\"https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html\" rel=\"nofollow noreferrer\">Serializable Objects</a> for details about object serialization in Java.</p>\n<p>Running the following code yields the same result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; symptoms = new ArrayList&lt;&gt;(Arrays.asList(&quot;Fever&quot;, &quot;Cough&quot;));\nByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\nObjectOutputStream objectOutputStream = new ObjectOutputStream(byteArrayOutputStream);\nobjectOutputStream.writeObject(symptoms);\nbyte[] serializedObject = byteArrayOutputStream.toByteArray();\nString hex = Hex.encodeHexString(serializedObject); // Apache Commons Codec\nSystem.out.println(hex);\n</code></pre>\n<pre><code>aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a657870000000027704000000027400054665766572740005436f75676878\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5982719,"reputation":1091,"user_id":4701158,"accept_rate":50,"display_name":"John Kim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635496008,"creation_date":1635493621,"answer_id":69765328,"question_id":69764425,"body_markdown":"The raw string seen in the DB is a serialized object.\r\n\r\nOne way of implementing this is to first join your string ArrayList into one delimited string, **but I highly recommend against this.**\r\nIn general it&#39;s bad practice to put a list into a single field of a table. What you should be doing is creating a separate table for Symptoms with a one-to-many relationship with Evaluation. \r\n\r\nYou need to be aware of denormalization while designing your objects when using JPA. In your case, consider the following questions : \r\n\r\n1) What happens if you want to query evaluations with specific symptoms? \r\n2) What happens if you want to query a list of all the symptoms? \r\n3) What happens if you want to expand symptoms with some other detail, such as date when a symptom appeared? \r\n\r\nIf you are ever in a situation of trying to add a collection of something into a database field 99.9999% of the time you&#39;re doing it wrong. Symptoms should be their own entity, and you have a one-to-many or many-to-many relationship between evaluation and symptom, depending on what you require. \r\n\r\nEdit : \r\n\r\nTo clarify my answer further, when designing object classes think about whether a field is a value object or an entity. A value object is something that cannot be broken down further and can be represented by a primitive, such as Date, String, Int, etc. Some examples could be an object ID, name, phone number, etc. \r\n\r\nAn entity is an object that can be expanded further, like the Evaluations object you created. Within Evaluations you have a list of Symptoms, and you&#39;re treating Symptoms as a value object. Is it a value object though? I can immediately think of some additional fields you could put into a Symptom object, and by denormalizing symptoms the way you did, you are also inputting tons of duplicate data into the database. \r\n\r\nAn evaluation object containing [&quot;Fever&quot;, &quot;Cough&quot;] in your implementation will be input into the database as one field. But another evaluation object containing the same symptoms will be input into the database for that evaluation because you don&#39;t have a foreign key dependency or a separate table representing symptoms. On top of not being able to query symptoms in relation with evaluations, or not being able to query symptoms on their own.\r\n\r\n","title":"Why Arraylist&lt;String&gt; get stored in H2 database as a long and random string?","body":"<p>The raw string seen in the DB is a serialized object.</p>\n<p>One way of implementing this is to first join your string ArrayList into one delimited string, <strong>but I highly recommend against this.</strong>\nIn general it's bad practice to put a list into a single field of a table. What you should be doing is creating a separate table for Symptoms with a one-to-many relationship with Evaluation.</p>\n<p>You need to be aware of denormalization while designing your objects when using JPA. In your case, consider the following questions :</p>\n<ol>\n<li>What happens if you want to query evaluations with specific symptoms?</li>\n<li>What happens if you want to query a list of all the symptoms?</li>\n<li>What happens if you want to expand symptoms with some other detail, such as date when a symptom appeared?</li>\n</ol>\n<p>If you are ever in a situation of trying to add a collection of something into a database field 99.9999% of the time you're doing it wrong. Symptoms should be their own entity, and you have a one-to-many or many-to-many relationship between evaluation and symptom, depending on what you require.</p>\n<p>Edit :</p>\n<p>To clarify my answer further, when designing object classes think about whether a field is a value object or an entity. A value object is something that cannot be broken down further and can be represented by a primitive, such as Date, String, Int, etc. Some examples could be an object ID, name, phone number, etc.</p>\n<p>An entity is an object that can be expanded further, like the Evaluations object you created. Within Evaluations you have a list of Symptoms, and you're treating Symptoms as a value object. Is it a value object though? I can immediately think of some additional fields you could put into a Symptom object, and by denormalizing symptoms the way you did, you are also inputting tons of duplicate data into the database.</p>\n<p>An evaluation object containing [&quot;Fever&quot;, &quot;Cough&quot;] in your implementation will be input into the database as one field. But another evaluation object containing the same symptoms will be input into the database for that evaluation because you don't have a foreign key dependency or a separate table representing symptoms. On top of not being able to query symptoms in relation with evaluations, or not being able to query symptoms on their own.</p>\n"}],"owner":{"account_id":11977586,"reputation":213,"user_id":8764294,"display_name":"Aniket Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1165,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69765328,"answer_count":2,"score":3,"last_activity_date":1635496008,"creation_date":1635488208,"question_id":69764425,"body_markdown":"I created an entity (Model or Data class) in a Spring-Boot (Kotlin) project which contains a field with the type Arraylist&lt;String&gt; but when I send an array data in JSON format from Postman, the Array gets stored in the database as a long random string.\r\n\r\nWhen I try to retrieve the data from the database I get the actual array, perfectly formated.\r\n\r\nMy question is why is an ArrayList&lt;String&gt; stored in an H2 database like this???\r\n\r\nEvaluation.kt\r\n\r\n    @Entity\r\n    data class Evaluation (\r\n     @Id val id : String,\r\n     val timeStamp : Long,\r\n     val symptoms : ArrayList&lt;String&gt;,\r\n     val travelHistory : Boolean,\r\n     val contactWithCovidPatient : Boolean,\r\n     val evaluatedBy : String,\r\n     var evaluationPercentage : String? = null,\r\n     @ManyToOne var user: User? = null\r\n    )\r\n\r\nEvaluationController.kt\r\n\r\n    @RestController\r\n    class EvaluationController (val evaluationService: IEvaluationService) {\r\n\r\n    @PostMapping(&quot;evaluate/{userId}&quot;)\r\n    fun evaluateUser(@PathVariable userId : String, @RequestBody evaluation: Evaluation) : ResponseEntity&lt;Evaluation&gt; =\r\n        ResponseEntity.ok().body(evaluationService.addEvaluation(evaluation, userId))\r\n    \r\n    }\r\n\r\nRequest Body JSON\r\n\r\n    {\r\n    &quot;id&quot;:&quot;e_01&quot;,\r\n    &quot;timeStamp&quot;:&quot;123456789&quot;,\r\n    &quot;pinCode&quot;:&quot;123457&quot;,\r\n    &quot;travelHistory&quot;:true,\r\n    &quot;contactWithCovidPatient&quot;:true,\r\n    &quot;evaluatedBy&quot;:&quot;u_01&quot;,\r\n    &quot;symptoms&quot;: [&quot;Fever&quot;,&quot;Cough&quot;]\r\n    }\r\n\r\nResponse JSON\r\n\r\n    {\r\n    &quot;id&quot;: &quot;e_01&quot;,\r\n    &quot;timeStamp&quot;: 123456789,\r\n    &quot;symptoms&quot;: [\r\n        &quot;Fever&quot;,\r\n        &quot;Cough&quot;\r\n    ],\r\n    &quot;travelHistory&quot;: true,\r\n    &quot;contactWithCovidPatient&quot;: true,\r\n    &quot;evaluatedBy&quot;: &quot;u_01&quot;,\r\n    &quot;evaluationPercentage&quot;: &quot;95&quot;,\r\n    &quot;user&quot;: {\r\n        &quot;id&quot;: &quot;u_01&quot;,\r\n        &quot;name&quot;: &quot;abc01&quot;,\r\n        &quot;phoneNumber&quot;: &quot;9876543210&quot;,\r\n        &quot;pinCode&quot;: &quot;123457&quot;,\r\n        &quot;covidResult&quot;: &quot;Positive&quot;\r\n    }\r\n    }\r\n\r\nH2 Database Table\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PT6tn.png","title":"Why Arraylist&lt;String&gt; get stored in H2 database as a long and random string?","body":"<p>I created an entity (Model or Data class) in a Spring-Boot (Kotlin) project which contains a field with the type Arraylist but when I send an array data in JSON format from Postman, the Array gets stored in the database as a long random string.</p>\n<p>When I try to retrieve the data from the database I get the actual array, perfectly formated.</p>\n<p>My question is why is an ArrayList stored in an H2 database like this???</p>\n<p>Evaluation.kt</p>\n<pre><code>@Entity\ndata class Evaluation (\n @Id val id : String,\n val timeStamp : Long,\n val symptoms : ArrayList&lt;String&gt;,\n val travelHistory : Boolean,\n val contactWithCovidPatient : Boolean,\n val evaluatedBy : String,\n var evaluationPercentage : String? = null,\n @ManyToOne var user: User? = null\n)\n</code></pre>\n<p>EvaluationController.kt</p>\n<pre><code>@RestController\nclass EvaluationController (val evaluationService: IEvaluationService) {\n\n@PostMapping(&quot;evaluate/{userId}&quot;)\nfun evaluateUser(@PathVariable userId : String, @RequestBody evaluation: Evaluation) : ResponseEntity&lt;Evaluation&gt; =\n    ResponseEntity.ok().body(evaluationService.addEvaluation(evaluation, userId))\n\n}\n</code></pre>\n<p>Request Body JSON</p>\n<pre><code>{\n&quot;id&quot;:&quot;e_01&quot;,\n&quot;timeStamp&quot;:&quot;123456789&quot;,\n&quot;pinCode&quot;:&quot;123457&quot;,\n&quot;travelHistory&quot;:true,\n&quot;contactWithCovidPatient&quot;:true,\n&quot;evaluatedBy&quot;:&quot;u_01&quot;,\n&quot;symptoms&quot;: [&quot;Fever&quot;,&quot;Cough&quot;]\n}\n</code></pre>\n<p>Response JSON</p>\n<pre><code>{\n&quot;id&quot;: &quot;e_01&quot;,\n&quot;timeStamp&quot;: 123456789,\n&quot;symptoms&quot;: [\n    &quot;Fever&quot;,\n    &quot;Cough&quot;\n],\n&quot;travelHistory&quot;: true,\n&quot;contactWithCovidPatient&quot;: true,\n&quot;evaluatedBy&quot;: &quot;u_01&quot;,\n&quot;evaluationPercentage&quot;: &quot;95&quot;,\n&quot;user&quot;: {\n    &quot;id&quot;: &quot;u_01&quot;,\n    &quot;name&quot;: &quot;abc01&quot;,\n    &quot;phoneNumber&quot;: &quot;9876543210&quot;,\n    &quot;pinCode&quot;: &quot;123457&quot;,\n    &quot;covidResult&quot;: &quot;Positive&quot;\n}\n}\n</code></pre>\n<p>H2 Database Table</p>\n<p><a href=\"https://i.stack.imgur.com/PT6tn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PT6tn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","completable-future"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1635423294,"post_id":69753854,"comment_id":123297538,"body_markdown":"The problem is your stream is calling `#fetchData`, which performs a lot of synchronous code and then wraps the already-retrieved result within the `CompletableFuture`. You want something along the lines of `CompletableFuture#supplyAsync` for nearly the entire method body, which would be the generating `Supplier&lt;Integer&gt;` for CompletableFuture to run.","body":"The problem is your stream is calling <code>#fetchData</code>, which performs a lot of synchronous code and then wraps the already-retrieved result within the <code>CompletableFuture</code>. You want something along the lines of <code>CompletableFuture#supplyAsync</code> for nearly the entire method body, which would be the generating <code>Supplier&lt;Integer&gt;</code> for CompletableFuture to run."}],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635495314,"creation_date":1635424268,"answer_id":69754152,"question_id":69753854,"body_markdown":"@Aync will not work if its invoked from within same class cause it will call the original method not the Intercepted one, so change fetchData method to return Integer then call the method using compleatableFuture.supplyAsync() which actually spawns new thread to execute that method\r\n\r\n\r\n\r\n \r\n\r\n       List&lt;CompleatbleFutures&gt; futures= clientIdList.stream()\r\n        .map(id-&gt;CompleatbleFutures.supplyAsync(fetchdata(..)))\r\n        .collect(Collectors.toList());\r\n        CompleatbleFuture.allOf(futures.toArray(futures.size));\r\n\r\n\r\n\r\n","title":"Java Start multiple CompletableFuture asynchronously and wait for them to finish","body":"<p>@Aync will not work if its invoked from within same class cause it will call the original method not the Intercepted one, so change fetchData method to return Integer then call the method using compleatableFuture.supplyAsync() which actually spawns new thread to execute that method</p>\n<pre><code>   List&lt;CompleatbleFutures&gt; futures= clientIdList.stream()\n    .map(id-&gt;CompleatbleFutures.supplyAsync(fetchdata(..)))\n    .collect(Collectors.toList());\n    CompleatbleFuture.allOf(futures.toArray(futures.size));\n</code></pre>\n"}],"owner":{"account_id":1473282,"reputation":2461,"user_id":1384302,"accept_rate":69,"display_name":"AL̲̳I"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635495314,"creation_date":1635423041,"question_id":69753854,"body_markdown":"I have a list of clients for which I want to collect the data from an external api.\r\nI would like to start multiple threads to collect data and wait for all of them to complete and if each thread is not completed in certain time I would like to save this in a database. \r\nI am using `CompletableFuture.allOf`\r\n\r\nMy code looks like this \r\n\r\n\r\n        public void fetchDataForAllClients() {\r\n            String previousDate = DateUtils.getPreviousDate();\r\n            List&lt;Integer&gt; clientIdList = PropertiesUtil.getClientIdList();\r\n    \r\n            CompletableFuture.allOf(clientIdList.stream()\r\n                            .map(clientId -&gt; fetchData(previousDate, clientId)\r\n                                    .exceptionally(e -&gt; {\r\n                                        LOGGER.error(e.getMessage(), e);\r\n                                        return null;\r\n                                    })\r\n                                    .thenAcceptAsync(s -&gt; System.out.println(s + &quot;. FetchDataThread Finished for &quot;+ clientId + &quot; at &quot; + LocalDateTime.now())))\r\n                            .toArray(CompletableFuture&lt;?&gt;[]::new))\r\n                    .join();\r\n        }\r\n\r\n        @Async\r\n        CompletableFuture&lt;Integer&gt; fetchData(final String date, final Integer clientId) {\r\n            counter++;\r\n            System.out.println(counter + &quot;. FetchDataThread Started for &quot;+ clientId + &quot; at &quot; + LocalDateTime.now());\r\n            boolean failed = false;\r\n            String errorMsg = null;\r\n            try {\r\n                myApiService.fetchDataForClient(clientId, date, date);\r\n            } catch (MyApiException exception) {\r\n                failed = true;\r\n                errorMsg = exception.getMessage();\r\n            }\r\n            fetchStatsService.createFetchStats(clientId, date, failed, errorMsg);\r\n            return CompletableFuture.completedFuture(counter);\r\n        }\r\n    \r\nThe problem with this is that it does not start `fetchData(previousDate, clientId)` in Async. It runs sequentially. \r\n","title":"Java Start multiple CompletableFuture asynchronously and wait for them to finish","body":"<p>I have a list of clients for which I want to collect the data from an external api.\nI would like to start multiple threads to collect data and wait for all of them to complete and if each thread is not completed in certain time I would like to save this in a database.\nI am using <code>CompletableFuture.allOf</code></p>\n<p>My code looks like this</p>\n<pre><code>    public void fetchDataForAllClients() {\n        String previousDate = DateUtils.getPreviousDate();\n        List&lt;Integer&gt; clientIdList = PropertiesUtil.getClientIdList();\n\n        CompletableFuture.allOf(clientIdList.stream()\n                        .map(clientId -&gt; fetchData(previousDate, clientId)\n                                .exceptionally(e -&gt; {\n                                    LOGGER.error(e.getMessage(), e);\n                                    return null;\n                                })\n                                .thenAcceptAsync(s -&gt; System.out.println(s + &quot;. FetchDataThread Finished for &quot;+ clientId + &quot; at &quot; + LocalDateTime.now())))\n                        .toArray(CompletableFuture&lt;?&gt;[]::new))\n                .join();\n    }\n\n    @Async\n    CompletableFuture&lt;Integer&gt; fetchData(final String date, final Integer clientId) {\n        counter++;\n        System.out.println(counter + &quot;. FetchDataThread Started for &quot;+ clientId + &quot; at &quot; + LocalDateTime.now());\n        boolean failed = false;\n        String errorMsg = null;\n        try {\n            myApiService.fetchDataForClient(clientId, date, date);\n        } catch (MyApiException exception) {\n            failed = true;\n            errorMsg = exception.getMessage();\n        }\n        fetchStatsService.createFetchStats(clientId, date, failed, errorMsg);\n        return CompletableFuture.completedFuture(counter);\n    }\n</code></pre>\n<p>The problem with this is that it does not start <code>fetchData(previousDate, clientId)</code> in Async. It runs sequentially.</p>\n"},{"tags":["java","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1584545639,"post_id":60742617,"comment_id":107470793,"body_markdown":"The [javadoc](https://docs.spring.io/spring-security-oauth2-boot/docs/current/api/org/springframework/boot/autoconfigure/security/oauth2/client/EnableOAuth2Sso.html) linked to [this github page](https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide), which is a migration guide. Seems like you need to do [this](https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide#simplified-enablement-1)","body":"The <a href=\"https://docs.spring.io/spring-security-oauth2-boot/docs/current/api/org/springframework/boot/autoconfigure/security/oauth2/client/EnableOAuth2Sso.html\" rel=\"nofollow noreferrer\">javadoc</a> linked to <a href=\"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\" rel=\"nofollow noreferrer\">this github page</a>, which is a migration guide. Seems like you need to do <a href=\"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide#simplified-enablement-1\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":13206888,"reputation":496,"user_id":9538337,"display_name":"Alwaysa Learner"},"score":0,"creation_date":1595456170,"post_id":60742617,"comment_id":111484843,"body_markdown":"This could be a useful link: https://spring.io/guides/tutorials/spring-boot-oauth2/","body":"This could be a useful link: <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">spring.io/guides/tutorials/spring-boot-oauth2</a>"},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1595461772,"post_id":60742617,"comment_id":111486325,"body_markdown":"Html = boring  :)","body":"Html = boring  :)"}],"answers":[{"tags":[],"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1584551395,"creation_date":1584551395,"answer_id":60744344,"question_id":60742617,"body_markdown":"This is a solution to latest Spring Security with Facebook OAuth2.0.\r\n\r\nSecurity:\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n    \r\n        \thttp\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/Intranet/Bokning&quot;).authenticated() // Block this \r\n            .antMatchers(&quot;/**&quot;, &quot;/Intranet**&quot;).permitAll() // Allow this for all\r\n            .anyRequest().authenticated()\r\n            .and().logout().logoutSuccessUrl(&quot;/&quot;).permitAll()\r\n            .and()\r\n            .oauth2Login();\r\n        }\r\n    }\r\n\r\nAnd `appllication.yml`\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            registration:\r\n               facebook:\r\n                  clientId: myID\r\n                  clientSecret: mySecret\r\n                  accessTokenUri: https://graph.facebook.com/oauth/access_token\r\n                  userAuthorizationUri: https://www.facebook.com/dialog/oauth\r\n                  tokenName: oauth_token\r\n                  authenticationScheme: query\r\n                  clientAuthenticationScheme: form\r\n                  resource:\r\n                     userInfoUri: https://graph.facebook.com/me\r\n    \r\n    server:\r\n      port: 8080\r\n\r\n\r\nAnd `pom.xml` file:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Why is @EnableOAuth2Sso deprecated?","body":"<p>This is a solution to latest Spring Security with Facebook OAuth2.0.</p>\n\n<p>Security:</p>\n\n<pre><code>@Configuration\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n\n        http\n        .csrf().disable()\n        .authorizeRequests()\n        .antMatchers(\"/Intranet/Bokning\").authenticated() // Block this \n        .antMatchers(\"/**\", \"/Intranet**\").permitAll() // Allow this for all\n        .anyRequest().authenticated()\n        .and().logout().logoutSuccessUrl(\"/\").permitAll()\n        .and()\n        .oauth2Login();\n    }\n}\n</code></pre>\n\n<p>And <code>appllication.yml</code></p>\n\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n           facebook:\n              clientId: myID\n              clientSecret: mySecret\n              accessTokenUri: https://graph.facebook.com/oauth/access_token\n              userAuthorizationUri: https://www.facebook.com/dialog/oauth\n              tokenName: oauth_token\n              authenticationScheme: query\n              clientAuthenticationScheme: form\n              resource:\n                 userInfoUri: https://graph.facebook.com/me\n\nserver:\n  port: 8080\n</code></pre>\n\n<p>And <code>pom.xml</code> file:</p>\n\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647634,"reputation":1080,"user_id":2290016,"accept_rate":33,"display_name":"Kalaiselvam M"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635495305,"creation_date":1635495305,"answer_id":69765649,"question_id":60742617,"body_markdown":"In Spring Security 5.2.x those annotations are deprecated and we need to use DSL method.\r\n\r\n \r\n\r\n    public class SecurityConf extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.oauth2Client(); //equivalent to @EnableOAuth2Client\r\n        http.oauth2Login();  //equivalent to @EnableOAuth2Sso\r\n\r\n    }\r\nSpring OAuth2 migration guide\r\nhttps://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\r\n ","title":"Why is @EnableOAuth2Sso deprecated?","body":"<p>In Spring Security 5.2.x those annotations are deprecated and we need to use DSL method.</p>\n<pre><code>public class SecurityConf extends WebSecurityConfigurerAdapter {\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.oauth2Client(); //equivalent to @EnableOAuth2Client\n    http.oauth2Login();  //equivalent to @EnableOAuth2Sso\n\n}\n</code></pre>\n<p>Spring OAuth2 migration guide\n<a href=\"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide</a></p>\n"}],"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13370,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":60744344,"answer_count":2,"score":7,"last_activity_date":1635495305,"creation_date":1584545167,"question_id":60742617,"body_markdown":"Why is `@EnableOAuth2Sso` deprecated in Spring Security?\r\nThat&#39;s the only reason why OAuth2 will work for me.\r\n\r\nIf I remove `@EnableOAuth2Sso`, then this will not work\r\n\r\n    @Configuration\r\n    @EnableOAuth2Client\r\n    @EnableOAuth2Sso &lt;- Need to have this!\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n        \thttp\r\n    \t\t.csrf().disable()\r\n    \t\t.authorizeRequests()\r\n    \t\t.antMatchers(&quot;/Intranet/Bokning&quot;).authenticated()\r\n            .antMatchers(&quot;/**&quot;, &quot;/Intranet**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and().logout().logoutSuccessUrl(&quot;/&quot;).permitAll();\r\n        }\r\n    \r\n    }\r\n\r\nIs there another solution? ","title":"Why is @EnableOAuth2Sso deprecated?","body":"<p>Why is <code>@EnableOAuth2Sso</code> deprecated in Spring Security?\nThat's the only reason why OAuth2 will work for me.</p>\n\n<p>If I remove <code>@EnableOAuth2Sso</code>, then this will not work</p>\n\n<pre><code>@Configuration\n@EnableOAuth2Client\n@EnableOAuth2Sso &lt;- Need to have this!\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n        .csrf().disable()\n        .authorizeRequests()\n        .antMatchers(\"/Intranet/Bokning\").authenticated()\n        .antMatchers(\"/**\", \"/Intranet**\").permitAll()\n        .anyRequest().authenticated()\n        .and().logout().logoutSuccessUrl(\"/\").permitAll();\n    }\n\n}\n</code></pre>\n\n<p>Is there another solution? </p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":0,"creation_date":1633471690,"post_id":69457676,"comment_id":122767784,"body_markdown":"Inline import is definitely an incorrect syntax and not expected to be produced by Intellij Idea, this means that there should not be any settings for such a thing. If its happening to you, I would suggest filling a bug against the version showing this behaviour.","body":"Inline import is definitely an incorrect syntax and not expected to be produced by Intellij Idea, this means that there should not be any settings for such a thing. If its happening to you, I would suggest filling a bug against the version showing this behaviour."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1633474817,"post_id":69457676,"comment_id":122768390,"body_markdown":"Do you mean that it’s using fully-qualified names _instead of_ imports? Can you include an example of the code it is producing in the question?","body":"Do you mean that it’s using fully-qualified names <i>instead of</i> imports? Can you include an example of the code it is producing in the question?"},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1633502747,"post_id":69457676,"comment_id":122773191,"body_markdown":"What is the kang, btw? Check **Preferences | Editor | Code Style | &lt;language&gt; | imports**. &quot;Single class import&quot; could do the trick","body":"What is the kang, btw? Check <b>Preferences | Editor | Code Style | &lt;language&gt; | imports</b>. &quot;Single class import&quot; could do the trick"},{"owner":{"account_id":447442,"reputation":113,"user_id":841062,"display_name":"tfandango"},"score":0,"creation_date":1633537751,"post_id":69457676,"comment_id":122788012,"body_markdown":"@TimMoore, thanks for the question, yes sorry that is what I mean, fully qualified names are being auto-inserted in-line instead of imported at the top of the file.  I will update my question. So instead of &quot;import java.time.LocalDate;&quot; at the top, I will see &quot; java.time.LocalDate myDate = null;&quot; in the code when I type LocalDate.","body":"@TimMoore, thanks for the question, yes sorry that is what I mean, fully qualified names are being auto-inserted in-line instead of imported at the top of the file.  I will update my question. So instead of &quot;import java.time.LocalDate;&quot; at the top, I will see &quot; java.time.LocalDate myDate = null;&quot; in the code when I type LocalDate."},{"owner":{"account_id":447442,"reputation":113,"user_id":841062,"display_name":"tfandango"},"score":0,"creation_date":1633538347,"post_id":69457676,"comment_id":122788241,"body_markdown":"@KonstantinAnnikov It is Java.  I believe you pointed me to the correct setting.  I did have &quot;single class import&quot; set, but somehow I also had &quot;use fully qualified class names&quot; set.  I am not sure how that happened, and when I searched I was looking for &quot;import&quot;.  Thanks to you and TimMoore.","body":"@KonstantinAnnikov It is Java.  I believe you pointed me to the correct setting.  I did have &quot;single class import&quot; set, but somehow I also had &quot;use fully qualified class names&quot; set.  I am not sure how that happened, and when I searched I was looking for &quot;import&quot;.  Thanks to you and TimMoore."},{"owner":{"account_id":447442,"reputation":113,"user_id":841062,"display_name":"tfandango"},"score":0,"creation_date":1633538434,"post_id":69457676,"comment_id":122788281,"body_markdown":"If you post an answer @KonstantinAnnikov I will mark it answered.","body":"If you post an answer @KonstantinAnnikov I will mark it answered."}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633578047,"creation_date":1633578047,"answer_id":69475162,"question_id":69457676,"body_markdown":"If the fully qualified name is inserted in the code, instead of import statement, it is needed to tick the **Use fully qualified class names** option under **Preferences | Editor | Code Style | &lt;language&gt; | imports**. \r\nSee the difference: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3ySeY.jpg","title":"IntelliJ IDEA 2021.2.2 importing inline instead of at the top of the file","body":"<p>If the fully qualified name is inserted in the code, instead of import statement, it is needed to tick the <strong>Use fully qualified class names</strong> option under <strong>Preferences | Editor | Code Style |  | imports</strong>.\nSee the difference:</p>\n<p><a href=\"https://i.stack.imgur.com/3ySeY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ySeY.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":447442,"reputation":113,"user_id":841062,"display_name":"tfandango"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69475162,"answer_count":1,"score":0,"last_activity_date":1635495018,"creation_date":1633470992,"question_id":69457676,"body_markdown":"I have been using intelliJ IDEA for quite some time, upgrading as available.  Somehow it started auto adding the fully-qualified class name inline in the code instead of adding the import at the top of the file like it did for years.  I have not been able to change this behavior in settings which means I have to manually move the qualified names to the top as imports and delete them in the code. import cleanup does not move them either, not that it should. It&#39;s driving me insane but I cannot find a setting or anyone else having this problem so I thought I&#39;d ask here.\r\n\r\nExample: I type LocalDate somewhere in code and intelliJ expands it to:\r\n\r\n    java.time.LocalDate myDate = null;\r\n\r\ninstead of adding the import to the top:\r\n\r\n    import java.time.LocalDate;","title":"IntelliJ IDEA 2021.2.2 importing inline instead of at the top of the file","body":"<p>I have been using intelliJ IDEA for quite some time, upgrading as available.  Somehow it started auto adding the fully-qualified class name inline in the code instead of adding the import at the top of the file like it did for years.  I have not been able to change this behavior in settings which means I have to manually move the qualified names to the top as imports and delete them in the code. import cleanup does not move them either, not that it should. It's driving me insane but I cannot find a setting or anyone else having this problem so I thought I'd ask here.</p>\n<p>Example: I type LocalDate somewhere in code and intelliJ expands it to:</p>\n<pre><code>java.time.LocalDate myDate = null;\n</code></pre>\n<p>instead of adding the import to the top:</p>\n<pre><code>import java.time.LocalDate;\n</code></pre>\n"},{"tags":["java","spring-boot","oauth","oauth-1.0a","spring-boot-starter-security"],"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635494958,"creation_date":1635442396,"question_id":69758599,"body_markdown":"I want to create below Authorization header with signature Method HMAC-SHA256, consumer key and consumer Secret only for oAuth1 security. I tried multiple ways but wasn&#39;t able to get the correct value.\r\n\r\nPlease help me. I am trying to create authorization header in java. \r\n\r\nexample:\r\n\r\n    addHeader(&quot;Authorization&quot;, &quot;OAuth oauth_consumer_key=\\&quot;XXXXXXXXXXXXXXXXXXXX\\&quot;,oauth_signature_method=\\&quot;HMAC-SHA256\\&quot;,oauth_timestamp=\\&quot;1635314286\\&quot;,oauth_nonce=\\&quot;JcxiA8z1V6e\\&quot;,oauth_version=\\&quot;1.0\\&quot;,oauth_signature=\\&quot;9Xt21rhLVqFPoc%2FBPxnpfJ9%2BQTKEr1NEkPQMHOY2L7s%3D\\&quot;&quot;)","title":"Create authorization header in oath1 with signature Method HMAC-SHA256, consumer key and consumer Secret only","body":"<p>I want to create below Authorization header with signature Method HMAC-SHA256, consumer key and consumer Secret only for oAuth1 security. I tried multiple ways but wasn't able to get the correct value.</p>\n<p>Please help me. I am trying to create authorization header in java.</p>\n<p>example:</p>\n<pre><code>addHeader(&quot;Authorization&quot;, &quot;OAuth oauth_consumer_key=\\&quot;XXXXXXXXXXXXXXXXXXXX\\&quot;,oauth_signature_method=\\&quot;HMAC-SHA256\\&quot;,oauth_timestamp=\\&quot;1635314286\\&quot;,oauth_nonce=\\&quot;JcxiA8z1V6e\\&quot;,oauth_version=\\&quot;1.0\\&quot;,oauth_signature=\\&quot;9Xt21rhLVqFPoc%2FBPxnpfJ9%2BQTKEr1NEkPQMHOY2L7s%3D\\&quot;&quot;)\n</code></pre>\n"},{"tags":["java","mysql","jdbc","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":10048688,"reputation":94,"user_id":7429156,"display_name":"Abhiram S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635494893,"creation_date":1635494893,"answer_id":69765558,"question_id":68920941,"body_markdown":"Actually, this was an issue with the MySQL driver on Java 11. This has been fixed in Connector/J version 8.0.16. This SSLException log was not coming after this upgrade.\r\nReference for bug: https://bugs.mysql.com/bug.php?id=93590","title":"Can java SSLException: closing inbound before receiving peer&#39;s close_notify be safely ignored?","body":"<p>Actually, this was an issue with the MySQL driver on Java 11. This has been fixed in Connector/J version 8.0.16. This SSLException log was not coming after this upgrade.\nReference for bug: <a href=\"https://bugs.mysql.com/bug.php?id=93590\" rel=\"nofollow noreferrer\">https://bugs.mysql.com/bug.php?id=93590</a></p>\n"}],"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69765558,"answer_count":1,"score":0,"last_activity_date":1635494893,"creation_date":1629886449,"question_id":68920941,"body_markdown":"I&#39;m connecting to a MySQL 5.7 server from a java 1.8 app using the [MySQL Connector/J 5.1.47 (2018-08-17)][1]. I know this an old version of the libary, but I need to use it because I need to also connect to a MySQL 5.5 database from the same java app, and this is the last version that I&#39;m aware of that supports 5.5 and 5.7. I have no problems connecting to both databases, but when I try to close either of the connections, I get the following error printed to my log:\r\n\r\n    Wed Aug 25 10:48:03 IST 2021 WARN: Caught while disconnecting...\r\n\r\n    EXCEPTION STACK TRACE:\r\n\r\n    ** BEGIN NESTED EXCEPTION ** \r\n\r\n    javax.net.ssl.SSLException\r\n    MESSAGE: closing inbound before receiving peer&#39;s close_notify\r\n\r\n    STACKTRACE:\r\n\r\n    javax.net.ssl.SSLException: closing inbound before receiving peer&#39;s close_notify\r\n\t    at sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:726)\r\n\t    at sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:705)\r\n\t    at com.mysql.jdbc.MysqlIO.quit(MysqlIO.java:2249)\r\n\t    at com.mysql.jdbc.ConnectionImpl.realClose(ConnectionImpl.java:4232)\r\n\t    at com.mysql.jdbc.ConnectionImpl.close(ConnectionImpl.java:1472)\r\n\t    at ie.myapp.Database.closeConnection(Database.java:115)\r\n\r\n    ** END NESTED EXCEPTION **\r\n\r\nNote that there is no exception being thrown here. This warning is being printed somewhere along the line in the `java.sql.Connection.close()` call.  There are references to this error around, but a common suggestion I&#39;ve come across is to disable SSL on the connection (which I cannot/will not do).  \r\n\r\nIn any case, based on [this conversation regarding a pull request for the MySQL connector library][2], my understanding is that the warning was suppressed or dropped from later versions of the library, which suggests that the warning is harmless?  \r\n\r\nAlso, I&#39;ve written some tests to confirm that after closing connections to my databases, the database does actually have no record of the users/sessions e.g. `select id, user... from information_schema.processlist` as a rough check that there&#39;s no resource leak on the DB.\r\n\r\nSo, my question is: can anyone that understands this warning (or has an understanding of what might give rise to this warning) advise me if ignoring it will have any side effects? (other than filling my logs with that warning). \r\n\r\n  [1]: https://dev.mysql.com/doc/relnotes/connector-j/5.1/en/news-5-1-47.html\r\n  [2]: https://github.com/mysql/mysql-connector-j/pull/32","title":"Can java SSLException: closing inbound before receiving peer&#39;s close_notify be safely ignored?","body":"<p>I'm connecting to a MySQL 5.7 server from a java 1.8 app using the <a href=\"https://dev.mysql.com/doc/relnotes/connector-j/5.1/en/news-5-1-47.html\" rel=\"nofollow noreferrer\">MySQL Connector/J 5.1.47 (2018-08-17)</a>. I know this an old version of the libary, but I need to use it because I need to also connect to a MySQL 5.5 database from the same java app, and this is the last version that I'm aware of that supports 5.5 and 5.7. I have no problems connecting to both databases, but when I try to close either of the connections, I get the following error printed to my log:</p>\n<pre><code>Wed Aug 25 10:48:03 IST 2021 WARN: Caught while disconnecting...\n\nEXCEPTION STACK TRACE:\n\n** BEGIN NESTED EXCEPTION ** \n\njavax.net.ssl.SSLException\nMESSAGE: closing inbound before receiving peer's close_notify\n\nSTACKTRACE:\n\njavax.net.ssl.SSLException: closing inbound before receiving peer's close_notify\n    at sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:726)\n    at sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:705)\n    at com.mysql.jdbc.MysqlIO.quit(MysqlIO.java:2249)\n    at com.mysql.jdbc.ConnectionImpl.realClose(ConnectionImpl.java:4232)\n    at com.mysql.jdbc.ConnectionImpl.close(ConnectionImpl.java:1472)\n    at ie.myapp.Database.closeConnection(Database.java:115)\n\n** END NESTED EXCEPTION **\n</code></pre>\n<p>Note that there is no exception being thrown here. This warning is being printed somewhere along the line in the <code>java.sql.Connection.close()</code> call.  There are references to this error around, but a common suggestion I've come across is to disable SSL on the connection (which I cannot/will not do).</p>\n<p>In any case, based on <a href=\"https://github.com/mysql/mysql-connector-j/pull/32\" rel=\"nofollow noreferrer\">this conversation regarding a pull request for the MySQL connector library</a>, my understanding is that the warning was suppressed or dropped from later versions of the library, which suggests that the warning is harmless?</p>\n<p>Also, I've written some tests to confirm that after closing connections to my databases, the database does actually have no record of the users/sessions e.g. <code>select id, user... from information_schema.processlist</code> as a rough check that there's no resource leak on the DB.</p>\n<p>So, my question is: can anyone that understands this warning (or has an understanding of what might give rise to this warning) advise me if ignoring it will have any side effects? (other than filling my logs with that warning).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1635419727,"post_id":69753008,"comment_id":123296130,"body_markdown":"`map.values().flatMap(List::stream)` would return a `Stream&lt;User&gt;` of every user within the map&#39;s lists. Is there a more specific case you need than that?","body":"<code>map.values().flatMap(List::stream)</code> would return a <code>Stream&lt;User&gt;</code> of every user within the map&#39;s lists. Is there a more specific case you need than that?"},{"owner":{"account_id":22679799,"reputation":179,"user_id":16850290,"display_name":"stacky"},"score":0,"creation_date":1635420063,"post_id":69753008,"comment_id":123296263,"body_markdown":"@Rogue Thanks. I need the result to be in order like list1 index 0, list2 index0, list3 index0, list1 index 1, list2 index 1 and so on. Believe the above would result in, list1 index0, list1 index1 (should have been list2 index1).","body":"@Rogue Thanks. I need the result to be in order like list1 index 0, list2 index0, list3 index0, list1 index 1, list2 index 1 and so on. Believe the above would result in, list1 index0, list1 index1 (should have been list2 index1)."},{"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":0,"creation_date":1635420647,"post_id":69753008,"comment_id":123296508,"body_markdown":"The fact that the lists come from a map and the map comes from rest is completely irrelevant to the question and really confused me. It would have been better to leave them out of the question. Your question is simply about adding elements from 3 lists into 1 new list.","body":"The fact that the lists come from a map and the map comes from rest is completely irrelevant to the question and really confused me. It would have been better to leave them out of the question. Your question is simply about adding elements from 3 lists into 1 new list."},{"owner":{"account_id":22679799,"reputation":179,"user_id":16850290,"display_name":"stacky"},"score":0,"creation_date":1635421244,"post_id":69753008,"comment_id":123296724,"body_markdown":"@GonenI Noted. Added that in case answers suggest to change the map itself. Wanted to point out that it is not in my control.","body":"@GonenI Noted. Added that in case answers suggest to change the map itself. Wanted to point out that it is not in my control."}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635421694,"creation_date":1635419958,"answer_id":69753164,"question_id":69753008,"body_markdown":"Simple solution for your problem is &quot;use index&quot;.\r\n\r\n    int size1 = list1.size();\r\n    int size2 = list2.size();\r\n    int size3 = list3.size();\r\n    //Choose maxSize of (size1,size2,size3)\r\n    int maxSize = Math.max(size1,size2);\r\n    maxSize = Math.max(maxSize,size3);\r\n\r\nthen use single loop, only add with condition i &lt; listSize:\r\n\r\n    for(int i=0;i&lt;maxSize;i++){\r\n      if(i &lt; size1) data.add(list1.get(i);\r\n      if(i &lt; size2) data.add(list2.get(i);\r\n      if(i &lt; size3) data.add(list3.get(i);\r\n    }\r\nIn case you have more than 3 list in map:\r\n\r\n        Collection&lt;List&lt;Object&gt;&gt; allValues = map.values();\r\n        int maxSize = allValues.stream().map(list-&gt; list.size()).max(Integer::compare).get();\r\n        List&lt;Object&gt; data = new ArrayList&lt;&gt;();\r\n        for(int i=0;i&lt;maxSize;i++) {\r\n          for(List&lt;Object&gt; list: allValues) {\r\n            if(i &lt; list.size()) data.add(list.get(i));\r\n          }\r\n        }\r\n\r\nPs: you might get warning because i am using notepad++ not editor tool.","title":"Loop over 3 lists that is inside a map","body":"<p>Simple solution for your problem is &quot;use index&quot;.</p>\n<pre><code>int size1 = list1.size();\nint size2 = list2.size();\nint size3 = list3.size();\n//Choose maxSize of (size1,size2,size3)\nint maxSize = Math.max(size1,size2);\nmaxSize = Math.max(maxSize,size3);\n</code></pre>\n<p>then use single loop, only add with condition i &lt; listSize:</p>\n<pre><code>for(int i=0;i&lt;maxSize;i++){\n  if(i &lt; size1) data.add(list1.get(i);\n  if(i &lt; size2) data.add(list2.get(i);\n  if(i &lt; size3) data.add(list3.get(i);\n}\n</code></pre>\n<p>In case you have more than 3 list in map:</p>\n<pre><code>    Collection&lt;List&lt;Object&gt;&gt; allValues = map.values();\n    int maxSize = allValues.stream().map(list-&gt; list.size()).max(Integer::compare).get();\n    List&lt;Object&gt; data = new ArrayList&lt;&gt;();\n    for(int i=0;i&lt;maxSize;i++) {\n      for(List&lt;Object&gt; list: allValues) {\n        if(i &lt; list.size()) data.add(list.get(i));\n      }\n    }\n</code></pre>\n<p>Ps: you might get warning because i am using notepad++ not editor tool.</p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635421363,"creation_date":1635421363,"answer_id":69753466,"question_id":69753008,"body_markdown":"Not very simple but very concise and pragmatic would be to extract the lists from the map, flatten them and then collect them. Since Java 8 we can utilize [streams][1] for that.\r\n\r\n    List&lt;User&gt; data = map.values().stream()\r\n      .flatMap(users -&gt; users.stream())\r\n      .collect(Collectors.toList());\r\n\r\nWith `.values()`  you get a `Set&lt;List&lt;User&gt;&gt;` of your UserLists, i assume, that you don&#39;t need the keys.\r\nWith `.flatMap()` we gather all users from each list. And we use `flatMap()` instead of `map()` because we want to retrieve the users from each list.\r\n\r\nThe last method-call `.collect(Collectors.toList()` collects all elements from this stream and puts them into a [read-only-list][2].\r\nIn this case, you would preserve multiple occurrences of the same user, which you wouldn&#39;t if you collect them as a set `collect(Collectos.asSet())`, given they are really different objects.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)","title":"Loop over 3 lists that is inside a map","body":"<p>Not very simple but very concise and pragmatic would be to extract the lists from the map, flatten them and then collect them. Since Java 8 we can utilize <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">streams</a> for that.</p>\n<pre><code>List&lt;User&gt; data = map.values().stream()\n  .flatMap(users -&gt; users.stream())\n  .collect(Collectors.toList());\n</code></pre>\n<p>With <code>.values()</code>  you get a <code>Set&lt;List&lt;User&gt;&gt;</code> of your UserLists, i assume, that you don't need the keys.\nWith <code>.flatMap()</code> we gather all users from each list. And we use <code>flatMap()</code> instead of <code>map()</code> because we want to retrieve the users from each list.</p>\n<p>The last method-call <code>.collect(Collectors.toList()</code> collects all elements from this stream and puts them into a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"nofollow noreferrer\">read-only-list</a>.\nIn this case, you would preserve multiple occurrences of the same user, which you wouldn't if you collect them as a set <code>collect(Collectos.asSet())</code>, given they are really different objects.</p>\n"}],"owner":{"account_id":22679799,"reputation":179,"user_id":16850290,"display_name":"stacky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69753164,"answer_count":2,"score":0,"last_activity_date":1635494878,"creation_date":1635419442,"question_id":69753008,"body_markdown":"I have a map which consists of 3 lists as follows. \r\n\r\n    User user = new User();\r\n    user.setId(1);\r\n    // more user creation \r\n    \r\n    List&lt;User&gt; usersOne = Arrays.asList(user1, user2, user3);\r\n    // more lists created \r\n    \r\n    // This is the map with 3 lists. Adding data to map \r\n    Map&lt;String, List&lt;User&gt;&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;key1&quot;, usersOne);\r\n    map.put(&quot;key2&quot;, usersTwo);\r\n    map.put(&quot;key3&quot;, usersThree);\r\n\r\nAbove is just to show example. This map is constructed this way and coming from a rest call. \r\n\r\nIs there a way I could loop over those lists for all 3 keys and add per item to a new list? \r\n\r\nMeaning like this. \r\n\r\n    List&lt;User&gt; data = new ArrayList&lt;&gt;();\r\n    \r\n    List&lt;User&gt; list1 = map.get(&quot;key1&quot;);\r\n    List&lt;User&gt; list2 = map.get(&quot;key2&quot;);\r\n    List&lt;User&gt; list3 = map.get(&quot;key3&quot;);\r\n    \r\n    data.add(list1.get(0));\r\n    data.add(list2.get(0));\r\n    data.add(list3.get(0));\r\n    \r\n    // and then \r\n    \r\n    data.add(list1.get(1));\r\n    data.add(list2.get(1));\r\n    data.add(list3.get(1));\r\n\r\nand so on. Or a better way to do it. Ultimate looking to get a new list of the users by getting them in this manner, 1 from each list and then move on to next index. \r\n\r\nNote that the 3 lists are not of same length. \r\n\r\nWas looking to see if I could achieve it via something like the following. \r\n\r\nBut looks expensive. Could I get some advice on how I could achieve this? \r\n\r\n    for (User list1User : list1) {\r\n    \r\n        for (User list2User : list2) {\r\n    \r\n            for (User list3User: list3) {\r\n    \r\n                // write logic in here since I now do have access to all 3 lists. \r\n                // but is expensive plus also going to run into issues since the length is not the same for all 3 lists. \r\n    \r\n            }\r\n    \r\n        }\r\n    }","title":"Loop over 3 lists that is inside a map","body":"<p>I have a map which consists of 3 lists as follows.</p>\n<pre><code>User user = new User();\nuser.setId(1);\n// more user creation \n\nList&lt;User&gt; usersOne = Arrays.asList(user1, user2, user3);\n// more lists created \n\n// This is the map with 3 lists. Adding data to map \nMap&lt;String, List&lt;User&gt;&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;key1&quot;, usersOne);\nmap.put(&quot;key2&quot;, usersTwo);\nmap.put(&quot;key3&quot;, usersThree);\n</code></pre>\n<p>Above is just to show example. This map is constructed this way and coming from a rest call.</p>\n<p>Is there a way I could loop over those lists for all 3 keys and add per item to a new list?</p>\n<p>Meaning like this.</p>\n<pre><code>List&lt;User&gt; data = new ArrayList&lt;&gt;();\n\nList&lt;User&gt; list1 = map.get(&quot;key1&quot;);\nList&lt;User&gt; list2 = map.get(&quot;key2&quot;);\nList&lt;User&gt; list3 = map.get(&quot;key3&quot;);\n\ndata.add(list1.get(0));\ndata.add(list2.get(0));\ndata.add(list3.get(0));\n\n// and then \n\ndata.add(list1.get(1));\ndata.add(list2.get(1));\ndata.add(list3.get(1));\n</code></pre>\n<p>and so on. Or a better way to do it. Ultimate looking to get a new list of the users by getting them in this manner, 1 from each list and then move on to next index.</p>\n<p>Note that the 3 lists are not of same length.</p>\n<p>Was looking to see if I could achieve it via something like the following.</p>\n<p>But looks expensive. Could I get some advice on how I could achieve this?</p>\n<pre><code>for (User list1User : list1) {\n\n    for (User list2User : list2) {\n\n        for (User list3User: list3) {\n\n            // write logic in here since I now do have access to all 3 lists. \n            // but is expensive plus also going to run into issues since the length is not the same for all 3 lists. \n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","functional-programming","this"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1635494609,"post_id":69765264,"comment_id":123318579,"body_markdown":"What would you expect it to print?","body":"What would you expect it to print?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635494607,"creation_date":1635494607,"answer_id":69765509,"question_id":69765264,"body_markdown":"In the first `and` call:\r\n\r\n    isEmailValid().and(isPhoneNumberValid())\r\n\r\n`this` refers to the object returned by `isEmailValid()`.\r\n\r\nIn the second `and` call:\r\n\r\n    isEmailValid().and(isPhoneNumberValid()).and(isAnAdult())\r\n                                             ^^^\r\n\r\n`this` refers to the object returned by the first `and` call. If that is not very clear, you can think of this as two steps:\r\n\r\n    CustomerRegistrationValidator isEmailAndPhoneValid = \r\n        isEmailValid().and(isPhoneNumberValid());\r\n\r\n    // &quot;this&quot; refers to &quot;isEmailAndPhoneValid&quot;\r\n    isEmailAndPhoneValid.and(isAnAdult());\r\n\r\nYou should now see the pattern, that `this` refers to whatever is immediately before the `and`. The fact that it&#39;s in an lambda expression doesn&#39;t make much of a difference. It&#39;s the _method_ that it is in, that matters.\r\n\r\nWhat are the objects returned by `isEmailValid()` and `and` then? As you can see from the source code, both are declared to return an instance of a class that implements the interface `CustomerRegistrationValidator`, so those lambda expressions must evaluate to such objects. What is the class of those objects? Well, they are automatically generated, and have names like this:\r\n\r\n    combinatorpatttern.CustomerRegistrationValidator$$Lambda$4/0x0000000800067440@12f40c25\r\n\r\nHence the output when you print `this`.","title":"This in a default method in interface","body":"<p>In the first <code>and</code> call:</p>\n<pre><code>isEmailValid().and(isPhoneNumberValid())\n</code></pre>\n<p><code>this</code> refers to the object returned by <code>isEmailValid()</code>.</p>\n<p>In the second <code>and</code> call:</p>\n<pre><code>isEmailValid().and(isPhoneNumberValid()).and(isAnAdult())\n                                         ^^^\n</code></pre>\n<p><code>this</code> refers to the object returned by the first <code>and</code> call. If that is not very clear, you can think of this as two steps:</p>\n<pre><code>CustomerRegistrationValidator isEmailAndPhoneValid = \n    isEmailValid().and(isPhoneNumberValid());\n\n// &quot;this&quot; refers to &quot;isEmailAndPhoneValid&quot;\nisEmailAndPhoneValid.and(isAnAdult());\n</code></pre>\n<p>You should now see the pattern, that <code>this</code> refers to whatever is immediately before the <code>and</code>. The fact that it's in an lambda expression doesn't make much of a difference. It's the <em>method</em> that it is in, that matters.</p>\n<p>What are the objects returned by <code>isEmailValid()</code> and <code>and</code> then? As you can see from the source code, both are declared to return an instance of a class that implements the interface <code>CustomerRegistrationValidator</code>, so those lambda expressions must evaluate to such objects. What is the class of those objects? Well, they are automatically generated, and have names like this:</p>\n<pre><code>combinatorpatttern.CustomerRegistrationValidator$$Lambda$4/0x0000000800067440@12f40c25\n</code></pre>\n<p>Hence the output when you print <code>this</code>.</p>\n"}],"owner":{"account_id":21317020,"reputation":23,"user_id":15690718,"display_name":"noob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69765509,"answer_count":1,"score":2,"last_activity_date":1635494607,"creation_date":1635493286,"question_id":69765264,"body_markdown":"\r\nIn my understanding the way lambdas work is similar to creating instance of an anonymous class and providing the implementation of an abstract method - please feel free to comment on this\r\n\r\nI have also been looking into combinator pattern in Java and getting confused by &quot;this&quot; in the and method of the below interface, in my understanding, `this` refers to a current instance of a class. When I am doing `System.out.println(this)` in the `and` method, it prints `combinatorpatttern.CustomerRegistrationValidator$$Lambda$4/0x0000000800067440@12f40c25`, which is not making sense as to what class this is referring to. \r\n\r\n\r\n    public interface CustomerRegistrationValidator\r\n            extends Function&lt;Customer, ValidationResult&gt; {\r\n      \r\n       static CustomerRegistrationValidator isEmailValid() {\r\n            return customer -&gt; {\r\n                System.out.println(&quot;running email validation&quot;);\r\n                return customer.getEmail().contains(&quot;@&quot;) ?\r\n                        SUCCESS : EMAIL_NOT_VALID;\r\n            };\r\n        }\r\n    \r\n        static CustomerRegistrationValidator isPhoneNumberValid() {\r\n            return customer -&gt; customer.getPhoneNumber().startsWith(&quot;+0&quot;) ?\r\n                    SUCCESS : PHONE_NUMBER_NOT_VALID;\r\n        }\r\n    \r\n        static CustomerRegistrationValidator isAnAdult() {\r\n            return customer -&gt;\r\n                    Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?\r\n                            SUCCESS : IS_NOT_AN_ADULT;\r\n        }\r\n    \t\r\n        default CustomerRegistrationValidator and (CustomerRegistrationValidator other) {\r\n            return customer -&gt; {\r\n                \r\n                ValidationResult result = this.apply(customer);\r\n                return result.equals(SUCCESS) ? other.apply(customer) : result;\r\n            };\r\n        }\r\n    \r\n        enum ValidationResult {\r\n            SUCCESS,\r\n            PHONE_NUMBER_NOT_VALID,\r\n            EMAIL_NOT_VALID,\r\n            IS_NOT_AN_ADULT\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Customer customer = new Customer(\r\n                    &quot;Alice&quot;,\r\n                    &quot;alice@gmail.com&quot;,\r\n                    &quot;+0898787879878&quot;,\r\n                    LocalDate.of(2015, 1,1)\r\n            );\r\n    \t\t\r\n    \t\tValidationResult result = isEmailValid()\r\n                    .and(isPhoneNumberValid())\r\n                    .and(isAnAdult())\r\n                    .apply(customer);\r\n    \r\n            System.out.println(result);\r\n    \t}\r\n    }","title":"This in a default method in interface","body":"<p>In my understanding the way lambdas work is similar to creating instance of an anonymous class and providing the implementation of an abstract method - please feel free to comment on this</p>\n<p>I have also been looking into combinator pattern in Java and getting confused by &quot;this&quot; in the and method of the below interface, in my understanding, <code>this</code> refers to a current instance of a class. When I am doing <code>System.out.println(this)</code> in the <code>and</code> method, it prints <code>combinatorpatttern.CustomerRegistrationValidator$$Lambda$4/0x0000000800067440@12f40c25</code>, which is not making sense as to what class this is referring to.</p>\n<pre><code>public interface CustomerRegistrationValidator\n        extends Function&lt;Customer, ValidationResult&gt; {\n  \n   static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; {\n            System.out.println(&quot;running email validation&quot;);\n            return customer.getEmail().contains(&quot;@&quot;) ?\n                    SUCCESS : EMAIL_NOT_VALID;\n        };\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; customer.getPhoneNumber().startsWith(&quot;+0&quot;) ?\n                SUCCESS : PHONE_NUMBER_NOT_VALID;\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt;\n                Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?\n                        SUCCESS : IS_NOT_AN_ADULT;\n    }\n    \n    default CustomerRegistrationValidator and (CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            \n            ValidationResult result = this.apply(customer);\n            return result.equals(SUCCESS) ? other.apply(customer) : result;\n        };\n    }\n\n    enum ValidationResult {\n        SUCCESS,\n        PHONE_NUMBER_NOT_VALID,\n        EMAIL_NOT_VALID,\n        IS_NOT_AN_ADULT\n    }\n}\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Customer customer = new Customer(\n                &quot;Alice&quot;,\n                &quot;alice@gmail.com&quot;,\n                &quot;+0898787879878&quot;,\n                LocalDate.of(2015, 1,1)\n        );\n        \n        ValidationResult result = isEmailValid()\n                .and(isPhoneNumberValid())\n                .and(isAnAdult())\n                .apply(customer);\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1547618290,"creation_date":1547617809,"answer_id":54211095,"question_id":54196221,"body_markdown":"You won&#39;t have access to a `TestFile` object since the Schema is made at runtime, not pre-compiled. If you want to keep that POJO, then you would need a constructor for `public TestFile(GenericRecord avroRecord)`\r\n\r\nYou&#39;ll need to create a `GenericRecord` using that `Schema` object, same as if you were parsing it from a String or a file. \r\n\r\nFor example, \r\n\r\n    Schema schema = SchemaBuilder.record(&quot;TestFile&quot;)\r\n                .namespace(&quot;com.example.kafka.data.ingestion.model&quot;)\r\n                .fields()\r\n                .requiredLong(&quot;date&quot;)\r\n                .requiredInt(&quot;counter&quot;)\r\n                .requiredString(&quot;mc&quot;)\r\n                .endRecord();\r\n\r\n    GenericRecord entry1 = new GenericData.Record(schema);\r\n    entry1.put(&quot;date&quot;, 1L);\r\n    entry1.put(&quot;counter&quot;, 2);\r\n    entry1.put(&quot;mc&quot;, &quot;3&quot;);\r\n\r\n    // producer.send(new ProducerRecord&lt;&gt;(topic, entry1);\r\n\r\nA full Kafka example is [available from Confluent](https://docs.confluent.io/current/schema-registry/docs/serializer-formatter.html#serializer)\r\n\r\nIf you put don&#39;t include a required field, it&#39;ll throw an error, and the values of the types are not checked (I could put `&quot;counter&quot;, &quot;2&quot;`, and it would send a string value (this seems to be a bug to me). Basically, `GenericRecord == HashMap&lt;String, Object&gt;` with the added benefit of reqiured/nullable fields. \r\n\r\nAnd you will need to configure an Avro serializer, such as Confluent&#39;s, which requires running their Schema Registry, or a version like [Cloudera shows](https://blog.cloudera.com/blog/2018/07/robust-message-serialization-in-apache-kafka-using-apache-avro-part-1/)\r\n\r\nOtherwise, you need to convert the Avro object into a `byte[]` (as shown in your linkand just use the `ByteArraySerializer`","title":"Avro and Kafka by making use of SchemaBuilder","body":"<p>You won't have access to a <code>TestFile</code> object since the Schema is made at runtime, not pre-compiled. If you want to keep that POJO, then you would need a constructor for <code>public TestFile(GenericRecord avroRecord)</code></p>\n\n<p>You'll need to create a <code>GenericRecord</code> using that <code>Schema</code> object, same as if you were parsing it from a String or a file. </p>\n\n<p>For example, </p>\n\n<pre><code>Schema schema = SchemaBuilder.record(\"TestFile\")\n            .namespace(\"com.example.kafka.data.ingestion.model\")\n            .fields()\n            .requiredLong(\"date\")\n            .requiredInt(\"counter\")\n            .requiredString(\"mc\")\n            .endRecord();\n\nGenericRecord entry1 = new GenericData.Record(schema);\nentry1.put(\"date\", 1L);\nentry1.put(\"counter\", 2);\nentry1.put(\"mc\", \"3\");\n\n// producer.send(new ProducerRecord&lt;&gt;(topic, entry1);\n</code></pre>\n\n<p>A full Kafka example is <a href=\"https://docs.confluent.io/current/schema-registry/docs/serializer-formatter.html#serializer\" rel=\"nofollow noreferrer\">available from Confluent</a></p>\n\n<p>If you put don't include a required field, it'll throw an error, and the values of the types are not checked (I could put <code>\"counter\", \"2\"</code>, and it would send a string value (this seems to be a bug to me). Basically, <code>GenericRecord == HashMap&lt;String, Object&gt;</code> with the added benefit of reqiured/nullable fields. </p>\n\n<p>And you will need to configure an Avro serializer, such as Confluent's, which requires running their Schema Registry, or a version like <a href=\"https://blog.cloudera.com/blog/2018/07/robust-message-serialization-in-apache-kafka-using-apache-avro-part-1/\" rel=\"nofollow noreferrer\">Cloudera shows</a></p>\n\n<p>Otherwise, you need to convert the Avro object into a <code>byte[]</code> (as shown in your linkand just use the <code>ByteArraySerializer</code></p>\n"},{"tags":[],"owner":{"account_id":926610,"reputation":3521,"user_id":957286,"display_name":"Ena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635494507,"creation_date":1635494094,"answer_id":69765422,"question_id":54196221,"body_markdown":"As stated in the Baeldung tutorial:\r\n\r\n&gt; Later we can apply the toString method to get the JSON structure of\r\n&gt; Schema.\r\n\r\nSo for example using this code inside a main class you can print the two schemas definition to the console output.\r\n\r\nYou can then save the resulting json representations to .avsc file and generate pojos as before.\r\n\r\n        Schema clientIdentifier = SchemaBuilder.record(&quot;ClientIdentifier&quot;)\r\n                .namespace(&quot;com.baeldung.avro&quot;)\r\n                .fields().requiredString(&quot;hostName&quot;).requiredString(&quot;ipAddress&quot;)\r\n                .endRecord();\r\n        System.out.println(clientIdentifier.toString());\r\n\r\n        Schema avroHttpRequest = SchemaBuilder.record(&quot;AvroHttpRequest&quot;)\r\n                .namespace(&quot;com.baeldung.avro&quot;)\r\n                .fields().requiredLong(&quot;requestTime&quot;)\r\n                .name(&quot;clientIdentifier&quot;)\r\n                .type(clientIdentifier)\r\n                .noDefault()\r\n                .name(&quot;employeeNames&quot;)\r\n                .type()\r\n                .array()\r\n                .items()\r\n                .stringType()\r\n                .arrayDefault(new ArrayList&lt;&gt;())\r\n                .name(&quot;active&quot;)\r\n                .type()\r\n                .enumeration(&quot;Active&quot;)\r\n                .symbols(&quot;YES&quot;,&quot;NO&quot;)\r\n                .noDefault()\r\n                .endRecord();\r\n        System.out.println(avroHttpRequest.toString());\r\n\r\nThere is a third way to generate Avro schemas that is using [Avro IDL][1] \r\n\r\n\r\n  [1]: https://avro.apache.org/docs/1.9.2/idl.html","title":"Avro and Kafka by making use of SchemaBuilder","body":"<p>As stated in the Baeldung tutorial:</p>\n<blockquote>\n<p>Later we can apply the toString method to get the JSON structure of\nSchema.</p>\n</blockquote>\n<p>So for example using this code inside a main class you can print the two schemas definition to the console output.</p>\n<p>You can then save the resulting json representations to .avsc file and generate pojos as before.</p>\n<pre><code>    Schema clientIdentifier = SchemaBuilder.record(&quot;ClientIdentifier&quot;)\n            .namespace(&quot;com.baeldung.avro&quot;)\n            .fields().requiredString(&quot;hostName&quot;).requiredString(&quot;ipAddress&quot;)\n            .endRecord();\n    System.out.println(clientIdentifier.toString());\n\n    Schema avroHttpRequest = SchemaBuilder.record(&quot;AvroHttpRequest&quot;)\n            .namespace(&quot;com.baeldung.avro&quot;)\n            .fields().requiredLong(&quot;requestTime&quot;)\n            .name(&quot;clientIdentifier&quot;)\n            .type(clientIdentifier)\n            .noDefault()\n            .name(&quot;employeeNames&quot;)\n            .type()\n            .array()\n            .items()\n            .stringType()\n            .arrayDefault(new ArrayList&lt;&gt;())\n            .name(&quot;active&quot;)\n            .type()\n            .enumeration(&quot;Active&quot;)\n            .symbols(&quot;YES&quot;,&quot;NO&quot;)\n            .noDefault()\n            .endRecord();\n    System.out.println(avroHttpRequest.toString());\n</code></pre>\n<p>There is a third way to generate Avro schemas that is using <a href=\"https://avro.apache.org/docs/1.9.2/idl.html\" rel=\"nofollow noreferrer\">Avro IDL</a></p>\n"}],"owner":{"account_id":1867473,"reputation":3093,"user_id":1690657,"accept_rate":90,"display_name":"Alex P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4505,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54211095,"answer_count":2,"score":3,"last_activity_date":1635494507,"creation_date":1547545296,"question_id":54196221,"body_markdown":"I went through the tutorial from [baeldung][1]. They mention there are two ways to create a schema.\r\n\r\n - By writing the json representation and adding the maven plugin to produce the class \r\n - By using the `SchemaBuilder`, which they also mention is a better choice. \r\n\r\nUnfortunately in the git example I only see the json way. \r\n\r\nLets say I have this Avro schema:\r\n\r\n    {\r\n      &quot;type&quot;:&quot;record&quot;,\r\n      &quot;name&quot;:&quot;TestFile&quot;,\r\n      &quot;namespace&quot;:&quot;com.example.kafka.data.ingestion.model&quot;,\r\n      &quot;fields&quot;:[\r\n        {\r\n          &quot;name&quot;:&quot;date&quot;,\r\n          &quot;type&quot;:&quot;long&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;:&quot;counter&quot;,\r\n          &quot;type&quot;:&quot;int&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;:&quot;mc&quot;,\r\n          &quot;type&quot;:&quot;string&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nBy adding this plugin in my pom file:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n       &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;1.8.0&lt;/version&gt;\r\n       &lt;executions&gt;\r\n          &lt;execution&gt;\r\n             &lt;id&gt;schemas&lt;/id&gt;\r\n             &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n             &lt;goals&gt;\r\n                &lt;goal&gt;schema&lt;/goal&gt;\r\n                &lt;goal&gt;protocol&lt;/goal&gt;\r\n                &lt;goal&gt;idl-protocol&lt;/goal&gt;\r\n             &lt;/goals&gt;\r\n             &lt;configuration&gt;\r\n                &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/&lt;/sourceDirectory&gt;\r\n                &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n             &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nand building with generate-sources a `TestFile.java` is created to the destination I said. \r\nThen for sending to a kafka topic I can do the following:\r\n\r\n    TestFile test = TestFile.newBuilder()\r\n    \t\t\t\t\t\t\t\t\t\t\t.setDate(102928374747)\r\n    \t\t\t\t\t\t\t\t\t\t\t.setCounter(2)\r\n    \t\t\t\t\t\t\t\t\t\t\t.setMc(&quot;Some string&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t\t.build();\r\n    kafkaTemplate.send(topicName, test);\r\n\r\nThe equivalent of creating the schema with `SchemaBuilder` would be:\r\n\r\n    Schema testFileSchema = SchemaBuilder\t.record(&quot;TestFile&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t\t.namespace(&quot;com.example.kafka.data.ingestion.model&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t\t.fields()\r\n    \t\t\t\t\t\t\t\t\t\t\t.requiredLong(&quot;date&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t\t.requiredInt(&quot;counter&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t\t.requiredString(&quot;mc&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t\t.endRecord();\r\n\r\n \r\nBut how can I now generate the POJO and send my `TestFile` data to my kafka topic?\r\n\r\n  [1]: https://www.baeldung.com/java-apache-avro","title":"Avro and Kafka by making use of SchemaBuilder","body":"<p>I went through the tutorial from <a href=\"https://www.baeldung.com/java-apache-avro\" rel=\"nofollow noreferrer\">baeldung</a>. They mention there are two ways to create a schema.</p>\n\n<ul>\n<li>By writing the json representation and adding the maven plugin to produce the class </li>\n<li>By using the <code>SchemaBuilder</code>, which they also mention is a better choice. </li>\n</ul>\n\n<p>Unfortunately in the git example I only see the json way. </p>\n\n<p>Lets say I have this Avro schema:</p>\n\n<pre><code>{\n  \"type\":\"record\",\n  \"name\":\"TestFile\",\n  \"namespace\":\"com.example.kafka.data.ingestion.model\",\n  \"fields\":[\n    {\n      \"name\":\"date\",\n      \"type\":\"long\"\n    },\n    {\n      \"name\":\"counter\",\n      \"type\":\"int\"\n    },\n    {\n      \"name\":\"mc\",\n      \"type\":\"string\"\n    }\n  ]\n}\n</code></pre>\n\n<p>By adding this plugin in my pom file:</p>\n\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n   &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;1.8.0&lt;/version&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;id&gt;schemas&lt;/id&gt;\n         &lt;phase&gt;generate-sources&lt;/phase&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;schema&lt;/goal&gt;\n            &lt;goal&gt;protocol&lt;/goal&gt;\n            &lt;goal&gt;idl-protocol&lt;/goal&gt;\n         &lt;/goals&gt;\n         &lt;configuration&gt;\n            &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/&lt;/sourceDirectory&gt;\n            &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>and building with generate-sources a <code>TestFile.java</code> is created to the destination I said. \nThen for sending to a kafka topic I can do the following:</p>\n\n<pre><code>TestFile test = TestFile.newBuilder()\n                                            .setDate(102928374747)\n                                            .setCounter(2)\n                                            .setMc(\"Some string\")\n                                            .build();\nkafkaTemplate.send(topicName, test);\n</code></pre>\n\n<p>The equivalent of creating the schema with <code>SchemaBuilder</code> would be:</p>\n\n<pre><code>Schema testFileSchema = SchemaBuilder   .record(\"TestFile\")\n                                            .namespace(\"com.example.kafka.data.ingestion.model\")\n                                            .fields()\n                                            .requiredLong(\"date\")\n                                            .requiredInt(\"counter\")\n                                            .requiredString(\"mc\")\n                                            .endRecord();\n</code></pre>\n\n<p>But how can I now generate the POJO and send my <code>TestFile</code> data to my kafka topic?</p>\n"},{"tags":["java","terminal","module"],"comments":[{"owner":{"account_id":468289,"reputation":178176,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":1,"creation_date":1635494575,"post_id":69765412,"comment_id":123318564,"body_markdown":"The guideline you are trying to follow has slashes, not dots, between the path components. (The second argument would be simply `*.java` if you want to refer to a file in the current directory, too.)","body":"The guideline you are trying to follow has slashes, not dots, between the path components. (The second argument would be simply <code>*.java</code> if you want to refer to a file in the current directory, too.)"},{"owner":{"account_id":19118784,"reputation":79,"user_id":13963141,"display_name":"Flying Nimbus"},"score":0,"creation_date":1635496209,"post_id":69765412,"comment_id":123319090,"body_markdown":"OMG me and my monkey brain, thx @tripleee","body":"OMG me and my monkey brain, thx @tripleee"}],"owner":{"account_id":19118784,"reputation":79,"user_id":13963141,"display_name":"Flying Nimbus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635494355,"creation_date":1635494034,"question_id":69765412,"body_markdown":"Trying to learn how to make a module in the terminal, Source: [chapter-11-modules][1]\r\n\r\n\r\n  [1]: https://www.examsnap.com/it-exam-guides/chapter-11-modules.html\r\n\r\nI&#39;m trying to make my own version of the file structure example:\r\n\r\nmod / root / to / file/ Tasks.java\r\n\r\nmod / modules-info.java\r\n\r\nInside the `module-info.java`:\r\n\r\n    module root.to.files{}\r\n\r\nIn the terminal I&#39;m located in:\r\n\r\n    C:\\Users\\user\\Desktop\\mod&gt;\r\n\r\nentering the following line, to compile:\r\n\r\n    javac -p mod -d dir root.to.files/*java dir/*java\r\n\r\nAnd I get the error:\r\n```none\r\nerror: invalid flag: root.to.files/*java\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\nuse --help for a list of possible options\r\n```\r\nI&#39;m sorry for the basic question, but learning to work in the terminal for me, never works out as explained.\r\n","title":"learn to make a module in the terminal","body":"<p>Trying to learn how to make a module in the terminal, Source: <a href=\"https://www.examsnap.com/it-exam-guides/chapter-11-modules.html\" rel=\"nofollow noreferrer\">chapter-11-modules</a></p>\n<p>I'm trying to make my own version of the file structure example:</p>\n<p>mod / root / to / file/ Tasks.java</p>\n<p>mod / modules-info.java</p>\n<p>Inside the <code>module-info.java</code>:</p>\n<pre><code>module root.to.files{}\n</code></pre>\n<p>In the terminal I'm located in:</p>\n<pre><code>C:\\Users\\user\\Desktop\\mod&gt;\n</code></pre>\n<p>entering the following line, to compile:</p>\n<pre><code>javac -p mod -d dir root.to.files/*java dir/*java\n</code></pre>\n<p>And I get the error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: invalid flag: root.to.files/*java\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse --help for a list of possible options\n</code></pre>\n<p>I'm sorry for the basic question, but learning to work in the terminal for me, never works out as explained.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1635278683,"post_id":69729299,"comment_id":123253597,"body_markdown":"Did you try writing code to rename one file?","body":"Did you try writing code to rename one file?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1635278923,"post_id":69729299,"comment_id":123253687,"body_markdown":"Rename will return true if it works, did you check the value your getting back? Maybe add a line for debugging `if(!listaDiFile[i].renameTo(new File(nomeDefinitivo)){ System.out.println(&quot;couldn&#39;t rename &quot; + listaDiFile + &quot; to &quot; + nomeDefinitivo); }` That way you can see if you&#39;re executing the right code blocks, and if the names are what you expect.","body":"Rename will return true if it works, did you check the value your getting back? Maybe add a line for debugging <code>if(!listaDiFile[i].renameTo(new File(nomeDefinitivo)){ System.out.println(&quot;couldn&#39;t rename &quot; + listaDiFile + &quot; to &quot; + nomeDefinitivo); }</code> That way you can see if you&#39;re executing the right code blocks, and if the names are what you expect."},{"owner":{"account_id":19127415,"reputation":1,"user_id":13970104,"display_name":"Federico Cal&#242;"},"score":0,"creation_date":1635357975,"post_id":69729299,"comment_id":123279165,"body_markdown":"matt i have a long list of pdf file in different format of name.","body":"matt i have a long list of pdf file in different format of name."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1635361150,"post_id":69729299,"comment_id":123280328,"body_markdown":"Your example doesn&#39;t have enough information for somebody to help, you need to check what files your trying to move, and what the return is. That said, it doesn&#39;t make sense that you use `listaDiFile[i].toString().split(&quot;\\\\\\\\&quot;)` when you already have a File that you can manipulate.","body":"Your example doesn&#39;t have enough information for somebody to help, you need to check what files your trying to move, and what the return is. That said, it doesn&#39;t make sense that you use <code>listaDiFile[i].toString().split(&quot;\\\\\\\\&quot;)</code> when you already have a File that you can manipulate."}],"answers":[{"tags":[],"owner":{"account_id":19127415,"reputation":1,"user_id":13970104,"display_name":"Federico Cal&#242;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635494349,"creation_date":1635494349,"answer_id":69765462,"question_id":69729299,"body_markdown":"I resolved it. The file renamed must be saved in a different folder, because the system don&#39;t rename the original file. This is a momentanly solution. In the future i will search something for optimize the alghoritm","title":"Java rename files","body":"<p>I resolved it. The file renamed must be saved in a different folder, because the system don't rename the original file. This is a momentanly solution. In the future i will search something for optimize the alghoritm</p>\n"}],"owner":{"account_id":19127415,"reputation":1,"user_id":13970104,"display_name":"Federico Cal&#242;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69765462,"answer_count":1,"score":-2,"last_activity_date":1635494349,"creation_date":1635278493,"question_id":69729299,"body_markdown":"I have a list of files and I want to rename them on specific rules. I wrote this code in java, it runs but it doesn&#39;t work. It doesn&#39;t rename the files. Please help me.\r\n\r\n ```\r\nimport java.io.File;\r\n\r\npublic class ChangeName {\r\n\r\n    public static void main(String[] args) {\r\n        File cartella=new File(&quot;D:\\\\LibriInformatica&quot;);\r\n        File[] listaDiFile=cartella.listFiles();\r\n        for (int i=0; i&lt;listaDiFile.length;i++){\r\n            if(listaDiFile[i].isFile()){\r\n                String[] titolo=listaDiFile[i].toString().split(&quot;\\\\\\\\&quot;);\r\n\r\n                String[] nomeSplit2;\r\n\r\n                //Regole di split e rinomino\r\n                if(titolo[2].contains(&quot;( PDFDrive )&quot;)){//rinomino il file se contiene la parola ( PDFDrive eliminandola)\r\n                    System.out.println(&quot;Nome file originale: &quot;+listaDiFile[i].toString());\r\n                    String[] rinomino1= titolo[2].split(&quot;PDFDrive&quot;);\r\n                    titolo[2]=rinomino1[0]+&quot;.pdf&quot;;\r\n                    String nomeDefinitivo=&quot;D:\\\\LibriInformatica&quot;+titolo[2];\r\n                    listaDiFile[i].renameTo(new File(nomeDefinitivo));\r\n                    System.out.println(&quot;Nome file cambiato: &quot;+listaDiFile[i].toString());\r\n                }\r\n                if(titolo[2].contains(&quot;_&quot;)){//Rinomino eliminando _\r\n                    String[] rinomino1= titolo[2].split(&quot;_&quot;);\r\n                    titolo[2]=rinomino1[0]+&quot;.pdf&quot;;\r\n                    String nomeDefinitivo=&quot;D:\\\\LibriInformatica&quot;+titolo[2];\r\n                    listaDiFile[i].renameTo(new File(nomeDefinitivo));\r\n                }\r\n                if(titolo[2].contains(&quot;-&quot;)){//Rinomino eliminando -\r\n                    String[] rinomino1= titolo[2].split(&quot;-&quot;);\r\n                    titolo[2]=rinomino1[0]+&quot;.pdf&quot;;\r\n                    String nomeDefinitivo=&quot;D:\\\\LibriInformatica&quot;+titolo[2];\r\n                    listaDiFile[i].renameTo(new File(nomeDefinitivo));\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"Java rename files","body":"<p>I have a list of files and I want to rename them on specific rules. I wrote this code in java, it runs but it doesn't work. It doesn't rename the files. Please help me.</p>\n<pre><code>import java.io.File;\n\npublic class ChangeName {\n\n   public static void main(String[] args) {\n       File cartella=new File(&quot;D:\\\\LibriInformatica&quot;);\n       File[] listaDiFile=cartella.listFiles();\n       for (int i=0; i&lt;listaDiFile.length;i++){\n           if(listaDiFile[i].isFile()){\n               String[] titolo=listaDiFile[i].toString().split(&quot;\\\\\\\\&quot;);\n\n               String[] nomeSplit2;\n\n               //Regole di split e rinomino\n               if(titolo[2].contains(&quot;( PDFDrive )&quot;)){//rinomino il file se contiene la parola ( PDFDrive eliminandola)\n                   System.out.println(&quot;Nome file originale: &quot;+listaDiFile[i].toString());\n                   String[] rinomino1= titolo[2].split(&quot;PDFDrive&quot;);\n                   titolo[2]=rinomino1[0]+&quot;.pdf&quot;;\n                   String nomeDefinitivo=&quot;D:\\\\LibriInformatica&quot;+titolo[2];\n                   listaDiFile[i].renameTo(new File(nomeDefinitivo));\n                   System.out.println(&quot;Nome file cambiato: &quot;+listaDiFile[i].toString());\n               }\n               if(titolo[2].contains(&quot;_&quot;)){//Rinomino eliminando _\n                   String[] rinomino1= titolo[2].split(&quot;_&quot;);\n                   titolo[2]=rinomino1[0]+&quot;.pdf&quot;;\n                   String nomeDefinitivo=&quot;D:\\\\LibriInformatica&quot;+titolo[2];\n                   listaDiFile[i].renameTo(new File(nomeDefinitivo));\n               }\n               if(titolo[2].contains(&quot;-&quot;)){//Rinomino eliminando -\n                   String[] rinomino1= titolo[2].split(&quot;-&quot;);\n                   titolo[2]=rinomino1[0]+&quot;.pdf&quot;;\n                   String nomeDefinitivo=&quot;D:\\\\LibriInformatica&quot;+titolo[2];\n                   listaDiFile[i].renameTo(new File(nomeDefinitivo));\n               }\n           }\n       }\n\n   }\n}\n</code></pre>\n"},{"tags":["java","tomcat","batch-file","tomcat6"],"comments":[{"owner":{"account_id":3049880,"reputation":3589,"user_id":2584700,"accept_rate":100,"display_name":"Sachin Thapa"},"score":0,"creation_date":1377614985,"post_id":18468681,"comment_id":27144401,"body_markdown":"Try setting JAVA_HOME as system environment variable, go to Advanced Tab of System settings, click on New and set JAVA_HOME.","body":"Try setting JAVA_HOME as system environment variable, go to Advanced Tab of System settings, click on New and set JAVA_HOME."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1377616129,"post_id":18468681,"comment_id":27145158,"body_markdown":"Your path contains whitespaces, this isn&#39;t working in .BAT files. You have to enclose your path in quotation marks. `set JAVA_HOME=&quot;C:\\Program Files (x86)\\Java\\jre7&quot;`. However you are pointing to a JRE, for tomcat to work you have to point to a JDK (tomcat needs a compiler and that isn&#39;t part of the JRE but of the JDK).","body":"Your path contains whitespaces, this isn&#39;t working in .BAT files. You have to enclose your path in quotation marks. <code>set JAVA_HOME=&quot;C:\\Program Files (x86)\\Java\\jre7&quot;</code>. However you are pointing to a JRE, for tomcat to work you have to point to a JDK (tomcat needs a compiler and that isn&#39;t part of the JRE but of the JDK)."}],"answers":[{"tags":[],"owner":{"account_id":385392,"reputation":253,"user_id":742504,"accept_rate":100,"display_name":"Jesse"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1377616364,"creation_date":1377616364,"answer_id":18469354,"question_id":18468681,"body_markdown":"Place the path in quotes:&lt;br/&gt;\r\n    \r\n    set JAVA_HOME=&quot;C:\\Program Files (x86)\\Java\\jre7&quot;\r\n\r\nThe error is due to the fact that it&#39;s parsing the Files in Program Files as a separate parameter, which SET doesn&#39;t expect.  Why SET isn&#39;t reading it properly I can&#39;t say without knowing more about what OS you&#39;re using, what command shell you&#39;re running Tomcat from, and so on.","title":"Tomcat 6 JAVA_HOME","body":"<p>Place the path in quotes:<br/></p>\n\n<pre><code>set JAVA_HOME=\"C:\\Program Files (x86)\\Java\\jre7\"\n</code></pre>\n\n<p>The error is due to the fact that it's parsing the Files in Program Files as a separate parameter, which SET doesn't expect.  Why SET isn't reading it properly I can't say without knowing more about what OS you're using, what command shell you're running Tomcat from, and so on.</p>\n"},{"tags":[],"owner":{"account_id":3190022,"reputation":320,"user_id":2694556,"display_name":"James Corcoran"},"down_vote_count":3,"up_vote_count":4,"is_accepted":true,"score":1,"last_activity_date":1377664245,"creation_date":1377664245,"answer_id":18479496,"question_id":18468681,"body_markdown":"You are pointing to a JRE.  You need to point to a JDK, which given the location of your JRE might be something like `C:\\Program Files (x86)\\Java\\jdk1.6.0_26` or similar.  Or, if you only have a JRE installed, you&#39;ll need to install a full JDK.  Tomcat needs to be able to compile JSPs into .class files, which a JRE can&#39;t do.","title":"Tomcat 6 JAVA_HOME","body":"<p>You are pointing to a JRE.  You need to point to a JDK, which given the location of your JRE might be something like <code>C:\\Program Files (x86)\\Java\\jdk1.6.0_26</code> or similar.  Or, if you only have a JRE installed, you'll need to install a full JDK.  Tomcat needs to be able to compile JSPs into .class files, which a JRE can't do.</p>\n"},{"tags":[],"owner":{"account_id":4689756,"reputation":332,"user_id":3796172,"display_name":"You_Shall_Not_Pass"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1617626244,"creation_date":1406266384,"answer_id":24948684,"question_id":18468681,"body_markdown":"The reason why your command failed is because it has white spaces between &#39;Program Files (x86)&#39; and so it starts reading the command from &#39;Files (x86)&#39;. So instead we put it in between double quotes such as the following.\r\ntry this..\r\n\r\n    set JAVA_HOME=&quot;C:\\Program Files (x86)\\Java\\jre7&quot;\r\n\r\n","title":"Tomcat 6 JAVA_HOME","body":"<p>The reason why your command failed is because it has white spaces between 'Program Files (x86)' and so it starts reading the command from 'Files (x86)'. So instead we put it in between double quotes such as the following.\ntry this..</p>\n<pre><code>set JAVA_HOME=&quot;C:\\Program Files (x86)\\Java\\jre7&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5117066,"reputation":109,"user_id":4101843,"display_name":"Stephen Clothier"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1412241668,"creation_date":1412241668,"answer_id":26157853,"question_id":18468681,"body_markdown":"I had the same problem on Windows 7 with the following definition (I put it in a setenv.bat file in the jdk bin folder as specified by tomcat 7&#39;s RUNNING.txt.\r\n\r\n    set JAVA_HOME=&quot;C:\\Program Files (x86)\\Java\\jre7&quot;\r\n\r\nI just tried removing the double quotes altogether:\r\n\r\n    set JAVA_HOME=C:\\Program Files (x86)\\Java\\jre7\r\n\r\nAnd tomcat then started.\r\n\r\n","title":"Tomcat 6 JAVA_HOME","body":"<p>I had the same problem on Windows 7 with the following definition (I put it in a setenv.bat file in the jdk bin folder as specified by tomcat 7's RUNNING.txt.</p>\n\n<pre><code>set JAVA_HOME=\"C:\\Program Files (x86)\\Java\\jre7\"\n</code></pre>\n\n<p>I just tried removing the double quotes altogether:</p>\n\n<pre><code>set JAVA_HOME=C:\\Program Files (x86)\\Java\\jre7\n</code></pre>\n\n<p>And tomcat then started.</p>\n"},{"tags":[],"owner":{"account_id":1246139,"reputation":2213,"user_id":1207554,"accept_rate":45,"display_name":"Douglas G. Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423541012,"creation_date":1423541012,"answer_id":28423898,"question_id":18468681,"body_markdown":"Try \r\nhttps://askubuntu.com/questions/446294/how-to-start-tomcat7-when-catalina-sh-does-not-work\r\nIt can give you some insight even though it&#39;s not Windows it still looks for those shell scripts except their extensions in Window is .bat not .sh\r\n\r\n","title":"Tomcat 6 JAVA_HOME","body":"<p>Try \n<a href=\"https://askubuntu.com/questions/446294/how-to-start-tomcat7-when-catalina-sh-does-not-work\">https://askubuntu.com/questions/446294/how-to-start-tomcat7-when-catalina-sh-does-not-work</a>\nIt can give you some insight even though it's not Windows it still looks for those shell scripts except their extensions in Window is .bat not .sh</p>\n"},{"tags":[],"owner":{"display_name":"user909694"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1426610882,"creation_date":1426508547,"answer_id":29076720,"question_id":18468681,"body_markdown":"**Note:** I realise this is already quite an old question, but many of the answers posted here are either incomplete or inaccurate.. Hopefully this will help save a few headaches.\r\n\r\nFirstly: Tomcat *does not* need a JDK to run, it will work just fine with a JRE, as long as it knows it&#39;s a JRE.\r\n\r\nSecondly, the error from the original question is coming from an issue with syntax of the `set JAVA_HOME=...` command. Apache themselves could handle it better with stripping and adding `&quot;` quote marks.\r\n\r\nAlso, I would highly recommend creating a `setenv.bat` file in the `bin` folder. It&#39;s absent by default, so if you don&#39;t already have one, create it and add your `set JAVA_HOME=...` or `set JRE_HOME=...` lines there.\r\n\r\n**Run with JRE**\r\n\r\nAs per [running.txt](http://tomcat.apache.org/tomcat-6.0-doc/RUNNING.txt):\r\n\r\n&gt; The JRE_HOME variable is used to specify location of a JRE. The\r\n&gt; JAVA_HOME variable is used to specify location of a JDK.\r\n&gt; \r\n&gt; Using JAVA_HOME provides access to certain additional startup options\r\n&gt; that are not allowed when JRE_HOME is used.\r\n&gt; \r\n&gt; If both JRE_HOME and JAVA_HOME are specified, JRE_HOME is used.\r\n\r\nSo, to startup this way, you&#39;ll need the following:\r\n\r\n    set &quot;JAVA_HOME=&quot;\r\n    set &quot;JRE_HOME=C:\\Program Files (x86)\\Java\\jre7&quot;\r\n\r\nClearing the `JAVA_HOME` variable is a failsafe, but it&#39;s not really required. As per the docs, Tomcat will try use the JRE variable first anyway.\r\n\r\n**Solution for Issue in Question**\r\n\r\nTake special note the position of the quotation marks. This way keep the entire string together in one variable, without including the quotation marks in the variable content itself.\r\n\r\nFor example:\r\n\r\n    set %TEST%=&quot;hello&quot;\r\n    echo &quot;%TEST%&quot;\r\n\r\nWill output `&quot;&quot;hello&quot;&quot;`.\r\n\r\n    set &quot;%TEST%=hello&quot;\r\n    echo &quot;%TEST%&quot;\r\n\r\nWill output `&quot;hello&quot;`.\r\n\r\nSo, the startup batch file script was trying to use `&quot;&quot;C:\\Program Files (x86)\\Java\\jre7&quot;&quot;`, in which the first non-escaped space is between &quot;Program&quot; and &quot;Files&quot;.\r\n\r\nAs already pointed out, removing the quotation marks (in this particular case at least) would work, but it&#39;s dangerous to rely on that. Rather play it safe from the start and wrap the variable name *and* value in quotation marks.","title":"Tomcat 6 JAVA_HOME","body":"<p><strong>Note:</strong> I realise this is already quite an old question, but many of the answers posted here are either incomplete or inaccurate.. Hopefully this will help save a few headaches.</p>\n\n<p>Firstly: Tomcat <em>does not</em> need a JDK to run, it will work just fine with a JRE, as long as it knows it's a JRE.</p>\n\n<p>Secondly, the error from the original question is coming from an issue with syntax of the <code>set JAVA_HOME=...</code> command. Apache themselves could handle it better with stripping and adding <code>\"</code> quote marks.</p>\n\n<p>Also, I would highly recommend creating a <code>setenv.bat</code> file in the <code>bin</code> folder. It's absent by default, so if you don't already have one, create it and add your <code>set JAVA_HOME=...</code> or <code>set JRE_HOME=...</code> lines there.</p>\n\n<p><strong>Run with JRE</strong></p>\n\n<p>As per <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/RUNNING.txt\">running.txt</a>:</p>\n\n<blockquote>\n  <p>The JRE_HOME variable is used to specify location of a JRE. The\n  JAVA_HOME variable is used to specify location of a JDK.</p>\n  \n  <p>Using JAVA_HOME provides access to certain additional startup options\n  that are not allowed when JRE_HOME is used.</p>\n  \n  <p>If both JRE_HOME and JAVA_HOME are specified, JRE_HOME is used.</p>\n</blockquote>\n\n<p>So, to startup this way, you'll need the following:</p>\n\n<pre><code>set \"JAVA_HOME=\"\nset \"JRE_HOME=C:\\Program Files (x86)\\Java\\jre7\"\n</code></pre>\n\n<p>Clearing the <code>JAVA_HOME</code> variable is a failsafe, but it's not really required. As per the docs, Tomcat will try use the JRE variable first anyway.</p>\n\n<p><strong>Solution for Issue in Question</strong></p>\n\n<p>Take special note the position of the quotation marks. This way keep the entire string together in one variable, without including the quotation marks in the variable content itself.</p>\n\n<p>For example:</p>\n\n<pre><code>set %TEST%=\"hello\"\necho \"%TEST%\"\n</code></pre>\n\n<p>Will output <code>\"\"hello\"\"</code>.</p>\n\n<pre><code>set \"%TEST%=hello\"\necho \"%TEST%\"\n</code></pre>\n\n<p>Will output <code>\"hello\"</code>.</p>\n\n<p>So, the startup batch file script was trying to use <code>\"\"C:\\Program Files (x86)\\Java\\jre7\"\"</code>, in which the first non-escaped space is between \"Program\" and \"Files\".</p>\n\n<p>As already pointed out, removing the quotation marks (in this particular case at least) would work, but it's dangerous to rely on that. Rather play it safe from the start and wrap the variable name <em>and</em> value in quotation marks.</p>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1539387422,"creation_date":1483598358,"answer_id":41478691,"question_id":18468681,"body_markdown":" - First, install java and locate the instalation path.\r\n - Locate the tomcat installation path and find the startup.bat in &lt;TOMCAT_HOME&gt;\\bin\r\n - Open startup.bat and add below(example) lines just after `setlocal` and before `rem Guess CATALINA_HOME if not defined`\r\n\r\n&gt;     :: JAVA\r\n&gt;     set JAVA_HOME=D:\\thushara_data\\Java\\jdk1.8.0_73\r\n&gt;     set PATH=%JAVA_HOME%\\bin;%PATH%\r\n\r\nNow try to re-run `startup.bat`","title":"Tomcat 6 JAVA_HOME","body":"<ul>\n<li>First, install java and locate the instalation path.</li>\n<li>Locate the tomcat installation path and find the startup.bat in \\bin</li>\n<li>Open startup.bat and add below(example) lines just after <code>setlocal</code> and before <code>rem Guess CATALINA_HOME if not defined</code></li>\n</ul>\n\n<blockquote>\n<pre><code>:: JAVA\nset JAVA_HOME=D:\\thushara_data\\Java\\jdk1.8.0_73\nset PATH=%JAVA_HOME%\\bin;%PATH%\n</code></pre>\n</blockquote>\n\n<p>Now try to re-run <code>startup.bat</code></p>\n"},{"tags":[],"owner":{"account_id":14832463,"reputation":61,"user_id":10711584,"display_name":"Adarsh J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543388942,"creation_date":1543385635,"answer_id":53513208,"question_id":18468681,"body_markdown":"- If not able to set the variables manually:\r\nto set `JAVA_HOME and JRE_HOME`\r\n\r\n- go to advance system setting and click on `environment` variables\r\n\r\n- under `system` variables click \r\n- new variable name : `JAVA_HOME`\r\n- variable value : `[path of jdk]C:\\Program Files\\Java\\jdk1.8.0_181` and click ok\r\n\r\n- similarly add `JRE_HOME`\r\n- click new variable name : `JRE_HOME`\r\n- variable value : `[path of jre]C:\\Program Files\\Java\\jre1.8.0_181`\r\n- click &lt;kbd&gt;Ok&lt;/kbd&gt; &gt; &lt;kbd&gt;Ok&lt;/kbd&gt; &gt; &lt;kbd&gt;Ok&lt;/kbd&gt;\r\n\r\n\r\n","title":"Tomcat 6 JAVA_HOME","body":"<ul>\n<li><p>If not able to set the variables manually:\nto set <code>JAVA_HOME and JRE_HOME</code></p></li>\n<li><p>go to advance system setting and click on <code>environment</code> variables</p></li>\n<li><p>under <code>system</code> variables click </p></li>\n<li>new variable name : <code>JAVA_HOME</code></li>\n<li><p>variable value : <code>[path of jdk]C:\\Program Files\\Java\\jdk1.8.0_181</code> and click ok</p></li>\n<li><p>similarly add <code>JRE_HOME</code></p></li>\n<li>click new variable name : <code>JRE_HOME</code></li>\n<li>variable value : <code>[path of jre]C:\\Program Files\\Java\\jre1.8.0_181</code></li>\n<li>click <kbd>Ok</kbd> > <kbd>Ok</kbd> > <kbd>Ok</kbd></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19020821,"reputation":1,"user_id":13884932,"display_name":"Vaibhav Nalawade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635494226,"creation_date":1635491364,"answer_id":69764921,"question_id":18468681,"body_markdown":"You Can Also Try This For `jre1.8v`: \r\n\r\nOpen `cmd` In Tomcat Server Folder And Enter Command\r\n\r\n`set &quot;JAVA_HOME=C:\\Program Files (x86)\\Java\\jre1.8.0_45&quot;` \r\n\r\nThen Enter Command `cd bin`\r\n\r\nThen To Start Tomcat Server Enter Command `startup`\r\n\r\nTo Stop Tomcat Server Enter Command `shutdown`\r\n\r\nIf It Fails To Start Although You Can Run Command: `cd startup.bat` ","title":"Tomcat 6 JAVA_HOME","body":"<p>You Can Also Try This For <code>jre1.8v</code>:</p>\n<p>Open <code>cmd</code> In Tomcat Server Folder And Enter Command</p>\n<p><code>set &quot;JAVA_HOME=C:\\Program Files (x86)\\Java\\jre1.8.0_45&quot;</code></p>\n<p>Then Enter Command <code>cd bin</code></p>\n<p>Then To Start Tomcat Server Enter Command <code>startup</code></p>\n<p>To Stop Tomcat Server Enter Command <code>shutdown</code></p>\n<p>If It Fails To Start Although You Can Run Command: <code>cd startup.bat</code></p>\n"}],"owner":{"account_id":1710286,"reputation":371,"user_id":1568493,"accept_rate":100,"display_name":"QuinsUK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117762,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":18479496,"answer_count":9,"score":24,"last_activity_date":1635494226,"creation_date":1377614788,"question_id":18468681,"body_markdown":"I try to set the JAVA_HOME path as my Tomcat server is looking for it. I am trying to set it but it doesn&#39;t seem to work and causes an error when I do. I am trying to set the JAVA in the setclasspath.bat using\r\n\r\n    set JAVA_HOME=&quot;C:\\Program Files (x86)\\Java\\jre7&quot;\r\n\r\nThis is at the start of the setclasspath.bat\r\n\r\n    set JAVA_HOME=&quot;C:\\Program Files (x86)\\Java\\jre7&quot;\r\n    if not &quot;%JAVA_HOME%&quot; == &quot;&quot; goto gotJdkHome\r\n    if not &quot;%JRE_HOME%&quot; == &quot;&quot; goto gotJreHome\r\n    echo Neither the JAVA_HOME nor the JRE_HOME environment variable is defined\r\n    echo At least one of these environment variable is needed to run this program\r\n    goto exit\r\n\r\nWhen I set this and run &quot;startup.bat start&quot; it displays \r\n\r\n&gt; Files was unexpected at this time\r\n\r\nCan you help me?","title":"Tomcat 6 JAVA_HOME","body":"<p>I try to set the JAVA_HOME path as my Tomcat server is looking for it. I am trying to set it but it doesn't seem to work and causes an error when I do. I am trying to set the JAVA in the setclasspath.bat using</p>\n\n<pre><code>set JAVA_HOME=\"C:\\Program Files (x86)\\Java\\jre7\"\n</code></pre>\n\n<p>This is at the start of the setclasspath.bat</p>\n\n<pre><code>set JAVA_HOME=\"C:\\Program Files (x86)\\Java\\jre7\"\nif not \"%JAVA_HOME%\" == \"\" goto gotJdkHome\nif not \"%JRE_HOME%\" == \"\" goto gotJreHome\necho Neither the JAVA_HOME nor the JRE_HOME environment variable is defined\necho At least one of these environment variable is needed to run this program\ngoto exit\n</code></pre>\n\n<p>When I set this and run \"startup.bat start\" it displays </p>\n\n<blockquote>\n  <p>Files was unexpected at this time</p>\n</blockquote>\n\n<p>Can you help me?</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview","tabs"],"comments":[{"owner":{"account_id":11435818,"reputation":1280,"user_id":8383248,"display_name":"Nitin"},"score":0,"creation_date":1581415178,"post_id":60165968,"comment_id":106416429,"body_markdown":"Share you ```MyAdapter.java``` class","body":"Share you <code>MyAdapter.java</code> class"},{"owner":{"account_id":1895347,"reputation":502,"user_id":1712446,"display_name":"Azhagthott"},"score":0,"creation_date":1581415240,"post_id":60165968,"comment_id":106416473,"body_markdown":"it&#39;s already there","body":"it&#39;s already there"},{"owner":{"account_id":1895347,"reputation":502,"user_id":1712446,"display_name":"Azhagthott"},"score":0,"creation_date":1581415297,"post_id":60165968,"comment_id":106416507,"body_markdown":"you are not sending items, debug this line:\n adapter = new MyAdapter(recycler,getActivity(),items);","body":"you are not sending items, debug this line:  adapter = new MyAdapter(recycler,getActivity(),items);"},{"owner":{"account_id":17736276,"reputation":1,"user_id":12877596,"display_name":"android developer"},"score":0,"creation_date":1581415931,"post_id":60165968,"comment_id":106416865,"body_markdown":"I&#39;m not sure if I got you right, I debugged items and it is not null, the getActivity() is returning MainActivity! or do you mean something else with debugging it ?","body":"I&#39;m not sure if I got you right, I debugged items and it is not null, the getActivity() is returning MainActivity! or do you mean something else with debugging it ?"}],"answers":[{"tags":[],"owner":{"account_id":14095308,"reputation":156,"user_id":10182273,"display_name":"Yousef Kazemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581417093,"creation_date":1581417093,"answer_id":60166852,"question_id":60165968,"body_markdown":"the main problem is that your data not correctly send to your adapter, be sure your items data correctly send to your adapter.\r\nyou can use this code:\r\n\r\n    int getItemCount(){\r\n    return  ItemList == null ? 0 : ItemList.size();\r\n    }","title":"RecyclerView attempt to invoke virtual method getItemCount() on a null object reference","body":"<p>the main problem is that your data not correctly send to your adapter, be sure your items data correctly send to your adapter.\nyou can use this code:</p>\n\n<pre><code>int getItemCount(){\nreturn  ItemList == null ? 0 : ItemList.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15999057,"reputation":1506,"user_id":11546258,"display_name":"ljk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635493863,"creation_date":1581417374,"answer_id":60166929,"question_id":60165968,"body_markdown":"The main problem is here in your fragments onCreateView:\r\n\r\n        adapter = new MyAdapter(recycler,getActivity(),items);\r\n        recycler.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n\r\nSince when your ```MyAdapter``` constructor is called and since you are passing your recyclerview in its parameters, your recyclerView doesn&#39;t have a layout manager set to it, and therefore, \r\n\r\n```totalItemCount= linearLayoutManager.getItemCount();```  \r\n\r\nthrows a NullPointer exception as linearLayoutManager is null.\r\n\r\nThe easiest way to fix it in your case is set a layout manager before creating the adapter like below, simply interchange it to fix your issue.\r\n\r\n\r\n    recycler.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n    adapter = new MyAdapter(recycler,getActivity(),items);\r\n\r\nBut on the whole I think there may be other code optimizations needed to it.","title":"RecyclerView attempt to invoke virtual method getItemCount() on a null object reference","body":"<p>The main problem is here in your fragments onCreateView:</p>\n<pre><code>    adapter = new MyAdapter(recycler,getActivity(),items);\n    recycler.setLayoutManager(new LinearLayoutManager(getActivity()));\n</code></pre>\n<p>Since when your <code>MyAdapter</code> constructor is called and since you are passing your recyclerview in its parameters, your recyclerView doesn't have a layout manager set to it, and therefore,</p>\n<p><code>totalItemCount= linearLayoutManager.getItemCount();</code></p>\n<p>throws a NullPointer exception as linearLayoutManager is null.</p>\n<p>The easiest way to fix it in your case is set a layout manager before creating the adapter like below, simply interchange it to fix your issue.</p>\n<pre><code>recycler.setLayoutManager(new LinearLayoutManager(getActivity()));\nadapter = new MyAdapter(recycler,getActivity(),items);\n</code></pre>\n<p>But on the whole I think there may be other code optimizations needed to it.</p>\n"}],"owner":{"account_id":17736276,"reputation":1,"user_id":12877596,"display_name":"android developer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1746,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1581423906,"answer_count":2,"score":-1,"last_activity_date":1635493863,"creation_date":1581414406,"question_id":60165968,"body_markdown":"I&#39;m trying to work with recyclerview in a fragment, I had the recyclerview in a project and it works perfectly in an activity until I tried to implement it in another fragment project. I tried to combine both but I&#39;m getting these errors : \r\n\r\nNullPointerException on the LinearLayoutManager.getItemCount()\r\n\r\nWhat might be causing the NullPointerException?\r\n\r\n\r\n    Process: com.example.accueil, PID: 23897\r\n        java.lang.NullPointerException: Attempt to invoke virtual method &#39;int androidx.recyclerview.widget.LinearLayoutManager.getItemCount()&#39; on a null object reference\r\n            at com.example.accueil.Adapter.MyAdapter$1.onScrolled(MyAdapter.java:72)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchOnScrolled(RecyclerView.java:4961)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep3(RecyclerView.java:4021)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3652)\r\n            at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4194)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1915)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at androidx.viewpager.widget.ViewPager.onLayout(ViewPager.java:1775)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1959)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1813)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1722)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at androidx.drawerlayout.widget.DrawerLayout.onLayout(DrawerLayout.java:1231)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1959)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1813)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1722)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1959)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1813)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1722)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\r\n            at android.view.View.layout(View.java:16022)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:5181)\r\n            at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2483)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2180)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1292)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6598)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:800)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:603)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:572)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:786)\r\n            at android.os.Handler.handleCallback(Handler.java:815)\r\n            at android.os.Handler.dispatchMessage(Handler.java:104)\r\n            at android.os.Looper.loop(Looper.java:194)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5631)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:372)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)\r\n\r\n\r\nHere is my code:\r\n\r\nMyAdapter.java :\r\n\r\n    class LoadingViewHolder extends RecyclerView.ViewHolder\r\n    \r\n    {\r\n        public ProgressBar progressBar;\r\n        public LoadingViewHolder( View itemView) {\r\n            super(itemView);\r\n            progressBar= (ProgressBar) itemView.findViewById(R.id.progressBar);\r\n    \r\n        }\r\n    }\r\n    \r\n    class ItemViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n        public TextView title,pub_date;\r\n        public ImageView thumbnail;\r\n    \r\n        public ItemViewHolder( View itemView) {\r\n            super(itemView);\r\n            title=(TextView) itemView.findViewById(R.id.txtName);\r\n            pub_date=(TextView) itemView.findViewById(R.id.txtLength);\r\n            thumbnail = (ImageView) itemView.findViewById(R.id.thumbnail);\r\n        }\r\n    }\r\n    \r\n    public class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;{\r\n    \r\n    private final int VIEW_TYPE_ITEM=0,VIEW_TYPE_LOADING=1;\r\n    IloadMore loadMore;\r\n    boolean isLoading;\r\n    Activity activity;\r\n    List&lt;Item&gt; items;\r\n    int visibleThreshold=5;\r\n    int LastVisibleItem,totalItemCount;\r\n    RequestOptions option;\r\n    \r\n        public MyAdapter(RecyclerView recyclerView,Activity activity, List&lt;Item&gt; items) {\r\n            this.activity = activity;\r\n            this.items = items;\r\n    \r\n            // Request option for Glide\r\n            option = new RequestOptions().centerCrop().placeholder(R.drawable.loading_shape).error(R.drawable.loading_shape);\r\n    \r\n            final LinearLayoutManager linearLayoutManager=(LinearLayoutManager) recyclerView.getLayoutManager();\r\n       recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n           @Override\r\n           public void onScrolled( RecyclerView recyclerView, int dx, int dy) {\r\n               super.onScrolled(recyclerView, dx, dy);\r\n               totalItemCount= linearLayoutManager.getItemCount();\r\n               LastVisibleItem=linearLayoutManager.findLastVisibleItemPosition();\r\n               if (!isLoading &amp;&amp; totalItemCount &lt;= (LastVisibleItem + visibleThreshold) )\r\n               {\r\n                   if(loadMore!=null) {\r\n                       loadMore.onLoadMore();\r\n                       isLoading = true;\r\n                   }\r\n               }\r\n    \r\n           }\r\n       });\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            return items.get(position)==null ?VIEW_TYPE_LOADING:VIEW_TYPE_ITEM;\r\n        }\r\n    \r\n        public void setLoadMore(IloadMore loadMore) {\r\n            this.loadMore = loadMore;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n    \r\n          if(viewType == VIEW_TYPE_ITEM)\r\n          {\r\n              View view =LayoutInflater.from(parent.getContext())\r\n                  .inflate(R.layout.item_layout,parent,false);\r\n              return new ItemViewHolder(view);\r\n    \r\n    \r\n          }\r\n          else if(viewType==VIEW_TYPE_LOADING )\r\n          {\r\n              View view =LayoutInflater.from(parent.getContext())\r\n                      .inflate(R.layout.item_loading,parent,false);\r\n              return new LoadingViewHolder(view);\r\n    \r\n          }\r\n            return null;\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder( RecyclerView.ViewHolder holder, int position) {\r\n    if (holder instanceof ItemViewHolder)\r\n    {\r\n        Item item= items.get(position);\r\n        ItemViewHolder viewHolder=(ItemViewHolder) holder;\r\n         viewHolder.title.setText(items.get(position).getTitle());\r\n         viewHolder.pub_date.setText(items.get(position).getDatePub());\r\n    \r\n    \r\n        /*if(items.get(position).getImage() != null)\r\n            Picasso.get().load(items.get(position).getImage()).into(viewHolder.thumbnail);\r\n        else*/\r\n            Picasso.get().load(&quot;https://www.victimeslactalis.fr/wp-content/uploads/2019/01/POURQUOI_DOCTEUR.png&quot;).into(viewHolder.thumbnail);\r\n    \r\n    \r\n    }\r\n    else if(holder instanceof LoadingViewHolder)\r\n    {\r\n            LoadingViewHolder loadingViewHolder =(LoadingViewHolder) holder;\r\n            loadingViewHolder.progressBar.setIndeterminate(true);\r\n    \r\n    }\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return items.size();\r\n        }\r\n    \r\n        public void setLoaded() {\r\n            isLoading = false;\r\n        }\r\n    }\r\n\r\n\r\nMainActivity.java:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        private TabLayout tablayout;\r\n        private ViewPager viewPager;\r\n        private TabItem tab1 , tab2, tab3, tab4, tab5,tab6,tab7;\r\n        public PagerAdapter pagerAdapter;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            tablayout = (TabLayout) findViewById(R.id.tablayout);\r\n            tab1 = (TabItem) findViewById(R.id.Tab1);\r\n            tab2 = (TabItem) findViewById(R.id.Tab2);\r\n            tab3 = (TabItem) findViewById(R.id.Tab3);\r\n            tab4 = (TabItem) findViewById(R.id.Tab4);\r\n            tab5 = (TabItem) findViewById(R.id.Tab5);\r\n            tab6 = (TabItem) findViewById(R.id.Tab6);\r\n            tab7 = (TabItem) findViewById(R.id.Tab7);\r\n            viewPager = findViewById(R.id.viewpager);\r\n    \r\n            pagerAdapter = new PageAdapter(getSupportFragmentManager(), tablayout.getTabCount());\r\n           viewPager.setAdapter(pagerAdapter);\r\n           tablayout.setOnTabSelectedListener(new TabLayout.BaseOnTabSelectedListener() {\r\n               @Override\r\n               public void onTabSelected(TabLayout.Tab tab) {\r\n                   viewPager.setCurrentItem(tab.getPosition());\r\n                   if (tab.getPosition() == 0) {\r\n                       pagerAdapter.notifyDataSetChanged();\r\n                   } else if (tab.getPosition() == 1) {\r\n                       pagerAdapter.notifyDataSetChanged();\r\n                   } else if (tab.getPosition() == 2) {\r\n                       pagerAdapter.notifyDataSetChanged();\r\n                   } else if (tab.getPosition() == 3) {\r\n                       pagerAdapter.notifyDataSetChanged();\r\n                   } else if (tab.getPosition() == 4) {\r\n                       pagerAdapter.notifyDataSetChanged();\r\n                   } else if (tab.getPosition() == 5) {\r\n                       pagerAdapter.notifyDataSetChanged();\r\n                   } else if (tab.getPosition() == 6) {\r\n                       pagerAdapter.notifyDataSetChanged();\r\n                   }\r\n               }\r\n    \r\n               @Override\r\n               public void onTabUnselected(TabLayout.Tab tab) {\r\n    \r\n               }\r\n    \r\n               @Override\r\n               public void onTabReselected(TabLayout.Tab tab) {\r\n    \r\n               }\r\n           });\r\n    \r\n    \r\n    \r\n           viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tablayout));\r\n        }}\r\n\r\nTab1.java:\r\n\r\n    public class tab1 extends Fragment {\r\n    \r\n        List&lt;Item&gt; items= new ArrayList&lt;&gt;();\r\n        MyAdapter adapter;\r\n        int number, total;\r\n    \r\n    \r\n        public tab1() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view = inflater.inflate(R.layout.fragment_tab1, container, false);\r\n    \r\n            RecyclerView recycler=(RecyclerView)view.findViewById(R.id.recycler);\r\n    \r\n    \r\n            //new GetFirstData().execute();\r\n            random10Data();\r\n    \r\n            adapter = new MyAdapter(recycler,getActivity(),items);\r\n            recycler.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n            recycler.setAdapter(adapter);\r\n    \r\n    \r\n            return view;\r\n        }\r\n    \r\n    \r\n        private void random10Data() {\r\n            for (int i=0; i&lt;10;i++)\r\n            {\r\n                String title = &quot;Static&quot;;\r\n                String pub_date = &quot;0000&quot;;\r\n                Item item= new Item(&quot;&quot;,title,&quot;&quot;,pub_date, &quot;&quot;);\r\n                items.add(item);\r\n    \r\n            }\r\n            //new GetData().execute();\r\n        }\r\n    }\r\n\r\nfragment_tab1.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        tools:context=&quot;.tab1&quot;&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recycler&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nactivity_main.xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:id=&quot;@+id/drawer_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            tools:openDrawer=&quot;start&quot;&gt;\r\n            &lt;include\r\n                layout=&quot;@layout/home&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot; /&gt;\r\n            &lt;com.google.android.material.navigation.NavigationView\r\n                android:id=&quot;@+id/nav_view&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;start&quot;\r\n                android:fitsSystemWindows=&quot;true&quot;\r\n                app:headerLayout=&quot;@layout/header&quot;\r\n                app:menu=&quot;@menu/drawermenu&quot; /&gt;\r\n        \r\n        &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n    \r\n    item_layout.xml:\r\n    \r\n    &lt;androidx.cardview.widget.CardView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:background=&quot;#FFFFFF&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        &gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_margin=&quot;8dp&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/thumbnail&quot;\r\n                android:layout_width=&quot;120dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:adjustViewBounds=&quot;true&quot;/&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtName&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;@android:color/black&quot;\r\n                    android:textSize=&quot;16dp&quot;\r\n                    android:ellipsize=&quot;end&quot;\r\n                    android:maxLines=&quot;2&quot;\r\n                    android:textStyle=&quot;bold&quot;/&gt;\r\n                &lt;View\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtLength&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:drawablePadding=&quot;5dp&quot;\r\n                    android:textColor=&quot;@android:color/black&quot; /&gt;\r\n    \r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n\r\nSorry for the long and messy code, but could you guys tell me what i&#39;m doing wrong ?","title":"RecyclerView attempt to invoke virtual method getItemCount() on a null object reference","body":"<p>I'm trying to work with recyclerview in a fragment, I had the recyclerview in a project and it works perfectly in an activity until I tried to implement it in another fragment project. I tried to combine both but I'm getting these errors : </p>\n\n<p>NullPointerException on the LinearLayoutManager.getItemCount()</p>\n\n<p>What might be causing the NullPointerException?</p>\n\n<pre><code>Process: com.example.accueil, PID: 23897\n    java.lang.NullPointerException: Attempt to invoke virtual method 'int androidx.recyclerview.widget.LinearLayoutManager.getItemCount()' on a null object reference\n        at com.example.accueil.Adapter.MyAdapter$1.onScrolled(MyAdapter.java:72)\n        at androidx.recyclerview.widget.RecyclerView.dispatchOnScrolled(RecyclerView.java:4961)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep3(RecyclerView.java:4021)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3652)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4194)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1915)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at androidx.viewpager.widget.ViewPager.onLayout(ViewPager.java:1775)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1959)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1813)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1722)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at androidx.drawerlayout.widget.DrawerLayout.onLayout(DrawerLayout.java:1231)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1959)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1813)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1722)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1959)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1813)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1722)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\n        at android.view.View.layout(View.java:16022)\n        at android.view.ViewGroup.layout(ViewGroup.java:5181)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2483)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2180)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1292)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6598)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:800)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:603)\n        at android.view.Choreographer.doFrame(Choreographer.java:572)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:786)\n        at android.os.Handler.handleCallback(Handler.java:815)\n        at android.os.Handler.dispatchMessage(Handler.java:104)\n        at android.os.Looper.loop(Looper.java:194)\n        at android.app.ActivityThread.main(ActivityThread.java:5631)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<p>MyAdapter.java :</p>\n\n<pre><code>class LoadingViewHolder extends RecyclerView.ViewHolder\n\n{\n    public ProgressBar progressBar;\n    public LoadingViewHolder( View itemView) {\n        super(itemView);\n        progressBar= (ProgressBar) itemView.findViewById(R.id.progressBar);\n\n    }\n}\n\nclass ItemViewHolder extends RecyclerView.ViewHolder{\n\n    public TextView title,pub_date;\n    public ImageView thumbnail;\n\n    public ItemViewHolder( View itemView) {\n        super(itemView);\n        title=(TextView) itemView.findViewById(R.id.txtName);\n        pub_date=(TextView) itemView.findViewById(R.id.txtLength);\n        thumbnail = (ImageView) itemView.findViewById(R.id.thumbnail);\n    }\n}\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;{\n\nprivate final int VIEW_TYPE_ITEM=0,VIEW_TYPE_LOADING=1;\nIloadMore loadMore;\nboolean isLoading;\nActivity activity;\nList&lt;Item&gt; items;\nint visibleThreshold=5;\nint LastVisibleItem,totalItemCount;\nRequestOptions option;\n\n    public MyAdapter(RecyclerView recyclerView,Activity activity, List&lt;Item&gt; items) {\n        this.activity = activity;\n        this.items = items;\n\n        // Request option for Glide\n        option = new RequestOptions().centerCrop().placeholder(R.drawable.loading_shape).error(R.drawable.loading_shape);\n\n        final LinearLayoutManager linearLayoutManager=(LinearLayoutManager) recyclerView.getLayoutManager();\n   recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n       @Override\n       public void onScrolled( RecyclerView recyclerView, int dx, int dy) {\n           super.onScrolled(recyclerView, dx, dy);\n           totalItemCount= linearLayoutManager.getItemCount();\n           LastVisibleItem=linearLayoutManager.findLastVisibleItemPosition();\n           if (!isLoading &amp;&amp; totalItemCount &lt;= (LastVisibleItem + visibleThreshold) )\n           {\n               if(loadMore!=null) {\n                   loadMore.onLoadMore();\n                   isLoading = true;\n               }\n           }\n\n       }\n   });\n\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return items.get(position)==null ?VIEW_TYPE_LOADING:VIEW_TYPE_ITEM;\n    }\n\n    public void setLoadMore(IloadMore loadMore) {\n        this.loadMore = loadMore;\n    }\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n      if(viewType == VIEW_TYPE_ITEM)\n      {\n          View view =LayoutInflater.from(parent.getContext())\n              .inflate(R.layout.item_layout,parent,false);\n          return new ItemViewHolder(view);\n\n\n      }\n      else if(viewType==VIEW_TYPE_LOADING )\n      {\n          View view =LayoutInflater.from(parent.getContext())\n                  .inflate(R.layout.item_loading,parent,false);\n          return new LoadingViewHolder(view);\n\n      }\n        return null;\n\n\n    }\n\n    @Override\n    public void onBindViewHolder( RecyclerView.ViewHolder holder, int position) {\nif (holder instanceof ItemViewHolder)\n{\n    Item item= items.get(position);\n    ItemViewHolder viewHolder=(ItemViewHolder) holder;\n     viewHolder.title.setText(items.get(position).getTitle());\n     viewHolder.pub_date.setText(items.get(position).getDatePub());\n\n\n    /*if(items.get(position).getImage() != null)\n        Picasso.get().load(items.get(position).getImage()).into(viewHolder.thumbnail);\n    else*/\n        Picasso.get().load(\"https://www.victimeslactalis.fr/wp-content/uploads/2019/01/POURQUOI_DOCTEUR.png\").into(viewHolder.thumbnail);\n\n\n}\nelse if(holder instanceof LoadingViewHolder)\n{\n        LoadingViewHolder loadingViewHolder =(LoadingViewHolder) holder;\n        loadingViewHolder.progressBar.setIndeterminate(true);\n\n}\n    }\n\n    @Override\n    public int getItemCount() {\n        return items.size();\n    }\n\n    public void setLoaded() {\n        isLoading = false;\n    }\n}\n</code></pre>\n\n<p>MainActivity.java:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n    private TabLayout tablayout;\n    private ViewPager viewPager;\n    private TabItem tab1 , tab2, tab3, tab4, tab5,tab6,tab7;\n    public PagerAdapter pagerAdapter;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        tablayout = (TabLayout) findViewById(R.id.tablayout);\n        tab1 = (TabItem) findViewById(R.id.Tab1);\n        tab2 = (TabItem) findViewById(R.id.Tab2);\n        tab3 = (TabItem) findViewById(R.id.Tab3);\n        tab4 = (TabItem) findViewById(R.id.Tab4);\n        tab5 = (TabItem) findViewById(R.id.Tab5);\n        tab6 = (TabItem) findViewById(R.id.Tab6);\n        tab7 = (TabItem) findViewById(R.id.Tab7);\n        viewPager = findViewById(R.id.viewpager);\n\n        pagerAdapter = new PageAdapter(getSupportFragmentManager(), tablayout.getTabCount());\n       viewPager.setAdapter(pagerAdapter);\n       tablayout.setOnTabSelectedListener(new TabLayout.BaseOnTabSelectedListener() {\n           @Override\n           public void onTabSelected(TabLayout.Tab tab) {\n               viewPager.setCurrentItem(tab.getPosition());\n               if (tab.getPosition() == 0) {\n                   pagerAdapter.notifyDataSetChanged();\n               } else if (tab.getPosition() == 1) {\n                   pagerAdapter.notifyDataSetChanged();\n               } else if (tab.getPosition() == 2) {\n                   pagerAdapter.notifyDataSetChanged();\n               } else if (tab.getPosition() == 3) {\n                   pagerAdapter.notifyDataSetChanged();\n               } else if (tab.getPosition() == 4) {\n                   pagerAdapter.notifyDataSetChanged();\n               } else if (tab.getPosition() == 5) {\n                   pagerAdapter.notifyDataSetChanged();\n               } else if (tab.getPosition() == 6) {\n                   pagerAdapter.notifyDataSetChanged();\n               }\n           }\n\n           @Override\n           public void onTabUnselected(TabLayout.Tab tab) {\n\n           }\n\n           @Override\n           public void onTabReselected(TabLayout.Tab tab) {\n\n           }\n       });\n\n\n\n       viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tablayout));\n    }}\n</code></pre>\n\n<p>Tab1.java:</p>\n\n<pre><code>public class tab1 extends Fragment {\n\n    List&lt;Item&gt; items= new ArrayList&lt;&gt;();\n    MyAdapter adapter;\n    int number, total;\n\n\n    public tab1() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_tab1, container, false);\n\n        RecyclerView recycler=(RecyclerView)view.findViewById(R.id.recycler);\n\n\n        //new GetFirstData().execute();\n        random10Data();\n\n        adapter = new MyAdapter(recycler,getActivity(),items);\n        recycler.setLayoutManager(new LinearLayoutManager(getActivity()));\n        recycler.setAdapter(adapter);\n\n\n        return view;\n    }\n\n\n    private void random10Data() {\n        for (int i=0; i&lt;10;i++)\n        {\n            String title = \"Static\";\n            String pub_date = \"0000\";\n            Item item= new Item(\"\",title,\"\",pub_date, \"\");\n            items.add(item);\n\n        }\n        //new GetData().execute();\n    }\n}\n</code></pre>\n\n<p>fragment_tab1.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\".tab1\"&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/recycler\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>activity_main.xml:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:id=\"@+id/drawer_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fitsSystemWindows=\"true\"\n        tools:openDrawer=\"start\"&gt;\n        &lt;include\n            layout=\"@layout/home\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" /&gt;\n        &lt;com.google.android.material.navigation.NavigationView\n            android:id=\"@+id/nav_view\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"start\"\n            android:fitsSystemWindows=\"true\"\n            app:headerLayout=\"@layout/header\"\n            app:menu=\"@menu/drawermenu\" /&gt;\n\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\nitem_layout.xml:\n\n&lt;androidx.cardview.widget.CardView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"10dp\"\n    android:background=\"#FFFFFF\"\n    android:orientation=\"horizontal\"\n    &gt;\n\n\n\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"80dp\"\n        android:orientation=\"horizontal\"\n        android:layout_margin=\"8dp\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/thumbnail\"\n            android:layout_width=\"120dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginRight=\"10dp\"\n            android:adjustViewBounds=\"true\"/&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/txtName\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textColor=\"@android:color/black\"\n                android:textSize=\"16dp\"\n                android:ellipsize=\"end\"\n                android:maxLines=\"2\"\n                android:textStyle=\"bold\"/&gt;\n            &lt;View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:layout_weight=\"1\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/txtLength\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:drawablePadding=\"5dp\"\n                android:textColor=\"@android:color/black\" /&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n\n\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Sorry for the long and messy code, but could you guys tell me what i'm doing wrong ?</p>\n"},{"tags":["java","spring-boot","annotations"],"comments":[{"owner":{"account_id":7232833,"reputation":639,"user_id":5519054,"accept_rate":50,"display_name":"Christiaan"},"score":1,"creation_date":1635486059,"post_id":69764094,"comment_id":123316120,"body_markdown":"If I understand correctly, do you want a general security configuration and keep it as a `jar` then use this configuration by annotating any project with for example `@EnableGlobalSecurity` and have security set up?","body":"If I understand correctly, do you want a general security configuration and keep it as a <code>jar</code> then use this configuration by annotating any project with for example <code>@EnableGlobalSecurity</code> and have security set up?"},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1635492840,"post_id":69764094,"comment_id":123317987,"body_markdown":"yes exactly. I have the same security Option in all of my project (for example with path need fully authenticated users and which can be access by all.","body":"yes exactly. I have the same security Option in all of my project (for example with path need fully authenticated users and which can be access by all."}],"answers":[{"tags":[],"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635493779,"creation_date":1635493779,"answer_id":69765359,"question_id":69764094,"body_markdown":"You should be able to just [@Import](https://docs.spring.io/spring-framework/docs/5.3.x/javadoc-api/org/springframework/context/annotation/Import.html) your shared `@Configuration` class in every application that should use it.\r\n\r\nAnother way would be to [create a custom auto-configuration](https://docs.spring.io/spring-boot/docs/2.5.x/reference/html/features.html#features.developing-auto-configuration). This way, declaring a dependency on your shared library would suffice.","title":"Spring Boot custom annotations","body":"<p>You should be able to just <a href=\"https://docs.spring.io/spring-framework/docs/5.3.x/javadoc-api/org/springframework/context/annotation/Import.html\" rel=\"nofollow noreferrer\">@Import</a> your shared <code>@Configuration</code> class in every application that should use it.</p>\n<p>Another way would be to <a href=\"https://docs.spring.io/spring-boot/docs/2.5.x/reference/html/features.html#features.developing-auto-configuration\" rel=\"nofollow noreferrer\">create a custom auto-configuration</a>. This way, declaring a dependency on your shared library would suffice.</p>\n"}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635493779,"creation_date":1635485692,"question_id":69764094,"body_markdown":"In all of my projects I need the same WebSecurityConfig. So I copy the same implementation of extending WebSecurityConfigurerAdapter. \r\n\r\nI like to add this to a common library I am using in every project and create a annotation for that. \r\nBut the annotation class cannot have a superclass. \r\n\r\nI tried this: \r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public @interface EnableGlobalSecurity extends WebSecurityConfigurerAdapter {\r\n    }\r\n\r\nIs there a better way to get this working? I just want to add my SecurityConfiguration by adding an annotation or something similar. ","title":"Spring Boot custom annotations","body":"<p>In all of my projects I need the same WebSecurityConfig. So I copy the same implementation of extending WebSecurityConfigurerAdapter.</p>\n<p>I like to add this to a common library I am using in every project and create a annotation for that.\nBut the annotation class cannot have a superclass.</p>\n<p>I tried this:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Configuration\n@EnableWebSecurity\npublic @interface EnableGlobalSecurity extends WebSecurityConfigurerAdapter {\n}\n</code></pre>\n<p>Is there a better way to get this working? I just want to add my SecurityConfiguration by adding an annotation or something similar.</p>\n"},{"tags":["java","spring","spring-boot","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":17689981,"reputation":31,"user_id":12841996,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635473961,"creation_date":1635473961,"answer_id":69762886,"question_id":69761774,"body_markdown":"Annotate with @EnableRedisRepositories and UserEntity should implement serializable.\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    @EnableRedisRepositories\r\n    public class RedisCacheConfiguration {\r\n\r\n    @Bean\r\n    JedisConnectionFactory jedisConnectionFactory() {\r\n        JedisConnectionFactory jedisConFactory\r\n                = new JedisConnectionFactory();\r\n        jedisConFactory.setHostName(&quot;localhost&quot;);\r\n        jedisConFactory.setPort(6379);\r\n        return jedisConFactory;\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; template =new RedisTemplate&lt;&gt;();\r\n        template.setHashValueSerializer(new StringRedisSerializer());\r\n        template.setConnectionFactory(jedisConnectionFactory());\r\n        return template;\r\n    }\r\n\r\n    }\r\n\r\n    @RedisHash(&quot;UserEntity&quot;)\r\n    public class UserEntity implements Serializable{\r\n    }","title":"Spring boot can not read data from redis cache serializer.SerializationException: Cannot deserialize","body":"<p>Annotate with @EnableRedisRepositories and UserEntity should implement serializable.</p>\n<pre><code>@Configuration\n@EnableCaching\n@EnableRedisRepositories\npublic class RedisCacheConfiguration {\n\n@Bean\nJedisConnectionFactory jedisConnectionFactory() {\n    JedisConnectionFactory jedisConFactory\n            = new JedisConnectionFactory();\n    jedisConFactory.setHostName(&quot;localhost&quot;);\n    jedisConFactory.setPort(6379);\n    return jedisConFactory;\n}\n\n@Bean\npublic RedisTemplate&lt;String, Object&gt; redisTemplate() {\n    RedisTemplate&lt;String, Object&gt; template =new RedisTemplate&lt;&gt;();\n    template.setHashValueSerializer(new StringRedisSerializer());\n    template.setConnectionFactory(jedisConnectionFactory());\n    return template;\n}\n\n}\n\n@RedisHash(&quot;UserEntity&quot;)\npublic class UserEntity implements Serializable{\n}\n</code></pre>\n"}],"owner":{"account_id":21620142,"reputation":31,"user_id":15945288,"display_name":"Umut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1048,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635493730,"creation_date":1635461156,"question_id":69761774,"body_markdown":"I am trying to made spring boot app that is reading data from redis cache. But I can not.\r\n\r\nFirstly I am calling post api to create user and then I am calling get api to `getUserById` but I am getting error like this:\r\n\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; com.umut.redis.redisExample.Model.UserEntity \tat\r\n&gt; java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n&gt; ~[na:na] \tat java.base/java.lang.Class.forName0(Native Method)\r\n&gt; ~[na:na] \tat java.base/java.lang.Class.forName(Class.java:398)\r\n&gt; ~[na:na] \tat\r\n&gt; org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145)\r\n&gt; ~[spring-boot-devtools-2.5.6.jar:2.5.6] \tat\r\n&gt; java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n&gt; ~[na:na] \tat java.base/java.lang.Class.forName0(Native Method)\r\n&gt; ~[na:na]\r\n\r\n\r\nI am running docker container to redis. \r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class RedisCacheConfiguration {\r\n    \r\n        @Bean\r\n        JedisConnectionFactory jedisConnectionFactory() {\r\n            JedisConnectionFactory jedisConFactory\r\n                    = new JedisConnectionFactory();\r\n            jedisConFactory.setHostName(&quot;localhost&quot;);\r\n            jedisConFactory.setPort(6379);\r\n            return jedisConFactory;\r\n        }\r\n    \r\n        @Bean\r\n        public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n            RedisTemplate&lt;String, Object&gt; template =new RedisTemplate&lt;&gt;();\r\n            template.setHashValueSerializer(new StringRedisSerializer());\r\n            template.setConnectionFactory(jedisConnectionFactory());\r\n            return template;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n    @Service\r\n    public class UserServiceImpl implements IUserService{\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        public UserServiceImpl(UserRepository userRepository) {\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        public UserDto createUser(CreateUserRequest createUserRequest){\r\n             UserEntity userEntity = new UserEntity();\r\n             userEntity.setName(createUserRequest.getName());\r\n             userEntity.setSurname(createUserRequest.getSurname());\r\n             userRepository.save(userEntity);\r\n             return UserMapper.INSTANCE.userEntityToUserDto(userEntity);\r\n        }\r\n    \r\n        @Cacheable(value= &quot;user&quot;, key = &quot;#userId&quot;)\r\n        public UserDto getUserById(Long userId){\r\n            System.out.println(&quot;getuserbyid i&#231;erisi&quot;);\r\n            UserEntity userEntity = userRepository.getById(userId);\r\n            return UserMapper.INSTANCE.userEntityToUserDto(userEntity);\r\n        }\r\n    }","title":"Spring boot can not read data from redis cache serializer.SerializationException: Cannot deserialize","body":"<p>I am trying to made spring boot app that is reading data from redis cache. But I can not.</p>\n<p>Firstly I am calling post api to create user and then I am calling get api to <code>getUserById</code> but I am getting error like this:</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException:\ncom.umut.redis.redisExample.Model.UserEntity  at\njava.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n~[na:na]  at\njava.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n~[na:na]  at\njava.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n~[na:na]  at java.base/java.lang.Class.forName0(Native Method)\n~[na:na]  at java.base/java.lang.Class.forName(Class.java:398)\n~[na:na]  at\norg.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145)\n~[spring-boot-devtools-2.5.6.jar:2.5.6]   at\njava.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n~[na:na]  at java.base/java.lang.Class.forName0(Native Method)\n~[na:na]</p>\n</blockquote>\n<p>I am running docker container to redis.</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class RedisCacheConfiguration {\n\n    @Bean\n    JedisConnectionFactory jedisConnectionFactory() {\n        JedisConnectionFactory jedisConFactory\n                = new JedisConnectionFactory();\n        jedisConFactory.setHostName(&quot;localhost&quot;);\n        jedisConFactory.setPort(6379);\n        return jedisConFactory;\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template =new RedisTemplate&lt;&gt;();\n        template.setHashValueSerializer(new StringRedisSerializer());\n        template.setConnectionFactory(jedisConnectionFactory());\n        return template;\n    }\n\n}\n\n\n\n@Service\npublic class UserServiceImpl implements IUserService{\n\n    private final UserRepository userRepository;\n\n    public UserServiceImpl(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    public UserDto createUser(CreateUserRequest createUserRequest){\n         UserEntity userEntity = new UserEntity();\n         userEntity.setName(createUserRequest.getName());\n         userEntity.setSurname(createUserRequest.getSurname());\n         userRepository.save(userEntity);\n         return UserMapper.INSTANCE.userEntityToUserDto(userEntity);\n    }\n\n    @Cacheable(value= &quot;user&quot;, key = &quot;#userId&quot;)\n    public UserDto getUserById(Long userId){\n        System.out.println(&quot;getuserbyid içerisi&quot;);\n        UserEntity userEntity = userRepository.getById(userId);\n        return UserMapper.INSTANCE.userEntityToUserDto(userEntity);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1635458390,"post_id":69761387,"comment_id":123311500,"body_markdown":"hmm, what if you build the jar and try to start it up via `java -jar`? In case this does not work either, you could unpack the jar and look what is actually inside it, that could shed some light.","body":"hmm, what if you build the jar and try to start it up via <code>java -jar</code>? In case this does not work either, you could unpack the jar and look what is actually inside it, that could shed some light."},{"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"score":0,"creation_date":1635458763,"post_id":69761387,"comment_id":123311595,"body_markdown":"what should I look for ? You mean in the jar of project B ?","body":"what should I look for ? You mean in the jar of project B ?"}],"answers":[{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635493614,"creation_date":1635493614,"answer_id":69765325,"question_id":69761387,"body_markdown":"`@SpringBootConfiguration` is not enough for the auto-configuration. You should add `@EnableAutoConfiguration`. This will trigger scanning `spring.factories` files and do the rest for you.\r\n\r\nOr using `@SpringBootApplication`, because it has `EnableAutoConfiguration` in it.\r\n```java\r\n@SpringBootConfiguration\r\n@EnableAutoConfiguration\r\n@ComponentScan(\r\n    excludeFilters = {@Filter(\r\n    type = FilterType.CUSTOM,\r\n    classes = {TypeExcludeFilter.class}\r\n), @Filter(\r\n    type = FilterType.CUSTOM,\r\n    classes = {AutoConfigurationExcludeFilter.class}\r\n)}\r\n)\r\npublic @interface SpringBootApplication\r\n```","title":"Spring : autoconfigured bean in dependency library is not loaded in Spring context","body":"<p><code>@SpringBootConfiguration</code> is not enough for the auto-configuration. You should add <code>@EnableAutoConfiguration</code>. This will trigger scanning <code>spring.factories</code> files and do the rest for you.</p>\n<p>Or using <code>@SpringBootApplication</code>, because it has <code>EnableAutoConfiguration</code> in it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(\n    excludeFilters = {@Filter(\n    type = FilterType.CUSTOM,\n    classes = {TypeExcludeFilter.class}\n), @Filter(\n    type = FilterType.CUSTOM,\n    classes = {AutoConfigurationExcludeFilter.class}\n)}\n)\npublic @interface SpringBootApplication\n</code></pre>\n"}],"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69765325,"answer_count":1,"score":1,"last_activity_date":1635493614,"creation_date":1635457998,"question_id":69761387,"body_markdown":"I am working on some Java projects using Spring boot. I have an autoconfigured class `MyAutoConfig` in the `spring.factories` file in a project `A`. \r\n\r\nThis configuration file has some bean definitions, for example the class `Worker`.\r\n\r\nThe project `B` is using `A` as a library, in gradle like this:\r\n\r\n    implementation project(&#39;:project-A&#39;)\r\n\r\nI can start project `B` without any errors. But when I try to use `@Autowired Worker worker` in project `B` in the main class where I have `@SpringBootConfiguration`, it told me that `&quot;expected at least 1 bean which qualifies as autowire candidate&quot;`, so I assume that the bean is not in the context.\r\n\r\nI would like to know what could be the problem ?\r\n\r\n\r\n","title":"Spring : autoconfigured bean in dependency library is not loaded in Spring context","body":"<p>I am working on some Java projects using Spring boot. I have an autoconfigured class <code>MyAutoConfig</code> in the <code>spring.factories</code> file in a project <code>A</code>.</p>\n<p>This configuration file has some bean definitions, for example the class <code>Worker</code>.</p>\n<p>The project <code>B</code> is using <code>A</code> as a library, in gradle like this:</p>\n<pre><code>implementation project(':project-A')\n</code></pre>\n<p>I can start project <code>B</code> without any errors. But when I try to use <code>@Autowired Worker worker</code> in project <code>B</code> in the main class where I have <code>@SpringBootConfiguration</code>, it told me that <code>&quot;expected at least 1 bean which qualifies as autowire candidate&quot;</code>, so I assume that the bean is not in the context.</p>\n<p>I would like to know what could be the problem ?</p>\n"},{"tags":["java","hibernate","one-to-one","micronaut","micronaut-data"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1635445544,"post_id":69756529,"comment_id":123307414,"body_markdown":"I believe the parent class for answer matters: how its id is initialized? Client side or generated? If generated, what strategy is used?","body":"I believe the parent class for answer matters: how its id is initialized? Client side or generated? If generated, what strategy is used?"},{"owner":{"account_id":23172767,"reputation":51,"user_id":17271756,"display_name":"Dariy Pozinenko"},"score":0,"creation_date":1635446335,"post_id":69756529,"comment_id":123307711,"body_markdown":"@Lesiak see edit","body":"@Lesiak see edit"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1635450381,"post_id":69756529,"comment_id":123309020,"body_markdown":"The only thing that is unclear to me in this scenario is whether both question and answer are inserted in the same transactional method, or the answer is added to existing question. In the second case, is question managed at the point of save? (I cannot reproduce it, in each case I get an update on question, as expected)","body":"The only thing that is unclear to me in this scenario is whether both question and answer are inserted in the same transactional method, or the answer is added to existing question. In the second case, is question managed at the point of save? (I cannot reproduce it, in each case I get an update on question, as expected)"},{"owner":{"account_id":23172767,"reputation":51,"user_id":17271756,"display_name":"Dariy Pozinenko"},"score":0,"creation_date":1635488999,"post_id":69756529,"comment_id":123316815,"body_markdown":"@Lesiak it&#39;s an existing question and a new answer. I also have a different subclass of `OderedQuestion` - `MultiChoiceQuestion`, which has a collection (One2Many) instead of a single field. It goes through the same method, except the `#answer` method inside the question adds the answer to the collection, instead of just assigning. Everything works for the multi one. (see full method in edit)","body":"@Lesiak it&#39;s an existing question and a new answer. I also have a different subclass of <code>OderedQuestion</code> - <code>MultiChoiceQuestion</code>, which has a collection (One2Many) instead of a single field. It goes through the same method, except the <code>#answer</code> method inside the question adds the answer to the collection, instead of just assigning. Everything works for the multi one. (see full method in edit)"}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635435520,"creation_date":1635435520,"answer_id":69757060,"question_id":69756529,"body_markdown":"\r\nInclude the `@JoinColumn` annotation indicating the foreign key in `SingleChoiceQuestion` entity:\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;answer_id&quot;)\r\n    private SingleAnswer answer;\r\n","title":"Foreign key of child not added to parent entity when saving, one-to-one","body":"<p>Include the <code>@JoinColumn</code> annotation indicating the foreign key in <code>SingleChoiceQuestion</code> entity:</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\n@JoinColumn(name = &quot;answer_id&quot;)\nprivate SingleAnswer answer;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23172767,"reputation":51,"user_id":17271756,"display_name":"Dariy Pozinenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635492193,"creation_date":1635492193,"answer_id":69765049,"question_id":69756529,"body_markdown":"The issue was painfully simple, a `@ReadOnly` sneaked in on a class level at some point by someone, and I didn&#39;t notice","title":"Foreign key of child not added to parent entity when saving, one-to-one","body":"<p>The issue was painfully simple, a <code>@ReadOnly</code> sneaked in on a class level at some point by someone, and I didn't notice</p>\n"}],"owner":{"account_id":23172767,"reputation":51,"user_id":17271756,"display_name":"Dariy Pozinenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69765049,"answer_count":2,"score":3,"last_activity_date":1635493324,"creation_date":1635433410,"question_id":69756529,"body_markdown":"I have the following setup:\r\n\r\n- Micronaut 3.x\r\n- Java 15\r\n\r\nEntity I&#39;m trying to update:\r\n\r\n```\r\n@Setter\r\n@Getter\r\n@Entity\r\n@ToString\r\n@Table(name = &quot;single_choice_question&quot;)\r\npublic class SingleChoiceQuestion extends OrderedQuestion {\r\n  @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\r\n  private SingleAnswer answer;\r\n\r\n  @Override\r\n  public void answer(Answer answer) {\r\n    if (answer instanceof SingleAnswer single) {\r\n        this.answer = single;\r\n    }\r\n    throw new IllegalArgumentException(&quot;answer is not of SingleAnswer type&quot;);\r\n  }\r\n}\r\n\r\n```\r\nIts child entity I&#39;m trying to persist as part of the one above:\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;single_answer&quot;)\r\npublic class SingleAnswer extends Answer {\r\n  @OneToOne private AnswerOption choice;\r\n}\r\n```\r\nAll entities inherit from this:\r\n\r\n```\r\n@MappedSuperclass\r\npublic abstract class BaseEntity {\r\n\r\n  @Id\r\n  @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n  @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\r\n  @Column(updatable = false, nullable = false, length = 36)\r\n  @Type(type = &quot;pkg.UuidUserType&quot;) // Maps UUID to SQL VARCHAR.\r\n  private UUID id;\r\n\r\n  @Version\r\n  @Column(nullable = false)\r\n  private Integer version;\r\n...\r\n}\r\n```\r\nthe base answer class:\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic abstract class Answer extends BaseEntity {\r\n\r\n  @Column(nullable = false)\r\n  private Boolean correct;\r\n\r\n}\r\n```\r\n\r\nThe below lines are executed:\r\n```java\r\n\r\n@ReadOnly\r\npublic class MyService {\r\n\r\n  @Transactional\r\n  public &lt;A extends AnswerDto&gt; A answer(A dto, UUID question) {\r\n    var answer = questionsMapper.toAnswer(dto);\r\n    answer.setCorrect(isCorrect(dto, question));\r\n\r\n    var orderedQuestion =\r\n        orderedQuestionRepository\r\n            .findById(question)\r\n            .orElseThrow(() -&gt; new NotFoundException(&quot;question&quot;, question));\r\n\r\n    orderedQuestion.answer(answer, false);\r\n    orderedQuestionRepository.saveAndFlush(orderedQuestion);\r\n\r\n    return dto;\r\n  }\r\n}\r\n```\r\n\r\n*Expected behaviour*:\r\nthe SingleAnswer instance is persisted, and its FK is saved in the `answer_id` column of the question.\r\n\r\n*Actual behaviour*:\r\nthe SingleAnswer instance is persisted, but its FK is NOT saved in the `answer_id` column of the question. They are not connected in any way, so orphan removal doesn&#39;t seem to work either.\r\n\r\nAfter examining hibernate&#39;s logs, I can see it only executes the `insert` and does not do and `update` on the question.\r\n\r\nAnother observation is when I remove flushing, orphan removal does work - `SingleAnswer` doesn&#39;t persist, although the FK situation isn&#39;t resolved still.\r\n```\r\norderedQuestion.answer(answer);\r\norderedQuestionRepository.save(orderedQuestion);\r\n```\r\n\r\nI can&#39;t see anything wrong with this very basic setup, any help would be appreciated.","title":"Foreign key of child not added to parent entity when saving, one-to-one","body":"<p>I have the following setup:</p>\n<ul>\n<li>Micronaut 3.x</li>\n<li>Java 15</li>\n</ul>\n<p>Entity I'm trying to update:</p>\n<pre><code>@Setter\n@Getter\n@Entity\n@ToString\n@Table(name = &quot;single_choice_question&quot;)\npublic class SingleChoiceQuestion extends OrderedQuestion {\n  @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\n  private SingleAnswer answer;\n\n  @Override\n  public void answer(Answer answer) {\n    if (answer instanceof SingleAnswer single) {\n        this.answer = single;\n    }\n    throw new IllegalArgumentException(&quot;answer is not of SingleAnswer type&quot;);\n  }\n}\n\n</code></pre>\n<p>Its child entity I'm trying to persist as part of the one above:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;single_answer&quot;)\npublic class SingleAnswer extends Answer {\n  @OneToOne private AnswerOption choice;\n}\n</code></pre>\n<p>All entities inherit from this:</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntity {\n\n  @Id\n  @GeneratedValue(generator = &quot;system-uuid&quot;)\n  @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\n  @Column(updatable = false, nullable = false, length = 36)\n  @Type(type = &quot;pkg.UuidUserType&quot;) // Maps UUID to SQL VARCHAR.\n  private UUID id;\n\n  @Version\n  @Column(nullable = false)\n  private Integer version;\n...\n}\n</code></pre>\n<p>the base answer class:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class Answer extends BaseEntity {\n\n  @Column(nullable = false)\n  private Boolean correct;\n\n}\n</code></pre>\n<p>The below lines are executed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@ReadOnly\npublic class MyService {\n\n  @Transactional\n  public &lt;A extends AnswerDto&gt; A answer(A dto, UUID question) {\n    var answer = questionsMapper.toAnswer(dto);\n    answer.setCorrect(isCorrect(dto, question));\n\n    var orderedQuestion =\n        orderedQuestionRepository\n            .findById(question)\n            .orElseThrow(() -&gt; new NotFoundException(&quot;question&quot;, question));\n\n    orderedQuestion.answer(answer, false);\n    orderedQuestionRepository.saveAndFlush(orderedQuestion);\n\n    return dto;\n  }\n}\n</code></pre>\n<p><em>Expected behaviour</em>:\nthe SingleAnswer instance is persisted, and its FK is saved in the <code>answer_id</code> column of the question.</p>\n<p><em>Actual behaviour</em>:\nthe SingleAnswer instance is persisted, but its FK is NOT saved in the <code>answer_id</code> column of the question. They are not connected in any way, so orphan removal doesn't seem to work either.</p>\n<p>After examining hibernate's logs, I can see it only executes the <code>insert</code> and does not do and <code>update</code> on the question.</p>\n<p>Another observation is when I remove flushing, orphan removal does work - <code>SingleAnswer</code> doesn't persist, although the FK situation isn't resolved still.</p>\n<pre><code>orderedQuestion.answer(answer);\norderedQuestionRepository.save(orderedQuestion);\n</code></pre>\n<p>I can't see anything wrong with this very basic setup, any help would be appreciated.</p>\n"},{"tags":["java","spring","web","server-sent-events"],"answers":[{"tags":[],"owner":{"account_id":23134322,"reputation":107,"user_id":17238746,"display_name":"Ankit Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635440936,"creation_date":1635440936,"answer_id":69758317,"question_id":69750002,"body_markdown":"There is no issue with code, the actual issue is when I am writing response to client my response message should look like as below.\r\n\r\n    PrintWriter out = response.write(&quot;data: message&quot;+value+&quot;\\n\\n&quot;);\r\n    out.flush(); //don&#39;t forget to flush\r\nIn my code I was missing the last part &quot;\\n\\n&quot; in response object so source.onmessage(datalist) in javascript didn&#39;t get hit.","title":"How do I get EventSource.onmessage to work?","body":"<p>There is no issue with code, the actual issue is when I am writing response to client my response message should look like as below.</p>\n<pre><code>PrintWriter out = response.write(&quot;data: message&quot;+value+&quot;\\n\\n&quot;);\nout.flush(); //don't forget to flush\n</code></pre>\n<p>In my code I was missing the last part &quot;\\n\\n&quot; in response object so source.onmessage(datalist) in javascript didn't get hit.</p>\n"},{"tags":[],"owner":{"account_id":22667261,"reputation":111,"user_id":16839433,"display_name":"ringhiosi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635492978,"creation_date":1635492978,"answer_id":69765194,"question_id":69750002,"body_markdown":"```\r\n    eventSource.addEventListener(&#39;myEvent&#39;, function (event) {\r\n        console.log(event);\r\n        const data = JSON.parse(event.data);\r\n        console.log(&#39;addEventListener&#39;);\r\n        console.log(data);\r\n        // console.log(data.siteCode);\r\n        eventEffect(data);\r\n    }, false);\r\n```\r\nthis is normally work!","title":"How do I get EventSource.onmessage to work?","body":"<pre><code>    eventSource.addEventListener('myEvent', function (event) {\n        console.log(event);\n        const data = JSON.parse(event.data);\n        console.log('addEventListener');\n        console.log(data);\n        // console.log(data.siteCode);\n        eventEffect(data);\n    }, false);\n</code></pre>\n<p>this is normally work!</p>\n"}],"owner":{"account_id":22667261,"reputation":111,"user_id":16839433,"display_name":"ringhiosi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635492978,"creation_date":1635406621,"question_id":69750002,"body_markdown":"How do I get EventSource.onmessage to work?\r\n\r\nHere is my subscribe and pushevent code:\r\n```\r\n\tpublic SseEmitter subscribe() throws Exception {\r\n        SseEmitter emitter = new SseEmitter(1800000L);\r\n\r\n        emitters.add(emitter);\r\n\r\n        emitter.onCompletion(() -&gt; {\r\n        \tsynchronized (emitters) {\r\n        \t\temitters.remove(emitter);\r\n        \t}\r\n        });\r\n        emitter.onTimeout(() -&gt; {\r\n        \temitter.complete();\r\n        \temitters.remove(emitter);\r\n        });\r\n\r\n        return emitter;\r\n    }\r\n```\r\n```\r\n\t@Async\r\n\tpublic void pushEventMap(Map&lt;String, Object&gt; pushMap) throws IOException {\r\n\t\tList&lt;SseEmitter&gt; deadEmitters = new ArrayList&lt;&gt;();\r\n\r\n\t\tHashMap&lt;String,Object&gt; map = (HashMap&lt;String,Object&gt;) pushMap;\r\n\r\n\t\temitters.forEach(emitter -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\temitter.send(SseEmitter.event().name(&quot;myEvent&quot;).data(map));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\temitter.completeWithError(e);\r\n\t\t\t\tlogger_error.error(&quot;pushEvent Exception:&quot; + e);\r\n\t\t\t\tdeadEmitters.add(emitter);\r\n\t\t\t}\r\n\t\t});\r\n\t\temitters.removeAll(deadEmitters);\r\n\t}\r\n```\r\n\r\n\r\n\r\nThe controller for the above service is:\r\n```\r\n   @RequestMapping(value = &quot;/subscribe&quot;, produces = &quot;text/event-stream&quot;)\r\n    public ResponseEntity&lt;SseEmitter&gt; subscribe() throws Exception {\r\n\r\n        final SseEmitter emitter = eventService.subscribe();\r\n\r\n        return new ResponseEntity&lt;&gt;(emitter, HttpStatus.OK);\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/publish&quot;)\r\n    public void publish() throws IOException {\r\n        eventService.pushEventMap(pushMap);\r\n    }\r\n```\r\n\r\n\r\nI want the client to receive the data of event push through js.\r\n```\r\nconst eventInit = () =&gt; {\r\n\r\n    console.log(&quot;eventInit called&quot;);\r\n    const url = &#39;http://localhost:8080/itf/subscribe&#39;;\r\n    const eventSource = new EventSource(url);\r\n\r\n    var httpRequest = new XMLHttpRequest();\r\n\r\n    eventSource.onmessage = (event) =&gt; {\r\n        const data = JSON.parse(event.data);\r\n        console.log(&#39;===&#39;);\r\n        console.log(data);\r\n\r\n    }\r\n    eventSource.onopen = (event) =&gt; {\r\n        console.log(&#39;sse open&#39;);\r\n        console.log(event);\r\n    }\r\n\r\n    eventSource.onerror = (event) =&gt; {\r\n        if (event.readyState == EventSource.CLOSED) {\r\n            console.log(&#39;sse close&#39;);\r\n        } else {\r\n            console.log(&quot;onerror&quot;, e);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn this state, if I send event-generating data through postman, `sse open` appears on the console.\r\n\r\nHowever, the result of the event is not displayed.\r\n\r\nIf I directly access `/itf/subscribe` through the url, the result of the event is displayed on the screen. However, I am not receiving the result of the event through `event.onmessage`.\r\n\r\nWhat I want is to raise an event, and then receive the result of the event through the onmessage function.\r\n\r\nI am wondering how can I get the result of the event.\r\n\r\nbest regards","title":"How do I get EventSource.onmessage to work?","body":"<p>How do I get EventSource.onmessage to work?</p>\n<p>Here is my subscribe and pushevent code:</p>\n<pre><code>    public SseEmitter subscribe() throws Exception {\n        SseEmitter emitter = new SseEmitter(1800000L);\n\n        emitters.add(emitter);\n\n        emitter.onCompletion(() -&gt; {\n            synchronized (emitters) {\n                emitters.remove(emitter);\n            }\n        });\n        emitter.onTimeout(() -&gt; {\n            emitter.complete();\n            emitters.remove(emitter);\n        });\n\n        return emitter;\n    }\n</code></pre>\n<pre><code>    @Async\n    public void pushEventMap(Map&lt;String, Object&gt; pushMap) throws IOException {\n        List&lt;SseEmitter&gt; deadEmitters = new ArrayList&lt;&gt;();\n\n        HashMap&lt;String,Object&gt; map = (HashMap&lt;String,Object&gt;) pushMap;\n\n        emitters.forEach(emitter -&gt; {\n            try {\n                emitter.send(SseEmitter.event().name(&quot;myEvent&quot;).data(map));\n            } catch (Exception e) {\n                emitter.completeWithError(e);\n                logger_error.error(&quot;pushEvent Exception:&quot; + e);\n                deadEmitters.add(emitter);\n            }\n        });\n        emitters.removeAll(deadEmitters);\n    }\n</code></pre>\n<p>The controller for the above service is:</p>\n<pre><code>   @RequestMapping(value = &quot;/subscribe&quot;, produces = &quot;text/event-stream&quot;)\n    public ResponseEntity&lt;SseEmitter&gt; subscribe() throws Exception {\n\n        final SseEmitter emitter = eventService.subscribe();\n\n        return new ResponseEntity&lt;&gt;(emitter, HttpStatus.OK);\n    }\n\n    @RequestMapping(value = &quot;/publish&quot;)\n    public void publish() throws IOException {\n        eventService.pushEventMap(pushMap);\n    }\n</code></pre>\n<p>I want the client to receive the data of event push through js.</p>\n<pre><code>const eventInit = () =&gt; {\n\n    console.log(&quot;eventInit called&quot;);\n    const url = 'http://localhost:8080/itf/subscribe';\n    const eventSource = new EventSource(url);\n\n    var httpRequest = new XMLHttpRequest();\n\n    eventSource.onmessage = (event) =&gt; {\n        const data = JSON.parse(event.data);\n        console.log('===');\n        console.log(data);\n\n    }\n    eventSource.onopen = (event) =&gt; {\n        console.log('sse open');\n        console.log(event);\n    }\n\n    eventSource.onerror = (event) =&gt; {\n        if (event.readyState == EventSource.CLOSED) {\n            console.log('sse close');\n        } else {\n            console.log(&quot;onerror&quot;, e);\n        }\n    }\n\n}\n</code></pre>\n<p>In this state, if I send event-generating data through postman, <code>sse open</code> appears on the console.</p>\n<p>However, the result of the event is not displayed.</p>\n<p>If I directly access <code>/itf/subscribe</code> through the url, the result of the event is displayed on the screen. However, I am not receiving the result of the event through <code>event.onmessage</code>.</p>\n<p>What I want is to raise an event, and then receive the result of the event through the onmessage function.</p>\n<p>I am wondering how can I get the result of the event.</p>\n<p>best regards</p>\n"},{"tags":["java","excel","selenium","for-loop"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635459872,"creation_date":1635459872,"answer_id":69761622,"question_id":69760797,"body_markdown":"Make use of [Apache POI][1]. There are a number of examples how to access and modify spreadsheets at https://poi.apache.org/components/spreadsheet/examples.html\r\n\r\n\r\n  [1]: https://poi.apache.org/","title":"If cell in specific row contains &quot;x&quot;, how to do I retrieve the specific column name where x is present using Java","body":"<p>Make use of <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a>. There are a number of examples how to access and modify spreadsheets at <a href=\"https://poi.apache.org/components/spreadsheet/examples.html\" rel=\"nofollow noreferrer\">https://poi.apache.org/components/spreadsheet/examples.html</a></p>\n"},{"tags":[],"owner":{"account_id":23095038,"reputation":146,"user_id":17205307,"display_name":"Johannes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635460442,"creation_date":1635460442,"answer_id":69761698,"question_id":69760797,"body_markdown":"If I understood correctly you don&#39;t need the two for loops inside your if case since you already got the cell index.\r\n```\r\nif(cell.getStringCellValue() == &quot;x&quot;) {\r\n  Row fRow = CellUtil.getRow(0, sheet);\r\n  Cell fColumn = CellUtil.getCell(fRow, columnIndex);\r\n  String columnName = fColumn.getStringCellValue();\r\n  System.out.println(columnName);\r\n}\r\n```","title":"If cell in specific row contains &quot;x&quot;, how to do I retrieve the specific column name where x is present using Java","body":"<p>If I understood correctly you don't need the two for loops inside your if case since you already got the cell index.</p>\n<pre><code>if(cell.getStringCellValue() == &quot;x&quot;) {\n  Row fRow = CellUtil.getRow(0, sheet);\n  Cell fColumn = CellUtil.getCell(fRow, columnIndex);\n  String columnName = fColumn.getStringCellValue();\n  System.out.println(columnName);\n}\n</code></pre>\n"}],"owner":{"account_id":11814003,"reputation":1,"user_id":8644745,"display_name":"MRL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635492902,"creation_date":1635454372,"question_id":69760797,"body_markdown":"Sample excel sheet (I am using a much larger excel sheet):\r\n\r\n| Column0  | Column1  | Column2  | Column3  | Column4  | Column5  |\r\n|:---------|----------|----------|----------|----------|---------:|\r\n| row0     |  red     |    x     |     x    |          |     x    |\r\n| row1     |  orange  |    x     |          |     x    |          |\r\n| row2     |  yellow  |          |     x    |     x    |     x    |\r\n| row3     |  green   |    x     |     x    |          |     x    |\r\n| row4     |  blue    |    x     |          |     x    |          |\r\n| row5     |  purple  |    x     |          |     x    |          |\r\n| row6     |  pink    |          |          |     x    |          |\r\n\r\nLet&#39;s propose I want to select row3. How do I retrieve the name of the columns where the x&#39; are present? For row3, I want to display on my console &quot;column2 column3 column5&quot;. I am also trying to start at a specific column index hence I had a column that strayed from having x&#39;s. So for the example, I need to iterate from column2--&gt;column5, then identify in row3 which of the cells have x&#39;s and then identify the name of those columns. My code below I had real time numbers I am using. \r\n\r\n```\r\n//find x&#39;s in certain row\r\n        //pick row 15\r\n\t\tint rowIndex = 15;\r\n        //start at column 9 and iterate to column 33\r\n\t\tfor (int columnIndex = 9; columnIndex&lt;33; columnIndex++){\r\n\t\t    Row row = CellUtil.getRow(rowIndex, sheet);\r\n\t\t    Cell cell = CellUtil.getCell(row, columnIndex);\r\n\t\t    //if row contains x in specific cells, get column name\r\n            //progTypes is the name of the columns appearing in row index 0\r\n\t\t    if(cell.getStringCellValue() == &quot;x&quot;) {\r\n\t\t    \tfor(int progTypes = 9; progTypes &lt; 33; progTypes++) {\r\n\t\t    \t\tfor (int firstRow = 0; firstRow &lt; 0; firstRow++) {\r\n\t\t    \t\t\tRow fRow = CellUtil.getRow(firstRow, sheet);\r\n\t\t    \t\t\tCell fColumn = CellUtil.getCell(fRow, progTypes);\r\n\t\t    \t\t\tString columnName = fColumn.getStringCellValue();\r\n\t\t    \t\t\tSystem.out.println(columnName);\r\n\t\t    \t\t}\r\n\t\t    \t}\r\n\t\t    }\r\n\r\n```\r\n\r\n","title":"If cell in specific row contains &quot;x&quot;, how to do I retrieve the specific column name where x is present using Java","body":"<p>Sample excel sheet (I am using a much larger excel sheet):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Column0</th>\n<th>Column1</th>\n<th>Column2</th>\n<th>Column3</th>\n<th>Column4</th>\n<th style=\"text-align: right;\">Column5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">row0</td>\n<td>red</td>\n<td>x</td>\n<td>x</td>\n<td></td>\n<td style=\"text-align: right;\">x</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">row1</td>\n<td>orange</td>\n<td>x</td>\n<td></td>\n<td>x</td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">row2</td>\n<td>yellow</td>\n<td></td>\n<td>x</td>\n<td>x</td>\n<td style=\"text-align: right;\">x</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">row3</td>\n<td>green</td>\n<td>x</td>\n<td>x</td>\n<td></td>\n<td style=\"text-align: right;\">x</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">row4</td>\n<td>blue</td>\n<td>x</td>\n<td></td>\n<td>x</td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">row5</td>\n<td>purple</td>\n<td>x</td>\n<td></td>\n<td>x</td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">row6</td>\n<td>pink</td>\n<td></td>\n<td></td>\n<td>x</td>\n<td style=\"text-align: right;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Let's propose I want to select row3. How do I retrieve the name of the columns where the x' are present? For row3, I want to display on my console &quot;column2 column3 column5&quot;. I am also trying to start at a specific column index hence I had a column that strayed from having x's. So for the example, I need to iterate from column2--&gt;column5, then identify in row3 which of the cells have x's and then identify the name of those columns. My code below I had real time numbers I am using.</p>\n<pre><code>//find x's in certain row\n        //pick row 15\n        int rowIndex = 15;\n        //start at column 9 and iterate to column 33\n        for (int columnIndex = 9; columnIndex&lt;33; columnIndex++){\n            Row row = CellUtil.getRow(rowIndex, sheet);\n            Cell cell = CellUtil.getCell(row, columnIndex);\n            //if row contains x in specific cells, get column name\n            //progTypes is the name of the columns appearing in row index 0\n            if(cell.getStringCellValue() == &quot;x&quot;) {\n                for(int progTypes = 9; progTypes &lt; 33; progTypes++) {\n                    for (int firstRow = 0; firstRow &lt; 0; firstRow++) {\n                        Row fRow = CellUtil.getRow(firstRow, sheet);\n                        Cell fColumn = CellUtil.getCell(fRow, progTypes);\n                        String columnName = fColumn.getStringCellValue();\n                        System.out.println(columnName);\n                    }\n                }\n            }\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8092,"page":1900,"page_size":100}
