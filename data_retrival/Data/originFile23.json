{"items":[{"tags":["java","spring","spring-boot","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110989,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701279872,"creation_date":1701279872,"answer_id":77573428,"question_id":77570517,"body_markdown":"There&#39;s no test variant of `RestClient`. [This Spring Framework issue](https://github.com/spring-projects/spring-framework/issues/31275) is tracking a `RestClient` equivalent of `WebClient`&#39;s `WebTestClient`.","title":"Does the new RestClient introduced in Spring Framework 6.1 have a variant suitable for testing like RestTemplate had with TestRestTemplate?","body":"<p>There's no test variant of <code>RestClient</code>. <a href=\"https://github.com/spring-projects/spring-framework/issues/31275\" rel=\"nofollow noreferrer\">This Spring Framework issue</a> is tracking a <code>RestClient</code> equivalent of <code>WebClient</code>'s <code>WebTestClient</code>.</p>\n"}],"owner":{"account_id":4240367,"reputation":422,"user_id":3470438,"accept_rate":75,"display_name":"wimdetr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77573428,"answer_count":1,"score":2,"last_activity_date":1701422203,"creation_date":1701255275,"question_id":77570517,"body_markdown":"In spring framework 6.1, a new synchronous HTTP client `RestClient` was introduced. See also:\r\n\r\nhttps://github.com/spring-projects/spring-framework/issues/29552\r\n\r\nIt aims to replace the existing `RestTemplate`.\r\n\r\nIn Spring Boot, there was a `TestRestTemplate` which could be used for integration tests. See also:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.utilities.test-rest-template\r\n\r\nHowever, I could not find any mention of a variant for `RestClient`. What is the recommended way to do integration testing using `RestClient` ?","title":"Does the new RestClient introduced in Spring Framework 6.1 have a variant suitable for testing like RestTemplate had with TestRestTemplate?","body":"<p>In spring framework 6.1, a new synchronous HTTP client <code>RestClient</code> was introduced. See also:</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/29552\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/29552</a></p>\n<p>It aims to replace the existing <code>RestTemplate</code>.</p>\n<p>In Spring Boot, there was a <code>TestRestTemplate</code> which could be used for integration tests. See also:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.utilities.test-rest-template\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.utilities.test-rest-template</a></p>\n<p>However, I could not find any mention of a variant for <code>RestClient</code>. What is the recommended way to do integration testing using <code>RestClient</code> ?</p>\n"},{"tags":["java","spring","hibernate","jsp","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":26594,"reputation":13012,"user_id":69352,"display_name":"darrengorman"},"down_vote_count":91,"up_vote_count":341,"is_accepted":true,"score":250,"last_activity_date":1343759588,"creation_date":1343759588,"answer_id":11746720,"question_id":11746499,"body_markdown":"If you know that you&#39;ll want to see all `Comment`s every time you retrieve a `Topic` then change your field mapping for `comments` to:\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;topic&quot;, cascade = CascadeType.ALL)\r\n    private Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\r\n\r\nCollections are lazy-loaded by default, take a look at [this](https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence) if you want to know more.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>If you know that you'll want to see all <code>Comment</code>s every time you retrieve a <code>Topic</code> then change your field mapping for <code>comments</code> to:</p>\n\n<pre><code>@OneToMany(fetch = FetchType.EAGER, mappedBy = \"topic\", cascade = CascadeType.ALL)\nprivate Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\n</code></pre>\n\n<p>Collections are lazy-loaded by default, take a look at <a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence\">this</a> if you want to know more.</p>\n"},{"tags":[],"owner":{"account_id":427405,"reputation":3877,"user_id":809152,"accept_rate":89,"display_name":"Avihai Marchiano"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1508844270,"creation_date":1343765516,"answer_id":11748194,"question_id":11746499,"body_markdown":"your list is lazy loading, so the list wasn&#39;t loaded.\r\ncall to get on the list is not enough.\r\nuse in Hibernate.initialize in order to init the list.\r\nIf dosnt work run on the list element and call Hibernate.initialize for each .\r\nthis need to be before you return from the transaction scope.\r\nlook at [this][1] post.  \r\nsearch for  - \r\n\r\n    Node n = // .. get the node\r\n    Hibernate.initialize(n); // initializes &#39;parent&#39; similar to getParent.\r\n    Hibernate.initialize(n.getChildren()); // pass the lazy collection into the session \r\n\r\n\r\n  [1]: http://www.javalobby.org/java/forums/t20533.html","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>your list is lazy loading, so the list wasn't loaded.\ncall to get on the list is not enough.\nuse in Hibernate.initialize in order to init the list.\nIf dosnt work run on the list element and call Hibernate.initialize for each .\nthis need to be before you return from the transaction scope.\nlook at <a href=\"http://www.javalobby.org/java/forums/t20533.html\" rel=\"nofollow noreferrer\">this</a> post.<br>\nsearch for  - </p>\n\n<pre><code>Node n = // .. get the node\nHibernate.initialize(n); // initializes 'parent' similar to getParent.\nHibernate.initialize(n.getChildren()); // pass the lazy collection into the session \n</code></pre>\n"},{"tags":[],"owner":{"account_id":114647,"reputation":2910,"user_id":301379,"display_name":"GMK"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1343929640,"creation_date":1343765603,"answer_id":11748226,"question_id":11746499,"body_markdown":"In order to lazy load a collection there must be an active session.  In a web app there are two ways to do this.  You can use the [Open Session In View][1] pattern, where you use an [interceptor][2] to open the session at the beginning of the request and close it at the end.  The risk there is that you have to have solid exception handling or you could bind up all your sessions and your app could hang.  \r\n\r\nThe other way to handle this is to collect all the data you need in your controller, close your session, and then stuff the data into your model.  I personally prefer this approach, as it seems a little closer to the spirit of the MVC pattern.  Also if you get an error from the database this way you can handle it a lot better than if it happens in your view renderer.  Your friend in this scenario is [Hibernate.initialize][3](myTopic.getComments()).  You will also have to reattach the object to the session, since you&#39;re creating a new transaction with every request.  Use session.lock(myTopic,LockMode.NONE) for that.\r\n\r\n\r\n  [1]: https://community.jboss.org/wiki/OpenSessionInView?_sscc=t\r\n  [2]: http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/orm/hibernate3/support/OpenSessionInViewInterceptor.html\r\n  [3]: http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In order to lazy load a collection there must be an active session.  In a web app there are two ways to do this.  You can use the <a href=\"https://community.jboss.org/wiki/OpenSessionInView?_sscc=t\" rel=\"noreferrer\">Open Session In View</a> pattern, where you use an <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/orm/hibernate3/support/OpenSessionInViewInterceptor.html\" rel=\"noreferrer\">interceptor</a> to open the session at the beginning of the request and close it at the end.  The risk there is that you have to have solid exception handling or you could bind up all your sessions and your app could hang.  </p>\n\n<p>The other way to handle this is to collect all the data you need in your controller, close your session, and then stuff the data into your model.  I personally prefer this approach, as it seems a little closer to the spirit of the MVC pattern.  Also if you get an error from the database this way you can handle it a lot better than if it happens in your view renderer.  Your friend in this scenario is <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization\" rel=\"noreferrer\">Hibernate.initialize</a>(myTopic.getComments()).  You will also have to reattach the object to the session, since you're creating a new transaction with every request.  Use session.lock(myTopic,LockMode.NONE) for that.</p>\n"},{"tags":[],"owner":{"account_id":1476033,"reputation":2433,"user_id":1386396,"display_name":"Boris"},"down_vote_count":3,"up_vote_count":219,"is_accepted":false,"score":216,"last_activity_date":1701270956,"creation_date":1343805967,"answer_id":11754441,"question_id":11746499,"body_markdown":"From my experience, I have the following methods to solve the famous `LazyInitializationException`:\r\n\r\n**(1) Use Hibernate.initialize**\r\n\r\n    Hibernate.initialize(topics.getComments());\r\n\r\n\r\n**(2) Use JOIN FETCH**\r\n\r\nYou can use the `JOIN FETCH` syntax in your JPQL to explicitly fetch the child collection out. This is somehow like `EAGER` fetching.\r\n\r\n\r\n\r\n**(3) Use OpenSessionInViewFilter**\r\n\r\n`LazyInitializationException` often occurs in the view layer. If you use Spring framework, you can use `OpenSessionInViewFilter`. However, I do not suggest you to do so. It may lead to performance issues if not used correctly.\r\n\r\n\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>From my experience, I have the following methods to solve the famous <code>LazyInitializationException</code>:</p>\n<p><strong>(1) Use Hibernate.initialize</strong></p>\n<pre><code>Hibernate.initialize(topics.getComments());\n</code></pre>\n<p><strong>(2) Use JOIN FETCH</strong></p>\n<p>You can use the <code>JOIN FETCH</code> syntax in your JPQL to explicitly fetch the child collection out. This is somehow like <code>EAGER</code> fetching.</p>\n<p><strong>(3) Use OpenSessionInViewFilter</strong></p>\n<p><code>LazyInitializationException</code> often occurs in the view layer. If you use Spring framework, you can use <code>OpenSessionInViewFilter</code>. However, I do not suggest you to do so. It may lead to performance issues if not used correctly.</p>\n"},{"tags":[],"owner":{"account_id":3387170,"reputation":4027,"user_id":2842896,"accept_rate":50,"display_name":"tolgayilmaz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1383837777,"creation_date":1383837777,"answer_id":19839721,"question_id":11746499,"body_markdown":"it was the problem i recently faced which i solved with using \r\n\r\n    &lt;f:attribute name=&quot;collectionType&quot; value=&quot;java.util.ArrayList&quot; /&gt;\r\n\r\nmore detailed decription [here][1] and this saved my day.\r\n\r\n\r\n  [1]: http://blog.itcrowd.pl/2013/02/jsf-manytomany-and-lazyinitializationex.html","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>it was the problem i recently faced which i solved with using </p>\n\n<pre><code>&lt;f:attribute name=\"collectionType\" value=\"java.util.ArrayList\" /&gt;\n</code></pre>\n\n<p>more detailed decription <a href=\"http://blog.itcrowd.pl/2013/02/jsf-manytomany-and-lazyinitializationex.html\" rel=\"noreferrer\">here</a> and this saved my day.</p>\n"},{"tags":[],"owner":{"account_id":2022605,"reputation":3327,"user_id":1808417,"display_name":"saneryee"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1508843377,"creation_date":1417672743,"answer_id":27287313,"question_id":11746499,"body_markdown":"The reason is that when you use lazy load, the session is closed.\r\n\r\nThere are two solutions.\r\n\r\n1. Don&#39;t use lazy load.\r\n\r\n   Set `lazy=false` in XML or Set `@OneToMany(fetch = FetchType.EAGER)` In annotation.\r\n\r\n2. Use lazy load. \r\n\r\n   Set `lazy=true` in XML or Set `@OneToMany(fetch = FetchType.LAZY)` In annotation.\r\n   \r\n   and add `OpenSessionInViewFilter filter` in your `web.xml`\r\n\r\n\r\nDetail See my [POST][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27286187/1808417","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The reason is that when you use lazy load, the session is closed.</p>\n\n<p>There are two solutions.</p>\n\n<ol>\n<li><p>Don't use lazy load.</p>\n\n<p>Set <code>lazy=false</code> in XML or Set <code>@OneToMany(fetch = FetchType.EAGER)</code> In annotation.</p></li>\n<li><p>Use lazy load. </p>\n\n<p>Set <code>lazy=true</code> in XML or Set <code>@OneToMany(fetch = FetchType.LAZY)</code> In annotation.</p>\n\n<p>and add <code>OpenSessionInViewFilter filter</code> in your <code>web.xml</code></p></li>\n</ol>\n\n<p>Detail See my <a href=\"https://stackoverflow.com/a/27286187/1808417\">POST</a>.</p>\n"},{"tags":[],"owner":{"account_id":6519430,"reputation":127,"user_id":5044134,"display_name":"Elcin ABD"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1442409732,"creation_date":1435141469,"answer_id":31024098,"question_id":11746499,"body_markdown":"I found out that declaring `@PersistenceContext` as `EXTENDED` also solves this problem:\r\n\r\n    @PersistenceContext(type = PersistenceContextType.EXTENDED)","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>I found out that declaring <code>@PersistenceContext</code> as <code>EXTENDED</code> also solves this problem:</p>\n\n<pre><code>@PersistenceContext(type = PersistenceContextType.EXTENDED)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076625,"reputation":3021,"user_id":2605781,"accept_rate":48,"display_name":"Gandalf"},"down_vote_count":1,"up_vote_count":75,"is_accepted":false,"score":74,"last_activity_date":1437214882,"creation_date":1437157825,"answer_id":31482435,"question_id":11746499,"body_markdown":"The origin of your problem:\r\n---------------------------\r\n\r\nBy default hibernate lazily loads the collections (relationships) which means whenver you use the `collection` in your code(here `comments` field\r\nin `Topic` class)\r\nthe hibernate gets that from database, now the problem is that you are getting the collection in your controller (where the \r\nJPA session is closed).This is the line of code that causes the exception\r\n(where you are loading the `comments` collection): \r\n\r\n        Collection&lt;Comment&gt; commentList = topicById.getComments();\r\n\r\nYou are  getting &quot;comments&quot; collection (topic.getComments()) in your controller(where `JPA session` has ended) and that causes the exception. Also if you had got \r\nthe `comments` collection in your jsp file like this(instead of getting it in your controller): \r\n\r\n\r\n    &lt;c:forEach items=&quot;topic.comments&quot; var=&quot;item&quot;&gt;\r\n    //some code\r\n    &lt;/c:forEach&gt;\r\n\r\nYou would still have the same exception for the same reason.\r\n\r\nSolving the problem:\r\n--------------------\r\n\r\nBecause you just can have only two collections with the `FetchType.Eager`(eagerly fetched collection) in an Entity class and because lazy loading is more\r\nefficient than eagerly loading, I think this way of solving your problem is better than just changing the `FetchType` to eager:\r\n\r\nIf you want to have collection lazy initialized, and also make this work,\r\nit is better to add this snippet of code to your `web.xml` :\r\n\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\nWhat this code does is that it will increase the length of your `JPA session` or as the documentation says, it is used `&quot;to allow for lazy loading in web views despite the original transactions already being completed.&quot;` so \r\nthis way the JPA session will be open a bit longer and because of that\r\nyou can lazily load collections in your jsp files and controller classes.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<h2>The origin of your problem:</h2>\n\n<p>By default hibernate lazily loads the collections (relationships) which means whenver you use the <code>collection</code> in your code(here <code>comments</code> field\nin <code>Topic</code> class)\nthe hibernate gets that from database, now the problem is that you are getting the collection in your controller (where the \nJPA session is closed).This is the line of code that causes the exception\n(where you are loading the <code>comments</code> collection): </p>\n\n<pre><code>    Collection&lt;Comment&gt; commentList = topicById.getComments();\n</code></pre>\n\n<p>You are  getting \"comments\" collection (topic.getComments()) in your controller(where <code>JPA session</code> has ended) and that causes the exception. Also if you had got \nthe <code>comments</code> collection in your jsp file like this(instead of getting it in your controller): </p>\n\n<pre><code>&lt;c:forEach items=\"topic.comments\" var=\"item\"&gt;\n//some code\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>You would still have the same exception for the same reason.</p>\n\n<h2>Solving the problem:</h2>\n\n<p>Because you just can have only two collections with the <code>FetchType.Eager</code>(eagerly fetched collection) in an Entity class and because lazy loading is more\nefficient than eagerly loading, I think this way of solving your problem is better than just changing the <code>FetchType</code> to eager:</p>\n\n<p>If you want to have collection lazy initialized, and also make this work,\nit is better to add this snippet of code to your <code>web.xml</code> :</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>What this code does is that it will increase the length of your <code>JPA session</code> or as the documentation says, it is used <code>\"to allow for lazy loading in web views despite the original transactions already being completed.\"</code> so \nthis way the JPA session will be open a bit longer and because of that\nyou can lazily load collections in your jsp files and controller classes.</p>\n"},{"tags":[],"owner":{"account_id":5734866,"reputation":243,"user_id":4529358,"display_name":"javaboygo"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1440427811,"creation_date":1440427811,"answer_id":32185289,"question_id":11746499,"body_markdown":"If you are trying to have a relation between a entity and a Collection or a List of java objects (for example Long type), it would like something like this:\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n        public List&lt;Long&gt; ids;","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>If you are trying to have a relation between a entity and a Collection or a List of java objects (for example Long type), it would like something like this:</p>\n\n<pre><code>@ElementCollection(fetch = FetchType.EAGER)\n    public List&lt;Long&gt; ids;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1958522,"reputation":9067,"user_id":1760858,"accept_rate":58,"display_name":"velis"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1448947363,"creation_date":1448947363,"answer_id":34013183,"question_id":11746499,"body_markdown":"For those working with [Criteria][1], I found that \r\n\r\n    criteria.setFetchMode(&quot;lazily_fetched_member&quot;, FetchMode.EAGER);\r\n\r\ndid everything I needed had done.\r\n\r\nInitial fetch mode for collections is set to FetchMode.LAZY to provide performance, but when I need the data, I just add that line and enjoy the fully populated objects.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Criteria.html","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>For those working with <a href=\"http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Criteria.html\" rel=\"nofollow\">Criteria</a>, I found that </p>\n\n<pre><code>criteria.setFetchMode(\"lazily_fetched_member\", FetchMode.EAGER);\n</code></pre>\n\n<p>did everything I needed had done.</p>\n\n<p>Initial fetch mode for collections is set to FetchMode.LAZY to provide performance, but when I need the data, I just add that line and enjoy the fully populated objects.</p>\n"},{"tags":[],"owner":{"account_id":3127494,"reputation":61,"user_id":2646088,"display_name":"Mario Biasi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1454690318,"creation_date":1454688179,"answer_id":35228464,"question_id":11746499,"body_markdown":"To solve the problem in my case it was just missing this line\r\n\r\n    &lt;tx:annotation-driven transaction-manager=&quot;myTxManager&quot; /&gt;\r\n\r\nin the application-context file.\r\n\r\nThe `@Transactional` annotation over a method was not taken into account.\r\n\r\nHope the answer will help someone\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>To solve the problem in my case it was just missing this line</p>\n\n<pre><code>&lt;tx:annotation-driven transaction-manager=\"myTxManager\" /&gt;\n</code></pre>\n\n<p>in the application-context file.</p>\n\n<p>The <code>@Transactional</code> annotation over a method was not taken into account.</p>\n\n<p>Hope the answer will help someone</p>\n"},{"tags":[],"owner":{"account_id":1212784,"reputation":266,"user_id":1181017,"accept_rate":0,"display_name":"Xcoder"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1458988247,"creation_date":1458988247,"answer_id":36234239,"question_id":11746499,"body_markdown":"@Transactional annotation on controller is missing\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/&quot;)\r\n    @Transactional\r\n    public class UserController {\r\n    }","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>@Transactional annotation on controller is missing</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/\")\n@Transactional\npublic class UserController {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1931705,"reputation":1797,"user_id":1740965,"display_name":"sarbuLopex"},"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1465221870,"creation_date":1465221519,"answer_id":37659432,"question_id":11746499,"body_markdown":"I know it&#39;s an old question but I want to help.\r\nYou can put the transactional annotation on the service method you need, in this case findTopicByID(id) should have\r\n\r\n    @Transactional(propagation=Propagation.REQUIRED, readOnly=true, noRollbackFor=Exception.class)\r\n\r\nmore info about this annotation can be found [here][1]\r\n\r\nAbout the other solutions:\r\n\r\n    fetch = FetchType.EAGER \r\n\r\nis not a good practice, it should be used ONLY if necessary.\r\n\r\n    Hibernate.initialize(topics.getComments());\r\n\r\nThe hibernate initializer binds your classes to the hibernate technology. If you are aiming to be flexible is not a good way to go.\r\n\r\nHope it helps\r\n\r\n  [1]: https://stackoverflow.com/questions/10740021/transactionalpropagation-propagation-required\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>I know it's an old question but I want to help.\nYou can put the transactional annotation on the service method you need, in this case findTopicByID(id) should have</p>\n\n<pre><code>@Transactional(propagation=Propagation.REQUIRED, readOnly=true, noRollbackFor=Exception.class)\n</code></pre>\n\n<p>more info about this annotation can be found <a href=\"https://stackoverflow.com/questions/10740021/transactionalpropagation-propagation-required\">here</a></p>\n\n<p>About the other solutions:</p>\n\n<pre><code>fetch = FetchType.EAGER \n</code></pre>\n\n<p>is not a good practice, it should be used ONLY if necessary.</p>\n\n<pre><code>Hibernate.initialize(topics.getComments());\n</code></pre>\n\n<p>The hibernate initializer binds your classes to the hibernate technology. If you are aiming to be flexible is not a good way to go.</p>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":9441688,"reputation":455,"user_id":7021926,"display_name":"RuiZhi Wang"},"down_vote_count":3,"up_vote_count":46,"is_accepted":false,"score":43,"last_activity_date":1701422176,"creation_date":1481713340,"answer_id":41140986,"question_id":11746499,"body_markdown":"    @Controller\r\n    @RequestMapping(value = &quot;/topic&quot;)\r\n    @Transactional\r\n\r\nI solved this problem by adding `@Transactional`, I think this can open a session.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<pre><code>@Controller\n@RequestMapping(value = &quot;/topic&quot;)\n@Transactional\n</code></pre>\n<p>I solved this problem by adding <code>@Transactional</code>, I think this can open a session.</p>\n"},{"tags":[],"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486114613,"creation_date":1485525792,"answer_id":41895770,"question_id":11746499,"body_markdown":"In my case following code was a problem:\r\n\r\n    entityManager.detach(topicById);\r\n    topicById.getComments() // exception thrown\r\n\r\n\r\nBecause it detached from the database and Hibernate no longer retrieved list from the field when it was needed. So I initialize it before detaching:\r\n\r\n    Hibernate.initialize(topicById.getComments());\r\n    entityManager.detach(topicById);\r\n    topicById.getComments() // works like a charm","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In my case following code was a problem:</p>\n\n<pre><code>entityManager.detach(topicById);\ntopicById.getComments() // exception thrown\n</code></pre>\n\n<p>Because it detached from the database and Hibernate no longer retrieved list from the field when it was needed. So I initialize it before detaching:</p>\n\n<pre><code>Hibernate.initialize(topicById.getComments());\nentityManager.detach(topicById);\ntopicById.getComments() // works like a charm\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3580672,"reputation":518,"user_id":2988961,"display_name":"abentan"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1486995436,"creation_date":1486995436,"answer_id":42206232,"question_id":11746499,"body_markdown":"The problem is caused by accessing an attribute with the hibernate session closed. You have not a hibernate transaction in the controller.\r\n\r\nPossible solutions:\r\n\r\n 1. **Do all this logic, in the service layer**, (with the @Transactional), not in the controller. There should be the right place to do this, it is part of the logic of the app, not in the controller (in this case, an interface to load the model). All the operations in the service layer should be transactional.\r\ni.e.: Move this line to the TopicService.findTopicByID method:\r\n\r\n    Collection&lt;Comment&gt; commentList = topicById.getComments();\r\n\r\n\r\n 2. **Use &#39;eager&#39; instead of &#39;lazy&#39;**. Now you are not using &#39;lazy&#39; .. it is not a real solution, if you want to use lazy, works like a temporary (very temporary) workaround.\r\n 3. **use @Transactional in the Controller**. It should not be used here, you are mixing service layer with presentation, it is not a good design.\r\n 4. **use OpenSessionInViewFilter**, many disadvantages reported, possible instability.\r\n\r\n**In general, the best solution is the 1.**\r\n\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The problem is caused by accessing an attribute with the hibernate session closed. You have not a hibernate transaction in the controller.</p>\n\n<p>Possible solutions:</p>\n\n<ol>\n<li><p><strong>Do all this logic, in the service layer</strong>, (with the @Transactional), not in the controller. There should be the right place to do this, it is part of the logic of the app, not in the controller (in this case, an interface to load the model). All the operations in the service layer should be transactional.\ni.e.: Move this line to the TopicService.findTopicByID method:</p>\n\n<p>Collection commentList = topicById.getComments();</p></li>\n<li><p><strong>Use 'eager' instead of 'lazy'</strong>. Now you are not using 'lazy' .. it is not a real solution, if you want to use lazy, works like a temporary (very temporary) workaround.</p></li>\n<li><strong>use @Transactional in the Controller</strong>. It should not be used here, you are mixing service layer with presentation, it is not a good design.</li>\n<li><strong>use OpenSessionInViewFilter</strong>, many disadvantages reported, possible instability.</li>\n</ol>\n\n<p><strong>In general, the best solution is the 1.</strong></p>\n"},{"tags":[],"owner":{"account_id":7964707,"reputation":420,"user_id":6011410,"display_name":"aditya lath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521195070,"creation_date":1521195070,"answer_id":49318086,"question_id":11746499,"body_markdown":"The reason is you are trying to get the commentList on your controller after closing the session inside the service.\r\n\r\n    topicById.getComments();\r\n\r\nAbove will load the commentList only if your hibernate session is active, which I guess you closed in your service.\r\n\r\n**So, you have to get the commentList before closing the session.**","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The reason is you are trying to get the commentList on your controller after closing the session inside the service.</p>\n\n<pre><code>topicById.getComments();\n</code></pre>\n\n<p>Above will load the commentList only if your hibernate session is active, which I guess you closed in your service.</p>\n\n<p><strong>So, you have to get the commentList before closing the session.</strong></p>\n"},{"tags":[],"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566810652,"creation_date":1527070378,"answer_id":50485645,"question_id":11746499,"body_markdown":"In my case, I had the mapping b/w `A` and `B` like \r\n\r\n`A` has \r\n\r\n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.ALL)\r\n    Set&lt;B&gt; bs;\r\n\r\nin the `DAO` layer, the **method** needs to be annotated with `@Transactional` if you haven&#39;t annotated the mapping with **Fetch Type - Eager**\r\n\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In my case, I had the mapping b/w <code>A</code> and <code>B</code> like </p>\n\n<p><code>A</code> has </p>\n\n<pre><code>@OneToMany(mappedBy = \"a\", cascade = CascadeType.ALL)\nSet&lt;B&gt; bs;\n</code></pre>\n\n<p>in the <code>DAO</code> layer, the <strong>method</strong> needs to be annotated with <code>@Transactional</code> if you haven't annotated the mapping with <strong>Fetch Type - Eager</strong></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1654219558,"creation_date":1530080510,"answer_id":51055820,"question_id":11746499,"body_markdown":"The best way to handle the [`LazyInitializationException`](https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/) is to [join fetch](https://stackoverflow.com/a/59468551/4982691) upon query time, like this:\r\n\r\n    select t\r\n    from Topic t\r\n    left join fetch t.comments\r\n\r\nYou should ALWAYS avoid the following anti-patterns:\r\n\r\n- `FetchType.EAGER`\r\n- [OSIV (Open Session in View)](https://stackoverflow.com/a/37526397/1025118)\r\n- [`hibernate.enable_lazy_load_no_trans` Hibernate configuration property](https://stackoverflow.com/a/39723223/1025118)\r\n\r\nTherefore, make sure that your `FetchType.LAZY` associations are initialized at query time or within the original `@Transactional` scope using `Hibernate.initialize` for secondary collections. \r\n\r\n  [2]: https://vladmihalcea.com/eager-fetching-is-a-code-smell/","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The best way to handle the <a href=\"https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\" rel=\"noreferrer\"><code>LazyInitializationException</code></a> is to <a href=\"https://stackoverflow.com/a/59468551/4982691\">join fetch</a> upon query time, like this:</p>\n<pre><code>select t\nfrom Topic t\nleft join fetch t.comments\n</code></pre>\n<p>You should ALWAYS avoid the following anti-patterns:</p>\n<ul>\n<li><code>FetchType.EAGER</code></li>\n<li><a href=\"https://stackoverflow.com/a/37526397/1025118\">OSIV (Open Session in View)</a></li>\n<li><a href=\"https://stackoverflow.com/a/39723223/1025118\"><code>hibernate.enable_lazy_load_no_trans</code> Hibernate configuration property</a></li>\n</ul>\n<p>Therefore, make sure that your <code>FetchType.LAZY</code> associations are initialized at query time or within the original <code>@Transactional</code> scope using <code>Hibernate.initialize</code> for secondary collections.</p>\n"},{"tags":[],"owner":{"account_id":3197479,"reputation":27823,"user_id":2700356,"accept_rate":76,"display_name":"Yuci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532082738,"creation_date":1532082738,"answer_id":51440589,"question_id":11746499,"body_markdown":"The collection `comments` in your model class `Topic` is lazily loaded, which is the default behaviour if you don&#39;t annotate it with `fetch = FetchType.EAGER` specifically.\r\n\r\nIt is mostly likely that your `findTopicByID` service is using a stateless Hibernate session. [A stateless session][1] does not have the first level cache, i.e., no persistence context. Later on when you try to iterate `comments`, Hibernate will throw an exception.\r\n\r\n    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: mvc3.model.Topic.comments, no session or session was closed\r\n\r\nThe solution can be:\r\n\r\n 1. Annotate `comments` with `fetch = FetchType.EAGER`\r\n\r\n        @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;topic&quot;, cascade = CascadeType.ALL)   \r\n        private Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\r\n\r\n 2. If you still would like comments to be lazily loaded, use [Hibernate&#39;s stateful sessions][2], so that you&#39;ll be able to fetch comments later on demand.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/StatelessSession.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Session.html","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The collection <code>comments</code> in your model class <code>Topic</code> is lazily loaded, which is the default behaviour if you don't annotate it with <code>fetch = FetchType.EAGER</code> specifically.</p>\n\n<p>It is mostly likely that your <code>findTopicByID</code> service is using a stateless Hibernate session. <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/StatelessSession.html\" rel=\"nofollow noreferrer\">A stateless session</a> does not have the first level cache, i.e., no persistence context. Later on when you try to iterate <code>comments</code>, Hibernate will throw an exception.</p>\n\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: mvc3.model.Topic.comments, no session or session was closed\n</code></pre>\n\n<p>The solution can be:</p>\n\n<ol>\n<li><p>Annotate <code>comments</code> with <code>fetch = FetchType.EAGER</code></p>\n\n<pre><code>@OneToMany(fetch = FetchType.EAGER, mappedBy = \"topic\", cascade = CascadeType.ALL)   \nprivate Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\n</code></pre></li>\n<li><p>If you still would like comments to be lazily loaded, use <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Session.html\" rel=\"nofollow noreferrer\">Hibernate's stateful sessions</a>, so that you'll be able to fetch comments later on demand.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9820488,"reputation":29,"user_id":7275422,"display_name":"vic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532500908,"creation_date":1532500908,"answer_id":51512361,"question_id":11746499,"body_markdown":"Hi All posting quite late hope it helps others,\r\nThanking in advance to @GMK for this post  [Hibernate.initialize(object)][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization\r\n\r\n when Lazy=&quot;true&quot;\r\n\r\n    Set&lt;myObject&gt; set=null;\r\n    hibernateSession.open\r\n    set=hibernateSession.getMyObjects();\r\n    hibernateSession.close();\r\n\r\nnow if i access &#39;set&#39; after closing session it throws exception.\r\n\r\nMy solution :\r\n\r\n    Set&lt;myObject&gt; set=new HashSet&lt;myObject&gt;();\r\n    hibernateSession.open\r\n    set.addAll(hibernateSession.getMyObjects());\r\n    hibernateSession.close();\r\n\r\nnow i can access &#39;set&#39; even after closing Hibernate Session.\r\n  ","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>Hi All posting quite late hope it helps others,\nThanking in advance to @GMK for this post  <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization\" rel=\"nofollow noreferrer\">Hibernate.initialize(object)</a></p>\n\n<p>when Lazy=\"true\"</p>\n\n<pre><code>Set&lt;myObject&gt; set=null;\nhibernateSession.open\nset=hibernateSession.getMyObjects();\nhibernateSession.close();\n</code></pre>\n\n<p>now if i access 'set' after closing session it throws exception.</p>\n\n<p>My solution :</p>\n\n<pre><code>Set&lt;myObject&gt; set=new HashSet&lt;myObject&gt;();\nhibernateSession.open\nset.addAll(hibernateSession.getMyObjects());\nhibernateSession.close();\n</code></pre>\n\n<p>now i can access 'set' even after closing Hibernate Session.</p>\n"},{"tags":[],"owner":{"account_id":3585957,"reputation":4609,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532519994,"creation_date":1532512433,"answer_id":51515961,"question_id":11746499,"body_markdown":"By using the hibernate `@Transactional` annotation, if you get an object from the database with lazy fetched attributes, you can simply get these by fetching these attributes like this :\r\n\r\n    @Transactional\r\n    public void checkTicketSalePresence(UUID ticketUuid, UUID saleUuid) {\r\n            Optional&lt;Ticket&gt; savedTicketOpt = ticketRepository.findById(ticketUuid);\r\n            savedTicketOpt.ifPresent(ticket -&gt; {\r\n                Optional&lt;Sale&gt; saleOpt = ticket.getSales().stream().filter(sale -&gt; sale.getUuid() == saleUuid).findFirst();\r\n                assertThat(saleOpt).isPresent();\r\n            });\r\n    }\r\n\r\nHere, in an Hibernate proxy-managed transaction, the fact of calling `ticket.getSales()` do another query to fetch sales because you explicitly asked it.\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>By using the hibernate <code>@Transactional</code> annotation, if you get an object from the database with lazy fetched attributes, you can simply get these by fetching these attributes like this :</p>\n\n<pre><code>@Transactional\npublic void checkTicketSalePresence(UUID ticketUuid, UUID saleUuid) {\n        Optional&lt;Ticket&gt; savedTicketOpt = ticketRepository.findById(ticketUuid);\n        savedTicketOpt.ifPresent(ticket -&gt; {\n            Optional&lt;Sale&gt; saleOpt = ticket.getSales().stream().filter(sale -&gt; sale.getUuid() == saleUuid).findFirst();\n            assertThat(saleOpt).isPresent();\n        });\n}\n</code></pre>\n\n<p>Here, in an Hibernate proxy-managed transaction, the fact of calling <code>ticket.getSales()</code> do another query to fetch sales because you explicitly asked it.</p>\n"},{"tags":[],"owner":{"account_id":10201442,"reputation":187,"user_id":7531583,"display_name":"sreekmatta"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1533165878,"creation_date":1533165878,"answer_id":51643544,"question_id":11746499,"body_markdown":"One of the best solutions is to add the following in your application.properties file:\r\n**spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true**","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>One of the best solutions is to add the following in your application.properties file:\n<strong>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true</strong></p>\n"},{"tags":[],"owner":{"account_id":5952929,"reputation":8862,"user_id":4680436,"accept_rate":50,"display_name":"aristotll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535823830,"creation_date":1535823830,"answer_id":52130698,"question_id":11746499,"body_markdown":"\r\nYet another way to do the thing, you can use [TransactionTemplate][1] to wrap around the lazy fetch.\r\nLike \r\n\r\n    Collection&lt;Comment&gt; commentList = this.transactionTemplate.execute\r\n    (status -&gt; topicById.getComments());\r\n\r\n \r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch11s06.html\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>Yet another way to do the thing, you can use <a href=\"https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch11s06.html\" rel=\"nofollow noreferrer\">TransactionTemplate</a> to wrap around the lazy fetch.\nLike </p>\n\n<pre><code>Collection&lt;Comment&gt; commentList = this.transactionTemplate.execute\n(status -&gt; topicById.getComments());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5544220,"reputation":547,"user_id":4399560,"display_name":"karan patel"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1570247655,"creation_date":1570247655,"answer_id":58245211,"question_id":11746499,"body_markdown":"Two things you should have for `fetch = FetchType.LAZY`.\r\n\r\n    @Transactional\r\n\r\nand\r\n\r\n    Hibernate.initialize(topicById.getComments());","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>Two things you should have for <code>fetch = FetchType.LAZY</code>.</p>\n\n<pre><code>@Transactional\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Hibernate.initialize(topicById.getComments());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":258555,"reputation":466,"user_id":540801,"display_name":"Domingo Gallardo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571905443,"creation_date":1571905443,"answer_id":58537158,"question_id":11746499,"body_markdown":"The problem is caused because the code is accessing a lazy JPA relation when the &quot;connection&quot; to the database is closed (_persistence context_ is the correct name in terms of Hibernate/JPA).\r\n\r\nA simple way of solving it in Spring Boot is by defining a service layer and using the `@Transactional` annotation. This annotation in a method creates a transaction that propagates into the repository layer and keeps open the persistence context until the method finish. If you access the collection inside the transactional method Hibernate/JPA will fetch the data from the database.\r\n\r\nIn your case, you just need to annotate with `@Transactional` the method `findTopicByID(id)` in your `TopicService` and force the fetch of the collection in that method (for instance, by asking its size):\r\n\r\n```java\r\n    @Transactional(readOnly = true)\r\n    public Topic findTopicById(Long id) {\r\n        Topic topic = TopicRepository.findById(id).orElse(null);\r\n        topic.getComments().size();\r\n        return topic;\r\n    }\r\n```","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The problem is caused because the code is accessing a lazy JPA relation when the \"connection\" to the database is closed (<em>persistence context</em> is the correct name in terms of Hibernate/JPA).</p>\n\n<p>A simple way of solving it in Spring Boot is by defining a service layer and using the <code>@Transactional</code> annotation. This annotation in a method creates a transaction that propagates into the repository layer and keeps open the persistence context until the method finish. If you access the collection inside the transactional method Hibernate/JPA will fetch the data from the database.</p>\n\n<p>In your case, you just need to annotate with <code>@Transactional</code> the method <code>findTopicByID(id)</code> in your <code>TopicService</code> and force the fetch of the collection in that method (for instance, by asking its size):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional(readOnly = true)\n    public Topic findTopicById(Long id) {\n        Topic topic = TopicRepository.findById(id).orElse(null);\n        topic.getComments().size();\n        return topic;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14583282,"reputation":649,"user_id":10532966,"display_name":"Mohammed Javad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576157041,"creation_date":1576157041,"answer_id":59305634,"question_id":11746499,"body_markdown":"Not the best solution, but for those who are facing `LazyInitializationException` especially on `Serialization` this will help. Here you will check lazily initialized properties and setting `null` to those. For that create the below class\r\n\r\n    public class RepositoryUtil {\r\n    \tpublic static final boolean isCollectionInitialized(Collection&lt;?&gt; collection) {\r\n    \t\tif (collection instanceof PersistentCollection)\r\n    \t\t\treturn ((PersistentCollection) collection).wasInitialized();\r\n    \t\telse \r\n    \t\t\treturn true;\r\n    \t}\t\r\n    }\r\n\r\nInside your Entity class which you are having lazily initialized properties add a method like shown below. Add all your lazily loading properties inside this method.\r\n\r\n\tpublic void checkLazyIntialzation() {\r\n\t\tif (!RepositoryUtil.isCollectionInitialized(yourlazyproperty)) {\r\n\t\t\tyourlazyproperty= null;\r\n\t\t}\r\n\r\nCall this `checkLazyIntialzation()` method after on all the places where you are loading data.   \r\n\r\n     YourEntity obj= entityManager.find(YourEntity.class,1L);\r\n      obj.checkLazyIntialzation();\r\n\r\n \r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>Not the best solution, but for those who are facing <code>LazyInitializationException</code> especially on <code>Serialization</code> this will help. Here you will check lazily initialized properties and setting <code>null</code> to those. For that create the below class</p>\n\n<pre><code>public class RepositoryUtil {\n    public static final boolean isCollectionInitialized(Collection&lt;?&gt; collection) {\n        if (collection instanceof PersistentCollection)\n            return ((PersistentCollection) collection).wasInitialized();\n        else \n            return true;\n    }   \n}\n</code></pre>\n\n<p>Inside your Entity class which you are having lazily initialized properties add a method like shown below. Add all your lazily loading properties inside this method.</p>\n\n<pre><code>public void checkLazyIntialzation() {\n    if (!RepositoryUtil.isCollectionInitialized(yourlazyproperty)) {\n        yourlazyproperty= null;\n    }\n</code></pre>\n\n<p>Call this <code>checkLazyIntialzation()</code> method after on all the places where you are loading data.   </p>\n\n<pre><code> YourEntity obj= entityManager.find(YourEntity.class,1L);\n  obj.checkLazyIntialzation();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580730187,"creation_date":1580730187,"answer_id":60038572,"question_id":11746499,"body_markdown":"To get rid of lazy initialization exception you should not call for lazy collection when you operate with detached object.\r\n\r\nFrom my opinion, best approach is to use DTO, and not entity. In this case you can explicitly set fields which you want to use. As usual it&#39;s enough. No need to worry that something like jackson `ObjectMapper`, or `hashCode` generated by Lombok will call your methods implicitly.\r\n\r\nFor some specific cases you can use `@EntityGrpaph` annotation, which allow you to make `eager` load even if you have `fetchType=lazy` in your entity.\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>To get rid of lazy initialization exception you should not call for lazy collection when you operate with detached object.</p>\n\n<p>From my opinion, best approach is to use DTO, and not entity. In this case you can explicitly set fields which you want to use. As usual it's enough. No need to worry that something like jackson <code>ObjectMapper</code>, or <code>hashCode</code> generated by Lombok will call your methods implicitly.</p>\n\n<p>For some specific cases you can use <code>@EntityGrpaph</code> annotation, which allow you to make <code>eager</code> load even if you have <code>fetchType=lazy</code> in your entity.</p>\n"},{"tags":[],"owner":{"account_id":1964373,"reputation":299,"user_id":1765004,"display_name":"vsharma"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1585819497,"creation_date":1585819497,"answer_id":60988252,"question_id":11746499,"body_markdown":"There are multiple solution for this Lazy Initialisation issue - \r\n\r\n1) Change the association Fetch type from LAZY to EAGER but this is not a good practice because this will degrade the performance.\r\n\r\n2) Use FetchType.LAZY on associated Object and also use Transactional annotation in your service layer method so that session will remain open and when you will call topicById.getComments(), child object(comments) will get loaded.\r\n\r\n3) Also, please try to use DTO object instead of entity in controller layer. In your case, session is closed at controller layer. SO better to convert entity to DTO in service layer.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>There are multiple solution for this Lazy Initialisation issue - </p>\n\n<p>1) Change the association Fetch type from LAZY to EAGER but this is not a good practice because this will degrade the performance.</p>\n\n<p>2) Use FetchType.LAZY on associated Object and also use Transactional annotation in your service layer method so that session will remain open and when you will call topicById.getComments(), child object(comments) will get loaded.</p>\n\n<p>3) Also, please try to use DTO object instead of entity in controller layer. In your case, session is closed at controller layer. SO better to convert entity to DTO in service layer.</p>\n"},{"tags":[],"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617527294,"creation_date":1617284044,"answer_id":66905504,"question_id":11746499,"body_markdown":"*This is an old question but the below information may help people looking for an answer to this.*\r\n\r\n@VladMihalcea &#39;s answer is useful. You must not rely on `FetchType.EAGER` , instead you should load the comments into the `Topic` entity when required. \r\n\r\nIf you are not explicitly defining your queries so that you could specify a `join fetch`, then using `@NamedEntityGraph` and `@EntityGraph` **you could override** the `FetchType.LAZY` (`@OneToMany` associations use LAZY by default) **at runtime** and load the comments at the same time as the `Topic` **only when required**. Which means that you restrict loading the comments to only those methods (queries) which really require that. An entity graph as JPA [defines][1] it:\r\n\r\n&gt; An entity graph can be used with the find method or as a query hint to\r\n&gt; override or augment FetchType semantics.\r\n\r\nYou could use it based on the JPA example [here][2]. Alternatively, if you use Spring Data JPA, then you could use it based on the example [provided by Spring][3].\r\n\r\n\r\n  [1]: https://download.oracle.com/otn-pub/jcp/persistence-2_2-mrel-spec/JavaPersistence.pdf\r\n  [2]: https://www.baeldung.com/jpa-entity-graph\r\n  [3]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p><em>This is an old question but the below information may help people looking for an answer to this.</em></p>\n<p>@VladMihalcea 's answer is useful. You must not rely on <code>FetchType.EAGER</code> , instead you should load the comments into the <code>Topic</code> entity when required.</p>\n<p>If you are not explicitly defining your queries so that you could specify a <code>join fetch</code>, then using <code>@NamedEntityGraph</code> and <code>@EntityGraph</code> <strong>you could override</strong> the <code>FetchType.LAZY</code> (<code>@OneToMany</code> associations use LAZY by default) <strong>at runtime</strong> and load the comments at the same time as the <code>Topic</code> <strong>only when required</strong>. Which means that you restrict loading the comments to only those methods (queries) which really require that. An entity graph as JPA <a href=\"https://download.oracle.com/otn-pub/jcp/persistence-2_2-mrel-spec/JavaPersistence.pdf\" rel=\"noreferrer\">defines</a> it:</p>\n<blockquote>\n<p>An entity graph can be used with the find method or as a query hint to\noverride or augment FetchType semantics.</p>\n</blockquote>\n<p>You could use it based on the JPA example <a href=\"https://www.baeldung.com/jpa-entity-graph\" rel=\"noreferrer\">here</a>. Alternatively, if you use Spring Data JPA, then you could use it based on the example <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"noreferrer\">provided by Spring</a>.</p>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1663852761,"creation_date":1630849878,"answer_id":69063982,"question_id":11746499,"body_markdown":"I got this error after a second execution of a method to generate a JWT token.\r\n\r\nThe line *user.getUsersRole().stream().forEachOrdered((ur) -&gt; roles.add(ur.getRoleId()));* generated the error.\r\n\r\n```java\r\n// MyUserDetails.java\r\n\r\n@Service\r\npublic class MyUserDetails implements UserDetailsService {\r\n\r\n  @Override\r\n  public UserDetails loadUserByUsername(String email) {\r\n\r\n    /* ERROR\r\n    /* org.hibernate.LazyInitializationException: failed to \r\n    /* lazily initialize a collection of role: \r\n    /* com.organizator.backend.model.User.usersRole, \r\n    /* could not initialize proxy - no Session */\r\n    user.getUsersRole().stream().forEachOrdered((ur) -&gt;\r\n           roles.add(ur.getRoleId()));\r\n\r\n```\r\n\r\nIn my case the `@Transactional` annotation solved it,\r\n\r\n```java\r\n// MyUserDetails.java\r\n\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Service\r\npublic class MyUserDetails implements UserDetailsService {\r\n\r\n  @Override\r\n  @Transactional // &lt;-- added\r\n  public UserDetails loadUserByUsername(String email) {\r\n\r\n    /* No Error */\r\n    user.getUsersRole().stream().forEachOrdered((ur) -&gt;\r\n           roles.add(ur.getRoleId()));\r\n\r\n```\r\n\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>I got this error after a second execution of a method to generate a JWT token.</p>\n<p>The line <em>user.getUsersRole().stream().forEachOrdered((ur) -&gt; roles.add(ur.getRoleId()));</em> generated the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// MyUserDetails.java\n\n@Service\npublic class MyUserDetails implements UserDetailsService {\n\n  @Override\n  public UserDetails loadUserByUsername(String email) {\n\n    /* ERROR\n    /* org.hibernate.LazyInitializationException: failed to \n    /* lazily initialize a collection of role: \n    /* com.organizator.backend.model.User.usersRole, \n    /* could not initialize proxy - no Session */\n    user.getUsersRole().stream().forEachOrdered((ur) -&gt;\n           roles.add(ur.getRoleId()));\n\n</code></pre>\n<p>In my case the <code>@Transactional</code> annotation solved it,</p>\n<pre class=\"lang-java prettyprint-override\"><code>// MyUserDetails.java\n\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\npublic class MyUserDetails implements UserDetailsService {\n\n  @Override\n  @Transactional // &lt;-- added\n  public UserDetails loadUserByUsername(String email) {\n\n    /* No Error */\n    user.getUsersRole().stream().forEachOrdered((ur) -&gt;\n           roles.add(ur.getRoleId()));\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20076447,"reputation":127,"user_id":14720089,"display_name":"Michael Goppelt"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1640627010,"creation_date":1640627010,"answer_id":70498725,"question_id":11746499,"body_markdown":"In my Spring-Boot project `spring.jpa.open-in-view` was set to false in application.properties. Setting it to true solved the problem.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In my Spring-Boot project <code>spring.jpa.open-in-view</code> was set to false in application.properties. Setting it to true solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700738585,"creation_date":1700738585,"answer_id":77536471,"question_id":11746499,"body_markdown":"In my case the problem was passing a detached entity to a component (even annotated with @Transactional) within a test case. So after reloading the entity it worked: \r\n\r\n    @Entity\r\n    class Entity {\r\n       @ElementCollection\r\n       @BatchSize(size = 10)\r\n       private List&lt;String&gt; strings;\r\n    }\r\n\r\n    @Component\r\n    @Transactional\r\n    class MyTestComponent {\r\n\r\n       public String method(Entity detachedEntity) {\r\n          // reloading the entity fixed it\r\n\t      Entity entity = entityRepository.findById(detachedEntity.getId());\r\n          // detachedEntity.getStrings(); caused the problem\r\n\t      entity.getStrings(); \r\n       }\r\n    }","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In my case the problem was passing a detached entity to a component (even annotated with @Transactional) within a test case. So after reloading the entity it worked:</p>\n<pre><code>@Entity\nclass Entity {\n   @ElementCollection\n   @BatchSize(size = 10)\n   private List&lt;String&gt; strings;\n}\n\n@Component\n@Transactional\nclass MyTestComponent {\n\n   public String method(Entity detachedEntity) {\n      // reloading the entity fixed it\n      Entity entity = entityRepository.findById(detachedEntity.getId());\n      // detachedEntity.getStrings(); caused the problem\n      entity.getStrings(); \n   }\n}\n</code></pre>\n"}],"owner":{"account_id":929110,"reputation":5383,"user_id":959321,"accept_rate":94,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771338,"favorite_count":0,"down_vote_count":0,"up_vote_count":477,"accepted_answer_id":11746720,"answer_count":33,"score":477,"last_activity_date":1701422176,"creation_date":1343758691,"question_id":11746499,"body_markdown":"I have this problem:\r\n\r\n&gt; org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: mvc3.model.Topic.comments, no session or session was closed\r\n\r\nHere is the model:  \r\n\r\n    @Entity\r\n    @Table(name = &quot;T_TOPIC&quot;)\r\n    public class Topic {\r\n\t\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        private int id;\r\n\t\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;USER_ID&quot;)\r\n        private User author;\r\n\t\r\n        @Enumerated(EnumType.STRING)\t\r\n        private Tag topicTag;\r\n\t\r\n        private String name;\r\n        private String text;\r\n\t\r\n        @OneToMany(mappedBy = &quot;topic&quot;, cascade = CascadeType.ALL)\r\n        private Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\r\n\r\n        ...\r\n\r\n        public Collection&lt;Comment&gt; getComments() {\r\n               return comments;\r\n        }\r\n\r\n    }\r\n\r\nThe controller, which calls model looks like the following:\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/topic&quot;)\r\n    public class TopicController {\r\n\t\r\n        @Autowired\r\n        private TopicService service;\r\n\t\r\n        private static final Logger logger = LoggerFactory.getLogger(TopicController.class);\r\n\t \r\n\r\n        @RequestMapping(value = &quot;/details/{topicId}&quot;, method = RequestMethod.GET)\r\n        public ModelAndView details(@PathVariable(value=&quot;topicId&quot;) int id)\r\n        {\r\n\t\t\r\n                Topic topicById = service.findTopicByID(id);\r\n                Collection&lt;Comment&gt; commentList = topicById.getComments();\r\n\t\t\r\n                Hashtable modelData = new Hashtable();\r\n                modelData.put(&quot;topic&quot;, topicById);\r\n                modelData.put(&quot;commentList&quot;, commentList);\r\n\t\t\r\n                return new ModelAndView(&quot;/topic/details&quot;, modelData);\r\n\t\t\r\n         }\r\n\r\n    }\r\n\r\nThe jsp-page looks li the following:\r\n\r\n    &lt;%@page import=&quot;com.epam.mvc3.helpers.Utils&quot;%&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n          &lt;title&gt;View Topic&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;ul&gt;\r\n    &lt;c:forEach items=&quot;${commentList}&quot; var=&quot;item&quot;&gt;\r\n    &lt;jsp:useBean id=&quot;item&quot; type=&quot;mvc3.model.Comment&quot;/&gt;\r\n    &lt;li&gt;${item.getText()}&lt;/li&gt;\r\n    \r\n    &lt;/c:forEach&gt;\r\n    &lt;/ul&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nException is rised, when viewing jsp. In the line with *c:forEach* loop\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>I have this problem:</p>\n\n<blockquote>\n  <p>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: mvc3.model.Topic.comments, no session or session was closed</p>\n</blockquote>\n\n<p>Here is the model:  </p>\n\n<pre><code>@Entity\n@Table(name = \"T_TOPIC\")\npublic class Topic {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private int id;\n\n    @ManyToOne\n    @JoinColumn(name=\"USER_ID\")\n    private User author;\n\n    @Enumerated(EnumType.STRING)    \n    private Tag topicTag;\n\n    private String name;\n    private String text;\n\n    @OneToMany(mappedBy = \"topic\", cascade = CascadeType.ALL)\n    private Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\n\n    ...\n\n    public Collection&lt;Comment&gt; getComments() {\n           return comments;\n    }\n\n}\n</code></pre>\n\n<p>The controller, which calls model looks like the following:</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/topic\")\npublic class TopicController {\n\n    @Autowired\n    private TopicService service;\n\n    private static final Logger logger = LoggerFactory.getLogger(TopicController.class);\n\n\n    @RequestMapping(value = \"/details/{topicId}\", method = RequestMethod.GET)\n    public ModelAndView details(@PathVariable(value=\"topicId\") int id)\n    {\n\n            Topic topicById = service.findTopicByID(id);\n            Collection&lt;Comment&gt; commentList = topicById.getComments();\n\n            Hashtable modelData = new Hashtable();\n            modelData.put(\"topic\", topicById);\n            modelData.put(\"commentList\", commentList);\n\n            return new ModelAndView(\"/topic/details\", modelData);\n\n     }\n\n}\n</code></pre>\n\n<p>The jsp-page looks li the following:</p>\n\n<pre><code>&lt;%@page import=\"com.epam.mvc3.helpers.Utils\"%&gt;\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ page session=\"false\" %&gt;\n&lt;html&gt;\n&lt;head&gt;\n      &lt;title&gt;View Topic&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n&lt;c:forEach items=\"${commentList}\" var=\"item\"&gt;\n&lt;jsp:useBean id=\"item\" type=\"mvc3.model.Comment\"/&gt;\n&lt;li&gt;${item.getText()}&lt;/li&gt;\n\n&lt;/c:forEach&gt;\n&lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Exception is rised, when viewing jsp. In the line with <em>c:forEach</em> loop</p>\n"},{"tags":["java","eclipse","windowbuilder"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701436864,"post_id":77584113,"comment_id":136778553,"body_markdown":"Please consider posting a [mcve]. I think the chances of someone telling you where the problem is in your code and how to fix it, are very small. Also consider taking the [tour] and visiting the [help].","body":"Please consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I think the chances of someone telling you where the problem is in your code and how to fix it, are very small. Also consider taking the <a href=\"https://stackoverflow.com/tour\">tour</a> and visiting the <a href=\"https://stackoverflow.com/help\">help center</a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701437078,"post_id":77584113,"comment_id":136778596,"body_markdown":"`getContentPane().setLayout(new BorderLayout());` [BorderLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html) is the default, so no need to explicitly set it.","body":"<code>getContentPane().setLayout(new BorderLayout());</code> <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\" rel=\"nofollow noreferrer\">BorderLayout</a> is the default, so no need to explicitly set it."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701437101,"post_id":77584113,"comment_id":136778598,"body_markdown":"`contentPanel.setLayout(null);` Usually not a good idea to use null [layout](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html).","body":"<code>contentPanel.setLayout(null);</code> Usually not a good idea to use null <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout</a>."}],"owner":{"account_id":30038632,"reputation":1,"user_id":23019975,"display_name":"MPV 070"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701422118,"creation_date":1701422118,"question_id":77584113,"body_markdown":"Im doing a project in window  builder in eclipse, when adding &lt;kbd&gt;action perform&lt;/kbd&gt; it doesn&#39;t perform the action.\r\n\r\n I have this code for the second window that does open\r\n\r\n```\r\n/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tWhatsAJmenu dialog = new WhatsAJmenu();\r\n\t\t\tdialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n\t\t\tdialog.setVisible(true);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create the dialog.\r\n\t */\r\n\tpublic WhatsAJmenu() {\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tgetContentPane().setLayout(new BorderLayout());\r\n\t\tcontentPanel.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\tgetContentPane().add(contentPanel, BorderLayout.CENTER);\r\n\t\tcontentPanel.setLayout(null);\r\n\t\t\r\n\t\tJTextPane txtpnAJmenuIs = new JTextPane();\r\n\t\ttxtpnAJmenuIs.setBounds(10, 11, 414, 206);\r\n\t\ttxtpnAJmenuIs.setText(&quot;First you need a JMenu bar to add the items into the menu.\\r\\nSecondly you can add a JMenu, so when clicked on this element the JMenuItem performs an Action, in this case the action was opening the tab with the text you&#39;re reading.\\r\\n\\r\\n(Close this tab if you have finished reading)&quot;);\r\n\t\tcontentPanel.add(txtpnAJmenuIs);\r\n\t\t\r\n\t\tJLayeredPane layeredPane = new JLayeredPane();\r\n\t\tlayeredPane.setBounds(0, 0, 1, 1);\r\n\t\tcontentPanel.add(layeredPane);\r\n\t\t{\r\n\t\t\tJPanel buttonPane = new JPanel();\r\n\t\t\tbuttonPane.setBackground(new Color(216, 191, 216));\r\n\t\t\tbuttonPane.setLayout(new FlowLayout(FlowLayout.RIGHT));\r\n\t\t\tgetContentPane().add(buttonPane, BorderLayout.SOUTH);\r\n\t\t\t{\r\n\t\t\t\tJButton cancelButton = new JButton(&quot;I have finished reding this.&quot;);\r\n\t\t\t\tcancelButton.addMouseListener(new MouseAdapter() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\tSystem.exit (0);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcancelButton.addActionListener(new ActionListener() {\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tJButton btnNewButton = new JButton(&quot;I haven&#39;t finished reading this.&quot;);\r\n\t\t\t\tbtnNewButton.addActionListener(new ActionListener() {\r\n\t\t\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t\t\t        NotReading window = new NotReading();\r\n\t\t\t\t        window.setVisible(true);\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tbuttonPane.add(btnNewButton);\r\n\t\t\t\tcancelButton.setActionCommand(&quot;Cancel&quot;);\r\n\t\t\t\tbuttonPane.add(cancelButton);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThen this is the other window that I want to open but doesn&#39;t\r\n\r\n```\r\npackage tabGame;\r\n\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.JTextField;\r\nimport java.awt.Color;\r\nimport javax.swing.JLayeredPane;\r\n\r\npublic class NotReading extends JFrame {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate JPanel contentPane;\r\n\tprivate JTextField textField;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tNotReading frame = new NotReading();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic NotReading() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBackground(new Color(255, 255, 51));\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\t\t\r\n\t\ttextField = new JTextField();\r\n\t\ttextField.setBackground(new Color(255, 255, 51));\r\n\t\ttextField.setBounds(0, 0, 434, 261);\r\n\t\tcontentPane.add(textField);\r\n\t\ttextField.setColumns(10);\r\n\t\t\r\n\t\tJLayeredPane layeredPane = new JLayeredPane();\r\n\t\tlayeredPane.setBounds(0, 0, 1, 1);\r\n\t\tcontentPane.add(layeredPane);\r\n\t}\r\n}\r\n```\r\n\r\nI tried changing the action in here (it&#39;s now as it was)\r\n\r\n```\r\nJButton btnNewButton = new JButton(&quot;I haven&#39;t finished reading this.&quot;);\r\n\t\t\t\tbtnNewButton.addActionListener(new ActionListener() {\r\n\t\t\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t\t\t        NotReading window = new NotReading();\r\n\t\t\t\t        window.setVisible(true);\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tbuttonPane.add(btnNewButton);\r\n\t\t\t\tcancelButton.setActionCommand(&quot;Cancel&quot;);\r\n\t\t\t\tbuttonPane.add(cancelButton);\r\n```\r\n\r\n\r\nBut it still doesn&#180;t work, I tried adding a dialog in the window that does open, but I&#39;m slow or it doesn&#180;t work, but the window still doesn&#39;t open. I dont know what else to do.","title":"When I click a button to open a window in another window thats not the main window, it doesn&#180;t open the window","body":"<p>Im doing a project in window  builder in eclipse, when adding <kbd>action perform</kbd> it doesn't perform the action.</p>\n<p>I have this code for the second window that does open</p>\n<pre><code>/**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        try {\n            WhatsAJmenu dialog = new WhatsAJmenu();\n            dialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n            dialog.setVisible(true);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * Create the dialog.\n     */\n    public WhatsAJmenu() {\n        setBounds(100, 100, 450, 300);\n        getContentPane().setLayout(new BorderLayout());\n        contentPanel.setBorder(new EmptyBorder(5, 5, 5, 5));\n        getContentPane().add(contentPanel, BorderLayout.CENTER);\n        contentPanel.setLayout(null);\n        \n        JTextPane txtpnAJmenuIs = new JTextPane();\n        txtpnAJmenuIs.setBounds(10, 11, 414, 206);\n        txtpnAJmenuIs.setText(&quot;First you need a JMenu bar to add the items into the menu.\\r\\nSecondly you can add a JMenu, so when clicked on this element the JMenuItem performs an Action, in this case the action was opening the tab with the text you're reading.\\r\\n\\r\\n(Close this tab if you have finished reading)&quot;);\n        contentPanel.add(txtpnAJmenuIs);\n        \n        JLayeredPane layeredPane = new JLayeredPane();\n        layeredPane.setBounds(0, 0, 1, 1);\n        contentPanel.add(layeredPane);\n        {\n            JPanel buttonPane = new JPanel();\n            buttonPane.setBackground(new Color(216, 191, 216));\n            buttonPane.setLayout(new FlowLayout(FlowLayout.RIGHT));\n            getContentPane().add(buttonPane, BorderLayout.SOUTH);\n            {\n                JButton cancelButton = new JButton(&quot;I have finished reding this.&quot;);\n                cancelButton.addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        System.exit (0);\n                    }\n                });\n                cancelButton.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                    }\n                });\n                \n                JButton btnNewButton = new JButton(&quot;I haven't finished reading this.&quot;);\n                btnNewButton.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        NotReading window = new NotReading();\n                        window.setVisible(true);\n                    }\n                });\n                \n                buttonPane.add(btnNewButton);\n                cancelButton.setActionCommand(&quot;Cancel&quot;);\n                buttonPane.add(cancelButton);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then this is the other window that I want to open but doesn't</p>\n<pre><code>package tabGame;\n\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.JTextField;\nimport java.awt.Color;\nimport javax.swing.JLayeredPane;\n\npublic class NotReading extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n    private JPanel contentPane;\n    private JTextField textField;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    NotReading frame = new NotReading();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public NotReading() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBackground(new Color(255, 255, 51));\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        \n        textField = new JTextField();\n        textField.setBackground(new Color(255, 255, 51));\n        textField.setBounds(0, 0, 434, 261);\n        contentPane.add(textField);\n        textField.setColumns(10);\n        \n        JLayeredPane layeredPane = new JLayeredPane();\n        layeredPane.setBounds(0, 0, 1, 1);\n        contentPane.add(layeredPane);\n    }\n}\n</code></pre>\n<p>I tried changing the action in here (it's now as it was)</p>\n<pre><code>JButton btnNewButton = new JButton(&quot;I haven't finished reading this.&quot;);\n                btnNewButton.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        NotReading window = new NotReading();\n                        window.setVisible(true);\n                    }\n                });\n                \n                buttonPane.add(btnNewButton);\n                cancelButton.setActionCommand(&quot;Cancel&quot;);\n                buttonPane.add(cancelButton);\n</code></pre>\n<p>But it still doesn´t work, I tried adding a dialog in the window that does open, but I'm slow or it doesn´t work, but the window still doesn't open. I dont know what else to do.</p>\n"},{"tags":["java","spring-boot","maven-3"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1701420633,"post_id":77583961,"comment_id":136775883,"body_markdown":"Looks like more a problem with your IDE instead of wrong steps with maven, I mean, you follow the correct steps to build a local maven and local import, should work, try to restart your IDE and clean cache.","body":"Looks like more a problem with your IDE instead of wrong steps with maven, I mean, you follow the correct steps to build a local maven and local import, should work, try to restart your IDE and clean cache."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701420734,"post_id":77583961,"comment_id":136775903,"body_markdown":"Well, I would&#39;ve thought the same unless `mvn clean compile` from importing project didn&#39;t give the same error as the IDE. I tried exporting and importing modules (JPMS) without luck too.","body":"Well, I would&#39;ve thought the same unless <code>mvn clean compile</code> from importing project didn&#39;t give the same error as the IDE. I tried exporting and importing modules (JPMS) without luck too."},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1701420894,"post_id":77583961,"comment_id":136775929,"body_markdown":"But compile and install are different, when you install you put your build in your repository .m2, when you compile, just make the target and all the stuff just for your project. So when you did the `mvn clean install` should work perfectly, try to clean cache and restart the IDE","body":"But compile and install are different, when you install you put your build in your repository .m2, when you compile, just make the target and all the stuff just for your project. So when you did the <code>mvn clean install</code> should work perfectly, try to clean cache and restart the IDE"},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1701421069,"post_id":77583961,"comment_id":136775965,"body_markdown":"And if not work after restart and clean cache, try doing a `mvn clean install -o` last argument its to compile with the current downloaded library, so maybe you have a policy in your settings which make you necessary update all the dependencies including the local ones","body":"And if not work after restart and clean cache, try doing a <code>mvn clean install -o</code> last argument its to compile with the current downloaded library, so maybe you have a policy in your settings which make you necessary update all the dependencies including the local ones"},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701421455,"post_id":77583961,"comment_id":136776025,"body_markdown":"I don&#39;t have a settings.xml, nor cache clearing in the IDE helped. From the exporting-project I did `mvn clean install -o`. No issues. Then did ` mvn compile` from the importing-project. I get: `[8,1] package com.springmaven.exportingproject does not exist. [22,29] cannot find symbol\n[ERROR]   symbol:   class ExportedFuntionality\n[ERROR]   location: class com.springmaven.importingproject.ImportingprojectApplication`","body":"I don&#39;t have a settings.xml, nor cache clearing in the IDE helped. From the exporting-project I did <code>mvn clean install -o</code>. No issues. Then did ` mvn compile` from the importing-project. I get: <code>[8,1] package com.springmaven.exportingproject does not exist. [22,29] cannot find symbol [ERROR]   symbol:   class ExportedFuntionality [ERROR]   location: class com.springmaven.importingproject.ImportingprojectApplication</code>"},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701421488,"post_id":77583961,"comment_id":136776030,"body_markdown":"So the issue is re-producible even from Maven. Keeping the IDE (IntelliJ, in this case) out of the equation.","body":"So the issue is re-producible even from Maven. Keeping the IDE (IntelliJ, in this case) out of the equation."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701421565,"post_id":77583961,"comment_id":136776046,"body_markdown":"The shared Github project https://github.com/madukan/SpringMavenLocalRepoExample is quite a basic Spring project demonstrating the issue, if you would like to have a peek.","body":"The shared Github project <a href=\"https://github.com/madukan/SpringMavenLocalRepoExample\" rel=\"nofollow noreferrer\">github.com/madukan/SpringMavenLocalRepoExample</a> is quite a basic Spring project demonstrating the issue, if you would like to have a peek."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701422951,"post_id":77583961,"comment_id":136776297,"body_markdown":"Thanks for your attempts to solve this issue btw.","body":"Thanks for your attempts to solve this issue btw."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701421821,"creation_date":1701421821,"answer_id":77584085,"question_id":77583961,"body_markdown":"You need to configure `spring-boot-maven-plugin`, by default it is configured to produce executable jars which are &quot;applications&quot;, however you need a &quot;library&quot;, something like following should help:\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n...\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;repackage&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- custom classifier for executable jars --&gt;\r\n                        &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                        &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n...\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nPlease note, after that executable jar name will be something like `xxxx-exec.jar`\r\n\r\nAnother, actually more preferable, option is to split your project into two submodules: &quot;library&quot; and &quot;application&quot;","title":"How to refer to another Spring based project using local Maven repository?","body":"<p>You need to configure <code>spring-boot-maven-plugin</code>, by default it is configured to produce executable jars which are &quot;applications&quot;, however you need a &quot;library&quot;, something like following should help:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;repackage&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;!-- custom classifier for executable jars --&gt;\n                        &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n...\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Please note, after that executable jar name will be something like <code>xxxx-exec.jar</code></p>\n<p>Another, actually more preferable, option is to split your project into two submodules: &quot;library&quot; and &quot;application&quot;</p>\n"}],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77584085,"answer_count":1,"score":0,"last_activity_date":1701421821,"creation_date":1701420293,"question_id":77583961,"body_markdown":"There are two projects. Exporting (which exports some functionality), and the Importing (using the aforementioned exporting functionality).\r\n\r\n`mvn clean install` from the exporting project and then adding that project as a `dependancy` in the importing project should theoretically make the functionality available to the second. \r\n\r\nBut when it comes to Spring Boot projects, this seem to not work.\r\n\r\nIn the screenshot below, the 1 refer to how the import works fine, as the local library is found by Maven. \r\nHowever, when you try to refer to the package, it doesn&#39;t quite work straight out as it should.\r\n\r\nAny tips?\r\n\r\nTwo projects are on GitHub: https://github.com/madukan/SpringMavenLocalRepoExample\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vPvkQ.png","title":"How to refer to another Spring based project using local Maven repository?","body":"<p>There are two projects. Exporting (which exports some functionality), and the Importing (using the aforementioned exporting functionality).</p>\n<p><code>mvn clean install</code> from the exporting project and then adding that project as a <code>dependancy</code> in the importing project should theoretically make the functionality available to the second.</p>\n<p>But when it comes to Spring Boot projects, this seem to not work.</p>\n<p>In the screenshot below, the 1 refer to how the import works fine, as the local library is found by Maven.\nHowever, when you try to refer to the package, it doesn't quite work straight out as it should.</p>\n<p>Any tips?</p>\n<p>Two projects are on GitHub: <a href=\"https://github.com/madukan/SpringMavenLocalRepoExample\" rel=\"nofollow noreferrer\">https://github.com/madukan/SpringMavenLocalRepoExample</a></p>\n<p><a href=\"https://i.stack.imgur.com/vPvkQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPvkQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1701421672,"post_id":77583726,"comment_id":136776062,"body_markdown":"According to the screenshot, you have somehow managed to configure the non-existent folder `${src.dir}` as an source folder (`${src.dir}` looks like an Ant property). The source folder can be configured in _Project &gt; Properties: Java Build Path_ in the tab _Source_ (which will be persisted in the `.classpath` file, which might have been improperly modified by the Ant script causing this).","body":"According to the screenshot, you have somehow managed to configure the non-existent folder <code>${src.dir}</code> as an source folder (<code>${src.dir}</code> looks like an Ant property). The source folder can be configured in <i>Project &gt; Properties: Java Build Path</i> in the tab <i>Source</i> (which will be persisted in the <code>.classpath</code> file, which might have been improperly modified by the Ant script causing this)."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701421196,"creation_date":1701421196,"answer_id":77584032,"question_id":77583726,"body_markdown":"Your ANT build file uses the property `${src.dir}` that is either not defined at all or it uses that property in a target that does not depend on the target that defines said property.\r\n\r\nEither ensure that `&lt;property name=&quot;src.dir&quot; .../&gt;` is defined in your ANT build file and that all targets that use the property depend on the target that defines the property or (if you do not want to specify a `src.dir` property in your build file) invoke ANT with a `-Dsrc.dir=...` command line option. In the latter case you should add a condition to your build file that fails the build if the `src.dir` property is not set.\r\n\r\nSee the [ANT manual][1] for more information.\r\n\r\n\r\n  [1]: https://ant.apache.org/manual/properties.html","title":"Ant Build in Eclipse results in ${src.dir} and I don&#39;t know how to resolve it","body":"<p>Your ANT build file uses the property <code>${src.dir}</code> that is either not defined at all or it uses that property in a target that does not depend on the target that defines said property.</p>\n<p>Either ensure that <code>&lt;property name=&quot;src.dir&quot; .../&gt;</code> is defined in your ANT build file and that all targets that use the property depend on the target that defines the property or (if you do not want to specify a <code>src.dir</code> property in your build file) invoke ANT with a <code>-Dsrc.dir=...</code> command line option. In the latter case you should add a condition to your build file that fails the build if the <code>src.dir</code> property is not set.</p>\n<p>See the <a href=\"https://ant.apache.org/manual/properties.html\" rel=\"nofollow noreferrer\">ANT manual</a> for more information.</p>\n"}],"owner":{"account_id":24059605,"reputation":17,"user_id":18037020,"display_name":"PLANET_XYZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77584032,"answer_count":1,"score":0,"last_activity_date":1701421196,"creation_date":1701417082,"question_id":77583726,"body_markdown":"So after adding a new project to my Eclipse environment through Ant, the source folder just shows `${src.dir}` and a small warning sign. The only warning I find in the problems tab is\r\n\r\n    Classpath variable &#39;JRE_LIB&#39; in project &#39;&lt;projectname&gt;&#39; is deprecated: Use the JRE System Library instead\r\n\r\nWe have no idea how to resolve this.\r\n\r\nWe&#39;ve tried compiling the project through cmd ant, which first resulted in a charset error because of UTF-8 (project is encoded in Latin-1) but we managed to fix that, ant can compile it in cmd.\r\n\r\nWe have also tried changing Eclipse&#39;s charset to Latin-1, which didn&#39;t work either.\r\n\r\n[![Screenshot of the library with the weird source folder][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1GSaK.png\r\n\r\n","title":"Ant Build in Eclipse results in ${src.dir} and I don&#39;t know how to resolve it","body":"<p>So after adding a new project to my Eclipse environment through Ant, the source folder just shows <code>${src.dir}</code> and a small warning sign. The only warning I find in the problems tab is</p>\n<pre><code>Classpath variable 'JRE_LIB' in project '&lt;projectname&gt;' is deprecated: Use the JRE System Library instead\n</code></pre>\n<p>We have no idea how to resolve this.</p>\n<p>We've tried compiling the project through cmd ant, which first resulted in a charset error because of UTF-8 (project is encoded in Latin-1) but we managed to fix that, ant can compile it in cmd.</p>\n<p>We have also tried changing Eclipse's charset to Latin-1, which didn't work either.</p>\n<p><a href=\"https://i.stack.imgur.com/1GSaK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1GSaK.png\" alt=\"Screenshot of the library with the weird source folder\" /></a></p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":13438982,"reputation":5555,"user_id":9696675,"display_name":"Constantin Beer"},"score":1,"creation_date":1567220145,"post_id":57734823,"comment_id":101909369,"body_markdown":"Maybe this helps https://stackoverflow.com/questions/10835034/gradle-sourcesets-test-classes-not-found","body":"Maybe this helps <a href=\"https://stackoverflow.com/questions/10835034/gradle-sourcesets-test-classes-not-found\" title=\"gradle sourcesets test classes not found\">stackoverflow.com/questions/10835034/&hellip;</a>"},{"owner":{"account_id":2369134,"reputation":491,"user_id":3650812,"display_name":"Regan Music"},"score":1,"creation_date":1567220995,"post_id":57734823,"comment_id":101909429,"body_markdown":"I&#39;m struggling to interpret the answer to that one. I actually went through this process last week just fine, but today I tried, after Android Studio updated and that seems to be the only difference. I&#39;ve no clue what the &quot;subprojects{} section&quot; is though.","body":"I&#39;m struggling to interpret the answer to that one. I actually went through this process last week just fine, but today I tried, after Android Studio updated and that seems to be the only difference. I&#39;ve no clue what the &quot;subprojects{} section&quot; is though."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1567221119,"post_id":57734823,"comment_id":101909444,"body_markdown":"This is telling you that you created an Android project but that Android applications use the Android lifecycle to run, not `main`.","body":"This is telling you that you created an Android project but that Android applications use the Android lifecycle to run, not <code>main</code>."}],"answers":[{"tags":[],"owner":{"account_id":17187055,"reputation":41,"user_id":12441487,"display_name":"Arthur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574808193,"creation_date":1574808193,"answer_id":59060461,"question_id":57734823,"body_markdown":"I had this problem momentarily as well\r\n\r\nI found when I changed Gradle to offline and then back online again then updated Gradle and made sure the connection and proxy settings were correct, things started working normally","title":"Android Studio refuses to run main()","body":"<p>I had this problem momentarily as well</p>\n\n<p>I found when I changed Gradle to offline and then back online again then updated Gradle and made sure the connection and proxy settings were correct, things started working normally</p>\n"},{"tags":[],"owner":{"account_id":11033790,"reputation":793,"user_id":8104378,"display_name":"Roshan"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1574809231,"creation_date":1574809231,"answer_id":59060645,"question_id":57734823,"body_markdown":"The app module is an android library and expects android lifecycle methods such as onCreate() etc for successful execution. If you want to execute plain java code one option is to add a java library to the project using File -&gt; New Module -&gt; Java Library and add the main method there:\r\n\r\n    package com.example.lib;\r\n    \r\n    public class MyClass {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\nThis would work as you expect it to. ","title":"Android Studio refuses to run main()","body":"<p>The app module is an android library and expects android lifecycle methods such as onCreate() etc for successful execution. If you want to execute plain java code one option is to add a java library to the project using File -> New Module -> Java Library and add the main method there:</p>\n\n<pre><code>package com.example.lib;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        System.out.println(\"Hello\");\n    }\n}\n</code></pre>\n\n<p>This would work as you expect it to. </p>\n"},{"tags":[],"owner":{"account_id":4762095,"reputation":332,"user_id":3849242,"accept_rate":25,"display_name":"ferraro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590580946,"creation_date":1590580946,"answer_id":62042687,"question_id":57734823,"body_markdown":"Avoid naming the class name as Test, Android studio somehow will get screwed when you name class as Test.","title":"Android Studio refuses to run main()","body":"<p>Avoid naming the class name as Test, Android studio somehow will get screwed when you name class as Test.</p>\n"},{"tags":[],"owner":{"account_id":1742388,"reputation":730,"user_id":1593416,"accept_rate":83,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1595335948,"creation_date":1595335948,"answer_id":63014978,"question_id":57734823,"body_markdown":"Try to run it with &quot;coverage&quot;. I don&#39;t have any explanation, but it works!","title":"Android Studio refuses to run main()","body":"<p>Try to run it with &quot;coverage&quot;. I don't have any explanation, but it works!</p>\n"},{"tags":[],"owner":{"account_id":14670358,"reputation":449,"user_id":10594988,"display_name":"Jian Chen"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1609921697,"creation_date":1595897356,"answer_id":63125553,"question_id":57734823,"body_markdown":"Open &quot;gradle.xml&quot; File in this path :\r\n```\r\n.idea/gradle.xml\r\n```\r\nAdd the following line before ***&lt;/GradleProjectSettings/&gt;***\r\n```\r\n&lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;\r\n```\r\nThat is it , it worked for me.","title":"Android Studio refuses to run main()","body":"<p>Open &quot;gradle.xml&quot; File in this path :</p>\n<pre><code>.idea/gradle.xml\n</code></pre>\n<p>Add the following line before <em><strong>&lt;/GradleProjectSettings/&gt;</strong></em></p>\n<pre><code>&lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;\n</code></pre>\n<p>That is it , it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":5111302,"reputation":1420,"user_id":4097793,"display_name":"Sukhbir"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1645804325,"creation_date":1598102432,"answer_id":63536636,"question_id":57734823,"body_markdown":"&gt; **Quick Fix :**   You can run using **Run with Coverage.**. See Image Below.\r\n\r\n\r\n\r\n[![J][1]][1]\r\n\r\n\r\n\r\n&gt; **Permanent Solution:**  Add `&lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;` and sync project.\r\n\r\ninside File `gradle.xml` under path `E:\\Project\\.idea\\gradle.xml`. See Image below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fxqEy.png\r\n  [2]: https://i.stack.imgur.com/cViIE.png","title":"Android Studio refuses to run main()","body":"<blockquote>\n<p><strong>Quick Fix :</strong>   You can run using <strong>Run with Coverage.</strong>. See Image Below.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/fxqEy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fxqEy.png\" alt=\"J\" /></a></p>\n<blockquote>\n<p><strong>Permanent Solution:</strong>  Add <code>&lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;</code> and sync project.</p>\n</blockquote>\n<p>inside File <code>gradle.xml</code> under path <code>E:\\Project\\.idea\\gradle.xml</code>. See Image below.</p>\n<p><a href=\"https://i.stack.imgur.com/cViIE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cViIE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6649224,"reputation":399,"user_id":5132029,"accept_rate":83,"display_name":"Gideon Steven"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1603726546,"creation_date":1603726546,"answer_id":64540264,"question_id":57734823,"body_markdown":"I&#39;m currently using Android Studio Version **4.0.1** \r\n\r\n 1. after creating the project, you should go to tab \r\n**File ==&gt; New ==&gt; New Module...**\r\n[![image one][1]][1]\r\n\r\n\r\n\r\n 2. on &quot;**Create New Module/ Selecte Module Type**&quot;:\r\n\r\n 3. Select **Java or Kotlin Library**\r\n [![image 2][2]][2] [![image 3][3]][3]\r\n\r\n 4. After it finish, go to javalib folder/ module that you have created. \r\n\r\n 5. Create Java file on there.\r\n [![image 4][4]][4]\r\n\r\n 6. try to run it \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vUYKh.png\r\n  [2]: https://i.stack.imgur.com/sUT6s.png\r\n  [3]: https://i.stack.imgur.com/f5E56.png\r\n  [4]: https://i.stack.imgur.com/SkhMZ.png","title":"Android Studio refuses to run main()","body":"<p>I'm currently using Android Studio Version <strong>4.0.1</strong></p>\n<ol>\n<li><p>after creating the project, you should go to tab\n<strong>File ==&gt; New ==&gt; New Module...</strong>\n<a href=\"https://i.stack.imgur.com/vUYKh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vUYKh.png\" alt=\"image one\" /></a></p>\n</li>\n<li><p>on &quot;<strong>Create New Module/ Selecte Module Type</strong>&quot;:</p>\n</li>\n<li><p>Select <strong>Java or Kotlin Library</strong>\n<a href=\"https://i.stack.imgur.com/sUT6s.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sUT6s.png\" alt=\"image 2\" /></a> <a href=\"https://i.stack.imgur.com/f5E56.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f5E56.png\" alt=\"image 3\" /></a></p>\n</li>\n<li><p>After it finish, go to javalib folder/ module that you have created.</p>\n</li>\n<li><p>Create Java file on there.\n<a href=\"https://i.stack.imgur.com/SkhMZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SkhMZ.png\" alt=\"image 4\" /></a></p>\n</li>\n<li><p>try to run it</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607375004,"creation_date":1607375004,"answer_id":65189344,"question_id":57734823,"body_markdown":"If the module is from an android application or library it is not allowed to run the main; because what is expected is navigate transitions between stages of the [activity lifecycle][1].\r\n\r\nIn the following cases of modules with these plugins applied, the main can NOT be run.\r\n\r\n## build.gradle.kts (:appAndroid) ##\r\n\r\n    plugins {\r\n        id(&quot;com.android.application&quot;)\r\n        id(&quot;kotlin-android&quot;)\r\n    }\r\n\r\n\r\n## build.gradle.kts (:libraryAndroid) ##\r\n\r\n    plugins {\r\n        id(&quot;com.android.library&quot;)\r\n        id(&quot;kotlin-android&quot;)\r\n    }\r\n\r\n\r\n## build.gradle.kts (:kmmShared) ##\r\n\r\n    plugins {\r\n        kotlin(&quot;multiplatform&quot;)\r\n        id(&quot;com.android.library&quot;)\r\n    }\r\n\r\nIf the purpose of running the main was to test things, what you really have to do is use the sourceSets of `test`.\r\n\r\n___\r\n\r\n\r\n# If the module is from a Java or Kotlin library, running the main is allowed so the error would not exist.\r\n\r\nThe following applied plugins describe a JVM library:\r\n\r\n## build.gradle.kts (:jvmLibrary) ##\r\n\r\n    plugins {\r\n        id(&quot;java-library&quot;)\r\n        id(&quot;kotlin&quot;)\r\n    }\r\n\r\n___\r\n\r\nFinally, if using the `test` sourceSets or creating a JVM module was not enough for you, there is a &#39;hack&#39; which is weak because it depends on the IDE (It does not work in KMM modules).\r\n\r\n## .idea/gradle.xml ##\r\n\r\n    &lt;project version=&quot;4&quot;&gt;\r\n      &lt;component name=&quot;GradleSettings&quot;&gt;\r\n        &lt;option name=&quot;linkedExternalProjectsSettings&quot;&gt;\r\n          &lt;GradleProjectSettings&gt;\r\n  \r\n            &lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;\r\n  \r\n          &lt;/GradleProjectSettings&gt;\r\n        &lt;/option&gt;\r\n      &lt;/component&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nGL\r\n\r\n  [1]: https://developer.android.com/guide/components/activities/activity-lifecycle","title":"Android Studio refuses to run main()","body":"<p>If the module is from an android application or library it is not allowed to run the main; because what is expected is navigate transitions between stages of the <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">activity lifecycle</a>.</p>\n<p>In the following cases of modules with these plugins applied, the main can NOT be run.</p>\n<h2>build.gradle.kts (:appAndroid)</h2>\n<pre><code>plugins {\n    id(&quot;com.android.application&quot;)\n    id(&quot;kotlin-android&quot;)\n}\n</code></pre>\n<h2>build.gradle.kts (:libraryAndroid)</h2>\n<pre><code>plugins {\n    id(&quot;com.android.library&quot;)\n    id(&quot;kotlin-android&quot;)\n}\n</code></pre>\n<h2>build.gradle.kts (:kmmShared)</h2>\n<pre><code>plugins {\n    kotlin(&quot;multiplatform&quot;)\n    id(&quot;com.android.library&quot;)\n}\n</code></pre>\n<p>If the purpose of running the main was to test things, what you really have to do is use the sourceSets of <code>test</code>.</p>\n<hr />\n<h1>If the module is from a Java or Kotlin library, running the main is allowed so the error would not exist.</h1>\n<p>The following applied plugins describe a JVM library:</p>\n<h2>build.gradle.kts (:jvmLibrary)</h2>\n<pre><code>plugins {\n    id(&quot;java-library&quot;)\n    id(&quot;kotlin&quot;)\n}\n</code></pre>\n<hr />\n<p>Finally, if using the <code>test</code> sourceSets or creating a JVM module was not enough for you, there is a 'hack' which is weak because it depends on the IDE (It does not work in KMM modules).</p>\n<h2>.idea/gradle.xml</h2>\n<pre><code>&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;GradleSettings&quot;&gt;\n    &lt;option name=&quot;linkedExternalProjectsSettings&quot;&gt;\n      &lt;GradleProjectSettings&gt;\n\n        &lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;\n\n      &lt;/GradleProjectSettings&gt;\n    &lt;/option&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n<p>GL</p>\n"},{"tags":[],"owner":{"account_id":1047847,"reputation":129,"user_id":1052478,"display_name":"user1052478"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646937404,"creation_date":1646937404,"answer_id":71429159,"question_id":57734823,"body_markdown":"I have not much idea about it as I am very new in Android development and Android Studio. But after reading some solution over the internet and watchin some Youtube Videos, I have fixed it.\r\n\r\nIn app/build.gradle under dependencies for me \r\nimplementation &#39;androidx.appcompat:appcompat:1.4.1&#39; - this was there\r\n\r\nI changed it to \r\nimplementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n\r\nrebuilt the project and run, it worked for me..\r\n\r\nI guess there must be some android studio update (in the latest version) was causing the problem.","title":"Android Studio refuses to run main()","body":"<p>I have not much idea about it as I am very new in Android development and Android Studio. But after reading some solution over the internet and watchin some Youtube Videos, I have fixed it.</p>\n<p>In app/build.gradle under dependencies for me\nimplementation 'androidx.appcompat:appcompat:1.4.1' - this was there</p>\n<p>I changed it to\nimplementation 'androidx.appcompat:appcompat:1.2.0'</p>\n<p>rebuilt the project and run, it worked for me..</p>\n<p>I guess there must be some android studio update (in the latest version) was causing the problem.</p>\n"},{"tags":[],"owner":{"account_id":9734655,"reputation":11,"user_id":7218332,"display_name":"Sanjay Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662802298,"creation_date":1662802190,"answer_id":73670708,"question_id":57734823,"body_markdown":"I also got stuck in this problem. I am using **Android Studio Arctic Fox** in **Macbook Pro M1**. I have also tried to add New Module and Select **Java and Kotlin Library** and edited the configuration but it did not work for me. But it did work on my Windows System.\r\n\r\nIn macbook, I simply downgraded the dependancy in my App level **build.gradle** file \r\nfrom\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n\r\nto\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n\r\nand run my Java Class as **Run as Coverage** and it worked.\r\n","title":"Android Studio refuses to run main()","body":"<p>I also got stuck in this problem. I am using <strong>Android Studio Arctic Fox</strong> in <strong>Macbook Pro M1</strong>. I have also tried to add New Module and Select <strong>Java and Kotlin Library</strong> and edited the configuration but it did not work for me. But it did work on my Windows System.</p>\n<p>In macbook, I simply downgraded the dependancy in my App level <strong>build.gradle</strong> file\nfrom</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.5.0'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.2.0'\n</code></pre>\n<p>and run my Java Class as <strong>Run as Coverage</strong> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":29957307,"reputation":1,"user_id":22957915,"display_name":"حسن زال"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701420918,"creation_date":1701420918,"answer_id":77584009,"question_id":57734823,"body_markdown":"i had the same problem, but this way the error went away.\r\nIn the priject field right click on app,\r\nselect\r\nNew module, then chosse java or kotlin Library.\r\nAfter that open your brand new module.\r\nInside public class write main and hit enter.\r\nNow inside your main class you are able to write your code.as you wished.","title":"Android Studio refuses to run main()","body":"<p>i had the same problem, but this way the error went away.\nIn the priject field right click on app,\nselect\nNew module, then chosse java or kotlin Library.\nAfter that open your brand new module.\nInside public class write main and hit enter.\nNow inside your main class you are able to write your code.as you wished.</p>\n"}],"owner":{"account_id":2369134,"reputation":491,"user_id":3650812,"display_name":"Regan Music"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27546,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":11,"score":37,"last_activity_date":1701420918,"creation_date":1567219760,"question_id":57734823,"body_markdown":"Repro steps:\r\n\r\n 1. Start a new project in Android Studio (with the latest update);\r\n 2. Make a new class and add main() as usual;\r\n 3. Right-click class to run main() as a test.\r\n\r\n```java\r\npackage test;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n    }\r\n}\r\n```\r\n\r\nUsually I expect I can just `System.out.printLn(&quot;Hello World&quot;)` but this time, no matter if it&#39;s a new project, I get the following error:\r\n\r\n```\r\n2:34:23 PM: Executing task &#39;Test.main()&#39;...\r\n\r\nExecuting tasks: [Test.main()] in project C:\\Users\\regan\\Desktop\\events\\MyApplication\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nInitialization script &#39;C:\\Users\\regan\\AppData\\Local\\Temp\\Test_main__2.gradle&#39; line: 20\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:app&#39;.\r\n&gt; Could not create task &#39;:app:Test.main()&#39;.\r\n   &gt; SourceSet with name &#39;test&#39; not found.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/5.4.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 0s\r\n2:34:24 PM: Task execution finished &#39;Test.main()&#39;.\r\n```\r\n\r\nI am *fairly* new to Java after years of C# in Unity and have no idea what all this stuff is trying to tell me. I have googled but the closest I found was a way to HIDE this error (assuming code was still compiling). I need this code to at least compile.","title":"Android Studio refuses to run main()","body":"<p>Repro steps:</p>\n\n<ol>\n<li>Start a new project in Android Studio (with the latest update);</li>\n<li>Make a new class and add main() as usual;</li>\n<li>Right-click class to run main() as a test.</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\npublic class Test {\n    public static void main(String[] args) {\n    }\n}\n</code></pre>\n\n<p>Usually I expect I can just <code>System.out.printLn(\"Hello World\")</code> but this time, no matter if it's a new project, I get the following error:</p>\n\n<pre><code>2:34:23 PM: Executing task 'Test.main()'...\n\nExecuting tasks: [Test.main()] in project C:\\Users\\regan\\Desktop\\events\\MyApplication\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nInitialization script 'C:\\Users\\regan\\AppData\\Local\\Temp\\Test_main__2.gradle' line: 20\n\n* What went wrong:\nA problem occurred configuring project ':app'.\n&gt; Could not create task ':app:Test.main()'.\n   &gt; SourceSet with name 'test' not found.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/5.4.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 0s\n2:34:24 PM: Task execution finished 'Test.main()'.\n</code></pre>\n\n<p>I am <em>fairly</em> new to Java after years of C# in Unity and have no idea what all this stuff is trying to tell me. I have googled but the closest I found was a way to HIDE this error (assuming code was still compiling). I need this code to at least compile.</p>\n"},{"tags":["java","tomcat","centos","http-status-code-500"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701376996,"post_id":77579015,"comment_id":136771482,"body_markdown":"Err, provide a ChartRenderingInfo value?","body":"Err, provide a ChartRenderingInfo value?"}],"answers":[{"tags":[],"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701420528,"creation_date":1701420528,"answer_id":77583974,"question_id":77579015,"body_markdown":"As per [documentation][1], nulls are allowed for ChartRenderingInfo in &#39;saveChartAsPNG&#39;, so check if your other object parameters (JFreeChart and HttpSession) are the ones expected, as in package, versions etc.\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/servlet/ServletUtilities.html#saveChartAsPNG-org.jfree.chart.JFreeChart-int-int-org.jfree.chart.ChartRenderingInfo-javax.servlet.http.HttpSession-","title":"HTTP Status 500 – Internal Server Error about ServletUtilities","body":"<p>As per <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/servlet/ServletUtilities.html#saveChartAsPNG-org.jfree.chart.JFreeChart-int-int-org.jfree.chart.ChartRenderingInfo-javax.servlet.http.HttpSession-\" rel=\"nofollow noreferrer\">documentation</a>, nulls are allowed for ChartRenderingInfo in 'saveChartAsPNG', so check if your other object parameters (JFreeChart and HttpSession) are the ones expected, as in package, versions etc.</p>\n"}],"owner":{"account_id":8769016,"reputation":547,"user_id":6556472,"accept_rate":60,"display_name":"georgetovrea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701420528,"creation_date":1701352473,"question_id":77579015,"body_markdown":"I am trying to make a Web Service using Tomcat 10 and jdk11 on centos.\r\n\r\nbut I got HTTP Status 500 – Internal Server Error, and show An error occurred at line: [703] in the jsp file: [/index.jsp] \r\n    \r\nIt&#39;s  said The method saveChartAsPNG(JFreeChart, int, int, ChartRenderingInfo, HttpSession) in the type ServletUtilities is not applicable for the arguments (JFreeChart, int, int, null, HttpSession)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nmy code as below,\r\n\r\n    ValueAxis   rangeAxis   =   plot.getRangeAxis();   \r\n    rangeAxis.setUpperMargin(1);\r\n \r\n    String filename = ServletUtilities.saveChartAsPNG(chart, 200, 160, null, session);\r\n    String graphURL = request.getContextPath()+&quot;/DisplayChart?filename=&quot;+filename; \r\n\r\n\r\n \r\n\r\nPlease anyone can tell me what to do to fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IvxTp.jpg","title":"HTTP Status 500 – Internal Server Error about ServletUtilities","body":"<p>I am trying to make a Web Service using Tomcat 10 and jdk11 on centos.</p>\n<p>but I got HTTP Status 500 – Internal Server Error, and show An error occurred at line: [703] in the jsp file: [/index.jsp]</p>\n<p>It's  said The method saveChartAsPNG(JFreeChart, int, int, ChartRenderingInfo, HttpSession) in the type ServletUtilities is not applicable for the arguments (JFreeChart, int, int, null, HttpSession)</p>\n<p><a href=\"https://i.stack.imgur.com/IvxTp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IvxTp.jpg\" alt=\"enter image description here\" /></a></p>\n<p>my code as below,</p>\n<pre><code>ValueAxis   rangeAxis   =   plot.getRangeAxis();   \nrangeAxis.setUpperMargin(1);\n\nString filename = ServletUtilities.saveChartAsPNG(chart, 200, 160, null, session);\nString graphURL = request.getContextPath()+&quot;/DisplayChart?filename=&quot;+filename; \n</code></pre>\n<p>Please anyone can tell me what to do to fix this?</p>\n"},{"tags":["java","caching","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1514969222,"creation_date":1421339665,"answer_id":27968317,"question_id":27968157,"body_markdown":"Note that this answer uses [ehcache](http://www.ehcache.org), which is one of supported Spring Boot cache managers, and arguably one of the most popular.\r\n\r\nFirst you need to add to `pom.xml`:\r\n\r\n    &lt;!-- Spring Framework Caching Support --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn `src/main/resources/ehcache.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ehcache&gt;\r\n        &lt;defaultCache eternal=&quot;true&quot; maxElementsInMemory=&quot;100&quot; overflowToDisk=&quot;false&quot; /&gt;\r\n        &lt;cache name=&quot;forecast&quot; \r\n               maxElementsInMemory=&quot;1000&quot; \r\n               timeToIdleSeconds=&quot;120&quot;\r\n               timeToLiveSeconds=&quot;120&quot;\r\n               overflowToDisk=&quot;false&quot;\r\n               memoryStoreEvictionPolicy=&quot;LRU&quot; /&gt;\r\n    &lt;/ehcache&gt;","title":"Expiry time @cacheable spring boot","body":"<p>Note that this answer uses <a href=\"http://www.ehcache.org\" rel=\"noreferrer\">ehcache</a>, which is one of supported Spring Boot cache managers, and arguably one of the most popular.</p>\n\n<p>First you need to add to <code>pom.xml</code>:</p>\n\n<pre><code>&lt;!-- Spring Framework Caching Support --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In <code>src/main/resources/ehcache.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ehcache&gt;\n    &lt;defaultCache eternal=\"true\" maxElementsInMemory=\"100\" overflowToDisk=\"false\" /&gt;\n    &lt;cache name=\"forecast\" \n           maxElementsInMemory=\"1000\" \n           timeToIdleSeconds=\"120\"\n           timeToLiveSeconds=\"120\"\n           overflowToDisk=\"false\"\n           memoryStoreEvictionPolicy=\"LRU\" /&gt;\n&lt;/ehcache&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1421340319,"creation_date":1421340319,"answer_id":27968542,"question_id":27968157,"body_markdown":"From the [reference documentation](http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/htmlsingle/#cache-specific-config)\r\n\r\n&gt; Directly through your cache provider. The cache abstraction is… well, an abstraction not a cache implementation. The solution you are using might support various data policies and different topologies which other solutions do not (take for example the JDK ConcurrentHashMap) - exposing that in the cache abstraction would be useless simply because there would no backing support. Such functionality should be controlled directly through the backing cache, when configuring it or through its native API.","title":"Expiry time @cacheable spring boot","body":"<p>From the <a href=\"http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/htmlsingle/#cache-specific-config\" rel=\"noreferrer\">reference documentation</a></p>\n\n<blockquote>\n  <p>Directly through your cache provider. The cache abstraction is… well, an abstraction not a cache implementation. The solution you are using might support various data policies and different topologies which other solutions do not (take for example the JDK ConcurrentHashMap) - exposing that in the cache abstraction would be useless simply because there would no backing support. Such functionality should be controlled directly through the backing cache, when configuring it or through its native API.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5073856,"reputation":1083,"user_id":4071862,"display_name":"Sameer Shah"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1422211024,"creation_date":1422211024,"answer_id":28139968,"question_id":27968157,"body_markdown":"You cannot specify expiry time with @cacheable notation, since @cacheable does not provide any such configurable option.\r\n\r\nHowever different caching vendors providing spring caching have provided this feature through their own configurations. For example [NCache][1] / [TayzGrid][2] allows you to [create different cache regions with configurable expiration time][3].\r\n\r\nIf you have implemented your own cache, you will need to define a way to specify expiration in you cache provider and will also need to incorporate expiration logic in your solution.\r\n\r\n\r\n  [1]: http://www.alachisoft.com/ncache/\r\n  [2]: http://www.tayzgrid.com/\r\n  [3]: http://www.tayzgrid.com/tayzgrid/spring-integration.html","title":"Expiry time @cacheable spring boot","body":"<p>You cannot specify expiry time with @cacheable notation, since @cacheable does not provide any such configurable option.</p>\n\n<p>However different caching vendors providing spring caching have provided this feature through their own configurations. For example <a href=\"http://www.alachisoft.com/ncache/\" rel=\"noreferrer\">NCache</a> / <a href=\"http://www.tayzgrid.com/\" rel=\"noreferrer\">TayzGrid</a> allows you to <a href=\"http://www.tayzgrid.com/tayzgrid/spring-integration.html\" rel=\"noreferrer\">create different cache regions with configurable expiration time</a>.</p>\n\n<p>If you have implemented your own cache, you will need to define a way to specify expiration in you cache provider and will also need to incorporate expiration logic in your solution.</p>\n"},{"tags":[],"owner":{"account_id":5632403,"reputation":1261,"user_id":4458964,"accept_rate":0,"display_name":"Atum"},"down_vote_count":6,"up_vote_count":44,"is_accepted":false,"score":38,"last_activity_date":1660589395,"creation_date":1467964504,"answer_id":38261593,"question_id":27968157,"body_markdown":"I use life hacking like this:\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    @EnableScheduling\r\n    public class CachingConfig {\r\n\r\n      public static final String GAMES = &quot;GAMES&quot;;\r\n\r\n      @Bean\r\n      public CacheManager cacheManager() {\r\n        ConcurrentMapCacheManager cacheManager = new ConcurrentMapCacheManager(GAMES);\r\n        return cacheManager;\r\n      }\r\n   \r\n      @CacheEvict(allEntries = true, value = {GAMES})\r\n      @Scheduled(fixedDelay = 10 * 60 * 1000 ,  initialDelay = 500)\r\n      public void reportCacheEvict() {\r\n        System.out.println(&quot;Flush Cache &quot; + dateFormat.format(new Date()));\r\n      }\r\n\r\n    }","title":"Expiry time @cacheable spring boot","body":"<p>I use life hacking like this:</p>\n<pre><code>@Configuration\n@EnableCaching\n@EnableScheduling\npublic class CachingConfig {\n\n  public static final String GAMES = &quot;GAMES&quot;;\n\n  @Bean\n  public CacheManager cacheManager() {\n    ConcurrentMapCacheManager cacheManager = new ConcurrentMapCacheManager(GAMES);\n    return cacheManager;\n  }\n\n  @CacheEvict(allEntries = true, value = {GAMES})\n  @Scheduled(fixedDelay = 10 * 60 * 1000 ,  initialDelay = 500)\n  public void reportCacheEvict() {\n    System.out.println(&quot;Flush Cache &quot; + dateFormat.format(new Date()));\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1531413243,"creation_date":1531413243,"answer_id":51310643,"question_id":27968157,"body_markdown":"I use caffeine-caching, with this configuration for a 60 minute expiration:\r\n\r\n    spring.cache.cache-names=forecast\r\n    spring.cache.caffeine.spec=expireAfterWrite=60m\r\n","title":"Expiry time @cacheable spring boot","body":"<p>I use caffeine-caching, with this configuration for a 60 minute expiration:</p>\n\n<pre><code>spring.cache.cache-names=forecast\nspring.cache.caffeine.spec=expireAfterWrite=60m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15828703,"reputation":2256,"user_id":11420760,"display_name":"talhature"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1603133247,"creation_date":1603133247,"answer_id":64433430,"question_id":27968157,"body_markdown":"You can achieve this kind of eviction strategy by making use of [`@Scheduled`][1] annotation. It is possible to schedule with a fixedRate or even with a cron expression.\r\n\r\n    @Autowired\r\n\tCacheManager cacheManager;\r\n    \r\n    public void evictAllCaches() {\r\n    \t    cacheManager.getCacheNames().stream()\r\n    \t      .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\r\n    }\r\n    \r\n    @Scheduled(fixedRate = 6000)\r\n    public void evictAllcachesAtIntervals() {\r\n    \t    evictAllCaches();\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-scheduled-tasks","title":"Expiry time @cacheable spring boot","body":"<p>You can achieve this kind of eviction strategy by making use of <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\"><code>@Scheduled</code></a> annotation. It is possible to schedule with a fixedRate or even with a cron expression.</p>\n<pre><code>@Autowired\nCacheManager cacheManager;\n\npublic void evictAllCaches() {\n        cacheManager.getCacheNames().stream()\n          .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\n}\n\n@Scheduled(fixedRate = 6000)\npublic void evictAllcachesAtIntervals() {\n        evictAllCaches();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6105736,"reputation":1223,"user_id":4763511,"accept_rate":80,"display_name":"Bu Saeed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619582136,"creation_date":1619582136,"answer_id":67293549,"question_id":27968157,"body_markdown":"If you are using Caffeine than you can add the following line in your `application.properties` file:\r\n\r\n    spring.cache.caffeine.spec=expireAfterAccess=300s","title":"Expiry time @cacheable spring boot","body":"<p>If you are using Caffeine than you can add the following line in your <code>application.properties</code> file:</p>\n<pre><code>spring.cache.caffeine.spec=expireAfterAccess=300s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11745569,"reputation":181,"user_id":8596440,"display_name":"Amritansh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641020889,"creation_date":1641020889,"answer_id":70547408,"question_id":27968157,"body_markdown":"Found this [Spring cache: Set expiry time to a cache entry][1].\r\n\r\nIt uses the `spring-boot-starter-cache` dependency and works as expected . You can configure the expiry time for cached objects as well as the max number of cached values.\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2019/09/spring-cache-set-expiry-time-to-cache.html","title":"Expiry time @cacheable spring boot","body":"<p>Found this <a href=\"https://self-learning-java-tutorial.blogspot.com/2019/09/spring-cache-set-expiry-time-to-cache.html\" rel=\"nofollow noreferrer\">Spring cache: Set expiry time to a cache entry</a>.</p>\n<p>It uses the <code>spring-boot-starter-cache</code> dependency and works as expected . You can configure the expiry time for cached objects as well as the max number of cached values.</p>\n"},{"tags":[],"owner":{"account_id":20475886,"reputation":1,"user_id":15025240,"display_name":"Ferhat C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701420352,"creation_date":1701335372,"answer_id":77577158,"question_id":27968157,"body_markdown":"You can solve it with a `LocalDateTime` object. For example:\r\n\r\n    @Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\r\n    public void forecast(LocalDate date){\r\n        //\r\n    }\r\n    public void call(){\r\n        forecast(LocalDate.now());\r\n    }\r\n\r\nCache will expire after 1 day.\r\n\r\nPositive aspect - it does not require a scheduled job.\r\n\r\nNegative aspect - old data remains cached.\r\n","title":"Expiry time @cacheable spring boot","body":"<p>You can solve it with a <code>LocalDateTime</code> object. For example:</p>\n<pre><code>@Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\npublic void forecast(LocalDate date){\n    //\n}\npublic void call(){\n    forecast(LocalDate.now());\n}\n</code></pre>\n<p>Cache will expire after 1 day.</p>\n<p>Positive aspect - it does not require a scheduled job.</p>\n<p>Negative aspect - old data remains cached.</p>\n"}],"owner":{"account_id":4039357,"reputation":1432,"user_id":3322664,"accept_rate":4,"display_name":"nole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102737,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"answer_count":9,"score":56,"last_activity_date":1701420352,"creation_date":1421339196,"question_id":27968157,"body_markdown":"I have implemented a cache and now I want to add an expiry time.\r\n\r\nHow can I set an expiry time in spring boot with `@Cacheable`? \r\n\r\nThis is a code snippet:\r\n\r\n    @Cacheable(value=&quot;forecast&quot;,unless=&quot;#result == null&quot;)\r\n\r\n","title":"Expiry time @cacheable spring boot","body":"<p>I have implemented a cache and now I want to add an expiry time.</p>\n\n<p>How can I set an expiry time in spring boot with <code>@Cacheable</code>? </p>\n\n<p>This is a code snippet:</p>\n\n<pre><code>@Cacheable(value=\"forecast\",unless=\"#result == null\")\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701418890,"post_id":77583811,"comment_id":136775628,"body_markdown":"Please show the pom files of both projects..","body":"Please show the pom files of both projects.."},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1701419320,"post_id":77583811,"comment_id":136775685,"body_markdown":"Are you sure you don&#39;t have an old version of A2?Please, share both poms.","body":"Are you sure you don&#39;t have an old version of A2?Please, share both poms."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1701421650,"post_id":77583811,"comment_id":136776058,"body_markdown":"I think this is the reason. A has dependencyManagement limits jakarta.json-api (short as JJA) version to 1.1.6. And `elasticsearch-java` pom requires JJA 2.0.1 version and scope provided. Although A2 has 2.0.1 in pom.xml directly, ES brings 1.1.6. And A1 has A2 as dependency, A1 has 1.1.6 from parent, and both 1.1.6 and 2.0.1 from A2, so it decides to use 1.1.6. The odd part is ES pom JJA version does not work, which probably written somewhere on maven website: why provided version can be different from version required in pom.","body":"I think this is the reason. A has dependencyManagement limits jakarta.json-api (short as JJA) version to 1.1.6. And <code>elasticsearch-java</code> pom requires JJA 2.0.1 version and scope provided. Although A2 has 2.0.1 in pom.xml directly, ES brings 1.1.6. And A1 has A2 as dependency, A1 has 1.1.6 from parent, and both 1.1.6 and 2.0.1 from A2, so it decides to use 1.1.6. The odd part is ES pom JJA version does not work, which probably written somewhere on maven website: why provided version can be different from version required in pom."}],"answers":[{"tags":[],"owner":{"account_id":7681868,"reputation":11,"user_id":5820905,"display_name":"dev_abhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701419854,"creation_date":1701419854,"answer_id":77583925,"question_id":77583811,"body_markdown":"Maven resolves conflicting dependencies based on the nearest definition rule. A2 should be resolved using A as parent dependency in your case. Maven will use the version closest to the project declaring the dependency. You can explicitly control versions providing direct dependency or write exculsions on one of the dependencies.","title":"local maven dependency crashes? what causes dependency version different from that in pom?","body":"<p>Maven resolves conflicting dependencies based on the nearest definition rule. A2 should be resolved using A as parent dependency in your case. Maven will use the version closest to the project declaring the dependency. You can explicitly control versions providing direct dependency or write exculsions on one of the dependencies.</p>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701420347,"creation_date":1701418249,"question_id":77583811,"body_markdown":"In a project, it has maven module as following:\r\n```\r\nA -&gt; A1, A2, module A has 2 sub modules A1 and A2.\r\nA1 -&gt; A2, module A1 has A2 as its dependency\r\n```\r\nby running `mvn dependency:tree` in A1, it shows following result:\r\n```\r\n[INFO] +- A2:jar:1.0.0-SNAPSHOT:compile\r\n[INFO] |  +- co.elastic.clients:elasticsearch-java:jar:8.2.3:compile\r\n[INFO] |  |  +- org.elasticsearch.client:elasticsearch-rest-client:jar:7.6.2:compile\r\n[INFO] |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\r\n[INFO] |  |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\r\n[INFO] |  |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\r\n[INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |  |  \\- org.eclipse.parsson:parsson:jar:1.0.0:compile\r\n[INFO] |  +- jakarta.json:jakarta.json-api:jar:1.1.6:compile\r\n```\r\n\r\nrunning the same command in A2, it shows following result:\r\n```\r\n[INFO] +- co.elastic.clients:elasticsearch-java:jar:8.2.3:compile\r\n[INFO] |  +- org.elasticsearch.client:elasticsearch-rest-client:jar:7.6.2:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\r\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\r\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |  \\- org.eclipse.parsson:parsson:jar:1.0.0:compile\r\n[INFO] +- jakarta.json:jakarta.json-api:jar:2.0.1:compile\r\n```\r\n\r\n`jakarta.json-api` has wrong version in A1, and the hint is it is included from A2. However, in A2, hint shows it has no `version 1.1.6 jakarta.json-api`\r\n\r\nThis is result form git bash CLI, not any tool used. This is the first time I encoutered maven dependency behaves like this. all commands are run after `mvn clean`\r\n\r\nThis is A2 pom:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\r\n        &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;A2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;druid&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.elasticsearch.client/elasticsearch-rest-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.yomahub&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tlog-web-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nA1&#39;s pom:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;A&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath&gt;..&lt;/relativePath&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;A1&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;A1&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;A2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;druid&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- I added this to make it right, although it does not have to be present --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.yomahub&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tlog-web-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--jasypt--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;mygroup.ai.A.Application&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI used a GUI tool to parse A1 pom.xml, it shows this:\r\n```\r\nA2: 1.0.0-SNAPSHOT[compile]\r\n- elasticsearch-java: 8.2.3[compile](omitted for conflict with 2.0.1)\r\n- - jakarta.json-api: 1.1.6 [compile]\r\n- - parsson: 1.0.0[compile]\r\n- - - jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\r\n- jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\r\njakarta.json-api: 2.0.1 [compile]\r\n```\r\nAnd used that tool to parse A2 pom.xml:\r\n```\r\nelasticsearch-java: 8.2.3[compile]\r\n- jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\r\n- parsson: 1.0.0[compile]\r\n- - jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\r\njakarta.json-api: 2.0.1 [compile]\r\n```","title":"local maven dependency crashes? what causes dependency version different from that in pom?","body":"<p>In a project, it has maven module as following:</p>\n<pre><code>A -&gt; A1, A2, module A has 2 sub modules A1 and A2.\nA1 -&gt; A2, module A1 has A2 as its dependency\n</code></pre>\n<p>by running <code>mvn dependency:tree</code> in A1, it shows following result:</p>\n<pre><code>[INFO] +- A2:jar:1.0.0-SNAPSHOT:compile\n[INFO] |  +- co.elastic.clients:elasticsearch-java:jar:8.2.3:compile\n[INFO] |  |  +- org.elasticsearch.client:elasticsearch-rest-client:jar:7.6.2:compile\n[INFO] |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\n[INFO] |  |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\n[INFO] |  |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\n[INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] |  |  \\- org.eclipse.parsson:parsson:jar:1.0.0:compile\n[INFO] |  +- jakarta.json:jakarta.json-api:jar:1.1.6:compile\n</code></pre>\n<p>running the same command in A2, it shows following result:</p>\n<pre><code>[INFO] +- co.elastic.clients:elasticsearch-java:jar:8.2.3:compile\n[INFO] |  +- org.elasticsearch.client:elasticsearch-rest-client:jar:7.6.2:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] |  \\- org.eclipse.parsson:parsson:jar:1.0.0:compile\n[INFO] +- jakarta.json:jakarta.json-api:jar:2.0.1:compile\n</code></pre>\n<p><code>jakarta.json-api</code> has wrong version in A1, and the hint is it is included from A2. However, in A2, hint shows it has no <code>version 1.1.6 jakarta.json-api</code></p>\n<p>This is result form git bash CLI, not any tool used. This is the first time I encoutered maven dependency behaves like this. all commands are run after <code>mvn clean</code></p>\n<p>This is A2 pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\n        &lt;artifactId&gt;A&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;A2&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;druid&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.elasticsearch.client/elasticsearch-rest-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n            &lt;version&gt;8.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.yomahub&lt;/groupId&gt;\n            &lt;artifactId&gt;tlog-web-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>A1's pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\n        &lt;artifactId&gt;A&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;..&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;A1&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;A1&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\n            &lt;artifactId&gt;A2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;druid&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- I added this to make it right, although it does not have to be present --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.yomahub&lt;/groupId&gt;\n            &lt;artifactId&gt;tlog-web-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--jasypt--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n            &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;mygroup.ai.A.Application&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I used a GUI tool to parse A1 pom.xml, it shows this:</p>\n<pre><code>A2: 1.0.0-SNAPSHOT[compile]\n- elasticsearch-java: 8.2.3[compile](omitted for conflict with 2.0.1)\n- - jakarta.json-api: 1.1.6 [compile]\n- - parsson: 1.0.0[compile]\n- - - jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\n- jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\njakarta.json-api: 2.0.1 [compile]\n</code></pre>\n<p>And used that tool to parse A2 pom.xml:</p>\n<pre><code>elasticsearch-java: 8.2.3[compile]\n- jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\n- parsson: 1.0.0[compile]\n- - jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\njakarta.json-api: 2.0.1 [compile]\n</code></pre>\n"},{"tags":["java","azure","logging","graph","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":4074237,"reputation":1,"user_id":10385395,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701420327,"creation_date":1671612187,"answer_id":74873329,"question_id":74852849,"body_markdown":"Found this as I am looking for the same solution. \r\n\r\nLooks like Microsoft  requires an extra hoop to jump through to control the logging level of the MSAL library.\r\n\r\nFor Java:\r\nThis involves creating a logging XML file and pointing to it with a System.properties setting. Setting the level to &quot;error&quot; or &quot;warn&quot; should stop these messages.\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/msal-logging-java\r\n\r\nIf your solution is not using Java, see this link for other implementations\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/msal-client-application-configuration#logging\r\n\r\n****edit\r\n\r\nTo add, the solution I implemented for this:\r\nCreate an XML file and point to it with\r\nSystem.setProperty(&quot;logging.config&quot;, &quot;/absolute/path/to/file.xml&quot;);\r\n\r\ncontents of the file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;root level=&quot;error&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;    \r\n    &lt;/configuration&gt;\r\n\r\n","title":"Azure-identity APIs logging too much logs","body":"<p>Found this as I am looking for the same solution.</p>\n<p>Looks like Microsoft  requires an extra hoop to jump through to control the logging level of the MSAL library.</p>\n<p>For Java:\nThis involves creating a logging XML file and pointing to it with a System.properties setting. Setting the level to &quot;error&quot; or &quot;warn&quot; should stop these messages.\n<a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-logging-java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-logging-java</a></p>\n<p>If your solution is not using Java, see this link for other implementations\n<a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-client-application-configuration#logging\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-client-application-configuration#logging</a></p>\n<p>****edit</p>\n<p>To add, the solution I implemented for this:\nCreate an XML file and point to it with\nSystem.setProperty(&quot;logging.config&quot;, &quot;/absolute/path/to/file.xml&quot;);</p>\n<p>contents of the file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;    \n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":1692303,"reputation":969,"user_id":1554421,"accept_rate":100,"display_name":"Gunwant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701420327,"creation_date":1671465057,"question_id":74852849,"body_markdown":"I am using azure-identity to authenticate and microsoft-graph apis to fetch data from Microsoft Teams. Somehow azure-identity APIs are logging too much unwanted logs, those repetitive and not much of having important information, just like below. \r\n\r\n\r\n    \t2022-12-19 20:51:05.256  INFO 28050 --- [ol-1-worker-105] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.256  INFO 28050 --- [ool-1-worker-69] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.256  INFO 28050 --- [ool-1-worker-69] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.256  INFO 28050 --- [ol-1-worker-105] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.357  INFO 28050 --- [onPool-worker-5] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.358  INFO 28050 --- [onPool-worker-5] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.387  INFO 28050 --- [Pool-1-worker-3] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.387  INFO 28050 --- [Pool-1-worker-3] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.513  INFO 28050 --- [ool-1-worker-59] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.513  INFO 28050 --- [ool-1-worker-59] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.566  INFO 28050 --- [ool-1-worker-69] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.566  INFO 28050 --- [ool-1-worker-69] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.614  INFO 28050 --- [onPool-worker-5] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.614  INFO 28050 --- [onPool-worker-5] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.662  INFO 28050 --- [ool-1-worker-21] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.663  INFO 28050 --- [ool-1-worker-21] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.678  INFO 28050 --- [ol-1-worker-103] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.678  INFO 28050 --- [ol-1-worker-103] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\t\r\n\r\n\r\nMy pom.xml entry for azure-identity and microsoft-graph is as below. \r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n\t&lt;exclusions&gt;\r\n\t&lt;exclusion&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;netty-tcnative-boringssl-static&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.17.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nMy Question is, is there any way to stop those logs, is there any way to control it?","title":"Azure-identity APIs logging too much logs","body":"<p>I am using azure-identity to authenticate and microsoft-graph apis to fetch data from Microsoft Teams. Somehow azure-identity APIs are logging too much unwanted logs, those repetitive and not much of having important information, just like below.</p>\n<pre><code>    2022-12-19 20:51:05.256  INFO 28050 --- [ol-1-worker-105] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.256  INFO 28050 --- [ool-1-worker-69] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.256  INFO 28050 --- [ool-1-worker-69] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.256  INFO 28050 --- [ol-1-worker-105] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.357  INFO 28050 --- [onPool-worker-5] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.358  INFO 28050 --- [onPool-worker-5] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.387  INFO 28050 --- [Pool-1-worker-3] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.387  INFO 28050 --- [Pool-1-worker-3] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.513  INFO 28050 --- [ool-1-worker-59] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.513  INFO 28050 --- [ool-1-worker-59] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.566  INFO 28050 --- [ool-1-worker-69] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.566  INFO 28050 --- [ool-1-worker-69] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.614  INFO 28050 --- [onPool-worker-5] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.614  INFO 28050 --- [onPool-worker-5] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.662  INFO 28050 --- [ool-1-worker-21] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.663  INFO 28050 --- [ool-1-worker-21] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.678  INFO 28050 --- [ol-1-worker-103] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.678  INFO 28050 --- [ol-1-worker-103] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS  \n</code></pre>\n<p>My pom.xml entry for azure-identity and microsoft-graph is as below.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.azure&lt;/groupId&gt;\n&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n&lt;version&gt;1.6.1&lt;/version&gt;\n&lt;exclusions&gt;\n&lt;exclusion&gt;\n&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;exclusion&gt;\n&lt;groupId&gt;io.netty&lt;/groupId&gt;\n&lt;artifactId&gt;netty-tcnative-boringssl-static&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n&lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\n&lt;version&gt;5.17.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My Question is, is there any way to stop those logs, is there any way to control it?</p>\n"},{"tags":["java","android","android-permissions","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701422102,"post_id":77583936,"comment_id":136776137,"body_markdown":"You only have to use ACTION_OPEN_DOCUMENT_TREE (or equivalent) once if you take persitable uri permission on the obtained uri. You should not use ACTION_OPEN_DICUNENT_TREE twice. Why you do? FYI: i did not read your code yet. First wanne know what goes on.","body":"You only have to use ACTION_OPEN_DOCUMENT_TREE (or equivalent) once if you take persitable uri permission on the obtained uri. You should not use ACTION_OPEN_DICUNENT_TREE twice. Why you do? FYI: i did not read your code yet. First wanne know what goes on."},{"owner":{"account_id":14907401,"reputation":3507,"user_id":10764147,"display_name":"S. M. Asif"},"score":0,"creation_date":1701423203,"post_id":77583936,"comment_id":136776342,"body_markdown":"I have used that twice because, one time I need to save file by picking up specific directory, and the 2nd one is for retrieving file information from picked up directory.","body":"I have used that twice because, one time I need to save file by picking up specific directory, and the 2nd one is for retrieving file information from picked up directory."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701438393,"post_id":77583936,"comment_id":136778834,"body_markdown":"You can use it as often as you want. But it is not needed. And it looks as if it has nothing to do with your problem. If you use the action again and choose the same directory again you are asked to allow. Indeed that happens. You can do nothing about it. For that you did not have to post code.","body":"You can use it as often as you want. But it is not needed. And it looks as if it has nothing to do with your problem. If you use the action again and choose the same directory again you are asked to allow. Indeed that happens. You can do nothing about it. For that you did not have to post code."}],"owner":{"account_id":14907401,"reputation":3507,"user_id":10764147,"display_name":"S. M. Asif"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701420020,"creation_date":1701420020,"question_id":77583936,"body_markdown":"In my android native java project, I want one functionality that will create a .txt file by taking input from user. Then, while saving the file, we will use file picker to open and select one directory. Here, it will ask for permission to allow write in that directory.\r\n\r\n**compileSdk = 34, \r\ntargetSdk = 34**\r\n\r\n**Here&#39;s the code:**\r\n\r\n\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.documentfile.provider.DocumentFile;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    import com.bjit.fliecreateshowread.model.FileInfo;\r\n    import com.bjit.fliecreateshowread.adapter.FileInfoListAdapter;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class CreateFileActivity extends AppCompatActivity {\r\n    \r\n        private EditText edtFileName;\r\n        private EditText edtFileDesc;\r\n        private Button btnSaveFile;\r\n    \r\n        private static final int REQUEST_WRITE_EXTERNAL_STORAGE = 1;\r\n    \r\n        private static final int PICK_DIRECTORY_REQUEST_CODE = 123;\r\n    \r\n        private FilePicker filePicker;\r\n    \r\n        private List&lt;FileInfo&gt; fileInfoList;\r\n        private RecyclerView rvFileInformationList;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_create_file);\r\n    \r\n            fileInfoList = new ArrayList&lt;&gt;();\r\n    \r\n            filePicker = new FilePicker();\r\n    \r\n            edtFileName = findViewById(R.id.edtFileName);\r\n            edtFileDesc = findViewById(R.id.edtFileDesc);\r\n            btnSaveFile = findViewById(R.id.btnSaveFile);\r\n            rvFileInformationList = findViewById(R.id.rvFileInformationList);\r\n    \r\n            btnSaveFile.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    filePicker.pickDirectory(CreateFileActivity.this);\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(\r\n                int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n            if (requestCode == REQUEST_WRITE_EXTERNAL_STORAGE) {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // Permission granted, you can proceed with file creation\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        private void createAndSaveTextFileOnSDCard(Intent data, String fileName, String fileDesc) {\r\n            Uri uri = data.getData();\r\n    \r\n            if (uri != null) {\r\n                DocumentFile documentFile = DocumentFile.fromTreeUri(this, uri);\r\n    \r\n                if (documentFile != null &amp;&amp; documentFile.exists()) {\r\n                    DocumentFile file = documentFile.createFile(&quot;text/plain&quot;, fileName + &quot;.txt&quot;);\r\n    \r\n                    try (OutputStream outputStream = getContentResolver().openOutputStream(file.getUri())) {\r\n                        if (outputStream != null) {\r\n                            String content = fileDesc;\r\n                            outputStream.write(content.getBytes());\r\n                            Log.e(&quot;##PATH&quot;, file.getUri().toString());\r\n                            Toast.makeText(this, &quot;File saved: &quot; + file.getUri().toString(), Toast.LENGTH_SHORT).show();\r\n    \r\n                            // Read the file content after saving\r\n                            String fileContent = readTextFile(file.getUri());\r\n                            Log.e(&quot;##FILE_CONTENT&quot;, fileContent);\r\n    \r\n                            FileInfo fileInfo = new FileInfo(fileName, file.getUri().toString());\r\n    \r\n                            showFilesInDirectory(documentFile.getUri());\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                        Toast.makeText(this, &quot;Error saving file: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, &quot;Selected directory not found or does not exist&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } else {\r\n                Toast.makeText(this, &quot;Invalid URI&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        private String readTextFile(Uri fileUri) {\r\n            StringBuilder content = new StringBuilder();\r\n    \r\n            try (InputStream inputStream = getContentResolver().openInputStream(fileUri);\r\n                 BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream))) {\r\n    \r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    content.append(line).append(&quot;\\n&quot;);\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Error reading file: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n            return content.toString();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == PICK_DIRECTORY_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\r\n                createAndSaveTextFileOnSDCard(data, edtFileName.getText().toString(), edtFileDesc.getText().toString());\r\n            }\r\n        }\r\n    \r\n    \r\n        private void showFilesInDirectory(Uri directoryUri) {\r\n            DocumentFile directory = DocumentFile.fromTreeUri(this, directoryUri);\r\n    \r\n            if (directory != null &amp;&amp; directory.exists() &amp;&amp; directory.isDirectory()) {\r\n                DocumentFile[] files = directory.listFiles();\r\n    \r\n                fileInfoList.clear();\r\n    \r\n                if (files != null &amp;&amp; files.length &gt; 0) {\r\n                    // Iterate through the list of files and display their names or perform other actions\r\n                    for (DocumentFile file : files) {\r\n                        Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;File Name: &quot; + file.getName() + &quot;, File URI: &quot; + file.getUri());\r\n                        // You can display the file names in a ListView, RecyclerView, or perform other actions here\r\n    \r\n                        FileInfo fileInfo = new FileInfo(file.getName(), file.getUri().toString());\r\n                        fileInfoList.add(fileInfo);\r\n                    }\r\n    \r\n                    rvFileInformationList.setLayoutManager(new LinearLayoutManager(this));\r\n                    FileInfoListAdapter adapter = new FileInfoListAdapter((ArrayList&lt;FileInfo&gt;) fileInfoList, CreateFileActivity.this);\r\n                    rvFileInformationList.setAdapter(adapter);\r\n                    adapter.notifyDataSetChanged();\r\n    \r\n                } else {\r\n                    Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;No files in the directory&quot;);\r\n                }\r\n            } else {\r\n                Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;Invalid directory or directory does not exist&quot;);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n**------- Now the problem is ---------**\r\n\r\nEven if I have allowed permission for one folder that I have already saved file and granted permission, whenever I am trying to save another file in the same directory, it is again asking me to allow permission. How can I avoid this and only ask for a single time permission for one folder?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q7WFH.png","title":"How to solve- Write file to a specific directory through file picker asking for permission again and again in Android native Java?","body":"<p>In my android native java project, I want one functionality that will create a .txt file by taking input from user. Then, while saving the file, we will use file picker to open and select one directory. Here, it will ask for permission to allow write in that directory.</p>\n<p><strong>compileSdk = 34,\ntargetSdk = 34</strong></p>\n<p><strong>Here's the code:</strong></p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.documentfile.provider.DocumentFile;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.bjit.fliecreateshowread.model.FileInfo;\nimport com.bjit.fliecreateshowread.adapter.FileInfoListAdapter;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CreateFileActivity extends AppCompatActivity {\n\n    private EditText edtFileName;\n    private EditText edtFileDesc;\n    private Button btnSaveFile;\n\n    private static final int REQUEST_WRITE_EXTERNAL_STORAGE = 1;\n\n    private static final int PICK_DIRECTORY_REQUEST_CODE = 123;\n\n    private FilePicker filePicker;\n\n    private List&lt;FileInfo&gt; fileInfoList;\n    private RecyclerView rvFileInformationList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_file);\n\n        fileInfoList = new ArrayList&lt;&gt;();\n\n        filePicker = new FilePicker();\n\n        edtFileName = findViewById(R.id.edtFileName);\n        edtFileDesc = findViewById(R.id.edtFileDesc);\n        btnSaveFile = findViewById(R.id.btnSaveFile);\n        rvFileInformationList = findViewById(R.id.rvFileInformationList);\n\n        btnSaveFile.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                filePicker.pickDirectory(CreateFileActivity.this);\n\n            }\n        });\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(\n            int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == REQUEST_WRITE_EXTERNAL_STORAGE) {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Permission granted, you can proceed with file creation\n            } else {\n                Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n\n    private void createAndSaveTextFileOnSDCard(Intent data, String fileName, String fileDesc) {\n        Uri uri = data.getData();\n\n        if (uri != null) {\n            DocumentFile documentFile = DocumentFile.fromTreeUri(this, uri);\n\n            if (documentFile != null &amp;&amp; documentFile.exists()) {\n                DocumentFile file = documentFile.createFile(&quot;text/plain&quot;, fileName + &quot;.txt&quot;);\n\n                try (OutputStream outputStream = getContentResolver().openOutputStream(file.getUri())) {\n                    if (outputStream != null) {\n                        String content = fileDesc;\n                        outputStream.write(content.getBytes());\n                        Log.e(&quot;##PATH&quot;, file.getUri().toString());\n                        Toast.makeText(this, &quot;File saved: &quot; + file.getUri().toString(), Toast.LENGTH_SHORT).show();\n\n                        // Read the file content after saving\n                        String fileContent = readTextFile(file.getUri());\n                        Log.e(&quot;##FILE_CONTENT&quot;, fileContent);\n\n                        FileInfo fileInfo = new FileInfo(fileName, file.getUri().toString());\n\n                        showFilesInDirectory(documentFile.getUri());\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    Toast.makeText(this, &quot;Error saving file: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            } else {\n                Toast.makeText(this, &quot;Selected directory not found or does not exist&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } else {\n            Toast.makeText(this, &quot;Invalid URI&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n\n\n    private String readTextFile(Uri fileUri) {\n        StringBuilder content = new StringBuilder();\n\n        try (InputStream inputStream = getContentResolver().openInputStream(fileUri);\n             BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream))) {\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                content.append(line).append(&quot;\\n&quot;);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n            Toast.makeText(this, &quot;Error reading file: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n\n        return content.toString();\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == PICK_DIRECTORY_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\n            createAndSaveTextFileOnSDCard(data, edtFileName.getText().toString(), edtFileDesc.getText().toString());\n        }\n    }\n\n\n    private void showFilesInDirectory(Uri directoryUri) {\n        DocumentFile directory = DocumentFile.fromTreeUri(this, directoryUri);\n\n        if (directory != null &amp;&amp; directory.exists() &amp;&amp; directory.isDirectory()) {\n            DocumentFile[] files = directory.listFiles();\n\n            fileInfoList.clear();\n\n            if (files != null &amp;&amp; files.length &gt; 0) {\n                // Iterate through the list of files and display their names or perform other actions\n                for (DocumentFile file : files) {\n                    Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;File Name: &quot; + file.getName() + &quot;, File URI: &quot; + file.getUri());\n                    // You can display the file names in a ListView, RecyclerView, or perform other actions here\n\n                    FileInfo fileInfo = new FileInfo(file.getName(), file.getUri().toString());\n                    fileInfoList.add(fileInfo);\n                }\n\n                rvFileInformationList.setLayoutManager(new LinearLayoutManager(this));\n                FileInfoListAdapter adapter = new FileInfoListAdapter((ArrayList&lt;FileInfo&gt;) fileInfoList, CreateFileActivity.this);\n                rvFileInformationList.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n\n            } else {\n                Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;No files in the directory&quot;);\n            }\n        } else {\n            Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;Invalid directory or directory does not exist&quot;);\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>------- Now the problem is ---------</strong></p>\n<p>Even if I have allowed permission for one folder that I have already saved file and granted permission, whenever I am trying to save another file in the same directory, it is again asking me to allow permission. How can I avoid this and only ask for a single time permission for one folder?</p>\n<p><a href=\"https://i.stack.imgur.com/Q7WFH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q7WFH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","many-to-many"],"comments":[{"owner":{"account_id":12561920,"reputation":408,"user_id":9139357,"display_name":"Eric"},"score":0,"creation_date":1701344670,"post_id":77570427,"comment_id":136765273,"body_markdown":"To understand your question better, you do not want to use that line and permissions will be deleted from the table, correct?\n**`employee.getAppUser().getPermissions().clear();`**","body":"To understand your question better, you do not want to use that line and permissions will be deleted from the table, correct? <b><code>employee.getAppUser().getPermissions().clear();</code></b>"},{"owner":{"account_id":30016259,"reputation":11,"user_id":23002719,"display_name":"Lu91Kas"},"score":0,"creation_date":1701415945,"post_id":77570427,"comment_id":136775228,"body_markdown":"Actually, I&#39;m just trying to remove the AppUser-entry from the Employee-entry with an update via Employee. But since the User has Permissions, it fails.","body":"Actually, I&#39;m just trying to remove the AppUser-entry from the Employee-entry with an update via Employee. But since the User has Permissions, it fails."}],"answers":[{"tags":[],"owner":{"account_id":12561920,"reputation":408,"user_id":9139357,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701417334,"creation_date":1701417334,"answer_id":77583742,"question_id":77570427,"body_markdown":"Can you try this in the `AppUser` class? \r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;AppUserPermission&quot;, joinColumns = @JoinColumn(name = &quot;appUserId&quot;), inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n\r\nSince you use specify cascade `CascadeType.ALL` when `AppUser` entry is deleted, associated permissions also should be deleted automatically.","title":"Clear ManyToMany via cascaded OneToOne remove","body":"<p>Can you try this in the <code>AppUser</code> class?</p>\n<pre><code>@ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n@JoinTable(name = &quot;AppUserPermission&quot;, joinColumns = @JoinColumn(name = &quot;appUserId&quot;), inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\nprivate Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n</code></pre>\n<p>Since you use specify cascade <code>CascadeType.ALL</code> when <code>AppUser</code> entry is deleted, associated permissions also should be deleted automatically.</p>\n"}],"owner":{"account_id":30016259,"reputation":11,"user_id":23002719,"display_name":"Lu91Kas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701419340,"creation_date":1701254495,"question_id":77570427,"body_markdown":"I&#39;m facing problems in a Hibernate project where I try to remove a OneToOne relation which still has entries in a ManyToMany relation.\r\n\r\nEntities:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class Employee implements Serializable {\r\n\r\n    @Id\r\n    Long id;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;employeeId&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private AppUser appUser;\r\n    \r\n    // some more basic fields\r\n\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class AppUser implements Serializable {\r\n\r\n    @Id\r\n    Long id;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;employeeId&quot;)\r\n    @NotNull\r\n    private Employee employeeId;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;AppUserPermission&quot;, joinColumns = @JoinColumn(name = &quot;appUserId&quot;), inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n    \r\n    // some more basic fields\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class Permission implements Serializable {\r\n\r\n    @Id\r\n    Long id;\r\n    \r\n    // some more basic fields\r\n}\r\n```\r\n\r\nDB:\r\n```sql\r\nCREATE TABLE IF NOT EXISTS Employee\r\n(\r\n    id bigint NOT NULL,\r\n    CONSTRAINT pk_Employee PRIMARY KEY (id)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS AppUser\r\n(\r\n    id bigint NOT NULL,\r\n    employeeId bigint NOT NULL,\r\n    CONSTRAINT pk_AppUser PRIMARY KEY (id),\r\n    CONSTRAINT uq_AppUser_employeeId UNIQUE (employeeId),\r\n    CONSTRAINT fk_AppUser_employeeId FOREIGN KEY (employeeId)\r\n        REFERENCES Employee (id) MATCH SIMPLE\r\n        ON UPDATE RESTRICT\r\n        ON DELETE RESTRICT\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS Permission\r\n(\r\n    id bigint NOT NULL,\r\n    CONSTRAINT pk_Permission PRIMARY KEY (id)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS AppUserPermission\r\n(\r\n    appUserId bigint NOT NULL,\r\n    permissionId bigint NOT NULL,\r\n    CONSTRAINT pk_AppUserPermission PRIMARY KEY (appUserId, permissionId),\r\n    CONSTRAINT fk_AppUserPermission_appUserId FOREIGN KEY (appUserId)\r\n        REFERENCES AppUser (id) MATCH SIMPLE\r\n        ON UPDATE RESTRICT\r\n        ON DELETE RESTRICT,\r\n    CONSTRAINT fk_UserPermission_permissionId FOREIGN KEY (permissionId)\r\n        REFERENCES Permission (id) MATCH SIMPLE\r\n        ON UPDATE RESTRICT\r\n        ON DELETE RESTRICT\r\n);\r\n``` \r\n\r\nWhen I now try to remove the User-entry from an Employee, where the User has no Permission, it works as expected - User is deleted from the DB:\r\n\r\n```java\r\nEmployee employee = session.find(Employee.class, employeeId);\r\n\r\n// user has no permission(s)\r\nAssert.assertTrue(employee.getAppUser().getPermissions().isEmpty());\r\n\r\nemployee.setAppUser(null);\r\nsession.update(employee);\r\nsession.flush();\r\n```\r\n\r\nIt&#39;s also possible to remove the Permissions via Employee - the entry in the DB&#39;s jointable got removed, the permission still is available:\r\n\r\n```java\r\nEmployee employee = session.find(Employee.class, employeeId);\r\n\r\n// user has permission(s)\r\nAssert.assertFalse(employee.getAppUser().getPermissions().isEmpty());\r\n\r\nemployee.getAppUser().getPermissions().clear();\r\nsession.update(employee);\r\nsession.flush();\r\n\r\n// this would also work now, but I wan&#39;t prevent two updates if possible\r\nemployee.setAppUser(null);\r\nsession.update(employee);\r\nsession.flush();\r\n```\r\n\r\nBut as stated above, I&#39;d like to do it in one update:\r\n```java\r\nEmployee employee = session.find(Employee.class, employeeId);\r\n\r\n// user has permission(s)\r\nAssert.assertFalse(employee.getAppUser().getPermissions().isEmpty());\r\n\r\nemployee.setAppUser(null);\r\nsession.update(employee);\r\nsession.flush();\r\n```\r\nWith the above code snippet, the following exception occurs:\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;appuser&quot; violates foreign key constraint &quot;fk_appuserpermission_appuserid&quot; on table &quot;appuserpermission&quot;\r\n  Detail: Key (id)=(1825727638) is still referenced from table &quot;appuserpermission&quot;.\r\n  Ort: Datei: ri_triggers.c, Routine: ri_ReportViolation, Zeile: 2609.\r\n  Server SQLState: 23503\r\n```\r\n\r\nJPA executes:\r\n```\r\n/* delete test.hibernate.AppUser */ delete \r\n    from\r\n        appuser \r\n    where\r\n        &quot;id&quot;=?\r\n\r\n```\r\n\r\nBut what I expect is something like that:\r\n```\r\nDELETE FROM AppUserPermission WHERE appUserId = ? AND permissionId = ?;\r\n\r\nDELETE FROM AppUser WHERE id = ?;\r\n```\r\n\r\nDoes someone have an idea how to solve?\r\n\r\nI know it would work if I change the on-delete cascade option from restrict to cascade on the table AppUserPermission, but I&#39;m wondering if Hibernate is able to handle it without that. Since now, JPA handled all cascaded deletions in proper order, also if the DB&#39;s option is restrict.\r\n\r\n***EDIT***:\r\nThe permission(s) belonging to the AppUser should not be deleted - just the entry in the ManyToMany-jointable.\r\n\r\nAny hints appreciated :)","title":"Clear ManyToMany via cascaded OneToOne remove","body":"<p>I'm facing problems in a Hibernate project where I try to remove a OneToOne relation which still has entries in a ManyToMany relation.</p>\n<p>Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Entity\npublic class Employee implements Serializable {\n\n    @Id\n    Long id;\n\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;employeeId&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private AppUser appUser;\n    \n    // some more basic fields\n\n}\n\n@Getter\n@Setter\n@Entity\npublic class AppUser implements Serializable {\n\n    @Id\n    Long id;\n\n    @OneToOne\n    @JoinColumn(name = &quot;employeeId&quot;)\n    @NotNull\n    private Employee employeeId;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;AppUserPermission&quot;, joinColumns = @JoinColumn(name = &quot;appUserId&quot;), inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n    \n    // some more basic fields\n}\n\n@Getter\n@Setter\n@Entity\npublic class Permission implements Serializable {\n\n    @Id\n    Long id;\n    \n    // some more basic fields\n}\n</code></pre>\n<p>DB:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE IF NOT EXISTS Employee\n(\n    id bigint NOT NULL,\n    CONSTRAINT pk_Employee PRIMARY KEY (id)\n);\n\nCREATE TABLE IF NOT EXISTS AppUser\n(\n    id bigint NOT NULL,\n    employeeId bigint NOT NULL,\n    CONSTRAINT pk_AppUser PRIMARY KEY (id),\n    CONSTRAINT uq_AppUser_employeeId UNIQUE (employeeId),\n    CONSTRAINT fk_AppUser_employeeId FOREIGN KEY (employeeId)\n        REFERENCES Employee (id) MATCH SIMPLE\n        ON UPDATE RESTRICT\n        ON DELETE RESTRICT\n);\n\nCREATE TABLE IF NOT EXISTS Permission\n(\n    id bigint NOT NULL,\n    CONSTRAINT pk_Permission PRIMARY KEY (id)\n);\n\nCREATE TABLE IF NOT EXISTS AppUserPermission\n(\n    appUserId bigint NOT NULL,\n    permissionId bigint NOT NULL,\n    CONSTRAINT pk_AppUserPermission PRIMARY KEY (appUserId, permissionId),\n    CONSTRAINT fk_AppUserPermission_appUserId FOREIGN KEY (appUserId)\n        REFERENCES AppUser (id) MATCH SIMPLE\n        ON UPDATE RESTRICT\n        ON DELETE RESTRICT,\n    CONSTRAINT fk_UserPermission_permissionId FOREIGN KEY (permissionId)\n        REFERENCES Permission (id) MATCH SIMPLE\n        ON UPDATE RESTRICT\n        ON DELETE RESTRICT\n);\n</code></pre>\n<p>When I now try to remove the User-entry from an Employee, where the User has no Permission, it works as expected - User is deleted from the DB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = session.find(Employee.class, employeeId);\n\n// user has no permission(s)\nAssert.assertTrue(employee.getAppUser().getPermissions().isEmpty());\n\nemployee.setAppUser(null);\nsession.update(employee);\nsession.flush();\n</code></pre>\n<p>It's also possible to remove the Permissions via Employee - the entry in the DB's jointable got removed, the permission still is available:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = session.find(Employee.class, employeeId);\n\n// user has permission(s)\nAssert.assertFalse(employee.getAppUser().getPermissions().isEmpty());\n\nemployee.getAppUser().getPermissions().clear();\nsession.update(employee);\nsession.flush();\n\n// this would also work now, but I wan't prevent two updates if possible\nemployee.setAppUser(null);\nsession.update(employee);\nsession.flush();\n</code></pre>\n<p>But as stated above, I'd like to do it in one update:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = session.find(Employee.class, employeeId);\n\n// user has permission(s)\nAssert.assertFalse(employee.getAppUser().getPermissions().isEmpty());\n\nemployee.setAppUser(null);\nsession.update(employee);\nsession.flush();\n</code></pre>\n<p>With the above code snippet, the following exception occurs:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;appuser&quot; violates foreign key constraint &quot;fk_appuserpermission_appuserid&quot; on table &quot;appuserpermission&quot;\n  Detail: Key (id)=(1825727638) is still referenced from table &quot;appuserpermission&quot;.\n  Ort: Datei: ri_triggers.c, Routine: ri_ReportViolation, Zeile: 2609.\n  Server SQLState: 23503\n</code></pre>\n<p>JPA executes:</p>\n<pre><code>/* delete test.hibernate.AppUser */ delete \n    from\n        appuser \n    where\n        &quot;id&quot;=?\n\n</code></pre>\n<p>But what I expect is something like that:</p>\n<pre><code>DELETE FROM AppUserPermission WHERE appUserId = ? AND permissionId = ?;\n\nDELETE FROM AppUser WHERE id = ?;\n</code></pre>\n<p>Does someone have an idea how to solve?</p>\n<p>I know it would work if I change the on-delete cascade option from restrict to cascade on the table AppUserPermission, but I'm wondering if Hibernate is able to handle it without that. Since now, JPA handled all cascaded deletions in proper order, also if the DB's option is restrict.</p>\n<p><em><strong>EDIT</strong></em>:\nThe permission(s) belonging to the AppUser should not be deleted - just the entry in the ManyToMany-jointable.</p>\n<p>Any hints appreciated :)</p>\n"},{"tags":["java","random","arraylist","processing","mouseevent"],"answers":[{"tags":[],"owner":{"account_id":22673322,"reputation":50,"user_id":18820487,"display_name":"Chathura Abeywickrama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701419241,"creation_date":1701419241,"answer_id":77583873,"question_id":77583845,"body_markdown":"Check this code.\r\n\r\n    // Import the ArrayList class\r\n    import java.util.ArrayList;\r\n    \r\n    ArrayList&lt;PVector&gt; textPositions = new ArrayList&lt;PVector&gt;();\r\n    ArrayList&lt;String&gt; textStrings = new ArrayList&lt;String&gt;();\r\n    \r\n    void setup() {\r\n      size(700, 700);\r\n      textSize(20);\r\n    }\r\n    \r\n    void draw() {\r\n      background(0);\r\n    \r\n      // Iterate through all stored text positions and strings\r\n      for (int i = 0; i &lt; textPositions.size(); i++) {\r\n        PVector pos = textPositions.get(i);\r\n        String textString = textStrings.get(i);\r\n    \r\n        pushMatrix();\r\n        fill(255);\r\n        textAlign(CENTER);\r\n        translate(pos.x, pos.y);\r\n        rotate(theta);\r\n        text(textString, 0, 0);\r\n        popMatrix();\r\n      }\r\n    \r\n      theta += 0.02;\r\n    }\r\n    \r\n    void mousePressed () {\r\n      // Add the current mouse position and a random string to the ArrayLists\r\n      PVector mousePos = new PVector(mouseX, mouseY);\r\n      textPositions.add(mousePos);\r\n      textStrings.add(sentences[int(random(3))]);\r\n    }\r\n\r\nYou need to import this code initially.\r\n\r\n    import processing.core.PVector;\r\n\r\n","title":"ArrayList for random strings with mousePressed in Processing (also rotation)","body":"<p>Check this code.</p>\n<pre><code>// Import the ArrayList class\nimport java.util.ArrayList;\n\nArrayList&lt;PVector&gt; textPositions = new ArrayList&lt;PVector&gt;();\nArrayList&lt;String&gt; textStrings = new ArrayList&lt;String&gt;();\n\nvoid setup() {\n  size(700, 700);\n  textSize(20);\n}\n\nvoid draw() {\n  background(0);\n\n  // Iterate through all stored text positions and strings\n  for (int i = 0; i &lt; textPositions.size(); i++) {\n    PVector pos = textPositions.get(i);\n    String textString = textStrings.get(i);\n\n    pushMatrix();\n    fill(255);\n    textAlign(CENTER);\n    translate(pos.x, pos.y);\n    rotate(theta);\n    text(textString, 0, 0);\n    popMatrix();\n  }\n\n  theta += 0.02;\n}\n\nvoid mousePressed () {\n  // Add the current mouse position and a random string to the ArrayLists\n  PVector mousePos = new PVector(mouseX, mouseY);\n  textPositions.add(mousePos);\n  textStrings.add(sentences[int(random(3))]);\n}\n</code></pre>\n<p>You need to import this code initially.</p>\n<pre><code>import processing.core.PVector;\n</code></pre>\n"}],"owner":{"account_id":30038288,"reputation":3,"user_id":23019705,"display_name":"Kristal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77583873,"answer_count":1,"score":-1,"last_activity_date":1701419241,"creation_date":1701418765,"question_id":77583845,"body_markdown":"I am new to coding and Processing (so bear with me). I have a class project I need to finish and I need help with one component in my code. I have a mousePressed function within my code that allows for random strings of text to appear in a rotating fashion. However, I want the text to rotate even after the mouse has been released at any RANDOM spot where the viewer released the mouse. I want the viewer to be able to do this (basically an infinite amount of times), but all of the text will rotate simultaneously, not just one string of text at a time. I know I need some ArrayList function to start with, but I don&#39;t know where to start since I have many moving pieces in my code.\r\n\r\nI hope this makes sense :) but any feedback/EXAMPLES will be VERY much appreciated!\r\n\r\nThank you!\r\n\r\n```\r\n    String [] sentences= {\r\n          &quot;Hello&quot;,\r\n          &quot;Good morning&quot;,\r\n          &quot;Good night&quot;,\r\n    };\r\n    float theta;\r\n    int index = 0;\r\n    \r\n    void setup() {\r\n          background (0);\r\n          size(700, 700);\r\n          textSize(20);\r\n    }\r\n\r\n    void draw() {\r\n          background(0);\r\n          pushMatrix();\r\n          fill(255);\r\n          textAlign(CENTER);\r\n          translate(mouseX, mouseY);\r\n          rotate(theta);\r\n          text(sentences[index], 0, 0);\r\n          popMatrix();\r\n        \r\n          theta += 0.02;\r\n    }\r\n\r\n    void mousePressed () {\r\n          index = int(random(3));\r\n    }\r\n```\r\n\r\nI&#39;ve already tried to use an ArrayList with PVector, but the code didn&#39;t seem to recognize some of the variables I used. So an example of an ArrayList I could use would be very helpful :)","title":"ArrayList for random strings with mousePressed in Processing (also rotation)","body":"<p>I am new to coding and Processing (so bear with me). I have a class project I need to finish and I need help with one component in my code. I have a mousePressed function within my code that allows for random strings of text to appear in a rotating fashion. However, I want the text to rotate even after the mouse has been released at any RANDOM spot where the viewer released the mouse. I want the viewer to be able to do this (basically an infinite amount of times), but all of the text will rotate simultaneously, not just one string of text at a time. I know I need some ArrayList function to start with, but I don't know where to start since I have many moving pieces in my code.</p>\n<p>I hope this makes sense :) but any feedback/EXAMPLES will be VERY much appreciated!</p>\n<p>Thank you!</p>\n<pre><code>    String [] sentences= {\n          &quot;Hello&quot;,\n          &quot;Good morning&quot;,\n          &quot;Good night&quot;,\n    };\n    float theta;\n    int index = 0;\n    \n    void setup() {\n          background (0);\n          size(700, 700);\n          textSize(20);\n    }\n\n    void draw() {\n          background(0);\n          pushMatrix();\n          fill(255);\n          textAlign(CENTER);\n          translate(mouseX, mouseY);\n          rotate(theta);\n          text(sentences[index], 0, 0);\n          popMatrix();\n        \n          theta += 0.02;\n    }\n\n    void mousePressed () {\n          index = int(random(3));\n    }\n</code></pre>\n<p>I've already tried to use an ArrayList with PVector, but the code didn't seem to recognize some of the variables I used. So an example of an ArrayList I could use would be very helpful :)</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1701297120,"post_id":77574719,"comment_id":136759800,"body_markdown":"Sometimes new classes and packages are introduced between versions. For example, [`java.time`](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) was introduced in Java 8. Setting the `-source` target to Java 7 doesn&#39;t mean the code won&#39;t compile if you use `java.time` with JDK 8 and target Java 7. But just because it compiles, doesn&#39;t mean it will work. It won&#39;t. The `java.time` package is not present in Java 7.","body":"Sometimes new classes and packages are introduced between versions. For example, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> was introduced in Java 8. Setting the <code>-source</code> target to Java 7 doesn&#39;t mean the code won&#39;t compile if you use <code>java.time</code> with JDK 8 and target Java 7. But just because it compiles, doesn&#39;t mean it will work. It won&#39;t. The <code>java.time</code> package is not present in Java 7."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701299901,"creation_date":1701299901,"answer_id":77575006,"question_id":77574719,"body_markdown":"It is not contradictory but maybe not well described. \r\n\r\nFor `--source` to add more context of the description for Java 17 helps:\r\n\r\n&gt; --source release or -source release\r\n&gt;\r\n&gt;    Compiles source code according to the rules of the Java programming &gt;language for the specified Java SE release. The supported values of release &gt;are the current Java SE release and a limited number of previous releases, &gt;detailed in the command-line help.\r\n\r\nIt means that the compiler will use the source language rules or parser for the version selected, with limited support for some but not all previous versions of Java. This is limited to the language specification, not libraries. You can select a previous version to avoid using newer features, but you are still linking to the current library of the JDK so you could be using newer class and/or methods that will not be present if you actually execute with an older version of the JDK.\r\n\r\n`--target` indicates that you want the generated bytecode to be compatible with the target version and not use bytecodes that are only available in a newer version. Again you still could be depending on APIs (classes/methods) available in a newer version so if you try to execute in the older version of the JDK it may fail.\r\n\r\n`--release` was introduce in Java 9 to resolve the problem of API compatibility. In addition to set `--source` and `--target` to the same version it ensures that also the standard library used is compatible with the version selected. More information is available in this answer: https://stackoverflow.com/a/43103038/721855\r\n\r\n`--release` documentation for Java 17:\r\n&gt; --release release\r\n&gt; \r\n&gt; Compiles source code according to the rules of the Java programming language for the specified Java SE release, generating\r\n&gt; class files which target that release. Source code is compiled against\r\n&gt; the combined Java SE and JDK API for the specified release.\r\n&gt; \r\n&gt; The supported values of release are the current Java SE release and a limited number of previous releases, detailed in the\r\n&gt; command-line help.\r\n&gt; \r\n&gt; For the current release, the Java SE API consists of the java.*, javax.*, and org.* packages that are exported by the Java SE modules\r\n&gt; in the release; the JDK API consists of the com.* and jdk.* packages\r\n&gt; that are exported by the JDK modules in the release, plus the javax.*\r\n&gt; packages that are exported by standard, but non-Java SE, modules in\r\n&gt; the release.\r\n&gt; \r\n&gt; For previous releases, the Java SE API and the JDK API are as defined in that release.\r\n&gt;  \r\n&gt; The Maven configurations mentioned just lets you configure those\r\n&gt; values.","title":"Understanding java compiler source and target flags","body":"<p>It is not contradictory but maybe not well described.</p>\n<p>For <code>--source</code> to add more context of the description for Java 17 helps:</p>\n<blockquote>\n<p>--source release or -source release</p>\n<p>Compiles source code according to the rules of the Java programming &gt;language for the specified Java SE release. The supported values of release &gt;are the current Java SE release and a limited number of previous releases, &gt;detailed in the command-line help.</p>\n</blockquote>\n<p>It means that the compiler will use the source language rules or parser for the version selected, with limited support for some but not all previous versions of Java. This is limited to the language specification, not libraries. You can select a previous version to avoid using newer features, but you are still linking to the current library of the JDK so you could be using newer class and/or methods that will not be present if you actually execute with an older version of the JDK.</p>\n<p><code>--target</code> indicates that you want the generated bytecode to be compatible with the target version and not use bytecodes that are only available in a newer version. Again you still could be depending on APIs (classes/methods) available in a newer version so if you try to execute in the older version of the JDK it may fail.</p>\n<p><code>--release</code> was introduce in Java 9 to resolve the problem of API compatibility. In addition to set <code>--source</code> and <code>--target</code> to the same version it ensures that also the standard library used is compatible with the version selected. More information is available in this answer: <a href=\"https://stackoverflow.com/a/43103038/721855\">https://stackoverflow.com/a/43103038/721855</a></p>\n<p><code>--release</code> documentation for Java 17:</p>\n<blockquote>\n<p>--release release</p>\n<p>Compiles source code according to the rules of the Java programming language for the specified Java SE release, generating\nclass files which target that release. Source code is compiled against\nthe combined Java SE and JDK API for the specified release.</p>\n<p>The supported values of release are the current Java SE release and a limited number of previous releases, detailed in the\ncommand-line help.</p>\n<p>For the current release, the Java SE API consists of the java.<em>, javax.</em>, and org.* packages that are exported by the Java SE modules\nin the release; the JDK API consists of the com.* and jdk.* packages\nthat are exported by the JDK modules in the release, plus the javax.*\npackages that are exported by standard, but non-Java SE, modules in\nthe release.</p>\n<p>For previous releases, the Java SE API and the JDK API are as defined in that release.</p>\n<p>The Maven configurations mentioned just lets you configure those\nvalues.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701418885,"creation_date":1701329556,"answer_id":77576616,"question_id":77574719,"body_markdown":"This is about how the Java compiler is told to do its work. \r\n\r\nThe rules of how to interpret Java programs, and what the output files should look like has changed over the years.  \r\n\r\n* `-source X` means the compiler should follow the rules when parsing source code for Java version X.  An example could be how to interpret the `@Overrides` annotation which was invalid in Java 5, but very useful in Java 6.  Another that lambda expressions came in Java 8.\r\n* `-target Y` means that the output files (classfiles) should follow the rules for Java version Y.  This is usually important because old JVM&#39;s cannot understand classes compiled for newer JVM&#39;s as they contain new stuff that they don&#39;t know how to handle.\r\n* `-release X` is a newer flag combining the two.  This is most likely because the OpenJDK java compiler hasn&#39;t allowed different source and target arguments for quite some time.  See https://stackoverflow.com/q/8970920/53897 for how the world looked when I wanted to have Java 6 sources compiled for a Java 5 target (there were very good reasons for that).\r\n\r\nThis is what the Oracle documentation tries to tell you.\r\n\r\nThe tricky part here is that even if the Java 17 compiler knows it is compiling Java 8 code, the default behavior is that it can only resolve class references against what is present in the Java 17 JVM it is running in.  Hence, if you happen to use a class not present in Java 8 but in Java 17 the compiler has no way of knowing that and therefore can generate code that can run but not work on the Java 8 JVM.   \r\n\r\nThis is what the Maven documentation tries to tell you (as Maven essentially just passes these arguments on to javac in its default configuration).\r\n\r\nNotes:  \r\n\r\n* Unless you have very, very good reason not to, you should write for the latest relevant Long Term Support version.  A good choice is Java 17. \r\n* These days you should compile your sources for others with the JVM intended to run the program.  This is very easy using docker or build tools like Github Actions.\r\n","title":"Understanding java compiler source and target flags","body":"<p>This is about how the Java compiler is told to do its work.</p>\n<p>The rules of how to interpret Java programs, and what the output files should look like has changed over the years.</p>\n<ul>\n<li><code>-source X</code> means the compiler should follow the rules when parsing source code for Java version X.  An example could be how to interpret the <code>@Overrides</code> annotation which was invalid in Java 5, but very useful in Java 6.  Another that lambda expressions came in Java 8.</li>\n<li><code>-target Y</code> means that the output files (classfiles) should follow the rules for Java version Y.  This is usually important because old JVM's cannot understand classes compiled for newer JVM's as they contain new stuff that they don't know how to handle.</li>\n<li><code>-release X</code> is a newer flag combining the two.  This is most likely because the OpenJDK java compiler hasn't allowed different source and target arguments for quite some time.  See <a href=\"https://stackoverflow.com/q/8970920/53897\">Maven: javac: source release 1.6 requires target release 1.6</a> for how the world looked when I wanted to have Java 6 sources compiled for a Java 5 target (there were very good reasons for that).</li>\n</ul>\n<p>This is what the Oracle documentation tries to tell you.</p>\n<p>The tricky part here is that even if the Java 17 compiler knows it is compiling Java 8 code, the default behavior is that it can only resolve class references against what is present in the Java 17 JVM it is running in.  Hence, if you happen to use a class not present in Java 8 but in Java 17 the compiler has no way of knowing that and therefore can generate code that can run but not work on the Java 8 JVM.</p>\n<p>This is what the Maven documentation tries to tell you (as Maven essentially just passes these arguments on to javac in its default configuration).</p>\n<p>Notes:</p>\n<ul>\n<li>Unless you have very, very good reason not to, you should write for the latest relevant Long Term Support version.  A good choice is Java 17.</li>\n<li>These days you should compile your sources for others with the JVM intended to run the program.  This is very easy using docker or build tools like Github Actions.</li>\n</ul>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701418885,"creation_date":1701295270,"question_id":77574719,"body_markdown":"The `javac` [documentation](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html) says:\r\n\r\n&gt;--source release or -source release\r\nCompiles source code according to the rules of the Java programming language for the specified Java SE release.\r\n\r\n&gt;--target release or -target release\r\nGenerates class files suitable for the specified Java SE release. \r\n\r\nbut Maven [documentation](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html) says:\r\n\r\n&gt;setting the source option does not guarantee that your code actually compiles on a JDK with the specified version.\r\n\r\n&gt;Merely setting the target option does not guarantee that your code actually runs on a JRE with the specified version.\r\n\r\nI don&#39;t understand this and find it conflicting. Which of the above is correct? Or, can anyone explain with an example how both are correct?\r\n\r\nOn another [page](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html) Maven seems to advocate using the `release` flag instead and says:\r\n\r\n&gt;This means that, unlike the -source and -target options, the compiler will detect and generate an error when using APIs that don&#39;t exist in previous releases of Java SE","title":"Understanding java compiler source and target flags","body":"<p>The <code>javac</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>--source release or -source release\nCompiles source code according to the rules of the Java programming language for the specified Java SE release.</p>\n</blockquote>\n<blockquote>\n<p>--target release or -target release\nGenerates class files suitable for the specified Java SE release.</p>\n</blockquote>\n<p>but Maven <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>setting the source option does not guarantee that your code actually compiles on a JDK with the specified version.</p>\n</blockquote>\n<blockquote>\n<p>Merely setting the target option does not guarantee that your code actually runs on a JRE with the specified version.</p>\n</blockquote>\n<p>I don't understand this and find it conflicting. Which of the above is correct? Or, can anyone explain with an example how both are correct?</p>\n<p>On another <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html\" rel=\"nofollow noreferrer\">page</a> Maven seems to advocate using the <code>release</code> flag instead and says:</p>\n<blockquote>\n<p>This means that, unlike the -source and -target options, the compiler will detect and generate an error when using APIs that don't exist in previous releases of Java SE</p>\n</blockquote>\n"},{"tags":["java","java-21","virtual-threads"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700129388,"post_id":77492181,"comment_id":136617687,"body_markdown":"Maybe when you’re using `synchronized` a lot.","body":"Maybe when you’re using <code>synchronized</code> a lot."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700138557,"post_id":77492181,"comment_id":136619301,"body_markdown":"@Holger `synchronized` alone isn&#39;t that much of a problem - but _blocking operations inside `synchronized`_ would cause pinning - However, I don&#39;t think the OP is asking about pinning but things like file I/O that temporarily increases the number of platform threads in the pool.","body":"@Holger <code>synchronized</code> alone isn&#39;t that much of a problem - but <i>blocking operations inside <code>synchronized</code></i> would cause pinning - However, I don&#39;t think the OP is asking about pinning but things like file I/O that temporarily increases the number of platform threads in the pool."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700213491,"post_id":77492181,"comment_id":136629191,"body_markdown":"@dan1st the thread is pinned the entire time it owns the object’s monitor (the entire `synchronized` block when not using `wait`) though you’re right that this is not a problem when the thread does not use blocking operations. But keep in mind that trying to enter a `synchronized` block also is a blocking operation when another thread own the object’s monitor. So nested `synchronized` blocks (on different objects) alone are sufficient to create an actual problem.","body":"@dan1st the thread is pinned the entire time it owns the object’s monitor (the entire <code>synchronized</code> block when not using <code>wait</code>) though you’re right that this is not a problem when the thread does not use blocking operations. But keep in mind that trying to enter a <code>synchronized</code> block also is a blocking operation when another thread own the object’s monitor. So nested <code>synchronized</code> blocks (on different objects) alone are sufficient to create an actual problem."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700231026,"post_id":77492181,"comment_id":136632316,"body_markdown":"Pinning from `synchronized` blocks doesn&#39;t temporarily increase the number of carrier threads IIRC. As I said, I think the OP is asking about things like `FileInputStream` which is not yet implemented asynchronously. Also, if you have high-contention nested `synchronized` blocks (i.e. the inner one is contended) or `synchronized` blocks that take a long time without blocking, you might be doing something wrong.","body":"Pinning from <code>synchronized</code> blocks doesn&#39;t temporarily increase the number of carrier threads IIRC. As I said, I think the OP is asking about things like <code>FileInputStream</code> which is not yet implemented asynchronously. Also, if you have high-contention nested <code>synchronized</code> blocks (i.e. the inner one is contended) or <code>synchronized</code> blocks that take a long time without blocking, you might be doing something wrong."},{"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"score":0,"creation_date":1701244790,"post_id":77492181,"comment_id":136750246,"body_markdown":"@dan1st&#160;丹1st You&#39;are right that I&#39;m not asking about pinning. Pinning will not cause carrier threads expansion.\nI want to know what operation will cause carrier threads expansion. Could you give me some  code to reach this? Thank you very much!","body":"@dan1st 丹1st You&#39;are right that I&#39;m not asking about pinning. Pinning will not cause carrier threads expansion. I want to know what operation will cause carrier threads expansion. Could you give me some  code to reach this? Thank you very much!"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701244894,"post_id":77492181,"comment_id":136750263,"body_markdown":"Any code blocking on `FileInputStream#read`/`FileOutputStream#write` (you might need `FileOutputStream#flush` after writing) in virtual threads should work - but I don&#39;t know about other ways/I don&#39;t have a full list.","body":"Any code blocking on <code>FileInputStream#read</code>/<code>FileOutputStream#write</code> (you might need <code>FileOutputStream#flush</code> after writing) in virtual threads should work - but I don&#39;t know about other ways/I don&#39;t have a full list."},{"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"score":0,"creation_date":1701417676,"post_id":77492181,"comment_id":136775467,"body_markdown":"@dan1st Sorry, how can I print the number of  carrier threads?","body":"@dan1st Sorry, how can I print the number of  carrier threads?"},{"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"score":0,"creation_date":1701418598,"post_id":77492181,"comment_id":136775598,"body_markdown":"@dan1st You&#39;re right. I have sawn the carrier threads expansion in `FileInputStream#read`  by `jstack pid`","body":"@dan1st You&#39;re right. I have sawn the carrier threads expansion in <code>FileInputStream#read</code>  by <code>jstack pid</code>"}],"answers":[{"tags":[],"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701418749,"creation_date":1701418749,"answer_id":77583843,"question_id":77492181,"body_markdown":"```\r\npublic class CarrierThreadExpandTest {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\r\n        File file = new File(&quot;/Users/info.log&quot;);\r\n        for (int i = 0; i &lt; 32; i++) {\r\n            executorService.execute(() -&gt; {\r\n                while (true) {\r\n                    try (FileInputStream fis = new FileInputStream(file)) {\r\n                        int content;\r\n                        while ((content = fis.read()) != -1) {\r\n                            System.out.print((char) content);\r\n                        }\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n                }\r\n            });\r\n        }\r\n        Thread.sleep(1000 * 60 * 60);\r\n    }\r\n}\r\n\r\n```\r\n```\r\n$ jps\r\n$ jstack pid\r\n```\r\nlook at the &quot;ForkJoinPool-1-worker-xx&quot; thread.\r\n","title":"Under what circumstances will virtual threads expand the number of underlying carrier threads?","body":"<pre><code>public class CarrierThreadExpandTest {\n\n    public static void main(String[] args) throws InterruptedException {\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\n        File file = new File(&quot;/Users/info.log&quot;);\n        for (int i = 0; i &lt; 32; i++) {\n            executorService.execute(() -&gt; {\n                while (true) {\n                    try (FileInputStream fis = new FileInputStream(file)) {\n                        int content;\n                        while ((content = fis.read()) != -1) {\n                            System.out.print((char) content);\n                        }\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n\n                }\n            });\n        }\n        Thread.sleep(1000 * 60 * 60);\n    }\n}\n\n</code></pre>\n<pre><code>$ jps\n$ jstack pid\n</code></pre>\n<p>look at the &quot;ForkJoinPool-1-worker-xx&quot; thread.</p>\n"}],"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701418749,"creation_date":1700106248,"question_id":77492181,"body_markdown":"In the jep444, I see &quot;The implementations of these blocking operations compensate for the capture of the OS thread by temporarily expanding the parallelism of the scheduler&quot;.\r\nUnder what circumstances will virtual threads expand the number of underlying carrier threads?\r\n\r\n\r\nCan you give me some code to reach this?","title":"Under what circumstances will virtual threads expand the number of underlying carrier threads?","body":"<p>In the jep444, I see &quot;The implementations of these blocking operations compensate for the capture of the OS thread by temporarily expanding the parallelism of the scheduler&quot;.\nUnder what circumstances will virtual threads expand the number of underlying carrier threads?</p>\n<p>Can you give me some code to reach this?</p>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":6976446,"reputation":9587,"user_id":5351055,"display_name":"Manoj Perumarath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566450677,"creation_date":1566381961,"answer_id":57589190,"question_id":57588781,"body_markdown":"Try this\r\n\r\n    task codeCoverageReport(type: JacocoReport) {\r\n    def execData = subprojects.collect { files(&quot;${it.buildDir}/jacoco/test.exec&quot;) }\r\n    executionData execData\r\n\r\n    // Add all relevant sourcesets from the subprojects\r\n    sourceDirectories.from = subprojects.android.sourceSets.main.allSource.srcDirs\r\n    classDirectories.from = subprojects.android.sourceSets.main.output\r\n\r\n    reports {\r\n        xml.enabled = false\r\n        html.enabled = false\r\n        html.destination file(&quot;${buildDir}/reports/jacoco&quot;)\r\n        csv.enabled = false\r\n      }\r\n    }\r\nFor Java projects the correct path is\r\n\r\n    subprojects.sourceSets.main\r\nsince we&#39;re on Android Projects the path changes to\r\n\r\n    subprojects.android.sourceSets.main\r\nalso\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;jacoco-android&#39;","title":"Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet","body":"<p>Try this</p>\n\n<pre><code>task codeCoverageReport(type: JacocoReport) {\ndef execData = subprojects.collect { files(\"${it.buildDir}/jacoco/test.exec\") }\nexecutionData execData\n\n// Add all relevant sourcesets from the subprojects\nsourceDirectories.from = subprojects.android.sourceSets.main.allSource.srcDirs\nclassDirectories.from = subprojects.android.sourceSets.main.output\n\nreports {\n    xml.enabled = false\n    html.enabled = false\n    html.destination file(\"${buildDir}/reports/jacoco\")\n    csv.enabled = false\n  }\n}\n</code></pre>\n\n<p>For Java projects the correct path is</p>\n\n<pre><code>subprojects.sourceSets.main\n</code></pre>\n\n<p>since we're on Android Projects the path changes to</p>\n\n<pre><code>subprojects.android.sourceSets.main\n</code></pre>\n\n<p>also</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'jacoco-android'\n</code></pre>\n"}],"owner":{"account_id":199087,"reputation":1284,"user_id":444158,"accept_rate":53,"display_name":"Prabhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9160,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1701418095,"creation_date":1566380587,"question_id":57588781,"body_markdown":"After I updated my gradle tools from 3.0.1 to 3.2.0 my JacocoReport task was not compiling.\r\nAndroid Studio : \r\n\r\n    Android Studio 3.3.1\r\n    Build #AI-182.5107.16.33.5264788, built on January 29, 2019\r\n    JRE: 1.8.0_152-release-1248-b01 amd64\r\n    JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n    Windows 10 10.0\r\n\r\n\r\nGradle Wrapper : `distributionUrl=https://services.gradle.org/distributions/gradle-4.6-all.zip`\r\n\r\nInitially the task was \r\n\r\n    task codeCoverageReport(type: JacocoReport) {\r\n        def execData = subprojects.collect { files(&quot;${it.buildDir}/jacoco/test.exec&quot;) }\r\n        executionData execData\r\n    \r\n        // Add all relevant sourcesets from the subprojects\r\n        classDirectories = files(subprojects.sourceSets.main.output)\r\n        sourceDirectories = files(subprojects.sourceSets.main.java.srcDirs)\r\n    \r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = false\r\n            html.destination file(&quot;${buildDir}/reports/jacoco&quot;)\r\n            csv.enabled = false\r\n        }\r\n    }\r\n\r\nI got the error for the above as \r\n\r\n    ERROR: Could not get unknown property &#39;main&#39; for SourceSet container of type org.gradle.api.internal.tasks.DefaultSourceSetContainer.\r\n\r\nThen based on some google suggestion I modified as below lines\r\n\r\n    classDirectories = files(subprojects.android.sourceSets.main.output)\r\n    sourceDirectories = files(subprojects.android.sourceSets.main.java.srcDirs)\r\n\r\nand now I am facing \r\n\r\n    Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\r\n\r\n\r\n\r\nthe above task will be called from the top level gradle file and the task will be invoked as below line from that file.\r\n\r\n    afterEvaluate {project -&gt;\r\n        project.tasks.test.finalizedBy(jacocoTestReport)\r\n        project.tasks.check.finalizedBy(jdependReport)\r\n        project.tasks.connectedCheck.finalizedBy(jacocoTestReport)\r\n    }\r\n\r\nthe below is the stacktrace\r\n\r\n    Configure project :common \r\n    Project evaluation failed including an error in afterEvaluate {}.\r\n    groovy.lang.MissingPropertyException: Could not get unknown property &#39;test&#39; for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer.\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:83)\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:61)\r\n            at org.gradle.api.internal.tasks.DefaultTaskContainer_Decorated.getProperty(Unknown Source)\r\n            at org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(PogoGetPropertySite.java:50)\r\n            at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGetProperty(AbstractCallSite.java:296)\r\n            at quality_938z6id0n9x7f1jhtgj974y8d$_run_closure12.doCall(E:..\\config\\quality.gradle:197)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n            at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n            at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294)\r\n            at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n            at groovy.lang.Closure.call(Closure.java:414)\r\n            at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:40)\r\n            at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:25)\r\n            at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n            at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n            at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n            at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\r\n            at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)\r\n            at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)\r\n            at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n            at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n            at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n            at com.sun.proxy.$Proxy25.afterEvaluate(Unknown Source)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:76)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:70)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\r\n            at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\r\n            at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\r\n            at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n            at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\r\n            at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\r\n            at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n            at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n            at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\r\n            at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\r\n            at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n            at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\r\n            at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\r\n            at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n            at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n            at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\r\n            at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n            at org.gradle.util.Swapper.swap(Swapper.java:38)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n            at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    \r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;E:..\\common\\build.gradle&#39; line: 144\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating project &#39;:common&#39;.\r\n    &gt; Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:common&#39;.\r\n            at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:92)\r\n            at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl$2.run(DefaultScriptPluginFactory.java:204)\r\n            at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)\r\n            at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:209)\r\n            at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:61)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)\r\n            at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)\r\n            at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n            at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\r\n            at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\r\n            at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\r\n            at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n            at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\r\n            at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\r\n            at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n            at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n            at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\r\n            at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\r\n            at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n            at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\r\n            at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\r\n            at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n            at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n            at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\r\n            at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n            at org.gradle.util.Swapper.swap(Swapper.java:38)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n            at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    Caused by: groovy.lang.MissingPropertyException: Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:83)\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:61)\r\n            at com.android.build.gradle.internal.api.DefaultAndroidSourceSet_Decorated.getProperty(Unknown Source)\r\n            at build_79h3ozytg2wcts2y6ussq1j61$_run_closure6.doCall(E:..\\common\\build.gradle:144)\r\n            at org.gradle.api.internal.ClosureBackedAction.execute(ClosureBackedAction.java:71)\r\n            at org.gradle.util.ConfigureUtil.configureTarget(ConfigureUtil.java:160)\r\n            at org.gradle.util.ConfigureUtil.configureSelf(ConfigureUtil.java:136)\r\n            at org.gradle.api.internal.AbstractTask.configure(AbstractTask.java:642)\r\n            at org.gradle.api.internal.project.DefaultProject.task(DefaultProject.java:1209)\r\n            at org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:479)\r\n            at org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:191)\r\n            at org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\r\n            at org.gradle.internal.metaobject.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:30)\r\n            at org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:134)\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:160)\r\n            at org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:83)\r\n            at build_79h3ozytg2wcts2y6ussq1j61.run(E:...\\common\\build.gradle:139)\r\n            at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:90)\r\n            ... 93 more\r\n\r\n","title":"Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet","body":"<p>After I updated my gradle tools from 3.0.1 to 3.2.0 my JacocoReport task was not compiling.\nAndroid Studio : </p>\n\n<pre><code>Android Studio 3.3.1\nBuild #AI-182.5107.16.33.5264788, built on January 29, 2019\nJRE: 1.8.0_152-release-1248-b01 amd64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nWindows 10 10.0\n</code></pre>\n\n<p>Gradle Wrapper : <code>distributionUrl=https://services.gradle.org/distributions/gradle-4.6-all.zip</code></p>\n\n<p>Initially the task was </p>\n\n<pre><code>task codeCoverageReport(type: JacocoReport) {\n    def execData = subprojects.collect { files(\"${it.buildDir}/jacoco/test.exec\") }\n    executionData execData\n\n    // Add all relevant sourcesets from the subprojects\n    classDirectories = files(subprojects.sourceSets.main.output)\n    sourceDirectories = files(subprojects.sourceSets.main.java.srcDirs)\n\n    reports {\n        xml.enabled = false\n        html.enabled = false\n        html.destination file(\"${buildDir}/reports/jacoco\")\n        csv.enabled = false\n    }\n}\n</code></pre>\n\n<p>I got the error for the above as </p>\n\n<pre><code>ERROR: Could not get unknown property 'main' for SourceSet container of type org.gradle.api.internal.tasks.DefaultSourceSetContainer.\n</code></pre>\n\n<p>Then based on some google suggestion I modified as below lines</p>\n\n<pre><code>classDirectories = files(subprojects.android.sourceSets.main.output)\nsourceDirectories = files(subprojects.android.sourceSets.main.java.srcDirs)\n</code></pre>\n\n<p>and now I am facing </p>\n\n<pre><code>Could not get unknown property 'output' for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\n</code></pre>\n\n<p>the above task will be called from the top level gradle file and the task will be invoked as below line from that file.</p>\n\n<pre><code>afterEvaluate {project -&gt;\n    project.tasks.test.finalizedBy(jacocoTestReport)\n    project.tasks.check.finalizedBy(jdependReport)\n    project.tasks.connectedCheck.finalizedBy(jacocoTestReport)\n}\n</code></pre>\n\n<p>the below is the stacktrace</p>\n\n<pre><code>Configure project :common \nProject evaluation failed including an error in afterEvaluate {}.\ngroovy.lang.MissingPropertyException: Could not get unknown property 'test' for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer.\n        at org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:83)\n        at org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:61)\n        at org.gradle.api.internal.tasks.DefaultTaskContainer_Decorated.getProperty(Unknown Source)\n        at org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(PogoGetPropertySite.java:50)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGetProperty(AbstractCallSite.java:296)\n        at quality_938z6id0n9x7f1jhtgj974y8d$_run_closure12.doCall(E:..\\config\\quality.gradle:197)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294)\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n        at groovy.lang.Closure.call(Closure.java:414)\n        at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:40)\n        at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:25)\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n        at com.sun.proxy.$Proxy25.afterEvaluate(Unknown Source)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:76)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:70)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)\n        at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\n        at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\n        at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\n        at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\n        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n        at java.lang.Thread.run(Thread.java:748)\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'E:..\\common\\build.gradle' line: 144\n\n* What went wrong:\nA problem occurred evaluating project ':common'.\n&gt; Could not get unknown property 'output' for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating project ':common'.\n        at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:92)\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl$2.run(DefaultScriptPluginFactory.java:204)\n        at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:209)\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:61)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n        at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)\n        at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\n        at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\n        at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\n        at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\n        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: groovy.lang.MissingPropertyException: Could not get unknown property 'output' for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\n        at org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:83)\n        at org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:61)\n        at com.android.build.gradle.internal.api.DefaultAndroidSourceSet_Decorated.getProperty(Unknown Source)\n        at build_79h3ozytg2wcts2y6ussq1j61$_run_closure6.doCall(E:..\\common\\build.gradle:144)\n        at org.gradle.api.internal.ClosureBackedAction.execute(ClosureBackedAction.java:71)\n        at org.gradle.util.ConfigureUtil.configureTarget(ConfigureUtil.java:160)\n        at org.gradle.util.ConfigureUtil.configureSelf(ConfigureUtil.java:136)\n        at org.gradle.api.internal.AbstractTask.configure(AbstractTask.java:642)\n        at org.gradle.api.internal.project.DefaultProject.task(DefaultProject.java:1209)\n        at org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:479)\n        at org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:191)\n        at org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\n        at org.gradle.internal.metaobject.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:30)\n        at org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:134)\n        at org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:160)\n        at org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:83)\n        at build_79h3ozytg2wcts2y6ussq1j61.run(E:...\\common\\build.gradle:139)\n        at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:90)\n        ... 93 more\n</code></pre>\n"},{"tags":["java","windows","screen-capture"],"comments":[{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1572190143,"post_id":58574623,"comment_id":103475985,"body_markdown":"The reason the user locked the screen is for the screen to be locked. Therefore you are entering into illegal activities here. It is reportable to your campus chancellor!!.","body":"The reason the user locked the screen is for the screen to be locked. Therefore you are entering into illegal activities here. It is reportable to your campus chancellor!!."},{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":0,"creation_date":1572190884,"post_id":58574623,"comment_id":103476186,"body_markdown":"Sorry to say but you went way off topic here....nobody is doing anything illegal. This is a purely programming issue. How to obtain screenshots during lockscreen..who said anything about unauthorized access? What is this about campus? Please refrain from expressing off topic remarks here.","body":"Sorry to say but you went way off topic here....nobody is doing anything illegal. This is a purely programming issue. How to obtain screenshots during lockscreen..who said anything about unauthorized access? What is this about campus? Please refrain from expressing off topic remarks here."},{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":0,"creation_date":1572190993,"post_id":58574623,"comment_id":103476226,"body_markdown":"@gpasch please note that the user himself/herself has launched the application and let it run during lockscreen.","body":"@gpasch please note that the user himself/herself has launched the application and let it run during lockscreen."}],"answers":[{"tags":[],"owner":{"account_id":6999927,"reputation":226,"user_id":5366271,"display_name":"Itamar Vieira Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701399332,"creation_date":1701399332,"answer_id":77582766,"question_id":58574623,"body_markdown":"I know this is an old question, but I had the same problem because a testing framework that runs on a Jenkins node couldn&#39;t capture screenshots when an exception occurred. The accepted answer here solved the problem: https://stackoverflow.com/questions/53842821/is-it-possible-to-programmatically-take-a-screenshot-while-the-computer-is-locke/53845814#53845814","title":"Screen Capture during lockscreen using java on windows","body":"<p>I know this is an old question, but I had the same problem because a testing framework that runs on a Jenkins node couldn't capture screenshots when an exception occurred. The accepted answer here solved the problem: <a href=\"https://stackoverflow.com/questions/53842821/is-it-possible-to-programmatically-take-a-screenshot-while-the-computer-is-locke/53845814#53845814\">Is it possible to programmatically take a screenshot while the computer is locked?</a></p>\n"},{"tags":[],"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701416810,"creation_date":1701416003,"answer_id":77583642,"question_id":58574623,"body_markdown":"Portably capturing the underlying application during lockscreen is impossible to do in Java, and perhaps in any screen capturing solution. [Docs][1] for `Robot.createScreenCapture` say:   \r\n\r\n&gt;&quot;[It] Creates an image containing pixels read from the screen. ...&quot;\r\n\r\nimplying that `Robot` is only capable of capturing *whatever* is being rendered to the screen and has no notion/understanding/programmatic ability to detect its contents, say individual applications, notifications, widgets etc. When what is being rendered is the lockscreen, that is what gets captured.\r\n\r\nThis also implies that when nothing is being sent to it (say the monitor/screen was turned off by the OS&#39;s energy policy and so wasn&#39;t necessarily being rendered to), nothing (but perhaps a black screen) gets captured.\r\n\r\nIn order to achieve what you are attempting,you need application specific hooks either into the app (say via some API it exposes - highly unlikely) or an OS specific call [(e.g.)][2] or process probing. Former depends on the app and the latter break portability.\r\n\r\nRemark on general impossibility: Video conferencing/streaming/screen recording/remote access apps routinely share app specific screens across users. However,  an app&#39;s (&#39;the recorder&#39;) app-agnostic awareness of and access to other applications (&#39;the recorded&#39;) is necessarily mediated by the OS, thus breaking portability. Not to mention it stops during lockscreen.\r\n\r\nThis would be equally true of audio capture or any other data stream. As a maxim, then:\r\n\r\n&gt; Cross app-data capture is either exposed by target app or is OS mediated.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/java/awt/Robot.html#createScreenCapture(java.awt.Rectangle)\r\n  [2]: https://stackoverflow.com/a/29612211/10115137","title":"Screen Capture during lockscreen using java on windows","body":"<p>Portably capturing the underlying application during lockscreen is impossible to do in Java, and perhaps in any screen capturing solution. <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/java/awt/Robot.html#createScreenCapture(java.awt.Rectangle)\" rel=\"nofollow noreferrer\">Docs</a> for <code>Robot.createScreenCapture</code> say:</p>\n<blockquote>\n<p>&quot;[It] Creates an image containing pixels read from the screen. ...&quot;</p>\n</blockquote>\n<p>implying that <code>Robot</code> is only capable of capturing <em>whatever</em> is being rendered to the screen and has no notion/understanding/programmatic ability to detect its contents, say individual applications, notifications, widgets etc. When what is being rendered is the lockscreen, that is what gets captured.</p>\n<p>This also implies that when nothing is being sent to it (say the monitor/screen was turned off by the OS's energy policy and so wasn't necessarily being rendered to), nothing (but perhaps a black screen) gets captured.</p>\n<p>In order to achieve what you are attempting,you need application specific hooks either into the app (say via some API it exposes - highly unlikely) or an OS specific call <a href=\"https://stackoverflow.com/a/29612211/10115137\">(e.g.)</a> or process probing. Former depends on the app and the latter break portability.</p>\n<p>Remark on general impossibility: Video conferencing/streaming/screen recording/remote access apps routinely share app specific screens across users. However,  an app's ('the recorder') app-agnostic awareness of and access to other applications ('the recorded') is necessarily mediated by the OS, thus breaking portability. Not to mention it stops during lockscreen.</p>\n<p>This would be equally true of audio capture or any other data stream. As a maxim, then:</p>\n<blockquote>\n<p>Cross app-data capture is either exposed by target app or is OS mediated.</p>\n</blockquote>\n"}],"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77583642,"answer_count":2,"score":1,"last_activity_date":1701416810,"creation_date":1572123182,"question_id":58574623,"body_markdown":"The aim is to do screen capture regardless of screen lock as long as the java application is running. I have come across several similar questions on the exchange but all of them relate to using Selenium or some Windows specific code.\r\n\r\nThe code (see below) uses `java.awt.Robot` to do looped screen capture. The file is saved as a png.\r\n\r\nThe problem is **when a user locks the computer, the screenshot taken is of the lockscreen instead of what the underlying screen would look like if the pc was unlocked.**\r\n\r\nHow to solve this?\r\n\r\n````\r\nimport java.awt.DisplayMode;\r\nimport java.awt.GraphicsDevice;\r\nimport java.awt.GraphicsEnvironment;\r\nimport java.awt.Rectangle;\r\nimport java.awt.Robot;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class Capture{\r\n    public static void main(String[] args) throws Exception {\r\n        GraphicsDevice screen = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\r\n        DisplayMode dm = screen.getDisplayMode();\r\n        int[] size = {dm.getWidth(), dm.getHeight()};\r\n        Rectangle rect = new Rectangle(size[0], size[1]);\r\n        String path = &quot;D:/img.png&quot;;\r\n        Robot rob = new Robot(screen);\r\n        File outfile = new File(path);\r\n\r\n        while (true) {\r\n            BufferedImage img = rob.createScreenCapture(rect);\r\n            ImageIO.write(img, &quot;png&quot;, outfile);\r\n            Thread.sleep(1000);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n````\r\n**env**  \r\nWindows 10  \r\nJDK 12\r\n","title":"Screen Capture during lockscreen using java on windows","body":"<p>The aim is to do screen capture regardless of screen lock as long as the java application is running. I have come across several similar questions on the exchange but all of them relate to using Selenium or some Windows specific code.</p>\n\n<p>The code (see below) uses <code>java.awt.Robot</code> to do looped screen capture. The file is saved as a png.</p>\n\n<p>The problem is <strong>when a user locks the computer, the screenshot taken is of the lockscreen instead of what the underlying screen would look like if the pc was unlocked.</strong></p>\n\n<p>How to solve this?</p>\n\n<pre><code>import java.awt.DisplayMode;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport javax.imageio.ImageIO;\n\npublic class Capture{\n    public static void main(String[] args) throws Exception {\n        GraphicsDevice screen = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\n        DisplayMode dm = screen.getDisplayMode();\n        int[] size = {dm.getWidth(), dm.getHeight()};\n        Rectangle rect = new Rectangle(size[0], size[1]);\n        String path = \"D:/img.png\";\n        Robot rob = new Robot(screen);\n        File outfile = new File(path);\n\n        while (true) {\n            BufferedImage img = rob.createScreenCapture(rect);\n            ImageIO.write(img, \"png\", outfile);\n            Thread.sleep(1000);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><strong>env</strong><br>\nWindows 10<br>\nJDK 12</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1701414211,"post_id":77583453,"comment_id":136775004,"body_markdown":"do you know what your second loop is doing? if no, why did you add the second for loop?","body":"do you know what your second loop is doing? if no, why did you add the second for loop?"}],"answers":[{"tags":[],"owner":{"account_id":5592431,"reputation":11,"user_id":4431172,"display_name":"Photon Cat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701413822,"creation_date":1701413822,"answer_id":77583473,"question_id":77583453,"body_markdown":"Just get rid of your second loop completely.\r\n\r\n```\r\npublic static void main(String []args){\r\n    String a = &quot;I am an engineer&quot;;\r\n    String[] ar = a.split(&quot; &quot;);\r\n    for(int i=0;i&lt;=ar.length-1;i++){\r\n        if(ar[i].length()&gt;=2){\r\n            System.out.println(ar[i].charAt(1));\r\n        }else{\r\n            System.out.println(&quot;@&quot;);\r\n        }\r\n    }\r\n }\r\n```","title":"I want only the second character of every word if the length of the word is less than 2 it should print @","body":"<p>Just get rid of your second loop completely.</p>\n<pre><code>public static void main(String []args){\n    String a = &quot;I am an engineer&quot;;\n    String[] ar = a.split(&quot; &quot;);\n    for(int i=0;i&lt;=ar.length-1;i++){\n        if(ar[i].length()&gt;=2){\n            System.out.println(ar[i].charAt(1));\n        }else{\n            System.out.println(&quot;@&quot;);\n        }\n    }\n }\n</code></pre>\n"}],"owner":{"account_id":30037774,"reputation":1,"user_id":23019309,"display_name":"Hitheesh Sh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701416688,"creation_date":1701413594,"question_id":77583453,"body_markdown":"I want only the second character of every word, and if the length of the word is less than 2 it should print @.\r\n\r\n```java\r\npublic class HelloWorld{\r\n\r\n    public static void main(String []args){\r\n        String a = &quot;I am an engineer&quot;;\r\n        String[] ar = a.split(&quot; &quot;);\r\n        for (int i=0;i&lt;=ar.length-1;i++){\r\n            for (int j=0;j&lt;=ar[i].length()-1;j++){\r\n                if (ar[i].length()&gt;=2){\r\n                    System.out.println(ar[i].charAt(1));\r\n                } else {\r\n                    System.out.println(&quot;@&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI did this but it&#39;s printing this:\r\n```\r\n@ m m n n n n n n n n n n\r\n```\r\n\r\nI want only one character for one word. The output should be `@ m n n`","title":"I want only the second character of every word if the length of the word is less than 2 it should print @","body":"<p>I want only the second character of every word, and if the length of the word is less than 2 it should print @.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorld{\n\n    public static void main(String []args){\n        String a = &quot;I am an engineer&quot;;\n        String[] ar = a.split(&quot; &quot;);\n        for (int i=0;i&lt;=ar.length-1;i++){\n            for (int j=0;j&lt;=ar[i].length()-1;j++){\n                if (ar[i].length()&gt;=2){\n                    System.out.println(ar[i].charAt(1));\n                } else {\n                    System.out.println(&quot;@&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I did this but it's printing this:</p>\n<pre><code>@ m m n n n n n n n n n n\n</code></pre>\n<p>I want only one character for one word. The output should be <code>@ m n n</code></p>\n"},{"tags":["java","log4j2","open-telemetry"],"comments":[{"owner":{"account_id":5072637,"reputation":345,"user_id":4070983,"accept_rate":50,"display_name":"Dmitrii Apanasevich"},"score":0,"creation_date":1701770645,"post_id":77583556,"comment_id":136813976,"body_markdown":"The cause of attribute absence is really that `Span` is ended. Everyting is correct with a solution via custom appender. So, the only question is how to enable SDK debug logging?","body":"The cause of attribute absence is really that <code>Span</code> is ended. Everyting is correct with a solution via custom appender. So, the only question is how to enable SDK debug logging?"}],"owner":{"account_id":5072637,"reputation":345,"user_id":4070983,"accept_rate":50,"display_name":"Dmitrii Apanasevich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701416662,"creation_date":1701414871,"question_id":77583556,"body_markdown":"All problems with business logic in code are written to log with `WARN` or `ERROR` level. The issue is to mark the span if something was went wrog during the code execution. Thus the issue could be stated as *set span attribute `logging.level` to related logging level value* so traces could be processed later in a collector to decide whether to store them or not. I started with the simple `Appender`:\r\n\r\n```\r\npublic final class OtelAttributeAppender extends AbstractAppender {\r\n  public static final AttributeKey&lt;String&gt; ATTRIBUTE_KEY = AttributeKey.stringKey(&quot;logging.level&quot;);\r\n\r\n  public static void install() {\r\n    final var context = (LoggerContext) LogManager.getContext(false);\r\n    final var logger = (Logger) LogManager.getRootLogger();\r\n    final var appender = new OtelAttributeAppender();\r\n    context.getConfiguration().addLoggerAppender(logger, appender);\r\n    appender.start();\r\n  }\r\n\r\n  private OtelAttributeAppender() {\r\n    super(\r\n        OtelAttributeAppender.class.getSimpleName(),\r\n        null,\r\n        PatternLayout.createDefaultLayout(),\r\n        true,\r\n        Property.EMPTY_ARRAY\r\n    );\r\n  }\r\n\r\n  @Override\r\n  public void append(LogEvent event) {\r\n    final var span = Span.current();\r\n    final var level = event.getLevel();\r\n    if (span.getSpanContext().isValid() &amp;&amp; level.isMoreSpecificThan(Level.WARN)) {\r\n      span.setAttribute(ATTRIBUTE_KEY, level.name());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe code above is called but the problem is that `setAttribute` method does not actually set the attribute in a related span. Why? Maybe `Span`s are already ended at the moment of `setAttribute` calls? I&#39;ve found an [issue][1] but cannot find a way to enable Otel SDK logging. I run my app from IDEA with parameter `-Dotel.javaagent.logging=application`. Tried to set envvar OTEL_LOG_LEVEL to `OTEL_LOG_LEVEL=FINE` or `OTEL_LOG_LEVEL=DEBUG` but with no luck. How to check if a span is ended? \r\n\r\n\r\nMaybe there are ideas about setting the attribute using another solution?\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java/issues/774","title":"Set span attribute at the moment of logging data with log4j2","body":"<p>All problems with business logic in code are written to log with <code>WARN</code> or <code>ERROR</code> level. The issue is to mark the span if something was went wrog during the code execution. Thus the issue could be stated as <em>set span attribute <code>logging.level</code> to related logging level value</em> so traces could be processed later in a collector to decide whether to store them or not. I started with the simple <code>Appender</code>:</p>\n<pre><code>public final class OtelAttributeAppender extends AbstractAppender {\n  public static final AttributeKey&lt;String&gt; ATTRIBUTE_KEY = AttributeKey.stringKey(&quot;logging.level&quot;);\n\n  public static void install() {\n    final var context = (LoggerContext) LogManager.getContext(false);\n    final var logger = (Logger) LogManager.getRootLogger();\n    final var appender = new OtelAttributeAppender();\n    context.getConfiguration().addLoggerAppender(logger, appender);\n    appender.start();\n  }\n\n  private OtelAttributeAppender() {\n    super(\n        OtelAttributeAppender.class.getSimpleName(),\n        null,\n        PatternLayout.createDefaultLayout(),\n        true,\n        Property.EMPTY_ARRAY\n    );\n  }\n\n  @Override\n  public void append(LogEvent event) {\n    final var span = Span.current();\n    final var level = event.getLevel();\n    if (span.getSpanContext().isValid() &amp;&amp; level.isMoreSpecificThan(Level.WARN)) {\n      span.setAttribute(ATTRIBUTE_KEY, level.name());\n    }\n  }\n}\n</code></pre>\n<p>The code above is called but the problem is that <code>setAttribute</code> method does not actually set the attribute in a related span. Why? Maybe <code>Span</code>s are already ended at the moment of <code>setAttribute</code> calls? I've found an <a href=\"https://github.com/open-telemetry/opentelemetry-java/issues/774\" rel=\"nofollow noreferrer\">issue</a> but cannot find a way to enable Otel SDK logging. I run my app from IDEA with parameter <code>-Dotel.javaagent.logging=application</code>. Tried to set envvar OTEL_LOG_LEVEL to <code>OTEL_LOG_LEVEL=FINE</code> or <code>OTEL_LOG_LEVEL=DEBUG</code> but with no luck. How to check if a span is ended?</p>\n<p>Maybe there are ideas about setting the attribute using another solution?</p>\n"},{"tags":["java","android","runtime-error","lineageos"],"owner":{"account_id":30038035,"reputation":1,"user_id":23019517,"display_name":"Drakiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701416097,"creation_date":1701416097,"question_id":77583646,"body_markdown":"I have a problem when I want to launch the cmb or credit mutuel de bretagne app. The application crashes on startup. I retrieved the logs from my phone:\r\n\r\n`12-01 07:47:00.216  1000  2970 10155 I am_crash [912,0,com.arkea.android.application.cmb,549994052,java.lang.NoSuchMethodError,No static method toDS(Le2/TextStyle;Lt0/Composer;I)Li10/DSTextStyle; in class Li10/e; or its super classes (declaration of &#39;i10.e&#39; appears in base.apk!classes2.dex),SourceFile,327] `\r\n\r\nI&#39;m on lineageOS 18.1 of July 14, 2023, the application worked until this morning (I haven&#39;t used it for several days). The app was last updated on November 22, but I used it on the 23rd and 24th, so that&#39;s not the problem.\r\n\r\nI&#39;m not sure what my options are, as I have no control over the application code. What can I do about it?\r\n\r\nI uninstalled then reinstalled the application, restarted the phone and tried to force shutdown then restart it.","title":"CMB Application crash when i launch it due to a NoSuchMethodError","body":"<p>I have a problem when I want to launch the cmb or credit mutuel de bretagne app. The application crashes on startup. I retrieved the logs from my phone:</p>\n<p><code>12-01 07:47:00.216  1000  2970 10155 I am_crash [912,0,com.arkea.android.application.cmb,549994052,java.lang.NoSuchMethodError,No static method toDS(Le2/TextStyle;Lt0/Composer;I)Li10/DSTextStyle; in class Li10/e; or its super classes (declaration of 'i10.e' appears in base.apk!classes2.dex),SourceFile,327] </code></p>\n<p>I'm on lineageOS 18.1 of July 14, 2023, the application worked until this morning (I haven't used it for several days). The app was last updated on November 22, but I used it on the 23rd and 24th, so that's not the problem.</p>\n<p>I'm not sure what my options are, as I have no control over the application code. What can I do about it?</p>\n<p>I uninstalled then reinstalled the application, restarted the phone and tried to force shutdown then restart it.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700788496,"post_id":77537657,"comment_id":136699380,"body_markdown":"please update with debug logs for the others and we can explain exacctly what is happening.","body":"please update with debug logs for the others and we can explain exacctly what is happening."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1700811489,"post_id":77537657,"comment_id":136701175,"body_markdown":"debug logs from what others?","body":"debug logs from what others?"},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700822926,"post_id":77537657,"comment_id":136703048,"body_markdown":"When you are accessing the other endpoints","body":"When you are accessing the other endpoints"},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1700908055,"post_id":77537657,"comment_id":136711506,"body_markdown":"There is no debug logging then.\nBefore I added the /api/third, I got the debug logging as above. When I added the /api/thid, it got the debug logging, but when I access the other, there was no logging.","body":"There is no debug logging then. Before I added the /api/third, I got the debug logging as above. When I added the /api/thid, it got the debug logging, but when I access the other, there was no logging."},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700910666,"post_id":77537657,"comment_id":136711681,"body_markdown":"What you are claiming makes no sense. Well no logs i cant help you, good luck","body":"What you are claiming makes no sense. Well no logs i cant help you, good luck"},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701352760,"post_id":77537657,"comment_id":136766892,"body_markdown":"That is exactly why I am asking. When I added the third security configuration to HttpSecurity, the logs shows Secured Get for that API endpoint, but nothing for the first others.","body":"That is exactly why I am asking. When I added the third security configuration to HttpSecurity, the logs shows Secured Get for that API endpoint, but nothing for the first others."},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701371389,"post_id":77537657,"comment_id":136770566,"body_markdown":"well we usually dont ask for peoples opinions on logs, we prefer that you post your logs in full so that we get an ubiased full picture of what is happening in your server. So no, there are no logs good luck.","body":"well we usually dont ask for peoples opinions on logs, we prefer that you post your logs in full so that we get an ubiased full picture of what is happening in your server. So no, there are no logs good luck."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701413900,"post_id":77537657,"comment_id":136774971,"body_markdown":"I am not asking about an opinion, but why Spring Security is behaving like it does in my example. Full logs coming up...","body":"I am not asking about an opinion, but why Spring Security is behaving like it does in my example. Full logs coming up..."},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701417641,"post_id":77537657,"comment_id":136775455,"body_markdown":"I didnt say you were asking for an opinion. I said we ask for logs so we can read them. We dont ask for someones intepretation of their logs.","body":"I didnt say you were asking for an opinion. I said we ask for logs so we can read them. We dont ask for someones intepretation of their logs."}],"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701415064,"creation_date":1700749714,"question_id":77537657,"body_markdown":"I have a Spring Boot Application, and in the process of learning Spring Security.\\\r\nSpring Boot 3.1.5, Java 17\r\n\r\nI have configured Spring Security and it works.\r\n\r\nThere is a few issues I wonder why it is working the way it does.\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private static final String[] ENDPOINTS = { &quot;/api/first/**&quot;, &quot;/api/second/**&quot; };\r\n\r\n    private static final String ROLE = &quot;USER&quot;;\r\n\r\n    private final String username;\r\n\r\n    private final String password;\r\n\r\n    public SecurityConfig(\r\n        @Value(&quot;${spring.security.user.name}&quot;) final String username,\r\n        @Value(&quot;${spring.security.user.password}&quot;) final String password\r\n    ) {\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsService(final PasswordEncoder passwordEncoder) {\r\n        final UserDetails anyUser = User.builder()\r\n            .username(username)\r\n            .password(passwordEncoder.encode(password))\r\n            .roles(ROLE)\r\n            .build();\r\n        return new InMemoryUserDetailsManager(anyUser);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n        http.securityMatcher(ENDPOINTS)\r\n            .authorizeHttpRequests(createRequestMatchers())\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    @NotNull\r\n    private Customizer&lt;AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry&gt; createRequestMatchers() {\r\n        return (authz) -&gt;\r\n            authz.requestMatchers(ENDPOINTS).authenticated();\r\n    }\r\n}\r\n```\r\n\r\nWhen accessing the APIs I can see that it is authenticating the user when calling the API /api/second?id=7324325\r\n```\r\n2023-12-01T07:59:05.955+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : Starting MyApplication using Java 21.0.1 with PID 5548 (C:\\Users\\djviking\\workspace-company\\java-my-application\\target\\classes started by djviking in C:\\Users\\djviking\\workspace-company\\java-my-application)\r\n2023-12-01T07:59:05.956+01:00 DEBUG 5548 --- [           main] t.r.a.t.MyApplication : Running with Spring Boot v3.1.5, Spring v6.0.13\r\n2023-12-01T07:59:05.956+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : The following 1 profile is active: &quot;test&quot;\r\n2023-12-01T07:59:06.535+01:00  INFO 5548 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-12-01T07:59:06.669+01:00  INFO 5548 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 124 ms. Found 3 JPA repository interfaces.\r\n2023-12-01T07:59:06.966+01:00  INFO 5548 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\r\n2023-12-01T07:59:06.974+01:00  INFO 5548 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;integrationHeaderChannelRegistry&#39; has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\r\n2023-12-01T07:59:07.429+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8306 (http)\r\n2023-12-01T07:59:07.436+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-12-01T07:59:07.437+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\r\n2023-12-01T07:59:07.519+01:00  INFO 5548 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-12-01T07:59:07.519+01:00  INFO 5548 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1525 ms\r\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\r\n2023-12-01T07:59:07.715+01:00  INFO 5548 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-12-01T07:59:07.752+01:00  INFO 5548 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final\r\n2023-12-01T07:59:07.754+01:00  INFO 5548 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-12-01T07:59:07.829+01:00  INFO 5548 --- [           main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true\r\n2023-12-01T07:59:07.951+01:00  INFO 5548 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-12-01T07:59:07.968+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-12-01T07:59:08.475+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: f46ed47e-63af-407b-b0c8-cfee5a773ff8\r\n2023-12-01T07:59:08.476+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-12-01T07:59:08.494+01:00  WARN 5548 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: SQLServer2012Dialect does not need to be specified explicitly using &#39;hibernate.dialect&#39; (remove the property setting and it will be selected by default)\r\n2023-12-01T07:59:08.495+01:00  WARN 5548 --- [           main] org.hibernate.orm.deprecation            : HHH90000026: SQLServer2012Dialect has been deprecated; use org.hibernate.dialect.SQLServerDialect instead\r\n2023-12-01T07:59:09.377+01:00  INFO 5548 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set &#39;hibernate.transaction.jta.platform&#39; to enable JTA platform integration)\r\n2023-12-01T07:59:10.208+01:00  INFO 5548 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-12-01T07:59:10.767+01:00  INFO 5548 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.\r\n2023-12-01T07:59:11.312+01:00  WARN 5548 --- [           main] i.l.graphql.generator.OperationMapper    : Potential type name collision detected: Int bound to multiple types: java.lang.Integer and int. Assign unique names using the appropriate annotations or override the TypeInfoGenerator. For details and solutions see https://github.com/leangen/graphql-spqr/wiki/Errors#non-unique-type-name\r\n2023-12-01T07:59:11.465+01:00  WARN 5548 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-12-01T07:59:11.871+01:00  INFO 5548 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern=&#39;/api/first/**&#39;], Mvc [pattern=&#39;/api/second/**&#39;]] with [org.springframework.security.web.session.DisableEncodeUrlFilter@67a84d80, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21d297a, org.springframework.security.web.context.SecurityContextHolderFilter@7445fdb2, org.springframework.security.web.header.HeaderWriterFilter@56ed0511, org.springframework.security.web.authentication.logout.LogoutFilter@5db553f9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@495590a7, com.company.raavare.avregning.tilleggtrekk.config.SecurityConfig$HeaderFilter@7879348, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35069061, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5199d74e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b869242, org.springframework.security.web.access.ExceptionTranslationFilter@2afee2ee, org.springframework.security.web.access.intercept.AuthorizationFilter@77ad33c]\r\n2023-12-01T07:59:12.224+01:00  INFO 5548 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the &#39;errorChannel&#39; channel\r\n2023-12-01T07:59:12.224+01:00  INFO 5548 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel &#39;my-application.errorChannel&#39; has 1 subscriber(s).\r\n2023-12-01T07:59:12.225+01:00  INFO 5548 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;_org.springframework.integration.errorLogger&#39;\r\n2023-12-01T07:59:12.248+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8306 (http) with context path &#39;&#39;\r\n2023-12-01T07:59:12.301+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8088 (http)\r\n2023-12-01T07:59:12.301+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-12-01T07:59:12.302+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\r\n2023-12-01T07:59:12.327+01:00  INFO 5548 --- [           main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext\r\n2023-12-01T07:59:12.327+01:00  INFO 5548 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 75 ms\r\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\r\n2023-12-01T07:59:12.339+01:00  INFO 5548 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path &#39;/actuator&#39;\r\n2023-12-01T07:59:12.370+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8088 (http) with context path &#39;&#39;\r\n2023-12-01T07:59:12.377+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : Started MyApplication in 6.738 seconds (process running for 7.222)\r\n2023-12-01T07:59:20.608+01:00  INFO 5548 --- [nio-8306-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-12-01T07:59:20.609+01:00  INFO 5548 --- [nio-8306-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-12-01T07:59:20.610+01:00  INFO 5548 --- [nio-8306-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-12-01T07:59:20.623+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/second?id=7324325\r\n2023-12-01T07:59:20.757+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n2023-12-01T07:59:20.760+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=username, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]\r\n2023-12-01T07:59:20.768+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/second?id=7324325\r\n2023-12-01T07:59:20.782+01:00 DEBUG 5548 --- [nio-8306-exec-3] .r.a.t.w.MyApplicationController : Get Result for Id Id=7324325\r\n```\r\n\r\n\r\nI have a third API &quot;/api/third&quot;, that is not configured in the SecurityConfig.\r\n\r\nWhen calling this /api/third, it does not log from Spring Security, as it did for the /api/second. Does that mean that the third API is unsecured?\r\n\r\nIf I add Security configuration for the third API in SpringSecurity:\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n        http.securityMatcher(ENDPOINTS).authorizeHttpRequests(createRequestMatchers())   \r\n            .securityMatcher(&quot;/api/third/**&quot;).authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/third/**&quot;).hasRole(&quot;ADMIN&quot;))\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n```\r\n\r\nWhen I call the second API this time, it does not log Spring Security like it did before.\r\n\r\nNow when I call the third API, with the User (who is not Admin role), then it logs Security.\r\n```\r\n2023-12-01T08:11:42.857+01:00  INFO 24016 --- [           main] t.r.a.t.MyApplication                    : Started MyApplication in 6.072 seconds (process running for 6.54)\r\n2023-12-01T08:12:09.529+01:00  INFO 24016 --- [nio-8306-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-12-01T08:12:09.530+01:00  INFO 24016 --- [nio-8306-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-12-01T08:12:09.531+01:00  INFO 24016 --- [nio-8306-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-12-01T08:12:09.560+01:00 DEBUG 24016 --- [nio-8306-exec-5] .r.a.t.w.MyApplicationController         : Get Result for Id Id=7324325\r\n2023-12-01T08:12:24.736+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/third?id=7324325\r\n2023-12-01T08:12:24.871+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n2023-12-01T08:12:24.872+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=username, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]\r\n2023-12-01T08:12:24.879+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n```\r\n\r\nThe log &quot;Get Result for Id Id=7324325&quot; is when me calling the /api/second\r\n\r\nThe log Securing GET is now only for the third API.","title":"Spring Security: Unsecured Basic Authentication","body":"<p>I have a Spring Boot Application, and in the process of learning Spring Security.<br />\nSpring Boot 3.1.5, Java 17</p>\n<p>I have configured Spring Security and it works.</p>\n<p>There is a few issues I wonder why it is working the way it does.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private static final String[] ENDPOINTS = { &quot;/api/first/**&quot;, &quot;/api/second/**&quot; };\n\n    private static final String ROLE = &quot;USER&quot;;\n\n    private final String username;\n\n    private final String password;\n\n    public SecurityConfig(\n        @Value(&quot;${spring.security.user.name}&quot;) final String username,\n        @Value(&quot;${spring.security.user.password}&quot;) final String password\n    ) {\n        this.username = username;\n        this.password = password;\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService(final PasswordEncoder passwordEncoder) {\n        final UserDetails anyUser = User.builder()\n            .username(username)\n            .password(passwordEncoder.encode(password))\n            .roles(ROLE)\n            .build();\n        return new InMemoryUserDetailsManager(anyUser);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n        http.securityMatcher(ENDPOINTS)\n            .authorizeHttpRequests(createRequestMatchers())\n            .csrf(AbstractHttpConfigurer::disable)\n            .httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n\n    @NotNull\n    private Customizer&lt;AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry&gt; createRequestMatchers() {\n        return (authz) -&gt;\n            authz.requestMatchers(ENDPOINTS).authenticated();\n    }\n}\n</code></pre>\n<p>When accessing the APIs I can see that it is authenticating the user when calling the API /api/second?id=7324325</p>\n<pre><code>2023-12-01T07:59:05.955+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : Starting MyApplication using Java 21.0.1 with PID 5548 (C:\\Users\\djviking\\workspace-company\\java-my-application\\target\\classes started by djviking in C:\\Users\\djviking\\workspace-company\\java-my-application)\n2023-12-01T07:59:05.956+01:00 DEBUG 5548 --- [           main] t.r.a.t.MyApplication : Running with Spring Boot v3.1.5, Spring v6.0.13\n2023-12-01T07:59:05.956+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : The following 1 profile is active: &quot;test&quot;\n2023-12-01T07:59:06.535+01:00  INFO 5548 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-12-01T07:59:06.669+01:00  INFO 5548 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 124 ms. Found 3 JPA repository interfaces.\n2023-12-01T07:59:06.966+01:00  INFO 5548 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\n2023-12-01T07:59:06.974+01:00  INFO 5548 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\n2023-12-01T07:59:07.429+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8306 (http)\n2023-12-01T07:59:07.436+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-12-01T07:59:07.437+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\n2023-12-01T07:59:07.519+01:00  INFO 5548 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-12-01T07:59:07.519+01:00  INFO 5548 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1525 ms\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n2023-12-01T07:59:07.715+01:00  INFO 5548 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-12-01T07:59:07.752+01:00  INFO 5548 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final\n2023-12-01T07:59:07.754+01:00  INFO 5548 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-12-01T07:59:07.829+01:00  INFO 5548 --- [           main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true\n2023-12-01T07:59:07.951+01:00  INFO 5548 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-12-01T07:59:07.968+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-12-01T07:59:08.475+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: f46ed47e-63af-407b-b0c8-cfee5a773ff8\n2023-12-01T07:59:08.476+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-12-01T07:59:08.494+01:00  WARN 5548 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: SQLServer2012Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)\n2023-12-01T07:59:08.495+01:00  WARN 5548 --- [           main] org.hibernate.orm.deprecation            : HHH90000026: SQLServer2012Dialect has been deprecated; use org.hibernate.dialect.SQLServerDialect instead\n2023-12-01T07:59:09.377+01:00  INFO 5548 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)\n2023-12-01T07:59:10.208+01:00  INFO 5548 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-12-01T07:59:10.767+01:00  INFO 5548 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.\n2023-12-01T07:59:11.312+01:00  WARN 5548 --- [           main] i.l.graphql.generator.OperationMapper    : Potential type name collision detected: Int bound to multiple types: java.lang.Integer and int. Assign unique names using the appropriate annotations or override the TypeInfoGenerator. For details and solutions see https://github.com/leangen/graphql-spqr/wiki/Errors#non-unique-type-name\n2023-12-01T07:59:11.465+01:00  WARN 5548 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-12-01T07:59:11.871+01:00  INFO 5548 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/first/**'], Mvc [pattern='/api/second/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@67a84d80, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21d297a, org.springframework.security.web.context.SecurityContextHolderFilter@7445fdb2, org.springframework.security.web.header.HeaderWriterFilter@56ed0511, org.springframework.security.web.authentication.logout.LogoutFilter@5db553f9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@495590a7, com.company.raavare.avregning.tilleggtrekk.config.SecurityConfig$HeaderFilter@7879348, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35069061, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5199d74e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b869242, org.springframework.security.web.access.ExceptionTranslationFilter@2afee2ee, org.springframework.security.web.access.intercept.AuthorizationFilter@77ad33c]\n2023-12-01T07:59:12.224+01:00  INFO 5548 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel\n2023-12-01T07:59:12.224+01:00  INFO 5548 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'my-application.errorChannel' has 1 subscriber(s).\n2023-12-01T07:59:12.225+01:00  INFO 5548 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'\n2023-12-01T07:59:12.248+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8306 (http) with context path ''\n2023-12-01T07:59:12.301+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8088 (http)\n2023-12-01T07:59:12.301+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-12-01T07:59:12.302+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\n2023-12-01T07:59:12.327+01:00  INFO 5548 --- [           main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext\n2023-12-01T07:59:12.327+01:00  INFO 5548 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 75 ms\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n2023-12-01T07:59:12.339+01:00  INFO 5548 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'\n2023-12-01T07:59:12.370+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8088 (http) with context path ''\n2023-12-01T07:59:12.377+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : Started MyApplication in 6.738 seconds (process running for 7.222)\n2023-12-01T07:59:20.608+01:00  INFO 5548 --- [nio-8306-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-12-01T07:59:20.609+01:00  INFO 5548 --- [nio-8306-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-12-01T07:59:20.610+01:00  INFO 5548 --- [nio-8306-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-12-01T07:59:20.623+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/second?id=7324325\n2023-12-01T07:59:20.757+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-12-01T07:59:20.760+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=username, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]\n2023-12-01T07:59:20.768+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/second?id=7324325\n2023-12-01T07:59:20.782+01:00 DEBUG 5548 --- [nio-8306-exec-3] .r.a.t.w.MyApplicationController : Get Result for Id Id=7324325\n</code></pre>\n<p>I have a third API &quot;/api/third&quot;, that is not configured in the SecurityConfig.</p>\n<p>When calling this /api/third, it does not log from Spring Security, as it did for the /api/second. Does that mean that the third API is unsecured?</p>\n<p>If I add Security configuration for the third API in SpringSecurity:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n        http.securityMatcher(ENDPOINTS).authorizeHttpRequests(createRequestMatchers())   \n            .securityMatcher(&quot;/api/third/**&quot;).authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/third/**&quot;).hasRole(&quot;ADMIN&quot;))\n            .csrf(AbstractHttpConfigurer::disable)\n            .httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n</code></pre>\n<p>When I call the second API this time, it does not log Spring Security like it did before.</p>\n<p>Now when I call the third API, with the User (who is not Admin role), then it logs Security.</p>\n<pre><code>2023-12-01T08:11:42.857+01:00  INFO 24016 --- [           main] t.r.a.t.MyApplication                    : Started MyApplication in 6.072 seconds (process running for 6.54)\n2023-12-01T08:12:09.529+01:00  INFO 24016 --- [nio-8306-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-12-01T08:12:09.530+01:00  INFO 24016 --- [nio-8306-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-12-01T08:12:09.531+01:00  INFO 24016 --- [nio-8306-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-12-01T08:12:09.560+01:00 DEBUG 24016 --- [nio-8306-exec-5] .r.a.t.w.MyApplicationController         : Get Result for Id Id=7324325\n2023-12-01T08:12:24.736+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/third?id=7324325\n2023-12-01T08:12:24.871+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-12-01T08:12:24.872+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=username, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]\n2023-12-01T08:12:24.879+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n</code></pre>\n<p>The log &quot;Get Result for Id Id=7324325&quot; is when me calling the /api/second</p>\n<p>The log Securing GET is now only for the third API.</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":6151954,"reputation":2176,"user_id":4796134,"accept_rate":79,"display_name":"Sijan Shrestha"},"score":0,"creation_date":1583472090,"post_id":60557935,"comment_id":107135977,"body_markdown":"Could you please specify when this error is occurring and if any solutions you have tried to apply also so we can understand and help you.","body":"Could you please specify when this error is occurring and if any solutions you have tried to apply also so we can understand and help you."},{"owner":{"account_id":17915670,"reputation":211,"user_id":13016691,"display_name":"nemic"},"score":0,"creation_date":1583473467,"post_id":60557935,"comment_id":107136285,"body_markdown":"when i try to buid a project this error will come","body":"when i try to buid a project this error will come"},{"owner":{"account_id":17915670,"reputation":211,"user_id":13016691,"display_name":"nemic"},"score":0,"creation_date":1583473512,"post_id":60557935,"comment_id":107136297,"body_markdown":"after updating android studio and gradle this problem occur","body":"after updating android studio and gradle this problem occur"},{"owner":{"account_id":14171236,"reputation":71,"user_id":10237729,"display_name":"IceMan"},"score":0,"creation_date":1586355996,"post_id":60557935,"comment_id":108098790,"body_markdown":"Experienced the same issue when building a Flutter project on Android Studio 3.6.2.  Interestingly, the project builds from Android Studio to Xcode iOS Simulator and runs like a champ.","body":"Experienced the same issue when building a Flutter project on Android Studio 3.6.2.  Interestingly, the project builds from Android Studio to Xcode iOS Simulator and runs like a champ."}],"answers":[{"tags":[],"owner":{"account_id":9356486,"reputation":39,"user_id":7935178,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586126839,"creation_date":1586126839,"answer_id":61050543,"question_id":60557935,"body_markdown":"I ran into the same issue when trying to deploy another project on the same virtual device. For me it was solved by selecting &quot;Wipe Data&quot; for that Virtual Device in Android Virtual Device Manager.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I ran into the same issue when trying to deploy another project on the same virtual device. For me it was solved by selecting \"Wipe Data\" for that Virtual Device in Android Virtual Device Manager.</p>\n"},{"tags":[],"owner":{"display_name":"user5172374"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587700409,"creation_date":1587700409,"answer_id":61400841,"question_id":60557935,"body_markdown":"Backing up the answer from Alex. I got this issue when my project is in my external drive. I played around with device permission, file permission and even updated my android studio since I use VS Code for my flutter projects. \r\n\r\nFinally made a sample project on android studio and thankfully got the same error message from Gradle. In this way, I knew the issue is not related to the VS code. As Alex said, I wiped the data from android device manager. But I got into some other issue. I let the virtual device to start completely and ran the project again and it worked. ","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>Backing up the answer from Alex. I got this issue when my project is in my external drive. I played around with device permission, file permission and even updated my android studio since I use VS Code for my flutter projects. </p>\n\n<p>Finally made a sample project on android studio and thankfully got the same error message from Gradle. In this way, I knew the issue is not related to the VS code. As Alex said, I wiped the data from android device manager. But I got into some other issue. I let the virtual device to start completely and ran the project again and it worked. </p>\n"},{"tags":[],"owner":{"account_id":18470187,"reputation":1,"user_id":13455313,"display_name":"ghastlybespoke4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589312954,"creation_date":1589312954,"answer_id":61760681,"question_id":60557935,"body_markdown":"I had the same issue until I disabled the &quot;Use detected ADB location&quot; under Emulator Extended Controls &gt; Settings. Restarted the emulator and was able to &quot;Run&quot; without any errors occurring anymore. [Preview of &quot;Use detected ADB location&quot; setting.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7tnXw.jpg","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I had the same issue until I disabled the \"Use detected ADB location\" under Emulator Extended Controls > Settings. Restarted the emulator and was able to \"Run\" without any errors occurring anymore. <a href=\"https://i.stack.imgur.com/7tnXw.jpg\" rel=\"nofollow noreferrer\">Preview of \"Use detected ADB location\" setting.</a></p>\n"},{"tags":[],"owner":{"account_id":1198414,"reputation":451,"user_id":1169629,"accept_rate":33,"display_name":"user1169629"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591289762,"creation_date":1591289762,"answer_id":62200117,"question_id":60557935,"body_markdown":"For me the source of this error was wrong permissions within the project. A `sudo chown -R &lt;username&gt; .` within the project&#39;s root fixed those issues.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>For me the source of this error was wrong permissions within the project. A <code>sudo chown -R &lt;username&gt; .</code> within the project's root fixed those issues.</p>\n"},{"tags":[],"owner":{"account_id":5268338,"reputation":361,"user_id":4723722,"display_name":"TmsKtel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1594303690,"creation_date":1594303690,"answer_id":62816762,"question_id":60557935,"body_markdown":"I also had this when I tried building on my ExFAT formatted ssd on macos. Reformatting it using APFS solved it.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I also had this when I tried building on my ExFAT formatted ssd on macos. Reformatting it using APFS solved it.</p>\n"},{"tags":[],"owner":{"account_id":13376068,"reputation":47,"user_id":9652922,"display_name":"Abrham Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596747940,"creation_date":1596747940,"answer_id":63291737,"question_id":60557935,"body_markdown":"Creating a new project or performing a clean on any other project except the current one where the error exist solved the problem for me.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>Creating a new project or performing a clean on any other project except the current one where the error exist solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":373574,"reputation":29,"user_id":3737950,"display_name":"Rajesh Sambandam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600095309,"creation_date":1600095309,"answer_id":63886800,"question_id":60557935,"body_markdown":"Remove the caches directory under c:\\Users\\&lt;Your user name directory&gt;.gradle directory  and do the build again. It worked for me.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>Remove the caches directory under c:\\Users&lt;Your user name directory&gt;.gradle directory  and do the build again. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2221693,"reputation":1235,"user_id":1960924,"display_name":"femotizo"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1604946135,"creation_date":1600640509,"answer_id":63984196,"question_id":60557935,"body_markdown":"had same issue, stopping Gradle using the command below fixed it for me:\r\n\r\n```\r\ngradle --stop\r\n```\r\n\r\nor if you are using wrapper, use:\r\n\r\n```\r\n./gradlew --stop\r\n```","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>had same issue, stopping Gradle using the command below fixed it for me:</p>\n<pre><code>gradle --stop\n</code></pre>\n<p>or if you are using wrapper, use:</p>\n<pre><code>./gradlew --stop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563811,"reputation":4169,"user_id":3705348,"accept_rate":100,"display_name":"jaredbaszler"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1607438777,"creation_date":1600810258,"answer_id":64017953,"question_id":60557935,"body_markdown":"I simply had to restart my PC for this to get fixed.  Unfortunately I didn&#39;t try this until after I tried most of the other solutions. &#128580;","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I simply had to restart my PC for this to get fixed.  Unfortunately I didn't try this until after I tried most of the other solutions. 🙄</p>\n"},{"tags":[],"owner":{"account_id":5001083,"reputation":876,"user_id":4020087,"display_name":"Faisal Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625506911,"creation_date":1625506911,"answer_id":68260185,"question_id":60557935,"body_markdown":"I have faceed same issues in my flutter project for multiple build process and out of memory then I copy project from one folder to another folder and open project from android studio. It&#39;s working perfectly.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I have faceed same issues in my flutter project for multiple build process and out of memory then I copy project from one folder to another folder and open project from android studio. It's working perfectly.</p>\n"},{"tags":[],"owner":{"account_id":12975674,"reputation":71,"user_id":9379778,"display_name":"Charith Prasanna"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1629215172,"creation_date":1629215172,"answer_id":68820412,"question_id":60557935,"body_markdown":"did u face this issue in react native,\r\n\r\n1) go to android folder\r\n2) open the terminal\r\n3) if u using vscode terminal(powershell) use -&gt; ./gradlew --stop\r\n4) otherwise -&gt; gradle --stop","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>did u face this issue in react native,</p>\n<ol>\n<li>go to android folder</li>\n<li>open the terminal</li>\n<li>if u using vscode terminal(powershell) use -&gt; ./gradlew --stop</li>\n<li>otherwise -&gt; gradle --stop</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6831323,"reputation":751,"user_id":5255205,"display_name":"Temuujin Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635176691,"creation_date":1635000175,"answer_id":69689187,"question_id":60557935,"body_markdown":"In my situation this worked, I&#39;m using Android Studio on Windows 10 \r\n1. I installed JDK and added its installed path into my environment variable under name JAVA_HOME ([follow solution 2][1])\r\n3. just added --stop run configuration on android/gradlew\r\n\r\n[![enter image description here][2]][2]\r\n4. ran android/grandlew\r\n\r\n[![enter image description here][3]][3]\r\n\r\n5. remove --stop that you did step 3 and click on okay\r\n6.If not work just restart android studio and follow step 4 again\r\n  [1]: https://fluttercorner.com/solved-error-java_home-is-not-set-and-no-java-command-could-be-found-in-your-flutter-path-in-flutter/\r\n  [2]: https://i.stack.imgur.com/W77DF.png\r\n  [3]: https://i.stack.imgur.com/T9LWg.png","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>In my situation this worked, I'm using Android Studio on Windows 10</p>\n<ol>\n<li>I installed JDK and added its installed path into my environment variable under name JAVA_HOME ([follow solution 2][1])</li>\n<li>just added --stop run configuration on android/gradlew</li>\n</ol>\n<p>[![enter image description here][2]][2]\n4. ran android/grandlew</p>\n<p>[![enter image description here][3]][3]</p>\n<ol start=\"5\">\n<li>remove --stop that you did step 3 and click on okay\n6.If not work just restart android studio and follow step 4 again\n[1]: <a href=\"https://fluttercorner.com/solved-error-java_home-is-not-set-and-no-java-command-could-be-found-in-your-flutter-path-in-flutter/\" rel=\"nofollow noreferrer\">https://fluttercorner.com/solved-error-java_home-is-not-set-and-no-java-command-could-be-found-in-your-flutter-path-in-flutter/</a>\n[2]: <a href=\"https://i.stack.imgur.com/W77DF.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/W77DF.png</a>\n[3]: <a href=\"https://i.stack.imgur.com/T9LWg.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/T9LWg.png</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16145774,"reputation":111,"user_id":11655570,"display_name":"Chryzl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646487422,"creation_date":1646487422,"answer_id":71362632,"question_id":60557935,"body_markdown":"For anyone who has their project on their **external drive**\r\n\r\n - Try moving it to your local drive\r\n\r\nThis worked for me\r\n\r\n(MacOS Monterey) ","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>For anyone who has their project on their <strong>external drive</strong></p>\n<ul>\n<li>Try moving it to your local drive</li>\n</ul>\n<p>This worked for me</p>\n<p>(MacOS Monterey)</p>\n"},{"tags":[],"owner":{"account_id":10573187,"reputation":1775,"user_id":7789242,"display_name":"Deni Al Farizi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659445372,"creation_date":1659445372,"answer_id":73208051,"question_id":60557935,"body_markdown":"in flutter or react-native go to android folder and run this in cmd\r\n\r\n&gt; gradlew --stop\r\n\r\nnext\r\n\r\n&gt; gradlew clean \r\n\r\nto rebuild android or simple so you can restart your computer and run your flutter or react-native project again\r\n\r\n\r\n\r\n","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>in flutter or react-native go to android folder and run this in cmd</p>\n<blockquote>\n<p>gradlew --stop</p>\n</blockquote>\n<p>next</p>\n<blockquote>\n<p>gradlew clean</p>\n</blockquote>\n<p>to rebuild android or simple so you can restart your computer and run your flutter or react-native project again</p>\n"},{"tags":[],"owner":{"account_id":14758263,"reputation":1,"user_id":10658371,"display_name":"asad saddique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665063647,"creation_date":1664789550,"answer_id":73933546,"question_id":60557935,"body_markdown":"run this command on \r\n**sudo ./gradlew clean**","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>run this command on\n<strong>sudo ./gradlew clean</strong></p>\n"},{"tags":[],"owner":{"account_id":15695357,"reputation":619,"user_id":11325112,"display_name":"samad shukr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699183399,"creation_date":1699183399,"answer_id":77425706,"question_id":60557935,"body_markdown":"**For Flutter**\r\nI have solved it by running\r\n\r\n    cd android\r\nthen\r\n\r\n    ./gradlew --stop\r\n\r\n","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p><strong>For Flutter</strong>\nI have solved it by running</p>\n<pre><code>cd android\n</code></pre>\n<p>then</p>\n<pre><code>./gradlew --stop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13751724,"reputation":361,"user_id":9923629,"display_name":"Hrusikesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701414732,"creation_date":1701414732,"answer_id":77583546,"question_id":60557935,"body_markdown":"I have faced the same issue in a **react native project** like below in the screenshot when I try to run the app in android **simulator** using `yarn android` then I followed the below steps to resolve the issue which I got from the above\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Step - 1:** Go to android folder and delete **build** folder.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Step - 2:** Run the below command like \r\n\r\n`cd android and ./gradlew --stop`\r\n\r\nand then you will see a response like `Stopping Daemon(s)`\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Step - 3:** Now running `cd .. &amp;&amp; yarn android` successfully launch the app without the above error.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CmYKe.png\r\n  [2]: https://i.stack.imgur.com/A4kFR.png\r\n  [3]: https://i.stack.imgur.com/UYkYu.png\r\n  [4]: https://i.stack.imgur.com/sFQIR.jpg","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I have faced the same issue in a <strong>react native project</strong> like below in the screenshot when I try to run the app in android <strong>simulator</strong> using <code>yarn android</code> then I followed the below steps to resolve the issue which I got from the above</p>\n<p><a href=\"https://i.stack.imgur.com/CmYKe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CmYKe.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step - 1:</strong> Go to android folder and delete <strong>build</strong> folder.</p>\n<p><a href=\"https://i.stack.imgur.com/A4kFR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A4kFR.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step - 2:</strong> Run the below command like</p>\n<p><code>cd android and ./gradlew --stop</code></p>\n<p>and then you will see a response like <code>Stopping Daemon(s)</code></p>\n<p><a href=\"https://i.stack.imgur.com/UYkYu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UYkYu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step - 3:</strong> Now running <code>cd .. &amp;&amp; yarn android</code> successfully launch the app without the above error.</p>\n<p><a href=\"https://i.stack.imgur.com/sFQIR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sFQIR.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17915670,"reputation":211,"user_id":13016691,"display_name":"nemic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35730,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":17,"score":21,"last_activity_date":1701414732,"creation_date":1583471544,"question_id":60557935,"body_markdown":"Android Studio 3.6.1 Gradle Version 5.6.4\r\n\r\nGradle Buid Error\r\n\r\nCannot create service of type `TaskExecuter` using `ProjectExecutionServices.createTaskExecuter()` as there is a problem with parameter #22 of type `ReservedFileSystemLocationRegistry`.\r\n\r\n    Cannot create service of type ReservedFileSystemLocationRegistry using ProjectExecutionServices.createReservedFileLocationRegistry() as there is a problem with parameter #1 of type List&lt;ReservedFileSystemLocation&gt;.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>Android Studio 3.6.1 Gradle Version 5.6.4</p>\n\n<p>Gradle Buid Error</p>\n\n<p>Cannot create service of type <code>TaskExecuter</code> using <code>ProjectExecutionServices.createTaskExecuter()</code> as there is a problem with parameter #22 of type <code>ReservedFileSystemLocationRegistry</code>.</p>\n\n<pre><code>Cannot create service of type ReservedFileSystemLocationRegistry using ProjectExecutionServices.createReservedFileLocationRegistry() as there is a problem with parameter #1 of type List&lt;ReservedFileSystemLocation&gt;.\n</code></pre>\n"},{"tags":["java","node.js","express","process"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701421499,"post_id":77583517,"comment_id":136776032,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19324407,"reputation":1,"user_id":14127417,"display_name":"Perumal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701414339,"creation_date":1701414339,"question_id":77583517,"body_markdown":"I have a node js express app which will have APIs for FTP operations using FTP4 node js library. If I start the application using CMD prompt, it is working peroperly. But if i start the same app using process builder is hanging after some time. When I checked the resource monitor, node js app is not taking much memory (52 MB).\r\nWhat could be the reason for this kind of behaviour?\r\n\r\nI added logs in node js app, no error logs appearing when there&#39;s hanging. At the same time resource monitor is showing that node.exe process is running.","title":"Node js is hanging if I start the app using Java process builder","body":"<p>I have a node js express app which will have APIs for FTP operations using FTP4 node js library. If I start the application using CMD prompt, it is working peroperly. But if i start the same app using process builder is hanging after some time. When I checked the resource monitor, node js app is not taking much memory (52 MB).\nWhat could be the reason for this kind of behaviour?</p>\n<p>I added logs in node js app, no error logs appearing when there's hanging. At the same time resource monitor is showing that node.exe process is running.</p>\n"},{"tags":["java","spring","string","validation","spring-validator"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1625267888,"post_id":68231771,"comment_id":120591204,"body_markdown":"Why not &quot;the name must be between 2 and 200 characters&quot;?","body":"Why not &quot;the name must be between 2 and 200 characters&quot;?"},{"owner":{"account_id":17521233,"reputation":992,"user_id":12707241,"display_name":"F_Schmidt"},"score":0,"creation_date":1625268086,"post_id":68231771,"comment_id":120591238,"body_markdown":"I think this isn&#39;t really user friendly. I&#39;d prefer two separat validations.","body":"I think this isn&#39;t really user friendly. I&#39;d prefer two separat validations."},{"owner":{"account_id":7254391,"reputation":835,"user_id":5533591,"accept_rate":100,"display_name":"ChristophE"},"score":0,"creation_date":1701414427,"post_id":68231771,"comment_id":136775031,"body_markdown":"Maybe not the most realistic example but as a User I may enter a String size 1. I get, &quot;string to short&quot;, now I write &quot;thisisaverylongstring......&quot;. And now I get &quot;string to long&quot;. Isn&#39;t this more annoying than the message provided by @chrylis-cautiouslyoptimistic- ?","body":"Maybe not the most realistic example but as a User I may enter a String size 1. I get, &quot;string to short&quot;, now I write &quot;thisisaverylongstring......&quot;. And now I get &quot;string to long&quot;. Isn&#39;t this more annoying than the message provided by @chrylis-cautiouslyoptimistic- ?"}],"answers":[{"tags":[],"owner":{"account_id":8620227,"reputation":556,"user_id":6455422,"display_name":"Fabian"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1625270549,"creation_date":1625270549,"answer_id":68232313,"question_id":68231771,"body_markdown":"You can just use the &quot;@Size&quot;-annotation twice:\r\n\r\n    @Size(min = 2, message = &quot;{validation.name.size.too_short}&quot;)\r\n    @Size(max = 200, message = &quot;{validation.name.size.too_long}&quot;)\r\n    private String name;","title":"How can I validate the string length using java spring validation?","body":"<p>You can just use the &quot;@Size&quot;-annotation twice:</p>\n<pre><code>@Size(min = 2, message = &quot;{validation.name.size.too_short}&quot;)\n@Size(max = 200, message = &quot;{validation.name.size.too_long}&quot;)\nprivate String name;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22326816,"reputation":41,"user_id":16548722,"display_name":"Spilvergo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701413762,"creation_date":1669754030,"answer_id":74619989,"question_id":68231771,"body_markdown":"another option could be to use a regex.\r\nsomething like\r\n\r\n    ^[a-zA-Z0-9]]{2,200}$\r\n\r\nit depends if you want to control the characters.","title":"How can I validate the string length using java spring validation?","body":"<p>another option could be to use a regex.\nsomething like</p>\n<pre><code>^[a-zA-Z0-9]]{2,200}$\n</code></pre>\n<p>it depends if you want to control the characters.</p>\n"},{"tags":[],"owner":{"account_id":27807567,"reputation":61,"user_id":21230599,"display_name":"Gabe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677872904,"creation_date":1676596414,"answer_id":75479392,"question_id":68231771,"body_markdown":"Yes there is - you can use the @Size.List() and @Size annotations in conjunction like so:\r\n\r\n    @Size.List({\r\n         @Size(min = 2, message = &quot;{validation.name.size.too_short}&quot;),\r\n         @Size(max = 10, message = &quot;{validation.name.size.too_long}&quot;)\r\n    })","title":"How can I validate the string length using java spring validation?","body":"<p>Yes there is - you can use the @Size.List() and @Size annotations in conjunction like so:</p>\n<pre><code>@Size.List({\n     @Size(min = 2, message = &quot;{validation.name.size.too_short}&quot;),\n     @Size(max = 10, message = &quot;{validation.name.size.too_long}&quot;)\n})\n</code></pre>\n"}],"owner":{"account_id":17521233,"reputation":992,"user_id":12707241,"display_name":"F_Schmidt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48844,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":68232313,"answer_count":3,"score":28,"last_activity_date":1701413762,"creation_date":1625264476,"question_id":68231771,"body_markdown":"I have this field declared in a model class:\r\n```\r\n@Size(min = 2, max = 200, message = &quot;{validation.name.size}&quot;)\r\nprivate String name;\r\n```\r\n\r\nwhere `validation.name.size` is the path to a localized message. The problem is that I do not want to output a message like &#39;The name is too long or too short.&#39;.\r\n\r\nIs there any way to use two different messages and check minimum and maximum string length? `@Min` and `@Max` are only working for numeric types, so they can not be used. What is the alternative for strings?","title":"How can I validate the string length using java spring validation?","body":"<p>I have this field declared in a model class:</p>\n<pre><code>@Size(min = 2, max = 200, message = &quot;{validation.name.size}&quot;)\nprivate String name;\n</code></pre>\n<p>where <code>validation.name.size</code> is the path to a localized message. The problem is that I do not want to output a message like 'The name is too long or too short.'.</p>\n<p>Is there any way to use two different messages and check minimum and maximum string length? <code>@Min</code> and <code>@Max</code> are only working for numeric types, so they can not be used. What is the alternative for strings?</p>\n"},{"tags":["java","string","split","trim"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":2,"creation_date":1485853402,"post_id":41953388,"comment_id":71085927,"body_markdown":"you could also split on `,\\\\s` and remove the last `,` in your `String`","body":"you could also split on <code>,\\\\s</code> and remove the last <code>,</code> in your <code>String</code>"},{"owner":{"account_id":957028,"reputation":15123,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1485853507,"post_id":41953388,"comment_id":71085985,"body_markdown":"@KevinEsche Mind the leading space in first entry. This would have to be trimmed, too.","body":"@KevinEsche Mind the leading space in first entry. This would have to be trimmed, too."},{"owner":{"account_id":8615996,"reputation":1316,"user_id":6452817,"accept_rate":100,"display_name":"Silverclaw"},"score":5,"creation_date":1485853549,"post_id":41953388,"comment_id":71086010,"body_markdown":"In my opinion, doing this in &quot;two shots&quot; would be the cleanest way to code it and not much more effort. I really don&#39;t see the point in over-complicating this.","body":"In my opinion, doing this in &quot;two shots&quot; would be the cleanest way to code it and not much more effort. I really don&#39;t see the point in over-complicating this."},{"owner":{"account_id":957028,"reputation":15123,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1485853791,"post_id":41953388,"comment_id":71086150,"body_markdown":"I second Silverclaw. IMHO this is premature optimization. So long doing it in two steps will not lead to performance issues, do it in two steps. Not worth the effort, I guess.","body":"I second Silverclaw. IMHO this is premature optimization. So long doing it in two steps will not lead to performance issues, do it in two steps. Not worth the effort, I guess."},{"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"score":0,"creation_date":1580980819,"post_id":41953388,"comment_id":106278780,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/7987149/split-string-and-trim-every-element","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/7987149/split-string-and-trim-every-element\" title=\"split string and trim every element\">stackoverflow.com/questions/7987149/&hellip;</a>"},{"owner":{"account_id":72771,"reputation":2063,"user_id":209942,"accept_rate":44,"display_name":"johny why"},"score":1,"creation_date":1669319093,"post_id":41953388,"comment_id":131622519,"body_markdown":"Globally string-replace `n spaces + delimiter + n spaces` with `delimiter`. Then do your simple split. I believe string-replace is extremely fast, compared to iteration of an array.","body":"Globally string-replace <code>n spaces + delimiter + n spaces</code> with <code>delimiter</code>. Then do your simple split. I believe string-replace is extremely fast, compared to iteration of an array."}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485855459,"creation_date":1485853427,"answer_id":41953428,"question_id":41953388,"body_markdown":"What about spliting with comma and space:\r\n\r\n\r\n    String result[] = attributes.split(&quot;,\\\\s&quot;);","title":"Java - Split and trim in one shot","body":"<p>What about spliting with comma and space:</p>\n\n<pre><code>String result[] = attributes.split(\",\\\\s\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375630,"reputation":30604,"user_id":2815219,"display_name":"Raman Sahasi"},"down_vote_count":0,"up_vote_count":140,"is_accepted":true,"score":140,"last_activity_date":1537426957,"creation_date":1485853941,"answer_id":41953571,"question_id":41953388,"body_markdown":"Use regular expression `\\s*,\\s*` for splitting.\r\n\r\n    String result[] = attributes.split(&quot;\\\\s*,\\\\s*&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\n**For Initial and Trailing Whitespaces**  \r\nThe previous solution still leaves initial and trailing white-spaces. So if we&#39;re expecting any of them, then we can use the following solution to remove the same:\r\n\r\n    String result[] = attributes.trim().split(&quot;\\\\s*,\\\\s*&quot;);","title":"Java - Split and trim in one shot","body":"<p>Use regular expression <code>\\s*,\\s*</code> for splitting.</p>\n\n<pre><code>String result[] = attributes.split(\"\\\\s*,\\\\s*\");\n</code></pre>\n\n<hr>\n\n<p><strong>For Initial and Trailing Whitespaces</strong><br>\nThe previous solution still leaves initial and trailing white-spaces. So if we're expecting any of them, then we can use the following solution to remove the same:</p>\n\n<pre><code>String result[] = attributes.trim().split(\"\\\\s*,\\\\s*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5963177,"reputation":2320,"user_id":4687702,"accept_rate":52,"display_name":"Andrei Olar"},"down_vote_count":3,"up_vote_count":69,"is_accepted":false,"score":66,"last_activity_date":1485854102,"creation_date":1485854102,"answer_id":41953621,"question_id":41953388,"body_markdown":"Using java 8 you can do it like this in one line\r\n\r\n    String[] result = Arrays.stream(attributes.split(&quot;,&quot;)).map(String::trim).toArray(String[]::new);","title":"Java - Split and trim in one shot","body":"<p>Using java 8 you can do it like this in one line</p>\n\n<pre><code>String[] result = Arrays.stream(attributes.split(\",\")).map(String::trim).toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4995637,"reputation":329,"user_id":4016342,"display_name":"Maxple"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1515762022,"creation_date":1515748032,"answer_id":48222817,"question_id":41953388,"body_markdown":"If there is no text between the commas, the following expression will not create empty elements:\r\n\r\n    String result[] = attributes.trim().split(&quot;\\\\s*,+\\\\s*,*\\\\s*&quot;);\r\n\r\n","title":"Java - Split and trim in one shot","body":"<p>If there is no text between the commas, the following expression will not create empty elements:</p>\n\n<pre><code>String result[] = attributes.trim().split(\"\\\\s*,+\\\\s*,*\\\\s*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":505795,"reputation":390,"user_id":1689489,"display_name":"Dmitriy Pichugin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519382465,"creation_date":1519381960,"answer_id":48945784,"question_id":41953388,"body_markdown":"    String result[] = attributes.trim().split(&quot;\\\\s*,[,\\\\s]*&quot;);\r\n\r\npreviously posted here: https://blog.oio.de/2012/08/23/split-comma-separated-strings-in-java/","title":"Java - Split and trim in one shot","body":"<pre><code>String result[] = attributes.trim().split(\"\\\\s*,[,\\\\s]*\");\n</code></pre>\n\n<p>previously posted here: <a href=\"https://blog.oio.de/2012/08/23/split-comma-separated-strings-in-java/\" rel=\"nofollow noreferrer\">https://blog.oio.de/2012/08/23/split-comma-separated-strings-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668624644,"creation_date":1535740327,"answer_id":52121036,"question_id":41953388,"body_markdown":"create your own custom function\r\n \r\n\r\n    private static String[] split_and_trim_in_one_shot(String string){\r\n     String[] result  = string.split(&quot;,&quot;);\r\n     int array_length = result.length;\r\n\r\n     for(int i =0; i &lt; array_length ; i++){\r\n      result[i]=result[i].trim();\r\n     }\r\n     return result;\r\n\r\n \r\nOverload with a consideration for custom delimiter \r\n \r\n\r\n    private static String[] split_and_trim_in_one_shot(String string, String delimiter){\r\n     String[] result  = string.split(delimiter);\r\n     int array_length = result.length;\r\n\r\n     for(int i =0; i &lt; array_length ; i++){\r\n      result[i]=result[i].trim();\r\n     }\r\n     return result;\r\n\r\n \r\nwith streams\r\n\r\n\tpublic static List&lt;String&gt; split(String str){\r\n    return Stream.of(str.split(&quot;,&quot;))\r\n      .map(String::trim)\r\n      .map (elem -&gt; new String(elem))//optional\r\n      .collect(Collectors.toList());\r\n\r\n    ","title":"Java - Split and trim in one shot","body":"<p>create your own custom function</p>\n<pre><code>private static String[] split_and_trim_in_one_shot(String string){\n String[] result  = string.split(&quot;,&quot;);\n int array_length = result.length;\n\n for(int i =0; i &lt; array_length ; i++){\n  result[i]=result[i].trim();\n }\n return result;\n</code></pre>\n<p>Overload with a consideration for custom delimiter</p>\n<pre><code>private static String[] split_and_trim_in_one_shot(String string, String delimiter){\n String[] result  = string.split(delimiter);\n int array_length = result.length;\n\n for(int i =0; i &lt; array_length ; i++){\n  result[i]=result[i].trim();\n }\n return result;\n</code></pre>\n<p>with streams</p>\n<pre><code>public static List&lt;String&gt; split(String str){\nreturn Stream.of(str.split(&quot;,&quot;))\n  .map(String::trim)\n  .map (elem -&gt; new String(elem))//optional\n  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7628917,"reputation":17,"user_id":5784599,"display_name":"Naveen"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1598173008,"creation_date":1598150165,"answer_id":63542874,"question_id":41953388,"body_markdown":"```java\r\n// given input\r\nString attributes = &quot; foo boo, faa baa, fii bii,&quot;;\r\n\r\n// desired output\r\nString[] result = {&quot;foo boo&quot;, &quot;faa baa&quot;, &quot;fii bii&quot;};\r\n```\r\n\r\nThis should work:\r\n```java\r\nString[] s = attributes.trim().split(&quot;[,]&quot;);\r\n```\r\n\r\nAs answered by @Raman Sahasi:\r\n&gt; before you split your string, you can trim the trailing and leading spaces. I&#39;ve used the delimiter `,` as it was your only delimiter in your string ","title":"Java - Split and trim in one shot","body":"<pre class=\"lang-java prettyprint-override\"><code>// given input\nString attributes = &quot; foo boo, faa baa, fii bii,&quot;;\n\n// desired output\nString[] result = {&quot;foo boo&quot;, &quot;faa baa&quot;, &quot;fii bii&quot;};\n</code></pre>\n<p>This should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] s = attributes.trim().split(&quot;[,]&quot;);\n</code></pre>\n<p>As answered by @Raman Sahasi:</p>\n<blockquote>\n<p>before you split your string, you can trim the trailing and leading spaces. I've used the delimiter <code>,</code> as it was your only delimiter in your string</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9066862,"reputation":5,"user_id":6751387,"display_name":"Mahantesh Chatter"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1600196409,"creation_date":1600189871,"answer_id":63906812,"question_id":41953388,"body_markdown":"Best way is:\r\n\r\n    value.split(&quot;,&quot;).map(function(x) {return x.trim()});","title":"Java - Split and trim in one shot","body":"<p>Best way is:</p>\n<pre><code>value.split(&quot;,&quot;).map(function(x) {return x.trim()});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2115257,"reputation":779,"user_id":1879731,"accept_rate":50,"display_name":"Olivier Masseau"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646397740,"creation_date":1646397740,"answer_id":71351591,"question_id":41953388,"body_markdown":"You can do it with Google Guava library this way :\r\n\r\n    List&lt;String&gt; results = Splitter.on(&quot;,&quot;).trimResults().splitToList(attributes);\r\n\r\nwhich I find quite elegant as the code is very explicit in what it does when you read it.","title":"Java - Split and trim in one shot","body":"<p>You can do it with Google Guava library this way :</p>\n<pre><code>List&lt;String&gt; results = Splitter.on(&quot;,&quot;).trimResults().splitToList(attributes);\n</code></pre>\n<p>which I find quite elegant as the code is very explicit in what it does when you read it.</p>\n"},{"tags":[],"owner":{"account_id":1088091,"reputation":1226,"user_id":1083338,"accept_rate":64,"display_name":"Umair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660636190,"creation_date":1660636190,"answer_id":73370495,"question_id":41953388,"body_markdown":"ApaceCommons StringUtils.stripAll function can be used to trim individual elements of an array. It leaves the null as null if some of your array elements are null. \r\n\r\nHere, \r\n\r\n    String[] array = StringUtils.stripAll(attributes.split(&quot;,&quot;));","title":"Java - Split and trim in one shot","body":"<p>ApaceCommons StringUtils.stripAll function can be used to trim individual elements of an array. It leaves the null as null if some of your array elements are null.</p>\n<p>Here,</p>\n<pre><code>String[] array = StringUtils.stripAll(attributes.split(&quot;,&quot;));\n</code></pre>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118113,"favorite_count":0,"down_vote_count":3,"up_vote_count":97,"accepted_answer_id":41953571,"answer_count":10,"score":94,"last_activity_date":1701412902,"creation_date":1485853289,"question_id":41953388,"body_markdown":"I have a String like this : \r\n\r\n    String attributes = &quot; foo boo, faa baa, fii bii,&quot;\r\n\r\nand I want to get a result like this :\r\n\r\n    String[] result = {&quot;foo boo&quot;, &quot;faa baa&quot;, &quot;fii bii&quot;};\r\n\r\nSo my issue is how should to make split and trim in one shot i already split:\r\n\r\n    String[] result = attributes.split(&quot;,&quot;);\r\n\r\nBut the `spaces` still in the result :\r\n\r\n    String[] result = {&quot; foo boo&quot;, &quot; faa baa&quot;, &quot; fii bii&quot;};\r\n                        ^           ^           ^\r\nI know that we can make a loop and make `trim` for every one but I want to makes it in shot.","title":"Java - Split and trim in one shot","body":"<p>I have a String like this :</p>\n<pre><code>String attributes = &quot; foo boo, faa baa, fii bii,&quot;\n</code></pre>\n<p>and I want to get a result like this :</p>\n<pre><code>String[] result = {&quot;foo boo&quot;, &quot;faa baa&quot;, &quot;fii bii&quot;};\n</code></pre>\n<p>So my issue is how should to make split and trim in one shot i already split:</p>\n<pre><code>String[] result = attributes.split(&quot;,&quot;);\n</code></pre>\n<p>But the <code>spaces</code> still in the result :</p>\n<pre><code>String[] result = {&quot; foo boo&quot;, &quot; faa baa&quot;, &quot; fii bii&quot;};\n                    ^           ^           ^\n</code></pre>\n<p>I know that we can make a loop and make <code>trim</code> for every one but I want to makes it in shot.</p>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":2,"creation_date":1550474607,"post_id":54742207,"comment_id":96266555,"body_markdown":"You can add details like screenshot of your current UI and expected UI for us to have a clear picture","body":"You can add details like screenshot of your current UI and expected UI for us to have a clear picture"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1550474635,"post_id":54742207,"comment_id":96266582,"body_markdown":"Use [ImageSpan](https://developer.android.com/reference/android/text/style/ImageSpan) instead . Compound Drawable will always show either of 4 edges so you need to add icon to the text in this case .","body":"Use <a href=\"https://developer.android.com/reference/android/text/style/ImageSpan\" rel=\"nofollow noreferrer\">ImageSpan</a> instead . Compound Drawable will always show either of 4 edges so you need to add icon to the text in this case ."}],"answers":[{"tags":[],"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1701412581,"creation_date":1550474783,"answer_id":54742260,"question_id":54742207,"body_markdown":"You can embed an [`ImageSpan`][1] in a [`SpannableString`][2] and set the [`TextView`][3] to display that. For example:\r\n\r\n\r\n    String text = &quot;hello  &quot;;\r\n    SpannableStringBuilder sb = new SpannableStringBuilder(text);\r\n    ImageSpan imageSpan = new ImageSpan(context, R.drawable.my_icon);\r\n    sb.setSpan(imageSpan, text.length() - 1, text.length()), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n    textView.setText(sb);\r\n\r\n  [1]: https://developer.android.com/reference/android/text/style/ImageSpan\r\n  [2]: https://developer.android.com/reference/android/text/SpannableString\r\n  [3]: https://developer.android.com/reference/android/widget/TextView","title":"Set drawable to the end of the text, in TextView","body":"<p>You can embed an <a href=\"https://developer.android.com/reference/android/text/style/ImageSpan\" rel=\"nofollow noreferrer\"><code>ImageSpan</code></a> in a <a href=\"https://developer.android.com/reference/android/text/SpannableString\" rel=\"nofollow noreferrer\"><code>SpannableString</code></a> and set the <a href=\"https://developer.android.com/reference/android/widget/TextView\" rel=\"nofollow noreferrer\"><code>TextView</code></a> to display that. For example:</p>\n<pre><code>String text = &quot;hello  &quot;;\nSpannableStringBuilder sb = new SpannableStringBuilder(text);\nImageSpan imageSpan = new ImageSpan(context, R.drawable.my_icon);\nsb.setSpan(imageSpan, text.length() - 1, text.length()), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\ntextView.setText(sb);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10372270,"reputation":718,"user_id":7649582,"display_name":"Asteroid"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550475391,"creation_date":1550475391,"answer_id":54742399,"question_id":54742207,"body_markdown":"Check this -  \r\n\r\n  \r\n\r\n     &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:drawableRight=&quot;@drawable/ic_arrow_back_black_24dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:paddingLeft=&quot;10dp&quot;\r\n                android:paddingRight=&quot;10dp&quot;\r\n                android:drawablePadding=&quot;10dp&quot;\r\n                android:text=&quot;text&quot;/&gt;","title":"Set drawable to the end of the text, in TextView","body":"<p>Check this -  </p>\n\n<pre><code> &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:drawableRight=\"@drawable/ic_arrow_back_black_24dp\"\n            android:gravity=\"center\"\n            android:paddingLeft=\"10dp\"\n            android:paddingRight=\"10dp\"\n            android:drawablePadding=\"10dp\"\n            android:text=\"text\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6434390,"reputation":54,"user_id":4986424,"display_name":"Akhil MG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550475655,"creation_date":1550475655,"answer_id":54742470,"question_id":54742207,"body_markdown":"Try setting\r\n\r\n    android:layout_width=&quot;match_parent&quot;","title":"Set drawable to the end of the text, in TextView","body":"<p>Try setting</p>\n\n<pre><code>android:layout_width=\"match_parent\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":202974,"reputation":3884,"user_id":450356,"accept_rate":40,"display_name":"Adib Faramarzi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550476723,"creation_date":1550476723,"answer_id":54742692,"question_id":54742207,"body_markdown":"You need to use `android:drawableEnd` instead of `drawableRight`.","title":"Set drawable to the end of the text, in TextView","body":"<p>You need to use <code>android:drawableEnd</code> instead of <code>drawableRight</code>.</p>\n"}],"owner":{"account_id":12388089,"reputation":222,"user_id":9030938,"display_name":"Naveen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54742260,"answer_count":4,"score":1,"last_activity_date":1701412581,"creation_date":1550474525,"question_id":54742207,"body_markdown":"I want to set the drawable image to the end of the text but it shows the end of the text view.\r\n\r\n**Here is my code**\r\n       \r\n    &lt;TextView\r\n         android:id=&quot;@+id/tv_overweight_messsage&quot;\r\n         android:layout_width=&quot;wrap_content&quot;\r\n         android:layout_height=&quot;wrap_content\r\n         android:layout_marginTop=&quot;@dimen/activity_marginVertical_Large&quot;\r\n         android:gravity=&quot;center&quot;\r\n         android:text=&quot;dvdmnvkdnxknb vcnbvcxmnbxm,cbn,m vnnxmndxvbhddbv svbhzv&quot;\r\n         android:textColor=&quot;@color/required&quot;\r\n         android:textSize=&quot;@dimen/textSize_small&quot;\r\n         android:drawablePadding=&quot;@dimen/widget_padding&quot;\r\n         android:drawableRight=&quot;@drawable/img_infobn&quot;\r\n         android:visibility=&quot;gone&quot;\r\n         app:mfafont=&quot;@string/font_Questrial_Regular&quot;\r\n         tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n","title":"Set drawable to the end of the text, in TextView","body":"<p>I want to set the drawable image to the end of the text but it shows the end of the text view.</p>\n\n<p><strong>Here is my code</strong></p>\n\n<pre><code>&lt;TextView\n     android:id=\"@+id/tv_overweight_messsage\"\n     android:layout_width=\"wrap_content\"\n     android:layout_height=\"wrap_content\n     android:layout_marginTop=\"@dimen/activity_marginVertical_Large\"\n     android:gravity=\"center\"\n     android:text=\"dvdmnvkdnxknb vcnbvcxmnbxm,cbn,m vnnxmndxvbhddbv svbhzv\"\n     android:textColor=\"@color/required\"\n     android:textSize=\"@dimen/textSize_small\"\n     android:drawablePadding=\"@dimen/widget_padding\"\n     android:drawableRight=\"@drawable/img_infobn\"\n     android:visibility=\"gone\"\n     app:mfafont=\"@string/font_Questrial_Regular\"\n     tools:visibility=\"visible\" /&gt;\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","log4j"],"answers":[{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701412336,"creation_date":1701412017,"answer_id":77583357,"question_id":77583236,"body_markdown":"A bit of a facepalm moment, but I went back and [RTFM](https://en.wikipedia.org/wiki/RTFM)&#39;d and these are the two mistakes (and fixes)\r\n\r\n1. It&#39;s called `log4j2.properties`, not `log4j.properties` emphasis on the `2`.\r\n\r\n   ```\r\n   src/test/resources/log4j2.properties\r\n                           ^------------ the number two is needed\r\n   ```\r\n2. There&#39;s no `log4j` prefix on the properties.\r\n   ```properties\r\n   # BEFORE\r\n   log4j.rootLogger=...\r\n   #    ^------------ remove the &quot;log4j.&quot; prefix\r\n\r\n\r\n   # AFTER\r\n   rootLogger=...\r\n   ```\r\n\r\nNow there is a working IntelliJ and customizable log4j.\r\n\r\nAlthough these may be obvious to some, I&#39;m leaving both the question and answer here because a lot of time was wasted on these small details and I&#39;m hoping it will save others some time. \r\n","title":"Customize log4j in unit testing from IntelliJ","body":"<p>A bit of a facepalm moment, but I went back and <a href=\"https://en.wikipedia.org/wiki/RTFM\" rel=\"nofollow noreferrer\">RTFM</a>'d and these are the two mistakes (and fixes)</p>\n<ol>\n<li><p>It's called <code>log4j2.properties</code>, not <code>log4j.properties</code> emphasis on the <code>2</code>.</p>\n<pre><code>src/test/resources/log4j2.properties\n                        ^------------ the number two is needed\n</code></pre>\n</li>\n<li><p>There's no <code>log4j</code> prefix on the properties.</p>\n<pre><code># BEFORE\nlog4j.rootLogger=...\n#    ^------------ remove the &quot;log4j.&quot; prefix\n\n\n# AFTER\nrootLogger=...\n</code></pre>\n</li>\n</ol>\n<p>Now there is a working IntelliJ and customizable log4j.</p>\n<p>Although these may be obvious to some, I'm leaving both the question and answer here because a lot of time was wasted on these small details and I'm hoping it will save others some time.</p>\n"}],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701412336,"creation_date":1701409875,"question_id":77583236,"body_markdown":"I&#39;d like to customize some junit logs from the IntelliJ IDE.\r\n\r\nI have a sample IntelliJ Maven project.  My goal is to be able to configure the logs for `src/test/java`.\r\n\r\nFrom my understanding, the convention for the log4j configuration is to place it in:\r\n* `src/test/resources/log4j.properties`\r\n* IntelliJ automatically recognizes the `src/test/resources/` as a Maven resources directory.\r\n* I&#39;ve also tried to add the `log4j.properties` file to the root `test` and `src` directories, both to no avail.\r\n\r\n\r\nMy unit test looks like this:\r\n\r\n```\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.junit.Test;\r\n\r\npublic class LogTest {\r\n    private static Logger log = LogManager.getLogger(LogTest.class);\r\n\r\n    @Test\r\n    public void printLogs() {\r\n        log.info(&quot;Hello world from log.info!&quot;);\r\n        log.error(&quot;Hello world from log.error!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy `src/test/resources/log4j.properties` looks like this:\r\n```properties\r\nlog4j.rootLogger=ALL\r\n```\r\n\r\n... however the output never shows the `log.info` line.\r\n\r\n&lt;pre&gt;\r\n00:48:19.766 [main] ERROR LogTest - Hello world from log.error!\r\n\r\nProcess finished with exit code 0\r\n&lt;/pre&gt;\r\n\r\n... so I&#39;m stuck at the very first first step of configuring my unit test logs.  What am I doing wrong?  I&#39;m happy to share the `pom.xml` and/or IntelliJ project if needed.  It&#39;s the default Maven project that IntelliJ provides with dependencies for `junit`, `log4j-api`, and `log4j-core` added.","title":"Customize log4j in unit testing from IntelliJ","body":"<p>I'd like to customize some junit logs from the IntelliJ IDE.</p>\n<p>I have a sample IntelliJ Maven project.  My goal is to be able to configure the logs for <code>src/test/java</code>.</p>\n<p>From my understanding, the convention for the log4j configuration is to place it in:</p>\n<ul>\n<li><code>src/test/resources/log4j.properties</code></li>\n<li>IntelliJ automatically recognizes the <code>src/test/resources/</code> as a Maven resources directory.</li>\n<li>I've also tried to add the <code>log4j.properties</code> file to the root <code>test</code> and <code>src</code> directories, both to no avail.</li>\n</ul>\n<p>My unit test looks like this:</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.junit.Test;\n\npublic class LogTest {\n    private static Logger log = LogManager.getLogger(LogTest.class);\n\n    @Test\n    public void printLogs() {\n        log.info(&quot;Hello world from log.info!&quot;);\n        log.error(&quot;Hello world from log.error!&quot;);\n    }\n}\n</code></pre>\n<p>My <code>src/test/resources/log4j.properties</code> looks like this:</p>\n<pre><code>log4j.rootLogger=ALL\n</code></pre>\n<p>... however the output never shows the <code>log.info</code> line.</p>\n<pre>\n00:48:19.766 [main] ERROR LogTest - Hello world from log.error!\n\nProcess finished with exit code 0\n</pre>\n<p>... so I'm stuck at the very first first step of configuring my unit test logs.  What am I doing wrong?  I'm happy to share the <code>pom.xml</code> and/or IntelliJ project if needed.  It's the default Maven project that IntelliJ provides with dependencies for <code>junit</code>, <code>log4j-api</code>, and <code>log4j-core</code> added.</p>\n"},{"tags":["python","java","tensorflow","opencv","keras-vggface"],"owner":{"account_id":26958948,"reputation":317,"user_id":20526897,"display_name":"Zaryab Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701412074,"creation_date":1701412074,"question_id":77583358,"body_markdown":"I&#39;m trying to use some pre-trained model in Java. I&#39;m using Intellij Idea and I&#39;ve added library dependency of TensorFlow and Added OpenCV via project structure.\r\n\r\n`libraryDependency += &quot;org.tensorflow&quot; % &quot;tensorflow&quot; % &quot;1.15.0&quot;`\r\n\r\nI&#39;ve downloaded the VGGFace2 pre-trained model from [here][1], and trying to use its **.pb** file and find face embeddings.\r\n\r\nFiles which I get after completion of download:\r\n\r\n    /20170512-110547/20170512-110547.pb\r\n    /20170512-110547/model-20170512-110547.ckpt-250000.data-00000-of-00001\r\n    /20170512-110547/model-20170512-110547.ckpt-250000.index\r\n    /20170512-110547/model-20170512-110547.meta\r\n\r\n\r\n**Code:**\r\n```\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\nimport org.tensorflow.*;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.FloatBuffer;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.Files;\r\nimport java.io.IOException;\r\n\r\npublic class DirectTensorflowTest {\r\n    public static void main(String[] args) {\r\n        // Load OpenCV library\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\r\n        // Path to the FaceNet model\r\n        String modelDir = &quot;/home/zaryab/Downloads/20170512-110547&quot;;\r\n\r\n        try {\r\n            // Read the FaceNet model graph\r\n            byte[] graphDef = readAllBytesOrExit(Paths.get(modelDir, &quot;20170512-110547.pb&quot;));\r\n\r\n            // Import the graph definition into TensorFlow Graph\r\n            Graph g = new Graph();\r\n            g.importGraphDef(graphDef);\r\n\r\n            // Create a TensorFlow session with the imported graph\r\n            try (Session s = new Session(g)) {\r\n                // Load an image using OpenCV (replace this with your image loading logic)\r\n                String imagePath = &quot;/home/zaryab/Desktop/IMG_20231124_171435.jpg&quot;;\r\n                Mat openCVMat = Imgcodecs.imread(imagePath);\r\n\r\n                // Convert OpenCV Mat to float array\r\n                float[] floatArray = convertMatToFloatArray(openCVMat);\r\n\r\n                // Byte array to TensorFlow Tensor\r\n                ByteBuffer byteBuffer = ByteBuffer.allocate(floatArray.length * Float.BYTES);\r\n                byteBuffer.asFloatBuffer().put(floatArray);\r\n                byte[] imageByte = byteBuffer.array();\r\n\r\n                FloatBuffer fb = ByteBuffer.wrap(imageByte).asFloatBuffer();\r\n                Tensor&lt;Float&gt; imageF = Tensor.create(new long[]{1, openCVMat.rows(), openCVMat.cols(), 1}, fb);\r\n\r\n                Tensor&lt;Boolean&gt; falseTensor = Tensors.create(false);\r\n\r\n                // Run the session to get embeddings\r\n                Tensor&lt;Float&gt; result = s.runner()\r\n                        .feed(&quot;input&quot;, imageF)\r\n                        .feed(&quot;phase_train&quot;, falseTensor)\r\n                        .fetch(&quot;embeddings&quot;)\r\n                        .run()\r\n                        .get(0)\r\n                        .expect(Float.class);\r\n\r\n                // Access the embeddings\r\n                float[][] embeddings = new float[1][(int) result.shape()[1]]; // Assuming shape[1] gives the embedding size\r\n                result.copyTo(embeddings);\r\n\r\n                System.out.println(embeddings);\r\n\r\n                result.close();\r\n                imageF.close();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Function to convert OpenCV Mat to float array\r\n    public static float[] convertMatToFloatArray(Mat mat) {\r\n        int rows = mat.rows();\r\n        int cols = mat.cols();\r\n\r\n        float[] floatArray = new float[rows * cols];\r\n\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            for (int j = 0; j &lt; cols; j++) {\r\n                floatArray[i * cols + j] = (float) (mat.get(i, j)[0] / 255.0); // Normalize pixel values between 0 and 1\r\n            }\r\n        }\r\n\r\n        return floatArray;\r\n    }\r\n\r\n    // Function to read all bytes from a file\r\n    public static byte[] readAllBytesOrExit(java.nio.file.Path path) throws IOException {\r\n        return Files.readAllBytes(path);\r\n    }\r\n}\r\n\r\n```\r\nI&#39;ve taken some help from [this github issue][2] but still getting error:\r\n\r\n```\r\n2023-12-01 11:19:51.689467: W tensorflow/core/framework/op_kernel.cc:1651] OP_REQUIRES failed at conv_ops.cc:491 : Invalid argument: input depth must be evenly divisible by filter depth: 1 vs 3\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: input depth must be evenly divisible by filter depth: 1 vs 3\r\n\t [[{{node InceptionResnetV1/Conv2d_1a_3x3/convolution}}]]\r\n\tat org.tensorflow.Session.run(Native Method)\r\n\tat org.tensorflow.Session.access$100(Session.java:48)\r\n\tat org.tensorflow.Session$Runner.runHelper(Session.java:326)\r\n\tat org.tensorflow.Session$Runner.run(Session.java:276)\r\n\tat DirectTensorflowTest.main(DirectTensorflowTest.java:111)\r\n```\r\n\r\n**Guide me how can I resolve above issue and successfully use this model in java using Tensorflow?**\r\n\r\n\r\n  [1]: https://github.com/davidsandberg/facenet\r\n  [2]: https://github.com/davidsandberg/facenet/issues/659","title":"How to use .pb file of VGGFace2 in tensorflow (java) to find Face Embeddings?","body":"<p>I'm trying to use some pre-trained model in Java. I'm using Intellij Idea and I've added library dependency of TensorFlow and Added OpenCV via project structure.</p>\n<p><code>libraryDependency += &quot;org.tensorflow&quot; % &quot;tensorflow&quot; % &quot;1.15.0&quot;</code></p>\n<p>I've downloaded the VGGFace2 pre-trained model from <a href=\"https://github.com/davidsandberg/facenet\" rel=\"nofollow noreferrer\">here</a>, and trying to use its <strong>.pb</strong> file and find face embeddings.</p>\n<p>Files which I get after completion of download:</p>\n<pre><code>/20170512-110547/20170512-110547.pb\n/20170512-110547/model-20170512-110547.ckpt-250000.data-00000-of-00001\n/20170512-110547/model-20170512-110547.ckpt-250000.index\n/20170512-110547/model-20170512-110547.meta\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>import org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.tensorflow.*;\nimport java.nio.ByteBuffer;\nimport java.nio.FloatBuffer;\nimport java.nio.file.Paths;\nimport java.nio.file.Files;\nimport java.io.IOException;\n\npublic class DirectTensorflowTest {\n    public static void main(String[] args) {\n        // Load OpenCV library\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n\n        // Path to the FaceNet model\n        String modelDir = &quot;/home/zaryab/Downloads/20170512-110547&quot;;\n\n        try {\n            // Read the FaceNet model graph\n            byte[] graphDef = readAllBytesOrExit(Paths.get(modelDir, &quot;20170512-110547.pb&quot;));\n\n            // Import the graph definition into TensorFlow Graph\n            Graph g = new Graph();\n            g.importGraphDef(graphDef);\n\n            // Create a TensorFlow session with the imported graph\n            try (Session s = new Session(g)) {\n                // Load an image using OpenCV (replace this with your image loading logic)\n                String imagePath = &quot;/home/zaryab/Desktop/IMG_20231124_171435.jpg&quot;;\n                Mat openCVMat = Imgcodecs.imread(imagePath);\n\n                // Convert OpenCV Mat to float array\n                float[] floatArray = convertMatToFloatArray(openCVMat);\n\n                // Byte array to TensorFlow Tensor\n                ByteBuffer byteBuffer = ByteBuffer.allocate(floatArray.length * Float.BYTES);\n                byteBuffer.asFloatBuffer().put(floatArray);\n                byte[] imageByte = byteBuffer.array();\n\n                FloatBuffer fb = ByteBuffer.wrap(imageByte).asFloatBuffer();\n                Tensor&lt;Float&gt; imageF = Tensor.create(new long[]{1, openCVMat.rows(), openCVMat.cols(), 1}, fb);\n\n                Tensor&lt;Boolean&gt; falseTensor = Tensors.create(false);\n\n                // Run the session to get embeddings\n                Tensor&lt;Float&gt; result = s.runner()\n                        .feed(&quot;input&quot;, imageF)\n                        .feed(&quot;phase_train&quot;, falseTensor)\n                        .fetch(&quot;embeddings&quot;)\n                        .run()\n                        .get(0)\n                        .expect(Float.class);\n\n                // Access the embeddings\n                float[][] embeddings = new float[1][(int) result.shape()[1]]; // Assuming shape[1] gives the embedding size\n                result.copyTo(embeddings);\n\n                System.out.println(embeddings);\n\n                result.close();\n                imageF.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    // Function to convert OpenCV Mat to float array\n    public static float[] convertMatToFloatArray(Mat mat) {\n        int rows = mat.rows();\n        int cols = mat.cols();\n\n        float[] floatArray = new float[rows * cols];\n\n        for (int i = 0; i &lt; rows; i++) {\n            for (int j = 0; j &lt; cols; j++) {\n                floatArray[i * cols + j] = (float) (mat.get(i, j)[0] / 255.0); // Normalize pixel values between 0 and 1\n            }\n        }\n\n        return floatArray;\n    }\n\n    // Function to read all bytes from a file\n    public static byte[] readAllBytesOrExit(java.nio.file.Path path) throws IOException {\n        return Files.readAllBytes(path);\n    }\n}\n\n</code></pre>\n<p>I've taken some help from <a href=\"https://github.com/davidsandberg/facenet/issues/659\" rel=\"nofollow noreferrer\">this github issue</a> but still getting error:</p>\n<pre><code>2023-12-01 11:19:51.689467: W tensorflow/core/framework/op_kernel.cc:1651] OP_REQUIRES failed at conv_ops.cc:491 : Invalid argument: input depth must be evenly divisible by filter depth: 1 vs 3\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: input depth must be evenly divisible by filter depth: 1 vs 3\n     [[{{node InceptionResnetV1/Conv2d_1a_3x3/convolution}}]]\n    at org.tensorflow.Session.run(Native Method)\n    at org.tensorflow.Session.access$100(Session.java:48)\n    at org.tensorflow.Session$Runner.runHelper(Session.java:326)\n    at org.tensorflow.Session$Runner.run(Session.java:276)\n    at DirectTensorflowTest.main(DirectTensorflowTest.java:111)\n</code></pre>\n<p><strong>Guide me how can I resolve above issue and successfully use this model in java using Tensorflow?</strong></p>\n"},{"tags":["java","antlr","antlr4"],"comments":[{"owner":{"account_id":5763746,"reputation":415,"user_id":5652258,"display_name":"Some Guy"},"score":0,"creation_date":1548417103,"post_id":16343288,"comment_id":95543272,"body_markdown":"See also [this question](https://stackoverflow.com/questions/7443860/get-original-text-of-an-antlr-rule) and [this question](https://stackoverflow.com/questions/50443728/context-gettext-excludes-spaces-in-antlr4).","body":"See also <a href=\"https://stackoverflow.com/questions/7443860/get-original-text-of-an-antlr-rule\">this question</a> and <a href=\"https://stackoverflow.com/questions/50443728/context-gettext-excludes-spaces-in-antlr4\">this question</a>."}],"answers":[{"tags":[],"owner":{"account_id":1458562,"reputation":1769,"user_id":1373521,"accept_rate":70,"display_name":"monty0"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1367512627,"creation_date":1367512627,"answer_id":16343289,"question_id":16343288,"body_markdown":"ANTLR&#39;s `CharStream` class has a method `getText(Interval interval)` which will return the original source in the give range.  The `Context` object has methods to get the beginning and end.  Assuming you have a field in your listener called `input` which has the CharStream being parsed, you can do this:\r\n\r\n        int a = ctx.start.getStartIndex();\r\n        int b = ctx.stop.getStopIndex();\r\n        Interval interval = new Interval(a,b);\r\n        input.getText(interval);","title":"How do I get the original text that an antlr4 rule matched?","body":"<p>ANTLR's <code>CharStream</code> class has a method <code>getText(Interval interval)</code> which will return the original source in the give range.  The <code>Context</code> object has methods to get the beginning and end.  Assuming you have a field in your listener called <code>input</code> which has the CharStream being parsed, you can do this:</p>\n\n<pre><code>    int a = ctx.start.getStartIndex();\n    int b = ctx.stop.getStopIndex();\n    Interval interval = new Interval(a,b);\n    input.getText(interval);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14192537,"reputation":141,"user_id":10252707,"display_name":"ideal"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1535426635,"creation_date":1535426635,"answer_id":52049632,"question_id":16343288,"body_markdown":"demo:\r\n\r\n    SqlBaseParser.QueryContext queryContext = context.query();\r\n    int a = queryContext.start.getStartIndex();\r\n    int b = queryContext.stop.getStopIndex();\r\n    Interval interval = new Interval(a,b);\r\n    String viewSql = context.start.getInputStream().getText(interval);","title":"How do I get the original text that an antlr4 rule matched?","body":"<p>demo:</p>\n\n<pre><code>SqlBaseParser.QueryContext queryContext = context.query();\nint a = queryContext.start.getStartIndex();\nint b = queryContext.stop.getStopIndex();\nInterval interval = new Interval(a,b);\nString viewSql = context.start.getInputStream().getText(interval);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18061814,"reputation":370,"user_id":13128763,"display_name":"Heinrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626080297,"creation_date":1626080297,"answer_id":68344574,"question_id":16343288,"body_markdown":"Python implementation:\r\n\r\n```python\r\ndef extract_original_text(self, ctx):\r\n    token_source = ctx.start.getTokenSource()\r\n    input_stream = token_source.inputStream\r\n    start, stop  = ctx.start.start, ctx.stop.stop\r\n    return input_stream.getText(start, stop)\r\n```","title":"How do I get the original text that an antlr4 rule matched?","body":"<p>Python implementation:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def extract_original_text(self, ctx):\n    token_source = ctx.start.getTokenSource()\n    input_stream = token_source.inputStream\n    start, stop  = ctx.start.start, ctx.stop.stop\n    return input_stream.getText(start, stop)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30037591,"reputation":11,"user_id":23019171,"display_name":"user23019171"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701411418,"creation_date":1701411418,"answer_id":77583321,"question_id":16343288,"body_markdown":"[The accepted answer](https://stackoverflow.com/a/16343289) doesn&#39;t work when there are errors during the parsing, and antlr fixes those errors (which is the default behavior).  \r\nBy default antlr uses [`DefaultErrorStrategy`](https://www.antlr.org/api/Java/org/antlr/v4/runtime/DefaultErrorStrategy.html) which creates tokens with `startIndex=endIndex=-1` for missing tokens ([here](https://github.com/antlr/antlr4/blob/v4.11.1/runtime/Java/src/org/antlr/v4/runtime/DefaultErrorStrategy.java#L599) is the source code).  \r\nThe code in the accepted answer will throw an exception in case of such tokens.\r\n\r\nAlso antlr&#39;s smart error handling [can delete](https://github.com/antlr/antlr4/blob/v4.11.1/runtime/Java/src/org/antlr/v4/runtime/DefaultErrorStrategy.java#L467) some &quot;extra&quot; tokens.\r\n\r\nAs a result, &quot;the matched text&quot; can consists of multiple chunks of the original text + some tokens that have no matched original text.\r\n\r\nSome possible solutions for this problem:\r\n- either use `ANTLRErrorStrategy` without smart error handling (e.g. [`BailErrorStrategy`](https://www.antlr.org/api/Java/org/antlr/v4/runtime/BailErrorStrategy.html))\r\n- or iterate recursively over node&#39;s children and collect text from valid tokens only.","title":"How do I get the original text that an antlr4 rule matched?","body":"<p><a href=\"https://stackoverflow.com/a/16343289\">The accepted answer</a> doesn't work when there are errors during the parsing, and antlr fixes those errors (which is the default behavior).<br />\nBy default antlr uses <a href=\"https://www.antlr.org/api/Java/org/antlr/v4/runtime/DefaultErrorStrategy.html\" rel=\"nofollow noreferrer\"><code>DefaultErrorStrategy</code></a> which creates tokens with <code>startIndex=endIndex=-1</code> for missing tokens (<a href=\"https://github.com/antlr/antlr4/blob/v4.11.1/runtime/Java/src/org/antlr/v4/runtime/DefaultErrorStrategy.java#L599\" rel=\"nofollow noreferrer\">here</a> is the source code).<br />\nThe code in the accepted answer will throw an exception in case of such tokens.</p>\n<p>Also antlr's smart error handling <a href=\"https://github.com/antlr/antlr4/blob/v4.11.1/runtime/Java/src/org/antlr/v4/runtime/DefaultErrorStrategy.java#L467\" rel=\"nofollow noreferrer\">can delete</a> some &quot;extra&quot; tokens.</p>\n<p>As a result, &quot;the matched text&quot; can consists of multiple chunks of the original text + some tokens that have no matched original text.</p>\n<p>Some possible solutions for this problem:</p>\n<ul>\n<li>either use <code>ANTLRErrorStrategy</code> without smart error handling (e.g. <a href=\"https://www.antlr.org/api/Java/org/antlr/v4/runtime/BailErrorStrategy.html\" rel=\"nofollow noreferrer\"><code>BailErrorStrategy</code></a>)</li>\n<li>or iterate recursively over node's children and collect text from valid tokens only.</li>\n</ul>\n"}],"owner":{"account_id":1458562,"reputation":1769,"user_id":1373521,"accept_rate":70,"display_name":"monty0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13090,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":16343289,"answer_count":4,"score":47,"last_activity_date":1701411418,"creation_date":1367512627,"question_id":16343288,"body_markdown":"Using the Java 7 grammar https://github.com/antlr/grammars-v4/blob/master/java7/Java7.g4 I want to find methods with a specific name and then just print out that method.  I see that I can use the `methodDeclaration` rule when I match.  So I subclass `Java7BaseListener` and override this listener method:\r\n\r\n    @Override public void enterMethodDeclaration(Java7Parser.MethodDeclarationContext ctx) { }\r\n\r\nHow do I get the original text out?  `ctx.getText()` gives me a string with all the whitespace stripped out.  I want the comments and original formatting.\r\n","title":"How do I get the original text that an antlr4 rule matched?","body":"<p>Using the Java 7 grammar <a href=\"https://github.com/antlr/grammars-v4/blob/master/java7/Java7.g4\" rel=\"noreferrer\">https://github.com/antlr/grammars-v4/blob/master/java7/Java7.g4</a> I want to find methods with a specific name and then just print out that method.  I see that I can use the <code>methodDeclaration</code> rule when I match.  So I subclass <code>Java7BaseListener</code> and override this listener method:</p>\n\n<pre><code>@Override public void enterMethodDeclaration(Java7Parser.MethodDeclarationContext ctx) { }\n</code></pre>\n\n<p>How do I get the original text out?  <code>ctx.getText()</code> gives me a string with all the whitespace stripped out.  I want the comments and original formatting.</p>\n"},{"tags":["java","maven","netbeans","netbeans-platform","maven-dependency-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":3,"creation_date":1684694370,"post_id":76300401,"comment_id":134550806,"body_markdown":"please try with the latest dependency plugin version `mvn dependency:3.5.0:analyze`","body":"please try with the latest dependency plugin version <code>mvn dependency:3.5.0:analyze</code>"},{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":1,"creation_date":1685221394,"post_id":76300401,"comment_id":134632340,"body_markdown":"Thank you that solved my issue, you can post the answer...","body":"Thank you that solved my issue, you can post the answer..."}],"answers":[{"tags":[],"owner":{"account_id":137056,"reputation":111,"user_id":340993,"accept_rate":75,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701410935,"creation_date":1701410935,"answer_id":77583291,"question_id":76300401,"body_markdown":"Use the latest version of the dependency plugin.\r\nAdd this to the pluginManagement section of your pom:\r\n\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.5.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n","title":"Unable to process file error with maven-dependency-analyzer","body":"<p>Use the latest version of the dependency plugin.\nAdd this to the pluginManagement section of your pom:</p>\n<pre><code>&lt;pluginManagement&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.5.0&lt;/version&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1762,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701410935,"creation_date":1684679457,"question_id":76300401,"body_markdown":"`mvn dependency:analyze` on my project is unable to process files (see log below). I can&#39;t understand why, the compilation seems OK since I can run the application fine.\r\n\r\n\r\nThe parent pom.xml configures `maven.compiler.plugin.version=3.10.0` with `release=17`, and `-Xlint:all` as compiler arguments. \r\n\r\nRepo is available [here][1]. The log was used on project `modules/Phrase`, but all the modules have the same problem. Win10, cygwin, JDK17, and I&#39;m a beginner in Maven...\r\n\r\n    $ mvn dependency:analyze -Dmaven.plugin.validation=VERBOSE\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] -------------------&lt; org.jjazzlab:org-jjazz-phrase &gt;--------------------\r\n    [INFO] Building Phrase 1.0-SNAPSHOT\r\n    [INFO]   from pom.xml\r\n    [INFO] --------------------------------[ nbm ]---------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; dependency:2.8:analyze (default-cli) &gt; test-compile @ org-jjazz-phrase &gt;&gt;&gt;\r\n    [INFO]\r\n    [INFO] --- resources:3.3.1:resources (default-resources) @ org-jjazz-phrase ---\r\n    [INFO] Copying 1 resource from src\\main\\resources to target\\classes\r\n    [INFO]\r\n    [INFO] --- compiler:3.10.0:compile (default-compile) @ org-jjazz-phrase ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- nbm:4.8:manifest (default-manifest) @ org-jjazz-phrase ---\r\n    [INFO] NBM Plugin generates manifest\r\n    [INFO]\r\n    [INFO] --- resources:3.3.1:testResources (default-testResources) @ org-jjazz-phrase ---\r\n    [INFO] skip non existing resourceDirectory D:\\JeromeDocs\\NetBeansProjects\\JJazzLab\\modules\\Phrase\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- compiler:3.10.0:testCompile (default-testCompile) @ org-jjazz-phrase ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] &lt;&lt;&lt; dependency:2.8:analyze (default-cli) &lt; test-compile @ org-jjazz-phrase &lt;&lt;&lt;\r\n    [INFO]\r\n    [INFO]\r\n    [INFO] --- dependency:2.8:analyze (default-cli) @ org-jjazz-phrase ---\r\n    Unable to process: org.jjazz.phrase.api.CyclicPositions\r\n    Unable to process: org.jjazz.phrase.api.Grid\r\n    Unable to process: org.jjazz.phrase.api.NoteEvent$AsNoteKey\r\n    Unable to process: org.jjazz.phrase.api.NoteEvent\r\n    Unable to process: org.jjazz.phrase.api.Phrase$6\r\n    Unable to process: org.jjazz.phrase.api.Phrase\r\n    Unable to process: org.jjazz.phrase.api.Phrases\r\n    Unable to process: org.jjazz.phrase.api.PhraseSamples\r\n    Unable to process: org.jjazz.phrase.api.SizedPhrase\r\n    Unable to process: org.jjazz.phrase.api.SourcePhrase\r\n    Unable to process: org.jjazz.phrase.api.SourcePhraseSet\r\n    [WARNING] Used undeclared dependencies found:\r\n    [WARNING]    com.google.guava:guava:jar:23.6-jre:compile\r\n    [WARNING] Unused declared dependencies found:\r\n    [WARNING]    org.jjazzlab:org-jjazz-guava:jar:1.0-SNAPSHOT:compile\r\n    [WARNING]    org.jjazzlab:org-jjazz-chordleadsheet:jar:1.0-SNAPSHOT:compile\r\n    [WARNING]    org.jjazzlab:org-jjazz-midi:jar:1.0-SNAPSHOT:compile\r\n    [WARNING]    org.netbeans.api:org-openide-dialogs:jar:RELEASE170:compile\r\n    [WARNING]    org.netbeans.api:org-openide-util:jar:RELEASE170:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  2.754 s\r\n    [INFO] Finished at: 2023-05-21T16:24:36+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [WARNING]\r\n    [WARNING] Plugin validation issues were detected in 4 plugin(s)\r\n    [WARNING]\r\n    [WARNING]  * org.apache.maven.plugins:maven-site-plugin:3.12.1\r\n    [WARNING]   Plugin issue(s):\r\n    [WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\r\n    [WARNING]\r\n    [WARNING]  * org.apache.maven.plugins:maven-compiler-plugin:3.10.0\r\n    [WARNING]   Declared at location(s):\r\n    [WARNING]    * org.jjazzlab:jjazzlab-parent:1.0-SNAPSHOT (C:\\Users\\Jerome\\.m2\\repository\\org\\jjazzlab\\jjazzlab-parent\\1.0-SNAPSHOT\\jjazzlab-parent-1.0-SNAPSHOT.pom) @ line 35\r\n    [WARNING]   Used in module(s):\r\n    [WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\r\n    [WARNING]   Plugin issue(s):\r\n    [WARNING]    * Plugin should declare these Maven artifacts in `provided` scope: [org.apache.maven:maven-plugin-api:3.2.5, org.apache.maven:maven-model:3.2.5, org.apache.maven:maven-core:3.2.5, org.apache.maven:\r\n    maven-settings:3.2.5, org.apache.maven:maven-model-builder:3.2.5, org.apache.maven:maven-repository-metadata:3.2.5, org.apache.maven:maven-aether-provider:3.2.5, org.apache.maven:maven-settings-builder:3.2.5, o\r\n    rg.apache.maven:maven-artifact:3.2.5]\r\n    [WARNING]\r\n    [WARNING]  * org.apache.netbeans.utilities:nbm-maven-plugin:4.8\r\n    [WARNING]   Declared at location(s):\r\n    [WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml) @ line 16\r\n    [WARNING]   Used in module(s):\r\n    [WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\r\n    [WARNING]   Plugin issue(s):\r\n    [WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\r\n    [WARNING]    * Plugin depends on plexus-container-default, which is EOL\r\n    [WARNING]   Mojo issue(s):\r\n    [WARNING]    * Mojo nbm:manifest (org.apache.netbeans.nbm.NetBeansManifestUpdateMojo)\r\n    [WARNING]      - Parameter &#39;localRepository&#39; uses deprecated parameter expression &#39;${localRepository}&#39;: ArtifactRepository type is deprecated and its use in Mojos should be avoided.\r\n    [WARNING]\r\n    [WARNING]  * org.apache.maven.plugins:maven-dependency-plugin:2.8\r\n    [WARNING]   Declared at location(s):\r\n    [WARNING]    * unknown\r\n    [WARNING]   Used in module(s):\r\n    [WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\r\n    [WARNING]   Plugin issue(s):\r\n    [WARNING]    * Plugin is a Maven 2.x plugin, which will be not supported in Maven 4.x\r\n    [WARNING]    * Plugin depends on plexus-container-default, which is EOL\r\n    [WARNING]   Mojo issue(s):\r\n    [WARNING]    * Mojo dependency:analyze (org.apache.maven.plugin.dependency.analyze.AnalyzeMojo)\r\n    [WARNING]      - Implements `Contextualizable` interface from Plexus Container, which is EOL.\r\n    [WARNING]\r\n    [WARNING]\r\n    [WARNING] Fix reported issues by adjusting plugin configuration or by upgrading above listed plugins. If no upgrade available, please notify plugin maintainers about reported issues.\r\n    [WARNING] For more or less details, use &#39;maven.plugin.validation&#39; property with one of the values (case insensitive): [BRIEF, DEFAULT, VERBOSE]\r\n    [WARNING]\r\n\r\n\r\n  [1]: https://github.com/jjazzboss/JJazzLabTemp","title":"Unable to process file error with maven-dependency-analyzer","body":"<p><code>mvn dependency:analyze</code> on my project is unable to process files (see log below). I can't understand why, the compilation seems OK since I can run the application fine.</p>\n<p>The parent pom.xml configures <code>maven.compiler.plugin.version=3.10.0</code> with <code>release=17</code>, and <code>-Xlint:all</code> as compiler arguments.</p>\n<p>Repo is available <a href=\"https://github.com/jjazzboss/JJazzLabTemp\" rel=\"nofollow noreferrer\">here</a>. The log was used on project <code>modules/Phrase</code>, but all the modules have the same problem. Win10, cygwin, JDK17, and I'm a beginner in Maven...</p>\n<pre><code>$ mvn dependency:analyze -Dmaven.plugin.validation=VERBOSE\n[INFO] Scanning for projects...\n[INFO]\n[INFO] -------------------&lt; org.jjazzlab:org-jjazz-phrase &gt;--------------------\n[INFO] Building Phrase 1.0-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ nbm ]---------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; dependency:2.8:analyze (default-cli) &gt; test-compile @ org-jjazz-phrase &gt;&gt;&gt;\n[INFO]\n[INFO] --- resources:3.3.1:resources (default-resources) @ org-jjazz-phrase ---\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\n[INFO]\n[INFO] --- compiler:3.10.0:compile (default-compile) @ org-jjazz-phrase ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- nbm:4.8:manifest (default-manifest) @ org-jjazz-phrase ---\n[INFO] NBM Plugin generates manifest\n[INFO]\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ org-jjazz-phrase ---\n[INFO] skip non existing resourceDirectory D:\\JeromeDocs\\NetBeansProjects\\JJazzLab\\modules\\Phrase\\src\\test\\resources\n[INFO]\n[INFO] --- compiler:3.10.0:testCompile (default-testCompile) @ org-jjazz-phrase ---\n[INFO] No sources to compile\n[INFO]\n[INFO] &lt;&lt;&lt; dependency:2.8:analyze (default-cli) &lt; test-compile @ org-jjazz-phrase &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- dependency:2.8:analyze (default-cli) @ org-jjazz-phrase ---\nUnable to process: org.jjazz.phrase.api.CyclicPositions\nUnable to process: org.jjazz.phrase.api.Grid\nUnable to process: org.jjazz.phrase.api.NoteEvent$AsNoteKey\nUnable to process: org.jjazz.phrase.api.NoteEvent\nUnable to process: org.jjazz.phrase.api.Phrase$6\nUnable to process: org.jjazz.phrase.api.Phrase\nUnable to process: org.jjazz.phrase.api.Phrases\nUnable to process: org.jjazz.phrase.api.PhraseSamples\nUnable to process: org.jjazz.phrase.api.SizedPhrase\nUnable to process: org.jjazz.phrase.api.SourcePhrase\nUnable to process: org.jjazz.phrase.api.SourcePhraseSet\n[WARNING] Used undeclared dependencies found:\n[WARNING]    com.google.guava:guava:jar:23.6-jre:compile\n[WARNING] Unused declared dependencies found:\n[WARNING]    org.jjazzlab:org-jjazz-guava:jar:1.0-SNAPSHOT:compile\n[WARNING]    org.jjazzlab:org-jjazz-chordleadsheet:jar:1.0-SNAPSHOT:compile\n[WARNING]    org.jjazzlab:org-jjazz-midi:jar:1.0-SNAPSHOT:compile\n[WARNING]    org.netbeans.api:org-openide-dialogs:jar:RELEASE170:compile\n[WARNING]    org.netbeans.api:org-openide-util:jar:RELEASE170:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.754 s\n[INFO] Finished at: 2023-05-21T16:24:36+02:00\n[INFO] ------------------------------------------------------------------------\n[WARNING]\n[WARNING] Plugin validation issues were detected in 4 plugin(s)\n[WARNING]\n[WARNING]  * org.apache.maven.plugins:maven-site-plugin:3.12.1\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\n[WARNING]\n[WARNING]  * org.apache.maven.plugins:maven-compiler-plugin:3.10.0\n[WARNING]   Declared at location(s):\n[WARNING]    * org.jjazzlab:jjazzlab-parent:1.0-SNAPSHOT (C:\\Users\\Jerome\\.m2\\repository\\org\\jjazzlab\\jjazzlab-parent\\1.0-SNAPSHOT\\jjazzlab-parent-1.0-SNAPSHOT.pom) @ line 35\n[WARNING]   Used in module(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin should declare these Maven artifacts in `provided` scope: [org.apache.maven:maven-plugin-api:3.2.5, org.apache.maven:maven-model:3.2.5, org.apache.maven:maven-core:3.2.5, org.apache.maven:\nmaven-settings:3.2.5, org.apache.maven:maven-model-builder:3.2.5, org.apache.maven:maven-repository-metadata:3.2.5, org.apache.maven:maven-aether-provider:3.2.5, org.apache.maven:maven-settings-builder:3.2.5, o\nrg.apache.maven:maven-artifact:3.2.5]\n[WARNING]\n[WARNING]  * org.apache.netbeans.utilities:nbm-maven-plugin:4.8\n[WARNING]   Declared at location(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml) @ line 16\n[WARNING]   Used in module(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\n[WARNING]    * Plugin depends on plexus-container-default, which is EOL\n[WARNING]   Mojo issue(s):\n[WARNING]    * Mojo nbm:manifest (org.apache.netbeans.nbm.NetBeansManifestUpdateMojo)\n[WARNING]      - Parameter 'localRepository' uses deprecated parameter expression '${localRepository}': ArtifactRepository type is deprecated and its use in Mojos should be avoided.\n[WARNING]\n[WARNING]  * org.apache.maven.plugins:maven-dependency-plugin:2.8\n[WARNING]   Declared at location(s):\n[WARNING]    * unknown\n[WARNING]   Used in module(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin is a Maven 2.x plugin, which will be not supported in Maven 4.x\n[WARNING]    * Plugin depends on plexus-container-default, which is EOL\n[WARNING]   Mojo issue(s):\n[WARNING]    * Mojo dependency:analyze (org.apache.maven.plugin.dependency.analyze.AnalyzeMojo)\n[WARNING]      - Implements `Contextualizable` interface from Plexus Container, which is EOL.\n[WARNING]\n[WARNING]\n[WARNING] Fix reported issues by adjusting plugin configuration or by upgrading above listed plugins. If no upgrade available, please notify plugin maintainers about reported issues.\n[WARNING] For more or less details, use 'maven.plugin.validation' property with one of the values (case insensitive): [BRIEF, DEFAULT, VERBOSE]\n[WARNING]\n</code></pre>\n"},{"tags":["java","guidewire"],"comments":[{"owner":{"account_id":1272645,"reputation":130,"user_id":1228592,"display_name":"grambo25"},"score":0,"creation_date":1701284777,"post_id":77557763,"comment_id":136757962,"body_markdown":"Can you say more about what you want to do with the class?  Maybe there is something else you could do besides a private constructor.","body":"Can you say more about what you want to do with the class?  Maybe there is something else you could do besides a private constructor."},{"owner":{"account_id":19127266,"reputation":1,"user_id":13969981,"display_name":"Maxim Kozlyuk"},"score":0,"creation_date":1701411808,"post_id":77557763,"comment_id":136774767,"body_markdown":"@grambo25 Its actually good question, i whant to get mock S3 impl and reals S3 impl and write test to compare each other, to ensure they work identically.  Seems like i can manualy instantinate them using Configuration (app properties), instead of using static fabric (which all production code uses to obtain s3 impl depending on app env). But the question is still unanswered - is there a way to do so via reflection?","body":"@grambo25 Its actually good question, i whant to get mock S3 impl and reals S3 impl and write test to compare each other, to ensure they work identically.  Seems like i can manualy instantinate them using Configuration (app properties), instead of using static fabric (which all production code uses to obtain s3 impl depending on app env). But the question is still unanswered - is there a way to do so via reflection?"}],"answers":[{"tags":[],"owner":{"account_id":19127266,"reputation":1,"user_id":13969981,"display_name":"Maxim Kozlyuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701103904,"creation_date":1701103904,"answer_id":77558620,"question_id":77557763,"body_markdown":"There is another way how to create instance:\r\n\r\n    var typeInfo = InternalBucketS3Service.TypeInfo\r\n    var ctor = typeInfo.Constructors.first().Constructor\r\n    return ctor.newInstance({_testClaim}) as S3Service\r\n\r\nBut seems like it works only for `private` constructors. In this case i cant use it, need `internal`.\r\n\r\nAm just gonna make constructor `public` and add `@Deprecated` to it to mark &quot;for tests only&quot;.\r\nPlease comment if it is actually possible to create `internal` object in Gosu via reflection.","title":"Create instance of class with internal / private constructor in GOSU language","body":"<p>There is another way how to create instance:</p>\n<pre><code>var typeInfo = InternalBucketS3Service.TypeInfo\nvar ctor = typeInfo.Constructors.first().Constructor\nreturn ctor.newInstance({_testClaim}) as S3Service\n</code></pre>\n<p>But seems like it works only for <code>private</code> constructors. In this case i cant use it, need <code>internal</code>.</p>\n<p>Am just gonna make constructor <code>public</code> and add <code>@Deprecated</code> to it to mark &quot;for tests only&quot;.\nPlease comment if it is actually possible to create <code>internal</code> object in Gosu via reflection.</p>\n"}],"owner":{"account_id":19127266,"reputation":1,"user_id":13969981,"display_name":"Maxim Kozlyuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701410887,"creation_date":1701096297,"question_id":77557763,"body_markdown":"I whant to create an instance of class with only one `internal` constructor for unit-tests purpose. Am running Guidewire version 10.\r\nGetting error on string with `.newInstance` call: \r\n```\r\n    var s3ServiceCtor = InternalBucketS3Service.getClass().getDeclaredConstructors().first()\r\n    s3ServiceCtor.setAccessible(true)\r\n    var newInstanceResult = s3ServiceCtor.newInstance({_testClaim}.toArray())\r\n    return newInstanceResult as S3Service\r\n```\r\n\r\nHere is a class i whant to create:\r\n```\r\nclass InternalBucketS3Service extends AbstractS3Service {\r\n\r\n  private var _claim : Claim\r\n\r\n  internal construct(claim : Claim) {\r\n    super(Configuration.S3InternalBucket)\r\n    _claim = claim\r\n  }\r\n  // no more constructors, only methods ...\r\n```\r\n\r\nAnd am getting this error:\r\n```\r\njunit.framework.AssertionFailedError: Exception in constructor: testGeneralS3ServicesCompare (java.lang.IllegalArgumentException\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor141.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat ru.tinkoff.util.s3.S3TestServiceImplComparisonTest.getRealS3(S3TestServiceImplComparisonTest.gs:59)\r\n\tat ru.tinkoff.util.s3.S3TestServiceImplComparisonTest.&lt;init&gt;(S3TestServiceImplComparisonTest.gs:25)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n```\r\n\r\nHow to fix it?","title":"Create instance of class with internal / private constructor in GOSU language","body":"<p>I whant to create an instance of class with only one <code>internal</code> constructor for unit-tests purpose. Am running Guidewire version 10.\nGetting error on string with <code>.newInstance</code> call:</p>\n<pre><code>    var s3ServiceCtor = InternalBucketS3Service.getClass().getDeclaredConstructors().first()\n    s3ServiceCtor.setAccessible(true)\n    var newInstanceResult = s3ServiceCtor.newInstance({_testClaim}.toArray())\n    return newInstanceResult as S3Service\n</code></pre>\n<p>Here is a class i whant to create:</p>\n<pre><code>class InternalBucketS3Service extends AbstractS3Service {\n\n  private var _claim : Claim\n\n  internal construct(claim : Claim) {\n    super(Configuration.S3InternalBucket)\n    _claim = claim\n  }\n  // no more constructors, only methods ...\n</code></pre>\n<p>And am getting this error:</p>\n<pre><code>junit.framework.AssertionFailedError: Exception in constructor: testGeneralS3ServicesCompare (java.lang.IllegalArgumentException\n    at jdk.internal.reflect.GeneratedConstructorAccessor141.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at ru.tinkoff.util.s3.S3TestServiceImplComparisonTest.getRealS3(S3TestServiceImplComparisonTest.gs:59)\n    at ru.tinkoff.util.s3.S3TestServiceImplComparisonTest.&lt;init&gt;(S3TestServiceImplComparisonTest.gs:25)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","eclipse","maven","selenium"],"answers":[{"tags":[],"owner":{"account_id":11064868,"reputation":1269,"user_id":8124980,"display_name":"Ankur Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507195065,"creation_date":1507186423,"answer_id":46579569,"question_id":46579476,"body_markdown":"You need to set property in @beforeTest method bec. it will run before @Test.\r\n\r\nIn your case you are trying to create driver instance before setting it property.  \r\n\r\nTry below code :- \r\n\r\n      @BeforeTest\r\n        public void beforeTest() {  \r\n           String exePath = &quot;/Users/********/Downloads/chromedriver/chromedriver.exe&quot;;\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, exePath);\r\n            driver = new ChromeDriver();  \r\n        } \r\n\r\n--------------------\r\n\r\n\r\n    package test.java;\r\n    \r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import junit.framework.Assert;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    \r\n    public class NewTest {\r\n    \r\n    private WebDriver driver;\r\n    \r\n    @Test   \r\n    \r\n    public void f() {\r\n    \r\n        driver.get(&quot;https://www.apple.com/&quot;);  \r\n        String title = driver.getTitle();                \r\n        Assert.assertTrue(title.contains(&quot;Apple&quot;));         \r\n    }\r\n    \r\n    @BeforeTest\r\n    public void beforeTest() {  \r\n    String exePath = &quot;/Users/********/Downloads/chromedriver/chromedriver.exe&quot;;\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, exePath);\r\n    \r\n        driver = new ChromeDriver();  \r\n    }       \r\n    @AfterTest\r\n    public void afterTest() {\r\n        driver.quit();          \r\n    }       \r\n    \r\n    }\r\n","title":"FAILED CONFIGURATION: @BeforeTest beforeTest . MAVEN; TestNG, Selenium","body":"<p>You need to set property in @beforeTest method bec. it will run before @Test.</p>\n\n<p>In your case you are trying to create driver instance before setting it property.  </p>\n\n<p>Try below code :- </p>\n\n<pre><code>  @BeforeTest\n    public void beforeTest() {  \n       String exePath = \"/Users/********/Downloads/chromedriver/chromedriver.exe\";\n        System.setProperty(\"webdriver.chrome.driver\", exePath);\n        driver = new ChromeDriver();  \n    } \n</code></pre>\n\n<hr>\n\n<pre><code>package test.java;\n\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport junit.framework.Assert;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\n\npublic class NewTest {\n\nprivate WebDriver driver;\n\n@Test   \n\npublic void f() {\n\n    driver.get(\"https://www.apple.com/\");  \n    String title = driver.getTitle();                \n    Assert.assertTrue(title.contains(\"Apple\"));         \n}\n\n@BeforeTest\npublic void beforeTest() {  \nString exePath = \"/Users/********/Downloads/chromedriver/chromedriver.exe\";\n    System.setProperty(\"webdriver.chrome.driver\", exePath);\n\n    driver = new ChromeDriver();  \n}       \n@AfterTest\npublic void afterTest() {\n    driver.quit();          \n}       \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14036550,"reputation":1,"user_id":10139092,"display_name":"Sindhuja Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635108345,"creation_date":1635105707,"answer_id":69700312,"question_id":46579476,"body_markdown":"Worked for me when i removed `.exe` extension from the path. For example:\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/***/***/chromedriver&quot;);\r\n```","title":"FAILED CONFIGURATION: @BeforeTest beforeTest . MAVEN; TestNG, Selenium","body":"<p>Worked for me when i removed <code>.exe</code> extension from the path. For example:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/***/***/chromedriver&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25046376,"reputation":1,"user_id":18902753,"display_name":"naresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677842694,"creation_date":1677842694,"answer_id":75626476,"question_id":46579476,"body_markdown":"I got the error `failed CONFIGURATION: @BeforeTest java.lang.NoSuchMethodError:openqa selenium`. After switched my project to STS, it worked fine(problem with my eclipse, I think). Download STS here https://download.springsource.com/release/STS4/4.17.0.RELEASE/dist/e4.26/spring-tool-suite-4-4.17.0.RELEASE-e4.26.0-win32.win32.x86_64.zip","title":"FAILED CONFIGURATION: @BeforeTest beforeTest . MAVEN; TestNG, Selenium","body":"<p>I got the error <code>failed CONFIGURATION: @BeforeTest java.lang.NoSuchMethodError:openqa selenium</code>. After switched my project to STS, it worked fine(problem with my eclipse, I think). Download STS here <a href=\"https://download.springsource.com/release/STS4/4.17.0.RELEASE/dist/e4.26/spring-tool-suite-4-4.17.0.RELEASE-e4.26.0-win32.win32.x86_64.zip\" rel=\"nofollow noreferrer\">https://download.springsource.com/release/STS4/4.17.0.RELEASE/dist/e4.26/spring-tool-suite-4-4.17.0.RELEASE-e4.26.0-win32.win32.x86_64.zip</a></p>\n"}],"owner":{"account_id":10064278,"reputation":59,"user_id":7439898,"accept_rate":0,"display_name":"EnislavMollov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701410490,"creation_date":1507186145,"question_id":46579476,"body_markdown":"Hi I&#39;m trying to run Selenium script with Maven, TestNG in Eclipse. \r\nFirst I right click on my project and select TestNG | Convert to TestNG(testing.xml is created). Then I go to the Run Configurations and create a new launch TestNGl and click Run. When run it I got this error:\r\n\r\n[RemoteTestNG] detected TestNG version 6.11.0\r\nFAILED CONFIGURATION: @BeforeTest beforeTest\r\njava.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:754)\r\n\tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:329)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n\tat test.java.NewTest.beforeTest(NewTest.java:27)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:523)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:224)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:146)\r\n\tat org.testng.TestRunner.beforeRun(TestRunner.java:626)\r\n\tat org.testng.TestRunner.run(TestRunner.java:594)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1144)\r\n\tat org.testng.TestNG.run(TestNG.java:1115)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\nSKIPPED CONFIGURATION: @AfterTest afterTest\r\nSKIPPED: f\r\njava.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:754)\r\n\tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:329)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n\tat test.java.NewTest.beforeTest(NewTest.java:27)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:523)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:224)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:146)\r\n\tat org.testng.TestRunner.beforeRun(TestRunner.java:626)\r\n\tat org.testng.TestRunner.run(TestRunner.java:594)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1144)\r\n\tat org.testng.TestNG.run(TestNG.java:1115)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n\r\n===============================================\r\n    Default test\r\n    Tests run: 1, Failures: 0, Skips: 1\r\n    Configuration Failures: 1, Skips: 1\r\n===============================================\r\n\r\n\r\n===============================================\r\nDefault suite\r\nTotal tests run: 1, Failures: 0, Skips: 1\r\nConfiguration Failures: 1, Skips: 1\r\n===============================================\r\n\r\n\r\n\r\nI have the following code:\r\n\r\n    package test.java;\r\n\r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n\r\n    import junit.framework.Assert;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n\r\n    public class NewTest {\r\n\t\r\n\tprivate WebDriver driver;\r\n\r\n\t@Test\t\r\n\r\n    public void f() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString exePath = &quot;/Users/********/Downloads/chromedriver&quot;;\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, exePath);\r\n\t\t\r\n\t\t//WebDriver driver = new ChromeDriver();\r\n\t\t\r\n\t\tdriver.get(&quot;https://www.apple.com/&quot;);  \r\n\t\tString title = driver.getTitle();\t\t\t\t \r\n\t\tAssert.assertTrue(title.contains(&quot;Apple&quot;)); \t\t\r\n    }\r\n\r\n\t@BeforeTest\r\n\tpublic void beforeTest() {\t\r\n\t    driver = new ChromeDriver();  \r\n\t}\t\t\r\n\t@AfterTest\r\n\tpublic void afterTest() {\r\n\t\tdriver.quit();\t\t\t\r\n\t}\t\t\r\n\r\n    }\r\n\r\nAnd following pom.xml:\r\n\r\n    project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;TestMaven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TestMaven&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;3.6.0&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;6.11&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;3.17&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;2.20.1&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"FAILED CONFIGURATION: @BeforeTest beforeTest . MAVEN; TestNG, Selenium","body":"<p>Hi I'm trying to run Selenium script with Maven, TestNG in Eclipse. \nFirst I right click on my project and select TestNG | Convert to TestNG(testing.xml is created). Then I go to the Run Configurations and create a new launch TestNGl and click Run. When run it I got this error:</p>\n\n<p>[RemoteTestNG] detected TestNG version 6.11.0\nFAILED CONFIGURATION: @BeforeTest beforeTest\njava.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see <a href=\"https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver</a>. The latest version can be downloaded from <a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html</a>\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:754)\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\n    at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:329)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:123)\n    at test.java.NewTest.beforeTest(NewTest.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:523)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:224)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:146)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:626)\n    at org.testng.TestRunner.run(TestRunner.java:594)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\n    at org.testng.TestNG.runSuites(TestNG.java:1144)\n    at org.testng.TestNG.run(TestNG.java:1115)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n\n<p>SKIPPED CONFIGURATION: @AfterTest afterTest\nSKIPPED: f\njava.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see <a href=\"https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver</a>. The latest version can be downloaded from <a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html</a>\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:754)\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\n    at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:329)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:123)\n    at test.java.NewTest.beforeTest(NewTest.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:523)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:224)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:146)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:626)\n    at org.testng.TestRunner.run(TestRunner.java:594)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\n    at org.testng.TestNG.runSuites(TestNG.java:1144)\n    at org.testng.TestNG.run(TestNG.java:1115)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n\n<p>===============================================\n    Default test\n    Tests run: 1, Failures: 0, Skips: 1</p>\n\n<h1>    Configuration Failures: 1, Skips: 1</h1>\n\n<p>===============================================\nDefault suite\nTotal tests run: 1, Failures: 0, Skips: 1</p>\n\n<h1>Configuration Failures: 1, Skips: 1</h1>\n\n<p>I have the following code:</p>\n\n<pre><code>package test.java;\n\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport junit.framework.Assert;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\n\npublic class NewTest {\n\nprivate WebDriver driver;\n\n@Test   \n\npublic void f() {\n    // TODO Auto-generated method stub\n    String exePath = \"/Users/********/Downloads/chromedriver\";\n    System.setProperty(\"webdriver.chrome.driver\", exePath);\n\n    //WebDriver driver = new ChromeDriver();\n\n    driver.get(\"https://www.apple.com/\");  \n    String title = driver.getTitle();                \n    Assert.assertTrue(title.contains(\"Apple\"));         \n}\n\n@BeforeTest\npublic void beforeTest() {  \n    driver = new ChromeDriver();  \n}       \n@AfterTest\npublic void afterTest() {\n    driver.quit();          \n}       \n\n}\n</code></pre>\n\n<p>And following pom.xml:</p>\n\n<pre><code>project xmlns=\"http://maven.apache.org/POM/4.0.0\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;TestMaven&lt;/groupId&gt;\n&lt;artifactId&gt;TestMaven&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;build&gt;\n&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.8&lt;/source&gt;\n      &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;6.11&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;3.17&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.20.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","javafx","h2"],"answers":[{"tags":[],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701410095,"creation_date":1701410095,"answer_id":77583246,"question_id":77577095,"body_markdown":"So the problem was with 2 things:\r\n\r\n 1. It should `import jakarta.persistence.Entity` not `import javax.persistence.Entity;`\r\n2. Turns out you can&#39;t connect to H2 file normally trough IntelliJ idea. So I have to download h2 gui, launch it and only after that I was able to see the content of the database. Also I needed to run h2 with `AUTO_SERVER=TRUE`.","title":"Hibernate and H2 n JavaFX app, not creating tables","body":"<p>So the problem was with 2 things:</p>\n<ol>\n<li>It should <code>import jakarta.persistence.Entity</code> not <code>import javax.persistence.Entity;</code></li>\n<li>Turns out you can't connect to H2 file normally trough IntelliJ idea. So I have to download h2 gui, launch it and only after that I was able to see the content of the database. Also I needed to run h2 with <code>AUTO_SERVER=TRUE</code>.</li>\n</ol>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77583246,"answer_count":1,"score":1,"last_activity_date":1701410095,"creation_date":1701334720,"question_id":77577095,"body_markdown":"I want to include a database to my JavaFX app. I chose h2 and configured hibernate to use with it. \r\nThe problem is that it doesnt&#39; create tables from entities like it&#39;s supposed to. What I did, I have these dependecies:\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.214&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;6.2.7.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nI have this `hibernate.cfg.xml` configuration file stored in the `resources` folder:\r\n```\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n  &lt;session-factory&gt;\r\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:h2:file:./database\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;connection.username&quot;&gt;...&lt;/property&gt;\r\n    &lt;property name=&quot;connection.password&quot;&gt;...&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; // setting to create also didn&#39;t help\r\n    &lt;mapping class=&quot;my.package.model.TestEntity&quot;/&gt;\r\n  &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n`TestEntity` is annotated with needed annotations like `@Entity`:\r\n```\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;test_entity&quot;)\r\npublic class TestEntity {\r\n\r\n  @Column(name = &quot;test&quot;)\r\n  @Id\r\n  private String test;\r\n\r\n}\r\n```\r\nBut it&#39;s not working, the database is getting created, but there is no `TestEntity` table. What could be the problem?","title":"Hibernate and H2 n JavaFX app, not creating tables","body":"<p>I want to include a database to my JavaFX app. I chose h2 and configured hibernate to use with it.\nThe problem is that it doesnt' create tables from entities like it's supposed to. What I did, I have these dependecies:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;version&gt;2.1.214&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.2.7.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have this <code>hibernate.cfg.xml</code> configuration file stored in the <code>resources</code> folder:</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:h2:file:./database\n    &lt;/property&gt;\n    &lt;property name=&quot;connection.username&quot;&gt;...&lt;/property&gt;\n    &lt;property name=&quot;connection.password&quot;&gt;...&lt;/property&gt;\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; // setting to create also didn't help\n    &lt;mapping class=&quot;my.package.model.TestEntity&quot;/&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><code>TestEntity</code> is annotated with needed annotations like <code>@Entity</code>:</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;test_entity&quot;)\npublic class TestEntity {\n\n  @Column(name = &quot;test&quot;)\n  @Id\n  private String test;\n\n}\n</code></pre>\n<p>But it's not working, the database is getting created, but there is no <code>TestEntity</code> table. What could be the problem?</p>\n"},{"tags":["java","mysql","eclipse","hibernate"],"comments":[{"owner":{"account_id":10244893,"reputation":1991,"user_id":7560986,"display_name":"Dhiral Kaniya"},"score":0,"creation_date":1524157637,"post_id":49926225,"comment_id":86869089,"body_markdown":"Have you add mysql jar file in your classpath ?","body":"Have you add mysql jar file in your classpath ?"},{"owner":{"account_id":13401619,"reputation":11,"user_id":9670977,"display_name":"park shin "},"score":0,"creation_date":1524217277,"post_id":49926225,"comment_id":86892941,"body_markdown":"yes i added mysql connector ;","body":"yes i added mysql connector ;"}],"answers":[{"tags":[],"owner":{"account_id":208839,"reputation":1399,"user_id":459572,"accept_rate":23,"display_name":"Donz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524157094,"creation_date":1524157094,"answer_id":49926449,"question_id":49926225,"body_markdown":"At least you need to use dialect from this package https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html not from net.sf.hibernate.dialect. For example org.hibernate.dialect.MySQL5Dialect\r\nThe package you use was in old hibernate version.\r\n\r\nAnd why do you use xml-style definition? ","title":"How to connect Hibernate with MySQL","body":"<p>At least you need to use dialect from this package <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html</a> not from net.sf.hibernate.dialect. For example org.hibernate.dialect.MySQL5Dialect\nThe package you use was in old hibernate version.</p>\n\n<p>And why do you use xml-style definition? </p>\n"},{"tags":[],"owner":{"account_id":3769380,"reputation":1,"user_id":3131999,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701409315,"creation_date":1524160717,"answer_id":49927387,"question_id":49926225,"body_markdown":"The proper hibernate dialect needs to be selected depending on the version of MySQL. I faced similar issue and resolution was very simple of using InnoDB dialect version of MySQL.\r\nYou can refer the proper dialect from package: [org.hibernate.dialect][1]\r\n\r\nReferece : [Link][2]\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html\r\n  [2]: https://stackoverflow.com/questions/1459265/hibernate-create-mysql-innodb-tables-instead-of-myisam","title":"How to connect Hibernate with MySQL","body":"<p>The proper hibernate dialect needs to be selected depending on the version of MySQL. I faced similar issue and resolution was very simple of using InnoDB dialect version of MySQL.\nYou can refer the proper dialect from package: <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">org.hibernate.dialect</a></p>\n<p>Referece : <a href=\"https://stackoverflow.com/questions/1459265/hibernate-create-mysql-innodb-tables-instead-of-myisam\">Link</a></p>\n"}],"owner":{"account_id":13401619,"reputation":11,"user_id":9670977,"display_name":"park shin "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701409315,"creation_date":1524156303,"question_id":49926225,"body_markdown":"I want to connect Hibernate with MySQL. I tried all methods, but I&#39;m still getting this error. I&#39;m using Hibernate the version.\r\n\r\n    avr. 19, 2018 1:55:21 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.2.16.Final}\r\n    avr. 19, 2018 1:55:21 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    avr. 19, 2018 1:55:22 PM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\r\n    WARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-mapping. Use namespace http://www.hibernate.org/dtd/hibernate-mapping instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\r\n    avr. 19, 2018 1:55:24 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    avr. 19, 2018 1:55:24 PM org.hibernate.engine.jdbc.connections.internal.ConnectionProviderInitiator initiateService\r\n    WARN: HHH000181: No appropriate connection provider encountered, assuming application will be supplying connections\r\n    avr. 19, 2018 1:55:24 PM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\r\n    WARN: HHH000342: Could not obtain connection to query metadata : The application must supply JDBC connections\r\n    Exception in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:418)\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:87)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:691)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)\r\n    \tat TestHibernate1.main(TestHibernate1.java:14)\r\n    Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\r\n\r\n\r\n===========================================================================\r\n\r\n =&gt; this is my hibernate.cfg.xml\r\n\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt; \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n            &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;net.sf.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost/bd_per&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;net.sf.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;mapping resource=&quot;Personnes.hbm.xml&quot;/&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n=&gt; this is my hibernate-mapping \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n    &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://hibernate.sourceforge.net/hibernate-mapping&quot;&gt;&lt;hibernate-mapping&gt;\r\n      &lt;class name=&quot;Personnes&quot; table=&quot;personnes&quot;&gt;\r\n        &lt;id name=&quot;idPersonne&quot; type=&quot;int&quot; column=&quot;idpersonne&quot;&gt;\r\n          &lt;generator class=&quot;native&quot;/&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;nomPersonne&quot; type=&quot;string&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;property name=&quot;prenomPersonne&quot; type=&quot;string&quot; not-null=&quot;true&quot; /&gt;\r\n        \r\n        \r\n      &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\n=&gt; finaly my classe Personnes\r\n \r\n\r\n    public class Personnes {\r\n    \r\n      private Integer idPersonne;\r\n      private String nomPersonne;\r\n      private String prenomPersonne;\r\n      \r\n    \r\n      public Personnes(String nomPersonne, String prenomPersonne) {\r\n        this.nomPersonne = nomPersonne;\r\n        this.prenomPersonne = prenomPersonne;\r\n        \r\n      }\r\n    \r\n      public Personnes() {\r\n      }\r\n    \r\n      \r\n      public Integer getIdPersonne() {\r\n        return idPersonne;\r\n      }\r\n    \r\n      public String getNomPersonne() {\r\n        return nomPersonne;\r\n      }\r\n    \r\n      public String getPrenomPersonne() {\r\n        return prenomPersonne;\r\n      }\r\n    \r\n     \r\n    \r\n      public void setIdPersonne(Integer integer) {\r\n        idPersonne = integer;\r\n      }\r\n    \r\n     And,thanks for responding as quickly as possible.\r\n    \r\n      public void setPrenomPersonne(String string) {\r\n        prenomPersonne = string;\r\n      }\r\n    \r\n    public void setNomPersonne(String string) {\r\n    \t// TODO Auto-generated method stub\r\n    \t\r\n    }\r\n    \r\n    }\r\n\r\n","title":"How to connect Hibernate with MySQL","body":"<p>I want to connect Hibernate with MySQL. I tried all methods, but I'm still getting this error. I'm using Hibernate the version.</p>\n\n<pre><code>avr. 19, 2018 1:55:21 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.2.16.Final}\navr. 19, 2018 1:55:21 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\navr. 19, 2018 1:55:22 PM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\nWARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-mapping. Use namespace http://www.hibernate.org/dtd/hibernate-mapping instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\navr. 19, 2018 1:55:24 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\navr. 19, 2018 1:55:24 PM org.hibernate.engine.jdbc.connections.internal.ConnectionProviderInitiator initiateService\nWARN: HHH000181: No appropriate connection provider encountered, assuming application will be supplying connections\navr. 19, 2018 1:55:24 PM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\nWARN: HHH000342: Could not obtain connection to query metadata : The application must supply JDBC connections\nException in thread \"main\" org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:418)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:87)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:691)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)\n    at TestHibernate1.main(TestHibernate1.java:14)\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\n</code></pre>\n\n<p>===========================================================================</p>\n\n<p>=> this is my hibernate.cfg.xml</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt; \n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        \"-//Hibernate/Hibernate Configuration DTD//EN\"\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;net.sf.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost/bd_per&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;&lt;/property&gt;\n    &lt;property name=\"dialect\"&gt;net.sf.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n    &lt;mapping resource=\"Personnes.hbm.xml\"/&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>=> this is my hibernate-mapping </p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;&lt;!DOCTYPE hibernate-mapping PUBLIC\n\"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n\"http://hibernate.sourceforge.net/hibernate-mapping\"&gt;&lt;hibernate-mapping&gt;\n  &lt;class name=\"Personnes\" table=\"personnes\"&gt;\n    &lt;id name=\"idPersonne\" type=\"int\" column=\"idpersonne\"&gt;\n      &lt;generator class=\"native\"/&gt;\n    &lt;/id&gt;\n    &lt;property name=\"nomPersonne\" type=\"string\" not-null=\"true\" /&gt;\n    &lt;property name=\"prenomPersonne\" type=\"string\" not-null=\"true\" /&gt;\n\n\n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>=> finaly my classe Personnes</p>\n\n<pre><code>public class Personnes {\n\n  private Integer idPersonne;\n  private String nomPersonne;\n  private String prenomPersonne;\n\n\n  public Personnes(String nomPersonne, String prenomPersonne) {\n    this.nomPersonne = nomPersonne;\n    this.prenomPersonne = prenomPersonne;\n\n  }\n\n  public Personnes() {\n  }\n\n\n  public Integer getIdPersonne() {\n    return idPersonne;\n  }\n\n  public String getNomPersonne() {\n    return nomPersonne;\n  }\n\n  public String getPrenomPersonne() {\n    return prenomPersonne;\n  }\n\n\n\n  public void setIdPersonne(Integer integer) {\n    idPersonne = integer;\n  }\n\n And,thanks for responding as quickly as possible.\n\n  public void setPrenomPersonne(String string) {\n    prenomPersonne = string;\n  }\n\npublic void setNomPersonne(String string) {\n    // TODO Auto-generated method stub\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","security","xsd","jaxb","unmarshalling"],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701272257,"creation_date":1701272257,"answer_id":77572563,"question_id":77570462,"body_markdown":"I don&#39;t truly understand the need to check this but here&#39;s a simple use-case that should give the proof that the XSD file won&#39;t be loaded by the JVM when unmarshalling XML :\r\n\r\n - Create the Java Classes from XSD by any plugin you want, or like here, create it manually. Package it in jar file without the XSD in it (only Java classes)\r\n - Write the unmarshalling code from XML in another Java program, that depends on the first JAR and run it with no XSD whatsoever in your classpath ==&gt; Your code will still work without knowing the XSD Schema\r\n\r\nYou can also look at the Java Code itself :\r\n - `com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl` which implements the `Unmarshaller` interface has default `schema` property to `null` (so setting it to `null` is a no-op in your above code)\r\n - Your code doesn&#39;t reference XSD itself from which you created the Java XML-annotated-POJO : the JVM cannot guess that you write your code based on external schema.\r\n - You could also run your program in debug mode and see that the XSD won&#39;t be loaded (again there&#39;s no reference in your Java Code : you could even have deleted it, it wouldn&#39;t have made a difference).\r\n\r\nStill, I Hope that I&#39;ve answered to your question.","title":"Demonstrate that JAXB unmarshalling will not load an XSD schema","body":"<p>I don't truly understand the need to check this but here's a simple use-case that should give the proof that the XSD file won't be loaded by the JVM when unmarshalling XML :</p>\n<ul>\n<li>Create the Java Classes from XSD by any plugin you want, or like here, create it manually. Package it in jar file without the XSD in it (only Java classes)</li>\n<li>Write the unmarshalling code from XML in another Java program, that depends on the first JAR and run it with no XSD whatsoever in your classpath ==&gt; Your code will still work without knowing the XSD Schema</li>\n</ul>\n<p>You can also look at the Java Code itself :</p>\n<ul>\n<li><code>com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl</code> which implements the <code>Unmarshaller</code> interface has default <code>schema</code> property to <code>null</code> (so setting it to <code>null</code> is a no-op in your above code)</li>\n<li>Your code doesn't reference XSD itself from which you created the Java XML-annotated-POJO : the JVM cannot guess that you write your code based on external schema.</li>\n<li>You could also run your program in debug mode and see that the XSD won't be loaded (again there's no reference in your Java Code : you could even have deleted it, it wouldn't have made a difference).</li>\n</ul>\n<p>Still, I Hope that I've answered to your question.</p>\n"}],"owner":{"account_id":228687,"reputation":1182,"user_id":491160,"accept_rate":72,"display_name":"Jes&#250;s Zazueta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77572563,"answer_count":1,"score":0,"last_activity_date":1701408755,"creation_date":1701254752,"question_id":77570462,"body_markdown":"Related to [this question](https://stackoverflow.com/questions/24760796/how-to-validate-an-xml-against-schema-using-jaxb), given the following schema called `customer.xsd`:\r\n\r\n```xml\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xs:simpleType name=&quot;stringMaxSize5&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n            &lt;xs:maxLength value=&quot;5&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n    &lt;xs:element name=&quot;customer&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;name&quot; type=&quot;stringMaxSize5&quot;/&gt;\r\n                &lt;xs:element ref=&quot;phone-number&quot; maxOccurs=&quot;2&quot;/&gt;\r\n             &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n    &lt;xs:element name=&quot;phone-number&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence/&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nThe following XML document called `input.xml`:\r\n\r\n```xml\r\n&lt;customer\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:noNamespaceSchemaLocation=&quot;./customer.xsd&quot;&gt;\r\n    &lt;name&gt;Jane Doe&lt;/name&gt;\r\n    &lt;phone-number/&gt;\r\n    &lt;phone-number/&gt;\r\n    &lt;phone-number/&gt;\r\n&lt;/customer&gt;\r\n```\r\n\r\nAnd the following unmarshalling code:\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.Unmarshaller;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\npublic class Unmarshal {\r\n\r\n    @XmlRootElement(name = &quot;customer&quot;)\r\n    public static class Customer {\r\n        public String name;\r\n        @XmlElement(name=&quot;phone-number&quot;)\r\n        public List&lt;PhoneNumber&gt; phoneNumbers = new ArrayList&lt;PhoneNumber&gt;();\r\n    }\r\n\r\n    public static class PhoneNumber {}\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        JAXBContext jc = JAXBContext.newInstance(Customer.class);\r\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n        unmarshaller.setSchema(null);\r\n        Customer customer = (Customer) unmarshaller.unmarshal(new File(&quot;input.xml&quot;));\r\n        System.out.println(customer.name);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe Java code is able to deserialize the XML input document into an instance of `Customer` even when this XML document produces 2 validation errors (indicated by an external editor):\r\n\r\n```\r\ncvc-maxLength-valid: Value &#39;Jane Doe&#39; with length = &#39;8&#39; is not facet-valid with respect to maxLength &#39;5&#39; for type &#39;stringMaxSize5&#39;.xml(cvc-maxLength-valid)\r\ncvc-type.3.1.3: The value &#39;Jane Doe&#39; of element &#39;name&#39; is not valid.xml(cvc-type.3.1.3)\r\n```\r\n\r\nand\r\n\r\n```\r\ncvc-complex-type.2.4.f: &#39;phone-number&#39; can occur a maximum of &#39;2&#39; times in the current sequence. This limit was exceeded. No child element is expected at this point.xml(cvc-complex-type.2.4.f)\r\n```\r\n\r\nThis means that JAXB did not validate the given XML input during unmarshalling, however:\r\n\r\nGiven that `unmarshaller.setSchema(null);` was set to DISABLE schema validation, is there a way to demonstrate that the content of the `customer.xsd` file WAS NOT accessed by the JVM when unmarshalling occurred?\r\n\r\nIn other words, is there a way to not blindly trust that the JVM won&#39;t load XSD references, even when schema validation is explicitly set to `null`?\r\n\r\n## Update 1:\r\n\r\nThe purpose is to find out how likely are XSD schema references inside an XML document likely to become a security attack vector, as described by:\r\n\r\n- https://owasp.org/www-community/vulnerabilities/XML_External_Entity_(XXE)_Processing\r\n-  https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\r\n\r\nThanks.","title":"Demonstrate that JAXB unmarshalling will not load an XSD schema","body":"<p>Related to <a href=\"https://stackoverflow.com/questions/24760796/how-to-validate-an-xml-against-schema-using-jaxb\">this question</a>, given the following schema called <code>customer.xsd</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:simpleType name=&quot;stringMaxSize5&quot;&gt;\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n            &lt;xs:maxLength value=&quot;5&quot;/&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n    &lt;xs:element name=&quot;customer&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;name&quot; type=&quot;stringMaxSize5&quot;/&gt;\n                &lt;xs:element ref=&quot;phone-number&quot; maxOccurs=&quot;2&quot;/&gt;\n             &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:element name=&quot;phone-number&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence/&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>The following XML document called <code>input.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;customer\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:noNamespaceSchemaLocation=&quot;./customer.xsd&quot;&gt;\n    &lt;name&gt;Jane Doe&lt;/name&gt;\n    &lt;phone-number/&gt;\n    &lt;phone-number/&gt;\n    &lt;phone-number/&gt;\n&lt;/customer&gt;\n</code></pre>\n<p>And the following unmarshalling code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.Unmarshaller;\nimport javax.xml.bind.annotation.XmlRootElement;\n\npublic class Unmarshal {\n\n    @XmlRootElement(name = &quot;customer&quot;)\n    public static class Customer {\n        public String name;\n        @XmlElement(name=&quot;phone-number&quot;)\n        public List&lt;PhoneNumber&gt; phoneNumbers = new ArrayList&lt;PhoneNumber&gt;();\n    }\n\n    public static class PhoneNumber {}\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(Customer.class);\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        unmarshaller.setSchema(null);\n        Customer customer = (Customer) unmarshaller.unmarshal(new File(&quot;input.xml&quot;));\n        System.out.println(customer.name);\n    }\n\n}\n</code></pre>\n<p>The Java code is able to deserialize the XML input document into an instance of <code>Customer</code> even when this XML document produces 2 validation errors (indicated by an external editor):</p>\n<pre><code>cvc-maxLength-valid: Value 'Jane Doe' with length = '8' is not facet-valid with respect to maxLength '5' for type 'stringMaxSize5'.xml(cvc-maxLength-valid)\ncvc-type.3.1.3: The value 'Jane Doe' of element 'name' is not valid.xml(cvc-type.3.1.3)\n</code></pre>\n<p>and</p>\n<pre><code>cvc-complex-type.2.4.f: 'phone-number' can occur a maximum of '2' times in the current sequence. This limit was exceeded. No child element is expected at this point.xml(cvc-complex-type.2.4.f)\n</code></pre>\n<p>This means that JAXB did not validate the given XML input during unmarshalling, however:</p>\n<p>Given that <code>unmarshaller.setSchema(null);</code> was set to DISABLE schema validation, is there a way to demonstrate that the content of the <code>customer.xsd</code> file WAS NOT accessed by the JVM when unmarshalling occurred?</p>\n<p>In other words, is there a way to not blindly trust that the JVM won't load XSD references, even when schema validation is explicitly set to <code>null</code>?</p>\n<h2>Update 1:</h2>\n<p>The purpose is to find out how likely are XSD schema references inside an XML document likely to become a security attack vector, as described by:</p>\n<ul>\n<li><a href=\"https://owasp.org/www-community/vulnerabilities/XML_External_Entity_(XXE)_Processing\" rel=\"nofollow noreferrer\">https://owasp.org/www-community/vulnerabilities/XML_External_Entity_(XXE)_Processing</a></li>\n<li><a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html</a></li>\n</ul>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","junit"],"owner":{"account_id":27499070,"reputation":33,"user_id":20983127,"display_name":"Arushi awasthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701407950,"creation_date":1701405953,"question_id":77583063,"body_markdown":"I have test method below \r\n\r\n    @test\r\n    public void test(){\r\n    Map&lt;String,String&gt; map=new HashMap();\r\n    add.add(map);\r\n    assert.equals(2, map.size())\r\n    }\r\n\r\nactual methods are \r\n\r\n    Class Add{\r\n    @Autowired\r\n    Get get;\r\n    \r\n    public void add(Map&lt;String,String&gt; map){\r\n    get.get(map);\r\n    }\r\n    }\r\n\r\n\r\n    Class Get{\r\n    public void get(Map&lt;String,String&gt; map){\r\n    map.put(&quot;xyz&quot;,&quot;xyz&quot;);\r\n    map.put(&quot;123&quot;,&quot;123&quot;);\r\n    }\r\n    }\r\n\r\nnow since get is a public method i want to mock this method and populate map in that mock, how can we do this.\r\n\r\nThanks in advance.\r\n","title":"Map populating while mocking a method in junit","body":"<p>I have test method below</p>\n<pre><code>@test\npublic void test(){\nMap&lt;String,String&gt; map=new HashMap();\nadd.add(map);\nassert.equals(2, map.size())\n}\n</code></pre>\n<p>actual methods are</p>\n<pre><code>Class Add{\n@Autowired\nGet get;\n\npublic void add(Map&lt;String,String&gt; map){\nget.get(map);\n}\n}\n\n\nClass Get{\npublic void get(Map&lt;String,String&gt; map){\nmap.put(&quot;xyz&quot;,&quot;xyz&quot;);\nmap.put(&quot;123&quot;,&quot;123&quot;);\n}\n}\n</code></pre>\n<p>now since get is a public method i want to mock this method and populate map in that mock, how can we do this.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","apache-poi","summary"],"comments":[{"owner":{"account_id":426188,"reputation":1943,"user_id":807255,"accept_rate":83,"display_name":"dngfng"},"score":0,"creation_date":1350051763,"post_id":12861054,"comment_id":17406822,"body_markdown":"Why don&#39;t you post the code, even if its not working it will still help with the answer?","body":"Why don&#39;t you post the code, even if its not working it will still help with the answer?"},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1350051784,"post_id":12861054,"comment_id":17406833,"body_markdown":"So you&#39;re talking about MS Office files, correct?","body":"So you&#39;re talking about MS Office files, correct?"},{"owner":{"account_id":1932253,"reputation":135,"user_id":1741407,"accept_rate":60,"display_name":"backLF"},"score":0,"creation_date":1350052070,"post_id":12861054,"comment_id":17406965,"body_markdown":"Now I post the code. No about MS Office files, I am talking about in general files.","body":"Now I post the code. No about MS Office files, I am talking about in general files."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1350123142,"post_id":12861054,"comment_id":17425470,"body_markdown":"What&#39;s wrong with your code? It looks about correct to me?","body":"What&#39;s wrong with your code? It looks about correct to me?"}],"answers":[{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1350052851,"creation_date":1350052009,"answer_id":12861190,"question_id":12861054,"body_markdown":"Please find the sample code here- [**Appache POI how to**](http://poi.apache.org/hpsf/how-to.html)\r\n\r\nIn brief, you can a listener `MyPOIFSReaderListener`:\r\n\r\n        SummaryInformation si = (SummaryInformation)\r\n                 PropertySetFactory.create(event.getStream());\r\n        String title = si.getTitle();\r\n        String Author= si.getLastAuthor();\r\n        ......\r\n\r\nand register it as :\r\n\r\n        POIFSReader r = new POIFSReader();\r\n        r.registerListener(new MyPOIFSReaderListener(),\r\n                       &quot;\\005SummaryInformation&quot;);\r\n        r.read(new FileInputStream(filename));","title":"How to get file summary information with Java/Apache POI","body":"<p>Please find the sample code here- <a href=\"http://poi.apache.org/hpsf/how-to.html\" rel=\"nofollow\"><strong>Appache POI how to</strong></a></p>\n\n<p>In brief, you can a listener <code>MyPOIFSReaderListener</code>:</p>\n\n<pre><code>    SummaryInformation si = (SummaryInformation)\n             PropertySetFactory.create(event.getStream());\n    String title = si.getTitle();\n    String Author= si.getLastAuthor();\n    ......\n</code></pre>\n\n<p>and register it as :</p>\n\n<pre><code>    POIFSReader r = new POIFSReader();\n    r.registerListener(new MyPOIFSReaderListener(),\n                   \"\\005SummaryInformation\");\n    r.read(new FileInputStream(filename));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1916194,"reputation":61,"user_id":1728744,"display_name":"Dragos Catalin Triteanu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701407923,"creation_date":1365794601,"answer_id":15979313,"question_id":12861054,"body_markdown":"As explained in the POI overview at http://poi.apache.org/overview.html, there are more types of file parsers.\r\nThe following examples extract the Author/Creator from 2003 office files: \r\n\r\n```java\r\npublic static String parseOLE2FileAuthor(File file) {\r\n    String author=null;\r\n    try {\r\n\r\n        FileInputStream stream = new FileInputStream(file);\r\n        POIFSFileSystem poifs = new POIFSFileSystem(stream);\r\n        DirectoryEntry dir = poifs.getRoot();\r\n        DocumentEntry siEntry =      (DocumentEntry)dir.getEntry(SummaryInformation.DEFAULT_STREAM_NAME);\r\n        DocumentInputStream dis = new DocumentInputStream(siEntry);\r\n        PropertySet ps = new PropertySet(dis);\r\n        SummaryInformation si = new SummaryInformation(ps);\r\n\r\n        author=si.getAuthor();\r\n        stream.close();\r\n  \r\n    } catch (IOException ex) {\r\n        ex.getStackTrace();\r\n    } catch (NoPropertySetStreamException ex) {\r\n        ex.getStackTrace();\r\n    } catch (MarkUnsupportedException ex) {\r\n        ex.getStackTrace();\r\n    } catch (UnexpectedPropertySetTypeException ex) {\r\n        ex.getStackTrace();\r\n    }\r\n    return author;\r\n}\r\n```\r\n\r\nFor DOCX, PPTX, and XSLX, the POI has specialized classes.\r\nExample for `.docx` file:\r\n\r\n```java\r\npublic static String parseDOCX(File file){\r\n    String author=null;\r\n    FileInputStream stream;\r\n    try {\r\n        stream = new FileInputStream(file);\r\n        XWPFDocument docx = new XWPFDocument(stream);\r\n        CoreProperties props = docx.getProperties().getCoreProperties();\r\n        author=props.getCreator();\r\n        stream.close();\r\n    } catch (FileNotFoundException ex) {\r\n       ex.printStackTrace();\r\n    } catch (IOException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n     \r\n\r\n    return author;\r\n}\r\n```\r\n\r\nFor PPTX, use `XMLSlideShow` or `XMLWorkbook` instead of `XMLDocument`.\r\n\r\n","title":"How to get file summary information with Java/Apache POI","body":"<p>As explained in the POI overview at <a href=\"http://poi.apache.org/overview.html\" rel=\"nofollow noreferrer\">http://poi.apache.org/overview.html</a>, there are more types of file parsers.\nThe following examples extract the Author/Creator from 2003 office files:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String parseOLE2FileAuthor(File file) {\n    String author=null;\n    try {\n\n        FileInputStream stream = new FileInputStream(file);\n        POIFSFileSystem poifs = new POIFSFileSystem(stream);\n        DirectoryEntry dir = poifs.getRoot();\n        DocumentEntry siEntry =      (DocumentEntry)dir.getEntry(SummaryInformation.DEFAULT_STREAM_NAME);\n        DocumentInputStream dis = new DocumentInputStream(siEntry);\n        PropertySet ps = new PropertySet(dis);\n        SummaryInformation si = new SummaryInformation(ps);\n\n        author=si.getAuthor();\n        stream.close();\n  \n    } catch (IOException ex) {\n        ex.getStackTrace();\n    } catch (NoPropertySetStreamException ex) {\n        ex.getStackTrace();\n    } catch (MarkUnsupportedException ex) {\n        ex.getStackTrace();\n    } catch (UnexpectedPropertySetTypeException ex) {\n        ex.getStackTrace();\n    }\n    return author;\n}\n</code></pre>\n<p>For DOCX, PPTX, and XSLX, the POI has specialized classes.\nExample for <code>.docx</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String parseDOCX(File file){\n    String author=null;\n    FileInputStream stream;\n    try {\n        stream = new FileInputStream(file);\n        XWPFDocument docx = new XWPFDocument(stream);\n        CoreProperties props = docx.getProperties().getCoreProperties();\n        author=props.getCreator();\n        stream.close();\n    } catch (FileNotFoundException ex) {\n       ex.printStackTrace();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n     \n\n    return author;\n}\n</code></pre>\n<p>For PPTX, use <code>XMLSlideShow</code> or <code>XMLWorkbook</code> instead of <code>XMLDocument</code>.</p>\n"},{"tags":[],"owner":{"account_id":14170352,"reputation":1,"user_id":10237088,"display_name":"lostwind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534471123,"creation_date":1534471123,"answer_id":51887435,"question_id":12861054,"body_markdown":"for 2003 office files, you can use classes inherited from POIDocument. here is an example for doc file:\r\n\r\n    FileInputStream in = new FileInputStream(file);\r\n    HWPFDocument doc = new HWPFDocument(in);\r\n    author = doc.getSummaryInformation().getAuthor();\r\n    \r\nand HSLFSlideShowImpl for ppt,  \r\nHSSFWorkbook for xls,   \r\nHDGFDiagram for vsd.  \r\n\r\nthere are many other file information within the SummaryInformation class.\r\n\r\nfor 2007 or above office file, see the answer of @Dragos Catalin Trieanu","title":"How to get file summary information with Java/Apache POI","body":"<p>for 2003 office files, you can use classes inherited from POIDocument. here is an example for doc file:</p>\n\n<pre><code>FileInputStream in = new FileInputStream(file);\nHWPFDocument doc = new HWPFDocument(in);\nauthor = doc.getSummaryInformation().getAuthor();\n</code></pre>\n\n<p>and HSLFSlideShowImpl for ppt,<br>\nHSSFWorkbook for xls,<br>\nHDGFDiagram for vsd.  </p>\n\n<p>there are many other file information within the SummaryInformation class.</p>\n\n<p>for 2007 or above office file, see the answer of @Dragos Catalin Trieanu</p>\n"}],"owner":{"account_id":1932253,"reputation":135,"user_id":1741407,"accept_rate":60,"display_name":"backLF"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7093,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12861190,"answer_count":3,"score":2,"last_activity_date":1701407923,"creation_date":1350051486,"question_id":12861054,"body_markdown":"i&#39;am trying to get the summary information from file with JAVA and I can&#39;t found anything. I tried with `org.apache.poi.hpsf.*` . \r\n\r\n\r\nI need Author, Subject, Comments, Keywords and Title.\r\n\r\n\r\n           File rep = new File(&quot;C:\\\\Cry_ReportERP006.rpt&quot;);\r\n\r\n    \t\t\r\n            /* Read a test document &lt;em&gt;doc&lt;/em&gt; into a POI filesystem. */\r\n            final POIFSFileSystem poifs = new POIFSFileSystem(new FileInputStream(rep));\r\n            final DirectoryEntry dir = poifs.getRoot();\r\n            DocumentEntry dsiEntry = null;\r\n            try\r\n            {\r\n                dsiEntry = (DocumentEntry) dir.getEntry(DocumentSummaryInformation.DEFAULT_STREAM_NAME);\r\n            }\r\n            catch (FileNotFoundException ex)\r\n            {\r\n                /*\r\n                 * A missing document summary information stream is not an error\r\n                 * and therefore silently ignored here.\r\n                 */\r\n            }\r\n\r\n            /*\r\n             * If there is a document summry information stream, read it from\r\n             * the POI filesystem.\r\n             */\r\n            if (dsiEntry != null)\r\n            {\r\n                final DocumentInputStream dis = new DocumentInputStream(dsiEntry);\r\n                final PropertySet ps = new PropertySet(dis);\r\n                final DocumentSummaryInformation dsi = new DocumentSummaryInformation(ps);\r\n                final SummaryInformation si = new SummaryInformation(ps);\r\n                \r\n                \r\n                /* Execute the get... methods. */\r\n                System.out.println(si.getAuthor());","title":"How to get file summary information with Java/Apache POI","body":"<p>i'am trying to get the summary information from file with JAVA and I can't found anything. I tried with <code>org.apache.poi.hpsf.*</code> . </p>\n\n<p>I need Author, Subject, Comments, Keywords and Title.</p>\n\n<pre><code>       File rep = new File(\"C:\\\\Cry_ReportERP006.rpt\");\n\n\n        /* Read a test document &lt;em&gt;doc&lt;/em&gt; into a POI filesystem. */\n        final POIFSFileSystem poifs = new POIFSFileSystem(new FileInputStream(rep));\n        final DirectoryEntry dir = poifs.getRoot();\n        DocumentEntry dsiEntry = null;\n        try\n        {\n            dsiEntry = (DocumentEntry) dir.getEntry(DocumentSummaryInformation.DEFAULT_STREAM_NAME);\n        }\n        catch (FileNotFoundException ex)\n        {\n            /*\n             * A missing document summary information stream is not an error\n             * and therefore silently ignored here.\n             */\n        }\n\n        /*\n         * If there is a document summry information stream, read it from\n         * the POI filesystem.\n         */\n        if (dsiEntry != null)\n        {\n            final DocumentInputStream dis = new DocumentInputStream(dsiEntry);\n            final PropertySet ps = new PropertySet(dis);\n            final DocumentSummaryInformation dsi = new DocumentSummaryInformation(ps);\n            final SummaryInformation si = new SummaryInformation(ps);\n\n\n            /* Execute the get... methods. */\n            System.out.println(si.getAuthor());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","kotlin"],"comments":[{"owner":{"account_id":26632317,"reputation":61,"user_id":20249327,"display_name":"soonhankwon"},"score":0,"creation_date":1701406955,"post_id":77582874,"comment_id":136774389,"body_markdown":"https://docs.jboss.org/hibernate/orm/6.4/introduction/html_single/Hibernate_Introduction.html\nIt may be helpful to look at 3.11 of the latest Hibernate reference.","body":"<a href=\"https://docs.jboss.org/hibernate/orm/6.4/introduction/html_single/Hibernate_Introduction.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.4/introduction/html_single/&hellip;</a> It may be helpful to look at 3.11 of the latest Hibernate reference."}],"answers":[{"tags":[],"owner":{"account_id":26632317,"reputation":61,"user_id":20249327,"display_name":"soonhankwon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701406148,"creation_date":1701406148,"answer_id":77583068,"question_id":77582874,"body_markdown":"With the upgrade to Spring Boot 3.x, Hibernate&#39;s mapping restrictions are expected to become stricter.\r\n\r\nThe problem lies in mapping the Enum class to Integer.\r\n\r\nBy default, the Enum class is set to TinyInt. I think Hibernate is a strict upgrade to that policy. I&#39;ll have to look for references.\r\n\r\nA temporary solution that comes to mind is to consider changing the Enum class to a utility class and using it like the code below.\r\n\r\n```java\r\n@Entity\r\nclass Test(\r\n    @Id val word: String,\r\n    @Column(name = &quot;status&quot;, columnDefinition = &quot;INTEGER&quot;)\r\n    var status: Int\r\n) {\r\n    fun methodA(): Test {\r\n        val customStatusValue = StatusEnum().enum1\r\n        return Test(&quot;&quot;, customStatusValue)\r\n    }\r\n}\r\n\r\nclass StatusEnum(\r\n    val enum1: Int = 14,\r\n    val enum2: Int = 15\r\n)\r\n```","title":"Hibernate fails Integer schema validation after the update","body":"<p>With the upgrade to Spring Boot 3.x, Hibernate's mapping restrictions are expected to become stricter.</p>\n<p>The problem lies in mapping the Enum class to Integer.</p>\n<p>By default, the Enum class is set to TinyInt. I think Hibernate is a strict upgrade to that policy. I'll have to look for references.</p>\n<p>A temporary solution that comes to mind is to consider changing the Enum class to a utility class and using it like the code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Test(\n    @Id val word: String,\n    @Column(name = &quot;status&quot;, columnDefinition = &quot;INTEGER&quot;)\n    var status: Int\n) {\n    fun methodA(): Test {\n        val customStatusValue = StatusEnum().enum1\n        return Test(&quot;&quot;, customStatusValue)\n    }\n}\n\nclass StatusEnum(\n    val enum1: Int = 14,\n    val enum2: Int = 15\n)\n</code></pre>\n"}],"owner":{"account_id":1536635,"reputation":5711,"user_id":1432503,"accept_rate":43,"display_name":"Zed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701406148,"creation_date":1701401716,"question_id":77582874,"body_markdown":"I used to run spring boot v2.x but now after updating it to 3.1.4 and getting all the new dependencies, it appears there is this annoying thing which is preventing the application to run and fails on boot.\r\n\r\nBasically, I have an entity that maps to a column of type integer in Postgres DB, and back to an enum in SpringBoot/Hibernate. The code used to look very simple, just like this:\r\n\r\n    @Column(name = &quot;status&quot;) \r\n    var status: StatusEnum,\r\n\r\n`status` is of type Integer in DB, and this mapping worked perfectly. Then I updated spring boot version to 3.x, and now during both schema validation fails with this error:\r\n\r\n&gt;nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [status] in table [xxx]; found [int4 (Types#INTEGER)], but expecting [smallint (Types#TINYINT)]&quot;\r\n\r\nI thought, OK, it is expecting smallint but it is an integer there, there must be a way to override this behavior, so I tried telling it with `columnDefinition`:\r\n\r\n    @Column(name = &quot;status&quot;, columnDefinition = &quot;INTEGER&quot;) \r\n    var status: StatusEnum,\r\n\r\nAnd error again:\r\n\r\n &gt;Schema-validation: wrong column type encountered in column [status] in table [xxx]; found [int4 (Types#INTEGER)], but expecting [integer (Types#TINYINT)]&quot;\r\n\r\nI tried setting in `columnDefinition` other values as well, such as `integer`, `int4`, `int2`, doesn&#39;t matter always the same error. \r\n\r\nIs it really possible that this default behavior looking for `TINYINT` cannot be overriden and I&#39;ll have to change my db defintion? \r\n\r\nThe dialect set in my `application.yml` is `org.hibernate.dialect.PostgreSQLDialect` if it is of any value.","title":"Hibernate fails Integer schema validation after the update","body":"<p>I used to run spring boot v2.x but now after updating it to 3.1.4 and getting all the new dependencies, it appears there is this annoying thing which is preventing the application to run and fails on boot.</p>\n<p>Basically, I have an entity that maps to a column of type integer in Postgres DB, and back to an enum in SpringBoot/Hibernate. The code used to look very simple, just like this:</p>\n<pre><code>@Column(name = &quot;status&quot;) \nvar status: StatusEnum,\n</code></pre>\n<p><code>status</code> is of type Integer in DB, and this mapping worked perfectly. Then I updated spring boot version to 3.x, and now during both schema validation fails with this error:</p>\n<blockquote>\n<p>nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [status] in table [xxx]; found [int4 (Types#INTEGER)], but expecting [smallint (Types#TINYINT)]&quot;</p>\n</blockquote>\n<p>I thought, OK, it is expecting smallint but it is an integer there, there must be a way to override this behavior, so I tried telling it with <code>columnDefinition</code>:</p>\n<pre><code>@Column(name = &quot;status&quot;, columnDefinition = &quot;INTEGER&quot;) \nvar status: StatusEnum,\n</code></pre>\n<p>And error again:</p>\n<blockquote>\n<p>Schema-validation: wrong column type encountered in column [status] in table [xxx]; found [int4 (Types#INTEGER)], but expecting [integer (Types#TINYINT)]&quot;</p>\n</blockquote>\n<p>I tried setting in <code>columnDefinition</code> other values as well, such as <code>integer</code>, <code>int4</code>, <code>int2</code>, doesn't matter always the same error.</p>\n<p>Is it really possible that this default behavior looking for <code>TINYINT</code> cannot be overriden and I'll have to change my db defintion?</p>\n<p>The dialect set in my <code>application.yml</code> is <code>org.hibernate.dialect.PostgreSQLDialect</code> if it is of any value.</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1681828376,"post_id":76045255,"comment_id":134117617,"body_markdown":"Your code is not self-contained. What are the imports around `toDatasetComptesIndividuels`? What are `rs`, `mr`, `alimenterCompteIndividuels`? Please try to minimize your reproduction. [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). In 3.4.0 pattern matching falls to the default case. What codec (what case) was selected in 3.3.2? The codec for Java bean?","body":"Your code is not self-contained. What are the imports around <code>toDatasetComptesIndividuels</code>? What are <code>rs</code>, <code>mr</code>, <code>alimenterCompteIndividuels</code>? Please try to minimize your reproduction. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. In 3.4.0 pattern matching falls to the default case. What codec (what case) was selected in 3.3.2? The codec for Java bean?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1681828675,"post_id":76045255,"comment_id":134117707,"body_markdown":"What is the difference with https://stackoverflow.com/questions/76036349/encoders-bean-doesnt-work-anymore-on-a-java-pojo-with-spark-3-4-0 ?","body":"What is the difference with <a href=\"https://stackoverflow.com/questions/76036349/encoders-bean-doesnt-work-anymore-on-a-java-pojo-with-spark-3-4-0\" title=\"encoders bean doesnt work anymore on a java pojo with spark 3 4 0\">stackoverflow.com/questions/76036349/&hellip;</a> ?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1681828874,"post_id":76045255,"comment_id":134117767,"body_markdown":"@DmytroMitin this one affects the encoding, the other one the decoding. The two links do not describe the same error (not the same message, not the same behavior). A minimal example cannot be created in some contexts like such a complex Spark application, your remarks cannot apply here. Debug session description is provided instead.","body":"@DmytroMitin this one affects the encoding, the other one the decoding. The two links do not describe the same error (not the same message, not the same behavior). A minimal example cannot be created in some contexts like such a complex Spark application, your remarks cannot apply here. Debug session description is provided instead."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1681829464,"post_id":76045255,"comment_id":134117967,"body_markdown":"The screenshot from debugger is not so useful without similar screenshot from 3.3.2 where everything was working. You could focus on differences.","body":"The screenshot from debugger is not so useful without similar screenshot from 3.3.2 where everything was working. You could focus on differences."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":1,"creation_date":1681839922,"post_id":76045255,"comment_id":134120598,"body_markdown":"@DmytroMitin I replied to your question in my question (added a section about it). Spark `3.3.2` and `3.4.0` have a largely different code for `Encoders.bean`, and they are now difficult to compare. Understanding their changes would be difficult.","body":"@DmytroMitin I replied to your question in my question (added a section about it). Spark <code>3.3.2</code> and <code>3.4.0</code> have a largely different code for <code>Encoders.bean</code>, and they are now difficult to compare. Understanding their changes would be difficult."}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701405840,"creation_date":1681824820,"question_id":76045255,"body_markdown":"That&#39;s a strange problem I stumbled into, since I&#39;ve switched to _Spark_ `3.4.0`\r\n\r\nI have a class that isn&#39;t simple to fill, with `Encoders.bean` in _Java_:\r\n\r\nWithout going too deep, the class I have to fill with data, has a base class with generic types in it:\r\n\r\n```java\r\npublic class ComptesIndividuels&lt;MR extends ComptesTotalOuBaseEtParHabitant, RS extends ComptesAvecRatioStructure, RV extends ComptesAvecReductionVotee, TV extends ComptesAvecTauxVote&gt; implements Serializable {\r\n[...]\r\n   /** Ann&#233;e d&#39;exercice */\r\n   private Integer anneeExercice;\r\n   \r\n   /** Nom de la collectivit&#233; */\r\n   private String nom;\r\n\r\n   /** PRODUITS DE FONCTIONNEMENT = A */\r\n   private MR produitsDeFonctionnement;\r\n\r\n   /** Produits de fonctionnement CAF */\r\n   private MR produitsDeFonctionnementCAF;\r\n   \r\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Imp&#244;ts Locaux */ \r\n   private RS produitsDeFonctionnementCAFImpotsLocaux;\r\n\r\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Autres imp&#244;ts et taxes */\r\n   private RS produitsDeFonctionnementCAFAutresImpotsEtTaxes;\r\n\r\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Dotation globale de fonctionnement */\r\n   private RS produitsDeFonctionnementCAFDGF;\r\n   \r\n   /** CHARGES DE FONCTIONNEMENT = B */\r\n   private MR chargesDeFonctionnement;\r\n\r\n   /** Charges de fonctionnement CAF */\r\n   private MR chargesDeFonctionnementCAF;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Charges de personnel */\r\n   private RS chargesDeFonctionnementCAFChargesDePersonnel;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Achats et charges externes */\r\n   private RS chargesDeFonctionnementCAFAchatsEtChargesExternes;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Charges financi&#232;res */\r\n   private RS chargesDeFonctionnementCAFChargesFinancieres;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Subventions vers&#233;es */\r\n   private RS chargesDeFonctionnementCAFSubventionsVersees;\r\n[...]\r\n```\r\n\r\nThey are needed because departments, cities, local authorities, regions have the overhaul same structure, but with some small variations.\r\n\r\nSo, the concrete class I am willing to fill, for example, is a city individual accounts, `ComptesIndividuelsCommune` extending `ComptesIndividuels`:\r\n\r\n```java\r\n/**\r\n * Comptes individuels d&#39;une commune.\r\n * @author Marc Le Bihan\r\n */\r\npublic class ComptesIndividuelsCommune extends ComptesIndividuels&lt;ComptesAvecMoyenneStrate, ComptesAvecStrateEtRatioStructureEtStrate, ComptesAvecStrateEtReductionVotee, ComptesAvecStrateEtTauxVoteEtStrate&gt; {\r\n[...]\r\n   /** Code de la r&#233;gion */\r\n   private String codeRegion;\r\n   \r\n   /** Code du d&#233;partement */\r\n   private String codeDepartement;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Contingents */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate chargesDeFonctionnementCAFContingents;\r\n\r\n   /** RESSOURCES D&#39;INVESTISSEMENT : Retour de biens affect&#233;s conc&#233;d&#233;s ... */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate ressourcesInvestissementRetourDeBiensAffectesConcedes;\r\n\r\n   /** EMPLOIS D&#39;INVESTISSEMENT : Charges &#224; r&#233;partir */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementChargesARepartir;\r\n\r\n   /** EMPLOIS D&#39;INVESTISSEMENT : Immobilisations affect&#233;es, conc&#233;d&#233;es, ... */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementImmobilisationsAffecteesConcedees;\r\n\r\n   /** AUTOFINANCEMENT : Exc&#233;dent brut de fonctionnement */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate autoFinancementExcedentBrutDeFonctionnement;\r\n[...]\r\n```\r\n\r\nUntil `Spark 3.3.2` I was able to fill it from a row dataset with proper properties, with this function:\r\n\r\n```java\r\n/**\r\n * Convertir un Dataset Row en Dataset de comptes individuels de communes.\r\n * @param dsRow Dataset Row &#224; convertir.\r\n * @return Dataset de comptes de communes.\r\n */\r\n@Override\r\npublic Dataset&lt;ComptesIndividuelsCommune&gt; toDatasetComptesIndividuels(Dataset&lt;Row&gt; dsRow) {\r\n   Objects.requireNonNull(dsRow, &quot;Le dataset de comptes individuels de communes ne peut pas valoir null.&quot;);\r\n      \r\n   return dsRow.map((MapFunction&lt;Row, ComptesIndividuelsCommune&gt;)row -&gt; {\r\n      ComptesAvecStrateEtRatioStructureEtStrate chargesDeFonctionnementCAFContingents = rs(&quot;\\t\\tContingents\\t\\t\\t&quot;, &quot;chargesDeFonctionnementCAFContingents&quot;, true, row); \r\n\r\n      ComptesAvecStrateEtRatioStructureEtStrate ressourcesInvestissementRetourDeBiensAffectesConcedes = rs(&quot;\\tRetour de biens affect&#233;s, conc&#233;d&#233;s, ...\\t&quot;, &quot;ressourcesInvestissementRetourDeBiensAffectesConcedes&quot;, true, row);\r\n         \r\n      ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementChargesARepartir = rs(&quot;\\tCharges &#224; r&#233;partir\\t\\t\\t&quot;, &quot;emploisInvestissementChargesARepartir&quot;, true, row); \r\n      ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementImmobilisationsAffecteesConcedees = rs(&quot;\\tImmobilisations affect&#233;es, conc&#233;d&#233;es, ...&quot;, &quot;emploisInvestissementImmobilisationsAffecteesConcedees&quot;, true, row);\r\n\r\n      ComptesAvecMoyenneStrate operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement = mr(&quot;Besoin ou capacit&#233; de financement r&#233;siduel de la section d&#39;investissement = D - C&quot;, &quot;operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement&quot;, true, row);\r\n      ComptesAvecMoyenneStrate operationsInvestissementSoldeDesOperationsPourCompteDeTiers = mr(&quot;+ Solde des op&#233;rations pour le compte de tiers&quot;, &quot;operationsInvestissementSoldeDesOperationsPourCompteDeTiers&quot;, true, row);\r\n      ComptesAvecMoyenneStrate operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement = mr(&quot;Besoin ou capacit&#233; de financement de la section d&#39;investissement = E&quot;, &quot;operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement&quot;, true, row);\r\n      ComptesAvecMoyenneStrate operationsInvestissementResultatEnsemble = mr(&quot;R&#233;sultat d&#39;ensemble = R - E&quot;, &quot;operationsInvestissementResultatEnsemble&quot;, true, row);\r\n         \r\n      ComptesAvecStrateEtRatioStructureEtStrate autoFinancementExcedentBrutDeFonctionnement = rs(&quot;Exc&#233;dent brut de fonctionnement\\t\\t\\t&quot;, &quot;autoFinancementExcedentBrutDeFonctionnement&quot;, true, row);\r\n         \r\n      ComptesAvecMoyenneStrate endettementFondsDeRoulement = mr(&quot;FONDS DE ROULEMENT&quot;, &quot;endettementFondsDeRoulement&quot;, true, row);\r\n         \r\n      ComptesIndividuels&lt;ComptesAvecMoyenneStrate, ComptesAvecStrateEtRatioStructureEtStrate, ComptesAvecStrateEtReductionVotee, ComptesAvecStrateEtTauxVoteEtStrate&gt; comptesIndividuels = super.alimenterCompteIndividuels(row, \r\n         row.getAs(&quot;populationCommune&quot;), row.getAs(&quot;sirenCommune&quot;), row.getAs(&quot;codeCommune&quot;), row.getAs(&quot;nomCommune&quot;), true);\r\n         \r\n      return new ComptesIndividuelsCommune(comptesIndividuels,\r\n         row.getAs(&quot;codeRegion&quot;), row.getAs(&quot;codeDepartement&quot;),\r\n         row.getAs(&quot;typeGroupementAppartenance&quot;),\r\n         row.getAs(&quot;libelleStrateCommune&quot;),\r\n         ressourcesInvestissementRetourDeBiensAffectesConcedes,\r\n         chargesDeFonctionnementCAFContingents,\r\n         emploisInvestissementChargesARepartir, emploisInvestissementImmobilisationsAffecteesConcedees,\r\n         autoFinancementExcedentBrutDeFonctionnement,  \r\n         endettementFondsDeRoulement,\r\n         operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement, \r\n         operationsInvestissementSoldeDesOperationsPourCompteDeTiers, \r\n         operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement, \r\n         operationsInvestissementResultatEnsemble); \r\n   }, Encoders.bean(ComptesIndividuelsCommune.class));\r\n}\r\n```\r\n\r\nBut since _Spark_ `3.4.0`, it fails with this stacktrace:\r\n\r\n```log\r\norg.apache.spark.SparkUnsupportedOperationException: [ENCODER_NOT_FOUND] Not found an encoder of the type RS to Spark SQL internal representation. Consider to change the input type to one of supported at &#39;https://spark.apache.org/docs/latest/sql-ref-datatypes.html&#39;.\r\n\r\n\tat org.apache.spark.sql.errors.QueryExecutionErrors$.cannotFindEncoderForTypeError(QueryExecutionErrors.scala:1483)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:142)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$encoderFor$1(JavaTypeInference.scala:128)\r\n\tat scala.collection.ArrayOps$.map$extension(ArrayOps.scala:929)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:126)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:58)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:51)\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:62)\r\n\tat org.apache.spark.sql.Encoders$.bean(Encoders.scala:179)\r\n\tat org.apache.spark.sql.Encoders.bean(Encoders.scala)\r\n\tat fr.ecoemploi.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset.toDatasetComptesIndividuels(ComptesIndividuelsCommunesDataset.java:614)\r\n\tat fr.ecoemploi.spark.dataset.individuel.AbstractComptesIndividuelsDataset.toComptesIndividuels(AbstractComptesIndividuelsDataset.java:119)\r\n\tat fr.ecoemploi.spark.dataset.balance.communes.ComptesIndividuelsCommunesIT.datasetComptesIndividuelsCommunesEPCI(ComptesIndividuelsCommunesIT.java:158)\r\n```\r\n\r\nI&#39;ve started a debug session. The problem happens in the encoding checking.\r\n\r\nThis function is called (visible in the stacktrace) by the _Scala_ engine of _Spark_:\r\n\r\n```scala\r\nprivate def encoderFor(t: Type, seenTypeSet: Set[Class[_]]): AgnosticEncoder[_] = t match {\r\n\r\n  case c: Class[_] if c == java.lang.Boolean.TYPE =&gt; PrimitiveBooleanEncoder\r\n  case c: Class[_] if c == java.lang.Byte.TYPE =&gt; PrimitiveByteEncoder\r\n  case c: Class[_] if c == java.lang.Short.TYPE =&gt; PrimitiveShortEncoder\r\n  case c: Class[_] if c == java.lang.Integer.TYPE =&gt; PrimitiveIntEncoder\r\n  case c: Class[_] if c == java.lang.Long.TYPE =&gt; PrimitiveLongEncoder\r\n  case c: Class[_] if c == java.lang.Float.TYPE =&gt; PrimitiveFloatEncoder\r\n  case c: Class[_] if c == java.lang.Double.TYPE =&gt; PrimitiveDoubleEncoder\r\n\r\n  case c: Class[_] if c == classOf[java.lang.Boolean] =&gt; BoxedBooleanEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Byte] =&gt; BoxedByteEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Short] =&gt; BoxedShortEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Integer] =&gt; BoxedIntEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Long] =&gt; BoxedLongEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Float] =&gt; BoxedFloatEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Double] =&gt; BoxedDoubleEncoder\r\n\r\n  case c: Class[_] if c == classOf[java.lang.String] =&gt; StringEncoder\r\n  case c: Class[_] if c == classOf[Array[Byte]] =&gt; BinaryEncoder\r\n  case c: Class[_] if c == classOf[java.math.BigDecimal] =&gt; DEFAULT_JAVA_DECIMAL_ENCODER\r\n  case c: Class[_] if c == classOf[java.math.BigInteger] =&gt; JavaBigIntEncoder\r\n  case c: Class[_] if c == classOf[java.time.LocalDate] =&gt; STRICT_LOCAL_DATE_ENCODER\r\n  case c: Class[_] if c == classOf[java.sql.Date] =&gt; STRICT_DATE_ENCODER\r\n  case c: Class[_] if c == classOf[java.time.Instant] =&gt; STRICT_INSTANT_ENCODER\r\n  case c: Class[_] if c == classOf[java.sql.Timestamp] =&gt; STRICT_TIMESTAMP_ENCODER\r\n  case c: Class[_] if c == classOf[java.time.LocalDateTime] =&gt; LocalDateTimeEncoder\r\n  case c: Class[_] if c == classOf[java.time.Duration] =&gt; DayTimeIntervalEncoder\r\n  case c: Class[_] if c == classOf[java.time.Period] =&gt; YearMonthIntervalEncoder\r\n\r\n  case c: Class[_] if c.isEnum =&gt; JavaEnumEncoder(ClassTag(c))\r\n\r\n  case c: Class[_] if c.isAnnotationPresent(classOf[SQLUserDefinedType]) =&gt;\r\n    val udt = c.getAnnotation(classOf[SQLUserDefinedType]).udt()\r\n      .getConstructor().newInstance().asInstanceOf[UserDefinedType[Any]]\r\n    val udtClass = udt.userClass.getAnnotation(classOf[SQLUserDefinedType]).udt()\r\n    UDTEncoder(udt, udtClass)\r\n\r\n  case c: Class[_] if UDTRegistration.exists(c.getName) =&gt;\r\n    val udt = UDTRegistration.getUDTFor(c.getName).get.getConstructor().\r\n      newInstance().asInstanceOf[UserDefinedType[Any]]\r\n    UDTEncoder(udt, udt.getClass)\r\n\r\n  case c: Class[_] if c.isArray =&gt;\r\n    val elementEncoder = encoderFor(c.getComponentType, seenTypeSet)\r\n    ArrayEncoder(elementEncoder, elementEncoder.nullable)\r\n\r\n  case ImplementsList(c, Array(elementCls)) =&gt;\r\n    val element = encoderFor(elementCls, seenTypeSet)\r\n    IterableEncoder(ClassTag(c), element, element.nullable, lenientSerialization = false)\r\n\r\n  case ImplementsMap(c, Array(keyCls, valueCls)) =&gt;\r\n    val keyEncoder = encoderFor(keyCls, seenTypeSet)\r\n    val valueEncoder = encoderFor(valueCls, seenTypeSet)\r\n    MapEncoder(ClassTag(c), keyEncoder, valueEncoder, valueEncoder.nullable)\r\n\r\n  case c: Class[_] =&gt;\r\n    if (seenTypeSet.contains(c)) {\r\n      throw QueryExecutionErrors.cannotHaveCircularReferencesInBeanClassError(c)\r\n    }\r\n\r\n    // TODO: we should only collect properties that have getter and setter. However, some tests\r\n    //   pass in scala case class as java bean class which doesn&#39;t have getter and setter.\r\n    val properties = getJavaBeanReadableProperties(c)\r\n    // Note that the fields are ordered by name.\r\n    val fields = properties.map { property =&gt;\r\n      val readMethod = property.getReadMethod\r\n      val encoder = encoderFor(readMethod.getGenericReturnType, seenTypeSet + c)\r\n      // The existence of `javax.annotation.Nonnull`, means this field is not nullable.\r\n      val hasNonNull = readMethod.isAnnotationPresent(classOf[Nonnull])\r\n      EncoderField(\r\n        property.getName,\r\n        encoder,\r\n        encoder.nullable &amp;&amp; !hasNonNull,\r\n        Metadata.empty,\r\n        Option(readMethod.getName),\r\n        Option(property.getWriteMethod).map(_.getName))\r\n    }\r\n    JavaBeanEncoder(ClassTag(c), fields)\r\n\r\n  case _ =&gt;\r\n    throw QueryExecutionErrors.cannotFindEncoderForTypeError(t.toString, SPARK_DOC_ROOT)\r\n}\r\n```\r\n\r\nwhere it fails, on the line  \r\n`val encoder = encoderFor(readMethod.getGenericReturnType, seenTypeSet + c)`  \r\nit has called with that content below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand then it jumps to the default case:\r\n\r\n```scala\r\ncase _ =&gt;\r\n  throw QueryExecutionErrors.cannotFindEncoderForTypeError(t.toString, SPARK_DOC_ROOT)\r\n```\r\n\r\nthrowing an exception: \r\n\r\n```\r\norg.apache.spark.SparkUnsupportedOperationException: [ENCODER_NOT_FOUND] Not found an encoder of the type RS to Spark SQL internal representation. Consider to change the input type to one of supported at &#39;https://spark.apache.org/docs/latest/sql-ref-datatypes.html&#39;.\r\n```\r\n\r\nand then I understand that the `t: Type` `encoderFor` is using, has for value `RS`...  \r\nand it appears me strange that such a type could hold a generic type declaration, instead of a concrete class, at this step.\r\n\r\nI am clueless, here. I wonder what I could do to solve my problem.  \r\nMaybe I am in front of a Spark `3.4.0` issue?\r\n\r\n----------\r\n\r\nFor @DmytroMitin question about the differences between Spark `3.4.0` and Spark `3.3.2`, in his comment below: the Spark `3.3.2` is different.  \r\nIts method is called `inferDataType` and execute this piece of code:\r\n\r\n```scala\r\ncase other =&gt;\r\n   if (seenTypeSet.contains(other)) {\r\n      throw QueryExecutionErrors.cannotHaveCircularReferencesInBeanClassError(other)\r\n     }\r\n\r\n   // TODO: we should only collect properties that have getter and setter. However, some tests\r\n   // pass in scala case class as java bean class which doesn&#39;t have getter and setter.\r\n   val properties = getJavaBeanReadableProperties(other)\r\n   val fields = properties.map { property =&gt;\r\n   val returnType = typeToken.method(property.getReadMethod).getReturnType\r\n   val (dataType, nullable) = inferDataType(returnType, seenTypeSet + other)\r\n   // The existence of `javax.annotation.Nonnull`, means this field is not nullable.\r\n   val hasNonNull = property.getReadMethod.isAnnotationPresent(classOf[Nonnull])\r\n    new StructField(property.getName, dataType, nullable &amp;&amp; !hasNonNull)\r\n  }\r\n  (new StructType(fields), true)\r\n}\r\n```\r\n\r\nand doesn&#39;t encouter the same problem:\r\n\r\n```\r\nreturnType = fr.ecoemploi.metier.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\r\n```\r\n\r\nit is able to define a StructType from that class:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI think code between `3.3.2` and  `3.4.0` have largely enough changed, and are incomparable now (for normal understanding).\r\n\r\n  [1]: https://i.stack.imgur.com/MlmJs.png\r\n  [2]: https://i.stack.imgur.com/GOOsF.png","title":"Encoders.bean attempts to check the validity of a return type considering its generic type and not its concrete class, with Spark 3.4.0","body":"<p>That's a strange problem I stumbled into, since I've switched to <em>Spark</em> <code>3.4.0</code></p>\n<p>I have a class that isn't simple to fill, with <code>Encoders.bean</code> in <em>Java</em>:</p>\n<p>Without going too deep, the class I have to fill with data, has a base class with generic types in it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComptesIndividuels&lt;MR extends ComptesTotalOuBaseEtParHabitant, RS extends ComptesAvecRatioStructure, RV extends ComptesAvecReductionVotee, TV extends ComptesAvecTauxVote&gt; implements Serializable {\n[...]\n   /** Année d'exercice */\n   private Integer anneeExercice;\n   \n   /** Nom de la collectivité */\n   private String nom;\n\n   /** PRODUITS DE FONCTIONNEMENT = A */\n   private MR produitsDeFonctionnement;\n\n   /** Produits de fonctionnement CAF */\n   private MR produitsDeFonctionnementCAF;\n   \n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Impôts Locaux */ \n   private RS produitsDeFonctionnementCAFImpotsLocaux;\n\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Autres impôts et taxes */\n   private RS produitsDeFonctionnementCAFAutresImpotsEtTaxes;\n\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Dotation globale de fonctionnement */\n   private RS produitsDeFonctionnementCAFDGF;\n   \n   /** CHARGES DE FONCTIONNEMENT = B */\n   private MR chargesDeFonctionnement;\n\n   /** Charges de fonctionnement CAF */\n   private MR chargesDeFonctionnementCAF;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Charges de personnel */\n   private RS chargesDeFonctionnementCAFChargesDePersonnel;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Achats et charges externes */\n   private RS chargesDeFonctionnementCAFAchatsEtChargesExternes;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Charges financières */\n   private RS chargesDeFonctionnementCAFChargesFinancieres;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Subventions versées */\n   private RS chargesDeFonctionnementCAFSubventionsVersees;\n[...]\n</code></pre>\n<p>They are needed because departments, cities, local authorities, regions have the overhaul same structure, but with some small variations.</p>\n<p>So, the concrete class I am willing to fill, for example, is a city individual accounts, <code>ComptesIndividuelsCommune</code> extending <code>ComptesIndividuels</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Comptes individuels d'une commune.\n * @author Marc Le Bihan\n */\npublic class ComptesIndividuelsCommune extends ComptesIndividuels&lt;ComptesAvecMoyenneStrate, ComptesAvecStrateEtRatioStructureEtStrate, ComptesAvecStrateEtReductionVotee, ComptesAvecStrateEtTauxVoteEtStrate&gt; {\n[...]\n   /** Code de la région */\n   private String codeRegion;\n   \n   /** Code du département */\n   private String codeDepartement;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Contingents */\n   private ComptesAvecStrateEtRatioStructureEtStrate chargesDeFonctionnementCAFContingents;\n\n   /** RESSOURCES D'INVESTISSEMENT : Retour de biens affectés concédés ... */\n   private ComptesAvecStrateEtRatioStructureEtStrate ressourcesInvestissementRetourDeBiensAffectesConcedes;\n\n   /** EMPLOIS D'INVESTISSEMENT : Charges à répartir */\n   private ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementChargesARepartir;\n\n   /** EMPLOIS D'INVESTISSEMENT : Immobilisations affectées, concédées, ... */\n   private ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementImmobilisationsAffecteesConcedees;\n\n   /** AUTOFINANCEMENT : Excédent brut de fonctionnement */\n   private ComptesAvecStrateEtRatioStructureEtStrate autoFinancementExcedentBrutDeFonctionnement;\n[...]\n</code></pre>\n<p>Until <code>Spark 3.3.2</code> I was able to fill it from a row dataset with proper properties, with this function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Convertir un Dataset Row en Dataset de comptes individuels de communes.\n * @param dsRow Dataset Row à convertir.\n * @return Dataset de comptes de communes.\n */\n@Override\npublic Dataset&lt;ComptesIndividuelsCommune&gt; toDatasetComptesIndividuels(Dataset&lt;Row&gt; dsRow) {\n   Objects.requireNonNull(dsRow, &quot;Le dataset de comptes individuels de communes ne peut pas valoir null.&quot;);\n      \n   return dsRow.map((MapFunction&lt;Row, ComptesIndividuelsCommune&gt;)row -&gt; {\n      ComptesAvecStrateEtRatioStructureEtStrate chargesDeFonctionnementCAFContingents = rs(&quot;\\t\\tContingents\\t\\t\\t&quot;, &quot;chargesDeFonctionnementCAFContingents&quot;, true, row); \n\n      ComptesAvecStrateEtRatioStructureEtStrate ressourcesInvestissementRetourDeBiensAffectesConcedes = rs(&quot;\\tRetour de biens affectés, concédés, ...\\t&quot;, &quot;ressourcesInvestissementRetourDeBiensAffectesConcedes&quot;, true, row);\n         \n      ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementChargesARepartir = rs(&quot;\\tCharges à répartir\\t\\t\\t&quot;, &quot;emploisInvestissementChargesARepartir&quot;, true, row); \n      ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementImmobilisationsAffecteesConcedees = rs(&quot;\\tImmobilisations affectées, concédées, ...&quot;, &quot;emploisInvestissementImmobilisationsAffecteesConcedees&quot;, true, row);\n\n      ComptesAvecMoyenneStrate operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement = mr(&quot;Besoin ou capacité de financement résiduel de la section d'investissement = D - C&quot;, &quot;operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement&quot;, true, row);\n      ComptesAvecMoyenneStrate operationsInvestissementSoldeDesOperationsPourCompteDeTiers = mr(&quot;+ Solde des opérations pour le compte de tiers&quot;, &quot;operationsInvestissementSoldeDesOperationsPourCompteDeTiers&quot;, true, row);\n      ComptesAvecMoyenneStrate operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement = mr(&quot;Besoin ou capacité de financement de la section d'investissement = E&quot;, &quot;operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement&quot;, true, row);\n      ComptesAvecMoyenneStrate operationsInvestissementResultatEnsemble = mr(&quot;Résultat d'ensemble = R - E&quot;, &quot;operationsInvestissementResultatEnsemble&quot;, true, row);\n         \n      ComptesAvecStrateEtRatioStructureEtStrate autoFinancementExcedentBrutDeFonctionnement = rs(&quot;Excédent brut de fonctionnement\\t\\t\\t&quot;, &quot;autoFinancementExcedentBrutDeFonctionnement&quot;, true, row);\n         \n      ComptesAvecMoyenneStrate endettementFondsDeRoulement = mr(&quot;FONDS DE ROULEMENT&quot;, &quot;endettementFondsDeRoulement&quot;, true, row);\n         \n      ComptesIndividuels&lt;ComptesAvecMoyenneStrate, ComptesAvecStrateEtRatioStructureEtStrate, ComptesAvecStrateEtReductionVotee, ComptesAvecStrateEtTauxVoteEtStrate&gt; comptesIndividuels = super.alimenterCompteIndividuels(row, \n         row.getAs(&quot;populationCommune&quot;), row.getAs(&quot;sirenCommune&quot;), row.getAs(&quot;codeCommune&quot;), row.getAs(&quot;nomCommune&quot;), true);\n         \n      return new ComptesIndividuelsCommune(comptesIndividuels,\n         row.getAs(&quot;codeRegion&quot;), row.getAs(&quot;codeDepartement&quot;),\n         row.getAs(&quot;typeGroupementAppartenance&quot;),\n         row.getAs(&quot;libelleStrateCommune&quot;),\n         ressourcesInvestissementRetourDeBiensAffectesConcedes,\n         chargesDeFonctionnementCAFContingents,\n         emploisInvestissementChargesARepartir, emploisInvestissementImmobilisationsAffecteesConcedees,\n         autoFinancementExcedentBrutDeFonctionnement,  \n         endettementFondsDeRoulement,\n         operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement, \n         operationsInvestissementSoldeDesOperationsPourCompteDeTiers, \n         operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement, \n         operationsInvestissementResultatEnsemble); \n   }, Encoders.bean(ComptesIndividuelsCommune.class));\n}\n</code></pre>\n<p>But since <em>Spark</em> <code>3.4.0</code>, it fails with this stacktrace:</p>\n<pre><code>org.apache.spark.SparkUnsupportedOperationException: [ENCODER_NOT_FOUND] Not found an encoder of the type RS to Spark SQL internal representation. Consider to change the input type to one of supported at 'https://spark.apache.org/docs/latest/sql-ref-datatypes.html'.\n\n    at org.apache.spark.sql.errors.QueryExecutionErrors$.cannotFindEncoderForTypeError(QueryExecutionErrors.scala:1483)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:142)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$encoderFor$1(JavaTypeInference.scala:128)\n    at scala.collection.ArrayOps$.map$extension(ArrayOps.scala:929)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:126)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:58)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:51)\n    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:62)\n    at org.apache.spark.sql.Encoders$.bean(Encoders.scala:179)\n    at org.apache.spark.sql.Encoders.bean(Encoders.scala)\n    at fr.ecoemploi.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset.toDatasetComptesIndividuels(ComptesIndividuelsCommunesDataset.java:614)\n    at fr.ecoemploi.spark.dataset.individuel.AbstractComptesIndividuelsDataset.toComptesIndividuels(AbstractComptesIndividuelsDataset.java:119)\n    at fr.ecoemploi.spark.dataset.balance.communes.ComptesIndividuelsCommunesIT.datasetComptesIndividuelsCommunesEPCI(ComptesIndividuelsCommunesIT.java:158)\n</code></pre>\n<p>I've started a debug session. The problem happens in the encoding checking.</p>\n<p>This function is called (visible in the stacktrace) by the <em>Scala</em> engine of <em>Spark</em>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>private def encoderFor(t: Type, seenTypeSet: Set[Class[_]]): AgnosticEncoder[_] = t match {\n\n  case c: Class[_] if c == java.lang.Boolean.TYPE =&gt; PrimitiveBooleanEncoder\n  case c: Class[_] if c == java.lang.Byte.TYPE =&gt; PrimitiveByteEncoder\n  case c: Class[_] if c == java.lang.Short.TYPE =&gt; PrimitiveShortEncoder\n  case c: Class[_] if c == java.lang.Integer.TYPE =&gt; PrimitiveIntEncoder\n  case c: Class[_] if c == java.lang.Long.TYPE =&gt; PrimitiveLongEncoder\n  case c: Class[_] if c == java.lang.Float.TYPE =&gt; PrimitiveFloatEncoder\n  case c: Class[_] if c == java.lang.Double.TYPE =&gt; PrimitiveDoubleEncoder\n\n  case c: Class[_] if c == classOf[java.lang.Boolean] =&gt; BoxedBooleanEncoder\n  case c: Class[_] if c == classOf[java.lang.Byte] =&gt; BoxedByteEncoder\n  case c: Class[_] if c == classOf[java.lang.Short] =&gt; BoxedShortEncoder\n  case c: Class[_] if c == classOf[java.lang.Integer] =&gt; BoxedIntEncoder\n  case c: Class[_] if c == classOf[java.lang.Long] =&gt; BoxedLongEncoder\n  case c: Class[_] if c == classOf[java.lang.Float] =&gt; BoxedFloatEncoder\n  case c: Class[_] if c == classOf[java.lang.Double] =&gt; BoxedDoubleEncoder\n\n  case c: Class[_] if c == classOf[java.lang.String] =&gt; StringEncoder\n  case c: Class[_] if c == classOf[Array[Byte]] =&gt; BinaryEncoder\n  case c: Class[_] if c == classOf[java.math.BigDecimal] =&gt; DEFAULT_JAVA_DECIMAL_ENCODER\n  case c: Class[_] if c == classOf[java.math.BigInteger] =&gt; JavaBigIntEncoder\n  case c: Class[_] if c == classOf[java.time.LocalDate] =&gt; STRICT_LOCAL_DATE_ENCODER\n  case c: Class[_] if c == classOf[java.sql.Date] =&gt; STRICT_DATE_ENCODER\n  case c: Class[_] if c == classOf[java.time.Instant] =&gt; STRICT_INSTANT_ENCODER\n  case c: Class[_] if c == classOf[java.sql.Timestamp] =&gt; STRICT_TIMESTAMP_ENCODER\n  case c: Class[_] if c == classOf[java.time.LocalDateTime] =&gt; LocalDateTimeEncoder\n  case c: Class[_] if c == classOf[java.time.Duration] =&gt; DayTimeIntervalEncoder\n  case c: Class[_] if c == classOf[java.time.Period] =&gt; YearMonthIntervalEncoder\n\n  case c: Class[_] if c.isEnum =&gt; JavaEnumEncoder(ClassTag(c))\n\n  case c: Class[_] if c.isAnnotationPresent(classOf[SQLUserDefinedType]) =&gt;\n    val udt = c.getAnnotation(classOf[SQLUserDefinedType]).udt()\n      .getConstructor().newInstance().asInstanceOf[UserDefinedType[Any]]\n    val udtClass = udt.userClass.getAnnotation(classOf[SQLUserDefinedType]).udt()\n    UDTEncoder(udt, udtClass)\n\n  case c: Class[_] if UDTRegistration.exists(c.getName) =&gt;\n    val udt = UDTRegistration.getUDTFor(c.getName).get.getConstructor().\n      newInstance().asInstanceOf[UserDefinedType[Any]]\n    UDTEncoder(udt, udt.getClass)\n\n  case c: Class[_] if c.isArray =&gt;\n    val elementEncoder = encoderFor(c.getComponentType, seenTypeSet)\n    ArrayEncoder(elementEncoder, elementEncoder.nullable)\n\n  case ImplementsList(c, Array(elementCls)) =&gt;\n    val element = encoderFor(elementCls, seenTypeSet)\n    IterableEncoder(ClassTag(c), element, element.nullable, lenientSerialization = false)\n\n  case ImplementsMap(c, Array(keyCls, valueCls)) =&gt;\n    val keyEncoder = encoderFor(keyCls, seenTypeSet)\n    val valueEncoder = encoderFor(valueCls, seenTypeSet)\n    MapEncoder(ClassTag(c), keyEncoder, valueEncoder, valueEncoder.nullable)\n\n  case c: Class[_] =&gt;\n    if (seenTypeSet.contains(c)) {\n      throw QueryExecutionErrors.cannotHaveCircularReferencesInBeanClassError(c)\n    }\n\n    // TODO: we should only collect properties that have getter and setter. However, some tests\n    //   pass in scala case class as java bean class which doesn't have getter and setter.\n    val properties = getJavaBeanReadableProperties(c)\n    // Note that the fields are ordered by name.\n    val fields = properties.map { property =&gt;\n      val readMethod = property.getReadMethod\n      val encoder = encoderFor(readMethod.getGenericReturnType, seenTypeSet + c)\n      // The existence of `javax.annotation.Nonnull`, means this field is not nullable.\n      val hasNonNull = readMethod.isAnnotationPresent(classOf[Nonnull])\n      EncoderField(\n        property.getName,\n        encoder,\n        encoder.nullable &amp;&amp; !hasNonNull,\n        Metadata.empty,\n        Option(readMethod.getName),\n        Option(property.getWriteMethod).map(_.getName))\n    }\n    JavaBeanEncoder(ClassTag(c), fields)\n\n  case _ =&gt;\n    throw QueryExecutionErrors.cannotFindEncoderForTypeError(t.toString, SPARK_DOC_ROOT)\n}\n</code></pre>\n<p>where it fails, on the line<br />\n<code>val encoder = encoderFor(readMethod.getGenericReturnType, seenTypeSet + c)</code><br />\nit has called with that content below:</p>\n<p><a href=\"https://i.stack.imgur.com/MlmJs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MlmJs.png\" alt=\"enter image description here\" /></a></p>\n<p>and then it jumps to the default case:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>case _ =&gt;\n  throw QueryExecutionErrors.cannotFindEncoderForTypeError(t.toString, SPARK_DOC_ROOT)\n</code></pre>\n<p>throwing an exception:</p>\n<pre><code>org.apache.spark.SparkUnsupportedOperationException: [ENCODER_NOT_FOUND] Not found an encoder of the type RS to Spark SQL internal representation. Consider to change the input type to one of supported at 'https://spark.apache.org/docs/latest/sql-ref-datatypes.html'.\n</code></pre>\n<p>and then I understand that the <code>t: Type</code> <code>encoderFor</code> is using, has for value <code>RS</code>...<br />\nand it appears me strange that such a type could hold a generic type declaration, instead of a concrete class, at this step.</p>\n<p>I am clueless, here. I wonder what I could do to solve my problem.<br />\nMaybe I am in front of a Spark <code>3.4.0</code> issue?</p>\n<hr />\n<p>For @DmytroMitin question about the differences between Spark <code>3.4.0</code> and Spark <code>3.3.2</code>, in his comment below: the Spark <code>3.3.2</code> is different.<br />\nIts method is called <code>inferDataType</code> and execute this piece of code:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>case other =&gt;\n   if (seenTypeSet.contains(other)) {\n      throw QueryExecutionErrors.cannotHaveCircularReferencesInBeanClassError(other)\n     }\n\n   // TODO: we should only collect properties that have getter and setter. However, some tests\n   // pass in scala case class as java bean class which doesn't have getter and setter.\n   val properties = getJavaBeanReadableProperties(other)\n   val fields = properties.map { property =&gt;\n   val returnType = typeToken.method(property.getReadMethod).getReturnType\n   val (dataType, nullable) = inferDataType(returnType, seenTypeSet + other)\n   // The existence of `javax.annotation.Nonnull`, means this field is not nullable.\n   val hasNonNull = property.getReadMethod.isAnnotationPresent(classOf[Nonnull])\n    new StructField(property.getName, dataType, nullable &amp;&amp; !hasNonNull)\n  }\n  (new StructType(fields), true)\n}\n</code></pre>\n<p>and doesn't encouter the same problem:</p>\n<pre><code>returnType = fr.ecoemploi.metier.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\n</code></pre>\n<p>it is able to define a StructType from that class:</p>\n<p><a href=\"https://i.stack.imgur.com/GOOsF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GOOsF.png\" alt=\"enter image description here\" /></a></p>\n<p>I think code between <code>3.3.2</code> and  <code>3.4.0</code> have largely enough changed, and are incomparable now (for normal understanding).</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1681758451,"post_id":76036349,"comment_id":134105650,"body_markdown":"You need to provide a minimal example that demonstrates the issue. E.g. remove fields and setters from the Commune class until the problem stops occurring.","body":"You need to provide a minimal example that demonstrates the issue. E.g. remove fields and setters from the Commune class until the problem stops occurring."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1681760509,"post_id":76036349,"comment_id":134106080,"body_markdown":"@jon-hanson it won&#39;t be easy. I&#39;m doing a step-by-step debugging instead, and might have the beginning of a solution. I hope that in few days, I can provide an helpful answer to all of those who will face this problem with the Spark new version.","body":"@jon-hanson it won&#39;t be easy. I&#39;m doing a step-by-step debugging instead, and might have the beginning of a solution. I hope that in few days, I can provide an helpful answer to all of those who will face this problem with the Spark new version."}],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681798564,"creation_date":1681789287,"answer_id":76040939,"question_id":76036349,"body_markdown":"The problem starts in the `private def deserializerFor(enc: AgnosticEncoder[_], path: Expression, walkedTypePath: WalkedTypePath)` in the stack trace.\r\n\r\nIt attempts to run that piece of code:\r\n\r\n```scala\r\ncase JavaBeanEncoder(tag, fields) =&gt;\r\n  val setters = fields.map { f =&gt;\r\n    val newTypePath = walkedTypePath.recordField(\r\n      f.enc.clsTag.runtimeClass.getName,\r\n      f.name)\r\n    val setter = expressionWithNullSafety(\r\n      deserializerFor(\r\n        f.enc,\r\n        addToPath(path, f.name, f.enc.dataType, newTypePath),\r\n        newTypePath),\r\n      nullable = f.nullable,\r\n      newTypePath)\r\n    f.writeMethod.get -&gt; setter\r\n  }\r\n[...]\r\n```\r\n\r\nHere, among its searches, it searches for `isCollectiviteOutremer` method, and finds:\r\n\r\n```scala\r\nEncoderField(isCollectiviteOutremer,PrimitiveBooleanEncoder,true,{},Some(isCollectiviteOutremer),None)\r\n```\r\n\r\n(or something like that, I solved it in a debug). What is important is that for setter it has: `None`.\r\n\r\nBecause the method it tries to encode is that one:\r\n\r\n```java\r\npublic boolean isCollectiviteOutremer() {\r\n   return this.codeCommune != null &amp;&amp;\r\n      (this.codeCommune.startsWith(&quot;975&quot;) || this.codeCommune.startsWith(&quot;977&quot;) || this.codeCommune.startsWith(&quot;978&quot;) || this.codeCommune.startsWith(&quot;98&quot;));\r\n}\r\n```\r\n\r\nThat is an utilitarian method, and doesn&#39;t need a setter.\r\n\r\nIn fact, that method doesn&#39;t need to be encoded into a field, but I don&#39;t know how to tell to `Encoders.bean(...)` to skip it. If an annotation exists, or something else.\r\n\r\nWhatever, I was able to remove that encoding attempt by changing its return type from `boolean` to `Boolean`, and then I hadn&#39;t the problem anymore: the method `isCollectiviteOutremer` wasn&#39;t listed in `fields` anymore.\r\n\r\nMy answer to this question counts, however, more for a workaround than a good solution.","title":"Encoders.bean doesn&#39;t work anymore on a Java POJO, with Spark 3.4.0","body":"<p>The problem starts in the <code>private def deserializerFor(enc: AgnosticEncoder[_], path: Expression, walkedTypePath: WalkedTypePath)</code> in the stack trace.</p>\n<p>It attempts to run that piece of code:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>case JavaBeanEncoder(tag, fields) =&gt;\n  val setters = fields.map { f =&gt;\n    val newTypePath = walkedTypePath.recordField(\n      f.enc.clsTag.runtimeClass.getName,\n      f.name)\n    val setter = expressionWithNullSafety(\n      deserializerFor(\n        f.enc,\n        addToPath(path, f.name, f.enc.dataType, newTypePath),\n        newTypePath),\n      nullable = f.nullable,\n      newTypePath)\n    f.writeMethod.get -&gt; setter\n  }\n[...]\n</code></pre>\n<p>Here, among its searches, it searches for <code>isCollectiviteOutremer</code> method, and finds:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>EncoderField(isCollectiviteOutremer,PrimitiveBooleanEncoder,true,{},Some(isCollectiviteOutremer),None)\n</code></pre>\n<p>(or something like that, I solved it in a debug). What is important is that for setter it has: <code>None</code>.</p>\n<p>Because the method it tries to encode is that one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isCollectiviteOutremer() {\n   return this.codeCommune != null &amp;&amp;\n      (this.codeCommune.startsWith(&quot;975&quot;) || this.codeCommune.startsWith(&quot;977&quot;) || this.codeCommune.startsWith(&quot;978&quot;) || this.codeCommune.startsWith(&quot;98&quot;));\n}\n</code></pre>\n<p>That is an utilitarian method, and doesn't need a setter.</p>\n<p>In fact, that method doesn't need to be encoded into a field, but I don't know how to tell to <code>Encoders.bean(...)</code> to skip it. If an annotation exists, or something else.</p>\n<p>Whatever, I was able to remove that encoding attempt by changing its return type from <code>boolean</code> to <code>Boolean</code>, and then I hadn't the problem anymore: the method <code>isCollectiviteOutremer</code> wasn't listed in <code>fields</code> anymore.</p>\n<p>My answer to this question counts, however, more for a workaround than a good solution.</p>\n"},{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701405682,"creation_date":1701405682,"answer_id":77583050,"question_id":76036349,"body_markdown":"This problem is now corrected with the `Spark 3.4.2` new release.","title":"Encoders.bean doesn&#39;t work anymore on a Java POJO, with Spark 3.4.0","body":"<p>This problem is now corrected with the <code>Spark 3.4.2</code> new release.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77583050,"answer_count":2,"score":3,"last_activity_date":1701405682,"creation_date":1681742397,"question_id":76036349,"body_markdown":"This method that worked well from Spark `3.2.x` to Spark `3.3.x`,\r\n\r\n```java\r\npublic Dataset&lt;Commune&gt; obtenirCommunes(SparkSession session, int anneeCOG) throws TechniqueException {\r\n   Dataset&lt;Row&gt; communes = rowCommunes(session, anneeCOG);\r\n\r\n   return communes\r\n      .select(communes.col(&quot;typeCommune&quot;), communes.col(&quot;codeCommune&quot;), communes.col(&quot;codeRegion&quot;), communes.col(&quot;codeDepartement&quot;),\r\n          communes.col(&quot;arrondissement&quot;), communes.col(&quot;typeNomEtCharniere&quot;), communes.col(&quot;nomMajuscules&quot;), communes.col(&quot;nomCommune&quot;), \r\n          communes.col(&quot;codeCanton&quot;), communes.col(&quot;codeCommuneParente&quot;), communes.col(&quot;sirenCommune&quot;), communes.col(&quot;populationTotale&quot;).alias(&quot;population&quot;),\r\n          communes.col(&quot;strateCommune&quot;), communes.col(&quot;codeEPCI&quot;), communes.col(&quot;surface&quot;), communes.col(&quot;longitude&quot;), communes.col(&quot;latitude&quot;),\r\n          communes.col(&quot;nomDepartement&quot;), communes.col(&quot;nomEPCI&quot;))\r\n      .as(Encoders.bean(Commune.class))\r\n      .cache();\r\n   }\r\n```\r\n\r\nis now failing with Spark `3.4.0`, through this test:\r\n\r\n```java\r\n/**\r\n * Charger le Code Officiel G&#233;ographique entier.\r\n * @throws CommuneInexistanteException si la commune recherch&#233;e n&#39;existe pas.\r\n * @throws TechniqueException si un incident survient.\r\n */\r\n@Test\r\n@DisplayName(&quot;Lecture du code officiel g&#233;ographique&quot;)\r\nvoid cog() throws TechniqueException, CommuneInexistanteException {\r\n   for(int cog = COG_START; cog &lt;= COG_END; cog ++) {\r\n      if (this.toutesAnnees == false &amp;&amp; cog != COG_END) {\r\n         continue;\r\n      }\r\n         \r\n      CodeOfficielGeographique maillage = this.cogDataset.obtenirCodeOfficielGeographique(this.session, cog, true);\r\n      LOGGER.info(&quot;Code Officiel G&#233;ographique : {} communes, {} intercommunalit&#233;s.&quot;, maillage.getCommunes().size(), maillage.getIntercommunalites().size());\r\n         \r\n      Intercommunalite intercommunalite = maillage.getIntercommunalites().values().iterator().next();\r\n      LOGGER.info(&quot;La premi&#232;re intercommunalit&#233; : {}&quot;, intercommunalite);\r\n         \r\n      Commune cambremer = maillage.getCommune(&quot;14126&quot;);\r\n      assertNotNull(cambremer, MessageFormat.format(&quot;Cambremer aurait d&#251; &#234;tre trouv&#233; dans le COG {0}.&quot;, cog));\r\n      LOGGER.info(cambremer.toString());\r\n   }\r\n}\r\n```\r\n\r\nThe failure comes with a not very clear log (it&#39;s the line `CodeOfficielGeographique maillage = this.cogDataset.obtenirCodeOfficielGeographique(this.session, cog, true)` that calls `CogDataset:obtenirCommunes` who fails):\r\n\r\n```log\r\njava.util.NoSuchElementException: None.get\r\n\r\n\tat scala.None$.get(Option.scala:627)\r\n\tat scala.None$.get(Option.scala:626)\r\n\tat org.apache.spark.sql.catalyst.ScalaReflection$.$anonfun$deserializerFor$8(ScalaReflection.scala:359)\r\n\tat scala.collection.immutable.ArraySeq.map(ArraySeq.scala:75)\r\n\tat scala.collection.immutable.ArraySeq.map(ArraySeq.scala:35)\r\n\tat org.apache.spark.sql.catalyst.ScalaReflection$.deserializerFor(ScalaReflection.scala:348)\r\n\tat org.apache.spark.sql.catalyst.ScalaReflection$.deserializerFor(ScalaReflection.scala:183)\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.apply(ExpressionEncoder.scala:56)\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:62)\r\n\tat org.apache.spark.sql.Encoders$.bean(Encoders.scala:179)\r\n\tat org.apache.spark.sql.Encoders.bean(Encoders.scala)\r\n\tat fr.ecoemploi.spark.dataset.cog.CogDataset.obtenirCommunes(CogDataset.java:220)\r\n\tat fr.ecoemploi.spark.dataset.cog.CogDataset.obtenirCodeOfficielGeographique(CogDataset.java:186)\r\n\tat fr.ecoemploi.spark.dataset.cog.CommuneObjectsMetiersIT.cog(CommuneObjectsMetiersIT.java:92)\r\n```\r\n\r\nAnd the `Commune` object that `Encoders.bean` targets, is this one:\r\n\r\n```java\r\npackage fr.ecoemploi.metier.territoire;\r\n\r\nimport static fr.ecoemploi.metier.territoire.PrefixageNomCommune.*;\r\n\r\nimport java.io.Serial;\r\nimport java.text.*;\r\nimport java.util.*;\r\nimport java.util.function.Predicate;\r\n\r\nimport javax.validation.constraints.*;\r\n\r\nimport org.apache.commons.lang3.*;\r\n\r\nimport fr.fondation.utilitaires.autocontrole.*;\r\nimport fr.fondation.utilitaires.localisation.*;\r\nimport io.swagger.v3.oas.annotations.*;\r\nimport io.swagger.v3.oas.annotations.media.*;\r\n\r\n/**\r\n * Une commune.\r\n * @author Marc LE BIHAN.\r\n */\r\n@Schema(description = &quot;Une commune du Code Officiel G&#233;ographique&quot;)\r\npublic class Commune extends ObjetMetierSpark {\r\n   /** Serial ID */\r\n   @Serial\r\n   private static final long serialVersionUID = 4381577514414536917L;\r\n\r\n   /** Collator utilis&#233; pour comparer les noms de communes, sans accents. */\r\n   private static final Collator collator = Collator.getInstance(Locale.FRENCH);\r\n   \r\n   static {\r\n      collator.setStrength(Collator.PRIMARY);\r\n   }\r\n\r\n   /** Code de la commune. */\r\n   @NotNull @Size(min = 5, max = 5) @Schema(description = &quot;Code de la commune&quot;, example = &quot;29019&quot;)\r\n   private String codeCommune;\r\n   \r\n   /** Code dd&#233;partement. */\r\n   @NotNull @Size(min=2, max=3) @Schema(description = &quot;Code du d&#233;partement&quot;, example = &quot;972&quot;)\r\n   private String codeDepartement;\r\n   \r\n   /** Nom du d&#233;partement. */\r\n   @NotNull @Schema(description = &quot;Nom du d&#233;partement&quot;, example = &quot;Finist&#232;re&quot;)\r\n   private String nomDepartement;\r\n\r\n   /** Code de la commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es). */\r\n   @Size(min = 9, max = 9) @Schema(description = &quot;Code de la commune parente&quot;, example = &quot;75056&quot;, nullable = true)\r\n   private String codeCommuneParente;\r\n\r\n   /** Code INSEE de la r&#233;gion auquel appartient ce d&#233;partement. */\r\n   @NotNull @Size(min = 2, max = 2) @Schema(description = &quot;Code de la r&#233;gion&quot;, example = &quot;84&quot;)\r\n   private String codeRegion;\r\n   \r\n   /** Code Canton de la commune. */\r\n   @Schema(description = &quot;Code du canton&quot;, nullable = true)\r\n   private String codeCanton;\r\n\r\n   /** Nom de la ville. */\r\n   @NotNull @Schema(description = &quot;Nom de la commune&quot;, example = &quot;Brest&quot;)\r\n   private String nomCommune;\r\n\r\n   /** Nom en majuscule. */\r\n   @NotNull @Schema(description = &quot;Nom de la commune en majuscules&quot;, example = &quot;BREST&quot;)\r\n   private String nomMajuscules;\r\n\r\n   /** Type et nom charni&#232;re. */\r\n   @NotNull @Size(min=1, max=1)\r\n   @Schema(description = &quot;Type de nom et charni&#232;re: &lt;ul&gt;&quot;\r\n         + &quot;&lt;li&gt;0  Pas d&#39;article et le nom commence par une consonne sauf H muet  charni&#232;re = DE&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;1  Pas d&#39;article et le nom commence par une voyelle ou un H muet  charni&#232;re = D&#39;&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;2  Article = LE   charni&#232;re = DU&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;3  Article = LA   charni&#232;re = DE LA&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;4  Article = LES  charni&#232;re = DES&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;5  Article = L&#39;   charni&#232;re = DE L&#39;&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;6  Article = AUX  charni&#232;re = DES&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;7  Article = LAS  charni&#232;re = DE LAS&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;8  Article = LOS  charni&#232;re = DE LOS&lt;/li&gt;&quot;\r\n         + &quot;&lt;/ul&gt;&quot;)\r\n   private String typeNomEtCharniere;\r\n\r\n   /** SIREN de la commune (permet de la lier &#224; son intercommunalit&#233;). */\r\n   @NotNull @Size(min=9, max=9) @Schema(description = &quot;Num&#233;ro SIREN de la commune&quot;, example = &quot;212900195&quot;)\r\n   private String sirenCommune;\r\n\r\n   /** Liste des groupements dont cette commune est le si&#232;ge. */\r\n   @NotNull \r\n   @Schema(description = &quot;Liste des groupements (EPCI, ult&#233;rieurement : syndicats) dont cette commune est le si&#232;ge. &quot;\r\n         + &quot;Cette liste est vide si la commune n&#39;est si&#232;ge d&#39;aucun syndicat ou intercommunalit&#233;.&quot;, example = &quot;[242900314]&quot;)\r\n   private Set&lt;String&gt; siegeGroupements = new HashSet&lt;&gt;();\r\n   \r\n   /** Liste des intercommunalit&#233;s dont cette commune est membre. */\r\n   @NotNull @Schema(description = &quot;Liste des groupepements (EPCI, ult&#233;rieurement : syndicats) dont cette commune est membre.&quot;, example = &quot;[242900314]&quot;)\r\n   private Set&lt;String&gt; membreGroupements = new HashSet&lt;&gt;();\r\n   \r\n   /** Intercommunalit&#233; &#224; fiscalit&#233; propre &#224; laquelle cette commune appartient (qu&#39;elle en soit si&#232;ge ou membre). */\r\n   @NotNull @Size(min=9, max=9) @Schema(description = &quot;Num&#233;ro SIREN de l&#39;intercommunalit&#233; dont cette commune est si&#232;ge ou membre.&quot;, example = &quot;242900314&quot;)\r\n   private String epciFiscalitePropre;\r\n   \r\n   /** Nom de de l&#39;intercommunalit&#233; &#224; laquelle la commune appartient. */\r\n   @NotNull @Schema(description = &quot;Nom de l&#39;intercommunalit&#233; &#224; laquelle la commune appartient&quot;, example = &quot;Brest M&#233;tropole&quot;)\r\n   private String nomEPCI;\r\n   \r\n   /** Arrondissement de la commune. */\r\n   @Schema(description = &quot;Code de l&#39;arrondissement de la commune.&quot;, nullable = true)\r\n   private String arrondissement;\r\n   \r\n   /** Population de la commune. */\r\n   @NotNull @Schema(description = &quot;Population totale de la commune.&quot;)\r\n   private Integer population;\r\n   \r\n   /** Type de la commune. */\r\n   @NotNull\r\n   @Schema(description = &quot;Type de la commune : &lt;ul&gt;&quot; +\r\n      &quot;&lt;li&gt;COM   Commune&lt;/li&gt;&quot; + \r\n      &quot;&lt;li&gt;COMA  Commune associ&#233;e&lt;/li&gt;&quot; + \r\n      &quot;&lt;li&gt;COMD  Commune d&#233;l&#233;gu&#233;e&lt;/li&gt;&quot; + \r\n      &quot;&lt;li&gt;ARM   Arrondissement municipal&lt;/li&gt;&quot;\r\n      + &quot;&lt;/ul&gt;&quot;, example = &quot;COM&quot;)\r\n   private String typeCommune;\r\n   \r\n   /** Strate communale. */\r\n   @NotNull\r\n   @Schema(description = &quot;Strate communale : &lt;ul&gt;&quot; +\r\n         &quot;&lt;li&gt;1 : Moins de 100 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;2 : De 100 &#224; moins de 200 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;3 : De 200 &#224; moins de 500 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;4 : De 500 &#224; moins de 2 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;5 : De 2 000 &#224; moins de 3 500 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;6 : De 3 500 &#224; moins de 5 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;7 : De 5 000 &#224; moins de 10 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;8 : de 10 000 &#224; moins de 20 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;9 : de 20 000 &#224; moins de 50 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;10 : de 50 000 &#224; moins de 100 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;11 : 100 000 habitants et plus&lt;/li&gt;&quot; + \r\n         &quot;&lt;/ul&gt;&quot;, example = &quot;1&quot;)\r\n   private Integer strateCommune;\r\n   \r\n   /** Surface de la commune en hectares. */\r\n   @Schema(description = &quot;Surface de la commune, en hectares. N&#39;est pas aliment&#233; pour les arrondissements.&quot;, example = &quot;1520.25&quot;, nullable = true)\r\n   private Double surface;\r\n   \r\n   /** Longitude du centro&#239;de de la commune. */\r\n   @Schema(description = &quot;Longitude du centro&#239;de de la commune. N&#39;est pas aliment&#233; pour les arrondissements.&quot;, example = &quot;-4.2908&quot;, nullable = true)\r\n   private Double longitude;\r\n   \r\n   /** Latitude du centro&#239;de de la commune. */\r\n   @Schema(description = &quot;Latitude du centro&#239;de de la commune. N&#39;est pas aliment&#233; pour les arrondissements.&quot;, example = &quot;48.2327&quot;, nullable = true)\r\n   private Double latitude;\r\n\r\n   /**\r\n    * Construire une commune.\r\n    */\r\n   public Commune() {\r\n   }\r\n   \r\n   /**\r\n    * Ajouter une intercommunalit&#233; dont cette commune est membre.\r\n    * @param sirenIntercommunalite SIREN de l&#39;intercommunalit&#233;.\r\n    */\r\n   public void ajouterMembreGroupement(String sirenIntercommunalite) {\r\n      this.membreGroupements.add(sirenIntercommunalite);\r\n   }\r\n   \r\n   /**\r\n    * Ajouter une intercommunalit&#233; dont cette commune est le si&#232;ge.\r\n    * @param sirenIntercommunalite SIREN de l&#39;intercommunalit&#233;.\r\n    */\r\n   public void ajouterSiegeGroupement(String sirenIntercommunalite) {\r\n      this.siegeGroupements.add(sirenIntercommunalite);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code Canton de la commune. \r\n    * @return Code canton de la commune.\r\n    */\r\n   public String getCodeCanton() {\r\n      return this.codeCanton;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code canton de la commune.\r\n    * @param codeCanton Code canton de la commune.\r\n    */\r\n   public void setCodeCanton(String codeCanton) {\r\n      this.codeCanton = codeCanton;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code de la commune.\r\n    * @return Code de la commune.\r\n    */\r\n   public String getCodeCommune() {\r\n      return this.codeCommune;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code de la commune.\r\n    * @return Code de la commune.\r\n    */\r\n   public CodeCommune astCodeCommune() {\r\n      return new CodeCommune(this.codeCommune);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es).\r\n    * @return Code commune parente.\r\n    */\r\n   public CodeCommune astCodeCommuneParente() {\r\n      return new CodeCommune(this.codeCommuneParente);\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le code commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es).\r\n    * @return Code commune parente.\r\n    */\r\n   public String getCodeCommuneParente() {\r\n      return this.codeCommuneParente;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code d&#233;partement.\r\n    * @return Code d&#233;partement.\r\n    */\r\n   public CodeDepartement asCodeDepartement() {\r\n      return new CodeDepartement(this.codeDepartement);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code d&#233;partement.\r\n    * @return Code d&#233;partement.\r\n    */\r\n   public String getCodeDepartement() {\r\n      return this.codeDepartement;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code r&#233;gion.\r\n    * @return Code r&#233;gion.\r\n    */\r\n   public CodeRegion asCodeRegion() {\r\n      return new CodeRegion(this.codeRegion);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code r&#233;gion.\r\n    * @return Code r&#233;gion.\r\n    */\r\n   public String getCodeRegion() {\r\n      return this.codeRegion;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer l&#39;intercommunalit&#233; &#224; fiscalit&#233; propre &#224; laquelle cette commune appartient, qu&#39;elle en soit si&#232;ge ou membre.\r\n    * @return Intercommunalit&#233;.\r\n    */\r\n   public SIREN asEpciFiscalitePropre() {\r\n      return new SIREN(this.epciFiscalitePropre);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer l&#39;intercommunalit&#233; &#224; fiscalit&#233; propre &#224; laquelle cette commune appartient, qu&#39;elle en soit si&#232;ge ou membre.\r\n    * @return Intercommunalit&#233;.\r\n    */\r\n   @Hidden\r\n   public String getCodeEPCI() {\r\n      return this.epciFiscalitePropre;\r\n   }\r\n\r\n   /**\r\n    * Fixer l&#39;intercommunalit&#233; &#224; fiscalit&#233; propre &#224; laquelle cette commune appartient, qu&#39;elle en soit si&#232;ge ou membre.\r\n    * @param epci Intercommunalit&#233;.\r\n    */\r\n   @Hidden\r\n   public void setCodeEPCI(String epci) {\r\n      this.epciFiscalitePropre = epci;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer les groupements dont cette commune est membre.\r\n    * @return Groupements.\r\n    */\r\n   public Set&lt;String&gt; membreGroupements() {\r\n      return this.membreGroupements;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer la liste des groupements dont cette commune est le si&#232;ge.\r\n    * @return liste des groupements.\r\n    */\r\n   public Set&lt;String&gt; siegeGroupements() {\r\n      return this.siegeGroupements;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer l&#39;arrondissement.\r\n    * @return Arrondissement.\r\n    */\r\n   public String getArrondissement() {\r\n      return this.arrondissement;\r\n   }\r\n   \r\n   /**\r\n    * D&#233;terminer si ce code commune d&#233;signe une collectivit&#233; d&#39;outre-mer :&lt;br&gt;\r\n    * Attention, il s&#39;agit des d&#233;partements 975, 977, 978 et 98, et pas les d&#233;partements d&#39;outremer 971, 972, 973, 974 et 976.\r\n    * @return true si c&#39;est le cas.\r\n    */\r\n   @Hidden\r\n   public boolean isCollectiviteOutremer() {\r\n      return this.codeCommune != null &amp;&amp;\r\n         (this.codeCommune.startsWith(&quot;975&quot;) || this.codeCommune.startsWith(&quot;977&quot;) || this.codeCommune.startsWith(&quot;978&quot;) || this.codeCommune.startsWith(&quot;98&quot;));\r\n   }\r\n\r\n   /**\r\n    * Fixer l&#39;arrondissement.\r\n    * @param arrondissement Arrondissement.\r\n    */\r\n   public void setArrondissement(String arrondissement) {\r\n      this.arrondissement = arrondissement;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le nom de la commune.\r\n    * @return Nom de la commune.\r\n    */\r\n   public String getNomCommune() {\r\n      return this.nomCommune;\r\n   }\r\n   \r\n   /**\r\n    * D&#233;terminer si notre commune a le m&#234;me nom que celle en param&#232;tre.\r\n    * @param nomCandidat Nom de commune : il peut contenir une charni&#232;re.\r\n    * @return true si c&#39;est le cas.\r\n    */\r\n   public boolean hasMemeNom(String nomCandidat) {\r\n      // Si le nom soumis vaut null, r&#233;pondre non.\r\n      if (nomCandidat == null) {\r\n         return false;\r\n      }\r\n\r\n      // Faire une comparaison directe de nom de commune tout d&#39;abord, car l&#39;emploi du collator est tr&#232;s co&#251;teux.\r\n      if (nomCandidat.equalsIgnoreCase(this.nomCommune)) {\r\n         return true;\r\n      }\r\n      \r\n      // Puis, rechercher avec les diff&#233;rentes charni&#232;res.\r\n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN))) {\r\n         return true;\r\n      }\r\n      \r\n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A))) {\r\n         return true;\r\n      }\r\n      \r\n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR))) {\r\n         return true;\r\n      }\r\n      \r\n      // En cas d&#39;&#233;chec, reprendre ces tests, mais avec le collator, plus lent, mais qui passera outre les caract&#232;res accentu&#233;s.\r\n      if (collator.equals(nomCandidat, this.nomCommune)) {\r\n         return true;\r\n      }\r\n      \r\n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.AUCUN))) {\r\n         return true;\r\n      }\r\n      \r\n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.A))) {\r\n         return true;\r\n      }\r\n\r\n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.POUR))) {\r\n         return true;\r\n      }\r\n\r\n      // Alternative aux tests pr&#233;c&#233;dents\r\n      List&lt;Predicate&lt;String&gt;&gt; memeNoms = new ArrayList&lt;&gt;();\r\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN)));\r\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A)));\r\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR)));\r\n      memeNoms.add(nom -&gt; collator.equals(nom, this.nomCommune));\r\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.AUCUN)));\r\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.A)));\r\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.POUR)));\r\n\r\n      return memeNoms.stream().anyMatch(memeNom -&gt; memeNom.test(nomCandidat));\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le nom de la commune avec sa charni&#232;re accol&#233;e : Ville D&#39;Ermenouville, Ville de Villenoy\r\n    * @param majuscules true S&#39;il faut que la ville et sa charni&#232;re soient en majuscules.\r\n    * @return Nom de la commune avec sa charni&#232;re.\r\n    */\r\n   public String nomAvecCharniere(boolean majuscules) {\r\n      String articleCommune = switch(asArticleEtCharniere()) {\r\n         case AUCUN_D_APOSTROPHE -&gt; &quot;d&#39;&quot;;\r\n         case AUX_DES, LES_DES -&gt; &quot;des &quot;;\r\n         case LAS_DE_LAS -&gt; &quot;de las &quot;;\r\n         case LA_DE_LA -&gt; &quot;de la &quot;;\r\n         case LE_DU -&gt; &quot;du &quot;;\r\n         case LOS_DE_LOS -&gt; &quot;de los &quot;;\r\n         case L_APOSTROPHE_DE_L_APOSTROPHE -&gt; &quot;l&#39;&quot;;\r\n         default -&gt; // inclut le cas : AUCUN_CONSONNE_DE\r\n            &quot;de &quot;;\r\n      };\r\n\r\n      String texte = articleCommune + (majuscules ? this.nomMajuscules : this.nomCommune);\r\n      return majuscules ? texte.toUpperCase(Locale.FRENCH) : texte;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le nom de la commune avec son type accol&#233; : Bienvenue &#224; Ermenouville, Bienvenue aux Ullis.\r\n    * @param majuscules true S&#39;il faut que la ville et sa charni&#232;re soient en majuscules.\r\n    * @param prefixage Indique s&#39;il faut replacer type vide par &#39;&#224;&#39;, &#39;pour&#39; : &quot;Bienvenue &#224; St-Etienne&quot;, &quot;pour les Ullis&quot;.\r\n    * @return Nom de la commune avec sa charni&#232;re.\r\n    */\r\n   public String nomAvecType(boolean majuscules, PrefixageNomCommune prefixage) {\r\n      String articleCommune = &quot;&quot;;\r\n      String prefixe = &quot;&quot;;\r\n\r\n      final String PREFIXE_POUR = &quot;pour &quot;;\r\n\r\n      switch(asArticleEtCharniere()) {\r\n         case AUCUN_CONSONNE_DE -&gt; {\r\n            if (prefixage.equals(A))\r\n               articleCommune = &quot;&#224; &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case AUCUN_D_APOSTROPHE -&gt; {\r\n            if (prefixage.equals(A))\r\n               prefixe = &quot;&#224; &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case AUX_DES -&gt; articleCommune = &quot;aux &quot;;\r\n\r\n         case LAS_DE_LAS -&gt; {\r\n            articleCommune = &quot;las &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case LA_DE_LA -&gt; {\r\n            articleCommune = &quot;la &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case LES_DES -&gt; {\r\n            articleCommune = &quot;les &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case LE_DU -&gt; {\r\n            articleCommune = &quot;le &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case LOS_DE_LOS -&gt; {\r\n            articleCommune = &quot;los &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case L_APOSTROPHE_DE_L_APOSTROPHE -&gt; {\r\n            articleCommune = &quot;l&#39;&quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         default -&gt; {\r\n            if (prefixage.equals(A))\r\n               prefixe = &quot;&#224; &quot;;\r\n         }\r\n      }\r\n\r\n      String texte = prefixe + articleCommune + (majuscules ? this.nomMajuscules : this.nomCommune);\r\n      return majuscules ? texte.toUpperCase(Locale.FRENCH) : texte;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le nom de la commune en majuscules.\r\n    * @return Nom de la commune.\r\n    */\r\n   public String getNomMajuscules() {\r\n      return this.nomMajuscules;\r\n   }\r\n   \r\n   /**\r\n    * Obtenir la population de la commune une ann&#233;e particuli&#232;re.\r\n    * @return population de la commune.\r\n    */\r\n   public Integer getPopulation() {\r\n      return this.population;\r\n   }\r\n\r\n   /**\r\n    * Convertit un type de nom INSEE en enum charni&#232;re INSEE.\r\n    * @return Enum&#233;ration.\r\n    */\r\n   public ArticleEtCharniereINSEE asArticleEtCharniere() {\r\n      for(ArticleEtCharniereINSEE candidat : ArticleEtCharniereINSEE.values()) {\r\n         if (candidat.getCode().equals(this.typeNomEtCharniere))\r\n            return candidat;\r\n      }\r\n\r\n      return null;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer l&#39;article et la charni&#232;re.\r\n    * @return Article et charni&#232;re.\r\n    */\r\n   public String getTypeNomEtCharniere() {\r\n      return this.typeNomEtCharniere;\r\n   }\r\n   \r\n   /**\r\n    * D&#233;terminer si la commune a un num&#233;ro de SIREN aliment&#233;\r\n    * (elle en a forc&#233;ment un, mais parfois l&#39;objet m&#233;tier ne le porte pas encore).\r\n    * @return true, si c&#39;est le cas.\r\n    */\r\n   public boolean hasSIREN() {\r\n      return this.sirenCommune != null &amp;&amp; StringUtils.isBlank(this.sirenCommune) == false;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code de la commune.\r\n    * @param code Code de la commune.\r\n    */\r\n   public void setCodeCommune(String code) {\r\n      this.codeCommune = code;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code de la commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es).\r\n    * @param code Code de la commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es).\r\n    */\r\n   public void setCodeCommuneParente(String code) {\r\n      this.codeCommuneParente = code;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code d&#233;partement.\r\n    * @param code Code d&#233;partement.\r\n    */\r\n   public void setCodeDepartement(String code) {\r\n      this.codeDepartement = code;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code r&#233;gion.\r\n    * @param code Code r&#233;gion.\r\n    */\r\n   public void setCodeRegion(String code) {\r\n      this.codeRegion = code;\r\n   }\r\n\r\n   /**\r\n    * Fixer les groupements dont cette commune est membre.\r\n    * @param groupements Groupements.\r\n    */\r\n   public void membreGroupements(Set&lt;String&gt; groupements) {\r\n      this.membreGroupements = groupements;\r\n   }\r\n   \r\n   /**\r\n    * Fixer les groupements dont cette commune est le si&#232;ge.\r\n    * @param siegeIntercommunalites Intercommunalit&#233;s.\r\n    */\r\n   public void siegeGroupements(Set&lt;String&gt; siegeIntercommunalites) {\r\n      this.siegeGroupements = siegeIntercommunalites;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer la latitude de la commune.\r\n    * @return Latitude de la commune.\r\n    */\r\n   public Double getLatitude() {\r\n      return this.latitude;\r\n   }\r\n\r\n   /**\r\n    * Fixer la latitude de la commune.\r\n    * @param latitude Latitude de la commune.\r\n    */\r\n   public void setLatitude(Double latitude) {\r\n      this.latitude = latitude;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer la longitude de la commune.\r\n    * @return Longitude de la commune.\r\n    */\r\n   public Double getLongitude() {\r\n      return this.longitude;\r\n   }\r\n\r\n   /**\r\n    * Fixer la longitude de la commune.\r\n    * @param longitude Longitude de la commune. \r\n    */\r\n   public void setLongitude(Double longitude) {\r\n      this.longitude = longitude;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le nom du d&#233;partement.\r\n    * @return Nom du d&#233;partement.\r\n    */\r\n   public String getNomDepartement() {\r\n      return this.nomDepartement;\r\n   }\r\n   \r\n   /**\r\n    * Fixer le nom du d&#233;partement.\r\n    * @param nomDepartement Nom du d&#233;partement.\r\n    */\r\n   public void setNomDepartement(String nomDepartement) {\r\n      this.nomDepartement = nomDepartement;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le nom de l&#39;EPCI dont la commune est membre ou si&#232;ge.\r\n    * @return Nom de l&#39;EPCI.\r\n    */\r\n   public String getNomEPCI() {\r\n      return this.nomEPCI;\r\n   }\r\n\r\n   /**\r\n    * Fixer le nom de l&#39;EPCI dont la commune est membre ou si&#232;ge.\r\n    * @param nomEPCI Nom de l&#39;EPCI.\r\n    */\r\n   public void setNomEPCI(String nomEPCI) {\r\n      this.nomEPCI = nomEPCI;\r\n   }\r\n\r\n   /**\r\n    * Fixer le nom de la ville.\r\n    * @param nomVille Nom de la ville.\r\n    */\r\n   public void setNomCommune(String nomVille) {\r\n      this.nomCommune = nomVille;\r\n   }\r\n\r\n   /**\r\n    * Fixer le nom de la commune en majuscules.\r\n    * @param nomVille Nom de la commune.\r\n    */\r\n   public void setNomMajuscules(String nomVille) {\r\n      this.nomMajuscules = nomVille;\r\n   }\r\n   \r\n   /**\r\n    * Fixer la population de la commune une ann&#233;e donn&#233;e.\r\n    * @param population Population.\r\n    */\r\n   public void setPopulation(Integer population) {\r\n      this.population = population;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le SIREN de la commune.\r\n    * @return SIREN.\r\n    */\r\n   public SIRENCommune asSiren() {\r\n      return new SIRENCommune(this.sirenCommune);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le SIREN de la commune.\r\n    * @return SIREN.\r\n    */\r\n   public String getSirenCommune() {\r\n      return this.sirenCommune;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code SIREN de la commune.\r\n    * @param sirenCommune Siren.\r\n    */\r\n   public void setSirenCommune(String sirenCommune) {\r\n      this.sirenCommune = sirenCommune;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer la strate communale.\r\n    * @return Strate :&lt;br&gt;\r\n    * 1 : Moins de 100 habitants&lt;br&gt; \r\n    * 2 : De 100 &#224; moins de 200 habitants&lt;br&gt;\r\n    * 3 : De 200 &#224; moins de 500 habitants&lt;br&gt;\r\n    * 4 : De 500 &#224; moins de 2 000 habitants&lt;br&gt;\r\n    * 5 : De 2 000 &#224; moins de 3 500 habitants&lt;br&gt;\r\n    * 6 : De 3 500 &#224; moins de 5 000 habitants&lt;br&gt;\r\n    * 7 : De 5 000 &#224; moins de 10 000 habitants&lt;br&gt;\r\n    * 8 : de 10 000 &#224; moins de 20 000 habitants&lt;br&gt;\r\n    * 9 : de 20 000 &#224; moins de 50 000 habitants&lt;br&gt;\r\n    * 10 : de 50 000 &#224; moins de 100 000 habitants&lt;br&gt;\r\n    * 11 : 100 000 habitants et plus\r\n    */\r\n   public Integer getStrateCommune() {\r\n      return this.strateCommune;\r\n   }\r\n   \r\n   /**\r\n    * Fixer la strate communale.\r\n    * @param strate Strate communele.\r\n    */\r\n   public void setStrateCommune(Integer strate) {\r\n      this.strateCommune = strate;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer la surface de la commune, en hectares.\r\n    * @return Surface en hectares.\r\n    */\r\n   public Double getSurface() {\r\n      return this.surface;\r\n   }\r\n\r\n   /**\r\n    * Fixer la surface de la communes, en hectares.\r\n    * @param surface Surface en hectares.\r\n    */\r\n   public void setSurface(Double surface) {\r\n      this.surface = surface;\r\n   }\r\n\r\n   /**\r\n    * Fixer le type nom et charni&#232;re.\r\n    * @param type Type nom et charni&#232;re.\r\n    */\r\n   public void setTypeNomEtCharniere(String type) {\r\n      this.typeNomEtCharniere = type;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le type de commune. \r\n    * @return Type de commune.\r\n    */\r\n   public String getTypeCommune() {\r\n      return this.typeCommune;\r\n   }\r\n\r\n   /**\r\n    * Fixer le type de commune.\r\n    * @param typeDeCommune Type de commune.\r\n    */\r\n   public void setTypeCommune(String typeDeCommune) {\r\n      this.typeCommune = typeDeCommune;\r\n   }\r\n\r\n   /**\r\n    * @see fr.fondation.objets.ObjetMetierIdentifiable#toString()\r\n    */\r\n   @Override\r\n   public String toString() {\r\n      return BabelTower.format(Commune.class, &quot;toString&quot;, this.nomCommune, this.nomMajuscules, this.codeDepartement, this.codeRegion,\r\n         this.codeCommuneParente, this.typeNomEtCharniere, this.codeCommune, this.sirenCommune, this.siegeGroupements, \r\n         this.membreGroupements, this.epciFiscalitePropre, this.arrondissement, this.codeCanton, this.population, this.strateCommune,\r\n         this.surface, this.longitude, this.latitude, this.nomDepartement, this.nomEPCI);\r\n   }\r\n}\r\n```\r\n\r\nMy hypothethis is that `Encoders.bean` change its way of working in `3.4.0`, or its prerequisites, but I have no clues about what it is refusing now.","title":"Encoders.bean doesn&#39;t work anymore on a Java POJO, with Spark 3.4.0","body":"<p>This method that worked well from Spark <code>3.2.x</code> to Spark <code>3.3.x</code>,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Dataset&lt;Commune&gt; obtenirCommunes(SparkSession session, int anneeCOG) throws TechniqueException {\n   Dataset&lt;Row&gt; communes = rowCommunes(session, anneeCOG);\n\n   return communes\n      .select(communes.col(&quot;typeCommune&quot;), communes.col(&quot;codeCommune&quot;), communes.col(&quot;codeRegion&quot;), communes.col(&quot;codeDepartement&quot;),\n          communes.col(&quot;arrondissement&quot;), communes.col(&quot;typeNomEtCharniere&quot;), communes.col(&quot;nomMajuscules&quot;), communes.col(&quot;nomCommune&quot;), \n          communes.col(&quot;codeCanton&quot;), communes.col(&quot;codeCommuneParente&quot;), communes.col(&quot;sirenCommune&quot;), communes.col(&quot;populationTotale&quot;).alias(&quot;population&quot;),\n          communes.col(&quot;strateCommune&quot;), communes.col(&quot;codeEPCI&quot;), communes.col(&quot;surface&quot;), communes.col(&quot;longitude&quot;), communes.col(&quot;latitude&quot;),\n          communes.col(&quot;nomDepartement&quot;), communes.col(&quot;nomEPCI&quot;))\n      .as(Encoders.bean(Commune.class))\n      .cache();\n   }\n</code></pre>\n<p>is now failing with Spark <code>3.4.0</code>, through this test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Charger le Code Officiel Géographique entier.\n * @throws CommuneInexistanteException si la commune recherchée n'existe pas.\n * @throws TechniqueException si un incident survient.\n */\n@Test\n@DisplayName(&quot;Lecture du code officiel géographique&quot;)\nvoid cog() throws TechniqueException, CommuneInexistanteException {\n   for(int cog = COG_START; cog &lt;= COG_END; cog ++) {\n      if (this.toutesAnnees == false &amp;&amp; cog != COG_END) {\n         continue;\n      }\n         \n      CodeOfficielGeographique maillage = this.cogDataset.obtenirCodeOfficielGeographique(this.session, cog, true);\n      LOGGER.info(&quot;Code Officiel Géographique : {} communes, {} intercommunalités.&quot;, maillage.getCommunes().size(), maillage.getIntercommunalites().size());\n         \n      Intercommunalite intercommunalite = maillage.getIntercommunalites().values().iterator().next();\n      LOGGER.info(&quot;La première intercommunalité : {}&quot;, intercommunalite);\n         \n      Commune cambremer = maillage.getCommune(&quot;14126&quot;);\n      assertNotNull(cambremer, MessageFormat.format(&quot;Cambremer aurait dû être trouvé dans le COG {0}.&quot;, cog));\n      LOGGER.info(cambremer.toString());\n   }\n}\n</code></pre>\n<p>The failure comes with a not very clear log (it's the line <code>CodeOfficielGeographique maillage = this.cogDataset.obtenirCodeOfficielGeographique(this.session, cog, true)</code> that calls <code>CogDataset:obtenirCommunes</code> who fails):</p>\n<pre><code>java.util.NoSuchElementException: None.get\n\n    at scala.None$.get(Option.scala:627)\n    at scala.None$.get(Option.scala:626)\n    at org.apache.spark.sql.catalyst.ScalaReflection$.$anonfun$deserializerFor$8(ScalaReflection.scala:359)\n    at scala.collection.immutable.ArraySeq.map(ArraySeq.scala:75)\n    at scala.collection.immutable.ArraySeq.map(ArraySeq.scala:35)\n    at org.apache.spark.sql.catalyst.ScalaReflection$.deserializerFor(ScalaReflection.scala:348)\n    at org.apache.spark.sql.catalyst.ScalaReflection$.deserializerFor(ScalaReflection.scala:183)\n    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.apply(ExpressionEncoder.scala:56)\n    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:62)\n    at org.apache.spark.sql.Encoders$.bean(Encoders.scala:179)\n    at org.apache.spark.sql.Encoders.bean(Encoders.scala)\n    at fr.ecoemploi.spark.dataset.cog.CogDataset.obtenirCommunes(CogDataset.java:220)\n    at fr.ecoemploi.spark.dataset.cog.CogDataset.obtenirCodeOfficielGeographique(CogDataset.java:186)\n    at fr.ecoemploi.spark.dataset.cog.CommuneObjectsMetiersIT.cog(CommuneObjectsMetiersIT.java:92)\n</code></pre>\n<p>And the <code>Commune</code> object that <code>Encoders.bean</code> targets, is this one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fr.ecoemploi.metier.territoire;\n\nimport static fr.ecoemploi.metier.territoire.PrefixageNomCommune.*;\n\nimport java.io.Serial;\nimport java.text.*;\nimport java.util.*;\nimport java.util.function.Predicate;\n\nimport javax.validation.constraints.*;\n\nimport org.apache.commons.lang3.*;\n\nimport fr.fondation.utilitaires.autocontrole.*;\nimport fr.fondation.utilitaires.localisation.*;\nimport io.swagger.v3.oas.annotations.*;\nimport io.swagger.v3.oas.annotations.media.*;\n\n/**\n * Une commune.\n * @author Marc LE BIHAN.\n */\n@Schema(description = &quot;Une commune du Code Officiel Géographique&quot;)\npublic class Commune extends ObjetMetierSpark {\n   /** Serial ID */\n   @Serial\n   private static final long serialVersionUID = 4381577514414536917L;\n\n   /** Collator utilisé pour comparer les noms de communes, sans accents. */\n   private static final Collator collator = Collator.getInstance(Locale.FRENCH);\n   \n   static {\n      collator.setStrength(Collator.PRIMARY);\n   }\n\n   /** Code de la commune. */\n   @NotNull @Size(min = 5, max = 5) @Schema(description = &quot;Code de la commune&quot;, example = &quot;29019&quot;)\n   private String codeCommune;\n   \n   /** Code ddépartement. */\n   @NotNull @Size(min=2, max=3) @Schema(description = &quot;Code du département&quot;, example = &quot;972&quot;)\n   private String codeDepartement;\n   \n   /** Nom du département. */\n   @NotNull @Schema(description = &quot;Nom du département&quot;, example = &quot;Finistère&quot;)\n   private String nomDepartement;\n\n   /** Code de la commune parente (pour arrondissements, communes associées ou déléguées). */\n   @Size(min = 9, max = 9) @Schema(description = &quot;Code de la commune parente&quot;, example = &quot;75056&quot;, nullable = true)\n   private String codeCommuneParente;\n\n   /** Code INSEE de la région auquel appartient ce département. */\n   @NotNull @Size(min = 2, max = 2) @Schema(description = &quot;Code de la région&quot;, example = &quot;84&quot;)\n   private String codeRegion;\n   \n   /** Code Canton de la commune. */\n   @Schema(description = &quot;Code du canton&quot;, nullable = true)\n   private String codeCanton;\n\n   /** Nom de la ville. */\n   @NotNull @Schema(description = &quot;Nom de la commune&quot;, example = &quot;Brest&quot;)\n   private String nomCommune;\n\n   /** Nom en majuscule. */\n   @NotNull @Schema(description = &quot;Nom de la commune en majuscules&quot;, example = &quot;BREST&quot;)\n   private String nomMajuscules;\n\n   /** Type et nom charnière. */\n   @NotNull @Size(min=1, max=1)\n   @Schema(description = &quot;Type de nom et charnière: &lt;ul&gt;&quot;\n         + &quot;&lt;li&gt;0  Pas d'article et le nom commence par une consonne sauf H muet  charnière = DE&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;1  Pas d'article et le nom commence par une voyelle ou un H muet  charnière = D'&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;2  Article = LE   charnière = DU&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;3  Article = LA   charnière = DE LA&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;4  Article = LES  charnière = DES&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;5  Article = L'   charnière = DE L'&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;6  Article = AUX  charnière = DES&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;7  Article = LAS  charnière = DE LAS&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;8  Article = LOS  charnière = DE LOS&lt;/li&gt;&quot;\n         + &quot;&lt;/ul&gt;&quot;)\n   private String typeNomEtCharniere;\n\n   /** SIREN de la commune (permet de la lier à son intercommunalité). */\n   @NotNull @Size(min=9, max=9) @Schema(description = &quot;Numéro SIREN de la commune&quot;, example = &quot;212900195&quot;)\n   private String sirenCommune;\n\n   /** Liste des groupements dont cette commune est le siège. */\n   @NotNull \n   @Schema(description = &quot;Liste des groupements (EPCI, ultérieurement : syndicats) dont cette commune est le siège. &quot;\n         + &quot;Cette liste est vide si la commune n'est siège d'aucun syndicat ou intercommunalité.&quot;, example = &quot;[242900314]&quot;)\n   private Set&lt;String&gt; siegeGroupements = new HashSet&lt;&gt;();\n   \n   /** Liste des intercommunalités dont cette commune est membre. */\n   @NotNull @Schema(description = &quot;Liste des groupepements (EPCI, ultérieurement : syndicats) dont cette commune est membre.&quot;, example = &quot;[242900314]&quot;)\n   private Set&lt;String&gt; membreGroupements = new HashSet&lt;&gt;();\n   \n   /** Intercommunalité à fiscalité propre à laquelle cette commune appartient (qu'elle en soit siège ou membre). */\n   @NotNull @Size(min=9, max=9) @Schema(description = &quot;Numéro SIREN de l'intercommunalité dont cette commune est siège ou membre.&quot;, example = &quot;242900314&quot;)\n   private String epciFiscalitePropre;\n   \n   /** Nom de de l'intercommunalité à laquelle la commune appartient. */\n   @NotNull @Schema(description = &quot;Nom de l'intercommunalité à laquelle la commune appartient&quot;, example = &quot;Brest Métropole&quot;)\n   private String nomEPCI;\n   \n   /** Arrondissement de la commune. */\n   @Schema(description = &quot;Code de l'arrondissement de la commune.&quot;, nullable = true)\n   private String arrondissement;\n   \n   /** Population de la commune. */\n   @NotNull @Schema(description = &quot;Population totale de la commune.&quot;)\n   private Integer population;\n   \n   /** Type de la commune. */\n   @NotNull\n   @Schema(description = &quot;Type de la commune : &lt;ul&gt;&quot; +\n      &quot;&lt;li&gt;COM   Commune&lt;/li&gt;&quot; + \n      &quot;&lt;li&gt;COMA  Commune associée&lt;/li&gt;&quot; + \n      &quot;&lt;li&gt;COMD  Commune déléguée&lt;/li&gt;&quot; + \n      &quot;&lt;li&gt;ARM   Arrondissement municipal&lt;/li&gt;&quot;\n      + &quot;&lt;/ul&gt;&quot;, example = &quot;COM&quot;)\n   private String typeCommune;\n   \n   /** Strate communale. */\n   @NotNull\n   @Schema(description = &quot;Strate communale : &lt;ul&gt;&quot; +\n         &quot;&lt;li&gt;1 : Moins de 100 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;2 : De 100 à moins de 200 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;3 : De 200 à moins de 500 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;4 : De 500 à moins de 2 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;5 : De 2 000 à moins de 3 500 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;6 : De 3 500 à moins de 5 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;7 : De 5 000 à moins de 10 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;8 : de 10 000 à moins de 20 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;9 : de 20 000 à moins de 50 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;10 : de 50 000 à moins de 100 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;11 : 100 000 habitants et plus&lt;/li&gt;&quot; + \n         &quot;&lt;/ul&gt;&quot;, example = &quot;1&quot;)\n   private Integer strateCommune;\n   \n   /** Surface de la commune en hectares. */\n   @Schema(description = &quot;Surface de la commune, en hectares. N'est pas alimenté pour les arrondissements.&quot;, example = &quot;1520.25&quot;, nullable = true)\n   private Double surface;\n   \n   /** Longitude du centroïde de la commune. */\n   @Schema(description = &quot;Longitude du centroïde de la commune. N'est pas alimenté pour les arrondissements.&quot;, example = &quot;-4.2908&quot;, nullable = true)\n   private Double longitude;\n   \n   /** Latitude du centroïde de la commune. */\n   @Schema(description = &quot;Latitude du centroïde de la commune. N'est pas alimenté pour les arrondissements.&quot;, example = &quot;48.2327&quot;, nullable = true)\n   private Double latitude;\n\n   /**\n    * Construire une commune.\n    */\n   public Commune() {\n   }\n   \n   /**\n    * Ajouter une intercommunalité dont cette commune est membre.\n    * @param sirenIntercommunalite SIREN de l'intercommunalité.\n    */\n   public void ajouterMembreGroupement(String sirenIntercommunalite) {\n      this.membreGroupements.add(sirenIntercommunalite);\n   }\n   \n   /**\n    * Ajouter une intercommunalité dont cette commune est le siège.\n    * @param sirenIntercommunalite SIREN de l'intercommunalité.\n    */\n   public void ajouterSiegeGroupement(String sirenIntercommunalite) {\n      this.siegeGroupements.add(sirenIntercommunalite);\n   }\n\n   /**\n    * Renvoyer le code Canton de la commune. \n    * @return Code canton de la commune.\n    */\n   public String getCodeCanton() {\n      return this.codeCanton;\n   }\n\n   /**\n    * Fixer le code canton de la commune.\n    * @param codeCanton Code canton de la commune.\n    */\n   public void setCodeCanton(String codeCanton) {\n      this.codeCanton = codeCanton;\n   }\n\n   /**\n    * Renvoyer le code de la commune.\n    * @return Code de la commune.\n    */\n   public String getCodeCommune() {\n      return this.codeCommune;\n   }\n\n   /**\n    * Renvoyer le code de la commune.\n    * @return Code de la commune.\n    */\n   public CodeCommune astCodeCommune() {\n      return new CodeCommune(this.codeCommune);\n   }\n\n   /**\n    * Renvoyer le code commune parente (pour arrondissements, communes associées ou déléguées).\n    * @return Code commune parente.\n    */\n   public CodeCommune astCodeCommuneParente() {\n      return new CodeCommune(this.codeCommuneParente);\n   }\n   \n   /**\n    * Renvoyer le code commune parente (pour arrondissements, communes associées ou déléguées).\n    * @return Code commune parente.\n    */\n   public String getCodeCommuneParente() {\n      return this.codeCommuneParente;\n   }\n\n   /**\n    * Renvoyer le code département.\n    * @return Code département.\n    */\n   public CodeDepartement asCodeDepartement() {\n      return new CodeDepartement(this.codeDepartement);\n   }\n\n   /**\n    * Renvoyer le code département.\n    * @return Code département.\n    */\n   public String getCodeDepartement() {\n      return this.codeDepartement;\n   }\n\n   /**\n    * Renvoyer le code région.\n    * @return Code région.\n    */\n   public CodeRegion asCodeRegion() {\n      return new CodeRegion(this.codeRegion);\n   }\n\n   /**\n    * Renvoyer le code région.\n    * @return Code région.\n    */\n   public String getCodeRegion() {\n      return this.codeRegion;\n   }\n   \n   /**\n    * Renvoyer l'intercommunalité à fiscalité propre à laquelle cette commune appartient, qu'elle en soit siège ou membre.\n    * @return Intercommunalité.\n    */\n   public SIREN asEpciFiscalitePropre() {\n      return new SIREN(this.epciFiscalitePropre);\n   }\n\n   /**\n    * Renvoyer l'intercommunalité à fiscalité propre à laquelle cette commune appartient, qu'elle en soit siège ou membre.\n    * @return Intercommunalité.\n    */\n   @Hidden\n   public String getCodeEPCI() {\n      return this.epciFiscalitePropre;\n   }\n\n   /**\n    * Fixer l'intercommunalité à fiscalité propre à laquelle cette commune appartient, qu'elle en soit siège ou membre.\n    * @param epci Intercommunalité.\n    */\n   @Hidden\n   public void setCodeEPCI(String epci) {\n      this.epciFiscalitePropre = epci;\n   }\n\n   /**\n    * Renvoyer les groupements dont cette commune est membre.\n    * @return Groupements.\n    */\n   public Set&lt;String&gt; membreGroupements() {\n      return this.membreGroupements;\n   }\n\n   /**\n    * Renvoyer la liste des groupements dont cette commune est le siège.\n    * @return liste des groupements.\n    */\n   public Set&lt;String&gt; siegeGroupements() {\n      return this.siegeGroupements;\n   }\n   \n   /**\n    * Renvoyer l'arrondissement.\n    * @return Arrondissement.\n    */\n   public String getArrondissement() {\n      return this.arrondissement;\n   }\n   \n   /**\n    * Déterminer si ce code commune désigne une collectivité d'outre-mer :&lt;br&gt;\n    * Attention, il s'agit des départements 975, 977, 978 et 98, et pas les départements d'outremer 971, 972, 973, 974 et 976.\n    * @return true si c'est le cas.\n    */\n   @Hidden\n   public boolean isCollectiviteOutremer() {\n      return this.codeCommune != null &amp;&amp;\n         (this.codeCommune.startsWith(&quot;975&quot;) || this.codeCommune.startsWith(&quot;977&quot;) || this.codeCommune.startsWith(&quot;978&quot;) || this.codeCommune.startsWith(&quot;98&quot;));\n   }\n\n   /**\n    * Fixer l'arrondissement.\n    * @param arrondissement Arrondissement.\n    */\n   public void setArrondissement(String arrondissement) {\n      this.arrondissement = arrondissement;\n   }\n\n   /**\n    * Renvoyer le nom de la commune.\n    * @return Nom de la commune.\n    */\n   public String getNomCommune() {\n      return this.nomCommune;\n   }\n   \n   /**\n    * Déterminer si notre commune a le même nom que celle en paramètre.\n    * @param nomCandidat Nom de commune : il peut contenir une charnière.\n    * @return true si c'est le cas.\n    */\n   public boolean hasMemeNom(String nomCandidat) {\n      // Si le nom soumis vaut null, répondre non.\n      if (nomCandidat == null) {\n         return false;\n      }\n\n      // Faire une comparaison directe de nom de commune tout d'abord, car l'emploi du collator est très coûteux.\n      if (nomCandidat.equalsIgnoreCase(this.nomCommune)) {\n         return true;\n      }\n      \n      // Puis, rechercher avec les différentes charnières.\n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN))) {\n         return true;\n      }\n      \n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A))) {\n         return true;\n      }\n      \n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR))) {\n         return true;\n      }\n      \n      // En cas d'échec, reprendre ces tests, mais avec le collator, plus lent, mais qui passera outre les caractères accentués.\n      if (collator.equals(nomCandidat, this.nomCommune)) {\n         return true;\n      }\n      \n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.AUCUN))) {\n         return true;\n      }\n      \n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.A))) {\n         return true;\n      }\n\n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.POUR))) {\n         return true;\n      }\n\n      // Alternative aux tests précédents\n      List&lt;Predicate&lt;String&gt;&gt; memeNoms = new ArrayList&lt;&gt;();\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN)));\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A)));\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR)));\n      memeNoms.add(nom -&gt; collator.equals(nom, this.nomCommune));\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.AUCUN)));\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.A)));\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.POUR)));\n\n      return memeNoms.stream().anyMatch(memeNom -&gt; memeNom.test(nomCandidat));\n   }\n\n   /**\n    * Renvoyer le nom de la commune avec sa charnière accolée : Ville D'Ermenouville, Ville de Villenoy\n    * @param majuscules true S'il faut que la ville et sa charnière soient en majuscules.\n    * @return Nom de la commune avec sa charnière.\n    */\n   public String nomAvecCharniere(boolean majuscules) {\n      String articleCommune = switch(asArticleEtCharniere()) {\n         case AUCUN_D_APOSTROPHE -&gt; &quot;d'&quot;;\n         case AUX_DES, LES_DES -&gt; &quot;des &quot;;\n         case LAS_DE_LAS -&gt; &quot;de las &quot;;\n         case LA_DE_LA -&gt; &quot;de la &quot;;\n         case LE_DU -&gt; &quot;du &quot;;\n         case LOS_DE_LOS -&gt; &quot;de los &quot;;\n         case L_APOSTROPHE_DE_L_APOSTROPHE -&gt; &quot;l'&quot;;\n         default -&gt; // inclut le cas : AUCUN_CONSONNE_DE\n            &quot;de &quot;;\n      };\n\n      String texte = articleCommune + (majuscules ? this.nomMajuscules : this.nomCommune);\n      return majuscules ? texte.toUpperCase(Locale.FRENCH) : texte;\n   }\n\n   /**\n    * Renvoyer le nom de la commune avec son type accolé : Bienvenue à Ermenouville, Bienvenue aux Ullis.\n    * @param majuscules true S'il faut que la ville et sa charnière soient en majuscules.\n    * @param prefixage Indique s'il faut replacer type vide par 'à', 'pour' : &quot;Bienvenue à St-Etienne&quot;, &quot;pour les Ullis&quot;.\n    * @return Nom de la commune avec sa charnière.\n    */\n   public String nomAvecType(boolean majuscules, PrefixageNomCommune prefixage) {\n      String articleCommune = &quot;&quot;;\n      String prefixe = &quot;&quot;;\n\n      final String PREFIXE_POUR = &quot;pour &quot;;\n\n      switch(asArticleEtCharniere()) {\n         case AUCUN_CONSONNE_DE -&gt; {\n            if (prefixage.equals(A))\n               articleCommune = &quot;à &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case AUCUN_D_APOSTROPHE -&gt; {\n            if (prefixage.equals(A))\n               prefixe = &quot;à &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case AUX_DES -&gt; articleCommune = &quot;aux &quot;;\n\n         case LAS_DE_LAS -&gt; {\n            articleCommune = &quot;las &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case LA_DE_LA -&gt; {\n            articleCommune = &quot;la &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case LES_DES -&gt; {\n            articleCommune = &quot;les &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case LE_DU -&gt; {\n            articleCommune = &quot;le &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case LOS_DE_LOS -&gt; {\n            articleCommune = &quot;los &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case L_APOSTROPHE_DE_L_APOSTROPHE -&gt; {\n            articleCommune = &quot;l'&quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         default -&gt; {\n            if (prefixage.equals(A))\n               prefixe = &quot;à &quot;;\n         }\n      }\n\n      String texte = prefixe + articleCommune + (majuscules ? this.nomMajuscules : this.nomCommune);\n      return majuscules ? texte.toUpperCase(Locale.FRENCH) : texte;\n   }\n\n   /**\n    * Renvoyer le nom de la commune en majuscules.\n    * @return Nom de la commune.\n    */\n   public String getNomMajuscules() {\n      return this.nomMajuscules;\n   }\n   \n   /**\n    * Obtenir la population de la commune une année particulière.\n    * @return population de la commune.\n    */\n   public Integer getPopulation() {\n      return this.population;\n   }\n\n   /**\n    * Convertit un type de nom INSEE en enum charnière INSEE.\n    * @return Enumération.\n    */\n   public ArticleEtCharniereINSEE asArticleEtCharniere() {\n      for(ArticleEtCharniereINSEE candidat : ArticleEtCharniereINSEE.values()) {\n         if (candidat.getCode().equals(this.typeNomEtCharniere))\n            return candidat;\n      }\n\n      return null;\n   }\n   \n   /**\n    * Renvoyer l'article et la charnière.\n    * @return Article et charnière.\n    */\n   public String getTypeNomEtCharniere() {\n      return this.typeNomEtCharniere;\n   }\n   \n   /**\n    * Déterminer si la commune a un numéro de SIREN alimenté\n    * (elle en a forcément un, mais parfois l'objet métier ne le porte pas encore).\n    * @return true, si c'est le cas.\n    */\n   public boolean hasSIREN() {\n      return this.sirenCommune != null &amp;&amp; StringUtils.isBlank(this.sirenCommune) == false;\n   }\n\n   /**\n    * Fixer le code de la commune.\n    * @param code Code de la commune.\n    */\n   public void setCodeCommune(String code) {\n      this.codeCommune = code;\n   }\n\n   /**\n    * Fixer le code de la commune parente (pour arrondissements, communes associées ou déléguées).\n    * @param code Code de la commune parente (pour arrondissements, communes associées ou déléguées).\n    */\n   public void setCodeCommuneParente(String code) {\n      this.codeCommuneParente = code;\n   }\n\n   /**\n    * Fixer le code département.\n    * @param code Code département.\n    */\n   public void setCodeDepartement(String code) {\n      this.codeDepartement = code;\n   }\n\n   /**\n    * Fixer le code région.\n    * @param code Code région.\n    */\n   public void setCodeRegion(String code) {\n      this.codeRegion = code;\n   }\n\n   /**\n    * Fixer les groupements dont cette commune est membre.\n    * @param groupements Groupements.\n    */\n   public void membreGroupements(Set&lt;String&gt; groupements) {\n      this.membreGroupements = groupements;\n   }\n   \n   /**\n    * Fixer les groupements dont cette commune est le siège.\n    * @param siegeIntercommunalites Intercommunalités.\n    */\n   public void siegeGroupements(Set&lt;String&gt; siegeIntercommunalites) {\n      this.siegeGroupements = siegeIntercommunalites;\n   }\n\n   /**\n    * Renvoyer la latitude de la commune.\n    * @return Latitude de la commune.\n    */\n   public Double getLatitude() {\n      return this.latitude;\n   }\n\n   /**\n    * Fixer la latitude de la commune.\n    * @param latitude Latitude de la commune.\n    */\n   public void setLatitude(Double latitude) {\n      this.latitude = latitude;\n   }\n\n   /**\n    * Renvoyer la longitude de la commune.\n    * @return Longitude de la commune.\n    */\n   public Double getLongitude() {\n      return this.longitude;\n   }\n\n   /**\n    * Fixer la longitude de la commune.\n    * @param longitude Longitude de la commune. \n    */\n   public void setLongitude(Double longitude) {\n      this.longitude = longitude;\n   }\n   \n   /**\n    * Renvoyer le nom du département.\n    * @return Nom du département.\n    */\n   public String getNomDepartement() {\n      return this.nomDepartement;\n   }\n   \n   /**\n    * Fixer le nom du département.\n    * @param nomDepartement Nom du département.\n    */\n   public void setNomDepartement(String nomDepartement) {\n      this.nomDepartement = nomDepartement;\n   }\n   \n   /**\n    * Renvoyer le nom de l'EPCI dont la commune est membre ou siège.\n    * @return Nom de l'EPCI.\n    */\n   public String getNomEPCI() {\n      return this.nomEPCI;\n   }\n\n   /**\n    * Fixer le nom de l'EPCI dont la commune est membre ou siège.\n    * @param nomEPCI Nom de l'EPCI.\n    */\n   public void setNomEPCI(String nomEPCI) {\n      this.nomEPCI = nomEPCI;\n   }\n\n   /**\n    * Fixer le nom de la ville.\n    * @param nomVille Nom de la ville.\n    */\n   public void setNomCommune(String nomVille) {\n      this.nomCommune = nomVille;\n   }\n\n   /**\n    * Fixer le nom de la commune en majuscules.\n    * @param nomVille Nom de la commune.\n    */\n   public void setNomMajuscules(String nomVille) {\n      this.nomMajuscules = nomVille;\n   }\n   \n   /**\n    * Fixer la population de la commune une année donnée.\n    * @param population Population.\n    */\n   public void setPopulation(Integer population) {\n      this.population = population;\n   }\n\n   /**\n    * Renvoyer le SIREN de la commune.\n    * @return SIREN.\n    */\n   public SIRENCommune asSiren() {\n      return new SIRENCommune(this.sirenCommune);\n   }\n\n   /**\n    * Renvoyer le SIREN de la commune.\n    * @return SIREN.\n    */\n   public String getSirenCommune() {\n      return this.sirenCommune;\n   }\n\n   /**\n    * Fixer le code SIREN de la commune.\n    * @param sirenCommune Siren.\n    */\n   public void setSirenCommune(String sirenCommune) {\n      this.sirenCommune = sirenCommune;\n   }\n   \n   /**\n    * Renvoyer la strate communale.\n    * @return Strate :&lt;br&gt;\n    * 1 : Moins de 100 habitants&lt;br&gt; \n    * 2 : De 100 à moins de 200 habitants&lt;br&gt;\n    * 3 : De 200 à moins de 500 habitants&lt;br&gt;\n    * 4 : De 500 à moins de 2 000 habitants&lt;br&gt;\n    * 5 : De 2 000 à moins de 3 500 habitants&lt;br&gt;\n    * 6 : De 3 500 à moins de 5 000 habitants&lt;br&gt;\n    * 7 : De 5 000 à moins de 10 000 habitants&lt;br&gt;\n    * 8 : de 10 000 à moins de 20 000 habitants&lt;br&gt;\n    * 9 : de 20 000 à moins de 50 000 habitants&lt;br&gt;\n    * 10 : de 50 000 à moins de 100 000 habitants&lt;br&gt;\n    * 11 : 100 000 habitants et plus\n    */\n   public Integer getStrateCommune() {\n      return this.strateCommune;\n   }\n   \n   /**\n    * Fixer la strate communale.\n    * @param strate Strate communele.\n    */\n   public void setStrateCommune(Integer strate) {\n      this.strateCommune = strate;\n   }\n\n   /**\n    * Renvoyer la surface de la commune, en hectares.\n    * @return Surface en hectares.\n    */\n   public Double getSurface() {\n      return this.surface;\n   }\n\n   /**\n    * Fixer la surface de la communes, en hectares.\n    * @param surface Surface en hectares.\n    */\n   public void setSurface(Double surface) {\n      this.surface = surface;\n   }\n\n   /**\n    * Fixer le type nom et charnière.\n    * @param type Type nom et charnière.\n    */\n   public void setTypeNomEtCharniere(String type) {\n      this.typeNomEtCharniere = type;\n   }\n   \n   /**\n    * Renvoyer le type de commune. \n    * @return Type de commune.\n    */\n   public String getTypeCommune() {\n      return this.typeCommune;\n   }\n\n   /**\n    * Fixer le type de commune.\n    * @param typeDeCommune Type de commune.\n    */\n   public void setTypeCommune(String typeDeCommune) {\n      this.typeCommune = typeDeCommune;\n   }\n\n   /**\n    * @see fr.fondation.objets.ObjetMetierIdentifiable#toString()\n    */\n   @Override\n   public String toString() {\n      return BabelTower.format(Commune.class, &quot;toString&quot;, this.nomCommune, this.nomMajuscules, this.codeDepartement, this.codeRegion,\n         this.codeCommuneParente, this.typeNomEtCharniere, this.codeCommune, this.sirenCommune, this.siegeGroupements, \n         this.membreGroupements, this.epciFiscalitePropre, this.arrondissement, this.codeCanton, this.population, this.strateCommune,\n         this.surface, this.longitude, this.latitude, this.nomDepartement, this.nomEPCI);\n   }\n}\n</code></pre>\n<p>My hypothethis is that <code>Encoders.bean</code> change its way of working in <code>3.4.0</code>, or its prerequisites, but I have no clues about what it is refusing now.</p>\n"},{"tags":["java","concurrency","distributed-computing","race-condition","concurrent.futures"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701403467,"post_id":77582737,"comment_id":136774114,"body_markdown":"To format your text as code, indent *all* lines by four spaces, or else nest in a pair of triple back-ticks.","body":"To format your text as code, indent <i>all</i> lines by four spaces, or else nest in a pair of triple back-ticks."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701405627,"creation_date":1701405627,"answer_id":77583047,"question_id":77582737,"body_markdown":"## No need for threading here\r\n\r\nIf you launch a task in a background thread, and then immediately wait for results, there is no point in using that other thread at all. You might as well perform the task in the first thread. \r\n\r\nBy the way, you do not correctly handle shutting down an executor service. See the boilerplate code given to you in `shutdownAndAwaitTermination` method in the Javadoc for [`ExecutorService`][1]. In Java 19+, `ExecutorService` is [`AutoCloseable`][2], so you can make convenient use of try-with-resources syntax to automatically close the executor service.\r\n\r\n## Check elapsed time as each line imports\r\n\r\nWithout threading, just check elapsed time on every loop while reading your input stream.\r\n\r\nTo get elapsed time, you could count nanoseconds that have passed by calling `System.nanoTime`. But the ever-increasing count of nanos returned by that call can be reset when reading the limit of a `long`. How long until that limit is reached is undefined, so I would not rely upon this in production code.\r\n\r\n### `Instant.now` &amp; `Duration`\r\n\r\nA better way to get elapsed time, if a resolution of microseconds suffices, is to use `Instant` class with its `Instant.now()` method to capture the current moment as a date-time seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. Use `Duration` class to represent a span-of-time not attached to the timeline.\r\n\r\n```java\r\nrecord Person( String firstName , String lastName ) { }\r\nArrayList &lt; Person &gt; persons = new ArrayList &lt;&gt; ( );\r\nDuration maxTime = Duration.ofMillis ( 10 );\r\nInputStream inputStream = null;\r\n\r\nInstant start = Instant.now ( );\r\ntry (\r\n        BufferedReader bufferedReader = …\r\n)\r\n{\r\n    String line;\r\n    while ( ( line = bufferedReader.readLine ( ) ) != null )\r\n    {\r\n        // Time limit not yet expired, so process another line.\r\n        String[] parts = line.split ( &quot;,&quot; );\r\n        String firstName = parts[ 0 ];\r\n        String lastName = parts[ 1 ];\r\n        Person person = new Person ( firstName , lastName );\r\n        persons.add ( person );\r\n\r\n        // Check to see if exceeding our time limit.\r\n        Duration elapsed = Duration.between ( start , Instant.now ( ) );\r\n        if ( elapsed.toNanos ( ) &gt; maxTime.toNanos ( ) ) break;  // If we have exceeded our time limit, break out of this `while`` loop.\r\n    }\r\n} catch ( IOException e )\r\n{\r\n    throw new RuntimeException ( e );\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html","title":"How to read from input stream for certain time?","body":"<h2>No need for threading here</h2>\n<p>If you launch a task in a background thread, and then immediately wait for results, there is no point in using that other thread at all. You might as well perform the task in the first thread.</p>\n<p>By the way, you do not correctly handle shutting down an executor service. See the boilerplate code given to you in <code>shutdownAndAwaitTermination</code> method in the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>. In Java 19+, <code>ExecutorService</code> is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a>, so you can make convenient use of try-with-resources syntax to automatically close the executor service.</p>\n<h2>Check elapsed time as each line imports</h2>\n<p>Without threading, just check elapsed time on every loop while reading your input stream.</p>\n<p>To get elapsed time, you could count nanoseconds that have passed by calling <code>System.nanoTime</code>. But the ever-increasing count of nanos returned by that call can be reset when reading the limit of a <code>long</code>. How long until that limit is reached is undefined, so I would not rely upon this in production code.</p>\n<h3><code>Instant.now</code> &amp; <code>Duration</code></h3>\n<p>A better way to get elapsed time, if a resolution of microseconds suffices, is to use <code>Instant</code> class with its <code>Instant.now()</code> method to capture the current moment as a date-time seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. Use <code>Duration</code> class to represent a span-of-time not attached to the timeline.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person( String firstName , String lastName ) { }\nArrayList &lt; Person &gt; persons = new ArrayList &lt;&gt; ( );\nDuration maxTime = Duration.ofMillis ( 10 );\nInputStream inputStream = null;\n\nInstant start = Instant.now ( );\ntry (\n        BufferedReader bufferedReader = …\n)\n{\n    String line;\n    while ( ( line = bufferedReader.readLine ( ) ) != null )\n    {\n        // Time limit not yet expired, so process another line.\n        String[] parts = line.split ( &quot;,&quot; );\n        String firstName = parts[ 0 ];\n        String lastName = parts[ 1 ];\n        Person person = new Person ( firstName , lastName );\n        persons.add ( person );\n\n        // Check to see if exceeding our time limit.\n        Duration elapsed = Duration.between ( start , Instant.now ( ) );\n        if ( elapsed.toNanos ( ) &gt; maxTime.toNanos ( ) ) break;  // If we have exceeded our time limit, break out of this `while`` loop.\n    }\n} catch ( IOException e )\n{\n    throw new RuntimeException ( e );\n}\n</code></pre>\n"}],"owner":{"account_id":14840844,"reputation":11,"user_id":10717651,"display_name":"Joe Gilbert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701405627,"creation_date":1701398786,"question_id":77582737,"body_markdown":"I have to read lines from InputStream during certain time and return the lines that I read in a List. In my current solution I am not sure if it is the best way to interrupt a thread, because sometimes after the return some orders are added, and other times not.\r\n\r\nThis is my current solution.\r\n\r\n\r\n    InputStream source;\r\n    ObjectMapper objectMapper;\r\n\r\n    public OrderStreamReader(InputStream source, ObjectMapper objectMapper) {\r\n        this.source = source;\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    public List&lt;OrderStream&gt; get( Duration maxTime) {\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        ReaderOrdersStream readerOrder = new ReaderOrdersStream();\r\n        Future future = executor.submit(readerOrder::run);\r\n\r\n        try {\r\n            future.get(maxTime.toMillis(), TimeUnit.MILLISECONDS);\r\n        } catch (TimeoutException e) {\r\n            future.cancel(true);\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n        } finally {\r\n            executor.shutdownNow();\r\n        }\r\n\r\n        return readerOrder.orders;\r\n    }\r\n\r\n    private class ReaderOrdersStream {\r\n        private List&lt;OrderStream&gt; orders = new LinkedList&lt;&gt;();\r\n        \r\n\r\n        public void run() {\r\n            try (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(source))) {\r\n                String rawOrder;\r\n                while ((rawOrder = bufferedReader.readLine()) != null) {\r\n                    var currentOrder = objectMapper.readValue(rawOrder, OrderStream.class);\r\n                    if (Thread.interrupted()) break;\r\n                    orders.add(currentOrder);\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n        }`\r\n\r\nAvoid extra added orders after return.","title":"How to read from input stream for certain time?","body":"<p>I have to read lines from InputStream during certain time and return the lines that I read in a List. In my current solution I am not sure if it is the best way to interrupt a thread, because sometimes after the return some orders are added, and other times not.</p>\n<p>This is my current solution.</p>\n<pre><code>InputStream source;\nObjectMapper objectMapper;\n\npublic OrderStreamReader(InputStream source, ObjectMapper objectMapper) {\n    this.source = source;\n    this.objectMapper = objectMapper;\n}\n\npublic List&lt;OrderStream&gt; get( Duration maxTime) {\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    ReaderOrdersStream readerOrder = new ReaderOrdersStream();\n    Future future = executor.submit(readerOrder::run);\n\n    try {\n        future.get(maxTime.toMillis(), TimeUnit.MILLISECONDS);\n    } catch (TimeoutException e) {\n        future.cancel(true);\n    } catch (InterruptedException | ExecutionException e) {\n        throw new RuntimeException(e);\n    } finally {\n        executor.shutdownNow();\n    }\n\n    return readerOrder.orders;\n}\n\nprivate class ReaderOrdersStream {\n    private List&lt;OrderStream&gt; orders = new LinkedList&lt;&gt;();\n    \n\n    public void run() {\n        try (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(source))) {\n            String rawOrder;\n            while ((rawOrder = bufferedReader.readLine()) != null) {\n                var currentOrder = objectMapper.readValue(rawOrder, OrderStream.class);\n                if (Thread.interrupted()) break;\n                orders.add(currentOrder);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }`\n</code></pre>\n<p>Avoid extra added orders after return.</p>\n"},{"tags":["java","android","flutter","kotlin","gradle"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1698312149,"post_id":77365668,"comment_id":136390299,"body_markdown":"Did you change the Java version inside File-&gt;Preferences-&gt;Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle?","body":"Did you change the Java version inside File-&gt;Preferences-&gt;Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle?"},{"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"score":0,"creation_date":1698312284,"post_id":77365668,"comment_id":136390321,"body_markdown":"I changed it to 17 there &#39;jbr 17&#39;","body":"I changed it to 17 there &#39;jbr 17&#39;"},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":2,"creation_date":1698312739,"post_id":77365668,"comment_id":136390418,"body_markdown":"Does [this](https://stackoverflow.com/questions/75480173/android-studio-build-error-compiledebugjavawithjavac-task-current-target-it-1) help?","body":"Does <a href=\"https://stackoverflow.com/questions/75480173/android-studio-build-error-compiledebugjavawithjavac-task-current-target-it-1\">this</a> help?"}],"answers":[{"tags":[],"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698322657,"creation_date":1698322657,"answer_id":77366929,"question_id":77365668,"body_markdown":"The error is caused because you are trying to use Java 17 instead of Java 8.\r\n\r\nIn your `build.gradle`\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\nCheck also: \r\n\r\n`Settings` -&gt; `Build, Execution, Deployment` -&gt; `Build Tools` -&gt; `Gradle` \r\n\r\nand check if `Gradle JDK` is set to 1.8","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>The error is caused because you are trying to use Java 17 instead of Java 8.</p>\n<p>In your <code>build.gradle</code></p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\nkotlinOptions {\n    jvmTarget = '1.8'\n}\n</code></pre>\n<p>Check also:</p>\n<p><code>Settings</code> -&gt; <code>Build, Execution, Deployment</code> -&gt; <code>Build Tools</code> -&gt; <code>Gradle</code></p>\n<p>and check if <code>Gradle JDK</code> is set to 1.8</p>\n"},{"tags":[],"owner":{"account_id":22467031,"reputation":11,"user_id":16668048,"display_name":"Sohail Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698609837,"creation_date":1698609505,"answer_id":77384997,"question_id":77365668,"body_markdown":"in your bulid.gradle update following\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    //project level\r\n     id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.9.10&#39; apply false\r\n\r\n    //app level\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.5.3&#39;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>in your bulid.gradle update following</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>//project level\n id 'org.jetbrains.kotlin.android' version '1.9.10' apply false\n\n//app level\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.5.3'\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":4158911,"reputation":339,"user_id":3409417,"display_name":"litao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700559718,"creation_date":1700559718,"answer_id":77521756,"question_id":77365668,"body_markdown":"Try right-clicking on the project name and then click &#39;Open Module Settings&#39;\r\n\r\nChange the Gradle JDK to 17\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OfpGQ.png","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>Try right-clicking on the project name and then click 'Open Module Settings'</p>\n<p>Change the Gradle JDK to 17</p>\n<p><a href=\"https://i.stack.imgur.com/OfpGQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OfpGQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20552499,"reputation":33,"user_id":15084887,"display_name":"RIYAS PULLUR"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1701404774,"creation_date":1701404774,"answer_id":77583009,"question_id":77365668,"body_markdown":"\r\nThis error indicates a mismatch in Java and Kotlin compilation targets in your Android Studio project. The current target version for compileDebugJavaWithJavac is set to 1.8 (Java 8), while the target for compileDebugKotlin is set to 17. These should, ideally, match.\r\n\r\n\r\n1. Update Java Version\r\nEnsure that your compileOptions are in the Android block of your build.gradle file is set to a version compatible with both Java and Kotlin.\r\n\r\n \r\n\r\n    android {\r\n        compileOptions {\r\n            sourceCompatibility 1.8\r\n            targetCompatibility 1.8\r\n        }\r\n        // Other configurations...\r\n    }\r\n\r\n\r\n2. Update Kotlin Version\r\nCheck your build.gradle file for the Kotlin version and make sure it&#39;s compatible with your project. You can set the Kotlin version in the dependencies block:\r\n\r\n    dependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n    // Other dependencies...\r\n}\r\n\r\n\r\n\r\n3. Check Gradle Version\r\nEnsure that you are using an up-to-date version of the Gradle plugin in your build.gradle file:\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.0&#39; // Use the latest version\r\n        // Other dependencies...\r\n    }\r\n\r\n4. Clean and Rebuild\r\nAfter making these changes, clean your project and rebuild it. You can do this by selecting &quot;Build&quot; -&gt; &quot;Clean Project&quot; and then &quot;Build&quot; -&gt; &quot;Rebuild Project&quot; in Android Studio.\r\n\r\n5. Check Dependencies\r\nMake sure that all your dependencies, including any Kotlin or Java libraries, are compatible with the versions you are using.\r\n\r\n6. Review Android Studio Settings\r\nIn Android Studio, go to &quot;File&quot; -&gt; &quot;Project Structure&quot; and ensure that the JDK location is set correctly.\r\n\r\n7. Check Gradle Properties\r\nIn the gradle.properties file of your project, ensure that the Java version is set correctly:\r\n\r\norg.gradle.java.home=/path/to/your/jdk\r\n\r\n\r\n\r\n","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>This error indicates a mismatch in Java and Kotlin compilation targets in your Android Studio project. The current target version for compileDebugJavaWithJavac is set to 1.8 (Java 8), while the target for compileDebugKotlin is set to 17. These should, ideally, match.</p>\n<ol>\n<li><p>Update Java Version\nEnsure that your compileOptions are in the Android block of your build.gradle file is set to a version compatible with both Java and Kotlin.</p>\n<p>android {\ncompileOptions {\nsourceCompatibility 1.8\ntargetCompatibility 1.8\n}\n// Other configurations...\n}</p>\n</li>\n<li><p>Update Kotlin Version\nCheck your build.gradle file for the Kotlin version and make sure it's compatible with your project. You can set the Kotlin version in the dependencies block:</p>\n<p>dependencies {\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n// Other dependencies...\n}</p>\n</li>\n<li><p>Check Gradle Version\nEnsure that you are using an up-to-date version of the Gradle plugin in your build.gradle file:</p>\n<p>dependencies {\nclasspath 'com.android.tools.build:gradle:7.0.0' // Use the latest version\n// Other dependencies...\n}</p>\n</li>\n<li><p>Clean and Rebuild\nAfter making these changes, clean your project and rebuild it. You can do this by selecting &quot;Build&quot; -&gt; &quot;Clean Project&quot; and then &quot;Build&quot; -&gt; &quot;Rebuild Project&quot; in Android Studio.</p>\n</li>\n<li><p>Check Dependencies\nMake sure that all your dependencies, including any Kotlin or Java libraries, are compatible with the versions you are using.</p>\n</li>\n<li><p>Review Android Studio Settings\nIn Android Studio, go to &quot;File&quot; -&gt; &quot;Project Structure&quot; and ensure that the JDK location is set correctly.</p>\n</li>\n<li><p>Check Gradle Properties\nIn the gradle.properties file of your project, ensure that the Java version is set correctly:</p>\n</li>\n</ol>\n<p>org.gradle.java.home=/path/to/your/jdk</p>\n"}],"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1701404774,"creation_date":1698311819,"question_id":77365668,"body_markdown":"I am working on an app it was working fine until i upgraded the gradle version now this is the error. I also tried changing the version to 17 but it doesn&#39;t seems to work and also changed the java version for gradle in setting android studio to 17.\r\n\r\n    Execution failed for task &#39;:stripe_android:compileDebugKotlin&#39;.\r\n    &gt; &#39;compileDebugJavaWithJavac&#39; task (current target is 1.8) and &#39;compileDebugKotlin&#39; \r\n    task (current target is 17) jvm target compatibility should be set to the same Java \r\n    version.\r\n\r\nThis is my buld.gradle file. Here i changed according to the error.\r\n\r\n```\r\nplugins {\r\n    id &quot;com.android.application&quot;\r\n    id &quot;kotlin-android&quot;\r\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\r\n}\r\n\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &quot;com.roam1.esim&quot;\r\n    compileSdkVersion flutter.compileSdkVersion\r\n    ndkVersion flutter.ndkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;17&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.example.sim&quot;\r\n        // You can update the following values to match your application needs.\r\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\r\n        minSdkVersion 21\r\n        targetSdkVersion flutter.targetSdkVersion\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:latest.release&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:32.4.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n}\r\n\r\n```\r\n","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>I am working on an app it was working fine until i upgraded the gradle version now this is the error. I also tried changing the version to 17 but it doesn't seems to work and also changed the java version for gradle in setting android studio to 17.</p>\n<pre><code>Execution failed for task ':stripe_android:compileDebugKotlin'.\n&gt; 'compileDebugJavaWithJavac' task (current target is 1.8) and 'compileDebugKotlin' \ntask (current target is 17) jvm target compatibility should be set to the same Java \nversion.\n</code></pre>\n<p>This is my buld.gradle file. Here i changed according to the error.</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\nandroid {\n    namespace &quot;com.roam1.esim&quot;\n    compileSdkVersion flutter.compileSdkVersion\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.sim&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\n        minSdkVersion 21\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation 'com.facebook.android:facebook-android-sdk:latest.release'\n    implementation platform('com.google.firebase:firebase-bom:32.4.0')\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n}\n\n</code></pre>\n"},{"tags":["java","java.util.scanner","java-io"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1383873040,"post_id":19849813,"comment_id":29520923,"body_markdown":"Any exceptions? Any empty catch blocks?","body":"Any exceptions? Any empty catch blocks?"},{"owner":{"account_id":1675472,"reputation":1206,"user_id":1541137,"accept_rate":83,"display_name":"Lan"},"score":0,"creation_date":1383873069,"post_id":19849813,"comment_id":29520930,"body_markdown":"Any special characters? Try bufferedreader, I&#39;ve had mirror issues like yours. Or try switching hasNext() to hastNextLine() to see if that affects your stated switch from next() to nextLine()","body":"Any special characters? Try bufferedreader, I&#39;ve had mirror issues like yours. Or try switching hasNext() to hastNextLine() to see if that affects your stated switch from next() to nextLine()"},{"owner":{"display_name":"user2030471"},"score":0,"creation_date":1383873408,"post_id":19849813,"comment_id":29521000,"body_markdown":"Did you try printing the `ArrayList`? There might be an issue/misconfig with the IDE.","body":"Did you try printing the <code>ArrayList</code>? There might be an issue/misconfig with the IDE."},{"owner":{"account_id":2025799,"reputation":1515,"user_id":1810854,"accept_rate":60,"display_name":"Jess"},"score":0,"creation_date":1383873431,"post_id":19849813,"comment_id":29521004,"body_markdown":"Exceptions: originally caught FileNotFoundExceptions and printed stack trace, changed to general type Exception but no difference...","body":"Exceptions: originally caught FileNotFoundExceptions and printed stack trace, changed to general type Exception but no difference..."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1383873470,"post_id":19849813,"comment_id":29521014,"body_markdown":"What does this even mean `I&#39;ve initialized Scanner both with and without a &quot;\\n&quot; delimiter`?. Also, do like @John said and use `hasNextLine()`. It&#39;s better practice.","body":"What does this even mean <code>I&#39;ve initialized Scanner both with and without a &quot;\\n&quot; delimiter</code>?. Also, do like @John said and use <code>hasNextLine()</code>. It&#39;s better practice."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1383873549,"post_id":19849813,"comment_id":29521034,"body_markdown":"Are trying to store each word or each line? Be more clear.","body":"Are trying to store each word or each line? Be more clear."},{"owner":{"account_id":2025799,"reputation":1515,"user_id":1810854,"accept_rate":60,"display_name":"Jess"},"score":0,"creation_date":1383874067,"post_id":19849813,"comment_id":29521137,"body_markdown":"I have one word on each line, so same thing essentially. &quot;\\n&quot; as in I&#39;ve initialized my Scanner specifying that the delimiter was a new line e.g. Scanner s = new Scanner(file).useDelimiter(&quot;\\n&quot;). Just changed to hasNextLine(), but still same result..","body":"I have one word on each line, so same thing essentially. &quot;\\n&quot; as in I&#39;ve initialized my Scanner specifying that the delimiter was a new line e.g. Scanner s = new Scanner(file).useDelimiter(&quot;\\n&quot;). Just changed to hasNextLine(), but still same result.."},{"owner":{"account_id":2025799,"reputation":1515,"user_id":1810854,"accept_rate":60,"display_name":"Jess"},"score":0,"creation_date":1383874134,"post_id":19849813,"comment_id":29521151,"body_markdown":"If I try to print the later elements of my ArrayList beyond what I see in the debugger, they haven&#39;t even been initialized yet (IndexOutOfBounds)","body":"If I try to print the later elements of my ArrayList beyond what I see in the debugger, they haven&#39;t even been initialized yet (IndexOutOfBounds)"}],"answers":[{"tags":[],"owner":{"account_id":22315382,"reputation":11,"user_id":16538806,"display_name":"Phoebe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627411435,"creation_date":1627400337,"answer_id":68547880,"question_id":19849813,"body_markdown":"try `FileReader` instead of `File`, so you don&#39;t have buffer problems. I had the same problem and this worked for me.","title":"java.util.Scanner issue: stops reading after certain number of characters?","body":"<p>try <code>FileReader</code> instead of <code>File</code>, so you don't have buffer problems. I had the same problem and this worked for me.</p>\n"}],"owner":{"account_id":2025799,"reputation":1515,"user_id":1810854,"accept_rate":60,"display_name":"Jess"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701404347,"creation_date":1383872708,"question_id":19849813,"body_markdown":"I&#39;m using Scanner to read in approx 700 lines of text (one word per line), and storing each line/word as an element of String ArrayList constructed with a predetermined 800-element size. However, while debugging in Eclipse&#39;s variable mode I noticed that the later elements of the ArrayList weren&#39;t initialized at all - it seems Scanner stopped in the middle of a word, on a random line. \r\n\r\n - It isn&#39;t a problem with the delimiter (I&#39;ve initialized Scanner both with and without a &quot;\\n&quot; delimiter, no difference) or the text content itself -- when I switch around the order of the words, Scanner stops reading at EXACTLY the same number of characters.\r\n - The text file itself isn&#39;t very big -- only 6KB.\r\n - I&#39;ve tried switching from next() to nextLine(), no issue there either\r\n\r\nI&#39;m using try with resources:\r\n\r\n    try (Scanner stopwordImport = new Scanner(new File(stopwordFile))) {\r\n\t\t\twhile (stopwordImport.hasNext()) {\r\n\t\t\t\tstopWords.add(stopwordImport.nextLine());\r\n\t\t\t}\r\n...so Scanner should be closing.\r\n\r\nI&#39;m at a loss...what&#39;s going wrong? Thanks in advance.","title":"java.util.Scanner issue: stops reading after certain number of characters?","body":"<p>I'm using Scanner to read in approx 700 lines of text (one word per line), and storing each line/word as an element of String ArrayList constructed with a predetermined 800-element size. However, while debugging in Eclipse's variable mode I noticed that the later elements of the ArrayList weren't initialized at all - it seems Scanner stopped in the middle of a word, on a random line. </p>\n\n<ul>\n<li>It isn't a problem with the delimiter (I've initialized Scanner both with and without a \"\\n\" delimiter, no difference) or the text content itself -- when I switch around the order of the words, Scanner stops reading at EXACTLY the same number of characters.</li>\n<li>The text file itself isn't very big -- only 6KB.</li>\n<li>I've tried switching from next() to nextLine(), no issue there either</li>\n</ul>\n\n<p>I'm using try with resources:</p>\n\n<pre><code>try (Scanner stopwordImport = new Scanner(new File(stopwordFile))) {\n        while (stopwordImport.hasNext()) {\n            stopWords.add(stopwordImport.nextLine());\n        }\n</code></pre>\n\n<p>...so Scanner should be closing.</p>\n\n<p>I'm at a loss...what's going wrong? Thanks in advance.</p>\n"},{"tags":["java","selenium-webdriver","automation","webdriver-manager"],"comments":[{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1699259122,"post_id":77429284,"comment_id":136504231,"body_markdown":"You need to add the slf4j-simple-1.6.2.jar file to your classpath","body":"You need to add the slf4j-simple-1.6.2.jar file to your classpath"},{"owner":{"account_id":29835675,"reputation":11,"user_id":22865084,"display_name":"Nabeel khan"},"score":0,"creation_date":1699260714,"post_id":77429284,"comment_id":136504460,"body_markdown":"Thanks @bhairu . . . after adding above suggested dependency it has finally started working now :)","body":"Thanks @bhairu . . . after adding above suggested dependency it has finally started working now :)"}],"owner":{"account_id":29835675,"reputation":11,"user_id":22865084,"display_name":"Nabeel khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701403363,"creation_date":1699254308,"question_id":77429284,"body_markdown":"I am getting below error on running my testng test:\r\n\r\n*&quot;org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;xxxxx&#39;, ip: &#39;xxxxxxxxxxx&#39;\r\nBuild info: version: &#39;4.15.0&#39;, revision: &#39;1d14b5521b&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;13.5&#39;, java.version: &#39;21.0.1&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], binary: /Application&quot;*\r\n\r\n**Below are the details of versions I am using:**\r\nChrome browser version: 119\r\nWebdrivermanager: 5.6.0\r\nTestNg version: 7.8.0\r\nSelenium-Java: 4.15.0\r\nJDK: Tried 21, 18 and 11 but facing same issue every time\r\n\r\n**Here is the code I am trying to run:**\r\n\r\n\r\n\r\n```\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.testng.annotations.*;\r\n\r\npublic class okta1 {\r\n\r\n    private WebDriver driver;\r\n\r\n    @BeforeClass\r\n    static void setupClass() {\r\n        WebDriverManager.chromedriver().clearDriverCache().setup();\r\n    }\r\n\r\n    @BeforeTest\r\n    void setupTest() {\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setCapability(&quot;browserVersion&quot;, &quot;119.0.6045.105&quot;);\r\n        driver = new ChromeDriver(options);\r\n    }\r\n\r\n    @AfterTest\r\n    void teardown() {\r\n        driver.quit();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        // Exercise\r\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\r\n        String title = driver.getTitle();\r\n\r\n        // Verify\r\n        // assertThat(title).contains(&quot;Selenium WebDriver&quot;);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n**\r\nHere is the pom.xml:**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Teams-Automation-Framework&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;21&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;```\r\n\r\n\r\n\r\nTried changing different version of JDK and webdriver manager but still getting same error on every attempt","title":"I can not open the chrome browser using latest webdriver manager 5.6.0","body":"<p>I am getting below error on running my testng test:</p>\n<p><em>&quot;org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nHost info: host: 'xxxxx', ip: 'xxxxxxxxxxx'\nBuild info: version: '4.15.0', revision: '1d14b5521b'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '13.5', java.version: '21.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], binary: /Application&quot;</em></p>\n<p><strong>Below are the details of versions I am using:</strong>\nChrome browser version: 119\nWebdrivermanager: 5.6.0\nTestNg version: 7.8.0\nSelenium-Java: 4.15.0\nJDK: Tried 21, 18 and 11 but facing same issue every time</p>\n<p><strong>Here is the code I am trying to run:</strong></p>\n<pre><code>import io.github.bonigarcia.wdm.WebDriverManager;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.testng.annotations.*;\n\npublic class okta1 {\n\n    private WebDriver driver;\n\n    @BeforeClass\n    static void setupClass() {\n        WebDriverManager.chromedriver().clearDriverCache().setup();\n    }\n\n    @BeforeTest\n    void setupTest() {\n        ChromeOptions options = new ChromeOptions();\n        options.setCapability(&quot;browserVersion&quot;, &quot;119.0.6045.105&quot;);\n        driver = new ChromeDriver(options);\n    }\n\n    @AfterTest\n    void teardown() {\n        driver.quit();\n    }\n\n    @Test\n    void test() {\n        // Exercise\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\n        String title = driver.getTitle();\n\n        // Verify\n        // assertThat(title).contains(&quot;Selenium WebDriver&quot;);\n    }\n\n\n}\n</code></pre>\n<p>**\nHere is the pom.xml:**</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Teams-Automation-Framework&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.15.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;```\n\n\n\nTried changing different version of JDK and webdriver manager but still getting same error on every attempt\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":29137371,"reputation":5,"user_id":22321226,"display_name":"user22321226"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701403107,"creation_date":1700167453,"question_id":77497947,"body_markdown":"Here is the Pop up \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/24STp.png\r\n\r\nHow to handle this and click on Keep.\r\n\r\nI have tried \r\n\r\n```\r\noptions.addArguments(&quot;--safebrowsing-disable-download-protection&quot;); \r\noptions.addArguments(&quot;safebrowsing-disable-extension-blacklist&quot;);\r\nMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\nprefs.put(&quot;download.default_directory&quot;, downloadDirectory);\r\nprefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n```\r\n\r\nBut not working.","title":"How to handle Download blocked pop up in selenium Java?","body":"<p>Here is the Pop up\n<a href=\"https://i.stack.imgur.com/24STp.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How to handle this and click on Keep.</p>\n<p>I have tried</p>\n<pre><code>options.addArguments(&quot;--safebrowsing-disable-download-protection&quot;); \noptions.addArguments(&quot;safebrowsing-disable-extension-blacklist&quot;);\nMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(&quot;download.default_directory&quot;, downloadDirectory);\nprefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n</code></pre>\n<p>But not working.</p>\n"},{"tags":["java","maven","automated-tests","allure"],"owner":{"account_id":13823535,"reputation":307,"user_id":9978422,"display_name":"lukos06"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701403056,"creation_date":1701352046,"question_id":77578969,"body_markdown":"I have a problem. I want to use Allure Reports in my Java tests (Selenide + TestNG). I&#39;ve added all the dependencies to the `pom.xml` according to the documentation:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test-repo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;allure.version&gt;2.24.0&lt;/allure.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${allure.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;7.14.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.14.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.6.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n...\r\n\r\n```\r\nHere&#39;s how my test runner looks like:\r\n```\r\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\r\nimport io.cucumber.testng.CucumberOptions;\r\nimport org.testng.annotations.Test;\r\n\r\n@Test\r\n@CucumberOptions(\r\n        features = &quot;src/test/resources/features&quot;,\r\n        glue = {&quot;stepDefinitions&quot;},\r\n        plugin = {&quot;io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;}\r\n)\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n    static {\r\n        System.setProperty(&quot;IS_CUCUMBER_TEST&quot;, &quot;true&quot;);\r\n    }\r\n}\r\n```\r\nThe problem is that the `.json` files are generated in the allure-results folder, but when I try to use the command `allure serve allure-results`, a browser opens with an empty page and a message that the page is not accessible. I&#39;ve already tried changing the port, using the full path, changing the test folder, and nothing seems to work. Can anyone help?","title":"Allure HTML report won&#39;t create from json files","body":"<p>I have a problem. I want to use Allure Reports in my Java tests (Selenide + TestNG). I've added all the dependencies to the <code>pom.xml</code> according to the documentation:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test-repo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;allure.version&gt;2.24.0&lt;/allure.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-bom&lt;/artifactId&gt;\n                &lt;version&gt;${allure.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n            &lt;version&gt;7.0.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.14.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;7.14.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.6.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n...\n\n</code></pre>\n<p>Here's how my test runner looks like:</p>\n<pre><code>import io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\nimport org.testng.annotations.Test;\n\n@Test\n@CucumberOptions(\n        features = &quot;src/test/resources/features&quot;,\n        glue = {&quot;stepDefinitions&quot;},\n        plugin = {&quot;io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;}\n)\npublic class TestRunner extends AbstractTestNGCucumberTests {\n    static {\n        System.setProperty(&quot;IS_CUCUMBER_TEST&quot;, &quot;true&quot;);\n    }\n}\n</code></pre>\n<p>The problem is that the <code>.json</code> files are generated in the allure-results folder, but when I try to use the command <code>allure serve allure-results</code>, a browser opens with an empty page and a message that the page is not accessible. I've already tried changing the port, using the full path, changing the test folder, and nothing seems to work. Can anyone help?</p>\n"},{"tags":["java","gradle","junit","build.gradle"],"owner":{"account_id":8445681,"reputation":344,"user_id":6336443,"accept_rate":29,"display_name":"Somesh Dhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701403012,"creation_date":1701375763,"question_id":77581468,"body_markdown":"I have a multi-module gradle project where each module has some test cases. With the default gradle behavior, test cases within a module run sequentially but test tasks of multiple modules will run in parallel. Due to some internal reason, I want to avoid this behavior and achieve the following things.\r\n\r\n - Each module&#39;s test task should run once the previous module&#39;s test execution is done.\r\n - Test cases present with a module should execute sequentially. ( happening by default )\r\n\r\nBelow is the build.gradle of my root project. Please suggest what changes can be done for the same.\r\n\r\n    /****************************************\r\n     * instructions for all projects\r\n     ****************************************/\r\n    \r\n    allprojects {\r\n        apply from: &quot;$rootDir/dependencies.gradle&quot;\r\n        apply from: &quot;$rootDir/build.properties&quot;\r\n    \r\n        apply plugin: &#39;project-report&#39;\r\n        apply plugin: &#39;java-library&#39;\r\n        apply plugin: &#39;maven-publish&#39;\r\n    \r\n    \r\n        repositories {\r\n            mavenCentral()\r\n            mavenLocal()\r\n        }\r\n    \r\n        group = projectName\r\n        projectVersion = projectVersion + &#39;.&#39; + jenkinsBuildNumber\r\n        version = projectVersion\r\n    \r\n        sourceCompatibility = 11\r\n        targetCompatibility = 11\r\n    \r\n    }\r\n    \r\n    /****************************************\r\n     * instructions for each sub project\r\n     ****************************************/\r\n    subprojects {\r\n        apply plugin: &#39;jacoco&#39;\r\n        jacoco {\r\n            toolVersion = &quot;0.8.5&quot;\r\n            reportsDir = file(&quot;$buildDir/reports/jacoco&quot;)\r\n        }\r\n    \r\n        jacocoTestReport {\r\n            def coverageSourceDirs = [&#39;src/main/java/&#39;]\r\n            reports {\r\n                xml.enabled false\r\n                csv.enabled false\r\n                html.enabled true\r\n            }\r\n        }\r\n    \r\n        // common dependencies\r\n        dependencies {\r\n            testImplementation(\r\n                    libs.testng,\r\n            )\r\n        }\r\n    \r\n        test {\r\n            systemProperty &quot;file.encoding&quot;, &quot;utf-8&quot;\r\n            useTestNG()\r\n            testLogging.showStandardStreams = true\r\n            testLogging.exceptionFormat = &#39;full&#39;\r\n            testLogging {\r\n                events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n            }\r\n            finalizedBy jacocoTestReport\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to ensure sequential module wise test case execution in multi module gradle project?","body":"<p>I have a multi-module gradle project where each module has some test cases. With the default gradle behavior, test cases within a module run sequentially but test tasks of multiple modules will run in parallel. Due to some internal reason, I want to avoid this behavior and achieve the following things.</p>\n<ul>\n<li>Each module's test task should run once the previous module's test execution is done.</li>\n<li>Test cases present with a module should execute sequentially. ( happening by default )</li>\n</ul>\n<p>Below is the build.gradle of my root project. Please suggest what changes can be done for the same.</p>\n<pre><code>/****************************************\n * instructions for all projects\n ****************************************/\n\nallprojects {\n    apply from: &quot;$rootDir/dependencies.gradle&quot;\n    apply from: &quot;$rootDir/build.properties&quot;\n\n    apply plugin: 'project-report'\n    apply plugin: 'java-library'\n    apply plugin: 'maven-publish'\n\n\n    repositories {\n        mavenCentral()\n        mavenLocal()\n    }\n\n    group = projectName\n    projectVersion = projectVersion + '.' + jenkinsBuildNumber\n    version = projectVersion\n\n    sourceCompatibility = 11\n    targetCompatibility = 11\n\n}\n\n/****************************************\n * instructions for each sub project\n ****************************************/\nsubprojects {\n    apply plugin: 'jacoco'\n    jacoco {\n        toolVersion = &quot;0.8.5&quot;\n        reportsDir = file(&quot;$buildDir/reports/jacoco&quot;)\n    }\n\n    jacocoTestReport {\n        def coverageSourceDirs = ['src/main/java/']\n        reports {\n            xml.enabled false\n            csv.enabled false\n            html.enabled true\n        }\n    }\n\n    // common dependencies\n    dependencies {\n        testImplementation(\n                libs.testng,\n        )\n    }\n\n    test {\n        systemProperty &quot;file.encoding&quot;, &quot;utf-8&quot;\n        useTestNG()\n        testLogging.showStandardStreams = true\n        testLogging.exceptionFormat = 'full'\n        testLogging {\n            events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n        }\n        finalizedBy jacocoTestReport\n\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","web-services","resttemplate"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":1,"creation_date":1662198839,"post_id":73590975,"comment_id":129954192,"body_markdown":"What exception actually gets thrown?","body":"What exception actually gets thrown?"},{"owner":{"account_id":10352670,"reputation":15,"user_id":7635630,"display_name":"Niranjan "},"score":0,"creation_date":1662281824,"post_id":73590975,"comment_id":129966214,"body_markdown":"SocketException - Read Timed out","body":"SocketException - Read Timed out"}],"answers":[{"tags":[],"owner":{"account_id":3487925,"reputation":107,"user_id":2918319,"display_name":"Jerry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701402448,"creation_date":1701402448,"answer_id":77582902,"question_id":73590975,"body_markdown":"In my case, it is because of Windows update. I need to update Windows, restart the PC, then it works. But I&#39;m don&#39;t know the root cause.","title":"Request getting read timed out from code using resttemplate. But same request goes through in postman","body":"<p>In my case, it is because of Windows update. I need to update Windows, restart the PC, then it works. But I'm don't know the root cause.</p>\n"}],"owner":{"account_id":10352670,"reputation":15,"user_id":7635630,"display_name":"Niranjan "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701402448,"creation_date":1662196041,"question_id":73590975,"body_markdown":"This is a large request. But it works in postman and returns after a min.\r\nThe rest template timeout has been set as 5min. Both read and connection timeout. Somehow this works for smaller requests. I also debugged and I could see the timeout setting being applied. \r\n\r\nHowever the order went through and reached our target system and order got placed there. But we never get a response back, hence our system shows order failed since no response was received. The same works through postman. I checked through the headers, everything is ditto same\r\n\r\n    final String responseStr = restTemplate.postForObject(url, httpEntity, String.class);\r\n\r\n&lt;alias name=&quot;defaultHoneywellApigeeRestTemplate&quot; alias=&quot;honeywellApigeeRestTemplate&quot;/&gt;\r\n    &lt;bean id=&quot;defaultHoneywellApigeeRestTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot; scope=&quot;prototype&quot;&gt;\r\n        &lt;property name=&quot;requestFactory&quot; ref=&quot;simpleClientHttpRequestFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;alias name=&quot;defaultSimpleClientHttpRequestFactory&quot; alias=&quot;simpleClientHttpRequestFactory&quot;/&gt;\r\n    &lt;bean id=&quot;defaultSimpleClientHttpRequestFactory&quot; class=&quot;org.springframework.http.client.SimpleClientHttpRequestFactory&quot; scope=&quot;prototype&quot;&gt;\r\n        &lt;property name=&quot;connectTimeout&quot; value=&quot;${connection.timeout}&quot;/&gt;\r\n        &lt;property name=&quot;readTimeout&quot; value=&quot;${read.timeout}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nAs per best practices, we must use a rest template creator. **But is this issue caused by this**? This is all existing code. Is it worth the refactor? Because we had already tried some options(**bufferRequestBody** to false) which has led to other strange issues. It works in local, but not in higher env as well\r\n\r\nOr is it caused by **not using custom message converters**? Should we take this direction? Something like below since we are using json string request\r\n\r\n    &lt;property name=&quot;messageConverters&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n                    &lt;property name=&quot;supportedMediaTypes&quot;&gt;\r\n                        &lt;list&gt;\r\n                            &lt;bean class=&quot;org.springframework.http.MediaType&quot;&gt;\r\n                                &lt;constructor-arg value=&quot;application&quot;/&gt;\r\n                                &lt;constructor-arg value=&quot;json&quot;/&gt;\r\n                            &lt;/bean&gt;\r\n                            &lt;bean class=&quot;org.springframework.http.MediaType&quot;&gt;\r\n                                &lt;constructor-arg value=&quot;application&quot;/&gt;\r\n                                &lt;constructor-arg value=&quot;octet-stream&quot;/&gt;\r\n                            &lt;/bean&gt;\r\n                        &lt;/list&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n\r\nOr should is this caused by **request interceptor**?\r\n\r\nOr by **Error handler**? I debugged this flow to see where exactly it read times out. And I could see execute method is happening fine, but then later in error handler. \r\n\r\n    org.springframework.web.client.DefaultResponseErrorHandler\r\n    \r\n    @Override\r\n          public boolean hasError(ClientHttpResponse response) throws IOException {\r\n                int rawStatusCode = response.getRawStatusCode();\r\n                HttpStatus statusCode = HttpStatus.resolve(rawStatusCode);\r\n                return (statusCode != null ? hasError(statusCode) : hasError(rawStatusCode));\r\n          }\r\n\r\nIt times out at **response.getRawStatusCode()**\r\n\r\nHas anyone faced something like this with rest template? Please share or suggest. Thanks in Advance","title":"Request getting read timed out from code using resttemplate. But same request goes through in postman","body":"<p>This is a large request. But it works in postman and returns after a min.\nThe rest template timeout has been set as 5min. Both read and connection timeout. Somehow this works for smaller requests. I also debugged and I could see the timeout setting being applied.</p>\n<p>However the order went through and reached our target system and order got placed there. But we never get a response back, hence our system shows order failed since no response was received. The same works through postman. I checked through the headers, everything is ditto same</p>\n<pre><code>final String responseStr = restTemplate.postForObject(url, httpEntity, String.class);\n</code></pre>\n\n    \n        \n    \n<pre><code>&lt;alias name=&quot;defaultSimpleClientHttpRequestFactory&quot; alias=&quot;simpleClientHttpRequestFactory&quot;/&gt;\n&lt;bean id=&quot;defaultSimpleClientHttpRequestFactory&quot; class=&quot;org.springframework.http.client.SimpleClientHttpRequestFactory&quot; scope=&quot;prototype&quot;&gt;\n    &lt;property name=&quot;connectTimeout&quot; value=&quot;${connection.timeout}&quot;/&gt;\n    &lt;property name=&quot;readTimeout&quot; value=&quot;${read.timeout}&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>As per best practices, we must use a rest template creator. <strong>But is this issue caused by this</strong>? This is all existing code. Is it worth the refactor? Because we had already tried some options(<strong>bufferRequestBody</strong> to false) which has led to other strange issues. It works in local, but not in higher env as well</p>\n<p>Or is it caused by <strong>not using custom message converters</strong>? Should we take this direction? Something like below since we are using json string request</p>\n<pre><code>&lt;property name=&quot;messageConverters&quot;&gt;\n        &lt;list&gt;\n            &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\n                &lt;property name=&quot;supportedMediaTypes&quot;&gt;\n                    &lt;list&gt;\n                        &lt;bean class=&quot;org.springframework.http.MediaType&quot;&gt;\n                            &lt;constructor-arg value=&quot;application&quot;/&gt;\n                            &lt;constructor-arg value=&quot;json&quot;/&gt;\n                        &lt;/bean&gt;\n                        &lt;bean class=&quot;org.springframework.http.MediaType&quot;&gt;\n                            &lt;constructor-arg value=&quot;application&quot;/&gt;\n                            &lt;constructor-arg value=&quot;octet-stream&quot;/&gt;\n                        &lt;/bean&gt;\n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n</code></pre>\n<p>Or should is this caused by <strong>request interceptor</strong>?</p>\n<p>Or by <strong>Error handler</strong>? I debugged this flow to see where exactly it read times out. And I could see execute method is happening fine, but then later in error handler.</p>\n<pre><code>org.springframework.web.client.DefaultResponseErrorHandler\n\n@Override\n      public boolean hasError(ClientHttpResponse response) throws IOException {\n            int rawStatusCode = response.getRawStatusCode();\n            HttpStatus statusCode = HttpStatus.resolve(rawStatusCode);\n            return (statusCode != null ? hasError(statusCode) : hasError(rawStatusCode));\n      }\n</code></pre>\n<p>It times out at <strong>response.getRawStatusCode()</strong></p>\n<p>Has anyone faced something like this with rest template? Please share or suggest. Thanks in Advance</p>\n"},{"tags":["java","mysql","postgresql","netbeans","jdbc"],"comments":[{"owner":{"account_id":364812,"reputation":3294,"user_id":709399,"accept_rate":71,"display_name":"Tim Sparg"},"score":0,"creation_date":1306059079,"post_id":6081307,"comment_id":7053860,"body_markdown":"Is your question about using the built in NetBeans SQL editor to access your database, or are you asking how to connect the program that you&#39;ve written to a MySQL database?","body":"Is your question about using the built in NetBeans SQL editor to access your database, or are you asking how to connect the program that you&#39;ve written to a MySQL database?"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305978962,"creation_date":1305976492,"answer_id":6081333,"question_id":6081307,"body_markdown":"If you meant you want to use IDE&#39;s GUI tool then\r\n\r\n - windows &gt; services &gt;database &gt; driver\r\n - Get the driver jar\r\n - install the jar\r\n - right click on driver installed &gt; connect using &gt; and then provide the information\r\n\r\nOr otherwise use JDBC","title":"How to connect NetBeans to MySQL database?","body":"<p>If you meant you want to use IDE's GUI tool then</p>\n\n<ul>\n<li>windows > services >database > driver</li>\n<li>Get the driver jar</li>\n<li>install the jar</li>\n<li>right click on driver installed > connect using > and then provide the information</li>\n</ul>\n\n<p>Or otherwise use JDBC</p>\n"},{"tags":[],"owner":{"account_id":60135,"reputation":855,"user_id":179741,"accept_rate":95,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305976560,"creation_date":1305976560,"answer_id":6081341,"question_id":6081307,"body_markdown":"One way to connect to such databases is to use a JDBC (Java Database Connectivity) driver.  You can find more about JDBC at the [Oracle FAQ](http://download.oracle.com/javase/tutorial/jdbc/basics/index.html).","title":"How to connect NetBeans to MySQL database?","body":"<p>One way to connect to such databases is to use a JDBC (Java Database Connectivity) driver.  You can find more about JDBC at the <a href=\"http://download.oracle.com/javase/tutorial/jdbc/basics/index.html\" rel=\"nofollow\">Oracle FAQ</a>.</p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1305979185,"creation_date":1305979185,"answer_id":6081579,"question_id":6081307,"body_markdown":"In the **Services** window you can right click on the **Databases** tab and select **New Connection**.\r\n![New Connection][1]\r\n\r\nSelect **MySQL(Connector/J Driver)** from the drop down list. The driver file should be listed in the window. If not, you can download the file, then click add and select it from your hard drive.\r\n![Driver Information][2]\r\n\r\nFinally enter your database details such as servername, username and password and click finish.\r\n![Database Details][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6EJsq.png\r\n  [2]: http://i.stack.imgur.com/OSFKB.png\r\n  [3]: http://i.stack.imgur.com/IB5Sm.png","title":"How to connect NetBeans to MySQL database?","body":"<p>In the <strong>Services</strong> window you can right click on the <strong>Databases</strong> tab and select <strong>New Connection</strong>.\n<img src=\"https://i.stack.imgur.com/6EJsq.png\" alt=\"New Connection\"></p>\n\n<p>Select <strong>MySQL(Connector/J Driver)</strong> from the drop down list. The driver file should be listed in the window. If not, you can download the file, then click add and select it from your hard drive.\n<img src=\"https://i.stack.imgur.com/OSFKB.png\" alt=\"Driver Information\"></p>\n\n<p>Finally enter your database details such as servername, username and password and click finish.\n<img src=\"https://i.stack.imgur.com/IB5Sm.png\" alt=\"Database Details\"></p>\n"},{"tags":[],"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305979390,"creation_date":1305979390,"answer_id":6081594,"question_id":6081307,"body_markdown":"see mysql .jar for u project properties if  u waant to run or for netbeans shown by @Vincent Ramdhanie\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fjNIb.png","title":"How to connect NetBeans to MySQL database?","body":"<p>see mysql .jar for u project properties if  u waant to run or for netbeans shown by @Vincent Ramdhanie\n<img src=\"https://i.stack.imgur.com/fjNIb.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3989434,"reputation":55891,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437241096,"creation_date":1437241096,"answer_id":31493762,"question_id":6081307,"body_markdown":"**click on window and then select services**\r\n\r\n\r\n![enter image description here][1]\r\n\r\n**then click on databases and select new connection**\r\n![enter image description here][2]\r\n\r\n\r\n\r\n**select driver which you want** \r\n\r\n\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SewTv.png\r\n  [2]: http://i.stack.imgur.com/3UixP.png\r\n  [3]: http://i.stack.imgur.com/ECnLa.png\r\n\r\n\r\n\r\nthen click finish \r\n\r\n\r\nif you want to check the connection is successful or not\r\n\r\n\r\n     try\r\n        {\r\n             con=DriverManager.getConnection(&quot;jdbc:mysql://localhost/student_result&quot;,&quot;root&quot;,&quot;&quot;);\r\n   \r\n\r\n    JOptionPane.showMessageDialog(null,&quot;connected with &quot;+con.toString());\r\n\r\n  \r\n        }\r\n        catch(Exception e)\r\n        {\r\n            JOptionPane.showMessageDialog(null,&quot;not connect to server and message is&quot;+e.getMessage());\r\n        }","title":"How to connect NetBeans to MySQL database?","body":"<p><strong>click on window and then select services</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/SewTv.png\" alt=\"enter image description here\"></p>\n\n<p><strong>then click on databases and select new connection</strong>\n<img src=\"https://i.stack.imgur.com/3UixP.png\" alt=\"enter image description here\"></p>\n\n<p><strong>select driver which you want</strong> </p>\n\n<p><img src=\"https://i.stack.imgur.com/ECnLa.png\" alt=\"enter image description here\"></p>\n\n<p>then click finish </p>\n\n<p>if you want to check the connection is successful or not</p>\n\n<pre><code> try\n    {\n         con=DriverManager.getConnection(\"jdbc:mysql://localhost/student_result\",\"root\",\"\");\n\n\nJOptionPane.showMessageDialog(null,\"connected with \"+con.toString());\n\n\n    }\n    catch(Exception e)\n    {\n        JOptionPane.showMessageDialog(null,\"not connect to server and message is\"+e.getMessage());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9045441,"reputation":1,"user_id":6737960,"display_name":"Sudhir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471694403,"creation_date":1471694403,"answer_id":39053889,"question_id":6081307,"body_markdown":"Follow the steps:-\r\n\r\n1.Create a new application \r\n2.In projects section of netbeans right click on libraries\r\n3.Check the picture(i)[Libraries java mysql connector][1] \r\nThus you successfully setup the connection with mysql.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N9dcJ.png","title":"How to connect NetBeans to MySQL database?","body":"<p>Follow the steps:-</p>\n\n<p>1.Create a new application \n2.In projects section of netbeans right click on libraries\n3.Check the picture(i)<a href=\"https://i.stack.imgur.com/N9dcJ.png\" rel=\"nofollow\">Libraries java mysql connector</a> \nThus you successfully setup the connection with mysql.</p>\n"}],"owner":{"account_id":371575,"reputation":13174,"user_id":720176,"accept_rate":75,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108163,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":6081579,"answer_count":6,"score":7,"last_activity_date":1701401876,"creation_date":1305976241,"question_id":6081307,"body_markdown":"I have just installed NetBeans 7.0  and I am a newbie in NetBeans&#39; world. can any one tell me how to connect my application to MySQl / Postgres ? I work on Windows XP.\r\n","title":"How to connect NetBeans to MySQL database?","body":"<p>I have just installed NetBeans 7.0  and I am a newbie in NetBeans' world. can any one tell me how to connect my application to MySQl / Postgres ? I work on Windows XP.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1701399734,"post_id":77582773,"comment_id":136773803,"body_markdown":"example1 is an array...arrays don&#39;t have a checkingArray() method, thats why","body":"example1 is an array...arrays don&#39;t have a checkingArray() method, thats why"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1701400465,"post_id":77582773,"comment_id":136773874,"body_markdown":"checkingArray(example1)","body":"checkingArray(example1)"}],"answers":[{"tags":[],"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701399793,"creation_date":1701399793,"answer_id":77582790,"question_id":77582773,"body_markdown":"`checkingArray` is not a method of `int[]`\r\n\r\nIt is a static method of your class, which takes an argument of type `int[]`.\r\n\r\nCall it like \r\n\r\n    System.out.println(&quot;Array 1 is sorted: &quot; + checkingArray(example1));","title":"Method not accepting the data type that it was written to accept","body":"<p><code>checkingArray</code> is not a method of <code>int[]</code></p>\n<p>It is a static method of your class, which takes an argument of type <code>int[]</code>.</p>\n<p>Call it like</p>\n<pre><code>System.out.println(&quot;Array 1 is sorted: &quot; + checkingArray(example1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13210775,"reputation":969,"user_id":9541096,"display_name":"Owais Yosuf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701399942,"creation_date":1701399942,"answer_id":77582797,"question_id":77582773,"body_markdown":"It looks like there are a couple of issues in your code. First, when you&#39;re calling the checkingArray method on your arrays (example1 and example2), you should pass the arrays as arguments to the method. Second, your for loop in the checkingArray method is missing the increment statement.\r\n\r\n**Try the below code:**\r\n\r\n    public class ArrayChecker {\r\n    \r\n        public static boolean checkingArray(int[] data) {\r\n            boolean isSorted = true;\r\n            for (int i = 0; i &lt; data.length - 1; i++) {\r\n                if (data[i] &gt;= data[i + 1]) {\r\n                    isSorted = false;\r\n                    break; // No need to continue checking if it&#39;s already determined as not sorted\r\n                }\r\n            }\r\n            return isSorted;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int example1[] = {1, 6, 9, 4, 5, 10, 2, 7};\r\n            int example2[] = {3, 8, 9, 12, 20};\r\n    \r\n            System.out.println(&quot;Array 1 is sorted: &quot; + checkingArray(example1));\r\n            System.out.println(&quot;Array 2 is sorted: &quot; + checkingArray(example2));\r\n        }\r\n    }\r\n\r\n*Now, the code should work as intended.*","title":"Method not accepting the data type that it was written to accept","body":"<p>It looks like there are a couple of issues in your code. First, when you're calling the checkingArray method on your arrays (example1 and example2), you should pass the arrays as arguments to the method. Second, your for loop in the checkingArray method is missing the increment statement.</p>\n<p><strong>Try the below code:</strong></p>\n<pre><code>public class ArrayChecker {\n\n    public static boolean checkingArray(int[] data) {\n        boolean isSorted = true;\n        for (int i = 0; i &lt; data.length - 1; i++) {\n            if (data[i] &gt;= data[i + 1]) {\n                isSorted = false;\n                break; // No need to continue checking if it's already determined as not sorted\n            }\n        }\n        return isSorted;\n    }\n\n    public static void main(String[] args) {\n        int example1[] = {1, 6, 9, 4, 5, 10, 2, 7};\n        int example2[] = {3, 8, 9, 12, 20};\n\n        System.out.println(&quot;Array 1 is sorted: &quot; + checkingArray(example1));\n        System.out.println(&quot;Array 2 is sorted: &quot; + checkingArray(example2));\n    }\n}\n</code></pre>\n<p><em>Now, the code should work as intended.</em></p>\n"}],"owner":{"account_id":30036551,"reputation":13,"user_id":23018374,"display_name":"ParagonQuille"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77582797,"answer_count":2,"score":0,"last_activity_date":1701399942,"creation_date":1701399493,"question_id":77582773,"body_markdown":"I have an assignment where I&#39;ve been given a method header pre-written: \r\n`public static boolean checkingArray (int[] data) `\r\nI then have to write the method to check an array for if its sorted in numerical order, and all that went fine.\r\nBut when I try calling the method on the example arrays I&#39;ve been given, it gives me this error:\r\n\r\n`Cannot invoke checkingArray() on the array type int[]`\r\n\r\n\r\n\r\n\r\nThis is the code that I&#39;ve written, can anyone explain if I did something wrong or if my code is bugged, or what&#39;s happening? I&#39;m totally lost on any kind of solution.\r\n\r\n```\r\npublic static boolean checkingArray (int[] data) {\r\n\t\tboolean isSorted = true;\r\n\t\tfor (int i = 0; i &lt;data.length;) \r\n\t\t\tif (data[i] &gt;= data[i+1]) \r\n\t\t\t\tisSorted = false;\r\n\t\treturn isSorted;\r\n\t}\r\n\t\r\n\tstatic int example1[] = {1, 6, 9, 4, 5, 10, 2, 7};\r\n\tstatic int example2[] = {3, 8, 9, 12, 20};\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Array 1 is sorted: &quot; + example1.checkingArray());\r\n\t\tSystem.out.println(&quot;Array 2 is sorted: &quot; + example2.checkingArray());\r\n\t\t}\r\n\t}\r\n```\r\n","title":"Method not accepting the data type that it was written to accept","body":"<p>I have an assignment where I've been given a method header pre-written:\n<code>public static boolean checkingArray (int[] data) </code>\nI then have to write the method to check an array for if its sorted in numerical order, and all that went fine.\nBut when I try calling the method on the example arrays I've been given, it gives me this error:</p>\n<p><code>Cannot invoke checkingArray() on the array type int[]</code></p>\n<p>This is the code that I've written, can anyone explain if I did something wrong or if my code is bugged, or what's happening? I'm totally lost on any kind of solution.</p>\n<pre><code>public static boolean checkingArray (int[] data) {\n        boolean isSorted = true;\n        for (int i = 0; i &lt;data.length;) \n            if (data[i] &gt;= data[i+1]) \n                isSorted = false;\n        return isSorted;\n    }\n    \n    static int example1[] = {1, 6, 9, 4, 5, 10, 2, 7};\n    static int example2[] = {3, 8, 9, 12, 20};\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;Array 1 is sorted: &quot; + example1.checkingArray());\n        System.out.println(&quot;Array 2 is sorted: &quot; + example2.checkingArray());\n        }\n    }\n</code></pre>\n"},{"tags":["java","latency","catboost"],"owner":{"account_id":1891460,"reputation":2159,"user_id":1709417,"accept_rate":56,"display_name":"Nishant Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701399378,"creation_date":1701357478,"question_id":77579585,"body_markdown":"I am trying to use `catboost` **java** API but facing high latency issues at a large scale. I currently run a high-scale multi-threaded system with around 300+ worker threads that query the catboost model multiple times per client request. Here is the sample code:\r\n```\r\nloadModel(){\r\n// load model file\r\n// modelFilePath is around 1 GB\r\nCatBoostModel model = CatBoostModel.loadModel(modelFilePath);\r\n}\r\n...\r\n...\r\ngetprecition(){\r\n// called from multiple threads multiple times per user request\r\n// Predict for all inputs at once. \r\n// IMP: inputCount is always 1\r\nfloat[][] numericalFeatures = new float[inputCount][];\r\nString[][] catFeatures = new String[inputCount][];\r\n...\r\n...\r\nCatBoostPredictions prediction = model.predict(numericalFeatures, catFeatures);\r\ndouble result = sigmoid(prediction.get(0, 0));\r\n}\r\n```\r\nI have generated flame graph that shows significant times of CPU is used in catboost prediction\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI was expecting model prediction latency to be under 1 ms but it suddenly starts increasing when the load increases on the server (from 9-10k QPS to 12-13k QPS x 10-100 model queries per request).\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Another thing that I noticed is that the CPU load average also increases a lot (without using the model also) to 100+ on 48 core server.**\r\n\r\nI tried having 4 instances of model and querying each instance in a round-robin fashion but no improvement.\r\n\r\nIs there a way to optimize it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ePb2o.jpg\r\n  [2]: https://i.stack.imgur.com/NuTtz.jpg","title":"catboost java prediction slow at high scale","body":"<p>I am trying to use <code>catboost</code> <strong>java</strong> API but facing high latency issues at a large scale. I currently run a high-scale multi-threaded system with around 300+ worker threads that query the catboost model multiple times per client request. Here is the sample code:</p>\n<pre><code>loadModel(){\n// load model file\n// modelFilePath is around 1 GB\nCatBoostModel model = CatBoostModel.loadModel(modelFilePath);\n}\n...\n...\ngetprecition(){\n// called from multiple threads multiple times per user request\n// Predict for all inputs at once. \n// IMP: inputCount is always 1\nfloat[][] numericalFeatures = new float[inputCount][];\nString[][] catFeatures = new String[inputCount][];\n...\n...\nCatBoostPredictions prediction = model.predict(numericalFeatures, catFeatures);\ndouble result = sigmoid(prediction.get(0, 0));\n}\n</code></pre>\n<p>I have generated flame graph that shows significant times of CPU is used in catboost prediction\n<a href=\"https://i.stack.imgur.com/ePb2o.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePb2o.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I was expecting model prediction latency to be under 1 ms but it suddenly starts increasing when the load increases on the server (from 9-10k QPS to 12-13k QPS x 10-100 model queries per request).</p>\n<p><a href=\"https://i.stack.imgur.com/NuTtz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NuTtz.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Another thing that I noticed is that the CPU load average also increases a lot (without using the model also) to 100+ on 48 core server.</strong></p>\n<p>I tried having 4 instances of model and querying each instance in a round-robin fashion but no improvement.</p>\n<p>Is there a way to optimize it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1701404672,"post_id":77582717,"comment_id":136774214,"body_markdown":"The combiner is only used for parallel streams.  And yes, those do the same thing.","body":"The combiner is only used for parallel streams.  And yes, those do the same thing."},{"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"score":0,"creation_date":1701404784,"post_id":77582717,"comment_id":136774222,"body_markdown":"@LouisWasserman any idea on the second example?","body":"@LouisWasserman any idea on the second example?"},{"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1701407720,"post_id":77582717,"comment_id":136774450,"body_markdown":"I answered the second question: nothing is; it&#39;s only used for parallel streams.  Or are you asking what `StringBuilder::append` does?  That&#39;s just a call to [StringBuilder.append(CharSequence)](https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#append-java.lang.CharSequence-)","body":"I answered the second question: nothing is; it&#39;s only used for parallel streams.  Or are you asking what <code>StringBuilder::append</code> does?  That&#39;s just a call to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#append-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringBuilder.append(CharSequence)</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701408644,"post_id":77582717,"comment_id":136774522,"body_markdown":"If you look at the [`Collector`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Collector.html) interface, you&#39;ll see it&#39;s essentially an encapsulation of the supplier, accumulator, and combiner. Though a `Collector` also has a &quot;finisher&quot;, and also can report characteristics, which may help the stream implementation optimize the collection operation.","body":"If you look at the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector</code></a> interface, you&#39;ll see it&#39;s essentially an encapsulation of the supplier, accumulator, and combiner. Though a <code>Collector</code> also has a &quot;finisher&quot;, and also can report characteristics, which may help the stream implementation optimize the collection operation."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701408725,"post_id":77582717,"comment_id":136774530,"body_markdown":"And note the second `StringBuilder::append` as the combiner would, as a lambda expression, look like `(firstAppender, secondAppender) -&gt; firstAppender.append(secondAppender)`.","body":"And note the second <code>StringBuilder::append</code> as the combiner would, as a lambda expression, look like <code>(firstAppender, secondAppender) -&gt; firstAppender.append(secondAppender)</code>."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1701413073,"post_id":77582717,"comment_id":136774892,"body_markdown":"@notaorb Note that the `Stream#collect` is overloaded. One uses three parameters the other just one. Based upon your requirement you can use any of these. Also, sometimes the `reduce` method can be used to get the same result. And, your string concatenation can also be performed using the `stringStream.collect(Collectors.joining());`","body":"@notaorb Note that the <code>Stream#collect</code> is overloaded. One uses three parameters the other just one. Based upon your requirement you can use any of these. Also, sometimes the <code>reduce</code> method can be used to get the same result. And, your string concatenation can also be performed using the <code>stringStream.collect(Collectors.joining());</code>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1701413826,"post_id":77582717,"comment_id":136774966,"body_markdown":"For further clarification see this in Java documentation: [java.util.stream -&gt; Reduction Operations (sub topic)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html)","body":"For further clarification see this in Java documentation: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">java.util.stream -&gt; Reduction Operations (sub topic)</a>"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701422079,"post_id":77582717,"comment_id":136776136,"body_markdown":"Don’t ask multiple, entirely different questions. The answer to the first question is: it is just an example. The answer to the second is, the logic for implementing a `BiConsumer` with a single argument method is the same for second parameter and the third parameter. If you understood, how it works for the second parameter or how `ArrayList::addAll` can act as a combiner, there should be no problem in understanding how a single argument `append` method can be used as a combiner. It’s exactly the same logic.","body":"Don’t ask multiple, entirely different questions. The answer to the first question is: it is just an example. The answer to the second is, the logic for implementing a <code>BiConsumer</code> with a single argument method is the same for second parameter and the third parameter. If you understood, how it works for the second parameter or how <code>ArrayList::addAll</code> can act as a combiner, there should be no problem in understanding how a single argument <code>append</code> method can be used as a combiner. It’s exactly the same logic."}],"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701398899,"creation_date":1701398358,"question_id":77582717,"body_markdown":"I&#39;m looking at Streams:\r\n\r\n    &lt;R&gt; R collect(Supplier&lt;R&gt; supplier,\r\n                  BiConsumer&lt;R,? super T&gt; accumulator,\r\n                  BiConsumer&lt;R,R&gt; combiner)\r\n\r\nI see the example:\r\n\r\n     List&lt;String&gt; asList = stringStream.collect(ArrayList::new, ArrayList::add,\r\n                                                ArrayList::addAll);\r\n\r\nWhy would I use this over?\r\n\r\n     ArrayList&lt;String&gt; asList =     \r\n         stringStream.collect(Collectors.toCollection(ArrayList&lt;String&gt;::new));\r\n\r\nare they not doing the same thing?\r\n\r\nThe second example in the docs:\r\n\r\n     String concat = stringStream.collect(StringBuilder::new, StringBuilder::append,\r\n                                          StringBuilder::append)\r\n                                 .toString();\r\n\r\nI understand each individual String is passed to the accumulator, but what is passed to the last argument the combiner?\r\n\r\nI&#39;m expecting the combined to be `BiConsumer&lt;R,R&gt; c` which means `append(x, x)` should be called, where `x = new StringBuilder` but I don&#39;t see a method for accepting these two same types in the docs.","title":"Streams collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R,? super T&gt; accumulator, BiConsumer&lt;R,R&gt; combiner) question","body":"<p>I'm looking at Streams:</p>\n<pre><code>&lt;R&gt; R collect(Supplier&lt;R&gt; supplier,\n              BiConsumer&lt;R,? super T&gt; accumulator,\n              BiConsumer&lt;R,R&gt; combiner)\n</code></pre>\n<p>I see the example:</p>\n<pre><code> List&lt;String&gt; asList = stringStream.collect(ArrayList::new, ArrayList::add,\n                                            ArrayList::addAll);\n</code></pre>\n<p>Why would I use this over?</p>\n<pre><code> ArrayList&lt;String&gt; asList =     \n     stringStream.collect(Collectors.toCollection(ArrayList&lt;String&gt;::new));\n</code></pre>\n<p>are they not doing the same thing?</p>\n<p>The second example in the docs:</p>\n<pre><code> String concat = stringStream.collect(StringBuilder::new, StringBuilder::append,\n                                      StringBuilder::append)\n                             .toString();\n</code></pre>\n<p>I understand each individual String is passed to the accumulator, but what is passed to the last argument the combiner?</p>\n<p>I'm expecting the combined to be <code>BiConsumer&lt;R,R&gt; c</code> which means <code>append(x, x)</code> should be called, where <code>x = new StringBuilder</code> but I don't see a method for accepting these two same types in the docs.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701419277,"post_id":77582397,"comment_id":136775678,"body_markdown":"Using `--spring-profiles.active=..` within your configuration of the exec-maven-plugin ... the question is why execution... The spring-boot-maven-plugin has a paraemter `profiles` to activate a profile (https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run)","body":"Using <code>--spring-profiles.active=..</code> within your configuration of the exec-maven-plugin ... the question is why execution... The spring-boot-maven-plugin has a paraemter <code>profiles</code> to activate a profile (<a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/refere&zwnj;&#8203;nce/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701398341,"creation_date":1701398341,"answer_id":77582716,"question_id":77582397,"body_markdown":"[This](https://www.baeldung.com/spring-boot-main-class) article will help you. \r\n\r\nYou basically create multiple maven profiles in which you define the main class for the profile, refer to this class in the spring-boot-maven-plugin, and provide the appropriate command line options when running your application via maven.","title":"How to use different execution profiles with spring boot maven plugin?","body":"<p><a href=\"https://www.baeldung.com/spring-boot-main-class\" rel=\"nofollow noreferrer\">This</a> article will help you.</p>\n<p>You basically create multiple maven profiles in which you define the main class for the profile, refer to this class in the spring-boot-maven-plugin, and provide the appropriate command line options when running your application via maven.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701398341,"creation_date":1701390205,"question_id":77582397,"body_markdown":"The `exec-maven-plugin` supports setting different execution profiles [[1](https://stackoverflow.com/a/8252214/147530)]. I&#39;d like to use this feature e.g., to execute different main classes but I am not running the `exec-maven-plugin` directly. Instead I am executing my application using the [`spring-boot-maven-plugin`](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/). How can I set different execution profiles with `spring-boot-maven-plugin`?","title":"How to use different execution profiles with spring boot maven plugin?","body":"<p>The <code>exec-maven-plugin</code> supports setting different execution profiles [<a href=\"https://stackoverflow.com/a/8252214/147530\">1</a>]. I'd like to use this feature e.g., to execute different main classes but I am not running the <code>exec-maven-plugin</code> directly. Instead I am executing my application using the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\"><code>spring-boot-maven-plugin</code></a>. How can I set different execution profiles with <code>spring-boot-maven-plugin</code>?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":3259697,"reputation":26527,"user_id":2745495,"accept_rate":80,"display_name":"Gino Mempin"},"score":1,"creation_date":1569455851,"post_id":58107821,"comment_id":102606143,"body_markdown":"Have you checked the [VS Code docs on Java#Debugging](https://code.visualstudio.com/docs/languages/java#_debugging)? Please [edit] your question with your Java code and your launch configuration.","body":"Have you checked the <a href=\"https://code.visualstudio.com/docs/languages/java#_debugging\" rel=\"nofollow noreferrer\">VS Code docs on Java#Debugging</a>? Please <a href=\"https://stackoverflow.com/posts/58107821/edit\">edit</a> your question with your Java code and your launch configuration."},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1569466566,"post_id":58107821,"comment_id":102608030,"body_markdown":"try to delete the launch.json and run","body":"try to delete the launch.json and run"}],"answers":[{"tags":[],"owner":{"account_id":30036309,"reputation":1,"user_id":23018176,"display_name":"Aslam New"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701397933,"creation_date":1701395768,"answer_id":77582610,"question_id":58107821,"body_markdown":"java notes\r\n\r\nwhen vscode in particular starts a java program:\r\nError: Could not find or load main class (filename)\r\nCaused by: java.lang.ClassNotFoundException:(filename)\r\n\r\nthe way to fix it is:\r\n\r\nC:\\Program Files\\Java\\jdk\\bin\r\n\r\nand you have to set the PATH in the environment variables\r\nThe folder name (JDK) must be jdk\r\nexample:\r\nC:\\Program Files\\Java\\jdk\r\nC:\\Program Files\\Java\\jdk\\bin\r\n\r\nthen the name for the PATH and folder must be like that, but this also applies to the others.\r\n","title":"VS Code Java Error: Could not find or load main class","body":"<p>java notes</p>\n<p>when vscode in particular starts a java program:\nError: Could not find or load main class (filename)\nCaused by: java.lang.ClassNotFoundException:(filename)</p>\n<p>the way to fix it is:</p>\n<p>C:\\Program Files\\Java\\jdk\\bin</p>\n<p>and you have to set the PATH in the environment variables\nThe folder name (JDK) must be jdk\nexample:\nC:\\Program Files\\Java\\jdk\nC:\\Program Files\\Java\\jdk\\bin</p>\n<p>then the name for the PATH and folder must be like that, but this also applies to the others.</p>\n"}],"owner":{"account_id":14985968,"reputation":683,"user_id":10818522,"display_name":"Robert Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701397933,"creation_date":1569455019,"question_id":58107821,"body_markdown":"Every time I hit run on my main method in my java file, no matter what file, I get &quot;Error: Could not find or load main class (name of the class)&quot;. I&#39;ve tried uninstalling VS Code and uninstalling the rest of my Java extensions.","title":"VS Code Java Error: Could not find or load main class","body":"<p>Every time I hit run on my main method in my java file, no matter what file, I get \"Error: Could not find or load main class (name of the class)\". I've tried uninstalling VS Code and uninstalling the rest of my Java extensions.</p>\n"},{"tags":["java","string","stringbuilder"],"comments":[{"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":5,"creation_date":1394985684,"post_id":22439177,"comment_id":34125240,"body_markdown":"If those don&#39;t answer your question, neither will any here.","body":"If those don&#39;t answer your question, neither will any here."},{"owner":{"account_id":152622,"reputation":490034,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":3,"creation_date":1394986021,"post_id":22439177,"comment_id":34125385,"body_markdown":"What evidence do you have to support the assertion that *`StringBuilder` is much faster than string concatenation using the `+` operator*?","body":"What evidence do you have to support the assertion that <i><code>StringBuilder</code> is much faster than string concatenation using the <code>+</code> operator</i>?"},{"owner":{"account_id":2857286,"reputation":396,"user_id":2453286,"accept_rate":100,"display_name":"Jason"},"score":1,"creation_date":1394986208,"post_id":22439177,"comment_id":34125471,"body_markdown":"I have written a code that uses both &quot;+&quot; operator and StringBuilder. Please have a look at it and try to run it to see the result","body":"I have written a code that uses both &quot;+&quot; operator and StringBuilder. Please have a look at it and try to run it to see the result"},{"owner":{"account_id":2803497,"reputation":25192,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1590008736,"post_id":22439177,"comment_id":109522764,"body_markdown":"Note that your way of measuring the time is heavily flawed. You can not do something like that in a language like Java because of JVM, JIT and GC. Your measurement consists of probably 90% just sideeffects. I have seen it many times already that someone made a measurement like this with the outcome of `10ms` vs `100ms` and concluded that the first must be faster, although it was actually a lot slower in practice. You have to use a framework like JMH to get useable results.","body":"Note that your way of measuring the time is heavily flawed. You can not do something like that in a language like Java because of JVM, JIT and GC. Your measurement consists of probably 90% just sideeffects. I have seen it many times already that someone made a measurement like this with the outcome of <code>10ms</code> vs <code>100ms</code> and concluded that the first must be faster, although it was actually a lot slower in practice. You have to use a framework like JMH to get useable results."},{"owner":{"account_id":15814379,"reputation":565,"user_id":12114801,"display_name":"Sathvik"},"score":0,"creation_date":1600016199,"post_id":22439177,"comment_id":112948530,"body_markdown":"https://stackoverflow.com/questions/2971315/string-stringbuffer-and-stringbuilder","body":"<a href=\"https://stackoverflow.com/questions/2971315/string-stringbuffer-and-stringbuilder\" title=\"string stringbuffer and stringbuilder\">stackoverflow.com/questions/2971315/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1663909866,"creation_date":1394986907,"answer_id":22439433,"question_id":22439177,"body_markdown":"Do you understand how it works internally?\r\n\r\nEvery time you do `stringA += stringB;` a new string is created an assigned to stringA, so it will consume memory (a new string instance!) and time (copy the old string + new characters of the other string).\r\n\r\n`StringBuilder` will use an array of characters internally and when you use the `.append()` method it will do several things:\r\n\r\n  - check if there are any free space for the string to append\r\n  - again some internal checks and run a `System.arraycopy` to copy the characters of the string in the array.\r\n\r\nPersonally, I think the allocation of a new string every time (creating a new instance of string, put the string, etc.) could be very expensive in terms of memory and speed (in *while*/*for*, etc. especially).\r\n\r\nIn your example, use a `StringBuilder` is better, but if you need (example) something simple like a `.toString()`,\r\n\r\n    public String toString() {\r\n        return StringA + &quot; - &quot; + StringB;\r\n    }\r\n\r\nmakes no differences (well, in this case it is better you avoid StringBuilder overhead which is useless here).\r\n\r\n","title":"Why is StringBuilder much faster than String?","body":"<p>Do you understand how it works internally?</p>\n<p>Every time you do <code>stringA += stringB;</code> a new string is created an assigned to stringA, so it will consume memory (a new string instance!) and time (copy the old string + new characters of the other string).</p>\n<p><code>StringBuilder</code> will use an array of characters internally and when you use the <code>.append()</code> method it will do several things:</p>\n<ul>\n<li>check if there are any free space for the string to append</li>\n<li>again some internal checks and run a <code>System.arraycopy</code> to copy the characters of the string in the array.</li>\n</ul>\n<p>Personally, I think the allocation of a new string every time (creating a new instance of string, put the string, etc.) could be very expensive in terms of memory and speed (in <em>while</em>/<em>for</em>, etc. especially).</p>\n<p>In your example, use a <code>StringBuilder</code> is better, but if you need (example) something simple like a <code>.toString()</code>,</p>\n<pre><code>public String toString() {\n    return StringA + &quot; - &quot; + StringB;\n}\n</code></pre>\n<p>makes no differences (well, in this case it is better you avoid StringBuilder overhead which is useless here).</p>\n"},{"tags":[],"owner":{"account_id":1771725,"reputation":614,"user_id":1616374,"display_name":"Donagh Hatton"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1621336440,"creation_date":1394987017,"answer_id":22439461,"question_id":22439177,"body_markdown":"Strings in Java are **immutable**. This means that methods that operate on strings cannot ever change the value of a string. String concatenation using += works by allocating memory for an entirely new string that is the concatenation of the two previous ones, and replacing the reference with this new string. Each new concatenation requires the construction of an entirely new String object.\r\n\r\nIn contrast, the StringBuilder and StringBuffer classes are implemented as a **mutable** sequence of characters. This means that as you append new Strings or characters onto a StringBuilder, it simply updates its internal array to reflect the changes you&#39;ve made. This means that new memory is only allocated when the string grows past the buffer already existing in a StringBuilder.\r\n\r\n\r\n","title":"Why is StringBuilder much faster than String?","body":"<p>Strings in Java are <strong>immutable</strong>. This means that methods that operate on strings cannot ever change the value of a string. String concatenation using += works by allocating memory for an entirely new string that is the concatenation of the two previous ones, and replacing the reference with this new string. Each new concatenation requires the construction of an entirely new String object.</p>\n<p>In contrast, the StringBuilder and StringBuffer classes are implemented as a <strong>mutable</strong> sequence of characters. This means that as you append new Strings or characters onto a StringBuilder, it simply updates its internal array to reflect the changes you've made. This means that new memory is only allocated when the string grows past the buffer already existing in a StringBuilder.</p>\n"},{"tags":[],"owner":{"account_id":4017054,"reputation":49,"user_id":6064773,"display_name":"Shardul"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1621336794,"creation_date":1590008447,"answer_id":61922795,"question_id":22439177,"body_markdown":"I can list a very nice example for understanding the same (I mean I felt it&#39;s a nice example). Check the code here taken from a [LeetCode][1] problem: https://leetcode.com/problems/remove-outermost-parentheses/\r\n\r\n1: Using String\r\n\r\n    public String removeOuterParentheses(String S) {\r\n\r\n        String a = &quot;&quot;;\r\n        int num = 0;\r\n        for(int i=0; i &lt; S.length()-1; i++) {\r\n            if(S.charAt(i) == &#39;(&#39; &amp;&amp; num++ &gt; 0) {\r\n                a += &quot;(&quot;;\r\n            }\r\n            if(S.charAt(i) == &#39;)&#39; &amp;&amp; num-- &gt; 1) {\r\n                a += &quot;)&quot;;\r\n            }\r\n        }\r\n        return a;\r\n    }\r\n\r\nAnd now, using StringBuilder.\r\n\r\n    public String removeOuterParentheses(String S) {\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        int a = 0;\r\n        for(char ch : S.toCharArray()) {\r\n            if(ch == &#39;(&#39; &amp;&amp; a++ &gt; 0) sb.append(&#39;(&#39;);\r\n            if(ch == &#39;)&#39; &amp;&amp; a-- &gt; 1) sb.append(&#39;)&#39;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\nThe performance of both varies by a huge margin. The first submission uses String while the latter one uses StringBuilder.\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nAs explained above the theory is the same. String by property is immutable and synchronous,i.e. its state cannot be changed. The second, for example, is expensive owing to the creation of a new memory allocation whenever a concatenation function or &quot;+&quot; is used. It will consume a lot of heap and in return be slower. In comparison StringBuilder is mutable, it will only append and not create an overload on the memory consumed.\r\n\r\n  [1]: https://leetcode.com/\r\n  [2]: https://i.stack.imgur.com/rn6wC.png\r\n\r\n","title":"Why is StringBuilder much faster than String?","body":"<p>I can list a very nice example for understanding the same (I mean I felt it's a nice example). Check the code here taken from a <a href=\"https://leetcode.com/\" rel=\"nofollow noreferrer\">LeetCode</a> problem: <a href=\"https://leetcode.com/problems/remove-outermost-parentheses/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/remove-outermost-parentheses/</a></p>\n<p>1: Using String</p>\n<pre><code>public String removeOuterParentheses(String S) {\n\n    String a = &quot;&quot;;\n    int num = 0;\n    for(int i=0; i &lt; S.length()-1; i++) {\n        if(S.charAt(i) == '(' &amp;&amp; num++ &gt; 0) {\n            a += &quot;(&quot;;\n        }\n        if(S.charAt(i) == ')' &amp;&amp; num-- &gt; 1) {\n            a += &quot;)&quot;;\n        }\n    }\n    return a;\n}\n</code></pre>\n<p>And now, using StringBuilder.</p>\n<pre><code>public String removeOuterParentheses(String S) {\n\n    StringBuilder sb = new StringBuilder();\n\n    int a = 0;\n    for(char ch : S.toCharArray()) {\n        if(ch == '(' &amp;&amp; a++ &gt; 0) sb.append('(');\n        if(ch == ')' &amp;&amp; a-- &gt; 1) sb.append(')');\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>The performance of both varies by a huge margin. The first submission uses String while the latter one uses StringBuilder.</p>\n<p><a href=\"https://i.stack.imgur.com/rn6wC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rn6wC.png\" alt=\"Enter image description here\" /></a></p>\n<p>As explained above the theory is the same. String by property is immutable and synchronous,i.e. its state cannot be changed. The second, for example, is expensive owing to the creation of a new memory allocation whenever a concatenation function or &quot;+&quot; is used. It will consume a lot of heap and in return be slower. In comparison StringBuilder is mutable, it will only append and not create an overload on the memory consumed.</p>\n"},{"tags":[],"owner":{"account_id":6232188,"reputation":850,"user_id":6660678,"display_name":"mdfst13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701397914,"creation_date":1701397914,"answer_id":77582700,"question_id":22439177,"body_markdown":"The problem is that you implemented a more efficient version with `StringBuilder` than the compiler would.  Try \r\n\r\n    while (System.currentTimeMillis() - startTime &lt;= 1000) {\r\n        character = new StringBuilder(character).append(&quot;Y&quot;).toString();\r\n    }\r\n\r\nThat will give you a similar result to `+=`.  The problem is that the compiler isn&#39;t necessarily smart enough to realize that instead of repeatedly casting to `StringBuilder` and back to `String`, it could do everything with the same `StringBuilder`.  As [others](https://stackoverflow.com/a/22439461/6660678) have already noted, using a single `StringBuilder` is going to be much faster, as it only has to allocate memory occasionally.  \r\n\r\nThe `+=` version may still do more optimizations than that one.  But it will act more like that than your version.  Consider \r\n\r\n    sb = new StringBuilder();\r\n    while (System.currentTimeMillis() - startTime &lt;= 1000) {\r\n        sb.append(&quot;Y&quot;);\r\n        character = sb.toString();\r\n    }\r\n\r\nAlmost the same as your version but as slow as creating a new `StringBuilder` on every iteration.  Apparently it&#39;s the `toString` that slows things down.  ","title":"Why is StringBuilder much faster than String?","body":"<p>The problem is that you implemented a more efficient version with <code>StringBuilder</code> than the compiler would.  Try</p>\n<pre><code>while (System.currentTimeMillis() - startTime &lt;= 1000) {\n    character = new StringBuilder(character).append(&quot;Y&quot;).toString();\n}\n</code></pre>\n<p>That will give you a similar result to <code>+=</code>.  The problem is that the compiler isn't necessarily smart enough to realize that instead of repeatedly casting to <code>StringBuilder</code> and back to <code>String</code>, it could do everything with the same <code>StringBuilder</code>.  As <a href=\"https://stackoverflow.com/a/22439461/6660678\">others</a> have already noted, using a single <code>StringBuilder</code> is going to be much faster, as it only has to allocate memory occasionally.</p>\n<p>The <code>+=</code> version may still do more optimizations than that one.  But it will act more like that than your version.  Consider</p>\n<pre><code>sb = new StringBuilder();\nwhile (System.currentTimeMillis() - startTime &lt;= 1000) {\n    sb.append(&quot;Y&quot;);\n    character = sb.toString();\n}\n</code></pre>\n<p>Almost the same as your version but as slow as creating a new <code>StringBuilder</code> on every iteration.  Apparently it's the <code>toString</code> that slows things down.</p>\n"}],"owner":{"account_id":2857286,"reputation":396,"user_id":2453286,"accept_rate":100,"display_name":"Jason"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15959,"favorite_count":0,"down_vote_count":3,"up_vote_count":18,"accepted_answer_id":22439433,"answer_count":4,"score":15,"last_activity_date":1701397914,"creation_date":1394985617,"question_id":22439177,"body_markdown":"Why is `StringBuilder` much faster than string concatenation using the `+` operator? Even though that the `+` operator internally is implemented using either `StringBuffer` or `StringBuilder`.\r\n\r\n    public void shortConcatenation(){\r\n\t\tlong startTime = System.currentTimeMillis();\r\n\t\twhile (System.currentTimeMillis() - startTime &lt;= 1000){\r\n\r\n\t\t\tcharacter += &quot;Y&quot;;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;short: &quot; + character.length());\r\n\t}\r\n\r\n//// using String builder\r\n \r\n     public void shortConcatenation2(){\r\n\t\tlong startTime = System.currentTimeMillis();\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\twhile (System.currentTimeMillis() - startTime &lt;= 1000){\r\n\r\n\t\t\tsb.append(&quot;Y&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;string builder short: &quot; + sb.length());\r\n\t}\r\n  \r\n&lt;sub&gt;I know that there are a lot of similar questions posted here, but these don&#39;t really answer my question.&lt;/sub&gt;\r\n","title":"Why is StringBuilder much faster than String?","body":"<p>Why is <code>StringBuilder</code> much faster than string concatenation using the <code>+</code> operator? Even though that the <code>+</code> operator internally is implemented using either <code>StringBuffer</code> or <code>StringBuilder</code>.</p>\n<pre><code>public void shortConcatenation(){\n    long startTime = System.currentTimeMillis();\n    while (System.currentTimeMillis() - startTime &lt;= 1000){\n\n        character += &quot;Y&quot;;\n    }\n\n    System.out.println(&quot;short: &quot; + character.length());\n}\n</code></pre>\n<p>//// using String builder</p>\n<pre><code> public void shortConcatenation2(){\n    long startTime = System.currentTimeMillis();\n    StringBuilder sb = new StringBuilder();\n    while (System.currentTimeMillis() - startTime &lt;= 1000){\n\n        sb.append(&quot;Y&quot;);\n    }\n    System.out.println(&quot;string builder short: &quot; + sb.length());\n}\n</code></pre>\n<p><sub>I know that there are a lot of similar questions posted here, but these don't really answer my question.</sub></p>\n"},{"tags":["java","maven","maven-assembly-plugin","java-module","maven-jar-plugin"],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701397019,"creation_date":1701397019,"question_id":77582662,"body_markdown":"I am facing the issue described here : https://stackoverflow.com/questions/75950070/java-module-issues-with-confluent-kafka-libraries-split-package\r\n\r\nin a nutshell : there&#39;s a &quot;split package&quot; situation with 2 Kafka / Avro jars, with classes in same java package, but in 2 different jars in 2 different modules (JPMS).   \r\n\r\n\r\n\r\nI want to try to repackage and &quot;merge&quot; the 2 jars, following what is described here : https://stackoverflow.com/questions/44463552/java-9-module-reads-package-x-from-a-and-b/65889053#65889053\r\n\r\nbut it&#39;s not working, so I guess I am missing something. \r\n\r\nI created a new Maven module in my project, and simply put this in the `pom.xml` : \r\n\r\n    &lt;artifactId&gt;avro-serializer-repackaged&lt;/artifactId&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;          \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nthe build &quot;works&quot;, and generates a jar. However, when I look into the jar and open the `module-info.class`, here&#39;s what I have, which I am not really able to explain : \r\n\r\n    module com.fasterxml.jackson.annotation {\r\n        exports com.fasterxml.jackson.annotation;\r\n    \r\n        opens com.fasterxml.jackson.annotation;\r\n    }\r\n\r\n\r\nSo of course, when I try to use the jar in the other Maven module, declaring that I wan to use the `avro.serializer.repackaged` module, it doesn&#39;t work.\r\n\r\nI tried adding this :\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Automatic-Module-Name&gt;avro.serializer.repackaged&lt;/Automatic-Module-Name&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nBut that didn&#39;t change anything.\r\n\r\nI also tried to add a `module-info.java` under `src/main/java` , but since I have no code and just a pom.xml, I am not sure what to put there..\r\n\r\nSo I am stuck now, and I don&#39;t see how I can migrate y project to use JPMS. Is there a chance to make this work, and build a jar with a proper module descriptor ? \r\n\r\nAlso, I am super puzzled that something as popular as Kafka / Avro faces this.. isn&#39;t anyone using these 2 jars in a project using java modules ?\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n","title":"repackaging 2 libraries, with proper module configuration","body":"<p>I am facing the issue described here : <a href=\"https://stackoverflow.com/questions/75950070/java-module-issues-with-confluent-kafka-libraries-split-package\">Java module issues with Confluent Kafka libraries (split package)</a></p>\n<p>in a nutshell : there's a &quot;split package&quot; situation with 2 Kafka / Avro jars, with classes in same java package, but in 2 different jars in 2 different modules (JPMS).</p>\n<p>I want to try to repackage and &quot;merge&quot; the 2 jars, following what is described here : <a href=\"https://stackoverflow.com/questions/44463552/java-9-module-reads-package-x-from-a-and-b/65889053#65889053\">java 9 module reads package X from A and B</a></p>\n<p>but it's not working, so I guess I am missing something.</p>\n<p>I created a new Maven module in my project, and simply put this in the <code>pom.xml</code> :</p>\n<pre><code>&lt;artifactId&gt;avro-serializer-repackaged&lt;/artifactId&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;          \n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n        &lt;version&gt;7.5.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n                &lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\n        &lt;version&gt;7.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>the build &quot;works&quot;, and generates a jar. However, when I look into the jar and open the <code>module-info.class</code>, here's what I have, which I am not really able to explain :</p>\n<pre><code>module com.fasterxml.jackson.annotation {\n    exports com.fasterxml.jackson.annotation;\n\n    opens com.fasterxml.jackson.annotation;\n}\n</code></pre>\n<p>So of course, when I try to use the jar in the other Maven module, declaring that I wan to use the <code>avro.serializer.repackaged</code> module, it doesn't work.</p>\n<p>I tried adding this :</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Automatic-Module-Name&gt;avro.serializer.repackaged&lt;/Automatic-Module-Name&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>But that didn't change anything.</p>\n<p>I also tried to add a <code>module-info.java</code> under <code>src/main/java</code> , but since I have no code and just a pom.xml, I am not sure what to put there..</p>\n<p>So I am stuck now, and I don't see how I can migrate y project to use JPMS. Is there a chance to make this work, and build a jar with a proper module descriptor ?</p>\n<p>Also, I am super puzzled that something as popular as Kafka / Avro faces this.. isn't anyone using these 2 jars in a project using java modules ?</p>\n"},{"tags":["java","methods","refactoring"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1701387088,"post_id":77582156,"comment_id":136772781,"body_markdown":"You need to pass the `animal` created in `Screen`  object to your `FishAnimation` object, preferably via the constructor.","body":"You need to pass the <code>animal</code> created in <code>Screen</code>  object to your <code>FishAnimation</code> object, preferably via the constructor."},{"owner":{"account_id":29686435,"reputation":1,"user_id":22751871,"display_name":"TokenZ"},"score":0,"creation_date":1701719345,"post_id":77582156,"comment_id":136808405,"body_markdown":"@JanezKuhar can you make me an example?","body":"@JanezKuhar can you make me an example?"}],"owner":{"account_id":29686435,"reputation":1,"user_id":22751871,"display_name":"TokenZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701396936,"creation_date":1701385584,"question_id":77582156,"body_markdown":"I have this class called Screen\r\n```\r\npackage main;\r\n\r\nimport java.awt.Dimension;\r\nimport java.io.IOException;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLayeredPane;\r\nimport javax.swing.JPanel;\r\nimport AnimatorHandler.FishAnimation;\r\nimport data.*;\r\nimport save.Data;\r\n\r\npublic class Screen extends JPanel{\r\n\t\r\n\tResources res = new Resources();\r\n\tBackground background = new Background();\r\n\tGround ground = new Ground();\r\n\tAnimal animal = new Animal(null, null, 0, null, 0, 0);\r\n\tFishAnimation fA = new FishAnimation();\r\n\t\r\n\tint screenSizeX = 1099;\r\n\tint screenSizeY = 735;\r\n\t\r\n\tvoid createWindow() throws IOException {\r\n\t\t\r\n\t\t//CREATION OF THE RESOURCES\r\n\t\tbackground.createBackground();\r\n\t\tground.createGround();\r\n\t\tanimal.createAnimal();\r\n\t\t\r\n\t\t//SETTING OF THE LAYEREDPANE\r\n\t\tJLayeredPane layeredPane = new JLayeredPane();\r\n\t\tlayeredPane.setBounds(0, 0, screenSizeX, screenSizeY);\r\n\t\tlayeredPane.add(background.background[Data.selectedBackground], Integer.valueOf(0));\r\n\t\tlayeredPane.add(ground.ground[Data.selectedGround], Integer.valueOf(1));\r\n\t\tlayeredPane.add(animal.animals[Data.selectedAnimal], Integer.valueOf(2));\r\n\t\tlayeredPane.add(animal.animals[Data.selectedAnimal+1], Integer.valueOf(2));\r\n\t\t   \r\n\t\t//SETTING OF THE FRAME\r\n\t    JFrame frame = new JFrame(&quot;Happy Aquarium&quot;);\r\n\t    frame.add(layeredPane);\r\n\t    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t    frame.setSize(new Dimension(screenSizeX, screenSizeY));\r\n\t    frame.setLayout(null);\r\n\t    frame.setVisible(true);\r\n\t    \r\n\t    //ANIMATION\r\n\t    fA.action();\r\n\t    \r\n    }\r\n}\r\n\r\n```\r\nAnd I just tried to export the `fA.action()` in another class (before the export was called just `action`, created automatically by `ActionListener`) So I just cut and paste the method to the `Screen` class to the `FishAnimation` class.\r\n\r\n\r\n```\r\npackage AnimatorHandler;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.Timer;\r\n\r\nimport data.Animal;\r\nimport save.Data;\r\n\r\npublic class FishAnimation implements ActionListener{\r\n\t\r\n\tAnimal animal = new Animal(null, null, 0, null, 0, 0);\r\n\tTimer timer;\r\n\t\r\n\tpublic void action() throws IOException {\r\n\t\tanimal.createAnimal();\r\n\t\t\r\n\t\ttimer = new Timer(1, this);\r\n\t\ttimer.start();\r\n\t\t\t\r\n\t\t \r\n\t\t  \r\n\t\t  \r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\r\n\t\tif(animal.animals[Data.selectedAnimal].getY() &gt;= 260 || animal.animals[Data.selectedAnimal].getY()&lt;-300) {\r\n\t\t\t\r\n\t\t\tanimal.animali[Data.selectedAnimal].setYVelocity(animal.animali[Data.selectedAnimal].getYVelocity() * -1);\r\n\t\t}\r\n\t\t\r\n\t\tif(animal.animals[Data.selectedAnimal].getX() &gt;= 456 || animal.animals[Data.selectedAnimal].getX()&lt;-456) {\r\n\t\t\t\r\n\t\t\tanimal.animali[Data.selectedAnimal].setXVelocity(animal.animali[Data.selectedAnimal].getXVelocity() * -1);\r\n\t\t\t\r\n\t\t}\r\n\t\tanimal.animals[Data.selectedAnimal].setBounds(animal.animals[Data.selectedAnimal].getX() + animal.animali[Data.selectedAnimal].getXVelocity(), animal.animals[Data.selectedAnimal].getY() + animal.animali[Data.selectedAnimal].getYVelocity(), 1083, 696);\r\n\r\n\t\tif(animal.animals[Data.selectedAnimal+1].getY() &gt;= 260 || animal.animals[Data.selectedAnimal+1].getY()&lt;-300) {\r\n\t\t\t\r\n\t\t\tanimal.animali[Data.selectedAnimal+1].setYVelocity(animal.animali[Data.selectedAnimal+1].getYVelocity() * -1);\r\n\t\t}\r\n\t\t\r\n\t\tif(animal.animals[Data.selectedAnimal+1].getX() &gt;= 456 || animal.animals[Data.selectedAnimal+1].getX()&lt;-456) {\r\n\r\n\t\t\tanimal.animali[Data.selectedAnimal+1].setXVelocity(animal.animali[Data.selectedAnimal+1].getXVelocity() * -1);\r\n\t\t\t\r\n\t\t}\r\n\t\tanimal.animals[Data.selectedAnimal+1].setBounds(animal.animals[Data.selectedAnimal+1].getX() + animal.animali[Data.selectedAnimal+1].getXVelocity(), animal.animals[Data.selectedAnimal+1].getY() + animal.animali[Data.selectedAnimal+1].getYVelocity(), 1083, 696);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nSo I called the `action` method from this new class to the `Screen` class and nothing it stop working\r\n\r\nI tried google it but nothing, I tried to call the method in the `Main` class instead of the `Screen` class, but still nothing, BUT if I import again the exported `action` method to the `Screen` class, it works again.","title":"Moving the method to another class make it stop working","body":"<p>I have this class called Screen</p>\n<pre><code>package main;\n\nimport java.awt.Dimension;\nimport java.io.IOException;\nimport javax.swing.JFrame;\nimport javax.swing.JLayeredPane;\nimport javax.swing.JPanel;\nimport AnimatorHandler.FishAnimation;\nimport data.*;\nimport save.Data;\n\npublic class Screen extends JPanel{\n    \n    Resources res = new Resources();\n    Background background = new Background();\n    Ground ground = new Ground();\n    Animal animal = new Animal(null, null, 0, null, 0, 0);\n    FishAnimation fA = new FishAnimation();\n    \n    int screenSizeX = 1099;\n    int screenSizeY = 735;\n    \n    void createWindow() throws IOException {\n        \n        //CREATION OF THE RESOURCES\n        background.createBackground();\n        ground.createGround();\n        animal.createAnimal();\n        \n        //SETTING OF THE LAYEREDPANE\n        JLayeredPane layeredPane = new JLayeredPane();\n        layeredPane.setBounds(0, 0, screenSizeX, screenSizeY);\n        layeredPane.add(background.background[Data.selectedBackground], Integer.valueOf(0));\n        layeredPane.add(ground.ground[Data.selectedGround], Integer.valueOf(1));\n        layeredPane.add(animal.animals[Data.selectedAnimal], Integer.valueOf(2));\n        layeredPane.add(animal.animals[Data.selectedAnimal+1], Integer.valueOf(2));\n           \n        //SETTING OF THE FRAME\n        JFrame frame = new JFrame(&quot;Happy Aquarium&quot;);\n        frame.add(layeredPane);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(new Dimension(screenSizeX, screenSizeY));\n        frame.setLayout(null);\n        frame.setVisible(true);\n        \n        //ANIMATION\n        fA.action();\n        \n    }\n}\n\n</code></pre>\n<p>And I just tried to export the <code>fA.action()</code> in another class (before the export was called just <code>action</code>, created automatically by <code>ActionListener</code>) So I just cut and paste the method to the <code>Screen</code> class to the <code>FishAnimation</code> class.</p>\n<pre><code>package AnimatorHandler;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.IOException;\n\nimport javax.swing.Timer;\n\nimport data.Animal;\nimport save.Data;\n\npublic class FishAnimation implements ActionListener{\n    \n    Animal animal = new Animal(null, null, 0, null, 0, 0);\n    Timer timer;\n    \n    public void action() throws IOException {\n        animal.createAnimal();\n        \n        timer = new Timer(1, this);\n        timer.start();\n            \n         \n          \n          \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n\n        if(animal.animals[Data.selectedAnimal].getY() &gt;= 260 || animal.animals[Data.selectedAnimal].getY()&lt;-300) {\n            \n            animal.animali[Data.selectedAnimal].setYVelocity(animal.animali[Data.selectedAnimal].getYVelocity() * -1);\n        }\n        \n        if(animal.animals[Data.selectedAnimal].getX() &gt;= 456 || animal.animals[Data.selectedAnimal].getX()&lt;-456) {\n            \n            animal.animali[Data.selectedAnimal].setXVelocity(animal.animali[Data.selectedAnimal].getXVelocity() * -1);\n            \n        }\n        animal.animals[Data.selectedAnimal].setBounds(animal.animals[Data.selectedAnimal].getX() + animal.animali[Data.selectedAnimal].getXVelocity(), animal.animals[Data.selectedAnimal].getY() + animal.animali[Data.selectedAnimal].getYVelocity(), 1083, 696);\n\n        if(animal.animals[Data.selectedAnimal+1].getY() &gt;= 260 || animal.animals[Data.selectedAnimal+1].getY()&lt;-300) {\n            \n            animal.animali[Data.selectedAnimal+1].setYVelocity(animal.animali[Data.selectedAnimal+1].getYVelocity() * -1);\n        }\n        \n        if(animal.animals[Data.selectedAnimal+1].getX() &gt;= 456 || animal.animals[Data.selectedAnimal+1].getX()&lt;-456) {\n\n            animal.animali[Data.selectedAnimal+1].setXVelocity(animal.animali[Data.selectedAnimal+1].getXVelocity() * -1);\n            \n        }\n        animal.animals[Data.selectedAnimal+1].setBounds(animal.animals[Data.selectedAnimal+1].getX() + animal.animali[Data.selectedAnimal+1].getXVelocity(), animal.animals[Data.selectedAnimal+1].getY() + animal.animali[Data.selectedAnimal+1].getYVelocity(), 1083, 696);\n        \n        \n    }\n    \n    \n}\n\n</code></pre>\n<p>So I called the <code>action</code> method from this new class to the <code>Screen</code> class and nothing it stop working</p>\n<p>I tried google it but nothing, I tried to call the method in the <code>Main</code> class instead of the <code>Screen</code> class, but still nothing, BUT if I import again the exported <code>action</code> method to the <code>Screen</code> class, it works again.</p>\n"},{"tags":["java","tomcat7","connection-pooling"],"answers":[{"tags":[],"owner":{"account_id":2067017,"reputation":310,"user_id":1842348,"accept_rate":100,"display_name":"Sinble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372366026,"creation_date":1372366026,"answer_id":17352869,"question_id":16558097,"body_markdown":"From my research this is related to a stale connection or not closing connections correctly. I have found related ticket [here]. Please review and let me know if that helps. If not can you provide more information of your environment. Tomcat Fullversion? Looks like your using hibernate. What version? Are there any other errors like maybe in your application logging that could be related?\n\n[here]: https://stackoverflow.com/questions/4107275/basics-troubleshooting-hibernate-jdbc-connection-pool-issue\n\n","title":"Warning for Connection Abandoned - With tomcat 7 throwing PooledConnection Exception","body":"<p>From my research this is related to a stale connection or not closing connections correctly. I have found related ticket <a href=\"https://stackoverflow.com/questions/4107275/basics-troubleshooting-hibernate-jdbc-connection-pool-issue\">here</a>. Please review and let me know if that helps. If not can you provide more information of your environment. Tomcat Fullversion? Looks like your using hibernate. What version? Are there any other errors like maybe in your application logging that could be related?</p>\n"}],"owner":{"account_id":2459553,"reputation":511,"user_id":2144000,"accept_rate":27,"display_name":"paras2682"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11990,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1701396566,"creation_date":1368598658,"question_id":16558097,"body_markdown":"I&#39;m using tomcat 7 in my application. When I start the server, it shows me following warning message while startup:-\r\n\r\n    May 15, 2013 11:45:10 AM org.apache.tomcat.jdbc.pool.ConnectionPool abandon\r\n    WARNING: Connection has been abandoned PooledConnection[oracle.jdbc.driver.T4CConnection@d6d9b4]:java.lang.Exception\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.getThreadDump(ConnectionPool.java:1006)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:672)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:607)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:470)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:135)\r\n    \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:112)\r\n    \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:99)\r\n    \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:123)\r\n    \tat org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcServicesImpl.java:253)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:119)\r\n    \tat org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:75)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:159)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)\r\n    \tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:71)\r\n    \tat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2270)\r\n    \tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2266)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1735)\r\n    \tat org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:84)\r\n    \tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)\r\n    \tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)\r\n    \tat org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:268)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:400)\r\n    \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:103)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1475)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1443)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:728)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:449)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:385)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:284)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:619)\r\n\r\nDon&#39;t know what&#39;s going wrong. Pls help me get rid of this warning as its causing other problems.","title":"Warning for Connection Abandoned - With tomcat 7 throwing PooledConnection Exception","body":"<p>I'm using tomcat 7 in my application. When I start the server, it shows me following warning message while startup:-</p>\n\n<pre><code>May 15, 2013 11:45:10 AM org.apache.tomcat.jdbc.pool.ConnectionPool abandon\nWARNING: Connection has been abandoned PooledConnection[oracle.jdbc.driver.T4CConnection@d6d9b4]:java.lang.Exception\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.getThreadDump(ConnectionPool.java:1006)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:672)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:607)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:470)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:135)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:112)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:99)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:123)\n    at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcServicesImpl.java:253)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:119)\n    at org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:75)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:159)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)\n    at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:71)\n    at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2270)\n    at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2266)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1735)\n    at org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:84)\n    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)\n    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)\n    at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:268)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:400)\n    at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:103)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1475)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1443)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:728)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:449)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:385)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:284)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\n</code></pre>\n\n<p>Don't know what's going wrong. Pls help me get rid of this warning as its causing other problems.</p>\n"},{"tags":["java","spring-boot","spring-boot-security"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1701330564,"post_id":77576150,"comment_id":136762899,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1701332131,"post_id":77576150,"comment_id":136763132,"body_markdown":"What&#39;s the benefit of writing &quot;I&#39;m new&quot; in all the questions?","body":"What&#39;s the benefit of writing &quot;I&#39;m new&quot; in all the questions?"},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701346326,"post_id":77576150,"comment_id":136765582,"body_markdown":"im sorry sir but i feel i have summarized my issue correctly. i cannot log in in the above page as no credentials i put work. i tried the default user and auto genetared password also but it didnt work","body":"im sorry sir but i feel i have summarized my issue correctly. i cannot log in in the above page as no credentials i put work. i tried the default user and auto genetared password also but it didnt work"},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701346773,"post_id":77576150,"comment_id":136765680,"body_markdown":"for What&#39;s the benefit of writing &quot;I&#39;m new&quot; in all the questions? . im sorry but i havnt used stackoverflow and i dont know the proper etiquitte","body":"for What&#39;s the benefit of writing &quot;I&#39;m new&quot; in all the questions? . im sorry but i havnt used stackoverflow and i dont know the proper etiquitte"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701347401,"post_id":77576150,"comment_id":136765789,"body_markdown":"You have your own security configuration which will make the spring boot auto configuration back off and so the configuration in `application.properties` is ignored.","body":"You have your own security configuration which will make the spring boot auto configuration back off and so the configuration in <code>application.properties</code> is ignored."},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701348786,"post_id":77576150,"comment_id":136766066,"body_markdown":"ohh ?? okok then where will be the username and password for the default login page.","body":"ohh ?? okok then where will be the username and password for the default login page."}],"answers":[{"tags":[],"owner":{"account_id":27597641,"reputation":11,"user_id":21063532,"display_name":"Mykhailo Ordyntsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701396316,"creation_date":1701325141,"answer_id":77576290,"question_id":77576150,"body_markdown":"You just need determine in your database Entity, that implements user details service like this: (or you can just map your entity on UserDetails later)\r\n\r\n```java\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n\r\n@Entity\r\n@Table(name = &quot;t_accounts&quot;)\r\npublic class Account implements UserDetails {\r\n    @Id\r\n    @Column(nullable = false, name = &quot;account_id&quot;)\r\n    private Long id;\r\n\r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(length = 20)\r\n    private Role role;\r\n\r\n    private boolean isAccountNonLocked;\r\n\r\n    private boolean isEnabled;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return Set.of(role);\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nRole enum:\r\n\r\n```java\r\n\r\npublic enum Role implements GrantedAuthority {\r\n    USER, ADMIN;\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return name();\r\n    }\r\n}\r\n```\r\nAccount repository:\r\n\r\n```java\r\n\r\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\r\n    Optional&lt;Account&gt; findByEmail(String email);\r\n}\r\n```\r\n\r\n\r\nYou must have next Beans: UserDetailsService (you already have this one, but I recommend separate UserService and UserDetailsService) and AuthenticationProvider.\r\n\r\n```java\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(AccountRepository accountRepository) {\r\n        return email -&gt; accountRepository.findByEmail(email)\r\n                .orElseThrow(() -&gt; new ResponseStatusException(\r\n                        HttpStatus.NOT_FOUND,\r\n                        &quot;user with email = %s not found&quot;.formattet(email)\r\n                ));\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userDetailsService);\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder);\r\n        return authenticationProvider;\r\n    }\r\n```\r\n\r\nAnd your configuration will be like:\r\n\r\n```java\r\n\r\n@Configuration\r\n@RequiredArgsConstructor //Generates a constructor with required arguments.\r\npublic class WebSecurityConfig {\r\n\r\n    private final UserDetailsService userDetailsService; //here you can use any bean, that implements UserDetailsService interface\r\n    private final PasswordEncoder passwordEncoder; //here you can use bean, that implements PasswordEncoder interface\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorizeRequests) -&gt;\r\n                        authorizeRequests\r\n                                .requestMatchers(&quot;api/v1/register&quot;).permitAll()\r\n                                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;))\r\n                .httpBasic(Customizer.withDefaults())\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\r\n        DaoAuthenticationProvider provider=new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(userDetailsService);\r\n\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\nAnd of course you must have in your database already defined users:\r\n\r\n```sql\r\n\r\nINSERT INTO t_accounts(account_id, email, password, role, is_account_non_locked, is_enabled)\r\nVALUES\r\n    (1, &#39;someemail@mail.com&#39;, &#39;$2a$10$5d3w9sGDT47bFKKFw9oK8OvbOPH2lJCH2p3caVVwZtUIval2OFys2&#39;, &#39;USER&#39;, true, true),\r\n    (2, &#39;johndoe@gmail.com&#39;, &#39;$2a$10$rVjZv3bOHS7IkhKMsjn9X.boQ7GdGW14S7K4QtoKXKxynKlIlfnRa&#39;, &#39;USER&#39;, true, true);\r\n```\r\n\r\nPasswords are hashed, so in database they store like that, I just hashed &#39;password&#39; value with my BCryptPasswordEncoder. If you don&#39;t want to encrypt your passwords (it&#39;s a bad idea) - you can read about NoOpPasswordEncoder - that is deprecated.\r\n\r\n","title":"How to fix bad credentials error - spring security","body":"<p>You just need determine in your database Entity, that implements user details service like this: (or you can just map your entity on UserDetails later)</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n\n@Entity\n@Table(name = &quot;t_accounts&quot;)\npublic class Account implements UserDetails {\n    @Id\n    @Column(nullable = false, name = &quot;account_id&quot;)\n    private Long id;\n\n    private String email;\n\n    private String password;\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private Role role;\n\n    private boolean isAccountNonLocked;\n\n    private boolean isEnabled;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return Set.of(role);\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n}\n</code></pre>\n<p>Role enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic enum Role implements GrantedAuthority {\n    USER, ADMIN;\n\n    @Override\n    public String getAuthority() {\n        return name();\n    }\n}\n</code></pre>\n<p>Account repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\n    Optional&lt;Account&gt; findByEmail(String email);\n}\n</code></pre>\n<p>You must have next Beans: UserDetailsService (you already have this one, but I recommend separate UserService and UserDetailsService) and AuthenticationProvider.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Bean\n    public UserDetailsService userDetailsService(AccountRepository accountRepository) {\n        return email -&gt; accountRepository.findByEmail(email)\n                .orElseThrow(() -&gt; new ResponseStatusException(\n                        HttpStatus.NOT_FOUND,\n                        &quot;user with email = %s not found&quot;.formattet(email)\n                ));\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(passwordEncoder);\n        return authenticationProvider;\n    }\n</code></pre>\n<p>And your configuration will be like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\n@RequiredArgsConstructor //Generates a constructor with required arguments.\npublic class WebSecurityConfig {\n\n    private final UserDetailsService userDetailsService; //here you can use any bean, that implements UserDetailsService interface\n    private final PasswordEncoder passwordEncoder; //here you can use bean, that implements PasswordEncoder interface\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorizeRequests) -&gt;\n                        authorizeRequests\n                                .requestMatchers(&quot;api/v1/register&quot;).permitAll()\n                                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;))\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\n        DaoAuthenticationProvider provider=new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(userDetailsService);\n\n        return provider;\n    }\n}\n</code></pre>\n<p>And of course you must have in your database already defined users:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>\nINSERT INTO t_accounts(account_id, email, password, role, is_account_non_locked, is_enabled)\nVALUES\n    (1, 'someemail@mail.com', '$2a$10$5d3w9sGDT47bFKKFw9oK8OvbOPH2lJCH2p3caVVwZtUIval2OFys2', 'USER', true, true),\n    (2, 'johndoe@gmail.com', '$2a$10$rVjZv3bOHS7IkhKMsjn9X.boQ7GdGW14S7K4QtoKXKxynKlIlfnRa', 'USER', true, true);\n</code></pre>\n<p>Passwords are hashed, so in database they store like that, I just hashed 'password' value with my BCryptPasswordEncoder. If you don't want to encrypt your passwords (it's a bad idea) - you can read about NoOpPasswordEncoder - that is deprecated.</p>\n"}],"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1701396316,"creation_date":1701322939,"question_id":77576150,"body_markdown":"As soon as I fire up server i&#39;m being redirected to login page, which always gives bad credentials.\r\n\r\nI have tried all that i could understand\r\n\r\n```\r\npackage com.example.anime_website_backend.security.config;\r\n\r\n\r\nimport com.example.anime_website_backend.user.AppUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\npublic class WebSecurityConfig {\r\n\r\n    private final AppUserService appUserService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorizeRequests) -&gt;\r\n                        authorizeRequests\r\n                                .requestMatchers(&quot;api/v1/register&quot;).permitAll()\r\n                                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;))\r\n                .httpBasic(Customizer.withDefaults())\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\r\n        DaoAuthenticationProvider provider=new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(appUserService);\r\n\r\n        return provider;\r\n    }\r\n}\r\n```\r\nThis is my websecurityconfig\r\n```\r\n# JPA configuration\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.show-sql=true\r\n\r\nspring.security.user.name=user\r\nspring.security.user.password=password\r\n\r\n\r\nserver.port=4000\r\n```\r\n\r\nThis is the porperties file.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Aqx50.png &quot;and this is my nightmare&quot;)](https://i.stack.imgur.com/Aqx50.png)\r\n\r\nI hope anyone can tell me where I have gone wrong. I tried searching all places, but spring 6 has deprecated many things and im at a loss. Tried chatgpt etc., but no help.\r\n\r\n```\r\npackage com.example.anime_website_backend.user;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class AppUserService implements UserDetailsService {\r\n\r\n\r\n    private final AppUserRepository appUserRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email)\r\n            throws UsernameNotFoundException{\r\n        AppUser appUser= appUserRepository\r\n                .findByEmail(email)\r\n                .orElseThrow(()-&gt;\r\n                        new UsernameNotFoundException(\r\n                        String\r\n                                .format(AppUserRelatedMessages\r\n                                        .USER_NOT_FOUND\r\n                                        .getMessage(email))\r\n                ));\r\n\r\n        List&lt;GrantedAuthority&gt; authorities=new ArrayList&lt;&gt;();\r\n        for(String role:appUser.getRoles()){\r\n            authorities.add(new SimpleGrantedAuthority(role));\r\n    }\r\n        return new org\r\n                .springframework\r\n                .security\r\n                .core\r\n                .userdetails\r\n                .User(\r\n                    appUser.getEmail(),\r\n                    appUser.getPassword(),\r\n                    authorities\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\nthis is the AppUser class \r\n\r\n\r\n\r\n\r\n\r\n\r\ni get a feeling that nothing from application.properties is being read ad when i comment the ``` spring.security.user.password=password``` the auto generated password isnt appearing in console.","title":"How to fix bad credentials error - spring security","body":"<p>As soon as I fire up server i'm being redirected to login page, which always gives bad credentials.</p>\n<p>I have tried all that i could understand</p>\n<pre><code>package com.example.anime_website_backend.security.config;\n\n\nimport com.example.anime_website_backend.user.AppUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\npublic class WebSecurityConfig {\n\n    private final AppUserService appUserService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorizeRequests) -&gt;\n                        authorizeRequests\n                                .requestMatchers(&quot;api/v1/register&quot;).permitAll()\n                                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;))\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\n        DaoAuthenticationProvider provider=new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(appUserService);\n\n        return provider;\n    }\n}\n</code></pre>\n<p>This is my websecurityconfig</p>\n<pre><code># JPA configuration\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.show-sql=true\n\nspring.security.user.name=user\nspring.security.user.password=password\n\n\nserver.port=4000\n</code></pre>\n<p>This is the porperties file.</p>\n<p><a href=\"https://i.stack.imgur.com/Aqx50.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Aqx50.png\" alt=\"enter image description here\" title=\"and this is my nightmare\" /></a></p>\n<p>I hope anyone can tell me where I have gone wrong. I tried searching all places, but spring 6 has deprecated many things and im at a loss. Tried chatgpt etc., but no help.</p>\n<pre><code>package com.example.anime_website_backend.user;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n@Service\n@AllArgsConstructor\npublic class AppUserService implements UserDetailsService {\n\n\n    private final AppUserRepository appUserRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String email)\n            throws UsernameNotFoundException{\n        AppUser appUser= appUserRepository\n                .findByEmail(email)\n                .orElseThrow(()-&gt;\n                        new UsernameNotFoundException(\n                        String\n                                .format(AppUserRelatedMessages\n                                        .USER_NOT_FOUND\n                                        .getMessage(email))\n                ));\n\n        List&lt;GrantedAuthority&gt; authorities=new ArrayList&lt;&gt;();\n        for(String role:appUser.getRoles()){\n            authorities.add(new SimpleGrantedAuthority(role));\n    }\n        return new org\n                .springframework\n                .security\n                .core\n                .userdetails\n                .User(\n                    appUser.getEmail(),\n                    appUser.getPassword(),\n                    authorities\n        );\n\n    }\n\n}\n\n</code></pre>\n<p>this is the AppUser class</p>\n<p>i get a feeling that nothing from application.properties is being read ad when i comment the <code> spring.security.user.password=password</code> the auto generated password isnt appearing in console.</p>\n"},{"tags":["java","multithreading","wait","notify"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701393545,"creation_date":1701393545,"answer_id":77582529,"question_id":77580308,"body_markdown":"When you write `notify()`, it means _exactly_ the same thing as if you wrote `this.notify()`.\r\n\r\nYour `deposit()` method is an instance method of the `NewProgram` class. When you write `notify()` inside the deposit() method, you are notifying the NewProgram instance on which the deposit() method was called. Inside deposit(), `this` refers to a NewProgram instance.\r\n\r\nYour `run()` method for thread2 is _not_ a NewProgram instance method. It is an instance method of the _anonymous_ class that you defined when you wrote `new Runnable(){ ... }`. Inside the `run()` method, `notify()` (which really means `this.notify()`) is notifying an instance of the anonymous class, and _not_ the NewProgram instance that is wait()ing in the `withdraw()` method in thread 1.","title":"Issues with the placement of notify method","body":"<p>When you write <code>notify()</code>, it means <em>exactly</em> the same thing as if you wrote <code>this.notify()</code>.</p>\n<p>Your <code>deposit()</code> method is an instance method of the <code>NewProgram</code> class. When you write <code>notify()</code> inside the deposit() method, you are notifying the NewProgram instance on which the deposit() method was called. Inside deposit(), <code>this</code> refers to a NewProgram instance.</p>\n<p>Your <code>run()</code> method for thread2 is <em>not</em> a NewProgram instance method. It is an instance method of the <em>anonymous</em> class that you defined when you wrote <code>new Runnable(){ ... }</code>. Inside the <code>run()</code> method, <code>notify()</code> (which really means <code>this.notify()</code>) is notifying an instance of the anonymous class, and <em>not</em> the NewProgram instance that is wait()ing in the <code>withdraw()</code> method in thread 1.</p>\n"}],"owner":{"account_id":29894221,"reputation":13,"user_id":22909616,"display_name":"Anonymous_1354"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77582529,"answer_count":1,"score":0,"last_activity_date":1701394625,"creation_date":1701363617,"question_id":77580308,"body_markdown":"I was trying wait and notify methods. Notify method when put in run method does not work but when the same method is put in some other method it works.\r\n\r\n    public class NewProgram {\r\n    static int balance = 0;\r\n\r\n    public void withdraw(int amount) {\r\n        synchronized(this)\r\n        {\r\n            if(balance== 0) {\r\n            try{\r\n                System.out.println(&quot;Waiting for deposit&quot;);\r\n                wait();\r\n            } catch(InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            }\r\n        }\r\n            balance = balance - amount;\r\n            System.out.println(&quot;Amount Withdrawn Successfully&quot;);   \r\n    }\r\n    public void deposit(int amount) {\r\n\r\n        balance = balance + amount;\r\n        System.out.println(&quot;Money Deposited Successfully&quot;);\r\n\r\n        //  The Notify method here works\r\n        //    synchronized(this) \r\n        //         {\r\n        //             notify();\r\n        //         }}\r\n\r\n    public static void main(String[] args) {\r\n\r\n        NewProgram app = new NewProgram();\r\n        Thread thread1 = new Thread (new Runnable(){\r\n\r\n            @Override\r\n            public void run(){\r\n                app.withdraw(2000);\r\n            }\r\n        }); \r\n        \r\n        thread1.start();\r\n\r\n        Thread thread2 = new Thread(new Runnable(){\r\n\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Thread.sleep(5000);\r\n\r\n                //  The Notify method here doesn&#39;t work\r\n                //     synchronized(this) {\r\n                //     notify();\r\n                // }\r\n                    \r\n                } catch (InterruptedException e) {\r\n                    \r\n                    e.printStackTrace();\r\n                }\r\n                \r\n                app.deposit(3000);\r\n\r\n\r\n                // The notify method from here doesn&#39;t work\r\n                //synchronized(this) {\r\n                //     notify();\r\n                //}            \r\n                System.out.println(&quot;Thread 2 ends&quot;);\r\n            } \r\n        });\r\n        thread2.start();\r\n    }}\r\n\r\n\r\n\r\nSo, here in this program withdraw method when balance is zero waits for deposit method for the money to be deposited. Then the lock on wait is removed and withdraw operations continue. This program runs perfectly when notify method is called in deposit method. But when notify is placed is run method of Thread 2 after calling the deposit method, the lock on wait is not removed, but the next statement **Thread 2 ends** gets executed and the program waits indefinitely. Please help me with this.","title":"Issues with the placement of notify method","body":"<p>I was trying wait and notify methods. Notify method when put in run method does not work but when the same method is put in some other method it works.</p>\n<pre><code>public class NewProgram {\nstatic int balance = 0;\n\npublic void withdraw(int amount) {\n    synchronized(this)\n    {\n        if(balance== 0) {\n        try{\n            System.out.println(&quot;Waiting for deposit&quot;);\n            wait();\n        } catch(InterruptedException e) {\n            e.printStackTrace();\n        }\n        }\n    }\n        balance = balance - amount;\n        System.out.println(&quot;Amount Withdrawn Successfully&quot;);   \n}\npublic void deposit(int amount) {\n\n    balance = balance + amount;\n    System.out.println(&quot;Money Deposited Successfully&quot;);\n\n    //  The Notify method here works\n    //    synchronized(this) \n    //         {\n    //             notify();\n    //         }}\n\npublic static void main(String[] args) {\n\n    NewProgram app = new NewProgram();\n    Thread thread1 = new Thread (new Runnable(){\n\n        @Override\n        public void run(){\n            app.withdraw(2000);\n        }\n    }); \n    \n    thread1.start();\n\n    Thread thread2 = new Thread(new Runnable(){\n\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(5000);\n\n            //  The Notify method here doesn't work\n            //     synchronized(this) {\n            //     notify();\n            // }\n                \n            } catch (InterruptedException e) {\n                \n                e.printStackTrace();\n            }\n            \n            app.deposit(3000);\n\n\n            // The notify method from here doesn't work\n            //synchronized(this) {\n            //     notify();\n            //}            \n            System.out.println(&quot;Thread 2 ends&quot;);\n        } \n    });\n    thread2.start();\n}}\n</code></pre>\n<p>So, here in this program withdraw method when balance is zero waits for deposit method for the money to be deposited. Then the lock on wait is removed and withdraw operations continue. This program runs perfectly when notify method is called in deposit method. But when notify is placed is run method of Thread 2 after calling the deposit method, the lock on wait is not removed, but the next statement <strong>Thread 2 ends</strong> gets executed and the program waits indefinitely. Please help me with this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1701388175,"post_id":77582274,"comment_id":136772880,"body_markdown":"what statement do you expect to be unreachable in myRecord?","body":"what statement do you expect to be unreachable in myRecord?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701392972,"post_id":77582274,"comment_id":136773271,"body_markdown":"@f1sh Likely the implicit `this.i = i` that&#39;s assumed to be there.","body":"@f1sh Likely the implicit <code>this.i = i</code> that&#39;s assumed to be there."}],"answers":[{"tags":[],"owner":{"account_id":28957730,"reputation":49,"user_id":22180933,"display_name":"RonVe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701393685,"creation_date":1701393685,"answer_id":77582533,"question_id":77582274,"body_markdown":"You are right. The object is not yet initialized when you throw your exception.\r\nThere is no warning with the compact constructor throwing values explicitly.\r\n\r\nIn any case, it&#39;s not really visible outside the object as a reference does not yet exist.\r\n\r\n","title":"throw Exception in Record&#39;s compact constructor","body":"<p>You are right. The object is not yet initialized when you throw your exception.\nThere is no warning with the compact constructor throwing values explicitly.</p>\n<p>In any case, it's not really visible outside the object as a reference does not yet exist.</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701394357,"creation_date":1701394357,"answer_id":77582564,"question_id":77582274,"body_markdown":"Because the two are not the same. If we have:\r\n\r\n\r\n```java\r\npublic record Foo(int i) {}\r\n```\r\n\r\nThen the following byte-code is generated for the constructor (using Java 21 to compile):\r\n\r\n```none\r\npublic Foo(int);\r\n  Code:\r\n      0: aload_0\r\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\r\n      4: aload_0\r\n      5: iload_1\r\n      6: putfield      #7                  // Field i:I\r\n      9: return\r\n```\r\n\r\nAs you can see, there&#39;s an assignment to the field `i`. But if we change `Foo` to:\r\n\r\n```java\r\npublic record Foo(int i) {\r\n\r\n    public Foo {\r\n        throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nThen the constructor&#39;s byte-code becomes:\r\n\r\n```none\r\npublic Foo(int);\r\n  Code:\r\n      0: aload_0\r\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\r\n      4: new           #7                  // class java/lang/RuntimeException\r\n      7: dup\r\n      8: invokespecial #9                  // Method java/lang/RuntimeException.&quot;&lt;init&gt;&quot;:()V\r\n    11: athrow\r\n```\r\n\r\nNo attempt is made to assign `i`. It simply throws the exception. So, as a normal class, it would be as if you wrote the following (completely legal) code:\r\n\r\n```java\r\npublic final class Foo {\r\n\r\n    private final int i;\r\n\r\n    public Foo(int i) {\r\n        throw new RuntimeException();\r\n    }\r\n\r\n    // ... hashCode, equals, toString, and getter omitted for brevity ...\r\n}\r\n```\r\n\r\nWhere there&#39;s no `this.i = i` in the constructor, neither before nor after the `throw` statement.","title":"throw Exception in Record&#39;s compact constructor","body":"<p>Because the two are not the same. If we have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(int i) {}\n</code></pre>\n<p>Then the following byte-code is generated for the constructor (using Java 21 to compile):</p>\n<pre class=\"lang-none prettyprint-override\"><code>public Foo(int);\n  Code:\n      0: aload_0\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\n      4: aload_0\n      5: iload_1\n      6: putfield      #7                  // Field i:I\n      9: return\n</code></pre>\n<p>As you can see, there's an assignment to the field <code>i</code>. But if we change <code>Foo</code> to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(int i) {\n\n    public Foo {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>Then the constructor's byte-code becomes:</p>\n<pre class=\"lang-none prettyprint-override\"><code>public Foo(int);\n  Code:\n      0: aload_0\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\n      4: new           #7                  // class java/lang/RuntimeException\n      7: dup\n      8: invokespecial #9                  // Method java/lang/RuntimeException.&quot;&lt;init&gt;&quot;:()V\n    11: athrow\n</code></pre>\n<p>No attempt is made to assign <code>i</code>. It simply throws the exception. So, as a normal class, it would be as if you wrote the following (completely legal) code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Foo {\n\n    private final int i;\n\n    public Foo(int i) {\n        throw new RuntimeException();\n    }\n\n    // ... hashCode, equals, toString, and getter omitted for brevity ...\n}\n</code></pre>\n<p>Where there's no <code>this.i = i</code> in the constructor, neither before nor after the <code>throw</code> statement.</p>\n"}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1701394357,"creation_date":1701387688,"question_id":77582274,"body_markdown":"I have a record class with compact constructor.\r\n\r\n    public record myRecord(int i) {\r\n        public myRecord {\r\n            throw new RuntimeException();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            var v = new myRecord(1);\r\n        }\r\n    }\r\n\r\nMy understand is that it is same as below class. I only need to add logic to compact constructor. Compiler will add in assignment. \r\n\r\n    class testClass{\r\n        int i;\r\n    \r\n        public testClass(int i) {\r\n            throw new RuntimeException();\r\n            this.i = i;\r\n        }\r\n    }\r\n\r\ntestClass will get warning about **Unreachable statement** for this.i = i; But there is no warning on myRecord. How to explain this?","title":"throw Exception in Record&#39;s compact constructor","body":"<p>I have a record class with compact constructor.</p>\n<pre><code>public record myRecord(int i) {\n    public myRecord {\n        throw new RuntimeException();\n    }\n\n    public static void main(String[] args) {\n        var v = new myRecord(1);\n    }\n}\n</code></pre>\n<p>My understand is that it is same as below class. I only need to add logic to compact constructor. Compiler will add in assignment.</p>\n<pre><code>class testClass{\n    int i;\n\n    public testClass(int i) {\n        throw new RuntimeException();\n        this.i = i;\n    }\n}\n</code></pre>\n<p>testClass will get warning about <strong>Unreachable statement</strong> for this.i = i; But there is no warning on myRecord. How to explain this?</p>\n"},{"tags":["java","spring","spring-boot","validation","lombok"],"answers":[{"tags":[],"owner":{"account_id":28753328,"reputation":31,"user_id":22020873,"display_name":"stackoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701394354,"creation_date":1701227217,"answer_id":77568355,"question_id":77567803,"body_markdown":"I valid success when use this test case, you can try my case.\r\n\r\nDTO:\r\n\r\n    @Data\r\n    @AllArgsConstructor(onConstructor_ = {@Valid})\r\n    public class SimpleDTO {\r\n\r\n\r\n      @NotNull(message = &quot;corpId is null&quot;)\r\n      private String corpId;\r\n\r\n      @NotNull(message = &quot;userId is null&quot;)\r\n      private String userId;\r\n\r\n      @NotNull(message = &quot;deptCode is null&quot;)\r\n      private String deptCode;\r\n\r\n      @NotBlank\r\n      private String notBlank;\r\n\r\n    }\r\nTestCase:\r\n\r\n     @SpringBootTest(classes = SimpleDemoApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n     class ValidTest {\r\n\r\n        @Test\r\n        void testValid() {\r\n            Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n            LOG.info(validator.getClass().getName());\r\n            SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\r\n            Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\r\n            if (!CollectionUtils.isEmpty(checkResult)) {\r\n                List&lt;String&gt; resultMsg =checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\r\n                throw new RuntimeException(JSON.toJSONString(resultMsg));\r\n           }\r\n        }\r\n\r\n\r\n        @Autowired\r\n        private Validator validator;\r\n\r\n        private static final Logger LOG = getLogger(ValidTest.class);\r\n\r\n        @Test\r\n        @DisplayName(&quot;display injected validator SpringBean&quot;)\r\n        void displayInjectValidatorBean(){\r\n            LOG.info(validator.getClass().getName());\r\n            SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\r\n            Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\r\n            if (!CollectionUtils.isEmpty(checkResult)) {\r\n                List&lt;String&gt; resultMsg = checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\r\n                throw new RuntimeException(JSON.toJSONString(resultMsg));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nThe injected Validator SpringBean is `org.springframework.validation.beanvalidation.LocalValidatorFactoryBean`. On this bean&#39;s comments documentation, I think this problem may be caused by Spring/hibernate-validator version.\r\n\r\n------- Edit on 12/1 --------\r\n\r\nI think you want to impl this: \r\n\r\n    public class SimpleDTO {\r\n\r\n        private static final Logger LOG = getLogger(SimpleDTO.class);\r\n\r\n\r\n        @NotNull(message = &quot;corpId is null&quot;)\r\n        private String corpId;\r\n\r\n        @NotNull(message = &quot;userId is null&quot;)\r\n        private String userId;\r\n\r\n        @NotNull(message = &quot;deptCode is null&quot;)\r\n        private String deptCode;\r\n\r\n        @NotBlank\r\n        private String notBlank;\r\n\r\n        public SimpleDTO(String corpId, String userId, String deptCode, String notBlank) {\r\n            this.corpId = corpId;\r\n            this.userId = userId;\r\n            this.deptCode = deptCode;\r\n            this.notBlank = notBlank;\r\n            Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n            Set&lt;ConstraintViolation&lt;SimpleDTO&gt;&gt; checkResult = validator.validate(this);\r\n            checkResult.forEach(v -&gt; LOG.error(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage()));\r\n    }\r\n}\r\n\r\nOn this case, it will valid before finish constructor init.You can think of it as a hook, when constructor finish.\r\n\r\nBut on this case, it changed the internal logic of the constructor. It is destructive. \r\n\r\nBecause this may change the constructor by writing directly to the bytecode","title":"Spring @Valid annotation on constructor not working. Best practice to validate Dto","body":"<p>I valid success when use this test case, you can try my case.</p>\n<p>DTO:</p>\n<pre><code>@Data\n@AllArgsConstructor(onConstructor_ = {@Valid})\npublic class SimpleDTO {\n\n\n  @NotNull(message = &quot;corpId is null&quot;)\n  private String corpId;\n\n  @NotNull(message = &quot;userId is null&quot;)\n  private String userId;\n\n  @NotNull(message = &quot;deptCode is null&quot;)\n  private String deptCode;\n\n  @NotBlank\n  private String notBlank;\n\n}\n</code></pre>\n<p>TestCase:</p>\n<pre><code> @SpringBootTest(classes = SimpleDemoApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n class ValidTest {\n\n    @Test\n    void testValid() {\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        LOG.info(validator.getClass().getName());\n        SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\n        Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\n        if (!CollectionUtils.isEmpty(checkResult)) {\n            List&lt;String&gt; resultMsg =checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\n            throw new RuntimeException(JSON.toJSONString(resultMsg));\n       }\n    }\n\n\n    @Autowired\n    private Validator validator;\n\n    private static final Logger LOG = getLogger(ValidTest.class);\n\n    @Test\n    @DisplayName(&quot;display injected validator SpringBean&quot;)\n    void displayInjectValidatorBean(){\n        LOG.info(validator.getClass().getName());\n        SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\n        Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\n        if (!CollectionUtils.isEmpty(checkResult)) {\n            List&lt;String&gt; resultMsg = checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\n            throw new RuntimeException(JSON.toJSONString(resultMsg));\n        }\n    }\n\n}\n</code></pre>\n<p>The injected Validator SpringBean is <code>org.springframework.validation.beanvalidation.LocalValidatorFactoryBean</code>. On this bean's comments documentation, I think this problem may be caused by Spring/hibernate-validator version.</p>\n<p>------- Edit on 12/1 --------</p>\n<p>I think you want to impl this:</p>\n<pre><code>public class SimpleDTO {\n\n    private static final Logger LOG = getLogger(SimpleDTO.class);\n\n\n    @NotNull(message = &quot;corpId is null&quot;)\n    private String corpId;\n\n    @NotNull(message = &quot;userId is null&quot;)\n    private String userId;\n\n    @NotNull(message = &quot;deptCode is null&quot;)\n    private String deptCode;\n\n    @NotBlank\n    private String notBlank;\n\n    public SimpleDTO(String corpId, String userId, String deptCode, String notBlank) {\n        this.corpId = corpId;\n        this.userId = userId;\n        this.deptCode = deptCode;\n        this.notBlank = notBlank;\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        Set&lt;ConstraintViolation&lt;SimpleDTO&gt;&gt; checkResult = validator.validate(this);\n        checkResult.forEach(v -&gt; LOG.error(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage()));\n}\n</code></pre>\n<p>}</p>\n<p>On this case, it will valid before finish constructor init.You can think of it as a hook, when constructor finish.</p>\n<p>But on this case, it changed the internal logic of the constructor. It is destructive.</p>\n<p>Because this may change the constructor by writing directly to the bytecode</p>\n"},{"tags":[],"owner":{"account_id":21862527,"reputation":11,"user_id":16153165,"display_name":"bardelorean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701239791,"creation_date":1701239791,"answer_id":77569028,"question_id":77567803,"body_markdown":"Jakarta Bean Validation operates with a cascading nature. This means that @Valid doesn&#39;t trigger validation within the same object where it&#39;s placed when you create an object. For example, consider we have classes A and B:\r\n\r\n    class A {\r\n        @NotBlank\r\n        private String s;\r\n        private B b;\r\n    \r\n        public A(String s, @Valid B b) {\r\n            this.s = s;\r\n            this.b = b;\r\n        }\r\n    }\r\n    \r\n    class B {\r\n        @NotBlank\r\n        private String s;\r\n        @Min(2)\r\n        private Integer n;\r\n    \r\n        public B(String s, Integer n) {\r\n            this.s = s;\r\n            this.n = n;\r\n        }\r\n    }\r\n\r\nWhen we instantiate class A, it will not check the @NotBlank constraint on the String s, but it will trigger the validation of the fields of the object B b.\r\n\r\nThus, @Valid is designed for cascading validation and is primarily used in controllers, where Spring automatically triggers validation. To validate your DTOs or any objects outside of such frameworks, you typically need to write specific code or manually use a Validator instance.\r\n","title":"Spring @Valid annotation on constructor not working. Best practice to validate Dto","body":"<p>Jakarta Bean Validation operates with a cascading nature. This means that @Valid doesn't trigger validation within the same object where it's placed when you create an object. For example, consider we have classes A and B:</p>\n<pre><code>class A {\n    @NotBlank\n    private String s;\n    private B b;\n\n    public A(String s, @Valid B b) {\n        this.s = s;\n        this.b = b;\n    }\n}\n\nclass B {\n    @NotBlank\n    private String s;\n    @Min(2)\n    private Integer n;\n\n    public B(String s, Integer n) {\n        this.s = s;\n        this.n = n;\n    }\n}\n</code></pre>\n<p>When we instantiate class A, it will not check the @NotBlank constraint on the String s, but it will trigger the validation of the fields of the object B b.</p>\n<p>Thus, @Valid is designed for cascading validation and is primarily used in controllers, where Spring automatically triggers validation. To validate your DTOs or any objects outside of such frameworks, you typically need to write specific code or manually use a Validator instance.</p>\n"}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701394354,"creation_date":1701215248,"question_id":77567803,"body_markdown":"Today I was looking for a way to validate a DTO that I have to return to the FE.\r\nI thought could be a good idea to create the constructor with the `@Valid` annotation from `jakarta.validation` package because documentation says it can be used on constructor.\r\nSo I created my Test with an example DTO and the Lombok annotation on `@AllArgsConstructor` in this way:\r\n\r\n    \r\n    @AllArgsConstructor(onConstructor_ = {@Valid})\r\n    public class TestValidatedDto {\r\n        @NotNull\r\n        private String value1;\r\n        @NotBlank\r\n        private String value2;\r\n        @Min(2)\r\n        @NotNull\r\n        private Integer number;\r\n    }\r\n\r\nThis is the DTO generated by Lombok:\r\n\r\n    public class TestValidatedDto {\r\n        private @NotNull String value1;\r\n        private @NotBlank String value2;\r\n        private @Min(2L) @NotNull Integer number;\r\n    \r\n        public @Valid TestValidatedDto(final String value1, final String value2, final Integer number) {\r\n            this.value1 = value1;\r\n            this.value2 = value2;\r\n            this.number = number;\r\n        }\r\n    }\r\n\r\nAnd I have the `@Valid` annotation on the constructor as I was expecting.\r\nNow I created a Test but the result was not the one I needed.\r\n\r\n    @SpringBootTest\r\n    @Slf4j\r\n    class TestValidationAnnotationApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate Validator validator;\r\n    \r\n    \t@Test\r\n    \tvoid testValidation1(){\r\n    \t\tTestValidatedDto testValidatedDto = new TestValidatedDto(null, &quot;     &quot;, 1);\r\n    \t\tlog.info(&quot;Created dto: [{}]&quot;,testValidatedDto);\r\n    \t\tSet&lt;ConstraintViolation&lt;TestValidatedDto&gt;&gt; violations = validator.validate(testValidatedDto);\r\n    \t\tviolations.forEach(v -&gt; {\r\n    \t\t\tlog.info(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage());\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nI can&#39;t understand why the `@Valid` on the constructor is not working. I know constructor is not a method, but the documentation says it can be used to validate the return from constructor.\r\nDoes anyone know the right working of this annotation?\r\n\r\nhttps://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html\r\n\r\nIf this is not the right way to do it, can someone explain some best practice to validate Dto you need to return in controller in a simple way?\r\n\r\nUPDATE:\r\nI forgot to say, I tried it also with the annotation `@Validated` on the DTO class, but the constructor validation still not work.\r\nThis is the documentation part I want to verify:\r\n\r\n&gt; Generic constraint annotations can target any of the following\r\n&gt; ElementTypes:\r\n&gt; \r\n&gt; FIELD for constrained attributes\r\n&gt; \r\n&gt; METHOD for constrained getters and constrained method return values\r\n&gt; \r\n&gt; CONSTRUCTOR for constrained constructor return values\r\n&gt; \r\n&gt; PARAMETER for constrained method and constructor parameters\r\n&gt; \r\n&gt; TYPE for constrained beans\r\n&gt; \r\n&gt; ANNOTATION_TYPE for constraints composing other constraints\r\n&gt; \r\n&gt; TYPE_USE for container element constraints","title":"Spring @Valid annotation on constructor not working. Best practice to validate Dto","body":"<p>Today I was looking for a way to validate a DTO that I have to return to the FE.\nI thought could be a good idea to create the constructor with the <code>@Valid</code> annotation from <code>jakarta.validation</code> package because documentation says it can be used on constructor.\nSo I created my Test with an example DTO and the Lombok annotation on <code>@AllArgsConstructor</code> in this way:</p>\n<pre><code>@AllArgsConstructor(onConstructor_ = {@Valid})\npublic class TestValidatedDto {\n    @NotNull\n    private String value1;\n    @NotBlank\n    private String value2;\n    @Min(2)\n    @NotNull\n    private Integer number;\n}\n</code></pre>\n<p>This is the DTO generated by Lombok:</p>\n<pre><code>public class TestValidatedDto {\n    private @NotNull String value1;\n    private @NotBlank String value2;\n    private @Min(2L) @NotNull Integer number;\n\n    public @Valid TestValidatedDto(final String value1, final String value2, final Integer number) {\n        this.value1 = value1;\n        this.value2 = value2;\n        this.number = number;\n    }\n}\n</code></pre>\n<p>And I have the <code>@Valid</code> annotation on the constructor as I was expecting.\nNow I created a Test but the result was not the one I needed.</p>\n<pre><code>@SpringBootTest\n@Slf4j\nclass TestValidationAnnotationApplicationTests {\n\n    @Autowired\n    private Validator validator;\n\n    @Test\n    void testValidation1(){\n        TestValidatedDto testValidatedDto = new TestValidatedDto(null, &quot;     &quot;, 1);\n        log.info(&quot;Created dto: [{}]&quot;,testValidatedDto);\n        Set&lt;ConstraintViolation&lt;TestValidatedDto&gt;&gt; violations = validator.validate(testValidatedDto);\n        violations.forEach(v -&gt; {\n            log.info(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage());\n        });\n    }\n\n}\n</code></pre>\n<p>I can't understand why the <code>@Valid</code> on the constructor is not working. I know constructor is not a method, but the documentation says it can be used to validate the return from constructor.\nDoes anyone know the right working of this annotation?</p>\n<p><a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html</a></p>\n<p>If this is not the right way to do it, can someone explain some best practice to validate Dto you need to return in controller in a simple way?</p>\n<p>UPDATE:\nI forgot to say, I tried it also with the annotation <code>@Validated</code> on the DTO class, but the constructor validation still not work.\nThis is the documentation part I want to verify:</p>\n<blockquote>\n<p>Generic constraint annotations can target any of the following\nElementTypes:</p>\n<p>FIELD for constrained attributes</p>\n<p>METHOD for constrained getters and constrained method return values</p>\n<p>CONSTRUCTOR for constrained constructor return values</p>\n<p>PARAMETER for constrained method and constructor parameters</p>\n<p>TYPE for constrained beans</p>\n<p>ANNOTATION_TYPE for constraints composing other constraints</p>\n<p>TYPE_USE for container element constraints</p>\n</blockquote>\n"},{"tags":["java","spring-boot","error-handling","vps"],"answers":[{"tags":[],"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634849997,"creation_date":1634849254,"answer_id":69668595,"question_id":69668380,"body_markdown":"Try adding these dependencies to your **pom.xml** file\r\n        \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-ri&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"servlet.service error, classNotFoundException","body":"<p>Try adding these dependencies to your <strong>pom.xml</strong> file</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-ri&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8948,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701392680,"creation_date":1634848035,"question_id":69668380,"body_markdown":"I am done building the java spring boot app and now I am trying to deploy it to VPS. Everything works except once I access part of web app that is connected to the database I get this error\r\n\r\n&gt; ERROR 7379 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause\r\n\r\n\r\nWhen I put connection url to database to be jdbc:mysql://&quot;ip of server&quot;:3306/kuponi i get this error\r\n\r\n\r\nand when I put connection url to database to be jdbc:mysql://localhost:3306/kuponi","title":"servlet.service error, classNotFoundException","body":"<p>I am done building the java spring boot app and now I am trying to deploy it to VPS. Everything works except once I access part of web app that is connected to the database I get this error</p>\n<blockquote>\n<p>ERROR 7379 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause</p>\n</blockquote>\n<p>When I put connection url to database to be jdbc:mysql://&quot;ip of server&quot;:3306/kuponi i get this error</p>\n<p>and when I put connection url to database to be jdbc:mysql://localhost:3306/kuponi</p>\n"},{"tags":["java","jenkins","jar"],"comments":[{"owner":{"account_id":172287,"reputation":36535,"user_id":400222,"accept_rate":67,"display_name":"StephenKing"},"score":0,"creation_date":1505991963,"post_id":46341886,"comment_id":79644350,"body_markdown":"To where do you want to deploy the war file? There are too many options here.. what about SSH?","body":"To where do you want to deploy the war file? There are too many options here.. what about SSH?"},{"owner":{"account_id":242988,"reputation":13952,"user_id":514878,"accept_rate":100,"display_name":"FluffyKitten"},"score":0,"creation_date":1506040838,"post_id":46341886,"comment_id":79670231,"body_markdown":"Please note that questions asking for general help or recommendations for plugins are off topic &quot;*Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.*&quot;. See: [What topics can I ask about here?](https://stackoverflow.com/help/on-topic)","body":"Please note that questions asking for general help or recommendations for plugins are off topic &quot;<i>Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.</i>&quot;. See: <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505993400,"creation_date":1505993400,"answer_id":46342794,"question_id":46341886,"body_markdown":"Most containers have a directory where you can &quot;place&quot; the war, in order to deploy it.\r\n\r\nTherefore in Jenkins you can set up `Send build artifacts over SSH`\r\n\r\nName: `my_server123` (You must have a configured server)\r\n\r\nTransfers: Transfer set:\r\n\r\n    source files: `path/to/target/*.war\r\n    remove prefix: `path/to/target\r\n\r\nOn configuring the server, you should go in `Configure Jenkins` -&gt; `Configure system` -&gt; `SSH Servers`\r\n\r\nAdd the server you need to deploy to, username (+password)  and Remote directory: `/opt/app/tomcat/webapps` (or whatever)","title":"deploy jar file using Jenkins","body":"<p>Most containers have a directory where you can \"place\" the war, in order to deploy it.</p>\n\n<p>Therefore in Jenkins you can set up <code>Send build artifacts over SSH</code></p>\n\n<p>Name: <code>my_server123</code> (You must have a configured server)</p>\n\n<p>Transfers: Transfer set:</p>\n\n<pre><code>source files: `path/to/target/*.war\nremove prefix: `path/to/target\n</code></pre>\n\n<p>On configuring the server, you should go in <code>Configure Jenkins</code> -> <code>Configure system</code> -> <code>SSH Servers</code></p>\n\n<p>Add the server you need to deploy to, username (+password)  and Remote directory: <code>/opt/app/tomcat/webapps</code> (or whatever)</p>\n"},{"tags":[],"owner":{"account_id":2026634,"reputation":1388,"user_id":1811426,"accept_rate":70,"display_name":"Upen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1506048755,"creation_date":1506038991,"answer_id":46354981,"question_id":46341886,"body_markdown":"Please have a look at [the SCP plugin](https://wiki.jenkins.io/display/JENKINS/SCP+plugin)\r\n\r\n&gt; This plugin uploads build artifacts to repository sites using SCP (SSH) protocol.","title":"deploy jar file using Jenkins","body":"<p>Please have a look at <a href=\"https://wiki.jenkins.io/display/JENKINS/SCP+plugin\" rel=\"nofollow noreferrer\">the SCP plugin</a></p>\n\n<blockquote>\n  <p>This plugin uploads build artifacts to repository sites using SCP (SSH) protocol.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11398084,"reputation":1,"user_id":8355796,"display_name":"Puttaswamy C M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506069571,"creation_date":1506069571,"answer_id":46360384,"question_id":46341886,"body_markdown":"If you want to send artifacts from windows build server to linux machine you can use send artifact over ssh from build section\r\n\r\nIf you want to send artifact from windows build server to windows application server you can use robocopy ","title":"deploy jar file using Jenkins","body":"<p>If you want to send artifacts from windows build server to linux machine you can use send artifact over ssh from build section</p>\n\n<p>If you want to send artifact from windows build server to windows application server you can use robocopy </p>\n"}],"owner":{"account_id":9743826,"reputation":65,"user_id":7224437,"display_name":"Anurag Ghosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12785,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1701392680,"creation_date":1505990673,"question_id":46341886,"body_markdown":"How to deploy a jar file using Jenkins deployment jobs?\r\nIs there any specific plugin available for jar deployments. \r\n\r\nFor War or EAR, we can go to Jenkins_deployment Jobs &gt;&gt; Post-build Actions &gt;&gt; Deploy war/ear to a container - and provide the below info.\r\n\r\n1. WAR/EAR files, \r\n2. Context path,\r\n3. Containers\r\n\r\nCan anyone please help in this?","title":"deploy jar file using Jenkins","body":"<p>How to deploy a jar file using Jenkins deployment jobs?\nIs there any specific plugin available for jar deployments. </p>\n\n<p>For War or EAR, we can go to Jenkins_deployment Jobs >> Post-build Actions >> Deploy war/ear to a container - and provide the below info.</p>\n\n<ol>\n<li>WAR/EAR files, </li>\n<li>Context path,</li>\n<li>Containers</li>\n</ol>\n\n<p>Can anyone please help in this?</p>\n"},{"tags":["java","hibernate","tomcat","guice","guice-persist"],"comments":[{"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"score":0,"creation_date":1453874722,"post_id":14564961,"comment_id":57785819,"body_markdown":"I think the property name should be renamed to `hibernate.connection.autocommit` instead of `hibernate.autocommit` in `hibernate.cfg.xml` per [javadoc C3P0](https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/connection/C3P0ConnectionProvider.html)","body":"I think the property name should be renamed to <code>hibernate.connection.autocommit</code> instead of <code>hibernate.autocommit</code> in <code>hibernate.cfg.xml</code> per <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/connection/C3P0ConnectionProvider.html\" rel=\"nofollow noreferrer\">javadoc C3P0</a>"},{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":0,"creation_date":1464379100,"post_id":14564961,"comment_id":62479140,"body_markdown":"When loading properties from hibernate.cfg.xml if the `hibernate.` is not at the beginning of the property it will prepend it so they certainly have the correct configuration key.  Also, if the property was getting missed entirely it should default to false.","body":"When loading properties from hibernate.cfg.xml if the <code>hibernate.</code> is not at the beginning of the property it will prepend it so they certainly have the correct configuration key.  Also, if the property was getting missed entirely it should default to false."},{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":0,"creation_date":1464381012,"post_id":14564961,"comment_id":62479970,"body_markdown":"I took your cfg.xml file verbatim and created a new project and it worked as expected, it logged true when I used the word &quot;true&quot; and false when I used the word &quot;false&quot;.  So the issue is not in anything you have posted.  Put a breakpoint in `StandardServiceRegistryBuilder.configure(LoadedConfig loadedConfig)` and see what the value of the setting is at that point.  If it is not what you expect, see where it is getting the config from (crawl up the stack trace).","body":"I took your cfg.xml file verbatim and created a new project and it worked as expected, it logged true when I used the word &quot;true&quot; and false when I used the word &quot;false&quot;.  So the issue is not in anything you have posted.  Put a breakpoint in <code>StandardServiceRegistryBuilder.configure(LoadedConfig loadedConfig)</code> and see what the value of the setting is at that point.  If it is not what you expect, see where it is getting the config from (crawl up the stack trace)."}],"answers":[{"tags":[],"owner":{"account_id":3260197,"reputation":190,"user_id":2745910,"display_name":"candy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436514139,"creation_date":1436514139,"answer_id":31335183,"question_id":14564961,"body_markdown":"I also ran into this problem when using hibernate + MySQL. Instead of set false but coming out true, I set it to true but it came out false. I saw your questions but there&#39;s no answer. I want to share how I solve the problem by:\r\n\r\n1 restart the database server.\r\n\r\n2 clean the project. \r\n\r\n3 restart the web server.\r\n\r\nI&#39;ve tries so many ways, actually, I don&#39;t know why this finally worked... Just for sharing.","title":"Hibernate 4 connection.autocommit=false ignored","body":"<p>I also ran into this problem when using hibernate + MySQL. Instead of set false but coming out true, I set it to true but it came out false. I saw your questions but there's no answer. I want to share how I solve the problem by:</p>\n\n<p>1 restart the database server.</p>\n\n<p>2 clean the project. </p>\n\n<p>3 restart the web server.</p>\n\n<p>I've tries so many ways, actually, I don't know why this finally worked... Just for sharing.</p>\n"}],"owner":{"account_id":1584056,"reputation":2191,"user_id":1468803,"accept_rate":57,"display_name":"cporte"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14971,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701392680,"creation_date":1359385844,"question_id":14564961,"body_markdown":"We have an application using Java, hibernate 4, guice 3, guice-persist 3 on tomcat 6\r\n\r\nconnection.autocommit is configured to false in the hibernate.cfg.xml file:\r\n\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/dev&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.autocommit&quot;&gt;false&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.proof_property&quot;&gt;true&lt;/property&gt;\r\n    \r\n        &lt;!-- Disable second-level cache. --&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n        &lt;property name=&quot;cache.use_query_cache&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;cache.use_minimal_puts&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;max_fetch_depth&quot;&gt;3&lt;/property&gt;\r\n    \r\n        &lt;!-- Print SQL to stdout. --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;id.new_generator_mappings&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Drop and then re-create schema on SessionFactory build, for testing. --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \r\n        &lt;!-- Bind the getCurrentSession() method to the thread. --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;!-- configuration pool via c3p0--&gt; \r\n\t\t&lt;property name=&quot;c3p0.initialPoolSize&quot;&gt;0&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.acquire_increment&quot;&gt;1&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.max_size&quot;&gt;32&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.max_statements&quot;&gt;100&lt;/property&gt; \r\n\t\t&lt;property name=&quot;c3p0.min_size&quot;&gt;0&lt;/property&gt; \r\n\t\t&lt;property name=&quot;c3p0.timeout&quot;&gt;600&lt;/property&gt; &lt;!-- seconds --&gt; \r\n\t\t\r\n        &lt;!-- Hibernate XML mapping files --&gt;\r\n        &lt;!-- &lt;mapping resource=&quot;org/MyClass.hbm.xml&quot;/&gt;--&gt;\r\n    \r\n        &lt;!-- Hibernate Annotations (and package-info.java)--&gt;\r\n        &lt;mapping package=&quot;model&quot;/&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n\r\nBut on deployement, the logfile shows that autocommit is set to true:\r\n\r\n    INFO: Starting Servlet Engine: Apache Tomcat/6.0.35\r\n    28 janv. 2013 16:03:01 org.hibernate.annotations.common.Version &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}\r\n    28 janv. 2013 16:03:01 org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {4.1.9.Final}\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration configure\r\n    INFO: HHH000043: Configuring from resource: /hibernate.cfg.xml\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration getConfigurationInputStream\r\n    INFO: HHH000040: Configuration resource: /hibernate.cfg.xml\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration doConfigure\r\n    INFO: HHH000041: Configured SessionFactory: null\r\n    28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.ConnectionProviderInitiator instantiateExplicitConnectionProvider\r\n    INFO: HHH000130: Instantiating explicit connection provider: org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider\r\n    28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\r\n    INFO: HHH010002: C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/dev\r\n    28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\r\n    INFO: HHH000046: Connection properties: {user=root, password=****, autocommit=true, proof_property=true, release_mode=auto}\r\n    28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\r\n    INFO: HHH000006: Autocommit mode: true\r\n    28 janv. 2013 16:03:01 com.mchange.v2.log.MLog &lt;clinit&gt;\r\n    INFO: MLog clients using java 1.4+ standard logging.\r\n    28 janv. 2013 16:03:02 com.mchange.v2.c3p0.C3P0Registry banner\r\n    INFO: Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]\r\n    28 janv. 2013 16:03:02 com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource getPoolManager\r\n    INFO: Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@b6868296 [ connectionPoolDataSource -&gt; com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@8d0e5680 [ acquireIncrement -&gt; 1, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 0, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -&gt; false, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, identityToken -&gt; 1hgeby98szzd5hkbs91s5|a69b6b, idleConnectionTestPeriod -&gt; 0, initialPoolSize -&gt; 0, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 600, maxIdleTimeExcessConnections -&gt; 0, maxPoolSize -&gt; 32, maxStatements -&gt; 100, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 0, nestedDataSource -&gt; com.mchange.v2.c3p0.DriverManagerDataSource@d4b5ff9b [ description -&gt; null, driverClass -&gt; null, factoryClassLocation -&gt; null, identityToken -&gt; 1hgeby98szzd5hkbs91s5|75b3ee, jdbcUrl -&gt; jdbc:mysql://localhost:3306/dev, properties -&gt; {user=******, password=******, autocommit=true, proof_property=true, release_mode=auto} ], preferredTestQuery -&gt; null, propertyCycle -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, usesTraditionalReflectiveProxies -&gt; false; userOverrides: {} ], dataSourceName -&gt; null, factoryClassLocation -&gt; null, identityToken -&gt; 1hgeby98szzd5hkbs91s5|1a9bea3, numHelperThreads -&gt; 3 ]\r\n    28 janv. 2013 16:03:02 org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n    28 janv. 2013 16:03:02 org.hibernate.engine.jdbc.internal.LobCreatorBuilder useContextualLobCreation\r\n    INFO: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n    28 janv. 2013 16:03:02 org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\r\n    INFO: HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory\r\n    28 janv. 2013 16:03:02 org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\r\n    INFO: HHH000397: Using ASTQueryTranslatorFactory\r\n    28 janv. 2013 16:03:02 org.hibernate.tool.hbm2ddl.SchemaExport execute\r\n    INFO: HHH000227: Running hbm2ddl schema export\r\n\r\nWhy hibernate is ignoring the autocommit property? And should we care? (as our tests shown us that an exception in a correctly annoted method does a rollback, so everything seems fine)","title":"Hibernate 4 connection.autocommit=false ignored","body":"<p>We have an application using Java, hibernate 4, guice 3, guice-persist 3 on tomcat 6</p>\n\n<p>connection.autocommit is configured to false in the hibernate.cfg.xml file:</p>\n\n<pre><code>&lt;session-factory&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\n    &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/dev&lt;/property&gt;\n    &lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"connection.password\"&gt;root&lt;/property&gt;\n    &lt;property name=\"connection.autocommit\"&gt;false&lt;/property&gt;\n    &lt;property name=\"connection.proof_property\"&gt;true&lt;/property&gt;\n\n    &lt;!-- Disable second-level cache. --&gt;\n    &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n    &lt;property name=\"cache.use_query_cache\"&gt;false&lt;/property&gt;\n    &lt;property name=\"cache.use_minimal_puts\"&gt;false&lt;/property&gt;\n    &lt;property name=\"max_fetch_depth\"&gt;3&lt;/property&gt;\n\n    &lt;!-- Print SQL to stdout. --&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n    &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n\n    &lt;property name=\"id.new_generator_mappings\"&gt;true&lt;/property&gt;\n\n    &lt;!-- Drop and then re-create schema on SessionFactory build, for testing. --&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n    &lt;!-- Bind the getCurrentSession() method to the thread. --&gt;\n    &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n    &lt;!-- configuration pool via c3p0--&gt; \n    &lt;property name=\"c3p0.initialPoolSize\"&gt;0&lt;/property&gt;\n    &lt;property name=\"c3p0.acquire_increment\"&gt;1&lt;/property&gt;\n    &lt;property name=\"c3p0.max_size\"&gt;32&lt;/property&gt;\n    &lt;property name=\"c3p0.max_statements\"&gt;100&lt;/property&gt; \n    &lt;property name=\"c3p0.min_size\"&gt;0&lt;/property&gt; \n    &lt;property name=\"c3p0.timeout\"&gt;600&lt;/property&gt; &lt;!-- seconds --&gt; \n\n    &lt;!-- Hibernate XML mapping files --&gt;\n    &lt;!-- &lt;mapping resource=\"org/MyClass.hbm.xml\"/&gt;--&gt;\n\n    &lt;!-- Hibernate Annotations (and package-info.java)--&gt;\n    &lt;mapping package=\"model\"/&gt;\n\n&lt;/session-factory&gt;\n</code></pre>\n\n<p>But on deployement, the logfile shows that autocommit is set to true:</p>\n\n<pre><code>INFO: Starting Servlet Engine: Apache Tomcat/6.0.35\n28 janv. 2013 16:03:01 org.hibernate.annotations.common.Version &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}\n28 janv. 2013 16:03:01 org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {4.1.9.Final}\n28 janv. 2013 16:03:01 org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\n28 janv. 2013 16:03:01 org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\n28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration configure\nINFO: HHH000043: Configuring from resource: /hibernate.cfg.xml\n28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration getConfigurationInputStream\nINFO: HHH000040: Configuration resource: /hibernate.cfg.xml\n28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration doConfigure\nINFO: HHH000041: Configured SessionFactory: null\n28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.ConnectionProviderInitiator instantiateExplicitConnectionProvider\nINFO: HHH000130: Instantiating explicit connection provider: org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider\n28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\nINFO: HHH010002: C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/dev\n28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\nINFO: HHH000046: Connection properties: {user=root, password=****, autocommit=true, proof_property=true, release_mode=auto}\n28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\nINFO: HHH000006: Autocommit mode: true\n28 janv. 2013 16:03:01 com.mchange.v2.log.MLog &lt;clinit&gt;\nINFO: MLog clients using java 1.4+ standard logging.\n28 janv. 2013 16:03:02 com.mchange.v2.c3p0.C3P0Registry banner\nINFO: Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]\n28 janv. 2013 16:03:02 com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource getPoolManager\nINFO: Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@b6868296 [ connectionPoolDataSource -&gt; com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@8d0e5680 [ acquireIncrement -&gt; 1, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 0, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -&gt; false, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, identityToken -&gt; 1hgeby98szzd5hkbs91s5|a69b6b, idleConnectionTestPeriod -&gt; 0, initialPoolSize -&gt; 0, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 600, maxIdleTimeExcessConnections -&gt; 0, maxPoolSize -&gt; 32, maxStatements -&gt; 100, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 0, nestedDataSource -&gt; com.mchange.v2.c3p0.DriverManagerDataSource@d4b5ff9b [ description -&gt; null, driverClass -&gt; null, factoryClassLocation -&gt; null, identityToken -&gt; 1hgeby98szzd5hkbs91s5|75b3ee, jdbcUrl -&gt; jdbc:mysql://localhost:3306/dev, properties -&gt; {user=******, password=******, autocommit=true, proof_property=true, release_mode=auto} ], preferredTestQuery -&gt; null, propertyCycle -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, usesTraditionalReflectiveProxies -&gt; false; userOverrides: {} ], dataSourceName -&gt; null, factoryClassLocation -&gt; null, identityToken -&gt; 1hgeby98szzd5hkbs91s5|1a9bea3, numHelperThreads -&gt; 3 ]\n28 janv. 2013 16:03:02 org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n28 janv. 2013 16:03:02 org.hibernate.engine.jdbc.internal.LobCreatorBuilder useContextualLobCreation\nINFO: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n28 janv. 2013 16:03:02 org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\nINFO: HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory\n28 janv. 2013 16:03:02 org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\nINFO: HHH000397: Using ASTQueryTranslatorFactory\n28 janv. 2013 16:03:02 org.hibernate.tool.hbm2ddl.SchemaExport execute\nINFO: HHH000227: Running hbm2ddl schema export\n</code></pre>\n\n<p>Why hibernate is ignoring the autocommit property? And should we care? (as our tests shown us that an exception in a correctly annoted method does a rollback, so everything seems fine)</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1701353169,"post_id":77579068,"comment_id":136766977,"body_markdown":"You really need an explanation why some people prefer to write `new WeightIn(3.65,1.7)` instead of `WeightIn someName = new WeightIn(); someName.setWeight(3.65); someName.setHeight(1.7);`? Are you aware that the latter is not even possible with immutable objects? Did you notice that the OP of the [old question](https://stackoverflow.com/q/18159104/2711488) even managed to make *two* errors in that small piece of code?","body":"You really need an explanation why some people prefer to write <code>new WeightIn(3.65,1.7)</code> instead of <code>WeightIn someName = new WeightIn(); someName.setWeight(3.65); someName.setHeight(1.7);</code>? Are you aware that the latter is not even possible with immutable objects? Did you notice that the OP of the <a href=\"https://stackoverflow.com/q/18159104/2711488\">old question</a> even managed to make <i>two</i> errors in that small piece of code?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1701353262,"post_id":77579068,"comment_id":136766994,"body_markdown":"Also, what if tomorrow you need the constructor to do other stuff after setting values? Are you going to hunt down every call to the default constructor and add whatever it needs to do down there? What if the operations it does are not public?","body":"Also, what if tomorrow you need the constructor to do other stuff after setting values? Are you going to hunt down every call to the default constructor and add whatever it needs to do down there? What if the operations it does are not public?"},{"owner":{"account_id":29908013,"reputation":1,"user_id":22920096,"display_name":"rado_rud"},"score":0,"creation_date":1701354223,"post_id":77579068,"comment_id":136767201,"body_markdown":"I would say all answers are valuable, thanks, all clear now.","body":"I would say all answers are valuable, thanks, all clear now."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701353145,"creation_date":1701353145,"answer_id":77579102,"question_id":77579068,"body_markdown":"First, it&#39;s arguably more elegant to initialize the object in one call instead of creating it and updating it later:\r\n\r\n```java\r\nWeightIn weight1 = new WeightIn(3.65, 1.7);\r\n```\r\n\r\nSecond, it may be useful to have the constructor as the **only** way to initialize an object&#39;s value, allowing you to make it [immutable](https://en.wikipedia.org/wiki/Immutable_object) once created.","title":"What&#39;s the reason to call/create non-default constructor instead of method?","body":"<p>First, it's arguably more elegant to initialize the object in one call instead of creating it and updating it later:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WeightIn weight1 = new WeightIn(3.65, 1.7);\n</code></pre>\n<p>Second, it may be useful to have the constructor as the <strong>only</strong> way to initialize an object's value, allowing you to make it <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable</a> once created.</p>\n"}],"owner":{"account_id":29908013,"reputation":1,"user_id":22920096,"display_name":"rado_rud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701354034,"answer_count":1,"score":-1,"last_activity_date":1701392561,"creation_date":1701352872,"question_id":77579068,"body_markdown":"Since I&#39;m  new in this field,it&#39;s better to learn good habits. I came across an article\r\n[https://stackoverflow.com/questions/18159104/java-error-the-constructor-is-undefined][1] where constructor undefined error appeared. All is clear to me, just why we should call the constructor with parameters and not just the method, like code below(no need to create default constructor)? What&#39;s the advantage here?\r\n\r\n\r\n```java\r\npublic class WeightIn{\r\n  private double weight;\r\n  private double height;\r\n\r\n  public void Setvalues (double weightIn, double heightIn){\r\n    weight = weightIn;\r\n    height = heightIn;\r\n  }\r\n  public void setWeight(double weightIn){//this method is reduntant and not needed\r\n    weight = weightIn;\r\n  }\r\n  public void setHeight(double heightIn){//this method is reduntant and not needed\r\n    height = heightIn;\r\n  }\r\n}\r\n\r\npublic class WeightInApp{\r\n  public static void main (String [] args){\r\n    WeightIn weight1 = new WeightIn();\r\n    WeightIn weight2 = new WeightIn();\r\n    weight1.Setvalues(3.65, 1.7);\r\n    weight2.Setvalues(1.7, 1.7);\r\n  }\r\n}\r\n```\r\n\r\n\r\nI tried to reproduce this error and figured it out myself by learning..:).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18159104/java-error-the-constructor-is-undefined","title":"What&#39;s the reason to call/create non-default constructor instead of method?","body":"<p>Since I'm  new in this field,it's better to learn good habits. I came across an article\n<a href=\"https://stackoverflow.com/questions/18159104/java-error-the-constructor-is-undefined\">Java Error: The constructor is undefined</a> where constructor undefined error appeared. All is clear to me, just why we should call the constructor with parameters and not just the method, like code below(no need to create default constructor)? What's the advantage here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WeightIn{\n  private double weight;\n  private double height;\n\n  public void Setvalues (double weightIn, double heightIn){\n    weight = weightIn;\n    height = heightIn;\n  }\n  public void setWeight(double weightIn){//this method is reduntant and not needed\n    weight = weightIn;\n  }\n  public void setHeight(double heightIn){//this method is reduntant and not needed\n    height = heightIn;\n  }\n}\n\npublic class WeightInApp{\n  public static void main (String [] args){\n    WeightIn weight1 = new WeightIn();\n    WeightIn weight2 = new WeightIn();\n    weight1.Setvalues(3.65, 1.7);\n    weight2.Setvalues(1.7, 1.7);\n  }\n}\n</code></pre>\n<p>I tried to reproduce this error and figured it out myself by learning..:).</p>\n"},{"tags":["java","spring-boot","gradle","sonarqube"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1701393018,"post_id":77582472,"comment_id":136773273,"body_markdown":"_&quot;Incompatible type constraints were ANDed - this should be impossible ...&quot;_  - Looks like you should submit a [bug report](https://community.sonarsource.com/).","body":"<i>&quot;Incompatible type constraints were ANDed - this should be impossible ...&quot;</i>  - Looks like you should submit a <a href=\"https://community.sonarsource.com/\" rel=\"nofollow noreferrer\">bug report</a>."},{"owner":{"account_id":4209539,"reputation":387,"user_id":3447634,"accept_rate":43,"display_name":"GavinF"},"score":0,"creation_date":1701395437,"post_id":77582472,"comment_id":136773474,"body_markdown":"done, hopefully they can advise how to mitigate if it is a bug.","body":"done, hopefully they can advise how to mitigate if it is a bug."}],"owner":{"account_id":4209539,"reputation":387,"user_id":3447634,"accept_rate":43,"display_name":"GavinF"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701391909,"creation_date":1701391909,"question_id":77582472,"body_markdown":"This is a very strange issue, it looks like Sonar which we have integrated into our CI/CD is throwing an exception every other build. NOT every build. But can find no other reports or source that would explain why. Is this a bug in Sonar? OR is it a problem in my code?\r\n\r\n    Analyzing 13059 functions to detect bugs.\r\n    Failed to analyze xxx.xxxx.xxx.SomeService#someMethod(Lroot/to/Class;ILjava/util/concurrent/atomic/AtomicInteger;Ljava/util/Set;Lroot/to/another/class;)Ljava/util/Optional; due to an exception; skipping.\r\n    java.lang.IllegalStateException: Incompatible type constraints were ANDed - this should be impossible because the corresponding paths should be eliminated\r\n    \tat com.sonarsource.A.A.G.C$_B.A(na:874)\r\n    \tat com.sonarsource.A.A.B.F.A(na:2546)\r\n    \tat com.sonarsource.A.A.R.C(na:297)\r\n    \tat com.sonarsource.A.A.V.A(na:3143)\r\n    \tat com.sonarsource.A.A.V.A(na:1340)\r\n    \tat com.sonarsource.A.A.V.A(na:920)\r\n    \tat com.sonarsource.A.A.V.A(na:12)\r\n    \tat com.sonarsource.A.A.V.E(na:2983)\r\n    \tat com.sonarsource.A.A.V.A(na:932)\r\n    \tat com.sonarsource.A.A.V.B(na:3509)\r\n    \tat com.sonarsource.A.A.V.A(na:1908)\r\n    \tat com.sonarsource.A.C.executeChecksOnFunction(na:479)\r\n    \tat com.sonarsource.A.C.executeChecks(na:1032)\r\n    \tat com.sonarsource.A.C.execute(na:3562)\r\n    \tat org.sonar.scanner.sensor.AbstractSensorWrapper.analyse(AbstractSensorWrapper.java:62)\r\n    \tat org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:75)\r\n    \tat org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:51)\r\n    \tat org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:64)\r\n    \tat org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:123)\r\n","title":"Illegal state from Sonar when scanning sprint boot application","body":"<p>This is a very strange issue, it looks like Sonar which we have integrated into our CI/CD is throwing an exception every other build. NOT every build. But can find no other reports or source that would explain why. Is this a bug in Sonar? OR is it a problem in my code?</p>\n<pre><code>Analyzing 13059 functions to detect bugs.\nFailed to analyze xxx.xxxx.xxx.SomeService#someMethod(Lroot/to/Class;ILjava/util/concurrent/atomic/AtomicInteger;Ljava/util/Set;Lroot/to/another/class;)Ljava/util/Optional; due to an exception; skipping.\njava.lang.IllegalStateException: Incompatible type constraints were ANDed - this should be impossible because the corresponding paths should be eliminated\n    at com.sonarsource.A.A.G.C$_B.A(na:874)\n    at com.sonarsource.A.A.B.F.A(na:2546)\n    at com.sonarsource.A.A.R.C(na:297)\n    at com.sonarsource.A.A.V.A(na:3143)\n    at com.sonarsource.A.A.V.A(na:1340)\n    at com.sonarsource.A.A.V.A(na:920)\n    at com.sonarsource.A.A.V.A(na:12)\n    at com.sonarsource.A.A.V.E(na:2983)\n    at com.sonarsource.A.A.V.A(na:932)\n    at com.sonarsource.A.A.V.B(na:3509)\n    at com.sonarsource.A.A.V.A(na:1908)\n    at com.sonarsource.A.C.executeChecksOnFunction(na:479)\n    at com.sonarsource.A.C.executeChecks(na:1032)\n    at com.sonarsource.A.C.execute(na:3562)\n    at org.sonar.scanner.sensor.AbstractSensorWrapper.analyse(AbstractSensorWrapper.java:62)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:75)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:51)\n    at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:64)\n    at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:123)\n</code></pre>\n"},{"tags":["java","macos","macos-mojave"],"answers":[{"tags":[],"owner":{"account_id":6814076,"reputation":12687,"user_id":5295429,"display_name":"Oo.oO"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1552914374,"creation_date":1552908687,"answer_id":55220381,"question_id":55217540,"body_markdown":"I guess, you might give it a try to use Darcula:\r\n\r\nhttps://github.com/Revivius/nb-darcula\r\n\r\nhttps://github.com/bulenkov/Darcula\r\n\r\n    import com.bulenkov.darcula.*;\r\n    ...\r\n    ...\r\n    BasicLookAndFeel darculaLookAndFeel = new DarculaLaf();\r\n    try {\r\n      UIManager.setLookAndFeel(darculaLookAndFeel);\r\n    } catch (UnsupportedLookAndFeelException ex) {\r\n      // ups!\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n---------------------------------------\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b6FqP.png","title":"How to get macOS Mojave Style Dark Mode in Java in a Swing Application?","body":"<p>I guess, you might give it a try to use Darcula:</p>\n\n<p><a href=\"https://github.com/Revivius/nb-darcula\" rel=\"nofollow noreferrer\">https://github.com/Revivius/nb-darcula</a></p>\n\n<p><a href=\"https://github.com/bulenkov/Darcula\" rel=\"nofollow noreferrer\">https://github.com/bulenkov/Darcula</a></p>\n\n<pre><code>import com.bulenkov.darcula.*;\n...\n...\nBasicLookAndFeel darculaLookAndFeel = new DarculaLaf();\ntry {\n  UIManager.setLookAndFeel(darculaLookAndFeel);\n} catch (UnsupportedLookAndFeelException ex) {\n  // ups!\n}\n</code></pre>\n\n<h2><a href=\"https://i.stack.imgur.com/b6FqP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b6FqP.png\" alt=\"enter image description here\"></a></h2>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1701391904,"creation_date":1559881444,"answer_id":56487943,"question_id":55217540,"body_markdown":"Most recently, it seems the only working solution is:\r\n\r\n    java -Dapple.awt.application.appearance=&quot;system&quot; -jar myapp.jar\r\n\r\n... however for some older combinations of OpenJDK + macOS, to get the dark Title Bar, launch with option [`-NSRequiresAquaSystemAppearance False`](https://developer.apple.com/documentation/appkit/nsappearancecustomization/choosing_a_specific_appearance_for_your_macos_app#2993818).  For example:\r\n\r\n    java -jar myapp.jar -NSRequiresAquaSystemAppearance False\r\n           #  (&quot;false&quot;, &quot;no&quot; or &quot;0&quot; will also work)\r\n\r\nThe above techniques can be safely combined for maximum compatibility.\r\n\r\n**Note:** Many solutions recommend editing the `Info.plist` file, but those solutions didn&#39;t work for me.\r\n\r\n**Warning:** Some frameworks [can crash as a result of forcing this](https://bugs.eclipse.org/bugs/show_bug.cgi?id=540357) so use with caution.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XsRnq.png","title":"How to get macOS Mojave Style Dark Mode in Java in a Swing Application?","body":"<p>Most recently, it seems the only working solution is:</p>\n<pre><code>java -Dapple.awt.application.appearance=&quot;system&quot; -jar myapp.jar\n</code></pre>\n<p>... however for some older combinations of OpenJDK + macOS, to get the dark Title Bar, launch with option <a href=\"https://developer.apple.com/documentation/appkit/nsappearancecustomization/choosing_a_specific_appearance_for_your_macos_app#2993818\" rel=\"nofollow noreferrer\"><code>-NSRequiresAquaSystemAppearance False</code></a>.  For example:</p>\n<pre><code>java -jar myapp.jar -NSRequiresAquaSystemAppearance False\n       #  (&quot;false&quot;, &quot;no&quot; or &quot;0&quot; will also work)\n</code></pre>\n<p>The above techniques can be safely combined for maximum compatibility.</p>\n<p><strong>Note:</strong> Many solutions recommend editing the <code>Info.plist</code> file, but those solutions didn't work for me.</p>\n<p><strong>Warning:</strong> Some frameworks <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=540357\" rel=\"nofollow noreferrer\">can crash as a result of forcing this</a> so use with caution.</p>\n<p><a href=\"https://i.stack.imgur.com/XsRnq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XsRnq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1613724115,"creation_date":1610097662,"answer_id":65626335,"question_id":55217540,"body_markdown":"It seems the official solution to get dark mode is to use a system property. From [JDK-8235363](https://bugs.openjdk.java.net/browse/JDK-8235363), this is available from JDK 14 and later:\r\n\r\n&gt; A new system property is added: `&quot;apple.awt.application.appearance&quot;` to set the appearance of the whole java application.\r\n&gt; * If no value is set then light mode will be used\r\n&gt; * if `&quot;system&quot;` value is set then the current appearance of the macOS will be used\r\n&gt; * Other possible values are `&quot;NSAppearanceNameAqua&quot;` (the same as light), or `&quot;NSAppearanceNameDarkAqua&quot;` (requesting dark) See https://developer.apple.com/documentation/appkit/nsappearancenameaqua?language=objc\r\n&gt; * If an incorrect value is set then light mode will be used\r\n\r\nTo get the best user experience, you should probably always use the `system` value, to match the user&#39;s preferred setting:\r\n\r\n    -Dapple.awt.application.appearance=system\r\n\r\nAnd of course test and make sure that you don&#39;t have your self-defined colors that makes text or components invisible or hard to see with this color scheme.\r\n\r\n--- \r\n\r\nPS: If you are also looking for a Swing Look and Feel that matches the native macOS dark mode, have a look at [VAqua](https://violetlib.org/vaqua/darkmode.html). Disclaimer: I&#39;ve never used it in a real application, but it looks extremely nice and uses native rendering to look just like the real thing.","title":"How to get macOS Mojave Style Dark Mode in Java in a Swing Application?","body":"<p>It seems the official solution to get dark mode is to use a system property. From <a href=\"https://bugs.openjdk.java.net/browse/JDK-8235363\" rel=\"noreferrer\">JDK-8235363</a>, this is available from JDK 14 and later:</p>\n<blockquote>\n<p>A new system property is added: <code>&quot;apple.awt.application.appearance&quot;</code> to set the appearance of the whole java application.</p>\n<ul>\n<li>If no value is set then light mode will be used</li>\n<li>if <code>&quot;system&quot;</code> value is set then the current appearance of the macOS will be used</li>\n<li>Other possible values are <code>&quot;NSAppearanceNameAqua&quot;</code> (the same as light), or <code>&quot;NSAppearanceNameDarkAqua&quot;</code> (requesting dark) See <a href=\"https://developer.apple.com/documentation/appkit/nsappearancenameaqua?language=objc\" rel=\"noreferrer\">https://developer.apple.com/documentation/appkit/nsappearancenameaqua?language=objc</a></li>\n<li>If an incorrect value is set then light mode will be used</li>\n</ul>\n</blockquote>\n<p>To get the best user experience, you should probably always use the <code>system</code> value, to match the user's preferred setting:</p>\n<pre><code>-Dapple.awt.application.appearance=system\n</code></pre>\n<p>And of course test and make sure that you don't have your self-defined colors that makes text or components invisible or hard to see with this color scheme.</p>\n<hr />\n<p>PS: If you are also looking for a Swing Look and Feel that matches the native macOS dark mode, have a look at <a href=\"https://violetlib.org/vaqua/darkmode.html\" rel=\"noreferrer\">VAqua</a>. Disclaimer: I've never used it in a real application, but it looks extremely nice and uses native rendering to look just like the real thing.</p>\n"}],"owner":{"account_id":13663733,"reputation":183,"user_id":9858117,"display_name":"Asrar Sunge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4996,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":55220381,"answer_count":3,"score":14,"last_activity_date":1701391904,"creation_date":1552899007,"question_id":55217540,"body_markdown":"I want to know if there is some way to get macOS Mojave style Dark Mode in a swing application in Java?\r\n\r\nI want to get macOS Mojave Style Dark Mode on a JFrame in a Java Swing Application.\r\n\r\nPlease let me know.\r\n\r\nThanks\r\n\r\nAsrar Bashir Sunge","title":"How to get macOS Mojave Style Dark Mode in Java in a Swing Application?","body":"<p>I want to know if there is some way to get macOS Mojave style Dark Mode in a swing application in Java?</p>\n\n<p>I want to get macOS Mojave Style Dark Mode on a JFrame in a Java Swing Application.</p>\n\n<p>Please let me know.</p>\n\n<p>Thanks</p>\n\n<p>Asrar Bashir Sunge</p>\n"},{"tags":["java","spring-boot","kubernetes-secrets","dapr","dapr-sidekick"],"owner":{"account_id":2349939,"reputation":132,"user_id":2059106,"accept_rate":20,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701390583,"creation_date":1701390583,"question_id":77582416,"body_markdown":"I want to use a Java client to retrieve the dapr secrets. but I am getting exceptions while invoking. not sure where to set the `dapr-app-id` to resolve the issue. Help would be appriticated. \r\n\r\nbelow is the java code I am using.\r\n\r\n        String storeName = &quot;local-secret-store&quot;;\r\n        String secretName = &quot;DB_MONGO_URI&quot;;\r\n        DaprClient client = (new DaprClientBuilder()).build();\r\n        Map&lt;String, String&gt; secret = client.getSecret(storeName, secretName).block();\r\n\r\nException:\r\n \r\n\r\n&gt; io.dapr.exceptions.DaprException: UNIMPLEMENTED: HTTP status code 404\r\n&gt; invalid content-type: application/json headers:\r\n&gt; Metadata(:status=404,content-type=application/json,traceparent=00-b05653dd8bdddc976913e70bad7a7a85-3084603c8b1e7803-01,date=Thu,\r\n&gt; 30 Nov 2023 23:19:39 GMT,content-length=118)\r\n&gt; DATA-----------------------------\r\n&gt; {&quot;errorCode&quot;:&quot;ERR_DIRECT_INVOKE&quot;,&quot;message&quot;:&quot;failed getting app id\r\n&gt; either from the URL path or the header dapr-app-id&quot;}\r\n\r\n\r\n","title":"dapr | failed getting app id either from the URL path or the header dapr-app-id","body":"<p>I want to use a Java client to retrieve the dapr secrets. but I am getting exceptions while invoking. not sure where to set the <code>dapr-app-id</code> to resolve the issue. Help would be appriticated.</p>\n<p>below is the java code I am using.</p>\n<pre><code>    String storeName = &quot;local-secret-store&quot;;\n    String secretName = &quot;DB_MONGO_URI&quot;;\n    DaprClient client = (new DaprClientBuilder()).build();\n    Map&lt;String, String&gt; secret = client.getSecret(storeName, secretName).block();\n</code></pre>\n<p>Exception:</p>\n<blockquote>\n<p>io.dapr.exceptions.DaprException: UNIMPLEMENTED: HTTP status code 404\ninvalid content-type: application/json headers:\nMetadata(:status=404,content-type=application/json,traceparent=00-b05653dd8bdddc976913e70bad7a7a85-3084603c8b1e7803-01,date=Thu,\n30 Nov 2023 23:19:39 GMT,content-length=118)\nDATA-----------------------------\n{&quot;errorCode&quot;:&quot;ERR_DIRECT_INVOKE&quot;,&quot;message&quot;:&quot;failed getting app id\neither from the URL path or the header dapr-app-id&quot;}</p>\n</blockquote>\n"},{"tags":["java","biginteger"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1701366159,"post_id":77580626,"comment_id":136769626,"body_markdown":"Given that a BigInteger represents an *integer* what would you expect it to return? What&#39;s the inverse of 2 for example, given that you can&#39;t represent 1/2 as a BigInteger?","body":"Given that a BigInteger represents an <i>integer</i> what would you expect it to return? What&#39;s the inverse of 2 for example, given that you can&#39;t represent 1/2 as a BigInteger?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1701366233,"post_id":77580626,"comment_id":136769639,"body_markdown":"Isn&#39;t that exactly what `modInverse()` is doing? Why do you say you don&#39;t need &quot;mod m&quot; when in your formula you have &quot;mod p&quot;?","body":"Isn&#39;t that exactly what <code>modInverse()</code> is doing? Why do you say you don&#39;t need &quot;mod m&quot; when in your formula you have &quot;mod p&quot;?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":3,"creation_date":1701366271,"post_id":77580626,"comment_id":136769649,"body_markdown":"You need the inverse modulo `p` then. &quot;mod p&quot; after a mathematical statement does not mean &quot;apply mod p as the last step&quot;, the whole expression needs to be interpreted modulo p otherwise it will be inconsistent.","body":"You need the inverse modulo <code>p</code> then. &quot;mod p&quot; after a mathematical statement does not mean &quot;apply mod p as the last step&quot;, the whole expression needs to be interpreted modulo p otherwise it will be inconsistent."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1701369461,"post_id":77580626,"comment_id":136770219,"body_markdown":"Also, such jobs tend to be crypto related. @PrettyCoder - that `mod p` thing is not a for funsies afterthought. The operation is going to require a few years worth of CPU power without it, i.e. you __cant split that `mod p` thing off and save it until the end__. I&#39;m not exaggerating with &#39;a few years&#39; - it&#39;s probably more like &#39;heat death of the universe&#39;.","body":"Also, such jobs tend to be crypto related. @PrettyCoder - that <code>mod p</code> thing is not a for funsies afterthought. The operation is going to require a few years worth of CPU power without it, i.e. you <b>cant split that <code>mod p</code> thing off and save it until the end</b>. I&#39;m not exaggerating with &#39;a few years&#39; - it&#39;s probably more like &#39;heat death of the universe&#39;."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701378836,"post_id":77580626,"comment_id":136771771,"body_markdown":"aside from the issue of a possible `OutOfMemoryError`.","body":"aside from the issue of a possible <code>OutOfMemoryError</code>."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701381288,"post_id":77580626,"comment_id":136772154,"body_markdown":"I found some basic info on modular inverse, if anyone wants to read up: https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/modular-inverses","body":"I found some basic info on modular inverse, if anyone wants to read up: <a href=\"https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/modular-inverses\" rel=\"nofollow noreferrer\">khanacademy.org/computing/computer-science/cryptography/&hellip;</a>"}],"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701390502,"creation_date":1701366061,"question_id":77580626,"body_markdown":"How do I get inverted BigInteger in Java?\r\nThere is a &quot;**modInverse**&quot; method, but I do not need &quot;mod m&quot;.\r\n\r\nI need to perform next operation: *M = b * (a^x)^-1 mod p*, so I firstly need to obtain *(a^x)^-1* and after that, multiply the result by *b* and modulus *p*.","title":"Finding modular inverse of a BigInteger","body":"<p>How do I get inverted BigInteger in Java?\nThere is a &quot;<strong>modInverse</strong>&quot; method, but I do not need &quot;mod m&quot;.</p>\n<p>I need to perform next operation: <em>M = b * (a^x)^-1 mod p</em>, so I firstly need to obtain <em>(a^x)^-1</em> and after that, multiply the result by <em>b</em> and modulus <em>p</em>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1701367577,"post_id":77580720,"comment_id":136769867,"body_markdown":"A classpath problem? Hard to say since there’s no info about how you’re compiling, project layout, etc.","body":"A classpath problem? Hard to say since there’s no info about how you’re compiling, project layout, etc."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1701367612,"post_id":77580720,"comment_id":136769870,"body_markdown":"Stack traces should be formatted as plain text. Expository text should not be quoted unless it’s a quote.","body":"Stack traces should be formatted as plain text. Expository text should not be quoted unless it’s a quote."},{"owner":{"account_id":30033618,"reputation":1,"user_id":23016158,"display_name":"Das Ziel"},"score":0,"creation_date":1701368086,"post_id":77580720,"comment_id":136769939,"body_markdown":"@DaveNewton i tried both ways, from eclipse and also from command prompt. When i tried with echo $CLASSPATH - this is what i get in my terminal. .:/Volumes/NO NAME/Java/Lessons/Lessons/src","body":"@DaveNewton i tried both ways, from eclipse and also from command prompt. When i tried with echo $CLASSPATH - this is what i get in my terminal. .:/Volumes/NO NAME/Java/Lessons/Lessons/src"},{"owner":{"account_id":30033618,"reputation":1,"user_id":23016158,"display_name":"Das Ziel"},"score":0,"creation_date":1701378101,"post_id":77580720,"comment_id":136771656,"body_markdown":"@DaveNewton yes it was classpath issue, added the apache pdfbox jar file into the classpath and issue got resolved. Thanks a lot for the hint.","body":"@DaveNewton yes it was classpath issue, added the apache pdfbox jar file into the classpath and issue got resolved. Thanks a lot for the hint."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1701482382,"post_id":77580720,"comment_id":136785026,"body_markdown":"Glad you worked it out &#128077;&#127995;","body":"Glad you worked it out 👍🏻"}],"owner":{"account_id":30033618,"reputation":1,"user_id":23016158,"display_name":"Das Ziel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701390388,"creation_date":1701367218,"question_id":77580720,"body_markdown":" I am new to this moudule of extracting text from PDF using java, i used PDFBOX libraries for the same. Below is the sample code. While compiling i get the below mentioned code. Can someone please share your view what could be wrong.\r\n Version used :\r\n **************\r\n\r\n Java :\r\n*****\r\n\r\n java 21.0.1 2023-10-17 LTS\r\n Java(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)\r\n Java HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)\r\n\r\n Eclipse : Version: 2023-09 (4.29.0)\r\n\r\n *******\r\n PDF BOX Library Version :\r\n *************************\r\n\r\n 2.0.30\r\n\r\n Note : The JAR files i kept in different location and not inside the src folder.\r\n\r\n Code Used :\r\n **********\r\n\r\n\r\n\r\n\r\n    import java.io.File; \r\n\r\n    import java.io.IOException; \r\n\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n\r\n    import org.apache.pdfbox.text.PDFTextStripper;\r\n\r\n    import org.apache.pdfbox.text.PDFTextStripperByArea;\r\n\r\n    public class PDFTextExtractor {\r\n\r\n        public static void main(String[] args) {\r\n\r\n    \t     System.out.println(&quot;test&quot;);\r\n\r\n           File file = new File(&quot;local pdf path&quot;)\r\n\r\n             try {\r\n\r\n                PDDocument document = PDDocument.load(file);\r\n\r\n                PDFTextStripper pdfStripper = new PDFTextStripper();\r\n\r\n                String text = pdfStripper.getText(document);\r\n\r\n                System.out.println(text);\r\n\r\n                document.close();\r\n\r\n            } catch (IOException e) {\r\n\r\n                e.printStackTrace();\r\n\r\n            }\r\n\r\n        \r\n\r\n        }\r\n\r\n   \r\n\r\n\r\nError While compilation :\r\n\r\n     ***************************\r\n     PDFTextExtractor.java:8: error: package org.apache.pdfbox.pdmodel does not exist\r\n     import org.apache.pdfbox.pdmodel.PDDocument;\r\n                                     ^\r\n     PDFTextExtractor.java:9: error: package org.apache.pdfbox.text does not exist\r\n     import org.apache.pdfbox.text.PDFTextStripper;\r\n                                  ^\r\n     PDFTextExtractor.java:10: error: package org.apache.pdfbox.text does not exist\r\n     import org.apache.pdfbox.text.PDFTextStripperByArea;\r\n                                  ^\r\n     PDFTextExtractor.java:35: error: cannot find symbol\r\n     PDDocument document = PDDocument.load(file);\r\n                 ^\r\n     symbol:   class PDDocument\r\n     location: class PDFTextExtractor\r\n     PDFTextExtractor.java:35: error: cannot find symbol\r\n     PDDocument document = PDDocument.load(file);\r\n                                       ^\r\n     symbol:   variable PDDocument\r\n     location: class PDFTextExtractor\r\n     PDFTextExtractor.java:36: error: cannot find symbol\r\n     PDFTextStripper pdfStripper = new PDFTextStripper();\r\n                 ^\r\n     symbol:   class PDFTextStripper\r\n     location: class PDFTextExtractor\r\n     PDFTextExtractor.java:36: error: cannot find symbol\r\n     PDFTextStripper pdfStripper = new PDFTextStripper();\r\n                                                   ^\r\n     symbol:   class PDFTextStripper\r\n     location: class PDFTextExtractor\r\n     \r\n     \r\n\r\n \r\n I tried the above and getting the above mentioned error.","title":"Error while Compiling code to Extract text from PDF using Java","body":"<p>I am new to this moudule of extracting text from PDF using java, i used PDFBOX libraries for the same. Below is the sample code. While compiling i get the below mentioned code. Can someone please share your view what could be wrong.\nVersion used :</p>\n<hr />\n<p>Java :</p>\n<hr />\n<p>java 21.0.1 2023-10-17 LTS\nJava(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)\nJava HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)</p>\n<p>Eclipse : Version: 2023-09 (4.29.0)</p>\n<hr />\n<p>PDF BOX Library Version :</p>\n<hr />\n<p>2.0.30</p>\n<p>Note : The JAR files i kept in different location and not inside the src folder.</p>\n<p>Code Used :</p>\n<hr />\n<pre><code>import java.io.File; \n\nimport java.io.IOException; \n\nimport org.apache.pdfbox.pdmodel.PDDocument;\n\nimport org.apache.pdfbox.text.PDFTextStripper;\n\nimport org.apache.pdfbox.text.PDFTextStripperByArea;\n\npublic class PDFTextExtractor {\n\n    public static void main(String[] args) {\n\n         System.out.println(&quot;test&quot;);\n\n       File file = new File(&quot;local pdf path&quot;)\n\n         try {\n\n            PDDocument document = PDDocument.load(file);\n\n            PDFTextStripper pdfStripper = new PDFTextStripper();\n\n            String text = pdfStripper.getText(document);\n\n            System.out.println(text);\n\n            document.close();\n\n        } catch (IOException e) {\n\n            e.printStackTrace();\n\n        }\n\n    \n\n    }\n</code></pre>\n<p>Error While compilation :</p>\n<pre><code> ***************************\n PDFTextExtractor.java:8: error: package org.apache.pdfbox.pdmodel does not exist\n import org.apache.pdfbox.pdmodel.PDDocument;\n                                 ^\n PDFTextExtractor.java:9: error: package org.apache.pdfbox.text does not exist\n import org.apache.pdfbox.text.PDFTextStripper;\n                              ^\n PDFTextExtractor.java:10: error: package org.apache.pdfbox.text does not exist\n import org.apache.pdfbox.text.PDFTextStripperByArea;\n                              ^\n PDFTextExtractor.java:35: error: cannot find symbol\n PDDocument document = PDDocument.load(file);\n             ^\n symbol:   class PDDocument\n location: class PDFTextExtractor\n PDFTextExtractor.java:35: error: cannot find symbol\n PDDocument document = PDDocument.load(file);\n                                   ^\n symbol:   variable PDDocument\n location: class PDFTextExtractor\n PDFTextExtractor.java:36: error: cannot find symbol\n PDFTextStripper pdfStripper = new PDFTextStripper();\n             ^\n symbol:   class PDFTextStripper\n location: class PDFTextExtractor\n PDFTextExtractor.java:36: error: cannot find symbol\n PDFTextStripper pdfStripper = new PDFTextStripper();\n                                               ^\n symbol:   class PDFTextStripper\n location: class PDFTextExtractor\n \n \n</code></pre>\n<p>I tried the above and getting the above mentioned error.</p>\n"},{"tags":["java","excel","jxl"],"answers":[{"tags":[],"owner":{"account_id":2810937,"reputation":109,"user_id":2417199,"display_name":"Sangamesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373029022,"creation_date":1373029022,"answer_id":17489480,"question_id":17481940,"body_markdown":"After doing some rnd i got the solution,If it is empty cell will get the 0 or null value from jxl API.\r\nAs in my code i was looking for empty string\r\n   \r\n\r\n     if(strquantity.equals(&quot;&quot;)){\r\n           quantity = 0;\r\n        }\r\n\r\nnow the code changed to below one \r\n\r\n\r\n  \r\n\r\n    if(strquantity.equals(null) || strquantity.equals(&quot;0&quot;)){\r\n          quantity = 0;\r\n       }\r\n\r\n","title":"Workbook library does not read the cell value if the cell is empty","body":"<p>After doing some rnd i got the solution,If it is empty cell will get the 0 or null value from jxl API.\nAs in my code i was looking for empty string</p>\n\n<pre><code> if(strquantity.equals(\"\")){\n       quantity = 0;\n    }\n</code></pre>\n\n<p>now the code changed to below one </p>\n\n<pre><code>if(strquantity.equals(null) || strquantity.equals(\"0\")){\n      quantity = 0;\n   }\n</code></pre>\n"}],"owner":{"account_id":2810937,"reputation":109,"user_id":2417199,"display_name":"Sangamesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8738,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1701388875,"creation_date":1373003593,"question_id":17481940,"body_markdown":"Hi I am reading Excel file from java using jxl workbook library.Below is the code.\r\n\r\n    Workbook wb = Workbook.getWorkbook(new File(destFile));\r\n    \r\n    String line = &quot;&quot;;                   // available\r\n    for (int sheetNo = 0; sheetNo &lt; wb.getNumberOfSheets(); sheetNo++) {\r\n      \r\n      Sheet sheet = wb.getSheet(sheetNo);\r\n      System.out.println(&quot;Sheet Name is:\\t&quot; + sheet.getName());\r\n      if(sheet.getName().trim().equals(&quot;Store List&quot;)){\r\n        int columns = sheet.getColumns();\r\n        int rows = sheet.getRows();\r\n        String data;\r\n    \r\n        for (int row = 0; row &lt; rows; row++) {      \r\n          for (int col = 1; col &lt; columns; col++) {\r\n            data = sheet.getCell(col, row).getContents();\r\n            line = line + data + &quot;#&quot;;\r\n          }\r\n           line += &quot;#&amp;#&quot;;\r\n        }\r\n        System.out.println(&quot;Entire line is&quot; + line);\r\n      }\r\n    }\r\n\r\nThe above code reads row&amp;column data from the excel file and passes it to the service method for further processing.\r\n\r\nWhen I traverse it line-by-line for the empty cell, the Java code throws `IndexOutOfBoundException`. Please find the java code below which throws exception.\r\n\r\n    for(int elementCount=4;elementCount&lt;elements.length;elementCount++) {\r\n      String strquantity =      rowValues[elementCount];\r\n      int quantity=0;\r\n      if(strquantity.equals(&quot;&quot;)){\r\n        quantity = 0;\r\n      } else {\r\n        quantity = Integer.parseInt(strquantity);\r\n        System.out.println(&quot;Quantity value is:\\t&quot; + quantity);\r\n      }\r\n    }\r\n\r\nAs you the above code exception is thrown at line 2.\r\n\r\nI believe that cause is due to workbook library.\r\n","title":"Workbook library does not read the cell value if the cell is empty","body":"<p>Hi I am reading Excel file from java using jxl workbook library.Below is the code.</p>\n\n<pre><code>Workbook wb = Workbook.getWorkbook(new File(destFile));\n\nString line = \"\";                   // available\nfor (int sheetNo = 0; sheetNo &lt; wb.getNumberOfSheets(); sheetNo++) {\n\n  Sheet sheet = wb.getSheet(sheetNo);\n  System.out.println(\"Sheet Name is:\\t\" + sheet.getName());\n  if(sheet.getName().trim().equals(\"Store List\")){\n    int columns = sheet.getColumns();\n    int rows = sheet.getRows();\n    String data;\n\n    for (int row = 0; row &lt; rows; row++) {      \n      for (int col = 1; col &lt; columns; col++) {\n        data = sheet.getCell(col, row).getContents();\n        line = line + data + \"#\";\n      }\n       line += \"#&amp;#\";\n    }\n    System.out.println(\"Entire line is\" + line);\n  }\n}\n</code></pre>\n\n<p>The above code reads row&amp;column data from the excel file and passes it to the service method for further processing.</p>\n\n<p>When I traverse it line-by-line for the empty cell, the Java code throws <code>IndexOutOfBoundException</code>. Please find the java code below which throws exception.</p>\n\n<pre><code>for(int elementCount=4;elementCount&lt;elements.length;elementCount++) {\n  String strquantity =      rowValues[elementCount];\n  int quantity=0;\n  if(strquantity.equals(\"\")){\n    quantity = 0;\n  } else {\n    quantity = Integer.parseInt(strquantity);\n    System.out.println(\"Quantity value is:\\t\" + quantity);\n  }\n}\n</code></pre>\n\n<p>As you the above code exception is thrown at line 2.</p>\n\n<p>I believe that cause is due to workbook library.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":469619,"reputation":22454,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1371452846,"post_id":17114196,"comment_id":24809983,"body_markdown":"possible duplicate of [How to get .jasper file from .jrxml](http://stackoverflow.com/questions/16456033/how-to-get-jasper-file-from-jrxml)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16456033/how-to-get-jasper-file-from-jrxml\">How to get .jasper file from .jrxml</a>"}],"answers":[{"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371232165,"creation_date":1371232165,"answer_id":17114427,"question_id":17114196,"body_markdown":"[Commons Logging][1] needs to be added to the classpath.  If you&#39;re working in a regular Netbeans project (and not in a Maven project in Netbeans) check out [this SO question][2] or [this article][3] that explain how to add libraries to a project.\r\n\r\nIf on the other hand you&#39;re working on a Maven project using Netbeans, Commons logging has to be added as a dependency.  How that&#39;s done can be found [here][4] - basically it&#39;s a rightclick on the libraries node in the project tree, add dependency, enter artefact details or use the built-in search assistant to locate the correct artefact in the Maven repository.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-logging/\r\n  [2]: https://stackoverflow.com/questions/5893349/how-to-add-library-files-in-netbeans\r\n  [3]: http://www.developer.nokia.com/Community/Wiki/Adding_a_new_library_to_NetBeans\r\n  [4]: http://solitarygeek.com/java/netbeans-and-maven-a-quick-start-guide","title":"How to avoid getting java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory","body":"<p><a href=\"http://commons.apache.org/proper/commons-logging/\" rel=\"nofollow noreferrer\">Commons Logging</a> needs to be added to the classpath.  If you're working in a regular Netbeans project (and not in a Maven project in Netbeans) check out <a href=\"https://stackoverflow.com/questions/5893349/how-to-add-library-files-in-netbeans\">this SO question</a> or <a href=\"http://www.developer.nokia.com/Community/Wiki/Adding_a_new_library_to_NetBeans\" rel=\"nofollow noreferrer\">this article</a> that explain how to add libraries to a project.</p>\n\n<p>If on the other hand you're working on a Maven project using Netbeans, Commons logging has to be added as a dependency.  How that's done can be found <a href=\"http://solitarygeek.com/java/netbeans-and-maven-a-quick-start-guide\" rel=\"nofollow noreferrer\">here</a> - basically it's a rightclick on the libraries node in the project tree, add dependency, enter artefact details or use the built-in search assistant to locate the correct artefact in the Maven repository.</p>\n"}],"owner":{"account_id":2211113,"reputation":489,"user_id":1952941,"accept_rate":30,"display_name":"Husain Sanwerwala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701388875,"creation_date":1371231341,"question_id":17114196,"body_markdown":"I have a *NetBeans* project in which I want to design jasper report, when I fill report via *`JasperFillManager.fillReport`* then I found an error message. \r\n\r\nHow can I resolve this?\r\n\r\nI&#39;ve used *iReport 5.0.0* and *JasperReports library 5.1.0*.\r\n\r\nmy code is described below\r\n\r\n    try {\r\n        String reportName = &quot;./rptJobList.jasper&quot;;\r\n        InputStream is = new FileInputStream(reportName);\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/js001?user=root&amp;password=admin&quot;);\r\n        JasperPrint jasperPrint = JasperFillManager.fillReport(is, null, con);\r\n        JasperViewer jv = new JasperViewer(jasperPrint);\r\n        jv.setVisible(true);\r\n    } catch (Exception ex) {\r\n    }\r\n\r\nThe exception is:\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/apache/commons/logging/LogFactory \tat\r\n&gt; net.sf.jasperreports.engine.util.JRLoader.&lt;clinit&gt;(JRLoader.java:68)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.JRPropertiesUtil.loadProperties(JRPropertiesUtil.java:99)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.DefaultJasperReportsContext.initProperties(DefaultJasperReportsContext.java:94)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.DefaultJasperReportsContext.&lt;init&gt;(DefaultJasperReportsContext.java:71)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.DefaultJasperReportsContext.&lt;clinit&gt;(DefaultJasperReportsContext.java:59)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.JasperFillManager.getDefaultInstance(JasperFillManager.java:85)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:824)\r\n&gt; \tat job.NewClass.jButton2ActionPerformed(NewClass.java:64) \tat\r\n&gt; job.NewClass.access$000(NewClass.java:21) \tat\r\n&gt; job.NewClass$1.actionPerformed(NewClass.java:42) \tat\r\n&gt; javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\r\n&gt; \tat\r\n&gt; javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\r\n&gt; \tat\r\n&gt; javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\r\n&gt; \tat\r\n&gt; javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\r\n&gt; \tat\r\n&gt; javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\r\n&gt; \tat java.awt.Component.processMouseEvent(Component.java:6134) \tat\r\n&gt; javax.swing.JComponent.processMouseEvent(JComponent.java:3265) \tat\r\n&gt; java.awt.Component.processEvent(Component.java:5899) \tat\r\n&gt; java.awt.Container.processEvent(Container.java:2023) \tat\r\n&gt; java.awt.Component.dispatchEventImpl(Component.java:4501) \tat\r\n&gt; java.awt.Container.dispatchEventImpl(Container.java:2081) \tat\r\n&gt; java.awt.Component.dispatchEvent(Component.java:4331) \tat\r\n&gt; java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4301)\r\n&gt; \tat\r\n&gt; java.awt.LightweightDispatcher.processMouseEvent(Container.java:3965)\r\n&gt; \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:3895)\r\n&gt; \tat java.awt.Container.dispatchEventImpl(Container.java:2067) \tat\r\n&gt; java.awt.Window.dispatchEventImpl(Window.java:2458) \tat\r\n&gt; java.awt.Component.dispatchEvent(Component.java:4331) \tat\r\n&gt; java.awt.EventQueue.dispatchEvent(EventQueue.java:599) \tat\r\n&gt; java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\r\n&gt; \tat\r\n&gt; java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\r\n&gt; \tat\r\n&gt; java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\r\n&gt; \tat\r\n&gt; java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\r\n&gt; \tat\r\n&gt; java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\r\n&gt; \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\r\n&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; org.apache.commons.logging.LogFactory \tat\r\n&gt; java.net.URLClassLoader$1.run(URLClassLoader.java:200) \tat\r\n&gt; java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:188) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:307) \tat\r\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:252) \tat\r\n&gt; java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) \t... 35\r\n&gt; more","title":"How to avoid getting java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory","body":"<p>I have a <em>NetBeans</em> project in which I want to design jasper report, when I fill report via <em><code>JasperFillManager.fillReport</code></em> then I found an error message. </p>\n\n<p>How can I resolve this?</p>\n\n<p>I've used <em>iReport 5.0.0</em> and <em>JasperReports library 5.1.0</em>.</p>\n\n<p>my code is described below</p>\n\n<pre><code>try {\n    String reportName = \"./rptJobList.jasper\";\n    InputStream is = new FileInputStream(reportName);\n    Class.forName(\"com.mysql.jdbc.Driver\");\n    Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/js001?user=root&amp;password=admin\");\n    JasperPrint jasperPrint = JasperFillManager.fillReport(is, null, con);\n    JasperViewer jv = new JasperViewer(jasperPrint);\n    jv.setVisible(true);\n} catch (Exception ex) {\n}\n</code></pre>\n\n<p>The exception is:</p>\n\n<blockquote>\n  <p>Exception in thread \"AWT-EventQueue-0\" java.lang.NoClassDefFoundError:\n  org/apache/commons/logging/LogFactory     at\n  net.sf.jasperreports.engine.util.JRLoader.(JRLoader.java:68)\n    at\n  net.sf.jasperreports.engine.JRPropertiesUtil.loadProperties(JRPropertiesUtil.java:99)\n    at\n  net.sf.jasperreports.engine.DefaultJasperReportsContext.initProperties(DefaultJasperReportsContext.java:94)\n    at\n  net.sf.jasperreports.engine.DefaultJasperReportsContext.(DefaultJasperReportsContext.java:71)\n    at\n  net.sf.jasperreports.engine.DefaultJasperReportsContext.(DefaultJasperReportsContext.java:59)\n    at\n  net.sf.jasperreports.engine.JasperFillManager.getDefaultInstance(JasperFillManager.java:85)\n    at\n  net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:824)\n    at job.NewClass.jButton2ActionPerformed(NewClass.java:64)   at\n  job.NewClass.access$000(NewClass.java:21)     at\n  job.NewClass$1.actionPerformed(NewClass.java:42)  at\n  javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\n    at\n  javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\n    at\n  javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\n    at\n  javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\n    at\n  javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\n    at java.awt.Component.processMouseEvent(Component.java:6134)    at\n  javax.swing.JComponent.processMouseEvent(JComponent.java:3265)    at\n  java.awt.Component.processEvent(Component.java:5899)  at\n  java.awt.Container.processEvent(Container.java:2023)  at\n  java.awt.Component.dispatchEventImpl(Component.java:4501)     at\n  java.awt.Container.dispatchEventImpl(Container.java:2081)     at\n  java.awt.Component.dispatchEvent(Component.java:4331)     at\n  java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4301)\n    at\n  java.awt.LightweightDispatcher.processMouseEvent(Container.java:3965)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3895)\n    at java.awt.Container.dispatchEventImpl(Container.java:2067)    at\n  java.awt.Window.dispatchEventImpl(Window.java:2458)   at\n  java.awt.Component.dispatchEvent(Component.java:4331)     at\n  java.awt.EventQueue.dispatchEvent(EventQueue.java:599)    at\n  java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\n    at\n  java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\n    at\n  java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\n    at\n  java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\n    at\n  java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\n  Caused by: java.lang.ClassNotFoundException:\n  org.apache.commons.logging.LogFactory     at\n  java.net.URLClassLoader$1.run(URLClassLoader.java:200)    at\n  java.security.AccessController.doPrivileged(Native Method)    at\n  java.net.URLClassLoader.findClass(URLClassLoader.java:188)    at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:307)     at\n  sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)     at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:252)     at\n  java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)     ... 35\n  more</p>\n</blockquote>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5897936,"reputation":8081,"user_id":4642485,"accept_rate":73,"display_name":"Chris Gong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531082317,"creation_date":1531082317,"answer_id":51235827,"question_id":51235697,"body_markdown":"One problem is that you&#39;re not letting the user quit midway through the game because even if the user guesses a number within the 1 to 100 range and doesn&#39;t get the right answer, his or her answer to `Guess again: Y/N:` won&#39;t be checked since the current loop it is in only compares `guess` to `answer`, never `another`. Therefore, you&#39;ll end up being in an infinite loop in this case because if the user guesses 57 when the answer is 50, you&#39;ll just continuously prompt the user if he or she wants to guess again. \r\n\r\nMy recommendation would be to remove the second while loop \r\n\r\n        \r\n    while (guess != answer)\r\n    {\r\n        //other stuff\r\n    }\r\n\r\nand place the code inside that loop into the outside while loop \r\n\r\n    while(another.equalsIgnoreCase(&quot;y&quot;)){\r\n        //other stuff\r\n    }\r\n\r\nAnd if you want the user to be able to play again, I would recommend putting this snippet of code you had earlier inside the if statement where you check if the user has guessed correctly,\r\n\r\n    if (guess == answer)\r\n    {      \r\n        count++;\r\n        System.out.println(&quot;You guessed correctly!&quot;);\r\n        System.out.println(&quot;It took you &quot; + count + &quot;guess(es) to win.&quot;);\r\n        System.out.println(&quot;Do you wish to play again? Y/N:?&quot;);\r\n        another = scan.nextLine();\r\n        count = 0;\r\n        answer  = generator.nextInt(MAX) + 1;\r\n    }\r\n    \r\n\r\nThis way, if the user wins the game, their choice to play again will be checked in the while loop. One last thing I would recommend is moving this line \r\n\r\n    guess = scan.nextInt();\r\n\r\ninside the while loop that checks `another` so that if the user wants to play again, the game will prompt the user for a guess.","title":"Java High-Low Guessing Game Looping Errors","body":"<p>One problem is that you're not letting the user quit midway through the game because even if the user guesses a number within the 1 to 100 range and doesn't get the right answer, his or her answer to <code>Guess again: Y/N:</code> won't be checked since the current loop it is in only compares <code>guess</code> to <code>answer</code>, never <code>another</code>. Therefore, you'll end up being in an infinite loop in this case because if the user guesses 57 when the answer is 50, you'll just continuously prompt the user if he or she wants to guess again. </p>\n\n<p>My recommendation would be to remove the second while loop </p>\n\n<pre><code>while (guess != answer)\n{\n    //other stuff\n}\n</code></pre>\n\n<p>and place the code inside that loop into the outside while loop </p>\n\n<pre><code>while(another.equalsIgnoreCase(\"y\")){\n    //other stuff\n}\n</code></pre>\n\n<p>And if you want the user to be able to play again, I would recommend putting this snippet of code you had earlier inside the if statement where you check if the user has guessed correctly,</p>\n\n<pre><code>if (guess == answer)\n{      \n    count++;\n    System.out.println(\"You guessed correctly!\");\n    System.out.println(\"It took you \" + count + \"guess(es) to win.\");\n    System.out.println(\"Do you wish to play again? Y/N:?\");\n    another = scan.nextLine();\n    count = 0;\n    answer  = generator.nextInt(MAX) + 1;\n}\n</code></pre>\n\n<p>This way, if the user wins the game, their choice to play again will be checked in the while loop. One last thing I would recommend is moving this line </p>\n\n<pre><code>guess = scan.nextInt();\n</code></pre>\n\n<p>inside the while loop that checks <code>another</code> so that if the user wants to play again, the game will prompt the user for a guess.</p>\n"}],"owner":{"account_id":13919806,"reputation":1,"user_id":10050548,"display_name":"AStarr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701388100,"creation_date":1531081230,"question_id":51235697,"body_markdown":"I&#39;ve just started learning programming for the first time and I am working through Java to start. I am doing a common coding exercise of programming a guessing game using loops and conditionals. My program is required to do the following:\r\n\r\n1. Pick a random number between 1 and 100\r\n2. Repeatedly prompt the user to guess the number\r\n3. Report to the user that he or she is correct or that the guess is high \r\n   or low after each guess\r\n4. Offer the user the option to quit mid-game\r\n5. Count the number of guesses in a game and report the number upon a correct guess\r\n6. Ask the user if they want to play again upon a successful game\r\n\r\nI have been a little bit shaky with loop syntax so far and need some help with my program because there are a lot of issues I don&#39;t know how to fix. Would anyone be kind enough to lend me a hand? Please forgive the many probably obvious mistakes.\r\n\r\n\r\n----------\r\n\r\n\r\nimport java.util.Scanner;\r\n\r\nimport java.util.Random;\r\n\r\n\r\npublic class Guess\r\n\r\n{\r\n    \r\npublic static void main (String[] args)\r\n\r\n    {\r\n\r\n        final int MAX = 100;\r\n        int answer, guess = 0, count = 0;\r\n        String another = &quot;y&quot;;\r\n        \r\n        Random generator = new Random();\r\n        answer = generator.nextInt(MAX) + 1;\r\n        \r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;I&#39;m thinking of a number between 1 and &quot; + MAX\r\n                            + &quot;. Guess what it is: &quot;);\r\n        guess = scan.nextInt();\r\n        \r\n        while (another.equalsIgnoreCase(&quot;y&quot;))\r\n        {         \r\n            while (guess != answer)\r\n            {\r\n            \r\n                while (guess &gt; MAX || guess &lt; 1)\r\n                {\r\n                    System.out.println(&quot;Invalid input. Please re-enter a number&quot;\r\n                    + &quot; between 1 and &quot; + MAX + &quot;:&quot;);\r\n                    guess = scan.nextInt();\r\n                }\r\n                \r\n                if (guess == answer)\r\n                {      \r\n                count++;\r\n                System.out.println(&quot;You guessed correctly!&quot;);\r\n                }\r\n                else if (guess &gt; answer)\r\n                {\r\n                    count++;\r\n                    System.out.println(&quot;You guessed too high. Guess again? Y/N:&quot;);\r\n                    another = scan.nextLine();\r\n                }\r\n                else if (guess &lt; answer)\r\n                {\r\n                    count++;\r\n                    System.out.println(&quot;You guessed too low. Guess again? Y/N:&quot;);\r\n                    another = scan.nextLine();\r\n                }\r\n            }\r\n        }\r\n   \r\n        System.out.println(&quot;It took you &quot; + count + &quot;guess(es) to win.&quot;);\r\n        System.out.println(&quot;Do you wish to play again? Y/N:?&quot;);\r\n        another = scan.nextLine();\r\n        count = 0;\r\n        answer  = generator.nextInt(MAX) + 1;\r\n    }\r\n}","title":"Java High-Low Guessing Game Looping Errors","body":"<p>I've just started learning programming for the first time and I am working through Java to start. I am doing a common coding exercise of programming a guessing game using loops and conditionals. My program is required to do the following:</p>\n\n<ol>\n<li>Pick a random number between 1 and 100</li>\n<li>Repeatedly prompt the user to guess the number</li>\n<li>Report to the user that he or she is correct or that the guess is high \nor low after each guess</li>\n<li>Offer the user the option to quit mid-game</li>\n<li>Count the number of guesses in a game and report the number upon a correct guess</li>\n<li>Ask the user if they want to play again upon a successful game</li>\n</ol>\n\n<p>I have been a little bit shaky with loop syntax so far and need some help with my program because there are a lot of issues I don't know how to fix. Would anyone be kind enough to lend me a hand? Please forgive the many probably obvious mistakes.</p>\n\n<hr>\n\n<p>import java.util.Scanner;</p>\n\n<p>import java.util.Random;</p>\n\n<p>public class Guess</p>\n\n<p>{</p>\n\n<p>public static void main (String[] args)</p>\n\n<pre><code>{\n\n    final int MAX = 100;\n    int answer, guess = 0, count = 0;\n    String another = \"y\";\n\n    Random generator = new Random();\n    answer = generator.nextInt(MAX) + 1;\n\n    Scanner scan = new Scanner(System.in);\n\n    System.out.println(\"I'm thinking of a number between 1 and \" + MAX\n                        + \". Guess what it is: \");\n    guess = scan.nextInt();\n\n    while (another.equalsIgnoreCase(\"y\"))\n    {         \n        while (guess != answer)\n        {\n\n            while (guess &gt; MAX || guess &lt; 1)\n            {\n                System.out.println(\"Invalid input. Please re-enter a number\"\n                + \" between 1 and \" + MAX + \":\");\n                guess = scan.nextInt();\n            }\n\n            if (guess == answer)\n            {      \n            count++;\n            System.out.println(\"You guessed correctly!\");\n            }\n            else if (guess &gt; answer)\n            {\n                count++;\n                System.out.println(\"You guessed too high. Guess again? Y/N:\");\n                another = scan.nextLine();\n            }\n            else if (guess &lt; answer)\n            {\n                count++;\n                System.out.println(\"You guessed too low. Guess again? Y/N:\");\n                another = scan.nextLine();\n            }\n        }\n    }\n\n    System.out.println(\"It took you \" + count + \"guess(es) to win.\");\n    System.out.println(\"Do you wish to play again? Y/N:?\");\n    another = scan.nextLine();\n    count = 0;\n    answer  = generator.nextInt(MAX) + 1;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","time","timestamp","simpledateformat"],"comments":[{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638607139,"post_id":8826270,"comment_id":124137423,"body_markdown":"I take `00:01:30.500` to mean a duration, an amount of time, 1 minute 30.5 seconds. If so `Date` and `SimpleDateFormat` are the wrong classes to use. A duration is not a date. Also I recommend you *never* use those classes. They are poorly designed and long outdated, the latter in particular notoriously troublesome. Use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I take <code>00:01:30.500</code> to mean a duration, an amount of time, 1 minute 30.5 seconds. If so <code>Date</code> and <code>SimpleDateFormat</code> are the wrong classes to use. A duration is not a date. Also I recommend you <i>never</i> use those classes. They are poorly designed and long outdated, the latter in particular notoriously troublesome. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1326317724,"creation_date":1326314951,"answer_id":8826392,"question_id":8826270,"body_markdown":"You can use `SimpleDateFormat` to do it. You just have to know 2 things. \r\n\r\n 1. All dates are internally represented in UTC\r\n 2. `.getTime()` returns the number of milliseconds since 1970-01-01 00:00:00 UTC.\r\n\r\n&lt;!-- leaving the list --&gt;\r\n\r\n    package se.wederbrand.milliseconds;\r\n        \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n        \r\n    public class Main {        \r\n        public static void main(String[] args) throws Exception {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n            sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        \r\n            String inputString = &quot;00:01:30.500&quot;;\r\n            \r\n            Date date = sdf.parse(&quot;1970-01-01 &quot; + inputString);\r\n            System.out.println(&quot;in milliseconds: &quot; + date.getTime());        \r\n        }\r\n    }\r\n\r\n","title":"How to convert HH:mm:ss.SSS to milliseconds?","body":"<p>You can use <code>SimpleDateFormat</code> to do it. You just have to know 2 things. </p>\n\n<ol>\n<li>All dates are internally represented in UTC</li>\n<li><code>.getTime()</code> returns the number of milliseconds since 1970-01-01 00:00:00 UTC.</li>\n</ol>\n\n\n\n<pre><code>package se.wederbrand.milliseconds;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.TimeZone;\n\npublic class Main {        \n    public static void main(String[] args) throws Exception {\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS\");\n        sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\n        String inputString = \"00:01:30.500\";\n\n        Date date = sdf.parse(\"1970-01-01 \" + inputString);\n        System.out.println(\"in milliseconds: \" + date.getTime());        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326314954,"creation_date":1326314954,"answer_id":8826394,"question_id":8826270,"body_markdown":"If you want to use `SimpleDateFormat`, you could write:\r\n\r\n    private final SimpleDateFormat sdf =\r\n        new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n        { sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;)); }\r\n    \r\n    private long parseTimeToMillis(final String time) throws ParseException\r\n        { return sdf.parse(&quot;1970-01-01 &quot; + time).getTime(); }\r\n\r\nBut a custom method would be much more efficient. `SimpleDateFormat`, because of all its calendar support, time-zone support, daylight-savings-time support, and so on, is pretty slow. The slowness is worth it if you actually need some of those features, but since you don&#39;t, it might not be. (It depends how often you&#39;re calling this method, and whether efficiency is a concern for your application.)\r\n\r\nAlso, `SimpleDateFormat` is non-thread-safe, which is sometimes a pain. (Without knowing anything about your application, I can&#39;t guess whether that matters.)\r\n\r\nPersonally, I&#39;d probably write a custom method.","title":"How to convert HH:mm:ss.SSS to milliseconds?","body":"<p>If you want to use <code>SimpleDateFormat</code>, you could write:</p>\n\n<pre><code>private final SimpleDateFormat sdf =\n    new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS\");\n    { sdf.setTimeZone(TimeZone.getTimeZone(\"GMT\")); }\n\nprivate long parseTimeToMillis(final String time) throws ParseException\n    { return sdf.parse(\"1970-01-01 \" + time).getTime(); }\n</code></pre>\n\n<p>But a custom method would be much more efficient. <code>SimpleDateFormat</code>, because of all its calendar support, time-zone support, daylight-savings-time support, and so on, is pretty slow. The slowness is worth it if you actually need some of those features, but since you don't, it might not be. (It depends how often you're calling this method, and whether efficiency is a concern for your application.)</p>\n\n<p>Also, <code>SimpleDateFormat</code> is non-thread-safe, which is sometimes a pain. (Without knowing anything about your application, I can't guess whether that matters.)</p>\n\n<p>Personally, I'd probably write a custom method.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1326315018,"creation_date":1326315018,"answer_id":8826411,"question_id":8826270,"body_markdown":"Using [JODA][1]:\r\n\r\n    PeriodFormatter periodFormat = new PeriodFormatterBuilder()\r\n      .minimumParsedDigits(2)\r\n      .appendHour() // 2 digits minimum\r\n      .appendSeparator(&quot;:&quot;)\r\n      .minimumParsedDigits(2)\r\n      .appendMinute() // 2 digits minimum\r\n      .appendSeparator(&quot;:&quot;)\r\n      .minimumParsedDigits(2)\r\n      .appendSecond()\r\n      .appendSeparator(&quot;.&quot;)\r\n      .appendMillis3Digit()\r\n      .toFormatter();\r\n    Period result = Period.parse(string, periodFormat);\r\n    return result.toStandardDuration().getMillis();\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"How to convert HH:mm:ss.SSS to milliseconds?","body":"<p>Using <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow\">JODA</a>:</p>\n\n<pre><code>PeriodFormatter periodFormat = new PeriodFormatterBuilder()\n  .minimumParsedDigits(2)\n  .appendHour() // 2 digits minimum\n  .appendSeparator(\":\")\n  .minimumParsedDigits(2)\n  .appendMinute() // 2 digits minimum\n  .appendSeparator(\":\")\n  .minimumParsedDigits(2)\n  .appendSecond()\n  .appendSeparator(\".\")\n  .appendMillis3Digit()\n  .toFormatter();\nPeriod result = Period.parse(string, periodFormat);\nreturn result.toStandardDuration().getMillis();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1326316714,"creation_date":1326316714,"answer_id":8826788,"question_id":8826270,"body_markdown":"If you want to parse the format yourself you could do it easily with a regex such as\r\n\r\n    private static Pattern pattern = Pattern.compile(&quot;(\\\\d{2}):(\\\\d{2}):(\\\\d{2}).(\\\\d{3})&quot;);\r\n\r\n    public static long dateParseRegExp(String period) {\r\n        Matcher matcher = pattern.matcher(period);\r\n        if (matcher.matches()) {\r\n            return Long.parseLong(matcher.group(1)) * 3600000L \r\n                + Long.parseLong(matcher.group(2)) * 60000 \r\n                + Long.parseLong(matcher.group(3)) * 1000 \r\n                + Long.parseLong(matcher.group(4)); \r\n        } else {\r\n            throw new IllegalArgumentException(&quot;Invalid format &quot; + period);\r\n        }\r\n    }\r\n\r\nHowever, this parsing is quite lenient and would accept 99:99:99.999 and just let the values overflow. This could be a drawback or a feature.","title":"How to convert HH:mm:ss.SSS to milliseconds?","body":"<p>If you want to parse the format yourself you could do it easily with a regex such as</p>\n\n<pre><code>private static Pattern pattern = Pattern.compile(\"(\\\\d{2}):(\\\\d{2}):(\\\\d{2}).(\\\\d{3})\");\n\npublic static long dateParseRegExp(String period) {\n    Matcher matcher = pattern.matcher(period);\n    if (matcher.matches()) {\n        return Long.parseLong(matcher.group(1)) * 3600000L \n            + Long.parseLong(matcher.group(2)) * 60000 \n            + Long.parseLong(matcher.group(3)) * 1000 \n            + Long.parseLong(matcher.group(4)); \n    } else {\n        throw new IllegalArgumentException(\"Invalid format \" + period);\n    }\n}\n</code></pre>\n\n<p>However, this parsing is quite lenient and would accept 99:99:99.999 and just let the values overflow. This could be a drawback or a feature.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638608591,"creation_date":1638608591,"answer_id":70224294,"question_id":8826270,"body_markdown":"I am presenting two options:\r\n\r\n 1. Time4J, an advanced external date, time and time interval library.\r\n 2. java.time, the built-in modern Java date and time API.\r\n\r\n`SimpleDateFormat` and `Date` are the wrong classes to use, both because a duration of 1 minute 30.5 seoncds is not a date and because those classes have long gone out of any reasonable use.\r\n\r\n## Time4J\r\n\r\nThis is the elegant solution. We first declare a formatter:\r\n\r\n\tprivate static final Duration.Formatter&lt;ClockUnit&gt; DURATION_FORMAT \r\n    \t\t= Duration.formatter(ClockUnit.class, &quot;hh:mm:ss.fff&quot;);\r\n\r\nThen parse and convert to milliseconds like this:\r\n\r\n\t\tString startAfter = &quot;00:01:30.555&quot;;\r\n\t\t\r\n\t\tDuration&lt;ClockUnit&gt; dur = DURATION_FORMAT.parse(startAfter);\r\n\t\tlong milliseconds = dur.with(ClockUnit.MILLIS.only())\r\n\t\t\t\t.getPartialAmount(ClockUnit.MILLIS);\r\n\t\t\r\n\t\tSystem.out.format(&quot;%d milliseconds%n&quot;, milliseconds);\r\n\r\nOutput is:\r\n\r\n&gt; 90555 milliseconds\r\n\r\n## java.time\r\n\r\nThe `java.time.Duration` class can only parse ISO 8601 format. So I am first converting your string to that format. It goes like `PT00H01M30.555S` (the leading zeroes are not required, but why should I bother removing them?)\r\n\r\n\t\tString startAfter = &quot;00:01:30.555&quot;;\r\n\t\t\r\n\t\tString iso = startAfter.replaceFirst(\r\n\t\t\t\t&quot;^(\\\\d{2}):(\\\\d{2}):(\\\\d{2}\\\\.\\\\d{3})$&quot;, &quot;PT$1H$2M$3S&quot;);\r\n\t\tDuration dur = Duration.parse(iso);\r\n\t\tlong milliseconds = dur.toMillis();\r\n\t\t\r\n\t\tSystem.out.format(&quot;%d milliseconds%n&quot;, milliseconds);\r\n\r\nOutput is the same as before:\r\n\r\n&gt; 90555 milliseconds\r\n\r\nAnother difference from Time4J is that the Java `Duration` can be directly converted to milliseconds without being converted to a `Duration` of only milliseconds first.\r\n\r\n## Links\r\n\r\n - [Time4J - Advanced Date, Time, Zone and Interval Library for Java](http://time4j.net/)\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"How to convert HH:mm:ss.SSS to milliseconds?","body":"<p>I am presenting two options:</p>\n<ol>\n<li>Time4J, an advanced external date, time and time interval library.</li>\n<li>java.time, the built-in modern Java date and time API.</li>\n</ol>\n<p><code>SimpleDateFormat</code> and <code>Date</code> are the wrong classes to use, both because a duration of 1 minute 30.5 seoncds is not a date and because those classes have long gone out of any reasonable use.</p>\n<h2>Time4J</h2>\n<p>This is the elegant solution. We first declare a formatter:</p>\n<pre><code>private static final Duration.Formatter&lt;ClockUnit&gt; DURATION_FORMAT \n        = Duration.formatter(ClockUnit.class, &quot;hh:mm:ss.fff&quot;);\n</code></pre>\n<p>Then parse and convert to milliseconds like this:</p>\n<pre><code>    String startAfter = &quot;00:01:30.555&quot;;\n    \n    Duration&lt;ClockUnit&gt; dur = DURATION_FORMAT.parse(startAfter);\n    long milliseconds = dur.with(ClockUnit.MILLIS.only())\n            .getPartialAmount(ClockUnit.MILLIS);\n    \n    System.out.format(&quot;%d milliseconds%n&quot;, milliseconds);\n</code></pre>\n<p>Output is:</p>\n<blockquote>\n<p>90555 milliseconds</p>\n</blockquote>\n<h2>java.time</h2>\n<p>The <code>java.time.Duration</code> class can only parse ISO 8601 format. So I am first converting your string to that format. It goes like <code>PT00H01M30.555S</code> (the leading zeroes are not required, but why should I bother removing them?)</p>\n<pre><code>    String startAfter = &quot;00:01:30.555&quot;;\n    \n    String iso = startAfter.replaceFirst(\n            &quot;^(\\\\d{2}):(\\\\d{2}):(\\\\d{2}\\\\.\\\\d{3})$&quot;, &quot;PT$1H$2M$3S&quot;);\n    Duration dur = Duration.parse(iso);\n    long milliseconds = dur.toMillis();\n    \n    System.out.format(&quot;%d milliseconds%n&quot;, milliseconds);\n</code></pre>\n<p>Output is the same as before:</p>\n<blockquote>\n<p>90555 milliseconds</p>\n</blockquote>\n<p>Another difference from Time4J is that the Java <code>Duration</code> can be directly converted to milliseconds without being converted to a <code>Duration</code> of only milliseconds first.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"http://time4j.net/\" rel=\"nofollow noreferrer\">Time4J - Advanced Date, Time, Zone and Interval Library for Java</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13635625,"reputation":211,"user_id":9836708,"display_name":"Debraj Banerjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701387156,"creation_date":1701387156,"answer_id":77582239,"question_id":8826270,"body_markdown":"For .NET / C# if timeString = &quot;00:00:00:014&quot;\r\nAssume we have a GetNumeric() function to handle the String to Int gracefully.\r\n\r\n    public static int GetTimeSpanInMs(string timeString)\r\n    {\r\n        int returnValue = 0;\r\n        try\r\n        {\r\n            var parts = timeString.Split(&quot;:&quot;);\r\n            returnValue = GetNumeric(parts[0]) * 1000 * 60 * 60 + GetNumeric(parts[1]) * 1000 * 60 + GetNumeric(parts[2]) * 1000 + GetNumeric(parts[3]);\r\n        }\r\n        catch \r\n        {\r\n            //handle\r\n        }\r\n    \r\n        return returnValue;\r\n    }","title":"How to convert HH:mm:ss.SSS to milliseconds?","body":"<p>For .NET / C# if timeString = &quot;00:00:00:014&quot;\nAssume we have a GetNumeric() function to handle the String to Int gracefully.</p>\n<pre><code>public static int GetTimeSpanInMs(string timeString)\n{\n    int returnValue = 0;\n    try\n    {\n        var parts = timeString.Split(&quot;:&quot;);\n        returnValue = GetNumeric(parts[0]) * 1000 * 60 * 60 + GetNumeric(parts[1]) * 1000 * 60 + GetNumeric(parts[2]) * 1000 + GetNumeric(parts[3]);\n    }\n    catch \n    {\n        //handle\n    }\n\n    return returnValue;\n}\n</code></pre>\n"}],"owner":{"account_id":921513,"reputation":39385,"user_id":953140,"accept_rate":100,"display_name":"Ahamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149757,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":8826392,"answer_count":6,"score":25,"last_activity_date":1701387156,"creation_date":1326314386,"question_id":8826270,"body_markdown":"I have a String `00:01:30.500` which is equivalent to `90500` milliseconds. I tried using `SimpleDateFormat` which give milliseconds including current date. I just need that String representation to milliseconds. Do I have to write custom method, which will split and calculate milliseconds? or Is there any other way to do this? Thanks.\r\n\r\nI have tried as follows:\r\n\r\n            String startAfter = &quot;00:01:30.555&quot;;\r\n    \t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss.SSS&quot;);\r\n    \t\tDate date = dateFormat.parse(startAfter);\r\n    \t\tSystem.out.println(date.getTime());","title":"How to convert HH:mm:ss.SSS to milliseconds?","body":"<p>I have a String <code>00:01:30.500</code> which is equivalent to <code>90500</code> milliseconds. I tried using <code>SimpleDateFormat</code> which give milliseconds including current date. I just need that String representation to milliseconds. Do I have to write custom method, which will split and calculate milliseconds? or Is there any other way to do this? Thanks.</p>\n\n<p>I have tried as follows:</p>\n\n<pre><code>        String startAfter = \"00:01:30.555\";\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"HH:mm:ss.SSS\");\n        Date date = dateFormat.parse(startAfter);\n        System.out.println(date.getTime());\n</code></pre>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":2,"creation_date":1486507076,"post_id":42101234,"comment_id":71372929,"body_markdown":"What&#39;s the value of doing something in one line ? Readability ? No. Maintainability ? No. Performance ? No.","body":"What&#39;s the value of doing something in one line ? Readability ? No. Maintainability ? No. Performance ? No."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":2,"creation_date":1486507093,"post_id":42101234,"comment_id":71372936,"body_markdown":"Just for fun, no?","body":"Just for fun, no?"},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1486507142,"post_id":42101234,"comment_id":71372956,"body_markdown":"@Andremoniy I can think about many other things that will be more fun, but that&#39;s primarily opinion based ;)","body":"@Andremoniy I can think about many other things that will be more fun, but that&#39;s primarily opinion based ;)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1486507229,"post_id":42101234,"comment_id":71372986,"body_markdown":"What&#39;s stopping you from putting it all on one line?","body":"What&#39;s stopping you from putting it all on one line?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1486508895,"post_id":42101234,"comment_id":71373710,"body_markdown":"@alfasin One value would be if you needed to pass as a parameter, or return a map from a lambda. E.g., `configure(Map.of(&quot;width&quot;, 640, &quot;height&quot;, 480))` Any place you would want to write it as an expression, in other words.","body":"@alfasin One value would be if you needed to pass as a parameter, or return a map from a lambda. E.g., <code>configure(Map.of(&quot;width&quot;, 640, &quot;height&quot;, 480))</code> Any place you would want to write it as an expression, in other words."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1486510588,"post_id":42101234,"comment_id":71374242,"body_markdown":"@DavidConrad that&#39;s exactly the purpose of `of()` method - to *not* do everything in one line but rather have another method that does it for you, while keeping the code concise without compromising its readability!","body":"@DavidConrad that&#39;s exactly the purpose of <code>of()</code> method - to <i>not</i> do everything in one line but rather have another method that does it for you, while keeping the code concise without compromising its readability!"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1701385898,"creation_date":1486508689,"answer_id":42101677,"question_id":42101234,"body_markdown":"# Convenience Factory Methods for Collections\r\n\r\nIn [Java 9](https://jdk9.java.net/download/) there are some [new Map helper methods](http://download.java.net/java/jdk9/docs/api/java/util/Map.html) defined by [*JEP 269: Convenience Factory Methods for Collections*](https://openjdk.java.net/jeps/269).\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\r\n    Map&lt;String, String&gt; map = Map.of(\r\n        &quot;A&quot;, &quot;32&quot;, \r\n        &quot;C&quot;, &quot;34&quot;, \r\n        &quot;T&quot;, &quot;53&quot;\r\n    );\r\n\r\nBut this only works for up to 10 entries. For more than ten, use:\r\n\r\n    import static java.util.Map.entry;\r\n    \r\n    Map&lt;String, String&gt; map = Map.ofEntries(\r\n        entry(&quot;A&quot;, &quot;32&quot;), \r\n        entry(&quot;C&quot;, &quot;34&quot;), \r\n        entry(&quot;T&quot;, &quot;53&quot;)\r\n    );\r\n\r\n\r\n\r\nYou could write similar helper methods if you needed to do it in earlier versions.","title":"Create a map with key and value in one line in Java","body":"<h1>Convenience Factory Methods for Collections</h1>\n<p>In <a href=\"https://jdk9.java.net/download/\" rel=\"nofollow noreferrer\">Java 9</a> there are some <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">new Map helper methods</a> defined by <a href=\"https://openjdk.java.net/jeps/269\" rel=\"nofollow noreferrer\"><em>JEP 269: Convenience Factory Methods for Collections</em></a>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = Map.of(\n    &quot;A&quot;, &quot;32&quot;, \n    &quot;C&quot;, &quot;34&quot;, \n    &quot;T&quot;, &quot;53&quot;\n);\n</code></pre>\n<p>But this only works for up to 10 entries. For more than ten, use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.Map.entry;\n\nMap&lt;String, String&gt; map = Map.ofEntries(\n    entry(&quot;A&quot;, &quot;32&quot;), \n    entry(&quot;C&quot;, &quot;34&quot;), \n    entry(&quot;T&quot;, &quot;53&quot;)\n);\n</code></pre>\n<p>You could write similar helper methods if you needed to do it in earlier versions.</p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1640551052,"creation_date":1623360429,"answer_id":67928645,"question_id":42101234,"body_markdown":"In Java 8 you can use the following methods which are [explained here](https://web.archive.org/web/20200919175407/https://www.amitph.com/create-hashmap-in-java/):\r\n\r\n### If you just need a quick immutable single-entry or empty map\r\n\r\n```java\r\nMap&lt;String, String&gt; map = Collections.singletonMap(&quot;A&quot;, &quot;32&quot;);\r\n```\r\n\r\n```java\r\nMap&lt;String, String&gt; map = Collections.emptyMap();\r\n```\r\n### Using Streams\r\n\r\nSuppose you have your data in an `ArrayList` of objects that contain your `Data` that can be accessed with arbitrary getters, you can use the Streams API:\r\n\r\n```java\r\nList&lt;Data&gt; dataList = new ArrayList&lt;&gt;();\r\n// .... populate data list\r\nMap&lt;String, Integer&gt; nameToAge = dataList.stream().collect(\r\n    Collectors.toMap(Data::getFooAsKey, Data::getBarAsValue)\r\n);\r\n```\r\n\r\n...or using an inline map approach (if you don&#39;t have/need/want to create `dataList`):\r\n\r\n```java\r\nMap&lt;String, Integer&gt; map = Stream.of( \r\n    new Data(&quot;A&quot;, &quot;32&quot;), new Data(&quot;C&quot;, &quot;34&quot;), new Data(&quot;C&quot;, &quot;34&quot;)\r\n).collect(Collectors.toMap(User::getFooAsKey, User::getBarAsValue));\r\n```\r\n### Anonymous Subclass (discouraged)\r\n\r\n```java\r\nMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;({{\r\n    put(&quot;A&quot;, &quot;32&quot;);\r\n    put(&quot;C&quot;, &quot;34&quot;);\r\n    put(&quot;T&quot;, &quot;53&quot;);\r\n}});\r\n```\r\n\r\nAs this method [can cause memory leaks](https://web.archive.org/save/https://www.jesperdj.com/2016/07/19/dont-use-the-double-brace-initialization-trick/) it is strongly discouraged.\r\n\r\n### Using Guava\r\n\r\n```java\r\nMap&lt;String, String&gt; immutableMap = Maps.newHashMap(\r\n    ImmutableMap.of(&quot;A&quot;, &quot;32&quot;, &quot;C&quot;, &quot;34&quot;, &quot;T&quot;, &quot;53&quot;)\r\n);\r\n```\r\n\r\nStarting with Java 9 there&#39;s superior syntactic sugar available, as outlined in [David&#39;s answer](https://stackoverflow.com/questions/42101234/create-a-map-with-key-and-value-in-one-line-in-java/67928645#answer-42101677).\r\n\r\n","title":"Create a map with key and value in one line in Java","body":"<p>In Java 8 you can use the following methods which are <a href=\"https://web.archive.org/web/20200919175407/https://www.amitph.com/create-hashmap-in-java/\" rel=\"noreferrer\">explained here</a>:</p>\n<h3>If you just need a quick immutable single-entry or empty map</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = Collections.singletonMap(&quot;A&quot;, &quot;32&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = Collections.emptyMap();\n</code></pre>\n<h3>Using Streams</h3>\n<p>Suppose you have your data in an <code>ArrayList</code> of objects that contain your <code>Data</code> that can be accessed with arbitrary getters, you can use the Streams API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Data&gt; dataList = new ArrayList&lt;&gt;();\n// .... populate data list\nMap&lt;String, Integer&gt; nameToAge = dataList.stream().collect(\n    Collectors.toMap(Data::getFooAsKey, Data::getBarAsValue)\n);\n</code></pre>\n<p>...or using an inline map approach (if you don't have/need/want to create <code>dataList</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; map = Stream.of( \n    new Data(&quot;A&quot;, &quot;32&quot;), new Data(&quot;C&quot;, &quot;34&quot;), new Data(&quot;C&quot;, &quot;34&quot;)\n).collect(Collectors.toMap(User::getFooAsKey, User::getBarAsValue));\n</code></pre>\n<h3>Anonymous Subclass (discouraged)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;({{\n    put(&quot;A&quot;, &quot;32&quot;);\n    put(&quot;C&quot;, &quot;34&quot;);\n    put(&quot;T&quot;, &quot;53&quot;);\n}});\n</code></pre>\n<p>As this method <a href=\"https://web.archive.org/save/https://www.jesperdj.com/2016/07/19/dont-use-the-double-brace-initialization-trick/\" rel=\"noreferrer\">can cause memory leaks</a> it is strongly discouraged.</p>\n<h3>Using Guava</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; immutableMap = Maps.newHashMap(\n    ImmutableMap.of(&quot;A&quot;, &quot;32&quot;, &quot;C&quot;, &quot;34&quot;, &quot;T&quot;, &quot;53&quot;)\n);\n</code></pre>\n<p>Starting with Java 9 there's superior syntactic sugar available, as outlined in <a href=\"https://stackoverflow.com/questions/42101234/create-a-map-with-key-and-value-in-one-line-in-java/67928645#answer-42101677\">David's answer</a>.</p>\n"}],"owner":{"account_id":10201171,"reputation":91,"user_id":7531402,"display_name":"tmeach"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22585,"favorite_count":0,"down_vote_count":3,"up_vote_count":9,"answer_count":2,"score":6,"last_activity_date":1701385898,"creation_date":1486506567,"question_id":42101234,"body_markdown":"Is there a way to create a map with keys and values at the same time (I mean a one-line code)? For example, I create a map named map, and I need to use the method &quot;put&quot; whenever I want to add a new pair of key/value. Is there a shorter way to populate a map when we create it?\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    \tmap.put(&quot;A&quot;, &quot;32&quot;);\r\n    \tmap.put(&quot;C&quot;, &quot;34&quot;);\r\n    \tmap.put(&quot;T&quot;, &quot;53&quot;);","title":"Create a map with key and value in one line in Java","body":"<p>Is there a way to create a map with keys and values at the same time (I mean a one-line code)? For example, I create a map named map, and I need to use the method \"put\" whenever I want to add a new pair of key/value. Is there a shorter way to populate a map when we create it?</p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    map.put(\"A\", \"32\");\n    map.put(\"C\", \"34\");\n    map.put(\"T\", \"53\");\n</code></pre>\n"},{"tags":["java","spring","httpclient","restful-url"],"comments":[{"owner":{"account_id":13559789,"reputation":1287,"user_id":9781957,"display_name":"DCTID"},"score":0,"creation_date":1564884914,"post_id":57343161,"comment_id":101174714,"body_markdown":"What did you try? RestTemplate as its name suggests is mainly used for RESTful requests with JSON. It generally does this unless you unless configured otherwise. https://stackoverflow.com/help/minimal-reproducible-example","body":"What did you try? RestTemplate as its name suggests is mainly used for RESTful requests with JSON. It generally does this unless you unless configured otherwise. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":51536,"reputation":833,"user_id":154007,"accept_rate":29,"display_name":"Rintoul"},"score":0,"creation_date":1564893936,"post_id":57343161,"comment_id":101175802,"body_markdown":"I set up a simple project using the same code using the RestTemplate client and it worked no problem with the correct payload and Content-Type header.  However, when used in a larger project with other Spring components wired and configured, the XML converter is used.  I&#39;m not sure how to figure out why it&#39;s behaving that way.","body":"I set up a simple project using the same code using the RestTemplate client and it worked no problem with the correct payload and Content-Type header.  However, when used in a larger project with other Spring components wired and configured, the XML converter is used.  I&#39;m not sure how to figure out why it&#39;s behaving that way."}],"answers":[{"tags":[],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698048249,"creation_date":1564914766,"answer_id":57345816,"question_id":57343161,"body_markdown":"Multiple `MessageConverters` are available in your `ApplicationContext`. Spring most probably selects the `Jaxb2RootElementHttpMessageConverter` from all the message converters available, resulting in XML output.\r\n\r\nTo instruct Spring in which `MessageConverter` to use, add a content-type header to the request. For instance by performing an exchange instead of a get/postForEntity:\r\n\r\n```java\r\nHttpHeaders headers = new HttpHeaders();\r\nheader.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n\r\nrestTemplate.exchange(&quot;http://some.url&quot;, HttpMethod.GET new HttpEntity&lt;&gt;(headers), SomeObject.class);\r\n```\r\n\r\nOr by attaching a `ClientHttpRequestInterceptor` to your RestTemplate ([example][1]). When you follow the example, be sure to use this interceptor (as in the tutorial the foo/bar is added to the _response_ header):\r\n\r\n```java\r\n@Override\r\npublic ClientHttpResponse intercept(HttpRequest httpRequest, byte[] bytes, ClientHttpRequestExecution clientHttpRequestExecution) throws IOException {\r\n    httpRequest.getHeaders().set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n    return clientHttpRequestExecution.execute(httpRequest, bytes);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-rest-template-interceptor","title":"Spring RestTemplate - selecting MessageConverter to Use","body":"<p>Multiple <code>MessageConverters</code> are available in your <code>ApplicationContext</code>. Spring most probably selects the <code>Jaxb2RootElementHttpMessageConverter</code> from all the message converters available, resulting in XML output.</p>\n<p>To instruct Spring in which <code>MessageConverter</code> to use, add a content-type header to the request. For instance by performing an exchange instead of a get/postForEntity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpHeaders headers = new HttpHeaders();\nheader.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n\nrestTemplate.exchange(&quot;http://some.url&quot;, HttpMethod.GET new HttpEntity&lt;&gt;(headers), SomeObject.class);\n</code></pre>\n<p>Or by attaching a <code>ClientHttpRequestInterceptor</code> to your RestTemplate (<a href=\"https://www.baeldung.com/spring-rest-template-interceptor\" rel=\"nofollow noreferrer\">example</a>). When you follow the example, be sure to use this interceptor (as in the tutorial the foo/bar is added to the <em>response</em> header):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic ClientHttpResponse intercept(HttpRequest httpRequest, byte[] bytes, ClientHttpRequestExecution clientHttpRequestExecution) throws IOException {\n    httpRequest.getHeaders().set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n    return clientHttpRequestExecution.execute(httpRequest, bytes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12613723,"reputation":930,"user_id":9171899,"display_name":"yuen26"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564917247,"creation_date":1564917247,"answer_id":57346074,"question_id":57343161,"body_markdown":"If you config `RestTemplate` via `RestTemplateBuilder`, you can use `messageConverters(org.springframework.http.converter.HttpMessageConverter&lt;?&gt;... messageConverters)` method to config.\r\n\r\nReference: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/client/RestTemplateBuilder.html#messageConverters-org.springframework.http.converter.HttpMessageConverter...-","title":"Spring RestTemplate - selecting MessageConverter to Use","body":"<p>If you config <code>RestTemplate</code> via <code>RestTemplateBuilder</code>, you can use <code>messageConverters(org.springframework.http.converter.HttpMessageConverter&lt;?&gt;... messageConverters)</code> method to config.</p>\n\n<p>Reference: <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/client/RestTemplateBuilder.html#messageConverters-org.springframework.http.converter.HttpMessageConverter...-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/client/RestTemplateBuilder.html#messageConverters-org.springframework.http.converter.HttpMessageConverter...-</a></p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701385690,"creation_date":1697629743,"answer_id":77316027,"question_id":57343161,"body_markdown":"Use [`RestTemplateBuilder`](https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-resttemplate.html#boot-features-resttemplate) instead of `RestTemplate`:\r\n\r\n&gt;  The auto-configured `RestTemplateBuilder` ensures that **sensible `HttpMessageConverters` are applied to `RestTemplate` instances**.\r\n\r\nWe had this problem in our applications as soon as `jackson-dataformat-xml` was added to the dependencies, `RestTemplate` started speaking XML only (unless of course, explicitly adding `(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)`). Simply switching to `RestTemplateBuilder` was an easy fix.\r\n\r\nWe did this application-wide by simply changing the configuration of the `RestTemplate` bean to be:\r\n\r\n```java\r\n@Bean\r\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n    return builder.build();\r\n}\r\n```\r\nNotably, this pattern also used without further explanation in the official Spring guide: https://spring.io/guides/gs/consuming-rest/","title":"Spring RestTemplate - selecting MessageConverter to Use","body":"<p>Use <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-resttemplate.html#boot-features-resttemplate\" rel=\"nofollow noreferrer\"><code>RestTemplateBuilder</code></a> instead of <code>RestTemplate</code>:</p>\n<blockquote>\n<p>The auto-configured <code>RestTemplateBuilder</code> ensures that <strong>sensible <code>HttpMessageConverters</code> are applied to <code>RestTemplate</code> instances</strong>.</p>\n</blockquote>\n<p>We had this problem in our applications as soon as <code>jackson-dataformat-xml</code> was added to the dependencies, <code>RestTemplate</code> started speaking XML only (unless of course, explicitly adding <code>(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)</code>). Simply switching to <code>RestTemplateBuilder</code> was an easy fix.</p>\n<p>We did this application-wide by simply changing the configuration of the <code>RestTemplate</code> bean to be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\n    return builder.build();\n}\n</code></pre>\n<p>Notably, this pattern also used without further explanation in the official Spring guide: <a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-rest/</a></p>\n"}],"owner":{"account_id":51536,"reputation":833,"user_id":154007,"accept_rate":29,"display_name":"Rintoul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13605,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1701385690,"creation_date":1564882069,"question_id":57343161,"body_markdown":"I am using the RestTemplate class to post to a JSON-based RESTful web service.  I can see from the documentation that there can be several MessageConverters available to the RestTemplate instances.  The problem I&#39;m facing is that the client seems to be choosing to use an XML-based converter for some reason.  The &quot;Content-Type&quot; header is set to application/XML and the message body contains an XML representation of an object I&#39;d like to send as JSON.  How can I most easily configure my RestTemplate instances to use MappingJackson2HttpMessageConverter for my requests?","title":"Spring RestTemplate - selecting MessageConverter to Use","body":"<p>I am using the RestTemplate class to post to a JSON-based RESTful web service.  I can see from the documentation that there can be several MessageConverters available to the RestTemplate instances.  The problem I'm facing is that the client seems to be choosing to use an XML-based converter for some reason.  The \"Content-Type\" header is set to application/XML and the message body contains an XML representation of an object I'd like to send as JSON.  How can I most easily configure my RestTemplate instances to use MappingJackson2HttpMessageConverter for my requests?</p>\n"},{"tags":["java","android","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":16609883,"reputation":1,"user_id":12003241,"display_name":"Icekale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701385345,"creation_date":1701385345,"answer_id":77582138,"question_id":77305873,"body_markdown":"What you need do is to stop the virtual device from running and try again. Give it time to boot up.","title":"Cannot invoke &quot;com.android.ddmlib.EmulatorConsole.kill()&quot; because &quot;console&quot; is null","body":"<p>What you need do is to stop the virtual device from running and try again. Give it time to boot up.</p>\n"}],"owner":{"account_id":23806558,"reputation":29,"user_id":17816004,"display_name":"BuiHieuMinh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701385345,"creation_date":1697509654,"question_id":77305873,"body_markdown":"I&#39;m facing a problem with the emulator. The System UI stops working, so I close it, but then the emulator just vanishes. \r\n\r\nWhen I try to stop the emulator, I get an error that says, &quot;Cannot invoke &#39;com.android.ddmlib.EmulatorConsole.kill()&#39; because &#39;console&#39; is null.&quot; Any ideas on how to fix this?","title":"Cannot invoke &quot;com.android.ddmlib.EmulatorConsole.kill()&quot; because &quot;console&quot; is null","body":"<p>I'm facing a problem with the emulator. The System UI stops working, so I close it, but then the emulator just vanishes.</p>\n<p>When I try to stop the emulator, I get an error that says, &quot;Cannot invoke 'com.android.ddmlib.EmulatorConsole.kill()' because 'console' is null.&quot; Any ideas on how to fix this?</p>\n"},{"tags":["java","jvm","garbage-collection","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701385016,"creation_date":1701384272,"answer_id":77582077,"question_id":77582040,"body_markdown":"Yes, the GC also works in applications packaged with `native-image`. This is explained in the [Memory Management](https://www.graalvm.org/latest/reference-manual/native-image/optimizations-and-performance/MemoryManagement/) section of the docs.\r\n\r\nThe GC will still manage objects created by the application. However, `native-image` might perform optimizations so that some objects are allocated on the stack or freed immediately when they aren&#39;t needed any more if it is able to detect that.\r\n\r\nYou can even select a GC using the `--gc` argument to `native-image`. You can use the following GCs:\r\n- Serial GC: This GC has minimal footprint but only uses a single thread for garbage collection and might pause the application during that. It is also the default GC for normal Java applications (not native-image) with small heap sizes and it is the default for applications packaged with `native-image`.\r\n- G1: The G1 GC optimizes for throughput, uses multiple threads and has lower pause times than Serial GC. It is the default GC for normal Java applications (not native-image) that don&#39;t have small heap sizes. This GC is only available if you are using Oracle GraalVM, it doesn&#39;t work with GraalVM Community Edition.\r\n- Epsilon: The Epsilon GC doesn&#39;t do any garbage collection. If memory is full, the application will crash. This might be useful for testing, if you have small scripts that don&#39;t need any garbage collection or have a real-time application that can afford to restart regularly to avoid GC pauses or similar.\r\n\r\nThere is also work on making ZGC available on native-image.","title":"Does the native executable that is created by graalvm compiler includes memory management and GC?","body":"<p>Yes, the GC also works in applications packaged with <code>native-image</code>. This is explained in the <a href=\"https://www.graalvm.org/latest/reference-manual/native-image/optimizations-and-performance/MemoryManagement/\" rel=\"nofollow noreferrer\">Memory Management</a> section of the docs.</p>\n<p>The GC will still manage objects created by the application. However, <code>native-image</code> might perform optimizations so that some objects are allocated on the stack or freed immediately when they aren't needed any more if it is able to detect that.</p>\n<p>You can even select a GC using the <code>--gc</code> argument to <code>native-image</code>. You can use the following GCs:</p>\n<ul>\n<li>Serial GC: This GC has minimal footprint but only uses a single thread for garbage collection and might pause the application during that. It is also the default GC for normal Java applications (not native-image) with small heap sizes and it is the default for applications packaged with <code>native-image</code>.</li>\n<li>G1: The G1 GC optimizes for throughput, uses multiple threads and has lower pause times than Serial GC. It is the default GC for normal Java applications (not native-image) that don't have small heap sizes. This GC is only available if you are using Oracle GraalVM, it doesn't work with GraalVM Community Edition.</li>\n<li>Epsilon: The Epsilon GC doesn't do any garbage collection. If memory is full, the application will crash. This might be useful for testing, if you have small scripts that don't need any garbage collection or have a real-time application that can afford to restart regularly to avoid GC pauses or similar.</li>\n</ul>\n<p>There is also work on making ZGC available on native-image.</p>\n"}],"owner":{"account_id":25668464,"reputation":1,"user_id":19433061,"display_name":"sm0217"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701385016,"creation_date":1701383385,"question_id":77582040,"body_markdown":"I have been exploring graalvm and couldnt find an answer for this. Since the native executable that is created by graalvm compiler can run on any VM without Graalvm or JVM, what takes care of the memory management and GC? Does the native executable that is created by graalvm compiler includes memory management, GC an other things required during runtime? \r\n\r\nCouldn&#39;t find a clear explanation for this in the documentation","title":"Does the native executable that is created by graalvm compiler includes memory management and GC?","body":"<p>I have been exploring graalvm and couldnt find an answer for this. Since the native executable that is created by graalvm compiler can run on any VM without Graalvm or JVM, what takes care of the memory management and GC? Does the native executable that is created by graalvm compiler includes memory management, GC an other things required during runtime?</p>\n<p>Couldn't find a clear explanation for this in the documentation</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1552844631,"post_id":55209988,"comment_id":97156060,"body_markdown":"Which part of the official tutorial is unclear to you? https://docs.oracle.com/javase/tutorial/java/IandI/super.html","body":"Which part of the official tutorial is unclear to you? <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/super.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/super.html</a>"},{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":1,"creation_date":1552844671,"post_id":55209988,"comment_id":97156077,"body_markdown":"To ensure that the &quot;parent part&quot; of the object is in a proper state after construction finished.","body":"To ensure that the &quot;parent part&quot; of the object is in a proper state after construction finished."},{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":8,"creation_date":1552844705,"post_id":55209988,"comment_id":97156089,"body_markdown":"Because if you have a SupersonicPlane extending a Plane, and SupersonicPlane&#39;s constructor didn&#39;t call the Plane constructor, then the wheels, wings, cockpit etc. that are initialized in the Plane constructor wouldn&#39;t be initialized anymore. A SupersonicPlane without wheels and wings wouldn&#39;t be very usable, would it?","body":"Because if you have a SupersonicPlane extending a Plane, and SupersonicPlane&#39;s constructor didn&#39;t call the Plane constructor, then the wheels, wings, cockpit etc. that are initialized in the Plane constructor wouldn&#39;t be initialized anymore. A SupersonicPlane without wheels and wings wouldn&#39;t be very usable, would it?"}],"answers":[{"tags":[],"owner":{"account_id":11939775,"reputation":523,"user_id":8736966,"display_name":"Sudip Bolakhe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1552844932,"creation_date":1552844932,"answer_id":55210086,"question_id":55209988,"body_markdown":"The parent class constructor needs to be called before the subclass constructor. This will ensure that if you call any methods on the parent class in your constructor, the parent class has already been set up correctly.","title":"In java why always child class call the super class constructor ? I want to the internal flow","body":"<p>The parent class constructor needs to be called before the subclass constructor. This will ensure that if you call any methods on the parent class in your constructor, the parent class has already been set up correctly.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701384436,"creation_date":1701384130,"answer_id":77582069,"question_id":55209988,"body_markdown":"The first magic is, if a class has no written constructor, a default no-args constructor is generated in the .class file.\r\n\r\nIn a constructor there is always a call to a super constructor as first statement. If there is no super call, magically a `super()` (no-args) is generated in the .class file. However you may also explicitly call any super constructor.\r\n\r\nThen also you can instead call another constructor with `this( ... )`.\r\n\r\nAlso magically generated then in the constructor are all field initializations of the form `type fieldName = expression` (with an assignment). And last follows the remaining written constructor code.\r\n\r\nBefore construction fields have the default value (`null 0 0.0 false`).\r\n\r\nThis ensures that you have a fully initialized parent object to begin with.\r\n\r\nThough this depends on the (super) constructor not throwing an exception and not calling overridable methods. (An overriden method in the child class would have unitialized child fields, overwritten coming back from the super constructor by the child constructors field initialization.)\r\n\r\nSorry, this is amazingly complex. You could experiment a bit. Basic usage is simple.\r\n","title":"In java why always child class call the super class constructor ? I want to the internal flow","body":"<p>The first magic is, if a class has no written constructor, a default no-args constructor is generated in the .class file.</p>\n<p>In a constructor there is always a call to a super constructor as first statement. If there is no super call, magically a <code>super()</code> (no-args) is generated in the .class file. However you may also explicitly call any super constructor.</p>\n<p>Then also you can instead call another constructor with <code>this( ... )</code>.</p>\n<p>Also magically generated then in the constructor are all field initializations of the form <code>type fieldName = expression</code> (with an assignment). And last follows the remaining written constructor code.</p>\n<p>Before construction fields have the default value (<code>null 0 0.0 false</code>).</p>\n<p>This ensures that you have a fully initialized parent object to begin with.</p>\n<p>Though this depends on the (super) constructor not throwing an exception and not calling overridable methods. (An overriden method in the child class would have unitialized child fields, overwritten coming back from the super constructor by the child constructors field initialization.)</p>\n<p>Sorry, this is amazingly complex. You could experiment a bit. Basic usage is simple.</p>\n"}],"owner":{"account_id":15515162,"reputation":11,"user_id":11192925,"display_name":"Dev Preet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701384436,"creation_date":1552844368,"question_id":55209988,"body_markdown":"I know how these stuff flow but I want to know when we make the object of child class it calls the parent class no arg constructor first. But i want to know the internal thing. ","title":"In java why always child class call the super class constructor ? I want to the internal flow","body":"<p>I know how these stuff flow but I want to know when we make the object of child class it calls the parent class no arg constructor first. But i want to know the internal thing. </p>\n"},{"tags":["java","lambda","java-8","method-reference"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1501404581,"post_id":45398021,"comment_id":77756638,"body_markdown":"In this case, you really can&#39;t.","body":"In this case, you really can&#39;t."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1501404742,"post_id":45398021,"comment_id":77756675,"body_markdown":"What&#39;s the signature of `obj.testPredicate`?","body":"What&#39;s the signature of <code>obj.testPredicate</code>?"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":3,"creation_date":1501405429,"post_id":45398021,"comment_id":77756829,"body_markdown":"`public static boolean containsO(String s) { return s.contains(&quot;o&quot;); }` Then when you need it: `obj.testPredicate(list, MyClass::containsO)`.","body":"<code>public static boolean containsO(String s) { return s.contains(&quot;o&quot;); }</code> Then when you need it: <code>obj.testPredicate(list, MyClass::containsO)</code>."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1501406069,"post_id":45398021,"comment_id":77756990,"body_markdown":"Don&#39;t put a link to your code: put your code directly here! Just copy/paste it.","body":"Don&#39;t put a link to your code: put your code directly here! Just copy/paste it."},{"owner":{"account_id":5743723,"reputation":79,"user_id":7124181,"display_name":"usrmqj xv"},"score":0,"creation_date":1501406806,"post_id":45398021,"comment_id":77757215,"body_markdown":"@OlivierGr&#233;goire I paste my code.","body":"@OlivierGr&#233;goire I paste my code."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1501529061,"post_id":45398021,"comment_id":77808826,"body_markdown":"*there is no defference with my (String a, String b)-&gt; a.contains(b);*. But that&#39;s not what you have at all. Your lambda has one parameter; this has two!","body":"<i>there is no defference with my (String a, String b)-&gt; a.contains(b);</i>. But that&#39;s not what you have at all. Your lambda has one parameter; this has two!"}],"answers":[{"tags":[],"owner":{"account_id":2524916,"reputation":40766,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501405279,"creation_date":1501405279,"answer_id":45398132,"question_id":45398021,"body_markdown":"In this case you cannot express it with method reference. It would work if you would like to use current element of iteration as a parameter to another function. Take a look at following example:\r\n\r\n    final String str = &quot;o&quot;;\r\n\r\n    final List&lt;String&gt; list = Arrays.asList(&quot;lorem&quot;, &quot;ipsum&quot;, &quot;dolor&quot;, &quot;sit&quot;, &quot;amet&quot;);\r\n    list.stream()\r\n            .filter(it -&gt; it.contains(str)) // (1)\r\n            .filter(it -&gt; str.contains(it)) // (2)\r\n            .filter(str::contains)  // (3)\r\n            .findFirst();\r\n\r\nIn this case `(2)` and `(3)` are equal and `(1)` expresses completely different expression that cannot be represented by a single method reference. I hope it helps.","title":"how to express &quot;(String a)-&gt; a.contains(&quot;o&quot;)&quot; using java 8 method reference","body":"<p>In this case you cannot express it with method reference. It would work if you would like to use current element of iteration as a parameter to another function. Take a look at following example:</p>\n\n<pre><code>final String str = \"o\";\n\nfinal List&lt;String&gt; list = Arrays.asList(\"lorem\", \"ipsum\", \"dolor\", \"sit\", \"amet\");\nlist.stream()\n        .filter(it -&gt; it.contains(str)) // (1)\n        .filter(it -&gt; str.contains(it)) // (2)\n        .filter(str::contains)  // (3)\n        .findFirst();\n</code></pre>\n\n<p>In this case <code>(2)</code> and <code>(3)</code> are equal and <code>(1)</code> expresses completely different expression that cannot be represented by a single method reference. I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":7338313,"reputation":230,"user_id":5588873,"display_name":"swapnil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501405325,"creation_date":1501405325,"answer_id":45398138,"question_id":45398021,"body_markdown":"String `contains` method requires one parameter that is &quot;o&quot; in this case.\r\n\r\nWhile filtering on list of string&#39;s when we are specifying predicate usual\r\nsytax is a -&gt; a.contains(&quot;o&quot;).\r\n\r\nIntelliJ gives suggestion only when method don&#39;t have parameter to method.\r\n\r\ne.g. when you are specifying predicate like this:\r\n\r\n    a -&gt; a.isEmpty()\r\nThen alternative syntax is `String::isEmpty` which is more readable than the previous one.\r\n\r\nBut in case of predicate where you need to call method with one or more parameter you don&#39;t have alternative way to specify other than this: \r\n`a -&gt; a.contains`","title":"how to express &quot;(String a)-&gt; a.contains(&quot;o&quot;)&quot; using java 8 method reference","body":"<p>String <code>contains</code> method requires one parameter that is \"o\" in this case.</p>\n\n<p>While filtering on list of string's when we are specifying predicate usual\nsytax is a -> a.contains(\"o\").</p>\n\n<p>IntelliJ gives suggestion only when method don't have parameter to method.</p>\n\n<p>e.g. when you are specifying predicate like this:</p>\n\n<pre><code>a -&gt; a.isEmpty()\n</code></pre>\n\n<p>Then alternative syntax is <code>String::isEmpty</code> which is more readable than the previous one.</p>\n\n<p>But in case of predicate where you need to call method with one or more parameter you don't have alternative way to specify other than this: \n<code>a -&gt; a.contains</code></p>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1501669632,"creation_date":1501405733,"answer_id":45398198,"question_id":45398021,"body_markdown":"You can create your own predicates:\r\n\r\n    public class StringPredicates {\r\n      public static Predicate&lt;String&gt; contains(String contained) {\r\n        return s -&gt; s.contains(contained);\r\n      }\r\n    }\r\n\r\nThen you can use them similarly to this:\r\n\r\n    obj.testPredicate(list, StringPredicates.contains(&quot;o&quot;));\r\n\r\nNote, that you don&#39;t need method references to use such a construct. As I always say: use the right tool when needed! In this case you have a variable, so it&#39;s not advisable to use a method reference.\r\n\r\nIf you really must use a method reference, you can always write this:\r\n\r\n    public static boolean containsO(String s) {\r\n      return s.contains(&quot;o&quot;);\r\n    }\r\n\r\nAnd then use it:\r\n\r\n    obj.testPredicate(list, StringPredicates::containsO);","title":"how to express &quot;(String a)-&gt; a.contains(&quot;o&quot;)&quot; using java 8 method reference","body":"<p>You can create your own predicates:</p>\n\n<pre><code>public class StringPredicates {\n  public static Predicate&lt;String&gt; contains(String contained) {\n    return s -&gt; s.contains(contained);\n  }\n}\n</code></pre>\n\n<p>Then you can use them similarly to this:</p>\n\n<pre><code>obj.testPredicate(list, StringPredicates.contains(\"o\"));\n</code></pre>\n\n<p>Note, that you don't need method references to use such a construct. As I always say: use the right tool when needed! In this case you have a variable, so it's not advisable to use a method reference.</p>\n\n<p>If you really must use a method reference, you can always write this:</p>\n\n<pre><code>public static boolean containsO(String s) {\n  return s.contains(\"o\");\n}\n</code></pre>\n\n<p>And then use it:</p>\n\n<pre><code>obj.testPredicate(list, StringPredicates::containsO);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501527565,"creation_date":1501407358,"answer_id":45398385,"question_id":45398021,"body_markdown":"You can add a method in your Test class that returns the predicate\r\n\r\n    public class Test\r\n    {\r\n        ..\r\n        public static Predicate&lt;String&gt; contains_o()\r\n        {\r\n            return s -&gt; s.contains(&quot;o&quot;);\r\n        }\r\n\r\nThen use it when testing the predicate\r\n\r\n        @Test\r\n        public void testPredicate() throws Exception\r\n        {\r\n            List&lt;String&gt; listTemp = lambda.testPredicate(list, Test.contains_o());\r\n            System.out.println(listTemp);\r\n        }\r\n        ..\r\n    }\r\n\r\n","title":"how to express &quot;(String a)-&gt; a.contains(&quot;o&quot;)&quot; using java 8 method reference","body":"<p>You can add a method in your Test class that returns the predicate</p>\n\n<pre><code>public class Test\n{\n    ..\n    public static Predicate&lt;String&gt; contains_o()\n    {\n        return s -&gt; s.contains(\"o\");\n    }\n</code></pre>\n\n<p>Then use it when testing the predicate</p>\n\n<pre><code>    @Test\n    public void testPredicate() throws Exception\n    {\n        List&lt;String&gt; listTemp = lambda.testPredicate(list, Test.contains_o());\n        System.out.println(listTemp);\n    }\n    ..\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8186124,"reputation":4869,"user_id":6161898,"display_name":"fg78nc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501412153,"creation_date":1501412153,"answer_id":45399069,"question_id":45398021,"body_markdown":"       \r\nStatic re-usable Predicate        \r\n\r\n        public static Predicate&lt;String&gt; contains(String contained) {\r\n    \t\treturn s -&gt; s.contains(contained);\r\n    \t}\r\nTest code\r\n    \t\r\n\r\n    @Test\r\n        public &lt;T&gt; List&lt;T&gt; testPredicate(List&lt;T&gt; list , Predicate&lt;T&gt; contains){\r\n        return list.stream()\r\n            .filter(contains)\r\n            .collect(Collectors.toList());\r\n        }\r\n\r\n ","title":"how to express &quot;(String a)-&gt; a.contains(&quot;o&quot;)&quot; using java 8 method reference","body":"<p>Static re-usable Predicate        </p>\n\n<pre><code>    public static Predicate&lt;String&gt; contains(String contained) {\n        return s -&gt; s.contains(contained);\n    }\n</code></pre>\n\n<p>Test code</p>\n\n<pre><code>@Test\n    public &lt;T&gt; List&lt;T&gt; testPredicate(List&lt;T&gt; list , Predicate&lt;T&gt; contains){\n    return list.stream()\n        .filter(contains)\n        .collect(Collectors.toList());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6595620,"reputation":41,"user_id":5095515,"display_name":"pnagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701383186,"creation_date":1701361542,"answer_id":77580045,"question_id":45398021,"body_markdown":"I recommend using \r\n```\r\nlistTemp.stream().filter(&#39;o&#39;::contains)\r\n```\r\nand then terminating this stream as you need.","title":"how to express &quot;(String a)-&gt; a.contains(&quot;o&quot;)&quot; using java 8 method reference","body":"<p>I recommend using</p>\n<pre><code>listTemp.stream().filter('o'::contains)\n</code></pre>\n<p>and then terminating this stream as you need.</p>\n"}],"owner":{"account_id":5743723,"reputation":79,"user_id":7124181,"display_name":"usrmqj xv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6795,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1701383186,"creation_date":1501404513,"question_id":45398021,"body_markdown":"the &quot;String::contains&quot; is wrong. but how to express the lambda?\r\n\r\nIn addition , when I write this in IntelliJ IDEA :\r\n&gt;  obj.testPredicate(list, String::contains);\r\n\r\nI get the error in &quot;String::contains&quot; : Non-static method cannot be referenced from a static context. but the contains is not static method. I am confused by the tips.\r\n\r\nmy code as follows:\r\n\r\n    public &lt;T&gt; List&lt;T&gt; testPredicate(List&lt;T&gt; list , Predicate&lt;T&gt; predicate){\r\n        List&lt;T&gt; result = new ArrayList&lt;&gt;();\r\n        for(T t: list){\r\n            if(predicate.test(t)){\r\n                result.add(t);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nand this is the caller:\r\n\r\n    @Test\r\n    public void testPredicate() throws Exception {\r\n        List&lt;String&gt; listTemp = lambda.testPredicate(list, s -&gt; s.contains(&quot;o&quot;));\r\n        System.out.println(listTemp);\r\n    }\r\n\r\n**why the simplest lambda cannot be replace by method reference?** \r\n\r\nand I see the https://stackoverflow.com/questions/23139725/using-method-reference-instead-of-multi-argument-lambda.\r\n\r\nit says \r\n&gt;(2) If func is an instance method, then SomeClass::func is a lambda that uses the first argument as the instance, as you thought:\r\n(a, b, c) -&gt; a.func(b, c);\r\n\r\nthere is no defference with my (String a, String b)-&gt; a.contains(b); why method reference did not work?","title":"how to express &quot;(String a)-&gt; a.contains(&quot;o&quot;)&quot; using java 8 method reference","body":"<p>the \"String::contains\" is wrong. but how to express the lambda?</p>\n\n<p>In addition , when I write this in IntelliJ IDEA :</p>\n\n<blockquote>\n  <p>obj.testPredicate(list, String::contains);</p>\n</blockquote>\n\n<p>I get the error in \"String::contains\" : Non-static method cannot be referenced from a static context. but the contains is not static method. I am confused by the tips.</p>\n\n<p>my code as follows:</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; testPredicate(List&lt;T&gt; list , Predicate&lt;T&gt; predicate){\n    List&lt;T&gt; result = new ArrayList&lt;&gt;();\n    for(T t: list){\n        if(predicate.test(t)){\n            result.add(t);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>and this is the caller:</p>\n\n<pre><code>@Test\npublic void testPredicate() throws Exception {\n    List&lt;String&gt; listTemp = lambda.testPredicate(list, s -&gt; s.contains(\"o\"));\n    System.out.println(listTemp);\n}\n</code></pre>\n\n<p><strong>why the simplest lambda cannot be replace by method reference?</strong> </p>\n\n<p>and I see the <a href=\"https://stackoverflow.com/questions/23139725/using-method-reference-instead-of-multi-argument-lambda\">Using method reference instead of multi argument lambda</a>.</p>\n\n<p>it says </p>\n\n<blockquote>\n  <p>(2) If func is an instance method, then SomeClass::func is a lambda that uses the first argument as the instance, as you thought:\n  (a, b, c) -> a.func(b, c);</p>\n</blockquote>\n\n<p>there is no defference with my (String a, String b)-> a.contains(b); why method reference did not work?</p>\n"},{"tags":["java","maven","javafx","gson"],"comments":[{"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"score":0,"creation_date":1701379785,"post_id":77581756,"comment_id":136771936,"body_markdown":"@jewelsea Ah okay! I didn&#39;t even know the file existed and I had to add statements to get it to work. Thank you for the information","body":"@jewelsea Ah okay! I didn&#39;t even know the file existed and I had to add statements to get it to work. Thank you for the information"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1701380233,"post_id":77581756,"comment_id":136772018,"body_markdown":"Also, is there a reason why you set `&lt;scope&gt;provided&lt;/scope&gt;` for the Gson dependency?","body":"Also, is there a reason why you set <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> for the Gson dependency?"},{"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"score":1,"creation_date":1701380837,"post_id":77581756,"comment_id":136772100,"body_markdown":"@Marcono1234 That was just a solution someone had given online that I tried. The problem seemed similar to mine but it didn&#39;t work","body":"@Marcono1234 That was just a solution someone had given online that I tried. The problem seemed similar to mine but it didn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1701381804,"creation_date":1701380448,"answer_id":77581872,"question_id":77581756,"body_markdown":"#### For modular applications\r\n\r\nFor a modular application, with `module-info.java` you need to provide the appropriate settings to make the gson module available to your code and your code available to gson.  \r\n\r\nThis is detailed in the Gson trouble shooting documentation, under the section:\r\n\r\n * [InaccessibleObjectException: &#39;module ... does not &quot;opens ...&quot; to module com.google.gson&#39;](https://github.com/google/gson/blob/main/Troubleshooting.md#-inaccessibleobjectexception-module--does-not-opens--to-module-comgooglegson).\r\n\r\n&gt; Make sure the `module-info.java` file of your project allows Gson to use reflection on your classes, for example:\r\n&gt; \r\n&gt; \r\n&gt;     module mymodule {\r\n&gt;         requires com.google.gson;\r\n&gt;     \r\n&gt;         opens mypackage to com.google.gson;\r\n&gt;     }\r\n\r\n#### For your project\r\n\r\nChange:\r\n\r\n    module ca.cmpt213.asn5 {\r\n        requires transitive javafx.controls;\r\n    \r\n        exports ca.cmpt213.asn5;\r\n    }\r\n\r\nto:\r\n\r\n    module ca.cmpt213.asn5 {\r\n        requires javafx.controls;\r\n        requires com.google.gson;\r\n    \r\n        opens mypackage to com.google.gson;\r\n\r\n        exports ca.cmpt213.asn5;\r\n    }\r\n\r\nWhere `mypackage` is some package in your code that Gson needs to run reflection on.  \r\n\r\nThough it causes no issue, I just note that the `transitive` keyword isn&#39;t needed for your application. It is used to make types in dependent modules available to clients of your module.  That is a function more useful for creating sharable library modules than for standalone JavaFX applications.\r\n\r\n#### For non-modular applications\r\n\r\nAlternately, you can make your application non-modular by removing the `module-info.java` file and following the [instructions for non-modular applications on openjfx.io][1].\r\n\r\n#### Using the appropriate maven scope\r\n\r\nAs noted in the comments, only use [`provided`][2] scope when you are sure that the provided dependency will be present in your runtime environment.  Gson is not part of the standard JRE, so it is unlikely to be present.\r\n\r\nFrom the [Maven documentation][2]:\r\n\r\n&gt; **provided**\r\n&gt;\r\n&gt; This is much like `compile`, but indicates you expect the JDK or a container to provide the dependency at runtime. For example, when building a web application for the Java Enterprise Edition, you would set the dependency on the Servlet API and related Java EE APIs to scope provided because the web container provides those classes. A dependency with this scope is added to the classpath used for compilation and test, but not the runtime classpath. It is not transitive.\r\n\r\nProbably, your dependency should just use the default **compile** scope and read:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/\r\n  [2]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\r\n","title":"Cannot import Gson into my JavaFX Maven project","body":"<h4>For modular applications</h4>\n<p>For a modular application, with <code>module-info.java</code> you need to provide the appropriate settings to make the gson module available to your code and your code available to gson.</p>\n<p>This is detailed in the Gson trouble shooting documentation, under the section:</p>\n<ul>\n<li><a href=\"https://github.com/google/gson/blob/main/Troubleshooting.md#-inaccessibleobjectexception-module--does-not-opens--to-module-comgooglegson\" rel=\"nofollow noreferrer\">InaccessibleObjectException: 'module ... does not &quot;opens ...&quot; to module com.google.gson'</a>.</li>\n</ul>\n<blockquote>\n<p>Make sure the <code>module-info.java</code> file of your project allows Gson to use reflection on your classes, for example:</p>\n<pre><code>module mymodule {\n    requires com.google.gson;\n\n    opens mypackage to com.google.gson;\n}\n</code></pre>\n</blockquote>\n<h4>For your project</h4>\n<p>Change:</p>\n<pre><code>module ca.cmpt213.asn5 {\n    requires transitive javafx.controls;\n\n    exports ca.cmpt213.asn5;\n}\n</code></pre>\n<p>to:</p>\n<pre><code>module ca.cmpt213.asn5 {\n    requires javafx.controls;\n    requires com.google.gson;\n\n    opens mypackage to com.google.gson;\n\n    exports ca.cmpt213.asn5;\n}\n</code></pre>\n<p>Where <code>mypackage</code> is some package in your code that Gson needs to run reflection on.</p>\n<p>Though it causes no issue, I just note that the <code>transitive</code> keyword isn't needed for your application. It is used to make types in dependent modules available to clients of your module.  That is a function more useful for creating sharable library modules than for standalone JavaFX applications.</p>\n<h4>For non-modular applications</h4>\n<p>Alternately, you can make your application non-modular by removing the <code>module-info.java</code> file and following the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">instructions for non-modular applications on openjfx.io</a>.</p>\n<h4>Using the appropriate maven scope</h4>\n<p>As noted in the comments, only use <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\" rel=\"nofollow noreferrer\"><code>provided</code></a> scope when you are sure that the provided dependency will be present in your runtime environment.  Gson is not part of the standard JRE, so it is unlikely to be present.</p>\n<p>From the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\" rel=\"nofollow noreferrer\">Maven documentation</a>:</p>\n<blockquote>\n<p><strong>provided</strong></p>\n<p>This is much like <code>compile</code>, but indicates you expect the JDK or a container to provide the dependency at runtime. For example, when building a web application for the Java Enterprise Edition, you would set the dependency on the Servlet API and related Java EE APIs to scope provided because the web container provides those classes. A dependency with this scope is added to the classpath used for compilation and test, but not the runtime classpath. It is not transitive.</p>\n</blockquote>\n<p>Probably, your dependency should just use the default <strong>compile</strong> scope and read:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77581872,"answer_count":1,"score":1,"last_activity_date":1701381804,"creation_date":1701378946,"question_id":77581756,"body_markdown":"I am working on a JavaFX Maven project in VSCode and am trying to import Gson into one of my classes and it&#39;s not letting me. VSCode gives me a &quot;The type com.google.gson.Gson is not accessible&quot; error and refuses to let me work with Gson. \r\n\r\nThe dependency has been added into my pom.xml file and I have tried some solutions online with none of them working. What&#39;s also weird is Gson working fine with another Spring Maven project I&#39;m working on at the same time as this JavaFX project, so I&#39;m not quite sure what the problem could be.\r\n\r\nHere&#39;s my pom.xml file:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;ca.cmpt213.asn5&lt;/groupId&gt;\r\n    &lt;artifactId&gt;client&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.5&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;!-- &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;ca.cmpt213.asn5.&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt; --&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd here&#39;s the class I&#39;m working on that can&#39;t import Gson:\r\n\r\n```\r\npackage ca.cmpt213.asn5;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\nimport com.google.gson.Gson; //gives a squiggly red line under this statement\r\n\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Orientation;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ComboBox;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Separator;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\n\r\npublic class SuperhumanTracker extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException {\r\n\r\n        Label title = new Label(&quot;Superhuman Tracker&quot;);\r\n        title.setFont(new Font(20));\r\n\r\n        TableView table = new TableView&lt;&gt;();\r\n        TableColumn idColumn = new TableColumn&lt;&gt;(&quot;ID&quot;);\r\n        TableColumn nameColumn = new TableColumn&lt;&gt;(&quot;NAME&quot;);\r\n        TableColumn superpowerColumn = new TableColumn&lt;&gt;(&quot;SUPERPOWER&quot;);\r\n        TableColumn abilityScoreColumn = new TableColumn&lt;&gt;(&quot;ABILITY SCORE&quot;);\r\n        idColumn.setMinWidth(25);\r\n        nameColumn.setMinWidth(200);\r\n        superpowerColumn.setMinWidth(150);\r\n        abilityScoreColumn.setMinWidth(150);\r\n\r\n        table.getColumns().addAll(idColumn, nameColumn, superpowerColumn, abilityScoreColumn);\r\n\r\n        Button addButton = new Button(&quot;Add a Superhuman&quot;);\r\n\r\n        ComboBox&lt;Integer&gt; idComboBox = new ComboBox&lt;&gt;();\r\n        idComboBox.setPromptText(&quot;ID&quot;);\r\n        idComboBox.getItems().addAll(1, 2, 3);\r\n\r\n        Button viewButton = new Button(&quot;Get Details&quot;);\r\n        Button deleteButton = new Button(&quot;Delete Superhuman&quot;);\r\n\r\n        viewButton.setOnAction(event -&gt; {\r\n            try {\r\n                long id = Long.valueOf(idComboBox.getValue());\r\n                URL url = new URL(&quot;http://localhost:8080/api/superhuman/&quot; + id);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setRequestMethod(&quot;GET&quot;);\r\n                connection.getInputStream();\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                String line = reader.readLine();\r\n\r\n                Gson gson = new Gson(); //gives a squiggly red line under the Gson class\r\n\r\n                System.out.println(connection.getResponseCode());\r\n                connection.disconnect();\r\n            } catch (IOException ioException) {\r\n                ioException.printStackTrace();\r\n            }\r\n\r\n            Scene scene = new Scene(new SuperhumanDetails(null, 0, 0, null, null, null, null, 0).getView(), 400, 500);\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Superhuman Detailed View&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        });\r\n\r\n        HBox hboxLeft = new HBox(idComboBox, separator1, viewButton, separator2, deleteButton);\r\n        hboxLeft.setAlignment(Pos.CENTER_LEFT);\r\n\r\n        HBox hboxRight = new HBox(addButton);\r\n        hboxRight.setAlignment(Pos.CENTER_RIGHT);\r\n\r\n        HBox hboxControls = new HBox(hboxLeft, hboxRight);\r\n        hboxControls.setSpacing(180);\r\n\r\n        VBox vbox = new VBox(title, table, hboxControls);\r\n        vbox.setAlignment(Pos.CENTER);\r\n        vbox.setSpacing(10);\r\n        vbox.setPadding(new Insets(10,10,10,10));\r\n\r\n        Scene scene = new Scene(vbox, 600, 400);\r\n        \r\n        primaryStage.setTitle(&quot;Superhuman Tracker&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the module-info.java file:\r\n\r\n```\r\nmodule ca.cmpt213.asn5 {\r\n    requires transitive javafx.controls;\r\n\r\n    exports ca.cmpt213.asn5;\r\n}\r\n```","title":"Cannot import Gson into my JavaFX Maven project","body":"<p>I am working on a JavaFX Maven project in VSCode and am trying to import Gson into one of my classes and it's not letting me. VSCode gives me a &quot;The type com.google.gson.Gson is not accessible&quot; error and refuses to let me work with Gson.</p>\n<p>The dependency has been added into my pom.xml file and I have tried some solutions online with none of them working. What's also weird is Gson working fine with another Spring Maven project I'm working on at the same time as this JavaFX project, so I'm not quite sure what the problem could be.</p>\n<p>Here's my pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ca.cmpt213.asn5&lt;/groupId&gt;\n    &lt;artifactId&gt;client&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;!-- &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;ca.cmpt213.asn5.&lt;/mainClass&gt;\n                        &lt;/configuration&gt; --&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And here's the class I'm working on that can't import Gson:</p>\n<pre><code>package ca.cmpt213.asn5;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport com.google.gson.Gson; //gives a squiggly red line under this statement\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Orientation;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Separator;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\npublic class SuperhumanTracker extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws IOException {\n\n        Label title = new Label(&quot;Superhuman Tracker&quot;);\n        title.setFont(new Font(20));\n\n        TableView table = new TableView&lt;&gt;();\n        TableColumn idColumn = new TableColumn&lt;&gt;(&quot;ID&quot;);\n        TableColumn nameColumn = new TableColumn&lt;&gt;(&quot;NAME&quot;);\n        TableColumn superpowerColumn = new TableColumn&lt;&gt;(&quot;SUPERPOWER&quot;);\n        TableColumn abilityScoreColumn = new TableColumn&lt;&gt;(&quot;ABILITY SCORE&quot;);\n        idColumn.setMinWidth(25);\n        nameColumn.setMinWidth(200);\n        superpowerColumn.setMinWidth(150);\n        abilityScoreColumn.setMinWidth(150);\n\n        table.getColumns().addAll(idColumn, nameColumn, superpowerColumn, abilityScoreColumn);\n\n        Button addButton = new Button(&quot;Add a Superhuman&quot;);\n\n        ComboBox&lt;Integer&gt; idComboBox = new ComboBox&lt;&gt;();\n        idComboBox.setPromptText(&quot;ID&quot;);\n        idComboBox.getItems().addAll(1, 2, 3);\n\n        Button viewButton = new Button(&quot;Get Details&quot;);\n        Button deleteButton = new Button(&quot;Delete Superhuman&quot;);\n\n        viewButton.setOnAction(event -&gt; {\n            try {\n                long id = Long.valueOf(idComboBox.getValue());\n                URL url = new URL(&quot;http://localhost:8080/api/superhuman/&quot; + id);\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                connection.setRequestMethod(&quot;GET&quot;);\n                connection.getInputStream();\n                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n                String line = reader.readLine();\n\n                Gson gson = new Gson(); //gives a squiggly red line under the Gson class\n\n                System.out.println(connection.getResponseCode());\n                connection.disconnect();\n            } catch (IOException ioException) {\n                ioException.printStackTrace();\n            }\n\n            Scene scene = new Scene(new SuperhumanDetails(null, 0, 0, null, null, null, null, 0).getView(), 400, 500);\n            Stage stage = new Stage();\n            stage.setTitle(&quot;Superhuman Detailed View&quot;);\n            stage.setScene(scene);\n            stage.show();\n        });\n\n        HBox hboxLeft = new HBox(idComboBox, separator1, viewButton, separator2, deleteButton);\n        hboxLeft.setAlignment(Pos.CENTER_LEFT);\n\n        HBox hboxRight = new HBox(addButton);\n        hboxRight.setAlignment(Pos.CENTER_RIGHT);\n\n        HBox hboxControls = new HBox(hboxLeft, hboxRight);\n        hboxControls.setSpacing(180);\n\n        VBox vbox = new VBox(title, table, hboxControls);\n        vbox.setAlignment(Pos.CENTER);\n        vbox.setSpacing(10);\n        vbox.setPadding(new Insets(10,10,10,10));\n\n        Scene scene = new Scene(vbox, 600, 400);\n        \n        primaryStage.setTitle(&quot;Superhuman Tracker&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Here's the module-info.java file:</p>\n<pre><code>module ca.cmpt213.asn5 {\n    requires transitive javafx.controls;\n\n    exports ca.cmpt213.asn5;\n}\n</code></pre>\n"},{"tags":["java","database","spring-boot","apache-commons-dbcp"],"answers":[{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701381736,"creation_date":1586191280,"answer_id":61064700,"question_id":60427372,"body_markdown":"Found the problem, due to some inactivity datasource becomes idle and looses connection from pool. \r\n\r\nThe solution was to add validation query and set testOnBorrow true on spring application properties file\r\n\r\n    validationQuery=&quot;select 1&quot;\r\n    testOnBorrow=true\r\n\r\n`autoRecconect = true` doesn&#39;t help in this case  ","title":"Occasionally getting JDBC begin transaction failed, then recovers automatically","body":"<p>Found the problem, due to some inactivity datasource becomes idle and looses connection from pool.</p>\n<p>The solution was to add validation query and set testOnBorrow true on spring application properties file</p>\n<pre><code>validationQuery=&quot;select 1&quot;\ntestOnBorrow=true\n</code></pre>\n<p><code>autoRecconect = true</code> doesn't help in this case</p>\n"}],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61064700,"answer_count":1,"score":0,"last_activity_date":1701381736,"creation_date":1582784757,"question_id":60427372,"body_markdown":"We are using multiple spring datasource to connect multiple database. We are getting the following errors only Occasionally, and then after a while everything stars working again automatically\r\n\r\n    o.h.e.j.s.SqlExceptionHelper.logExceptions:129 - SQL Error: 0, SQLState: null\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed:\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 84,250,518 milliseconds ago.  The last packet sent successfully to the server was 84,250,518 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.","title":"Occasionally getting JDBC begin transaction failed, then recovers automatically","body":"<p>We are using multiple spring datasource to connect multiple database. We are getting the following errors only Occasionally, and then after a while everything stars working again automatically</p>\n\n<pre><code>o.h.e.j.s.SqlExceptionHelper.logExceptions:129 - SQL Error: 0, SQLState: null\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed:\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 84,250,518 milliseconds ago.  The last packet sent successfully to the server was 84,250,518 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1368811766,"post_id":16614620,"comment_id":23886612,"body_markdown":"I believe the right one really is http://bugreport.sun.com/bugreport/. Someone probably forgot to update the mail.","body":"I believe the right one really is <a href=\"http://bugreport.sun.com/bugreport/\" rel=\"nofollow noreferrer\">bugreport.sun.com/bugreport</a>. Someone probably forgot to update the mail."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":2,"creation_date":1368811974,"post_id":16614620,"comment_id":23886709,"body_markdown":"? That&#39;s the link I posted where I filed the bug. But I cannot browse the bugs there...","body":"? That&#39;s the link I posted where I filed the bug. But I cannot browse the bugs there..."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1368812508,"post_id":16614620,"comment_id":23886949,"body_markdown":"You didnt say (until the comment) you were trying to browse the bug database. As I said, that URL is the one for reporting. The URL http://search.oracle.com/search/search?search_p_main_operator=all&amp;start=1&amp;group=bugs.sun.com&amp;q=text is the search database function. The whole `bugs.sun.com` is out.","body":"You didnt say (until the comment) you were trying to browse the bug database. As I said, that URL is the one for reporting. The URL <a href=\"http://search.oracle.com/search/search?search_p_main_operator=all&amp;start=1&amp;group=bugs.sun.com&amp;q=text\" rel=\"nofollow noreferrer\">search.oracle.com/search/&hellip;</a> is the search database function. The whole <code>bugs.sun.com</code> is out."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1368814377,"post_id":16614620,"comment_id":23887795,"body_markdown":"@acdcjunior hmm, but even there all links direkt to http://bugs.sun.com/ which gets redirected...","body":"@acdcjunior hmm, but even there all links direkt to <a href=\"http://bugs.sun.com/\" rel=\"nofollow noreferrer\">bugs.sun.com</a> which gets redirected..."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1368814888,"post_id":16614620,"comment_id":23888020,"body_markdown":"Yes... The site is down, but it seems this is not supposed to be happening. Can you check web.archive.org (I cant from here), maybe they have some date where they could access that URL. The google cache points to 9/mai/2013. So this is very recent.","body":"Yes... The site is down, but it seems this is not supposed to be happening. Can you check web.archive.org (I cant from here), maybe they have some date where they could access that URL. The google cache points to 9/mai/2013. So this is very recent."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1368815003,"post_id":16614620,"comment_id":23888069,"body_markdown":"Hey! http://bugs.sun.com/ is back on! So it was **not** supposed to be down anyway.","body":"Hey! <a href=\"http://bugs.sun.com/\" rel=\"nofollow noreferrer\">bugs.sun.com</a> is back on! So it was <b>not</b> supposed to be down anyway."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1368818056,"post_id":16614620,"comment_id":23889451,"body_markdown":"@acdcjunior great! If you summarize your comments in an answer, I will accept it.","body":"@acdcjunior great! If you summarize your comments in an answer, I will accept it."},{"owner":{"account_id":145051,"reputation":130076,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":2,"creation_date":1701367527,"post_id":16614620,"comment_id":136769858,"body_markdown":"This question is asking for an _official_ resource, which [is permitted](https://meta.stackoverflow.com/q/385479/354577). I&#39;m voting to reopen from the reopen queue.","body":"This question is asking for an <i>official</i> resource, which <a href=\"https://meta.stackoverflow.com/q/385479/354577\">is permitted</a>. I&#39;m voting to reopen from the reopen queue."}],"answers":[{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701381720,"creation_date":1368818784,"answer_id":16616477,"question_id":16614620,"body_markdown":"At the time this question was asked, the URL was still http://bugs.sun.com.  However, the bug database site was temporarily down, and pointed to Oracle&#39;s main site (as mentioned in the question).  The outage appeared to be unintended behavior.\r\n\r\n---\r\n\r\n## Additional context during the outage\r\n\r\nFor filling bug reports, the right URL really is http://bugreport.sun.com/bugreport/.\r\n\r\nTo **search/browse the bug database**, you can use the [Oracle Search site function][1]. If you try it, you&#39;ll see that every answer points to http://bugs.sun.com (such as [this][2]), and when you go there, the page does not open.\r\n\r\nIf the site really went out, an approach is to check http://web.archive.org and check the last date they got to that URL (if they ever got to it). Google search cache is also a good one. Right now, the google cache of bugs.sun.com points to **May 9, 2013**. So this is very recent.\r\n\r\n\r\n  [1]: http://search.oracle.com/search/search?search_p_main_operator=all&amp;start=1&amp;group=bugs.sun.com&amp;q=text\r\n  [2]: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=8010486","title":"Java Sun/Oracle Bug database: new URL?","body":"<p>At the time this question was asked, the URL was still <a href=\"http://bugs.sun.com\" rel=\"nofollow noreferrer\">http://bugs.sun.com</a>.  However, the bug database site was temporarily down, and pointed to Oracle's main site (as mentioned in the question).  The outage appeared to be unintended behavior.</p>\n<hr />\n<h2>Additional context during the outage</h2>\n<p>For filling bug reports, the right URL really is <a href=\"http://bugreport.sun.com/bugreport/\" rel=\"nofollow noreferrer\">http://bugreport.sun.com/bugreport/</a>.</p>\n<p>To <strong>search/browse the bug database</strong>, you can use the <a href=\"http://search.oracle.com/search/search?search_p_main_operator=all&amp;start=1&amp;group=bugs.sun.com&amp;q=text\" rel=\"nofollow noreferrer\">Oracle Search site function</a>. If you try it, you'll see that every answer points to <a href=\"http://bugs.sun.com\" rel=\"nofollow noreferrer\">http://bugs.sun.com</a> (such as <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=8010486\" rel=\"nofollow noreferrer\">this</a>), and when you go there, the page does not open.</p>\n<p>If the site really went out, an approach is to check <a href=\"http://web.archive.org\" rel=\"nofollow noreferrer\">http://web.archive.org</a> and check the last date they got to that URL (if they ever got to it). Google search cache is also a good one. Right now, the google cache of bugs.sun.com points to <strong>May 9, 2013</strong>. So this is very recent.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701381384,"creation_date":1701381384,"answer_id":77581935,"question_id":16614620,"body_markdown":"The Java Bug Database is currently (as of November 2023) located at [https://bugs.java.com/bugdatabase/](https://bugs.java.com/bugdatabase/).\r\n\r\nAny bugs.sun.com URLs redirect to this new location, though they link to this landing page, and not the corresponding issue.  For instance, http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6754672 redirects to https://bugs.java.com/bugdatabase/, not to https://bugs.java.com/bugdatabase/view_bug?bug_id=6754672.\r\n\r\nThe bug ID have not changed, and can be entered in the &quot;Search by Bug ID&quot; field on the landing page to open a specific bug.","title":"Java Sun/Oracle Bug database: new URL?","body":"<p>The Java Bug Database is currently (as of November 2023) located at <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/</a>.</p>\n<p>Any bugs.sun.com URLs redirect to this new location, though they link to this landing page, and not the corresponding issue.  For instance, <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6754672\" rel=\"nofollow noreferrer\">http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6754672</a> redirects to <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/</a>, not to <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6754672\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6754672</a>.</p>\n<p>The bug ID have not changed, and can be entered in the &quot;Search by Bug ID&quot; field on the landing page to open a specific bug.</p>\n"}],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1213,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":16616477,"answer_count":2,"score":7,"last_activity_date":1701381720,"creation_date":1368810929,"question_id":16614620,"body_markdown":"It seems the Sun URL is finally broken: http://bugs.sun.com/\r\n\r\nthough it&#39;s still mentioned at:\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/community/index.html\r\n\r\nI could still file a bug at: http://bugreport.sun.com/bugreport/\r\n\r\nBut even the link in the mail mentions: http://bugs.sun.com/\r\n\r\nHas anybody found the new link?\r\n\r\n**UPDATE** Use this link: https://bugs.openjdk.java.net/ - bug numbers preserved!","title":"Java Sun/Oracle Bug database: new URL?","body":"<p>It seems the Sun URL is finally broken: <a href=\"http://bugs.sun.com/\" rel=\"nofollow noreferrer\">http://bugs.sun.com/</a></p>\n\n<p>though it's still mentioned at:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/community/index.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/community/index.html</a></p>\n\n<p>I could still file a bug at: <a href=\"http://bugreport.sun.com/bugreport/\" rel=\"nofollow noreferrer\">http://bugreport.sun.com/bugreport/</a></p>\n\n<p>But even the link in the mail mentions: <a href=\"http://bugs.sun.com/\" rel=\"nofollow noreferrer\">http://bugs.sun.com/</a></p>\n\n<p>Has anybody found the new link?</p>\n\n<p><strong>UPDATE</strong> Use this link: <a href=\"https://bugs.openjdk.java.net/\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/</a> - bug numbers preserved!</p>\n"},{"tags":["java","exception","jpa"],"comments":[{"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"score":1,"creation_date":1701411718,"post_id":77581885,"comment_id":136774762,"body_markdown":"You could already apply a filter to your list and check if there are duplicate phone_number attributes in Java instead of SQL.","body":"You could already apply a filter to your list and check if there are duplicate phone_number attributes in Java instead of SQL."}],"owner":{"account_id":30035260,"reputation":1,"user_id":23017417,"display_name":"May Christine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701380597,"creation_date":1701380597,"question_id":77581885,"body_markdown":"I would like to know how to return an object after using saveAll() method (from Spring JPA) with a unique constraint error. \r\n\r\nFor example, I have a list of objects. Each of them must have a unique field (for example, &quot;phone_number&quot; must be unique for each row in the table). I want to save these objects in Postgres DB, but two objects have the same &quot;phone_number&quot; value, so I catch an Exception. There is a text in this Exception (in &quot;cause&quot; field), and this text tells me what &quot;phone_number&quot; value was the cause of my problem. But it&#39;s not enough for me. I need other fields of this &quot;problematic&quot; object (it&#39;s like when we use save() method, we get a saved object in return). \r\n\r\nI know that I can use save() method in For Loop, so my Exception will take an object as a parameter. But there are too many objects in my list at once, I don&#39;t think that it&#39;s a good idea to save them separately, so I use saveAll().","title":"java jpa exception unique-constraint hibernate","body":"<p>I would like to know how to return an object after using saveAll() method (from Spring JPA) with a unique constraint error.</p>\n<p>For example, I have a list of objects. Each of them must have a unique field (for example, &quot;phone_number&quot; must be unique for each row in the table). I want to save these objects in Postgres DB, but two objects have the same &quot;phone_number&quot; value, so I catch an Exception. There is a text in this Exception (in &quot;cause&quot; field), and this text tells me what &quot;phone_number&quot; value was the cause of my problem. But it's not enough for me. I need other fields of this &quot;problematic&quot; object (it's like when we use save() method, we get a saved object in return).</p>\n<p>I know that I can use save() method in For Loop, so my Exception will take an object as a parameter. But there are too many objects in my list at once, I don't think that it's a good idea to save them separately, so I use saveAll().</p>\n"},{"tags":["java","cassandra","network-programming","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701379823,"creation_date":1701379823,"answer_id":77581839,"question_id":77574717,"body_markdown":"Not sure how big the write payloads are, but that can absolutely affect this. Otherwise, the tricky part with lightweight transactions in Cassandra is that each one is doing (I think) something like 4 round-trips between the coordinator and target nodes. So that&#39;s going to greatly limit the throughput in and of itself.\r\n\r\nAlso, multi-DC communications are never easy. I would recommend writing to a single data center (using LOCAL_QUORUM), and relying on replication to sync the replicas.\r\n\r\nAre the nodes being marked as &quot;down&quot; at all? If so, one thing you could try, would be to have a look at the `phi_convict_threshold` on each node. Phi Convict is essentially a non-linear representation of how long node communication can wait before it reports a failure. I think it defaults to 8, but for most multi-DC cloud deployments that I&#39;ve done, we&#39;ve had to bump that up to 12.","title":"Adding even 50 ms delay between datacenters in Cassandra cluster leads to NoNodeAvailableException even for LOCAL_SERIAL","body":"<p>Not sure how big the write payloads are, but that can absolutely affect this. Otherwise, the tricky part with lightweight transactions in Cassandra is that each one is doing (I think) something like 4 round-trips between the coordinator and target nodes. So that's going to greatly limit the throughput in and of itself.</p>\n<p>Also, multi-DC communications are never easy. I would recommend writing to a single data center (using LOCAL_QUORUM), and relying on replication to sync the replicas.</p>\n<p>Are the nodes being marked as &quot;down&quot; at all? If so, one thing you could try, would be to have a look at the <code>phi_convict_threshold</code> on each node. Phi Convict is essentially a non-linear representation of how long node communication can wait before it reports a failure. I think it defaults to 8, but for most multi-DC cloud deployments that I've done, we've had to bump that up to 12.</p>\n"}],"owner":{"account_id":208839,"reputation":1399,"user_id":459572,"accept_rate":23,"display_name":"Donz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701379823,"creation_date":1701295253,"question_id":77574717,"body_markdown":"I try to do the test for understanding how C* takes network issues with fix delay on every packet. Java application with Datastax Java driver very simple multidc C* cluster and tc tool.\r\n\r\nThere DCA and DCB. Each of them has only node of C* in it. I starts the test with only 200 requests (insert ... if not exist) to C* in second, but each of them at first tries to be executed with SERIAL consistency and if it fails second attempt is going with LOCAL_SERIAL. Timeouts for SERIAL and LOCAL_SERIAL are 400 ms and 200 ms accordinly.\r\n\r\nI use tc tool for modelling network issues. As already said I add fix delay 50 ms for all requests from node of DCA to node of DCB. \r\n\r\nAfter this single manual requests are still working. But if I put load test with 200 rps on DCA I get a lot of NoNodeAvailableException in my logs even on LOCAL_SERIAL tries.\r\n\r\nI read about defaults for Datastax Java driver. It seems they are ok for this test. I checked that contact points in application in DCA consist only of one node of DCA.\r\n\r\nWhy do I get this behavior with these quite simple conditions? Any thought?\r\n\r\nAlso my colleagues got some these exceptions even on 80 rps with no network issues. But I don&#39;t know their setup.","title":"Adding even 50 ms delay between datacenters in Cassandra cluster leads to NoNodeAvailableException even for LOCAL_SERIAL","body":"<p>I try to do the test for understanding how C* takes network issues with fix delay on every packet. Java application with Datastax Java driver very simple multidc C* cluster and tc tool.</p>\n<p>There DCA and DCB. Each of them has only node of C* in it. I starts the test with only 200 requests (insert ... if not exist) to C* in second, but each of them at first tries to be executed with SERIAL consistency and if it fails second attempt is going with LOCAL_SERIAL. Timeouts for SERIAL and LOCAL_SERIAL are 400 ms and 200 ms accordinly.</p>\n<p>I use tc tool for modelling network issues. As already said I add fix delay 50 ms for all requests from node of DCA to node of DCB.</p>\n<p>After this single manual requests are still working. But if I put load test with 200 rps on DCA I get a lot of NoNodeAvailableException in my logs even on LOCAL_SERIAL tries.</p>\n<p>I read about defaults for Datastax Java driver. It seems they are ok for this test. I checked that contact points in application in DCA consist only of one node of DCA.</p>\n<p>Why do I get this behavior with these quite simple conditions? Any thought?</p>\n<p>Also my colleagues got some these exceptions even on 80 rps with no network issues. But I don't know their setup.</p>\n"},{"tags":["java","spring","http","security"],"comments":[{"owner":{"account_id":2345376,"reputation":3008,"user_id":2055782,"accept_rate":58,"display_name":"Mohsin AR"},"score":0,"creation_date":1492704779,"post_id":43524211,"comment_id":74102831,"body_markdown":"did you try with `/health/**` ?","body":"did you try with <code>&#47;health&#47;**</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":1709965,"reputation":1324,"user_id":1568224,"display_name":"dave"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1639217558,"creation_date":1493290906,"answer_id":43655902,"question_id":43524211,"body_markdown":"The solution is to implement multiple configurations, as explained here:\r\n&lt;https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#multiple-httpsecurity&gt;\r\n\r\nEDIT 2021-12-11:\r\n\r\narchive link of reference: &lt;https://web.archive.org/web/20210126145444/https://docs.spring.io/spring-security/site/docs/current/reference/html5/#multiple-httpsecurity&gt;\r\n\r\nA similar question linking to an example is here:\r\n&lt;https://stackoverflow.com/a/18864786/1568224&gt;","title":"How do I add HTTP basic auth for a specific endpoint with spring security?","body":"<p>The solution is to implement multiple configurations, as explained here:\n<a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#multiple-httpsecurity\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#multiple-httpsecurity</a></p>\n<p>EDIT 2021-12-11:</p>\n<p>archive link of reference: <a href=\"https://web.archive.org/web/20210126145444/https://docs.spring.io/spring-security/site/docs/current/reference/html5/#multiple-httpsecurity\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20210126145444/https://docs.spring.io/spring-security/site/docs/current/reference/html5/#multiple-httpsecurity</a></p>\n<p>A similar question linking to an example is here:\n<a href=\"https://stackoverflow.com/a/18864786/1568224\">https://stackoverflow.com/a/18864786/1568224</a></p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1682200330,"creation_date":1682200330,"answer_id":76082092,"question_id":43524211,"body_markdown":"Using Spring Boot 3 with Spring Security 6:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .authorizeHttpRequests().requestMatchers(&quot;/health/**&quot;).authenticated().and().httpBasic()\r\n                .and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/**&quot;).permitAll()\r\n                .and()\r\n                .build();\r\n    }\r\n\r\nThis will authenticate only the endpoints under `/health` but leave all other endpoints exposed. You need to explicitly `permitAll()` on the endpoints not covered by security.","title":"How do I add HTTP basic auth for a specific endpoint with spring security?","body":"<p>Using Spring Boot 3 with Spring Security 6:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .authorizeHttpRequests().requestMatchers(&quot;/health/**&quot;).authenticated().and().httpBasic()\n            .and()\n            .authorizeHttpRequests().requestMatchers(&quot;/**&quot;).permitAll()\n            .and()\n            .build();\n}\n</code></pre>\n<p>This will authenticate only the endpoints under <code>/health</code> but leave all other endpoints exposed. You need to explicitly <code>permitAll()</code> on the endpoints not covered by security.</p>\n"},{"tags":[],"owner":{"account_id":11827698,"reputation":167,"user_id":8655240,"display_name":"elyte5star"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701378646,"creation_date":1701378646,"answer_id":77581727,"question_id":43524211,"body_markdown":"    \r\n\r\n    @Autowired\r\n    private BasicAuthEntryPoint basicAuthEntryPoint;\r\n\r\n    private static final String[] AUTH_WHITELIST = {\r\n            &quot;/&quot;,\r\n            &quot;/users/signup&quot;,\r\n            &quot;/reviews/create-review&quot;,\r\n            &quot;/auth/login&quot;,\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/swagger-ui/**&quot;,\r\n            &quot;/products/**&quot;,\r\n            &quot;/docs/**&quot;,\r\n\r\n    };\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.formLogin(form -&gt; form\r\n                .loginPage(&quot;/auth/login&quot;))\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .requestMatchers(AUTH_WHITELIST).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .httpBasic(httpSecurityHttpBasicConfigurer -&gt; {\r\n                    httpSecurityHttpBasicConfigurer.authenticationEntryPoint(basicAuthEntryPoint);\r\n                })\r\n                // .exceptionHandling(ex -&gt; ex.authenticationEntryPoint(basicAuthEntryPoint)\r\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\r\n        return http.build();\r\n    }\r\n","title":"How do I add HTTP basic auth for a specific endpoint with spring security?","body":"<pre><code>@Autowired\nprivate BasicAuthEntryPoint basicAuthEntryPoint;\n\nprivate static final String[] AUTH_WHITELIST = {\n        &quot;/&quot;,\n        &quot;/users/signup&quot;,\n        &quot;/reviews/create-review&quot;,\n        &quot;/auth/login&quot;,\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/swagger-ui/**&quot;,\n        &quot;/products/**&quot;,\n        &quot;/docs/**&quot;,\n\n};\n\n@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.formLogin(form -&gt; form\n            .loginPage(&quot;/auth/login&quot;))\n            .authorizeHttpRequests((authorize) -&gt; authorize\n                    .requestMatchers(AUTH_WHITELIST).permitAll()\n                    .anyRequest().authenticated())\n            .httpBasic(httpSecurityHttpBasicConfigurer -&gt; {\n                httpSecurityHttpBasicConfigurer.authenticationEntryPoint(basicAuthEntryPoint);\n            })\n            // .exceptionHandling(ex -&gt; ex.authenticationEntryPoint(basicAuthEntryPoint)\n            .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":1709965,"reputation":1324,"user_id":1568224,"display_name":"dave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29671,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":43655902,"answer_count":3,"score":27,"last_activity_date":1701378646,"creation_date":1492703081,"question_id":43524211,"body_markdown":"I have a Spring Boot application with Spring Security. A new endpoint `/health` is to be configured so it is accessible via basic HTTP authentication. The current `HttpSecurity` configuration is as follows:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n    http.requestMatchers()\r\n        .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\r\n        .and()\r\n        .csrf()\r\n        .disable()\r\n        .authorizeRequests()\r\n        .anyRequest()\r\n        .permitAll()\r\n        .and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n  }\r\n\r\nHow do I add base auth for `/health`? I figure I need something like this, but I don&#39;t think this is completely correct, and I don&#39;t really understand where exactly to add it:\r\n\r\n        .authorizeRequests()\r\n        .antMatchers(\r\n            // Health status\r\n            &quot;/health&quot;,\r\n            &quot;/health/&quot;\r\n        )\r\n        .hasRole(HEALTH_CHECK_ROLE)\r\n        .and()\r\n        .httpBasic()\r\n        .realmName(REALM_NAME)\r\n        .authenticationEntryPoint(getBasicAuthEntryPoint())\r\n        .and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\r\n\r\nI found these resources to be helpful, but not sufficient:\r\n\r\n* http://www.baeldung.com/spring-security-basic-authentication\r\n* http://websystique.com/spring-security/secure-spring-rest-api-using-basic-authentication/","title":"How do I add HTTP basic auth for a specific endpoint with spring security?","body":"<p>I have a Spring Boot application with Spring Security. A new endpoint <code>/health</code> is to be configured so it is accessible via basic HTTP authentication. The current <code>HttpSecurity</code> configuration is as follows:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\nhttp.requestMatchers()\n    .antMatchers(HttpMethod.OPTIONS, \"/**\")\n    .and()\n    .csrf()\n    .disable()\n    .authorizeRequests()\n    .anyRequest()\n    .permitAll()\n    .and()\n    .sessionManagement()\n    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n</code></pre>\n\n<p>}</p>\n\n<p>How do I add base auth for <code>/health</code>? I figure I need something like this, but I don't think this is completely correct, and I don't really understand where exactly to add it:</p>\n\n<pre><code>    .authorizeRequests()\n    .antMatchers(\n        // Health status\n        \"/health\",\n        \"/health/\"\n    )\n    .hasRole(HEALTH_CHECK_ROLE)\n    .and()\n    .httpBasic()\n    .realmName(REALM_NAME)\n    .authenticationEntryPoint(getBasicAuthEntryPoint())\n    .and()\n    .sessionManagement()\n    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n</code></pre>\n\n<p>I found these resources to be helpful, but not sufficient:</p>\n\n<ul>\n<li><a href=\"http://www.baeldung.com/spring-security-basic-authentication\" rel=\"noreferrer\">http://www.baeldung.com/spring-security-basic-authentication</a></li>\n<li><a href=\"http://websystique.com/spring-security/secure-spring-rest-api-using-basic-authentication/\" rel=\"noreferrer\">http://websystique.com/spring-security/secure-spring-rest-api-using-basic-authentication/</a></li>\n</ul>\n"},{"tags":["java","google-app-engine","migration","datastore"],"comments":[{"owner":{"account_id":1979725,"reputation":384,"user_id":1776630,"display_name":"lopezvit"},"score":0,"creation_date":1648024379,"post_id":70478258,"comment_id":126516360,"body_markdown":"Where you able to find a solution for this?","body":"Where you able to find a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":1196698,"reputation":226,"user_id":1168275,"display_name":"ludo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701378404,"creation_date":1701378404,"answer_id":77581701,"question_id":70478258,"body_markdown":"Adding &lt;app-engine-apis&gt;true&lt;/app-engine-apis&gt;\r\nin the appengine-web.xml would enable the APIs.\r\nDid you try that?\r\n\r\nSee doc in https://cloud.google.com/appengine/docs/standard/java-gen2/services/access","title":"$FeatureNotEnabledException using App Engine bundled service Datastore","body":"<p>Adding true\nin the appengine-web.xml would enable the APIs.\nDid you try that?</p>\n<p>See doc in <a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/services/access\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/java-gen2/services/access</a></p>\n"}],"owner":{"account_id":206813,"reputation":41,"user_id":456329,"display_name":"Jay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1701378404,"creation_date":1640412041,"question_id":70478258,"body_markdown":"Migrating my GAE service from Java 8 to Java 11, I&#39;m using App Engine bundled service.\r\n\r\nhttps://cloud.google.com/blog/products/serverless/support-for-app-engine-services-in-second-generation-runtimes\r\n\r\nAPI document shows there are datastore APIs,\r\n\r\nhttps://cloud.google.com/appengine/docs/standard/java11/reference/services/bundled\r\n\r\nBut when I deploy my service on Java 11 runtime, I got $FeatureNotEnabledException\r\n\r\n&gt; javax.servlet.ServletException: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: datastore_v3.RunQuery \r\n\r\nThere&#39;s a blog post saying it&#39;s back,\r\n\r\nhttps://www.googlecloudcommunity.com/gc/Serverless/Updates-from-the-Google-App-Engine-team-Fall-2021/td-p/174941\r\n\r\nBut I&#39;m not sure I can use &quot;com.google.appengine.api.datastore.Query&quot; like\r\n\r\n    \tDatastoreService datastore = DatastoreServiceFactory.getDatastoreService();\r\n\t    Key\t\t\tkey\t\t\t= KeyFactory.createKey(&quot;Memobook&quot;, user.getEmail());\r\n\t    Query\t\tquery\t\t= new Query(&quot;Memo&quot;, key);\r\n        datastore.prepare(query);\r\n\r\n\r\n","title":"$FeatureNotEnabledException using App Engine bundled service Datastore","body":"<p>Migrating my GAE service from Java 8 to Java 11, I'm using App Engine bundled service.</p>\n<p><a href=\"https://cloud.google.com/blog/products/serverless/support-for-app-engine-services-in-second-generation-runtimes\" rel=\"nofollow noreferrer\">https://cloud.google.com/blog/products/serverless/support-for-app-engine-services-in-second-generation-runtimes</a></p>\n<p>API document shows there are datastore APIs,</p>\n<p><a href=\"https://cloud.google.com/appengine/docs/standard/java11/reference/services/bundled\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/java11/reference/services/bundled</a></p>\n<p>But when I deploy my service on Java 11 runtime, I got $FeatureNotEnabledException</p>\n<blockquote>\n<p>javax.servlet.ServletException: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: datastore_v3.RunQuery</p>\n</blockquote>\n<p>There's a blog post saying it's back,</p>\n<p><a href=\"https://www.googlecloudcommunity.com/gc/Serverless/Updates-from-the-Google-App-Engine-team-Fall-2021/td-p/174941\" rel=\"nofollow noreferrer\">https://www.googlecloudcommunity.com/gc/Serverless/Updates-from-the-Google-App-Engine-team-Fall-2021/td-p/174941</a></p>\n<p>But I'm not sure I can use &quot;com.google.appengine.api.datastore.Query&quot; like</p>\n<pre><code>    DatastoreService datastore = DatastoreServiceFactory.getDatastoreService();\n    Key         key         = KeyFactory.createKey(&quot;Memobook&quot;, user.getEmail());\n    Query       query       = new Query(&quot;Memo&quot;, key);\n    datastore.prepare(query);\n</code></pre>\n"},{"tags":["java","spring-boot","jira-rest-api","jira-rest-java-api"],"owner":{"account_id":1538703,"reputation":1481,"user_id":1433934,"accept_rate":66,"display_name":"Paul Plato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701378158,"creation_date":1701378158,"question_id":77581683,"body_markdown":"I am trying to programmatically create issues in Jira using the JiraRestClient. I am using the following dependencies \r\n\r\n`    compile &#39;com.atlassian.jira:jira-rest-java-client-api:5.2.4&#39;\r\n    compile &#39;com.atlassian.jira:jira-rest-java-client-core:5.2.4&#39;`\r\n\r\nAnd have the following code to create java issues. \r\n\r\n```\r\n    @SneakyThrows\r\n    public BasicIssue createIssue(JiraIssueType jiraIssueType) {\r\n        return jiraRestClient.getIssueClient().createIssue(\r\n                IssueInput.createWithFields(\r\n                        new FieldInput(IssueFieldId.PROJECT_FIELD, PROJECT_KEY),\r\n                        new FieldInput(IssueFieldId.ISSUE_TYPE_FIELD, jiraIssueType.getValue()),\r\n                        new FieldInput(IssueFieldId.SUMMARY_FIELD,\r\n                                String.format(&quot;Add new dataset %s to object type %s&quot;, &quot;toy&quot;,\r\n                                        &quot;story&quot;)),\r\nnew FieldInput(IssueFieldId.DESCRIPTION_FIELD, &quot;descrption&quot;)\r\n                )).fail(throwable -&gt; log.error(throwable.getMessage()))\r\n                .claim();\r\n    }\r\n```\r\n\r\nHowever when I run the following code I see the following error in the stack trace\r\n\r\n```\r\nCaused by: RestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={issuetype=Can not instantiate value of type [simple type, class com.atlassian.jira.rest.api.issue.ResourceRef] from JSON integral number; no single-int-arg constructor/factory method, project=project is required}, errorMessages=[]}]}\r\n\tat com.atlassian.jira.rest.client.internal.async.AbstractAsynchronousRestClient$2.apply(AbstractAsynchronousRestClient.java:176)\r\n\tat com.atlassian.jira.rest.client.internal.async.AbstractAsynchronousRestClient$2.apply(AbstractAsynchronousRestClient.java:170)\r\nCaused by: RestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={issuetype=Can not instantiate value of type [simple type, class com.atlassian.jira.rest.api.issue.ResourceRef] from JSON integral number; no single-int-arg constructor/factory method, project=project is required}, errorMessages=[]}]}\r\n```\r\n\r\nI have tried downgrading the java client to a lowerversion but that did not seem to work","title":"Create Jira Issue using JiraRestClient (Java)","body":"<p>I am trying to programmatically create issues in Jira using the JiraRestClient. I am using the following dependencies</p>\n<p><code>    compile 'com.atlassian.jira:jira-rest-java-client-api:5.2.4' compile 'com.atlassian.jira:jira-rest-java-client-core:5.2.4'</code></p>\n<p>And have the following code to create java issues.</p>\n<pre><code>    @SneakyThrows\n    public BasicIssue createIssue(JiraIssueType jiraIssueType) {\n        return jiraRestClient.getIssueClient().createIssue(\n                IssueInput.createWithFields(\n                        new FieldInput(IssueFieldId.PROJECT_FIELD, PROJECT_KEY),\n                        new FieldInput(IssueFieldId.ISSUE_TYPE_FIELD, jiraIssueType.getValue()),\n                        new FieldInput(IssueFieldId.SUMMARY_FIELD,\n                                String.format(&quot;Add new dataset %s to object type %s&quot;, &quot;toy&quot;,\n                                        &quot;story&quot;)),\nnew FieldInput(IssueFieldId.DESCRIPTION_FIELD, &quot;descrption&quot;)\n                )).fail(throwable -&gt; log.error(throwable.getMessage()))\n                .claim();\n    }\n</code></pre>\n<p>However when I run the following code I see the following error in the stack trace</p>\n<pre><code>Caused by: RestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={issuetype=Can not instantiate value of type [simple type, class com.atlassian.jira.rest.api.issue.ResourceRef] from JSON integral number; no single-int-arg constructor/factory method, project=project is required}, errorMessages=[]}]}\n    at com.atlassian.jira.rest.client.internal.async.AbstractAsynchronousRestClient$2.apply(AbstractAsynchronousRestClient.java:176)\n    at com.atlassian.jira.rest.client.internal.async.AbstractAsynchronousRestClient$2.apply(AbstractAsynchronousRestClient.java:170)\nCaused by: RestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={issuetype=Can not instantiate value of type [simple type, class com.atlassian.jira.rest.api.issue.ResourceRef] from JSON integral number; no single-int-arg constructor/factory method, project=project is required}, errorMessages=[]}]}\n</code></pre>\n<p>I have tried downgrading the java client to a lowerversion but that did not seem to work</p>\n"},{"tags":["java","kotlin","timeout","resilience4j"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1701384752,"post_id":77581660,"comment_id":136772562,"body_markdown":"I found it in the documentation","body":"I found it in the documentation"}],"owner":{"account_id":5212176,"reputation":3495,"user_id":4168206,"accept_rate":92,"display_name":"AlexC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701377874,"creation_date":1701377874,"question_id":77581660,"body_markdown":"Regarding this example: https://resilience4j.readme.io/docs/examples-5\r\n\r\n    RetryConfig config = RetryConfig.custom()\r\n    .maxAttempts(2)\r\n    .waitDuration(Duration.ofMillis(100))\r\n    .retryOnResult(response -&gt; response.getStatus() == 500)\r\n    .retryOnException(e -&gt; e instanceof WebServiceException)\r\n    .retryExceptions(IOException.class, TimeoutException.class)\r\n    .ignoreExceptions(BusinessException.class, OtherBusinessException.class)\r\n    .build();\r\n\r\nwhat exactly does `waitDuration` accomplish? Does it mean to timeout and retry after 100 ms? Or does it mean how long to wait before next retry?","title":"Resilience4j: what exactly does waitDuration accomplish?","body":"<p>Regarding this example: <a href=\"https://resilience4j.readme.io/docs/examples-5\" rel=\"nofollow noreferrer\">https://resilience4j.readme.io/docs/examples-5</a></p>\n<pre><code>RetryConfig config = RetryConfig.custom()\n.maxAttempts(2)\n.waitDuration(Duration.ofMillis(100))\n.retryOnResult(response -&gt; response.getStatus() == 500)\n.retryOnException(e -&gt; e instanceof WebServiceException)\n.retryExceptions(IOException.class, TimeoutException.class)\n.ignoreExceptions(BusinessException.class, OtherBusinessException.class)\n.build();\n</code></pre>\n<p>what exactly does <code>waitDuration</code> accomplish? Does it mean to timeout and retry after 100 ms? Or does it mean how long to wait before next retry?</p>\n"},{"tags":["java","collections","iterator"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701374110,"post_id":77581336,"comment_id":136771025,"body_markdown":"Couldn&#39;t you just override AbstractList&#39;s `iterator()` method and return your own iterator implementation?","body":"Couldn&#39;t you just override AbstractList&#39;s <code>iterator()</code> method and return your own iterator implementation?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1701374263,"post_id":77581336,"comment_id":136771051,"body_markdown":"@HovercraftFullOfEels I could, but of course we are not talking about a single method here. The custom List that I am writing will be exposed to other people, I don&#39;t know what they will call","body":"@HovercraftFullOfEels I could, but of course we are not talking about a single method here. The custom List that I am writing will be exposed to other people, I don&#39;t know what they will call"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701374349,"post_id":77581336,"comment_id":136771066,"body_markdown":"Then, have you looked at the source code for AbstractList?","body":"Then, have you looked at the source code for AbstractList?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1701374418,"post_id":77581336,"comment_id":136771076,"body_markdown":"@HovercraftFullOfEels that&#39;s not the point, source code != specification.","body":"@HovercraftFullOfEels that&#39;s not the point, source code != specification."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701450548,"post_id":77581336,"comment_id":136781252,"body_markdown":"I’d pay attention to the class documentation saying “*If the list is variable-size the programmer must additionally override the add(int, E) and remove(int) methods.*”, hence, care to override `add(int, E)` rather than `add(E)` but besides that, how would a hypothetical `addAll` implementation look like when it doesn’t invoke `add`?","body":"I’d pay attention to the class documentation saying “<i>If the list is variable-size the programmer must additionally override the add(int, E) and remove(int) methods.</i>”, hence, care to override <code>add(int, E)</code> rather than <code>add(E)</code> but besides that, how would a hypothetical <code>addAll</code> implementation look like when it doesn’t invoke <code>add</code>?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1701458091,"post_id":77581336,"comment_id":136782410,"body_markdown":"@Holger thank you, I ended up indeed reading much more closely the class documentation and overriding proper methods. The `addAll` without `add` is what ArrayList does... or is your point different?","body":"@Holger thank you, I ended up indeed reading much more closely the class documentation and overriding proper methods. The <code>addAll</code> without <code>add</code> is what ArrayList does... or is your point different?"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701680290,"post_id":77581336,"comment_id":136801204,"body_markdown":"@Eugene the question was, how would *AbstractList* implement an `addAll` without calling `add`, directly or indirectly?","body":"@Eugene the question was, how would <i>AbstractList</i> implement an <code>addAll</code> without calling <code>add</code>, directly or indirectly?"}],"answers":[{"tags":[],"owner":{"account_id":2154438,"reputation":181,"user_id":1909995,"display_name":"Ghost93"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701375366,"creation_date":1701375366,"answer_id":77581440,"question_id":77581336,"body_markdown":"No, there’s no such guarantee. This is because `iterator()` is a method of `Iterable&lt;T&gt;`. \r\n\r\nIt may, and maybe should, but there’s no guarantee.\r\n\r\nYou can look at the implementation of `ArrayList&lt;T&gt;.addAll()` to get a sense of why. ","title":"AbstractList guarantees that spill into other methods","body":"<p>No, there’s no such guarantee. This is because <code>iterator()</code> is a method of <code>Iterable&lt;T&gt;</code>.</p>\n<p>It may, and maybe should, but there’s no guarantee.</p>\n<p>You can look at the implementation of <code>ArrayList&lt;T&gt;.addAll()</code> to get a sense of why.</p>\n"},{"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701376904,"creation_date":1701376904,"answer_id":77581571,"question_id":77581336,"body_markdown":"The [Javadoc][1] for AbstractList (JDK21) says\r\n\r\n&gt; The documentation for each non-abstract method in this class describes its implementation in detail.\r\n\r\nSo yes, this is part of the specification.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/AbstractList.html","title":"AbstractList guarantees that spill into other methods","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/AbstractList.html\" rel=\"nofollow noreferrer\">Javadoc</a> for AbstractList (JDK21) says</p>\n<blockquote>\n<p>The documentation for each non-abstract method in this class describes its implementation in detail.</p>\n</blockquote>\n<p>So yes, this is part of the specification.</p>\n"}],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77581571,"answer_count":2,"score":3,"last_activity_date":1701376904,"creation_date":1701374016,"question_id":77581336,"body_markdown":"I can&#39;t think of a better name for the question, but I hope that an example will make this simpler. \r\n\r\nSuppose I create my own custom `List` (it is irrelevant what it does):\r\n\r\n```\r\n    static class MyList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n\r\n        @Override\r\n        public E get(int index) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public int size() {\r\n            return 0;\r\n        }\r\n    }\r\n```\r\n\r\nI can now create an instance of it and call a different method then the one I have overridden:\r\n\r\n```\r\nMyList&lt;String&gt; myList = new MyList&lt;&gt;();\r\nmyList.iterator();\r\n```\r\n\r\nOf course, `iterator` _should_ use the `get` method that I have declared, but is this a guarantee? Does it mean that `iterator` can not change in a way that it does not use `get` at all? \r\n\r\n--- \r\nFor a simpler example, you can think about `addAll`. Suppose that my `MyList` also overrides `add`:\r\n\r\n\r\n```\r\n   @Override\r\n   public boolean add(E e) {\r\n      return super.add(e); // irrelevant what it does\r\n   }\r\n```\r\n\r\nand then I can do : `myList.addAll(someOtherCollection)`. `addAll` _could_ be implemented a simple:\r\n\r\n```\r\nfor(E e: someOtherCollection) {\r\n    // use add that I have overridden\r\n}\r\n```\r\n\r\nbut at the same time, the implementation can change, and not use a loop at all (like `ArrayList` for example). \r\n\r\n---\r\n\r\nGranted, both `iterator` and `addAll` have some mentions in the documentation like:\r\n\r\n&gt; This implementation returns a straightforward implementation of the iterator interface, relying on the backing list&#39;s size(), get(int), and remove(int) methods.\r\n\r\nand\r\n\r\n&gt; This implementation iterates over the specified collection, and adds each object returned by the iterator to this collection, in turn.\r\n\r\nSo does that mean that this can _NOT_ change and is treated as &quot;specification&quot;?  Now that I wrote this long question and re-read it, the answer might be an obvious &quot;yes&quot;. \r\n\r\n","title":"AbstractList guarantees that spill into other methods","body":"<p>I can't think of a better name for the question, but I hope that an example will make this simpler.</p>\n<p>Suppose I create my own custom <code>List</code> (it is irrelevant what it does):</p>\n<pre><code>    static class MyList&lt;E&gt; extends AbstractList&lt;E&gt; {\n\n        @Override\n        public E get(int index) {\n            return null;\n        }\n\n        @Override\n        public int size() {\n            return 0;\n        }\n    }\n</code></pre>\n<p>I can now create an instance of it and call a different method then the one I have overridden:</p>\n<pre><code>MyList&lt;String&gt; myList = new MyList&lt;&gt;();\nmyList.iterator();\n</code></pre>\n<p>Of course, <code>iterator</code> <em>should</em> use the <code>get</code> method that I have declared, but is this a guarantee? Does it mean that <code>iterator</code> can not change in a way that it does not use <code>get</code> at all?</p>\n<hr />\n<p>For a simpler example, you can think about <code>addAll</code>. Suppose that my <code>MyList</code> also overrides <code>add</code>:</p>\n<pre><code>   @Override\n   public boolean add(E e) {\n      return super.add(e); // irrelevant what it does\n   }\n</code></pre>\n<p>and then I can do : <code>myList.addAll(someOtherCollection)</code>. <code>addAll</code> <em>could</em> be implemented a simple:</p>\n<pre><code>for(E e: someOtherCollection) {\n    // use add that I have overridden\n}\n</code></pre>\n<p>but at the same time, the implementation can change, and not use a loop at all (like <code>ArrayList</code> for example).</p>\n<hr />\n<p>Granted, both <code>iterator</code> and <code>addAll</code> have some mentions in the documentation like:</p>\n<blockquote>\n<p>This implementation returns a straightforward implementation of the iterator interface, relying on the backing list's size(), get(int), and remove(int) methods.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>This implementation iterates over the specified collection, and adds each object returned by the iterator to this collection, in turn.</p>\n</blockquote>\n<p>So does that mean that this can <em>NOT</em> change and is treated as &quot;specification&quot;?  Now that I wrote this long question and re-read it, the answer might be an obvious &quot;yes&quot;.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":10043484,"reputation":247,"user_id":7425649,"display_name":"AbhiK"},"score":1,"creation_date":1626348019,"post_id":68113065,"comment_id":120871742,"body_markdown":"I was facing similar issue with java 16, I switch to java 8, that resolved my issue. Also this is my mockito dependency &lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-all&lt;/artifactId&gt;&lt;version&gt;1.10.19&lt;/version&gt;, check if this works for you","body":"I was facing similar issue with java 16, I switch to java 8, that resolved my issue. Also this is my mockito dependency &lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-all&lt;/artif&zwnj;&#8203;actId&gt;&lt;version&gt;1.10.&zwnj;&#8203;19&lt;/version&gt;, check if this works for you"},{"owner":{"account_id":4703915,"reputation":2852,"user_id":3806701,"accept_rate":53,"display_name":"cs_pupil"},"score":0,"creation_date":1658169815,"post_id":68113065,"comment_id":128980243,"body_markdown":"@AbhiK Same, switching from java 17 to java 15 fixed it for me.","body":"@AbhiK Same, switching from java 17 to java 15 fixed it for me."},{"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"score":0,"creation_date":1666076465,"post_id":68113065,"comment_id":130843411,"body_markdown":"This might be helpful\nhttps://stackoverflow.com/a/74106907/2574965","body":"This might be helpful <a href=\"https://stackoverflow.com/a/74106907/2574965\">stackoverflow.com/a/74106907/2574965</a>"}],"answers":[{"tags":[],"owner":{"account_id":1001833,"reputation":2489,"user_id":1016514,"accept_rate":100,"display_name":"Hans"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1687977177,"creation_date":1640119641,"answer_id":70441435,"question_id":68113065,"body_markdown":"This can happen if Mockito requires reflective access to non-public parts in a Java module. If you want to stick with a newer Java version, you can get around this by explicitly allowing access via `--add-opens` in your `java` call - the error message is helpful in that it gives you both the required module and package:\r\n\r\n`java --add-opens java.base/java.lang=ALL-UNNAMED ...`\r\n\r\n(Where the target `ALL-UNNAMED` applies to all non-modular classes. See, e.g., https://www.oracle.com/corporate/features/understanding-java-9-modules.html for a brief introduction into these directives.)\r\n\r\nNote that this option does not apply during compilation, i.e., _not_ to `javac`; it is a runtime option.\r\n\r\nIf you are using Gradle, you can add this to the [test task][1] in your `build.gradle`:\r\n\r\n        test {\r\n             jvmArgs &#39;--add-opens=java.base/java.lang=ALL-UNNAMED&#39;\r\n         }\r\n\r\nOr, an alternative syntax to the same effect:\r\n\r\n        test {\r\n             jvmArgs &#39;--add-opens&#39;, &#39;java.base/java.lang=ALL-UNNAMED&#39;\r\n         }\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html","title":"Mockito Inaccessible Object exception while creating a mock object","body":"<p>This can happen if Mockito requires reflective access to non-public parts in a Java module. If you want to stick with a newer Java version, you can get around this by explicitly allowing access via <code>--add-opens</code> in your <code>java</code> call - the error message is helpful in that it gives you both the required module and package:</p>\n<p><code>java --add-opens java.base/java.lang=ALL-UNNAMED ...</code></p>\n<p>(Where the target <code>ALL-UNNAMED</code> applies to all non-modular classes. See, e.g., <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"noreferrer\">https://www.oracle.com/corporate/features/understanding-java-9-modules.html</a> for a brief introduction into these directives.)</p>\n<p>Note that this option does not apply during compilation, i.e., <em>not</em> to <code>javac</code>; it is a runtime option.</p>\n<p>If you are using Gradle, you can add this to the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html\" rel=\"noreferrer\">test task</a> in your <code>build.gradle</code>:</p>\n<pre><code>    test {\n         jvmArgs '--add-opens=java.base/java.lang=ALL-UNNAMED'\n     }\n</code></pre>\n<p>Or, an alternative syntax to the same effect:</p>\n<pre><code>    test {\n         jvmArgs '--add-opens', 'java.base/java.lang=ALL-UNNAMED'\n     }\n</code></pre>\n"}],"owner":{"account_id":8584619,"reputation":133,"user_id":6431189,"display_name":"Rohan Khanna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7667,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":70441435,"answer_count":1,"score":13,"last_activity_date":1701376007,"creation_date":1624526733,"question_id":68113065,"body_markdown":"Getting a `java.lang.reflect.InaccessibleObjectException` while trying to Mock an object\r\n\r\n```\r\nUnable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @238e0d81\r\n```","title":"Mockito Inaccessible Object exception while creating a mock object","body":"<p>Getting a <code>java.lang.reflect.InaccessibleObjectException</code> while trying to Mock an object</p>\n<pre><code>Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @238e0d81\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1701376456,"post_id":77581491,"comment_id":136771392,"body_markdown":"It seems it using an older Java version to build.","body":"It seems it using an older Java version to build."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701378686,"post_id":77581491,"comment_id":136771743,"body_markdown":"Can you check your `JAVA_HOME` as well as the output of `javac -version`?","body":"Can you check your <code>JAVA_HOME</code> as well as the output of <code>javac -version</code>?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701406705,"post_id":77581491,"comment_id":136774363,"body_markdown":"I wonder if your are actually using Gradle 8.5. I imagine an earlier version of Gradle might throw that error.","body":"I wonder if your are actually using Gradle 8.5. I imagine an earlier version of Gradle might throw that error."},{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":1,"creation_date":1701418670,"post_id":77581491,"comment_id":136775607,"body_markdown":"You can see both the Java and Gradle version actually in use by running `./gradlew --version` (assuming you use the wrapper).","body":"You can see both the Java and Gradle version actually in use by running <code>.&#47;gradlew --version</code> (assuming you use the wrapper)."}],"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701376000,"creation_date":1701376000,"question_id":77581491,"body_markdown":"I use java 21\r\ngradle 8.5\r\nintellij 2023.2.2\r\n\r\nIn a spring boot 3.2 project in the build.gradle i have\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.2.0&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.4&#39;\r\n    }\r\n    \r\n    group = &#39;com.acme.intranet-backend&#39;\r\n    version &#39;0.0.34-SNAPSHOT&#39;\r\n    \r\n    java {\r\n        sourceCompatibility = &#39;21&#39;\r\n    }\r\n\r\n\r\nwhen i build project,  i \r\n\r\n&gt; org.gradle.api.tasks.TaskExecutionException: Execution failed for task\r\n&gt; &#39;:intranet:compileJava&#39;. \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:148)\r\n&gt; \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\r\n&gt; \tat  Caused by: java.lang.IllegalArgumentException: error: invalid\r\n&gt; source release: 21\r\n\r\n","title":"Issue to build project with gradle 8.5 and java 21","body":"<p>I use java 21\ngradle 8.5\nintellij 2023.2.2</p>\n<p>In a spring boot 3.2 project in the build.gradle i have</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.2.0'\n    id 'io.spring.dependency-management' version '1.1.4'\n}\n\ngroup = 'com.acme.intranet-backend'\nversion '0.0.34-SNAPSHOT'\n\njava {\n    sourceCompatibility = '21'\n}\n</code></pre>\n<p>when i build project,  i</p>\n<blockquote>\n<p>org.gradle.api.tasks.TaskExecutionException: Execution failed for task\n':intranet:compileJava'.  at\norg.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:148)\nat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\nat\norg.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\nat  Caused by: java.lang.IllegalArgumentException: error: invalid\nsource release: 21</p>\n</blockquote>\n"},{"tags":["java","javafx","nullpointerexception"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1700828506,"post_id":77542904,"comment_id":136703907,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1700829963,"post_id":77542904,"comment_id":136704161,"body_markdown":"The stack trace is pretty clear as to what the problem is: “`this.colName` is null”. Is there an element in the FXML that uses that controller with `fx:id=“colName”`?","body":"The stack trace is pretty clear as to what the problem is: “<code>this.colName</code> is null”. Is there an element in the FXML that uses that controller with <code>fx:id=“colName”</code>?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1700830283,"post_id":77542904,"comment_id":136704223,"body_markdown":"*”using chatgpt got help ”*. All ChatGPT does is essentially take the most common code found on the internet in the context of the words used in your prompt. That includes code posted in questions and incorrect code. If there are common mistakes posted online, it will just replicate them. ChatGPT can be a useful timesaver but *only* when you are a good enough programmer to be able to judge whether the code it produces is correct or not. You are not at that point in your career yet.","body":"<i>”using chatgpt got help ”</i>. All ChatGPT does is essentially take the most common code found on the internet in the context of the words used in your prompt. That includes code posted in questions and incorrect code. If there are common mistakes posted online, it will just replicate them. ChatGPT can be a useful timesaver but <i>only</i> when you are a good enough programmer to be able to judge whether the code it produces is correct or not. You are not at that point in your career yet."},{"owner":{"account_id":27281373,"reputation":1,"user_id":20801226,"display_name":"Mentos"},"score":0,"creation_date":1700832027,"post_id":77542904,"comment_id":136704510,"body_markdown":"yes the TableColumn i just update the fxml code","body":"yes the TableColumn i just update the fxml code"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1700833095,"post_id":77542904,"comment_id":136704694,"body_markdown":"What is the FXML file&#39;s name? Doesn&#39;t `new ProductController()` initialize `colName` to `null`?","body":"What is the FXML file&#39;s name? Doesn&#39;t <code>new ProductController()</code> initialize <code>colName</code> to <code>null</code>?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1700889088,"post_id":77542904,"comment_id":136710257,"body_markdown":"Please punctuate your text properly.  All these lower case i&#39;s drive me crazy :-)  Use [Grammarly](https://www.grammarly.com/) or something like that - it is probably a better use of AI for you than ChatGPT generated code.  And ofc, use full words, not internet slang abbreviations.","body":"Please punctuate your text properly.  All these lower case i&#39;s drive me crazy :-)  Use <a href=\"https://www.grammarly.com/\" rel=\"nofollow noreferrer\">Grammarly</a> or something like that - it is probably a better use of AI for you than ChatGPT generated code.  And ofc, use full words, not internet slang abbreviations."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701375825,"creation_date":1700887993,"answer_id":77546686,"question_id":77542904,"body_markdown":"**Don&#39;t create controllers in code when the controller is specified in FXML**\r\n\r\n*Never* call `new` on a controller that is specified by the `fx:controller` attribute in an FXML file.\r\n\r\nThis code is *wrong*:\r\n\r\n    ProductController pC = new ProductController();\r\n\r\nFor more info also see:\r\n\r\n * [controller must be loaded (*not* instantiated)][1]\r\n\r\n**When you *can* create new controllers in code**\r\n\r\nThe only valid case to call `new` on a controller is if both of these are true:\r\n\r\n * You will call [`setController`][2] on the FXMLLoader *before* you load the FXML. \r\n\r\nAND\r\n \r\n * A controller is *not* specified in the FXML file being loaded.\r\n\r\nHowever, you aren&#39;t doing any of these things.\r\n\r\nFrom the documentation for `setController`:\r\n\r\n&gt; Sets the controller associated with the root object. The value passed to this method is used as the value of the `fx:controller` attribute. This method must be called prior to loading the document when using controller event handlers when an `fx:controller` attribute is not specified in the document.\r\n\r\nFor an example of setting controllers in code, see the section titled &quot;Setting a Controller on the FXMLLoader&quot; in this answer:\r\n\r\n * https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\r\n\r\nOne scenario where you might want to set a controller in code is in conjunction with the `fx:root` construct as detailed in the Oracle tutorial:\r\n\r\n * [Creating a Custom Control with FXML][3]\r\n\r\n**Common issues with creating new controllers in code**\r\n\r\nOnly the `FXMLLoader` will initialize the `@FXML` annotated fields in your controller to the values configured in your FXML file.  If you just create a new controller instance in your code, without also setting that controller instance on an FXMLLoader and calling `load()` to initialize the controller instance, then all of the `@FXML` annotated fields in the controller instance will be `null`.\r\n\r\nAdditionally, if you had *also* loaded the FXML elsewhere and that FXML referenced a controller like yours does, then when you loaded the FXML, the loader will have created an instance of the controller that you specified in the FXML.  So, if you then call `new` on the controller, you will get *another* instance of the controller, totally unrelated to the instance created by the `FXMLLoader` and to the object hierarchy that was returned by the [`load()`][4] method used.\r\n\r\n**Alternate approaches**\r\n\r\nOften when people create new controllers, what they should be doing instead is either:\r\n\r\n * [Getting the controller][5] from the loader and using that. \r\n\r\nOR \r\n\r\n * Refactoring their code so that they don&#39;t need a controller reference at the place they are trying to use it (e.g. by [applying an MVC design][6]).\r\n\r\nOR\r\n\r\n * Setting the controller instance on the FXMLLoader, then asking the loader to `load()` an FXML (that does not have an `fx:controller` attribute).  That will initialize the controller instance that was created in the code.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36186907/javafx-label-null-pointer-exception\r\n  [2]: https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#setController(java.lang.Object)\r\n  [3]: https://docs.oracle.com/javase/8/javafx/fxml-tutorial/custom_control.htm\r\n  [4]: https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#load()\r\n  [5]: https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()\r\n  [6]: https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx","title":"Cannot invoke &quot;javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)&quot; because &quot;this.colName&quot; is null","body":"<p><strong>Don't create controllers in code when the controller is specified in FXML</strong></p>\n<p><em>Never</em> call <code>new</code> on a controller that is specified by the <code>fx:controller</code> attribute in an FXML file.</p>\n<p>This code is <em>wrong</em>:</p>\n<pre><code>ProductController pC = new ProductController();\n</code></pre>\n<p>For more info also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36186907/javafx-label-null-pointer-exception\">controller must be loaded (<em>not</em> instantiated)</a></li>\n</ul>\n<p><strong>When you <em>can</em> create new controllers in code</strong></p>\n<p>The only valid case to call <code>new</code> on a controller is if both of these are true:</p>\n<ul>\n<li>You will call <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#setController(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>setController</code></a> on the FXMLLoader <em>before</em> you load the FXML.</li>\n</ul>\n<p>AND</p>\n<ul>\n<li>A controller is <em>not</em> specified in the FXML file being loaded.</li>\n</ul>\n<p>However, you aren't doing any of these things.</p>\n<p>From the documentation for <code>setController</code>:</p>\n<blockquote>\n<p>Sets the controller associated with the root object. The value passed to this method is used as the value of the <code>fx:controller</code> attribute. This method must be called prior to loading the document when using controller event handlers when an <code>fx:controller</code> attribute is not specified in the document.</p>\n</blockquote>\n<p>For an example of setting controllers in code, see the section titled &quot;Setting a Controller on the FXMLLoader&quot; in this answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">Passing Parameters JavaFX FXML</a></li>\n</ul>\n<p>One scenario where you might want to set a controller in code is in conjunction with the <code>fx:root</code> construct as detailed in the Oracle tutorial:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/javafx/fxml-tutorial/custom_control.htm\" rel=\"nofollow noreferrer\">Creating a Custom Control with FXML</a></li>\n</ul>\n<p><strong>Common issues with creating new controllers in code</strong></p>\n<p>Only the <code>FXMLLoader</code> will initialize the <code>@FXML</code> annotated fields in your controller to the values configured in your FXML file.  If you just create a new controller instance in your code, without also setting that controller instance on an FXMLLoader and calling <code>load()</code> to initialize the controller instance, then all of the <code>@FXML</code> annotated fields in the controller instance will be <code>null</code>.</p>\n<p>Additionally, if you had <em>also</em> loaded the FXML elsewhere and that FXML referenced a controller like yours does, then when you loaded the FXML, the loader will have created an instance of the controller that you specified in the FXML.  So, if you then call <code>new</code> on the controller, you will get <em>another</em> instance of the controller, totally unrelated to the instance created by the <code>FXMLLoader</code> and to the object hierarchy that was returned by the <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#load()\" rel=\"nofollow noreferrer\"><code>load()</code></a> method used.</p>\n<p><strong>Alternate approaches</strong></p>\n<p>Often when people create new controllers, what they should be doing instead is either:</p>\n<ul>\n<li><a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()\" rel=\"nofollow noreferrer\">Getting the controller</a> from the loader and using that.</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>Refactoring their code so that they don't need a controller reference at the place they are trying to use it (e.g. by <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">applying an MVC design</a>).</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>Setting the controller instance on the FXMLLoader, then asking the loader to <code>load()</code> an FXML (that does not have an <code>fx:controller</code> attribute).  That will initialize the controller instance that was created in the code.</li>\n</ul>\n"}],"owner":{"account_id":27281373,"reputation":1,"user_id":20801226,"display_name":"Mentos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701375825,"creation_date":1700826463,"question_id":77542904,"body_markdown":"so my problem is i cant display data to tableview, i cant figure it out why \r\ni have a form use ProductController with display tableview method, in another controller CardProductContrller i call the method from ProductController in addFcn method and it return error :\r\n\r\n\r\nCannot invoke `javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)` because `this.colName` is null\r\n\r\nheres more detail error: \r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)&quot; because &quot;this.colName&quot; is null\r\n\tat application.ProductController.showOrderDetail(ProductController.java:409)\r\n\tat application.CardProdController.addFcn(CardProdController.java:169)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat javafx.base@21/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n\tat javafx.fxml@21/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@21/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)\r\n\tat javafx.fxml@21/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@21/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21/javafx.scene.Node.fireEvent(Node.java:8875)\r\n\tat javafx.controls@21/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@21/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@21/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@21/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)\r\n\tat javafx.graphics@21/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics@21/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@21/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@21/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n```\r\nhere the code : \r\ncardProductController :\r\n\r\n```\r\npackage application;\r\n\r\nimport java.net.URL;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Date;\r\nimport java.util.Optional;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Spinner;\r\nimport javafx.scene.control.SpinnerValueFactory;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.BorderPane;\r\n\r\npublic class CardProdController implements Initializable {\r\n\r\n    @FXML\r\n    private Button addBtn;\r\n\r\n    @FXML\r\n    private BorderPane cardForm;\r\n\r\n    @FXML\r\n    private ImageView imageView;\r\n\r\n    @FXML\r\n    private Label name;\r\n\r\n    @FXML\r\n    private Label price;\r\n\r\n    @FXML\r\n    private Spinner&lt;Integer&gt; quantity;\r\n    \r\n    private productModel productM;\r\n    \r\n    private Image image;\r\n    \r\n    private String proId;\r\n    private String pro_image;\r\n    private String pro_date;\r\n    \r\n    private SpinnerValueFactory&lt;Integer&gt; spin;\r\n    \r\n    @FXML \r\n    private Connection connection;\r\n    private PreparedStatement prepare;\r\n    private ResultSet result;\r\n    private Alert alert;\r\n\r\n\tprivate double pr;\r\n\tprivate int cusId;\r\n    \r\n    public void setData(productModel productM) {\r\n        this.productM = productM;\r\n        \r\n        pro_image = productM.getProductImage();\r\n        pro_date = String.valueOf(productM.getDate());\r\n        proId = productM.getProductId();\r\n        name.setText(productM.getProductName());\r\n        price.setText(String.valueOf(productM.getProductPrice()));\r\n        String path = &quot;File:&quot; + productM.getProductImage();\r\n        image = new Image(path, 190, 130, false, true);\r\n        imageView.setImage(image);\r\n        pr = productM.getProductPrice();\r\n\r\n    }\r\n    \r\n    private int qty;\r\n    private double totalP;\r\n    private String ordDID;\r\n    public void addFcn() throws SQLException {\r\n\t        ProductController pC = new ProductController();\r\n\t        pC.customerID(); \r\n\t        pC.order_detailID();\r\n\t        qty = quantity.getValue();\r\n\t        String check = &quot;&quot;;\r\n\t        String checkAvailable = &quot;SELECT pro_status FROM product WHERE pro_id = &#39;&quot; + proId + &quot;&#39;&quot;;\r\n\t        \r\n\t        connection = Database.connect();\r\n\t        try {\r\n\t            int checkS = 0;\r\n\t            String checkStock = &quot;SELECT pro_quantity FROM product WHERE pro_id = &#39;&quot; + proId + &quot;&#39;&quot;;\r\n\r\n\t            prepare = connection.prepareStatement(checkStock);\r\n\t            result = prepare.executeQuery();\r\n\t            \r\n\t            if(result.next()) {\r\n\t                checkS = result.getInt(&quot;pro_quantity&quot;);\r\n\t            }\t   \r\n\t            \r\n\t            if(checkS == 0){\r\n\t                String updateStock = &quot;UPDATE product SET pro_status = &#39;Unavailable&#39; WHERE pro_id = &#39;&quot;+proId+&quot;&#39;&quot;;   \r\n\t                //update to database to mark it as unavailable\r\n\t                prepare = connection.prepareStatement(updateStock);\r\n\t                prepare.executeUpdate();\r\n\t            }\r\n\t            prepare = connection.prepareStatement(checkAvailable);\r\n\t            result = prepare.executeQuery();\r\n\r\n\t            if (result.next()) {\r\n\t                check = result.getString(&quot;pro_status&quot;);\r\n\t            }\r\n\t            if (!check.equals(&quot;Available&quot;) || qty == 0) {\r\n\t                alert = new Alert(AlertType.ERROR);\r\n\t                alert.setTitle(&quot;Error Message&quot;);\r\n\t                alert.setHeaderText(null);\r\n\t                alert.setContentText(&quot;Product currently unavalible or we run out&quot;);\r\n\t                alert.showAndWait();\r\n\t            } else {\r\n\t                if (checkS &lt; qty) {\r\n\t                    alert = new Alert(AlertType.ERROR);\r\n\t                    alert.setTitle(&quot;Error Message&quot;);\r\n\t                    alert.setHeaderText(null);\r\n\t                    alert.setContentText(&quot;Invalid. This product is Out of stock&quot;);\r\n\t                    alert.showAndWait();\r\n\t                } else {\r\n\t                    pro_image = pro_image.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n\t                    \r\n\t                    String insertData = &quot;INSERT INTO order_detail &quot;\r\n\t                            + &quot;(cus_id, ord_id, pro_id ,pro_name, pro_price, pro_quantity, orderDate) &quot;\r\n\t                            + &quot;VALUES(?,?,?,?,?,?,?)&quot;;\r\n\t                    prepare = connection.prepareStatement(insertData);\r\n\t                    prepare.setString(1, String.valueOf(data.cusId));\r\n\t                    \r\n\t                    ordDID = data.ordDiD;\r\n\t                    prepare.setString(2, ordDID);\r\n\t                    prepare.setString(3, proId);\r\n\t                    prepare.setString(4, name.getText());\r\n\t                    \r\n\t                    totalP = (qty * pr);\r\n\t                    prepare.setString(5, String.valueOf(totalP));\r\n\t                    prepare.setString(6, String.valueOf(qty));\r\n\t\t\t\t\t\t\r\n\t                    Date date = new Date();\r\n\t                    java.sql.Date sqlDate = new java.sql.Date(date.getTime());\r\n\t                    prepare.setString(7, String.valueOf(sqlDate));\r\n\t                    \r\n\t                    prepare.executeUpdate();\r\n\r\n\t                    int upStock = checkS - qty;\r\n\r\n\t                    String updateStock = &quot;UPDATE product SET pro_quantity = &quot; + upStock + &quot; WHERE pro_id = &#39;&quot;+proId+&quot;&#39;&quot;;\r\n\t                    //update product to mark it&#39;s quantity as decreased as being order by customer \r\n\t                    prepare = connection.prepareStatement(updateStock);\r\n\t                    prepare.executeUpdate();\r\n\t                    \r\n\t                    alert = new Alert(AlertType.INFORMATION);\r\n\t                    alert.setTitle(&quot;Information Message&quot;);\r\n\t                    alert.setHeaderText(null);\r\n\t                    alert.setContentText(&quot;Successfully Added!&quot;);\r\n\t                    Optional&lt;ButtonType&gt; option = alert.showAndWait();\r\n\t                    \r\n\t                    if(option.get().equals(ButtonType.OK)) {\r\n\t                    \t\r\n\t                    \t\r\n\t                    \tpC.showOrderDetail();\r\n\t                    }\r\n\t                    //pC.menuGetTotal();//tinh sau\r\n\t                }\r\n\t            }\r\n\t        } catch (Exception e) {\r\n\t            e.printStackTrace();\r\n\t        }   \r\n\t    }\r\n    \r\n    public void setQuantity() {\r\n    \tspin = new SpinnerValueFactory.IntegerSpinnerValueFactory(1, 100, 0);\r\n    \tquantity.setValueFactory(spin);\r\n    }\r\n    \r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\tsetQuantity();\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nProductController :\r\n\r\n```\r\npackage application;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Optional;\r\nimport java.util.ResourceBundle;\r\n\r\nimport com.mysql.cj.x.protobuf.MysqlxCrud.Column;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class ProductController implements Initializable{\r\n\t@FXML\r\n\tprivate GridPane gridProd;\r\n\r\n    @FXML\r\n    private Button clBtn;\r\n\r\n    @FXML\r\n    private Button doneBtn;\r\n \r\n    @FXML\r\n    private Button clrBtn;\r\n\r\n    @FXML\r\n    private TableColumn&lt;order_detailModel, String&gt; colName;\r\n\r\n    @FXML\r\n    private TableColumn&lt;order_detailModel, String&gt; colPrice;\r\n\r\n    @FXML\r\n    private TableColumn&lt;order_detailModel, String&gt; colQuantity;\r\n    \r\n    @FXML\r\n    private TableView&lt;order_detailModel&gt; orderView;\r\n    \r\n    @FXML\r\n    private Button payBtn;\r\n\r\n    @FXML\r\n    private Button printBillBtn;\r\n\r\n    @FXML\r\n    private Label totalBill;\r\n\t\r\n    @FXML \r\n    private Connection connection;\r\n    private PreparedStatement prepare;\r\n    private ResultSet result;\r\n    private Alert alert;\r\n    \r\n    @FXML\r\n\tprivate Stage sideStage;\r\n\tprivate Scene scene;\r\n\tprivate Parent root;\r\n\r\n    private int cID;\r\n    public void customerID() throws SQLException {\r\n    \t String sql = &quot;SELECT MAX(cus_id) FROM customer&quot;;\r\n         connection = Database.connect();\r\n         \r\n         try {\r\n             prepare = connection.prepareStatement(sql);\r\n             result = prepare.executeQuery();\r\n             if (result.next()) {\r\n                 cID = result.getInt(&quot;MAX(cus_id)&quot;);\r\n             }\r\n             String checkCID = &quot;SELECT MAX(cus_id) FROM receipt&quot;;\r\n             prepare = connection.prepareStatement(checkCID);\r\n             result = prepare.executeQuery();\r\n             int checkID = 0;\r\n             if (result.next()) {\r\n                 checkID = result.getInt(&quot;MAX(cus_id)&quot;);\r\n             }\r\n             if (cID == 0) {\r\n                 cID += 1;\r\n             } else if (cID == checkID) {\r\n                 cID += 1;\r\n             }\r\n             data.cusId = cID;\r\n         } catch (Exception e) {\r\n             e.printStackTrace();\r\n         }\r\n    }\r\n    \r\n    private String odID;\r\n    public void order_detailID() throws SQLException {\r\n   \t String sql = &quot;SELECT MAX(ord_id) FROM order_detail&quot;;\r\n        connection = Database.connect();\r\n        \r\n        try {\r\n            prepare = connection.prepareStatement(sql);\r\n            result = prepare.executeQuery();\r\n            if (result.next()) {\r\n                odID = result.getString(&quot;MAX(ord_id)&quot;);\r\n            }\r\n            String checkODID = &quot;SELECT MAX(ord_id) FROM receipt &quot;;\r\n            prepare = connection.prepareStatement(checkODID);\r\n            result = prepare.executeQuery();\r\n            String checkID = null;\r\n            if (result.next()) {\r\n                checkID = result.getString(&quot;MAX(ord_id)&quot;);\r\n            }\r\n            if (odID == null) {\r\n            \tString aIM = &quot;ORD-&quot; + 0;\r\n                odID = aIM + 1;\r\n            } else if (odID == checkID) {\r\n            \tString aIM = &quot;ORD-&quot; + 0;\r\n            \todID = aIM + 1;\r\n            }\r\n            data.ordDiD = odID;\r\n            System.out.println(data.ordDiD);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n   }\r\n    \r\n\r\n\t   private ObservableList&lt;productModel&gt; cardDataList = FXCollections.observableArrayList();\r\n\t\t\r\n\t    public ObservableList&lt;productModel&gt; getData(){\r\n\t    \t\r\n\t\t    ObservableList&lt;productModel&gt; ListData = FXCollections.observableArrayList();\r\n\t    \t\r\n\t    \tString getData = &quot;SELECT * FROM product&quot;;\r\n\t    \ttry {\r\n\t\t\t\tconnection = Database.connect();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t    \ttry {\r\n\t    \t\tprepare = connection.prepareStatement(getData);\r\n\t    \t\tresult = prepare.executeQuery();\r\n\t    \t\t\r\n\t    \t\tproductModel productM;\r\n\t    \t\t\r\n\t    \t\twhile(result.next()) {\r\n\t    \t\t\tproductM = new productModel(result.getInt(&quot;id&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t,result.getString(&quot;pro_id&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t, result.getString(&quot;pro_name&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t, result.getDouble(&quot;pro_price&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t, result.getInt(&quot;pro_quantity&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t, result.getString(&quot;pro_image&quot;));\r\n\t    \t\t\tListData.add(productM);\r\n\t    \t\t}\r\n\t    \t}catch (SQLException e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t    \t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn ListData;\r\n\t    }\r\n\t    \r\n\t    public void menuProd() {\r\n\t    \tcardDataList.clear();\r\n\t    \tcardDataList.addAll(getData());\r\n\t    \t\r\n\t    \tint row = 0; \r\n\t    \tint column = 0;\r\n\t    \tgridProd.getChildren().clear();\r\n\t    \tgridProd.getRowConstraints().clear();\r\n\t    \tgridProd.getColumnConstraints().clear();\r\n\t    \t\r\n\t    \tfor(int i  = 0; i &lt; cardDataList.size(); i++) {\r\n\t    \t\ttry {\r\n\t    \t\t\tFXMLLoader loader = new FXMLLoader();\r\n\t        \t\tloader.setLocation(getClass().getResource(&quot;cardProduct.fxml&quot;));\r\n\t        \t\tPane pane = loader.load();\r\n\t        \t\tCardProdController cpC = loader.getController();\r\n\t        \t\tcpC.setData(cardDataList.get(i));\r\n\t        \t\t\r\n\t        \t\tif(column == 3) {\r\n\t        \t\t\tcolumn = 0;\r\n\t        \t\t\trow += 1;\r\n\t        \t\t}\r\n\t        \t\t\r\n\t        \t\tgridProd.add(pane, column++, row);\r\n\t        \t\t\r\n\t        \t\tGridPane.setMargin(pane, new Insets(10));\r\n\t    \t\t}catch (IOException e) {\r\n\t\t\t\t\t// TODO: handle exception\r\n\t    \t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t    \t}\r\n\t    }\r\n\t    \r\n\t    public void clFcn(ActionEvent event) throws IOException {\r\n\t    \t\r\n\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;StaffSection.fxml&quot;));\r\n\t\t\tsideStage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n\t\t\tscene = new Scene(root);\r\n\t\t\tsideStage.setScene(scene);\r\n\t\t\tsideStage.setResizable(false);\r\n\t\t\tsideStage.show();\r\n\t    }\r\n\t    \r\n\t    public void doneFcn(ActionEvent event) throws IOException {\r\n\t    \t\r\n\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;StaffSection.fxml&quot;));\r\n\t\t\tsideStage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n\t\t\tscene = new Scene(root);\r\n\t\t\tsideStage.setScene(scene);\r\n\t\t\tsideStage.setResizable(false);\r\n\t\t\tsideStage.show();\r\n\t    }\r\n\t    \r\n\t\tpublic ObservableList&lt;order_detailModel&gt; orderDList() throws SQLException {\r\n\t\t\t   ObservableList&lt;order_detailModel&gt; oList = FXCollections.observableArrayList();\r\n\t\t\t   \r\n\t\t\t   String getData = &quot;SELECT pro_name, pro_price, pro_quantity FROM order_detail&quot;;\r\n\t\t\t   connection = Database.connect();\r\n\t\t\t   try {\r\n\t\t\t\t\tprepare = connection.prepareStatement(getData);\r\n\t\t\t\t\tresult = prepare.executeQuery();\r\n\t\t\t\t\t\r\n\t\t\t\t\torder_detailModel ordDM;\r\n\t\t\t\t\twhile(result.next()) {\r\n\t\t\t\t\t\tordDM = new order_detailModel(result.getString(&quot;pro_name&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t,result.getDouble(&quot;pro_price&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t,result.getInt(&quot;pro_quantity&quot;));\r\n\t\t\t\t\t\toList.add(ordDM);\r\n\t\t\t\t\t}\r\n\t\t\t   }catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}\r\n\t\t\treturn oList; \r\n\t\t}\r\n\t\t\r\n\t\tObservableList&lt;order_detailModel&gt; listOrdD;\r\n\t\tpublic void showOrderDetail() {\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tlistOrdD = orderDList();\r\n\t\t\t\t\r\n\t\t\t\tcolName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_name&quot;));\r\n\t\t\t\tcolPrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_price&quot;));\r\n\t\t\t\tcolQuantity.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_quantity&quot;));\r\n\t\t\t\t\r\n\t\t\t\torderView.setItems(listOrdD);\r\n\t\t\t\t\r\n\t\t\t}catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\te.getMessage();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\tgetData();\r\n\t\tmenuProd();\r\n\t}\r\n}\r\n\r\n```\r\nFXML file use Productcontroller : \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.ScrollPane?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;BorderPane prefHeight=&quot;700.0&quot; prefWidth=&quot;1200.0&quot; stylesheets=&quot;@CSS/TableServe.css&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.ProductController&quot;&gt;\r\n   &lt;center&gt;\r\n      &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;AnchorPane fx:id=&quot;acPane1&quot; layoutX=&quot;15.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;670.0&quot; prefWidth=&quot;750.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;ScrollPane layoutX=&quot;15.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;640.0&quot; prefWidth=&quot;720.0&quot;&gt;\r\n                     &lt;content&gt;\r\n                        &lt;GridPane fx:id=&quot;gridProd&quot; hgap=&quot;10.0&quot; prefHeight=&quot;879.0&quot; prefWidth=&quot;680.0&quot; vgap=&quot;10.0&quot;&gt;\r\n                          &lt;columnConstraints&gt;\r\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                              &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                          &lt;/columnConstraints&gt;\r\n                          &lt;rowConstraints&gt;\r\n                            &lt;RowConstraints fillHeight=&quot;false&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                              &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                          &lt;/rowConstraints&gt;\r\n                        &lt;/GridPane&gt;\r\n                     &lt;/content&gt;\r\n                     &lt;padding&gt;\r\n                        &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n                     &lt;/padding&gt;\r\n                  &lt;/ScrollPane&gt;\r\n               &lt;/children&gt;\r\n            &lt;/AnchorPane&gt;\r\n            &lt;AnchorPane fx:id=&quot;acPane2&quot; layoutX=&quot;785.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;670.0&quot; prefWidth=&quot;400.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Pane prefHeight=&quot;670.0&quot; prefWidth=&quot;400.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;TableView fx:id=&quot;orderView&quot; layoutX=&quot;15.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;456.0&quot; prefWidth=&quot;370.0&quot;&gt;\r\n                          &lt;columns&gt;\r\n                            &lt;TableColumn fx:id=&quot;colName&quot; prefWidth=&quot;166.4000244140625&quot; text=&quot;Name&quot; /&gt;\r\n                            &lt;TableColumn fx:id=&quot;colPrice&quot; prefWidth=&quot;108.800048828125&quot; text=&quot;Price&quot; /&gt;\r\n                              &lt;TableColumn fx:id=&quot;colQuantity&quot; prefWidth=&quot;93.5999755859375&quot; text=&quot;Quantity&#39;&quot; /&gt;\r\n                          &lt;/columns&gt;\r\n                        &lt;/TableView&gt;\r\n                        &lt;Button fx:id=&quot;payBtn&quot; layoutX=&quot;10.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Pay&quot; /&gt;\r\n                        &lt;Button fx:id=&quot;printBillBtn&quot; layoutX=&quot;270.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Print BIll&quot; /&gt;\r\n                        &lt;Button fx:id=&quot;clrBtn&quot; layoutX=&quot;140.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Clear&quot; /&gt;\r\n                        &lt;Button fx:id=&quot;clBtn&quot; layoutX=&quot;225.0&quot; layoutY=&quot;629.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#clFcn&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;160.0&quot; text=&quot;Cancel&quot; /&gt;\r\n                        &lt;Button fx:id=&quot;doneBtn&quot; layoutX=&quot;17.0&quot; layoutY=&quot;629.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#doneFcn&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;160.0&quot; text=&quot;Done&quot; /&gt;\r\n                        &lt;Label fx:id=&quot;totalBill&quot; layoutX=&quot;17.0&quot; layoutY=&quot;489.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;173.0&quot; text=&quot;Total: 00$$&quot;&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;20.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                        &lt;/Label&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/Pane&gt;\r\n               &lt;/children&gt;\r\n            &lt;/AnchorPane&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n\r\n```\r\n\r\ni did almost everything, using chatgpt got help ofc but still dont know why, i think it my sql is wrong ? ","title":"Cannot invoke &quot;javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)&quot; because &quot;this.colName&quot; is null","body":"<p>so my problem is i cant display data to tableview, i cant figure it out why\ni have a form use ProductController with display tableview method, in another controller CardProductContrller i call the method from ProductController in addFcn method and it return error :</p>\n<p>Cannot invoke <code>javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)</code> because <code>this.colName</code> is null</p>\n<p>heres more detail error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)&quot; because &quot;this.colName&quot; is null\n    at application.ProductController.showOrderDetail(ProductController.java:409)\n    at application.CardProdController.addFcn(CardProdController.java:169)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at javafx.base@21/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@21/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@21/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)\n    at javafx.fxml@21/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@21/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21/javafx.scene.Node.fireEvent(Node.java:8875)\n    at javafx.controls@21/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@21/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@21/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)\n    at javafx.graphics@21/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@21/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@21/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@21/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n</code></pre>\n<p>here the code :\ncardProductController :</p>\n<pre><code>package application;\n\nimport java.net.URL;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Date;\nimport java.util.Optional;\nimport java.util.ResourceBundle;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Spinner;\nimport javafx.scene.control.SpinnerValueFactory;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.BorderPane;\n\npublic class CardProdController implements Initializable {\n\n    @FXML\n    private Button addBtn;\n\n    @FXML\n    private BorderPane cardForm;\n\n    @FXML\n    private ImageView imageView;\n\n    @FXML\n    private Label name;\n\n    @FXML\n    private Label price;\n\n    @FXML\n    private Spinner&lt;Integer&gt; quantity;\n    \n    private productModel productM;\n    \n    private Image image;\n    \n    private String proId;\n    private String pro_image;\n    private String pro_date;\n    \n    private SpinnerValueFactory&lt;Integer&gt; spin;\n    \n    @FXML \n    private Connection connection;\n    private PreparedStatement prepare;\n    private ResultSet result;\n    private Alert alert;\n\n    private double pr;\n    private int cusId;\n    \n    public void setData(productModel productM) {\n        this.productM = productM;\n        \n        pro_image = productM.getProductImage();\n        pro_date = String.valueOf(productM.getDate());\n        proId = productM.getProductId();\n        name.setText(productM.getProductName());\n        price.setText(String.valueOf(productM.getProductPrice()));\n        String path = &quot;File:&quot; + productM.getProductImage();\n        image = new Image(path, 190, 130, false, true);\n        imageView.setImage(image);\n        pr = productM.getProductPrice();\n\n    }\n    \n    private int qty;\n    private double totalP;\n    private String ordDID;\n    public void addFcn() throws SQLException {\n            ProductController pC = new ProductController();\n            pC.customerID(); \n            pC.order_detailID();\n            qty = quantity.getValue();\n            String check = &quot;&quot;;\n            String checkAvailable = &quot;SELECT pro_status FROM product WHERE pro_id = '&quot; + proId + &quot;'&quot;;\n            \n            connection = Database.connect();\n            try {\n                int checkS = 0;\n                String checkStock = &quot;SELECT pro_quantity FROM product WHERE pro_id = '&quot; + proId + &quot;'&quot;;\n\n                prepare = connection.prepareStatement(checkStock);\n                result = prepare.executeQuery();\n                \n                if(result.next()) {\n                    checkS = result.getInt(&quot;pro_quantity&quot;);\n                }      \n                \n                if(checkS == 0){\n                    String updateStock = &quot;UPDATE product SET pro_status = 'Unavailable' WHERE pro_id = '&quot;+proId+&quot;'&quot;;   \n                    //update to database to mark it as unavailable\n                    prepare = connection.prepareStatement(updateStock);\n                    prepare.executeUpdate();\n                }\n                prepare = connection.prepareStatement(checkAvailable);\n                result = prepare.executeQuery();\n\n                if (result.next()) {\n                    check = result.getString(&quot;pro_status&quot;);\n                }\n                if (!check.equals(&quot;Available&quot;) || qty == 0) {\n                    alert = new Alert(AlertType.ERROR);\n                    alert.setTitle(&quot;Error Message&quot;);\n                    alert.setHeaderText(null);\n                    alert.setContentText(&quot;Product currently unavalible or we run out&quot;);\n                    alert.showAndWait();\n                } else {\n                    if (checkS &lt; qty) {\n                        alert = new Alert(AlertType.ERROR);\n                        alert.setTitle(&quot;Error Message&quot;);\n                        alert.setHeaderText(null);\n                        alert.setContentText(&quot;Invalid. This product is Out of stock&quot;);\n                        alert.showAndWait();\n                    } else {\n                        pro_image = pro_image.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n                        \n                        String insertData = &quot;INSERT INTO order_detail &quot;\n                                + &quot;(cus_id, ord_id, pro_id ,pro_name, pro_price, pro_quantity, orderDate) &quot;\n                                + &quot;VALUES(?,?,?,?,?,?,?)&quot;;\n                        prepare = connection.prepareStatement(insertData);\n                        prepare.setString(1, String.valueOf(data.cusId));\n                        \n                        ordDID = data.ordDiD;\n                        prepare.setString(2, ordDID);\n                        prepare.setString(3, proId);\n                        prepare.setString(4, name.getText());\n                        \n                        totalP = (qty * pr);\n                        prepare.setString(5, String.valueOf(totalP));\n                        prepare.setString(6, String.valueOf(qty));\n                        \n                        Date date = new Date();\n                        java.sql.Date sqlDate = new java.sql.Date(date.getTime());\n                        prepare.setString(7, String.valueOf(sqlDate));\n                        \n                        prepare.executeUpdate();\n\n                        int upStock = checkS - qty;\n\n                        String updateStock = &quot;UPDATE product SET pro_quantity = &quot; + upStock + &quot; WHERE pro_id = '&quot;+proId+&quot;'&quot;;\n                        //update product to mark it's quantity as decreased as being order by customer \n                        prepare = connection.prepareStatement(updateStock);\n                        prepare.executeUpdate();\n                        \n                        alert = new Alert(AlertType.INFORMATION);\n                        alert.setTitle(&quot;Information Message&quot;);\n                        alert.setHeaderText(null);\n                        alert.setContentText(&quot;Successfully Added!&quot;);\n                        Optional&lt;ButtonType&gt; option = alert.showAndWait();\n                        \n                        if(option.get().equals(ButtonType.OK)) {\n                            \n                            \n                            pC.showOrderDetail();\n                        }\n                        //pC.menuGetTotal();//tinh sau\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }   \n        }\n    \n    public void setQuantity() {\n        spin = new SpinnerValueFactory.IntegerSpinnerValueFactory(1, 100, 0);\n        quantity.setValueFactory(spin);\n    }\n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        setQuantity();\n    }\n    \n}\n\n</code></pre>\n<p>ProductController :</p>\n<pre><code>package application;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Optional;\nimport java.util.ResourceBundle;\n\nimport com.mysql.cj.x.protobuf.MysqlxCrud.Column;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.geometry.Insets;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\npublic class ProductController implements Initializable{\n    @FXML\n    private GridPane gridProd;\n\n    @FXML\n    private Button clBtn;\n\n    @FXML\n    private Button doneBtn;\n \n    @FXML\n    private Button clrBtn;\n\n    @FXML\n    private TableColumn&lt;order_detailModel, String&gt; colName;\n\n    @FXML\n    private TableColumn&lt;order_detailModel, String&gt; colPrice;\n\n    @FXML\n    private TableColumn&lt;order_detailModel, String&gt; colQuantity;\n    \n    @FXML\n    private TableView&lt;order_detailModel&gt; orderView;\n    \n    @FXML\n    private Button payBtn;\n\n    @FXML\n    private Button printBillBtn;\n\n    @FXML\n    private Label totalBill;\n    \n    @FXML \n    private Connection connection;\n    private PreparedStatement prepare;\n    private ResultSet result;\n    private Alert alert;\n    \n    @FXML\n    private Stage sideStage;\n    private Scene scene;\n    private Parent root;\n\n    private int cID;\n    public void customerID() throws SQLException {\n         String sql = &quot;SELECT MAX(cus_id) FROM customer&quot;;\n         connection = Database.connect();\n         \n         try {\n             prepare = connection.prepareStatement(sql);\n             result = prepare.executeQuery();\n             if (result.next()) {\n                 cID = result.getInt(&quot;MAX(cus_id)&quot;);\n             }\n             String checkCID = &quot;SELECT MAX(cus_id) FROM receipt&quot;;\n             prepare = connection.prepareStatement(checkCID);\n             result = prepare.executeQuery();\n             int checkID = 0;\n             if (result.next()) {\n                 checkID = result.getInt(&quot;MAX(cus_id)&quot;);\n             }\n             if (cID == 0) {\n                 cID += 1;\n             } else if (cID == checkID) {\n                 cID += 1;\n             }\n             data.cusId = cID;\n         } catch (Exception e) {\n             e.printStackTrace();\n         }\n    }\n    \n    private String odID;\n    public void order_detailID() throws SQLException {\n     String sql = &quot;SELECT MAX(ord_id) FROM order_detail&quot;;\n        connection = Database.connect();\n        \n        try {\n            prepare = connection.prepareStatement(sql);\n            result = prepare.executeQuery();\n            if (result.next()) {\n                odID = result.getString(&quot;MAX(ord_id)&quot;);\n            }\n            String checkODID = &quot;SELECT MAX(ord_id) FROM receipt &quot;;\n            prepare = connection.prepareStatement(checkODID);\n            result = prepare.executeQuery();\n            String checkID = null;\n            if (result.next()) {\n                checkID = result.getString(&quot;MAX(ord_id)&quot;);\n            }\n            if (odID == null) {\n                String aIM = &quot;ORD-&quot; + 0;\n                odID = aIM + 1;\n            } else if (odID == checkID) {\n                String aIM = &quot;ORD-&quot; + 0;\n                odID = aIM + 1;\n            }\n            data.ordDiD = odID;\n            System.out.println(data.ordDiD);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n   }\n    \n\n       private ObservableList&lt;productModel&gt; cardDataList = FXCollections.observableArrayList();\n        \n        public ObservableList&lt;productModel&gt; getData(){\n            \n            ObservableList&lt;productModel&gt; ListData = FXCollections.observableArrayList();\n            \n            String getData = &quot;SELECT * FROM product&quot;;\n            try {\n                connection = Database.connect();\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            try {\n                prepare = connection.prepareStatement(getData);\n                result = prepare.executeQuery();\n                \n                productModel productM;\n                \n                while(result.next()) {\n                    productM = new productModel(result.getInt(&quot;id&quot;)\n                                                ,result.getString(&quot;pro_id&quot;)\n                                                , result.getString(&quot;pro_name&quot;)\n                                                , result.getDouble(&quot;pro_price&quot;)\n                                                , result.getInt(&quot;pro_quantity&quot;)\n                                                , result.getString(&quot;pro_image&quot;));\n                    ListData.add(productM);\n                }\n            }catch (SQLException e) {\n                // TODO: handle exception\n                e.printStackTrace();\n            }\n            return ListData;\n        }\n        \n        public void menuProd() {\n            cardDataList.clear();\n            cardDataList.addAll(getData());\n            \n            int row = 0; \n            int column = 0;\n            gridProd.getChildren().clear();\n            gridProd.getRowConstraints().clear();\n            gridProd.getColumnConstraints().clear();\n            \n            for(int i  = 0; i &lt; cardDataList.size(); i++) {\n                try {\n                    FXMLLoader loader = new FXMLLoader();\n                    loader.setLocation(getClass().getResource(&quot;cardProduct.fxml&quot;));\n                    Pane pane = loader.load();\n                    CardProdController cpC = loader.getController();\n                    cpC.setData(cardDataList.get(i));\n                    \n                    if(column == 3) {\n                        column = 0;\n                        row += 1;\n                    }\n                    \n                    gridProd.add(pane, column++, row);\n                    \n                    GridPane.setMargin(pane, new Insets(10));\n                }catch (IOException e) {\n                    // TODO: handle exception\n                    e.printStackTrace();\n                }\n            }\n        }\n        \n        public void clFcn(ActionEvent event) throws IOException {\n            \n            root = FXMLLoader.load(getClass().getResource(&quot;StaffSection.fxml&quot;));\n            sideStage = (Stage)((Node)event.getSource()).getScene().getWindow();\n            scene = new Scene(root);\n            sideStage.setScene(scene);\n            sideStage.setResizable(false);\n            sideStage.show();\n        }\n        \n        public void doneFcn(ActionEvent event) throws IOException {\n            \n            root = FXMLLoader.load(getClass().getResource(&quot;StaffSection.fxml&quot;));\n            sideStage = (Stage)((Node)event.getSource()).getScene().getWindow();\n            scene = new Scene(root);\n            sideStage.setScene(scene);\n            sideStage.setResizable(false);\n            sideStage.show();\n        }\n        \n        public ObservableList&lt;order_detailModel&gt; orderDList() throws SQLException {\n               ObservableList&lt;order_detailModel&gt; oList = FXCollections.observableArrayList();\n               \n               String getData = &quot;SELECT pro_name, pro_price, pro_quantity FROM order_detail&quot;;\n               connection = Database.connect();\n               try {\n                    prepare = connection.prepareStatement(getData);\n                    result = prepare.executeQuery();\n                    \n                    order_detailModel ordDM;\n                    while(result.next()) {\n                        ordDM = new order_detailModel(result.getString(&quot;pro_name&quot;)\n                                                        ,result.getDouble(&quot;pro_price&quot;)\n                                                        ,result.getInt(&quot;pro_quantity&quot;));\n                        oList.add(ordDM);\n                    }\n               }catch (Exception e) {\n                e.printStackTrace();\n                System.out.println(e.getMessage());\n            }\n            return oList; \n        }\n        \n        ObservableList&lt;order_detailModel&gt; listOrdD;\n        public void showOrderDetail() {\n            try {\n                \n                listOrdD = orderDList();\n                \n                colName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_name&quot;));\n                colPrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_price&quot;));\n                colQuantity.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_quantity&quot;));\n                \n                orderView.setItems(listOrdD);\n                \n            }catch (Exception e) {\n                e.printStackTrace();\n                e.getMessage();\n            }\n        }\n\n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        getData();\n        menuProd();\n    }\n}\n\n</code></pre>\n<p>FXML file use Productcontroller :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ScrollPane?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;BorderPane prefHeight=&quot;700.0&quot; prefWidth=&quot;1200.0&quot; stylesheets=&quot;@CSS/TableServe.css&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.ProductController&quot;&gt;\n   &lt;center&gt;\n      &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;AnchorPane fx:id=&quot;acPane1&quot; layoutX=&quot;15.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;670.0&quot; prefWidth=&quot;750.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;ScrollPane layoutX=&quot;15.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;640.0&quot; prefWidth=&quot;720.0&quot;&gt;\n                     &lt;content&gt;\n                        &lt;GridPane fx:id=&quot;gridProd&quot; hgap=&quot;10.0&quot; prefHeight=&quot;879.0&quot; prefWidth=&quot;680.0&quot; vgap=&quot;10.0&quot;&gt;\n                          &lt;columnConstraints&gt;\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n                              &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n                          &lt;/columnConstraints&gt;\n                          &lt;rowConstraints&gt;\n                            &lt;RowConstraints fillHeight=&quot;false&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                              &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                          &lt;/rowConstraints&gt;\n                        &lt;/GridPane&gt;\n                     &lt;/content&gt;\n                     &lt;padding&gt;\n                        &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n                     &lt;/padding&gt;\n                  &lt;/ScrollPane&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n            &lt;AnchorPane fx:id=&quot;acPane2&quot; layoutX=&quot;785.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;670.0&quot; prefWidth=&quot;400.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;Pane prefHeight=&quot;670.0&quot; prefWidth=&quot;400.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;TableView fx:id=&quot;orderView&quot; layoutX=&quot;15.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;456.0&quot; prefWidth=&quot;370.0&quot;&gt;\n                          &lt;columns&gt;\n                            &lt;TableColumn fx:id=&quot;colName&quot; prefWidth=&quot;166.4000244140625&quot; text=&quot;Name&quot; /&gt;\n                            &lt;TableColumn fx:id=&quot;colPrice&quot; prefWidth=&quot;108.800048828125&quot; text=&quot;Price&quot; /&gt;\n                              &lt;TableColumn fx:id=&quot;colQuantity&quot; prefWidth=&quot;93.5999755859375&quot; text=&quot;Quantity'&quot; /&gt;\n                          &lt;/columns&gt;\n                        &lt;/TableView&gt;\n                        &lt;Button fx:id=&quot;payBtn&quot; layoutX=&quot;10.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Pay&quot; /&gt;\n                        &lt;Button fx:id=&quot;printBillBtn&quot; layoutX=&quot;270.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Print BIll&quot; /&gt;\n                        &lt;Button fx:id=&quot;clrBtn&quot; layoutX=&quot;140.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Clear&quot; /&gt;\n                        &lt;Button fx:id=&quot;clBtn&quot; layoutX=&quot;225.0&quot; layoutY=&quot;629.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#clFcn&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;160.0&quot; text=&quot;Cancel&quot; /&gt;\n                        &lt;Button fx:id=&quot;doneBtn&quot; layoutX=&quot;17.0&quot; layoutY=&quot;629.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#doneFcn&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;160.0&quot; text=&quot;Done&quot; /&gt;\n                        &lt;Label fx:id=&quot;totalBill&quot; layoutX=&quot;17.0&quot; layoutY=&quot;489.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;173.0&quot; text=&quot;Total: 00$$&quot;&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;20.0&quot; /&gt;\n                           &lt;/font&gt;\n                        &lt;/Label&gt;\n                     &lt;/children&gt;\n                  &lt;/Pane&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n\n</code></pre>\n<p>i did almost everything, using chatgpt got help ofc but still dont know why, i think it my sql is wrong ?</p>\n"},{"tags":["java","unit-testing","static-methods","powermock","easymock"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1469972362,"post_id":38679426,"comment_id":64748292,"body_markdown":"Just for the record: you understand that *static* is an abnormality that simply should be avoided in good OO designs? And surprise: no static calls, no need for PowerMock.","body":"Just for the record: you understand that <i>static</i> is an abnormality that simply should be avoided in good OO designs? And surprise: no static calls, no need for PowerMock."},{"owner":{"account_id":7425842,"reputation":83,"user_id":5648341,"display_name":"Siddharth"},"score":0,"creation_date":1469987949,"post_id":38679426,"comment_id":64752933,"body_markdown":"I understand that. But I am just editing someone&#39;s previous code, so I don&#39;t have any option apart from mocking the static method.","body":"I understand that. But I am just editing someone&#39;s previous code, so I don&#39;t have any option apart from mocking the static method."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1469988085,"post_id":38679426,"comment_id":64752973,"body_markdown":"Well, you could **add** an interface/wrapper class and change the static call to use that wrapper; but of course; that carries some risk; and in that case, it is probably not worth the effort. In that sense: I rarely see answers here that really say &quot;this is how you get it to work with powermock&quot;; so maybe you are better off posting to the Powermock google group: https://groups.google.com/forum/#!forum/powermock","body":"Well, you could <b>add</b> an interface/wrapper class and change the static call to use that wrapper; but of course; that carries some risk; and in that case, it is probably not worth the effort. In that sense: I rarely see answers here that really say &quot;this is how you get it to work with powermock&quot;; so maybe you are better off posting to the Powermock google group: <a href=\"https://groups.google.com/forum/#!forum/powermock\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!forum/powermock</a>"},{"owner":{"account_id":7425842,"reputation":83,"user_id":5648341,"display_name":"Siddharth"},"score":0,"creation_date":1469990401,"post_id":38679426,"comment_id":64753705,"body_markdown":"Thanks! I will post the doubt in that google group. Adding wrapper class is not possible because I am not allowed to change previously written code.","body":"Thanks! I will post the doubt in that google group. Adding wrapper class is not possible because I am not allowed to change previously written code."}],"answers":[{"tags":[],"owner":{"account_id":6531688,"reputation":2044,"user_id":5052651,"display_name":"Artur Zagretdinov"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1534066110,"creation_date":1470032137,"answer_id":38692064,"question_id":38679426,"body_markdown":"As I understood from your explanation the `ExceptionInInitializerError` is thrown during static initialisation of class?  I&#39;ve made such conclusion, because according to stacktrace the line `PowerMock.mockStaticNice(Classname.class)` is a first place where the class `Classname` is being loaded. \r\n\r\nIn this case you have to use `@SuppressStaticInitializationFor(`PackageName.ClassName`). More information you may find in PowerMock documentation: [Suppress Unwanted Behavior][1] \r\n\r\n\r\n  [1]: https://github.com/jayway/powermock/wiki/SuppressUnwantedBehavior","title":"java.lang.ExceptionInInitializerError when mocking static method using EasyMock+PowerMock","body":"<p>As I understood from your explanation the <code>ExceptionInInitializerError</code> is thrown during static initialisation of class?  I've made such conclusion, because according to stacktrace the line <code>PowerMock.mockStaticNice(Classname.class)</code> is a first place where the class <code>Classname</code> is being loaded. </p>\n\n<p>In this case you have to use <code>@SuppressStaticInitializationFor(</code>PackageName.ClassName`). More information you may find in PowerMock documentation: <a href=\"https://github.com/jayway/powermock/wiki/SuppressUnwantedBehavior\" rel=\"noreferrer\">Suppress Unwanted Behavior</a> </p>\n"},{"tags":[],"owner":{"account_id":10095074,"reputation":493,"user_id":7460739,"display_name":"Nathaniel Ruiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701375792,"creation_date":1701375792,"answer_id":77581473,"question_id":38679426,"body_markdown":"If you&#39;re getting this error on VSCode, this is because your VSCode is on a newer Java version.\r\n\r\nYou can open the Command Palette with `CMD` + `Shift` + `P` and search `Java: Configure Java Runtime`.\r\n\r\nFrom there you can pick an older Java version, for example Java 8 instead of Java 17. My Java 8 was located at `/Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home`.","title":"java.lang.ExceptionInInitializerError when mocking static method using EasyMock+PowerMock","body":"<p>If you're getting this error on VSCode, this is because your VSCode is on a newer Java version.</p>\n<p>You can open the Command Palette with <code>CMD</code> + <code>Shift</code> + <code>P</code> and search <code>Java: Configure Java Runtime</code>.</p>\n<p>From there you can pick an older Java version, for example Java 8 instead of Java 17. My Java 8 was located at <code>/Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home</code>.</p>\n"}],"owner":{"account_id":7425842,"reputation":83,"user_id":5648341,"display_name":"Siddharth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21629,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38692064,"answer_count":2,"score":5,"last_activity_date":1701375792,"creation_date":1469921369,"question_id":38679426,"body_markdown":"I am trying to mock static method using EasyMock+PowerMock. If I dont mock the static method, then I get the exception java.lang.ExceptionInInitializerError but with a different stack trace which is purely due to my code files and the error is obvious. However, if I mock the static method using EasyMock+PowerMock, the line PowerMock.mockStaticNice(Classname.class) throws the same exception but with a different stack trace. The stack trace is:&lt;br&gt;\r\n\r\n   \r\n\r\n     java.lang.ExceptionInInitializerError\r\n        \tat java.lang.Class.forName0(Native Method)\r\n        \tat java.lang.Class.forName(Class.java:348)\r\n        \tat net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:386)\r\n        \tat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:219)\r\n        \tat net.sf.cglib.proxy.Enhancer.createHelper(Enhancer.java:377)\r\n        \tat net.sf.cglib.proxy.Enhancer.createClass(Enhancer.java:317)\r\n        \tat org.easymock.internal.ClassProxyFactory.createProxy(ClassProxyFactory.java:175)\r\n        \tat org.easymock.internal.MocksControl.createMock(MocksControl.java:114)\r\n        \tat org.easymock.internal.MocksControl.createMock(MocksControl.java:88)\r\n        \tat org.easymock.internal.MocksControl.createMock(MocksControl.java:79)\r\n        \tat org.powermock.api.easymock.PowerMock.doCreateMock(PowerMock.java:2212)\r\n        \tat org.powermock.api.easymock.PowerMock.doMock(PowerMock.java:2163)\r\n        \tat org.powermock.api.easymock.PowerMock.mockStaticNice(PowerMock.java:331)\r\n        \tat PackageName(ClassName.java:125)\r\n    ............................\r\n\r\n&lt;br&gt;&lt;br&gt;\r\nThe line 125 is PowerMock.mockStaticNice(Classname.class)\r\n&lt;br&gt;&lt;br&gt;\r\nI have already tried this:&lt;br&gt;\r\n1) Mention class name containing static method in PrepareForTest({class1.class, class2.class, class3.class})&lt;br&gt;\r\n2) Mock static methods in @Before annotation. \r\n&lt;br&gt;&lt;br&gt;\r\nI am stuck with this problem for the last 2 days. Kindly suggest solutions.","title":"java.lang.ExceptionInInitializerError when mocking static method using EasyMock+PowerMock","body":"<p>I am trying to mock static method using EasyMock+PowerMock. If I dont mock the static method, then I get the exception java.lang.ExceptionInInitializerError but with a different stack trace which is purely due to my code files and the error is obvious. However, if I mock the static method using EasyMock+PowerMock, the line PowerMock.mockStaticNice(Classname.class) throws the same exception but with a different stack trace. The stack trace is:<br></p>\n\n<pre><code> java.lang.ExceptionInInitializerError\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:386)\n        at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:219)\n        at net.sf.cglib.proxy.Enhancer.createHelper(Enhancer.java:377)\n        at net.sf.cglib.proxy.Enhancer.createClass(Enhancer.java:317)\n        at org.easymock.internal.ClassProxyFactory.createProxy(ClassProxyFactory.java:175)\n        at org.easymock.internal.MocksControl.createMock(MocksControl.java:114)\n        at org.easymock.internal.MocksControl.createMock(MocksControl.java:88)\n        at org.easymock.internal.MocksControl.createMock(MocksControl.java:79)\n        at org.powermock.api.easymock.PowerMock.doCreateMock(PowerMock.java:2212)\n        at org.powermock.api.easymock.PowerMock.doMock(PowerMock.java:2163)\n        at org.powermock.api.easymock.PowerMock.mockStaticNice(PowerMock.java:331)\n        at PackageName(ClassName.java:125)\n............................\n</code></pre>\n\n<p><br><br>\nThe line 125 is PowerMock.mockStaticNice(Classname.class)\n<br><br>\nI have already tried this:<br>\n1) Mention class name containing static method in PrepareForTest({class1.class, class2.class, class3.class})<br>\n2) Mock static methods in @Before annotation. \n<br><br>\nI am stuck with this problem for the last 2 days. Kindly suggest solutions.</p>\n"},{"tags":["java","input","kotlin","java.util.scanner"],"comments":[{"owner":{"account_id":2527365,"reputation":142481,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"score":0,"creation_date":1519726053,"post_id":49005913,"comment_id":85016496,"body_markdown":"What do you mean by &#39;type safe&#39;? `readLine()` is supposed to return a `String` or `null` if it reached the end of input. I see no possibility to violate type safety since no types other than `String?` are involved.","body":"What do you mean by &#39;type safe&#39;? <code>readLine()</code> is supposed to return a <code>String</code> or <code>null</code> if it reached the end of input. I see no possibility to violate type safety since no types other than <code>String?</code> are involved."},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1519726307,"post_id":49005913,"comment_id":85016634,"body_markdown":"You can still use `Scanner` in Kotlin if you want to read primitive types directly without handling parsing/casting, since it is fully compatible with Java","body":"You can still use <code>Scanner</code> in Kotlin if you want to read primitive types directly without handling parsing/casting, since it is fully compatible with Java"},{"owner":{"account_id":12998980,"reputation":2320,"user_id":9395652,"accept_rate":88,"display_name":"esu"},"score":0,"creation_date":1519729558,"post_id":49005913,"comment_id":85018757,"body_markdown":"Using Scanner we can read the values as int, String etc. But `readLine()` always  return a String. Instead of type cast the value every time, i wish to read the value as nextInt() or nextString().","body":"Using Scanner we can read the values as int, String etc. But <code>readLine()</code> always  return a String. Instead of type cast the value every time, i wish to read the value as nextInt() or nextString()."}],"answers":[{"tags":[],"owner":{"account_id":10988981,"reputation":77753,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1701375684,"creation_date":1519727968,"answer_id":49006659,"question_id":49005913,"body_markdown":"**Kotlin** reuses many existing Java libraries and it&#39;s perfectly fine to do so with `Scanner`. Otherwise, [`readLine`][1] simply uses `System.in` as you can see [here][2]. This might be a simple alternative for you.\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/read-line.html\r\n  [2]: https://github.com/JetBrains/kotlin/blob/1.2.20/libraries/stdlib/src/kotlin/io/Console.kt#L181","title":"What is the equivalent of Java Scanner in Kotlin?","body":"<p><strong>Kotlin</strong> reuses many existing Java libraries and it's perfectly fine to do so with <code>Scanner</code>. Otherwise, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/read-line.html\" rel=\"nofollow noreferrer\"><code>readLine</code></a> simply uses <code>System.in</code> as you can see <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.20/libraries/stdlib/src/kotlin/io/Console.kt#L181\" rel=\"nofollow noreferrer\">here</a>. This might be a simple alternative for you.</p>\n"},{"tags":[],"owner":{"account_id":1013937,"reputation":10560,"user_id":1025935,"accept_rate":96,"display_name":"UmAnusorn"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1522055671,"creation_date":1521532004,"answer_id":49378810,"question_id":49005913,"body_markdown":"You can try something like this\r\n\r\n    val scan = Scanner(System.`in`)\r\n    \r\n    val n = scan.nextLine().trim().toInt()\r\n\r\nSince &quot;in&quot; is a [Kotlin keyword][1]\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/keyword-reference.html","title":"What is the equivalent of Java Scanner in Kotlin?","body":"<p>You can try something like this</p>\n\n<pre><code>val scan = Scanner(System.`in`)\n\nval n = scan.nextLine().trim().toInt()\n</code></pre>\n\n<p>Since \"in\" is a <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html\" rel=\"noreferrer\">Kotlin keyword</a></p>\n"}],"owner":{"account_id":12998980,"reputation":2320,"user_id":9395652,"accept_rate":88,"display_name":"esu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20252,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":49378810,"answer_count":2,"score":14,"last_activity_date":1701375684,"creation_date":1519725685,"question_id":49005913,"body_markdown":"What is the equivalent of Java `Scanner` in Kotlin? \r\n\r\nI have used `readLine()` but I&#39;d like to know whether it&#39;s type safe or not?","title":"What is the equivalent of Java Scanner in Kotlin?","body":"<p>What is the equivalent of Java <code>Scanner</code> in Kotlin? </p>\n\n<p>I have used <code>readLine()</code> but I'd like to know whether it's type safe or not?</p>\n"},{"tags":["java","methods","linked-list","nodes","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":19843853,"reputation":180,"user_id":14535929,"display_name":"Rweinz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604000053,"creation_date":1604000053,"answer_id":64598039,"question_id":64597908,"body_markdown":"When removing a node from a linked list at I position all you need to do is\r\n\r\n1. Get to the node at i-1, let&#39;s name it &#39;n1&#39;\r\n2. Get the node n2=n1.next.next\r\n3. Make n1.next =n2\r\n\r\nYou simply remove the &quot;link&quot; to the requested node at i and it&#39;s no longer part of the linked list.","title":"Removing and returning item at index Linked List","body":"<p>When removing a node from a linked list at I position all you need to do is</p>\n<ol>\n<li>Get to the node at i-1, let's name it 'n1'</li>\n<li>Get the node n2=n1.next.next</li>\n<li>Make n1.next =n2</li>\n</ol>\n<p>You simply remove the &quot;link&quot; to the requested node at i and it's no longer part of the linked list.</p>\n"},{"tags":[],"owner":{"account_id":15523836,"reputation":2105,"user_id":11199298,"display_name":"Tugay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604003718,"creation_date":1604000886,"answer_id":64598245,"question_id":64597908,"body_markdown":"Firstly, you have to check if this it is 0-th index you have to remove, so you have to shift root. Then for removing node at i-th root, all you have to do this:\r\n\r\n```\r\nnodeBeforeI.setNext(nodeBeforeI.getNext().getNext()); \r\n```\r\nThe complete code:\r\n\r\n```java\r\npublic T remove(int index) throws ListAccessError {\r\n        if (index &gt;= size() || index &lt; 0) {\r\n            throw new ListAccessError(&quot;Index out of bounds&quot;);\r\n        }\r\n        if (isEmpty()) {\r\n            throw new ListAccessError(&quot;List is empty cannot remove from list&quot;);\r\n        }\r\n\r\n        SingleLinkNode&lt;T&gt; current = getRoot();\r\n        SingleLinkNode&lt;T&gt; removed;\r\n        if (index == 0){\r\n            removed = current;\r\n            setRoot(current.getNext()); // setting root to root.next\r\n        }else{\r\n            for (int i = 0; i &lt; index -1; i++){\r\n                current = current.getNext();\r\n            }\r\n            removed = current.getNext();\r\n            current.setNext(current.getNext().getNext()); \r\n        }\r\n        \r\n\r\n        return removed.getValue();\r\n    }\r\n\r\n```","title":"Removing and returning item at index Linked List","body":"<p>Firstly, you have to check if this it is 0-th index you have to remove, so you have to shift root. Then for removing node at i-th root, all you have to do this:</p>\n<pre><code>nodeBeforeI.setNext(nodeBeforeI.getNext().getNext()); \n</code></pre>\n<p>The complete code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public T remove(int index) throws ListAccessError {\n        if (index &gt;= size() || index &lt; 0) {\n            throw new ListAccessError(&quot;Index out of bounds&quot;);\n        }\n        if (isEmpty()) {\n            throw new ListAccessError(&quot;List is empty cannot remove from list&quot;);\n        }\n\n        SingleLinkNode&lt;T&gt; current = getRoot();\n        SingleLinkNode&lt;T&gt; removed;\n        if (index == 0){\n            removed = current;\n            setRoot(current.getNext()); // setting root to root.next\n        }else{\n            for (int i = 0; i &lt; index -1; i++){\n                current = current.getNext();\n            }\n            removed = current.getNext();\n            current.setNext(current.getNext().getNext()); \n        }\n        \n\n        return removed.getValue();\n    }\n\n</code></pre>\n"}],"owner":{"account_id":17745865,"reputation":9,"user_id":12885163,"display_name":"KyleB9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1701375452,"creation_date":1603999409,"question_id":64597908,"body_markdown":"    package linkedList.list;\r\n    \r\n    import linkedList.node.ListNode;\r\n    \r\n    public interface LinkedList&lt;N extends ListNode&lt;T&gt;,T&gt;\r\n    {\r\n       \r\n        public boolean isEmpty();\r\n    \r\n        \r\n        public int size();\r\n    \r\n       \r\n        public String toString();\r\n    \r\n        \r\n        public T[] toArray(Class&lt;? extends T&gt; cl);\r\n    \r\n        \r\n        public LinkedList&lt;N,T&gt; fromArray(T[] array) throws ListAccessError;\r\n    }\r\n    \r\n    package linkedList.list;\r\n    \r\n    import linkedList.node.ListNode;\r\n    \r\n    import java.lang.reflect.Array;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public abstract class BasicList&lt;N extends ListNode&lt;T&gt;,T&gt; implements LinkedList&lt;N,T&gt; {\r\n    \r\n        N root;\r\n    \r\n        int size;\r\n    \r\n        public boolean isEmpty() {\r\n            return size == 0;\r\n        }\r\n    \r\n        public int size() {\r\n            return size;\r\n        }\r\n    \r\n        public N getRoot() {\r\n            return root;\r\n        }\r\n    \r\n       \r\n        public void setRoot(N newRoot) {\r\n            root = newRoot;\r\n        }\r\n    \r\n       \r\n        public T[] toArray(Class&lt;? extends T&gt; cl) {\r\n            T[] array = (T[]) Array.newInstance(cl,size());\r\n            ListNode&lt;T&gt; node = getRoot();\r\n            for (int index = 0; index &lt; size(); index++) {\r\n                array[index] = node.getValue();\r\n                node = node.getNext();\r\n            }\r\n            return array;\r\n        }\r\n    \r\n       \r\n        public String toString() {\r\n            if (isEmpty()) {\r\n                return &quot;[]&quot;;\r\n            } else {\r\n                ListNode&lt;T&gt; currentNode = getRoot();\r\n                StringBuilder string = new StringBuilder(&quot;[&quot; + currentNode.getValue());\r\n                while ((currentNode = currentNode.getNext()) != null) {\r\n                    string.append(&quot;,&quot; + currentNode.getValue());\r\n                }\r\n                string.append(&quot;]&quot;);\r\n                return string.toString();\r\n            }\r\n        }\r\n    \r\n       \r\n        public String toString(int n) {\r\n            if (isEmpty()) {\r\n                return &quot;[]&quot;;\r\n            } else {\r\n                ListNode&lt;T&gt; currentNode = getRoot();\r\n                StringBuilder string = new StringBuilder(&quot;[&quot; + currentNode.getValue());\r\n                int added = 0;\r\n                while (added &lt; n &amp;&amp; (currentNode = currentNode.getNext()) != null) {\r\n                    string.append(&quot;,&quot; + currentNode.getValue());\r\n                    added++;\r\n                }\r\n                if (currentNode != null) {\r\n                    string.append(&quot;,...&quot;);\r\n                }\r\n                string.append(&quot;]&quot;);\r\n                return string.toString();\r\n            }\r\n        }\r\n    }\r\n    \r\n    package linkedList.list;\r\n    \r\n    import com.sun.xml.internal.bind.v2.runtime.unmarshaller.XsiNilLoader;\r\n    import jdk.nashorn.internal.ir.IfNode;\r\n    import linkedList.node.ListNode;\r\n    import linkedList.node.SingleLinkNode;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    \r\n    public class SingleLinkList&lt;T&gt; extends BasicList&lt;SingleLinkNode&lt;T&gt;,T&gt; implements List&lt;T&gt; {\r\n    \r\n        public SingleLinkList&lt;T&gt; fromArray(T[] array) throws ListAccessError {\r\n            for (int index = array.length-1; index &gt;= 0; index--) {\r\n                add(0,array[index]);\r\n            }\r\n            return this;\r\n        }\r\n    \r\n        ListNode&lt;T&gt; getNode(int index) throws ListAccessError {\r\n            // Is the list empty?  If so, cannot access the node.\r\n            if (isEmpty()) {\r\n                throw new ListAccessError(&quot;Cannot get node.  List is empty.&quot;);\r\n            }\r\n            // Is the given index negative?  If so, this is an error.\r\n            if (index &lt; 0) {\r\n                throw new ListAccessError(&quot;Cannot get node.  Negative index.&quot;);\r\n            }\r\n    \r\n            ListNode&lt;T&gt; currentNode = getRoot(); // start at the root\r\n            while (index != 0 &amp;&amp; currentNode != null) { // walk along the list (if haven&#39;t reached the end by hitting null node)\r\n                currentNode = currentNode.getNext(); // by getting next node in the list\r\n                index--; // and reducing index by one\r\n            }\r\n            // Reached the end of the list (by hitting null node)?  If so, cannot access the required node.\r\n            if (currentNode == null) {\r\n                throw new ListAccessError(&quot;Cannot get node.  Not enough nodes in the list.&quot;);\r\n            }\r\n            // Successfully found node by walking through until index was zero.\r\n            return currentNode;\r\n        }\r\n    \r\n        public T get(int index) throws ListAccessError {\r\n            return getNode(index).getValue();\r\n        }\r\n    \r\n        @Override\r\n        public void add(int index, T value) throws ListAccessError {\r\n            if (index &gt; size() || index &lt; 0) {\r\n                throw new ListAccessError(&quot;Index bigger than size.&quot;);\r\n            }\r\n    \r\n            SingleLinkNode&lt;T&gt; newNode = new SingleLinkNode&lt;T&gt;(value);\r\n            SingleLinkNode&lt;T&gt; current = getRoot();\r\n    \r\n            if(index==0) {\r\n                setRoot(newNode);\r\n                newNode.setNext(current);\r\n                size++;\r\n            } else {\r\n                while(--index &gt; 0) {\r\n                    current = current.getNext();\r\n                }\r\n                newNode.setNext(current.getNext());\r\n                current.setNext(newNode);\r\n                size++;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public T remove(int index) throws ListAccessError {\r\n            if (index &gt;= size() || index &lt; 0) {\r\n                throw new ListAccessError(&quot;Index out of bounds&quot;);\r\n            }\r\n            if (isEmpty()) {\r\n                throw new ListAccessError(&quot;List is empty cannot remove from list&quot;);\r\n            }\r\n    \r\n            SingleLinkNode&lt;T&gt; current = getRoot();\r\n            SingleLinkNode&lt;T&gt; nextItem = getRoot().getNext();\r\n            \r\n    \r\n            return null;\r\n        }\r\n    }\r\n    package linkedList.node;\r\n    \r\n    public class SingleLinkNode&lt;T&gt; implements ListNode&lt;T&gt;\r\n    {\r\n    \r\n      private T value;\r\n    \r\n      private SingleLinkNode&lt;T&gt; next;\r\n    \r\n      public SingleLinkNode(T value) {\r\n        this.value = value;\r\n        next = null;\r\n      }\r\n    \r\n      public SingleLinkNode(T value, SingleLinkNode&lt;T&gt; next) {\r\n        this.value = value;\r\n        this.next = next;\r\n      }\r\n    \r\n      public T getValue() {\r\n        return value;\r\n      }\r\n    \r\n      @Override\r\n      public void setValue(T value) {\r\n        this.value = value;\r\n      }\r\n    \r\n      public SingleLinkNode&lt;T&gt; getNext() {\r\n        return next;\r\n      }\r\n    \r\n      @Override\r\n      public void setNext(ListNode&lt;T&gt; node) {\r\n        next = (SingleLinkNode&lt;T&gt;) node;\r\n      }\r\n    \r\n      public String toString() {\r\n        return value + (getNext() != null ? &quot;=&gt;&quot; + getNext() : &quot;&quot;);\r\n      }\r\n    }\r\n\r\nI have just implemented the add method which takes the index and the value and inserts it into that position in the List. However when researching how to remove at the index I am unable to find anything that removes the node with just the given index. Any help is welcome and thanks in advance for any solutions!\r\n\r\n\r\n","title":"Removing and returning item at index Linked List","body":"<pre><code>package linkedList.list;\n\nimport linkedList.node.ListNode;\n\npublic interface LinkedList&lt;N extends ListNode&lt;T&gt;,T&gt;\n{\n   \n    public boolean isEmpty();\n\n    \n    public int size();\n\n   \n    public String toString();\n\n    \n    public T[] toArray(Class&lt;? extends T&gt; cl);\n\n    \n    public LinkedList&lt;N,T&gt; fromArray(T[] array) throws ListAccessError;\n}\n\npackage linkedList.list;\n\nimport linkedList.node.ListNode;\n\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic abstract class BasicList&lt;N extends ListNode&lt;T&gt;,T&gt; implements LinkedList&lt;N,T&gt; {\n\n    N root;\n\n    int size;\n\n    public boolean isEmpty() {\n        return size == 0;\n    }\n\n    public int size() {\n        return size;\n    }\n\n    public N getRoot() {\n        return root;\n    }\n\n   \n    public void setRoot(N newRoot) {\n        root = newRoot;\n    }\n\n   \n    public T[] toArray(Class&lt;? extends T&gt; cl) {\n        T[] array = (T[]) Array.newInstance(cl,size());\n        ListNode&lt;T&gt; node = getRoot();\n        for (int index = 0; index &lt; size(); index++) {\n            array[index] = node.getValue();\n            node = node.getNext();\n        }\n        return array;\n    }\n\n   \n    public String toString() {\n        if (isEmpty()) {\n            return &quot;[]&quot;;\n        } else {\n            ListNode&lt;T&gt; currentNode = getRoot();\n            StringBuilder string = new StringBuilder(&quot;[&quot; + currentNode.getValue());\n            while ((currentNode = currentNode.getNext()) != null) {\n                string.append(&quot;,&quot; + currentNode.getValue());\n            }\n            string.append(&quot;]&quot;);\n            return string.toString();\n        }\n    }\n\n   \n    public String toString(int n) {\n        if (isEmpty()) {\n            return &quot;[]&quot;;\n        } else {\n            ListNode&lt;T&gt; currentNode = getRoot();\n            StringBuilder string = new StringBuilder(&quot;[&quot; + currentNode.getValue());\n            int added = 0;\n            while (added &lt; n &amp;&amp; (currentNode = currentNode.getNext()) != null) {\n                string.append(&quot;,&quot; + currentNode.getValue());\n                added++;\n            }\n            if (currentNode != null) {\n                string.append(&quot;,...&quot;);\n            }\n            string.append(&quot;]&quot;);\n            return string.toString();\n        }\n    }\n}\n\npackage linkedList.list;\n\nimport com.sun.xml.internal.bind.v2.runtime.unmarshaller.XsiNilLoader;\nimport jdk.nashorn.internal.ir.IfNode;\nimport linkedList.node.ListNode;\nimport linkedList.node.SingleLinkNode;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\n\npublic class SingleLinkList&lt;T&gt; extends BasicList&lt;SingleLinkNode&lt;T&gt;,T&gt; implements List&lt;T&gt; {\n\n    public SingleLinkList&lt;T&gt; fromArray(T[] array) throws ListAccessError {\n        for (int index = array.length-1; index &gt;= 0; index--) {\n            add(0,array[index]);\n        }\n        return this;\n    }\n\n    ListNode&lt;T&gt; getNode(int index) throws ListAccessError {\n        // Is the list empty?  If so, cannot access the node.\n        if (isEmpty()) {\n            throw new ListAccessError(&quot;Cannot get node.  List is empty.&quot;);\n        }\n        // Is the given index negative?  If so, this is an error.\n        if (index &lt; 0) {\n            throw new ListAccessError(&quot;Cannot get node.  Negative index.&quot;);\n        }\n\n        ListNode&lt;T&gt; currentNode = getRoot(); // start at the root\n        while (index != 0 &amp;&amp; currentNode != null) { // walk along the list (if haven't reached the end by hitting null node)\n            currentNode = currentNode.getNext(); // by getting next node in the list\n            index--; // and reducing index by one\n        }\n        // Reached the end of the list (by hitting null node)?  If so, cannot access the required node.\n        if (currentNode == null) {\n            throw new ListAccessError(&quot;Cannot get node.  Not enough nodes in the list.&quot;);\n        }\n        // Successfully found node by walking through until index was zero.\n        return currentNode;\n    }\n\n    public T get(int index) throws ListAccessError {\n        return getNode(index).getValue();\n    }\n\n    @Override\n    public void add(int index, T value) throws ListAccessError {\n        if (index &gt; size() || index &lt; 0) {\n            throw new ListAccessError(&quot;Index bigger than size.&quot;);\n        }\n\n        SingleLinkNode&lt;T&gt; newNode = new SingleLinkNode&lt;T&gt;(value);\n        SingleLinkNode&lt;T&gt; current = getRoot();\n\n        if(index==0) {\n            setRoot(newNode);\n            newNode.setNext(current);\n            size++;\n        } else {\n            while(--index &gt; 0) {\n                current = current.getNext();\n            }\n            newNode.setNext(current.getNext());\n            current.setNext(newNode);\n            size++;\n        }\n    }\n\n    @Override\n    public T remove(int index) throws ListAccessError {\n        if (index &gt;= size() || index &lt; 0) {\n            throw new ListAccessError(&quot;Index out of bounds&quot;);\n        }\n        if (isEmpty()) {\n            throw new ListAccessError(&quot;List is empty cannot remove from list&quot;);\n        }\n\n        SingleLinkNode&lt;T&gt; current = getRoot();\n        SingleLinkNode&lt;T&gt; nextItem = getRoot().getNext();\n        \n\n        return null;\n    }\n}\npackage linkedList.node;\n\npublic class SingleLinkNode&lt;T&gt; implements ListNode&lt;T&gt;\n{\n\n  private T value;\n\n  private SingleLinkNode&lt;T&gt; next;\n\n  public SingleLinkNode(T value) {\n    this.value = value;\n    next = null;\n  }\n\n  public SingleLinkNode(T value, SingleLinkNode&lt;T&gt; next) {\n    this.value = value;\n    this.next = next;\n  }\n\n  public T getValue() {\n    return value;\n  }\n\n  @Override\n  public void setValue(T value) {\n    this.value = value;\n  }\n\n  public SingleLinkNode&lt;T&gt; getNext() {\n    return next;\n  }\n\n  @Override\n  public void setNext(ListNode&lt;T&gt; node) {\n    next = (SingleLinkNode&lt;T&gt;) node;\n  }\n\n  public String toString() {\n    return value + (getNext() != null ? &quot;=&gt;&quot; + getNext() : &quot;&quot;);\n  }\n}\n</code></pre>\n<p>I have just implemented the add method which takes the index and the value and inserts it into that position in the List. However when researching how to remove at the index I am unable to find anything that removes the node with just the given index. Any help is welcome and thanks in advance for any solutions!</p>\n"},{"tags":["java","maven","pom.xml","maven-jaxb2-plugin"],"comments":[{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":2,"creation_date":1676294343,"post_id":75436274,"comment_id":133102286,"body_markdown":"I think you should reconsider the output directory. The `src/main/java` is intended for files you want to commit/push to your source control management system (e.g. git). All generated sources end up by default under `target/generated-sources/`, they are not committed and will be generated with every build. That will bring you closer to the intended solution.","body":"I think you should reconsider the output directory. The <code>src&#47;main&#47;java</code> is intended for files you want to commit/push to your source control management system (e.g. git). All generated sources end up by default under <code>target&#47;generated-sources&#47;</code>, they are not committed and will be generated with every build. That will bring you closer to the intended solution."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1676301077,"post_id":75436274,"comment_id":133104532,"body_markdown":"Remove the configuration for `&lt;outputDirectory&gt;${basedir}/src..` let the plugin decide what&#39;s correct. apart from that never change the contents of files/directories which are under version control via build process...as @RobertScholte mentioned..","body":"Remove the configuration for <code>&lt;outputDirectory&gt;${basedir}&#47;src..</code> let the plugin decide what&#39;s correct. apart from that never change the contents of files/directories which are under version control via build process...as @RobertScholte mentioned.."},{"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"score":0,"creation_date":1676304571,"post_id":75436274,"comment_id":133105791,"body_markdown":"Not sure if I understand everything. If I remove &lt;outputDirectory&gt; then jaxb beans are only generated under target, so I can&#39;t use them in my Java services...","body":"Not sure if I understand everything. If I remove &lt;outputDirectory&gt; then jaxb beans are only generated under target, so I can&#39;t use them in my Java services..."},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1676364344,"post_id":75436274,"comment_id":133117182,"body_markdown":"Yes you can, the maven-compiler-plugin is aware of it: it can handle multiple source directories, all compiled classes end up in `target/classes`","body":"Yes you can, the maven-compiler-plugin is aware of it: it can handle multiple source directories, all compiled classes end up in <code>target&#47;classes</code>"}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701375369,"creation_date":1701375369,"answer_id":77581441,"question_id":75436274,"body_markdown":"This applies to jaxb2-maven-plugin but also to any plugin that generates java sources : you should genetate the output in the build directory.\r\n\r\nIf not and generating in `src` folder like here, you&#39;ll then have to commit / push generated files and have a non stable build.\r\n\r\nThe [documentation](https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.4/xjc-mojo.html#outputDirectory) of the plugin says about `outputDirectory` :\r\n\r\n&gt; Corresponding XJC parameter: d.\r\n&gt; \r\n&gt; The working directory where the generated Java source files are created.\r\n&gt; \r\n&gt;    Type: java.io.File\r\n&gt;    Required: Yes\r\n&gt;    Default: ${project.build.directory}/generated-sources/jaxb\r\n\r\nThe maven compiler and the IDE is then capable to get this directory (or any subdirectory in generated-sources by convention) and you&#39;ll be able to use generated source code in your own code","title":"Generate both beans and META-INF in the same folder jaxb2-maven-plugin 2.3","body":"<p>This applies to jaxb2-maven-plugin but also to any plugin that generates java sources : you should genetate the output in the build directory.</p>\n<p>If not and generating in <code>src</code> folder like here, you'll then have to commit / push generated files and have a non stable build.</p>\n<p>The <a href=\"https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.4/xjc-mojo.html#outputDirectory\" rel=\"nofollow noreferrer\">documentation</a> of the plugin says about <code>outputDirectory</code> :</p>\n<blockquote>\n<p>Corresponding XJC parameter: d.</p>\n<p>The working directory where the generated Java source files are created.</p>\n<p>Type: java.io.File\nRequired: Yes\nDefault: ${project.build.directory}/generated-sources/jaxb</p>\n</blockquote>\n<p>The maven compiler and the IDE is then capable to get this directory (or any subdirectory in generated-sources by convention) and you'll be able to use generated source code in your own code</p>\n"}],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701375369,"creation_date":1676293519,"question_id":75436274,"body_markdown":"I&#39;m using `jaxb2-maven-plugin` version 2.3 to generate jaxb java beans.  \r\n\r\n - It works well and generate the beans as expected under `src/main/java/x/y/z`.  \r\n - A `META-INF/sun-jaxb.episode` file is created under `src/main/java`.   \r\n\r\nThe point is that I want to be able to generate both the beans and the `META-INF/` folder inside the same directory, such as **src/main/java/x/y/z**. Otherwise at least not generating the `META-INF/` folder under `src/main/java`.  \r\nIs that possible ? If I don&#39;t set a `&lt;packageName&gt;` then a default package (defined in .xsd file) is applied to the generated beans.  \r\nHere is my current configuration in `pom.xml` file :\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n             &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n             &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;2.3&lt;/version&gt;\r\n             &lt;executions&gt;\r\n                 &lt;execution&gt;\r\n                 &lt;id&gt;schema-x&lt;/id&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;xjc&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n                 &lt;configuration&gt;\r\n                     &lt;xjbSources&gt;\r\n                         &lt;xjbSource&gt;src/main/resources/path/to/file.xjb&lt;/xjbSource&gt;\r\n                     &lt;/xjbSources&gt;\r\n                     &lt;sources&gt;\r\n                         &lt;source&gt;src/main/resources/path/to/file.xsd&lt;/source&gt;\r\n                     &lt;/sources&gt;\r\n                     &lt;packageName&gt;x.y.z&lt;/packageName&gt;\r\n                     &lt;outputDirectory&gt;${basedir}/src/main/java&lt;/outputDirectory&gt;\r\n                     &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```         ","title":"Generate both beans and META-INF in the same folder jaxb2-maven-plugin 2.3","body":"<p>I'm using <code>jaxb2-maven-plugin</code> version 2.3 to generate jaxb java beans.</p>\n<ul>\n<li>It works well and generate the beans as expected under <code>src/main/java/x/y/z</code>.</li>\n<li>A <code>META-INF/sun-jaxb.episode</code> file is created under <code>src/main/java</code>.</li>\n</ul>\n<p>The point is that I want to be able to generate both the beans and the <code>META-INF/</code> folder inside the same directory, such as <strong>src/main/java/x/y/z</strong>. Otherwise at least not generating the <code>META-INF/</code> folder under <code>src/main/java</code>.<br />\nIs that possible ? If I don't set a <code>&lt;packageName&gt;</code> then a default package (defined in .xsd file) is applied to the generated beans.<br />\nHere is my current configuration in <code>pom.xml</code> file :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n             &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n             &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n             &lt;version&gt;2.3&lt;/version&gt;\n             &lt;executions&gt;\n                 &lt;execution&gt;\n                 &lt;id&gt;schema-x&lt;/id&gt;\n                 &lt;goals&gt;\n                     &lt;goal&gt;xjc&lt;/goal&gt;\n                 &lt;/goals&gt;\n                 &lt;configuration&gt;\n                     &lt;xjbSources&gt;\n                         &lt;xjbSource&gt;src/main/resources/path/to/file.xjb&lt;/xjbSource&gt;\n                     &lt;/xjbSources&gt;\n                     &lt;sources&gt;\n                         &lt;source&gt;src/main/resources/path/to/file.xsd&lt;/source&gt;\n                     &lt;/sources&gt;\n                     &lt;packageName&gt;x.y.z&lt;/packageName&gt;\n                     &lt;outputDirectory&gt;${basedir}/src/main/java&lt;/outputDirectory&gt;\n                     &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","padding"],"answers":[{"tags":[],"owner":{"account_id":4399745,"reputation":73353,"user_id":3585796,"display_name":"Phil Dukhov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649672311,"creation_date":1649672311,"answer_id":71826124,"question_id":71825403,"body_markdown":"You can use [Modifier.layout][1].\r\n\r\nI override the width constraint by adding padding for `measure`, and applying the padding offset during `place`.\r\n```kotlin\r\nText(\r\n    text = &quot;Teaser&quot;,\r\n    modifier = Modifier\r\n        .layout { measurable, constraints -&gt;\r\n            val noPaddingConstraints = constraints.copy(\r\n                maxWidth = constraints.maxWidth + (padding * 2).roundToPx()\r\n            ) \r\n            val placeable = measurable.measure(noPaddingConstraints)\r\n            layout(placeable.width, placeable.height) {\r\n                placeable.place(x = -padding.roundToPx(), y = 0)\r\n            }\r\n        }\r\n)\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/androidx/compose/ui/layout/package-summary#(androidx.compose.ui.Modifier).layout(kotlin.Function3)","title":"How can we define a column with padding and just one item doesn&#39;t inherit the padding of the column in Jetpack Compose?","body":"<p>You can use <a href=\"https://developer.android.com/reference/kotlin/androidx/compose/ui/layout/package-summary#(androidx.compose.ui.Modifier).layout(kotlin.Function3)\" rel=\"nofollow noreferrer\">Modifier.layout</a>.</p>\n<p>I override the width constraint by adding padding for <code>measure</code>, and applying the padding offset during <code>place</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Text(\n    text = &quot;Teaser&quot;,\n    modifier = Modifier\n        .layout { measurable, constraints -&gt;\n            val noPaddingConstraints = constraints.copy(\n                maxWidth = constraints.maxWidth + (padding * 2).roundToPx()\n            ) \n            val placeable = measurable.measure(noPaddingConstraints)\n            layout(placeable.width, placeable.height) {\n                placeable.place(x = -padding.roundToPx(), y = 0)\n            }\n        }\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2560587,"reputation":300,"user_id":2221643,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701374903,"creation_date":1701374903,"answer_id":77581408,"question_id":71825403,"body_markdown":"Building on @PhilDukhov &#39;s solution, I&#39;ve made one minor change that might make this a little more general purpose. I was having problems with longer strings (see my example code below), or any other View that had a measured width greater than constraint.maxWidth. In that scenario, this line:\r\n`placeable.place(x = -padding.roundToPx(), y = 0)`\r\nwould place the string partially off screen.\r\n\r\nHere is my updated solution:\r\n```\r\nprivate fun Modifier.overrideParentHorizontalPadding(parentHorizontalPadding: Dp) =\r\n    layout { measurable, constraints -&gt;\r\n        val padding = (parentHorizontalPadding).roundToPx()\r\n        val noPaddingConstraints = constraints.copy(\r\n            // Make the new maxWidth = maxWidth + twice the horizontal padding of the parent\r\n            maxWidth = constraints.maxWidth + (padding * 2)\r\n        )\r\n        val placeable = measurable.measure(noPaddingConstraints)\r\n        layout(placeable.width, placeable.height) {\r\n            if (placeable.width &gt; constraints.maxWidth) {\r\n                placeable.place(x = 0, y = 0)\r\n            } else {\r\n                placeable.place(x = -padding, y = 0)\r\n            }\r\n        }\r\n    }\r\n\r\n@Preview(name = &quot;Test Padding Override&quot;)\r\n@Composable\r\nprivate fun PaddingOverridePreview() {\r\n    val padding = 20.dp\r\n\r\n    Column(\r\n        modifier = Modifier\r\n            .background(Color.White)\r\n            .padding(horizontal = 5.dp)\r\n            .border(1.dp, Color.Gray)\r\n            .padding(horizontal = padding)\r\n            .border(1.dp, Color.Gray)\r\n            .fillMaxWidth()\r\n    ) {\r\n        Text(&quot;Normal&quot;)\r\n        Text(\r\n            text = &quot;Override this&quot;,\r\n            modifier = Modifier\r\n                .overrideParentHorizontalPadding(padding)\r\n        )\r\n        Text(\r\n            maxLines = 1,\r\n            text = &quot;And this 0123456789 0123456789 0123456789 012&quot;,\r\n            modifier = Modifier\r\n                .overrideParentHorizontalPadding(padding)\r\n        )\r\n        Text(&quot;Normal&quot;)\r\n    }\r\n}\r\n```","title":"How can we define a column with padding and just one item doesn&#39;t inherit the padding of the column in Jetpack Compose?","body":"<p>Building on @PhilDukhov 's solution, I've made one minor change that might make this a little more general purpose. I was having problems with longer strings (see my example code below), or any other View that had a measured width greater than constraint.maxWidth. In that scenario, this line:\n<code>placeable.place(x = -padding.roundToPx(), y = 0)</code>\nwould place the string partially off screen.</p>\n<p>Here is my updated solution:</p>\n<pre><code>private fun Modifier.overrideParentHorizontalPadding(parentHorizontalPadding: Dp) =\n    layout { measurable, constraints -&gt;\n        val padding = (parentHorizontalPadding).roundToPx()\n        val noPaddingConstraints = constraints.copy(\n            // Make the new maxWidth = maxWidth + twice the horizontal padding of the parent\n            maxWidth = constraints.maxWidth + (padding * 2)\n        )\n        val placeable = measurable.measure(noPaddingConstraints)\n        layout(placeable.width, placeable.height) {\n            if (placeable.width &gt; constraints.maxWidth) {\n                placeable.place(x = 0, y = 0)\n            } else {\n                placeable.place(x = -padding, y = 0)\n            }\n        }\n    }\n\n@Preview(name = &quot;Test Padding Override&quot;)\n@Composable\nprivate fun PaddingOverridePreview() {\n    val padding = 20.dp\n\n    Column(\n        modifier = Modifier\n            .background(Color.White)\n            .padding(horizontal = 5.dp)\n            .border(1.dp, Color.Gray)\n            .padding(horizontal = padding)\n            .border(1.dp, Color.Gray)\n            .fillMaxWidth()\n    ) {\n        Text(&quot;Normal&quot;)\n        Text(\n            text = &quot;Override this&quot;,\n            modifier = Modifier\n                .overrideParentHorizontalPadding(padding)\n        )\n        Text(\n            maxLines = 1,\n            text = &quot;And this 0123456789 0123456789 0123456789 012&quot;,\n            modifier = Modifier\n                .overrideParentHorizontalPadding(padding)\n        )\n        Text(&quot;Normal&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9303135,"reputation":687,"user_id":6907865,"display_name":"Sepideh Vatankhah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71826124,"answer_count":2,"score":4,"last_activity_date":1701374903,"creation_date":1649668838,"question_id":71825403,"body_markdown":"I have a column with many items, and I want to set the padding for the column because all items have the same padding except one of them which doesn&#39;t have padding, how can I consider an exception for that specific item? Or is it possible to add an attribute that says don&#39;t get your parent padding? I know I can remove padding for column and add one by one, but I want to ask anybody knows that, is there any other way?\r\n\r\n\r\n```  \r\nColumn(\r\n        modifier = Modifier\r\n            .fillMaxSize()\r\n            .verticalScroll(rememberScrollState()),\r\n            .padding(16.dp),\r\n        verticalArrangement = Arrangement.spacedBy(16.dp)\r\n    ) {\r\n Text(text = &quot;Teaser1&quot;)\r\n\r\nText(text = &quot;Teaser2&quot;)\r\n\r\nText(text = &quot;Teaser3&quot;)\r\n\r\nText(text = &quot;Teaser&quot;)\r\n\r\nText(text = &quot;Teaser4&quot;)\r\n\r\nText(text = &quot;Teaser5&quot;)\r\n\r\n...\r\n\r\n}\r\n```\r\n\r\nThank you in advance for your help.","title":"How can we define a column with padding and just one item doesn&#39;t inherit the padding of the column in Jetpack Compose?","body":"<p>I have a column with many items, and I want to set the padding for the column because all items have the same padding except one of them which doesn't have padding, how can I consider an exception for that specific item? Or is it possible to add an attribute that says don't get your parent padding? I know I can remove padding for column and add one by one, but I want to ask anybody knows that, is there any other way?</p>\n<pre><code>Column(\n        modifier = Modifier\n            .fillMaxSize()\n            .verticalScroll(rememberScrollState()),\n            .padding(16.dp),\n        verticalArrangement = Arrangement.spacedBy(16.dp)\n    ) {\n Text(text = &quot;Teaser1&quot;)\n\nText(text = &quot;Teaser2&quot;)\n\nText(text = &quot;Teaser3&quot;)\n\nText(text = &quot;Teaser&quot;)\n\nText(text = &quot;Teaser4&quot;)\n\nText(text = &quot;Teaser5&quot;)\n\n...\n\n}\n</code></pre>\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701372741,"post_id":77581118,"comment_id":136770811,"body_markdown":"What do you mean by “segments”? The constructors let you specify an initial capacity and a load factor, as well as a hint of expected number of threads.","body":"What do you mean by “segments”? The constructors let you specify an initial capacity and a load factor, as well as a hint of expected number of threads."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1701372879,"post_id":77581118,"comment_id":136770833,"body_markdown":"did you try to read the documentation?","body":"did you try to read the documentation?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701374811,"creation_date":1701374811,"answer_id":77581399,"question_id":77581118,"body_markdown":"That `ConcurrentHashMap` uses segments is merely an implementation details for Java versions from 1.5 (when `ConcurrentHashMap` was introduced) to 1.7 (which is the last version that used segments).\r\n\r\nIn Java versions 1.8 and later `ConcurrentHashMap` no longer uses a segments in its implementation.\r\n\r\nFor reference, the Java 1.7 version of `ConcurrentHashMap` is available \r\n at https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java with the inner class `Segment` at https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L350\r\n\r\nThe Java 1.8 version of `ConcurrentHashMap` is available at https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java and contains an implementation note about the segments (https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L481):\r\n\r\n&gt; Maintaining API and serialization compatibility with previous versions of this class introduces several oddities. Mainly: We leave untouched but unused constructor arguments refering to concurrencyLevel. We accept a loadFactor constructor argument, but apply it only to initial table capacity (which is the only time that we can guarantee to honor it.) We also declare an unused &quot;Segment&quot; class that is instantiated in minimal form only when serializing.","title":"Concurrent HashMap default segment value?","body":"<p>That <code>ConcurrentHashMap</code> uses segments is merely an implementation details for Java versions from 1.5 (when <code>ConcurrentHashMap</code> was introduced) to 1.7 (which is the last version that used segments).</p>\n<p>In Java versions 1.8 and later <code>ConcurrentHashMap</code> no longer uses a segments in its implementation.</p>\n<p>For reference, the Java 1.7 version of <code>ConcurrentHashMap</code> is available\nat <a href=\"https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java</a> with the inner class <code>Segment</code> at <a href=\"https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L350\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L350</a></p>\n<p>The Java 1.8 version of <code>ConcurrentHashMap</code> is available at <a href=\"https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java</a> and contains an implementation note about the segments (<a href=\"https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L481\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L481</a>):</p>\n<blockquote>\n<p>Maintaining API and serialization compatibility with previous versions of this class introduces several oddities. Mainly: We leave untouched but unused constructor arguments refering to concurrencyLevel. We accept a loadFactor constructor argument, but apply it only to initial table capacity (which is the only time that we can guarantee to honor it.) We also declare an unused &quot;Segment&quot; class that is instantiated in minimal form only when serializing.</p>\n</blockquote>\n"}],"owner":{"account_id":25974568,"reputation":56,"user_id":19689190,"display_name":"Amar kumar Nayak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1701374811,"creation_date":1701371606,"question_id":77581118,"body_markdown":"What is the default number of segments in a [`ConcurrentHashMap`][1] in Java?\r\n\r\nHow does it affect the concurrent performance of the data structure? \r\n\r\nCan I customize the number of segments, and if so, how do I choose the right value for my specific application?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html","title":"Concurrent HashMap default segment value?","body":"<p>What is the default number of segments in a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentHashMap</code></a> in Java?</p>\n<p>How does it affect the concurrent performance of the data structure?</p>\n<p>Can I customize the number of segments, and if so, how do I choose the right value for my specific application?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9836,"page":23,"page_size":100}
